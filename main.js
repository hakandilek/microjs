!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=10)}([function(t,e,n){"use strict";function r(t){return t&&0===t.length}function i(t){return null==t?[]:Object.keys(t)}function o(t){for(var e=[],n=Object.keys(t),r=0;r<n.length;r++)e.push(t[n[r]]);return e}function a(t,e){for(var n=[],r=i(t),o=0;o<r.length;o++){var a=r[o];n.push(e.call(null,t[a],a))}return n}function u(t,e){for(var n=[],r=0;r<t.length;r++)n.push(e.call(null,t[r],r));return n}function c(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];Array.isArray(r)?e=e.concat(c(r)):e.push(r)}return e}function s(t){return r(t)?void 0:t[0]}function f(t){var e=t&&t.length;return e?t[e-1]:void 0}function l(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e.call(null,t[n],n);else{if(!j(t))throw Error("non exhaustive match");var r=i(t);for(n=0;n<r.length;n++){var o=r[n],a=t[o];e.call(null,a,o)}}}function h(t){return"string"==typeof t}function p(t){return void 0===t}function d(t){return t instanceof Function}function v(t,e){return void 0===e&&(e=1),t.slice(e,t.length)}function y(t,e){return void 0===e&&(e=1),t.slice(0,t.length-e)}function m(t,e){var n=[];if(Array.isArray(t))for(var r=0;r<t.length;r++){var i=t[r];e.call(null,i)&&n.push(i)}return n}function g(t,e){return m(t,(function(t){return!e(t)}))}function O(t,e){for(var n=Object.keys(t),r={},i=0;i<n.length;i++){var o=n[i],a=t[o];e(a)&&(r[o]=a)}return r}function _(t,e){return!!j(t)&&t.hasOwnProperty(e)}function E(t,e){return void 0!==A(t,(function(t){return t===e}))}function T(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n]);return e}function b(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function A(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(e.call(null,r))return r}}function I(t,e){for(var n=[],r=0;r<t.length;r++){var i=t[r];e.call(null,i)&&n.push(i)}return n}function R(t,e,n){for(var r=Array.isArray(t),a=r?t:o(t),u=r?[]:i(t),c=n,s=0;s<a.length;s++)c=e.call(null,c,a[s],r?s:u[s]);return c}function N(t){return g(t,(function(t){return null==t}))}function S(t,e){void 0===e&&(e=function(t){return t});var n=[];return R(t,(function(t,r){var i=e(r);return E(n,i)?t:(n.push(i),t.concat(r))}),[])}function L(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=[null],i=r.concat(e);return Function.bind.apply(t,i)}function k(t){return Array.isArray(t)}function x(t){return t instanceof RegExp}function j(t){return t instanceof Object}function C(t,e){for(var n=0;n<t.length;n++)if(!e(t[n],n))return!1;return!0}function w(t,e){return g(t,(function(t){return E(e,t)}))}function P(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return!0;return!1}function M(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}function U(t,e){var n=T(t);return n.sort((function(t,n){return e(t)-e(n)})),n}function F(t,e){if(t.length!==e.length)throw Error("can't zipObject with different number of keys and values!");for(var n={},r=0;r<t.length;r++)n[t[r]]=e[r];return n}function D(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r++)for(var o=e[r],a=i(o),u=0;u<a.length;u++){var c=a[u];t[c]=o[c]}return t}function B(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r++)for(var o=e[r],a=i(o),u=0;u<a.length;u++){var c=a[u];_(t,c)||(t[c]=o[c])}return t}function W(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return B.apply(null,[{}].concat(t))}function G(t,e){var n={};return l(t,(function(t){var r=e(t),i=n[r];i?i.push(t):n[r]=[t]})),n}function K(t,e){for(var n=b(t),r=i(e),o=0;o<r.length;o++){var a=r[o],u=e[a];n[a]=u}return n}function z(){}function V(t){return t}function H(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];e.push(void 0!==r?r:void 0)}return e}function Y(t){console&&console.error&&console.error("Error: "+t)}function $(t){console&&console.warn&&console.warn("Warning: "+t)}function q(){return"function"==typeof Map}function X(t,e){e.forEach((function(e){var n=e.prototype;Object.getOwnPropertyNames(n).forEach((function(r){if("constructor"!==r){var i=Object.getOwnPropertyDescriptor(n,r);i&&(i.get||i.set)?Object.defineProperty(t.prototype,r,i):t.prototype[r]=e.prototype[r]}}))}))}function Z(t){function e(){}e.prototype=t;var n=new e;function r(){return typeof n.bar}return r(),r(),t}function J(t){return t[t.length-1]}function Q(t){var e=(new Date).getTime(),n=t();return{time:(new Date).getTime()-e,value:n}}n.d(e,"A",(function(){return r})),n.d(e,"G",(function(){return i})),n.d(e,"U",(function(){return o})),n.d(e,"J",(function(){return a})),n.d(e,"I",(function(){return u})),n.d(e,"t",(function(){return c})),n.d(e,"s",(function(){return s})),n.d(e,"H",(function(){return f})),n.d(e,"u",(function(){return l})),n.d(e,"E",(function(){return h})),n.d(e,"F",(function(){return p})),n.d(e,"B",(function(){return d})),n.d(e,"m",(function(){return v})),n.d(e,"n",(function(){return y})),n.d(e,"p",(function(){return m})),n.d(e,"P",(function(){return g})),n.d(e,"N",(function(){return O})),n.d(e,"w",(function(){return _})),n.d(e,"j",(function(){return E})),n.d(e,"g",(function(){return T})),n.d(e,"h",(function(){return b})),n.d(e,"q",(function(){return A})),n.d(e,"r",(function(){return I})),n.d(e,"O",(function(){return R})),n.d(e,"i",(function(){return N})),n.d(e,"T",(function(){return S})),n.d(e,"y",(function(){return k})),n.d(e,"D",(function(){return x})),n.d(e,"C",(function(){return j})),n.d(e,"o",(function(){return C})),n.d(e,"l",(function(){return w})),n.d(e,"Q",(function(){return P})),n.d(e,"x",(function(){return M})),n.d(e,"f",(function(){return D})),n.d(e,"k",(function(){return W})),n.d(e,"v",(function(){return G})),n.d(e,"K",(function(){return K})),n.d(e,"b",(function(){return z})),n.d(e,"a",(function(){return V})),n.d(e,"L",(function(){return H})),n.d(e,"c",(function(){return Y})),n.d(e,"d",(function(){return $})),n.d(e,"z",(function(){return q})),n.d(e,"e",(function(){return X})),n.d(e,"S",(function(){return Z})),n.d(e,"M",(function(){return J})),n.d(e,"R",(function(){return Q}))},function(t,e,n){"use strict";n.r(e),n.d(e,"VERSION",(function(){return r})),n.d(e,"CstParser",(function(){return rn})),n.d(e,"EmbeddedActionsParser",(function(){return on})),n.d(e,"ParserDefinitionErrorType",(function(){return Je})),n.d(e,"EMPTY_ALT",(function(){return en})),n.d(e,"Lexer",(function(){return $})),n.d(e,"LexerDefinitionErrorType",(function(){return V})),n.d(e,"createToken",(function(){return J})),n.d(e,"createTokenInstance",(function(){return tt})),n.d(e,"EOF",(function(){return Q})),n.d(e,"tokenLabel",(function(){return q})),n.d(e,"tokenMatcher",(function(){return et})),n.d(e,"tokenName",(function(){return X})),n.d(e,"defaultGrammarResolverErrorProvider",(function(){return Lt})),n.d(e,"defaultGrammarValidatorErrorProvider",(function(){return kt})),n.d(e,"defaultParserErrorProvider",(function(){return St})),n.d(e,"EarlyExitException",(function(){return me})),n.d(e,"isRecognitionException",(function(){return pe})),n.d(e,"MismatchedTokenException",(function(){return de})),n.d(e,"NotAllInputParsedException",(function(){return ye})),n.d(e,"NoViableAltException",(function(){return ve})),n.d(e,"defaultLexerErrorProvider",(function(){return H})),n.d(e,"Alternation",(function(){return ht})),n.d(e,"Alternative",(function(){return at})),n.d(e,"NonTerminal",(function(){return it})),n.d(e,"Option",(function(){return ut})),n.d(e,"Repetition",(function(){return ft})),n.d(e,"RepetitionMandatory",(function(){return ct})),n.d(e,"RepetitionMandatoryWithSeparator",(function(){return st})),n.d(e,"RepetitionWithSeparator",(function(){return lt})),n.d(e,"Rule",(function(){return ot})),n.d(e,"Terminal",(function(){return pt})),n.d(e,"serializeGrammar",(function(){return dt})),n.d(e,"serializeProduction",(function(){return vt})),n.d(e,"GAstVisitor",(function(){return gt})),n.d(e,"assignOccurrenceIndices",(function(){return le})),n.d(e,"resolveGrammar",(function(){return se})),n.d(e,"validateGrammar",(function(){return fe})),n.d(e,"clearCache",(function(){return mn})),n.d(e,"createSyntaxDiagramsCode",(function(){return an})),n.d(e,"generateParserFactory",(function(){return vn})),n.d(e,"generateParserModule",(function(){return yn})),n.d(e,"Parser",(function(){return gn}));var r="7.0.1",i=n(0),o=n(3),a={},u=new o.RegExpParser;function c(t){var e=t.toString();if(a.hasOwnProperty(e))return a[e];var n=u.pattern(e);return a[e]=n,n}var s,f=(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l='Unable to use "first char" lexer optimizations:\n';function h(t,e){void 0===e&&(e=!1);try{var n=c(t);return function t(e,n,r){switch(e.type){case"Disjunction":for(var o=0;o<e.value.length;o++)t(e.value[o],n,r);break;case"Alternative":var a=e.value;for(o=0;o<a.length;o++){var u=a[o];switch(u.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}var c=u;switch(c.type){case"Character":p(c.value,n,r);break;case"Set":if(!0===c.complement)throw Error("Complement Sets are not supported for first char optimization");Object(i.u)(c.value,(function(t){if("number"==typeof t)p(t,n,r);else{var e=t;if(!0===r)for(var i=e.from;i<=e.to;i++)p(i,n,r);else{for(i=e.from;i<=e.to&&i<w;i++)p(i,n,r);if(e.to>=w)for(var o=e.from>=w?e.from:w,a=e.to,u=P(o),c=P(a),s=u;s<=c;s++)n[s]=s}}}));break;case"Group":t(c.value,n,r);break;default:throw Error("Non Exhaustive Match")}var s=void 0!==c.quantifier&&0===c.quantifier.atLeast;if("Group"===c.type&&!1===v(c)||"Group"!==c.type&&!1===s)break}break;default:throw Error("non exhaustive match!")}return Object(i.U)(n)}(n.value,{},n.flags.ignoreCase)}catch(n){if("Complement Sets are not supported for first char optimization"===n.message)e&&Object(i.d)(l+"\tUnable to optimize: < "+t.toString()+" >\n\tComplement Sets cannot be automatically optimized.\n\tThis will disable the lexer's first char optimizations.\n\tSee: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.");else{var r="";e&&(r="\n\tThis will disable the lexer's first char optimizations.\n\tSee: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details."),Object(i.c)(l+"\n\tFailed parsing: < "+t.toString()+" >\n\tUsing the regexp-to-ast library version: "+o.VERSION+"\n\tPlease open an issue at: https://github.com/bd82/regexp-to-ast/issues"+r)}}return[]}function p(t,e,n){var r=P(t);e[r]=r,!0===n&&function(t,e){var n=String.fromCharCode(t),r=n.toUpperCase();if(r!==n){var i=P(r.charCodeAt(0));e[i]=i}else{var o=n.toLowerCase();if(o!==n){i=P(o.charCodeAt(0));e[i]=i}}}(t,e)}function d(t,e){return Object(i.q)(t.value,(function(t){if("number"==typeof t)return Object(i.j)(e,t);var n=t;return void 0!==Object(i.q)(e,(function(t){return n.from<=t&&t<=n.to}))}))}function v(t){return!(!t.quantifier||0!==t.quantifier.atLeast)||!!t.value&&(Object(i.y)(t.value)?Object(i.o)(t.value,v):v(t.value))}var y=function(t){function e(e){var n=t.call(this)||this;return n.targetCharCodes=e,n.found=!1,n}return f(e,t),e.prototype.visitChildren=function(e){if(!0!==this.found){switch(e.type){case"Lookahead":return void this.visitLookahead(e);case"NegativeLookahead":return void this.visitNegativeLookahead(e)}t.prototype.visitChildren.call(this,e)}},e.prototype.visitCharacter=function(t){Object(i.j)(this.targetCharCodes,t.value)&&(this.found=!0)},e.prototype.visitSet=function(t){t.complement?void 0===d(t,this.targetCharCodes)&&(this.found=!0):void 0!==d(t,this.targetCharCodes)&&(this.found=!0)},e}(o.BaseRegExpVisitor);function m(t,e){if(e instanceof RegExp){var n=c(e),r=new y(t);return r.visit(n),r.found}return void 0!==Object(i.q)(e,(function(e){return Object(i.j)(t,e.charCodeAt(0))}))}var g=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),O="PATTERN",_="boolean"==typeof new RegExp("(?:)").sticky;function E(t,e){var n,r=(e=Object(i.k)(e,{useSticky:_,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r","\n"],tracer:function(t,e){return e()}})).tracer;r("initCharCodeToOptimizedIndexMap",(function(){!function(){if(Object(i.A)(M)){M=new Array(65536);for(var t=0;t<65536;t++)M[t]=t>255?255+~~(t/255):t}}()})),r("Reject Lexer.NA",(function(){n=Object(i.P)(t,(function(t){return t[O]===$.NA}))}));var o,a,u,c,s,f,p,d,v,y,g,E=!1;r("Transform Patterns",(function(){E=!1,o=Object(i.I)(n,(function(t){var n=t[O];if(Object(i.D)(n)){var r=n.source;return 1!==r.length||"^"===r||"$"===r||"."===r||n.ignoreCase?2!==r.length||"\\"!==r[0]||Object(i.j)(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],r[1])?e.useSticky?R(n):I(n):r[1]:r}if(Object(i.B)(n))return E=!0,{exec:n};if(Object(i.w)(n,"exec"))return E=!0,n;if("string"==typeof n){if(1===n.length)return n;var o=n.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),a=new RegExp(o);return e.useSticky?R(a):I(a)}throw Error("non exhaustive match")}))})),r("misc mapping",(function(){a=Object(i.I)(n,(function(t){return t.tokenTypeIdx})),u=Object(i.I)(n,(function(t){var e=t.GROUP;if(e!==$.SKIPPED){if(Object(i.E)(e))return e;if(Object(i.F)(e))return!1;throw Error("non exhaustive match")}})),c=Object(i.I)(n,(function(t){var e=t.LONGER_ALT;if(e)return Object(i.x)(n,e)})),s=Object(i.I)(n,(function(t){return t.PUSH_MODE})),f=Object(i.I)(n,(function(t){return Object(i.w)(t,"POP_MODE")}))})),r("Line Terminator Handling",(function(){var t=j(e.lineTerminatorCharacters);p=Object(i.I)(n,(function(t){return!1})),"onlyOffset"!==e.positionTracking&&(p=Object(i.I)(n,(function(e){return Object(i.w)(e,"LINE_BREAKS")?e.LINE_BREAKS:!1===x(e,t)?m(t,e.PATTERN):void 0})))})),r("Misc Mapping #2",(function(){d=Object(i.I)(n,S),v=Object(i.I)(o,L),y=Object(i.O)(n,(function(t,e){var n=e.GROUP;return Object(i.E)(n)&&n!==$.SKIPPED&&(t[n]=[]),t}),{}),g=Object(i.I)(o,(function(t,e){return{pattern:o[e],longerAlt:c[e],canLineTerminator:p[e],isCustom:d[e],short:v[e],group:u[e],push:s[e],pop:f[e],tokenTypeIdx:a[e],tokenType:n[e]}}))}));var T=!0,b=[];return e.safeMode||r("First Char Optimization",(function(){b=Object(i.O)(n,(function(t,n,r){if("string"==typeof n.PATTERN){var o=P(n.PATTERN.charCodeAt(0));C(t,o,g[r])}else if(Object(i.y)(n.START_CHARS_HINT)){var a;Object(i.u)(n.START_CHARS_HINT,(function(e){var n=P("string"==typeof e?e.charCodeAt(0):e);a!==n&&(a=n,C(t,n,g[r]))}))}else if(Object(i.D)(n.PATTERN))if(n.PATTERN.unicode)T=!1,e.ensureOptimizations&&Object(i.c)(l+"\tUnable to analyze < "+n.PATTERN.toString()+" > pattern.\n\tThe regexp unicode flag is not currently supported by the regexp-to-ast library.\n\tThis will disable the lexer's first char optimizations.\n\tFor details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE");else{var u=h(n.PATTERN,e.ensureOptimizations);Object(i.A)(u)&&(T=!1),Object(i.u)(u,(function(e){C(t,e,g[r])}))}else e.ensureOptimizations&&Object(i.c)(l+"\tTokenType: <"+n.name+"> is using a custom token pattern without providing <start_chars_hint> parameter.\n\tThis will disable the lexer's first char optimizations.\n\tFor details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE"),T=!1;return t}),[])})),r("ArrayPacking",(function(){b=Object(i.L)(b)})),{emptyGroups:y,patternIdxToConfig:g,charCodeToPatternIdxToConfig:b,hasCustom:E,canBeOptimized:T}}function T(t,e){var n=[],r=function(t){var e=Object(i.p)(t,(function(t){return!Object(i.w)(t,O)})),n=Object(i.I)(e,(function(t){return{message:"Token Type: ->"+t.name+"<- missing static 'PATTERN' property",type:V.MISSING_PATTERN,tokenTypes:[t]}})),r=Object(i.l)(t,e);return{errors:n,valid:r}}(t);n=n.concat(r.errors);var a=function(t){var e=Object(i.p)(t,(function(t){var e=t[O];return!(Object(i.D)(e)||Object(i.B)(e)||Object(i.w)(e,"exec")||Object(i.E)(e))})),n=Object(i.I)(e,(function(t){return{message:"Token Type: ->"+t.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:V.INVALID_PATTERN,tokenTypes:[t]}})),r=Object(i.l)(t,e);return{errors:n,valid:r}}(r.valid),u=a.valid;return n=(n=(n=(n=(n=n.concat(a.errors)).concat(function(t){var e=[],n=Object(i.p)(t,(function(t){return Object(i.D)(t[O])}));return e=(e=(e=(e=(e=e.concat(function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.found=!1,e}return g(e,t),e.prototype.visitEndAnchor=function(t){this.found=!0},e}(o.BaseRegExpVisitor),n=Object(i.p)(t,(function(t){var n=t[O];try{var r=c(n),i=new e;return i.visit(r),i.found}catch(t){return b.test(n.source)}}));return Object(i.I)(n,(function(t){return{message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+t.name+"<- static 'PATTERN' cannot contain end of input anchor '$'\n\tSee sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#ANCHORS\tfor details.",type:V.EOI_ANCHOR_FOUND,tokenTypes:[t]}}))}(n))).concat(function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.found=!1,e}return g(e,t),e.prototype.visitStartAnchor=function(t){this.found=!0},e}(o.BaseRegExpVisitor),n=Object(i.p)(t,(function(t){var n=t[O];try{var r=c(n),i=new e;return i.visit(r),i.found}catch(t){return A.test(n.source)}}));return Object(i.I)(n,(function(t){return{message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+t.name+"<- static 'PATTERN' cannot contain start of input anchor '^'\n\tSee https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#ANCHORS\tfor details.",type:V.SOI_ANCHOR_FOUND,tokenTypes:[t]}}))}(n))).concat(function(t){var e=Object(i.p)(t,(function(t){var e=t[O];return e instanceof RegExp&&(e.multiline||e.global)}));return Object(i.I)(e,(function(t){return{message:"Token Type: ->"+t.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:V.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[t]}}))}(n))).concat(function(t){var e=[],n=Object(i.I)(t,(function(n){return Object(i.O)(t,(function(t,r){return n.PATTERN.source!==r.PATTERN.source||Object(i.j)(e,r)||r.PATTERN===$.NA||(e.push(r),t.push(r)),t}),[])}));n=Object(i.i)(n);var r=Object(i.p)(n,(function(t){return t.length>1}));return Object(i.I)(r,(function(t){var e=Object(i.I)(t,(function(t){return t.name}));return{message:"The same RegExp pattern ->"+Object(i.s)(t).PATTERN+"<-has been used in all of the following Token Types: "+e.join(", ")+" <-",type:V.DUPLICATE_PATTERNS_FOUND,tokenTypes:t}}))}(n))).concat(function(t){var e=Object(i.p)(t,(function(t){return t[O].test("")}));return Object(i.I)(e,(function(t){return{message:"Token Type: ->"+t.name+"<- static 'PATTERN' must not match an empty string",type:V.EMPTY_MATCH_PATTERN,tokenTypes:[t]}}))}(n))}(u))).concat(function(t){var e=Object(i.p)(t,(function(t){if(!Object(i.w)(t,"GROUP"))return!1;var e=t.GROUP;return e!==$.SKIPPED&&e!==$.NA&&!Object(i.E)(e)}));return Object(i.I)(e,(function(t){return{message:"Token Type: ->"+t.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:V.INVALID_GROUP_TYPE_FOUND,tokenTypes:[t]}}))}(u))).concat(function(t,e){var n=Object(i.p)(t,(function(t){return void 0!==t.PUSH_MODE&&!Object(i.j)(e,t.PUSH_MODE)}));return Object(i.I)(n,(function(t){return{message:"Token Type: ->"+t.name+"<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->"+t.PUSH_MODE+"<-which does not exist",type:V.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[t]}}))}(u,e))).concat(function(t){var e=[],n=Object(i.O)(t,(function(t,e,n){var r,o=e.PATTERN;return o===$.NA||(Object(i.E)(o)?t.push({str:o,idx:n,tokenType:e}):Object(i.D)(o)&&(r=o,void 0===Object(i.q)([".","\\","[","]","|","^","$","(",")","?","*","+","{"],(function(t){return-1!==r.source.indexOf(t)})))&&t.push({str:o.source,idx:n,tokenType:e})),t}),[]);return Object(i.u)(t,(function(t,r){Object(i.u)(n,(function(n){var o=n.str,a=n.idx,u=n.tokenType;if(r<a&&function(t,e){if(Object(i.D)(e)){var n=e.exec(t);return null!==n&&0===n.index}if(Object(i.B)(e))return e(t,0,[],{});if(Object(i.w)(e,"exec"))return e.exec(t,0,[],{});if("string"==typeof e)return e===t;throw Error("non exhaustive match")}(o,t.PATTERN)){var c="Token: ->"+u.name+"<- can never be matched.\nBecause it appears AFTER the Token Type ->"+t.name+"<-in the lexer's definition.\nSee https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#UNREACHABLE";e.push({message:c,type:V.UNREACHABLE_PATTERN,tokenTypes:[t,u]})}}))})),e}(u))}var b=/[^\\][\$]/;var A=/[^\\[][\^]|^\^/;function I(t){var e=t.ignoreCase?"i":"";return new RegExp("^(?:"+t.source+")",e)}function R(t){var e=t.ignoreCase?"iy":"y";return new RegExp(""+t.source,e)}function N(t,e,n){var r=[],o=!1,a=Object(i.i)(Object(i.t)(Object(i.J)(t.modes,(function(t){return t})))),u=Object(i.P)(a,(function(t){return t[O]===$.NA})),c=j(n);return e&&Object(i.u)(u,(function(t){var e=x(t,c);if(!1!==e){var n={message:function(t,e){if(e.issue===V.IDENTIFY_TERMINATOR)return"Warning: unable to identify line terminator usage in pattern.\n\tThe problem is in the <"+t.name+"> Token Type\n\t Root cause: "+e.errMsg+".\n\tFor details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR";if(e.issue===V.CUSTOM_LINE_BREAK)return"Warning: A Custom Token Pattern should specify the <line_breaks> option.\n\tThe problem is in the <"+t.name+"> Token Type\n\tFor details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK";throw Error("non exhaustive match")}(t,e),type:e.issue,tokenType:t};r.push(n)}else Object(i.w)(t,"LINE_BREAKS")?!0===t.LINE_BREAKS&&(o=!0):m(c,t.PATTERN)&&(o=!0)})),e&&!o&&r.push({message:"Warning: No LINE_BREAKS Found.\n\tThis Lexer has been defined to track line and column information,\n\tBut none of the Token Types can be identified as matching a line terminator.\n\tSee https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#LINE_BREAKS \n\tfor details.",type:V.NO_LINE_BREAKS_FLAGS}),r}function S(t){var e=t.PATTERN;if(Object(i.D)(e))return!1;if(Object(i.B)(e))return!0;if(Object(i.w)(e,"exec"))return!0;if(Object(i.E)(e))return!1;throw Error("non exhaustive match")}function L(t){return!(!Object(i.E)(t)||1!==t.length)&&t.charCodeAt(0)}var k={test:function(t){for(var e=t.length,n=this.lastIndex;n<e;n++){var r=t.charCodeAt(n);if(10===r)return this.lastIndex=n+1,!0;if(13===r)return 10===t.charCodeAt(n+1)?this.lastIndex=n+2:this.lastIndex=n+1,!0}return!1},lastIndex:0};function x(t,e){if(Object(i.w)(t,"LINE_BREAKS"))return!1;if(Object(i.D)(t.PATTERN)){try{m(e,t.PATTERN)}catch(t){return{issue:V.IDENTIFY_TERMINATOR,errMsg:t.message}}return!1}if(Object(i.E)(t.PATTERN))return!1;if(S(t))return{issue:V.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}function j(t){return Object(i.I)(t,(function(t){return Object(i.E)(t)&&t.length>0?t.charCodeAt(0):t}))}function C(t,e,n){void 0===t[e]?t[e]=[n]:t[e].push(n)}var w=256;function P(t){return t<w?t:M[t]}var M=[];function U(t,e){var n=t.tokenTypeIdx;return n===e.tokenTypeIdx||!0===e.isParent&&!0===e.categoryMatchesMap[n]}function F(t,e){return t.tokenTypeIdx===e.tokenTypeIdx}var D=1,B={};function W(t){var e=function(t){var e=Object(i.g)(t),n=t,r=!0;for(;r;){n=Object(i.i)(Object(i.t)(Object(i.I)(n,(function(t){return t.CATEGORIES}))));var o=Object(i.l)(n,e);e=e.concat(o),Object(i.A)(o)?r=!1:n=o}return e}(t);!function(t){Object(i.u)(t,(function(t){var e;G(t)||(B[D]=t,t.tokenTypeIdx=D++),K(t)&&!Object(i.y)(t.CATEGORIES)&&(t.CATEGORIES=[t.CATEGORIES]),K(t)||(t.CATEGORIES=[]),e=t,Object(i.w)(e,"categoryMatches")||(t.categoryMatches=[]),function(t){return Object(i.w)(t,"categoryMatchesMap")}(t)||(t.categoryMatchesMap={})}))}(e),function(t){Object(i.u)(t,(function(t){!function t(e,n){Object(i.u)(e,(function(t){n.categoryMatchesMap[t.tokenTypeIdx]=!0})),Object(i.u)(n.CATEGORIES,(function(r){var o=e.concat(n);Object(i.j)(o,r)||t(o,r)}))}([],t)}))}(e),function(t){Object(i.u)(t,(function(t){t.categoryMatches=[],Object(i.u)(t.categoryMatchesMap,(function(e,n){t.categoryMatches.push(B[n].tokenTypeIdx)}))}))}(e),Object(i.u)(e,(function(t){t.isParent=t.categoryMatches.length>0}))}function G(t){return Object(i.w)(t,"tokenTypeIdx")}function K(t){return Object(i.w)(t,"CATEGORIES")}function z(t){return Object(i.w)(t,"tokenTypeIdx")}var V,H={buildUnableToPopLexerModeMessage:function(t){return"Unable to pop Lexer Mode after encountering Token ->"+t.image+"<- The Mode Stack is empty"},buildUnexpectedCharactersMessage:function(t,e,n,r,i){return"unexpected character: ->"+t.charAt(e)+"<- at offset: "+e+", skipped "+n+" characters."}};!function(t){t[t.MISSING_PATTERN=0]="MISSING_PATTERN",t[t.INVALID_PATTERN=1]="INVALID_PATTERN",t[t.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",t[t.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",t[t.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",t[t.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",t[t.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",t[t.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",t[t.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",t[t.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",t[t.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",t[t.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",t[t.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",t[t.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",t[t.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",t[t.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",t[t.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK"}(V||(V={}));var Y={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:["\n","\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:H,traceInitPerf:!1,skipValidations:!1};Object.freeze(Y);var $=function(){function t(t,e){var n=this;if(void 0===e&&(e=Y),this.lexerDefinition=t,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.config=void 0,this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},"boolean"==typeof e)throw Error("The second argument to the Lexer constructor is now an ILexerConfig Object.\na boolean 2nd argument is no longer supported");this.config=Object(i.K)(Y,e);var r=this.config.traceInitPerf;!0===r?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):"number"==typeof r&&(this.traceInitMaxIdent=r,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",(function(){var r,o=!0;n.TRACE_INIT("Lexer Config handling",(function(){if(n.config.lineTerminatorsPattern===Y.lineTerminatorsPattern)n.config.lineTerminatorsPattern=k;else if(n.config.lineTerminatorCharacters===Y.lineTerminatorCharacters)throw Error("Error: Missing <lineTerminatorCharacters> property on the Lexer config.\n\tFor details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS");if(e.safeMode&&e.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');n.trackStartLines=/full|onlyStart/i.test(n.config.positionTracking),n.trackEndLines=/full/i.test(n.config.positionTracking),Object(i.y)(t)?((r={modes:{}}).modes.defaultMode=Object(i.g)(t),r.defaultMode="defaultMode"):(o=!1,r=Object(i.h)(t))})),!1===n.config.skipValidations&&(n.TRACE_INIT("performRuntimeChecks",(function(){n.lexerDefinitionErrors=n.lexerDefinitionErrors.concat(function(t,e,n){var r=[];return Object(i.w)(t,"defaultMode")||r.push({message:"A MultiMode Lexer cannot be initialized without a <defaultMode> property in its definition\n",type:V.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),Object(i.w)(t,"modes")||r.push({message:"A MultiMode Lexer cannot be initialized without a <modes> property in its definition\n",type:V.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),Object(i.w)(t,"modes")&&Object(i.w)(t,"defaultMode")&&!Object(i.w)(t.modes,t.defaultMode)&&r.push({message:"A MultiMode Lexer cannot be initialized with a defaultMode: <"+t.defaultMode+">which does not exist\n",type:V.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),Object(i.w)(t,"modes")&&Object(i.u)(t.modes,(function(t,e){Object(i.u)(t,(function(t,n){Object(i.F)(t)&&r.push({message:"A Lexer cannot be initialized using an undefined Token Type. Mode:<"+e+"> at index: <"+n+">\n",type:V.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED})}))})),r}(r,n.trackStartLines,n.config.lineTerminatorCharacters))})),n.TRACE_INIT("performWarningRuntimeChecks",(function(){n.lexerDefinitionWarning=n.lexerDefinitionWarning.concat(N(r,n.trackStartLines,n.config.lineTerminatorCharacters))}))),r.modes=r.modes?r.modes:{},Object(i.u)(r.modes,(function(t,e){r.modes[e]=Object(i.P)(t,(function(t){return Object(i.F)(t)}))}));var u=Object(i.G)(r.modes);if(Object(i.u)(r.modes,(function(t,r){n.TRACE_INIT("Mode: <"+r+"> processing",(function(){var o;(n.modes.push(r),!1===n.config.skipValidations&&n.TRACE_INIT("validatePatterns",(function(){n.lexerDefinitionErrors=n.lexerDefinitionErrors.concat(T(t,u))})),Object(i.A)(n.lexerDefinitionErrors))&&(W(t),n.TRACE_INIT("analyzeTokenTypes",(function(){o=E(t,{lineTerminatorCharacters:n.config.lineTerminatorCharacters,positionTracking:e.positionTracking,ensureOptimizations:e.ensureOptimizations,safeMode:e.safeMode,tracer:n.TRACE_INIT.bind(n)})})),n.patternIdxToConfig[r]=o.patternIdxToConfig,n.charCodeToPatternIdxToConfig[r]=o.charCodeToPatternIdxToConfig,n.emptyGroups=Object(i.K)(n.emptyGroups,o.emptyGroups),n.hasCustom=o.hasCustom||n.hasCustom,n.canModeBeOptimized[r]=o.canBeOptimized)}))})),n.defaultMode=r.defaultMode,!Object(i.A)(n.lexerDefinitionErrors)&&!n.config.deferDefinitionErrorsHandling){var c=Object(i.I)(n.lexerDefinitionErrors,(function(t){return t.message})).join("-----------------------\n");throw new Error("Errors detected in definition of Lexer:\n"+c)}Object(i.u)(n.lexerDefinitionWarning,(function(t){Object(i.d)(t.message)})),n.TRACE_INIT("Choosing sub-methods implementations",(function(){if(_?(n.chopInput=i.a,n.match=n.matchWithTest):(n.updateLastIndex=i.b,n.match=n.matchWithExec),o&&(n.handleModes=i.b),!1===n.trackStartLines&&(n.computeNewColumn=i.a),!1===n.trackEndLines&&(n.updateTokenEndLineColumnLocation=i.b),/full/i.test(n.config.positionTracking))n.createTokenInstance=n.createFullToken;else if(/onlyStart/i.test(n.config.positionTracking))n.createTokenInstance=n.createStartOnlyToken;else{if(!/onlyOffset/i.test(n.config.positionTracking))throw Error('Invalid <positionTracking> config option: "'+n.config.positionTracking+'"');n.createTokenInstance=n.createOffsetOnlyToken}n.hasCustom?(n.addToken=n.addTokenUsingPush,n.handlePayload=n.handlePayloadWithCustom):(n.addToken=n.addTokenUsingMemberAccess,n.handlePayload=n.handlePayloadNoCustom)})),n.TRACE_INIT("Failed Optimization Warnings",(function(){var t=Object(i.O)(n.canModeBeOptimized,(function(t,e,n){return!1===e&&t.push(n),t}),[]);if(e.ensureOptimizations&&!Object(i.A)(t))throw Error("Lexer Modes: < "+t.join(", ")+' > cannot be optimized.\n\t Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.\n\t Or inspect the console log for details on how to resolve these issues.')})),n.TRACE_INIT("clearRegExpParserCache",(function(){a={}})),n.TRACE_INIT("toFastProperties",(function(){Object(i.S)(n)}))}))}return t.prototype.tokenize=function(t,e){if(void 0===e&&(e=this.defaultMode),!Object(i.A)(this.lexerDefinitionErrors)){var n=Object(i.I)(this.lexerDefinitionErrors,(function(t){return t.message})).join("-----------------------\n");throw new Error("Unable to Tokenize because Errors detected in definition of Lexer:\n"+n)}return this.tokenizeInternal(t,e)},t.prototype.tokenizeInternal=function(t,e){var n,r,o,a,u,c,s,f,l,h,p,d,v,y,m,g,O,_=this,E=t,T=E.length,b=0,A=0,I=this.hasCustom?0:Math.floor(t.length/10),R=new Array(I),N=[],S=this.trackStartLines?1:void 0,L=this.trackStartLines?1:void 0,k=(m=this.emptyGroups,g={},O=Object(i.G)(m),Object(i.u)(O,(function(t){var e=m[t];if(!Object(i.y)(e))throw Error("non exhaustive match");g[t]=[]})),g),x=this.trackStartLines,j=this.config.lineTerminatorsPattern,C=0,w=[],M=[],U=[],F=[];Object.freeze(F);var D=void 0;function B(){return w}function W(t){var e=P(t),n=M[e];return void 0===n?F:n}var G,K=function(t){if(1===U.length&&void 0===t.tokenType.PUSH_MODE){var e=_.config.errorMessageProvider.buildUnableToPopLexerModeMessage(t);N.push({offset:t.startOffset,line:void 0!==t.startLine?t.startLine:void 0,column:void 0!==t.startColumn?t.startColumn:void 0,length:t.image.length,message:e})}else{U.pop();var n=Object(i.H)(U);w=_.patternIdxToConfig[n],M=_.charCodeToPatternIdxToConfig[n],C=w.length;var r=_.canModeBeOptimized[n]&&!1===_.config.safeMode;D=M&&r?W:B}};function z(t){U.push(t),M=this.charCodeToPatternIdxToConfig[t],w=this.patternIdxToConfig[t],C=w.length,C=w.length;var e=this.canModeBeOptimized[t]&&!1===this.config.safeMode;D=M&&e?W:B}for(z.call(this,e);b<T;){u=null;var V=E.charCodeAt(b),H=D(V),Y=H.length;for(n=0;n<Y;n++){var $=(G=H[n]).pattern;if(c=null,!1!==(it=G.short)?V===it&&(u=$):!0===G.isCustom?null!==(y=$.exec(E,b,R,k))?(u=y[0],void 0!==y.payload&&(c=y.payload)):u=null:(this.updateLastIndex($,b),u=this.match($,t,b)),null!==u){if(void 0!==(a=G.longerAlt)){var q=w[a],X=q.pattern;s=null,!0===q.isCustom?null!==(y=X.exec(E,b,R,k))?(o=y[0],void 0!==y.payload&&(s=y.payload)):o=null:(this.updateLastIndex(X,b),o=this.match(X,t,b)),o&&o.length>u.length&&(u=o,c=s,G=q)}break}}if(null!==u){if(f=u.length,void 0!==(l=G.group)&&(h=G.tokenTypeIdx,p=this.createTokenInstance(u,b,h,G.tokenType,S,L,f),this.handlePayload(p,c),!1===l?A=this.addToken(R,A,p):k[l].push(p)),t=this.chopInput(t,f),b+=f,L=this.computeNewColumn(L,f),!0===x&&!0===G.canLineTerminator){var Z=0,J=void 0,Q=void 0;j.lastIndex=0;do{!0===(J=j.test(u))&&(Q=j.lastIndex-1,Z++)}while(!0===J);0!==Z&&(S+=Z,L=f-Q,this.updateTokenEndLineColumnLocation(p,l,Q,Z,S,L,f))}this.handleModes(G,K,z,p)}else{for(var tt=b,et=S,nt=L,rt=!1;!rt&&b<T;)for(E.charCodeAt(b),t=this.chopInput(t,1),b++,r=0;r<C;r++){var it,ot=w[r];$=ot.pattern;if(!1!==(it=ot.short)?E.charCodeAt(b)===it&&(rt=!0):!0===ot.isCustom?rt=null!==$.exec(E,b,R,k):(this.updateLastIndex($,b),rt=null!==$.exec(t)),!0===rt)break}d=b-tt,v=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(E,tt,d,et,nt),N.push({offset:tt,line:et,column:nt,length:d,message:v})}}return this.hasCustom||(R.length=A),{tokens:R,groups:k,errors:N}},t.prototype.handleModes=function(t,e,n,r){if(!0===t.pop){var i=t.push;e(r),void 0!==i&&n.call(this,i)}else void 0!==t.push&&n.call(this,t.push)},t.prototype.chopInput=function(t,e){return t.substring(e)},t.prototype.updateLastIndex=function(t,e){t.lastIndex=e},t.prototype.updateTokenEndLineColumnLocation=function(t,e,n,r,i,o,a){var u,c;void 0!==e&&(c=(u=n===a-1)?-1:0,1===r&&!0===u||(t.endLine=i+c,t.endColumn=o-1-c))},t.prototype.computeNewColumn=function(t,e){return t+e},t.prototype.createTokenInstance=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return null},t.prototype.createOffsetOnlyToken=function(t,e,n,r){return{image:t,startOffset:e,tokenTypeIdx:n,tokenType:r}},t.prototype.createStartOnlyToken=function(t,e,n,r,i,o){return{image:t,startOffset:e,startLine:i,startColumn:o,tokenTypeIdx:n,tokenType:r}},t.prototype.createFullToken=function(t,e,n,r,i,o,a){return{image:t,startOffset:e,endOffset:e+a-1,startLine:i,endLine:i,startColumn:o,endColumn:o+a-1,tokenTypeIdx:n,tokenType:r}},t.prototype.addToken=function(t,e,n){return 666},t.prototype.addTokenUsingPush=function(t,e,n){return t.push(n),e},t.prototype.addTokenUsingMemberAccess=function(t,e,n){return t[e]=n,++e},t.prototype.handlePayload=function(t,e){},t.prototype.handlePayloadNoCustom=function(t,e){},t.prototype.handlePayloadWithCustom=function(t,e){null!==e&&(t.payload=e)},t.prototype.match=function(t,e,n){return null},t.prototype.matchWithTest=function(t,e,n){return!0===t.test(e)?e.substring(n,t.lastIndex):null},t.prototype.matchWithExec=function(t,e){var n=t.exec(e);return null!==n?n[0]:n},t.prototype.TRACE_INIT=function(t,e){if(!0===this.traceInitPerf){this.traceInitIndent++;var n=new Array(this.traceInitIndent+1).join("\t");this.traceInitIndent<this.traceInitMaxIdent&&console.log(n+"--\x3e <"+t+">");var r=Object(i.R)(e),o=r.time,a=r.value,u=o>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&u(n+"<-- <"+t+"> time: "+o+"ms"),this.traceInitIndent--,a}return e()},t.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.",t.NA=/NOT_APPLICABLE/,t}();function q(t){return Z(t)?t.LABEL:t.name}function X(t){return t.name}function Z(t){return Object(i.E)(t.LABEL)&&""!==t.LABEL}function J(t){return function(t){var e=t.pattern,n={};n.name=t.name,Object(i.F)(e)||(n.PATTERN=e);if(Object(i.w)(t,"parent"))throw"The parent property is no longer supported.\nSee: https://github.com/SAP/chevrotain/issues/564#issuecomment-349062346 for details.";Object(i.w)(t,"categories")&&(n.CATEGORIES=t.categories);W([n]),Object(i.w)(t,"label")&&(n.LABEL=t.label);Object(i.w)(t,"group")&&(n.GROUP=t.group);Object(i.w)(t,"pop_mode")&&(n.POP_MODE=t.pop_mode);Object(i.w)(t,"push_mode")&&(n.PUSH_MODE=t.push_mode);Object(i.w)(t,"longer_alt")&&(n.LONGER_ALT=t.longer_alt);Object(i.w)(t,"line_breaks")&&(n.LINE_BREAKS=t.line_breaks);Object(i.w)(t,"start_chars_hint")&&(n.START_CHARS_HINT=t.start_chars_hint);return n}(t)}var Q=J({name:"EOF",pattern:$.NA});function tt(t,e,n,r,i,o,a,u){return{image:e,startOffset:n,endOffset:r,startLine:i,endLine:o,startColumn:a,endColumn:u,tokenTypeIdx:t.tokenTypeIdx,tokenType:t}}function et(t,e){return U(t,e)}W([Q]);var nt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),rt=function(){function t(t){this.definition=t}return t.prototype.accept=function(t){t.visit(this),Object(i.u)(this.definition,(function(e){e.accept(t)}))},t}(),it=function(t){function e(e){var n=t.call(this,[])||this;return n.idx=1,Object(i.f)(n,Object(i.N)(e,(function(t){return void 0!==t}))),n}return nt(e,t),Object.defineProperty(e.prototype,"definition",{get:function(){return void 0!==this.referencedRule?this.referencedRule.definition:[]},set:function(t){},enumerable:!0,configurable:!0}),e.prototype.accept=function(t){t.visit(this)},e}(rt),ot=function(t){function e(e){var n=t.call(this,e.definition)||this;return n.orgText="",Object(i.f)(n,Object(i.N)(e,(function(t){return void 0!==t}))),n}return nt(e,t),e}(rt),at=function(t){function e(e){var n=t.call(this,e.definition)||this;return n.ignoreAmbiguities=!1,Object(i.f)(n,Object(i.N)(e,(function(t){return void 0!==t}))),n}return nt(e,t),e}(rt),ut=function(t){function e(e){var n=t.call(this,e.definition)||this;return n.idx=1,Object(i.f)(n,Object(i.N)(e,(function(t){return void 0!==t}))),n}return nt(e,t),e}(rt),ct=function(t){function e(e){var n=t.call(this,e.definition)||this;return n.idx=1,Object(i.f)(n,Object(i.N)(e,(function(t){return void 0!==t}))),n}return nt(e,t),e}(rt),st=function(t){function e(e){var n=t.call(this,e.definition)||this;return n.idx=1,Object(i.f)(n,Object(i.N)(e,(function(t){return void 0!==t}))),n}return nt(e,t),e}(rt),ft=function(t){function e(e){var n=t.call(this,e.definition)||this;return n.idx=1,Object(i.f)(n,Object(i.N)(e,(function(t){return void 0!==t}))),n}return nt(e,t),e}(rt),lt=function(t){function e(e){var n=t.call(this,e.definition)||this;return n.idx=1,Object(i.f)(n,Object(i.N)(e,(function(t){return void 0!==t}))),n}return nt(e,t),e}(rt),ht=function(t){function e(e){var n=t.call(this,e.definition)||this;return n.idx=1,n.ignoreAmbiguities=!1,n.hasPredicates=!1,Object(i.f)(n,Object(i.N)(e,(function(t){return void 0!==t}))),n}return nt(e,t),e}(rt),pt=function(){function t(t){this.idx=1,Object(i.f)(this,Object(i.N)(t,(function(t){return void 0!==t})))}return t.prototype.accept=function(t){t.visit(this)},t}();function dt(t){return Object(i.I)(t,vt)}function vt(t){function e(t){return Object(i.I)(t,vt)}if(t instanceof it)return{type:"NonTerminal",name:t.nonTerminalName,idx:t.idx};if(t instanceof at)return{type:"Alternative",definition:e(t.definition)};if(t instanceof ut)return{type:"Option",idx:t.idx,definition:e(t.definition)};if(t instanceof ct)return{type:"RepetitionMandatory",idx:t.idx,definition:e(t.definition)};if(t instanceof st)return{type:"RepetitionMandatoryWithSeparator",idx:t.idx,separator:vt(new pt({terminalType:t.separator})),definition:e(t.definition)};if(t instanceof lt)return{type:"RepetitionWithSeparator",idx:t.idx,separator:vt(new pt({terminalType:t.separator})),definition:e(t.definition)};if(t instanceof ft)return{type:"Repetition",idx:t.idx,definition:e(t.definition)};if(t instanceof ht)return{type:"Alternation",idx:t.idx,definition:e(t.definition)};if(t instanceof pt){var n={type:"Terminal",name:t.terminalType.name,label:q(t.terminalType),idx:t.idx},r=t.terminalType.PATTERN;return t.terminalType.PATTERN&&(n.pattern=Object(i.D)(r)?r.source:r),n}if(t instanceof ot)return{type:"Rule",name:t.name,orgText:t.orgText,definition:e(t.definition)};throw Error("non exhaustive match")}var yt=function(){function t(){}return t.prototype.walk=function(t,e){var n=this;void 0===e&&(e=[]),Object(i.u)(t.definition,(function(r,o){var a=Object(i.m)(t.definition,o+1);if(r instanceof it)n.walkProdRef(r,a,e);else if(r instanceof pt)n.walkTerminal(r,a,e);else if(r instanceof at)n.walkFlat(r,a,e);else if(r instanceof ut)n.walkOption(r,a,e);else if(r instanceof ct)n.walkAtLeastOne(r,a,e);else if(r instanceof st)n.walkAtLeastOneSep(r,a,e);else if(r instanceof lt)n.walkManySep(r,a,e);else if(r instanceof ft)n.walkMany(r,a,e);else{if(!(r instanceof ht))throw Error("non exhaustive match");n.walkOr(r,a,e)}}))},t.prototype.walkTerminal=function(t,e,n){},t.prototype.walkProdRef=function(t,e,n){},t.prototype.walkFlat=function(t,e,n){var r=e.concat(n);this.walk(t,r)},t.prototype.walkOption=function(t,e,n){var r=e.concat(n);this.walk(t,r)},t.prototype.walkAtLeastOne=function(t,e,n){var r=[new ut({definition:t.definition})].concat(e,n);this.walk(t,r)},t.prototype.walkAtLeastOneSep=function(t,e,n){var r=mt(t,e,n);this.walk(t,r)},t.prototype.walkMany=function(t,e,n){var r=[new ut({definition:t.definition})].concat(e,n);this.walk(t,r)},t.prototype.walkManySep=function(t,e,n){var r=mt(t,e,n);this.walk(t,r)},t.prototype.walkOr=function(t,e,n){var r=this,o=e.concat(n);Object(i.u)(t.definition,(function(t){var e=new at({definition:[t]});r.walk(e,o)}))},t}();function mt(t,e,n){return[new ut({definition:[new pt({terminalType:t.separator})].concat(t.definition)})].concat(e,n)}var gt=function(){function t(){}return t.prototype.visit=function(t){var e=t;switch(e.constructor){case it:return this.visitNonTerminal(e);case at:return this.visitAlternative(e);case ut:return this.visitOption(e);case ct:return this.visitRepetitionMandatory(e);case st:return this.visitRepetitionMandatoryWithSeparator(e);case lt:return this.visitRepetitionWithSeparator(e);case ft:return this.visitRepetition(e);case ht:return this.visitAlternation(e);case pt:return this.visitTerminal(e);case ot:return this.visitRule(e);default:throw Error("non exhaustive match")}},t.prototype.visitNonTerminal=function(t){},t.prototype.visitAlternative=function(t){},t.prototype.visitOption=function(t){},t.prototype.visitRepetition=function(t){},t.prototype.visitRepetitionMandatory=function(t){},t.prototype.visitRepetitionMandatoryWithSeparator=function(t){},t.prototype.visitRepetitionWithSeparator=function(t){},t.prototype.visitAlternation=function(t){},t.prototype.visitTerminal=function(t){},t.prototype.visitRule=function(t){},t}(),Ot=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function _t(t,e){return void 0===e&&(e=[]),!!(t instanceof ut||t instanceof ft||t instanceof lt)||(t instanceof ht?Object(i.Q)(t.definition,(function(t){return _t(t,e)})):!(t instanceof it&&Object(i.j)(e,t))&&(t instanceof rt&&(t instanceof it&&e.push(t),Object(i.o)(t.definition,(function(t){return _t(t,e)})))))}function Et(t){if(t instanceof it)return"SUBRULE";if(t instanceof ut)return"OPTION";if(t instanceof ht)return"OR";if(t instanceof ct)return"AT_LEAST_ONE";if(t instanceof st)return"AT_LEAST_ONE_SEP";if(t instanceof lt)return"MANY_SEP";if(t instanceof ft)return"MANY";if(t instanceof pt)return"CONSUME";throw Error("non exhaustive match")}var Tt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.separator="-",e.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]},e}return Ot(e,t),e.prototype.reset=function(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}},e.prototype.visitTerminal=function(t){var e=t.terminalType.name+this.separator+"Terminal";Object(i.w)(this.dslMethods,e)||(this.dslMethods[e]=[]),this.dslMethods[e].push(t)},e.prototype.visitNonTerminal=function(t){var e=t.nonTerminalName+this.separator+"Terminal";Object(i.w)(this.dslMethods,e)||(this.dslMethods[e]=[]),this.dslMethods[e].push(t)},e.prototype.visitOption=function(t){this.dslMethods.option.push(t)},e.prototype.visitRepetitionWithSeparator=function(t){this.dslMethods.repetitionWithSeparator.push(t)},e.prototype.visitRepetitionMandatory=function(t){this.dslMethods.repetitionMandatory.push(t)},e.prototype.visitRepetitionMandatoryWithSeparator=function(t){this.dslMethods.repetitionMandatoryWithSeparator.push(t)},e.prototype.visitRepetition=function(t){this.dslMethods.repetition.push(t)},e.prototype.visitAlternation=function(t){this.dslMethods.alternation.push(t)},e}(gt),bt=new Tt;function At(t){if(t instanceof it)return At(t.referencedRule);if(t instanceof pt)return[t.terminalType];if(function(t){return t instanceof at||t instanceof ut||t instanceof ft||t instanceof ct||t instanceof st||t instanceof lt||t instanceof pt||t instanceof ot}(t))return function(t){var e,n=[],r=t.definition,o=0,a=r.length>o,u=!0;for(;a&&u;)e=r[o],u=_t(e),n=n.concat(At(e)),o+=1,a=r.length>o;return Object(i.T)(n)}(t);if(function(t){return t instanceof ht}(t))return function(t){var e=Object(i.I)(t.definition,(function(t){return At(t)}));return Object(i.T)(Object(i.t)(e))}(t);throw Error("non exhaustive match")}var It="_~IN~_",Rt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Nt=function(t){function e(e){var n=t.call(this)||this;return n.topProd=e,n.follows={},n}return Rt(e,t),e.prototype.startWalking=function(){return this.walk(this.topProd),this.follows},e.prototype.walkTerminal=function(t,e,n){},e.prototype.walkProdRef=function(t,e,n){var r,i,o=(r=t.referencedRule,i=t.idx,r.name+i+It+this.topProd.name),a=e.concat(n),u=At(new at({definition:a}));this.follows[o]=u},e}(yt);var St={buildMismatchTokenMessage:function(t){var e=t.expected,n=t.actual;t.previous,t.ruleName;return"Expecting "+(Z(e)?"--\x3e "+q(e)+" <--":"token of type --\x3e "+e.name+" <--")+" but found --\x3e '"+n.image+"' <--"},buildNotAllInputParsedMessage:function(t){var e=t.firstRedundant;t.ruleName;return"Redundant input, expecting EOF but found: "+e.image},buildNoViableAltMessage:function(t){var e=t.expectedPathsPerAlt,n=t.actual,r=(t.previous,t.customUserDescription),o=(t.ruleName,"\nbut found: '"+Object(i.s)(n).image+"'");if(r)return"Expecting: "+r+o;var a=Object(i.O)(e,(function(t,e){return t.concat(e)}),[]),u=Object(i.I)(a,(function(t){return"["+Object(i.I)(t,(function(t){return q(t)})).join(", ")+"]"}));return"Expecting: "+("one of these possible Token sequences:\n"+Object(i.I)(u,(function(t,e){return"  "+(e+1)+". "+t})).join("\n"))+o},buildEarlyExitMessage:function(t){var e=t.expectedIterationPaths,n=t.actual,r=t.customUserDescription,o=(t.ruleName,"\nbut found: '"+Object(i.s)(n).image+"'");return r?"Expecting: "+r+o:"Expecting: "+("expecting at least one iteration which starts with one of these possible Token sequences::\n  <"+Object(i.I)(e,(function(t){return"["+Object(i.I)(t,(function(t){return q(t)})).join(",")+"]"})).join(" ,")+">")+o}};Object.freeze(St);var Lt={buildRuleNotFoundError:function(t,e){return"Invalid grammar, reference to a rule which is not defined: ->"+e.nonTerminalName+"<-\ninside top level rule: ->"+t.name+"<-"}},kt={buildDuplicateFoundError:function(t,e){var n,r=t.name,o=Object(i.s)(e),a=o.idx,u=Et(o),c=(n=o)instanceof pt?n.terminalType.name:n instanceof it?n.nonTerminalName:"",s="->"+u+(a>0?a:"")+"<- "+(c?"with argument: ->"+c+"<-":"")+"\n                  appears more than once ("+e.length+" times) in the top level rule: ->"+r+"<-.                  \n                  For further details see: https://sap.github.io/chevrotain/docs/FAQ.html#NUMERICAL_SUFFIXES \n                  ";return s=(s=s.replace(/[ \t]+/g," ")).replace(/\s\s+/g,"\n")},buildNamespaceConflictError:function(t){return"Namespace conflict found in grammar.\nThe grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <"+t.name+">.\nTo resolve this make sure each Terminal and Non-Terminal names are unique\nThis is easy to accomplish by using the convention that Terminal names start with an uppercase letter\nand Non-Terminal names start with a lower case letter."},buildAlternationPrefixAmbiguityError:function(t){var e=Object(i.I)(t.prefixPath,(function(t){return q(t)})).join(", "),n=0===t.alternation.idx?"":t.alternation.idx;return"Ambiguous alternatives: <"+t.ambiguityIndices.join(" ,")+"> due to common lookahead prefix\nin <OR"+n+"> inside <"+t.topLevelRule.name+"> Rule,\n<"+e+"> may appears as a prefix path in all these alternatives.\nSee: https://sap.github.io/chevrotain/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX\nFor Further details."},buildAlternationAmbiguityError:function(t){var e=Object(i.I)(t.prefixPath,(function(t){return q(t)})).join(", "),n=0===t.alternation.idx?"":t.alternation.idx,r="Ambiguous Alternatives Detected: <"+t.ambiguityIndices.join(" ,")+"> in <OR"+n+"> inside <"+t.topLevelRule.name+"> Rule,\n<"+e+"> may appears as a prefix path in all these alternatives.\n";return r+="See: https://sap.github.io/chevrotain/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES\nFor Further details."},buildEmptyRepetitionError:function(t){var e=Et(t.repetition);return 0!==t.repetition.idx&&(e+=t.repetition.idx),"The repetition <"+e+"> within Rule <"+t.topLevelRule.name+"> can never consume any tokens.\nThis could lead to an infinite loop."},buildTokenNameError:function(t){return"Invalid Grammar Token name: ->"+t.tokenType.name+"<- it must match the pattern: ->"+t.expectedPattern.toString()+"<-"},buildEmptyAlternationError:function(t){return"Ambiguous empty alternative: <"+(t.emptyChoiceIdx+1)+"> in <OR"+t.alternation.idx+"> inside <"+t.topLevelRule.name+"> Rule.\nOnly the last alternative may be an empty alternative."},buildTooManyAlternativesError:function(t){return"An Alternation cannot have more than 256 alternatives:\n<OR"+t.alternation.idx+"> inside <"+t.topLevelRule.name+"> Rule.\n has "+(t.alternation.definition.length+1)+" alternatives."},buildLeftRecursionError:function(t){var e=t.topLevelRule.name;return"Left Recursion found in grammar.\nrule: <"+e+"> can be invoked from itself (directly or indirectly)\nwithout consuming any Tokens. The grammar path that causes this is: \n "+(e+" --\x3e "+i.I(t.leftRecursionPath,(function(t){return t.name})).concat([e]).join(" --\x3e "))+"\n To fix this refactor your grammar to remove the left recursion.\nsee: https://en.wikipedia.org/wiki/LL_parser#Left_Factoring."},buildInvalidRuleNameError:function(t){return"Invalid grammar rule name: ->"+t.topLevelRule.name+"<- it must match the pattern: ->"+t.expectedPattern.toString()+"<-"},buildDuplicateRuleNameError:function(t){return"Duplicate definition, rule: ->"+(t.topLevelRule instanceof ot?t.topLevelRule.name:t.topLevelRule)+"<- is already defined in the grammar: ->"+t.grammarName+"<-"}},xt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();var jt=function(t){function e(e,n){var r=t.call(this)||this;return r.nameToTopRule=e,r.errMsgProvider=n,r.errors=[],r}return xt(e,t),e.prototype.resolveRefs=function(){var t=this;Object(i.u)(Object(i.U)(this.nameToTopRule),(function(e){t.currTopLevel=e,e.accept(t)}))},e.prototype.visitNonTerminal=function(t){var e=this.nameToTopRule[t.nonTerminalName];if(e)t.referencedRule=e;else{var n=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,t);this.errors.push({message:n,type:Je.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:t.nonTerminalName})}},e}(gt),Ct=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),wt=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.path=n,r.nextTerminalName="",r.nextTerminalOccurrence=0,r.nextTerminalName=r.path.lastTok.name,r.nextTerminalOccurrence=r.path.lastTokOccurrence,r}return Ct(e,t),e.prototype.walkTerminal=function(t,e,n){if(this.isAtEndOfPath&&t.terminalType.name===this.nextTerminalName&&t.idx===this.nextTerminalOccurrence&&!this.found){var r=e.concat(n),i=new at({definition:r});this.possibleTokTypes=At(i),this.found=!0}},e}(function(t){function e(e,n){var r=t.call(this)||this;return r.topProd=e,r.path=n,r.possibleTokTypes=[],r.nextProductionName="",r.nextProductionOccurrence=0,r.found=!1,r.isAtEndOfPath=!1,r}return Ct(e,t),e.prototype.startWalking=function(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=Object(i.g)(this.path.ruleStack).reverse(),this.occurrenceStack=Object(i.g)(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes},e.prototype.walk=function(e,n){void 0===n&&(n=[]),this.found||t.prototype.walk.call(this,e,n)},e.prototype.walkProdRef=function(t,e,n){if(t.referencedRule.name===this.nextProductionName&&t.idx===this.nextProductionOccurrence){var r=e.concat(n);this.updateExpectedNext(),this.walk(t.referencedRule,r)}},e.prototype.updateExpectedNext=function(){Object(i.A)(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())},e}(yt)),Pt=function(t){function e(e,n){var r=t.call(this)||this;return r.topRule=e,r.occurrence=n,r.result={token:void 0,occurrence:void 0,isEndOfRule:void 0},r}return Ct(e,t),e.prototype.startWalking=function(){return this.walk(this.topRule),this.result},e}(yt),Mt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ct(e,t),e.prototype.walkMany=function(e,n,r){if(e.idx===this.occurrence){var o=Object(i.s)(n.concat(r));this.result.isEndOfRule=void 0===o,o instanceof pt&&(this.result.token=o.terminalType,this.result.occurrence=o.idx)}else t.prototype.walkMany.call(this,e,n,r)},e}(Pt),Ut=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ct(e,t),e.prototype.walkManySep=function(e,n,r){if(e.idx===this.occurrence){var o=Object(i.s)(n.concat(r));this.result.isEndOfRule=void 0===o,o instanceof pt&&(this.result.token=o.terminalType,this.result.occurrence=o.idx)}else t.prototype.walkManySep.call(this,e,n,r)},e}(Pt),Ft=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ct(e,t),e.prototype.walkAtLeastOne=function(e,n,r){if(e.idx===this.occurrence){var o=Object(i.s)(n.concat(r));this.result.isEndOfRule=void 0===o,o instanceof pt&&(this.result.token=o.terminalType,this.result.occurrence=o.idx)}else t.prototype.walkAtLeastOne.call(this,e,n,r)},e}(Pt),Dt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ct(e,t),e.prototype.walkAtLeastOneSep=function(e,n,r){if(e.idx===this.occurrence){var o=Object(i.s)(n.concat(r));this.result.isEndOfRule=void 0===o,o instanceof pt&&(this.result.token=o.terminalType,this.result.occurrence=o.idx)}else t.prototype.walkAtLeastOneSep.call(this,e,n,r)},e}(Pt);function Bt(t,e,n){void 0===n&&(n=[]),n=Object(i.g)(n);var r=[],o=0;function a(a){var u=Bt(a.concat(Object(i.m)(t,o+1)),e,n);return r.concat(u)}for(;n.length<e&&o<t.length;){var u=t[o];if(u instanceof at)return a(u.definition);if(u instanceof it)return a(u.definition);if(u instanceof ut)r=a(u.definition);else{if(u instanceof ct)return a(c=u.definition.concat([new ft({definition:u.definition})]));if(u instanceof st)return a(c=[new at({definition:u.definition}),new ft({definition:[new pt({terminalType:u.separator})].concat(u.definition)})]);if(u instanceof lt){var c=u.definition.concat([new ft({definition:[new pt({terminalType:u.separator})].concat(u.definition)})]);r=a(c)}else if(u instanceof ft){c=u.definition.concat([new ft({definition:u.definition})]);r=a(c)}else{if(u instanceof ht)return Object(i.u)(u.definition,(function(t){r=a(t.definition)})),r;if(!(u instanceof pt))throw Error("non exhaustive match");n.push(u.terminalType)}}o++}return r.push({partialPath:n,suffixDef:Object(i.m)(t,o)}),r}function Wt(t,e,n,r){var o=["EXIT_NONE_TERMINAL"],a=!1,u=e.length,c=u-r-1,s=[],f=[];for(f.push({idx:-1,def:t,ruleStack:[],occurrenceStack:[]});!Object(i.A)(f);){var l=f.pop();if("EXIT_ALTERNATIVE"!==l){var h=l.def,p=l.idx,d=l.ruleStack,v=l.occurrenceStack;if(!Object(i.A)(h)){var y=h[0];if("EXIT_NONE_TERMINAL"===y){var m={idx:p,def:Object(i.m)(h),ruleStack:Object(i.n)(d),occurrenceStack:Object(i.n)(v)};f.push(m)}else if(y instanceof pt)if(p<u-1){var g=p+1;if(n(e[g],y.terminalType)){m={idx:g,def:Object(i.m)(h),ruleStack:d,occurrenceStack:v};f.push(m)}}else{if(p!==u-1)throw Error("non exhaustive match");s.push({nextTokenType:y.terminalType,nextTokenOccurrence:y.idx,ruleStack:d,occurrenceStack:v}),a=!0}else if(y instanceof it){var O=Object(i.g)(d);O.push(y.nonTerminalName);var _=Object(i.g)(v);_.push(y.idx);m={idx:p,def:y.definition.concat(o,Object(i.m)(h)),ruleStack:O,occurrenceStack:_};f.push(m)}else if(y instanceof ut){var E={idx:p,def:Object(i.m)(h),ruleStack:d,occurrenceStack:v};f.push(E),f.push("EXIT_ALTERNATIVE");var T={idx:p,def:y.definition.concat(Object(i.m)(h)),ruleStack:d,occurrenceStack:v};f.push(T)}else if(y instanceof ct){var b=new ft({definition:y.definition,idx:y.idx});m={idx:p,def:y.definition.concat([b],Object(i.m)(h)),ruleStack:d,occurrenceStack:v};f.push(m)}else if(y instanceof st){var A=new pt({terminalType:y.separator});b=new ft({definition:[A].concat(y.definition),idx:y.idx}),m={idx:p,def:y.definition.concat([b],Object(i.m)(h)),ruleStack:d,occurrenceStack:v};f.push(m)}else if(y instanceof lt){E={idx:p,def:Object(i.m)(h),ruleStack:d,occurrenceStack:v};f.push(E),f.push("EXIT_ALTERNATIVE");A=new pt({terminalType:y.separator});var I=new ft({definition:[A].concat(y.definition),idx:y.idx});T={idx:p,def:y.definition.concat([I],Object(i.m)(h)),ruleStack:d,occurrenceStack:v};f.push(T)}else if(y instanceof ft){E={idx:p,def:Object(i.m)(h),ruleStack:d,occurrenceStack:v};f.push(E),f.push("EXIT_ALTERNATIVE");I=new ft({definition:y.definition,idx:y.idx}),T={idx:p,def:y.definition.concat([I],Object(i.m)(h)),ruleStack:d,occurrenceStack:v};f.push(T)}else if(y instanceof ht)for(var R=y.definition.length-1;R>=0;R--){var N={idx:p,def:y.definition[R].definition.concat(Object(i.m)(h)),ruleStack:d,occurrenceStack:v};f.push(N),f.push("EXIT_ALTERNATIVE")}else if(y instanceof at)f.push({idx:p,def:y.definition.concat(Object(i.m)(h)),ruleStack:d,occurrenceStack:v});else{if(!(y instanceof ot))throw Error("non exhaustive match");f.push(Gt(y,p,d,v))}}}else a&&Object(i.H)(f).idx<=c&&f.pop()}return s}function Gt(t,e,n,r){var o=Object(i.g)(n);o.push(t.name);var a=Object(i.g)(r);return a.push(1),{idx:e,def:t.definition,ruleStack:o,occurrenceStack:a}}var Kt,zt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){t[t.OPTION=0]="OPTION",t[t.REPETITION=1]="REPETITION",t[t.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",t[t.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",t[t.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",t[t.ALTERNATION=5]="ALTERNATION"}(Kt||(Kt={}));var Vt=function(t){function e(e,n,r){var i=t.call(this)||this;return i.topProd=e,i.targetOccurrence=n,i.targetProdType=r,i}return zt(e,t),e.prototype.startWalking=function(){return this.walk(this.topProd),this.restDef},e.prototype.checkIsTarget=function(t,e,n,r){return t.idx===this.targetOccurrence&&this.targetProdType===e&&(this.restDef=n.concat(r),!0)},e.prototype.walkOption=function(e,n,r){this.checkIsTarget(e,Kt.OPTION,n,r)||t.prototype.walkOption.call(this,e,n,r)},e.prototype.walkAtLeastOne=function(e,n,r){this.checkIsTarget(e,Kt.REPETITION_MANDATORY,n,r)||t.prototype.walkOption.call(this,e,n,r)},e.prototype.walkAtLeastOneSep=function(e,n,r){this.checkIsTarget(e,Kt.REPETITION_MANDATORY_WITH_SEPARATOR,n,r)||t.prototype.walkOption.call(this,e,n,r)},e.prototype.walkMany=function(e,n,r){this.checkIsTarget(e,Kt.REPETITION,n,r)||t.prototype.walkOption.call(this,e,n,r)},e.prototype.walkManySep=function(e,n,r){this.checkIsTarget(e,Kt.REPETITION_WITH_SEPARATOR,n,r)||t.prototype.walkOption.call(this,e,n,r)},e}(yt),Ht=function(t){function e(e,n,r){var i=t.call(this)||this;return i.targetOccurrence=e,i.targetProdType=n,i.targetRef=r,i.result=[],i}return zt(e,t),e.prototype.checkIsTarget=function(t,e){t.idx!==this.targetOccurrence||this.targetProdType!==e||void 0!==this.targetRef&&t!==this.targetRef||(this.result=t.definition)},e.prototype.visitOption=function(t){this.checkIsTarget(t,Kt.OPTION)},e.prototype.visitRepetition=function(t){this.checkIsTarget(t,Kt.REPETITION)},e.prototype.visitRepetitionMandatory=function(t){this.checkIsTarget(t,Kt.REPETITION_MANDATORY)},e.prototype.visitRepetitionMandatoryWithSeparator=function(t){this.checkIsTarget(t,Kt.REPETITION_MANDATORY_WITH_SEPARATOR)},e.prototype.visitRepetitionWithSeparator=function(t){this.checkIsTarget(t,Kt.REPETITION_WITH_SEPARATOR)},e.prototype.visitAlternation=function(t){this.checkIsTarget(t,Kt.ALTERNATION)},e}(gt);function Yt(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=[];return e}function $t(t){for(var e=[""],n=0;n<t.length;n++){for(var r=t[n],i=[],o=0;o<e.length;o++){var a=e[o];i.push(a+"_"+r.tokenTypeIdx);for(var u=0;u<r.categoryMatches.length;u++){var c="_"+r.categoryMatches[u];i.push(a+c)}}e=i}return e}function qt(t,e,n){for(var r=0;r<t.length;r++)if(r!==n)for(var i=t[r],o=0;o<e.length;o++){if(!0===i[e[o]])return!1}return!0}function Xt(t,e){for(var n=Object(i.I)(t,(function(t){return Bt([t],1)})),r=Yt(n.length),o=Object(i.I)(n,(function(t){var e={};return Object(i.u)(t,(function(t){var n=$t(t.partialPath);Object(i.u)(n,(function(t){e[t]=!0}))})),e})),a=n,u=1;u<=e;u++){var c=a;a=Yt(c.length);for(var s=function(t){for(var n=c[t],s=0;s<n.length;s++){var f=n[s].partialPath,l=n[s].suffixDef,h=$t(f);if(qt(o,h,t)||Object(i.A)(l)||f.length===e){var p=r[t];if(!1===Qt(p,f)){p.push(f);for(var d=0;d<h.length;d++){var v=h[d];o[t][v]=!0}}}else{var y=Bt(l,u+1,f);a[t]=a[t].concat(y),Object(i.u)(y,(function(e){var n=$t(e.partialPath);Object(i.u)(n,(function(e){o[t][e]=!0}))}))}}},f=0;f<c.length;f++)s(f)}return r}function Zt(t,e,n,r){var i=new Ht(t,Kt.ALTERNATION,r);return e.accept(i),Xt(i.result,n)}function Jt(t,e,n,r){var i=new Ht(t,n);e.accept(i);var o=i.result,a=new Vt(e,t,n).startWalking();return Xt([new at({definition:o}),new at({definition:a})],r)}function Qt(t,e){t:for(var n=0;n<t.length;n++){var r=t[n];if(r.length===e.length){for(var i=0;i<r.length;i++){var o=e[i],a=r[i];if(!1===(o===a||void 0!==a.categoryMatchesMap[o.tokenTypeIdx]))continue t}return!0}}return!1}function te(t){return Object(i.o)(t,(function(t){return Object(i.o)(t,(function(t){return Object(i.o)(t,(function(t){return Object(i.A)(t.categoryMatches)}))}))}))}var ee=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function ne(t,e,n,r,o){var a=i.I(t,(function(t){return function(t,e){var n=new oe;t.accept(n);var r=n.allProductions,o=i.v(r,re),a=i.N(o,(function(t){return t.length>1}));return i.I(i.U(a),(function(n){var r=i.s(n),o=e.buildDuplicateFoundError(t,n),a=Et(r),u={message:o,type:Je.DUPLICATE_PRODUCTIONS,ruleName:t.name,dslName:a,occurrence:r.idx},c=ie(r);return c&&(u.parameter=c),u}))}(t,r)})),u=i.I(t,(function(t){return function t(e,n,r,o){void 0===o&&(o=[]);var a=[],u=function t(e){var n=[];if(i.A(e))return n;var r=i.s(e);if(r instanceof it)n.push(r.referencedRule);else if(r instanceof at||r instanceof ut||r instanceof ct||r instanceof st||r instanceof lt||r instanceof ft)n=n.concat(t(r.definition));else if(r instanceof ht)n=i.t(i.I(r.definition,(function(e){return t(e.definition)})));else if(!(r instanceof pt))throw Error("non exhaustive match");var o=_t(r),a=e.length>1;if(o&&a){var u=i.m(e);return n.concat(t(u))}return n}(n.definition);if(i.A(u))return[];var c=e.name;i.j(u,e)&&a.push({message:r.buildLeftRecursionError({topLevelRule:e,leftRecursionPath:o}),type:Je.LEFT_RECURSION,ruleName:c});var s=i.l(u,o.concat([e])),f=i.I(s,(function(n){var a=i.g(o);return a.push(n),t(e,n,r,a)}));return a.concat(i.t(f))}(t,t,r)})),c=[],s=[],f=[];Object(i.o)(u,i.A)&&(c=Object(i.I)(t,(function(t){return function(t,e){var n=new ue;t.accept(n);var r=n.alternations;return i.O(r,(function(n,r){var o=i.n(r.definition),a=i.I(o,(function(n,o){var a=Wt([n],[],null,1);return i.A(a)?{message:e.buildEmptyAlternationError({topLevelRule:t,alternation:r,emptyChoiceIdx:o}),type:Je.NONE_LAST_EMPTY_ALT,ruleName:t.name,occurrence:r.idx,alternative:o+1}:null}));return n.concat(i.i(a))}),[])}(t,r)})),s=Object(i.I)(t,(function(t){return function(t,e,n){var r=new ue;t.accept(r);var o=r.alternations;return o=Object(i.P)(o,(function(t){return!0===t.ignoreAmbiguities})),i.O(o,(function(r,o){var a=o.idx,u=o.maxLookahead||e,c=Zt(a,t,u,o),s=function(t,e,n,r){var o=[],a=Object(i.O)(t,(function(n,r,a){return!0===e.definition[a].ignoreAmbiguities||Object(i.u)(r,(function(r){var u=[a];Object(i.u)(t,(function(t,n){a!==n&&Qt(t,r)&&!0!==e.definition[n].ignoreAmbiguities&&u.push(n)})),u.length>1&&!Qt(o,r)&&(o.push(r),n.push({alts:u,path:r}))})),n}),[]);return i.I(a,(function(t){var o=Object(i.I)(t.alts,(function(t){return t+1}));return{message:r.buildAlternationAmbiguityError({topLevelRule:n,alternation:e,ambiguityIndices:o,prefixPath:t.path}),type:Je.AMBIGUOUS_ALTS,ruleName:n.name,occurrence:e.idx,alternatives:[t.alts]}}))}(c,o,t,n),f=function(t,e,n,r){var o=[],a=Object(i.O)(t,(function(t,e,n){var r=Object(i.I)(e,(function(t){return{idx:n,path:t}}));return t.concat(r)}),[]);return Object(i.u)(a,(function(t){if(!0!==e.definition[t.idx].ignoreAmbiguities){var u=t.idx,c=t.path,s=Object(i.r)(a,(function(t){return!0!==e.definition[t.idx].ignoreAmbiguities&&t.idx<u&&(n=t.path,r=c,n.length<r.length&&Object(i.o)(n,(function(t,e){var n=r[e];return t===n||n.categoryMatchesMap[t.tokenTypeIdx]})));var n,r})),f=Object(i.I)(s,(function(t){var i=[t.idx+1,u+1],o=0===e.idx?"":e.idx;return{message:r.buildAlternationPrefixAmbiguityError({topLevelRule:n,alternation:e,ambiguityIndices:i,prefixPath:t.path}),type:Je.AMBIGUOUS_PREFIX_ALTS,ruleName:n.name,occurrence:o,alternatives:i}}));o=o.concat(f)}})),o}(c,o,t,n);return r.concat(s,f)}),[])}(t,e,r)})),f=function(t,e,n){var r=[];return Object(i.u)(t,(function(t){var o=new ce;t.accept(o);var a=o.allProductions;Object(i.u)(a,(function(o){var a=function(t){if(t instanceof ut)return Kt.OPTION;if(t instanceof ft)return Kt.REPETITION;if(t instanceof ct)return Kt.REPETITION_MANDATORY;if(t instanceof st)return Kt.REPETITION_MANDATORY_WITH_SEPARATOR;if(t instanceof lt)return Kt.REPETITION_WITH_SEPARATOR;if(t instanceof ht)return Kt.ALTERNATION;throw Error("non exhaustive match")}(o),u=o.maxLookahead||e,c=Jt(o.idx,t,a,u)[0];if(Object(i.A)(Object(i.t)(c))){var s=n.buildEmptyRepetitionError({topLevelRule:t,repetition:o});r.push({message:s,type:Je.NO_NON_EMPTY_LOOKAHEAD,ruleName:t.name})}}))})),r}(t,e,r));var l=function(t,e,n){var r=[],o=Object(i.I)(e,(function(t){return t.name}));return Object(i.u)(t,(function(t){var e=t.name;if(Object(i.j)(o,e)){var a=n.buildNamespaceConflictError(t);r.push({message:a,type:Je.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:e})}})),r}(t,n,r),h=i.I(n,(function(t){return function(t,e){var n=[];t.name.match(ae)||n.push({message:e.buildTokenNameError({tokenType:t,expectedPattern:ae}),type:Je.INVALID_TOKEN_NAME});return n}(t,r)})),p=Object(i.I)(t,(function(t){return function(t,e){var n=new ue;t.accept(n);var r=n.alternations;return i.O(r,(function(n,r){return r.definition.length>255&&n.push({message:e.buildTooManyAlternativesError({topLevelRule:t,alternation:r}),type:Je.TOO_MANY_ALTS,ruleName:t.name,occurrence:r.idx}),n}),[])}(t,r)})),d=Object(i.I)(t,(function(t){return function(t,e){var n=[],r=t.name;r.match(ae)||n.push({message:e.buildInvalidRuleNameError({topLevelRule:t,expectedPattern:ae}),type:Je.INVALID_RULE_NAME,ruleName:r});return n}(t,r)})),v=Object(i.I)(t,(function(e){return function(t,e,n,r){var o=[];if(Object(i.O)(e,(function(e,n){return n.name===t.name?e+1:e}),0)>1){var a=r.buildDuplicateRuleNameError({topLevelRule:t,grammarName:n});o.push({message:a,type:Je.DUPLICATE_RULE_NAME,ruleName:t.name})}return o}(e,t,o,r)}));return i.t(a.concat(h,f,u,c,s,l,p,d,v))}function re(t){return Et(t)+"_#_"+t.idx+"_#_"+ie(t)}function ie(t){return t instanceof pt?t.terminalType.name:t instanceof it?t.nonTerminalName:""}var oe=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.allProductions=[],e}return ee(e,t),e.prototype.visitNonTerminal=function(t){this.allProductions.push(t)},e.prototype.visitOption=function(t){this.allProductions.push(t)},e.prototype.visitRepetitionWithSeparator=function(t){this.allProductions.push(t)},e.prototype.visitRepetitionMandatory=function(t){this.allProductions.push(t)},e.prototype.visitRepetitionMandatoryWithSeparator=function(t){this.allProductions.push(t)},e.prototype.visitRepetition=function(t){this.allProductions.push(t)},e.prototype.visitAlternation=function(t){this.allProductions.push(t)},e.prototype.visitTerminal=function(t){this.allProductions.push(t)},e}(gt),ae=/^[a-zA-Z_]\w*$/;var ue=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.alternations=[],e}return ee(e,t),e.prototype.visitAlternation=function(t){this.alternations.push(t)},e}(gt);var ce=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.allProductions=[],e}return ee(e,t),e.prototype.visitRepetitionWithSeparator=function(t){this.allProductions.push(t)},e.prototype.visitRepetitionMandatory=function(t){this.allProductions.push(t)},e.prototype.visitRepetitionMandatoryWithSeparator=function(t){this.allProductions.push(t)},e.prototype.visitRepetition=function(t){this.allProductions.push(t)},e}(gt);function se(t){t=Object(i.k)(t,{errMsgProvider:Lt});var e,n,r,o={};return Object(i.u)(t.rules,(function(t){o[t.name]=t})),e=o,n=t.errMsgProvider,(r=new jt(e,n)).resolveRefs(),r.errors}function fe(t){return ne((t=Object(i.k)(t,{errMsgProvider:kt})).rules,t.maxLookahead,t.tokenTypes,t.errMsgProvider,t.grammarName)}function le(t){Object(i.u)(t.rules,(function(t){var e=new Tt;t.accept(e),Object(i.u)(e.dslMethods,(function(t){Object(i.u)(t,(function(t,e){t.idx=e+1}))}))}))}var he=["MismatchedTokenException","NoViableAltException","EarlyExitException","NotAllInputParsedException"];function pe(t){return Object(i.j)(he,t.name)}function de(t,e,n){this.name="MismatchedTokenException",this.message=t,this.token=e,this.previousToken=n,this.resyncedTokens=[]}function ve(t,e,n){this.name="NoViableAltException",this.message=t,this.token=e,this.previousToken=n,this.resyncedTokens=[]}function ye(t,e){this.name="NotAllInputParsedException",this.message=t,this.token=e,this.resyncedTokens=[]}function me(t,e,n){this.name="EarlyExitException",this.message=t,this.token=e,this.previousToken=n,this.resyncedTokens=[]}Object.freeze(he),de.prototype=Error.prototype,ve.prototype=Error.prototype,ye.prototype=Error.prototype,me.prototype=Error.prototype;var ge={};function Oe(t){this.name="InRuleRecoveryException",this.message=t}Oe.prototype=Error.prototype;var _e=function(){function t(){}return t.prototype.initRecoverable=function(t){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=Object(i.w)(t,"recoveryEnabled")?t.recoveryEnabled:Qe.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=Ee)},t.prototype.getTokenToInsert=function(t){var e=tt(t,"",NaN,NaN,NaN,NaN,NaN,NaN);return e.isInsertedInRecovery=!0,e},t.prototype.canTokenTypeBeInsertedInRecovery=function(t){return!0},t.prototype.tryInRepetitionRecovery=function(t,e,n,r){for(var o=this,a=this.findReSyncTokenType(),u=this.exportLexerState(),c=[],s=!1,f=this.LA(1),l=this.LA(1),h=function(){var t=o.LA(0),e=new de(o.errorMessageProvider.buildMismatchTokenMessage({expected:r,actual:f,previous:t,ruleName:o.getCurrRuleFullName()}),f,o.LA(0));e.resyncedTokens=Object(i.n)(c),o.SAVE_ERROR(e)};!s;){if(this.tokenMatcher(l,r))return void h();if(n.call(this))return h(),void t.apply(this,e);this.tokenMatcher(l,a)?s=!0:(l=this.SKIP_TOKEN(),this.addToResyncTokens(l,c))}this.importLexerState(u)},t.prototype.shouldInRepetitionRecoveryBeTried=function(t,e,n){return!1!==n&&(void 0!==t&&void 0!==e&&(!this.tokenMatcher(this.LA(1),t)&&(!this.isBackTracking()&&!this.canPerformInRuleRecovery(t,this.getFollowsForInRuleRecovery(t,e)))))},t.prototype.getFollowsForInRuleRecovery=function(t,e){var n=this.getCurrentGrammarPath(t,e);return this.getNextPossibleTokenTypes(n)},t.prototype.tryInRuleRecovery=function(t,e){if(this.canRecoverWithSingleTokenInsertion(t,e))return this.getTokenToInsert(t);if(this.canRecoverWithSingleTokenDeletion(t)){var n=this.SKIP_TOKEN();return this.consumeToken(),n}throw new Oe("sad sad panda")},t.prototype.canPerformInRuleRecovery=function(t,e){return this.canRecoverWithSingleTokenInsertion(t,e)||this.canRecoverWithSingleTokenDeletion(t)},t.prototype.canRecoverWithSingleTokenInsertion=function(t,e){var n=this;if(!this.canTokenTypeBeInsertedInRecovery(t))return!1;if(Object(i.A)(e))return!1;var r=this.LA(1);return void 0!==Object(i.q)(e,(function(t){return n.tokenMatcher(r,t)}))},t.prototype.canRecoverWithSingleTokenDeletion=function(t){return this.tokenMatcher(this.LA(2),t)},t.prototype.isInCurrentRuleReSyncSet=function(t){var e=this.getCurrFollowKey(),n=this.getFollowSetFromFollowKey(e);return Object(i.j)(n,t)},t.prototype.findReSyncTokenType=function(){for(var t=this.flattenFollowSet(),e=this.LA(1),n=2;;){var r=e.tokenType;if(Object(i.j)(t,r))return r;e=this.LA(n),n++}},t.prototype.getCurrFollowKey=function(){if(1===this.RULE_STACK.length)return ge;var t=this.getLastExplicitRuleShortName(),e=this.getLastExplicitRuleOccurrenceIndex(),n=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(t),idxInCallingRule:e,inRule:this.shortRuleNameToFullName(n)}},t.prototype.buildFullFollowKeyStack=function(){var t=this,e=this.RULE_STACK,n=this.RULE_OCCURRENCE_STACK;return Object(i.I)(e,(function(r,i){return 0===i?ge:{ruleName:t.shortRuleNameToFullName(r),idxInCallingRule:n[i],inRule:t.shortRuleNameToFullName(e[i-1])}}))},t.prototype.flattenFollowSet=function(){var t=this,e=Object(i.I)(this.buildFullFollowKeyStack(),(function(e){return t.getFollowSetFromFollowKey(e)}));return Object(i.t)(e)},t.prototype.getFollowSetFromFollowKey=function(t){if(t===ge)return[Q];var e=t.ruleName+t.idxInCallingRule+It+t.inRule;return this.resyncFollows[e]},t.prototype.addToResyncTokens=function(t,e){return this.tokenMatcher(t,Q)||e.push(t),e},t.prototype.reSyncTo=function(t){for(var e=[],n=this.LA(1);!1===this.tokenMatcher(n,t);)n=this.SKIP_TOKEN(),this.addToResyncTokens(n,e);return Object(i.n)(e)},t.prototype.attemptInRepetitionRecovery=function(t,e,n,r,i,o,a){},t.prototype.getCurrentGrammarPath=function(t,e){return{ruleStack:this.getHumanReadableRuleStack(),occurrenceStack:Object(i.g)(this.RULE_OCCURRENCE_STACK),lastTok:t,lastTokOccurrence:e}},t.prototype.getHumanReadableRuleStack=function(){var t=this;return Object(i.I)(this.RULE_STACK,(function(e){return t.shortRuleNameToFullName(e)}))},t}();function Ee(t,e,n,r,i,o,a){var u=this.getKeyForAutomaticLookahead(r,i),c=this.firstAfterRepMap[u];if(void 0===c){var s=this.getCurrRuleFullName();c=new o(this.getGAstProductions()[s],i).startWalking(),this.firstAfterRepMap[u]=c}var f=c.token,l=c.occurrence,h=c.isEndOfRule;1===this.RULE_STACK.length&&h&&void 0===f&&(f=Q,l=1),this.shouldInRepetitionRecoveryBeTried(f,l,a)&&this.tryInRepetitionRecovery(t,e,n,f)}function Te(t,e,n){return n|e|t}var be=function(){function t(){}return t.prototype.initLooksAhead=function(t){this.dynamicTokensEnabled=Object(i.w)(t,"dynamicTokensEnabled")?t.dynamicTokensEnabled:Qe.dynamicTokensEnabled,this.maxLookahead=Object(i.w)(t,"maxLookahead")?t.maxLookahead:Qe.maxLookahead,this.lookAheadFuncsCache=Object(i.z)()?new Map:[],Object(i.z)()?(this.getLaFuncFromCache=this.getLaFuncFromMap,this.setLaFuncCache=this.setLaFuncCacheUsingMap):(this.getLaFuncFromCache=this.getLaFuncFromObj,this.setLaFuncCache=this.setLaFuncUsingObj)},t.prototype.preComputeLookaheadFunctions=function(t){var e=this;Object(i.u)(t,(function(t){e.TRACE_INIT(t.name+" Rule Lookahead",(function(){var n=function(t){bt.reset(),t.accept(bt);var e=bt.dslMethods;return bt.reset(),e}(t),r=n.alternation,o=n.repetition,a=n.option,u=n.repetitionMandatory,c=n.repetitionMandatoryWithSeparator,s=n.repetitionWithSeparator;Object(i.u)(r,(function(n){var r=0===n.idx?"":n.idx;e.TRACE_INIT(""+Et(n)+r,(function(){var r,i,o,a,u,c,s,f=(r=n.idx,i=t,o=n.maxLookahead||e.maxLookahead,a=n.hasPredicates,u=e.dynamicTokensEnabled,c=e.lookAheadBuilderForAlternatives,s=Zt(r,i,o),c(s,a,te(s)?F:U,u)),l=Te(e.fullRuleNameToShort[t.name],256,n.idx);e.setLaFuncCache(l,f)}))})),Object(i.u)(o,(function(n){e.computeLookaheadFunc(t,n.idx,768,Kt.REPETITION,n.maxLookahead,Et(n))})),Object(i.u)(a,(function(n){e.computeLookaheadFunc(t,n.idx,512,Kt.OPTION,n.maxLookahead,Et(n))})),Object(i.u)(u,(function(n){e.computeLookaheadFunc(t,n.idx,1024,Kt.REPETITION_MANDATORY,n.maxLookahead,Et(n))})),Object(i.u)(c,(function(n){e.computeLookaheadFunc(t,n.idx,1536,Kt.REPETITION_MANDATORY_WITH_SEPARATOR,n.maxLookahead,Et(n))})),Object(i.u)(s,(function(n){e.computeLookaheadFunc(t,n.idx,1280,Kt.REPETITION_WITH_SEPARATOR,n.maxLookahead,Et(n))}))}))}))},t.prototype.computeLookaheadFunc=function(t,e,n,r,i,o){var a=this;this.TRACE_INIT(""+o+(0===e?"":e),(function(){var o=function(t,e,n,r,i,o){var a=Jt(t,e,i,n),u=te(a)?F:U;return o(a[0],u,r)}(e,t,i||a.maxLookahead,a.dynamicTokensEnabled,r,a.lookAheadBuilderForOptional),u=Te(a.fullRuleNameToShort[t.name],n,e);a.setLaFuncCache(u,o)}))},t.prototype.lookAheadBuilderForOptional=function(t,e,n){return function(t,e,n){var r=Object(i.o)(t,(function(t){return 1===t.length})),o=t.length;if(r&&!n){var a=Object(i.t)(t);if(1===a.length&&Object(i.A)(a[0].categoryMatches)){var u=a[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===u}}var c=Object(i.O)(a,(function(t,e,n){return t[e.tokenTypeIdx]=!0,Object(i.u)(e.categoryMatches,(function(e){t[e]=!0})),t}),[]);return function(){var t=this.LA(1);return!0===c[t.tokenTypeIdx]}}return function(){t:for(var n=0;n<o;n++){for(var r=t[n],i=r.length,a=0;a<i;a++){var u=this.LA(a+1);if(!1===e(u,r[a]))continue t}return!0}return!1}}(t,e,n)},t.prototype.lookAheadBuilderForAlternatives=function(t,e,n,r){return function(t,e,n,r){var o=t.length,a=Object(i.o)(t,(function(t){return Object(i.o)(t,(function(t){return 1===t.length}))}));if(e)return function(e){for(var r=Object(i.I)(e,(function(t){return t.GATE})),a=0;a<o;a++){var u=t[a],c=u.length,s=r[a];if(void 0===s||!1!==s.call(this))t:for(var f=0;f<c;f++){for(var l=u[f],h=l.length,p=0;p<h;p++){var d=this.LA(p+1);if(!1===n(d,l[p]))continue t}return a}}};if(a&&!r){var u=Object(i.I)(t,(function(t){return Object(i.t)(t)})),c=Object(i.O)(u,(function(t,e,n){return Object(i.u)(e,(function(e){Object(i.w)(t,e.tokenTypeIdx)||(t[e.tokenTypeIdx]=n),Object(i.u)(e.categoryMatches,(function(e){Object(i.w)(t,e)||(t[e]=n)}))})),t}),[]);return function(){var t=this.LA(1);return c[t.tokenTypeIdx]}}return function(){for(var e=0;e<o;e++){var r=t[e],i=r.length;t:for(var a=0;a<i;a++){for(var u=r[a],c=u.length,s=0;s<c;s++){var f=this.LA(s+1);if(!1===n(f,u[s]))continue t}return e}}}}(t,e,n,r)},t.prototype.getKeyForAutomaticLookahead=function(t,e){return Te(this.getLastExplicitRuleShortName(),t,e)},t.prototype.getLaFuncFromCache=function(t){},t.prototype.getLaFuncFromMap=function(t){return this.lookAheadFuncsCache.get(t)},t.prototype.getLaFuncFromObj=function(t){return this.lookAheadFuncsCache[t]},t.prototype.setLaFuncCache=function(t,e){},t.prototype.setLaFuncCacheUsingMap=function(t,e){this.lookAheadFuncsCache.set(t,e)},t.prototype.setLaFuncUsingObj=function(t,e){this.lookAheadFuncsCache[t]=e},t}();function Ae(t,e){!0===isNaN(t.startOffset)?(t.startOffset=e.startOffset,t.endOffset=e.endOffset):t.endOffset<e.endOffset==!0&&(t.endOffset=e.endOffset)}function Ie(t,e){!0===isNaN(t.startOffset)?(t.startOffset=e.startOffset,t.startColumn=e.startColumn,t.startLine=e.startLine,t.endOffset=e.endOffset,t.endColumn=e.endColumn,t.endLine=e.endLine):t.endOffset<e.endOffset==!0&&(t.endOffset=e.endOffset,t.endColumn=e.endColumn,t.endLine=e.endLine)}var Re,Ne=/^\s*function\s*(\S*)\s*\(/;function Se(t){var e=t.name;return e||t.toString().match(Ne)[1]}function Le(t,e){var n=Object.getOwnPropertyDescriptor(t,"name");return!(!Object(i.F)(n)&&!n.configurable)&&(Object.defineProperty(t,"name",{enumerable:!1,configurable:!0,writable:!1,value:e}),!0)}function ke(t,e){for(var n=Object(i.G)(t),r=n.length,o=0;o<r;o++)for(var a=t[n[o]],u=a.length,c=0;c<u;c++){var s=a[c];void 0===s.tokenTypeIdx&&this[s.name](s.children,e)}}function xe(t,e){var n=function(){};return Le(n,t+"BaseSemantics"),(n.prototype={visit:function(t,e){if(Object(i.y)(t)&&(t=t[0]),!Object(i.F)(t))return this[t.name](t.children,e)},validateVisitor:function(){var t=function(t,e){var n=function(t,e){var n=Object(i.I)(e,(function(e){if(!Object(i.B)(t[e]))return{msg:"Missing visitor method: <"+e+"> on "+Se(t.constructor)+" CST Visitor.",type:Re.MISSING_METHOD,methodName:e}}));return Object(i.i)(n)}(t,e),r=function(t,e){var n=[];for(var r in t)ae.test(r)&&Object(i.B)(t[r])&&!Object(i.j)(je,r)&&!Object(i.j)(e,r)&&n.push({msg:"Redundant visitor method: <"+r+"> on "+Se(t.constructor)+" CST Visitor\nThere is no Grammar Rule corresponding to this method's name.\nFor utility methods on visitor classes use methods names that do not match /"+ae.source+"/.",type:Re.REDUNDANT_METHOD,methodName:r});return n}(t,e);return n.concat(r)}(this,e);if(!Object(i.A)(t)){var n=Object(i.I)(t,(function(t){return t.msg}));throw Error("Errors Detected in CST Visitor <"+Se(this.constructor)+">:\n\t"+n.join("\n\n").replace(/\n/g,"\n\t"))}}}).constructor=n,n._RULE_NAMES=e,n}!function(t){t[t.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",t[t.MISSING_METHOD=1]="MISSING_METHOD"}(Re||(Re={}));var je=["constructor","visit","validateVisitor"];var Ce=function(){function t(){}return t.prototype.initTreeBuilder=function(t){if(this.CST_STACK=[],this.outputCst=t.outputCst,this.nodeLocationTracking=Object(i.w)(t,"nodeLocationTracking")?t.nodeLocationTracking:Qe.nodeLocationTracking,this.outputCst)if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=Ie,this.setNodeLocationFromNode=Ie,this.cstPostRule=i.b,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=i.b,this.setNodeLocationFromNode=i.b,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=Ae,this.setNodeLocationFromNode=Ae,this.cstPostRule=i.b,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=i.b,this.setNodeLocationFromNode=i.b,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else{if(!/none/i.test(this.nodeLocationTracking))throw Error('Invalid <nodeLocationTracking> config option: "'+t.nodeLocationTracking+'"');this.setNodeLocationFromToken=i.b,this.setNodeLocationFromNode=i.b,this.cstPostRule=i.b,this.setInitialNodeLocation=i.b}else this.cstInvocationStateUpdate=i.b,this.cstFinallyStateUpdate=i.b,this.cstPostTerminal=i.b,this.cstPostNonTerminal=i.b,this.cstPostRule=i.b},t.prototype.setInitialNodeLocationOnlyOffsetRecovery=function(t){t.location={startOffset:NaN,endOffset:NaN}},t.prototype.setInitialNodeLocationOnlyOffsetRegular=function(t){t.location={startOffset:this.LA(1).startOffset,endOffset:NaN}},t.prototype.setInitialNodeLocationFullRecovery=function(t){t.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}},t.prototype.setInitialNodeLocationFullRegular=function(t){var e=this.LA(1);t.location={startOffset:e.startOffset,startLine:e.startLine,startColumn:e.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}},t.prototype.cstInvocationStateUpdate=function(t,e){var n={name:t,children:{}};this.setInitialNodeLocation(n),this.CST_STACK.push(n)},t.prototype.cstFinallyStateUpdate=function(){this.CST_STACK.pop()},t.prototype.cstPostRuleFull=function(t){var e=this.LA(0),n=t.location;n.startOffset<=e.startOffset==!0?(n.endOffset=e.endOffset,n.endLine=e.endLine,n.endColumn=e.endColumn):(n.startOffset=NaN,n.startLine=NaN,n.startColumn=NaN)},t.prototype.cstPostRuleOnlyOffset=function(t){var e=this.LA(0),n=t.location;n.startOffset<=e.startOffset==!0?n.endOffset=e.endOffset:n.startOffset=NaN},t.prototype.cstPostTerminal=function(t,e){var n,r,i,o=this.CST_STACK[this.CST_STACK.length-1];r=e,i=t,void 0===(n=o).children[i]?n.children[i]=[r]:n.children[i].push(r),this.setNodeLocationFromToken(o.location,e)},t.prototype.cstPostNonTerminal=function(t,e){var n=this.CST_STACK[this.CST_STACK.length-1];!function(t,e,n){void 0===t.children[e]?t.children[e]=[n]:t.children[e].push(n)}(n,e,t),this.setNodeLocationFromNode(n.location,t.location)},t.prototype.getBaseCstVisitorConstructor=function(){if(Object(i.F)(this.baseCstVisitorConstructor)){var t=xe(this.className,Object(i.G)(this.gastProductionsCache));return this.baseCstVisitorConstructor=t,t}return this.baseCstVisitorConstructor},t.prototype.getBaseCstVisitorConstructorWithDefaults=function(){if(Object(i.F)(this.baseCstVisitorWithDefaultsConstructor)){var t=function(t,e,n){var r=function(){};Le(r,t+"BaseSemanticsWithDefaults");var o=Object.create(n.prototype);return Object(i.u)(e,(function(t){o[t]=ke})),(r.prototype=o).constructor=r,r}(this.className,Object(i.G)(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=t,t}return this.baseCstVisitorWithDefaultsConstructor},t.prototype.getLastExplicitRuleShortName=function(){var t=this.RULE_STACK;return t[t.length-1]},t.prototype.getPreviousExplicitRuleShortName=function(){var t=this.RULE_STACK;return t[t.length-2]},t.prototype.getLastExplicitRuleOccurrenceIndex=function(){var t=this.RULE_OCCURRENCE_STACK;return t[t.length-1]},t}(),we=function(){function t(){}return t.prototype.initLexerAdapter=function(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1},Object.defineProperty(t.prototype,"input",{get:function(){return this.tokVector},set:function(t){if(!0!==this.selfAnalysisDone)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=t,this.tokVectorLength=t.length},enumerable:!0,configurable:!0}),t.prototype.SKIP_TOKEN=function(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):Ze},t.prototype.LA=function(t){var e=this.currIdx+t;return e<0||this.tokVectorLength<=e?Ze:this.tokVector[e]},t.prototype.consumeToken=function(){this.currIdx++},t.prototype.exportLexerState=function(){return this.currIdx},t.prototype.importLexerState=function(t){this.currIdx=t},t.prototype.resetLexerState=function(){this.currIdx=-1},t.prototype.moveToTerminatedState=function(){this.currIdx=this.tokVector.length-1},t.prototype.getLexerPosition=function(){return this.exportLexerState()},t}(),Pe=function(){function t(){}return t.prototype.ACTION=function(t){return t.call(this)},t.prototype.consume=function(t,e,n){return this.consumeInternal(e,t,n)},t.prototype.subrule=function(t,e,n){return this.subruleInternal(e,t,n)},t.prototype.option=function(t,e){return this.optionInternal(e,t)},t.prototype.or=function(t,e){return this.orInternal(e,t)},t.prototype.many=function(t,e){return this.manyInternal(t,e)},t.prototype.atLeastOne=function(t,e){return this.atLeastOneInternal(t,e)},t.prototype.CONSUME=function(t,e){return this.consumeInternal(t,0,e)},t.prototype.CONSUME1=function(t,e){return this.consumeInternal(t,1,e)},t.prototype.CONSUME2=function(t,e){return this.consumeInternal(t,2,e)},t.prototype.CONSUME3=function(t,e){return this.consumeInternal(t,3,e)},t.prototype.CONSUME4=function(t,e){return this.consumeInternal(t,4,e)},t.prototype.CONSUME5=function(t,e){return this.consumeInternal(t,5,e)},t.prototype.CONSUME6=function(t,e){return this.consumeInternal(t,6,e)},t.prototype.CONSUME7=function(t,e){return this.consumeInternal(t,7,e)},t.prototype.CONSUME8=function(t,e){return this.consumeInternal(t,8,e)},t.prototype.CONSUME9=function(t,e){return this.consumeInternal(t,9,e)},t.prototype.SUBRULE=function(t,e){return this.subruleInternal(t,0,e)},t.prototype.SUBRULE1=function(t,e){return this.subruleInternal(t,1,e)},t.prototype.SUBRULE2=function(t,e){return this.subruleInternal(t,2,e)},t.prototype.SUBRULE3=function(t,e){return this.subruleInternal(t,3,e)},t.prototype.SUBRULE4=function(t,e){return this.subruleInternal(t,4,e)},t.prototype.SUBRULE5=function(t,e){return this.subruleInternal(t,5,e)},t.prototype.SUBRULE6=function(t,e){return this.subruleInternal(t,6,e)},t.prototype.SUBRULE7=function(t,e){return this.subruleInternal(t,7,e)},t.prototype.SUBRULE8=function(t,e){return this.subruleInternal(t,8,e)},t.prototype.SUBRULE9=function(t,e){return this.subruleInternal(t,9,e)},t.prototype.OPTION=function(t){return this.optionInternal(t,0)},t.prototype.OPTION1=function(t){return this.optionInternal(t,1)},t.prototype.OPTION2=function(t){return this.optionInternal(t,2)},t.prototype.OPTION3=function(t){return this.optionInternal(t,3)},t.prototype.OPTION4=function(t){return this.optionInternal(t,4)},t.prototype.OPTION5=function(t){return this.optionInternal(t,5)},t.prototype.OPTION6=function(t){return this.optionInternal(t,6)},t.prototype.OPTION7=function(t){return this.optionInternal(t,7)},t.prototype.OPTION8=function(t){return this.optionInternal(t,8)},t.prototype.OPTION9=function(t){return this.optionInternal(t,9)},t.prototype.OR=function(t){return this.orInternal(t,0)},t.prototype.OR1=function(t){return this.orInternal(t,1)},t.prototype.OR2=function(t){return this.orInternal(t,2)},t.prototype.OR3=function(t){return this.orInternal(t,3)},t.prototype.OR4=function(t){return this.orInternal(t,4)},t.prototype.OR5=function(t){return this.orInternal(t,5)},t.prototype.OR6=function(t){return this.orInternal(t,6)},t.prototype.OR7=function(t){return this.orInternal(t,7)},t.prototype.OR8=function(t){return this.orInternal(t,8)},t.prototype.OR9=function(t){return this.orInternal(t,9)},t.prototype.MANY=function(t){this.manyInternal(0,t)},t.prototype.MANY1=function(t){this.manyInternal(1,t)},t.prototype.MANY2=function(t){this.manyInternal(2,t)},t.prototype.MANY3=function(t){this.manyInternal(3,t)},t.prototype.MANY4=function(t){this.manyInternal(4,t)},t.prototype.MANY5=function(t){this.manyInternal(5,t)},t.prototype.MANY6=function(t){this.manyInternal(6,t)},t.prototype.MANY7=function(t){this.manyInternal(7,t)},t.prototype.MANY8=function(t){this.manyInternal(8,t)},t.prototype.MANY9=function(t){this.manyInternal(9,t)},t.prototype.MANY_SEP=function(t){this.manySepFirstInternal(0,t)},t.prototype.MANY_SEP1=function(t){this.manySepFirstInternal(1,t)},t.prototype.MANY_SEP2=function(t){this.manySepFirstInternal(2,t)},t.prototype.MANY_SEP3=function(t){this.manySepFirstInternal(3,t)},t.prototype.MANY_SEP4=function(t){this.manySepFirstInternal(4,t)},t.prototype.MANY_SEP5=function(t){this.manySepFirstInternal(5,t)},t.prototype.MANY_SEP6=function(t){this.manySepFirstInternal(6,t)},t.prototype.MANY_SEP7=function(t){this.manySepFirstInternal(7,t)},t.prototype.MANY_SEP8=function(t){this.manySepFirstInternal(8,t)},t.prototype.MANY_SEP9=function(t){this.manySepFirstInternal(9,t)},t.prototype.AT_LEAST_ONE=function(t){this.atLeastOneInternal(0,t)},t.prototype.AT_LEAST_ONE1=function(t){return this.atLeastOneInternal(1,t)},t.prototype.AT_LEAST_ONE2=function(t){this.atLeastOneInternal(2,t)},t.prototype.AT_LEAST_ONE3=function(t){this.atLeastOneInternal(3,t)},t.prototype.AT_LEAST_ONE4=function(t){this.atLeastOneInternal(4,t)},t.prototype.AT_LEAST_ONE5=function(t){this.atLeastOneInternal(5,t)},t.prototype.AT_LEAST_ONE6=function(t){this.atLeastOneInternal(6,t)},t.prototype.AT_LEAST_ONE7=function(t){this.atLeastOneInternal(7,t)},t.prototype.AT_LEAST_ONE8=function(t){this.atLeastOneInternal(8,t)},t.prototype.AT_LEAST_ONE9=function(t){this.atLeastOneInternal(9,t)},t.prototype.AT_LEAST_ONE_SEP=function(t){this.atLeastOneSepFirstInternal(0,t)},t.prototype.AT_LEAST_ONE_SEP1=function(t){this.atLeastOneSepFirstInternal(1,t)},t.prototype.AT_LEAST_ONE_SEP2=function(t){this.atLeastOneSepFirstInternal(2,t)},t.prototype.AT_LEAST_ONE_SEP3=function(t){this.atLeastOneSepFirstInternal(3,t)},t.prototype.AT_LEAST_ONE_SEP4=function(t){this.atLeastOneSepFirstInternal(4,t)},t.prototype.AT_LEAST_ONE_SEP5=function(t){this.atLeastOneSepFirstInternal(5,t)},t.prototype.AT_LEAST_ONE_SEP6=function(t){this.atLeastOneSepFirstInternal(6,t)},t.prototype.AT_LEAST_ONE_SEP7=function(t){this.atLeastOneSepFirstInternal(7,t)},t.prototype.AT_LEAST_ONE_SEP8=function(t){this.atLeastOneSepFirstInternal(8,t)},t.prototype.AT_LEAST_ONE_SEP9=function(t){this.atLeastOneSepFirstInternal(9,t)},t.prototype.RULE=function(t,e,n){if(void 0===n&&(n=tn),Object(i.j)(this.definedRulesNames,t)){var r={message:kt.buildDuplicateRuleNameError({topLevelRule:t,grammarName:this.className}),type:Je.DUPLICATE_RULE_NAME,ruleName:t};this.definitionErrors.push(r)}this.definedRulesNames.push(t);var o=this.defineRule(t,e,n);return this[t]=o,o},t.prototype.OVERRIDE_RULE=function(t,e,n){void 0===n&&(n=tn);var r,o,a,u,c,s=[];s=s.concat((r=t,o=this.definedRulesNames,a=this.className,c=[],i.j(o,r)||(u="Invalid rule override, rule: ->"+r+"<- cannot be overridden in the grammar: ->"+a+"<-as it is not defined in any of the super grammars ",c.push({message:u,type:Je.INVALID_RULE_OVERRIDE,ruleName:r})),c)),this.definitionErrors.push.apply(this.definitionErrors,s);var f=this.defineRule(t,e,n);return this[t]=f,f},t.prototype.BACKTRACK=function(t,e){return function(){this.isBackTrackingStack.push(1);var n=this.saveRecogState();try{return t.apply(this,e),!0}catch(t){if(pe(t))return!1;throw t}finally{this.reloadRecogState(n),this.isBackTrackingStack.pop()}}},t.prototype.getGAstProductions=function(){return this.gastProductionsCache},t.prototype.getSerializedGastProductions=function(){return dt(Object(i.U)(this.gastProductionsCache))},t}(),Me=function(){function t(){}return t.prototype.initRecognizerEngine=function(t,e){if(this.className=Se(this.constructor),this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=F,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},Object(i.w)(e,"serializedGrammar"))throw Error("The Parser's configuration can no longer contain a <serializedGrammar> property.\n\tSee: https://sap.github.io/chevrotain/docs/changes/BREAKING_CHANGES.html#_6-0-0\n\tFor Further details.");if(Object(i.y)(t)){if(Object(i.A)(t))throw Error("A Token Vocabulary cannot be empty.\n\tNote that the first argument for the parser constructor\n\tis no longer a Token vector (since v4.0).");if("number"==typeof t[0].startOffset)throw Error("The Parser constructor no longer accepts a token vector as the first argument.\n\tSee: https://sap.github.io/chevrotain/docs/changes/BREAKING_CHANGES.html#_4-0-0\n\tFor Further details.")}if(Object(i.y)(t))this.tokensMap=Object(i.O)(t,(function(t,e){return t[e.name]=e,t}),{});else if(Object(i.w)(t,"modes")&&Object(i.o)(Object(i.t)(Object(i.U)(t.modes)),z)){var n=Object(i.t)(Object(i.U)(t.modes)),r=Object(i.T)(n);this.tokensMap=Object(i.O)(r,(function(t,e){return t[e.name]=e,t}),{})}else{if(!Object(i.C)(t))throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap=Object(i.h)(t)}this.tokensMap.EOF=Q;var o=Object(i.o)(Object(i.U)(t),(function(t){return Object(i.A)(t.categoryMatches)}));this.tokenMatcher=o?F:U,W(Object(i.U)(this.tokensMap))},t.prototype.defineRule=function(t,e,n){if(this.selfAnalysisDone)throw Error("Grammar rule <"+t+"> may not be defined after the 'performSelfAnalysis' method has been called'\nMake sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.");var r,o=Object(i.w)(n,"resyncEnabled")?n.resyncEnabled:tn.resyncEnabled,a=Object(i.w)(n,"recoveryValueFunc")?n.recoveryValueFunc:tn.recoveryValueFunc,u=this.ruleShortNameIdx<<12;function c(t){try{if(!0===this.outputCst){e.apply(this,t);var n=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(n),n}return e.apply(this,t)}catch(t){return this.invokeRuleCatch(t,o,a)}finally{this.ruleFinallyStateUpdate()}}this.ruleShortNameIdx++,this.shortRuleNameToFull[u]=t,this.fullRuleNameToShort[t]=u;return(r=function(e,n){return void 0===e&&(e=0),this.ruleInvocationStateUpdate(u,t,e),c.call(this,n)}).ruleName=t,r.originalGrammarAction=e,r},t.prototype.invokeRuleCatch=function(t,e,n){var r=1===this.RULE_STACK.length,i=e&&!this.isBackTracking()&&this.recoveryEnabled;if(pe(t)){var o=t;if(i){var a,u=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(u))return o.resyncedTokens=this.reSyncTo(u),this.outputCst?((a=this.CST_STACK[this.CST_STACK.length-1]).recoveredNode=!0,a):n();throw this.outputCst&&((a=this.CST_STACK[this.CST_STACK.length-1]).recoveredNode=!0,o.partialCstResult=a),o}if(r)return this.moveToTerminatedState(),n();throw o}throw t},t.prototype.optionInternal=function(t,e){var n=this.getKeyForAutomaticLookahead(512,e);return this.optionInternalLogic(t,e,n)},t.prototype.optionInternalLogic=function(t,e,n){var r,i,o=this,a=this.getLaFuncFromCache(n);if(void 0!==t.DEF){if(r=t.DEF,void 0!==(i=t.GATE)){var u=a;a=function(){return i.call(o)&&u.call(o)}}}else r=t;if(!0===a.call(this))return r.call(this)},t.prototype.atLeastOneInternal=function(t,e){var n=this.getKeyForAutomaticLookahead(1024,t);return this.atLeastOneInternalLogic(t,e,n)},t.prototype.atLeastOneInternalLogic=function(t,e,n){var r,i,o=this,a=this.getLaFuncFromCache(n);if(void 0!==e.DEF){if(r=e.DEF,void 0!==(i=e.GATE)){var u=a;a=function(){return i.call(o)&&u.call(o)}}}else r=e;if(!0!==a.call(this))throw this.raiseEarlyExitException(t,Kt.REPETITION_MANDATORY,e.ERR_MSG);for(var c=this.doSingleRepetition(r);!0===a.call(this)&&!0===c;)c=this.doSingleRepetition(r);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[t,e],a,1024,t,Ft)},t.prototype.atLeastOneSepFirstInternal=function(t,e){var n=this.getKeyForAutomaticLookahead(1536,t);this.atLeastOneSepFirstInternalLogic(t,e,n)},t.prototype.atLeastOneSepFirstInternalLogic=function(t,e,n){var r=this,i=e.DEF,o=e.SEP;if(!0!==this.getLaFuncFromCache(n).call(this))throw this.raiseEarlyExitException(t,Kt.REPETITION_MANDATORY_WITH_SEPARATOR,e.ERR_MSG);i.call(this);for(var a=function(){return r.tokenMatcher(r.LA(1),o)};!0===this.tokenMatcher(this.LA(1),o);)this.CONSUME(o),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,o,a,i,Dt],a,1536,t,Dt)},t.prototype.manyInternal=function(t,e){var n=this.getKeyForAutomaticLookahead(768,t);return this.manyInternalLogic(t,e,n)},t.prototype.manyInternalLogic=function(t,e,n){var r,i,o=this,a=this.getLaFuncFromCache(n);if(void 0!==e.DEF){if(r=e.DEF,void 0!==(i=e.GATE)){var u=a;a=function(){return i.call(o)&&u.call(o)}}}else r=e;for(var c=!0;!0===a.call(this)&&!0===c;)c=this.doSingleRepetition(r);this.attemptInRepetitionRecovery(this.manyInternal,[t,e],a,768,t,Mt,c)},t.prototype.manySepFirstInternal=function(t,e){var n=this.getKeyForAutomaticLookahead(1280,t);this.manySepFirstInternalLogic(t,e,n)},t.prototype.manySepFirstInternalLogic=function(t,e,n){var r=this,i=e.DEF,o=e.SEP;if(!0===this.getLaFuncFromCache(n).call(this)){i.call(this);for(var a=function(){return r.tokenMatcher(r.LA(1),o)};!0===this.tokenMatcher(this.LA(1),o);)this.CONSUME(o),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,o,a,i,Ut],a,1280,t,Ut)}},t.prototype.repetitionSepSecondInternal=function(t,e,n,r,i){for(;n();)this.CONSUME(e),r.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,e,n,r,i],n,1536,t,i)},t.prototype.doSingleRepetition=function(t){var e=this.getLexerPosition();return t.call(this),this.getLexerPosition()>e},t.prototype.orInternal=function(t,e){var n=this.getKeyForAutomaticLookahead(256,e),r=Object(i.y)(t)?t:t.DEF,o=this.getLaFuncFromCache(n).call(this,r);if(void 0!==o)return r[o].ALT.call(this);this.raiseNoAltException(e,t.ERR_MSG)},t.prototype.ruleFinallyStateUpdate=function(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),0===this.RULE_STACK.length&&!1===this.isAtEndOfInput()){var t=this.LA(1),e=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:t,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new ye(e,t))}},t.prototype.subruleInternal=function(t,e,n){var r;try{var i=void 0!==n?n.ARGS:void 0;return r=t.call(this,e,i),this.cstPostNonTerminal(r,void 0!==n&&void 0!==n.LABEL?n.LABEL:t.ruleName),r}catch(e){this.subruleInternalError(e,n,t.ruleName)}},t.prototype.subruleInternalError=function(t,e,n){throw pe(t)&&void 0!==t.partialCstResult&&(this.cstPostNonTerminal(t.partialCstResult,void 0!==e&&void 0!==e.LABEL?e.LABEL:n),delete t.partialCstResult),t},t.prototype.consumeInternal=function(t,e,n){var r;try{var i=this.LA(1);!0===this.tokenMatcher(i,t)?(this.consumeToken(),r=i):this.consumeInternalError(t,i,n)}catch(n){r=this.consumeInternalRecovery(t,e,n)}return this.cstPostTerminal(void 0!==n&&void 0!==n.LABEL?n.LABEL:t.name,r),r},t.prototype.consumeInternalError=function(t,e,n){var r,i=this.LA(0);throw r=void 0!==n&&n.ERR_MSG?n.ERR_MSG:this.errorMessageProvider.buildMismatchTokenMessage({expected:t,actual:e,previous:i,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new de(r,e,i))},t.prototype.consumeInternalRecovery=function(t,e,n){if(!this.recoveryEnabled||"MismatchedTokenException"!==n.name||this.isBackTracking())throw n;var r=this.getFollowsForInRuleRecovery(t,e);try{return this.tryInRuleRecovery(t,r)}catch(t){throw"InRuleRecoveryException"===t.name?n:t}},t.prototype.saveRecogState=function(){var t=this.errors,e=Object(i.g)(this.RULE_STACK);return{errors:t,lexerState:this.exportLexerState(),RULE_STACK:e,CST_STACK:this.CST_STACK}},t.prototype.reloadRecogState=function(t){this.errors=t.errors,this.importLexerState(t.lexerState),this.RULE_STACK=t.RULE_STACK},t.prototype.ruleInvocationStateUpdate=function(t,e,n){this.RULE_OCCURRENCE_STACK.push(n),this.RULE_STACK.push(t),this.cstInvocationStateUpdate(e,t)},t.prototype.isBackTracking=function(){return 0!==this.isBackTrackingStack.length},t.prototype.getCurrRuleFullName=function(){var t=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[t]},t.prototype.shortRuleNameToFullName=function(t){return this.shortRuleNameToFull[t]},t.prototype.isAtEndOfInput=function(){return this.tokenMatcher(this.LA(1),Q)},t.prototype.reset=function(){this.resetLexerState(),this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]},t}(),Ue=function(){function t(){}return t.prototype.initErrorHandler=function(t){this._errors=[],this.errorMessageProvider=Object(i.w)(t,"errorMessageProvider")?t.errorMessageProvider:Qe.errorMessageProvider},t.prototype.SAVE_ERROR=function(t){if(pe(t))return t.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:Object(i.g)(this.RULE_OCCURRENCE_STACK)},this._errors.push(t),t;throw Error("Trying to save an Error which is not a RecognitionException")},Object.defineProperty(t.prototype,"errors",{get:function(){return Object(i.g)(this._errors)},set:function(t){this._errors=t},enumerable:!0,configurable:!0}),t.prototype.raiseEarlyExitException=function(t,e,n){for(var r=this.getCurrRuleFullName(),i=Jt(t,this.getGAstProductions()[r],e,this.maxLookahead)[0],o=[],a=1;a<=this.maxLookahead;a++)o.push(this.LA(a));var u=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:i,actual:o,previous:this.LA(0),customUserDescription:n,ruleName:r});throw this.SAVE_ERROR(new me(u,this.LA(1),this.LA(0)))},t.prototype.raiseNoAltException=function(t,e){for(var n=this.getCurrRuleFullName(),r=Zt(t,this.getGAstProductions()[n],this.maxLookahead),i=[],o=1;o<=this.maxLookahead;o++)i.push(this.LA(o));var a=this.LA(0),u=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:r,actual:i,previous:a,customUserDescription:e,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new ve(u,this.LA(1),a))},t}(),Fe=function(){function t(){}return t.prototype.initContentAssist=function(){},t.prototype.computeContentAssist=function(t,e){var n=this.gastProductionsCache[t];if(Object(i.F)(n))throw Error("Rule ->"+t+"<- does not exist in this grammar.");return Wt([n],e,this.tokenMatcher,this.maxLookahead)},t.prototype.getNextPossibleTokenTypes=function(t){var e=Object(i.s)(t.ruleStack),n=this.getGAstProductions()[e];return new wt(n,t).startWalking()},t}(),De={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(De);var Be=Math.pow(2,8)-1,We=J({name:"RECORDING_PHASE_TOKEN",pattern:$.NA});W([We]);var Ge=tt(We,"This IToken indicates the Parser is in Recording Phase\n\tSee: https://sap.github.io/chevrotain/docs/guide/internals.html#grammar-recording for details",-1,-1,-1,-1,-1,-1);Object.freeze(Ge);var Ke={name:"This CSTNode indicates the Parser is in Recording Phase\n\tSee: https://sap.github.io/chevrotain/docs/guide/internals.html#grammar-recording for details",children:{}},ze=function(){function t(){}return t.prototype.initGastRecorder=function(t){this.recordingProdStack=[],this.RECORDING_PHASE=!1},t.prototype.enableRecording=function(){var t=this;this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",(function(){for(var e=function(e){var n=e>0?e:"";t["CONSUME"+n]=function(t,n){return this.consumeInternalRecord(t,e,n)},t["SUBRULE"+n]=function(t,n){return this.subruleInternalRecord(t,e,n)},t["OPTION"+n]=function(t){return this.optionInternalRecord(t,e)},t["OR"+n]=function(t){return this.orInternalRecord(t,e)},t["MANY"+n]=function(t){this.manyInternalRecord(e,t)},t["MANY_SEP"+n]=function(t){this.manySepFirstInternalRecord(e,t)},t["AT_LEAST_ONE"+n]=function(t){this.atLeastOneInternalRecord(e,t)},t["AT_LEAST_ONE_SEP"+n]=function(t){this.atLeastOneSepFirstInternalRecord(e,t)}},n=0;n<10;n++)e(n);t.consume=function(t,e,n){return this.consumeInternalRecord(e,t,n)},t.subrule=function(t,e,n){return this.subruleInternalRecord(e,t,n)},t.option=function(t,e){return this.optionInternalRecord(e,t)},t.or=function(t,e){return this.orInternalRecord(e,t)},t.many=function(t,e){this.manyInternalRecord(t,e)},t.atLeastOne=function(t,e){this.atLeastOneInternalRecord(t,e)},t.ACTION=t.ACTION_RECORD,t.BACKTRACK=t.BACKTRACK_RECORD,t.LA=t.LA_RECORD}))},t.prototype.disableRecording=function(){var t=this;this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",(function(){for(var e=0;e<10;e++){var n=e>0?e:"";delete t["CONSUME"+n],delete t["SUBRULE"+n],delete t["OPTION"+n],delete t["OR"+n],delete t["MANY"+n],delete t["MANY_SEP"+n],delete t["AT_LEAST_ONE"+n],delete t["AT_LEAST_ONE_SEP"+n]}delete t.consume,delete t.subrule,delete t.option,delete t.or,delete t.many,delete t.atLeastOne,delete t.ACTION,delete t.BACKTRACK,delete t.LA}))},t.prototype.ACTION_RECORD=function(t){},t.prototype.BACKTRACK_RECORD=function(t,e){return function(){return!0}},t.prototype.LA_RECORD=function(t){return Ze},t.prototype.topLevelRuleRecord=function(t,e){try{var n=new ot({definition:[],name:t});return n.name=t,this.recordingProdStack.push(n),e.call(this),this.recordingProdStack.pop(),n}catch(t){if(!0!==t.KNOWN_RECORDER_ERROR)try{t.message=t.message+'\n\t This error was thrown during the "grammar recording phase" For more info see:\n\thttps://sap.github.io/chevrotain/docs/guide/internals.html#grammar-recording'}catch(e){throw t}throw t}},t.prototype.optionInternalRecord=function(t,e){return Ve.call(this,ut,t,e)},t.prototype.atLeastOneInternalRecord=function(t,e){Ve.call(this,ct,e,t)},t.prototype.atLeastOneSepFirstInternalRecord=function(t,e){Ve.call(this,st,e,t,!0)},t.prototype.manyInternalRecord=function(t,e){Ve.call(this,ft,e,t)},t.prototype.manySepFirstInternalRecord=function(t,e){Ve.call(this,lt,e,t,!0)},t.prototype.orInternalRecord=function(t,e){return He.call(this,t,e)},t.prototype.subruleInternalRecord=function(t,e,n){if($e(e),!t||!1===Object(i.w)(t,"ruleName")){var r=new Error("<SUBRULE"+Ye(e)+"> argument is invalid expecting a Parser method reference but got: <"+JSON.stringify(t)+">\n inside top level rule: <"+this.recordingProdStack[0].name+">");throw r.KNOWN_RECORDER_ERROR=!0,r}var o=Object(i.M)(this.recordingProdStack),a=t.ruleName,u=new it({idx:e,nonTerminalName:a,referencedRule:void 0});return o.definition.push(u),this.outputCst?Ke:De},t.prototype.consumeInternalRecord=function(t,e,n){if($e(e),!G(t)){var r=new Error("<CONSUME"+Ye(e)+"> argument is invalid expecting a TokenType reference but got: <"+JSON.stringify(t)+">\n inside top level rule: <"+this.recordingProdStack[0].name+">");throw r.KNOWN_RECORDER_ERROR=!0,r}var o=Object(i.M)(this.recordingProdStack),a=new pt({idx:e,terminalType:t});return o.definition.push(a),Ge},t}();function Ve(t,e,n,r){void 0===r&&(r=!1),$e(n);var o=Object(i.M)(this.recordingProdStack),a=Object(i.B)(e)?e:e.DEF,u=new t({definition:[],idx:n});return r&&(u.separator=e.SEP),Object(i.w)(e,"MAX_LOOKAHEAD")&&(u.maxLookahead=e.MAX_LOOKAHEAD),this.recordingProdStack.push(u),a.call(this),o.definition.push(u),this.recordingProdStack.pop(),De}function He(t,e){var n=this;$e(e);var r=Object(i.M)(this.recordingProdStack),o=!1===Object(i.y)(t),a=!1===o?t:t.DEF,u=new ht({definition:[],idx:e,ignoreAmbiguities:o&&!0===t.IGNORE_AMBIGUITIES});Object(i.w)(t,"MAX_LOOKAHEAD")&&(u.maxLookahead=t.MAX_LOOKAHEAD);var c=Object(i.Q)(a,(function(t){return Object(i.B)(t.GATE)}));return u.hasPredicates=c,r.definition.push(u),Object(i.u)(a,(function(t){var e=new at({definition:[]});u.definition.push(e),Object(i.w)(t,"IGNORE_AMBIGUITIES")?e.ignoreAmbiguities=t.IGNORE_AMBIGUITIES:Object(i.w)(t,"GATE")&&(e.ignoreAmbiguities=!0),n.recordingProdStack.push(e),t.ALT.call(n),n.recordingProdStack.pop()})),De}function Ye(t){return 0===t?"":""+t}function $e(t){if(t<0||t>Be){var e=new Error("Invalid DSL Method idx value: <"+t+">\n\tIdx value must be a none negative value smaller than "+(Be+1));throw e.KNOWN_RECORDER_ERROR=!0,e}}var qe=function(){function t(){}return t.prototype.initPerformanceTracer=function(t){if(Object(i.w)(t,"traceInitPerf")){var e=t.traceInitPerf,n="number"==typeof e;this.traceInitMaxIdent=n?e:1/0,this.traceInitPerf=n?e>0:e}else this.traceInitMaxIdent=0,this.traceInitPerf=Qe.traceInitPerf;this.traceInitIndent=-1},t.prototype.TRACE_INIT=function(t,e){if(!0===this.traceInitPerf){this.traceInitIndent++;var n=new Array(this.traceInitIndent+1).join("\t");this.traceInitIndent<this.traceInitMaxIdent&&console.log(n+"--\x3e <"+t+">");var r=Object(i.R)(e),o=r.time,a=r.value,u=o>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&u(n+"<-- <"+t+"> time: "+o+"ms"),this.traceInitIndent--,a}return e()},t}(),Xe=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ze=tt(Q,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(Ze);var Je,Qe=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:St,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),tn=Object.freeze({recoveryValueFunc:function(){},resyncEnabled:!0});function en(t){return void 0===t&&(t=void 0),function(){return t}}!function(t){t[t.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",t[t.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",t[t.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",t[t.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",t[t.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",t[t.LEFT_RECURSION=5]="LEFT_RECURSION",t[t.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",t[t.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",t[t.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",t[t.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",t[t.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",t[t.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",t[t.TOO_MANY_ALTS=12]="TOO_MANY_ALTS"}(Je||(Je={}));var nn=function(){function t(t,e){this.definitionErrors=[],this.selfAnalysisDone=!1;if(this.initErrorHandler(e),this.initLexerAdapter(),this.initLooksAhead(e),this.initRecognizerEngine(t,e),this.initRecoverable(e),this.initTreeBuilder(e),this.initContentAssist(),this.initGastRecorder(e),this.initPerformanceTracer(e),Object(i.w)(e,"ignoredIssues"))throw new Error("The <ignoredIssues> IParserConfig property has been deprecated.\n\tPlease use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.\n\tSee: https://sap.github.io/chevrotain/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES\n\tFor further details.");this.skipValidations=Object(i.w)(e,"skipValidations")?e.skipValidations:Qe.skipValidations}return t.performSelfAnalysis=function(t){throw Error("The **static** `performSelfAnalysis` method has been deprecated.\t\nUse the **instance** method with the same name instead.")},t.prototype.performSelfAnalysis=function(){var e=this;this.TRACE_INIT("performSelfAnalysis",(function(){var n;e.selfAnalysisDone=!0;var r=e.className;e.TRACE_INIT("toFastProps",(function(){Object(i.S)(e)})),e.TRACE_INIT("Grammar Recording",(function(){try{e.enableRecording(),Object(i.u)(e.definedRulesNames,(function(t){var n=e[t].originalGrammarAction,r=void 0;e.TRACE_INIT(t+" Rule",(function(){r=e.topLevelRuleRecord(t,n)})),e.gastProductionsCache[t]=r}))}finally{e.disableRecording()}}));var o=[];if(e.TRACE_INIT("Grammar Resolving",(function(){o=se({rules:Object(i.U)(e.gastProductionsCache)}),e.definitionErrors.push.apply(e.definitionErrors,o)})),e.TRACE_INIT("Grammar Validations",(function(){if(Object(i.A)(o)&&!1===e.skipValidations){var t=fe({rules:Object(i.U)(e.gastProductionsCache),maxLookahead:e.maxLookahead,tokenTypes:Object(i.U)(e.tokensMap),errMsgProvider:kt,grammarName:r});e.definitionErrors.push.apply(e.definitionErrors,t)}})),Object(i.A)(e.definitionErrors)&&(e.recoveryEnabled&&e.TRACE_INIT("computeAllProdsFollows",(function(){var t,n,r=(t=Object(i.U)(e.gastProductionsCache),n={},Object(i.u)(t,(function(t){var e=new Nt(t).startWalking();Object(i.f)(n,e)})),n);e.resyncFollows=r})),e.TRACE_INIT("ComputeLookaheadFunctions",(function(){e.preComputeLookaheadFunctions(Object(i.U)(e.gastProductionsCache))}))),!t.DEFER_DEFINITION_ERRORS_HANDLING&&!Object(i.A)(e.definitionErrors))throw n=Object(i.I)(e.definitionErrors,(function(t){return t.message})),new Error("Parser Definition Errors detected:\n "+n.join("\n-------------------------------\n"))}))},t.DEFER_DEFINITION_ERRORS_HANDLING=!1,t}();Object(i.e)(nn,[_e,be,Ce,we,Me,Pe,Ue,Fe,ze,qe]);var rn=function(t){function e(e,n){void 0===n&&(n=Qe);var r=Object(i.h)(n);return r.outputCst=!0,t.call(this,e,r)||this}return Xe(e,t),e}(nn),on=function(t){function e(e,n){void 0===n&&(n=Qe);var r=Object(i.h)(n);return r.outputCst=!1,t.call(this,e,r)||this}return Xe(e,t),e}(nn);function an(t,e){var n=void 0===e?{}:e,i=n.resourceBase,o=void 0===i?"https://unpkg.com/chevrotain@"+r+"/diagrams/":i,a=n.css;return'\n\x3c!-- This is a generated file --\x3e\n<!DOCTYPE html>\n<meta charset="utf-8">\n<style>\n  body {\n    background-color: hsl(30, 20%, 95%)\n  }\n</style>\n\n'+("\n<link rel='stylesheet' href='"+(void 0===a?"https://unpkg.com/chevrotain@"+r+"/diagrams/diagrams.css":a)+"'>\n")+("\n<script src='"+o+"vendor/railroad-diagrams.js'><\/script>\n<script src='"+o+"src/diagrams_builder.js'><\/script>\n<script src='"+o+"src/diagrams_behavior.js'><\/script>\n<script src='"+o+"src/main.js'><\/script>\n")+'\n<div id="diagrams" align="center"></div>    \n'+("\n<script>\n    window.serializedGrammar = "+JSON.stringify(t,null,"  ")+";\n<\/script>\n")+'\n<script>\n    var diagramsDiv = document.getElementById("diagrams");\n    main.drawDiagramsFromSerializedGrammar(serializedGrammar, diagramsDiv);\n<\/script>\n'}var un="\n";function cn(t){var e;return"\nfunction "+t.name+"(tokenVocabulary, config) {\n    // invoke super constructor\n    // No support for embedded actions currently, so we can 'hardcode'\n    // The use of CstParser.\n    chevrotain.CstParser.call(this, tokenVocabulary, config)\n\n    const $ = this\n\n    "+(e=t.rules,Object(i.I)(e,(function(t){return r=dn(n=1,'$.RULE("'+(e=t).name+'", function() {')+un,r+=pn(e.definition,n+1),r+=dn(n+1,"})")+un;var e,n,r})).join("\n")+"\n\n    // very important to call this after all the rules have been defined.\n    // otherwise the parser may not work correctly as it will lack information\n    // derived during the self analysis phase.\n    this.performSelfAnalysis(this)\n}\n\n// inheritance as implemented in javascript in the previous decade... :(\n")+t.name+".prototype = Object.create(chevrotain.CstParser.prototype)\n"+t.name+".prototype.constructor = "+t.name+"    \n    "}function sn(t,e){var n=dn(e,"$.OR"+t.idx+"([")+un,r=Object(i.I)(t.definition,(function(t){return function(t,e){var n=dn(e,"{")+un;return n+=dn(e+1,"ALT: function() {")+un,n+=pn(t.definition,e+1),n+=dn(e+1,"}")+un,n+=dn(e,"}")}(t,e+1)}));return n+=r.join(",\n"),n+=un+dn(e,"])\n")}function fn(t,e){if(t instanceof it)return function(t,e){return dn(e,"$.SUBRULE"+t.idx+"($."+t.nonTerminalName+")"+un)}(t,e);if(t instanceof ut)return ln("OPTION",t,e);if(t instanceof ct)return ln("AT_LEAST_ONE",t,e);if(t instanceof st)return ln("AT_LEAST_ONE_SEP",t,e);if(t instanceof lt)return ln("MANY_SEP",t,e);if(t instanceof ft)return ln("MANY",t,e);if(t instanceof ht)return sn(t,e);if(t instanceof pt)return function(t,e){var n=t.terminalType.name;return dn(e,"$.CONSUME"+t.idx+"(this.tokensMap."+n+")"+un)}(t,e);if(t instanceof at)return pn(t.definition,e);throw Error("non exhaustive match")}function ln(t,e,n){var r=dn(n,"$."+(t+e.idx)+"(");return e.separator?(r+="{\n",r+=dn(n+1,"SEP: this.tokensMap."+e.separator.name)+","+un,r+="DEF: "+hn(e.definition,n+2)+un,r+=dn(n,"}")+un):r+=hn(e.definition,n+1),r+=dn(n,")")+un}function hn(t,e){var n="function() {\n";return n+=pn(t,e),n+=dn(e,"}")+un}function pn(t,e){var n="";return Object(i.u)(t,(function(t){n+=fn(t,e+1)})),n}function dn(t,e){return Array(4*t+1).join(" ")+e}function vn(t){var e=function(t){return"    \n"+cn(t)+"\nreturn new "+t.name+"(tokenVocabulary, config)    \n"}({name:t.name,rules:t.rules}),r=new Function("tokenVocabulary","config","chevrotain",e);return function(e){return r(t.tokenVocabulary,e,n(1))}}function yn(t){return function(t){return"\n(function (root, factory) {\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define(['chevrotain'], factory);\n    } else if (typeof module === 'object' && module.exports) {\n        // Node. Does not work with strict CommonJS, but\n        // only CommonJS-like environments that support module.exports,\n        // like Node.\n        module.exports = factory(require('chevrotain'));\n    } else {\n        // Browser globals (root is window)\n        root.returnExports = factory(root.b);\n    }\n}(typeof self !== 'undefined' ? self : this, function (chevrotain) {\n\n"+cn(t)+"\n    \nreturn {\n    "+t.name+": "+t.name+" \n}\n}));\n"}({name:t.name,rules:t.rules})}function mn(){console.warn("The clearCache function was 'soft' removed from the Chevrotain API.\n\t It performs no action other than printing this message.\n\t Please avoid using it as it will be completely removed in the future")}var gn=function(){throw new Error("The Parser class has been deprecated, use CstParser or EmbeddedActionsParser instead.\t\nSee: https://sap.github.io/chevrotain/docs/changes/BREAKING_CHANGES.html#_7-0-0")}},function(t,e,n){(function(t,r){var i;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var o="Expected a function",a="__lodash_placeholder__",u=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],c="[object Arguments]",s="[object Array]",f="[object Boolean]",l="[object Date]",h="[object Error]",p="[object Function]",d="[object GeneratorFunction]",v="[object Map]",y="[object Number]",m="[object Object]",g="[object RegExp]",O="[object Set]",_="[object String]",E="[object Symbol]",T="[object WeakMap]",b="[object ArrayBuffer]",A="[object DataView]",I="[object Float32Array]",R="[object Float64Array]",N="[object Int8Array]",S="[object Int16Array]",L="[object Int32Array]",k="[object Uint8Array]",x="[object Uint16Array]",j="[object Uint32Array]",C=/\b__p \+= '';/g,w=/\b(__p \+=) '' \+/g,P=/(__e\(.*?\)|\b__t\)) \+\n'';/g,M=/&(?:amp|lt|gt|quot|#39);/g,U=/[&<>"']/g,F=RegExp(M.source),D=RegExp(U.source),B=/<%-([\s\S]+?)%>/g,W=/<%([\s\S]+?)%>/g,G=/<%=([\s\S]+?)%>/g,K=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,z=/^\w*$/,V=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,H=/[\\^$.*+?()[\]{}|]/g,Y=RegExp(H.source),$=/^\s+|\s+$/g,q=/^\s+/,X=/\s+$/,Z=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,J=/\{\n\/\* \[wrapped with (.+)\] \*/,Q=/,? & /,tt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,et=/\\(\\)?/g,nt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,rt=/\w*$/,it=/^[-+]0x[0-9a-f]+$/i,ot=/^0b[01]+$/i,at=/^\[object .+?Constructor\]$/,ut=/^0o[0-7]+$/i,ct=/^(?:0|[1-9]\d*)$/,st=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ft=/($^)/,lt=/['\n\r\u2028\u2029\\]/g,ht="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",pt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",dt="[\\ud800-\\udfff]",vt="["+pt+"]",yt="["+ht+"]",mt="\\d+",gt="[\\u2700-\\u27bf]",Ot="[a-z\\xdf-\\xf6\\xf8-\\xff]",_t="[^\\ud800-\\udfff"+pt+mt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",Et="\\ud83c[\\udffb-\\udfff]",Tt="[^\\ud800-\\udfff]",bt="(?:\\ud83c[\\udde6-\\uddff]){2}",At="[\\ud800-\\udbff][\\udc00-\\udfff]",It="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Rt="(?:"+Ot+"|"+_t+")",Nt="(?:"+It+"|"+_t+")",St="(?:"+yt+"|"+Et+")"+"?",Lt="[\\ufe0e\\ufe0f]?"+St+("(?:\\u200d(?:"+[Tt,bt,At].join("|")+")[\\ufe0e\\ufe0f]?"+St+")*"),kt="(?:"+[gt,bt,At].join("|")+")"+Lt,xt="(?:"+[Tt+yt+"?",yt,bt,At,dt].join("|")+")",jt=RegExp("['’]","g"),Ct=RegExp(yt,"g"),wt=RegExp(Et+"(?="+Et+")|"+xt+Lt,"g"),Pt=RegExp([It+"?"+Ot+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[vt,It,"$"].join("|")+")",Nt+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[vt,It+Rt,"$"].join("|")+")",It+"?"+Rt+"+(?:['’](?:d|ll|m|re|s|t|ve))?",It+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",mt,kt].join("|"),"g"),Mt=RegExp("[\\u200d\\ud800-\\udfff"+ht+"\\ufe0e\\ufe0f]"),Ut=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ft=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Dt=-1,Bt={};Bt[I]=Bt[R]=Bt[N]=Bt[S]=Bt[L]=Bt[k]=Bt["[object Uint8ClampedArray]"]=Bt[x]=Bt[j]=!0,Bt[c]=Bt[s]=Bt[b]=Bt[f]=Bt[A]=Bt[l]=Bt[h]=Bt[p]=Bt[v]=Bt[y]=Bt[m]=Bt[g]=Bt[O]=Bt[_]=Bt[T]=!1;var Wt={};Wt[c]=Wt[s]=Wt[b]=Wt[A]=Wt[f]=Wt[l]=Wt[I]=Wt[R]=Wt[N]=Wt[S]=Wt[L]=Wt[v]=Wt[y]=Wt[m]=Wt[g]=Wt[O]=Wt[_]=Wt[E]=Wt[k]=Wt["[object Uint8ClampedArray]"]=Wt[x]=Wt[j]=!0,Wt[h]=Wt[p]=Wt[T]=!1;var Gt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Kt=parseFloat,zt=parseInt,Vt="object"==typeof t&&t&&t.Object===Object&&t,Ht="object"==typeof self&&self&&self.Object===Object&&self,Yt=Vt||Ht||Function("return this")(),$t=e&&!e.nodeType&&e,qt=$t&&"object"==typeof r&&r&&!r.nodeType&&r,Xt=qt&&qt.exports===$t,Zt=Xt&&Vt.process,Jt=function(){try{var t=qt&&qt.require&&qt.require("util").types;return t||Zt&&Zt.binding&&Zt.binding("util")}catch(t){}}(),Qt=Jt&&Jt.isArrayBuffer,te=Jt&&Jt.isDate,ee=Jt&&Jt.isMap,ne=Jt&&Jt.isRegExp,re=Jt&&Jt.isSet,ie=Jt&&Jt.isTypedArray;function oe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function ae(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function ue(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function ce(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function se(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function fe(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function le(t,e){return!!(null==t?0:t.length)&&Ee(t,e,0)>-1}function he(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function pe(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function de(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function ve(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function ye(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function me(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var ge=Ie("length");function Oe(t,e,n){var r;return n(t,(function(t,n,i){if(e(t,n,i))return r=n,!1})),r}function _e(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function Ee(t,e,n){return e==e?function(t,e,n){var r=n-1,i=t.length;for(;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):_e(t,be,n)}function Te(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function be(t){return t!=t}function Ae(t,e){var n=null==t?0:t.length;return n?Se(t,e)/n:NaN}function Ie(t){return function(e){return null==e?void 0:e[t]}}function Re(t){return function(e){return null==t?void 0:t[e]}}function Ne(t,e,n,r,i){return i(t,(function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)})),n}function Se(t,e){for(var n,r=-1,i=t.length;++r<i;){var o=e(t[r]);void 0!==o&&(n=void 0===n?o:n+o)}return n}function Le(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function ke(t){return function(e){return t(e)}}function xe(t,e){return pe(e,(function(e){return t[e]}))}function je(t,e){return t.has(e)}function Ce(t,e){for(var n=-1,r=t.length;++n<r&&Ee(e,t[n],0)>-1;);return n}function we(t,e){for(var n=t.length;n--&&Ee(e,t[n],0)>-1;);return n}function Pe(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}var Me=Re({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Ue=Re({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Fe(t){return"\\"+Gt[t]}function De(t){return Mt.test(t)}function Be(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function We(t,e){return function(n){return t(e(n))}}function Ge(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var u=t[n];u!==e&&u!==a||(t[n]=a,o[i++]=n)}return o}function Ke(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function ze(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function Ve(t){return De(t)?function(t){var e=wt.lastIndex=0;for(;wt.test(t);)++e;return e}(t):ge(t)}function He(t){return De(t)?function(t){return t.match(wt)||[]}(t):function(t){return t.split("")}(t)}var Ye=Re({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var $e=function t(e){var n,r=(e=null==e?Yt:$e.defaults(Yt.Object(),e,$e.pick(Yt,Ft))).Array,i=e.Date,ht=e.Error,pt=e.Function,dt=e.Math,vt=e.Object,yt=e.RegExp,mt=e.String,gt=e.TypeError,Ot=r.prototype,_t=pt.prototype,Et=vt.prototype,Tt=e["__core-js_shared__"],bt=_t.toString,At=Et.hasOwnProperty,It=0,Rt=(n=/[^.]+$/.exec(Tt&&Tt.keys&&Tt.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Nt=Et.toString,St=bt.call(vt),Lt=Yt._,kt=yt("^"+bt.call(At).replace(H,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),xt=Xt?e.Buffer:void 0,wt=e.Symbol,Mt=e.Uint8Array,Gt=xt?xt.allocUnsafe:void 0,Vt=We(vt.getPrototypeOf,vt),Ht=vt.create,$t=Et.propertyIsEnumerable,qt=Ot.splice,Zt=wt?wt.isConcatSpreadable:void 0,Jt=wt?wt.iterator:void 0,ge=wt?wt.toStringTag:void 0,Re=function(){try{var t=Qi(vt,"defineProperty");return t({},"",{}),t}catch(t){}}(),qe=e.clearTimeout!==Yt.clearTimeout&&e.clearTimeout,Xe=i&&i.now!==Yt.Date.now&&i.now,Ze=e.setTimeout!==Yt.setTimeout&&e.setTimeout,Je=dt.ceil,Qe=dt.floor,tn=vt.getOwnPropertySymbols,en=xt?xt.isBuffer:void 0,nn=e.isFinite,rn=Ot.join,on=We(vt.keys,vt),an=dt.max,un=dt.min,cn=i.now,sn=e.parseInt,fn=dt.random,ln=Ot.reverse,hn=Qi(e,"DataView"),pn=Qi(e,"Map"),dn=Qi(e,"Promise"),vn=Qi(e,"Set"),yn=Qi(e,"WeakMap"),mn=Qi(vt,"create"),gn=yn&&new yn,On={},_n=No(hn),En=No(pn),Tn=No(dn),bn=No(vn),An=No(yn),In=wt?wt.prototype:void 0,Rn=In?In.valueOf:void 0,Nn=In?In.toString:void 0;function Sn(t){if(za(t)&&!Ca(t)&&!(t instanceof jn)){if(t instanceof xn)return t;if(At.call(t,"__wrapped__"))return So(t)}return new xn(t)}var Ln=function(){function t(){}return function(e){if(!Ka(e))return{};if(Ht)return Ht(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function kn(){}function xn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}function jn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Cn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function wn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Pn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Mn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Pn;++e<n;)this.add(t[e])}function Un(t){var e=this.__data__=new wn(t);this.size=e.size}function Fn(t,e){var n=Ca(t),r=!n&&ja(t),i=!n&&!r&&Ua(t),o=!n&&!r&&!i&&Ja(t),a=n||r||i||o,u=a?Le(t.length,mt):[],c=u.length;for(var s in t)!e&&!At.call(t,s)||a&&("length"==s||i&&("offset"==s||"parent"==s)||o&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||ao(s,c))||u.push(s);return u}function Dn(t){var e=t.length;return e?t[Mr(0,e-1)]:void 0}function Bn(t,e){return Ao(mi(t),qn(e,0,t.length))}function Wn(t){return Ao(mi(t))}function Gn(t,e,n){(void 0!==n&&!La(t[e],n)||void 0===n&&!(e in t))&&Yn(t,e,n)}function Kn(t,e,n){var r=t[e];At.call(t,e)&&La(r,n)&&(void 0!==n||e in t)||Yn(t,e,n)}function zn(t,e){for(var n=t.length;n--;)if(La(t[n][0],e))return n;return-1}function Vn(t,e,n,r){return tr(t,(function(t,i,o){e(r,t,n(t),o)})),r}function Hn(t,e){return t&&gi(e,_u(e),t)}function Yn(t,e,n){"__proto__"==e&&Re?Re(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function $n(t,e){for(var n=-1,i=e.length,o=r(i),a=null==t;++n<i;)o[n]=a?void 0:vu(t,e[n]);return o}function qn(t,e,n){return t==t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t}function Xn(t,e,n,r,i,o){var a,u=1&e,s=2&e,h=4&e;if(n&&(a=i?n(t,r,i,o):n(t)),void 0!==a)return a;if(!Ka(t))return t;var T=Ca(t);if(T){if(a=function(t){var e=t.length,n=new t.constructor(e);e&&"string"==typeof t[0]&&At.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!u)return mi(t,a)}else{var C=no(t),w=C==p||C==d;if(Ua(t))return li(t,u);if(C==m||C==c||w&&!i){if(a=s||w?{}:io(t),!u)return s?function(t,e){return gi(t,eo(t),e)}(t,function(t,e){return t&&gi(e,Eu(e),t)}(a,t)):function(t,e){return gi(t,to(t),e)}(t,Hn(a,t))}else{if(!Wt[C])return i?t:{};a=function(t,e,n){var r=t.constructor;switch(e){case b:return hi(t);case f:case l:return new r(+t);case A:return function(t,e){var n=e?hi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case I:case R:case N:case S:case L:case k:case"[object Uint8ClampedArray]":case x:case j:return pi(t,n);case v:return new r;case y:case _:return new r(t);case g:return function(t){var e=new t.constructor(t.source,rt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case O:return new r;case E:return i=t,Rn?vt(Rn.call(i)):{}}var i}(t,C,u)}}o||(o=new Un);var P=o.get(t);if(P)return P;o.set(t,a),qa(t)?t.forEach((function(r){a.add(Xn(r,e,n,r,t,o))})):Va(t)&&t.forEach((function(r,i){a.set(i,Xn(r,e,n,i,t,o))}));var M=T?void 0:(h?s?Hi:Vi:s?Eu:_u)(t);return ue(M||t,(function(r,i){M&&(r=t[i=r]),Kn(a,i,Xn(r,e,n,i,t,o))})),a}function Zn(t,e,n){var r=n.length;if(null==t)return!r;for(t=vt(t);r--;){var i=n[r],o=e[i],a=t[i];if(void 0===a&&!(i in t)||!o(a))return!1}return!0}function Jn(t,e,n){if("function"!=typeof t)throw new gt(o);return _o((function(){t.apply(void 0,n)}),e)}function Qn(t,e,n,r){var i=-1,o=le,a=!0,u=t.length,c=[],s=e.length;if(!u)return c;n&&(e=pe(e,ke(n))),r?(o=he,a=!1):e.length>=200&&(o=je,a=!1,e=new Mn(e));t:for(;++i<u;){var f=t[i],l=null==n?f:n(f);if(f=r||0!==f?f:0,a&&l==l){for(var h=s;h--;)if(e[h]===l)continue t;c.push(f)}else o(e,l,r)||c.push(f)}return c}Sn.templateSettings={escape:B,evaluate:W,interpolate:G,variable:"",imports:{_:Sn}},Sn.prototype=kn.prototype,Sn.prototype.constructor=Sn,xn.prototype=Ln(kn.prototype),xn.prototype.constructor=xn,jn.prototype=Ln(kn.prototype),jn.prototype.constructor=jn,Cn.prototype.clear=function(){this.__data__=mn?mn(null):{},this.size=0},Cn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Cn.prototype.get=function(t){var e=this.__data__;if(mn){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return At.call(e,t)?e[t]:void 0},Cn.prototype.has=function(t){var e=this.__data__;return mn?void 0!==e[t]:At.call(e,t)},Cn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=mn&&void 0===e?"__lodash_hash_undefined__":e,this},wn.prototype.clear=function(){this.__data__=[],this.size=0},wn.prototype.delete=function(t){var e=this.__data__,n=zn(e,t);return!(n<0)&&(n==e.length-1?e.pop():qt.call(e,n,1),--this.size,!0)},wn.prototype.get=function(t){var e=this.__data__,n=zn(e,t);return n<0?void 0:e[n][1]},wn.prototype.has=function(t){return zn(this.__data__,t)>-1},wn.prototype.set=function(t,e){var n=this.__data__,r=zn(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Pn.prototype.clear=function(){this.size=0,this.__data__={hash:new Cn,map:new(pn||wn),string:new Cn}},Pn.prototype.delete=function(t){var e=Zi(this,t).delete(t);return this.size-=e?1:0,e},Pn.prototype.get=function(t){return Zi(this,t).get(t)},Pn.prototype.has=function(t){return Zi(this,t).has(t)},Pn.prototype.set=function(t,e){var n=Zi(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Mn.prototype.add=Mn.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Mn.prototype.has=function(t){return this.__data__.has(t)},Un.prototype.clear=function(){this.__data__=new wn,this.size=0},Un.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Un.prototype.get=function(t){return this.__data__.get(t)},Un.prototype.has=function(t){return this.__data__.has(t)},Un.prototype.set=function(t,e){var n=this.__data__;if(n instanceof wn){var r=n.__data__;if(!pn||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Pn(r)}return n.set(t,e),this.size=n.size,this};var tr=Ei(cr),er=Ei(sr,!0);function nr(t,e){var n=!0;return tr(t,(function(t,r,i){return n=!!e(t,r,i)})),n}function rr(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(null!=a&&(void 0===u?a==a&&!Za(a):n(a,u)))var u=a,c=o}return c}function ir(t,e){var n=[];return tr(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}function or(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=oo),i||(i=[]);++o<a;){var u=t[o];e>0&&n(u)?e>1?or(u,e-1,n,r,i):de(i,u):r||(i[i.length]=u)}return i}var ar=Ti(),ur=Ti(!0);function cr(t,e){return t&&ar(t,e,_u)}function sr(t,e){return t&&ur(t,e,_u)}function fr(t,e){return fe(e,(function(e){return Ba(t[e])}))}function lr(t,e){for(var n=0,r=(e=ui(e,t)).length;null!=t&&n<r;)t=t[Ro(e[n++])];return n&&n==r?t:void 0}function hr(t,e,n){var r=e(t);return Ca(t)?r:de(r,n(t))}function pr(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":ge&&ge in vt(t)?function(t){var e=At.call(t,ge),n=t[ge];try{t[ge]=void 0;var r=!0}catch(t){}var i=Nt.call(t);r&&(e?t[ge]=n:delete t[ge]);return i}(t):function(t){return Nt.call(t)}(t)}function dr(t,e){return t>e}function vr(t,e){return null!=t&&At.call(t,e)}function yr(t,e){return null!=t&&e in vt(t)}function mr(t,e,n){for(var i=n?he:le,o=t[0].length,a=t.length,u=a,c=r(a),s=1/0,f=[];u--;){var l=t[u];u&&e&&(l=pe(l,ke(e))),s=un(l.length,s),c[u]=!n&&(e||o>=120&&l.length>=120)?new Mn(u&&l):void 0}l=t[0];var h=-1,p=c[0];t:for(;++h<o&&f.length<s;){var d=l[h],v=e?e(d):d;if(d=n||0!==d?d:0,!(p?je(p,v):i(f,v,n))){for(u=a;--u;){var y=c[u];if(!(y?je(y,v):i(t[u],v,n)))continue t}p&&p.push(v),f.push(d)}}return f}function gr(t,e,n){var r=null==(t=yo(t,e=ui(e,t)))?t:t[Ro(Do(e))];return null==r?void 0:oe(r,t,n)}function Or(t){return za(t)&&pr(t)==c}function _r(t,e,n,r,i){return t===e||(null==t||null==e||!za(t)&&!za(e)?t!=t&&e!=e:function(t,e,n,r,i,o){var a=Ca(t),u=Ca(e),p=a?s:no(t),d=u?s:no(e),T=(p=p==c?m:p)==m,I=(d=d==c?m:d)==m,R=p==d;if(R&&Ua(t)){if(!Ua(e))return!1;a=!0,T=!1}if(R&&!T)return o||(o=new Un),a||Ja(t)?Ki(t,e,n,r,i,o):function(t,e,n,r,i,o,a){switch(n){case A:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case b:return!(t.byteLength!=e.byteLength||!o(new Mt(t),new Mt(e)));case f:case l:case y:return La(+t,+e);case h:return t.name==e.name&&t.message==e.message;case g:case _:return t==e+"";case v:var u=Be;case O:var c=1&r;if(u||(u=Ke),t.size!=e.size&&!c)return!1;var s=a.get(t);if(s)return s==e;r|=2,a.set(t,e);var p=Ki(u(t),u(e),r,i,o,a);return a.delete(t),p;case E:if(Rn)return Rn.call(t)==Rn.call(e)}return!1}(t,e,p,n,r,i,o);if(!(1&n)){var N=T&&At.call(t,"__wrapped__"),S=I&&At.call(e,"__wrapped__");if(N||S){var L=N?t.value():t,k=S?e.value():e;return o||(o=new Un),i(L,k,n,r,o)}}if(!R)return!1;return o||(o=new Un),function(t,e,n,r,i,o){var a=1&n,u=Vi(t),c=u.length,s=Vi(e).length;if(c!=s&&!a)return!1;var f=c;for(;f--;){var l=u[f];if(!(a?l in e:At.call(e,l)))return!1}var h=o.get(t);if(h&&o.get(e))return h==e;var p=!0;o.set(t,e),o.set(e,t);var d=a;for(;++f<c;){l=u[f];var v=t[l],y=e[l];if(r)var m=a?r(y,v,l,e,t,o):r(v,y,l,t,e,o);if(!(void 0===m?v===y||i(v,y,n,r,o):m)){p=!1;break}d||(d="constructor"==l)}if(p&&!d){var g=t.constructor,O=e.constructor;g==O||!("constructor"in t)||!("constructor"in e)||"function"==typeof g&&g instanceof g&&"function"==typeof O&&O instanceof O||(p=!1)}return o.delete(t),o.delete(e),p}(t,e,n,r,i,o)}(t,e,n,r,_r,i))}function Er(t,e,n,r){var i=n.length,o=i,a=!r;if(null==t)return!o;for(t=vt(t);i--;){var u=n[i];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++i<o;){var c=(u=n[i])[0],s=t[c],f=u[1];if(a&&u[2]){if(void 0===s&&!(c in t))return!1}else{var l=new Un;if(r)var h=r(s,f,c,t,e,l);if(!(void 0===h?_r(f,s,3,r,l):h))return!1}}return!0}function Tr(t){return!(!Ka(t)||(e=t,Rt&&Rt in e))&&(Ba(t)?kt:at).test(No(t));var e}function br(t){return"function"==typeof t?t:null==t?Hu:"object"==typeof t?Ca(t)?Lr(t[0],t[1]):Sr(t):ec(t)}function Ar(t){if(!lo(t))return on(t);var e=[];for(var n in vt(t))At.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Ir(t){if(!Ka(t))return function(t){var e=[];if(null!=t)for(var n in vt(t))e.push(n);return e}(t);var e=lo(t),n=[];for(var r in t)("constructor"!=r||!e&&At.call(t,r))&&n.push(r);return n}function Rr(t,e){return t<e}function Nr(t,e){var n=-1,i=Pa(t)?r(t.length):[];return tr(t,(function(t,r,o){i[++n]=e(t,r,o)})),i}function Sr(t){var e=Ji(t);return 1==e.length&&e[0][2]?po(e[0][0],e[0][1]):function(n){return n===t||Er(n,t,e)}}function Lr(t,e){return co(t)&&ho(e)?po(Ro(t),e):function(n){var r=vu(n,t);return void 0===r&&r===e?yu(n,t):_r(e,r,3)}}function kr(t,e,n,r,i){t!==e&&ar(e,(function(o,a){if(i||(i=new Un),Ka(o))!function(t,e,n,r,i,o,a){var u=go(t,n),c=go(e,n),s=a.get(c);if(s)return void Gn(t,n,s);var f=o?o(u,c,n+"",t,e,a):void 0,l=void 0===f;if(l){var h=Ca(c),p=!h&&Ua(c),d=!h&&!p&&Ja(c);f=c,h||p||d?Ca(u)?f=u:Ma(u)?f=mi(u):p?(l=!1,f=li(c,!0)):d?(l=!1,f=pi(c,!0)):f=[]:Ya(c)||ja(c)?(f=u,ja(u)?f=au(u):Ka(u)&&!Ba(u)||(f=io(c))):l=!1}l&&(a.set(c,f),i(f,c,r,o,a),a.delete(c));Gn(t,n,f)}(t,e,a,n,kr,r,i);else{var u=r?r(go(t,a),o,a+"",t,e,i):void 0;void 0===u&&(u=o),Gn(t,a,u)}}),Eu)}function xr(t,e){var n=t.length;if(n)return ao(e+=e<0?n:0,n)?t[e]:void 0}function jr(t,e,n){var r=-1;return e=pe(e.length?e:[Hu],ke(Xi())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(Nr(t,(function(t,n,i){return{criteria:pe(e,(function(e){return e(t)})),index:++r,value:t}})),(function(t,e){return function(t,e,n){var r=-1,i=t.criteria,o=e.criteria,a=i.length,u=n.length;for(;++r<a;){var c=di(i[r],o[r]);if(c){if(r>=u)return c;var s=n[r];return c*("desc"==s?-1:1)}}return t.index-e.index}(t,e,n)}))}function Cr(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],u=lr(t,a);n(u,a)&&Wr(o,ui(a,t),u)}return o}function wr(t,e,n,r){var i=r?Te:Ee,o=-1,a=e.length,u=t;for(t===e&&(e=mi(e)),n&&(u=pe(t,ke(n)));++o<a;)for(var c=0,s=e[o],f=n?n(s):s;(c=i(u,f,c,r))>-1;)u!==t&&qt.call(u,c,1),qt.call(t,c,1);return t}function Pr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;ao(i)?qt.call(t,i,1):Qr(t,i)}}return t}function Mr(t,e){return t+Qe(fn()*(e-t+1))}function Ur(t,e){var n="";if(!t||e<1||e>9007199254740991)return n;do{e%2&&(n+=t),(e=Qe(e/2))&&(t+=t)}while(e);return n}function Fr(t,e){return Eo(vo(t,e,Hu),t+"")}function Dr(t){return Dn(Lu(t))}function Br(t,e){var n=Lu(t);return Ao(n,qn(e,0,n.length))}function Wr(t,e,n,r){if(!Ka(t))return t;for(var i=-1,o=(e=ui(e,t)).length,a=o-1,u=t;null!=u&&++i<o;){var c=Ro(e[i]),s=n;if(i!=a){var f=u[c];void 0===(s=r?r(f,c,u):void 0)&&(s=Ka(f)?f:ao(e[i+1])?[]:{})}Kn(u,c,s),u=u[c]}return t}var Gr=gn?function(t,e){return gn.set(t,e),t}:Hu,Kr=Re?function(t,e){return Re(t,"toString",{configurable:!0,enumerable:!1,value:Ku(e),writable:!0})}:Hu;function zr(t){return Ao(Lu(t))}function Vr(t,e,n){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var a=r(o);++i<o;)a[i]=t[i+e];return a}function Hr(t,e){var n;return tr(t,(function(t,r,i){return!(n=e(t,r,i))})),!!n}function Yr(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!Za(a)&&(n?a<=e:a<e)?r=o+1:i=o}return i}return $r(t,e,Hu,n)}function $r(t,e,n,r){e=n(e);for(var i=0,o=null==t?0:t.length,a=e!=e,u=null===e,c=Za(e),s=void 0===e;i<o;){var f=Qe((i+o)/2),l=n(t[f]),h=void 0!==l,p=null===l,d=l==l,v=Za(l);if(a)var y=r||d;else y=s?d&&(r||h):u?d&&h&&(r||!p):c?d&&h&&!p&&(r||!v):!p&&!v&&(r?l<=e:l<e);y?i=f+1:o=f}return un(o,4294967294)}function qr(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n],u=e?e(a):a;if(!n||!La(u,c)){var c=u;o[i++]=0===a?0:a}}return o}function Xr(t){return"number"==typeof t?t:Za(t)?NaN:+t}function Zr(t){if("string"==typeof t)return t;if(Ca(t))return pe(t,Zr)+"";if(Za(t))return Nn?Nn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Jr(t,e,n){var r=-1,i=le,o=t.length,a=!0,u=[],c=u;if(n)a=!1,i=he;else if(o>=200){var s=e?null:Ui(t);if(s)return Ke(s);a=!1,i=je,c=new Mn}else c=e?[]:u;t:for(;++r<o;){var f=t[r],l=e?e(f):f;if(f=n||0!==f?f:0,a&&l==l){for(var h=c.length;h--;)if(c[h]===l)continue t;e&&c.push(l),u.push(f)}else i(c,l,n)||(c!==u&&c.push(l),u.push(f))}return u}function Qr(t,e){return null==(t=yo(t,e=ui(e,t)))||delete t[Ro(Do(e))]}function ti(t,e,n,r){return Wr(t,e,n(lr(t,e)),r)}function ei(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?Vr(t,r?0:o,r?o+1:i):Vr(t,r?o+1:0,r?i:o)}function ni(t,e){var n=t;return n instanceof jn&&(n=n.value()),ve(e,(function(t,e){return e.func.apply(e.thisArg,de([t],e.args))}),n)}function ri(t,e,n){var i=t.length;if(i<2)return i?Jr(t[0]):[];for(var o=-1,a=r(i);++o<i;)for(var u=t[o],c=-1;++c<i;)c!=o&&(a[o]=Qn(a[o]||u,t[c],e,n));return Jr(or(a,1),e,n)}function ii(t,e,n){for(var r=-1,i=t.length,o=e.length,a={};++r<i;){var u=r<o?e[r]:void 0;n(a,t[r],u)}return a}function oi(t){return Ma(t)?t:[]}function ai(t){return"function"==typeof t?t:Hu}function ui(t,e){return Ca(t)?t:co(t,e)?[t]:Io(uu(t))}var ci=Fr;function si(t,e,n){var r=t.length;return n=void 0===n?r:n,!e&&n>=r?t:Vr(t,e,n)}var fi=qe||function(t){return Yt.clearTimeout(t)};function li(t,e){if(e)return t.slice();var n=t.length,r=Gt?Gt(n):new t.constructor(n);return t.copy(r),r}function hi(t){var e=new t.constructor(t.byteLength);return new Mt(e).set(new Mt(t)),e}function pi(t,e){var n=e?hi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function di(t,e){if(t!==e){var n=void 0!==t,r=null===t,i=t==t,o=Za(t),a=void 0!==e,u=null===e,c=e==e,s=Za(e);if(!u&&!s&&!o&&t>e||o&&a&&c&&!u&&!s||r&&a&&c||!n&&c||!i)return 1;if(!r&&!o&&!s&&t<e||s&&n&&i&&!r&&!o||u&&n&&i||!a&&i||!c)return-1}return 0}function vi(t,e,n,i){for(var o=-1,a=t.length,u=n.length,c=-1,s=e.length,f=an(a-u,0),l=r(s+f),h=!i;++c<s;)l[c]=e[c];for(;++o<u;)(h||o<a)&&(l[n[o]]=t[o]);for(;f--;)l[c++]=t[o++];return l}function yi(t,e,n,i){for(var o=-1,a=t.length,u=-1,c=n.length,s=-1,f=e.length,l=an(a-c,0),h=r(l+f),p=!i;++o<l;)h[o]=t[o];for(var d=o;++s<f;)h[d+s]=e[s];for(;++u<c;)(p||o<a)&&(h[d+n[u]]=t[o++]);return h}function mi(t,e){var n=-1,i=t.length;for(e||(e=r(i));++n<i;)e[n]=t[n];return e}function gi(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var u=e[o],c=r?r(n[u],t[u],u,n,t):void 0;void 0===c&&(c=t[u]),i?Yn(n,u,c):Kn(n,u,c)}return n}function Oi(t,e){return function(n,r){var i=Ca(n)?ae:Vn,o=e?e():{};return i(n,t,Xi(r,2),o)}}function _i(t){return Fr((function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=t.length>3&&"function"==typeof o?(i--,o):void 0,a&&uo(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),e=vt(e);++r<i;){var u=n[r];u&&t(e,u,r,o)}return e}))}function Ei(t,e){return function(n,r){if(null==n)return n;if(!Pa(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=vt(n);(e?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function Ti(t){return function(e,n,r){for(var i=-1,o=vt(e),a=r(e),u=a.length;u--;){var c=a[t?u:++i];if(!1===n(o[c],c,o))break}return e}}function bi(t){return function(e){var n=De(e=uu(e))?He(e):void 0,r=n?n[0]:e.charAt(0),i=n?si(n,1).join(""):e.slice(1);return r[t]()+i}}function Ai(t){return function(e){return ve(Bu(ju(e).replace(jt,"")),t,"")}}function Ii(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Ln(t.prototype),r=t.apply(n,e);return Ka(r)?r:n}}function Ri(t){return function(e,n,r){var i=vt(e);if(!Pa(e)){var o=Xi(n,3);e=_u(e),n=function(t){return o(i[t],t,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}function Ni(t){return zi((function(e){var n=e.length,r=n,i=xn.prototype.thru;for(t&&e.reverse();r--;){var a=e[r];if("function"!=typeof a)throw new gt(o);if(i&&!u&&"wrapper"==$i(a))var u=new xn([],!0)}for(r=u?r:n;++r<n;){var c=$i(a=e[r]),s="wrapper"==c?Yi(a):void 0;u=s&&so(s[0])&&424==s[1]&&!s[4].length&&1==s[9]?u[$i(s[0])].apply(u,s[3]):1==a.length&&so(a)?u[c]():u.thru(a)}return function(){var t=arguments,r=t[0];if(u&&1==t.length&&Ca(r))return u.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}}))}function Si(t,e,n,i,o,a,u,c,s,f){var l=128&e,h=1&e,p=2&e,d=24&e,v=512&e,y=p?void 0:Ii(t);return function m(){for(var g=arguments.length,O=r(g),_=g;_--;)O[_]=arguments[_];if(d)var E=qi(m),T=Pe(O,E);if(i&&(O=vi(O,i,o,d)),a&&(O=yi(O,a,u,d)),g-=T,d&&g<f){var b=Ge(O,E);return Pi(t,e,Si,m.placeholder,n,O,b,c,s,f-g)}var A=h?n:this,I=p?A[t]:t;return g=O.length,c?O=mo(O,c):v&&g>1&&O.reverse(),l&&s<g&&(O.length=s),this&&this!==Yt&&this instanceof m&&(I=y||Ii(I)),I.apply(A,O)}}function Li(t,e){return function(n,r){return function(t,e,n,r){return cr(t,(function(t,i,o){e(r,n(t),i,o)})),r}(n,t,e(r),{})}}function ki(t,e){return function(n,r){var i;if(void 0===n&&void 0===r)return e;if(void 0!==n&&(i=n),void 0!==r){if(void 0===i)return r;"string"==typeof n||"string"==typeof r?(n=Zr(n),r=Zr(r)):(n=Xr(n),r=Xr(r)),i=t(n,r)}return i}}function xi(t){return zi((function(e){return e=pe(e,ke(Xi())),Fr((function(n){var r=this;return t(e,(function(t){return oe(t,r,n)}))}))}))}function ji(t,e){var n=(e=void 0===e?" ":Zr(e)).length;if(n<2)return n?Ur(e,t):e;var r=Ur(e,Je(t/Ve(e)));return De(e)?si(He(r),0,t).join(""):r.slice(0,t)}function Ci(t){return function(e,n,i){return i&&"number"!=typeof i&&uo(e,n,i)&&(n=i=void 0),e=nu(e),void 0===n?(n=e,e=0):n=nu(n),function(t,e,n,i){for(var o=-1,a=an(Je((e-t)/(n||1)),0),u=r(a);a--;)u[i?a:++o]=t,t+=n;return u}(e,n,i=void 0===i?e<n?1:-1:nu(i),t)}}function wi(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=ou(e),n=ou(n)),t(e,n)}}function Pi(t,e,n,r,i,o,a,u,c,s){var f=8&e;e|=f?32:64,4&(e&=~(f?64:32))||(e&=-4);var l=[t,e,i,f?o:void 0,f?a:void 0,f?void 0:o,f?void 0:a,u,c,s],h=n.apply(void 0,l);return so(t)&&Oo(h,l),h.placeholder=r,To(h,t,e)}function Mi(t){var e=dt[t];return function(t,n){if(t=ou(t),(n=null==n?0:un(ru(n),292))&&nn(t)){var r=(uu(t)+"e").split("e");return+((r=(uu(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var Ui=vn&&1/Ke(new vn([,-0]))[1]==1/0?function(t){return new vn(t)}:Zu;function Fi(t){return function(e){var n=no(e);return n==v?Be(e):n==O?ze(e):function(t,e){return pe(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Di(t,e,n,i,u,c,s,f){var l=2&e;if(!l&&"function"!=typeof t)throw new gt(o);var h=i?i.length:0;if(h||(e&=-97,i=u=void 0),s=void 0===s?s:an(ru(s),0),f=void 0===f?f:ru(f),h-=u?u.length:0,64&e){var p=i,d=u;i=u=void 0}var v=l?void 0:Yi(t),y=[t,e,n,i,u,p,d,c,s,f];if(v&&function(t,e){var n=t[1],r=e[1],i=n|r,o=i<131,u=128==r&&8==n||128==r&&256==n&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n;if(!o&&!u)return t;1&r&&(t[2]=e[2],i|=1&n?0:4);var c=e[3];if(c){var s=t[3];t[3]=s?vi(s,c,e[4]):c,t[4]=s?Ge(t[3],a):e[4]}(c=e[5])&&(s=t[5],t[5]=s?yi(s,c,e[6]):c,t[6]=s?Ge(t[5],a):e[6]);(c=e[7])&&(t[7]=c);128&r&&(t[8]=null==t[8]?e[8]:un(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=i}(y,v),t=y[0],e=y[1],n=y[2],i=y[3],u=y[4],!(f=y[9]=void 0===y[9]?l?0:t.length:an(y[9]-h,0))&&24&e&&(e&=-25),e&&1!=e)m=8==e||16==e?function(t,e,n){var i=Ii(t);return function o(){for(var a=arguments.length,u=r(a),c=a,s=qi(o);c--;)u[c]=arguments[c];var f=a<3&&u[0]!==s&&u[a-1]!==s?[]:Ge(u,s);if((a-=f.length)<n)return Pi(t,e,Si,o.placeholder,void 0,u,f,void 0,void 0,n-a);var l=this&&this!==Yt&&this instanceof o?i:t;return oe(l,this,u)}}(t,e,f):32!=e&&33!=e||u.length?Si.apply(void 0,y):function(t,e,n,i){var o=1&e,a=Ii(t);return function e(){for(var u=-1,c=arguments.length,s=-1,f=i.length,l=r(f+c),h=this&&this!==Yt&&this instanceof e?a:t;++s<f;)l[s]=i[s];for(;c--;)l[s++]=arguments[++u];return oe(h,o?n:this,l)}}(t,e,n,i);else var m=function(t,e,n){var r=1&e,i=Ii(t);return function e(){var o=this&&this!==Yt&&this instanceof e?i:t;return o.apply(r?n:this,arguments)}}(t,e,n);return To((v?Gr:Oo)(m,y),t,e)}function Bi(t,e,n,r){return void 0===t||La(t,Et[n])&&!At.call(r,n)?e:t}function Wi(t,e,n,r,i,o){return Ka(t)&&Ka(e)&&(o.set(e,t),kr(t,e,void 0,Wi,o),o.delete(e)),t}function Gi(t){return Ya(t)?void 0:t}function Ki(t,e,n,r,i,o){var a=1&n,u=t.length,c=e.length;if(u!=c&&!(a&&c>u))return!1;var s=o.get(t);if(s&&o.get(e))return s==e;var f=-1,l=!0,h=2&n?new Mn:void 0;for(o.set(t,e),o.set(e,t);++f<u;){var p=t[f],d=e[f];if(r)var v=a?r(d,p,f,e,t,o):r(p,d,f,t,e,o);if(void 0!==v){if(v)continue;l=!1;break}if(h){if(!me(e,(function(t,e){if(!je(h,e)&&(p===t||i(p,t,n,r,o)))return h.push(e)}))){l=!1;break}}else if(p!==d&&!i(p,d,n,r,o)){l=!1;break}}return o.delete(t),o.delete(e),l}function zi(t){return Eo(vo(t,void 0,wo),t+"")}function Vi(t){return hr(t,_u,to)}function Hi(t){return hr(t,Eu,eo)}var Yi=gn?function(t){return gn.get(t)}:Zu;function $i(t){for(var e=t.name+"",n=On[e],r=At.call(On,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function qi(t){return(At.call(Sn,"placeholder")?Sn:t).placeholder}function Xi(){var t=Sn.iteratee||Yu;return t=t===Yu?br:t,arguments.length?t(arguments[0],arguments[1]):t}function Zi(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function Ji(t){for(var e=_u(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,ho(i)]}return e}function Qi(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Tr(n)?n:void 0}var to=tn?function(t){return null==t?[]:(t=vt(t),fe(tn(t),(function(e){return $t.call(t,e)})))}:ic,eo=tn?function(t){for(var e=[];t;)de(e,to(t)),t=Vt(t);return e}:ic,no=pr;function ro(t,e,n){for(var r=-1,i=(e=ui(e,t)).length,o=!1;++r<i;){var a=Ro(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Ga(i)&&ao(a,i)&&(Ca(t)||ja(t))}function io(t){return"function"!=typeof t.constructor||lo(t)?{}:Ln(Vt(t))}function oo(t){return Ca(t)||ja(t)||!!(Zt&&t&&t[Zt])}function ao(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&ct.test(t))&&t>-1&&t%1==0&&t<e}function uo(t,e,n){if(!Ka(n))return!1;var r=typeof e;return!!("number"==r?Pa(n)&&ao(e,n.length):"string"==r&&e in n)&&La(n[e],t)}function co(t,e){if(Ca(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Za(t))||(z.test(t)||!K.test(t)||null!=e&&t in vt(e))}function so(t){var e=$i(t),n=Sn[e];if("function"!=typeof n||!(e in jn.prototype))return!1;if(t===n)return!0;var r=Yi(n);return!!r&&t===r[0]}(hn&&no(new hn(new ArrayBuffer(1)))!=A||pn&&no(new pn)!=v||dn&&"[object Promise]"!=no(dn.resolve())||vn&&no(new vn)!=O||yn&&no(new yn)!=T)&&(no=function(t){var e=pr(t),n=e==m?t.constructor:void 0,r=n?No(n):"";if(r)switch(r){case _n:return A;case En:return v;case Tn:return"[object Promise]";case bn:return O;case An:return T}return e});var fo=Tt?Ba:oc;function lo(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Et)}function ho(t){return t==t&&!Ka(t)}function po(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in vt(n)))}}function vo(t,e,n){return e=an(void 0===e?t.length-1:e,0),function(){for(var i=arguments,o=-1,a=an(i.length-e,0),u=r(a);++o<a;)u[o]=i[e+o];o=-1;for(var c=r(e+1);++o<e;)c[o]=i[o];return c[e]=n(u),oe(t,this,c)}}function yo(t,e){return e.length<2?t:lr(t,Vr(e,0,-1))}function mo(t,e){for(var n=t.length,r=un(e.length,n),i=mi(t);r--;){var o=e[r];t[r]=ao(o,n)?i[o]:void 0}return t}function go(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Oo=bo(Gr),_o=Ze||function(t,e){return Yt.setTimeout(t,e)},Eo=bo(Kr);function To(t,e,n){var r=e+"";return Eo(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(Z,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return ue(u,(function(n){var r="_."+n[0];e&n[1]&&!le(t,r)&&t.push(r)})),t.sort()}(function(t){var e=t.match(J);return e?e[1].split(Q):[]}(r),n)))}function bo(t){var e=0,n=0;return function(){var r=cn(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function Ao(t,e){var n=-1,r=t.length,i=r-1;for(e=void 0===e?r:e;++n<e;){var o=Mr(n,i),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t}var Io=function(t){var e=ba(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(V,(function(t,n,r,i){e.push(r?i.replace(et,"$1"):n||t)})),e}));function Ro(t){if("string"==typeof t||Za(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function No(t){if(null!=t){try{return bt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function So(t){if(t instanceof jn)return t.clone();var e=new xn(t.__wrapped__,t.__chain__);return e.__actions__=mi(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Lo=Fr((function(t,e){return Ma(t)?Qn(t,or(e,1,Ma,!0)):[]})),ko=Fr((function(t,e){var n=Do(e);return Ma(n)&&(n=void 0),Ma(t)?Qn(t,or(e,1,Ma,!0),Xi(n,2)):[]})),xo=Fr((function(t,e){var n=Do(e);return Ma(n)&&(n=void 0),Ma(t)?Qn(t,or(e,1,Ma,!0),void 0,n):[]}));function jo(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:ru(n);return i<0&&(i=an(r+i,0)),_e(t,Xi(e,3),i)}function Co(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return void 0!==n&&(i=ru(n),i=n<0?an(r+i,0):un(i,r-1)),_e(t,Xi(e,3),i,!0)}function wo(t){return(null==t?0:t.length)?or(t,1):[]}function Po(t){return t&&t.length?t[0]:void 0}var Mo=Fr((function(t){var e=pe(t,oi);return e.length&&e[0]===t[0]?mr(e):[]})),Uo=Fr((function(t){var e=Do(t),n=pe(t,oi);return e===Do(n)?e=void 0:n.pop(),n.length&&n[0]===t[0]?mr(n,Xi(e,2)):[]})),Fo=Fr((function(t){var e=Do(t),n=pe(t,oi);return(e="function"==typeof e?e:void 0)&&n.pop(),n.length&&n[0]===t[0]?mr(n,void 0,e):[]}));function Do(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}var Bo=Fr(Wo);function Wo(t,e){return t&&t.length&&e&&e.length?wr(t,e):t}var Go=zi((function(t,e){var n=null==t?0:t.length,r=$n(t,e);return Pr(t,pe(e,(function(t){return ao(t,n)?+t:t})).sort(di)),r}));function Ko(t){return null==t?t:ln.call(t)}var zo=Fr((function(t){return Jr(or(t,1,Ma,!0))})),Vo=Fr((function(t){var e=Do(t);return Ma(e)&&(e=void 0),Jr(or(t,1,Ma,!0),Xi(e,2))})),Ho=Fr((function(t){var e=Do(t);return e="function"==typeof e?e:void 0,Jr(or(t,1,Ma,!0),void 0,e)}));function Yo(t){if(!t||!t.length)return[];var e=0;return t=fe(t,(function(t){if(Ma(t))return e=an(t.length,e),!0})),Le(e,(function(e){return pe(t,Ie(e))}))}function $o(t,e){if(!t||!t.length)return[];var n=Yo(t);return null==e?n:pe(n,(function(t){return oe(e,void 0,t)}))}var qo=Fr((function(t,e){return Ma(t)?Qn(t,e):[]})),Xo=Fr((function(t){return ri(fe(t,Ma))})),Zo=Fr((function(t){var e=Do(t);return Ma(e)&&(e=void 0),ri(fe(t,Ma),Xi(e,2))})),Jo=Fr((function(t){var e=Do(t);return e="function"==typeof e?e:void 0,ri(fe(t,Ma),void 0,e)})),Qo=Fr(Yo);var ta=Fr((function(t){var e=t.length,n=e>1?t[e-1]:void 0;return n="function"==typeof n?(t.pop(),n):void 0,$o(t,n)}));function ea(t){var e=Sn(t);return e.__chain__=!0,e}function na(t,e){return e(t)}var ra=zi((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,i=function(e){return $n(e,t)};return!(e>1||this.__actions__.length)&&r instanceof jn&&ao(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:na,args:[i],thisArg:void 0}),new xn(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(void 0),t}))):this.thru(i)}));var ia=Oi((function(t,e,n){At.call(t,n)?++t[n]:Yn(t,n,1)}));var oa=Ri(jo),aa=Ri(Co);function ua(t,e){return(Ca(t)?ue:tr)(t,Xi(e,3))}function ca(t,e){return(Ca(t)?ce:er)(t,Xi(e,3))}var sa=Oi((function(t,e,n){At.call(t,n)?t[n].push(e):Yn(t,n,[e])}));var fa=Fr((function(t,e,n){var i=-1,o="function"==typeof e,a=Pa(t)?r(t.length):[];return tr(t,(function(t){a[++i]=o?oe(e,t,n):gr(t,e,n)})),a})),la=Oi((function(t,e,n){Yn(t,n,e)}));function ha(t,e){return(Ca(t)?pe:Nr)(t,Xi(e,3))}var pa=Oi((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));var da=Fr((function(t,e){if(null==t)return[];var n=e.length;return n>1&&uo(t,e[0],e[1])?e=[]:n>2&&uo(e[0],e[1],e[2])&&(e=[e[0]]),jr(t,or(e,1),[])})),va=Xe||function(){return Yt.Date.now()};function ya(t,e,n){return e=n?void 0:e,Di(t,128,void 0,void 0,void 0,void 0,e=t&&null==e?t.length:e)}function ma(t,e){var n;if("function"!=typeof e)throw new gt(o);return t=ru(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}}var ga=Fr((function(t,e,n){var r=1;if(n.length){var i=Ge(n,qi(ga));r|=32}return Di(t,r,e,n,i)})),Oa=Fr((function(t,e,n){var r=3;if(n.length){var i=Ge(n,qi(Oa));r|=32}return Di(e,r,t,n,i)}));function _a(t,e,n){var r,i,a,u,c,s,f=0,l=!1,h=!1,p=!0;if("function"!=typeof t)throw new gt(o);function d(e){var n=r,o=i;return r=i=void 0,f=e,u=t.apply(o,n)}function v(t){return f=t,c=_o(m,e),l?d(t):u}function y(t){var n=t-s;return void 0===s||n>=e||n<0||h&&t-f>=a}function m(){var t=va();if(y(t))return g(t);c=_o(m,function(t){var n=e-(t-s);return h?un(n,a-(t-f)):n}(t))}function g(t){return c=void 0,p&&r?d(t):(r=i=void 0,u)}function O(){var t=va(),n=y(t);if(r=arguments,i=this,s=t,n){if(void 0===c)return v(s);if(h)return fi(c),c=_o(m,e),d(s)}return void 0===c&&(c=_o(m,e)),u}return e=ou(e)||0,Ka(n)&&(l=!!n.leading,a=(h="maxWait"in n)?an(ou(n.maxWait)||0,e):a,p="trailing"in n?!!n.trailing:p),O.cancel=function(){void 0!==c&&fi(c),f=0,r=s=i=c=void 0},O.flush=function(){return void 0===c?u:g(va())},O}var Ea=Fr((function(t,e){return Jn(t,1,e)})),Ta=Fr((function(t,e,n){return Jn(t,ou(e)||0,n)}));function ba(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new gt(o);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(ba.Cache||Pn),n}function Aa(t){if("function"!=typeof t)throw new gt(o);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}ba.Cache=Pn;var Ia=ci((function(t,e){var n=(e=1==e.length&&Ca(e[0])?pe(e[0],ke(Xi())):pe(or(e,1),ke(Xi()))).length;return Fr((function(r){for(var i=-1,o=un(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return oe(t,this,r)}))})),Ra=Fr((function(t,e){return Di(t,32,void 0,e,Ge(e,qi(Ra)))})),Na=Fr((function(t,e){return Di(t,64,void 0,e,Ge(e,qi(Na)))})),Sa=zi((function(t,e){return Di(t,256,void 0,void 0,void 0,e)}));function La(t,e){return t===e||t!=t&&e!=e}var ka=wi(dr),xa=wi((function(t,e){return t>=e})),ja=Or(function(){return arguments}())?Or:function(t){return za(t)&&At.call(t,"callee")&&!$t.call(t,"callee")},Ca=r.isArray,wa=Qt?ke(Qt):function(t){return za(t)&&pr(t)==b};function Pa(t){return null!=t&&Ga(t.length)&&!Ba(t)}function Ma(t){return za(t)&&Pa(t)}var Ua=en||oc,Fa=te?ke(te):function(t){return za(t)&&pr(t)==l};function Da(t){if(!za(t))return!1;var e=pr(t);return e==h||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!Ya(t)}function Ba(t){if(!Ka(t))return!1;var e=pr(t);return e==p||e==d||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Wa(t){return"number"==typeof t&&t==ru(t)}function Ga(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function Ka(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function za(t){return null!=t&&"object"==typeof t}var Va=ee?ke(ee):function(t){return za(t)&&no(t)==v};function Ha(t){return"number"==typeof t||za(t)&&pr(t)==y}function Ya(t){if(!za(t)||pr(t)!=m)return!1;var e=Vt(t);if(null===e)return!0;var n=At.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&bt.call(n)==St}var $a=ne?ke(ne):function(t){return za(t)&&pr(t)==g};var qa=re?ke(re):function(t){return za(t)&&no(t)==O};function Xa(t){return"string"==typeof t||!Ca(t)&&za(t)&&pr(t)==_}function Za(t){return"symbol"==typeof t||za(t)&&pr(t)==E}var Ja=ie?ke(ie):function(t){return za(t)&&Ga(t.length)&&!!Bt[pr(t)]};var Qa=wi(Rr),tu=wi((function(t,e){return t<=e}));function eu(t){if(!t)return[];if(Pa(t))return Xa(t)?He(t):mi(t);if(Jt&&t[Jt])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Jt]());var e=no(t);return(e==v?Be:e==O?Ke:Lu)(t)}function nu(t){return t?(t=ou(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function ru(t){var e=nu(t),n=e%1;return e==e?n?e-n:e:0}function iu(t){return t?qn(ru(t),0,4294967295):0}function ou(t){if("number"==typeof t)return t;if(Za(t))return NaN;if(Ka(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Ka(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace($,"");var n=ot.test(t);return n||ut.test(t)?zt(t.slice(2),n?2:8):it.test(t)?NaN:+t}function au(t){return gi(t,Eu(t))}function uu(t){return null==t?"":Zr(t)}var cu=_i((function(t,e){if(lo(e)||Pa(e))gi(e,_u(e),t);else for(var n in e)At.call(e,n)&&Kn(t,n,e[n])})),su=_i((function(t,e){gi(e,Eu(e),t)})),fu=_i((function(t,e,n,r){gi(e,Eu(e),t,r)})),lu=_i((function(t,e,n,r){gi(e,_u(e),t,r)})),hu=zi($n);var pu=Fr((function(t,e){t=vt(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&uo(e[0],e[1],i)&&(r=1);++n<r;)for(var o=e[n],a=Eu(o),u=-1,c=a.length;++u<c;){var s=a[u],f=t[s];(void 0===f||La(f,Et[s])&&!At.call(t,s))&&(t[s]=o[s])}return t})),du=Fr((function(t){return t.push(void 0,Wi),oe(bu,void 0,t)}));function vu(t,e,n){var r=null==t?void 0:lr(t,e);return void 0===r?n:r}function yu(t,e){return null!=t&&ro(t,e,yr)}var mu=Li((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Nt.call(e)),t[e]=n}),Ku(Hu)),gu=Li((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Nt.call(e)),At.call(t,e)?t[e].push(n):t[e]=[n]}),Xi),Ou=Fr(gr);function _u(t){return Pa(t)?Fn(t):Ar(t)}function Eu(t){return Pa(t)?Fn(t,!0):Ir(t)}var Tu=_i((function(t,e,n){kr(t,e,n)})),bu=_i((function(t,e,n,r){kr(t,e,n,r)})),Au=zi((function(t,e){var n={};if(null==t)return n;var r=!1;e=pe(e,(function(e){return e=ui(e,t),r||(r=e.length>1),e})),gi(t,Hi(t),n),r&&(n=Xn(n,7,Gi));for(var i=e.length;i--;)Qr(n,e[i]);return n}));var Iu=zi((function(t,e){return null==t?{}:function(t,e){return Cr(t,e,(function(e,n){return yu(t,n)}))}(t,e)}));function Ru(t,e){if(null==t)return{};var n=pe(Hi(t),(function(t){return[t]}));return e=Xi(e),Cr(t,n,(function(t,n){return e(t,n[0])}))}var Nu=Fi(_u),Su=Fi(Eu);function Lu(t){return null==t?[]:xe(t,_u(t))}var ku=Ai((function(t,e,n){return e=e.toLowerCase(),t+(n?xu(e):e)}));function xu(t){return Du(uu(t).toLowerCase())}function ju(t){return(t=uu(t))&&t.replace(st,Me).replace(Ct,"")}var Cu=Ai((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),wu=Ai((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Pu=bi("toLowerCase");var Mu=Ai((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));var Uu=Ai((function(t,e,n){return t+(n?" ":"")+Du(e)}));var Fu=Ai((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Du=bi("toUpperCase");function Bu(t,e,n){return t=uu(t),void 0===(e=n?void 0:e)?function(t){return Ut.test(t)}(t)?function(t){return t.match(Pt)||[]}(t):function(t){return t.match(tt)||[]}(t):t.match(e)||[]}var Wu=Fr((function(t,e){try{return oe(t,void 0,e)}catch(t){return Da(t)?t:new ht(t)}})),Gu=zi((function(t,e){return ue(e,(function(e){e=Ro(e),Yn(t,e,ga(t[e],t))})),t}));function Ku(t){return function(){return t}}var zu=Ni(),Vu=Ni(!0);function Hu(t){return t}function Yu(t){return br("function"==typeof t?t:Xn(t,1))}var $u=Fr((function(t,e){return function(n){return gr(n,t,e)}})),qu=Fr((function(t,e){return function(n){return gr(t,n,e)}}));function Xu(t,e,n){var r=_u(e),i=fr(e,r);null!=n||Ka(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=fr(e,_u(e)));var o=!(Ka(n)&&"chain"in n&&!n.chain),a=Ba(t);return ue(i,(function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),i=n.__actions__=mi(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,de([this.value()],arguments))})})),t}function Zu(){}var Ju=xi(pe),Qu=xi(se),tc=xi(me);function ec(t){return co(t)?Ie(Ro(t)):function(t){return function(e){return lr(e,t)}}(t)}var nc=Ci(),rc=Ci(!0);function ic(){return[]}function oc(){return!1}var ac=ki((function(t,e){return t+e}),0),uc=Mi("ceil"),cc=ki((function(t,e){return t/e}),1),sc=Mi("floor");var fc,lc=ki((function(t,e){return t*e}),1),hc=Mi("round"),pc=ki((function(t,e){return t-e}),0);return Sn.after=function(t,e){if("function"!=typeof e)throw new gt(o);return t=ru(t),function(){if(--t<1)return e.apply(this,arguments)}},Sn.ary=ya,Sn.assign=cu,Sn.assignIn=su,Sn.assignInWith=fu,Sn.assignWith=lu,Sn.at=hu,Sn.before=ma,Sn.bind=ga,Sn.bindAll=Gu,Sn.bindKey=Oa,Sn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Ca(t)?t:[t]},Sn.chain=ea,Sn.chunk=function(t,e,n){e=(n?uo(t,e,n):void 0===e)?1:an(ru(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var o=0,a=0,u=r(Je(i/e));o<i;)u[a++]=Vr(t,o,o+=e);return u},Sn.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},Sn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=r(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return de(Ca(n)?mi(n):[n],or(e,1))},Sn.cond=function(t){var e=null==t?0:t.length,n=Xi();return t=e?pe(t,(function(t){if("function"!=typeof t[1])throw new gt(o);return[n(t[0]),t[1]]})):[],Fr((function(n){for(var r=-1;++r<e;){var i=t[r];if(oe(i[0],this,n))return oe(i[1],this,n)}}))},Sn.conforms=function(t){return function(t){var e=_u(t);return function(n){return Zn(n,t,e)}}(Xn(t,1))},Sn.constant=Ku,Sn.countBy=ia,Sn.create=function(t,e){var n=Ln(t);return null==e?n:Hn(n,e)},Sn.curry=function t(e,n,r){var i=Di(e,8,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=t.placeholder,i},Sn.curryRight=function t(e,n,r){var i=Di(e,16,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=t.placeholder,i},Sn.debounce=_a,Sn.defaults=pu,Sn.defaultsDeep=du,Sn.defer=Ea,Sn.delay=Ta,Sn.difference=Lo,Sn.differenceBy=ko,Sn.differenceWith=xo,Sn.drop=function(t,e,n){var r=null==t?0:t.length;return r?Vr(t,(e=n||void 0===e?1:ru(e))<0?0:e,r):[]},Sn.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?Vr(t,0,(e=r-(e=n||void 0===e?1:ru(e)))<0?0:e):[]},Sn.dropRightWhile=function(t,e){return t&&t.length?ei(t,Xi(e,3),!0,!0):[]},Sn.dropWhile=function(t,e){return t&&t.length?ei(t,Xi(e,3),!0):[]},Sn.fill=function(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&uo(t,e,n)&&(n=0,r=i),function(t,e,n,r){var i=t.length;for((n=ru(n))<0&&(n=-n>i?0:i+n),(r=void 0===r||r>i?i:ru(r))<0&&(r+=i),r=n>r?0:iu(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},Sn.filter=function(t,e){return(Ca(t)?fe:ir)(t,Xi(e,3))},Sn.flatMap=function(t,e){return or(ha(t,e),1)},Sn.flatMapDeep=function(t,e){return or(ha(t,e),1/0)},Sn.flatMapDepth=function(t,e,n){return n=void 0===n?1:ru(n),or(ha(t,e),n)},Sn.flatten=wo,Sn.flattenDeep=function(t){return(null==t?0:t.length)?or(t,1/0):[]},Sn.flattenDepth=function(t,e){return(null==t?0:t.length)?or(t,e=void 0===e?1:ru(e)):[]},Sn.flip=function(t){return Di(t,512)},Sn.flow=zu,Sn.flowRight=Vu,Sn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},Sn.functions=function(t){return null==t?[]:fr(t,_u(t))},Sn.functionsIn=function(t){return null==t?[]:fr(t,Eu(t))},Sn.groupBy=sa,Sn.initial=function(t){return(null==t?0:t.length)?Vr(t,0,-1):[]},Sn.intersection=Mo,Sn.intersectionBy=Uo,Sn.intersectionWith=Fo,Sn.invert=mu,Sn.invertBy=gu,Sn.invokeMap=fa,Sn.iteratee=Yu,Sn.keyBy=la,Sn.keys=_u,Sn.keysIn=Eu,Sn.map=ha,Sn.mapKeys=function(t,e){var n={};return e=Xi(e,3),cr(t,(function(t,r,i){Yn(n,e(t,r,i),t)})),n},Sn.mapValues=function(t,e){var n={};return e=Xi(e,3),cr(t,(function(t,r,i){Yn(n,r,e(t,r,i))})),n},Sn.matches=function(t){return Sr(Xn(t,1))},Sn.matchesProperty=function(t,e){return Lr(t,Xn(e,1))},Sn.memoize=ba,Sn.merge=Tu,Sn.mergeWith=bu,Sn.method=$u,Sn.methodOf=qu,Sn.mixin=Xu,Sn.negate=Aa,Sn.nthArg=function(t){return t=ru(t),Fr((function(e){return xr(e,t)}))},Sn.omit=Au,Sn.omitBy=function(t,e){return Ru(t,Aa(Xi(e)))},Sn.once=function(t){return ma(2,t)},Sn.orderBy=function(t,e,n,r){return null==t?[]:(Ca(e)||(e=null==e?[]:[e]),Ca(n=r?void 0:n)||(n=null==n?[]:[n]),jr(t,e,n))},Sn.over=Ju,Sn.overArgs=Ia,Sn.overEvery=Qu,Sn.overSome=tc,Sn.partial=Ra,Sn.partialRight=Na,Sn.partition=pa,Sn.pick=Iu,Sn.pickBy=Ru,Sn.property=ec,Sn.propertyOf=function(t){return function(e){return null==t?void 0:lr(t,e)}},Sn.pull=Bo,Sn.pullAll=Wo,Sn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?wr(t,e,Xi(n,2)):t},Sn.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?wr(t,e,void 0,n):t},Sn.pullAt=Go,Sn.range=nc,Sn.rangeRight=rc,Sn.rearg=Sa,Sn.reject=function(t,e){return(Ca(t)?fe:ir)(t,Aa(Xi(e,3)))},Sn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=Xi(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return Pr(t,i),n},Sn.rest=function(t,e){if("function"!=typeof t)throw new gt(o);return Fr(t,e=void 0===e?e:ru(e))},Sn.reverse=Ko,Sn.sampleSize=function(t,e,n){return e=(n?uo(t,e,n):void 0===e)?1:ru(e),(Ca(t)?Bn:Br)(t,e)},Sn.set=function(t,e,n){return null==t?t:Wr(t,e,n)},Sn.setWith=function(t,e,n,r){return r="function"==typeof r?r:void 0,null==t?t:Wr(t,e,n,r)},Sn.shuffle=function(t){return(Ca(t)?Wn:zr)(t)},Sn.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&uo(t,e,n)?(e=0,n=r):(e=null==e?0:ru(e),n=void 0===n?r:ru(n)),Vr(t,e,n)):[]},Sn.sortBy=da,Sn.sortedUniq=function(t){return t&&t.length?qr(t):[]},Sn.sortedUniqBy=function(t,e){return t&&t.length?qr(t,Xi(e,2)):[]},Sn.split=function(t,e,n){return n&&"number"!=typeof n&&uo(t,e,n)&&(e=n=void 0),(n=void 0===n?4294967295:n>>>0)?(t=uu(t))&&("string"==typeof e||null!=e&&!$a(e))&&!(e=Zr(e))&&De(t)?si(He(t),0,n):t.split(e,n):[]},Sn.spread=function(t,e){if("function"!=typeof t)throw new gt(o);return e=null==e?0:an(ru(e),0),Fr((function(n){var r=n[e],i=si(n,0,e);return r&&de(i,r),oe(t,this,i)}))},Sn.tail=function(t){var e=null==t?0:t.length;return e?Vr(t,1,e):[]},Sn.take=function(t,e,n){return t&&t.length?Vr(t,0,(e=n||void 0===e?1:ru(e))<0?0:e):[]},Sn.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?Vr(t,(e=r-(e=n||void 0===e?1:ru(e)))<0?0:e,r):[]},Sn.takeRightWhile=function(t,e){return t&&t.length?ei(t,Xi(e,3),!1,!0):[]},Sn.takeWhile=function(t,e){return t&&t.length?ei(t,Xi(e,3)):[]},Sn.tap=function(t,e){return e(t),t},Sn.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new gt(o);return Ka(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),_a(t,e,{leading:r,maxWait:e,trailing:i})},Sn.thru=na,Sn.toArray=eu,Sn.toPairs=Nu,Sn.toPairsIn=Su,Sn.toPath=function(t){return Ca(t)?pe(t,Ro):Za(t)?[t]:mi(Io(uu(t)))},Sn.toPlainObject=au,Sn.transform=function(t,e,n){var r=Ca(t),i=r||Ua(t)||Ja(t);if(e=Xi(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:Ka(t)&&Ba(o)?Ln(Vt(t)):{}}return(i?ue:cr)(t,(function(t,r,i){return e(n,t,r,i)})),n},Sn.unary=function(t){return ya(t,1)},Sn.union=zo,Sn.unionBy=Vo,Sn.unionWith=Ho,Sn.uniq=function(t){return t&&t.length?Jr(t):[]},Sn.uniqBy=function(t,e){return t&&t.length?Jr(t,Xi(e,2)):[]},Sn.uniqWith=function(t,e){return e="function"==typeof e?e:void 0,t&&t.length?Jr(t,void 0,e):[]},Sn.unset=function(t,e){return null==t||Qr(t,e)},Sn.unzip=Yo,Sn.unzipWith=$o,Sn.update=function(t,e,n){return null==t?t:ti(t,e,ai(n))},Sn.updateWith=function(t,e,n,r){return r="function"==typeof r?r:void 0,null==t?t:ti(t,e,ai(n),r)},Sn.values=Lu,Sn.valuesIn=function(t){return null==t?[]:xe(t,Eu(t))},Sn.without=qo,Sn.words=Bu,Sn.wrap=function(t,e){return Ra(ai(e),t)},Sn.xor=Xo,Sn.xorBy=Zo,Sn.xorWith=Jo,Sn.zip=Qo,Sn.zipObject=function(t,e){return ii(t||[],e||[],Kn)},Sn.zipObjectDeep=function(t,e){return ii(t||[],e||[],Wr)},Sn.zipWith=ta,Sn.entries=Nu,Sn.entriesIn=Su,Sn.extend=su,Sn.extendWith=fu,Xu(Sn,Sn),Sn.add=ac,Sn.attempt=Wu,Sn.camelCase=ku,Sn.capitalize=xu,Sn.ceil=uc,Sn.clamp=function(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=(n=ou(n))==n?n:0),void 0!==e&&(e=(e=ou(e))==e?e:0),qn(ou(t),e,n)},Sn.clone=function(t){return Xn(t,4)},Sn.cloneDeep=function(t){return Xn(t,5)},Sn.cloneDeepWith=function(t,e){return Xn(t,5,e="function"==typeof e?e:void 0)},Sn.cloneWith=function(t,e){return Xn(t,4,e="function"==typeof e?e:void 0)},Sn.conformsTo=function(t,e){return null==e||Zn(t,e,_u(e))},Sn.deburr=ju,Sn.defaultTo=function(t,e){return null==t||t!=t?e:t},Sn.divide=cc,Sn.endsWith=function(t,e,n){t=uu(t),e=Zr(e);var r=t.length,i=n=void 0===n?r:qn(ru(n),0,r);return(n-=e.length)>=0&&t.slice(n,i)==e},Sn.eq=La,Sn.escape=function(t){return(t=uu(t))&&D.test(t)?t.replace(U,Ue):t},Sn.escapeRegExp=function(t){return(t=uu(t))&&Y.test(t)?t.replace(H,"\\$&"):t},Sn.every=function(t,e,n){var r=Ca(t)?se:nr;return n&&uo(t,e,n)&&(e=void 0),r(t,Xi(e,3))},Sn.find=oa,Sn.findIndex=jo,Sn.findKey=function(t,e){return Oe(t,Xi(e,3),cr)},Sn.findLast=aa,Sn.findLastIndex=Co,Sn.findLastKey=function(t,e){return Oe(t,Xi(e,3),sr)},Sn.floor=sc,Sn.forEach=ua,Sn.forEachRight=ca,Sn.forIn=function(t,e){return null==t?t:ar(t,Xi(e,3),Eu)},Sn.forInRight=function(t,e){return null==t?t:ur(t,Xi(e,3),Eu)},Sn.forOwn=function(t,e){return t&&cr(t,Xi(e,3))},Sn.forOwnRight=function(t,e){return t&&sr(t,Xi(e,3))},Sn.get=vu,Sn.gt=ka,Sn.gte=xa,Sn.has=function(t,e){return null!=t&&ro(t,e,vr)},Sn.hasIn=yu,Sn.head=Po,Sn.identity=Hu,Sn.includes=function(t,e,n,r){t=Pa(t)?t:Lu(t),n=n&&!r?ru(n):0;var i=t.length;return n<0&&(n=an(i+n,0)),Xa(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&Ee(t,e,n)>-1},Sn.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:ru(n);return i<0&&(i=an(r+i,0)),Ee(t,e,i)},Sn.inRange=function(t,e,n){return e=nu(e),void 0===n?(n=e,e=0):n=nu(n),function(t,e,n){return t>=un(e,n)&&t<an(e,n)}(t=ou(t),e,n)},Sn.invoke=Ou,Sn.isArguments=ja,Sn.isArray=Ca,Sn.isArrayBuffer=wa,Sn.isArrayLike=Pa,Sn.isArrayLikeObject=Ma,Sn.isBoolean=function(t){return!0===t||!1===t||za(t)&&pr(t)==f},Sn.isBuffer=Ua,Sn.isDate=Fa,Sn.isElement=function(t){return za(t)&&1===t.nodeType&&!Ya(t)},Sn.isEmpty=function(t){if(null==t)return!0;if(Pa(t)&&(Ca(t)||"string"==typeof t||"function"==typeof t.splice||Ua(t)||Ja(t)||ja(t)))return!t.length;var e=no(t);if(e==v||e==O)return!t.size;if(lo(t))return!Ar(t).length;for(var n in t)if(At.call(t,n))return!1;return!0},Sn.isEqual=function(t,e){return _r(t,e)},Sn.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:void 0)?n(t,e):void 0;return void 0===r?_r(t,e,void 0,n):!!r},Sn.isError=Da,Sn.isFinite=function(t){return"number"==typeof t&&nn(t)},Sn.isFunction=Ba,Sn.isInteger=Wa,Sn.isLength=Ga,Sn.isMap=Va,Sn.isMatch=function(t,e){return t===e||Er(t,e,Ji(e))},Sn.isMatchWith=function(t,e,n){return n="function"==typeof n?n:void 0,Er(t,e,Ji(e),n)},Sn.isNaN=function(t){return Ha(t)&&t!=+t},Sn.isNative=function(t){if(fo(t))throw new ht("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Tr(t)},Sn.isNil=function(t){return null==t},Sn.isNull=function(t){return null===t},Sn.isNumber=Ha,Sn.isObject=Ka,Sn.isObjectLike=za,Sn.isPlainObject=Ya,Sn.isRegExp=$a,Sn.isSafeInteger=function(t){return Wa(t)&&t>=-9007199254740991&&t<=9007199254740991},Sn.isSet=qa,Sn.isString=Xa,Sn.isSymbol=Za,Sn.isTypedArray=Ja,Sn.isUndefined=function(t){return void 0===t},Sn.isWeakMap=function(t){return za(t)&&no(t)==T},Sn.isWeakSet=function(t){return za(t)&&"[object WeakSet]"==pr(t)},Sn.join=function(t,e){return null==t?"":rn.call(t,e)},Sn.kebabCase=Cu,Sn.last=Do,Sn.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return void 0!==n&&(i=(i=ru(n))<0?an(r+i,0):un(i,r-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,i):_e(t,be,i,!0)},Sn.lowerCase=wu,Sn.lowerFirst=Pu,Sn.lt=Qa,Sn.lte=tu,Sn.max=function(t){return t&&t.length?rr(t,Hu,dr):void 0},Sn.maxBy=function(t,e){return t&&t.length?rr(t,Xi(e,2),dr):void 0},Sn.mean=function(t){return Ae(t,Hu)},Sn.meanBy=function(t,e){return Ae(t,Xi(e,2))},Sn.min=function(t){return t&&t.length?rr(t,Hu,Rr):void 0},Sn.minBy=function(t,e){return t&&t.length?rr(t,Xi(e,2),Rr):void 0},Sn.stubArray=ic,Sn.stubFalse=oc,Sn.stubObject=function(){return{}},Sn.stubString=function(){return""},Sn.stubTrue=function(){return!0},Sn.multiply=lc,Sn.nth=function(t,e){return t&&t.length?xr(t,ru(e)):void 0},Sn.noConflict=function(){return Yt._===this&&(Yt._=Lt),this},Sn.noop=Zu,Sn.now=va,Sn.pad=function(t,e,n){t=uu(t);var r=(e=ru(e))?Ve(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return ji(Qe(i),n)+t+ji(Je(i),n)},Sn.padEnd=function(t,e,n){t=uu(t);var r=(e=ru(e))?Ve(t):0;return e&&r<e?t+ji(e-r,n):t},Sn.padStart=function(t,e,n){t=uu(t);var r=(e=ru(e))?Ve(t):0;return e&&r<e?ji(e-r,n)+t:t},Sn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),sn(uu(t).replace(q,""),e||0)},Sn.random=function(t,e,n){if(n&&"boolean"!=typeof n&&uo(t,e,n)&&(e=n=void 0),void 0===n&&("boolean"==typeof e?(n=e,e=void 0):"boolean"==typeof t&&(n=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=nu(t),void 0===e?(e=t,t=0):e=nu(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=fn();return un(t+i*(e-t+Kt("1e-"+((i+"").length-1))),e)}return Mr(t,e)},Sn.reduce=function(t,e,n){var r=Ca(t)?ve:Ne,i=arguments.length<3;return r(t,Xi(e,4),n,i,tr)},Sn.reduceRight=function(t,e,n){var r=Ca(t)?ye:Ne,i=arguments.length<3;return r(t,Xi(e,4),n,i,er)},Sn.repeat=function(t,e,n){return e=(n?uo(t,e,n):void 0===e)?1:ru(e),Ur(uu(t),e)},Sn.replace=function(){var t=arguments,e=uu(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Sn.result=function(t,e,n){var r=-1,i=(e=ui(e,t)).length;for(i||(i=1,t=void 0);++r<i;){var o=null==t?void 0:t[Ro(e[r])];void 0===o&&(r=i,o=n),t=Ba(o)?o.call(t):o}return t},Sn.round=hc,Sn.runInContext=t,Sn.sample=function(t){return(Ca(t)?Dn:Dr)(t)},Sn.size=function(t){if(null==t)return 0;if(Pa(t))return Xa(t)?Ve(t):t.length;var e=no(t);return e==v||e==O?t.size:Ar(t).length},Sn.snakeCase=Mu,Sn.some=function(t,e,n){var r=Ca(t)?me:Hr;return n&&uo(t,e,n)&&(e=void 0),r(t,Xi(e,3))},Sn.sortedIndex=function(t,e){return Yr(t,e)},Sn.sortedIndexBy=function(t,e,n){return $r(t,e,Xi(n,2))},Sn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=Yr(t,e);if(r<n&&La(t[r],e))return r}return-1},Sn.sortedLastIndex=function(t,e){return Yr(t,e,!0)},Sn.sortedLastIndexBy=function(t,e,n){return $r(t,e,Xi(n,2),!0)},Sn.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=Yr(t,e,!0)-1;if(La(t[n],e))return n}return-1},Sn.startCase=Uu,Sn.startsWith=function(t,e,n){return t=uu(t),n=null==n?0:qn(ru(n),0,t.length),e=Zr(e),t.slice(n,n+e.length)==e},Sn.subtract=pc,Sn.sum=function(t){return t&&t.length?Se(t,Hu):0},Sn.sumBy=function(t,e){return t&&t.length?Se(t,Xi(e,2)):0},Sn.template=function(t,e,n){var r=Sn.templateSettings;n&&uo(t,e,n)&&(e=void 0),t=uu(t),e=fu({},e,r,Bi);var i,o,a=fu({},e.imports,r.imports,Bi),u=_u(a),c=xe(a,u),s=0,f=e.interpolate||ft,l="__p += '",h=yt((e.escape||ft).source+"|"+f.source+"|"+(f===G?nt:ft).source+"|"+(e.evaluate||ft).source+"|$","g"),p="//# sourceURL="+(At.call(e,"sourceURL")?(e.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++Dt+"]")+"\n";t.replace(h,(function(e,n,r,a,u,c){return r||(r=a),l+=t.slice(s,c).replace(lt,Fe),n&&(i=!0,l+="' +\n__e("+n+") +\n'"),u&&(o=!0,l+="';\n"+u+";\n__p += '"),r&&(l+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),s=c+e.length,e})),l+="';\n";var d=At.call(e,"variable")&&e.variable;d||(l="with (obj) {\n"+l+"\n}\n"),l=(o?l.replace(C,""):l).replace(w,"$1").replace(P,"$1;"),l="function("+(d||"obj")+") {\n"+(d?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+l+"return __p\n}";var v=Wu((function(){return pt(u,p+"return "+l).apply(void 0,c)}));if(v.source=l,Da(v))throw v;return v},Sn.times=function(t,e){if((t=ru(t))<1||t>9007199254740991)return[];var n=4294967295,r=un(t,4294967295);t-=4294967295;for(var i=Le(r,e=Xi(e));++n<t;)e(n);return i},Sn.toFinite=nu,Sn.toInteger=ru,Sn.toLength=iu,Sn.toLower=function(t){return uu(t).toLowerCase()},Sn.toNumber=ou,Sn.toSafeInteger=function(t){return t?qn(ru(t),-9007199254740991,9007199254740991):0===t?t:0},Sn.toString=uu,Sn.toUpper=function(t){return uu(t).toUpperCase()},Sn.trim=function(t,e,n){if((t=uu(t))&&(n||void 0===e))return t.replace($,"");if(!t||!(e=Zr(e)))return t;var r=He(t),i=He(e);return si(r,Ce(r,i),we(r,i)+1).join("")},Sn.trimEnd=function(t,e,n){if((t=uu(t))&&(n||void 0===e))return t.replace(X,"");if(!t||!(e=Zr(e)))return t;var r=He(t);return si(r,0,we(r,He(e))+1).join("")},Sn.trimStart=function(t,e,n){if((t=uu(t))&&(n||void 0===e))return t.replace(q,"");if(!t||!(e=Zr(e)))return t;var r=He(t);return si(r,Ce(r,He(e))).join("")},Sn.truncate=function(t,e){var n=30,r="...";if(Ka(e)){var i="separator"in e?e.separator:i;n="length"in e?ru(e.length):n,r="omission"in e?Zr(e.omission):r}var o=(t=uu(t)).length;if(De(t)){var a=He(t);o=a.length}if(n>=o)return t;var u=n-Ve(r);if(u<1)return r;var c=a?si(a,0,u).join(""):t.slice(0,u);if(void 0===i)return c+r;if(a&&(u+=c.length-u),$a(i)){if(t.slice(u).search(i)){var s,f=c;for(i.global||(i=yt(i.source,uu(rt.exec(i))+"g")),i.lastIndex=0;s=i.exec(f);)var l=s.index;c=c.slice(0,void 0===l?u:l)}}else if(t.indexOf(Zr(i),u)!=u){var h=c.lastIndexOf(i);h>-1&&(c=c.slice(0,h))}return c+r},Sn.unescape=function(t){return(t=uu(t))&&F.test(t)?t.replace(M,Ye):t},Sn.uniqueId=function(t){var e=++It;return uu(t)+e},Sn.upperCase=Fu,Sn.upperFirst=Du,Sn.each=ua,Sn.eachRight=ca,Sn.first=Po,Xu(Sn,(fc={},cr(Sn,(function(t,e){At.call(Sn.prototype,e)||(fc[e]=t)})),fc),{chain:!1}),Sn.VERSION="4.17.15",ue(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Sn[t].placeholder=Sn})),ue(["drop","take"],(function(t,e){jn.prototype[t]=function(n){n=void 0===n?1:an(ru(n),0);var r=this.__filtered__&&!e?new jn(this):this.clone();return r.__filtered__?r.__takeCount__=un(n,r.__takeCount__):r.__views__.push({size:un(n,4294967295),type:t+(r.__dir__<0?"Right":"")}),r},jn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),ue(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=1==n||3==n;jn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Xi(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),ue(["head","last"],(function(t,e){var n="take"+(e?"Right":"");jn.prototype[t]=function(){return this[n](1).value()[0]}})),ue(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");jn.prototype[t]=function(){return this.__filtered__?new jn(this):this[n](1)}})),jn.prototype.compact=function(){return this.filter(Hu)},jn.prototype.find=function(t){return this.filter(t).head()},jn.prototype.findLast=function(t){return this.reverse().find(t)},jn.prototype.invokeMap=Fr((function(t,e){return"function"==typeof t?new jn(this):this.map((function(n){return gr(n,t,e)}))})),jn.prototype.reject=function(t){return this.filter(Aa(Xi(t)))},jn.prototype.slice=function(t,e){t=ru(t);var n=this;return n.__filtered__&&(t>0||e<0)?new jn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),void 0!==e&&(n=(e=ru(e))<0?n.dropRight(-e):n.take(e-t)),n)},jn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},jn.prototype.toArray=function(){return this.take(4294967295)},cr(jn.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),i=Sn[r?"take"+("last"==e?"Right":""):e],o=r||/^find/.test(e);i&&(Sn.prototype[e]=function(){var e=this.__wrapped__,a=r?[1]:arguments,u=e instanceof jn,c=a[0],s=u||Ca(e),f=function(t){var e=i.apply(Sn,de([t],a));return r&&l?e[0]:e};s&&n&&"function"==typeof c&&1!=c.length&&(u=s=!1);var l=this.__chain__,h=!!this.__actions__.length,p=o&&!l,d=u&&!h;if(!o&&s){e=d?e:new jn(this);var v=t.apply(e,a);return v.__actions__.push({func:na,args:[f],thisArg:void 0}),new xn(v,l)}return p&&d?t.apply(this,a):(v=this.thru(f),p?r?v.value()[0]:v.value():v)})})),ue(["pop","push","shift","sort","splice","unshift"],(function(t){var e=Ot[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);Sn.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(Ca(i)?i:[],t)}return this[n]((function(n){return e.apply(Ca(n)?n:[],t)}))}})),cr(jn.prototype,(function(t,e){var n=Sn[e];if(n){var r=n.name+"";At.call(On,r)||(On[r]=[]),On[r].push({name:e,func:n})}})),On[Si(void 0,2).name]=[{name:"wrapper",func:void 0}],jn.prototype.clone=function(){var t=new jn(this.__wrapped__);return t.__actions__=mi(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=mi(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=mi(this.__views__),t},jn.prototype.reverse=function(){if(this.__filtered__){var t=new jn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},jn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Ca(t),r=e<0,i=n?t.length:0,o=function(t,e,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=un(e,t+a);break;case"takeRight":t=an(t,e-a)}}return{start:t,end:e}}(0,i,this.__views__),a=o.start,u=o.end,c=u-a,s=r?u:a-1,f=this.__iteratees__,l=f.length,h=0,p=un(c,this.__takeCount__);if(!n||!r&&i==c&&p==c)return ni(t,this.__actions__);var d=[];t:for(;c--&&h<p;){for(var v=-1,y=t[s+=e];++v<l;){var m=f[v],g=m.iteratee,O=m.type,_=g(y);if(2==O)y=_;else if(!_){if(1==O)continue t;break t}}d[h++]=y}return d},Sn.prototype.at=ra,Sn.prototype.chain=function(){return ea(this)},Sn.prototype.commit=function(){return new xn(this.value(),this.__chain__)},Sn.prototype.next=function(){void 0===this.__values__&&(this.__values__=eu(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?void 0:this.__values__[this.__index__++]}},Sn.prototype.plant=function(t){for(var e,n=this;n instanceof kn;){var r=So(n);r.__index__=0,r.__values__=void 0,e?i.__wrapped__=r:e=r;var i=r;n=n.__wrapped__}return i.__wrapped__=t,e},Sn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof jn){var e=t;return this.__actions__.length&&(e=new jn(this)),(e=e.reverse()).__actions__.push({func:na,args:[Ko],thisArg:void 0}),new xn(e,this.__chain__)}return this.thru(Ko)},Sn.prototype.toJSON=Sn.prototype.valueOf=Sn.prototype.value=function(){return ni(this.__wrapped__,this.__actions__)},Sn.prototype.first=Sn.prototype.head,Jt&&(Sn.prototype[Jt]=function(){return this}),Sn}();Yt._=$e,void 0===(i=function(){return $e}.call(e,n,e,r))||(r.exports=i)}).call(this)}).call(this,n(4),n(5)(t))},function(t,e,n){var r,i,o;"undefined"!=typeof self&&self,i=[],void 0===(o="function"==typeof(r=function(){function t(){}t.prototype.saveState=function(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}},t.prototype.restoreState=function(t){this.idx=t.idx,this.input=t.input,this.groupIdx=t.groupIdx},t.prototype.pattern=function(t){this.idx=0,this.input=t,this.groupIdx=0,this.consumeChar("/");var e=this.disjunction();this.consumeChar("/");for(var n={type:"Flags",loc:{begin:this.idx,end:t.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};this.isRegExpFlag();)switch(this.popChar()){case"g":u(n,"global");break;case"i":u(n,"ignoreCase");break;case"m":u(n,"multiLine");break;case"u":u(n,"unicode");break;case"y":u(n,"sticky")}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:n,value:e,loc:this.loc(0)}},t.prototype.disjunction=function(){var t=[],e=this.idx;for(t.push(this.alternative());"|"===this.peekChar();)this.consumeChar("|"),t.push(this.alternative());return{type:"Disjunction",value:t,loc:this.loc(e)}},t.prototype.alternative=function(){for(var t=[],e=this.idx;this.isTerm();)t.push(this.term());return{type:"Alternative",value:t,loc:this.loc(e)}},t.prototype.term=function(){return this.isAssertion()?this.assertion():this.atom()},t.prototype.assertion=function(){var t=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(t)};case"$":return{type:"EndAnchor",loc:this.loc(t)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(t)};case"B":return{type:"NonWordBoundary",loc:this.loc(t)}}throw Error("Invalid Assertion Escape");case"(":var e;switch(this.consumeChar("?"),this.popChar()){case"=":e="Lookahead";break;case"!":e="NegativeLookahead"}c(e);var n=this.disjunction();return this.consumeChar(")"),{type:e,value:n,loc:this.loc(t)}}!function(){throw Error("Internal Error - Should never get here!")}()},t.prototype.quantifier=function(t){var e,n=this.idx;switch(this.popChar()){case"*":e={atLeast:0,atMost:1/0};break;case"+":e={atLeast:1,atMost:1/0};break;case"?":e={atLeast:0,atMost:1};break;case"{":var r=this.integerIncludingZero();switch(this.popChar()){case"}":e={atLeast:r,atMost:r};break;case",":e=this.isDigit()?{atLeast:r,atMost:this.integerIncludingZero()}:{atLeast:r,atMost:1/0},this.consumeChar("}")}if(!0===t&&void 0===e)return;c(e)}if(!0!==t||void 0!==e)return c(e),"?"===this.peekChar(0)?(this.consumeChar("?"),e.greedy=!1):e.greedy=!0,e.type="Quantifier",e.loc=this.loc(n),e},t.prototype.atom=function(){var t,e=this.idx;switch(this.peekChar()){case".":t=this.dotAll();break;case"\\":t=this.atomEscape();break;case"[":t=this.characterClass();break;case"(":t=this.group()}return void 0===t&&this.isPatternCharacter()&&(t=this.patternCharacter()),c(t),t.loc=this.loc(e),this.isQuantifier()&&(t.quantifier=this.quantifier()),t},t.prototype.dotAll=function(){return this.consumeChar("."),{type:"Set",complement:!0,value:[o("\n"),o("\r"),o("\u2028"),o("\u2029")]}},t.prototype.atomEscape=function(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}},t.prototype.decimalEscapeAtom=function(){return{type:"GroupBackReference",value:this.positiveInteger()}},t.prototype.characterClassEscape=function(){var t,e=!1;switch(this.popChar()){case"d":t=s;break;case"D":t=s,e=!0;break;case"s":t=l;break;case"S":t=l,e=!0;break;case"w":t=f;break;case"W":t=f,e=!0}return c(t),{type:"Set",value:t,complement:e}},t.prototype.controlEscapeAtom=function(){var t;switch(this.popChar()){case"f":t=o("\f");break;case"n":t=o("\n");break;case"r":t=o("\r");break;case"t":t=o("\t");break;case"v":t=o("\v")}return c(t),{type:"Character",value:t}},t.prototype.controlLetterEscapeAtom=function(){this.consumeChar("c");var t=this.popChar();if(!1===/[a-zA-Z]/.test(t))throw Error("Invalid ");return{type:"Character",value:t.toUpperCase().charCodeAt(0)-64}},t.prototype.nulCharacterAtom=function(){return this.consumeChar("0"),{type:"Character",value:o("\0")}},t.prototype.hexEscapeSequenceAtom=function(){return this.consumeChar("x"),this.parseHexDigits(2)},t.prototype.regExpUnicodeEscapeSequenceAtom=function(){return this.consumeChar("u"),this.parseHexDigits(4)},t.prototype.identityEscapeAtom=function(){return{type:"Character",value:o(this.popChar())}},t.prototype.classPatternCharacterAtom=function(){switch(this.peekChar()){case"\n":case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:return{type:"Character",value:o(this.popChar())}}},t.prototype.characterClass=function(){var t=[],e=!1;for(this.consumeChar("["),"^"===this.peekChar(0)&&(this.consumeChar("^"),e=!0);this.isClassAtom();){var n=this.classAtom();if("Character"===n.type&&this.isRangeDash()){this.consumeChar("-");var r=this.classAtom();if("Character"===r.type){if(r.value<n.value)throw Error("Range out of order in character class");t.push({from:n.value,to:r.value})}else a(n.value,t),t.push(o("-")),a(r.value,t)}else a(n.value,t)}return this.consumeChar("]"),{type:"Set",complement:e,value:t}},t.prototype.classAtom=function(){switch(this.peekChar()){case"]":case"\n":case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}},t.prototype.classEscape=function(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:o("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}},t.prototype.group=function(){var t=!0;switch(this.consumeChar("("),this.peekChar(0)){case"?":this.consumeChar("?"),this.consumeChar(":"),t=!1;break;default:this.groupIdx++}var e=this.disjunction();this.consumeChar(")");var n={type:"Group",capturing:t,value:e};return t&&(n.idx=this.groupIdx),n},t.prototype.positiveInteger=function(){var t=this.popChar();if(!1===i.test(t))throw Error("Expecting a positive integer");for(;r.test(this.peekChar(0));)t+=this.popChar();return parseInt(t,10)},t.prototype.integerIncludingZero=function(){var t=this.popChar();if(!1===r.test(t))throw Error("Expecting an integer");for(;r.test(this.peekChar(0));)t+=this.popChar();return parseInt(t,10)},t.prototype.patternCharacter=function(){var t=this.popChar();switch(t){case"\n":case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:o(t)}}},t.prototype.isRegExpFlag=function(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}},t.prototype.isRangeDash=function(){return"-"===this.peekChar()&&this.isClassAtom(1)},t.prototype.isDigit=function(){return r.test(this.peekChar(0))},t.prototype.isClassAtom=function(t){switch(void 0===t&&(t=0),this.peekChar(t)){case"]":case"\n":case"\r":case"\u2028":case"\u2029":return!1;default:return!0}},t.prototype.isTerm=function(){return this.isAtom()||this.isAssertion()},t.prototype.isAtom=function(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}},t.prototype.isAssertion=function(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return"?"===this.peekChar(1)&&("="===this.peekChar(2)||"!"===this.peekChar(2));default:return!1}},t.prototype.isQuantifier=function(){var t=this.saveState();try{return void 0!==this.quantifier(!0)}catch(t){return!1}finally{this.restoreState(t)}},t.prototype.isPatternCharacter=function(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case"\n":case"\r":case"\u2028":case"\u2029":return!1;default:return!0}},t.prototype.parseHexDigits=function(t){for(var e="",r=0;r<t;r++){var i=this.popChar();if(!1===n.test(i))throw Error("Expecting a HexDecimal digits");e+=i}return{type:"Character",value:parseInt(e,16)}},t.prototype.peekChar=function(t){return void 0===t&&(t=0),this.input[this.idx+t]},t.prototype.popChar=function(){var t=this.peekChar(0);return this.consumeChar(),t},t.prototype.consumeChar=function(t){if(void 0!==t&&this.input[this.idx]!==t)throw Error("Expected: '"+t+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++},t.prototype.loc=function(t){return{begin:t,end:this.idx}};var e,n=/[0-9a-fA-F]/,r=/[0-9]/,i=/[1-9]/;function o(t){return t.charCodeAt(0)}function a(t,e){void 0!==t.length?t.forEach((function(t){e.push(t)})):e.push(t)}function u(t,e){if(!0===t[e])throw"duplicate flag "+e;t[e]=!0}function c(t){if(void 0===t)throw Error("Internal Error - Should never get here!")}var s=[];for(e=o("0");e<=o("9");e++)s.push(e);var f=[o("_")].concat(s);for(e=o("a");e<=o("z");e++)f.push(e);for(e=o("A");e<=o("Z");e++)f.push(e);var l=[o(" "),o("\f"),o("\n"),o("\r"),o("\t"),o("\v"),o("\t"),o(" "),o(" "),o(" "),o(" "),o(" "),o(" "),o(" "),o(" "),o(" "),o(" "),o(" "),o(" "),o(" "),o("\u2028"),o("\u2029"),o(" "),o(" "),o("　"),o("\ufeff")];function h(){}return h.prototype.visitChildren=function(t){for(var e in t){var n=t[e];t.hasOwnProperty(e)&&(void 0!==n.type?this.visit(n):Array.isArray(n)&&n.forEach((function(t){this.visit(t)}),this))}},h.prototype.visit=function(t){switch(t.type){case"Pattern":this.visitPattern(t);break;case"Flags":this.visitFlags(t);break;case"Disjunction":this.visitDisjunction(t);break;case"Alternative":this.visitAlternative(t);break;case"StartAnchor":this.visitStartAnchor(t);break;case"EndAnchor":this.visitEndAnchor(t);break;case"WordBoundary":this.visitWordBoundary(t);break;case"NonWordBoundary":this.visitNonWordBoundary(t);break;case"Lookahead":this.visitLookahead(t);break;case"NegativeLookahead":this.visitNegativeLookahead(t);break;case"Character":this.visitCharacter(t);break;case"Set":this.visitSet(t);break;case"Group":this.visitGroup(t);break;case"GroupBackReference":this.visitGroupBackReference(t);break;case"Quantifier":this.visitQuantifier(t)}this.visitChildren(t)},h.prototype.visitPattern=function(t){},h.prototype.visitFlags=function(t){},h.prototype.visitDisjunction=function(t){},h.prototype.visitAlternative=function(t){},h.prototype.visitStartAnchor=function(t){},h.prototype.visitEndAnchor=function(t){},h.prototype.visitWordBoundary=function(t){},h.prototype.visitNonWordBoundary=function(t){},h.prototype.visitLookahead=function(t){},h.prototype.visitNegativeLookahead=function(t){},h.prototype.visitCharacter=function(t){},h.prototype.visitSet=function(t){},h.prototype.visitGroup=function(t){},h.prototype.visitGroupBackReference=function(t){},h.prototype.visitQuantifier=function(t){},{RegExpParser:t,BaseRegExpVisitor:h,VERSION:"0.5.0"}})?r.apply(e,i):r)||(t.exports=o)},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){var r=n(7),i=n(8);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);t.exports=i.locals||{}},function(t,e,n){"use strict";var r,i=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},o=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),a=[];function u(t){for(var e=-1,n=0;n<a.length;n++)if(a[n].identifier===t){e=n;break}return e}function c(t,e){for(var n={},r=[],i=0;i<t.length;i++){var o=t[i],c=e.base?o[0]+e.base:o[0],s=n[c]||0,f="".concat(c," ").concat(s);n[c]=s+1;var l=u(f),h={css:o[1],media:o[2],sourceMap:o[3]};-1!==l?(a[l].references++,a[l].updater(h)):a.push({identifier:f,updater:y(h,e),references:1}),r.push(f)}return r}function s(t){var e=document.createElement("style"),r=t.attributes||{};if(void 0===r.nonce){var i=n.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(t){e.setAttribute(t,r[t])})),"function"==typeof t.insert)t.insert(e);else{var a=o(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var f,l=(f=[],function(t,e){return f[t]=e,f.filter(Boolean).join("\n")});function h(t,e,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(t.styleSheet)t.styleSheet.cssText=l(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function p(t,e,n){var r=n.css,i=n.media,o=n.sourceMap;if(i?t.setAttribute("media",i):t.removeAttribute("media"),o&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var d=null,v=0;function y(t,e){var n,r,i;if(e.singleton){var o=v++;n=d||(d=s(e)),r=h.bind(null,n,o,!1),i=h.bind(null,n,o,!0)}else n=s(e),r=p.bind(null,n,e),i=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=i());var n=c(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<n.length;r++){var i=u(n[r]);a[i].references--}for(var o=c(t,e),s=0;s<n.length;s++){var f=u(n[s]);0===a[f].references&&(a[f].updater(),a.splice(f,1))}n=o}}}},function(t,e,n){(e=n(9)(!1)).push([t.i,"body {\n  color: darkslategrey;\n  background-color: lightblue;\n}\n\n.code {\n  white-space: pre;\n  font-family: monospace;\n}\n\n.info {\n  color: darkslategrey;\n  background-color: lightyellow;\n}\n\n.success {\n  color: darkslategrey;\n  background-color: lightgreen;\n}\n\n.error {\n  color: red;\n  background-color: lightpink;\n}\n",""]),t.exports=e},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var i=(a=r,u=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(u),"/*# ".concat(c," */")),o=r.sources.map((function(t){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(t," */")}));return[n].concat(o).concat([i]).join("\n")}var a,u,c;return[n].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(i[a]=!0)}for(var u=0;u<t.length;u++){var c=[].concat(t[u]);r&&i[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),e.push(c))}},e}},function(t,e,n){"use strict";n.r(e);var r=n(2),i=n.n(r),o=(n(6),n(1));const a=Object(o.createToken)({name:"WhiteSpace",pattern:/\s+/,group:o.Lexer.SKIPPED}),u=Object(o.createToken)({name:"Var",pattern:/var/}),c=Object(o.createToken)({name:"Print",pattern:/print/}),s=Object(o.createToken)({name:"Println",pattern:/println/}),f=Object(o.createToken)({name:"Identifier",pattern:/[a-zA-Z]\w*/}),l=Object(o.createToken)({name:"Literal",pattern:/"(:?[^\\"]+|\\(:?[bfnrtv"\\/]|u[0-9a-fA-F]{4}))*"/}),h=Object(o.createToken)({name:"Integer",pattern:/0|[1-9]\d*/}),p=Object(o.createToken)({name:"ParenthesesOpen",pattern:/\(/}),d=Object(o.createToken)({name:"ParenthesesClose",pattern:/\)/}),v=Object(o.createToken)({name:"BlockOpen",pattern:/{/}),y=Object(o.createToken)({name:"BlockClose",pattern:/}/}),m=Object(o.createToken)({name:"Comma",pattern:/,/}),g=Object(o.createToken)({name:"SemiColon",pattern:/;/}),O=Object(o.createToken)({name:"Equals",pattern:/=/}),_=Object(o.createToken)({name:"AdditionOp",pattern:o.Lexer.NA}),E=Object(o.createToken)({name:"MultiplicationOp",pattern:o.Lexer.NA}),T=Object(o.createToken)({name:"Plus",pattern:/\+/,categories:_}),b=Object(o.createToken)({name:"Minus",pattern:/-/,categories:_}),A=Object(o.createToken)({name:"Div",pattern:/\//,categories:E}),I=Object(o.createToken)({name:"Mult",pattern:/\*/,categories:E}),R=[a,u,s,c,f,l,h,p,d,v,y,m,g,O,T,b,A,I,_,E],N=new o.Lexer(R);class S extends o.CstParser{constructor(){super(R);const t=this;t.RULE("program",()=>{t.SUBRULE(t.method)}),t.RULE("method",()=>{t.CONSUME(f),t.CONSUME(p),t.OPTION1(()=>{t.SUBRULE(t.identList)}),t.CONSUME(d),t.CONSUME(v),t.OPTION2(()=>{t.SUBRULE(t.declaration)}),t.MANY(()=>{t.SUBRULE(t.statement)}),t.CONSUME(y)}),t.RULE("identList",()=>{t.MANY_SEP({SEP:m,DEF:()=>{t.CONSUME(f)}})}),t.RULE("declaration",()=>{t.CONSUME(u),t.SUBRULE(t.identList),t.CONSUME(g)}),t.RULE("statement",()=>{t.OR([{ALT:()=>t.SUBRULE(t.assignment)},{ALT:()=>t.SUBRULE(t.printStat)}])}),t.RULE("assignment",()=>{t.SUBRULE(t.variable),t.CONSUME(O),t.SUBRULE(t.expression),t.CONSUME(g)}),t.RULE("expression",()=>{t.OPTION(()=>{t.CONSUME(b)}),t.SUBRULE(t.additionExpression)}),t.RULE("additionExpression",()=>{t.SUBRULE1(t.multiplicationExpression,{LABEL:"lhs"}),t.MANY(()=>{t.CONSUME(_),t.SUBRULE2(t.multiplicationExpression,{LABEL:"rhs"})})}),t.RULE("multiplicationExpression",()=>{t.SUBRULE1(t.factor,{LABEL:"lhs"}),t.MANY(()=>{t.CONSUME(E),t.SUBRULE2(t.factor,{LABEL:"rhs"})})}),t.RULE("factor",()=>{t.OR([{ALT:()=>t.SUBRULE(t.number)},{ALT:()=>t.SUBRULE(t.variable)},{ALT:()=>{t.CONSUME(p),t.SUBRULE(t.expression),t.CONSUME(d)}}])}),t.RULE("variable",()=>{t.CONSUME(f)}),t.RULE("number",()=>{t.CONSUME(h)}),t.RULE("printStat",()=>{t.OR([{ALT:()=>{t.CONSUME(c),t.SUBRULE1(t.itemList),t.CONSUME1(g)}},{ALT:()=>{t.CONSUME(s),t.OPTION(()=>{t.SUBRULE2(t.itemList)}),t.CONSUME2(g)}}])}),t.RULE("itemList",()=>{t.MANY_SEP({SEP:m,DEF:()=>{t.SUBRULE(t.printItem)}})}),t.RULE("printItem",()=>{t.OR([{ALT:()=>t.CONSUME(l)},{ALT:()=>t.SUBRULE(t.expression)}])}),this.performSelfAnalysis()}}const L=new S,k=L.getBaseCstVisitorConstructor();const x=new class extends k{constructor(){super(),this.validateVisitor(),this.frame={},this.output=""}program(t){this.visit(t.method),console.log(this.output)}method(t){if(this.frame=this.visit(t.identList),t.declaration){const e=this.visit(t.declaration);this.frame=i.a.assign(this.frame,e)}t.statement&&i.a.chain(t.statement).map(t=>{this.visit(t)}).value()}identList(t){return t.Identifier?i.a.chain(t.Identifier).keyBy("image").mapValues(()=>null).value():{}}declaration(t){return this.visit(t.identList)}statement(t){t.printStat?this.visit(t.printStat):t.assignment&&this.visit(t.assignment)}assignment(t){const e=this.visit(t.variable),n=this.visit(t.expression);this.frame[e]=n}expression(t){const e=this.visit(t.additionExpression);return t.Minus?-e:e}additionExpression(t){let e=this.visit(t.lhs);return t.rhs&&t.rhs.forEach((n,r)=>{let i=this.visit(n),a=t.AdditionOp[r];Object(o.tokenMatcher)(a,T)?e+=i:e-=i}),e}multiplicationExpression(t){let e=this.visit(t.lhs);return t.rhs&&t.rhs.forEach((n,r)=>{let i=this.visit(n),a=t.MultiplicationOp[r];Object(o.tokenMatcher)(a,I)?e*=i:e/=i}),e}factor(t){if(t.number)return this.visit(t.number);if(t.variable){const e=this.visit(t.variable);return this.frame[e]}return t.expression?this.visit(t.expression):void 0}variable(t){return t.Identifier[0].image}number(t){return parseInt(t.Integer[0].image,10)}printStat(t){const e=this.visit(t.itemList);t.Print?this.doPrint(e):t.Println&&this.doPrintln(e)}itemList(t){return t.printItem?i.a.chain(t.printItem).map(t=>this.visit(t)).value():[]}printItem(t){return t.Literal?i.a.trim(t.Literal[0].image,'"'):t.expression?this.visit(t.expression):void 0}doPrint(t){this.output+=i.a.join(t,"")}doPrintln(t){this.output+=i.a.join(t,"")+"\n"}};function j(t){const e=document.createElement("div"),n=document.createElement("div"),r=document.createElement("div"),o=document.createElement("div");n.innerHTML=t,n.classList.add("code");const a=function(t){const e=N.tokenize(t);L.input=e.tokens;const n=L.program();return x.visit(n),{value:x.output,tokens:e.tokens,lexErrors:e.errors,errors:L.errors}}(t);return r.classList.add("code"),o.classList.add("code","info"),a.errors.length>0?(r.classList.add("error"),r.innerHTML=i.a.chain(a.errors).map(t=>`Line ${t.token.startLine}: ${t.message}`).join("\n")):(r.classList.add("success"),r.innerHTML=a.value,o.innerHTML=i.a.chain(a.tokens).map(t=>`${t.tokenType.name} ${t.image}`).join("\n")),e.appendChild(n),e.appendChild(document.createElement("hr")),e.appendChild(r),e.appendChild(document.createElement("hr")),e.appendChild(o),e}var C;C='\n  test() {\n    var a, b, c;\n    println "Some expressions";\n    a = -40 / (-2 * 5);\n    print "a = ", a, "   -1/a = ", -1 / a;\n    println "   2*a = ", 2 * a;\n    println "a = 2; b = 3; c = 5;";\n    a = 2; b = 3; c = 5;\n    print "b*8-(c-b)*7-(a*c-b)/(c/(a+b)) = ";\n    print  b * 8 - (c - b) * 7 - (a * c - b) / (c / (a + b));\n  }\n',document.body.appendChild(j(C))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NoZXZyb3RhaW4vbGliX2VzbS9zcmMvdXRpbHMvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NoZXZyb3RhaW4vbGliX2VzbS9zcmMvdmVyc2lvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWJfZXNtL3NyYy9zY2FuL3JlZ19leHBfcGFyc2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYl9lc20vc3JjL3NjYW4vcmVnX2V4cC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWJfZXNtL3NyYy9zY2FuL2xleGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYl9lc20vc3JjL3NjYW4vdG9rZW5zLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYl9lc20vc3JjL3NjYW4vbGV4ZXJfZXJyb3JzX3B1YmxpYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWJfZXNtL3NyYy9zY2FuL2xleGVyX3B1YmxpYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWJfZXNtL3NyYy9zY2FuL3Rva2Vuc19wdWJsaWMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NoZXZyb3RhaW4vbGliX2VzbS9zcmMvcGFyc2UvZ3JhbW1hci9nYXN0L2dhc3RfcHVibGljLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYl9lc20vc3JjL3BhcnNlL2dyYW1tYXIvcmVzdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWJfZXNtL3NyYy9wYXJzZS9ncmFtbWFyL2dhc3QvZ2FzdF92aXNpdG9yX3B1YmxpYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWJfZXNtL3NyYy9wYXJzZS9ncmFtbWFyL2dhc3QvZ2FzdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWJfZXNtL3NyYy9wYXJzZS9ncmFtbWFyL2ZpcnN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYl9lc20vc3JjL3BhcnNlL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWJfZXNtL3NyYy9wYXJzZS9ncmFtbWFyL2ZvbGxvdy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWJfZXNtL3NyYy9wYXJzZS9lcnJvcnNfcHVibGljLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYl9lc20vc3JjL3BhcnNlL2dyYW1tYXIvcmVzb2x2ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NoZXZyb3RhaW4vbGliX2VzbS9zcmMvcGFyc2UvZ3JhbW1hci9pbnRlcnByZXRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWJfZXNtL3NyYy9wYXJzZS9ncmFtbWFyL2xvb2thaGVhZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWJfZXNtL3NyYy9wYXJzZS9ncmFtbWFyL2NoZWNrcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWJfZXNtL3NyYy9wYXJzZS9ncmFtbWFyL2dhc3QvZ2FzdF9yZXNvbHZlcl9wdWJsaWMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NoZXZyb3RhaW4vbGliX2VzbS9zcmMvcGFyc2UvZXhjZXB0aW9uc19wdWJsaWMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NoZXZyb3RhaW4vbGliX2VzbS9zcmMvcGFyc2UvcGFyc2VyL3RyYWl0cy9yZWNvdmVyYWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWJfZXNtL3NyYy9wYXJzZS9ncmFtbWFyL2tleXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NoZXZyb3RhaW4vbGliX2VzbS9zcmMvcGFyc2UvcGFyc2VyL3RyYWl0cy9sb29rc2FoZWFkLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYl9lc20vc3JjL3BhcnNlL2NzdC9jc3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NoZXZyb3RhaW4vbGliX2VzbS9zcmMvbGFuZy9sYW5nX2V4dGVuc2lvbnMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NoZXZyb3RhaW4vbGliX2VzbS9zcmMvcGFyc2UvY3N0L2NzdF92aXNpdG9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYl9lc20vc3JjL3BhcnNlL3BhcnNlci90cmFpdHMvdHJlZV9idWlsZGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYl9lc20vc3JjL3BhcnNlL3BhcnNlci90cmFpdHMvbGV4ZXJfYWRhcHRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWJfZXNtL3NyYy9wYXJzZS9wYXJzZXIvdHJhaXRzL3JlY29nbml6ZXJfYXBpLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYl9lc20vc3JjL3BhcnNlL3BhcnNlci90cmFpdHMvcmVjb2duaXplcl9lbmdpbmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NoZXZyb3RhaW4vbGliX2VzbS9zcmMvcGFyc2UvcGFyc2VyL3RyYWl0cy9lcnJvcl9oYW5kbGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYl9lc20vc3JjL3BhcnNlL3BhcnNlci90cmFpdHMvY29udGV4dF9hc3Npc3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NoZXZyb3RhaW4vbGliX2VzbS9zcmMvcGFyc2UvcGFyc2VyL3RyYWl0cy9nYXN0X3JlY29yZGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYl9lc20vc3JjL3BhcnNlL3BhcnNlci90cmFpdHMvcGVyZl90cmFjZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NoZXZyb3RhaW4vbGliX2VzbS9zcmMvcGFyc2UvcGFyc2VyL3BhcnNlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWJfZXNtL3NyYy9kaWFncmFtcy9yZW5kZXJfcHVibGljLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYl9lc20vc3JjL2dlbmVyYXRlL2dlbmVyYXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYl9lc20vc3JjL2dlbmVyYXRlL2dlbmVyYXRlX3B1YmxpYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWJfZXNtL3NyYy9hcGkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9sb2Rhc2guanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlZ2V4cC10by1hc3QvbGliL3JlZ2V4cC10by1hc3QuanMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL2dsb2JhbC5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vbW9kdWxlLmpzIiwid2VicGFjazovLy8uL3NyYy9tYWluLmNzcz9kZGQzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbWFpbi5jc3MiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbGV4ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BhcnNlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaW50ZXJwcmV0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9tajEuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJpc0VtcHR5IiwiYXJyIiwibGVuZ3RoIiwia2V5cyIsIm9iaiIsInZhbHVlcyIsInZhbHMiLCJwdXNoIiwibWFwVmFsdWVzIiwiY2FsbGJhY2siLCJyZXN1bHQiLCJvYmpLZXlzIiwiaWR4IiwiY3VycktleSIsIm1hcCIsImZsYXR0ZW4iLCJjdXJySXRlbSIsIkFycmF5IiwiaXNBcnJheSIsImNvbmNhdCIsImZpcnN0IiwidW5kZWZpbmVkIiwibGFzdCIsImxlbiIsImZvckVhY2giLCJjb2xsZWN0aW9uIiwiaXRlcmF0b3JDYWxsYmFjayIsImlzT2JqZWN0IiwiRXJyb3IiLCJjb2xLZXlzIiwiaXNTdHJpbmciLCJpdGVtIiwiaXNVbmRlZmluZWQiLCJpc0Z1bmN0aW9uIiwiRnVuY3Rpb24iLCJkcm9wIiwiaG93TXVjaCIsInNsaWNlIiwiZHJvcFJpZ2h0IiwiZmlsdGVyIiwicHJlZGljYXRlIiwicmVqZWN0IiwicGljayIsImhhcyIsInByb3AiLCJjb250YWlucyIsImZpbmQiLCJjbG9uZUFyciIsIm5ld0FyciIsImNsb25lT2JqIiwiY2xvbmVkT2JqIiwiZmluZEFsbCIsImZvdW5kIiwicmVkdWNlIiwiYXJyT3JPYmoiLCJpdGVyYXRvciIsImluaXRpYWwiLCJpc0FyciIsImFjY3VtdWxhdG9yIiwiY29tcGFjdCIsInVuaXEiLCJpZGVudGl0eSIsImlkZW50aXRpZXMiLCJjdXJySWRlbnRpdHkiLCJwYXJ0aWFsIiwiZnVuYyIsInJlc3RBcmdzIiwiX2kiLCJhcmd1bWVudHMiLCJmaXJzdEFyZyIsImFsbEFyZ3MiLCJhcHBseSIsImlzUmVnRXhwIiwiUmVnRXhwIiwiZXZlcnkiLCJkaWZmZXJlbmNlIiwic29tZSIsImluZGV4T2YiLCJzb3J0QnkiLCJvcmRlckZ1bmMiLCJzb3J0IiwiYSIsImIiLCJ6aXBPYmplY3QiLCJhc3NpZ24iLCJ0YXJnZXQiLCJzb3VyY2VzIiwiY3VyU291cmNlIiwiY3VyclNvdXJjZUtleXMiLCJqIiwiYXNzaWduTm9PdmVyd3JpdGUiLCJkZWZhdWx0cyIsImdyb3VwQnkiLCJncm91cEtleUZ1bmMiLCJjdXJyR3JvdXBLZXkiLCJjdXJyR3JvdXBBcnIiLCJtZXJnZSIsIm9iajEiLCJvYmoyIiwia2V5czIiLCJOT09QIiwiSURFTlRJVFkiLCJwYWNrQXJyYXkiLCJob2xleUFyciIsIm9yZ1ZhbHVlIiwiUFJJTlRfRVJST1IiLCJtc2ciLCJjb25zb2xlIiwiZXJyb3IiLCJQUklOVF9XQVJOSU5HIiwid2FybiIsImlzRVMyMDE1TWFwU3VwcG9ydGVkIiwiTWFwIiwiYXBwbHlNaXhpbnMiLCJkZXJpdmVkQ3RvciIsImJhc2VDdG9ycyIsImJhc2VDdG9yIiwiYmFzZVByb3RvIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsInByb3BOYW1lIiwiYmFzZVByb3BEZXNjcmlwdG9yIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwic2V0IiwidG9GYXN0UHJvcGVydGllcyIsInRvQmVjb21lRmFzdCIsIkZha2VDb25zdHJ1Y3RvciIsImZha2VJbnN0YW5jZSIsImZha2VBY2Nlc3MiLCJiYXIiLCJwZWVrIiwidGltZXIiLCJzdGFydCIsIkRhdGUiLCJnZXRUaW1lIiwidmFsIiwidGltZSIsIlZFUlNJT04iLCJyZWdFeHBBc3RDYWNoZSIsInJlZ0V4cFBhcnNlciIsImdldFJlZ0V4cEFzdCIsInJlZ0V4cCIsInJlZ0V4cFN0ciIsInRvU3RyaW5nIiwicmVnRXhwQXN0IiwicGF0dGVybiIsImV4dGVuZFN0YXRpY3MiLCJfX2V4dGVuZHMiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsIl9fIiwidGhpcyIsImNvbnN0cnVjdG9yIiwiZmFpbGVkT3B0aW1pemF0aW9uUHJlZml4TXNnIiwiZ2V0T3B0aW1pemVkU3RhcnRDb2Rlc0luZGljZXMiLCJlbnN1cmVPcHRpbWl6YXRpb25zIiwiYXN0IiwiZmlyc3RDaGFyT3B0aW1pemVkSW5kaWNlcyIsImlnbm9yZUNhc2UiLCJ0eXBlIiwidGVybXMiLCJ0ZXJtIiwiYXRvbSIsImFkZE9wdGltaXplZElkeFRvUmVzdWx0IiwiY29tcGxlbWVudCIsImNvZGUiLCJyYW5nZSIsInJhbmdlQ29kZSIsImZyb20iLCJ0byIsIm1pbk9wdGltaXphdGlvblZhbCIsIm1pblVuT3B0VmFsIiwibWF4VW5PcHRWYWwiLCJtaW5PcHRJZHgiLCJjaGFyQ29kZVRvT3B0aW1pemVkSW5kZXgiLCJtYXhPcHRJZHgiLCJjdXJyT3B0SWR4IiwiaXNPcHRpb25hbFF1YW50aWZpZXIiLCJxdWFudGlmaWVyIiwiYXRMZWFzdCIsImlzV2hvbGVPcHRpb25hbCIsImZsYWdzIiwiZSIsIm1lc3NhZ2UiLCJtc2dTdWZmaXgiLCJvcHRpbWl6ZWRDaGFySWR4IiwiY2hhciIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsInVwcGVyQ2hhciIsInRvVXBwZXJDYXNlIiwiY2hhckNvZGVBdCIsImxvd2VyQ2hhciIsInRvTG93ZXJDYXNlIiwiaGFuZGxlSWdub3JlQ2FzZSIsImZpbmRDb2RlIiwic2V0Tm9kZSIsInRhcmdldENoYXJDb2RlcyIsImNvZGVPclJhbmdlIiwicmFuZ2VfMSIsInRhcmdldENvZGUiLCJfc3VwZXIiLCJDaGFyQ29kZUZpbmRlciIsIl90aGlzIiwidmlzaXRDaGlsZHJlbiIsIm5vZGUiLCJ2aXNpdExvb2thaGVhZCIsInZpc2l0TmVnYXRpdmVMb29rYWhlYWQiLCJ2aXNpdENoYXJhY3RlciIsInZpc2l0U2V0IiwiY2FuTWF0Y2hDaGFyQ29kZSIsImNoYXJDb2RlcyIsImNoYXJDb2RlRmluZGVyIiwidmlzaXQiLCJQQVRURVJOIiwiU1VQUE9SVF9TVElDS1kiLCJzdGlja3kiLCJhbmFseXplVG9rZW5UeXBlcyIsInRva2VuVHlwZXMiLCJvcHRpb25zIiwib25seVJlbGV2YW50VHlwZXMiLCJ0cmFjZXIiLCJ1c2VTdGlja3kiLCJkZWJ1ZyIsInNhZmVNb2RlIiwicG9zaXRpb25UcmFja2luZyIsImxpbmVUZXJtaW5hdG9yQ2hhcmFjdGVycyIsImFjdGlvbiIsImNoYXJDb2RlVG9PcHRpbWl6ZWRJZHhNYXAiLCJpbml0Q2hhckNvZGVUb09wdGltaXplZEluZGV4TWFwIiwiY3VyclR5cGUiLCJOQSIsImFsbFRyYW5zZm9ybWVkUGF0dGVybnMiLCJwYXR0ZXJuSWR4VG9UeXBlIiwicGF0dGVybklkeFRvR3JvdXAiLCJwYXR0ZXJuSWR4VG9Mb25nZXJBbHRJZHgiLCJwYXR0ZXJuSWR4VG9QdXNoTW9kZSIsInBhdHRlcm5JZHhUb1BvcE1vZGUiLCJwYXR0ZXJuSWR4VG9DYW5MaW5lVGVybWluYXRvciIsInBhdHRlcm5JZHhUb0lzQ3VzdG9tIiwicGF0dGVybklkeFRvU2hvcnQiLCJlbXB0eUdyb3VwcyIsInBhdHRlcm5JZHhUb0NvbmZpZyIsImhhc0N1c3RvbSIsImN1cnJQYXR0ZXJuIiwicmVnRXhwU291cmNlIiwic291cmNlIiwiYWRkU3RpY2t5RmxhZyIsImFkZFN0YXJ0T2ZJbnB1dCIsImV4ZWMiLCJlc2NhcGVkUmVnRXhwU3RyaW5nIiwicmVwbGFjZSIsIndyYXBwZWRSZWdFeHAiLCJ0b2tlblR5cGVJZHgiLCJjbGF6eiIsImdyb3VwTmFtZSIsIkdST1VQIiwiU0tJUFBFRCIsImxvbmdlckFsdFR5cGUiLCJMT05HRVJfQUxUIiwiUFVTSF9NT0RFIiwibGluZVRlcm1pbmF0b3JDaGFyQ29kZXMiLCJnZXRDaGFyQ29kZXMiLCJ0b2tUeXBlIiwiTElORV9CUkVBS1MiLCJjaGVja0xpbmVCcmVha3NJc3N1ZXMiLCJpc0N1c3RvbVBhdHRlcm4iLCJpc1Nob3J0UGF0dGVybiIsImFjYyIsIngiLCJsb25nZXJBbHQiLCJjYW5MaW5lVGVybWluYXRvciIsImlzQ3VzdG9tIiwic2hvcnQiLCJncm91cCIsInBvcCIsInRva2VuVHlwZSIsImNhbkJlT3B0aW1pemVkIiwiY2hhckNvZGVUb1BhdHRlcm5JZHhUb0NvbmZpZyIsImN1cnJUb2tUeXBlIiwib3B0aW1pemVkSWR4IiwiYWRkVG9NYXBPZkFycmF5cyIsIlNUQVJUX0NIQVJTX0hJTlQiLCJsYXN0T3B0aW1pemVkSWR4XzEiLCJjaGFyT3JJbnQiLCJjdXJyT3B0aW1pemVkSWR4IiwidW5pY29kZSIsIm9wdGltaXplZENvZGVzIiwidmFsaWRhdGVQYXR0ZXJucyIsInZhbGlkTW9kZXNOYW1lcyIsImVycm9ycyIsIm1pc3NpbmdSZXN1bHQiLCJ0b2tlblR5cGVzV2l0aE1pc3NpbmdQYXR0ZXJuIiwiTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlIiwiTUlTU0lOR19QQVRURVJOIiwidmFsaWQiLCJmaW5kTWlzc2luZ1BhdHRlcm5zIiwiaW52YWxpZFJlc3VsdCIsInRva2VuVHlwZXNXaXRoSW52YWxpZFBhdHRlcm4iLCJJTlZBTElEX1BBVFRFUk4iLCJmaW5kSW52YWxpZFBhdHRlcm5zIiwidmFsaWRUb2tlblR5cGVzIiwid2l0aFJlZ0V4cFBhdHRlcm5zIiwiRW5kQW5jaG9yRmluZGVyIiwidmlzaXRFbmRBbmNob3IiLCJpbnZhbGlkUmVnZXgiLCJyZWdleHBBc3QiLCJlbmRBbmNob3JWaXNpdG9yIiwiZW5kX29mX2lucHV0IiwidGVzdCIsIkVPSV9BTkNIT1JfRk9VTkQiLCJmaW5kRW5kT2ZJbnB1dEFuY2hvciIsIlN0YXJ0QW5jaG9yRmluZGVyIiwidmlzaXRTdGFydEFuY2hvciIsInN0YXJ0QW5jaG9yVmlzaXRvciIsInN0YXJ0X29mX2lucHV0IiwiU09JX0FOQ0hPUl9GT1VORCIsImZpbmRTdGFydE9mSW5wdXRBbmNob3IiLCJpbnZhbGlkRmxhZ3MiLCJtdWx0aWxpbmUiLCJnbG9iYWwiLCJVTlNVUFBPUlRFRF9GTEFHU19GT1VORCIsImZpbmRVbnN1cHBvcnRlZEZsYWdzIiwiaWRlbnRpY2FsUGF0dGVybnMiLCJvdXRlclR5cGUiLCJpbm5lclR5cGUiLCJkdXBsaWNhdGVQYXR0ZXJucyIsImN1cnJJZGVudGljYWxTZXQiLCJzZXRPZklkZW50aWNhbCIsInRva2VuVHlwZU5hbWVzIiwiam9pbiIsIkRVUExJQ0FURV9QQVRURVJOU19GT1VORCIsImZpbmREdXBsaWNhdGVQYXR0ZXJucyIsIm1hdGNoZXNFbXB0eVN0cmluZyIsIkVNUFRZX01BVENIX1BBVFRFUk4iLCJmaW5kRW1wdHlNYXRjaFJlZ0V4cHMiLCJ2YWxpZGF0ZVJlZ0V4cFBhdHRlcm4iLCJpbnZhbGlkVHlwZXMiLCJJTlZBTElEX0dST1VQX1RZUEVfRk9VTkQiLCJmaW5kSW52YWxpZEdyb3VwVHlwZSIsInZhbGlkTW9kZXMiLCJpbnZhbGlkTW9kZXMiLCJQVVNIX01PREVfRE9FU19OT1RfRVhJU1QiLCJmaW5kTW9kZXNUaGF0RG9Ob3RFeGlzdCIsImNhbkJlVGVzdGVkIiwic3RyIiwidGVzdElkeCIsIl9hIiwicmVnRXhwQXJyYXkiLCJpbmRleCIsInRlc3RUb2tlblR5cGUiLCJVTlJFQUNIQUJMRV9QQVRURVJOIiwiZmluZFVucmVhY2hhYmxlUGF0dGVybnMiLCJwZXJmb3JtV2FybmluZ1J1bnRpbWVDaGVja3MiLCJsZXhlckRlZmluaXRpb24iLCJ0cmFja0xpbmVzIiwid2FybmluZ3MiLCJoYXNBbnlMaW5lQnJlYWsiLCJhbGxUb2tlblR5cGVzIiwibW9kZXMiLCJ0b2tUeXBlcyIsImNvbmNyZXRlVG9rZW5UeXBlcyIsInRlcm1pbmF0b3JDaGFyQ29kZXMiLCJjdXJySXNzdWUiLCJ3YXJuaW5nRGVzY3JpcHRvciIsImRldGFpbHMiLCJpc3N1ZSIsIklERU5USUZZX1RFUk1JTkFUT1IiLCJlcnJNc2ciLCJDVVNUT01fTElORV9CUkVBSyIsImJ1aWxkTGluZUJyZWFrSXNzdWVNZXNzYWdlIiwiTk9fTElORV9CUkVBS1NfRkxBR1MiLCJMaW5lVGVybWluYXRvck9wdGltaXplZFRlc3RlciIsInRleHQiLCJsYXN0SW5kZXgiLCJjaGFyc09yQ29kZXMiLCJudW1PclN0cmluZyIsImNoYXJDb2RlIiwidG9rZW5TdHJ1Y3R1cmVkTWF0Y2hlciIsInRva0luc3RhbmNlIiwidG9rQ29uc3RydWN0b3IiLCJpbnN0YW5jZVR5cGUiLCJpc1BhcmVudCIsImNhdGVnb3J5TWF0Y2hlc01hcCIsInRva2VuU3RydWN0dXJlZE1hdGNoZXJOb0NhdGVnb3JpZXMiLCJ0b2tlbiIsInRva2VuU2hvcnROYW1lSWR4IiwidG9rZW5JZHhUb0NsYXNzIiwiYXVnbWVudFRva2VuVHlwZXMiLCJ0b2tlblR5cGVzQW5kUGFyZW50cyIsImNhdGVnb3JpZXMiLCJzZWFyY2hpbmciLCJDQVRFR09SSUVTIiwibmV3Q2F0ZWdvcmllcyIsImV4cGFuZENhdGVnb3JpZXMiLCJoYXNTaG9ydEtleVByb3BlcnR5IiwiaGFzQ2F0ZWdvcmllc1Byb3BlcnR5IiwiY2F0ZWdvcnlNYXRjaGVzIiwiaGFzRXh0ZW5kaW5nVG9rZW5zVHlwZXNNYXBQcm9wZXJ0eSIsImFzc2lnblRva2VuRGVmYXVsdFByb3BzIiwic2luZ2xlQXNzaWduQ2F0ZWdvcmllc1Rva3NNYXAiLCJwYXRoIiwibmV4dE5vZGUiLCJwYXRoTm9kZSIsIm5leHRDYXRlZ29yeSIsIm5ld1BhdGgiLCJhc3NpZ25DYXRlZ29yaWVzTWFwUHJvcCIsImFzc2lnbkNhdGVnb3JpZXNUb2tlbnNQcm9wIiwiaXNUb2tlblR5cGUiLCJkZWZhdWx0TGV4ZXJFcnJvclByb3ZpZGVyIiwiYnVpbGRVbmFibGVUb1BvcExleGVyTW9kZU1lc3NhZ2UiLCJpbWFnZSIsImJ1aWxkVW5leHBlY3RlZENoYXJhY3RlcnNNZXNzYWdlIiwiZnVsbFRleHQiLCJzdGFydE9mZnNldCIsImxpbmUiLCJjb2x1bW4iLCJjaGFyQXQiLCJERUZBVUxUX0xFWEVSX0NPTkZJRyIsImRlZmVyRGVmaW5pdGlvbkVycm9yc0hhbmRsaW5nIiwibGluZVRlcm1pbmF0b3JzUGF0dGVybiIsImVycm9yTWVzc2FnZVByb3ZpZGVyIiwidHJhY2VJbml0UGVyZiIsInNraXBWYWxpZGF0aW9ucyIsImZyZWV6ZSIsIkxleGVyIiwiY29uZmlnIiwibGV4ZXJEZWZpbml0aW9uRXJyb3JzIiwibGV4ZXJEZWZpbml0aW9uV2FybmluZyIsInRyYWNrU3RhcnRMaW5lcyIsInRyYWNrRW5kTGluZXMiLCJjYW5Nb2RlQmVPcHRpbWl6ZWQiLCJ0cmFjZUluaXRWYWwiLCJ0cmFjZUluaXRNYXhJZGVudCIsIkluZmluaXR5IiwidHJhY2VJbml0SW5kZW50IiwiVFJBQ0VfSU5JVCIsImFjdHVhbERlZmluaXRpb24iLCJoYXNPbmx5U2luZ2xlTW9kZSIsIk1VTFRJX01PREVfTEVYRVJfV0lUSE9VVF9ERUZBVUxUX01PREUiLCJNVUxUSV9NT0RFX0xFWEVSX1dJVEhPVVRfTU9ERVNfUFJPUEVSVFkiLCJkZWZhdWx0TW9kZSIsIk1VTFRJX01PREVfTEVYRVJfREVGQVVMVF9NT0RFX1ZBTFVFX0RPRVNfTk9UX0VYSVNUIiwiY3Vyck1vZGVWYWx1ZSIsImN1cnJNb2RlTmFtZSIsImN1cnJJZHgiLCJMRVhFUl9ERUZJTklUSU9OX0NBTk5PVF9DT05UQUlOX1VOREVGSU5FRCIsInBlcmZvcm1SdW50aW1lQ2hlY2tzIiwiYWxsTW9kZU5hbWVzIiwiY3Vyck1vZERlZiIsImN1cnJNb2ROYW1lIiwiY3VyckFuYWx5emVSZXN1bHRfMSIsImFsbEVyck1lc3NhZ2VzU3RyaW5nIiwiY2hvcElucHV0IiwibWF0Y2giLCJtYXRjaFdpdGhUZXN0IiwidXBkYXRlTGFzdEluZGV4IiwibWF0Y2hXaXRoRXhlYyIsImhhbmRsZU1vZGVzIiwiY29tcHV0ZU5ld0NvbHVtbiIsInVwZGF0ZVRva2VuRW5kTGluZUNvbHVtbkxvY2F0aW9uIiwiY3JlYXRlVG9rZW5JbnN0YW5jZSIsImNyZWF0ZUZ1bGxUb2tlbiIsImNyZWF0ZVN0YXJ0T25seVRva2VuIiwiY3JlYXRlT2Zmc2V0T25seVRva2VuIiwiYWRkVG9rZW4iLCJhZGRUb2tlblVzaW5nUHVzaCIsImhhbmRsZVBheWxvYWQiLCJoYW5kbGVQYXlsb2FkV2l0aEN1c3RvbSIsImFkZFRva2VuVXNpbmdNZW1iZXJBY2Nlc3MiLCJoYW5kbGVQYXlsb2FkTm9DdXN0b20iLCJ1bk9wdGltaXplZE1vZGVzIiwiY2Fubm90QmVPcHRpbWl6ZWQiLCJtb2RlTmFtZSIsInRva2VuaXplIiwiaW5pdGlhbE1vZGUiLCJ0b2tlbml6ZUludGVybmFsIiwibWF0Y2hBbHRJbWFnZSIsImxvbmdlckFsdElkeCIsIm1hdGNoZWRJbWFnZSIsInBheWxvYWQiLCJhbHRQYXlsb2FkIiwiaW1hZ2VMZW5ndGgiLCJuZXdUb2tlbiIsImVyckxlbmd0aCIsImNsb25lZFJlc3VsdCIsImdyb3VwS2V5cyIsIm9yZ1RleHQiLCJvcmdMZW5ndGgiLCJvZmZzZXQiLCJtYXRjaGVkVG9rZW5zSW5kZXgiLCJndWVzc2VkTnVtYmVyT2ZUb2tlbnMiLCJNYXRoIiwiZmxvb3IiLCJtYXRjaGVkVG9rZW5zIiwiZ3JvdXBzIiwiY3Vyckdyb3VwVmFsdWUiLCJsaW5lVGVybWluYXRvclBhdHRlcm4iLCJjdXJyTW9kZVBhdHRlcm5zTGVuZ3RoIiwiY3VyckNoYXJDb2RlVG9QYXR0ZXJuSWR4VG9Db25maWciLCJtb2RlU3RhY2siLCJlbXB0eUFycmF5IiwiZ2V0UG9zc2libGVQYXR0ZXJucyIsImdldFBvc3NpYmxlUGF0dGVybnNTbG93IiwiZ2V0UG9zc2libGVQYXR0ZXJuc09wdGltaXplZCIsInBvc3NpYmxlUGF0dGVybnMiLCJjdXJyQ29uZmlnIiwicG9wX21vZGUiLCJwb3BUb2tlbiIsIm1zZ18xIiwic3RhcnRMaW5lIiwic3RhcnRDb2x1bW4iLCJuZXdNb2RlIiwibW9kZUNhbkJlT3B0aW1pemVkIiwicHVzaF9tb2RlIiwibmV4dENoYXJDb2RlIiwiY2hvc2VuUGF0dGVybklkeFRvQ29uZmlnIiwiY2hvc2VuUGF0dGVybnNMZW5ndGgiLCJzaW5nbGVDaGFyQ29kZSIsImxvbmdlckFsdENvbmZpZyIsImxvbmdlckFsdFBhdHRlcm4iLCJudW1PZkxUc0luTWF0Y2giLCJmb3VuZFRlcm1pbmF0b3IiLCJsYXN0TFRFbmRPZmZzZXQiLCJlcnJvclN0YXJ0T2Zmc2V0IiwiZXJyb3JMaW5lIiwiZXJyb3JDb2x1bW4iLCJmb3VuZFJlc3luY1BvaW50IiwiY3VyckNvbmZpZ18xIiwidG9rZW5zIiwicHVzaE1vZGUiLCJzdWJzdHJpbmciLCJuZXdMYXN0SW5kZXgiLCJsYXN0TFRJZHgiLCJsYXN0Q2hhcklzTFQiLCJmaXhGb3JFbmRpbmdJbkxUIiwiZW5kTGluZSIsImVuZENvbHVtbiIsIm9sZENvbHVtbiIsImFyZ3MiLCJlbmRPZmZzZXQiLCJ0b2tlblZlY3RvciIsInRva2VuVG9BZGQiLCJwaGFzZURlc2MiLCJwaGFzZUltcGwiLCJpbmRlbnQiLCJsb2ciLCJ0cmFjZU1ldGhvZCIsInRva2VuTGFiZWwiLCJoYXNUb2tlbkxhYmVsIiwiTEFCRUwiLCJ0b2tlbk5hbWUiLCJjcmVhdGVUb2tlbiIsIlBPUF9NT0RFIiwiY3JlYXRlVG9rZW5JbnRlcm5hbCIsIkVPRiIsIkFic3RyYWN0UHJvZHVjdGlvbiIsImRlZmluaXRpb24iLCJhY2NlcHQiLCJ2aXNpdG9yIiwicHJvZCIsIk5vblRlcm1pbmFsIiwidiIsInJlZmVyZW5jZWRSdWxlIiwiY29uZmlndXJhYmxlIiwiUnVsZSIsIkFsdGVybmF0aXZlIiwiaWdub3JlQW1iaWd1aXRpZXMiLCJPcHRpb24iLCJSZXBldGl0aW9uTWFuZGF0b3J5IiwiUmVwZXRpdGlvbk1hbmRhdG9yeVdpdGhTZXBhcmF0b3IiLCJSZXBldGl0aW9uIiwiUmVwZXRpdGlvbldpdGhTZXBhcmF0b3IiLCJBbHRlcm5hdGlvbiIsImhhc1ByZWRpY2F0ZXMiLCJUZXJtaW5hbCIsInNlcmlhbGl6ZUdyYW1tYXIiLCJ0b3BSdWxlcyIsInNlcmlhbGl6ZVByb2R1Y3Rpb24iLCJjb252ZXJ0RGVmaW5pdGlvbiIsIm5vblRlcm1pbmFsTmFtZSIsInNlcGFyYXRvciIsInRlcm1pbmFsVHlwZSIsInNlcmlhbGl6ZWRUZXJtaW5hbCIsImxhYmVsIiwiUmVzdFdhbGtlciIsIndhbGsiLCJwcmV2UmVzdCIsInN1YlByb2QiLCJjdXJyUmVzdCIsIndhbGtQcm9kUmVmIiwid2Fsa1Rlcm1pbmFsIiwid2Fsa0ZsYXQiLCJ3YWxrT3B0aW9uIiwid2Fsa0F0TGVhc3RPbmUiLCJ3YWxrQXRMZWFzdE9uZVNlcCIsIndhbGtNYW55U2VwIiwid2Fsa01hbnkiLCJ3YWxrT3IiLCJ0ZXJtaW5hbCIsInJlZlByb2QiLCJmbGF0UHJvZCIsImZ1bGxPclJlc3QiLCJvcHRpb25Qcm9kIiwiYXRMZWFzdE9uZVByb2QiLCJmdWxsQXRMZWFzdE9uZVJlc3QiLCJhdExlYXN0T25lU2VwUHJvZCIsImZ1bGxBdExlYXN0T25lU2VwUmVzdCIsInJlc3RGb3JSZXBldGl0aW9uV2l0aFNlcGFyYXRvciIsIm1hbnlQcm9kIiwiZnVsbE1hbnlSZXN0IiwibWFueVNlcFByb2QiLCJmdWxsTWFueVNlcFJlc3QiLCJvclByb2QiLCJhbHQiLCJwcm9kV3JhcHBlciIsInJlcFNlcFByb2QiLCJHQXN0VmlzaXRvciIsIm5vZGVBbnkiLCJ2aXNpdE5vblRlcm1pbmFsIiwidmlzaXRBbHRlcm5hdGl2ZSIsInZpc2l0T3B0aW9uIiwidmlzaXRSZXBldGl0aW9uTWFuZGF0b3J5IiwidmlzaXRSZXBldGl0aW9uTWFuZGF0b3J5V2l0aFNlcGFyYXRvciIsInZpc2l0UmVwZXRpdGlvbldpdGhTZXBhcmF0b3IiLCJ2aXNpdFJlcGV0aXRpb24iLCJ2aXNpdEFsdGVybmF0aW9uIiwidmlzaXRUZXJtaW5hbCIsInZpc2l0UnVsZSIsImlzT3B0aW9uYWxQcm9kIiwiYWxyZWFkeVZpc2l0ZWQiLCJnZXRQcm9kdWN0aW9uRHNsTmFtZSIsIkRzbE1ldGhvZHNDb2xsZWN0b3JWaXNpdG9yIiwiZHNsTWV0aG9kcyIsIm9wdGlvbiIsImFsdGVybmF0aW9uIiwicmVwZXRpdGlvbiIsInJlcGV0aXRpb25XaXRoU2VwYXJhdG9yIiwicmVwZXRpdGlvbk1hbmRhdG9yeSIsInJlcGV0aXRpb25NYW5kYXRvcnlXaXRoU2VwYXJhdG9yIiwicmVzZXQiLCJzdWJydWxlIiwibWFueVNlcCIsImF0TGVhc3RPbmUiLCJhdExlYXN0T25lU2VwIiwibWFueSIsIm9yIiwiaXNTZXF1ZW5jZVByb2QiLCJjdXJyU3ViUHJvZCIsImZpcnN0U2V0Iiwic2VxIiwibmV4dFN1YlByb2RJZHgiLCJoYXNJbm5lclByb2RzUmVtYWluaW5nIiwiaXNMYXN0SW5uZXJQcm9kT3B0aW9uYWwiLCJmaXJzdEZvclNlcXVlbmNlIiwiaXNCcmFuY2hpbmdQcm9kIiwiYWxsQWx0ZXJuYXRpdmVzRmlyc3RzIiwiaW5uZXJQcm9kIiwiZmlyc3RGb3JCcmFuY2hpbmciLCJJTiIsIlJlc3luY0ZvbGxvd3NXYWxrZXIiLCJ0b3BQcm9kIiwiZm9sbG93cyIsInN0YXJ0V2Fsa2luZyIsImlubmVyIiwib2NjdXJlbmNlSW5QYXJlbnQiLCJmb2xsb3dOYW1lIiwiZnVsbFJlc3QiLCJ0X2luX3RvcFByb2RfZm9sbG93cyIsImRlZmF1bHRQYXJzZXJFcnJvclByb3ZpZGVyIiwiYnVpbGRNaXNtYXRjaFRva2VuTWVzc2FnZSIsImV4cGVjdGVkIiwiYWN0dWFsIiwicHJldmlvdXMiLCJydWxlTmFtZSIsImJ1aWxkTm90QWxsSW5wdXRQYXJzZWRNZXNzYWdlIiwiZmlyc3RSZWR1bmRhbnQiLCJidWlsZE5vVmlhYmxlQWx0TWVzc2FnZSIsImV4cGVjdGVkUGF0aHNQZXJBbHQiLCJjdXN0b21Vc2VyRGVzY3JpcHRpb24iLCJlcnJTdWZmaXgiLCJhbGxMb29rQWhlYWRQYXRocyIsImN1cnJBbHRQYXRocyIsIm5leHRWYWxpZFRva2VuU2VxdWVuY2VzIiwiY3VyclBhdGgiLCJjdXJyVG9rZW5UeXBlIiwiaXRlbU1zZyIsImJ1aWxkRWFybHlFeGl0TWVzc2FnZSIsImV4cGVjdGVkSXRlcmF0aW9uUGF0aHMiLCJkZWZhdWx0R3JhbW1hclJlc29sdmVyRXJyb3JQcm92aWRlciIsImJ1aWxkUnVsZU5vdEZvdW5kRXJyb3IiLCJ0b3BMZXZlbFJ1bGUiLCJ1bmRlZmluZWRSdWxlIiwiZGVmYXVsdEdyYW1tYXJWYWxpZGF0b3JFcnJvclByb3ZpZGVyIiwiYnVpbGREdXBsaWNhdGVGb3VuZEVycm9yIiwiZHVwbGljYXRlUHJvZHMiLCJ0b3BMZXZlbE5hbWUiLCJkdXBsaWNhdGVQcm9kIiwiZHNsTmFtZSIsImV4dHJhQXJndW1lbnQiLCJidWlsZE5hbWVzcGFjZUNvbmZsaWN0RXJyb3IiLCJydWxlIiwiYnVpbGRBbHRlcm5hdGlvblByZWZpeEFtYmlndWl0eUVycm9yIiwicGF0aE1zZyIsInByZWZpeFBhdGgiLCJjdXJyVG9rIiwib2NjdXJyZW5jZSIsImFtYmlndWl0eUluZGljZXMiLCJidWlsZEFsdGVybmF0aW9uQW1iaWd1aXR5RXJyb3IiLCJjdXJydG9rIiwiY3Vyck1lc3NhZ2UiLCJidWlsZEVtcHR5UmVwZXRpdGlvbkVycm9yIiwiYnVpbGRUb2tlbk5hbWVFcnJvciIsImV4cGVjdGVkUGF0dGVybiIsImJ1aWxkRW1wdHlBbHRlcm5hdGlvbkVycm9yIiwiZW1wdHlDaG9pY2VJZHgiLCJidWlsZFRvb01hbnlBbHRlcm5hdGl2ZXNFcnJvciIsImJ1aWxkTGVmdFJlY3Vyc2lvbkVycm9yIiwidXRpbHMiLCJsZWZ0UmVjdXJzaW9uUGF0aCIsImN1cnJSdWxlIiwiYnVpbGRJbnZhbGlkUnVsZU5hbWVFcnJvciIsImJ1aWxkRHVwbGljYXRlUnVsZU5hbWVFcnJvciIsImdyYW1tYXJOYW1lIiwiR2FzdFJlZlJlc29sdmVyVmlzaXRvciIsIm5hbWVUb1RvcFJ1bGUiLCJlcnJNc2dQcm92aWRlciIsInJlc29sdmVSZWZzIiwiY3VyclRvcExldmVsIiwicmVmIiwiUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZSIsIlVOUkVTT0xWRURfU1VCUlVMRV9SRUYiLCJ1bnJlc29sdmVkUmVmTmFtZSIsIk5leHRBZnRlclRva2VuV2Fsa2VyIiwibmV4dFRlcm1pbmFsTmFtZSIsIm5leHRUZXJtaW5hbE9jY3VycmVuY2UiLCJsYXN0VG9rIiwibGFzdFRva09jY3VycmVuY2UiLCJpc0F0RW5kT2ZQYXRoIiwicmVzdFByb2QiLCJwb3NzaWJsZVRva1R5cGVzIiwiQWJzdHJhY3ROZXh0UG9zc2libGVUb2tlbnNXYWxrZXIiLCJuZXh0UHJvZHVjdGlvbk5hbWUiLCJuZXh0UHJvZHVjdGlvbk9jY3VycmVuY2UiLCJydWxlU3RhY2siLCJyZXZlcnNlIiwib2NjdXJyZW5jZVN0YWNrIiwidXBkYXRlRXhwZWN0ZWROZXh0IiwiQWJzdHJhY3ROZXh0VGVybWluYWxBZnRlclByb2R1Y3Rpb25XYWxrZXIiLCJ0b3BSdWxlIiwiaXNFbmRPZlJ1bGUiLCJOZXh0VGVybWluYWxBZnRlck1hbnlXYWxrZXIiLCJmaXJzdEFmdGVyTWFueSIsIk5leHRUZXJtaW5hbEFmdGVyTWFueVNlcFdhbGtlciIsImZpcnN0QWZ0ZXJNYW55U2VwIiwiTmV4dFRlcm1pbmFsQWZ0ZXJBdExlYXN0T25lV2Fsa2VyIiwiZmlyc3RBZnRlckF0TGVhc3RPbmUiLCJOZXh0VGVybWluYWxBZnRlckF0TGVhc3RPbmVTZXBXYWxrZXIiLCJhdGxlYXN0T25lU2VwUHJvZCIsImZpcnN0QWZ0ZXJmaXJzdEFmdGVyQXRMZWFzdE9uZVNlcCIsInBvc3NpYmxlUGF0aHNGcm9tIiwidGFyZ2V0RGVmIiwibWF4TGVuZ3RoIiwiZ2V0QWx0ZXJuYXRpdmVzRm9yUHJvZCIsImFsdGVybmF0aXZlcyIsIm5ld0RlZiIsImN1cnJBbHQiLCJwYXJ0aWFsUGF0aCIsInN1ZmZpeERlZiIsIm5leHRQb3NzaWJsZVRva2Vuc0FmdGVyIiwiaW5pdGlhbERlZiIsInRva01hdGNoZXIiLCJtYXhMb29rQWhlYWQiLCJFWElUX05PTl9URVJNSU5BTF9BUlIiLCJmb3VuZENvbXBsZXRlUGF0aCIsInRva2VuVmVjdG9yTGVuZ3RoIiwibWluaW1hbEFsdGVybmF0aXZlc0luZGV4IiwicG9zc2libGVQYXRocyIsImRlZiIsImN1cnJEZWYiLCJjdXJyUnVsZVN0YWNrIiwiY3Vyck9jY3VycmVuY2VTdGFjayIsIm5leHRQYXRoIiwibmV4dElkeCIsIm5leHRUb2tlblR5cGUiLCJuZXh0VG9rZW5PY2N1cnJlbmNlIiwibmV3UnVsZVN0YWNrIiwibmV3T2NjdXJyZW5jZVN0YWNrIiwibmV4dFBhdGhXaXRob3V0IiwibmV4dFBhdGhXaXRoIiwic2Vjb25kSXRlcmF0aW9uIiwic2VwYXJhdG9yR2FzdCIsIm50aFJlcGV0aXRpb24iLCJjdXJyQWx0UGF0aCIsImV4cGFuZFRvcExldmVsUnVsZSIsIm5ld0N1cnJPY2N1cnJlbmNlU3RhY2siLCJQUk9EX1RZUEUiLCJSZXN0RGVmaW5pdGlvbkZpbmRlcldhbGtlciIsInRhcmdldE9jY3VycmVuY2UiLCJ0YXJnZXRQcm9kVHlwZSIsInJlc3REZWYiLCJjaGVja0lzVGFyZ2V0IiwiZXhwZWN0ZWRQcm9kVHlwZSIsIk9QVElPTiIsIlJFUEVUSVRJT05fTUFOREFUT1JZIiwiUkVQRVRJVElPTl9NQU5EQVRPUllfV0lUSF9TRVBBUkFUT1IiLCJSRVBFVElUSU9OIiwiUkVQRVRJVElPTl9XSVRIX1NFUEFSQVRPUiIsIkluc2lkZURlZmluaXRpb25GaW5kZXJWaXNpdG9yIiwidGFyZ2V0UmVmIiwiZXhwZWN0ZWRQcm9kTmFtZSIsIkFMVEVSTkFUSU9OIiwiaW5pdGlhbGl6ZUFycmF5T2ZBcnJheXMiLCJzaXplIiwicGF0aFRvSGFzaEtleXMiLCJsb25nZXJLZXlzIiwiY3VyclNob3J0ZXJLZXkiLCJjYXRlZ29yaWVzS2V5U3VmZml4IiwiaXNVbmlxdWVQcmVmaXhIYXNoIiwiYWx0S25vd25QYXRoc0tleXMiLCJzZWFyY2hQYXRoS2V5cyIsImN1cnJBbHRJZHgiLCJvdGhlckFsdEtub3duUGF0aHNLZXlzIiwic2VhcmNoSWR4IiwibG9va0FoZWFkU2VxdWVuY2VGcm9tQWx0ZXJuYXRpdmVzIiwiYWx0c0RlZnMiLCJrIiwicGFydGlhbEFsdHMiLCJmaW5hbFJlc3VsdCIsImFsdHNIYXNoZXMiLCJkaWN0IiwibmV3RGF0YSIsInBhdGhMZW5ndGgiLCJjdXJyRGF0YXNldCIsIl9sb29wXzEiLCJhbHRJZHgiLCJjdXJyQWx0UGF0aHNBbmRTdWZmaXhlcyIsImN1cnJQYXRoSWR4IiwiY3VyclBhdGhQcmVmaXgiLCJwcmVmaXhLZXlzIiwiY3VyckFsdFJlc3VsdCIsImNvbnRhaW5zUGF0aCIsIm5ld1BhcnRpYWxQYXRoc0FuZFN1ZmZpeGVzIiwiZ2V0TG9va2FoZWFkUGF0aHNGb3JPciIsInJ1bGVHcmFtbWFyIiwiZ2V0TG9va2FoZWFkUGF0aHNGb3JPcHRpb25hbFByb2QiLCJwcm9kVHlwZSIsImluc2lkZURlZlZpc2l0b3IiLCJpbnNpZGVEZWYiLCJhZnRlckRlZiIsImFsdGVybmF0aXZlIiwic2VhcmNoUGF0aCIsImNvbXBhcmVPdGhlclBhdGgiLCJvdGhlclBhdGgiLCJzZWFyY2hUb2siLCJvdGhlclRvayIsImFyZVRva2VuQ2F0ZWdvcmllc05vdFVzZWQiLCJsb29rQWhlYWRQYXRocyIsInNpbmdsZUFsdFBhdGhzIiwic2luZ2xlUGF0aCIsInZhbGlkYXRlR3JhbW1hciIsInRvcExldmVscyIsImdsb2JhbE1heExvb2thaGVhZCIsImR1cGxpY2F0ZUVycm9ycyIsImNvbGxlY3RvclZpc2l0b3IiLCJPY2N1cnJlbmNlVmFsaWRhdGlvbkNvbGxlY3RvciIsImFsbFJ1bGVQcm9kdWN0aW9ucyIsImFsbFByb2R1Y3Rpb25zIiwicHJvZHVjdGlvbkdyb3VwcyIsImlkZW50aWZ5UHJvZHVjdGlvbkZvckR1cGxpY2F0ZXMiLCJkdXBsaWNhdGVzIiwiY3Vyckdyb3VwIiwiY3VyckR1cGxpY2F0ZXMiLCJmaXJzdFByb2QiLCJkZWZFcnJvciIsIkRVUExJQ0FURV9QUk9EVUNUSU9OUyIsInBhcmFtIiwicGFyYW1ldGVyIiwidmFsaWRhdGVEdXBsaWNhdGVQcm9kdWN0aW9ucyIsImxlZnRSZWN1cnNpb25FcnJvcnMiLCJjdXJyVG9wUnVsZSIsInZhbGlkYXRlTm9MZWZ0UmVjdXJzaW9uIiwibmV4dE5vblRlcm1pbmFscyIsImdldEZpcnN0Tm9uZVRlcm1pbmFsIiwiY3VyclN1YkRlZiIsImlzRmlyc3RPcHRpb25hbCIsImhhc01vcmUiLCJyZXN0IiwiTEVGVF9SRUNVUlNJT04iLCJ2YWxpZE5leHRTdGVwcyIsImVycm9yc0Zyb21OZXh0U3RlcHMiLCJjdXJyUmVmUnVsZSIsImVtcHR5QWx0RXJyb3JzIiwiYW1iaWd1b3VzQWx0c0Vycm9ycyIsImVtcHR5UmVwZXRpdGlvbkVycm9ycyIsIm9yQ29sbGVjdG9yIiwiT3JDb2xsZWN0b3IiLCJvcnMiLCJhbHRlcm5hdGlvbnMiLCJjdXJyT3IiLCJleGNlcHRMYXN0IiwiY3VyckVycm9ycyIsImN1cnJBbHRlcm5hdGl2ZSIsInBvc3NpYmxlRmlyc3RJbkFsdCIsIk5PTkVfTEFTVF9FTVBUWV9BTFQiLCJ2YWxpZGF0ZUVtcHR5T3JBbHRlcm5hdGl2ZSIsImN1cnJPY2N1cnJlbmNlIiwiYWN0dWFsTWF4TG9va2FoZWFkIiwibWF4TG9va2FoZWFkIiwiYWx0c0FtYmlndWl0eUVycm9ycyIsImZvdW5kQW1iaWd1b3VzUGF0aHMiLCJpZGVudGljYWxBbWJpZ3VpdGllcyIsImFsdHNDdXJyUGF0aEFwcGVhcnNJbiIsImN1cnJPdGhlckFsdCIsImN1cnJPdGhlckFsdElkeCIsImFsdHMiLCJjdXJyQW1iRGVzY3JpcHRvciIsImFtYmdJbmRpY2VzIiwiQU1CSUdVT1VTX0FMVFMiLCJjaGVja0FsdGVybmF0aXZlc0FtYmlndWl0aWVzIiwiYWx0c1ByZWZpeEFtYmlndWl0eUVycm9ycyIsInBhdGhzQW5kSW5kaWNlcyIsImN1cnJQYXRoc0FuZElkeCIsImN1cnJQYXRoQW5kSWR4IiwidGFyZ2V0SWR4IiwidGFyZ2V0UGF0aCIsInByZWZpeEFtYmlndWl0aWVzUGF0aHNBbmRJbmRpY2VzIiwic2VhcmNoUGF0aEFuZElkeCIsInByZWZpeCIsIm90aGVyIiwib3RoZXJUb2tUeXBlIiwiY3VyclBhdGhQcmVmaXhFcnJvcnMiLCJjdXJyQW1iUGF0aEFuZElkeCIsIkFNQklHVU9VU19QUkVGSVhfQUxUUyIsImNoZWNrUHJlZml4QWx0ZXJuYXRpdmVzQW1iaWd1aXRpZXMiLCJ2YWxpZGF0ZUFtYmlndW91c0FsdGVybmF0aW9uQWx0ZXJuYXRpdmVzIiwidG9wTGV2ZWxSdWxlcyIsIlJlcGV0aW9uQ29sbGVjdG9yIiwiY3VyclByb2QiLCJnZXRQcm9kVHlwZSIsInBhdGhzSW5zaWRlUHJvZHVjdGlvbiIsIk5PX05PTl9FTVBUWV9MT09LQUhFQUQiLCJ2YWxpZGF0ZVNvbWVOb25FbXB0eUxvb2thaGVhZFBhdGgiLCJ0ZXJtc05hbWVzcGFjZUNvbmZsaWN0RXJyb3JzIiwidG9rZW5OYW1lcyIsImN1cnJUb2tlbiIsImN1cnJSdWxlTmFtZSIsIkNPTkZMSUNUX1RPS0VOU19SVUxFU19OQU1FU1BBQ0UiLCJjaGVja1Rlcm1pbmFsQW5kTm9uZVRlcm1pbmFsc05hbWVTcGFjZSIsInRva2VuTmFtZUVycm9ycyIsInZhbGlkVGVybXNQYXR0ZXJuIiwiSU5WQUxJRF9UT0tFTl9OQU1FIiwidmFsaWRhdGVUb2tlbk5hbWUiLCJ0b29NYW55QWx0c0Vycm9ycyIsImN1clJ1bGUiLCJUT09fTUFOWV9BTFRTIiwidmFsaWRhdGVUb29NYW55QWx0cyIsInJ1bGVOYW1lRXJyb3JzIiwiSU5WQUxJRF9SVUxFX05BTUUiLCJ2YWxpZGF0ZVJ1bGVOYW1lIiwiZHVwbGljYXRlUnVsZXNFcnJvciIsImFsbFJ1bGVzIiwiY2xhc3NOYW1lIiwiRFVQTElDQVRFX1JVTEVfTkFNRSIsInZhbGlkYXRlUnVsZURvZXNOb3RBbHJlYWR5RXhpc3QiLCJyZWZSZXNvbHZlciIsInRvcFJ1bGVzVGFibGUiLCJydWxlcyIsImFzc2lnbk9jY3VycmVuY2VJbmRpY2VzIiwibWV0aG9kc0NvbGxlY3RvciIsIm1ldGhvZHMiLCJjdXJyTWV0aG9kIiwiYXJySWR4IiwiUkVDT0dOSVRJT05fRVhDRVBUSU9OX05BTUVTIiwiaXNSZWNvZ25pdGlvbkV4Y2VwdGlvbiIsIk1pc21hdGNoZWRUb2tlbkV4Y2VwdGlvbiIsInByZXZpb3VzVG9rZW4iLCJyZXN5bmNlZFRva2VucyIsIk5vVmlhYmxlQWx0RXhjZXB0aW9uIiwiTm90QWxsSW5wdXRQYXJzZWRFeGNlcHRpb24iLCJFYXJseUV4aXRFeGNlcHRpb24iLCJFT0ZfRk9MTE9XX0tFWSIsIkluUnVsZVJlY292ZXJ5RXhjZXB0aW9uIiwiUmVjb3ZlcmFibGUiLCJpbml0UmVjb3ZlcmFibGUiLCJmaXJzdEFmdGVyUmVwTWFwIiwicmVzeW5jRm9sbG93cyIsInJlY292ZXJ5RW5hYmxlZCIsIkRFRkFVTFRfUEFSU0VSX0NPTkZJRyIsImF0dGVtcHRJblJlcGV0aXRpb25SZWNvdmVyeSIsImdldFRva2VuVG9JbnNlcnQiLCJ0b2tUb0luc2VydCIsIk5hTiIsImlzSW5zZXJ0ZWRJblJlY292ZXJ5IiwiY2FuVG9rZW5UeXBlQmVJbnNlcnRlZEluUmVjb3ZlcnkiLCJ0cnlJblJlcGV0aXRpb25SZWNvdmVyeSIsImdyYW1tYXJSdWxlIiwiZ3JhbW1hclJ1bGVBcmdzIiwibG9va0FoZWFkRnVuYyIsImV4cGVjdGVkVG9rVHlwZSIsInJlU3luY1Rva1R5cGUiLCJmaW5kUmVTeW5jVG9rZW5UeXBlIiwic2F2ZWRMZXhlclN0YXRlIiwiZXhwb3J0TGV4ZXJTdGF0ZSIsInBhc3NlZFJlc3luY1BvaW50IiwibmV4dFRva2VuV2l0aG91dFJlc3luYyIsIkxBIiwiZ2VuZXJhdGVFcnJvck1lc3NhZ2UiLCJnZXRDdXJyUnVsZUZ1bGxOYW1lIiwiU0FWRV9FUlJPUiIsInRva2VuTWF0Y2hlciIsIlNLSVBfVE9LRU4iLCJhZGRUb1Jlc3luY1Rva2VucyIsImltcG9ydExleGVyU3RhdGUiLCJzaG91bGRJblJlcGV0aXRpb25SZWNvdmVyeUJlVHJpZWQiLCJleHBlY3RUb2tBZnRlckxhc3RNYXRjaCIsIm5leHRUb2tJZHgiLCJub3RTdHVjayIsImlzQmFja1RyYWNraW5nIiwiY2FuUGVyZm9ybUluUnVsZVJlY292ZXJ5IiwiZ2V0Rm9sbG93c0ZvckluUnVsZVJlY292ZXJ5IiwidG9rSWR4SW5SdWxlIiwiZ3JhbW1hclBhdGgiLCJnZXRDdXJyZW50R3JhbW1hclBhdGgiLCJnZXROZXh0UG9zc2libGVUb2tlblR5cGVzIiwidHJ5SW5SdWxlUmVjb3ZlcnkiLCJjYW5SZWNvdmVyV2l0aFNpbmdsZVRva2VuSW5zZXJ0aW9uIiwiY2FuUmVjb3ZlcldpdGhTaW5nbGVUb2tlbkRlbGV0aW9uIiwibmV4dFRvayIsImNvbnN1bWVUb2tlbiIsImV4cGVjdGVkVG9rZW4iLCJtaXNtYXRjaGVkVG9rIiwicG9zc2libGVGb2xsb3dzVG9rVHlwZSIsImlzSW5DdXJyZW50UnVsZVJlU3luY1NldCIsImZvbGxvd0tleSIsImdldEN1cnJGb2xsb3dLZXkiLCJjdXJyZW50UnVsZVJlU3luY1NldCIsImdldEZvbGxvd1NldEZyb21Gb2xsb3dLZXkiLCJhbGxQb3NzaWJsZVJlU3luY1Rva1R5cGVzIiwiZmxhdHRlbkZvbGxvd1NldCIsIm5leHRUb2tlbiIsIlJVTEVfU1RBQ0siLCJjdXJyUnVsZVNob3J0TmFtZSIsImdldExhc3RFeHBsaWNpdFJ1bGVTaG9ydE5hbWUiLCJjdXJyUnVsZUlkeCIsImdldExhc3RFeHBsaWNpdFJ1bGVPY2N1cnJlbmNlSW5kZXgiLCJwcmV2UnVsZVNob3J0TmFtZSIsImdldFByZXZpb3VzRXhwbGljaXRSdWxlU2hvcnROYW1lIiwic2hvcnRSdWxlTmFtZVRvRnVsbE5hbWUiLCJpZHhJbkNhbGxpbmdSdWxlIiwiaW5SdWxlIiwiYnVpbGRGdWxsRm9sbG93S2V5U3RhY2siLCJleHBsaWNpdFJ1bGVTdGFjayIsImV4cGxpY2l0T2NjdXJyZW5jZVN0YWNrIiwiUlVMRV9PQ0NVUlJFTkNFX1NUQUNLIiwiZm9sbG93U3RhY2siLCJyZXN5bmNUb2tlbnMiLCJyZVN5bmNUbyIsInByb2RGdW5jIiwibG9va2FoZWFkRnVuYyIsImRzbE1ldGhvZElkeCIsInByb2RPY2N1cnJlbmNlIiwibmV4dFRva3NXYWxrZXIiLCJnZXRIdW1hblJlYWRhYmxlUnVsZVN0YWNrIiwiY3VyclNob3J0TmFtZSIsImdldEtleUZvckF1dG9tYXRpY0xvb2thaGVhZCIsImZpcnN0QWZ0ZXJSZXBJbmZvIiwiZ2V0R0FzdFByb2R1Y3Rpb25zIiwicnVsZUlkeCIsIkxvb2tzQWhlYWQiLCJpbml0TG9va3NBaGVhZCIsImR5bmFtaWNUb2tlbnNFbmFibGVkIiwibG9va0FoZWFkRnVuY3NDYWNoZSIsImdldExhRnVuY0Zyb21DYWNoZSIsImdldExhRnVuY0Zyb21NYXAiLCJzZXRMYUZ1bmNDYWNoZSIsInNldExhRnVuY0NhY2hlVXNpbmdNYXAiLCJnZXRMYUZ1bmNGcm9tT2JqIiwic2V0TGFGdW5jVXNpbmdPYmoiLCJwcmVDb21wdXRlTG9va2FoZWFkRnVuY3Rpb25zIiwiY29sbGVjdE1ldGhvZHMiLCJwcm9kSWR4IiwibGFGdW5jQnVpbGRlciIsImxhRnVuYyIsImxvb2tBaGVhZEJ1aWxkZXJGb3JBbHRlcm5hdGl2ZXMiLCJmdWxsUnVsZU5hbWVUb1Nob3J0IiwiY29tcHV0ZUxvb2thaGVhZEZ1bmMiLCJwcm9kS2V5IiwicHJvZE1heExvb2thaGVhZCIsImRzbE1ldGhvZE5hbWUiLCJsb29rYWhlYWRCdWlsZGVyIiwiYnVpbGRMb29rYWhlYWRGdW5jRm9yT3B0aW9uYWxQcm9kIiwibG9va0FoZWFkQnVpbGRlckZvck9wdGlvbmFsIiwiYXJlQWxsT25lVG9rZW5Mb29rYWhlYWQiLCJudW1PZlBhdGhzIiwic2luZ2xlVG9rZW5zVHlwZXMiLCJleHBlY3RlZFRva2VuVW5pcXVlS2V5XzEiLCJjaG9pY2VUb0FsdF8yIiwiY3VyckV4dGVuZGluZ1R5cGUiLCJjdXJyUGF0aExlbmd0aCIsImJ1aWxkU2luZ2xlQWx0ZXJuYXRpdmVMb29rYWhlYWRGdW5jdGlvbiIsIm51bU9mQWx0cyIsIm9yQWx0cyIsInByZWRpY2F0ZXMiLCJHQVRFIiwiY3Vyck51bU9mUGF0aHMiLCJjdXJyUHJlZGljYXRlIiwic2luZ2xlVG9rZW5BbHRzIiwiY2hvaWNlVG9BbHRfMSIsImJ1aWxkQWx0ZXJuYXRpdmVzTG9va0FoZWFkRnVuYyIsInNldE5vZGVMb2NhdGlvbk9ubHlPZmZzZXQiLCJjdXJyTm9kZUxvY2F0aW9uIiwibmV3TG9jYXRpb25JbmZvIiwiaXNOYU4iLCJzZXROb2RlTG9jYXRpb25GdWxsIiwiQ3N0VmlzaXRvckRlZmluaXRpb25FcnJvciIsIkZVTkNfTkFNRV9SRUdFWFAiLCJmdW5jdGlvbk5hbWUiLCJleGlzdGluZ05hbWVQcm9wIiwiZGVmaW5lTmFtZVByb3AiLCJuYW1lVmFsdWUiLCJuYW1lUHJvcERlc2NyaXB0b3IiLCJ3cml0YWJsZSIsImRlZmF1bHRWaXNpdCIsImN0eCIsImNoaWxkcmVuTmFtZXMiLCJjaGlsZHJlbk5hbWVzTGVuZ3RoIiwiY3VyckNoaWxkQXJyYXkiLCJjdXJyQ2hpbGRBcnJheUxlbmd0aCIsImN1cnJDaGlsZCIsImNoaWxkcmVuIiwiY3JlYXRlQmFzZVNlbWFudGljVmlzaXRvckNvbnN0cnVjdG9yIiwicnVsZU5hbWVzIiwiZGVyaXZlZENvbnN0cnVjdG9yIiwiY3N0Tm9kZSIsInZhbGlkYXRlVmlzaXRvciIsInNlbWFudGljRGVmaW5pdGlvbkVycm9ycyIsInZpc2l0b3JJbnN0YW5jZSIsIm1pc3NpbmdFcnJvcnMiLCJNSVNTSU5HX01FVEhPRCIsIm1ldGhvZE5hbWUiLCJ2YWxpZGF0ZU1pc3NpbmdDc3RNZXRob2RzIiwicmVkdW5kYW50RXJyb3JzIiwiVkFMSURfUFJPUF9OQU1FUyIsIlJFRFVOREFOVF9NRVRIT0QiLCJ2YWxpZGF0ZVJlZHVuZGFudE1ldGhvZHMiLCJlcnJvck1lc3NhZ2VzIiwiY3VyckRlZkVycm9yIiwiX1JVTEVfTkFNRVMiLCJUcmVlQnVpbGRlciIsImluaXRUcmVlQnVpbGRlciIsIkNTVF9TVEFDSyIsIm91dHB1dENzdCIsIm5vZGVMb2NhdGlvblRyYWNraW5nIiwic2V0Tm9kZUxvY2F0aW9uRnJvbVRva2VuIiwic2V0Tm9kZUxvY2F0aW9uRnJvbU5vZGUiLCJjc3RQb3N0UnVsZSIsInNldEluaXRpYWxOb2RlTG9jYXRpb24iLCJzZXRJbml0aWFsTm9kZUxvY2F0aW9uRnVsbFJlY292ZXJ5IiwiY3N0UG9zdFJ1bGVGdWxsIiwic2V0SW5pdGlhbE5vZGVMb2NhdGlvbkZ1bGxSZWd1bGFyIiwic2V0SW5pdGlhbE5vZGVMb2NhdGlvbk9ubHlPZmZzZXRSZWNvdmVyeSIsImNzdFBvc3RSdWxlT25seU9mZnNldCIsInNldEluaXRpYWxOb2RlTG9jYXRpb25Pbmx5T2Zmc2V0UmVndWxhciIsImNzdEludm9jYXRpb25TdGF0ZVVwZGF0ZSIsImNzdEZpbmFsbHlTdGF0ZVVwZGF0ZSIsImNzdFBvc3RUZXJtaW5hbCIsImNzdFBvc3ROb25UZXJtaW5hbCIsImxvY2F0aW9uIiwiZnVsbFJ1bGVOYW1lIiwic2hvcnROYW1lIiwicnVsZUNzdE5vZGUiLCJwcmV2VG9rZW4iLCJsb2MiLCJjb25zdW1lZFRva2VuIiwidG9rZW5UeXBlTmFtZSIsInJvb3RDc3QiLCJydWxlQ3N0UmVzdWx0IiwicHJlQ3N0Tm9kZSIsInJ1bGVSZXN1bHQiLCJhZGROb25lVGVybWluYWxUb0NzdCIsImdldEJhc2VDc3RWaXNpdG9yQ29uc3RydWN0b3IiLCJiYXNlQ3N0VmlzaXRvckNvbnN0cnVjdG9yIiwibmV3QmFzZUNzdFZpc2l0b3JDb25zdHJ1Y3RvciIsImdhc3RQcm9kdWN0aW9uc0NhY2hlIiwiZ2V0QmFzZUNzdFZpc2l0b3JDb25zdHJ1Y3RvcldpdGhEZWZhdWx0cyIsImJhc2VDc3RWaXNpdG9yV2l0aERlZmF1bHRzQ29uc3RydWN0b3IiLCJuZXdDb25zdHJ1Y3RvciIsImJhc2VDb25zdHJ1Y3RvciIsIndpdGhEZWZhdWx0c1Byb3RvIiwiY3JlYXRlQmFzZVZpc2l0b3JDb25zdHJ1Y3RvcldpdGhEZWZhdWx0cyIsIkxleGVyQWRhcHRlciIsImluaXRMZXhlckFkYXB0ZXIiLCJ0b2tWZWN0b3IiLCJ0b2tWZWN0b3JMZW5ndGgiLCJuZXdJbnB1dCIsInNlbGZBbmFseXNpc0RvbmUiLCJFTkRfT0ZfRklMRSIsInNvdWdodElkeCIsIm5ld1N0YXRlIiwicmVzZXRMZXhlclN0YXRlIiwibW92ZVRvVGVybWluYXRlZFN0YXRlIiwiZ2V0TGV4ZXJQb3NpdGlvbiIsIlJlY29nbml6ZXJBcGkiLCJBQ1RJT04iLCJpbXBsIiwiY29uc3VtZSIsImNvbnN1bWVJbnRlcm5hbCIsInJ1bGVUb0NhbGwiLCJzdWJydWxlSW50ZXJuYWwiLCJhY3Rpb25PUk1ldGhvZERlZiIsIm9wdGlvbkludGVybmFsIiwiYWx0c09yT3B0cyIsIm9ySW50ZXJuYWwiLCJtYW55SW50ZXJuYWwiLCJhdExlYXN0T25lSW50ZXJuYWwiLCJDT05TVU1FIiwiQ09OU1VNRTEiLCJDT05TVU1FMiIsIkNPTlNVTUUzIiwiQ09OU1VNRTQiLCJDT05TVU1FNSIsIkNPTlNVTUU2IiwiQ09OU1VNRTciLCJDT05TVU1FOCIsIkNPTlNVTUU5IiwiU1VCUlVMRSIsIlNVQlJVTEUxIiwiU1VCUlVMRTIiLCJTVUJSVUxFMyIsIlNVQlJVTEU0IiwiU1VCUlVMRTUiLCJTVUJSVUxFNiIsIlNVQlJVTEU3IiwiU1VCUlVMRTgiLCJTVUJSVUxFOSIsIk9QVElPTjEiLCJPUFRJT04yIiwiT1BUSU9OMyIsIk9QVElPTjQiLCJPUFRJT041IiwiT1BUSU9ONiIsIk9QVElPTjciLCJPUFRJT044IiwiT1BUSU9OOSIsIk9SIiwiT1IxIiwiT1IyIiwiT1IzIiwiT1I0IiwiT1I1IiwiT1I2IiwiT1I3IiwiT1I4IiwiT1I5IiwiTUFOWSIsIk1BTlkxIiwiTUFOWTIiLCJNQU5ZMyIsIk1BTlk0IiwiTUFOWTUiLCJNQU5ZNiIsIk1BTlk3IiwiTUFOWTgiLCJNQU5ZOSIsIk1BTllfU0VQIiwibWFueVNlcEZpcnN0SW50ZXJuYWwiLCJNQU5ZX1NFUDEiLCJNQU5ZX1NFUDIiLCJNQU5ZX1NFUDMiLCJNQU5ZX1NFUDQiLCJNQU5ZX1NFUDUiLCJNQU5ZX1NFUDYiLCJNQU5ZX1NFUDciLCJNQU5ZX1NFUDgiLCJNQU5ZX1NFUDkiLCJBVF9MRUFTVF9PTkUiLCJBVF9MRUFTVF9PTkUxIiwiQVRfTEVBU1RfT05FMiIsIkFUX0xFQVNUX09ORTMiLCJBVF9MRUFTVF9PTkU0IiwiQVRfTEVBU1RfT05FNSIsIkFUX0xFQVNUX09ORTYiLCJBVF9MRUFTVF9PTkU3IiwiQVRfTEVBU1RfT05FOCIsIkFUX0xFQVNUX09ORTkiLCJBVF9MRUFTVF9PTkVfU0VQIiwiYXRMZWFzdE9uZVNlcEZpcnN0SW50ZXJuYWwiLCJBVF9MRUFTVF9PTkVfU0VQMSIsIkFUX0xFQVNUX09ORV9TRVAyIiwiQVRfTEVBU1RfT05FX1NFUDMiLCJBVF9MRUFTVF9PTkVfU0VQNCIsIkFUX0xFQVNUX09ORV9TRVA1IiwiQVRfTEVBU1RfT05FX1NFUDYiLCJBVF9MRUFTVF9PTkVfU0VQNyIsIkFUX0xFQVNUX09ORV9TRVA4IiwiQVRfTEVBU1RfT05FX1NFUDkiLCJSVUxFIiwiaW1wbGVtZW50YXRpb24iLCJERUZBVUxUX1JVTEVfQ09ORklHIiwiZGVmaW5lZFJ1bGVzTmFtZXMiLCJkZWZpbml0aW9uRXJyb3JzIiwicnVsZUltcGxlbWVudGF0aW9uIiwiZGVmaW5lUnVsZSIsIk9WRVJSSURFX1JVTEUiLCJydWxlRXJyb3JzIiwiSU5WQUxJRF9SVUxFX09WRVJSSURFIiwiQkFDS1RSQUNLIiwiaXNCYWNrVHJhY2tpbmdTdGFjayIsIm9yZ1N0YXRlIiwic2F2ZVJlY29nU3RhdGUiLCJyZWxvYWRSZWNvZ1N0YXRlIiwiZ2V0U2VyaWFsaXplZEdhc3RQcm9kdWN0aW9ucyIsIlJlY29nbml6ZXJFbmdpbmUiLCJpbml0UmVjb2duaXplckVuZ2luZSIsInRva2VuVm9jYWJ1bGFyeSIsInNob3J0UnVsZU5hbWVUb0Z1bGwiLCJydWxlU2hvcnROYW1lSWR4IiwidG9rZW5zTWFwIiwidW5pcXVlVG9rZW5zIiwibm9Ub2tlbkNhdGVnb3JpZXNVc2VkIiwidG9rZW5Db25zdHJ1Y3RvciIsIndyYXBwZWRHcmFtbWFyUnVsZSIsInJlc3luY0VuYWJsZWQiLCJyZWNvdmVyeVZhbHVlRnVuYyIsImludm9rZVJ1bGVXaXRoVHJ5IiwiY3N0IiwiaW52b2tlUnVsZUNhdGNoIiwicnVsZUZpbmFsbHlTdGF0ZVVwZGF0ZSIsInJ1bGVJbnZvY2F0aW9uU3RhdGVVcGRhdGUiLCJyZXN5bmNFbmFibGVkQ29uZmlnIiwiaXNGaXJzdEludm9rZWRSdWxlIiwicmVTeW5jRW5hYmxlZCIsInJlY29nRXJyb3IiLCJwYXJ0aWFsQ3N0UmVzdWx0IiwicmVjb3ZlcmVkTm9kZSIsIm9wdGlvbkludGVybmFsTG9naWMiLCJERUYiLCJvcmdMb29rYWhlYWRGdW5jdGlvbl8xIiwibGFLZXkiLCJhdExlYXN0T25lSW50ZXJuYWxMb2dpYyIsIm9yZ0xvb2thaGVhZEZ1bmN0aW9uXzIiLCJyYWlzZUVhcmx5RXhpdEV4Y2VwdGlvbiIsIkVSUl9NU0ciLCJkb1NpbmdsZVJlcGV0aXRpb24iLCJhdExlYXN0T25lU2VwRmlyc3RJbnRlcm5hbExvZ2ljIiwiU0VQIiwic2VwYXJhdG9yTG9va0FoZWFkRnVuYyIsInJlcGV0aXRpb25TZXBTZWNvbmRJbnRlcm5hbCIsIm1hbnlJbnRlcm5hbExvZ2ljIiwibG9va2FoZWFkRnVuY3Rpb24iLCJvcmdMb29rYWhlYWRGdW5jdGlvbl8zIiwibWFueVNlcEZpcnN0SW50ZXJuYWxMb2dpYyIsIm5leHRUZXJtaW5hbEFmdGVyV2Fsa2VyIiwiYmVmb3JlSXRlcmF0aW9uIiwiYWx0SWR4VG9UYWtlIiwiQUxUIiwicmFpc2VOb0FsdEV4Y2VwdGlvbiIsImlzQXRFbmRPZklucHV0IiwiZmlyc3RSZWR1bmRhbnRUb2siLCJBUkdTIiwic3VicnVsZUludGVybmFsRXJyb3IiLCJjb25zdW1lSW50ZXJuYWxFcnJvciIsImVGcm9tQ29uc3VtcHRpb24iLCJjb25zdW1lSW50ZXJuYWxSZWNvdmVyeSIsImVGcm9tSW5SdWxlUmVjb3ZlcnkiLCJzYXZlZEVycm9ycyIsInNhdmVkUnVsZVN0YWNrIiwibGV4ZXJTdGF0ZSIsImZ1bGxOYW1lIiwiRXJyb3JIYW5kbGVyIiwiaW5pdEVycm9ySGFuZGxlciIsIl9lcnJvcnMiLCJjb250ZXh0IiwicnVsZU9jY3VycmVuY2VTdGFjayIsIm5ld0Vycm9ycyIsInVzZXJEZWZpbmVkRXJyTXNnIiwiaW5zaWRlUHJvZFBhdGhzIiwiYWN0dWFsVG9rZW5zIiwiZXJyTXNnVHlwZXMiLCJsb29rQWhlYWRQYXRoc1BlckFsdGVybmF0aXZlIiwiQ29udGVudEFzc2lzdCIsImluaXRDb250ZW50QXNzaXN0IiwiY29tcHV0ZUNvbnRlbnRBc3Npc3QiLCJzdGFydFJ1bGVOYW1lIiwicHJlY2VkaW5nSW5wdXQiLCJzdGFydFJ1bGVHYXN0IiwidG9wUnVsZU5hbWUiLCJ0b3BQcm9kdWN0aW9uIiwiUkVDT1JESU5HX05VTExfT0JKRUNUIiwiZGVzY3JpcHRpb24iLCJNQVhfTUVUSE9EX0lEWCIsInBvdyIsIlJGVCIsIlJFQ09SRElOR19QSEFTRV9UT0tFTiIsIlJFQ09SRElOR19QSEFTRV9DU1ROT0RFIiwiR2FzdFJlY29yZGVyIiwiaW5pdEdhc3RSZWNvcmRlciIsInJlY29yZGluZ1Byb2RTdGFjayIsIlJFQ09SRElOR19QSEFTRSIsImVuYWJsZVJlY29yZGluZyIsImFyZzEiLCJhcmcyIiwiY29uc3VtZUludGVybmFsUmVjb3JkIiwic3VicnVsZUludGVybmFsUmVjb3JkIiwib3B0aW9uSW50ZXJuYWxSZWNvcmQiLCJvckludGVybmFsUmVjb3JkIiwibWFueUludGVybmFsUmVjb3JkIiwibWFueVNlcEZpcnN0SW50ZXJuYWxSZWNvcmQiLCJhdExlYXN0T25lSW50ZXJuYWxSZWNvcmQiLCJhdExlYXN0T25lU2VwRmlyc3RJbnRlcm5hbFJlY29yZCIsIkFDVElPTl9SRUNPUkQiLCJCQUNLVFJBQ0tfUkVDT1JEIiwiTEFfUkVDT1JEIiwiZGlzYWJsZVJlY29yZGluZyIsInRvcExldmVsUnVsZVJlY29yZCIsIm5ld1RvcExldmVsUnVsZSIsIm9yaWdpbmFsRXJyb3IiLCJLTk9XTl9SRUNPUkRFUl9FUlJPUiIsIm11dGFiaWxpdHlFcnJvciIsInJlY29yZFByb2QiLCJyZWNvcmRPclByb2QiLCJhc3NlcnRNZXRob2RJZHhJc1ZhbGlkIiwiZ2V0SWR4U3VmZml4IiwiSlNPTiIsInN0cmluZ2lmeSIsInByZXZQcm9kIiwibmV3Tm9uZVRlcm1pbmFsIiwicHJvZENvbnN0cnVjdG9yIiwibWFpblByb2RBcmciLCJoYW5kbGVTZXAiLCJncmFtbWFyQWN0aW9uIiwibmV3UHJvZCIsIk1BWF9MT09LQUhFQUQiLCJoYXNPcHRpb25zIiwibmV3T3JQcm9kIiwiSUdOT1JFX0FNQklHVUlUSUVTIiwiY3VyckFsdEZsYXQiLCJQZXJmb3JtYW5jZVRyYWNlciIsImluaXRQZXJmb3JtYW5jZVRyYWNlciIsInVzZXJUcmFjZUluaXRQZXJmIiwidHJhY2VJc051bWJlciIsIkVNUFRZX0FMVCIsIlBhcnNlciIsInBlcmZvcm1TZWxmQW5hbHlzaXMiLCJwYXJzZXJJbnN0YW5jZSIsImRlZkVycm9yc01zZ3MiLCJvcmlnaW5hbEdyYW1tYXJBY3Rpb24iLCJyZWNvcmRlZFJ1bGVHYXN0IiwicmVzb2x2ZXJFcnJvcnMiLCJ2YWxpZGF0aW9uRXJyb3JzIiwidG9wUHJvZHVjdGlvbnMiLCJyZVN5bmNGb2xsb3dzIiwiYWxsRm9sbG93cyIsImN1cnJSZWZzRm9sbG93IiwiREVGRVJfREVGSU5JVElPTl9FUlJPUlNfSEFORExJTkciLCJDc3RQYXJzZXIiLCJjb25maWdDbG9uZSIsIkVtYmVkZGVkQWN0aW9uc1BhcnNlciIsImNyZWF0ZVN5bnRheERpYWdyYW1zQ29kZSIsImdyYW1tYXIiLCJfYiIsIl9jIiwicmVzb3VyY2VCYXNlIiwiX2QiLCJjc3MiLCJOTCIsImdlbkNsYXNzIiwiZ2VuRGVmaW5pdGlvbiIsImdlbkFsdGVybmF0aW9uIiwiYWx0RGVmIiwiZ2VuU2luZ2xlQWx0IiwiZ2VuUHJvZCIsImdlbk5vblRlcm1pbmFsIiwiZ2VuRFNMUnVsZSIsImdlblRlcm1pbmFsIiwiZ2VuRGVmRnVuY3Rpb24iLCJnZW5lcmF0ZVBhcnNlckZhY3RvcnkiLCJ3cmFwcGVyVGV4dCIsImdlbldyYXBwZXJGdW5jdGlvbiIsImNvbnN0cnVjdG9yV3JhcHBlciIsImdlbmVyYXRlUGFyc2VyTW9kdWxlIiwiZ2VuVW1kTW9kdWxlIiwiY2xlYXJDYWNoZSIsIkZVTkNfRVJST1JfVEVYVCIsIlBMQUNFSE9MREVSIiwid3JhcEZsYWdzIiwiYXJnc1RhZyIsImFycmF5VGFnIiwiYm9vbFRhZyIsImRhdGVUYWciLCJlcnJvclRhZyIsImZ1bmNUYWciLCJnZW5UYWciLCJtYXBUYWciLCJudW1iZXJUYWciLCJvYmplY3RUYWciLCJyZWdleHBUYWciLCJzZXRUYWciLCJzdHJpbmdUYWciLCJzeW1ib2xUYWciLCJ3ZWFrTWFwVGFnIiwiYXJyYXlCdWZmZXJUYWciLCJkYXRhVmlld1RhZyIsImZsb2F0MzJUYWciLCJmbG9hdDY0VGFnIiwiaW50OFRhZyIsImludDE2VGFnIiwiaW50MzJUYWciLCJ1aW50OFRhZyIsInVpbnQxNlRhZyIsInVpbnQzMlRhZyIsInJlRW1wdHlTdHJpbmdMZWFkaW5nIiwicmVFbXB0eVN0cmluZ01pZGRsZSIsInJlRW1wdHlTdHJpbmdUcmFpbGluZyIsInJlRXNjYXBlZEh0bWwiLCJyZVVuZXNjYXBlZEh0bWwiLCJyZUhhc0VzY2FwZWRIdG1sIiwicmVIYXNVbmVzY2FwZWRIdG1sIiwicmVFc2NhcGUiLCJyZUV2YWx1YXRlIiwicmVJbnRlcnBvbGF0ZSIsInJlSXNEZWVwUHJvcCIsInJlSXNQbGFpblByb3AiLCJyZVByb3BOYW1lIiwicmVSZWdFeHBDaGFyIiwicmVIYXNSZWdFeHBDaGFyIiwicmVUcmltIiwicmVUcmltU3RhcnQiLCJyZVRyaW1FbmQiLCJyZVdyYXBDb21tZW50IiwicmVXcmFwRGV0YWlscyIsInJlU3BsaXREZXRhaWxzIiwicmVBc2NpaVdvcmQiLCJyZUVzY2FwZUNoYXIiLCJyZUVzVGVtcGxhdGUiLCJyZUZsYWdzIiwicmVJc0JhZEhleCIsInJlSXNCaW5hcnkiLCJyZUlzSG9zdEN0b3IiLCJyZUlzT2N0YWwiLCJyZUlzVWludCIsInJlTGF0aW4iLCJyZU5vTWF0Y2giLCJyZVVuZXNjYXBlZFN0cmluZyIsInJzQ29tYm9SYW5nZSIsInJzQ29tYm9NYXJrc1JhbmdlIiwicnNCcmVha1JhbmdlIiwicnNNYXRoT3BSYW5nZSIsInJzQXN0cmFsIiwicnNCcmVhayIsInJzQ29tYm8iLCJyc0RpZ2l0cyIsInJzRGluZ2JhdCIsInJzTG93ZXIiLCJyc01pc2MiLCJyc0ZpdHoiLCJyc05vbkFzdHJhbCIsInJzUmVnaW9uYWwiLCJyc1N1cnJQYWlyIiwicnNVcHBlciIsInJzTWlzY0xvd2VyIiwicnNNaXNjVXBwZXIiLCJyZU9wdE1vZCIsInJzU2VxIiwicnNFbW9qaSIsInJzU3ltYm9sIiwicmVBcG9zIiwicmVDb21ib01hcmsiLCJyZVVuaWNvZGUiLCJyZVVuaWNvZGVXb3JkIiwicmVIYXNVbmljb2RlIiwicmVIYXNVbmljb2RlV29yZCIsImNvbnRleHRQcm9wcyIsInRlbXBsYXRlQ291bnRlciIsInR5cGVkQXJyYXlUYWdzIiwiY2xvbmVhYmxlVGFncyIsInN0cmluZ0VzY2FwZXMiLCJmcmVlUGFyc2VGbG9hdCIsInBhcnNlRmxvYXQiLCJmcmVlUGFyc2VJbnQiLCJwYXJzZUludCIsImZyZWVHbG9iYWwiLCJmcmVlU2VsZiIsInNlbGYiLCJyb290IiwiZnJlZUV4cG9ydHMiLCJub2RlVHlwZSIsImZyZWVNb2R1bGUiLCJtb2R1bGVFeHBvcnRzIiwiZnJlZVByb2Nlc3MiLCJwcm9jZXNzIiwibm9kZVV0aWwiLCJ0eXBlcyIsInJlcXVpcmUiLCJiaW5kaW5nIiwibm9kZUlzQXJyYXlCdWZmZXIiLCJpc0FycmF5QnVmZmVyIiwibm9kZUlzRGF0ZSIsImlzRGF0ZSIsIm5vZGVJc01hcCIsImlzTWFwIiwibm9kZUlzUmVnRXhwIiwibm9kZUlzU2V0IiwiaXNTZXQiLCJub2RlSXNUeXBlZEFycmF5IiwiaXNUeXBlZEFycmF5IiwidGhpc0FyZyIsImFycmF5QWdncmVnYXRvciIsImFycmF5Iiwic2V0dGVyIiwiaXRlcmF0ZWUiLCJhcnJheUVhY2giLCJhcnJheUVhY2hSaWdodCIsImFycmF5RXZlcnkiLCJhcnJheUZpbHRlciIsInJlc0luZGV4IiwiYXJyYXlJbmNsdWRlcyIsImJhc2VJbmRleE9mIiwiYXJyYXlJbmNsdWRlc1dpdGgiLCJjb21wYXJhdG9yIiwiYXJyYXlNYXAiLCJhcnJheVB1c2giLCJhcnJheVJlZHVjZSIsImluaXRBY2N1bSIsImFycmF5UmVkdWNlUmlnaHQiLCJhcnJheVNvbWUiLCJhc2NpaVNpemUiLCJiYXNlUHJvcGVydHkiLCJiYXNlRmluZEtleSIsImVhY2hGdW5jIiwiYmFzZUZpbmRJbmRleCIsImZyb21JbmRleCIsImZyb21SaWdodCIsInN0cmljdEluZGV4T2YiLCJiYXNlSXNOYU4iLCJiYXNlSW5kZXhPZldpdGgiLCJiYXNlTWVhbiIsImJhc2VTdW0iLCJiYXNlUHJvcGVydHlPZiIsImJhc2VSZWR1Y2UiLCJjdXJyZW50IiwiYmFzZVRpbWVzIiwiYmFzZVVuYXJ5IiwiYmFzZVZhbHVlcyIsInByb3BzIiwiY2FjaGVIYXMiLCJjYWNoZSIsImNoYXJzU3RhcnRJbmRleCIsInN0clN5bWJvbHMiLCJjaHJTeW1ib2xzIiwiY2hhcnNFbmRJbmRleCIsImNvdW50SG9sZGVycyIsInBsYWNlaG9sZGVyIiwiZGVidXJyTGV0dGVyIiwiZXNjYXBlSHRtbENoYXIiLCJlc2NhcGVTdHJpbmdDaGFyIiwiY2hyIiwiaGFzVW5pY29kZSIsInN0cmluZyIsIm1hcFRvQXJyYXkiLCJvdmVyQXJnIiwidHJhbnNmb3JtIiwiYXJnIiwicmVwbGFjZUhvbGRlcnMiLCJzZXRUb0FycmF5Iiwic2V0VG9QYWlycyIsInN0cmluZ1NpemUiLCJ1bmljb2RlU2l6ZSIsInN0cmluZ1RvQXJyYXkiLCJ1bmljb2RlVG9BcnJheSIsInNwbGl0IiwiYXNjaWlUb0FycmF5IiwidW5lc2NhcGVIdG1sQ2hhciIsIl8iLCJydW5JbkNvbnRleHQiLCJ1aWQiLCJUeXBlRXJyb3IiLCJhcnJheVByb3RvIiwiZnVuY1Byb3RvIiwib2JqZWN0UHJvdG8iLCJjb3JlSnNEYXRhIiwiZnVuY1RvU3RyaW5nIiwiaWRDb3VudGVyIiwibWFza1NyY0tleSIsIklFX1BST1RPIiwibmF0aXZlT2JqZWN0VG9TdHJpbmciLCJvYmplY3RDdG9yU3RyaW5nIiwib2xkRGFzaCIsInJlSXNOYXRpdmUiLCJCdWZmZXIiLCJVaW50OEFycmF5IiwiYWxsb2NVbnNhZmUiLCJnZXRQcm90b3R5cGUiLCJnZXRQcm90b3R5cGVPZiIsIm9iamVjdENyZWF0ZSIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwic3BsaWNlIiwic3ByZWFkYWJsZVN5bWJvbCIsImlzQ29uY2F0U3ByZWFkYWJsZSIsInN5bUl0ZXJhdG9yIiwic3ltVG9TdHJpbmdUYWciLCJnZXROYXRpdmUiLCJjdHhDbGVhclRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJjdHhOb3ciLCJub3ciLCJjdHhTZXRUaW1lb3V0Iiwic2V0VGltZW91dCIsIm5hdGl2ZUNlaWwiLCJjZWlsIiwibmF0aXZlRmxvb3IiLCJuYXRpdmVHZXRTeW1ib2xzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwibmF0aXZlSXNCdWZmZXIiLCJpc0J1ZmZlciIsIm5hdGl2ZUlzRmluaXRlIiwiaXNGaW5pdGUiLCJuYXRpdmVKb2luIiwibmF0aXZlS2V5cyIsIm5hdGl2ZU1heCIsIm1heCIsIm5hdGl2ZU1pbiIsIm1pbiIsIm5hdGl2ZU5vdyIsIm5hdGl2ZVBhcnNlSW50IiwibmF0aXZlUmFuZG9tIiwicmFuZG9tIiwibmF0aXZlUmV2ZXJzZSIsIkRhdGFWaWV3IiwiUHJvbWlzZSIsIlNldCIsIldlYWtNYXAiLCJuYXRpdmVDcmVhdGUiLCJtZXRhTWFwIiwicmVhbE5hbWVzIiwiZGF0YVZpZXdDdG9yU3RyaW5nIiwidG9Tb3VyY2UiLCJtYXBDdG9yU3RyaW5nIiwicHJvbWlzZUN0b3JTdHJpbmciLCJzZXRDdG9yU3RyaW5nIiwid2Vha01hcEN0b3JTdHJpbmciLCJzeW1ib2xQcm90byIsInN5bWJvbFZhbHVlT2YiLCJ2YWx1ZU9mIiwic3ltYm9sVG9TdHJpbmciLCJsb2Rhc2giLCJpc09iamVjdExpa2UiLCJMYXp5V3JhcHBlciIsIkxvZGFzaFdyYXBwZXIiLCJ3cmFwcGVyQ2xvbmUiLCJiYXNlQ3JlYXRlIiwicHJvdG8iLCJiYXNlTG9kYXNoIiwiY2hhaW5BbGwiLCJfX3dyYXBwZWRfXyIsIl9fYWN0aW9uc19fIiwiX19jaGFpbl9fIiwiX19pbmRleF9fIiwiX192YWx1ZXNfXyIsIl9fZGlyX18iLCJfX2ZpbHRlcmVkX18iLCJfX2l0ZXJhdGVlc19fIiwiX190YWtlQ291bnRfXyIsIl9fdmlld3NfXyIsIkhhc2giLCJlbnRyaWVzIiwiY2xlYXIiLCJlbnRyeSIsIkxpc3RDYWNoZSIsIk1hcENhY2hlIiwiU2V0Q2FjaGUiLCJfX2RhdGFfXyIsImFkZCIsIlN0YWNrIiwiZGF0YSIsImFycmF5TGlrZUtleXMiLCJpbmhlcml0ZWQiLCJpc0FyZyIsImlzQXJndW1lbnRzIiwiaXNCdWZmIiwiaXNUeXBlIiwic2tpcEluZGV4ZXMiLCJpc0luZGV4IiwiYXJyYXlTYW1wbGUiLCJiYXNlUmFuZG9tIiwiYXJyYXlTYW1wbGVTaXplIiwic2h1ZmZsZVNlbGYiLCJjb3B5QXJyYXkiLCJiYXNlQ2xhbXAiLCJhcnJheVNodWZmbGUiLCJhc3NpZ25NZXJnZVZhbHVlIiwiZXEiLCJiYXNlQXNzaWduVmFsdWUiLCJhc3NpZ25WYWx1ZSIsIm9ialZhbHVlIiwiYXNzb2NJbmRleE9mIiwiYmFzZUFnZ3JlZ2F0b3IiLCJiYXNlRWFjaCIsImJhc2VBc3NpZ24iLCJjb3B5T2JqZWN0IiwiYmFzZUF0IiwicGF0aHMiLCJza2lwIiwibnVtYmVyIiwibG93ZXIiLCJ1cHBlciIsImJhc2VDbG9uZSIsImJpdG1hc2siLCJjdXN0b21pemVyIiwic3RhY2siLCJpc0RlZXAiLCJpc0ZsYXQiLCJpc0Z1bGwiLCJpbnB1dCIsImluaXRDbG9uZUFycmF5IiwidGFnIiwiZ2V0VGFnIiwiaXNGdW5jIiwiY2xvbmVCdWZmZXIiLCJpbml0Q2xvbmVPYmplY3QiLCJnZXRTeW1ib2xzSW4iLCJjb3B5U3ltYm9sc0luIiwia2V5c0luIiwiYmFzZUFzc2lnbkluIiwiZ2V0U3ltYm9scyIsImNvcHlTeW1ib2xzIiwiQ3RvciIsImNsb25lQXJyYXlCdWZmZXIiLCJkYXRhVmlldyIsImJ1ZmZlciIsImJ5dGVPZmZzZXQiLCJieXRlTGVuZ3RoIiwiY2xvbmVEYXRhVmlldyIsImNsb25lVHlwZWRBcnJheSIsInJlZ2V4cCIsImNsb25lUmVnRXhwIiwic3ltYm9sIiwiaW5pdENsb25lQnlUYWciLCJzdGFja2VkIiwic3ViVmFsdWUiLCJnZXRBbGxLZXlzSW4iLCJnZXRBbGxLZXlzIiwiYmFzZUNvbmZvcm1zVG8iLCJiYXNlRGVsYXkiLCJ3YWl0IiwiYmFzZURpZmZlcmVuY2UiLCJpbmNsdWRlcyIsImlzQ29tbW9uIiwidmFsdWVzTGVuZ3RoIiwib3V0ZXIiLCJjb21wdXRlZCIsInZhbHVlc0luZGV4IiwidGVtcGxhdGVTZXR0aW5ncyIsImdldE1hcERhdGEiLCJwYWlycyIsIkxBUkdFX0FSUkFZX1NJWkUiLCJjcmVhdGVCYXNlRWFjaCIsImJhc2VGb3JPd24iLCJiYXNlRWFjaFJpZ2h0IiwiYmFzZUZvck93blJpZ2h0IiwiYmFzZUV2ZXJ5IiwiYmFzZUV4dHJlbXVtIiwiaXNTeW1ib2wiLCJiYXNlRmlsdGVyIiwiYmFzZUZsYXR0ZW4iLCJkZXB0aCIsImlzU3RyaWN0IiwiaXNGbGF0dGVuYWJsZSIsImJhc2VGb3IiLCJjcmVhdGVCYXNlRm9yIiwiYmFzZUZvclJpZ2h0IiwiYmFzZUZ1bmN0aW9ucyIsImJhc2VHZXQiLCJjYXN0UGF0aCIsInRvS2V5IiwiYmFzZUdldEFsbEtleXMiLCJrZXlzRnVuYyIsInN5bWJvbHNGdW5jIiwiYmFzZUdldFRhZyIsImlzT3duIiwidW5tYXNrZWQiLCJnZXRSYXdUYWciLCJvYmplY3RUb1N0cmluZyIsImJhc2VHdCIsImJhc2VIYXMiLCJiYXNlSGFzSW4iLCJiYXNlSW50ZXJzZWN0aW9uIiwiYXJyYXlzIiwib3RoTGVuZ3RoIiwib3RoSW5kZXgiLCJjYWNoZXMiLCJzZWVuIiwiYmFzZUludm9rZSIsInBhcmVudCIsImJhc2VJc0FyZ3VtZW50cyIsImJhc2VJc0VxdWFsIiwiZXF1YWxGdW5jIiwib2JqSXNBcnIiLCJvdGhJc0FyciIsIm9ialRhZyIsIm90aFRhZyIsIm9iaklzT2JqIiwib3RoSXNPYmoiLCJpc1NhbWVUYWciLCJlcXVhbEFycmF5cyIsImNvbnZlcnQiLCJpc1BhcnRpYWwiLCJlcXVhbEJ5VGFnIiwib2JqSXNXcmFwcGVkIiwib3RoSXNXcmFwcGVkIiwib2JqVW53cmFwcGVkIiwib3RoVW53cmFwcGVkIiwib2JqUHJvcHMiLCJvYmpMZW5ndGgiLCJza2lwQ3RvciIsIm90aFZhbHVlIiwiY29tcGFyZWQiLCJvYmpDdG9yIiwib3RoQ3RvciIsImVxdWFsT2JqZWN0cyIsImJhc2VJc0VxdWFsRGVlcCIsImJhc2VJc01hdGNoIiwibWF0Y2hEYXRhIiwibm9DdXN0b21pemVyIiwic3JjVmFsdWUiLCJDT01QQVJFX1BBUlRJQUxfRkxBRyIsImJhc2VJc05hdGl2ZSIsImJhc2VJdGVyYXRlZSIsImJhc2VNYXRjaGVzUHJvcGVydHkiLCJiYXNlTWF0Y2hlcyIsImJhc2VLZXlzIiwiaXNQcm90b3R5cGUiLCJiYXNlS2V5c0luIiwibmF0aXZlS2V5c0luIiwiaXNQcm90byIsImJhc2VMdCIsImJhc2VNYXAiLCJpc0FycmF5TGlrZSIsImdldE1hdGNoRGF0YSIsIm1hdGNoZXNTdHJpY3RDb21wYXJhYmxlIiwiaXNLZXkiLCJpc1N0cmljdENvbXBhcmFibGUiLCJoYXNJbiIsImJhc2VNZXJnZSIsInNyY0luZGV4IiwibWVyZ2VGdW5jIiwic2FmZUdldCIsIm5ld1ZhbHVlIiwiaXNUeXBlZCIsImlzQXJyYXlMaWtlT2JqZWN0IiwiaXNQbGFpbk9iamVjdCIsInRvUGxhaW5PYmplY3QiLCJiYXNlTWVyZ2VEZWVwIiwiYmFzZU50aCIsImJhc2VPcmRlckJ5IiwiaXRlcmF0ZWVzIiwib3JkZXJzIiwiZ2V0SXRlcmF0ZWUiLCJjb21wYXJlciIsImJhc2VTb3J0QnkiLCJvYmpDcml0ZXJpYSIsImNyaXRlcmlhIiwib3RoQ3JpdGVyaWEiLCJvcmRlcnNMZW5ndGgiLCJjb21wYXJlQXNjZW5kaW5nIiwib3JkZXIiLCJjb21wYXJlTXVsdGlwbGUiLCJiYXNlUGlja0J5IiwiYmFzZVNldCIsImJhc2VQdWxsQWxsIiwiYmFzZVB1bGxBdCIsImluZGV4ZXMiLCJiYXNlVW5zZXQiLCJiYXNlUmVwZWF0IiwiYmFzZVJlc3QiLCJzZXRUb1N0cmluZyIsIm92ZXJSZXN0IiwiYmFzZVNhbXBsZSIsImJhc2VTYW1wbGVTaXplIiwibmVzdGVkIiwiYmFzZVNldERhdGEiLCJiYXNlU2V0VG9TdHJpbmciLCJjb25zdGFudCIsImJhc2VTaHVmZmxlIiwiYmFzZVNsaWNlIiwiZW5kIiwiYmFzZVNvbWUiLCJiYXNlU29ydGVkSW5kZXgiLCJyZXRIaWdoZXN0IiwibG93IiwiaGlnaCIsIk1BWF9BUlJBWV9MRU5HVEgiLCJtaWQiLCJiYXNlU29ydGVkSW5kZXhCeSIsInZhbElzTmFOIiwidmFsSXNOdWxsIiwidmFsSXNTeW1ib2wiLCJ2YWxJc1VuZGVmaW5lZCIsIm90aElzRGVmaW5lZCIsIm90aElzTnVsbCIsIm90aElzUmVmbGV4aXZlIiwib3RoSXNTeW1ib2wiLCJzZXRMb3ciLCJiYXNlU29ydGVkVW5pcSIsImJhc2VUb051bWJlciIsImJhc2VUb1N0cmluZyIsImJhc2VVbmlxIiwiY3JlYXRlU2V0Iiwic2VlbkluZGV4IiwiYmFzZVVwZGF0ZSIsInVwZGF0ZXIiLCJiYXNlV2hpbGUiLCJpc0Ryb3AiLCJiYXNlV3JhcHBlclZhbHVlIiwiYWN0aW9ucyIsImJhc2VYb3IiLCJiYXNlWmlwT2JqZWN0IiwiYXNzaWduRnVuYyIsInZhbHNMZW5ndGgiLCJjYXN0QXJyYXlMaWtlT2JqZWN0IiwiY2FzdEZ1bmN0aW9uIiwic3RyaW5nVG9QYXRoIiwiY2FzdFJlc3QiLCJjYXN0U2xpY2UiLCJpZCIsImNvcHkiLCJhcnJheUJ1ZmZlciIsInR5cGVkQXJyYXkiLCJ2YWxJc0RlZmluZWQiLCJ2YWxJc1JlZmxleGl2ZSIsImNvbXBvc2VBcmdzIiwicGFydGlhbHMiLCJob2xkZXJzIiwiaXNDdXJyaWVkIiwiYXJnc0luZGV4IiwiYXJnc0xlbmd0aCIsImhvbGRlcnNMZW5ndGgiLCJsZWZ0SW5kZXgiLCJsZWZ0TGVuZ3RoIiwicmFuZ2VMZW5ndGgiLCJpc1VuY3VycmllZCIsImNvbXBvc2VBcmdzUmlnaHQiLCJob2xkZXJzSW5kZXgiLCJyaWdodEluZGV4IiwicmlnaHRMZW5ndGgiLCJpc05ldyIsImNyZWF0ZUFnZ3JlZ2F0b3IiLCJpbml0aWFsaXplciIsImNyZWF0ZUFzc2lnbmVyIiwiYXNzaWduZXIiLCJndWFyZCIsImlzSXRlcmF0ZWVDYWxsIiwiaXRlcmFibGUiLCJjcmVhdGVDYXNlRmlyc3QiLCJ0cmFpbGluZyIsImNyZWF0ZUNvbXBvdW5kZXIiLCJ3b3JkcyIsImRlYnVyciIsImNyZWF0ZUN0b3IiLCJ0aGlzQmluZGluZyIsImNyZWF0ZUZpbmQiLCJmaW5kSW5kZXhGdW5jIiwiY3JlYXRlRmxvdyIsImZsYXRSZXN0IiwiZnVuY3MiLCJwcmVyZXEiLCJ0aHJ1Iiwid3JhcHBlciIsImdldEZ1bmNOYW1lIiwiZnVuY05hbWUiLCJnZXREYXRhIiwiaXNMYXppYWJsZSIsInBsYW50IiwiY3JlYXRlSHlicmlkIiwicGFydGlhbHNSaWdodCIsImhvbGRlcnNSaWdodCIsImFyZ1BvcyIsImFyeSIsImFyaXR5IiwiaXNBcnkiLCJpc0JpbmQiLCJpc0JpbmRLZXkiLCJpc0ZsaXAiLCJnZXRIb2xkZXIiLCJob2xkZXJzQ291bnQiLCJuZXdIb2xkZXJzIiwiY3JlYXRlUmVjdXJyeSIsImZuIiwicmVvcmRlciIsImNyZWF0ZUludmVydGVyIiwidG9JdGVyYXRlZSIsImJhc2VJbnZlcnRlciIsImNyZWF0ZU1hdGhPcGVyYXRpb24iLCJvcGVyYXRvciIsImRlZmF1bHRWYWx1ZSIsImNyZWF0ZU92ZXIiLCJhcnJheUZ1bmMiLCJjcmVhdGVQYWRkaW5nIiwiY2hhcnMiLCJjaGFyc0xlbmd0aCIsImNyZWF0ZVJhbmdlIiwic3RlcCIsInRvRmluaXRlIiwiYmFzZVJhbmdlIiwiY3JlYXRlUmVsYXRpb25hbE9wZXJhdGlvbiIsInRvTnVtYmVyIiwid3JhcEZ1bmMiLCJpc0N1cnJ5Iiwic2V0RGF0YSIsInNldFdyYXBUb1N0cmluZyIsImNyZWF0ZVJvdW5kIiwicHJlY2lzaW9uIiwidG9JbnRlZ2VyIiwicGFpciIsIm5vb3AiLCJjcmVhdGVUb1BhaXJzIiwiYmFzZVRvUGFpcnMiLCJjcmVhdGVXcmFwIiwic3JjQml0bWFzayIsIm5ld0JpdG1hc2siLCJpc0NvbWJvIiwibWVyZ2VEYXRhIiwiY3JlYXRlQ3VycnkiLCJjcmVhdGVQYXJ0aWFsIiwiY3JlYXRlQmluZCIsImN1c3RvbURlZmF1bHRzQXNzaWduSW4iLCJjdXN0b21EZWZhdWx0c01lcmdlIiwiY3VzdG9tT21pdENsb25lIiwiYXJyTGVuZ3RoIiwiYXJyVmFsdWUiLCJvdGhlckZ1bmMiLCJnZXRWYWx1ZSIsInN0dWJBcnJheSIsImhhc1BhdGgiLCJoYXNGdW5jIiwiaXNMZW5ndGgiLCJBcnJheUJ1ZmZlciIsInJlc29sdmUiLCJjdG9yU3RyaW5nIiwiaXNNYXNrYWJsZSIsInN0dWJGYWxzZSIsIm90aGVyQXJncyIsIm9sZEFycmF5Iiwic2hvcnRPdXQiLCJyZWZlcmVuY2UiLCJpbnNlcnRXcmFwRGV0YWlscyIsInVwZGF0ZVdyYXBEZXRhaWxzIiwiZ2V0V3JhcERldGFpbHMiLCJjb3VudCIsImxhc3RDYWxsZWQiLCJzdGFtcCIsInJlbWFpbmluZyIsInJhbmQiLCJtZW1vaXplIiwibWVtb2l6ZUNhcHBlZCIsInF1b3RlIiwic3ViU3RyaW5nIiwiY2xvbmUiLCJkaWZmZXJlbmNlQnkiLCJkaWZmZXJlbmNlV2l0aCIsImZpbmRJbmRleCIsImZpbmRMYXN0SW5kZXgiLCJoZWFkIiwiaW50ZXJzZWN0aW9uIiwibWFwcGVkIiwiaW50ZXJzZWN0aW9uQnkiLCJpbnRlcnNlY3Rpb25XaXRoIiwicHVsbCIsInB1bGxBbGwiLCJwdWxsQXQiLCJ1bmlvbiIsInVuaW9uQnkiLCJ1bmlvbldpdGgiLCJ1bnppcCIsInVuemlwV2l0aCIsIndpdGhvdXQiLCJ4b3IiLCJ4b3JCeSIsInhvcldpdGgiLCJ6aXAiLCJ6aXBXaXRoIiwiY2hhaW4iLCJpbnRlcmNlcHRvciIsIndyYXBwZXJBdCIsImNvdW50QnkiLCJmaW5kTGFzdCIsImZvckVhY2hSaWdodCIsImludm9rZU1hcCIsImtleUJ5IiwicGFydGl0aW9uIiwiYmVmb3JlIiwiYmluZEtleSIsIldSQVBfQklORF9GTEFHIiwiZGVib3VuY2UiLCJsYXN0QXJncyIsImxhc3RUaGlzIiwibWF4V2FpdCIsInRpbWVySWQiLCJsYXN0Q2FsbFRpbWUiLCJsYXN0SW52b2tlVGltZSIsImxlYWRpbmciLCJtYXhpbmciLCJpbnZva2VGdW5jIiwibGVhZGluZ0VkZ2UiLCJ0aW1lckV4cGlyZWQiLCJzaG91bGRJbnZva2UiLCJ0aW1lU2luY2VMYXN0Q2FsbCIsInRyYWlsaW5nRWRnZSIsInRpbWVXYWl0aW5nIiwicmVtYWluaW5nV2FpdCIsImRlYm91bmNlZCIsImlzSW52b2tpbmciLCJjYW5jZWwiLCJmbHVzaCIsImRlZmVyIiwiZGVsYXkiLCJyZXNvbHZlciIsIm1lbW9pemVkIiwiQ2FjaGUiLCJuZWdhdGUiLCJvdmVyQXJncyIsInRyYW5zZm9ybXMiLCJmdW5jc0xlbmd0aCIsInBhcnRpYWxSaWdodCIsInJlYXJnIiwiZ3QiLCJndGUiLCJpc0Vycm9yIiwiaXNJbnRlZ2VyIiwiaXNOdW1iZXIiLCJsdCIsImx0ZSIsInRvQXJyYXkiLCJuZXh0IiwiZG9uZSIsIml0ZXJhdG9yVG9BcnJheSIsInJlbWFpbmRlciIsInRvTGVuZ3RoIiwiaXNCaW5hcnkiLCJhc3NpZ25JbiIsImFzc2lnbkluV2l0aCIsImFzc2lnbldpdGgiLCJhdCIsInByb3BzSW5kZXgiLCJwcm9wc0xlbmd0aCIsImRlZmF1bHRzRGVlcCIsIm1lcmdlV2l0aCIsImludmVydCIsImludmVydEJ5IiwiaW52b2tlIiwib21pdCIsIkNMT05FX0RFRVBfRkxBRyIsImJhc2VQaWNrIiwicGlja0J5IiwidG9QYWlycyIsInRvUGFpcnNJbiIsImNhbWVsQ2FzZSIsIndvcmQiLCJjYXBpdGFsaXplIiwidXBwZXJGaXJzdCIsImtlYmFiQ2FzZSIsImxvd2VyQ2FzZSIsImxvd2VyRmlyc3QiLCJzbmFrZUNhc2UiLCJzdGFydENhc2UiLCJ1cHBlckNhc2UiLCJoYXNVbmljb2RlV29yZCIsInVuaWNvZGVXb3JkcyIsImFzY2lpV29yZHMiLCJhdHRlbXB0IiwiYmluZEFsbCIsIm1ldGhvZE5hbWVzIiwiZmxvdyIsImZsb3dSaWdodCIsIm1ldGhvZCIsIm1ldGhvZE9mIiwibWl4aW4iLCJvdmVyIiwib3ZlckV2ZXJ5Iiwib3ZlclNvbWUiLCJiYXNlUHJvcGVydHlEZWVwIiwicmFuZ2VSaWdodCIsImF1Z2VuZCIsImFkZGVuZCIsImRpdmlkZSIsImRpdmlkZW5kIiwiZGl2aXNvciIsIm11bHRpcGx5IiwibXVsdGlwbGllciIsIm11bHRpcGxpY2FuZCIsInJvdW5kIiwic3VidHJhY3QiLCJtaW51ZW5kIiwic3VidHJhaGVuZCIsImFmdGVyIiwiY2FzdEFycmF5IiwiY2h1bmsiLCJjb25kIiwiY29uZm9ybXMiLCJiYXNlQ29uZm9ybXMiLCJwcm9wZXJ0aWVzIiwiY3VycnkiLCJjdXJyeVJpZ2h0IiwiZHJvcFJpZ2h0V2hpbGUiLCJkcm9wV2hpbGUiLCJmaWxsIiwiYmFzZUZpbGwiLCJmbGF0TWFwIiwiZmxhdE1hcERlZXAiLCJmbGF0TWFwRGVwdGgiLCJmbGF0dGVuRGVlcCIsImZsYXR0ZW5EZXB0aCIsImZsaXAiLCJmcm9tUGFpcnMiLCJmdW5jdGlvbnMiLCJmdW5jdGlvbnNJbiIsIm1hcEtleXMiLCJtYXRjaGVzIiwibWF0Y2hlc1Byb3BlcnR5IiwibnRoQXJnIiwib21pdEJ5Iiwib25jZSIsIm9yZGVyQnkiLCJwcm9wZXJ0eU9mIiwicHVsbEFsbEJ5IiwicHVsbEFsbFdpdGgiLCJyZW1vdmUiLCJzYW1wbGVTaXplIiwic2V0V2l0aCIsInNodWZmbGUiLCJzb3J0ZWRVbmlxIiwic29ydGVkVW5pcUJ5IiwibGltaXQiLCJzcHJlYWQiLCJ0YWlsIiwidGFrZSIsInRha2VSaWdodCIsInRha2VSaWdodFdoaWxlIiwidGFrZVdoaWxlIiwidGFwIiwidGhyb3R0bGUiLCJ0b1BhdGgiLCJpc0Fyckxpa2UiLCJ1bmFyeSIsInVuaXFCeSIsInVuaXFXaXRoIiwidW5zZXQiLCJ1cGRhdGUiLCJ1cGRhdGVXaXRoIiwidmFsdWVzSW4iLCJ3cmFwIiwiemlwT2JqZWN0RGVlcCIsImVudHJpZXNJbiIsImV4dGVuZCIsImV4dGVuZFdpdGgiLCJjbGFtcCIsImNsb25lRGVlcCIsImNsb25lRGVlcFdpdGgiLCJjbG9uZVdpdGgiLCJjb25mb3Jtc1RvIiwiZGVmYXVsdFRvIiwiZW5kc1dpdGgiLCJwb3NpdGlvbiIsImVzY2FwZSIsImVzY2FwZVJlZ0V4cCIsImZpbmRLZXkiLCJmaW5kTGFzdEtleSIsImZvckluIiwiZm9ySW5SaWdodCIsImZvck93biIsImZvck93blJpZ2h0IiwiaW5SYW5nZSIsImJhc2VJblJhbmdlIiwiaXNCb29sZWFuIiwiaXNFbGVtZW50IiwiaXNFcXVhbCIsImlzRXF1YWxXaXRoIiwiaXNNYXRjaCIsImlzTWF0Y2hXaXRoIiwiaXNOYXRpdmUiLCJpc05pbCIsImlzTnVsbCIsImlzU2FmZUludGVnZXIiLCJpc1dlYWtNYXAiLCJpc1dlYWtTZXQiLCJsYXN0SW5kZXhPZiIsInN0cmljdExhc3RJbmRleE9mIiwibWF4QnkiLCJtZWFuIiwibWVhbkJ5IiwibWluQnkiLCJzdHViT2JqZWN0Iiwic3R1YlN0cmluZyIsInN0dWJUcnVlIiwibnRoIiwibm9Db25mbGljdCIsInBhZCIsInN0ckxlbmd0aCIsInBhZEVuZCIsInBhZFN0YXJ0IiwicmFkaXgiLCJmbG9hdGluZyIsInRlbXAiLCJyZWR1Y2VSaWdodCIsInJlcGVhdCIsInNhbXBsZSIsInNvcnRlZEluZGV4Iiwic29ydGVkSW5kZXhCeSIsInNvcnRlZEluZGV4T2YiLCJzb3J0ZWRMYXN0SW5kZXgiLCJzb3J0ZWRMYXN0SW5kZXhCeSIsInNvcnRlZExhc3RJbmRleE9mIiwic3RhcnRzV2l0aCIsInN1bSIsInN1bUJ5IiwidGVtcGxhdGUiLCJzZXR0aW5ncyIsImlzRXNjYXBpbmciLCJpc0V2YWx1YXRpbmciLCJpbXBvcnRzIiwiaW1wb3J0c0tleXMiLCJpbXBvcnRzVmFsdWVzIiwiaW50ZXJwb2xhdGUiLCJyZURlbGltaXRlcnMiLCJldmFsdWF0ZSIsInNvdXJjZVVSTCIsImVzY2FwZVZhbHVlIiwiaW50ZXJwb2xhdGVWYWx1ZSIsImVzVGVtcGxhdGVWYWx1ZSIsImV2YWx1YXRlVmFsdWUiLCJ2YXJpYWJsZSIsInRpbWVzIiwidG9Mb3dlciIsInRvU2FmZUludGVnZXIiLCJ0b1VwcGVyIiwidHJpbSIsInRyaW1FbmQiLCJ0cmltU3RhcnQiLCJ0cnVuY2F0ZSIsIm9taXNzaW9uIiwic2VhcmNoIiwibmV3RW5kIiwidW5lc2NhcGUiLCJ1bmlxdWVJZCIsImVhY2giLCJlYWNoUmlnaHQiLCJpc0ZpbHRlciIsInRha2VOYW1lIiwiZHJvcE5hbWUiLCJjaGVja0l0ZXJhdGVlIiwiaXNUYWtlciIsImxvZGFzaEZ1bmMiLCJyZXRVbndyYXBwZWQiLCJpc0xhenkiLCJ1c2VMYXp5IiwiaXNIeWJyaWQiLCJpc1Vud3JhcHBlZCIsIm9ubHlMYXp5IiwiY2hhaW5OYW1lIiwiZGlyIiwiaXNSaWdodCIsInZpZXciLCJnZXRWaWV3IiwiaXRlckxlbmd0aCIsInRha2VDb3VudCIsIml0ZXJJbmRleCIsImNvbW1pdCIsIndyYXBwZWQiLCJ0b0pTT04iLCJSZWdFeHBQYXJzZXIiLCJzYXZlU3RhdGUiLCJncm91cElkeCIsInJlc3RvcmVTdGF0ZSIsImNvbnN1bWVDaGFyIiwiZGlzanVuY3Rpb24iLCJiZWdpbiIsIm11bHRpTGluZSIsImlzUmVnRXhwRmxhZyIsInBvcENoYXIiLCJhZGRGbGFnIiwicGVla0NoYXIiLCJpc1Rlcm0iLCJpc0Fzc2VydGlvbiIsImFzc2VydGlvbiIsIkFTU0VSVF9FWElTVFMiLCJBU1NFUlRfTkVWRVJfUkVBQ0hfSEVSRSIsImlzQmFja3RyYWNraW5nIiwiYXRNb3N0IiwiaW50ZWdlckluY2x1ZGluZ1plcm8iLCJpc0RpZ2l0IiwiZ3JlZWR5IiwiZG90QWxsIiwiYXRvbUVzY2FwZSIsImNoYXJhY3RlckNsYXNzIiwiaXNQYXR0ZXJuQ2hhcmFjdGVyIiwicGF0dGVybkNoYXJhY3RlciIsImlzUXVhbnRpZmllciIsImNjIiwiZGVjaW1hbEVzY2FwZUF0b20iLCJjaGFyYWN0ZXJDbGFzc0VzY2FwZSIsImNvbnRyb2xFc2NhcGVBdG9tIiwiY29udHJvbExldHRlckVzY2FwZUF0b20iLCJudWxDaGFyYWN0ZXJBdG9tIiwiaGV4RXNjYXBlU2VxdWVuY2VBdG9tIiwicmVnRXhwVW5pY29kZUVzY2FwZVNlcXVlbmNlQXRvbSIsImlkZW50aXR5RXNjYXBlQXRvbSIsInBvc2l0aXZlSW50ZWdlciIsImRpZ2l0c0NoYXJDb2RlcyIsIndoaXRlc3BhY2VDb2RlcyIsIndvcmRDaGFyQ29kZXMiLCJlc2NhcGVDb2RlIiwibGV0dGVyIiwicGFyc2VIZXhEaWdpdHMiLCJjbGFzc1BhdHRlcm5DaGFyYWN0ZXJBdG9tIiwiaXNDbGFzc0F0b20iLCJjbGFzc0F0b20iLCJpc1JhbmdlRGFzaCIsImluc2VydFRvU2V0IiwiY2xhc3NFc2NhcGUiLCJjYXB0dXJpbmciLCJncm91cEFzdCIsImRlY2ltYWxQYXR0ZXJuTm9aZXJvIiwiZGVjaW1hbFBhdHRlcm4iLCJuZXh0Q2hhciIsImlzQXRvbSIsInByZXZTdGF0ZSIsImhvd01hbnkiLCJoZXhTdHJpbmciLCJoZXhDaGFyIiwiaGV4RGlnaXRQYXR0ZXJuIiwic3ViSXRlbSIsImZsYWdPYmoiLCJmbGFnS2V5IiwiQmFzZVJlZ0V4cFZpc2l0b3IiLCJjaGlsZCIsInN1YkNoaWxkIiwidmlzaXRQYXR0ZXJuIiwidmlzaXRGbGFncyIsInZpc2l0RGlzanVuY3Rpb24iLCJ2aXNpdFdvcmRCb3VuZGFyeSIsInZpc2l0Tm9uV29yZEJvdW5kYXJ5IiwidmlzaXRHcm91cCIsInZpc2l0R3JvdXBCYWNrUmVmZXJlbmNlIiwidmlzaXRRdWFudGlmaWVyIiwiZyIsIndpbmRvdyIsIndlYnBhY2tQb2x5ZmlsbCIsImRlcHJlY2F0ZSIsImFwaSIsImNvbnRlbnQiLCJkZWZhdWx0IiwibG9jYWxzIiwibWVtbyIsImlzT2xkSUUiLCJCb29sZWFuIiwiZG9jdW1lbnQiLCJhbGwiLCJhdG9iIiwiZ2V0VGFyZ2V0Iiwic3R5bGVUYXJnZXQiLCJxdWVyeVNlbGVjdG9yIiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJzdHlsZXNJbkRvbSIsImdldEluZGV4QnlJZGVudGlmaWVyIiwiaWRlbnRpZmllciIsIm1vZHVsZXNUb0RvbSIsImxpc3QiLCJpZENvdW50TWFwIiwiaWRlbnRpZmllcnMiLCJiYXNlIiwibWVkaWEiLCJzb3VyY2VNYXAiLCJyZWZlcmVuY2VzIiwiYWRkU3R5bGUiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJzdHlsZSIsImNyZWF0ZUVsZW1lbnQiLCJhdHRyaWJ1dGVzIiwibm9uY2UiLCJzZXRBdHRyaWJ1dGUiLCJpbnNlcnQiLCJhcHBlbmRDaGlsZCIsInRleHRTdG9yZSIsInJlcGxhY2VUZXh0IiwicmVwbGFjZW1lbnQiLCJhcHBseVRvU2luZ2xldG9uVGFnIiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJjc3NOb2RlIiwiY3JlYXRlVGV4dE5vZGUiLCJjaGlsZE5vZGVzIiwicmVtb3ZlQ2hpbGQiLCJpbnNlcnRCZWZvcmUiLCJhcHBseVRvVGFnIiwicmVtb3ZlQXR0cmlidXRlIiwiYnRvYSIsImVuY29kZVVSSUNvbXBvbmVudCIsImZpcnN0Q2hpbGQiLCJzaW5nbGV0b24iLCJzaW5nbGV0b25Db3VudGVyIiwic3R5bGVJbmRleCIsInBhcmVudE5vZGUiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJuZXdPYmoiLCJsYXN0SWRlbnRpZmllcnMiLCJuZXdMaXN0IiwibmV3TGFzdElkZW50aWZpZXJzIiwiX2luZGV4IiwiX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIiwidXNlU291cmNlTWFwIiwiY3NzTWFwcGluZyIsInNvdXJjZU1hcHBpbmciLCJiYXNlNjQiLCJzb3VyY2VVUkxzIiwic291cmNlUm9vdCIsImNzc1dpdGhNYXBwaW5nVG9TdHJpbmciLCJtZWRpYVF1ZXJ5IiwiZGVkdXBlIiwiYWxyZWFkeUltcG9ydGVkTW9kdWxlcyIsIldoaXRlU3BhY2UiLCJWYXIiLCJQcmludCIsIlByaW50bG4iLCJJZGVudGlmaWVyIiwiTGl0ZXJhbCIsIkludGVnZXIiLCJQYXJlbnRoZXNlc09wZW4iLCJQYXJlbnRoZXNlc0Nsb3NlIiwiQmxvY2tPcGVuIiwiQmxvY2tDbG9zZSIsIkNvbW1hIiwiU2VtaUNvbG9uIiwiRXF1YWxzIiwiQWRkaXRpb25PcCIsIk11bHRpcGxpY2F0aW9uT3AiLCJQbHVzIiwiTWludXMiLCJEaXYiLCJNdWx0Iiwidm9jYWJ1bGFyeSIsIm1qMUxleGVyIiwic3VwZXIiLCIkIiwiaWRlbnRMaXN0IiwiZGVjbGFyYXRpb24iLCJzdGF0ZW1lbnQiLCJhc3NpZ25tZW50IiwicHJpbnRTdGF0IiwiZXhwcmVzc2lvbiIsImFkZGl0aW9uRXhwcmVzc2lvbiIsIm11bHRpcGxpY2F0aW9uRXhwcmVzc2lvbiIsImZhY3RvciIsIml0ZW1MaXN0IiwicHJpbnRJdGVtIiwibWoxUGFyc2VyIiwiQmFzZUNzdFZpc2l0b3IiLCJtajFJbnRlcnByZXRlciIsImZyYW1lIiwib3V0cHV0IiwidmFycyIsImxocyIsInJocyIsInJoc09wZXJhbmQiLCJyaHNWYWx1ZSIsIml0ZW1zIiwiZG9QcmludCIsImRvUHJpbnRsbiIsInBpIiwiY29kZURpdiIsInJlc3VsdERpdiIsInRva2Vuc0RpdiIsImlubmVySFRNTCIsImNsYXNzTGlzdCIsImxleCIsInByb2dyYW0iLCJsZXhFcnJvcnMiLCJwYXJzZSIsInRvayIsImJvZHkiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFH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QUN0QixJQUFRLElBQU0sSUFBUSxJQUFLLElBQVEsSUFBSyxJQUFRLElBQUssSUFBUSxJQUFLLElBQVEsSUFDMUUsSUFBUSxJQUFNLElBQVEsSUFBSyxJQUFRLElBQUssSUFBUSxJQUFLLElBQVEsSUFBSyxJQUFRLElBQzFFLElBQVEsSUFBTSxJQUFRLElBQUssSUFBUSxJQUFLLElBQVEsSUFDaEQsSUFBUSxJQUFNLElBQVEsSUFBSyxJQUFRLElBQUssSUFBUSxJQUNoRCxJQUFRLElBQU0sSUFBUSxJQUFLLElBQVEsSUFDbkMsSUFBUSxLQUFNLElBQVEsS0FDdEIsSUFBUSxLQUFNLElBQVEsS0FDdEIsSUFBUSxLQUVSLElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUN6QyxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFDekMsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN4RCxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQ3hELElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFDeEQsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFDdkUsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFDdkUsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN4RCxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQ3hELElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFDeEQsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFDdkUsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFDdkUsSUFBVSxJQUFNLElBQVUsSUFDMUIsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQ3pDLElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQ3ZFLElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQ3ZFLElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFDeEQsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN4RCxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFDekMsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQ3pDLElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUN6QyxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFDekMsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN4RCxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQ3hELElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUN6QyxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFDekMsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQ3RGLElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN0RixJQUFVLElBQU0sSUFBVSxJQUMxQixJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFDekMsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQ3pDLElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUN6QyxJQUFVLEtBQU0sSUFBVSxLQUMxQixJQUFVLEtBQU0sSUFBVSxLQUMxQixJQUFVLEtBQU0sSUFBVSxNQXV0QnhCZ0IsR0FBaUJoQixHQW50QkgsQ0FDaEIsSUFBSyxRQUNMLElBQUssT0FDTCxJQUFLLE9BQ0wsSUFBSyxTQUNMLElBQUssVUF1dEJQLFNBQVNpQixHQUFpQkMsR0FDeEIsTUFBTyxLQUFPaEYsR0FBY2dGLEdBc0I5QixTQUFTQyxHQUFXQyxHQUNsQixPQUFPeEYsR0FBYTl1QyxLQUFLczBDLEdBc0MzQixTQUFTQyxHQUFXN21ELEdBQ2xCLElBQUk4VSxHQUFTLEVBQ1RsVixFQUFTTyxNQUFNSCxFQUFJOHhCLE1BS3ZCLE9BSEE5eEIsRUFBSVUsU0FBUSxTQUFTdkMsRUFBT00sR0FDMUJtQixJQUFTa1YsR0FBUyxDQUFDclcsRUFBS04sTUFFbkJ5QixFQVdULFNBQVNrbkQsR0FBUTNqRCxFQUFNNGpELEdBQ3JCLE9BQU8sU0FBU0MsR0FDZCxPQUFPN2pELEVBQUs0akQsRUFBVUMsS0FhMUIsU0FBU0MsR0FBZXZELEVBQU80QyxHQU03QixJQUxBLElBQUl4eEMsR0FBUyxFQUNUMVYsRUFBU3NrRCxFQUFNdGtELE9BQ2Y2a0QsRUFBVyxFQUNYcmtELEVBQVMsS0FFSmtWLEVBQVExVixHQUFRLENBQ3ZCLElBQUlqQixFQUFRdWxELEVBQU01dUMsR0FDZDNXLElBQVVtb0QsR0FBZW5vRCxJQUFVMjlDLElBQ3JDNEgsRUFBTTV1QyxHQUFTZ25DLEVBQ2ZsOEMsRUFBT3FrRCxLQUFjbnZDLEdBR3pCLE9BQU9sVixFQVVULFNBQVNzbkQsR0FBV3RnRCxHQUNsQixJQUFJa08sR0FBUyxFQUNUbFYsRUFBU08sTUFBTXlHLEVBQUlrckIsTUFLdkIsT0FIQWxyQixFQUFJbEcsU0FBUSxTQUFTdkMsR0FDbkJ5QixJQUFTa1YsR0FBUzNXLEtBRWJ5QixFQVVULFNBQVN1bkQsR0FBV3ZnRCxHQUNsQixJQUFJa08sR0FBUyxFQUNUbFYsRUFBU08sTUFBTXlHLEVBQUlrckIsTUFLdkIsT0FIQWxyQixFQUFJbEcsU0FBUSxTQUFTdkMsR0FDbkJ5QixJQUFTa1YsR0FBUyxDQUFDM1csRUFBT0EsTUFFckJ5QixFQW9EVCxTQUFTd25ELEdBQVdSLEdBQ2xCLE9BQU9ELEdBQVdDLEdBa0NwQixTQUFxQkEsR0FDbkIsSUFBSWhuRCxFQUFTc2hELEdBQVUzcUMsVUFBWSxFQUNuQyxLQUFPMnFDLEdBQVU1dUMsS0FBS3MwQyxNQUNsQmhuRCxFQUVKLE9BQU9BLEVBdENIeW5ELENBQVlULEdBQ1poQyxHQUFVZ0MsR0FVaEIsU0FBU1UsR0FBY1YsR0FDckIsT0FBT0QsR0FBV0MsR0FvQ3BCLFNBQXdCQSxHQUN0QixPQUFPQSxFQUFPcnJDLE1BQU0ybEMsS0FBYyxHQXBDOUJxRyxDQUFlWCxHQWhrQnJCLFNBQXNCQSxHQUNwQixPQUFPQSxFQUFPWSxNQUFNLElBZ2tCaEJDLENBQWFiLEdBVW5CLElBQUljLEdBQW1CbEMsR0EvNkJILENBQ2xCLFFBQVMsSUFDVCxPQUFRLElBQ1IsT0FBUSxJQUNSLFNBQVUsSUFDVixRQUFTLE1BZy9CWCxJQSt6ZUltQyxHQS96ZWUsU0FBVUMsRUFBYTlTLEdBSXhDLElBNkJNK1MsRUE3QkYxbkQsR0FISjIwQyxFQUFxQixNQUFYQSxFQUFrQm9OLEdBQU95RixHQUFFOWlELFNBQVNxOUMsR0FBS3RrRCxTQUFVazNDLEVBQVM2UyxHQUFFL2xELEtBQUtzZ0QsR0FBTVosTUFHL0RuaEQsTUFDaEJtSCxFQUFPd3RDLEVBQVF4dEMsS0FDZnhHLEdBQVFnMEMsRUFBUWgwQyxNQUNoQk0sR0FBVzB6QyxFQUFRMXpDLFNBQ25CeWMsR0FBT2kzQixFQUFRajNCLEtBQ2ZqZ0IsR0FBU2szQyxFQUFRbDNDLE9BQ2pCK0YsR0FBU214QyxFQUFRbnhDLE9BQ2pCaUgsR0FBU2txQyxFQUFRbHFDLE9BQ2pCazlDLEdBQVloVCxFQUFRZ1QsVUFHcEJDLEdBQWE1bkQsRUFBTXJCLFVBQ25Ca3BELEdBQVk1bUQsR0FBU3RDLFVBQ3JCbXBELEdBQWNycUQsR0FBT2tCLFVBR3JCb3BELEdBQWFwVCxFQUFRLHNCQUdyQnFULEdBQWVILEdBQVVoZ0QsU0FHekJqSixHQUFpQmtwRCxHQUFZbHBELGVBRzdCcXBELEdBQVksRUFHWkMsSUFDRVIsRUFBTSxTQUFTbjVDLEtBQUt3NUMsSUFBY0EsR0FBVzdvRCxNQUFRNm9ELEdBQVc3b0QsS0FBS2lwRCxVQUFZLEtBQ3ZFLGlCQUFtQlQsRUFBTyxHQVF0Q1UsR0FBdUJOLEdBQVlqZ0QsU0FHbkN3Z0QsR0FBbUJMLEdBQWE5cUQsS0FBS08sSUFHckM2cUQsR0FBVXZHLEdBQUt5RixFQUdmZSxHQUFhL2tELEdBQU8sSUFDdEJ3a0QsR0FBYTlxRCxLQUFLMEIsSUFBZ0I2UCxRQUFRMHZDLEVBQWMsUUFDdkQxdkMsUUFBUSx5REFBMEQsU0FBVyxLQUk1RSs1QyxHQUFTckcsR0FBZ0J4TixFQUFRNlQsWUEzNkNuQ3BvRCxFQTQ2Q0V0QyxHQUFTNjJDLEVBQVE3MkMsT0FDakIycUQsR0FBYTlULEVBQVE4VCxXQUNyQkMsR0FBY0YsR0FBU0EsR0FBT0UsaUJBOTZDaEN0b0QsRUErNkNFdW9ELEdBQWVoQyxHQUFRbHBELEdBQU9tckQsZUFBZ0JuckQsSUFDOUNvckQsR0FBZXByRCxHQUFPWSxPQUN0QnlxRCxHQUF1QmhCLEdBQVlnQixxQkFDbkNDLEdBQVNuQixHQUFXbUIsT0FDcEJDLEdBQW1CbHJELEdBQVNBLEdBQU9tckQsd0JBbjdDckM3b0QsRUFvN0NFOG9ELEdBQWNwckQsR0FBU0EsR0FBT3dFLGNBcDdDaENsQyxFQXE3Q0Urb0QsR0FBaUJyckQsR0FBU0EsR0FBT0MsaUJBcjdDbkNxQyxFQXU3Q0UxQyxHQUFrQixXQUNwQixJQUNFLElBQUlzRixFQUFPb21ELEdBQVUzckQsR0FBUSxrQkFFN0IsT0FEQXVGLEVBQUssR0FBSSxHQUFJLElBQ05BLEVBQ1AsTUFBT29ILEtBTFUsR0FTakJpL0MsR0FBa0IxVSxFQUFRMlUsZUFBaUJ2SCxHQUFLdUgsY0FBZ0IzVSxFQUFRMlUsYUFDeEVDLEdBQVNwaUQsR0FBUUEsRUFBS3FpRCxNQUFRekgsR0FBSzU2QyxLQUFLcWlELEtBQU9yaUQsRUFBS3FpRCxJQUNwREMsR0FBZ0I5VSxFQUFRK1UsYUFBZTNILEdBQUsySCxZQUFjL1UsRUFBUStVLFdBR2xFQyxHQUFhanNDLEdBQUtrc0MsS0FDbEJDLEdBQWNuc0MsR0FBS0MsTUFDbkJtc0MsR0FBbUJyc0QsR0FBT3NzRCxzQkFDMUJDLEdBQWlCeEIsR0FBU0EsR0FBT3lCLGNBeDhDbkM3cEQsRUF5OENFOHBELEdBQWlCdlYsRUFBUXdWLFNBQ3pCQyxHQUFheEMsR0FBV3AwQyxLQUN4QjYyQyxHQUFhMUQsR0FBUWxwRCxHQUFPeUIsS0FBTXpCLElBQ2xDNnNELEdBQVk1c0MsR0FBSzZzQyxJQUNqQkMsR0FBWTlzQyxHQUFLK3NDLElBQ2pCQyxHQUFZdmpELEVBQUtxaUQsSUFDakJtQixHQUFpQmhXLEVBQVFnTixTQUN6QmlKLEdBQWVsdEMsR0FBS210QyxPQUNwQkMsR0FBZ0JsRCxHQUFXcjZCLFFBRzNCdzlCLEdBQVczQixHQUFVelUsRUFBUyxZQUM5QjV1QyxHQUFNcWpELEdBQVV6VSxFQUFTLE9BQ3pCcVcsR0FBVTVCLEdBQVV6VSxFQUFTLFdBQzdCc1csR0FBTTdCLEdBQVV6VSxFQUFTLE9BQ3pCdVcsR0FBVTlCLEdBQVV6VSxFQUFTLFdBQzdCd1csR0FBZS9CLEdBQVUzckQsR0FBUSxVQUdqQzJ0RCxHQUFVRixJQUFXLElBQUlBLEdBR3pCRyxHQUFZLEdBR1pDLEdBQXFCQyxHQUFTUixJQUM5QlMsR0FBZ0JELEdBQVN4bEQsSUFDekIwbEQsR0FBb0JGLEdBQVNQLElBQzdCVSxHQUFnQkgsR0FBU04sSUFDekJVLEdBQW9CSixHQUFTTCxJQUc3QlUsR0FBYzl0RCxHQUFTQSxHQUFPYSxlQXorQ2hDeUIsRUEwK0NFeXJELEdBQWdCRCxHQUFjQSxHQUFZRSxhQTErQzVDMXJELEVBMitDRTJyRCxHQUFpQkgsR0FBY0EsR0FBWS9qRCxjQTMrQzdDekgsRUFvbURGLFNBQVM0ckQsR0FBT2h1RCxHQUNkLEdBQUlpdUQsR0FBYWp1RCxLQUFXaUMsR0FBUWpDLE1BQVlBLGFBQWlCa3VELElBQWMsQ0FDN0UsR0FBSWx1RCxhQUFpQm11RCxHQUNuQixPQUFPbnVELEVBRVQsR0FBSVksR0FBZTFCLEtBQUtjLEVBQU8sZUFDN0IsT0FBT291RCxHQUFhcHVELEdBR3hCLE9BQU8sSUFBSW11RCxHQUFjbnVELEdBVzNCLElBQUlxdUQsR0FBYyxXQUNoQixTQUFTNXRELEtBQ1QsT0FBTyxTQUFTNnRELEdBQ2QsSUFBSzVyRCxHQUFTNHJELEdBQ1osTUFBTyxHQUVULEdBQUl6RCxHQUNGLE9BQU9BLEdBQWF5RCxHQUV0Qjd0RCxFQUFPRSxVQUFZMnRELEVBQ25CLElBQUk3c0QsRUFBUyxJQUFJaEIsRUFFakIsT0FEQUEsRUFBT0UsZUFub0RUeUIsRUFvb0RTWCxHQVpNLEdBcUJqQixTQUFTOHNELE1BV1QsU0FBU0osR0FBY251RCxFQUFPd3VELEdBQzVCbmtELEtBQUtva0QsWUFBY3p1RCxFQUNuQnFLLEtBQUtxa0QsWUFBYyxHQUNuQnJrRCxLQUFLc2tELFlBQWNILEVBQ25CbmtELEtBQUt1a0QsVUFBWSxFQUNqQnZrRCxLQUFLd2tELGdCQTdwREx6c0QsRUE2dURGLFNBQVM4ckQsR0FBWWx1RCxHQUNuQnFLLEtBQUtva0QsWUFBY3p1RCxFQUNuQnFLLEtBQUtxa0QsWUFBYyxHQUNuQnJrRCxLQUFLeWtELFFBQVUsRUFDZnprRCxLQUFLMGtELGNBQWUsRUFDcEIxa0QsS0FBSzJrRCxjQUFnQixHQUNyQjNrRCxLQUFLNGtELGNBcnJEYyxXQXNyRG5CNWtELEtBQUs2a0QsVUFBWSxHQWdIbkIsU0FBU0MsR0FBS0MsR0FDWixJQUFJejRDLEdBQVMsRUFDVDFWLEVBQW9CLE1BQVhtdUQsRUFBa0IsRUFBSUEsRUFBUW51RCxPQUczQyxJQURBb0osS0FBS2dsRCxVQUNJMTRDLEVBQVExVixHQUFRLENBQ3ZCLElBQUlxdUQsRUFBUUYsRUFBUXo0QyxHQUNwQnRNLEtBQUs1QixJQUFJNm1ELEVBQU0sR0FBSUEsRUFBTSxLQWlHN0IsU0FBU0MsR0FBVUgsR0FDakIsSUFBSXo0QyxHQUFTLEVBQ1QxVixFQUFvQixNQUFYbXVELEVBQWtCLEVBQUlBLEVBQVFudUQsT0FHM0MsSUFEQW9KLEtBQUtnbEQsVUFDSTE0QyxFQUFRMVYsR0FBUSxDQUN2QixJQUFJcXVELEVBQVFGLEVBQVF6NEMsR0FDcEJ0TSxLQUFLNUIsSUFBSTZtRCxFQUFNLEdBQUlBLEVBQU0sS0E4RzdCLFNBQVNFLEdBQVNKLEdBQ2hCLElBQUl6NEMsR0FBUyxFQUNUMVYsRUFBb0IsTUFBWG11RCxFQUFrQixFQUFJQSxFQUFRbnVELE9BRzNDLElBREFvSixLQUFLZ2xELFVBQ0kxNEMsRUFBUTFWLEdBQVEsQ0FDdkIsSUFBSXF1RCxFQUFRRixFQUFRejRDLEdBQ3BCdE0sS0FBSzVCLElBQUk2bUQsRUFBTSxHQUFJQSxFQUFNLEtBaUc3QixTQUFTRyxHQUFTcnVELEdBQ2hCLElBQUl1VixHQUFTLEVBQ1QxVixFQUFtQixNQUFWRyxFQUFpQixFQUFJQSxFQUFPSCxPQUd6QyxJQURBb0osS0FBS3FsRCxTQUFXLElBQUlGLEtBQ1g3NEMsRUFBUTFWLEdBQ2ZvSixLQUFLc2xELElBQUl2dUQsRUFBT3VWLElBNkNwQixTQUFTaTVDLEdBQU1SLEdBQ2IsSUFBSVMsRUFBT3hsRCxLQUFLcWxELFNBQVcsSUFBSUgsR0FBVUgsR0FDekMva0QsS0FBS3NwQixLQUFPazhCLEVBQUtsOEIsS0FxR25CLFNBQVNtOEIsR0FBYzl2RCxFQUFPK3ZELEdBQzVCLElBQUl2ckQsRUFBUXZDLEdBQVFqQyxHQUNoQmd3RCxHQUFTeHJELEdBQVN5ckQsR0FBWWp3RCxHQUM5Qmt3RCxHQUFVMXJELElBQVV3ckQsR0FBUy9ELEdBQVNqc0QsR0FDdENtd0QsR0FBVTNyRCxJQUFVd3JELElBQVVFLEdBQVU5SyxHQUFhcGxELEdBQ3JEb3dELEVBQWM1ckQsR0FBU3dyRCxHQUFTRSxHQUFVQyxFQUMxQzF1RCxFQUFTMnVELEVBQWM1SSxHQUFVeG5ELEVBQU1pQixPQUFRd0wsSUFBVSxHQUN6RHhMLEVBQVNRLEVBQU9SLE9BRXBCLElBQUssSUFBSVgsS0FBT04sR0FDVCt2RCxJQUFhbnZELEdBQWUxQixLQUFLYyxFQUFPTSxJQUN2Qzh2RCxJQUVRLFVBQVA5dkQsR0FFQzR2RCxJQUFrQixVQUFQNXZELEdBQTBCLFVBQVBBLElBRTlCNnZELElBQWtCLFVBQVA3dkQsR0FBMEIsY0FBUEEsR0FBOEIsY0FBUEEsSUFFdEQrdkQsR0FBUS92RCxFQUFLVyxLQUVsQlEsRUFBT0gsS0FBS2hCLEdBR2hCLE9BQU9tQixFQVVULFNBQVM2dUQsR0FBWS9LLEdBQ25CLElBQUl0a0QsRUFBU3NrRCxFQUFNdGtELE9BQ25CLE9BQU9BLEVBQVNza0QsRUFBTWdMLEdBQVcsRUFBR3R2RCxFQUFTLFNBdjJFN0NtQixFQWszRUYsU0FBU291RCxHQUFnQmpMLEVBQU8va0QsR0FDOUIsT0FBT2l3RCxHQUFZQyxHQUFVbkwsR0FBUW9MLEdBQVVud0QsRUFBRyxFQUFHK2tELEVBQU10a0QsU0FVN0QsU0FBUzJ2RCxHQUFhckwsR0FDcEIsT0FBT2tMLEdBQVlDLEdBQVVuTCxJQVkvQixTQUFTc0wsR0FBaUJwd0QsRUFBUUgsRUFBS04sU0ExNEVyQ29DLElBMjRFS3BDLElBQXdCOHdELEdBQUdyd0QsRUFBT0gsR0FBTU4sU0EzNEU3Q29DLElBNDRFS3BDLEtBQXlCTSxLQUFPRyxLQUNuQ3N3RCxHQUFnQnR3RCxFQUFRSCxFQUFLTixHQWNqQyxTQUFTZ3hELEdBQVl2d0QsRUFBUUgsRUFBS04sR0FDaEMsSUFBSWl4RCxFQUFXeHdELEVBQU9ILEdBQ2hCTSxHQUFlMUIsS0FBS3VCLEVBQVFILElBQVF3d0QsR0FBR0csRUFBVWp4RCxVQTc1RXZEb0MsSUE4NUVLcEMsR0FBeUJNLEtBQU9HLElBQ25Dc3dELEdBQWdCdHdELEVBQVFILEVBQUtOLEdBWWpDLFNBQVNreEQsR0FBYTNMLEVBQU9qbEQsR0FFM0IsSUFEQSxJQUFJVyxFQUFTc2tELEVBQU10a0QsT0FDWkEsS0FDTCxHQUFJNnZELEdBQUd2TCxFQUFNdGtELEdBQVEsR0FBSVgsR0FDdkIsT0FBT1csRUFHWCxPQUFRLEVBY1YsU0FBU2t3RCxHQUFlM3VELEVBQVlnakQsRUFBUUMsRUFBVWhoRCxHQUlwRCxPQUhBMnNELEdBQVM1dUQsR0FBWSxTQUFTeEMsRUFBT00sRUFBS2tDLEdBQ3hDZ2pELEVBQU8vZ0QsRUFBYXpFLEVBQU95bEQsRUFBU3psRCxHQUFRd0MsTUFFdkNpQyxFQVlULFNBQVM0c0QsR0FBVzV3RCxFQUFRMlAsR0FDMUIsT0FBTzNQLEdBQVU2d0QsR0FBV2xoRCxFQUFRbFAsR0FBS2tQLEdBQVMzUCxHQXlCcEQsU0FBU3N3RCxHQUFnQnR3RCxFQUFRSCxFQUFLTixHQUN6QixhQUFQTSxHQUFzQlosR0FDeEJBLEdBQWVlLEVBQVFILEVBQUssQ0FDMUIsY0FBZ0IsRUFDaEIsWUFBYyxFQUNkLE1BQVNOLEVBQ1QsVUFBWSxJQUdkUyxFQUFPSCxHQUFPTixFQVlsQixTQUFTdXhELEdBQU85d0QsRUFBUSt3RCxHQU10QixJQUxBLElBQUk3NkMsR0FBUyxFQUNUMVYsRUFBU3V3RCxFQUFNdndELE9BQ2ZRLEVBQVNPLEVBQU1mLEdBQ2Z3d0QsRUFBaUIsTUFBVmh4RCxJQUVGa1csRUFBUTFWLEdBQ2ZRLEVBQU9rVixHQUFTODZDLE9BdGdGbEJydkQsRUFzZ0ZxQ3hDLEdBQUlhLEVBQVErd0QsRUFBTTc2QyxJQUV2RCxPQUFPbFYsRUFZVCxTQUFTa3ZELEdBQVVlLEVBQVFDLEVBQU9DLEdBU2hDLE9BUklGLEdBQVdBLFNBcmhGZnR2RCxJQXNoRk13dkQsSUFDRkYsRUFBU0EsR0FBVUUsRUFBUUYsRUFBU0UsUUF2aEZ4Q3h2RCxJQXloRk11dkQsSUFDRkQsRUFBU0EsR0FBVUMsRUFBUUQsRUFBU0MsSUFHakNELEVBbUJULFNBQVNHLEdBQVU3eEQsRUFBTzh4RCxFQUFTQyxFQUFZenhELEVBQUtHLEVBQVF1eEQsR0FDMUQsSUFBSXZ3RCxFQUNBd3dELEVBNWhGYyxFQTRoRkxILEVBQ1RJLEVBNWhGYyxFQTRoRkxKLEVBQ1RLLEVBNWhGaUIsRUE0aEZSTCxFQUtiLEdBSElDLElBQ0Z0d0QsRUFBU2hCLEVBQVNzeEQsRUFBVy94RCxFQUFPTSxFQUFLRyxFQUFRdXhELEdBQVNELEVBQVcveEQsU0F2akZ2RW9DLElBeWpGSVgsRUFDRixPQUFPQSxFQUVULElBQUtpQixHQUFTMUMsR0FDWixPQUFPQSxFQUVULElBQUl3RSxFQUFRdkMsR0FBUWpDLEdBQ3BCLEdBQUl3RSxHQUVGLEdBREEvQyxFQXU3R0osU0FBd0I4akQsR0FDdEIsSUFBSXRrRCxFQUFTc2tELEVBQU10a0QsT0FDZlEsRUFBUyxJQUFJOGpELEVBQU1qN0MsWUFBWXJKLEdBRy9CQSxHQUE2QixpQkFBWnNrRCxFQUFNLElBQWtCM2tELEdBQWUxQixLQUFLcW1ELEVBQU8sV0FDdEU5akQsRUFBT2tWLE1BQVE0dUMsRUFBTTV1QyxNQUNyQmxWLEVBQU8yd0QsTUFBUTdNLEVBQU02TSxPQUV2QixPQUFPM3dELEVBaDhHSTR3RCxDQUFlcnlELElBQ25CaXlELEVBQ0gsT0FBT3ZCLEdBQVUxd0QsRUFBT3lCLE9BRXJCLENBQ0wsSUFBSTZ3RCxFQUFNQyxHQUFPdnlELEdBQ2J3eUQsRUFBU0YsR0FBT3BVLEdBQVdvVSxHQUFPblUsRUFFdEMsR0FBSThOLEdBQVNqc0QsR0FDWCxPQUFPeXlELEdBQVl6eUQsRUFBT2l5RCxHQUU1QixHQUFJSyxHQUFPaFUsR0FBYWdVLEdBQU96VSxHQUFZMlUsSUFBVy94RCxHQUVwRCxHQURBZ0IsRUFBVXl3RCxHQUFVTSxFQUFVLEdBQUtFLEdBQWdCMXlELElBQzlDaXlELEVBQ0gsT0FBT0MsRUEybUVmLFNBQXVCOWhELEVBQVEzUCxHQUM3QixPQUFPNndELEdBQVdsaEQsRUFBUXVpRCxHQUFhdmlELEdBQVMzUCxHQTNtRXRDbXlELENBQWM1eUQsRUFuSDFCLFNBQXNCUyxFQUFRMlAsR0FDNUIsT0FBTzNQLEdBQVU2d0QsR0FBV2xoRCxFQUFReWlELEdBQU96aUQsR0FBUzNQLEdBa0hyQnF5RCxDQUFhcnhELEVBQVF6QixJQThsRXRELFNBQXFCb1EsRUFBUTNQLEdBQzNCLE9BQU82d0QsR0FBV2xoRCxFQUFRMmlELEdBQVczaUQsR0FBUzNQLEdBOWxFcEN1eUQsQ0FBWWh6RCxFQUFPcXhELEdBQVc1dkQsRUFBUXpCLFFBRXZDLENBQ0wsSUFBS3NqRCxHQUFjZ1AsR0FDakIsT0FBTzd4RCxFQUFTVCxFQUFRLEdBRTFCeUIsRUFzOEdOLFNBQXdCaEIsRUFBUTZ4RCxFQUFLTCxHQUNuQyxJQUFJZ0IsRUFBT3h5RCxFQUFPNkosWUFDbEIsT0FBUWdvRCxHQUNOLEtBQUsxVCxFQUNILE9BQU9zVSxHQUFpQnp5RCxHQUUxQixLQUFLczlDLEVBQ0wsS0FBS0MsRUFDSCxPQUFPLElBQUlpVixHQUFNeHlELEdBRW5CLEtBQUtvK0MsRUFDSCxPQTFuRE4sU0FBdUJzVSxFQUFVbEIsR0FDL0IsSUFBSW1CLEVBQVNuQixFQUFTaUIsR0FBaUJDLEVBQVNDLFFBQVVELEVBQVNDLE9BQ25FLE9BQU8sSUFBSUQsRUFBUzdvRCxZQUFZOG9ELEVBQVFELEVBQVNFLFdBQVlGLEVBQVNHLFlBd25EM0RDLENBQWM5eUQsRUFBUXd4RCxHQUUvQixLQUFLblQsRUFBWSxLQUFLQyxFQUN0QixLQUFLQyxFQUFTLEtBQUtDLEVBQVUsS0FBS0MsRUFDbEMsS0FBS0MsRUFBVSxJQTc3TEMsNkJBNjdMcUIsS0FBS0MsRUFBVyxLQUFLQyxFQUN4RCxPQUFPbVUsR0FBZ0IveUQsRUFBUXd4RCxHQUVqQyxLQUFLN1QsRUFDSCxPQUFPLElBQUk2VSxFQUViLEtBQUs1VSxFQUNMLEtBQUtJLEVBQ0gsT0FBTyxJQUFJd1UsRUFBS3h5RCxHQUVsQixLQUFLODlDLEVBQ0gsT0E3bkROLFNBQXFCa1YsR0FDbkIsSUFBSWh5RCxFQUFTLElBQUlneUQsRUFBT25wRCxZQUFZbXBELEVBQU9yakQsT0FBUTB3QyxHQUFRdndDLEtBQUtrakQsSUFFaEUsT0FEQWh5RCxFQUFPMlcsVUFBWXE3QyxFQUFPcjdDLFVBQ25CM1csRUEwbkRJaXlELENBQVlqekQsR0FFckIsS0FBSys5QyxFQUNILE9BQU8sSUFBSXlVLEVBRWIsS0FBS3ZVLEVBQ0gsT0F0bkRlaVYsRUFzbkRJbHpELEVBcm5EaEJvdEQsR0FBZ0JwdUQsR0FBT291RCxHQUFjM3VELEtBQUt5MEQsSUFBVyxHQUQ5RCxJQUFxQkEsRUFoM0ROQyxDQUFlNXpELEVBQU9zeUQsRUFBS0wsSUFJeENELElBQVVBLEVBQVEsSUFBSXBDLElBQ3RCLElBQUlpRSxFQUFVN0IsRUFBTXB5RCxJQUFJSSxHQUN4QixHQUFJNnpELEVBQ0YsT0FBT0EsRUFFVDdCLEVBQU12cEQsSUFBSXpJLEVBQU95QixHQUVieWpELEdBQU1sbEQsR0FDUkEsRUFBTXVDLFNBQVEsU0FBU3V4RCxHQUNyQnJ5RCxFQUFPa3VELElBQUlrQyxHQUFVaUMsRUFBVWhDLEVBQVNDLEVBQVkrQixFQUFVOXpELEVBQU9neUQsT0FFOURqTixHQUFNL2tELElBQ2ZBLEVBQU11QyxTQUFRLFNBQVN1eEQsRUFBVXh6RCxHQUMvQm1CLEVBQU9nSCxJQUFJbkksRUFBS3V4RCxHQUFVaUMsRUFBVWhDLEVBQVNDLEVBQVl6eEQsRUFBS04sRUFBT2d5RCxPQUl6RSxJQUlJckssRUFBUW5qRCxPQWhuRlpwQyxHQTRtRmUrdkQsRUFDVkQsRUFBUzZCLEdBQWVDLEdBQ3hCOUIsRUFBU1csR0FBUzN4RCxJQUVrQmxCLEdBU3pDLE9BUkEwbEQsR0FBVWlDLEdBQVMzbkQsR0FBTyxTQUFTOHpELEVBQVV4ekQsR0FDdkNxbkQsSUFFRm1NLEVBQVc5ekQsRUFEWE0sRUFBTXd6RCxJQUlSOUMsR0FBWXZ2RCxFQUFRbkIsRUFBS3V4RCxHQUFVaUMsRUFBVWhDLEVBQVNDLEVBQVl6eEQsRUFBS04sRUFBT2d5RCxPQUV6RXZ3RCxFQXlCVCxTQUFTd3lELEdBQWV4ekQsRUFBUTJQLEVBQVF1M0MsR0FDdEMsSUFBSTFtRCxFQUFTMG1ELEVBQU0xbUQsT0FDbkIsR0FBYyxNQUFWUixFQUNGLE9BQVFRLEVBR1YsSUFEQVIsRUFBU2hCLEdBQU9nQixHQUNUUSxLQUFVLENBQ2YsSUFBSVgsRUFBTXFuRCxFQUFNMW1ELEdBQ1pzQyxFQUFZNk0sRUFBTzlQLEdBQ25CTixFQUFRUyxFQUFPSCxHQUVuQixRQTdwRkY4QixJQTZwRk9wQyxLQUF5Qk0sS0FBT0csS0FBYThDLEVBQVV2RCxHQUMxRCxPQUFPLEVBR1gsT0FBTyxFQWFULFNBQVNrMEQsR0FBVWx2RCxFQUFNbXZELEVBQU0xeEMsR0FDN0IsR0FBbUIsbUJBQVJ6ZCxFQUNULE1BQU0sSUFBSTJrRCxHQUFVak0sR0FFdEIsT0FBT2dPLElBQVcsV0FBYTFtRCxFQUFLTSxXQWxyRnBDbEQsRUFrckZxRHFnQixLQUFVMHhDLEdBY2pFLFNBQVNDLEdBQWU3TyxFQUFPbmtELEVBQVFxa0QsRUFBVVMsR0FDL0MsSUFBSXZ2QyxHQUFTLEVBQ1QwOUMsRUFBV3RPLEdBQ1h1TyxHQUFXLEVBQ1hyekQsRUFBU3NrRCxFQUFNdGtELE9BQ2ZRLEVBQVMsR0FDVDh5RCxFQUFlbnpELEVBQU9ILE9BRTFCLElBQUtBLEVBQ0gsT0FBT1EsRUFFTGdrRCxJQUNGcmtELEVBQVMra0QsR0FBUy9rRCxFQUFRcW1ELEdBQVVoQyxLQUVsQ1MsR0FDRm1PLEVBQVdwTyxHQUNYcU8sR0FBVyxHQUVKbHpELEVBQU9ILFFBNXNGRyxNQTZzRmpCb3pELEVBQVd6TSxHQUNYME0sR0FBVyxFQUNYbHpELEVBQVMsSUFBSXF1RCxHQUFTcnVELElBRXhCb3pELEVBQ0EsT0FBUzc5QyxFQUFRMVYsR0FBUSxDQUN2QixJQUFJakIsRUFBUXVsRCxFQUFNNXVDLEdBQ2Q4OUMsRUFBdUIsTUFBWmhQLEVBQW1CemxELEVBQVF5bEQsRUFBU3psRCxHQUduRCxHQURBQSxFQUFTa21ELEdBQXdCLElBQVZsbUQsRUFBZUEsRUFBUSxFQUMxQ3MwRCxHQUFZRyxHQUFhQSxFQUFVLENBRXJDLElBREEsSUFBSUMsRUFBY0gsRUFDWEcsS0FDTCxHQUFJdHpELEVBQU9zekQsS0FBaUJELEVBQzFCLFNBQVNELEVBR2IveUQsRUFBT0gsS0FBS3RCLFFBRUpxMEQsRUFBU2p6RCxFQUFRcXpELEVBQVV2TyxJQUNuQ3prRCxFQUFPSCxLQUFLdEIsR0FHaEIsT0FBT3lCLEVBamtDVHVzRCxHQUFPMkcsaUJBQW1CLENBUXhCLE9BQVU5VSxFQVFWLFNBQVlDLEVBUVosWUFBZUMsRUFRZixTQUFZLEdBUVosUUFBVyxDQVFULEVBQUtpTyxLQUtUQSxHQUFPcnRELFVBQVk0dEQsR0FBVzV0RCxVQUM5QnF0RCxHQUFPcnRELFVBQVUySixZQUFjMGpELEdBRS9CRyxHQUFjeHRELFVBQVkwdEQsR0FBV0UsR0FBVzV0RCxXQUNoRHd0RCxHQUFjeHRELFVBQVUySixZQUFjNmpELEdBc0h0Q0QsR0FBWXZ0RCxVQUFZMHRELEdBQVdFLEdBQVc1dEQsV0FDOUN1dEQsR0FBWXZ0RCxVQUFVMkosWUFBYzRqRCxHQW9HcENpQixHQUFLeHVELFVBQVUwdUQsTUF2RWYsV0FDRWhsRCxLQUFLcWxELFNBQVd2QyxHQUFlQSxHQUFhLE1BQVEsR0FDcEQ5aUQsS0FBS3NwQixLQUFPLEdBc0VkdzdCLEdBQUt4dUQsVUFBa0IsT0F6RHZCLFNBQW9CTCxHQUNsQixJQUFJbUIsRUFBUzRJLEtBQUszRyxJQUFJcEQsV0FBZStKLEtBQUtxbEQsU0FBU3B2RCxHQUVuRCxPQURBK0osS0FBS3NwQixNQUFRbHlCLEVBQVMsRUFBSSxFQUNuQkEsR0F1RFQwdEQsR0FBS3h1RCxVQUFVZixJQTNDZixTQUFpQlUsR0FDZixJQUFJdXZELEVBQU94bEQsS0FBS3FsRCxTQUNoQixHQUFJdkMsR0FBYyxDQUNoQixJQUFJMXJELEVBQVNvdUQsRUFBS3Z2RCxHQUNsQixNQTM0RGUsOEJBMjREUm1CLE9BeDVEVFcsRUF3NURpRFgsRUFFakQsT0FBT2IsR0FBZTFCLEtBQUsyd0QsRUFBTXZ2RCxHQUFPdXZELEVBQUt2dkQsUUExNUQ3QzhCLEdBZzhERitzRCxHQUFLeHVELFVBQVUrQyxJQTFCZixTQUFpQnBELEdBQ2YsSUFBSXV2RCxFQUFPeGxELEtBQUtxbEQsU0FDaEIsT0FBT3ZDLFFBeDZEUC9xRCxJQXc2RHVCeXRELEVBQUt2dkQsR0FBc0JNLEdBQWUxQixLQUFLMndELEVBQU12dkQsSUF5QjlFNnVELEdBQUt4dUQsVUFBVThILElBWmYsU0FBaUJuSSxFQUFLTixHQUNwQixJQUFJNnZELEVBQU94bEQsS0FBS3FsRCxTQUdoQixPQUZBcmxELEtBQUtzcEIsTUFBUXRwQixLQUFLM0csSUFBSXBELEdBQU8sRUFBSSxFQUNqQ3V2RCxFQUFLdnZELEdBQVE2c0QsU0F4N0RiL3FELElBdzdENkJwQyxFQTM2RFosNEJBMjZEb0RBLEVBQzlEcUssTUF5SFRrbEQsR0FBVTV1RCxVQUFVMHVELE1BcEZwQixXQUNFaGxELEtBQUtxbEQsU0FBVyxHQUNoQnJsRCxLQUFLc3BCLEtBQU8sR0FtRmQ0N0IsR0FBVTV1RCxVQUFrQixPQXZFNUIsU0FBeUJMLEdBQ3ZCLElBQUl1dkQsRUFBT3hsRCxLQUFLcWxELFNBQ1ovNEMsRUFBUXU2QyxHQUFhckIsRUFBTXZ2RCxHQUUvQixRQUFJcVcsRUFBUSxLQUlSQSxHQURZazVDLEVBQUs1dUQsT0FBUyxFQUU1QjR1RCxFQUFLNTlDLE1BRUw4NEMsR0FBTzdyRCxLQUFLMndELEVBQU1sNUMsRUFBTyxLQUV6QnRNLEtBQUtzcEIsTUFDQSxJQTBEVDQ3QixHQUFVNXVELFVBQVVmLElBOUNwQixTQUFzQlUsR0FDcEIsSUFBSXV2RCxFQUFPeGxELEtBQUtxbEQsU0FDWi80QyxFQUFRdTZDLEdBQWFyQixFQUFNdnZELEdBRS9CLE9BQU9xVyxFQUFRLE9BMWdFZnZVLEVBMGdFK0J5dEQsRUFBS2w1QyxHQUFPLElBMkM3QzQ0QyxHQUFVNXVELFVBQVUrQyxJQS9CcEIsU0FBc0JwRCxHQUNwQixPQUFPNHdELEdBQWE3bUQsS0FBS3FsRCxTQUFVcHZELElBQVEsR0ErQjdDaXZELEdBQVU1dUQsVUFBVThILElBbEJwQixTQUFzQm5JLEVBQUtOLEdBQ3pCLElBQUk2dkQsRUFBT3hsRCxLQUFLcWxELFNBQ1ovNEMsRUFBUXU2QyxHQUFhckIsRUFBTXZ2RCxHQVEvQixPQU5JcVcsRUFBUSxLQUNSdE0sS0FBS3NwQixLQUNQazhCLEVBQUt2dUQsS0FBSyxDQUFDaEIsRUFBS04sS0FFaEI2dkQsRUFBS2w1QyxHQUFPLEdBQUszVyxFQUVacUssTUEyR1RtbEQsR0FBUzd1RCxVQUFVMHVELE1BdEVuQixXQUNFaGxELEtBQUtzcEIsS0FBTyxFQUNadHBCLEtBQUtxbEQsU0FBVyxDQUNkLEtBQVEsSUFBSVAsR0FDWixJQUFPLElBQUtwbkQsSUFBT3duRCxJQUNuQixPQUFVLElBQUlKLEtBa0VsQkssR0FBUzd1RCxVQUFrQixPQXJEM0IsU0FBd0JMLEdBQ3RCLElBQUltQixFQUFTbXpELEdBQVd2cUQsS0FBTS9KLEdBQWEsT0FBRUEsR0FFN0MsT0FEQStKLEtBQUtzcEIsTUFBUWx5QixFQUFTLEVBQUksRUFDbkJBLEdBbURUK3RELEdBQVM3dUQsVUFBVWYsSUF2Q25CLFNBQXFCVSxHQUNuQixPQUFPczBELEdBQVd2cUQsS0FBTS9KLEdBQUtWLElBQUlVLElBdUNuQ2t2RCxHQUFTN3VELFVBQVUrQyxJQTNCbkIsU0FBcUJwRCxHQUNuQixPQUFPczBELEdBQVd2cUQsS0FBTS9KLEdBQUtvRCxJQUFJcEQsSUEyQm5Da3ZELEdBQVM3dUQsVUFBVThILElBZG5CLFNBQXFCbkksRUFBS04sR0FDeEIsSUFBSTZ2RCxFQUFPK0UsR0FBV3ZxRCxLQUFNL0osR0FDeEJxekIsRUFBT2s4QixFQUFLbDhCLEtBSWhCLE9BRkFrOEIsRUFBS3BuRCxJQUFJbkksRUFBS04sR0FDZHFLLEtBQUtzcEIsTUFBUWs4QixFQUFLbDhCLE1BQVFBLEVBQU8sRUFBSSxFQUM5QnRwQixNQTJEVG9sRCxHQUFTOXVELFVBQVVndkQsSUFBTUYsR0FBUzl1RCxVQUFVVyxLQW5CNUMsU0FBcUJ0QixHQUVuQixPQURBcUssS0FBS3FsRCxTQUFTam5ELElBQUl6SSxFQWpyRUQsNkJBa3JFVnFLLE1Ba0JUb2xELEdBQVM5dUQsVUFBVStDLElBTm5CLFNBQXFCMUQsR0FDbkIsT0FBT3FLLEtBQUtxbEQsU0FBU2hzRCxJQUFJMUQsSUF1RzNCNHZELEdBQU1qdkQsVUFBVTB1RCxNQTNFaEIsV0FDRWhsRCxLQUFLcWxELFNBQVcsSUFBSUgsR0FDcEJsbEQsS0FBS3NwQixLQUFPLEdBMEVkaThCLEdBQU1qdkQsVUFBa0IsT0E5RHhCLFNBQXFCTCxHQUNuQixJQUFJdXZELEVBQU94bEQsS0FBS3FsRCxTQUNaanVELEVBQVNvdUQsRUFBYSxPQUFFdnZELEdBRzVCLE9BREErSixLQUFLc3BCLEtBQU9rOEIsRUFBS2w4QixLQUNWbHlCLEdBMERUbXVELEdBQU1qdkQsVUFBVWYsSUE5Q2hCLFNBQWtCVSxHQUNoQixPQUFPK0osS0FBS3FsRCxTQUFTOXZELElBQUlVLElBOEMzQnN2RCxHQUFNanZELFVBQVUrQyxJQWxDaEIsU0FBa0JwRCxHQUNoQixPQUFPK0osS0FBS3FsRCxTQUFTaHNELElBQUlwRCxJQWtDM0JzdkQsR0FBTWp2RCxVQUFVOEgsSUFyQmhCLFNBQWtCbkksRUFBS04sR0FDckIsSUFBSTZ2RCxFQUFPeGxELEtBQUtxbEQsU0FDaEIsR0FBSUcsYUFBZ0JOLEdBQVcsQ0FDN0IsSUFBSXNGLEVBQVFoRixFQUFLSCxTQUNqQixJQUFLM25ELElBQVE4c0QsRUFBTTV6RCxPQUFTNnpELElBRzFCLE9BRkFELEVBQU12ekQsS0FBSyxDQUFDaEIsRUFBS04sSUFDakJxSyxLQUFLc3BCLE9BQVNrOEIsRUFBS2w4QixLQUNadHBCLEtBRVR3bEQsRUFBT3hsRCxLQUFLcWxELFNBQVcsSUFBSUYsR0FBU3FGLEdBSXRDLE9BRkFoRixFQUFLcG5ELElBQUluSSxFQUFLTixHQUNkcUssS0FBS3NwQixLQUFPazhCLEVBQUtsOEIsS0FDVnRwQixNQXNjVCxJQUFJK21ELEdBQVcyRCxHQUFlQyxJQVUxQkMsR0FBZ0JGLEdBQWVHLElBQWlCLEdBV3BELFNBQVNDLEdBQVUzeUQsRUFBWWUsR0FDN0IsSUFBSTlCLEdBQVMsRUFLYixPQUpBMnZELEdBQVM1dUQsR0FBWSxTQUFTeEMsRUFBTzJXLEVBQU9uVSxHQUUxQyxPQURBZixJQUFXOEIsRUFBVXZELEVBQU8yVyxFQUFPblUsTUFHOUJmLEVBYVQsU0FBUzJ6RCxHQUFhN1AsRUFBT0UsRUFBVVMsR0FJckMsSUFIQSxJQUFJdnZDLEdBQVMsRUFDVDFWLEVBQVNza0QsRUFBTXRrRCxTQUVWMFYsRUFBUTFWLEdBQVEsQ0FDdkIsSUFBSWpCLEVBQVF1bEQsRUFBTTV1QyxHQUNkNHdDLEVBQVU5QixFQUFTemxELEdBRXZCLEdBQWUsTUFBWHVuRCxTQXJ5Rk5ubEQsSUFxeUYwQnF5RCxFQUNmbE4sR0FBWUEsSUFBWThOLEdBQVM5TixHQUNsQ3JCLEVBQVdxQixFQUFTa04sSUFFMUIsSUFBSUEsRUFBV2xOLEVBQ1g5bEQsRUFBU3pCLEVBR2pCLE9BQU95QixFQXVDVCxTQUFTNnpELEdBQVc5eUQsRUFBWWUsR0FDOUIsSUFBSTlCLEVBQVMsR0FNYixPQUxBMnZELEdBQVM1dUQsR0FBWSxTQUFTeEMsRUFBTzJXLEVBQU9uVSxHQUN0Q2UsRUFBVXZELEVBQU8yVyxFQUFPblUsSUFDMUJmLEVBQU9ILEtBQUt0QixNQUdUeUIsRUFjVCxTQUFTOHpELEdBQVloUSxFQUFPaVEsRUFBT2p5RCxFQUFXa3lELEVBQVVoMEQsR0FDdEQsSUFBSWtWLEdBQVMsRUFDVDFWLEVBQVNza0QsRUFBTXRrRCxPQUtuQixJQUhBc0MsSUFBY0EsRUFBWW15RCxJQUMxQmowRCxJQUFXQSxFQUFTLE1BRVhrVixFQUFRMVYsR0FBUSxDQUN2QixJQUFJakIsRUFBUXVsRCxFQUFNNXVDLEdBQ2Q2K0MsRUFBUSxHQUFLanlELEVBQVV2RCxHQUNyQncxRCxFQUFRLEVBRVZELEdBQVl2MUQsRUFBT3cxRCxFQUFRLEVBQUdqeUQsRUFBV2t5RCxFQUFVaDBELEdBRW5EMmtELEdBQVUza0QsRUFBUXpCLEdBRVZ5MUQsSUFDVmgwRCxFQUFPQSxFQUFPUixRQUFVakIsR0FHNUIsT0FBT3lCLEVBY1QsSUFBSWswRCxHQUFVQyxLQVlWQyxHQUFlRCxJQUFjLEdBVWpDLFNBQVNaLEdBQVd2MEQsRUFBUWdsRCxHQUMxQixPQUFPaGxELEdBQVVrMUQsR0FBUWwxRCxFQUFRZ2xELEVBQVV2a0QsSUFXN0MsU0FBU2cwRCxHQUFnQnowRCxFQUFRZ2xELEdBQy9CLE9BQU9obEQsR0FBVW8xRCxHQUFhcDFELEVBQVFnbEQsRUFBVXZrRCxJQVlsRCxTQUFTNDBELEdBQWNyMUQsRUFBUWtuRCxHQUM3QixPQUFPOUIsR0FBWThCLEdBQU8sU0FBU3JuRCxHQUNqQyxPQUFPMEMsR0FBV3ZDLEVBQU9ILE9BWTdCLFNBQVN5MUQsR0FBUXQxRCxFQUFRc1osR0FNdkIsSUFIQSxJQUFJcEQsRUFBUSxFQUNSMVYsR0FISjhZLEVBQU9pOEMsR0FBU2o4QyxFQUFNdFosSUFHSlEsT0FFRCxNQUFWUixHQUFrQmtXLEVBQVExVixHQUMvQlIsRUFBU0EsRUFBT3cxRCxHQUFNbDhDLEVBQUtwRCxPQUU3QixPQUFRQSxHQUFTQSxHQUFTMVYsRUFBVVIsT0FqOUZwQzJCLEVBKzlGRixTQUFTOHpELEdBQWV6MUQsRUFBUTAxRCxFQUFVQyxHQUN4QyxJQUFJMzBELEVBQVMwMEQsRUFBUzExRCxHQUN0QixPQUFPd0IsR0FBUXhCLEdBQVVnQixFQUFTMmtELEdBQVUza0QsRUFBUTIwRCxFQUFZMzFELElBVWxFLFNBQVM0MUQsR0FBV3IyRCxHQUNsQixPQUFhLE1BQVRBLE9BNStGSm9DLElBNitGU3BDLEVBMTRGTSxxQkFSTCxnQkFvNUZGbXJELElBQWtCQSxNQUFrQjFyRCxHQUFPTyxHQXEyRnJELFNBQW1CQSxHQUNqQixJQUFJczJELEVBQVExMUQsR0FBZTFCLEtBQUtjLEVBQU9tckQsSUFDbkNtSCxFQUFNdHlELEVBQU1tckQsSUFFaEIsSUFDRW5yRCxFQUFNbXJELFNBejFMUi9vRCxFQTAxTEUsSUFBSW0wRCxHQUFXLEVBQ2YsTUFBT25xRCxJQUVULElBQUkzSyxFQUFTMm9ELEdBQXFCbHJELEtBQUtjLEdBQ25DdTJELElBQ0VELEVBQ0Z0MkQsRUFBTW1yRCxJQUFrQm1ILFNBRWpCdHlELEVBQU1tckQsS0FHakIsT0FBTzFwRCxFQXIzRkgrMEQsQ0FBVXgyRCxHQXk0R2hCLFNBQXdCQSxHQUN0QixPQUFPb3FELEdBQXFCbHJELEtBQUtjLEdBejRHN0J5MkQsQ0FBZXoyRCxHQVlyQixTQUFTMDJELEdBQU8xMkQsRUFBTys2QixHQUNyQixPQUFPLzZCLEVBQVErNkIsRUFXakIsU0FBUzQ3QixHQUFRbDJELEVBQVFILEdBQ3ZCLE9BQWlCLE1BQVZHLEdBQWtCRyxHQUFlMUIsS0FBS3VCLEVBQVFILEdBV3ZELFNBQVNzMkQsR0FBVW4yRCxFQUFRSCxHQUN6QixPQUFpQixNQUFWRyxHQUFrQkgsS0FBT2IsR0FBT2dCLEdBMEJ6QyxTQUFTbzJELEdBQWlCQyxFQUFRclIsRUFBVVMsR0FTMUMsSUFSQSxJQUFJbU8sRUFBV25PLEVBQWFELEdBQW9CRixHQUM1QzlrRCxFQUFTNjFELEVBQU8sR0FBRzcxRCxPQUNuQjgxRCxFQUFZRCxFQUFPNzFELE9BQ25CKzFELEVBQVdELEVBQ1hFLEVBQVNqMUQsRUFBTSswRCxHQUNmdm1DLEVBQVl4VSxJQUNadmEsRUFBUyxHQUVOdTFELEtBQVksQ0FDakIsSUFBSXpSLEVBQVF1UixFQUFPRSxHQUNmQSxHQUFZdlIsSUFDZEYsRUFBUVksR0FBU1osRUFBT2tDLEdBQVVoQyxLQUVwQ2oxQixFQUFZZzhCLEdBQVVqSCxFQUFNdGtELE9BQVF1dkIsR0FDcEN5bUMsRUFBT0QsSUFBYTlRLElBQWVULEdBQWF4a0QsR0FBVSxLQUFPc2tELEVBQU10a0QsUUFBVSxLQUM3RSxJQUFJd3VELEdBQVN1SCxHQUFZelIsUUFoa0cvQm5qRCxFQW1rR0FtakQsRUFBUXVSLEVBQU8sR0FFZixJQUFJbmdELEdBQVMsRUFDVHVnRCxFQUFPRCxFQUFPLEdBRWxCekMsRUFDQSxPQUFTNzlDLEVBQVExVixHQUFVUSxFQUFPUixPQUFTdXZCLEdBQVcsQ0FDcEQsSUFBSXh3QixFQUFRdWxELEVBQU01dUMsR0FDZDg5QyxFQUFXaFAsRUFBV0EsRUFBU3psRCxHQUFTQSxFQUc1QyxHQURBQSxFQUFTa21ELEdBQXdCLElBQVZsbUQsRUFBZUEsRUFBUSxJQUN4Q2szRCxFQUNFdFAsR0FBU3NQLEVBQU16QyxHQUNmSixFQUFTNXlELEVBQVFnekQsRUFBVXZPLElBQzVCLENBRUwsSUFEQThRLEVBQVdELElBQ0ZDLEdBQVUsQ0FDakIsSUFBSW5QLEVBQVFvUCxFQUFPRCxHQUNuQixLQUFNblAsRUFDRUQsR0FBU0MsRUFBTzRNLEdBQ2hCSixFQUFTeUMsRUFBT0UsR0FBV3ZDLEVBQVV2TyxJQUUzQyxTQUFTc08sRUFHVDBDLEdBQ0ZBLEVBQUs1MUQsS0FBS216RCxHQUVaaHpELEVBQU9ILEtBQUt0QixJQUdoQixPQUFPeUIsRUErQlQsU0FBUzAxRCxHQUFXMTJELEVBQVFzWixFQUFNMEksR0FHaEMsSUFBSXpkLEVBQWlCLE9BRHJCdkUsRUFBUzIyRCxHQUFPMzJELEVBRGhCc1osRUFBT2k4QyxHQUFTajhDLEVBQU10WixLQUVNQSxFQUFTQSxFQUFPdzFELEdBQU01ekQsR0FBSzBYLEtBQ3ZELE9BQWUsTUFBUi9VLE9Bcm9HUDVDLEVBcW9Ha0NrRCxHQUFNTixFQUFNdkUsRUFBUWdpQixHQVV4RCxTQUFTNDBDLEdBQWdCcjNELEdBQ3ZCLE9BQU9pdUQsR0FBYWp1RCxJQUFVcTJELEdBQVdyMkQsSUFBVTY5QyxFQXVDckQsU0FBU3laLEdBQVl0M0QsRUFBTys2QixFQUFPKzJCLEVBQVNDLEVBQVlDLEdBQ3RELE9BQUloeUQsSUFBVSs2QixJQUdELE1BQVQvNkIsR0FBMEIsTUFBVCs2QixJQUFtQmt6QixHQUFhanVELEtBQVdpdUQsR0FBYWx6QixHQUNwRS82QixHQUFVQSxHQUFTKzZCLEdBQVVBLEVBbUJ4QyxTQUF5QnQ2QixFQUFRczZCLEVBQU8rMkIsRUFBU0MsRUFBWXdGLEVBQVd2RixHQUN0RSxJQUFJd0YsRUFBV3YxRCxHQUFReEIsR0FDbkJnM0QsRUFBV3gxRCxHQUFRODRCLEdBQ25CMjhCLEVBQVNGLEVBQVcxWixFQUFXeVUsR0FBTzl4RCxHQUN0Q2szRCxFQUFTRixFQUFXM1osRUFBV3lVLEdBQU94M0IsR0FLdEM2OEIsR0FISkYsRUFBU0EsR0FBVTdaLEVBQVVTLEVBQVlvWixJQUdoQnBaLEVBQ3JCdVosR0FISkYsRUFBU0EsR0FBVTlaLEVBQVVTLEVBQVlxWixJQUdoQnJaLEVBQ3JCd1osRUFBWUosR0FBVUMsRUFFMUIsR0FBSUcsR0FBYTdMLEdBQVN4ckQsR0FBUyxDQUNqQyxJQUFLd3JELEdBQVNseEIsR0FDWixPQUFPLEVBRVR5OEIsR0FBVyxFQUNYSSxHQUFXLEVBRWIsR0FBSUUsSUFBY0YsRUFFaEIsT0FEQTVGLElBQVVBLEVBQVEsSUFBSXBDLElBQ2Q0SCxHQUFZcFMsR0FBYTNrRCxHQUM3QnMzRCxHQUFZdDNELEVBQVFzNkIsRUFBTysyQixFQUFTQyxFQUFZd0YsRUFBV3ZGLEdBeTBFbkUsU0FBb0J2eEQsRUFBUXM2QixFQUFPdTNCLEVBQUtSLEVBQVNDLEVBQVl3RixFQUFXdkYsR0FDdEUsT0FBUU0sR0FDTixLQUFLelQsRUFDSCxHQUFLcCtDLEVBQU82eUQsWUFBY3Y0QixFQUFNdTRCLFlBQzNCN3lELEVBQU80eUQsWUFBY3Q0QixFQUFNczRCLFdBQzlCLE9BQU8sRUFFVDV5RCxFQUFTQSxFQUFPMnlELE9BQ2hCcjRCLEVBQVFBLEVBQU1xNEIsT0FFaEIsS0FBS3hVLEVBQ0gsUUFBS24rQyxFQUFPNnlELFlBQWN2NEIsRUFBTXU0QixhQUMzQmlFLEVBQVUsSUFBSTlNLEdBQVdocUQsR0FBUyxJQUFJZ3FELEdBQVcxdkIsS0FLeEQsS0FBS2dqQixFQUNMLEtBQUtDLEVBQ0wsS0FBS0ssRUFHSCxPQUFPeVMsSUFBSXJ3RCxHQUFTczZCLEdBRXRCLEtBQUtrakIsRUFDSCxPQUFPeDlDLEVBQU9uQixNQUFReTdCLEVBQU16N0IsTUFBUW1CLEVBQU80TCxTQUFXMHVCLEVBQU0xdUIsUUFFOUQsS0FBS2t5QyxFQUNMLEtBQUtFLEVBSUgsT0FBT2grQyxHQUFXczZCLEVBQVEsR0FFNUIsS0FBS3FqQixFQUNILElBQUk0WixFQUFVdFAsR0FFaEIsS0FBS2xLLEVBQ0gsSUFBSXlaLEVBMWpMZSxFQTBqTEhuRyxFQUdoQixHQUZBa0csSUFBWUEsRUFBVWpQLElBRWxCdG9ELEVBQU9rekIsTUFBUW9ILEVBQU1wSCxPQUFTc2tDLEVBQ2hDLE9BQU8sRUFHVCxJQUFJcEUsRUFBVTdCLEVBQU1weUQsSUFBSWEsR0FDeEIsR0FBSW96RCxFQUNGLE9BQU9BLEdBQVc5NEIsRUFFcEIrMkIsR0Fwa0xxQixFQXVrTHJCRSxFQUFNdnBELElBQUloSSxFQUFRczZCLEdBQ2xCLElBQUl0NUIsRUFBU3MyRCxHQUFZQyxFQUFRdjNELEdBQVN1M0QsRUFBUWo5QixHQUFRKzJCLEVBQVNDLEVBQVl3RixFQUFXdkYsR0FFMUYsT0FEQUEsRUFBYyxPQUFFdnhELEdBQ1RnQixFQUVULEtBQUtpOUMsRUFDSCxHQUFJbVAsR0FDRixPQUFPQSxHQUFjM3VELEtBQUt1QixJQUFXb3RELEdBQWMzdUQsS0FBSzY3QixHQUc5RCxPQUFPLEVBdDRFRG05QixDQUFXejNELEVBQVFzNkIsRUFBTzI4QixFQUFRNUYsRUFBU0MsRUFBWXdGLEVBQVd2RixHQUV4RSxLQTlzR3VCLEVBOHNHakJGLEdBQWlDLENBQ3JDLElBQUlxRyxFQUFlUCxHQUFZaDNELEdBQWUxQixLQUFLdUIsRUFBUSxlQUN2RDIzRCxFQUFlUCxHQUFZajNELEdBQWUxQixLQUFLNjdCLEVBQU8sZUFFMUQsR0FBSW85QixHQUFnQkMsRUFBYyxDQUNoQyxJQUFJQyxFQUFlRixFQUFlMTNELEVBQU9ULFFBQVVTLEVBQy9DNjNELEVBQWVGLEVBQWVyOUIsRUFBTS82QixRQUFVKzZCLEVBR2xELE9BREFpM0IsSUFBVUEsRUFBUSxJQUFJcEMsSUFDZjJILEVBQVVjLEVBQWNDLEVBQWN4RyxFQUFTQyxFQUFZQyxJQUd0RSxJQUFLOEYsRUFDSCxPQUFPLEVBR1QsT0FEQTlGLElBQVVBLEVBQVEsSUFBSXBDLElBcTRFeEIsU0FBc0JudkQsRUFBUXM2QixFQUFPKzJCLEVBQVNDLEVBQVl3RixFQUFXdkYsR0FDbkUsSUFBSWlHLEVBbm1MbUIsRUFtbUxQbkcsRUFDWnlHLEVBQVd2RSxHQUFXdnpELEdBQ3RCKzNELEVBQVlELEVBQVN0M0QsT0FFckI4MUQsRUFEVy9DLEdBQVdqNUIsR0FDRDk1QixPQUV6QixHQUFJdTNELEdBQWF6QixJQUFja0IsRUFDN0IsT0FBTyxFQUVULElBQUl0aEQsRUFBUTZoRCxFQUNaLEtBQU83aEQsS0FBUyxDQUNkLElBQUlyVyxFQUFNaTRELEVBQVM1aEQsR0FDbkIsS0FBTXNoRCxFQUFZMzNELEtBQU95NkIsRUFBUW42QixHQUFlMUIsS0FBSzY3QixFQUFPejZCLElBQzFELE9BQU8sRUFJWCxJQUFJdXpELEVBQVU3QixFQUFNcHlELElBQUlhLEdBQ3hCLEdBQUlvekQsR0FBVzdCLEVBQU1weUQsSUFBSW03QixHQUN2QixPQUFPODRCLEdBQVc5NEIsRUFFcEIsSUFBSXQ1QixHQUFTLEVBQ2J1d0QsRUFBTXZwRCxJQUFJaEksRUFBUXM2QixHQUNsQmkzQixFQUFNdnBELElBQUlzeUIsRUFBT3Q2QixHQUVqQixJQUFJZzRELEVBQVdSLEVBQ2YsT0FBU3RoRCxFQUFRNmhELEdBQVcsQ0FDMUJsNEQsRUFBTWk0RCxFQUFTNWhELEdBQ2YsSUFBSXM2QyxFQUFXeHdELEVBQU9ILEdBQ2xCbzRELEVBQVczOUIsRUFBTXo2QixHQUVyQixHQUFJeXhELEVBQ0YsSUFBSTRHLEVBQVdWLEVBQ1hsRyxFQUFXMkcsRUFBVXpILEVBQVUzd0QsRUFBS3k2QixFQUFPdDZCLEVBQVF1eEQsR0FDbkRELEVBQVdkLEVBQVV5SCxFQUFVcDRELEVBQUtHLEVBQVFzNkIsRUFBT2kzQixHQUd6RCxVQW5xTEY1dkQsSUFtcUxRdTJELEVBQ0cxSCxJQUFheUgsR0FBWW5CLEVBQVV0RyxFQUFVeUgsRUFBVTVHLEVBQVNDLEVBQVlDLEdBQzdFMkcsR0FDRCxDQUNMbDNELEdBQVMsRUFDVCxNQUVGZzNELElBQWFBLEVBQWtCLGVBQVBuNEQsR0FFMUIsR0FBSW1CLElBQVdnM0QsRUFBVSxDQUN2QixJQUFJRyxFQUFVbjRELEVBQU82SixZQUNqQnV1RCxFQUFVOTlCLEVBQU16d0IsWUFHaEJzdUQsR0FBV0MsS0FDVixnQkFBaUJwNEQsTUFBVSxnQkFBaUJzNkIsSUFDekIsbUJBQVg2OUIsR0FBeUJBLGFBQW1CQSxHQUNqQyxtQkFBWEMsR0FBeUJBLGFBQW1CQSxJQUN2RHAzRCxHQUFTLEdBS2IsT0FGQXV3RCxFQUFjLE9BQUV2eEQsR0FDaEJ1eEQsRUFBYyxPQUFFajNCLEdBQ1R0NUIsRUFqOEVBcTNELENBQWFyNEQsRUFBUXM2QixFQUFPKzJCLEVBQVNDLEVBQVl3RixFQUFXdkYsR0EzRDVEK0csQ0FBZ0IvNEQsRUFBTys2QixFQUFPKzJCLEVBQVNDLEVBQVl1RixHQUFhdEYsSUFtRnpFLFNBQVNnSCxHQUFZdjRELEVBQVEyUCxFQUFRNm9ELEVBQVdsSCxHQUM5QyxJQUFJcDdDLEVBQVFzaUQsRUFBVWg0RCxPQUNsQkEsRUFBUzBWLEVBQ1R1aUQsR0FBZ0JuSCxFQUVwQixHQUFjLE1BQVZ0eEQsRUFDRixPQUFRUSxFQUdWLElBREFSLEVBQVNoQixHQUFPZ0IsR0FDVGtXLEtBQVMsQ0FDZCxJQUFJazVDLEVBQU9vSixFQUFVdGlELEdBQ3JCLEdBQUt1aUQsR0FBZ0JySixFQUFLLEdBQ2xCQSxFQUFLLEtBQU9wdkQsRUFBT292RCxFQUFLLE1BQ3RCQSxFQUFLLEtBQU1wdkQsR0FFbkIsT0FBTyxFQUdYLE9BQVNrVyxFQUFRMVYsR0FBUSxDQUV2QixJQUFJWCxHQURKdXZELEVBQU9vSixFQUFVdGlELElBQ0YsR0FDWHM2QyxFQUFXeHdELEVBQU9ILEdBQ2xCNjRELEVBQVd0SixFQUFLLEdBRXBCLEdBQUlxSixHQUFnQnJKLEVBQUssSUFDdkIsUUExeUdKenRELElBMHlHUTZ1RCxLQUE0QjN3RCxLQUFPRyxHQUNyQyxPQUFPLE1BRUosQ0FDTCxJQUFJdXhELEVBQVEsSUFBSXBDLEdBQ2hCLEdBQUltQyxFQUNGLElBQUl0d0QsRUFBU3N3RCxFQUFXZCxFQUFVa0ksRUFBVTc0RCxFQUFLRyxFQUFRMlAsRUFBUTRoRCxHQUVuRSxVQWx6R0o1dkQsSUFrekdVWCxFQUNFNjFELEdBQVk2QixFQUFVbEksRUFBVW1JLEVBQStDckgsRUFBWUMsR0FDM0Z2d0QsR0FFTixPQUFPLEdBSWIsT0FBTyxFQVdULFNBQVM0M0QsR0FBYXI1RCxHQUNwQixTQUFLMEMsR0FBUzFDLEtBbzRGRWdGLEVBcDRGaUJoRixFQXE0RnhCa3FELElBQWVBLE1BQWNsbEQsTUFsNEZ4QmhDLEdBQVdoRCxHQUFTdXFELEdBQWF0SixJQUNoQzlzQyxLQUFLbzVDLEdBQVN2dEQsSUFnNEYvQixJQUFrQmdGLEVBcDFGbEIsU0FBU3MwRCxHQUFhdDVELEdBR3BCLE1BQW9CLG1CQUFUQSxFQUNGQSxFQUVJLE1BQVRBLEVBQ0s0RSxHQUVXLGlCQUFUNUUsRUFDRmlDLEdBQVFqQyxHQUNYdTVELEdBQW9CdjVELEVBQU0sR0FBSUEsRUFBTSxJQUNwQ3c1RCxHQUFZeDVELEdBRVhVLEdBQVNWLEdBVWxCLFNBQVN5NUQsR0FBU2g1RCxHQUNoQixJQUFLaTVELEdBQVlqNUQsR0FDZixPQUFPNHJELEdBQVc1ckQsR0FFcEIsSUFBSWdCLEVBQVMsR0FDYixJQUFLLElBQUluQixLQUFPYixHQUFPZ0IsR0FDakJHLEdBQWUxQixLQUFLdUIsRUFBUUgsSUFBZSxlQUFQQSxHQUN0Q21CLEVBQU9ILEtBQUtoQixHQUdoQixPQUFPbUIsRUFVVCxTQUFTazRELEdBQVdsNUQsR0FDbEIsSUFBS2lDLEdBQVNqQyxHQUNaLE9BbzhGSixTQUFzQkEsR0FDcEIsSUFBSWdCLEVBQVMsR0FDYixHQUFjLE1BQVZoQixFQUNGLElBQUssSUFBSUgsS0FBT2IsR0FBT2dCLEdBQ3JCZ0IsRUFBT0gsS0FBS2hCLEdBR2hCLE9BQU9tQixFQTM4RkVtNEQsQ0FBYW41RCxHQUV0QixJQUFJbzVELEVBQVVILEdBQVlqNUQsR0FDdEJnQixFQUFTLEdBRWIsSUFBSyxJQUFJbkIsS0FBT0csR0FDRCxlQUFQSCxJQUF5QnU1RCxHQUFZajVELEdBQWUxQixLQUFLdUIsRUFBUUgsS0FDckVtQixFQUFPSCxLQUFLaEIsR0FHaEIsT0FBT21CLEVBWVQsU0FBU3E0RCxHQUFPOTVELEVBQU8rNkIsR0FDckIsT0FBTy82QixFQUFRKzZCLEVBV2pCLFNBQVNnL0IsR0FBUXYzRCxFQUFZaWpELEdBQzNCLElBQUk5dUMsR0FBUyxFQUNUbFYsRUFBU3U0RCxHQUFZeDNELEdBQWNSLEVBQU1RLEVBQVd2QixRQUFVLEdBS2xFLE9BSEFtd0QsR0FBUzV1RCxHQUFZLFNBQVN4QyxFQUFPTSxFQUFLa0MsR0FDeENmLElBQVNrVixHQUFTOHVDLEVBQVN6bEQsRUFBT00sRUFBS2tDLE1BRWxDZixFQVVULFNBQVMrM0QsR0FBWXBwRCxHQUNuQixJQUFJNm9ELEVBQVlnQixHQUFhN3BELEdBQzdCLE9BQXdCLEdBQXBCNm9ELEVBQVVoNEQsUUFBZWc0RCxFQUFVLEdBQUcsR0FDakNpQixHQUF3QmpCLEVBQVUsR0FBRyxHQUFJQSxFQUFVLEdBQUcsSUFFeEQsU0FBU3g0RCxHQUNkLE9BQU9BLElBQVcyUCxHQUFVNG9ELEdBQVl2NEQsRUFBUTJQLEVBQVE2b0QsSUFZNUQsU0FBU00sR0FBb0J4L0MsRUFBTW8vQyxHQUNqQyxPQUFJZ0IsR0FBTXBnRCxJQUFTcWdELEdBQW1CakIsR0FDN0JlLEdBQXdCakUsR0FBTWw4QyxHQUFPby9DLEdBRXZDLFNBQVMxNEQsR0FDZCxJQUFJd3dELEVBQVdyeEQsR0FBSWEsRUFBUXNaLEdBQzNCLFlBLytHRjNYLElBKytHVTZ1RCxHQUEwQkEsSUFBYWtJLEVBQzNDa0IsR0FBTTU1RCxFQUFRc1osR0FDZHU5QyxHQUFZNkIsRUFBVWxJLEVBQVVtSSxJQWV4QyxTQUFTa0IsR0FBVTc1RCxFQUFRMlAsRUFBUW1xRCxFQUFVeEksRUFBWUMsR0FDbkR2eEQsSUFBVzJQLEdBR2Z1bEQsR0FBUXZsRCxHQUFRLFNBQVMrb0QsRUFBVTc0RCxHQUVqQyxHQURBMHhELElBQVVBLEVBQVEsSUFBSXBDLElBQ2xCbHRELEdBQVN5MkQsSUErQmpCLFNBQXVCMTRELEVBQVEyUCxFQUFROVAsRUFBS2k2RCxFQUFVQyxFQUFXekksRUFBWUMsR0FDM0UsSUFBSWYsRUFBV3dKLEdBQVFoNkQsRUFBUUgsR0FDM0I2NEQsRUFBV3NCLEdBQVFycUQsRUFBUTlQLEdBQzNCdXpELEVBQVU3QixFQUFNcHlELElBQUl1NUQsR0FFeEIsR0FBSXRGLEVBRUYsWUFEQWhELEdBQWlCcHdELEVBQVFILEVBQUt1ekQsR0FHaEMsSUFBSTZHLEVBQVczSSxFQUNYQSxFQUFXZCxFQUFVa0ksRUFBVzc0RCxFQUFNLEdBQUtHLEVBQVEyUCxFQUFRNGhELFFBL2lIL0Q1dkQsRUFrakhJa3lELE9BbGpISmx5RCxJQWtqSGVzNEQsRUFFZixHQUFJcEcsRUFBVSxDQUNaLElBQUk5dkQsRUFBUXZDLEdBQVFrM0QsR0FDaEJqSixHQUFVMXJELEdBQVN5bkQsR0FBU2tOLEdBQzVCd0IsR0FBV24yRCxJQUFVMHJELEdBQVU5SyxHQUFhK1QsR0FFaER1QixFQUFXdkIsRUFDUDMwRCxHQUFTMHJELEdBQVV5SyxFQUNqQjE0RCxHQUFRZ3ZELEdBQ1Z5SixFQUFXekosRUFFSjJKLEdBQWtCM0osR0FDekJ5SixFQUFXaEssR0FBVU8sR0FFZGYsR0FDUG9FLEdBQVcsRUFDWG9HLEVBQVdqSSxHQUFZMEcsR0FBVSxJQUUxQndCLEdBQ1ByRyxHQUFXLEVBQ1hvRyxFQUFXbEgsR0FBZ0IyRixHQUFVLElBR3JDdUIsRUFBVyxHQUdORyxHQUFjMUIsSUFBYWxKLEdBQVlrSixJQUM5Q3VCLEVBQVd6SixFQUNQaEIsR0FBWWdCLEdBQ2R5SixFQUFXSSxHQUFjN0osR0FFakJ2dUQsR0FBU3V1RCxLQUFhanVELEdBQVdpdUQsS0FDekN5SixFQUFXaEksR0FBZ0J5RyxLQUk3QjdFLEdBQVcsRUFHWEEsSUFFRnRDLEVBQU12cEQsSUFBSTB3RCxFQUFVdUIsR0FDcEJGLEVBQVVFLEVBQVV2QixFQUFVb0IsRUFBVXhJLEVBQVlDLEdBQ3BEQSxFQUFjLE9BQUVtSCxJQUVsQnRJLEdBQWlCcHdELEVBQVFILEVBQUtvNkQsR0F6RjFCSyxDQUFjdDZELEVBQVEyUCxFQUFROVAsRUFBS2k2RCxFQUFVRCxHQUFXdkksRUFBWUMsT0FFakUsQ0FDSCxJQUFJMEksRUFBVzNJLEVBQ1hBLEVBQVcwSSxHQUFRaDZELEVBQVFILEdBQU02NEQsRUFBVzc0RCxFQUFNLEdBQUtHLEVBQVEyUCxFQUFRNGhELFFBM2dIL0U1dkQsV0E4Z0hRczRELElBQ0ZBLEVBQVd2QixHQUVidEksR0FBaUJwd0QsRUFBUUgsRUFBS282RCxNQUUvQjdILElBd0ZMLFNBQVNtSSxHQUFRelYsRUFBTy9rRCxHQUN0QixJQUFJUyxFQUFTc2tELEVBQU10a0QsT0FDbkIsR0FBS0EsRUFJTCxPQUFPb3ZELEdBRFA3dkQsR0FBS0EsRUFBSSxFQUFJUyxFQUFTLEVBQ0pBLEdBQVVza0QsRUFBTS9rRCxRQWpuSGxDNEIsRUE2bkhGLFNBQVM2NEQsR0FBWXo0RCxFQUFZMDRELEVBQVdDLEdBQzFDLElBQUl4a0QsR0FBUyxFQVViLE9BVEF1a0QsRUFBWS9VLEdBQVMrVSxFQUFVajZELE9BQVNpNkQsRUFBWSxDQUFDdDJELElBQVc2aUQsR0FBVTJULE9BMXVGOUUsU0FBb0I3VixFQUFPOFYsR0FDekIsSUFBSXA2RCxFQUFTc2tELEVBQU10a0QsT0FHbkIsSUFEQXNrRCxFQUFNeC9DLEtBQUtzMUQsR0FDSnA2RCxLQUNMc2tELEVBQU10a0QsR0FBVXNrRCxFQUFNdGtELEdBQVFqQixNQUVoQyxPQUFPdWxELEVBNHVGRStWLENBUE12QixHQUFRdjNELEdBQVksU0FBU3hDLEVBQU9NLEVBQUtrQyxHQUlwRCxNQUFPLENBQUUsU0FITTJqRCxHQUFTK1UsR0FBVyxTQUFTelYsR0FDMUMsT0FBT0EsRUFBU3psRCxNQUVhLFFBQVcyVyxFQUFPLE1BQVMzVyxPQUdsQyxTQUFTUyxFQUFRczZCLEdBQ3pDLE9BbTRCSixTQUF5QnQ2QixFQUFRczZCLEVBQU9vZ0MsR0FDdEMsSUFBSXhrRCxHQUFTLEVBQ1Q0a0QsRUFBYzk2RCxFQUFPKzZELFNBQ3JCQyxFQUFjMWdDLEVBQU15Z0MsU0FDcEJ2NkQsRUFBU3M2RCxFQUFZdDZELE9BQ3JCeTZELEVBQWVQLEVBQU9sNkQsT0FFMUIsT0FBUzBWLEVBQVExVixHQUFRLENBQ3ZCLElBQUlRLEVBQVNrNkQsR0FBaUJKLEVBQVk1a0QsR0FBUThrRCxFQUFZOWtELElBQzlELEdBQUlsVixFQUFRLENBQ1YsR0FBSWtWLEdBQVMra0QsRUFDWCxPQUFPajZELEVBRVQsSUFBSW02RCxFQUFRVCxFQUFPeGtELEdBQ25CLE9BQU9sVixHQUFtQixRQUFUbTZELEdBQW1CLEVBQUksSUFVNUMsT0FBT243RCxFQUFPa1csTUFBUW9rQixFQUFNcGtCLE1BMzVCbkJrbEQsQ0FBZ0JwN0QsRUFBUXM2QixFQUFPb2dDLE1BNEIxQyxTQUFTVyxHQUFXcjdELEVBQVErd0QsRUFBT2p1RCxHQUtqQyxJQUpBLElBQUlvVCxHQUFTLEVBQ1QxVixFQUFTdXdELEVBQU12d0QsT0FDZlEsRUFBUyxLQUVKa1YsRUFBUTFWLEdBQVEsQ0FDdkIsSUFBSThZLEVBQU95M0MsRUFBTTc2QyxHQUNiM1csRUFBUSsxRCxHQUFRdDFELEVBQVFzWixHQUV4QnhXLEVBQVV2RCxFQUFPK1osSUFDbkJnaUQsR0FBUXQ2RCxFQUFRdTBELEdBQVNqOEMsRUFBTXRaLEdBQVNULEdBRzVDLE9BQU95QixFQTJCVCxTQUFTdTZELEdBQVl6VyxFQUFPbmtELEVBQVFxa0QsRUFBVVMsR0FDNUMsSUFBSXRnRCxFQUFVc2dELEVBQWFnQixHQUFrQmxCLEdBQ3pDcnZDLEdBQVMsRUFDVDFWLEVBQVNHLEVBQU9ILE9BQ2hCaTJELEVBQU8zUixFQVFYLElBTklBLElBQVVua0QsSUFDWkEsRUFBU3N2RCxHQUFVdHZELElBRWpCcWtELElBQ0Z5UixFQUFPL1EsR0FBU1osRUFBT2tDLEdBQVVoQyxPQUUxQjl1QyxFQUFRMVYsR0FLZixJQUpBLElBQUk2bEQsRUFBWSxFQUNaOW1ELEVBQVFvQixFQUFPdVYsR0FDZjg5QyxFQUFXaFAsRUFBV0EsRUFBU3psRCxHQUFTQSxHQUVwQzhtRCxFQUFZbGhELEVBQVFzeEQsRUFBTXpDLEVBQVUzTixFQUFXWixLQUFnQixHQUNqRWdSLElBQVMzUixHQUNYd0YsR0FBTzdyRCxLQUFLZzRELEVBQU1wUSxFQUFXLEdBRS9CaUUsR0FBTzdyRCxLQUFLcW1ELEVBQU91QixFQUFXLEdBR2xDLE9BQU92QixFQVlULFNBQVMwVyxHQUFXMVcsRUFBTzJXLEdBSXpCLElBSEEsSUFBSWo3RCxFQUFTc2tELEVBQVEyVyxFQUFRajdELE9BQVMsRUFDbENtWCxFQUFZblgsRUFBUyxFQUVsQkEsS0FBVSxDQUNmLElBQUkwVixFQUFRdWxELEVBQVFqN0QsR0FDcEIsR0FBSUEsR0FBVW1YLEdBQWF6QixJQUFVb1UsRUFBVSxDQUM3QyxJQUFJQSxFQUFXcFUsRUFDWDA1QyxHQUFRMTVDLEdBQ1ZvMEMsR0FBTzdyRCxLQUFLcW1ELEVBQU81dUMsRUFBTyxHQUUxQndsRCxHQUFVNVcsRUFBTzV1QyxJQUl2QixPQUFPNHVDLEVBWVQsU0FBU2dMLEdBQVdvQixFQUFPQyxHQUN6QixPQUFPRCxFQUFROUYsR0FBWWUsTUFBa0JnRixFQUFRRCxFQUFRLElBa0MvRCxTQUFTeUssR0FBVzNULEVBQVFqb0QsR0FDMUIsSUFBSWlCLEVBQVMsR0FDYixJQUFLZ25ELEdBQVVqb0QsRUFBSSxHQUFLQSxFQXh2SEwsaUJBeXZIakIsT0FBT2lCLEVBSVQsR0FDTWpCLEVBQUksSUFDTmlCLEdBQVVnbkQsSUFFWmpvRCxFQUFJcXJELEdBQVlyckQsRUFBSSxNQUVsQmlvRCxHQUFVQSxTQUVMam9ELEdBRVQsT0FBT2lCLEVBV1QsU0FBUzQ2RCxHQUFTcjNELEVBQU1rRSxHQUN0QixPQUFPb3pELEdBQVlDLEdBQVN2M0QsRUFBTWtFLEVBQU90RSxJQUFXSSxFQUFPLElBVTdELFNBQVN3M0QsR0FBV2g2RCxHQUNsQixPQUFPOHRELEdBQVlsdkQsR0FBT29CLElBVzVCLFNBQVNpNkQsR0FBZWo2RCxFQUFZaEMsR0FDbEMsSUFBSStrRCxFQUFRbmtELEdBQU9vQixHQUNuQixPQUFPaXVELEdBQVlsTCxFQUFPb0wsR0FBVW53RCxFQUFHLEVBQUcra0QsRUFBTXRrRCxTQWFsRCxTQUFTODZELEdBQVF0N0QsRUFBUXNaLEVBQU0vWixFQUFPK3hELEdBQ3BDLElBQUtydkQsR0FBU2pDLEdBQ1osT0FBT0EsRUFTVCxJQUxBLElBQUlrVyxHQUFTLEVBQ1QxVixHQUhKOFksRUFBT2k4QyxHQUFTajhDLEVBQU10WixJQUdKUSxPQUNkbVgsRUFBWW5YLEVBQVMsRUFDckJ5N0QsRUFBU2o4RCxFQUVJLE1BQVZpOEQsS0FBb0IvbEQsRUFBUTFWLEdBQVEsQ0FDekMsSUFBSVgsRUFBTTIxRCxHQUFNbDhDLEVBQUtwRCxJQUNqQitqRCxFQUFXMTZELEVBRWYsR0FBSTJXLEdBQVN5QixFQUFXLENBQ3RCLElBQUk2NEMsRUFBV3lMLEVBQU9wOEQsUUFqNEgxQjhCLEtBazRISXM0RCxFQUFXM0ksRUFBYUEsRUFBV2QsRUFBVTN3RCxFQUFLbzhELFFBbDRIdER0NkQsS0FvNEhNczRELEVBQVdoNEQsR0FBU3V1RCxHQUNoQkEsRUFDQ1osR0FBUXQyQyxFQUFLcEQsRUFBUSxJQUFNLEdBQUssSUFHekNxNkMsR0FBWTBMLEVBQVFwOEQsRUFBS282RCxHQUN6QmdDLEVBQVNBLEVBQU9wOEQsR0FFbEIsT0FBT0csRUFXVCxJQUFJazhELEdBQWV2UCxHQUFxQixTQUFTcG9ELEVBQU02cUQsR0FFckQsT0FEQXpDLEdBQVEza0QsSUFBSXpELEVBQU02cUQsR0FDWDdxRCxHQUZvQkosR0FhekJnNEQsR0FBbUJsOUQsR0FBNEIsU0FBU3NGLEVBQU15akQsR0FDaEUsT0FBTy9vRCxHQUFlc0YsRUFBTSxXQUFZLENBQ3RDLGNBQWdCLEVBQ2hCLFlBQWMsRUFDZCxNQUFTNjNELEdBQVNwVSxHQUNsQixVQUFZLEtBTHdCN2pELEdBZ0J4QyxTQUFTazRELEdBQVl0NkQsR0FDbkIsT0FBT2l1RCxHQUFZcnZELEdBQU9vQixJQVk1QixTQUFTdTZELEdBQVV4WCxFQUFPcjhDLEVBQU84ekQsR0FDL0IsSUFBSXJtRCxHQUFTLEVBQ1QxVixFQUFTc2tELEVBQU10a0QsT0FFZmlJLEVBQVEsSUFDVkEsR0FBU0EsRUFBUWpJLEVBQVMsRUFBS0EsRUFBU2lJLElBRTFDOHpELEVBQU1BLEVBQU0vN0QsRUFBU0EsRUFBUys3RCxHQUNwQixJQUNSQSxHQUFPLzdELEdBRVRBLEVBQVNpSSxFQUFROHpELEVBQU0sRUFBTUEsRUFBTTl6RCxJQUFXLEVBQzlDQSxLQUFXLEVBR1gsSUFEQSxJQUFJekgsRUFBU08sRUFBTWYsS0FDVjBWLEVBQVExVixHQUNmUSxFQUFPa1YsR0FBUzR1QyxFQUFNNXVDLEVBQVF6TixHQUVoQyxPQUFPekgsRUFZVCxTQUFTdzdELEdBQVN6NkQsRUFBWWUsR0FDNUIsSUFBSTlCLEVBTUosT0FKQTJ2RCxHQUFTNXVELEdBQVksU0FBU3hDLEVBQU8yVyxFQUFPblUsR0FFMUMsUUFEQWYsRUFBUzhCLEVBQVV2RCxFQUFPMlcsRUFBT25VLFNBRzFCZixFQWVYLFNBQVN5N0QsR0FBZ0IzWCxFQUFPdmxELEVBQU9tOUQsR0FDckMsSUFBSUMsRUFBTSxFQUNOQyxFQUFnQixNQUFUOVgsRUFBZ0I2WCxFQUFNN1gsRUFBTXRrRCxPQUV2QyxHQUFvQixpQkFBVGpCLEdBQXFCQSxHQUFVQSxHQUFTcTlELEdBejdIM0JDLFdBeTdIMEQsQ0FDaEYsS0FBT0YsRUFBTUMsR0FBTSxDQUNqQixJQUFJRSxFQUFPSCxFQUFNQyxJQUFVLEVBQ3ZCNUksRUFBV2xQLEVBQU1nWSxHQUVKLE9BQWI5SSxJQUFzQlksR0FBU1osS0FDOUIwSSxFQUFjMUksR0FBWXowRCxFQUFVeTBELEVBQVd6MEQsR0FDbERvOUQsRUFBTUcsRUFBTSxFQUVaRixFQUFPRSxFQUdYLE9BQU9GLEVBRVQsT0FBT0csR0FBa0JqWSxFQUFPdmxELEVBQU80RSxHQUFVdTRELEdBZ0JuRCxTQUFTSyxHQUFrQmpZLEVBQU92bEQsRUFBT3lsRCxFQUFVMFgsR0FDakRuOUQsRUFBUXlsRCxFQUFTemxELEdBU2pCLElBUEEsSUFBSW85RCxFQUFNLEVBQ05DLEVBQWdCLE1BQVQ5WCxFQUFnQixFQUFJQSxFQUFNdGtELE9BQ2pDdzhELEVBQVd6OUQsR0FBVUEsRUFDckIwOUQsRUFBc0IsT0FBVjE5RCxFQUNaMjlELEVBQWN0SSxHQUFTcjFELEdBQ3ZCNDlELE9BL2hJSng3RCxJQStoSXFCcEMsRUFFZG85RCxFQUFNQyxHQUFNLENBQ2pCLElBQUlFLEVBQU0xUixJQUFhdVIsRUFBTUMsR0FBUSxHQUNqQzVJLEVBQVdoUCxFQUFTRixFQUFNZ1ksSUFDMUJNLE9BcGlJTno3RCxJQW9pSXFCcXlELEVBQ2ZxSixFQUF5QixPQUFickosRUFDWnNKLEVBQWlCdEosR0FBYUEsRUFDOUJ1SixFQUFjM0ksR0FBU1osR0FFM0IsR0FBSWdKLEVBQ0YsSUFBSVEsRUFBU2QsR0FBY1ksT0FFM0JFLEVBRFNMLEVBQ0FHLElBQW1CWixHQUFjVSxHQUNqQ0gsRUFDQUssR0FBa0JGLElBQWlCVixJQUFlVyxHQUNsREgsRUFDQUksR0FBa0JGLElBQWlCQyxJQUFjWCxJQUFlYSxJQUNoRUYsSUFBYUUsSUFHYmIsRUFBYzFJLEdBQVl6MEQsRUFBVXkwRCxFQUFXejBELEdBRXREaStELEVBQ0ZiLEVBQU1HLEVBQU0sRUFFWkYsRUFBT0UsRUFHWCxPQUFPL1EsR0FBVTZRLEVBNy9IQ0MsWUF5Z0lwQixTQUFTWSxHQUFlM1ksRUFBT0UsR0FNN0IsSUFMQSxJQUFJOXVDLEdBQVMsRUFDVDFWLEVBQVNza0QsRUFBTXRrRCxPQUNmNmtELEVBQVcsRUFDWHJrRCxFQUFTLEtBRUprVixFQUFRMVYsR0FBUSxDQUN2QixJQUFJakIsRUFBUXVsRCxFQUFNNXVDLEdBQ2Q4OUMsRUFBV2hQLEVBQVdBLEVBQVN6bEQsR0FBU0EsRUFFNUMsSUFBSzJXLElBQVVtNkMsR0FBRzJELEVBQVV5QyxHQUFPLENBQ2pDLElBQUlBLEVBQU96QyxFQUNYaHpELEVBQU9xa0QsS0FBd0IsSUFBVjlsRCxFQUFjLEVBQUlBLEdBRzNDLE9BQU95QixFQVdULFNBQVMwOEQsR0FBYW4rRCxHQUNwQixNQUFvQixpQkFBVEEsRUFDRkEsRUFFTHExRCxHQUFTcjFELEdBM2lJUCxLQThpSUVBLEVBV1YsU0FBU28rRCxHQUFhcCtELEdBRXBCLEdBQW9CLGlCQUFUQSxFQUNULE9BQU9BLEVBRVQsR0FBSWlDLEdBQVFqQyxHQUVWLE9BQU9tbUQsR0FBU25tRCxFQUFPbytELElBQWdCLEdBRXpDLEdBQUkvSSxHQUFTcjFELEdBQ1gsT0FBTyt0RCxHQUFpQkEsR0FBZTd1RCxLQUFLYyxHQUFTLEdBRXZELElBQUl5QixFQUFVekIsRUFBUSxHQUN0QixNQUFrQixLQUFWeUIsR0FBa0IsRUFBSXpCLElBemtJbkIsSUF5a0kwQyxLQUFPeUIsRUFZOUQsU0FBUzQ4RCxHQUFTOVksRUFBT0UsRUFBVVMsR0FDakMsSUFBSXZ2QyxHQUFTLEVBQ1QwOUMsRUFBV3RPLEdBQ1g5a0QsRUFBU3NrRCxFQUFNdGtELE9BQ2ZxekQsR0FBVyxFQUNYN3lELEVBQVMsR0FDVHkxRCxFQUFPejFELEVBRVgsR0FBSXlrRCxFQUNGb08sR0FBVyxFQUNYRCxFQUFXcE8sUUFFUixHQUFJaGxELEdBbnBJVSxJQW1wSWtCLENBQ25DLElBQUl3SCxFQUFNZzlDLEVBQVcsS0FBTzZZLEdBQVUvWSxHQUN0QyxHQUFJOThDLEVBQ0YsT0FBT3NnRCxHQUFXdGdELEdBRXBCNnJELEdBQVcsRUFDWEQsRUFBV3pNLEdBQ1hzUCxFQUFPLElBQUl6SCxRQUdYeUgsRUFBT3pSLEVBQVcsR0FBS2hrRCxFQUV6Qit5RCxFQUNBLE9BQVM3OUMsRUFBUTFWLEdBQVEsQ0FDdkIsSUFBSWpCLEVBQVF1bEQsRUFBTTV1QyxHQUNkODlDLEVBQVdoUCxFQUFXQSxFQUFTemxELEdBQVNBLEVBRzVDLEdBREFBLEVBQVNrbUQsR0FBd0IsSUFBVmxtRCxFQUFlQSxFQUFRLEVBQzFDczBELEdBQVlHLEdBQWFBLEVBQVUsQ0FFckMsSUFEQSxJQUFJOEosRUFBWXJILEVBQUtqMkQsT0FDZHM5RCxLQUNMLEdBQUlySCxFQUFLcUgsS0FBZTlKLEVBQ3RCLFNBQVNELEVBR1QvTyxHQUNGeVIsRUFBSzUxRCxLQUFLbXpELEdBRVpoekQsRUFBT0gsS0FBS3RCLFFBRUpxMEQsRUFBUzZDLEVBQU16QyxFQUFVdk8sS0FDN0JnUixJQUFTejFELEdBQ1h5MUQsRUFBSzUxRCxLQUFLbXpELEdBRVpoekQsRUFBT0gsS0FBS3RCLElBR2hCLE9BQU95QixFQVdULFNBQVMwNkQsR0FBVTE3RCxFQUFRc1osR0FHekIsT0FBaUIsT0FEakJ0WixFQUFTMjJELEdBQU8zMkQsRUFEaEJzWixFQUFPaThDLEdBQVNqOEMsRUFBTXRaLGFBRVVBLEVBQU93MUQsR0FBTTV6RCxHQUFLMFgsS0FhcEQsU0FBU3lrRCxHQUFXLzlELEVBQVFzWixFQUFNMGtELEVBQVMxTSxHQUN6QyxPQUFPZ0ssR0FBUXQ3RCxFQUFRc1osRUFBTTBrRCxFQUFRMUksR0FBUXQxRCxFQUFRc1osSUFBUWc0QyxHQWMvRCxTQUFTMk0sR0FBVW5aLEVBQU9oaUQsRUFBV283RCxFQUFRNVgsR0FJM0MsSUFIQSxJQUFJOWxELEVBQVNza0QsRUFBTXRrRCxPQUNmMFYsRUFBUW93QyxFQUFZOWxELEdBQVUsR0FFMUI4bEQsRUFBWXB3QyxNQUFZQSxFQUFRMVYsSUFDdENzQyxFQUFVZ2lELEVBQU01dUMsR0FBUUEsRUFBTzR1QyxLQUVqQyxPQUFPb1osRUFDSDVCLEdBQVV4WCxFQUFRd0IsRUFBWSxFQUFJcHdDLEVBQVNvd0MsRUFBWXB3QyxFQUFRLEVBQUkxVixHQUNuRTg3RCxHQUFVeFgsRUFBUXdCLEVBQVlwd0MsRUFBUSxFQUFJLEVBQUtvd0MsRUFBWTlsRCxFQUFTMFYsR0FhMUUsU0FBU2lvRCxHQUFpQjUrRCxFQUFPNitELEdBQy9CLElBQUlwOUQsRUFBU3pCLEVBSWIsT0FISXlCLGFBQWtCeXNELEtBQ3BCenNELEVBQVNBLEVBQU96QixTQUVYcW1ELEdBQVl3WSxHQUFTLFNBQVNwOUQsRUFBUXdOLEdBQzNDLE9BQU9BLEVBQU9qSyxLQUFLTSxNQUFNMkosRUFBT28yQyxRQUFTZSxHQUFVLENBQUMza0QsR0FBU3dOLEVBQU93VCxTQUNuRWhoQixHQWFMLFNBQVNxOUQsR0FBUWhJLEVBQVFyUixFQUFVUyxHQUNqQyxJQUFJamxELEVBQVM2MUQsRUFBTzcxRCxPQUNwQixHQUFJQSxFQUFTLEVBQ1gsT0FBT0EsRUFBU285RCxHQUFTdkgsRUFBTyxJQUFNLEdBS3hDLElBSEEsSUFBSW5nRCxHQUFTLEVBQ1RsVixFQUFTTyxFQUFNZixLQUVWMFYsRUFBUTFWLEdBSWYsSUFIQSxJQUFJc2tELEVBQVF1UixFQUFPbmdELEdBQ2ZxZ0QsR0FBWSxJQUVQQSxFQUFXLzFELEdBQ2QrMUQsR0FBWXJnRCxJQUNkbFYsRUFBT2tWLEdBQVN5OUMsR0FBZTN5RCxFQUFPa1YsSUFBVTR1QyxFQUFPdVIsRUFBT0UsR0FBV3ZSLEVBQVVTLElBSXpGLE9BQU9tWSxHQUFTOUksR0FBWTl6RCxFQUFRLEdBQUlna0QsRUFBVVMsR0FZcEQsU0FBUzZZLEdBQWNwWCxFQUFPdm1ELEVBQVE0OUQsR0FNcEMsSUFMQSxJQUFJcm9ELEdBQVMsRUFDVDFWLEVBQVMwbUQsRUFBTTFtRCxPQUNmZytELEVBQWE3OUQsRUFBT0gsT0FDcEJRLEVBQVMsS0FFSmtWLEVBQVExVixHQUFRLENBQ3ZCLElBQUlqQixFQUFRMlcsRUFBUXNvRCxFQUFhNzlELEVBQU91VixRQXZ6STFDdlUsRUF3eklFNDhELEVBQVd2OUQsRUFBUWttRCxFQUFNaHhDLEdBQVEzVyxHQUVuQyxPQUFPeUIsRUFVVCxTQUFTeTlELEdBQW9CbC9ELEdBQzNCLE9BQU80NkQsR0FBa0I1NkQsR0FBU0EsRUFBUSxHQVU1QyxTQUFTbS9ELEdBQWFuL0QsR0FDcEIsTUFBdUIsbUJBQVRBLEVBQXNCQSxFQUFRNEUsR0FXOUMsU0FBU294RCxHQUFTaDJELEVBQU9TLEdBQ3ZCLE9BQUl3QixHQUFRakMsR0FDSEEsRUFFRm02RCxHQUFNbjZELEVBQU9TLEdBQVUsQ0FBQ1QsR0FBU28vRCxHQUFhdjFELEdBQVM3SixJQVloRSxJQUFJcS9ELEdBQVdoRCxHQVdmLFNBQVNpRCxHQUFVL1osRUFBT3I4QyxFQUFPOHpELEdBQy9CLElBQUkvN0QsRUFBU3NrRCxFQUFNdGtELE9BRW5CLE9BREErN0QsT0F4M0lBNTZELElBdzNJTTQ2RCxFQUFvQi83RCxFQUFTKzdELEdBQzFCOXpELEdBQVM4ekQsR0FBTy83RCxFQUFVc2tELEVBQVF3WCxHQUFVeFgsRUFBT3I4QyxFQUFPOHpELEdBU3JFLElBQUkxUixHQUFlRCxJQUFtQixTQUFTa1UsR0FDN0MsT0FBT3hiLEdBQUt1SCxhQUFhaVUsSUFXM0IsU0FBUzlNLEdBQVlXLEVBQVFuQixHQUMzQixHQUFJQSxFQUNGLE9BQU9tQixFQUFPaHdELFFBRWhCLElBQUluQyxFQUFTbXlELEVBQU9ueUQsT0FDaEJRLEVBQVNpcEQsR0FBY0EsR0FBWXpwRCxHQUFVLElBQUlteUQsRUFBTzlvRCxZQUFZckosR0FHeEUsT0FEQW15RCxFQUFPb00sS0FBSy85RCxHQUNMQSxFQVVULFNBQVN5eEQsR0FBaUJ1TSxHQUN4QixJQUFJaCtELEVBQVMsSUFBSWcrRCxFQUFZbjFELFlBQVltMUQsRUFBWW5NLFlBRXJELE9BREEsSUFBSTdJLEdBQVdocEQsR0FBUWdILElBQUksSUFBSWdpRCxHQUFXZ1YsSUFDbkNoK0QsRUFnRFQsU0FBUyt4RCxHQUFnQmtNLEVBQVl6TixHQUNuQyxJQUFJbUIsRUFBU25CLEVBQVNpQixHQUFpQndNLEVBQVd0TSxRQUFVc00sRUFBV3RNLE9BQ3ZFLE9BQU8sSUFBSXNNLEVBQVdwMUQsWUFBWThvRCxFQUFRc00sRUFBV3JNLFdBQVlxTSxFQUFXeitELFFBVzlFLFNBQVMwNkQsR0FBaUIzN0QsRUFBTys2QixHQUMvQixHQUFJLzZCLElBQVUrNkIsRUFBTyxDQUNuQixJQUFJNGtDLE9BbCtJTnY5RCxJQWsrSXFCcEMsRUFDZjA5RCxFQUFzQixPQUFWMTlELEVBQ1o0L0QsRUFBaUI1L0QsR0FBVUEsRUFDM0IyOUQsRUFBY3RJLEdBQVNyMUQsR0FFdkI2OUQsT0F2K0lOejdELElBdStJcUIyNEIsRUFDZitpQyxFQUFzQixPQUFWL2lDLEVBQ1pnakMsRUFBaUJoakMsR0FBVUEsRUFDM0JpakMsRUFBYzNJLEdBQVN0NkIsR0FFM0IsSUFBTStpQyxJQUFjRSxJQUFnQkwsR0FBZTM5RCxFQUFRKzZCLEdBQ3RENGlDLEdBQWVFLEdBQWdCRSxJQUFtQkQsSUFBY0UsR0FDaEVOLEdBQWFHLEdBQWdCRSxJQUM1QjRCLEdBQWdCNUIsSUFDakI2QixFQUNILE9BQU8sRUFFVCxJQUFNbEMsSUFBY0MsSUFBZ0JLLEdBQWVoK0QsRUFBUSs2QixHQUN0RGlqQyxHQUFlMkIsR0FBZ0JDLElBQW1CbEMsSUFBY0MsR0FDaEVHLEdBQWE2QixHQUFnQkMsSUFDNUIvQixHQUFnQitCLElBQ2pCN0IsRUFDSCxPQUFRLEVBR1osT0FBTyxFQXVEVCxTQUFTOEIsR0FBWXA5QyxFQUFNcTlDLEVBQVVDLEVBQVNDLEdBVTVDLElBVEEsSUFBSUMsR0FBYSxFQUNiQyxFQUFhejlDLEVBQUt4aEIsT0FDbEJrL0QsRUFBZ0JKLEVBQVE5K0QsT0FDeEJtL0QsR0FBYSxFQUNiQyxFQUFhUCxFQUFTNytELE9BQ3RCcS9ELEVBQWNoVSxHQUFVNFQsRUFBYUMsRUFBZSxHQUNwRDErRCxFQUFTTyxFQUFNcStELEVBQWFDLEdBQzVCQyxHQUFlUCxJQUVWSSxFQUFZQyxHQUNuQjUrRCxFQUFPMitELEdBQWFOLEVBQVNNLEdBRS9CLE9BQVNILEVBQVlFLElBQ2ZJLEdBQWVOLEVBQVlDLEtBQzdCeitELEVBQU9zK0QsRUFBUUUsSUFBY3g5QyxFQUFLdzlDLElBR3RDLEtBQU9LLEtBQ0w3K0QsRUFBTzIrRCxLQUFlMzlDLEVBQUt3OUMsS0FFN0IsT0FBT3grRCxFQWNULFNBQVMrK0QsR0FBaUIvOUMsRUFBTXE5QyxFQUFVQyxFQUFTQyxHQVdqRCxJQVZBLElBQUlDLEdBQWEsRUFDYkMsRUFBYXo5QyxFQUFLeGhCLE9BQ2xCdy9ELEdBQWdCLEVBQ2hCTixFQUFnQkosRUFBUTkrRCxPQUN4QnkvRCxHQUFjLEVBQ2RDLEVBQWNiLEVBQVM3K0QsT0FDdkJxL0QsRUFBY2hVLEdBQVU0VCxFQUFhQyxFQUFlLEdBQ3BEMStELEVBQVNPLEVBQU1zK0QsRUFBY0ssR0FDN0JKLEdBQWVQLElBRVZDLEVBQVlLLEdBQ25CNytELEVBQU93K0QsR0FBYXg5QyxFQUFLdzlDLEdBRzNCLElBREEsSUFBSTFnRCxFQUFTMGdELElBQ0pTLEVBQWFDLEdBQ3BCbC9ELEVBQU84ZCxFQUFTbWhELEdBQWNaLEVBQVNZLEdBRXpDLE9BQVNELEVBQWVOLElBQ2xCSSxHQUFlTixFQUFZQyxLQUM3QnorRCxFQUFPOGQsRUFBU3dnRCxFQUFRVSxJQUFpQmgrQyxFQUFLdzlDLE1BR2xELE9BQU94K0QsRUFXVCxTQUFTaXZELEdBQVV0Z0QsRUFBUW0xQyxHQUN6QixJQUFJNXVDLEdBQVMsRUFDVDFWLEVBQVNtUCxFQUFPblAsT0FHcEIsSUFEQXNrRCxJQUFVQSxFQUFRdmpELEVBQU1mLE1BQ2YwVixFQUFRMVYsR0FDZnNrRCxFQUFNNXVDLEdBQVN2RyxFQUFPdUcsR0FFeEIsT0FBTzR1QyxFQWFULFNBQVMrTCxHQUFXbGhELEVBQVF1M0MsRUFBT2xuRCxFQUFRc3hELEdBQ3pDLElBQUk2TyxHQUFTbmdFLEVBQ2JBLElBQVdBLEVBQVMsSUFLcEIsSUFIQSxJQUFJa1csR0FBUyxFQUNUMVYsRUFBUzBtRCxFQUFNMW1ELFNBRVYwVixFQUFRMVYsR0FBUSxDQUN2QixJQUFJWCxFQUFNcW5ELEVBQU1oeEMsR0FFWitqRCxFQUFXM0ksRUFDWEEsRUFBV3R4RCxFQUFPSCxHQUFNOFAsRUFBTzlQLEdBQU1BLEVBQUtHLEVBQVEyUCxRQXZwSnhEaE8sV0EwcEpNczRELElBQ0ZBLEVBQVd0cUQsRUFBTzlQLElBRWhCc2dFLEVBQ0Y3UCxHQUFnQnR3RCxFQUFRSCxFQUFLbzZELEdBRTdCMUosR0FBWXZ3RCxFQUFRSCxFQUFLbzZELEdBRzdCLE9BQU9qNkQsRUFtQ1QsU0FBU29nRSxHQUFpQnJiLEVBQVFzYixHQUNoQyxPQUFPLFNBQVN0K0QsRUFBWWlqRCxHQUMxQixJQUFJemdELEVBQU8vQyxHQUFRTyxHQUFjOGlELEdBQWtCNkwsR0FDL0Mxc0QsRUFBY3E4RCxFQUFjQSxJQUFnQixHQUVoRCxPQUFPOTdELEVBQUt4QyxFQUFZZ2pELEVBQVE0VixHQUFZM1YsRUFBVSxHQUFJaGhELElBVzlELFNBQVNzOEQsR0FBZUMsR0FDdEIsT0FBTzNFLElBQVMsU0FBUzU3RCxFQUFRNEYsR0FDL0IsSUFBSXNRLEdBQVMsRUFDVDFWLEVBQVNvRixFQUFRcEYsT0FDakI4d0QsRUFBYTl3RCxFQUFTLEVBQUlvRixFQUFRcEYsRUFBUyxRQTF0SmpEbUIsRUEydEpNNitELEVBQVFoZ0UsRUFBUyxFQUFJb0YsRUFBUSxRQTN0Sm5DakUsRUFzdUpFLElBVEEydkQsRUFBY2lQLEVBQVMvL0QsT0FBUyxHQUEwQixtQkFBZDh3RCxHQUN2Qzl3RCxJQUFVOHdELFFBOXRKakIzdkQsRUFpdUpNNitELEdBQVNDLEdBQWU3NkQsRUFBUSxHQUFJQSxFQUFRLEdBQUk0NkQsS0FDbERsUCxFQUFhOXdELEVBQVMsT0FsdUoxQm1CLEVBa3VKMEMydkQsRUFDdEM5d0QsRUFBUyxHQUVYUixFQUFTaEIsR0FBT2dCLEtBQ1BrVyxFQUFRMVYsR0FBUSxDQUN2QixJQUFJbVAsRUFBUy9KLEVBQVFzUSxHQUNqQnZHLEdBQ0Y0d0QsRUFBU3ZnRSxFQUFRMlAsRUFBUXVHLEVBQU9vN0MsR0FHcEMsT0FBT3R4RCxLQVlYLFNBQVNzMEQsR0FBZW5PLEVBQVVHLEdBQ2hDLE9BQU8sU0FBU3ZrRCxFQUFZaWpELEdBQzFCLEdBQWtCLE1BQWRqakQsRUFDRixPQUFPQSxFQUVULElBQUt3M0QsR0FBWXgzRCxHQUNmLE9BQU9va0QsRUFBU3BrRCxFQUFZaWpELEdBTTlCLElBSkEsSUFBSXhrRCxFQUFTdUIsRUFBV3ZCLE9BQ3BCMFYsRUFBUW93QyxFQUFZOWxELEdBQVUsRUFDOUJrZ0UsRUFBVzFoRSxHQUFPK0MsSUFFZHVrRCxFQUFZcHdDLE1BQVlBLEVBQVExVixLQUNhLElBQS9Dd2tELEVBQVMwYixFQUFTeHFELEdBQVFBLEVBQU93cUQsS0FJdkMsT0FBTzMrRCxHQVdYLFNBQVNvekQsR0FBYzdPLEdBQ3JCLE9BQU8sU0FBU3RtRCxFQUFRZ2xELEVBQVUwUSxHQU1oQyxJQUxBLElBQUl4L0MsR0FBUyxFQUNUd3FELEVBQVcxaEUsR0FBT2dCLEdBQ2xCa25ELEVBQVF3TyxFQUFTMTFELEdBQ2pCUSxFQUFTMG1ELEVBQU0xbUQsT0FFWkEsS0FBVSxDQUNmLElBQUlYLEVBQU1xbkQsRUFBTVosRUFBWTlsRCxJQUFXMFYsR0FDdkMsSUFBK0MsSUFBM0M4dUMsRUFBUzBiLEVBQVM3Z0UsR0FBTUEsRUFBSzZnRSxHQUMvQixNQUdKLE9BQU8xZ0UsR0FnQ1gsU0FBUzJnRSxHQUFnQmw1QixHQUN2QixPQUFPLFNBQVN1Z0IsR0FHZCxJQUFJVixFQUFhUyxHQUZqQkMsRUFBUzUrQyxHQUFTNCtDLElBR2RVLEdBQWNWLFFBdDBKcEJybUQsRUF5MEpNbW1ELEVBQU1SLEVBQ05BLEVBQVcsR0FDWFUsRUFBTzF0QyxPQUFPLEdBRWRzbUQsRUFBV3RaLEVBQ1h1WCxHQUFVdlgsRUFBWSxHQUFHdnlDLEtBQUssSUFDOUJpekMsRUFBT3JsRCxNQUFNLEdBRWpCLE9BQU9tbEQsRUFBSXJnQixLQUFnQm01QixHQVcvQixTQUFTQyxHQUFpQjkvRCxHQUN4QixPQUFPLFNBQVNpbkQsR0FDZCxPQUFPcEMsR0FBWWtiLEdBQU1DLEdBQU8vWSxHQUFRaDRDLFFBQVFveUMsR0FBUSxLQUFNcmhELEVBQVUsS0FZNUUsU0FBU2lnRSxHQUFXeE8sR0FDbEIsT0FBTyxXQUlMLElBQUl4d0MsRUFBT3RkLFVBQ1gsT0FBUXNkLEVBQUt4aEIsUUFDWCxLQUFLLEVBQUcsT0FBTyxJQUFJZ3lELEVBQ25CLEtBQUssRUFBRyxPQUFPLElBQUlBLEVBQUt4d0MsRUFBSyxJQUM3QixLQUFLLEVBQUcsT0FBTyxJQUFJd3dDLEVBQUt4d0MsRUFBSyxHQUFJQSxFQUFLLElBQ3RDLEtBQUssRUFBRyxPQUFPLElBQUl3d0MsRUFBS3h3QyxFQUFLLEdBQUlBLEVBQUssR0FBSUEsRUFBSyxJQUMvQyxLQUFLLEVBQUcsT0FBTyxJQUFJd3dDLEVBQUt4d0MsRUFBSyxHQUFJQSxFQUFLLEdBQUlBLEVBQUssR0FBSUEsRUFBSyxJQUN4RCxLQUFLLEVBQUcsT0FBTyxJQUFJd3dDLEVBQUt4d0MsRUFBSyxHQUFJQSxFQUFLLEdBQUlBLEVBQUssR0FBSUEsRUFBSyxHQUFJQSxFQUFLLElBQ2pFLEtBQUssRUFBRyxPQUFPLElBQUl3d0MsRUFBS3h3QyxFQUFLLEdBQUlBLEVBQUssR0FBSUEsRUFBSyxHQUFJQSxFQUFLLEdBQUlBLEVBQUssR0FBSUEsRUFBSyxJQUMxRSxLQUFLLEVBQUcsT0FBTyxJQUFJd3dDLEVBQUt4d0MsRUFBSyxHQUFJQSxFQUFLLEdBQUlBLEVBQUssR0FBSUEsRUFBSyxHQUFJQSxFQUFLLEdBQUlBLEVBQUssR0FBSUEsRUFBSyxJQUVyRixJQUFJaS9DLEVBQWNyVCxHQUFXNEUsRUFBS3R5RCxXQUM5QmMsRUFBU3d4RCxFQUFLM3RELE1BQU1vOEQsRUFBYWovQyxHQUlyQyxPQUFPL2YsR0FBU2pCLEdBQVVBLEVBQVNpZ0UsR0FnRHZDLFNBQVNDLEdBQVdDLEdBQ2xCLE9BQU8sU0FBU3AvRCxFQUFZZSxFQUFXdWpELEdBQ3JDLElBQUlxYSxFQUFXMWhFLEdBQU8rQyxHQUN0QixJQUFLdzNELEdBQVl4M0QsR0FBYSxDQUM1QixJQUFJaWpELEVBQVcyVixHQUFZNzNELEVBQVcsR0FDdENmLEVBQWF0QixHQUFLc0IsR0FDbEJlLEVBQVksU0FBU2pELEdBQU8sT0FBT21sRCxFQUFTMGIsRUFBUzdnRSxHQUFNQSxFQUFLNmdFLElBRWxFLElBQUl4cUQsRUFBUWlyRCxFQUFjcC9ELEVBQVllLEVBQVd1akQsR0FDakQsT0FBT253QyxHQUFTLEVBQUl3cUQsRUFBUzFiLEVBQVdqakQsRUFBV21VLEdBQVNBLFFBeDdKOUR2VSxHQW04SkYsU0FBU3kvRCxHQUFXOWEsR0FDbEIsT0FBTythLElBQVMsU0FBU0MsR0FDdkIsSUFBSTlnRSxFQUFTOGdFLEVBQU05Z0UsT0FDZjBWLEVBQVExVixFQUNSK2dFLEVBQVM3VCxHQUFjeHRELFVBQVVzaEUsS0FLckMsSUFISWxiLEdBQ0ZnYixFQUFNeHlDLFVBRUQ1WSxLQUFTLENBQ2QsSUFBSTNSLEVBQU8rOEQsRUFBTXByRCxHQUNqQixHQUFtQixtQkFBUjNSLEVBQ1QsTUFBTSxJQUFJMmtELEdBQVVqTSxHQUV0QixHQUFJc2tCLElBQVdFLEdBQWdDLFdBQXJCQyxHQUFZbjlELEdBQ3BDLElBQUlrOUQsRUFBVSxJQUFJL1QsR0FBYyxJQUFJLEdBSXhDLElBREF4M0MsRUFBUXVyRCxFQUFVdnJELEVBQVExVixJQUNqQjBWLEVBQVExVixHQUFRLENBR3ZCLElBQUltaEUsRUFBV0QsR0FGZm45RCxFQUFPKzhELEVBQU1wckQsSUFHVGs1QyxFQUFtQixXQUFadVMsRUFBd0JDLEdBQVFyOUQsUUExOUovQzVDLEVBZytKTTgvRCxFQUpFclMsR0FBUXlTLEdBQVd6UyxFQUFLLEtBQ1gsS0FBWEEsRUFBSyxLQUNKQSxFQUFLLEdBQUc1dUQsUUFBcUIsR0FBWDR1RCxFQUFLLEdBRWxCcVMsRUFBUUMsR0FBWXRTLEVBQUssS0FBS3ZxRCxNQUFNNDhELEVBQVNyUyxFQUFLLElBRWxDLEdBQWY3cUQsRUFBSy9ELFFBQWVxaEUsR0FBV3Q5RCxHQUN0Q2s5RCxFQUFRRSxLQUNSRixFQUFRRCxLQUFLajlELEdBR3JCLE9BQU8sV0FDTCxJQUFJeWQsRUFBT3RkLFVBQ1BuRixFQUFReWlCLEVBQUssR0FFakIsR0FBSXkvQyxHQUEwQixHQUFmei9DLEVBQUt4aEIsUUFBZWdCLEdBQVFqQyxHQUN6QyxPQUFPa2lFLEVBQVFLLE1BQU12aUUsR0FBT0EsUUFLOUIsSUFIQSxJQUFJMlcsRUFBUSxFQUNSbFYsRUFBU1IsRUFBUzhnRSxFQUFNcHJELEdBQU9yUixNQUFNK0UsS0FBTW9ZLEdBQVF6aUIsSUFFOUMyVyxFQUFRMVYsR0FDZlEsRUFBU3NnRSxFQUFNcHJELEdBQU96WCxLQUFLbUwsS0FBTTVJLEdBRW5DLE9BQU9BLE1Bd0JiLFNBQVMrZ0UsR0FBYXg5RCxFQUFNOHNELEVBQVN6TSxFQUFTeWEsRUFBVUMsRUFBUzBDLEVBQWVDLEVBQWNDLEVBQVFDLEVBQUtDLEdBQ3pHLElBQUlDLEVBditKWSxJQXUrSkpoUixFQUNSaVIsRUEvK0phLEVBKytKSmpSLEVBQ1RrUixFQS8rSmlCLEVBKytKTGxSLEVBQ1prTyxFQUFzQixHQUFWbE8sRUFDWm1SLEVBeitKYSxJQXkrSkpuUixFQUNUbUIsRUFBTytQLE9BbGhLWDVnRSxFQWtoS21DcS9ELEdBQVd6OEQsR0E2QzlDLE9BM0NBLFNBQVNrOUQsSUFLUCxJQUpBLElBQUlqaEUsRUFBU2tFLFVBQVVsRSxPQUNuQndoQixFQUFPemdCLEVBQU1mLEdBQ2IwVixFQUFRMVYsRUFFTDBWLEtBQ0w4TCxFQUFLOUwsR0FBU3hSLFVBQVV3UixHQUUxQixHQUFJcXBELEVBQ0YsSUFBSTdYLEVBQWMrYSxHQUFVaEIsR0FDeEJpQixFQUFlamIsR0FBYXpsQyxFQUFNMGxDLEdBU3hDLEdBUEkyWCxJQUNGcjlDLEVBQU9vOUMsR0FBWXA5QyxFQUFNcTlDLEVBQVVDLEVBQVNDLElBRTFDeUMsSUFDRmhnRCxFQUFPKzlDLEdBQWlCLzlDLEVBQU1nZ0QsRUFBZUMsRUFBYzFDLElBRTdELytELEdBQVVraUUsRUFDTm5ELEdBQWEvK0QsRUFBUzRoRSxFQUFPLENBQy9CLElBQUlPLEVBQWF0YSxHQUFlcm1DLEVBQU0wbEMsR0FDdEMsT0FBT2tiLEdBQ0xyK0QsRUFBTThzRCxFQUFTMFEsR0FBY04sRUFBUS9aLFlBQWE5QyxFQUNsRDVpQyxFQUFNMmdELEVBQVlULEVBQVFDLEVBQUtDLEVBQVE1aEUsR0FHM0MsSUFBSXlnRSxFQUFjcUIsRUFBUzFkLEVBQVVoN0MsS0FDakNpNUQsRUFBS04sRUFBWXRCLEVBQVkxOEQsR0FBUUEsRUFjekMsT0FaQS9ELEVBQVN3aEIsRUFBS3hoQixPQUNWMGhFLEVBQ0ZsZ0QsRUFBTzhnRCxHQUFROWdELEVBQU1rZ0QsR0FDWk0sR0FBVWhpRSxFQUFTLEdBQzVCd2hCLEVBQUs4TSxVQUVIdXpDLEdBQVNGLEVBQU0zaEUsSUFDakJ3aEIsRUFBS3hoQixPQUFTMmhFLEdBRVp2NEQsTUFBUUEsT0FBUzA1QyxJQUFRMTVDLGdCQUFnQjYzRCxJQUMzQ29CLEVBQUtyUSxHQUFRd08sR0FBVzZCLElBRW5CQSxFQUFHaCtELE1BQU1vOEQsRUFBYWovQyxJQWFqQyxTQUFTK2dELEdBQWVoZSxFQUFRaWUsR0FDOUIsT0FBTyxTQUFTaGpFLEVBQVFnbEQsR0FDdEIsT0E1OURKLFNBQXNCaGxELEVBQVEra0QsRUFBUUMsRUFBVWhoRCxHQUk5QyxPQUhBdXdELEdBQVd2MEQsR0FBUSxTQUFTVCxFQUFPTSxFQUFLRyxHQUN0QytrRCxFQUFPL2dELEVBQWFnaEQsRUFBU3psRCxHQUFRTSxFQUFLRyxNQUVyQ2dFLEVBdzlERWkvRCxDQUFhampFLEVBQVEra0QsRUFBUWllLEVBQVdoZSxHQUFXLEtBWTlELFNBQVNrZSxHQUFvQkMsRUFBVUMsR0FDckMsT0FBTyxTQUFTN2pFLEVBQU8rNkIsR0FDckIsSUFBSXQ1QixFQUNKLFFBM2xLRlcsSUEybEtNcEMsUUEzbEtOb0MsSUEybEs2QjI0QixFQUN6QixPQUFPOG9DLEVBS1QsUUFqbUtGemhFLElBOGxLTXBDLElBQ0Z5QixFQUFTekIsUUEvbEtib0MsSUFpbUtNMjRCLEVBQXFCLENBQ3ZCLFFBbG1LSjM0QixJQWttS1FYLEVBQ0YsT0FBT3M1QixFQUVXLGlCQUFULzZCLEdBQXFDLGlCQUFUKzZCLEdBQ3JDLzZCLEVBQVFvK0QsR0FBYXArRCxHQUNyQis2QixFQUFRcWpDLEdBQWFyakMsS0FFckIvNkIsRUFBUW0rRCxHQUFhbitELEdBQ3JCKzZCLEVBQVFvakMsR0FBYXBqQyxJQUV2QnQ1QixFQUFTbWlFLEVBQVM1akUsRUFBTys2QixHQUUzQixPQUFPdDVCLEdBV1gsU0FBU3FpRSxHQUFXQyxHQUNsQixPQUFPakMsSUFBUyxTQUFTNUcsR0FFdkIsT0FEQUEsRUFBWS9VLEdBQVMrVSxFQUFXelQsR0FBVTJULE9BQ25DaUIsSUFBUyxTQUFTNTVDLEdBQ3ZCLElBQUk0aUMsRUFBVWg3QyxLQUNkLE9BQU8wNUQsRUFBVTdJLEdBQVcsU0FBU3pWLEdBQ25DLE9BQU9uZ0QsR0FBTW1nRCxFQUFVSixFQUFTNWlDLFlBZXhDLFNBQVN1aEQsR0FBYy9pRSxFQUFRZ2pFLEdBRzdCLElBQUlDLEdBRkpELE9BL29LQTdoRSxJQStvS1E2aEUsRUFBc0IsSUFBTTdGLEdBQWE2RixJQUV6QmhqRSxPQUN4QixHQUFJaWpFLEVBQWMsRUFDaEIsT0FBT0EsRUFBYzlILEdBQVc2SCxFQUFPaGpFLEdBQVVnakUsRUFFbkQsSUFBSXhpRSxFQUFTMjZELEdBQVc2SCxFQUFPdFksR0FBVzFxRCxFQUFTZ29ELEdBQVdnYixLQUM5RCxPQUFPemIsR0FBV3liLEdBQ2QzRSxHQUFVblcsR0FBYzFuRCxHQUFTLEVBQUdSLEdBQVF1VSxLQUFLLElBQ2pEL1QsRUFBTzJCLE1BQU0sRUFBR25DLEdBNkN0QixTQUFTa2pFLEdBQVlwZCxHQUNuQixPQUFPLFNBQVM3OUMsRUFBTzh6RCxFQUFLb0gsR0FhMUIsT0FaSUEsR0FBdUIsaUJBQVJBLEdBQW9CbEQsR0FBZWg0RCxFQUFPOHpELEVBQUtvSCxLQUNoRXBILEVBQU1vSCxPQXhzS1ZoaUUsR0Eyc0tFOEcsRUFBUW03RCxHQUFTbjdELFFBM3NLbkI5RyxJQTRzS000NkQsR0FDRkEsRUFBTTl6RCxFQUNOQSxFQUFRLEdBRVI4ekQsRUFBTXFILEdBQVNySCxHQXI3Q3JCLFNBQW1COXpELEVBQU84ekQsRUFBS29ILEVBQU1yZCxHQUtuQyxJQUpBLElBQUlwd0MsR0FBUyxFQUNUMVYsRUFBU3FyRCxHQUFVWCxJQUFZcVIsRUFBTTl6RCxJQUFVazdELEdBQVEsSUFBSyxHQUM1RDNpRSxFQUFTTyxFQUFNZixHQUVaQSxLQUNMUSxFQUFPc2xELEVBQVk5bEQsSUFBVzBWLEdBQVN6TixFQUN2Q0EsR0FBU2s3RCxFQUVYLE9BQU8zaUUsRUErNkNFNmlFLENBQVVwN0QsRUFBTzh6RCxFQUR4Qm9ILE9BbHRLRmhpRSxJQWt0S1NnaUUsRUFBc0JsN0QsRUFBUTh6RCxFQUFNLEdBQUssRUFBS3FILEdBQVNELEdBQzNCcmQsSUFXdkMsU0FBU3dkLEdBQTBCWCxHQUNqQyxPQUFPLFNBQVM1akUsRUFBTys2QixHQUtyQixNQUpzQixpQkFBVC82QixHQUFxQyxpQkFBVCs2QixJQUN2Qy82QixFQUFRd2tFLEdBQVN4a0UsR0FDakIrNkIsRUFBUXlwQyxHQUFTenBDLElBRVo2b0MsRUFBUzVqRSxFQUFPKzZCLElBcUIzQixTQUFTc29DLEdBQWNyK0QsRUFBTThzRCxFQUFTMlMsRUFBVXRjLEVBQWE5QyxFQUFTeWEsRUFBVUMsRUFBUzRDLEVBQVFDLEVBQUtDLEdBQ3BHLElBQUk2QixFQXh0S2MsRUF3dEtKNVMsRUFNZEEsR0FBWTRTLEVBNXRLUSxHQUNNLEdBSkYsR0FndUt4QjVTLEtBQWE0UyxFQTV0S2EsR0FETixPQWd1S2xCNVMsSUFBVyxHQUViLElBQUlqOUIsRUFBVSxDQUNaN3ZCLEVBQU04c0QsRUFBU3pNLEVBVkNxZixFQUFVNUUsT0E3dks1QjE5RCxFQTJ2S2lCc2lFLEVBQVUzRSxPQTN2SzNCMzlELEVBOHZLdUJzaUUsT0E5dkt2QnRpRSxFQTh2SzZDMDlELEVBRnZCNEUsT0E1dkt0QnRpRSxFQTR2SzRDMjlELEVBWXpCNEMsRUFBUUMsRUFBS0MsR0FHNUJwaEUsRUFBU2dqRSxFQUFTbi9ELFdBM3dLdEJsRCxFQTJ3S3VDeXlCLEdBS3ZDLE9BSkl5dEMsR0FBV3Q5RCxJQUNiMi9ELEdBQVFsakUsRUFBUW96QixHQUVsQnB6QixFQUFPMG1ELFlBQWNBLEVBQ2R5YyxHQUFnQm5qRSxFQUFRdUQsRUFBTThzRCxHQVV2QyxTQUFTK1MsR0FBWTM4QixHQUNuQixJQUFJbGpDLEVBQU8wYSxHQUFLd29CLEdBQ2hCLE9BQU8sU0FBU3dwQixFQUFRb1QsR0FHdEIsR0FGQXBULEVBQVM4UyxHQUFTOVMsSUFDbEJvVCxFQUF5QixNQUFiQSxFQUFvQixFQUFJdFksR0FBVXVZLEdBQVVELEdBQVksT0FDbkQ1WSxHQUFld0YsR0FBUyxDQUd2QyxJQUFJc1QsR0FBUW43RCxHQUFTNm5ELEdBQVUsS0FBS3JJLE1BQU0sS0FJMUMsU0FEQTJiLEdBQVFuN0QsR0FGSTdFLEVBQUtnZ0UsRUFBSyxHQUFLLE1BQVFBLEVBQUssR0FBS0YsS0FFbkIsS0FBS3piLE1BQU0sTUFDdkIsR0FBSyxNQUFRMmIsRUFBSyxHQUFLRixJQUV2QyxPQUFPOS9ELEVBQUswc0QsSUFXaEIsSUFBSTRNLEdBQWNyUixJQUFRLEVBQUlsRSxHQUFXLElBQUlrRSxHQUFJLENBQUMsRUFBRSxLQUFLLElBM3ZLNUMsSUEydktzRSxTQUFTN3JELEdBQzFGLE9BQU8sSUFBSTZyRCxHQUFJN3JELElBRDJENmpFLEdBVzVFLFNBQVNDLEdBQWMvTyxHQUNyQixPQUFPLFNBQVMxMUQsR0FDZCxJQUFJNnhELEVBQU1DLEdBQU85eEQsR0FDakIsT0FBSTZ4RCxHQUFPbFUsRUFDRnNLLEdBQVdqb0QsR0FFaEI2eEQsR0FBTzlULEVBQ0Z3SyxHQUFXdm9ELEdBbjNJMUIsU0FBcUJBLEVBQVFrbkQsR0FDM0IsT0FBT3hCLEdBQVN3QixHQUFPLFNBQVNybkQsR0FDOUIsTUFBTyxDQUFDQSxFQUFLRyxFQUFPSCxPQW0zSVg2a0UsQ0FBWTFrRSxFQUFRMDFELEVBQVMxMUQsS0E2QnhDLFNBQVMya0UsR0FBV3BnRSxFQUFNOHNELEVBQVN6TSxFQUFTeWEsRUFBVUMsRUFBUzRDLEVBQVFDLEVBQUtDLEdBQzFFLElBQUlHLEVBcjBLaUIsRUFxMEtMbFIsRUFDaEIsSUFBS2tSLEdBQTRCLG1CQUFSaCtELEVBQ3ZCLE1BQU0sSUFBSTJrRCxHQUFVak0sR0FFdEIsSUFBSXo4QyxFQUFTNitELEVBQVdBLEVBQVM3K0QsT0FBUyxFQVMxQyxHQVJLQSxJQUNINndELElBQVcsR0FDWGdPLEVBQVdDLE9BNTJLYjM5RCxHQTgyS0F3Z0UsT0E5MktBeGdFLElBODJLTXdnRSxFQUFvQkEsRUFBTXRXLEdBQVV5WSxHQUFVbkMsR0FBTSxHQUMxREMsT0EvMktBemdFLElBKzJLUXlnRSxFQUFzQkEsRUFBUWtDLEdBQVVsQyxHQUNoRDVoRSxHQUFVOCtELEVBQVVBLEVBQVE5K0QsT0FBUyxFQTMwS1gsR0E2MEt0QjZ3RCxFQUFtQyxDQUNyQyxJQUFJMlEsRUFBZ0IzQyxFQUNoQjRDLEVBQWUzQyxFQUVuQkQsRUFBV0MsT0F0M0tiMzlELEVBdzNLQSxJQUFJeXRELEVBQU9tVCxPQXgzS1g1Z0UsRUF3M0ttQ2lnRSxHQUFRcjlELEdBRXZDNnZCLEVBQVUsQ0FDWjd2QixFQUFNOHNELEVBQVN6TSxFQUFTeWEsRUFBVUMsRUFBUzBDLEVBQWVDLEVBQzFEQyxFQUFRQyxFQUFLQyxHQWtCZixHQWZJaFQsR0F5NkJOLFNBQW1CQSxFQUFNei9DLEdBQ3ZCLElBQUkwaEQsRUFBVWpDLEVBQUssR0FDZndWLEVBQWFqMUQsRUFBTyxHQUNwQmsxRCxFQUFheFQsRUFBVXVULEVBQ3ZCL1EsRUFBV2dSLEVBQWEsSUFFeEJDLEVBeHdNWSxLQXl3TVpGLEdBN3dNYyxHQTZ3TW1CdlQsR0F6d01yQixLQTB3TVp1VCxHQXp3TWMsS0F5d01tQnZULEdBQWdDakMsRUFBSyxHQUFHNXVELFFBQVVtUCxFQUFPLElBQzVFLEtBQWRpMUQsR0FBcURqMUQsRUFBTyxHQUFHblAsUUFBVW1QLEVBQU8sSUEvd01sRSxHQSt3TTBFMGhELEVBRzVGLElBQU13QyxJQUFZaVIsRUFDaEIsT0FBTzFWLEVBdHhNUSxFQXl4TWJ3VixJQUNGeFYsRUFBSyxHQUFLei9DLEVBQU8sR0FFakJrMUQsR0E1eE1lLEVBNHhNRHhULEVBQTJCLEVBMXhNbkIsR0E2eE14QixJQUFJOXhELEVBQVFvUSxFQUFPLEdBQ25CLEdBQUlwUSxFQUFPLENBQ1QsSUFBSTgvRCxFQUFXalEsRUFBSyxHQUNwQkEsRUFBSyxHQUFLaVEsRUFBV0QsR0FBWUMsRUFBVTkvRCxFQUFPb1EsRUFBTyxJQUFNcFEsRUFDL0Q2dkQsRUFBSyxHQUFLaVEsRUFBV2hYLEdBQWUrRyxFQUFLLEdBQUlsUyxHQUFldnRDLEVBQU8sSUFHckVwUSxFQUFRb1EsRUFBTyxNQUViMHZELEVBQVdqUSxFQUFLLEdBQ2hCQSxFQUFLLEdBQUtpUSxFQUFXVSxHQUFpQlYsRUFBVTkvRCxFQUFPb1EsRUFBTyxJQUFNcFEsRUFDcEU2dkQsRUFBSyxHQUFLaVEsRUFBV2hYLEdBQWUrRyxFQUFLLEdBQUlsUyxHQUFldnRDLEVBQU8sS0FHckVwUSxFQUFRb1EsRUFBTyxNQUVieS9DLEVBQUssR0FBSzd2RCxHQXh5TUksSUEyeU1acWxFLElBQ0Z4VixFQUFLLEdBQWdCLE1BQVhBLEVBQUssR0FBYXovQyxFQUFPLEdBQUtvOEMsR0FBVXFELEVBQUssR0FBSXovQyxFQUFPLEtBR3JELE1BQVh5L0MsRUFBSyxLQUNQQSxFQUFLLEdBQUt6L0MsRUFBTyxJQUduQnkvQyxFQUFLLEdBQUt6L0MsRUFBTyxHQUNqQnkvQyxFQUFLLEdBQUt5VixFQTE5QlJFLENBQVUzd0MsRUFBU2c3QixHQUVyQjdxRCxFQUFPNnZCLEVBQVEsR0FDZmk5QixFQUFVajlCLEVBQVEsR0FDbEJ3d0IsRUFBVXh3QixFQUFRLEdBQ2xCaXJDLEVBQVdqckMsRUFBUSxHQUNuQmtyQyxFQUFVbHJDLEVBQVEsS0FDbEJndUMsRUFBUWh1QyxFQUFRLFFBdjRLaEJ6eUIsSUF1NEtxQnl5QixFQUFRLEdBQ3hCbXVDLEVBQVksRUFBSWgrRCxFQUFLL0QsT0FDdEJxckQsR0FBVXozQixFQUFRLEdBQUs1ekIsRUFBUSxLQUVYLEdBQVY2d0QsSUFDWkEsSUFBVyxJQUVSQSxHQS8yS1ksR0ErMktEQSxFQUdkcndELEVBLzJLZ0IsR0E4MktQcXdELEdBNzJLYSxJQTYyS2lCQSxFQXBnQjNDLFNBQXFCOXNELEVBQU04c0QsRUFBUytRLEdBQ2xDLElBQUk1UCxFQUFPd08sR0FBV3o4RCxHQXdCdEIsT0F0QkEsU0FBU2s5RCxJQU1QLElBTEEsSUFBSWpoRSxFQUFTa0UsVUFBVWxFLE9BQ25Cd2hCLEVBQU96Z0IsRUFBTWYsR0FDYjBWLEVBQVExVixFQUNSa25ELEVBQWMrYSxHQUFVaEIsR0FFckJ2ckQsS0FDTDhMLEVBQUs5TCxHQUFTeFIsVUFBVXdSLEdBRTFCLElBQUlvcEQsRUFBVzkrRCxFQUFTLEdBQUt3aEIsRUFBSyxLQUFPMGxDLEdBQWUxbEMsRUFBS3hoQixFQUFTLEtBQU9rbkQsRUFDekUsR0FDQVcsR0FBZXJtQyxFQUFNMGxDLEdBR3pCLElBREFsbkQsR0FBVTgrRCxFQUFROStELFFBQ0w0aEUsRUFDWCxPQUFPUSxHQUNMcitELEVBQU04c0QsRUFBUzBRLEdBQWNOLEVBQVEvWixpQkEvNUozQy9sRCxFQWc2Sk1xZ0IsRUFBTXM5QyxPQWg2SlozOUQsU0FnNkoyQ3lnRSxFQUFRNWhFLEdBRWpELElBQUlxaUUsRUFBTWo1RCxNQUFRQSxPQUFTMDVDLElBQVExNUMsZ0JBQWdCNjNELEVBQVdqUCxFQUFPanVELEVBQ3JFLE9BQU9NLEdBQU1nK0QsRUFBSWo1RCxLQUFNb1ksSUE4ZWRnakQsQ0FBWXpnRSxFQUFNOHNELEVBQVMrUSxHQTcyS2xCLElBODJLUi9RLEdBQTJDLElBQVhBLEdBQXFEaU8sRUFBUTkrRCxPQUc5RnVoRSxHQUFhbDlELFdBcjVLeEJsRCxFQXE1S3lDeXlCLEdBOU8zQyxTQUF1Qjd2QixFQUFNOHNELEVBQVN6TSxFQUFTeWEsR0FDN0MsSUFBSWlELEVBem9LYSxFQXlvS0pqUixFQUNUbUIsRUFBT3dPLEdBQVd6OEQsR0FrQnRCLE9BaEJBLFNBQVNrOUQsSUFRUCxJQVBBLElBQUlqQyxHQUFhLEVBQ2JDLEVBQWEvNkQsVUFBVWxFLE9BQ3ZCbS9ELEdBQWEsRUFDYkMsRUFBYVAsRUFBUzcrRCxPQUN0QndoQixFQUFPemdCLEVBQU1xK0QsRUFBYUgsR0FDMUJvRCxFQUFNajVELE1BQVFBLE9BQVMwNUMsSUFBUTE1QyxnQkFBZ0I2M0QsRUFBV2pQLEVBQU9qdUQsSUFFNURvN0QsRUFBWUMsR0FDbkI1OUMsRUFBSzI5QyxHQUFhTixFQUFTTSxHQUU3QixLQUFPRixLQUNMejlDLEVBQUsyOUMsS0FBZWo3RCxZQUFZODZELEdBRWxDLE9BQU8zNkQsR0FBTWcrRCxFQUFJUCxFQUFTMWQsRUFBVWg3QyxLQUFNb1ksSUEwTmpDaWpELENBQWMxZ0UsRUFBTThzRCxFQUFTek0sRUFBU3lhLFFBSi9DLElBQUlyK0QsRUFobUJSLFNBQW9CdUQsRUFBTThzRCxFQUFTek0sR0FDakMsSUFBSTBkLEVBanhKYSxFQWl4SkpqUixFQUNUbUIsRUFBT3dPLEdBQVd6OEQsR0FNdEIsT0FKQSxTQUFTazlELElBQ1AsSUFBSW9CLEVBQU1qNUQsTUFBUUEsT0FBUzA1QyxJQUFRMTVDLGdCQUFnQjYzRCxFQUFXalAsRUFBT2p1RCxFQUNyRSxPQUFPcytELEVBQUdoK0QsTUFBTXk5RCxFQUFTMWQsRUFBVWg3QyxLQUFNbEYsWUEwbEI1QndnRSxDQUFXM2dFLEVBQU04c0QsRUFBU3pNLEdBU3pDLE9BQU91ZixJQURNL1UsRUFBTzhNLEdBQWNnSSxJQUNKbGpFLEVBQVFvekIsR0FBVTd2QixFQUFNOHNELEdBZXhELFNBQVM4VCxHQUF1QjNVLEVBQVVrSSxFQUFVNzRELEVBQUtHLEdBQ3ZELFlBeDZLQTJCLElBdzZLSTZ1RCxHQUNDSCxHQUFHRyxFQUFVbkgsR0FBWXhwRCxNQUFVTSxHQUFlMUIsS0FBS3VCLEVBQVFILEdBQzNENjRELEVBRUZsSSxFQWlCVCxTQUFTNFUsR0FBb0I1VSxFQUFVa0ksRUFBVTc0RCxFQUFLRyxFQUFRMlAsRUFBUTRoRCxHQU9wRSxPQU5JdHZELEdBQVN1dUQsSUFBYXZ1RCxHQUFTeTJELEtBRWpDbkgsRUFBTXZwRCxJQUFJMHdELEVBQVVsSSxHQUNwQnFKLEdBQVVySixFQUFVa0ksT0FqOEt0Qi8yRCxFQWk4SzJDeWpFLEdBQXFCN1QsR0FDOURBLEVBQWMsT0FBRW1ILElBRVhsSSxFQVlULFNBQVM2VSxHQUFnQjlsRSxHQUN2QixPQUFPNjZELEdBQWM3NkQsUUFqOUtyQm9DLEVBaTlLMENwQyxFQWdCNUMsU0FBUyszRCxHQUFZeFMsRUFBT3hxQixFQUFPKzJCLEVBQVNDLEVBQVl3RixFQUFXdkYsR0FDakUsSUFBSWlHLEVBdjhLbUIsRUF1OEtQbkcsRUFDWmlVLEVBQVl4Z0IsRUFBTXRrRCxPQUNsQjgxRCxFQUFZaDhCLEVBQU05NUIsT0FFdEIsR0FBSThrRSxHQUFhaFAsS0FBZWtCLEdBQWFsQixFQUFZZ1AsR0FDdkQsT0FBTyxFQUdULElBQUlsUyxFQUFVN0IsRUFBTXB5RCxJQUFJMmxELEdBQ3hCLEdBQUlzTyxHQUFXN0IsRUFBTXB5RCxJQUFJbTdCLEdBQ3ZCLE9BQU84NEIsR0FBVzk0QixFQUVwQixJQUFJcGtCLEdBQVMsRUFDVGxWLEdBQVMsRUFDVHkxRCxFQXA5S3FCLEVBbzlLYnBGLEVBQW9DLElBQUlyQyxRQWgvS3BEcnRELEVBcy9LQSxJQUpBNHZELEVBQU12cEQsSUFBSTg4QyxFQUFPeHFCLEdBQ2pCaTNCLEVBQU12cEQsSUFBSXN5QixFQUFPd3FCLEtBR1I1dUMsRUFBUW92RCxHQUFXLENBQzFCLElBQUlDLEVBQVd6Z0IsRUFBTTV1QyxHQUNqQitoRCxFQUFXMzlCLEVBQU1wa0IsR0FFckIsR0FBSW83QyxFQUNGLElBQUk0RyxFQUFXVixFQUNYbEcsRUFBVzJHLEVBQVVzTixFQUFVcnZELEVBQU9va0IsRUFBT3dxQixFQUFPeU0sR0FDcERELEVBQVdpVSxFQUFVdE4sRUFBVS9oRCxFQUFPNHVDLEVBQU94cUIsRUFBT2kzQixHQUUxRCxRQS8vS0Y1dkQsSUErL0tNdTJELEVBQXdCLENBQzFCLEdBQUlBLEVBQ0YsU0FFRmwzRCxHQUFTLEVBQ1QsTUFHRixHQUFJeTFELEdBQ0YsSUFBSzFRLEdBQVV6ckIsR0FBTyxTQUFTMjlCLEVBQVUxQixHQUNuQyxJQUFLcFAsR0FBU3NQLEVBQU1GLEtBQ2ZnUCxJQUFhdE4sR0FBWW5CLEVBQVV5TyxFQUFVdE4sRUFBVTVHLEVBQVNDLEVBQVlDLElBQy9FLE9BQU9rRixFQUFLNTFELEtBQUswMUQsTUFFakIsQ0FDTnYxRCxHQUFTLEVBQ1QsWUFFRyxHQUNEdWtFLElBQWF0TixJQUNYbkIsRUFBVXlPLEVBQVV0TixFQUFVNUcsRUFBU0MsRUFBWUMsR0FDcEQsQ0FDTHZ3RCxHQUFTLEVBQ1QsT0FLSixPQUZBdXdELEVBQWMsT0FBRXpNLEdBQ2hCeU0sRUFBYyxPQUFFajNCLEdBQ1R0NUIsRUF5S1QsU0FBU3FnRSxHQUFTOThELEdBQ2hCLE9BQU9zM0QsR0FBWUMsR0FBU3YzRCxPQXJzTDVCNUMsRUFxc0w2Q04sSUFBVWtELEVBQU8sSUFVaEUsU0FBU2d2RCxHQUFXdnpELEdBQ2xCLE9BQU95MUQsR0FBZXoxRCxFQUFRUyxHQUFNNnhELElBV3RDLFNBQVNnQixHQUFhdHpELEdBQ3BCLE9BQU95MUQsR0FBZXoxRCxFQUFRb3lELEdBQVFGLElBVXhDLElBQUkwUCxHQUFXalYsR0FBaUIsU0FBU3BvRCxHQUN2QyxPQUFPb29ELEdBQVF4dEQsSUFBSW9GLElBRElpZ0UsR0FXekIsU0FBUzlDLEdBQVluOUQsR0FLbkIsSUFKQSxJQUFJdkQsRUFBVXVELEVBQUsxRixLQUFPLEdBQ3RCaW1ELEVBQVE4SCxHQUFVNXJELEdBQ2xCUixFQUFTTCxHQUFlMUIsS0FBS211RCxHQUFXNXJELEdBQVU4akQsRUFBTXRrRCxPQUFTLEVBRTlEQSxLQUFVLENBQ2YsSUFBSTR1RCxFQUFPdEssRUFBTXRrRCxHQUNiZ2xFLEVBQVlwVyxFQUFLN3FELEtBQ3JCLEdBQWlCLE1BQWJpaEUsR0FBcUJBLEdBQWFqaEUsRUFDcEMsT0FBTzZxRCxFQUFLdndELEtBR2hCLE9BQU9tQyxFQVVULFNBQVN5aEUsR0FBVWwrRCxHQUVqQixPQURhcEUsR0FBZTFCLEtBQUs4dUQsR0FBUSxlQUFpQkEsR0FBU2hwRCxHQUNyRG1qRCxZQWNoQixTQUFTaVQsS0FDUCxJQUFJMzVELEVBQVN1c0QsR0FBT3ZJLFVBQVlBLEdBRWhDLE9BREFoa0QsRUFBU0EsSUFBV2drRCxHQUFXNlQsR0FBZTczRCxFQUN2QzBELFVBQVVsRSxPQUFTUSxFQUFPMEQsVUFBVSxHQUFJQSxVQUFVLElBQU0xRCxFQVdqRSxTQUFTbXpELEdBQVcveUQsRUFBS3ZCLEdBQ3ZCLElBZ1lpQk4sRUFDYjZLLEVBallBZ2xELEVBQU9odUQsRUFBSTZ0RCxTQUNmLE9BaVlnQixXQURaN2tELFNBRGE3SyxFQS9YQU0sS0FpWW1CLFVBQVJ1SyxHQUE0QixVQUFSQSxHQUE0QixXQUFSQSxFQUNyRCxjQUFWN0ssRUFDVSxPQUFWQSxHQWxZRDZ2RCxFQUFtQixpQkFBUHZ2RCxFQUFrQixTQUFXLFFBQ3pDdXZELEVBQUtodUQsSUFVWCxTQUFTbzRELEdBQWF4NUQsR0FJcEIsSUFIQSxJQUFJZ0IsRUFBU1AsR0FBS1QsR0FDZFEsRUFBU1EsRUFBT1IsT0FFYkEsS0FBVSxDQUNmLElBQUlYLEVBQU1tQixFQUFPUixHQUNiakIsRUFBUVMsRUFBT0gsR0FFbkJtQixFQUFPUixHQUFVLENBQUNYLEVBQUtOLEVBQU9vNkQsR0FBbUJwNkQsSUFFbkQsT0FBT3lCLEVBV1QsU0FBUzJwRCxHQUFVM3FELEVBQVFILEdBQ3pCLElBQUlOLEVBN3VKUixTQUFrQlMsRUFBUUgsR0FDeEIsT0FBaUIsTUFBVkcsT0E3bENMMkIsRUE2bENrQzNCLEVBQU9ILEdBNHVKN0I0bEUsQ0FBU3psRSxFQUFRSCxHQUM3QixPQUFPKzRELEdBQWFyNUQsR0FBU0EsT0ExMEw3Qm9DLEVBKzJMRixJQUFJMndELEdBQWNqSCxHQUErQixTQUFTcnJELEdBQ3hELE9BQWMsTUFBVkEsRUFDSyxJQUVUQSxFQUFTaEIsR0FBT2dCLEdBQ1RvbEQsR0FBWWlHLEdBQWlCcnJELElBQVMsU0FBU2t6RCxHQUNwRCxPQUFPN0ksR0FBcUI1ckQsS0FBS3VCLEVBQVFrekQsUUFOUndTLEdBaUJqQ3hULEdBQWdCN0csR0FBK0IsU0FBU3JyRCxHQUUxRCxJQURBLElBQUlnQixFQUFTLEdBQ05oQixHQUNMMmxELEdBQVUza0QsRUFBUXN4RCxHQUFXdHlELElBQzdCQSxFQUFTa3FELEdBQWFscUQsR0FFeEIsT0FBT2dCLEdBTjhCMGtFLEdBZ0JuQzVULEdBQVM4RCxHQTJFYixTQUFTK1AsR0FBUTNsRSxFQUFRc1osRUFBTXNzRCxHQU83QixJQUpBLElBQUkxdkQsR0FBUyxFQUNUMVYsR0FISjhZLEVBQU9pOEMsR0FBU2o4QyxFQUFNdFosSUFHSlEsT0FDZFEsR0FBUyxJQUVKa1YsRUFBUTFWLEdBQVEsQ0FDdkIsSUFBSVgsRUFBTTIxRCxHQUFNbDhDLEVBQUtwRCxJQUNyQixLQUFNbFYsRUFBbUIsTUFBVmhCLEdBQWtCNGxFLEVBQVE1bEUsRUFBUUgsSUFDL0MsTUFFRkcsRUFBU0EsRUFBT0gsR0FFbEIsT0FBSW1CLEtBQVlrVixHQUFTMVYsRUFDaEJRLEtBRVRSLEVBQW1CLE1BQVZSLEVBQWlCLEVBQUlBLEVBQU9RLFNBQ2xCcWxFLEdBQVNybEUsSUFBV292RCxHQUFRL3ZELEVBQUtXLEtBQ2pEZ0IsR0FBUXhCLElBQVd3dkQsR0FBWXh2RCxJQTZCcEMsU0FBU2l5RCxHQUFnQmp5RCxHQUN2QixNQUFxQyxtQkFBdEJBLEVBQU82SixhQUE4Qm92RCxHQUFZajVELEdBRTVELEdBREE0dEQsR0FBVzFELEdBQWFscUQsSUE4RTlCLFNBQVNpMUQsR0FBYzExRCxHQUNyQixPQUFPaUMsR0FBUWpDLElBQVVpd0QsR0FBWWp3RCxPQUNoQ2dyRCxJQUFvQmhyRCxHQUFTQSxFQUFNZ3JELEtBVzFDLFNBQVNxRixHQUFRcndELEVBQU9pQixHQUN0QixJQUFJNEosU0FBYzdLLEVBR2xCLFNBRkFpQixFQUFtQixNQUFWQSxFQWpqTVUsaUJBaWpNMEJBLEtBR2xDLFVBQVI0SixHQUNVLFVBQVJBLEdBQW9CczJDLEdBQVNodEMsS0FBS25VLEtBQ2hDQSxHQUFTLEdBQUtBLEVBQVEsR0FBSyxHQUFLQSxFQUFRaUIsRUFhakQsU0FBU2lnRSxHQUFlbGhFLEVBQU8yVyxFQUFPbFcsR0FDcEMsSUFBS2lDLEdBQVNqQyxHQUNaLE9BQU8sRUFFVCxJQUFJb0ssU0FBYzhMLEVBQ2xCLFNBQVksVUFBUjlMLEVBQ0ttdkQsR0FBWXY1RCxJQUFXNHZELEdBQVExNUMsRUFBT2xXLEVBQU9RLFFBQ3JDLFVBQVI0SixHQUFvQjhMLEtBQVNsVyxJQUU3QnF3RCxHQUFHcndELEVBQU9rVyxHQUFRM1csR0FhN0IsU0FBU202RCxHQUFNbjZELEVBQU9TLEdBQ3BCLEdBQUl3QixHQUFRakMsR0FDVixPQUFPLEVBRVQsSUFBSTZLLFNBQWM3SyxFQUNsQixRQUFZLFVBQVI2SyxHQUE0QixVQUFSQSxHQUE0QixXQUFSQSxHQUMvQixNQUFUN0ssSUFBaUJxMUQsR0FBU3IxRCxNQUd2QmlnRCxFQUFjOXJDLEtBQUtuVSxLQUFXZ2dELEVBQWE3ckMsS0FBS25VLElBQzFDLE1BQVZTLEdBQWtCVCxLQUFTUCxHQUFPZ0IsSUF5QnZDLFNBQVM2aEUsR0FBV3Q5RCxHQUNsQixJQUFJbzlELEVBQVdELEdBQVluOUQsR0FDdkIrMUIsRUFBUWl6QixHQUFPb1UsR0FFbkIsR0FBb0IsbUJBQVRybkMsS0FBeUJxbkMsS0FBWWxVLEdBQVl2dEQsV0FDMUQsT0FBTyxFQUVULEdBQUlxRSxJQUFTKzFCLEVBQ1gsT0FBTyxFQUVULElBQUk4MEIsRUFBT3dTLEdBQVF0bkMsR0FDbkIsUUFBUzgwQixHQUFRN3FELElBQVM2cUQsRUFBSyxJQTdTNUI5QyxJQUFZd0YsR0FBTyxJQUFJeEYsR0FBUyxJQUFJd1osWUFBWSxNQUFRMW5CLEdBQ3hEOTJDLElBQU93cUQsR0FBTyxJQUFJeHFELEtBQVFxMkMsR0FDMUI0TyxJQXh6TFUsb0JBd3pMQ3VGLEdBQU92RixHQUFRd1osWUFDMUJ2WixJQUFPc0YsR0FBTyxJQUFJdEYsS0FBUXpPLEdBQzFCME8sSUFBV3FGLEdBQU8sSUFBSXJGLEtBQVl2TyxLQUNyQzRULEdBQVMsU0FBU3Z5RCxHQUNoQixJQUFJeUIsRUFBUzQwRCxHQUFXcjJELEdBQ3BCaXpELEVBQU94eEQsR0FBVTY4QyxFQUFZdCtDLEVBQU1zSyxpQkExNUx6Q2xJLEVBMjVMTXFrRSxFQUFheFQsRUFBTzFGLEdBQVMwRixHQUFRLEdBRXpDLEdBQUl3VCxFQUNGLE9BQVFBLEdBQ04sS0FBS25aLEdBQW9CLE9BQU96TyxFQUNoQyxLQUFLMk8sR0FBZSxPQUFPcFAsRUFDM0IsS0FBS3FQLEdBQW1CLE1BcDBMakIsbUJBcTBMUCxLQUFLQyxHQUFlLE9BQU9sUCxFQUMzQixLQUFLbVAsR0FBbUIsT0FBT2hQLEVBR25DLE9BQU9sOUMsSUErU1gsSUFBSWlsRSxHQUFhM2MsR0FBYS9tRCxHQUFhMmpFLEdBUzNDLFNBQVNqTixHQUFZMTVELEdBQ25CLElBQUlpekQsRUFBT2p6RCxHQUFTQSxFQUFNc0ssWUFHMUIsT0FBT3RLLEtBRnFCLG1CQUFSaXpELEdBQXNCQSxFQUFLdHlELFdBQWNtcEQsSUFhL0QsU0FBU3NRLEdBQW1CcDZELEdBQzFCLE9BQU9BLEdBQVVBLElBQVUwQyxHQUFTMUMsR0FZdEMsU0FBU2s2RCxHQUF3QjU1RCxFQUFLNjRELEdBQ3BDLE9BQU8sU0FBUzE0RCxHQUNkLE9BQWMsTUFBVkEsSUFHR0EsRUFBT0gsS0FBUzY0RCxTQS92TXpCLzJELElBZ3dNSysyRCxHQUEyQjc0RCxLQUFPYixHQUFPZ0IsTUFzSWhELFNBQVM4N0QsR0FBU3YzRCxFQUFNa0UsRUFBTzAvQyxHQUU3QixPQURBMS9DLEVBQVFvakQsUUF2NE1SbHFELElBdTRNa0I4RyxFQUF1QmxFLEVBQUsvRCxPQUFTLEVBQUtpSSxFQUFPLEdBQzVELFdBTUwsSUFMQSxJQUFJdVosRUFBT3RkLFVBQ1B3UixHQUFTLEVBQ1QxVixFQUFTcXJELEdBQVU3cEMsRUFBS3hoQixPQUFTaUksRUFBTyxHQUN4Q3E4QyxFQUFRdmpELEVBQU1mLEtBRVQwVixFQUFRMVYsR0FDZnNrRCxFQUFNNXVDLEdBQVM4TCxFQUFLdlosRUFBUXlOLEdBRTlCQSxHQUFTLEVBRVQsSUFEQSxJQUFJaXdELEVBQVk1a0UsRUFBTWtILEVBQVEsS0FDckJ5TixFQUFRek4sR0FDZjA5RCxFQUFVandELEdBQVM4TCxFQUFLOUwsR0FHMUIsT0FEQWl3RCxFQUFVMTlELEdBQVMwL0MsRUFBVXJELEdBQ3RCamdELEdBQU1OLEVBQU1xRixLQUFNdThELElBWTdCLFNBQVN4UCxHQUFPMzJELEVBQVFzWixHQUN0QixPQUFPQSxFQUFLOVksT0FBUyxFQUFJUixFQUFTczFELEdBQVF0MUQsRUFBUXM4RCxHQUFVaGpELEVBQU0sR0FBSSxJQWF4RSxTQUFTd3BELEdBQVFoZSxFQUFPMlcsR0FLdEIsSUFKQSxJQUFJNkosRUFBWXhnQixFQUFNdGtELE9BQ2xCQSxFQUFTdXJELEdBQVUwUCxFQUFRajdELE9BQVE4a0UsR0FDbkNjLEVBQVduVyxHQUFVbkwsR0FFbEJ0a0QsS0FBVSxDQUNmLElBQUkwVixFQUFRdWxELEVBQVFqN0QsR0FDcEJza0QsRUFBTXRrRCxHQUFVb3ZELEdBQVExNUMsRUFBT292RCxHQUFhYyxFQUFTbHdELFFBeDdNdkR2VSxFQTA3TUEsT0FBT21qRCxFQVdULFNBQVNrVixHQUFRaDZELEVBQVFILEdBQ3ZCLElBQVksZ0JBQVJBLEdBQWdELG1CQUFoQkcsRUFBT0gsS0FJaEMsYUFBUEEsRUFJSixPQUFPRyxFQUFPSCxHQWlCaEIsSUFBSXFrRSxHQUFVbUMsR0FBU25LLElBVW5CalIsR0FBYUQsSUFBaUIsU0FBU3ptRCxFQUFNbXZELEdBQy9DLE9BQU9wUSxHQUFLMkgsV0FBVzFtRCxFQUFNbXZELElBVzNCbUksR0FBY3dLLEdBQVNsSyxJQVkzQixTQUFTZ0ksR0FBZ0IxQyxFQUFTNkUsRUFBV2pWLEdBQzNDLElBQUkxaEQsRUFBVTIyRCxFQUFZLEdBQzFCLE9BQU96SyxHQUFZNEYsRUExYnJCLFNBQTJCOXhELEVBQVF1SCxHQUNqQyxJQUFJMVcsRUFBUzBXLEVBQVExVyxPQUNyQixJQUFLQSxFQUNILE9BQU9tUCxFQUVULElBQUlnSSxFQUFZblgsRUFBUyxFQUd6QixPQUZBMFcsRUFBUVMsSUFBY25YLEVBQVMsRUFBSSxLQUFPLElBQU0wVyxFQUFRUyxHQUN4RFQsRUFBVUEsRUFBUW5DLEtBQUt2VSxFQUFTLEVBQUksS0FBTyxLQUNwQ21QLEVBQU9LLFFBQVErdkMsRUFBZSx1QkFBeUI3b0MsRUFBVSxVQWtiNUNxdkQsQ0FBa0I1MkQsRUFxSGhELFNBQTJCdUgsRUFBU202QyxHQU9sQyxPQU5BcE0sR0FBVTlILEdBQVcsU0FBU29uQixHQUM1QixJQUFJaGxFLEVBQVEsS0FBT2dsRSxFQUFLLEdBQ25CbFQsRUFBVWtULEVBQUssS0FBUWpmLEdBQWNwdUMsRUFBUzNYLElBQ2pEMlgsRUFBUXJXLEtBQUt0QixNQUdWMlgsRUFBUTVSLE9BNUh1Q2toRSxDQXRqQnhELFNBQXdCNzJELEdBQ3RCLElBQUlnTixFQUFRaE4sRUFBT2dOLE1BQU1xakMsR0FDekIsT0FBT3JqQyxFQUFRQSxFQUFNLEdBQUdpc0MsTUFBTTNJLEdBQWtCLEdBb2pCd0J3bUIsQ0FBZTkyRCxHQUFTMGhELEtBWWxHLFNBQVNnVixHQUFTOWhFLEdBQ2hCLElBQUltaUUsRUFBUSxFQUNSQyxFQUFhLEVBRWpCLE9BQU8sV0FDTCxJQUFJQyxFQUFRM2EsS0FDUjRhLEVBcitNSyxJQXErTW1CRCxFQUFRRCxHQUdwQyxHQURBQSxFQUFhQyxFQUNUQyxFQUFZLEdBQ2QsS0FBTUgsR0ExK01FLElBMitNTixPQUFPaGlFLFVBQVUsUUFHbkJnaUUsRUFBUSxFQUVWLE9BQU9uaUUsRUFBS00sV0EvaE5kbEQsRUEraE4rQitDLFlBWWpDLFNBQVNzckQsR0FBWWxMLEVBQU81eEIsR0FDMUIsSUFBSWhkLEdBQVMsRUFDVDFWLEVBQVNza0QsRUFBTXRrRCxPQUNmbVgsRUFBWW5YLEVBQVMsRUFHekIsSUFEQTB5QixPQWhqTkF2eEIsSUFnak5PdXhCLEVBQXFCMXlCLEVBQVMweUIsSUFDNUJoZCxFQUFRZ2QsR0FBTSxDQUNyQixJQUFJNHpDLEVBQU9oWCxHQUFXNTVDLEVBQU95QixHQUN6QnBZLEVBQVF1bEQsRUFBTWdpQixHQUVsQmhpQixFQUFNZ2lCLEdBQVFoaUIsRUFBTTV1QyxHQUNwQjR1QyxFQUFNNXVDLEdBQVMzVyxFQUdqQixPQURBdWxELEVBQU10a0QsT0FBUzB5QixFQUNSNHhCLEVBVVQsSUFBSTZaLEdBdlRKLFNBQXVCcDZELEdBQ3JCLElBQUl2RCxFQUFTK2xFLEdBQVF4aUUsR0FBTSxTQUFTMUUsR0FJbEMsT0Fqd01pQixNQTh2TWJ1bkQsRUFBTWwwQixNQUNSazBCLEVBQU13SCxRQUVEL3VELEtBR0x1bkQsRUFBUXBtRCxFQUFPb21ELE1BQ25CLE9BQU9wbUQsRUE4U1VnbUUsRUFBYyxTQUFTaGYsR0FDeEMsSUFBSWhuRCxFQUFTLEdBT2IsT0FONkIsS0FBekJnbkQsRUFBTzU3QyxXQUFXLElBQ3BCcEwsRUFBT0gsS0FBSyxJQUVkbW5ELEVBQU9oNEMsUUFBUXl2QyxHQUFZLFNBQVM5aUMsRUFBT3MwQyxFQUFRZ1csRUFBT0MsR0FDeERsbUUsRUFBT0gsS0FBS29tRSxFQUFRQyxFQUFVbDNELFFBQVFtd0MsR0FBYyxNQUFTOFEsR0FBVXQwQyxNQUVsRTNiLEtBVVQsU0FBU3cwRCxHQUFNajJELEdBQ2IsR0FBb0IsaUJBQVRBLEdBQXFCcTFELEdBQVNyMUQsR0FDdkMsT0FBT0EsRUFFVCxJQUFJeUIsRUFBVXpCLEVBQVEsR0FDdEIsTUFBa0IsS0FBVnlCLEdBQWtCLEVBQUl6QixJQWxpTm5CLElBa2lOMEMsS0FBT3lCLEVBVTlELFNBQVM4ckQsR0FBU3ZvRCxHQUNoQixHQUFZLE1BQVJBLEVBQWMsQ0FDaEIsSUFDRSxPQUFPZ2xELEdBQWE5cUQsS0FBSzhGLEdBQ3pCLE1BQU9vSCxJQUNULElBQ0UsT0FBUXBILEVBQU8sR0FDZixNQUFPb0gsS0FFWCxNQUFPLEdBNEJULFNBQVNnaUQsR0FBYThULEdBQ3BCLEdBQUlBLGFBQW1CaFUsR0FDckIsT0FBT2dVLEVBQVEwRixRQUVqQixJQUFJbm1FLEVBQVMsSUFBSTBzRCxHQUFjK1QsRUFBUXpULFlBQWF5VCxFQUFRdlQsV0FJNUQsT0FIQWx0RCxFQUFPaXRELFlBQWNnQyxHQUFVd1IsRUFBUXhULGFBQ3ZDanRELEVBQU9tdEQsVUFBYXNULEVBQVF0VCxVQUM1Qm50RCxFQUFPb3RELFdBQWFxVCxFQUFRclQsV0FDckJwdEQsRUFzSVQsSUFBSWlFLEdBQWEyMkQsSUFBUyxTQUFTOVcsRUFBT25rRCxHQUN4QyxPQUFPdzVELEdBQWtCclYsR0FDckI2TyxHQUFlN08sRUFBT2dRLEdBQVluMEQsRUFBUSxFQUFHdzVELElBQW1CLElBQ2hFLE1BNkJGaU4sR0FBZXhMLElBQVMsU0FBUzlXLEVBQU9ua0QsR0FDMUMsSUFBSXFrRCxFQUFXcGpELEdBQUtqQixHQUlwQixPQUhJdzVELEdBQWtCblYsS0FDcEJBLE9BMXpORnJqRCxHQTR6Tk93NEQsR0FBa0JyVixHQUNyQjZPLEdBQWU3TyxFQUFPZ1EsR0FBWW4wRCxFQUFRLEVBQUd3NUQsSUFBbUIsR0FBT1EsR0FBWTNWLEVBQVUsSUFDN0YsTUEwQkZxaUIsR0FBaUJ6TCxJQUFTLFNBQVM5VyxFQUFPbmtELEdBQzVDLElBQUk4a0QsRUFBYTdqRCxHQUFLakIsR0FJdEIsT0FISXc1RCxHQUFrQjFVLEtBQ3BCQSxPQTMxTkY5akQsR0E2MU5PdzRELEdBQWtCclYsR0FDckI2TyxHQUFlN08sRUFBT2dRLEdBQVluMEQsRUFBUSxFQUFHdzVELElBQW1CLFFBOTFOcEV4NEQsRUE4MU5zRjhqRCxHQUNsRixNQXNPTixTQUFTNmhCLEdBQVV4aUIsRUFBT2hpRCxFQUFXdWpELEdBQ25DLElBQUk3bEQsRUFBa0IsTUFBVHNrRCxFQUFnQixFQUFJQSxFQUFNdGtELE9BQ3ZDLElBQUtBLEVBQ0gsT0FBUSxFQUVWLElBQUkwVixFQUFxQixNQUFibXdDLEVBQW9CLEVBQUlpZSxHQUFVamUsR0FJOUMsT0FISW53QyxFQUFRLElBQ1ZBLEVBQVEyMUMsR0FBVXJyRCxFQUFTMFYsRUFBTyxJQUU3Qmt3QyxHQUFjdEIsRUFBTzZWLEdBQVk3M0QsRUFBVyxHQUFJb1QsR0FzQ3pELFNBQVNxeEQsR0FBY3ppQixFQUFPaGlELEVBQVd1akQsR0FDdkMsSUFBSTdsRCxFQUFrQixNQUFUc2tELEVBQWdCLEVBQUlBLEVBQU10a0QsT0FDdkMsSUFBS0EsRUFDSCxPQUFRLEVBRVYsSUFBSTBWLEVBQVExVixFQUFTLEVBT3JCLFlBaG9PQW1CLElBMG5PSTBrRCxJQUNGbndDLEVBQVFvdUQsR0FBVWplLEdBQ2xCbndDLEVBQVFtd0MsRUFBWSxFQUNoQndGLEdBQVVyckQsRUFBUzBWLEVBQU8sR0FDMUI2MUMsR0FBVTcxQyxFQUFPMVYsRUFBUyxJQUV6QjRsRCxHQUFjdEIsRUFBTzZWLEdBQVk3M0QsRUFBVyxHQUFJb1QsR0FBTyxHQWlCaEUsU0FBUzdVLEdBQVF5akQsR0FFZixPQURzQixNQUFUQSxFQUFnQixFQUFJQSxFQUFNdGtELFFBQ3ZCczBELEdBQVloUSxFQUFPLEdBQUssR0FnRzFDLFNBQVMwaUIsR0FBSzFpQixHQUNaLE9BQVFBLEdBQVNBLEVBQU10a0QsT0FBVXNrRCxFQUFNLFFBcHZPdkNuakQsRUE4ek9GLElBQUk4bEUsR0FBZTdMLElBQVMsU0FBU3ZGLEdBQ25DLElBQUlxUixFQUFTaGlCLEdBQVMyUSxFQUFRb0ksSUFDOUIsT0FBUWlKLEVBQU9sbkUsUUFBVWtuRSxFQUFPLEtBQU9yUixFQUFPLEdBQzFDRCxHQUFpQnNSLEdBQ2pCLE1BMEJGQyxHQUFpQi9MLElBQVMsU0FBU3ZGLEdBQ3JDLElBQUlyUixFQUFXcGpELEdBQUt5MEQsR0FDaEJxUixFQUFTaGlCLEdBQVMyUSxFQUFRb0ksSUFPOUIsT0FMSXpaLElBQWFwakQsR0FBSzhsRSxHQUNwQjFpQixPQWoyT0ZyakQsRUFtMk9FK2xFLEVBQU9sMkQsTUFFRGsyRCxFQUFPbG5FLFFBQVVrbkUsRUFBTyxLQUFPclIsRUFBTyxHQUMxQ0QsR0FBaUJzUixFQUFRL00sR0FBWTNWLEVBQVUsSUFDL0MsTUF3QkY0aUIsR0FBbUJoTSxJQUFTLFNBQVN2RixHQUN2QyxJQUFJNVEsRUFBYTdqRCxHQUFLeTBELEdBQ2xCcVIsRUFBU2hpQixHQUFTMlEsRUFBUW9JLElBTTlCLE9BSkFoWixFQUFrQyxtQkFBZEEsRUFBMkJBLE9BbjRPL0M5akQsSUFxNE9FK2xFLEVBQU9sMkQsTUFFRGsyRCxFQUFPbG5FLFFBQVVrbkUsRUFBTyxLQUFPclIsRUFBTyxHQUMxQ0QsR0FBaUJzUixPQXg0T3JCL2xFLEVBdzRPd0M4akQsR0FDcEMsTUFvQ04sU0FBUzdqRCxHQUFLa2pELEdBQ1osSUFBSXRrRCxFQUFrQixNQUFUc2tELEVBQWdCLEVBQUlBLEVBQU10a0QsT0FDdkMsT0FBT0EsRUFBU3NrRCxFQUFNdGtELEVBQVMsUUEvNk8vQm1CLEVBc2dQRixJQUFJa21FLEdBQU9qTSxHQUFTa00sSUFzQnBCLFNBQVNBLEdBQVFoakIsRUFBT25rRCxHQUN0QixPQUFRbWtELEdBQVNBLEVBQU10a0QsUUFBVUcsR0FBVUEsRUFBT0gsT0FDOUMrNkQsR0FBWXpXLEVBQU9ua0QsR0FDbkJta0QsRUFxRk4sSUFBSWlqQixHQUFTMUcsSUFBUyxTQUFTdmMsRUFBTzJXLEdBQ3BDLElBQUlqN0QsRUFBa0IsTUFBVHNrRCxFQUFnQixFQUFJQSxFQUFNdGtELE9BQ25DUSxFQUFTOHZELEdBQU9oTSxFQUFPMlcsR0FNM0IsT0FKQUQsR0FBVzFXLEVBQU9ZLEdBQVMrVixHQUFTLFNBQVN2bEQsR0FDM0MsT0FBTzA1QyxHQUFRMTVDLEVBQU8xVixJQUFXMFYsRUFBUUEsS0FDeEM1USxLQUFLNDFELEtBRURsNkQsS0EyRVQsU0FBUzh0QixHQUFRZzJCLEdBQ2YsT0FBZ0IsTUFBVEEsRUFBZ0JBLEVBQVF1SCxHQUFjNXRELEtBQUtxbUQsR0FrYXBELElBQUlrakIsR0FBUXBNLElBQVMsU0FBU3ZGLEdBQzVCLE9BQU91SCxHQUFTOUksR0FBWXVCLEVBQVEsRUFBRzhELElBQW1CLE9BMEJ4RDhOLEdBQVVyTSxJQUFTLFNBQVN2RixHQUM5QixJQUFJclIsRUFBV3BqRCxHQUFLeTBELEdBSXBCLE9BSEk4RCxHQUFrQm5WLEtBQ3BCQSxPQXhvUUZyakQsR0Ewb1FPaThELEdBQVM5SSxHQUFZdUIsRUFBUSxFQUFHOEQsSUFBbUIsR0FBT1EsR0FBWTNWLEVBQVUsT0F3QnJGa2pCLEdBQVl0TSxJQUFTLFNBQVN2RixHQUNoQyxJQUFJNVEsRUFBYTdqRCxHQUFLeTBELEdBRXRCLE9BREE1USxFQUFrQyxtQkFBZEEsRUFBMkJBLE9BcHFRL0M5akQsRUFxcVFPaThELEdBQVM5SSxHQUFZdUIsRUFBUSxFQUFHOEQsSUFBbUIsUUFycVExRHg0RCxFQXFxUTRFOGpELE1BZ0c5RSxTQUFTMGlCLEdBQU1yakIsR0FDYixJQUFNQSxJQUFTQSxFQUFNdGtELE9BQ25CLE1BQU8sR0FFVCxJQUFJQSxFQUFTLEVBT2IsT0FOQXNrRCxFQUFRTSxHQUFZTixHQUFPLFNBQVN2ekMsR0FDbEMsR0FBSTRvRCxHQUFrQjVvRCxHQUVwQixPQURBL1EsRUFBU3FyRCxHQUFVdDZDLEVBQU0vUSxPQUFRQSxJQUMxQixLQUdKdW1ELEdBQVV2bUQsR0FBUSxTQUFTMFYsR0FDaEMsT0FBT3d2QyxHQUFTWixFQUFPbUIsR0FBYS92QyxPQXlCeEMsU0FBU2t5RCxHQUFVdGpCLEVBQU9FLEdBQ3hCLElBQU1GLElBQVNBLEVBQU10a0QsT0FDbkIsTUFBTyxHQUVULElBQUlRLEVBQVNtbkUsR0FBTXJqQixHQUNuQixPQUFnQixNQUFaRSxFQUNLaGtELEVBRUYwa0QsR0FBUzFrRCxHQUFRLFNBQVN1USxHQUMvQixPQUFPMU0sR0FBTW1nRCxPQW56UWZyakQsRUFtelFvQzRQLE1Bd0J0QyxJQUFJODJELEdBQVV6TSxJQUFTLFNBQVM5VyxFQUFPbmtELEdBQ3JDLE9BQU93NUQsR0FBa0JyVixHQUNyQjZPLEdBQWU3TyxFQUFPbmtELEdBQ3RCLE1BcUJGMm5FLEdBQU0xTSxJQUFTLFNBQVN2RixHQUMxQixPQUFPZ0ksR0FBUWpaLEdBQVlpUixFQUFROEQsUUEwQmpDb08sR0FBUTNNLElBQVMsU0FBU3ZGLEdBQzVCLElBQUlyUixFQUFXcGpELEdBQUt5MEQsR0FJcEIsT0FISThELEdBQWtCblYsS0FDcEJBLE9BajRRRnJqRCxHQW00UU8wOEQsR0FBUWpaLEdBQVlpUixFQUFROEQsSUFBb0JRLEdBQVkzVixFQUFVLE9Bd0IzRXdqQixHQUFVNU0sSUFBUyxTQUFTdkYsR0FDOUIsSUFBSTVRLEVBQWE3akQsR0FBS3kwRCxHQUV0QixPQURBNVEsRUFBa0MsbUJBQWRBLEVBQTJCQSxPQTc1US9DOWpELEVBODVRTzA4RCxHQUFRalosR0FBWWlSLEVBQVE4RCxTQTk1UW5DeDRELEVBODVRa0U4akQsTUFtQmhFZ2pCLEdBQU03TSxHQUFTdU0sSUE2RG5CLElBQUlPLEdBQVU5TSxJQUFTLFNBQVN2RixHQUM5QixJQUFJNzFELEVBQVM2MUQsRUFBTzcxRCxPQUNoQndrRCxFQUFXeGtELEVBQVMsRUFBSTYxRCxFQUFPNzFELEVBQVMsUUFoL1E1Q21CLEVBbS9RQSxPQURBcWpELEVBQThCLG1CQUFaQSxHQUEwQnFSLEVBQU83a0QsTUFBT3d6QyxRQWwvUTFEcmpELEVBbS9RT3ltRSxHQUFVL1IsRUFBUXJSLE1Ba0MzQixTQUFTMmpCLEdBQU1wcEUsR0FDYixJQUFJeUIsRUFBU3VzRCxHQUFPaHVELEdBRXBCLE9BREF5QixFQUFPa3RELFdBQVksRUFDWmx0RCxFQXNEVCxTQUFTd2dFLEdBQUtqaUUsRUFBT3FwRSxHQUNuQixPQUFPQSxFQUFZcnBFLEdBbUJyQixJQUFJc3BFLEdBQVl4SCxJQUFTLFNBQVN0USxHQUNoQyxJQUFJdndELEVBQVN1d0QsRUFBTXZ3RCxPQUNmaUksRUFBUWpJLEVBQVN1d0QsRUFBTSxHQUFLLEVBQzVCeHhELEVBQVFxSyxLQUFLb2tELFlBQ2I0YSxFQUFjLFNBQVM1b0UsR0FBVSxPQUFPOHdELEdBQU85d0QsRUFBUSt3RCxJQUUzRCxRQUFJdndELEVBQVMsR0FBS29KLEtBQUtxa0QsWUFBWXp0RCxTQUM3QmpCLGFBQWlCa3VELElBQWlCbUMsR0FBUW5uRCxLQUdoRGxKLEVBQVFBLEVBQU1vRCxNQUFNOEYsR0FBUUEsR0FBU2pJLEVBQVMsRUFBSSxLQUM1Q3l0RCxZQUFZcHRELEtBQUssQ0FDckIsS0FBUTJnRSxHQUNSLEtBQVEsQ0FBQ29ILEdBQ1QsYUFoblJGam5FLElBa25STyxJQUFJK3JELEdBQWNudUQsRUFBT3FLLEtBQUtza0QsV0FBV3NULE1BQUssU0FBUzFjLEdBSTVELE9BSEl0a0QsSUFBV3NrRCxFQUFNdGtELFFBQ25Cc2tELEVBQU1qa0QsVUFwblJWYyxHQXNuUlNtakQsTUFaQWw3QyxLQUFLNDNELEtBQUtvSCxNQStQckIsSUFBSUUsR0FBVTFJLElBQWlCLFNBQVNwL0QsRUFBUXpCLEVBQU9NLEdBQ2pETSxHQUFlMUIsS0FBS3VDLEVBQVFuQixLQUM1Qm1CLEVBQU9uQixHQUVUeXdELEdBQWdCdHZELEVBQVFuQixFQUFLLE1BbUlqQyxJQUFJdUQsR0FBTzg5RCxHQUFXb0csSUFxQmxCeUIsR0FBVzdILEdBQVdxRyxJQTJHMUIsU0FBU3psRSxHQUFRQyxFQUFZaWpELEdBRTNCLE9BRFd4akQsR0FBUU8sR0FBY2tqRCxHQUFZMEwsSUFDakM1dUQsRUFBWTQ0RCxHQUFZM1YsRUFBVSxJQXVCaEQsU0FBU2drQixHQUFham5FLEVBQVlpakQsR0FFaEMsT0FEV3hqRCxHQUFRTyxHQUFjbWpELEdBQWlCc1AsSUFDdEN6eUQsRUFBWTQ0RCxHQUFZM1YsRUFBVSxJQTBCaEQsSUFBSTkrQyxHQUFVazZELElBQWlCLFNBQVNwL0QsRUFBUXpCLEVBQU9NLEdBQ2pETSxHQUFlMUIsS0FBS3VDLEVBQVFuQixHQUM5Qm1CLEVBQU9uQixHQUFLZ0IsS0FBS3RCLEdBRWpCK3dELEdBQWdCdHZELEVBQVFuQixFQUFLLENBQUNOLE9Bc0VsQyxJQUFJMHBFLEdBQVlyTixJQUFTLFNBQVM3NUQsRUFBWXVYLEVBQU0wSSxHQUNsRCxJQUFJOUwsR0FBUyxFQUNUNjdDLEVBQXdCLG1CQUFSejRDLEVBQ2hCdFksRUFBU3U0RCxHQUFZeDNELEdBQWNSLEVBQU1RLEVBQVd2QixRQUFVLEdBS2xFLE9BSEFtd0QsR0FBUzV1RCxHQUFZLFNBQVN4QyxHQUM1QnlCLElBQVNrVixHQUFTNjdDLEVBQVNsdEQsR0FBTXlVLEVBQU0vWixFQUFPeWlCLEdBQVEwMEMsR0FBV24zRCxFQUFPK1osRUFBTTBJLE1BRXpFaGhCLEtBK0JMa29FLEdBQVE5SSxJQUFpQixTQUFTcC9ELEVBQVF6QixFQUFPTSxHQUNuRHl3RCxHQUFnQnR2RCxFQUFRbkIsRUFBS04sTUE2Qy9CLFNBQVM2QixHQUFJVyxFQUFZaWpELEdBRXZCLE9BRFd4akQsR0FBUU8sR0FBYzJqRCxHQUFXNFQsSUFDaEN2M0QsRUFBWTQ0RCxHQUFZM1YsRUFBVSxJQWtGaEQsSUFBSW1rQixHQUFZL0ksSUFBaUIsU0FBU3AvRCxFQUFRekIsRUFBT00sR0FDdkRtQixFQUFPbkIsRUFBTSxFQUFJLEdBQUdnQixLQUFLdEIsTUFDeEIsV0FBYSxNQUFPLENBQUMsR0FBSSxPQW1TNUIsSUFBSTZGLEdBQVN3MkQsSUFBUyxTQUFTNzVELEVBQVkwNEQsR0FDekMsR0FBa0IsTUFBZDE0RCxFQUNGLE1BQU8sR0FFVCxJQUFJdkIsRUFBU2k2RCxFQUFVajZELE9BTXZCLE9BTElBLEVBQVMsR0FBS2lnRSxHQUFlMStELEVBQVkwNEQsRUFBVSxHQUFJQSxFQUFVLElBQ25FQSxFQUFZLEdBQ0hqNkQsRUFBUyxHQUFLaWdFLEdBQWVoRyxFQUFVLEdBQUlBLEVBQVUsR0FBSUEsRUFBVSxNQUM1RUEsRUFBWSxDQUFDQSxFQUFVLEtBRWxCRCxHQUFZejRELEVBQVkreUQsR0FBWTJGLEVBQVcsR0FBSSxPQXFCeEQxUCxHQUFNRCxJQUFVLFdBQ2xCLE9BQU94SCxHQUFLNTZDLEtBQUtxaUQsT0EwRG5CLFNBQVNvWCxHQUFJNTlELEVBQU14RSxFQUFHeWdFLEdBR3BCLE9BRkF6Z0UsRUFBSXlnRSxPQXh4VEo3K0QsRUF3eFR3QjVCLEVBRWpCNGtFLEdBQVdwZ0UsRUFwdlRGLFNBdENoQjVDLHVCQXl4VEE1QixFQUFLd0UsR0FBYSxNQUFMeEUsRUFBYXdFLEVBQUsvRCxPQUFTVCxHQXFCMUMsU0FBU3FwRSxHQUFPcnBFLEVBQUd3RSxHQUNqQixJQUFJdkQsRUFDSixHQUFtQixtQkFBUnVELEVBQ1QsTUFBTSxJQUFJMmtELEdBQVVqTSxHQUd0QixPQURBbDlDLEVBQUl1a0UsR0FBVXZrRSxHQUNQLFdBT0wsUUFOTUEsRUFBSSxJQUNSaUIsRUFBU3VELEVBQUtNLE1BQU0rRSxLQUFNbEYsWUFFeEIzRSxHQUFLLElBQ1B3RSxPQXp6VEo1QyxHQTJ6VFNYLEdBdUNYLElBQUlsQixHQUFPODdELElBQVMsU0FBU3IzRCxFQUFNcWdELEVBQVN5YSxHQUMxQyxJQUFJaE8sRUFwMFRhLEVBcTBUakIsR0FBSWdPLEVBQVM3K0QsT0FBUSxDQUNuQixJQUFJOCtELEVBQVVqWCxHQUFlZ1gsRUFBVW9ELEdBQVUzaUUsS0FDakR1eEQsR0FsMFRrQixHQW8wVHBCLE9BQU9zVCxHQUFXcGdFLEVBQU04c0QsRUFBU3pNLEVBQVN5YSxFQUFVQyxNQWdEbEQrSixHQUFVek4sSUFBUyxTQUFTNTdELEVBQVFILEVBQUt3L0QsR0FDM0MsSUFBSWhPLEVBQVVpWSxFQUNkLEdBQUlqSyxFQUFTNytELE9BQVEsQ0FDbkIsSUFBSTgrRCxFQUFValgsR0FBZWdYLEVBQVVvRCxHQUFVNEcsS0FDakRoWSxHQXgzVGtCLEdBMDNUcEIsT0FBT3NULEdBQVc5a0UsRUFBS3d4RCxFQUFTcnhELEVBQVFxL0QsRUFBVUMsTUFzSnBELFNBQVNpSyxHQUFTaGxFLEVBQU1tdkQsRUFBTTFsRCxHQUM1QixJQUFJdzdELEVBQ0FDLEVBQ0FDLEVBQ0Exb0UsRUFDQTJvRSxFQUNBQyxFQUNBQyxFQUFpQixFQUNqQkMsR0FBVSxFQUNWQyxHQUFTLEVBQ1RuSixHQUFXLEVBRWYsR0FBbUIsbUJBQVJyOEQsRUFDVCxNQUFNLElBQUkya0QsR0FBVWpNLEdBVXRCLFNBQVMrc0IsRUFBV25oRSxHQUNsQixJQUFJbVosRUFBT3duRCxFQUNQNWtCLEVBQVU2a0IsRUFLZCxPQUhBRCxFQUFXQyxPQS9rVWI5bkUsRUFnbFVFa29FLEVBQWlCaGhFLEVBQ2pCN0gsRUFBU3VELEVBQUtNLE1BQU0rL0MsRUFBUzVpQyxHQUkvQixTQUFTaW9ELEVBQVlwaEUsR0FNbkIsT0FKQWdoRSxFQUFpQmhoRSxFQUVqQjhnRSxFQUFVMWUsR0FBV2lmLEVBQWN4VyxHQUU1Qm9XLEVBQVVFLEVBQVduaEUsR0FBUTdILEVBYXRDLFNBQVNtcEUsRUFBYXRoRSxHQUNwQixJQUFJdWhFLEVBQW9CdmhFLEVBQU8rZ0UsRUFNL0IsWUEvbVVGam9FLElBK21VVWlvRSxHQUErQlEsR0FBcUIxVyxHQUN6RDBXLEVBQW9CLEdBQU9MLEdBTkpsaEUsRUFBT2doRSxHQU04QkgsRUFHakUsU0FBU1EsSUFDUCxJQUFJcmhFLEVBQU9raUQsS0FDWCxHQUFJb2YsRUFBYXRoRSxHQUNmLE9BQU93aEUsRUFBYXhoRSxHQUd0QjhnRSxFQUFVMWUsR0FBV2lmLEVBM0J2QixTQUF1QnJoRSxHQUNyQixJQUVJeWhFLEVBQWM1VyxHQUZNN3FELEVBQU8rZ0UsR0FJL0IsT0FBT0csRUFDSGhlLEdBQVV1ZSxFQUFhWixHQUpEN2dFLEVBQU9naEUsSUFLN0JTLEVBb0IrQkMsQ0FBYzFoRSxJQUduRCxTQUFTd2hFLEVBQWF4aEUsR0FLcEIsT0FKQThnRSxPQTduVUZob0UsRUFpb1VNaS9ELEdBQVk0SSxFQUNQUSxFQUFXbmhFLElBRXBCMmdFLEVBQVdDLE9BcG9VYjluRSxFQXFvVVNYLEdBZVQsU0FBU3dwRSxJQUNQLElBQUkzaEUsRUFBT2tpRCxLQUNQMGYsRUFBYU4sRUFBYXRoRSxHQU05QixHQUpBMmdFLEVBQVc5a0UsVUFDWCtrRSxFQUFXNy9ELEtBQ1hnZ0UsRUFBZS9nRSxFQUVYNGhFLEVBQVksQ0FDZCxRQTdwVUo5b0UsSUE2cFVRZ29FLEVBQ0YsT0FBT00sRUFBWUwsR0FFckIsR0FBSUcsRUFJRixPQUZBbGYsR0FBYThlLEdBQ2JBLEVBQVUxZSxHQUFXaWYsRUFBY3hXLEdBQzVCc1csRUFBV0osR0FNdEIsWUExcVVGam9FLElBdXFVTWdvRSxJQUNGQSxFQUFVMWUsR0FBV2lmLEVBQWN4VyxJQUU5QjF5RCxFQUlULE9BM0dBMHlELEVBQU9xUSxHQUFTclEsSUFBUyxFQUNyQnp4RCxHQUFTK0wsS0FDWDg3RCxJQUFZOTdELEVBQVE4N0QsUUFFcEJKLEdBREFLLEVBQVMsWUFBYS83RCxHQUNINjlDLEdBQVVrWSxHQUFTLzFELEVBQVEwN0QsVUFBWSxFQUFHaFcsR0FBUWdXLEVBQ3JFOUksRUFBVyxhQUFjNXlELElBQVlBLEVBQVE0eUQsU0FBV0EsR0FvRzFENEosRUFBVUUsT0FwQ1YsZ0JBeG9VQS9vRSxJQXlvVU1nb0UsR0FDRjllLEdBQWE4ZSxHQUVmRSxFQUFpQixFQUNqQkwsRUFBV0ksRUFBZUgsRUFBV0UsT0E3b1V2Q2hvRSxHQTZxVUE2b0UsRUFBVUcsTUE3QlYsV0FDRSxZQWpwVUZocEUsSUFpcFVTZ29FLEVBQXdCM29FLEVBQVNxcEUsRUFBYXRmLE9BNkJoRHlmLEVBcUJULElBQUlJLEdBQVFoUCxJQUFTLFNBQVNyM0QsRUFBTXlkLEdBQ2xDLE9BQU95eEMsR0FBVWx2RCxFQUFNLEVBQUd5ZCxNQXNCeEI2b0QsR0FBUWpQLElBQVMsU0FBU3IzRCxFQUFNbXZELEVBQU0xeEMsR0FDeEMsT0FBT3l4QyxHQUFVbHZELEVBQU13L0QsR0FBU3JRLElBQVMsRUFBRzF4QyxNQXFFOUMsU0FBUytrRCxHQUFReGlFLEVBQU11bUUsR0FDckIsR0FBbUIsbUJBQVJ2bUUsR0FBbUMsTUFBWnVtRSxHQUF1QyxtQkFBWkEsRUFDM0QsTUFBTSxJQUFJNWhCLEdBQVVqTSxHQUV0QixJQUFJOHRCLEVBQVcsV0FDYixJQUFJL29ELEVBQU90ZCxVQUNQN0UsRUFBTWlyRSxFQUFXQSxFQUFTam1FLE1BQU0rRSxLQUFNb1ksR0FBUUEsRUFBSyxHQUNuRG9sQyxFQUFRMmpCLEVBQVMzakIsTUFFckIsR0FBSUEsRUFBTW5rRCxJQUFJcEQsR0FDWixPQUFPdW5ELEVBQU1qb0QsSUFBSVUsR0FFbkIsSUFBSW1CLEVBQVN1RCxFQUFLTSxNQUFNK0UsS0FBTW9ZLEdBRTlCLE9BREErb0QsRUFBUzNqQixNQUFRQSxFQUFNcC9DLElBQUluSSxFQUFLbUIsSUFBV29tRCxFQUNwQ3BtRCxHQUdULE9BREErcEUsRUFBUzNqQixNQUFRLElBQUsyZixHQUFRaUUsT0FBU2pjLElBQ2hDZ2MsRUEwQlQsU0FBU0UsR0FBT25vRSxHQUNkLEdBQXdCLG1CQUFiQSxFQUNULE1BQU0sSUFBSW9tRCxHQUFVak0sR0FFdEIsT0FBTyxXQUNMLElBQUlqN0IsRUFBT3RkLFVBQ1gsT0FBUXNkLEVBQUt4aEIsUUFDWCxLQUFLLEVBQUcsT0FBUXNDLEVBQVVyRSxLQUFLbUwsTUFDL0IsS0FBSyxFQUFHLE9BQVE5RyxFQUFVckUsS0FBS21MLEtBQU1vWSxFQUFLLElBQzFDLEtBQUssRUFBRyxPQUFRbGYsRUFBVXJFLEtBQUttTCxLQUFNb1ksRUFBSyxHQUFJQSxFQUFLLElBQ25ELEtBQUssRUFBRyxPQUFRbGYsRUFBVXJFLEtBQUttTCxLQUFNb1ksRUFBSyxHQUFJQSxFQUFLLEdBQUlBLEVBQUssSUFFOUQsT0FBUWxmLEVBQVUrQixNQUFNK0UsS0FBTW9ZLElBbENsQytrRCxHQUFRaUUsTUFBUWpjLEdBMkZoQixJQUFJbWMsR0FBV3RNLElBQVMsU0FBU3I2RCxFQUFNNG1FLEdBS3JDLElBQUlDLEdBSkpELEVBQW1DLEdBQXJCQSxFQUFXM3FFLFFBQWVnQixHQUFRMnBFLEVBQVcsSUFDdkR6bEIsR0FBU3lsQixFQUFXLEdBQUlua0IsR0FBVTJULE9BQ2xDalYsR0FBU29QLEdBQVlxVyxFQUFZLEdBQUlua0IsR0FBVTJULFFBRXRCbjZELE9BQzdCLE9BQU9vN0QsSUFBUyxTQUFTNTVDLEdBSXZCLElBSEEsSUFBSTlMLEdBQVMsRUFDVDFWLEVBQVN1ckQsR0FBVS9wQyxFQUFLeGhCLE9BQVE0cUUsS0FFM0JsMUQsRUFBUTFWLEdBQ2Z3aEIsRUFBSzlMLEdBQVNpMUQsRUFBV2oxRCxHQUFPelgsS0FBS21MLEtBQU1vWSxFQUFLOUwsSUFFbEQsT0FBT3JSLEdBQU1OLEVBQU1xRixLQUFNb1ksU0FxQ3pCMWQsR0FBVXMzRCxJQUFTLFNBQVNyM0QsRUFBTTg2RCxHQUVwQyxPQUFPc0YsR0FBV3BnRSxFQWg2VUUsUUFwQ3BCNUMsRUFvOFVzRDA5RCxFQUR4Q2hYLEdBQWVnWCxFQUFVb0QsR0FBVW4rRCxTQW9DL0MrbUUsR0FBZXpQLElBQVMsU0FBU3IzRCxFQUFNODZELEdBRXpDLE9BQU9zRixHQUFXcGdFLEVBcDhVUSxRQXJDMUI1QyxFQXkrVTREMDlELEVBRDlDaFgsR0FBZWdYLEVBQVVvRCxHQUFVNEksU0EwQi9DQyxHQUFRakssSUFBUyxTQUFTOThELEVBQU1rM0QsR0FDbEMsT0FBT2tKLEdBQVdwZ0UsRUE1OVVBLFNBdkNsQjVDLGdCQW1nVjBFODVELE1BaWE1RSxTQUFTcEwsR0FBRzl3RCxFQUFPKzZCLEdBQ2pCLE9BQU8vNkIsSUFBVSs2QixHQUFVLzZCLEdBQVVBLEdBQVMrNkIsR0FBVUEsRUEwQjFELElBQUlpeEMsR0FBS3pILEdBQTBCN04sSUF5Qi9CdVYsR0FBTTFILElBQTBCLFNBQVN2a0UsRUFBTys2QixHQUNsRCxPQUFPLzZCLEdBQVMrNkIsS0FxQmRrMUIsR0FBY29ILEdBQWdCLFdBQWEsT0FBT2x5RCxVQUFwQixJQUFzQ2t5RCxHQUFrQixTQUFTcjNELEdBQ2pHLE9BQU9pdUQsR0FBYWp1RCxJQUFVWSxHQUFlMUIsS0FBS2MsRUFBTyxZQUN0RDhxRCxHQUFxQjVyRCxLQUFLYyxFQUFPLFdBMEJsQ2lDLEdBQVVELEVBQU1DLFFBbUJoQjBpRCxHQUFnQkQsR0FBb0IrQyxHQUFVL0MsSUFuNFBsRCxTQUEyQjFrRCxHQUN6QixPQUFPaXVELEdBQWFqdUQsSUFBVXEyRCxHQUFXcjJELElBQVU0K0MsR0E2NVByRCxTQUFTb2IsR0FBWWg2RCxHQUNuQixPQUFnQixNQUFUQSxHQUFpQnNtRSxHQUFTdG1FLEVBQU1pQixVQUFZK0IsR0FBV2hELEdBNEJoRSxTQUFTNDZELEdBQWtCNTZELEdBQ3pCLE9BQU9pdUQsR0FBYWp1RCxJQUFVZzZELEdBQVloNkQsR0EwQzVDLElBQUlpc0QsR0FBV0QsSUFBa0IyYSxHQW1CN0I5aEIsR0FBU0QsR0FBYTZDLEdBQVU3QyxJQTkrUHBDLFNBQW9CNWtELEdBQ2xCLE9BQU9pdUQsR0FBYWp1RCxJQUFVcTJELEdBQVdyMkQsSUFBVWcrQyxHQXFwUXJELFNBQVNrdUIsR0FBUWxzRSxHQUNmLElBQUtpdUQsR0FBYWp1RCxHQUNoQixPQUFPLEVBRVQsSUFBSXN5RCxFQUFNK0QsR0FBV3IyRCxHQUNyQixPQUFPc3lELEdBQU9yVSxHQTN1V0YseUJBMnVXY3FVLEdBQ0MsaUJBQWpCdHlELEVBQU1xTSxTQUE0QyxpQkFBZHJNLEVBQU1WLE9BQXFCdTdELEdBQWM3NkQsR0FrRHpGLFNBQVNnRCxHQUFXaEQsR0FDbEIsSUFBSzBDLEdBQVMxQyxHQUNaLE9BQU8sRUFJVCxJQUFJc3lELEVBQU0rRCxHQUFXcjJELEdBQ3JCLE9BQU9zeUQsR0FBT3BVLEdBQVdvVSxHQUFPblUsR0F4eVdyQiwwQkF3eVcrQm1VLEdBNXhXL0Isa0JBNHhXa0RBLEVBNkIvRCxTQUFTNlosR0FBVW5zRSxHQUNqQixNQUF1QixpQkFBVEEsR0FBcUJBLEdBQVMra0UsR0FBVS9rRSxHQTZCeEQsU0FBU3NtRSxHQUFTdG1FLEdBQ2hCLE1BQXVCLGlCQUFUQSxHQUNaQSxHQUFTLEdBQUtBLEVBQVEsR0FBSyxHQUFLQSxHQTkzV2YsaUJBMDVXckIsU0FBUzBDLEdBQVMxQyxHQUNoQixJQUFJNkssU0FBYzdLLEVBQ2xCLE9BQWdCLE1BQVRBLElBQTBCLFVBQVI2SyxHQUE0QixZQUFSQSxHQTJCL0MsU0FBU29qRCxHQUFhanVELEdBQ3BCLE9BQWdCLE1BQVRBLEdBQWlDLGlCQUFUQSxFQW9CakMsSUFBSStrRCxHQUFRRCxHQUFZMkMsR0FBVTNDLElBbHdRbEMsU0FBbUI5a0QsR0FDakIsT0FBT2l1RCxHQUFhanVELElBQVV1eUQsR0FBT3Z5RCxJQUFVbytDLEdBbTlRakQsU0FBU2d1QixHQUFTcHNFLEdBQ2hCLE1BQXVCLGlCQUFUQSxHQUNYaXVELEdBQWFqdUQsSUFBVXEyRCxHQUFXcjJELElBQVVxK0MsRUErQmpELFNBQVN3YyxHQUFjNzZELEdBQ3JCLElBQUtpdUQsR0FBYWp1RCxJQUFVcTJELEdBQVdyMkQsSUFBVXMrQyxFQUMvQyxPQUFPLEVBRVQsSUFBSWdRLEVBQVEzRCxHQUFhM3FELEdBQ3pCLEdBQWMsT0FBVnN1RCxFQUNGLE9BQU8sRUFFVCxJQUFJMkUsRUFBT3J5RCxHQUFlMUIsS0FBS292RCxFQUFPLGdCQUFrQkEsRUFBTWhrRCxZQUM5RCxNQUFzQixtQkFBUjJvRCxHQUFzQkEsYUFBZ0JBLEdBQ2xEakosR0FBYTlxRCxLQUFLK3pELElBQVM1SSxHQW9CL0IsSUFBSTlrRCxHQUFXeS9DLEdBQWV5QyxHQUFVekMsSUFsOFF4QyxTQUFzQmhsRCxHQUNwQixPQUFPaXVELEdBQWFqdUQsSUFBVXEyRCxHQUFXcjJELElBQVV1K0MsR0FtL1FyRCxJQUFJMkcsR0FBUUQsR0FBWXdDLEdBQVV4QyxJQXorUWxDLFNBQW1CamxELEdBQ2pCLE9BQU9pdUQsR0FBYWp1RCxJQUFVdXlELEdBQU92eUQsSUFBVXcrQyxHQTIvUWpELFNBQVMzN0MsR0FBUzdDLEdBQ2hCLE1BQXVCLGlCQUFUQSxJQUNWaUMsR0FBUWpDLElBQVVpdUQsR0FBYWp1RCxJQUFVcTJELEdBQVdyMkQsSUFBVXkrQyxFQW9CcEUsU0FBUzRXLEdBQVNyMUQsR0FDaEIsTUFBdUIsaUJBQVRBLEdBQ1hpdUQsR0FBYWp1RCxJQUFVcTJELEdBQVdyMkQsSUFBVTArQyxFQW9CakQsSUFBSTBHLEdBQWVELEdBQW1Cc0MsR0FBVXRDLElBN2hSaEQsU0FBMEJubEQsR0FDeEIsT0FBT2l1RCxHQUFhanVELElBQ2xCc21FLEdBQVN0bUUsRUFBTWlCLFdBQWFvaUQsR0FBZWdULEdBQVdyMkQsS0FtblIxRCxJQUFJcXNFLEdBQUs5SCxHQUEwQnpLLElBeUIvQndTLEdBQU0vSCxJQUEwQixTQUFTdmtFLEVBQU8rNkIsR0FDbEQsT0FBTy82QixHQUFTKzZCLEtBMEJsQixTQUFTd3hDLEdBQVF2c0UsR0FDZixJQUFLQSxFQUNILE1BQU8sR0FFVCxHQUFJZzZELEdBQVloNkQsR0FDZCxPQUFPNkMsR0FBUzdDLEdBQVNtcEQsR0FBY25wRCxHQUFTMHdELEdBQVUxd0QsR0FFNUQsR0FBSWtyRCxJQUFlbHJELEVBQU1rckQsSUFDdkIsT0E5NVZOLFNBQXlCNW1ELEdBSXZCLElBSEEsSUFBSXVyRCxFQUNBcHVELEVBQVMsS0FFSm91RCxFQUFPdnJELEVBQVNrb0UsUUFBUUMsTUFDL0JockUsRUFBT0gsS0FBS3V1RCxFQUFLN3ZELE9BRW5CLE9BQU95QixFQXU1VklpckUsQ0FBZ0Ixc0UsRUFBTWtyRCxPQUUvQixJQUFJb0gsRUFBTUMsR0FBT3Z5RCxHQUdqQixPQUZXc3lELEdBQU9sVSxFQUFTc0ssR0FBYzRKLEdBQU85VCxFQUFTdUssR0FBYTNuRCxJQUUxRHBCLEdBMEJkLFNBQVNxa0UsR0FBU3JrRSxHQUNoQixPQUFLQSxHQUdMQSxFQUFRd2tFLEdBQVN4a0UsTUF0Z1lOLEtBdWdZZUEsS0F2Z1lmLElBRUcsdUJBc2dZQUEsRUFBUSxHQUFLLEVBQUksR0FHeEJBLEdBQVVBLEVBQVFBLEVBQVEsRUFQZCxJQUFWQSxFQUFjQSxFQUFRLEVBb0NqQyxTQUFTK2tFLEdBQVUva0UsR0FDakIsSUFBSXlCLEVBQVM0aUUsR0FBU3JrRSxHQUNsQjJzRSxFQUFZbHJFLEVBQVMsRUFFekIsT0FBT0EsR0FBV0EsRUFBVWtyRSxFQUFZbHJFLEVBQVNrckUsRUFBWWxyRSxFQUFVLEVBOEJ6RSxTQUFTbXJFLEdBQVM1c0UsR0FDaEIsT0FBT0EsRUFBUTJ3RCxHQUFVb1UsR0FBVS9rRSxHQUFRLEVBcmtZeEIsWUFxa1krQyxFQTBCcEUsU0FBU3drRSxHQUFTeGtFLEdBQ2hCLEdBQW9CLGlCQUFUQSxFQUNULE9BQU9BLEVBRVQsR0FBSXExRCxHQUFTcjFELEdBQ1gsT0F2bVlJLElBeW1ZTixHQUFJMEMsR0FBUzFDLEdBQVEsQ0FDbkIsSUFBSSs2QixFQUFnQyxtQkFBakIvNkIsRUFBTTh0RCxRQUF3Qjl0RCxFQUFNOHRELFVBQVk5dEQsRUFDbkVBLEVBQVEwQyxHQUFTcTRCLEdBQVVBLEVBQVEsR0FBTUEsRUFFM0MsR0FBb0IsaUJBQVQvNkIsRUFDVCxPQUFpQixJQUFWQSxFQUFjQSxHQUFTQSxFQUVoQ0EsRUFBUUEsRUFBTXlRLFFBQVE0dkMsRUFBUSxJQUM5QixJQUFJd3NCLEVBQVc3ckIsR0FBVzdzQyxLQUFLblUsR0FDL0IsT0FBUTZzRSxHQUFZM3JCLEdBQVUvc0MsS0FBS25VLEdBQy9CMGpELEdBQWExakQsRUFBTW9ELE1BQU0sR0FBSXlwRSxFQUFXLEVBQUksR0FDM0M5ckIsR0FBVzVzQyxLQUFLblUsR0FwbllmLEtBb25ZK0JBLEVBMkJ2QyxTQUFTODZELEdBQWM5NkQsR0FDckIsT0FBT3N4RCxHQUFXdHhELEVBQU82eUQsR0FBTzd5RCxJQXNEbEMsU0FBUzZKLEdBQVM3SixHQUNoQixPQUFnQixNQUFUQSxFQUFnQixHQUFLbytELEdBQWFwK0QsR0FxQzNDLElBQUltRyxHQUFTNDZELElBQWUsU0FBU3RnRSxFQUFRMlAsR0FDM0MsR0FBSXNwRCxHQUFZdHBELElBQVc0cEQsR0FBWTVwRCxHQUNyQ2toRCxHQUFXbGhELEVBQVFsUCxHQUFLa1AsR0FBUzNQLFFBR25DLElBQUssSUFBSUgsS0FBTzhQLEVBQ1Z4UCxHQUFlMUIsS0FBS2tSLEVBQVE5UCxJQUM5QjB3RCxHQUFZdndELEVBQVFILEVBQUs4UCxFQUFPOVAsT0FvQ2xDd3NFLEdBQVcvTCxJQUFlLFNBQVN0Z0UsRUFBUTJQLEdBQzdDa2hELEdBQVdsaEQsRUFBUXlpRCxHQUFPemlELEdBQVMzUCxNQWdDakNzc0UsR0FBZWhNLElBQWUsU0FBU3RnRSxFQUFRMlAsRUFBUW1xRCxFQUFVeEksR0FDbkVULEdBQVdsaEQsRUFBUXlpRCxHQUFPemlELEdBQVMzUCxFQUFRc3hELE1BK0J6Q2liLEdBQWFqTSxJQUFlLFNBQVN0Z0UsRUFBUTJQLEVBQVFtcUQsRUFBVXhJLEdBQ2pFVCxHQUFXbGhELEVBQVFsUCxHQUFLa1AsR0FBUzNQLEVBQVFzeEQsTUFvQnZDa2IsR0FBS25MLEdBQVN2USxJQThEbEIsSUFBSTdxRCxHQUFXMjFELElBQVMsU0FBUzU3RCxFQUFRNEYsR0FDdkM1RixFQUFTaEIsR0FBT2dCLEdBRWhCLElBQUlrVyxHQUFTLEVBQ1QxVixFQUFTb0YsRUFBUXBGLE9BQ2pCZ2dFLEVBQVFoZ0UsRUFBUyxFQUFJb0YsRUFBUSxRQTMrWWpDakUsRUFpL1lBLElBSkk2K0QsR0FBU0MsR0FBZTc2RCxFQUFRLEdBQUlBLEVBQVEsR0FBSTQ2RCxLQUNsRGhnRSxFQUFTLEtBR0YwVixFQUFRMVYsR0FNZixJQUxBLElBQUltUCxFQUFTL0osRUFBUXNRLEdBQ2pCZ3hDLEVBQVFrTCxHQUFPemlELEdBQ2Y4OEQsR0FBYyxFQUNkQyxFQUFjeGxCLEVBQU0xbUQsU0FFZmlzRSxFQUFhQyxHQUFhLENBQ2pDLElBQUk3c0UsRUFBTXFuRCxFQUFNdWxCLEdBQ1psdEUsRUFBUVMsRUFBT0gsU0F6L1l2QjhCLElBMi9ZUXBDLEdBQ0M4d0QsR0FBRzl3RCxFQUFPOHBELEdBQVl4cEQsTUFBVU0sR0FBZTFCLEtBQUt1QixFQUFRSCxNQUMvREcsRUFBT0gsR0FBTzhQLEVBQU85UCxJQUszQixPQUFPRyxLQXNCTDJzRSxHQUFlL1EsSUFBUyxTQUFTNTVDLEdBRW5DLE9BREFBLEVBQUtuaEIsVUF6aFpMYyxFQXloWnFCeWpFLElBQ2R2Z0UsR0FBTStuRSxRQTFoWmJqckUsRUEwaFptQ3FnQixNQWdTckMsU0FBUzdpQixHQUFJYSxFQUFRc1osRUFBTThwRCxHQUN6QixJQUFJcGlFLEVBQW1CLE1BQVZoQixPQTN6WmIyQixFQTJ6WjBDMnpELEdBQVF0MUQsRUFBUXNaLEdBQzFELFlBNXpaQTNYLElBNHpaT1gsRUFBdUJvaUUsRUFBZXBpRSxFQTREL0MsU0FBUzQ0RCxHQUFNNTVELEVBQVFzWixHQUNyQixPQUFpQixNQUFWdFosR0FBa0IybEUsR0FBUTNsRSxFQUFRc1osRUFBTTY4QyxJQXFCakQsSUFBSTBXLEdBQVM5SixJQUFlLFNBQVMvaEUsRUFBUXpCLEVBQU9NLEdBQ3JDLE1BQVROLEdBQ3lCLG1CQUFsQkEsRUFBTTZKLFdBQ2Y3SixFQUFRb3FELEdBQXFCbHJELEtBQUtjLElBR3BDeUIsRUFBT3pCLEdBQVNNLElBQ2Z1OEQsR0FBU2o0RCxLQTRCUjJvRSxHQUFXL0osSUFBZSxTQUFTL2hFLEVBQVF6QixFQUFPTSxHQUN2QyxNQUFUTixHQUN5QixtQkFBbEJBLEVBQU02SixXQUNmN0osRUFBUW9xRCxHQUFxQmxyRCxLQUFLYyxJQUdoQ1ksR0FBZTFCLEtBQUt1QyxFQUFRekIsR0FDOUJ5QixFQUFPekIsR0FBT3NCLEtBQUtoQixHQUVuQm1CLEVBQU96QixHQUFTLENBQUNNLEtBRWxCODZELElBb0JDb1MsR0FBU25SLEdBQVNsRixJQThCdEIsU0FBU2oyRCxHQUFLVCxHQUNaLE9BQU91NUQsR0FBWXY1RCxHQUFVcXZELEdBQWNydkQsR0FBVWc1RCxHQUFTaDVELEdBMEJoRSxTQUFTb3lELEdBQU9weUQsR0FDZCxPQUFPdTVELEdBQVl2NUQsR0FBVXF2RCxHQUFjcnZELEdBQVEsR0FBUWs1RCxHQUFXbDVELEdBdUd4RSxJQUFJc0csR0FBUWc2RCxJQUFlLFNBQVN0Z0UsRUFBUTJQLEVBQVFtcUQsR0FDbERELEdBQVU3NUQsRUFBUTJQLEVBQVFtcUQsTUFrQ3hCOFMsR0FBWXRNLElBQWUsU0FBU3RnRSxFQUFRMlAsRUFBUW1xRCxFQUFVeEksR0FDaEV1SSxHQUFVNzVELEVBQVEyUCxFQUFRbXFELEVBQVV4SSxNQXVCbEMwYixHQUFPM0wsSUFBUyxTQUFTcmhFLEVBQVErd0QsR0FDbkMsSUFBSS92RCxFQUFTLEdBQ2IsR0FBYyxNQUFWaEIsRUFDRixPQUFPZ0IsRUFFVCxJQUFJd3dELEdBQVMsRUFDYlQsRUFBUXJMLEdBQVNxTCxHQUFPLFNBQVN6M0MsR0FHL0IsT0FGQUEsRUFBT2k4QyxHQUFTajhDLEVBQU10WixHQUN0Qnd4RCxJQUFXQSxFQUFTbDRDLEVBQUs5WSxPQUFTLEdBQzNCOFksS0FFVHUzQyxHQUFXN3dELEVBQVFzekQsR0FBYXR6RCxHQUFTZ0IsR0FDckN3d0QsSUFDRnh3RCxFQUFTb3dELEdBQVVwd0QsRUFBUWlzRSxFQUF3RDVILEtBR3JGLElBREEsSUFBSTdrRSxFQUFTdXdELEVBQU12d0QsT0FDWkEsS0FDTGs3RCxHQUFVMTZELEVBQVErdkQsRUFBTXZ3RCxJQUUxQixPQUFPUSxLQTRDVCxJQUFJZ0MsR0FBT3ErRCxJQUFTLFNBQVNyaEUsRUFBUSt3RCxHQUNuQyxPQUFpQixNQUFWL3dELEVBQWlCLEdBdGxUMUIsU0FBa0JBLEVBQVErd0QsR0FDeEIsT0FBT3NLLEdBQVdyN0QsRUFBUSt3RCxHQUFPLFNBQVN4eEQsRUFBTytaLEdBQy9DLE9BQU9zZ0QsR0FBTTU1RCxFQUFRc1osTUFvbFRNNHpELENBQVNsdEUsRUFBUSt3RCxNQXFCaEQsU0FBU29jLEdBQU9udEUsRUFBUThDLEdBQ3RCLEdBQWMsTUFBVjlDLEVBQ0YsTUFBTyxHQUVULElBQUlrbkQsRUFBUXhCLEdBQVM0TixHQUFhdHpELElBQVMsU0FBU2tELEdBQ2xELE1BQU8sQ0FBQ0EsTUFHVixPQURBSixFQUFZNjNELEdBQVk3M0QsR0FDakJ1NEQsR0FBV3I3RCxFQUFRa25ELEdBQU8sU0FBUzNuRCxFQUFPK1osR0FDL0MsT0FBT3hXLEVBQVV2RCxFQUFPK1osRUFBSyxPQTRJakMsSUFBSTh6RCxHQUFVM0ksR0FBY2hrRSxJQTBCeEI0c0UsR0FBWTVJLEdBQWNyUyxJQTRLOUIsU0FBU3p4RCxHQUFPWCxHQUNkLE9BQWlCLE1BQVZBLEVBQWlCLEdBQUtpbkQsR0FBV2puRCxFQUFRUyxHQUFLVCxJQWtOdkQsSUFBSXN0RSxHQUFZek0sSUFBaUIsU0FBUzcvRCxFQUFRdXNFLEVBQU1yM0QsR0FFdEQsT0FEQXEzRCxFQUFPQSxFQUFLamhFLGNBQ0x0TCxHQUFVa1YsRUFBUXMzRCxHQUFXRCxHQUFRQSxNQWtCOUMsU0FBU0MsR0FBV3hsQixHQUNsQixPQUFPeWxCLEdBQVdya0UsR0FBUzQrQyxHQUFRMTdDLGVBcUJyQyxTQUFTeTBELEdBQU8vWSxHQUVkLE9BREFBLEVBQVM1K0MsR0FBUzQrQyxLQUNEQSxFQUFPaDRDLFFBQVEyd0MsR0FBU2dILElBQWMzM0MsUUFBUXF5QyxHQUFhLElBc0g5RSxJQUFJcXJCLEdBQVk3TSxJQUFpQixTQUFTNy9ELEVBQVF1c0UsRUFBTXIzRCxHQUN0RCxPQUFPbFYsR0FBVWtWLEVBQVEsSUFBTSxJQUFNcTNELEVBQUtqaEUsaUJBdUJ4Q3FoRSxHQUFZOU0sSUFBaUIsU0FBUzcvRCxFQUFRdXNFLEVBQU1yM0QsR0FDdEQsT0FBT2xWLEdBQVVrVixFQUFRLElBQU0sSUFBTXEzRCxFQUFLamhFLGlCQW9CeENzaEUsR0FBYWpOLEdBQWdCLGVBME5qQyxJQUFJa04sR0FBWWhOLElBQWlCLFNBQVM3L0QsRUFBUXVzRSxFQUFNcjNELEdBQ3RELE9BQU9sVixHQUFVa1YsRUFBUSxJQUFNLElBQU1xM0QsRUFBS2poRSxpQkFnRTVDLElBQUl3aEUsR0FBWWpOLElBQWlCLFNBQVM3L0QsRUFBUXVzRSxFQUFNcjNELEdBQ3RELE9BQU9sVixHQUFVa1YsRUFBUSxJQUFNLElBQU11M0QsR0FBV0YsTUFraUJsRCxJQUFJUSxHQUFZbE4sSUFBaUIsU0FBUzcvRCxFQUFRdXNFLEVBQU1yM0QsR0FDdEQsT0FBT2xWLEdBQVVrVixFQUFRLElBQU0sSUFBTXEzRCxFQUFLcGhFLGlCQW9CeENzaEUsR0FBYTlNLEdBQWdCLGVBcUJqQyxTQUFTRyxHQUFNOVksRUFBUTErQyxFQUFTazNELEdBSTlCLE9BSEF4WSxFQUFTNStDLEdBQVM0K0MsUUF2MmRsQnJtRCxLQXcyZEEySCxFQUFVazNELE9BeDJkVjcrRCxFQXcyZDhCMkgsR0F0dmJsQyxTQUF3QjArQyxHQUN0QixPQUFPdkYsR0FBaUIvdUMsS0FBS3MwQyxHQXd2YmxCZ21CLENBQWVobUIsR0E1aGI1QixTQUFzQkEsR0FDcEIsT0FBT0EsRUFBT3JyQyxNQUFNNGxDLEtBQWtCLEdBMmhiRjByQixDQUFham1CLEdBL25jbkQsU0FBb0JBLEdBQ2xCLE9BQU9BLEVBQU9yckMsTUFBTXVqQyxLQUFnQixHQThuY3VCZ3VCLENBQVdsbUIsR0FFN0RBLEVBQU9yckMsTUFBTXJULElBQVksR0EyQmxDLElBQUk2a0UsR0FBVXZTLElBQVMsU0FBU3IzRCxFQUFNeWQsR0FDcEMsSUFDRSxPQUFPbmQsR0FBTU4sT0ExNGRmNUMsRUEwNGRnQ3FnQixHQUM5QixNQUFPclcsR0FDUCxPQUFPOC9ELEdBQVE5L0QsR0FBS0EsRUFBSSxJQUFJekosR0FBTXlKLE9BOEJsQ3lpRSxHQUFVL00sSUFBUyxTQUFTcmhFLEVBQVFxdUUsR0FLdEMsT0FKQXBwQixHQUFVb3BCLEdBQWEsU0FBU3h1RSxHQUM5QkEsRUFBTTIxRCxHQUFNMzFELEdBQ1p5d0QsR0FBZ0J0d0QsRUFBUUgsRUFBS0MsR0FBS0UsRUFBT0gsR0FBTUcsT0FFMUNBLEtBcUdULFNBQVNvOEQsR0FBUzc4RCxHQUNoQixPQUFPLFdBQ0wsT0FBT0EsR0FrRFgsSUFBSSt1RSxHQUFPbE4sS0F1QlBtTixHQUFZbk4sSUFBVyxHQWtCM0IsU0FBU2o5RCxHQUFTNUUsR0FDaEIsT0FBT0EsRUE2Q1QsU0FBU3lsRCxHQUFTemdELEdBQ2hCLE9BQU9zMEQsR0FBNEIsbUJBQVJ0MEQsRUFBcUJBLEVBQU82c0QsR0FBVTdzRCxFQTFvZS9DLElBbXVlcEIsSUFBSWlxRSxHQUFTNVMsSUFBUyxTQUFTdGlELEVBQU0wSSxHQUNuQyxPQUFPLFNBQVNoaUIsR0FDZCxPQUFPMDJELEdBQVcxMkQsRUFBUXNaLEVBQU0wSSxPQTJCaEN5c0QsR0FBVzdTLElBQVMsU0FBUzU3RCxFQUFRZ2lCLEdBQ3ZDLE9BQU8sU0FBUzFJLEdBQ2QsT0FBT285QyxHQUFXMTJELEVBQVFzWixFQUFNMEksT0F3Q3BDLFNBQVMwc0QsR0FBTTF1RSxFQUFRMlAsRUFBUTNCLEdBQzdCLElBQUlrNUMsRUFBUXptRCxHQUFLa1AsR0FDYjArRCxFQUFjaFosR0FBYzFsRCxFQUFRdTNDLEdBRXpCLE1BQVhsNUMsR0FDRS9MLEdBQVMwTixLQUFZMCtELEVBQVk3dEUsU0FBVzBtRCxFQUFNMW1ELFVBQ3REd04sRUFBVTJCLEVBQ1ZBLEVBQVMzUCxFQUNUQSxFQUFTNEosS0FDVHlrRSxFQUFjaFosR0FBYzFsRCxFQUFRbFAsR0FBS2tQLEtBRTNDLElBQUlnNUQsSUFBVTFtRSxHQUFTK0wsSUFBWSxVQUFXQSxJQUFjQSxFQUFRMjZELE9BQ2hFNVcsRUFBU3h2RCxHQUFXdkMsR0FxQnhCLE9BbkJBaWxELEdBQVVvcEIsR0FBYSxTQUFTNW1DLEdBQzlCLElBQUlsakMsRUFBT29MLEVBQU84M0IsR0FDbEJ6bkMsRUFBT3luQyxHQUFjbGpDLEVBQ2pCd3RELElBQ0YveEQsRUFBT0UsVUFBVXVuQyxHQUFjLFdBQzdCLElBQUlzbUIsRUFBV25rRCxLQUFLc2tELFVBQ3BCLEdBQUl5YSxHQUFTNWEsRUFBVSxDQUNyQixJQUFJL3NELEVBQVNoQixFQUFPNEosS0FBS29rRCxhQUNyQm9RLEVBQVVwOUQsRUFBT2l0RCxZQUFjZ0MsR0FBVXJtRCxLQUFLcWtELGFBSWxELE9BRkFtUSxFQUFRdjlELEtBQUssQ0FBRSxLQUFRMEQsRUFBTSxLQUFRRyxVQUFXLFFBQVcxRSxJQUMzRGdCLEVBQU9rdEQsVUFBWUgsRUFDWi9zRCxFQUVULE9BQU91RCxFQUFLTSxNQUFNN0UsRUFBUTJsRCxHQUFVLENBQUMvN0MsS0FBS3JLLFNBQVVtRixpQkFLbkQxRSxFQW1DVCxTQUFTd2tFLE1BaURULElBQUltSyxHQUFPdEwsR0FBVzNkLElBMEJsQmtwQixHQUFZdkwsR0FBV2xlLElBMEJ2QjBwQixHQUFXeEwsR0FBV3RkLElBd0IxQixTQUFTOWxELEdBQVNxWixHQUNoQixPQUFPb2dELEdBQU1wZ0QsR0FBUTJzQyxHQUFhdVAsR0FBTWw4QyxJQXQwWDFDLFNBQTBCQSxHQUN4QixPQUFPLFNBQVN0WixHQUNkLE9BQU9zMUQsR0FBUXQxRCxFQUFRc1osSUFvMFh3QncxRCxDQUFpQngxRCxHQXVFcEUsSUFBSTNPLEdBQVErNEQsS0FzQ1JxTCxHQUFhckwsSUFBWSxHQW9CN0IsU0FBU2dDLEtBQ1AsTUFBTyxHQWdCVCxTQUFTUSxLQUNQLE9BQU8sRUErSlQsSUFBSWhYLEdBQU1nVSxJQUFvQixTQUFTOEwsRUFBUUMsR0FDN0MsT0FBT0QsRUFBU0MsSUFDZixHQXVCQzlqQixHQUFPaVosR0FBWSxRQWlCbkI4SyxHQUFTaE0sSUFBb0IsU0FBU2lNLEVBQVVDLEdBQ2xELE9BQU9ELEVBQVdDLElBQ2pCLEdBdUJDbHdELEdBQVFrbEQsR0FBWSxTQXdLeEIsSUFnYU16MEQsR0FoYUYwL0QsR0FBV25NLElBQW9CLFNBQVNvTSxFQUFZQyxHQUN0RCxPQUFPRCxFQUFhQyxJQUNuQixHQXVCQ0MsR0FBUXBMLEdBQVksU0FpQnBCcUwsR0FBV3ZNLElBQW9CLFNBQVN3TSxFQUFTQyxHQUNuRCxPQUFPRCxFQUFVQyxJQUNoQixHQWdtQkgsT0ExaUJBcGlCLEdBQU9xaUIsTUF2NE1QLFNBQWU3dkUsRUFBR3dFLEdBQ2hCLEdBQW1CLG1CQUFSQSxFQUNULE1BQU0sSUFBSTJrRCxHQUFVak0sR0FHdEIsT0FEQWw5QyxFQUFJdWtFLEdBQVV2a0UsR0FDUCxXQUNMLEtBQU1BLEVBQUksRUFDUixPQUFPd0UsRUFBS00sTUFBTStFLEtBQU1sRixhQWk0TTlCNm9ELEdBQU80VSxJQUFNQSxHQUNiNVUsR0FBTzduRCxPQUFTQSxHQUNoQjZuRCxHQUFPOGUsU0FBV0EsR0FDbEI5ZSxHQUFPK2UsYUFBZUEsR0FDdEIvZSxHQUFPZ2YsV0FBYUEsR0FDcEJoZixHQUFPaWYsR0FBS0EsR0FDWmpmLEdBQU82YixPQUFTQSxHQUNoQjdiLEdBQU96dEQsS0FBT0EsR0FDZHl0RCxHQUFPNmdCLFFBQVVBLEdBQ2pCN2dCLEdBQU84YixRQUFVQSxHQUNqQjliLEdBQU9zaUIsVUFyNktQLFdBQ0UsSUFBS25yRSxVQUFVbEUsT0FDYixNQUFPLEdBRVQsSUFBSWpCLEVBQVFtRixVQUFVLEdBQ3RCLE9BQU9sRCxHQUFRakMsR0FBU0EsRUFBUSxDQUFDQSxJQWk2S25DZ3VELEdBQU9vYixNQUFRQSxHQUNmcGIsR0FBT3VpQixNQW4rU1AsU0FBZWhyQixFQUFPNXhCLEVBQU1zdEMsR0FFeEJ0dEMsR0FER3N0QyxFQUFRQyxHQUFlM2IsRUFBTzV4QixFQUFNc3RDLFFBNXFOekM3K0QsSUE0cU5rRHV4QixHQUN6QyxFQUVBMjRCLEdBQVV5WSxHQUFVcHhDLEdBQU8sR0FFcEMsSUFBSTF5QixFQUFrQixNQUFUc2tELEVBQWdCLEVBQUlBLEVBQU10a0QsT0FDdkMsSUFBS0EsR0FBVTB5QixFQUFPLEVBQ3BCLE1BQU8sR0FNVCxJQUpBLElBQUloZCxFQUFRLEVBQ1JtdkMsRUFBVyxFQUNYcmtELEVBQVNPLEVBQU0ycEQsR0FBVzFxRCxFQUFTMHlCLElBRWhDaGQsRUFBUTFWLEdBQ2JRLEVBQU9xa0QsS0FBY2lYLEdBQVV4WCxFQUFPNXVDLEVBQVFBLEdBQVNnZCxHQUV6RCxPQUFPbHlCLEdBbTlTVHVzRCxHQUFPdHBELFFBajhTUCxTQUFpQjZnRCxHQU1mLElBTEEsSUFBSTV1QyxHQUFTLEVBQ1QxVixFQUFrQixNQUFUc2tELEVBQWdCLEVBQUlBLEVBQU10a0QsT0FDbkM2a0QsRUFBVyxFQUNYcmtELEVBQVMsS0FFSmtWLEVBQVExVixHQUFRLENBQ3ZCLElBQUlqQixFQUFRdWxELEVBQU01dUMsR0FDZDNXLElBQ0Z5QixFQUFPcWtELEtBQWM5bEQsR0FHekIsT0FBT3lCLEdBczdTVHVzRCxHQUFPOXJELE9BNzVTUCxXQUNFLElBQUlqQixFQUFTa0UsVUFBVWxFLE9BQ3ZCLElBQUtBLEVBQ0gsTUFBTyxHQU1ULElBSkEsSUFBSXdoQixFQUFPemdCLEVBQU1mLEVBQVMsR0FDdEJza0QsRUFBUXBnRCxVQUFVLEdBQ2xCd1IsRUFBUTFWLEVBRUwwVixLQUNMOEwsRUFBSzlMLEVBQVEsR0FBS3hSLFVBQVV3UixHQUU5QixPQUFPeXZDLEdBQVVua0QsR0FBUXNqRCxHQUFTbUwsR0FBVW5MLEdBQVMsQ0FBQ0EsR0FBUWdRLEdBQVk5eUMsRUFBTSxLQWs1U2xGdXJDLEdBQU93aUIsS0Fsc0NQLFNBQWMzYixHQUNaLElBQUk1ekQsRUFBa0IsTUFBVDR6RCxFQUFnQixFQUFJQSxFQUFNNXpELE9BQ25Dd2lFLEVBQWFySSxLQVNqQixPQVBBdkcsRUFBUzV6RCxFQUFja2xELEdBQVMwTyxHQUFPLFNBQVNtUSxHQUM5QyxHQUFzQixtQkFBWEEsRUFBSyxHQUNkLE1BQU0sSUFBSXJiLEdBQVVqTSxHQUV0QixNQUFPLENBQUMrbEIsRUFBV3VCLEVBQUssSUFBS0EsRUFBSyxPQUpsQixHQU9YM0ksSUFBUyxTQUFTNTVDLEdBRXZCLElBREEsSUFBSTlMLEdBQVMsSUFDSkEsRUFBUTFWLEdBQVEsQ0FDdkIsSUFBSStqRSxFQUFPblEsRUFBTWwrQyxHQUNqQixHQUFJclIsR0FBTTAvRCxFQUFLLEdBQUkzNkQsS0FBTW9ZLEdBQ3ZCLE9BQU9uZCxHQUFNMC9ELEVBQUssR0FBSTM2RCxLQUFNb1ksUUFtckNwQ3VyQyxHQUFPeWlCLFNBcnBDUCxTQUFrQnJnRSxHQUNoQixPQTMzWUYsU0FBc0JBLEdBQ3BCLElBQUl1M0MsRUFBUXptRCxHQUFLa1AsR0FDakIsT0FBTyxTQUFTM1AsR0FDZCxPQUFPd3pELEdBQWV4ekQsRUFBUTJQLEVBQVF1M0MsSUF3M1lqQytvQixDQUFhN2UsR0FBVXpoRCxFQXgrZFosS0E2bmdCcEI0OUMsR0FBTzZPLFNBQVdBLEdBQ2xCN08sR0FBT3ViLFFBQVVBLEdBQ2pCdmIsR0FBTzN0RCxPQXpzSFAsU0FBZ0JNLEVBQVdnd0UsR0FDekIsSUFBSWx2RSxFQUFTNHNELEdBQVcxdEQsR0FDeEIsT0FBcUIsTUFBZGd3RSxFQUFxQmx2RSxFQUFTNHZELEdBQVc1dkQsRUFBUWt2RSxJQXdzSDFEM2lCLEdBQU80aUIsTUE1c01QLFNBQVNBLEVBQU01ckUsRUFBTTY5RCxFQUFPNUIsR0FFMUIsSUFBSXgvRCxFQUFTMmpFLEdBQVdwZ0UsRUExNlROLE9BbENsQjVDLDhCQTI4VEF5Z0UsRUFBUTVCLE9BMzhUUjcrRCxFQTI4VDRCeWdFLEdBRzVCLE9BREFwaEUsRUFBTzBtRCxZQUFjeW9CLEVBQU16b0IsWUFDcEIxbUQsR0F5c01UdXNELEdBQU82aUIsV0FocU1QLFNBQVNBLEVBQVc3ckUsRUFBTTY5RCxFQUFPNUIsR0FFL0IsSUFBSXgvRCxFQUFTMmpFLEdBQVdwZ0UsRUF0OVRBLFFBbkN4QjVDLDhCQXcvVEF5Z0UsRUFBUTVCLE9BeC9UUjcrRCxFQXcvVDRCeWdFLEdBRzVCLE9BREFwaEUsRUFBTzBtRCxZQUFjMG9CLEVBQVcxb0IsWUFDekIxbUQsR0E2cE1UdXNELEdBQU9nYyxTQUFXQSxHQUNsQmhjLEdBQU90bkQsU0FBV0EsR0FDbEJzbkQsR0FBT29mLGFBQWVBLEdBQ3RCcGYsR0FBT3FkLE1BQVFBLEdBQ2ZyZCxHQUFPc2QsTUFBUUEsR0FDZnRkLEdBQU90b0QsV0FBYUEsR0FDcEJzb0QsR0FBTzZaLGFBQWVBLEdBQ3RCN1osR0FBTzhaLGVBQWlCQSxHQUN4QjlaLEdBQU85cUQsS0FyeVNQLFNBQWNxaUQsRUFBTy9rRCxFQUFHeWdFLEdBQ3RCLElBQUloZ0UsRUFBa0IsTUFBVHNrRCxFQUFnQixFQUFJQSxFQUFNdGtELE9BQ3ZDLE9BQUtBLEVBSUU4N0QsR0FBVXhYLEdBRGpCL2tELEVBQUt5Z0UsUUFoNE5MNytELElBZzROYzVCLEVBQW1CLEVBQUl1a0UsR0FBVXZrRSxJQUNuQixFQUFJLEVBQUlBLEVBQUdTLEdBSDlCLElBbXlTWCtzRCxHQUFPM3FELFVBcHdTUCxTQUFtQmtpRCxFQUFPL2tELEVBQUd5Z0UsR0FDM0IsSUFBSWhnRSxFQUFrQixNQUFUc2tELEVBQWdCLEVBQUlBLEVBQU10a0QsT0FDdkMsT0FBS0EsRUFLRTg3RCxHQUFVeFgsRUFBTyxHQUR4Qi9rRCxFQUFJUyxHQURKVCxFQUFLeWdFLFFBbDZOTDcrRCxJQWs2TmM1QixFQUFtQixFQUFJdWtFLEdBQVV2a0UsS0FFaEIsRUFBSSxFQUFJQSxHQUo5QixJQWt3U1h3dEQsR0FBTzhpQixlQXh0U1AsU0FBd0J2ckIsRUFBT2hpRCxHQUM3QixPQUFRZ2lELEdBQVNBLEVBQU10a0QsT0FDbkJ5OUQsR0FBVW5aLEVBQU82VixHQUFZNzNELEVBQVcsSUFBSSxHQUFNLEdBQ2xELElBc3RTTnlxRCxHQUFPK2lCLFVBaHJTUCxTQUFtQnhyQixFQUFPaGlELEdBQ3hCLE9BQVFnaUQsR0FBU0EsRUFBTXRrRCxPQUNuQnk5RCxHQUFVblosRUFBTzZWLEdBQVk3M0QsRUFBVyxJQUFJLEdBQzVDLElBOHFTTnlxRCxHQUFPZ2pCLEtBOW9TUCxTQUFjenJCLEVBQU92bEQsRUFBT2tKLEVBQU84ekQsR0FDakMsSUFBSS83RCxFQUFrQixNQUFUc2tELEVBQWdCLEVBQUlBLEVBQU10a0QsT0FDdkMsT0FBS0EsR0FHRGlJLEdBQXlCLGlCQUFUQSxHQUFxQmc0RCxHQUFlM2IsRUFBT3ZsRCxFQUFPa0osS0FDcEVBLEVBQVEsRUFDUjh6RCxFQUFNLzdELEdBbnVJVixTQUFrQnNrRCxFQUFPdmxELEVBQU9rSixFQUFPOHpELEdBQ3JDLElBQUkvN0QsRUFBU3NrRCxFQUFNdGtELE9BV25CLEtBVEFpSSxFQUFRNjdELEdBQVU3N0QsSUFDTixJQUNWQSxHQUFTQSxFQUFRakksRUFBUyxFQUFLQSxFQUFTaUksSUFFMUM4ekQsT0FqMEZBNTZELElBaTBGTzQ2RCxHQUFxQkEsRUFBTS83RCxFQUFVQSxFQUFTOGpFLEdBQVUvSCxJQUNyRCxJQUNSQSxHQUFPLzdELEdBRVQrN0QsRUFBTTl6RCxFQUFROHpELEVBQU0sRUFBSTRQLEdBQVM1UCxHQUMxQjl6RCxFQUFROHpELEdBQ2J6WCxFQUFNcjhDLEtBQVdsSixFQUVuQixPQUFPdWxELEVBc3RJQTByQixDQUFTMXJCLEVBQU92bEQsRUFBT2tKLEVBQU84ekQsSUFONUIsSUE0b1NYaFAsR0FBTzFxRCxPQTl0T1AsU0FBZ0JkLEVBQVllLEdBRTFCLE9BRFd0QixHQUFRTyxHQUFjcWpELEdBQWN5UCxJQUNuQzl5RCxFQUFZNDRELEdBQVk3M0QsRUFBVyxLQTZ0T2pEeXFELEdBQU9rakIsUUExb09QLFNBQWlCMXVFLEVBQVlpakQsR0FDM0IsT0FBTzhQLEdBQVkxekQsR0FBSVcsRUFBWWlqRCxHQUFXLElBMG9PaER1SSxHQUFPbWpCLFlBbm5PUCxTQUFxQjN1RSxFQUFZaWpELEdBQy9CLE9BQU84UCxHQUFZMXpELEdBQUlXLEVBQVlpakQsR0E3L1J4QixNQWduZ0JidUksR0FBT29qQixhQTNsT1AsU0FBc0I1dUUsRUFBWWlqRCxFQUFVK1AsR0FFMUMsT0FEQUEsT0E5a1NBcHpELElBOGtTUW96RCxFQUFzQixFQUFJdVAsR0FBVXZQLEdBQ3JDRCxHQUFZMXpELEdBQUlXLEVBQVlpakQsR0FBVytQLElBMGxPaER4SCxHQUFPbHNELFFBQVVBLEdBQ2pCa3NELEdBQU9xakIsWUF0Z1NQLFNBQXFCOXJCLEdBRW5CLE9BRHNCLE1BQVRBLEVBQWdCLEVBQUlBLEVBQU10a0QsUUFDdkJzMEQsR0FBWWhRLEVBOW1PakIsS0E4bU9vQyxJQXFnU2pEeUksR0FBT3NqQixhQTkrUlAsU0FBc0IvckIsRUFBT2lRLEdBRTNCLE9BRHNCLE1BQVRqUSxFQUFnQixFQUFJQSxFQUFNdGtELFFBS2hDczBELEdBQVloUSxFQURuQmlRLE9BbHNPQXB6RCxJQWtzT1FvekQsRUFBc0IsRUFBSXVQLEdBQVV2UCxJQUZuQyxJQTQrUlh4SCxHQUFPdWpCLEtBNTdMUCxTQUFjdnNFLEdBQ1osT0FBT29nRSxHQUFXcGdFLEVBenNVRCxNQXFvZ0JuQmdwRCxHQUFPK2dCLEtBQU9BLEdBQ2QvZ0IsR0FBT2doQixVQUFZQSxHQUNuQmhoQixHQUFPd2pCLFVBMTlSUCxTQUFtQjNjLEdBS2pCLElBSkEsSUFBSWwrQyxHQUFTLEVBQ1QxVixFQUFrQixNQUFUNHpELEVBQWdCLEVBQUlBLEVBQU01ekQsT0FDbkNRLEVBQVMsS0FFSmtWLEVBQVExVixHQUFRLENBQ3ZCLElBQUkrakUsRUFBT25RLEVBQU1sK0MsR0FDakJsVixFQUFPdWpFLEVBQUssSUFBTUEsRUFBSyxHQUV6QixPQUFPdmpFLEdBazlSVHVzRCxHQUFPeWpCLFVBOTZHUCxTQUFtQmh4RSxHQUNqQixPQUFpQixNQUFWQSxFQUFpQixHQUFLcTFELEdBQWNyMUQsRUFBUVMsR0FBS1QsS0E4NkcxRHV0RCxHQUFPMGpCLFlBcDVHUCxTQUFxQmp4RSxHQUNuQixPQUFpQixNQUFWQSxFQUFpQixHQUFLcTFELEdBQWNyMUQsRUFBUW95RCxHQUFPcHlELEtBbzVHNUR1dEQsR0FBT3JuRCxRQUFVQSxHQUNqQnFuRCxHQUFPenBELFFBMzRSUCxTQUFpQmdoRCxHQUVmLE9BRHNCLE1BQVRBLEVBQWdCLEVBQUlBLEVBQU10a0QsUUFDdkI4N0QsR0FBVXhYLEVBQU8sR0FBSSxHQUFLLElBMDRSNUN5SSxHQUFPa2EsYUFBZUEsR0FDdEJsYSxHQUFPb2EsZUFBaUJBLEdBQ3hCcGEsR0FBT3FhLGlCQUFtQkEsR0FDMUJyYSxHQUFPc2YsT0FBU0EsR0FDaEJ0ZixHQUFPdWYsU0FBV0EsR0FDbEJ2ZixHQUFPMGIsVUFBWUEsR0FDbkIxYixHQUFPdkksU0FBV0EsR0FDbEJ1SSxHQUFPMmIsTUFBUUEsR0FDZjNiLEdBQU85c0QsS0FBT0EsR0FDZDhzRCxHQUFPNkUsT0FBU0EsR0FDaEI3RSxHQUFPbnNELElBQU1BLEdBQ2Jtc0QsR0FBTzJqQixRQTdwR1AsU0FBaUJseEUsRUFBUWdsRCxHQUN2QixJQUFJaGtELEVBQVMsR0FNYixPQUxBZ2tELEVBQVcyVixHQUFZM1YsRUFBVSxHQUVqQ3VQLEdBQVd2MEQsR0FBUSxTQUFTVCxFQUFPTSxFQUFLRyxHQUN0Q3N3RCxHQUFnQnR2RCxFQUFRZ2tELEVBQVN6bEQsRUFBT00sRUFBS0csR0FBU1QsTUFFakR5QixHQXVwR1R1c0QsR0FBT3pzRCxVQXhuR1AsU0FBbUJkLEVBQVFnbEQsR0FDekIsSUFBSWhrRCxFQUFTLEdBTWIsT0FMQWdrRCxFQUFXMlYsR0FBWTNWLEVBQVUsR0FFakN1UCxHQUFXdjBELEdBQVEsU0FBU1QsRUFBT00sRUFBS0csR0FDdENzd0QsR0FBZ0J0dkQsRUFBUW5CLEVBQUttbEQsRUFBU3psRCxFQUFPTSxFQUFLRyxPQUU3Q2dCLEdBa25HVHVzRCxHQUFPNGpCLFFBbGdDUCxTQUFpQnhoRSxHQUNmLE9BQU9vcEQsR0FBWTNILEdBQVV6aEQsRUExcWVYLEtBNHFnQnBCNDlDLEdBQU82akIsZ0JBcitCUCxTQUF5QjkzRCxFQUFNby9DLEdBQzdCLE9BQU9JLEdBQW9CeC9DLEVBQU04M0MsR0FBVXNILEVBeHNlekIsS0E2cWdCcEJuTCxHQUFPd1osUUFBVUEsR0FDakJ4WixHQUFPam5ELE1BQVFBLEdBQ2ZpbkQsR0FBT3FmLFVBQVlBLEdBQ25CcmYsR0FBT2loQixPQUFTQSxHQUNoQmpoQixHQUFPa2hCLFNBQVdBLEdBQ2xCbGhCLEdBQU9taEIsTUFBUUEsR0FDZm5oQixHQUFPMGQsT0FBU0EsR0FDaEIxZCxHQUFPOGpCLE9BOXlCUCxTQUFnQnR4RSxHQUVkLE9BREFBLEVBQUl1a0UsR0FBVXZrRSxHQUNQNjdELElBQVMsU0FBUzU1QyxHQUN2QixPQUFPdTRDLEdBQVF2NEMsRUFBTWppQixPQTR5QnpCd3RELEdBQU95ZixLQUFPQSxHQUNkemYsR0FBTytqQixPQXQvRlAsU0FBZ0J0eEUsRUFBUThDLEdBQ3RCLE9BQU9xcUUsR0FBT250RSxFQUFRaXJFLEdBQU90USxHQUFZNzNELE1Bcy9GM0N5cUQsR0FBT2drQixLQWgyTFAsU0FBY2h0RSxHQUNaLE9BQU82a0UsR0FBTyxFQUFHN2tFLElBZzJMbkJncEQsR0FBT2lrQixRQXgyTlAsU0FBaUJ6dkUsRUFBWTA0RCxFQUFXQyxFQUFROEYsR0FDOUMsT0FBa0IsTUFBZHorRCxFQUNLLElBRUpQLEdBQVFpNUQsS0FDWEEsRUFBeUIsTUFBYkEsRUFBb0IsR0FBSyxDQUFDQSxJQUduQ2o1RCxHQURMazVELEVBQVM4RixPQTcyU1Q3K0QsRUE2MlM2Qis0RCxLQUUzQkEsRUFBbUIsTUFBVkEsRUFBaUIsR0FBSyxDQUFDQSxJQUUzQkYsR0FBWXo0RCxFQUFZMDRELEVBQVdDLEtBODFONUNuTixHQUFPb2hCLEtBQU9BLEdBQ2RwaEIsR0FBTzJkLFNBQVdBLEdBQ2xCM2QsR0FBT3FoQixVQUFZQSxHQUNuQnJoQixHQUFPc2hCLFNBQVdBLEdBQ2xCdGhCLEdBQU9qcEQsUUFBVUEsR0FDakJpcEQsR0FBTzhkLGFBQWVBLEdBQ3RCOWQsR0FBTzRiLFVBQVlBLEdBQ25CNWIsR0FBT3ZxRCxLQUFPQSxHQUNkdXFELEdBQU80ZixPQUFTQSxHQUNoQjVmLEdBQU90dEQsU0FBV0EsR0FDbEJzdEQsR0FBT2trQixXQS9yQlAsU0FBb0J6eEUsR0FDbEIsT0FBTyxTQUFTc1osR0FDZCxPQUFpQixNQUFWdFosT0E1aGZUMkIsRUE0aGZzQzJ6RCxHQUFRdDFELEVBQVFzWixLQThyQnhEaTBDLEdBQU9zYSxLQUFPQSxHQUNkdGEsR0FBT3VhLFFBQVVBLEdBQ2pCdmEsR0FBT21rQixVQW5xUlAsU0FBbUI1c0IsRUFBT25rRCxFQUFRcWtELEdBQ2hDLE9BQVFGLEdBQVNBLEVBQU10a0QsUUFBVUcsR0FBVUEsRUFBT0gsT0FDOUMrNkQsR0FBWXpXLEVBQU9ua0QsRUFBUWc2RCxHQUFZM1YsRUFBVSxJQUNqREYsR0FpcVJOeUksR0FBT29rQixZQXZvUlAsU0FBcUI3c0IsRUFBT25rRCxFQUFROGtELEdBQ2xDLE9BQVFYLEdBQVNBLEVBQU10a0QsUUFBVUcsR0FBVUEsRUFBT0gsT0FDOUMrNkQsR0FBWXpXLEVBQU9ua0QsT0F4bFB2QmdCLEVBd2xQMEM4akQsR0FDdENYLEdBcW9STnlJLEdBQU93YSxPQUFTQSxHQUNoQnhhLEdBQU81aUQsTUFBUUEsR0FDZjRpRCxHQUFPd2hCLFdBQWFBLEdBQ3BCeGhCLEdBQU8rZCxNQUFRQSxHQUNmL2QsR0FBT3hxRCxPQTN0TlAsU0FBZ0JoQixFQUFZZSxHQUUxQixPQURXdEIsR0FBUU8sR0FBY3FqRCxHQUFjeVAsSUFDbkM5eUQsRUFBWWtwRSxHQUFPdFEsR0FBWTczRCxFQUFXLE1BMHROeER5cUQsR0FBT3FrQixPQXhrUlAsU0FBZ0I5c0IsRUFBT2hpRCxHQUNyQixJQUFJOUIsRUFBUyxHQUNiLElBQU04akQsSUFBU0EsRUFBTXRrRCxPQUNuQixPQUFPUSxFQUVULElBQUlrVixHQUFTLEVBQ1R1bEQsRUFBVSxHQUNWajdELEVBQVNza0QsRUFBTXRrRCxPQUduQixJQURBc0MsRUFBWTYzRCxHQUFZNzNELEVBQVcsS0FDMUJvVCxFQUFRMVYsR0FBUSxDQUN2QixJQUFJakIsRUFBUXVsRCxFQUFNNXVDLEdBQ2RwVCxFQUFVdkQsRUFBTzJXLEVBQU80dUMsS0FDMUI5akQsRUFBT0gsS0FBS3RCLEdBQ1prOEQsRUFBUTU2RCxLQUFLcVYsSUFJakIsT0FEQXNsRCxHQUFXMVcsRUFBTzJXLEdBQ1h6NkQsR0F1alJUdXNELEdBQU8zMUIsS0Fyc0xQLFNBQWNyekIsRUFBTWtFLEdBQ2xCLEdBQW1CLG1CQUFSbEUsRUFDVCxNQUFNLElBQUkya0QsR0FBVWpNLEdBR3RCLE9BQU8yZSxHQUFTcjNELEVBRGhCa0UsT0FuaVZBOUcsSUFtaVZROEcsRUFBc0JBLEVBQVE2N0QsR0FBVTc3RCxLQWtzTGxEOGtELEdBQU96K0IsUUFBVUEsR0FDakJ5K0IsR0FBT3NrQixXQW5yTlAsU0FBb0I5dkUsRUFBWWhDLEVBQUd5Z0UsR0FPakMsT0FMRXpnRSxHQURHeWdFLEVBQVFDLEdBQWUxK0QsRUFBWWhDLEVBQUd5Z0UsUUFwalQzQzcrRCxJQW9qVG9ENUIsR0FDOUMsRUFFQXVrRSxHQUFVdmtFLElBRUx5QixHQUFRTyxHQUFjZ3VELEdBQWtCaU0sSUFDdkNqNkQsRUFBWWhDLElBNnFOMUJ3dEQsR0FBT3ZsRCxJQTE0RlAsU0FBYWhJLEVBQVFzWixFQUFNL1osR0FDekIsT0FBaUIsTUFBVlMsRUFBaUJBLEVBQVNzN0QsR0FBUXQ3RCxFQUFRc1osRUFBTS9aLElBMDRGekRndUQsR0FBT3VrQixRQS8yRlAsU0FBaUI5eEUsRUFBUXNaLEVBQU0vWixFQUFPK3hELEdBRXBDLE9BREFBLEVBQWtDLG1CQUFkQSxFQUEyQkEsT0ExM2EvQzN2RCxFQTIzYWlCLE1BQVYzQixFQUFpQkEsRUFBU3M3RCxHQUFRdDdELEVBQVFzWixFQUFNL1osRUFBTyt4RCxJQTgyRmhFL0QsR0FBT3drQixRQTdwTlAsU0FBaUJod0UsR0FFZixPQURXUCxHQUFRTyxHQUFjb3VELEdBQWVrTSxJQUNwQ3Q2RCxJQTRwTmR3ckQsR0FBTzVxRCxNQS9nUlAsU0FBZW1pRCxFQUFPcjhDLEVBQU84ekQsR0FDM0IsSUFBSS83RCxFQUFrQixNQUFUc2tELEVBQWdCLEVBQUlBLEVBQU10a0QsT0FDdkMsT0FBS0EsR0FHRCs3RCxHQUFxQixpQkFBUEEsR0FBbUJrRSxHQUFlM2IsRUFBT3I4QyxFQUFPOHpELElBQ2hFOXpELEVBQVEsRUFDUjh6RCxFQUFNLzdELElBR05pSSxFQUFpQixNQUFUQSxFQUFnQixFQUFJNjdELEdBQVU3N0QsR0FDdEM4ekQsT0F0dVBGNTZELElBc3VQUTQ2RCxFQUFvQi83RCxFQUFTOGpFLEdBQVUvSCxJQUV4Q0QsR0FBVXhYLEVBQU9yOEMsRUFBTzh6RCxJQVZ0QixJQTZnUlhoUCxHQUFPbm9ELE9BQVNBLEdBQ2hCbW9ELEdBQU95a0IsV0F2MVFQLFNBQW9CbHRCLEdBQ2xCLE9BQVFBLEdBQVNBLEVBQU10a0QsT0FDbkJpOUQsR0FBZTNZLEdBQ2YsSUFxMVFOeUksR0FBTzBrQixhQWwwUVAsU0FBc0JudEIsRUFBT0UsR0FDM0IsT0FBUUYsR0FBU0EsRUFBTXRrRCxPQUNuQmk5RCxHQUFlM1ksRUFBTzZWLEdBQVkzVixFQUFVLElBQzVDLElBZzBRTnVJLEdBQU8zRSxNQS8vRFAsU0FBZVosRUFBUXRqQyxFQUFXd3RELEdBS2hDLE9BSklBLEdBQXlCLGlCQUFUQSxHQUFxQnpSLEdBQWV6WSxFQUFRdGpDLEVBQVd3dEQsS0FDekV4dEQsRUFBWXd0RCxPQWp2Y2R2d0UsSUFtdmNBdXdFLE9BbnZjQXZ3RSxJQW12Y1F1d0UsRUFycmNXLFdBcXJjOEJBLElBQVUsSUFJM0RscUIsRUFBUzUrQyxHQUFTNCtDLE1BRVEsaUJBQWJ0akMsR0FDTyxNQUFiQSxJQUFzQjVmLEdBQVM0ZixPQUVwQ0EsRUFBWWk1QyxHQUFhajVDLEtBQ1BxakMsR0FBV0MsR0FDcEI2VyxHQUFVblcsR0FBY1YsR0FBUyxFQUFHa3FCLEdBR3hDbHFCLEVBQU9ZLE1BQU1sa0MsRUFBV3d0RCxHQVp0QixJQTAvRFgza0IsR0FBTzRrQixPQXRxTFAsU0FBZ0I1dEUsRUFBTWtFLEdBQ3BCLEdBQW1CLG1CQUFSbEUsRUFDVCxNQUFNLElBQUkya0QsR0FBVWpNLEdBR3RCLE9BREF4MEMsRUFBaUIsTUFBVEEsRUFBZ0IsRUFBSW9qRCxHQUFVeVksR0FBVTc3RCxHQUFRLEdBQ2pEbXpELElBQVMsU0FBUzU1QyxHQUN2QixJQUFJOGlDLEVBQVE5aUMsRUFBS3ZaLEdBQ2IwOUQsRUFBWXRILEdBQVU3OEMsRUFBTSxFQUFHdlosR0FLbkMsT0FISXE4QyxHQUNGYSxHQUFVd2dCLEVBQVdyaEIsR0FFaEJqZ0QsR0FBTU4sRUFBTXFGLEtBQU11OEQsT0EycEw3QjVZLEdBQU82a0IsS0FqelFQLFNBQWN0dEIsR0FDWixJQUFJdGtELEVBQWtCLE1BQVRza0QsRUFBZ0IsRUFBSUEsRUFBTXRrRCxPQUN2QyxPQUFPQSxFQUFTODdELEdBQVV4WCxFQUFPLEVBQUd0a0QsR0FBVSxJQWd6UWhEK3NELEdBQU84a0IsS0FweFFQLFNBQWN2dEIsRUFBTy9rRCxFQUFHeWdFLEdBQ3RCLE9BQU0xYixHQUFTQSxFQUFNdGtELE9BSWQ4N0QsR0FBVXhYLEVBQU8sR0FEeEIva0QsRUFBS3lnRSxRQWorUEw3K0QsSUFpK1BjNUIsRUFBbUIsRUFBSXVrRSxHQUFVdmtFLElBQ2hCLEVBQUksRUFBSUEsR0FIOUIsSUFteFFYd3RELEdBQU8ra0IsVUFwdlFQLFNBQW1CeHRCLEVBQU8va0QsRUFBR3lnRSxHQUMzQixJQUFJaGdFLEVBQWtCLE1BQVRza0QsRUFBZ0IsRUFBSUEsRUFBTXRrRCxPQUN2QyxPQUFLQSxFQUtFODdELEdBQVV4WCxHQURqQi9rRCxFQUFJUyxHQURKVCxFQUFLeWdFLFFBbmdRTDcrRCxJQW1nUWM1QixFQUFtQixFQUFJdWtFLEdBQVV2a0UsS0FFbkIsRUFBSSxFQUFJQSxFQUFHUyxHQUo5QixJQWt2UVgrc0QsR0FBT2dsQixlQXhzUVAsU0FBd0J6dEIsRUFBT2hpRCxHQUM3QixPQUFRZ2lELEdBQVNBLEVBQU10a0QsT0FDbkJ5OUQsR0FBVW5aLEVBQU82VixHQUFZNzNELEVBQVcsSUFBSSxHQUFPLEdBQ25ELElBc3NRTnlxRCxHQUFPaWxCLFVBaHFRUCxTQUFtQjF0QixFQUFPaGlELEdBQ3hCLE9BQVFnaUQsR0FBU0EsRUFBTXRrRCxPQUNuQnk5RCxHQUFVblosRUFBTzZWLEdBQVk3M0QsRUFBVyxJQUN4QyxJQThwUU55cUQsR0FBT2tsQixJQW5zUFAsU0FBYWx6RSxFQUFPcXBFLEdBRWxCLE9BREFBLEVBQVlycEUsR0FDTEEsR0Frc1BUZ3VELEdBQU9tbEIsU0FqbkxQLFNBQWtCbnVFLEVBQU1tdkQsRUFBTTFsRCxHQUM1QixJQUFJODdELEdBQVUsRUFDVmxKLEdBQVcsRUFFZixHQUFtQixtQkFBUnI4RCxFQUNULE1BQU0sSUFBSTJrRCxHQUFVak0sR0FNdEIsT0FKSWg3QyxHQUFTK0wsS0FDWDg3RCxFQUFVLFlBQWE5N0QsSUFBWUEsRUFBUTg3RCxRQUFVQSxFQUNyRGxKLEVBQVcsYUFBYzV5RCxJQUFZQSxFQUFRNHlELFNBQVdBLEdBRW5EMkksR0FBU2hsRSxFQUFNbXZELEVBQU0sQ0FDMUIsUUFBV29XLEVBQ1gsUUFBV3BXLEVBQ1gsU0FBWWtOLEtBb21MaEJyVCxHQUFPaVUsS0FBT0EsR0FDZGpVLEdBQU91ZSxRQUFVQSxHQUNqQnZlLEdBQU82ZixRQUFVQSxHQUNqQjdmLEdBQU84ZixVQUFZQSxHQUNuQjlmLEdBQU9vbEIsT0FyZlAsU0FBZ0JwekUsR0FDZCxPQUFJaUMsR0FBUWpDLEdBQ0htbUQsR0FBU25tRCxFQUFPaTJELElBRWxCWixHQUFTcjFELEdBQVMsQ0FBQ0EsR0FBUzB3RCxHQUFVME8sR0FBYXYxRCxHQUFTN0osTUFrZnJFZ3VELEdBQU84TSxjQUFnQkEsR0FDdkI5TSxHQUFPcEYsVUE3eUZQLFNBQW1Cbm9ELEVBQVFnbEQsRUFBVWhoRCxHQUNuQyxJQUFJRCxFQUFRdkMsR0FBUXhCLEdBQ2hCNHlFLEVBQVk3dUUsR0FBU3luRCxHQUFTeHJELElBQVcya0QsR0FBYTNrRCxHQUcxRCxHQURBZ2xELEVBQVcyVixHQUFZM1YsRUFBVSxHQUNkLE1BQWZoaEQsRUFBcUIsQ0FDdkIsSUFBSXd1RCxFQUFPeHlELEdBQVVBLEVBQU82SixZQUUxQjdGLEVBREU0dUUsRUFDWTd1RSxFQUFRLElBQUl5dUQsRUFBTyxHQUUxQnZ3RCxHQUFTakMsSUFDRnVDLEdBQVdpd0QsR0FBUTVFLEdBQVcxRCxHQUFhbHFELElBRzNDLEdBTWxCLE9BSEM0eUUsRUFBWTN0QixHQUFZc1AsSUFBWXYwRCxHQUFRLFNBQVNULEVBQU8yVyxFQUFPbFcsR0FDbEUsT0FBT2dsRCxFQUFTaGhELEVBQWF6RSxFQUFPMlcsRUFBT2xXLE1BRXRDZ0UsR0EweEZUdXBELEdBQU9zbEIsTUF4bExQLFNBQWV0dUUsR0FDYixPQUFPNDlELEdBQUk1OUQsRUFBTSxJQXdsTG5CZ3BELEdBQU95YSxNQUFRQSxHQUNmemEsR0FBTzBhLFFBQVVBLEdBQ2pCMWEsR0FBTzJhLFVBQVlBLEdBQ25CM2EsR0FBT3JwRCxLQXhrUVAsU0FBYzRnRCxHQUNaLE9BQVFBLEdBQVNBLEVBQU10a0QsT0FBVW85RCxHQUFTOVksR0FBUyxJQXdrUXJEeUksR0FBT3VsQixPQTlpUVAsU0FBZ0JodUIsRUFBT0UsR0FDckIsT0FBUUYsR0FBU0EsRUFBTXRrRCxPQUFVbzlELEdBQVM5WSxFQUFPNlYsR0FBWTNWLEVBQVUsSUFBTSxJQThpUS9FdUksR0FBT3dsQixTQXZoUVAsU0FBa0JqdUIsRUFBT1csR0FFdkIsT0FEQUEsRUFBa0MsbUJBQWRBLEVBQTJCQSxPQTl1US9DOWpELEVBK3VRUW1qRCxHQUFTQSxFQUFNdGtELE9BQVVvOUQsR0FBUzlZLE9BL3VRMUNuakQsRUErdVE0RDhqRCxHQUFjLElBc2hRNUU4SCxHQUFPeWxCLE1BbndGUCxTQUFlaHpFLEVBQVFzWixHQUNyQixPQUFpQixNQUFWdFosR0FBd0IwN0QsR0FBVTE3RCxFQUFRc1osSUFtd0ZuRGkwQyxHQUFPNGEsTUFBUUEsR0FDZjVhLEdBQU82YSxVQUFZQSxHQUNuQjdhLEdBQU8wbEIsT0F2dUZQLFNBQWdCanpFLEVBQVFzWixFQUFNMGtELEdBQzVCLE9BQWlCLE1BQVZoK0QsRUFBaUJBLEVBQVMrOUQsR0FBVy85RCxFQUFRc1osRUFBTW9sRCxHQUFhVixLQXV1RnpFelEsR0FBTzJsQixXQTVzRlAsU0FBb0JsekUsRUFBUXNaLEVBQU0wa0QsRUFBUzFNLEdBRXpDLE9BREFBLEVBQWtDLG1CQUFkQSxFQUEyQkEsT0E5amIvQzN2RCxFQStqYmlCLE1BQVYzQixFQUFpQkEsRUFBUys5RCxHQUFXLzlELEVBQVFzWixFQUFNb2xELEdBQWFWLEdBQVUxTSxJQTJzRm5GL0QsR0FBTzVzRCxPQUFTQSxHQUNoQjRzRCxHQUFPNGxCLFNBbnBGUCxTQUFrQm56RSxHQUNoQixPQUFpQixNQUFWQSxFQUFpQixHQUFLaW5ELEdBQVdqbkQsRUFBUW95RCxHQUFPcHlELEtBbXBGekR1dEQsR0FBTzhhLFFBQVVBLEdBQ2pCOWEsR0FBT3VULE1BQVFBLEdBQ2Z2VCxHQUFPNmxCLEtBOWtMUCxTQUFjN3pFLEVBQU9raUUsR0FDbkIsT0FBT245RCxHQUFRbzZELEdBQWErQyxHQUFVbGlFLElBOGtMeENndUQsR0FBTythLElBQU1BLEdBQ2IvYSxHQUFPZ2IsTUFBUUEsR0FDZmhiLEdBQU9pYixRQUFVQSxHQUNqQmpiLEdBQU9rYixJQUFNQSxHQUNibGIsR0FBTzluRCxVQWgxUFAsU0FBbUJ5aEQsRUFBT3ZtRCxHQUN4QixPQUFPMjlELEdBQWNwWCxHQUFTLEdBQUl2bUQsR0FBVSxHQUFJNHZELEtBZzFQbERoRCxHQUFPOGxCLGNBOXpQUCxTQUF1Qm5zQixFQUFPdm1ELEdBQzVCLE9BQU8yOUQsR0FBY3BYLEdBQVMsR0FBSXZtRCxHQUFVLEdBQUkyNkQsS0E4elBsRC9OLEdBQU9tYixRQUFVQSxHQUdqQm5iLEdBQU9vQixRQUFVeWUsR0FDakI3ZixHQUFPK2xCLFVBQVlqRyxHQUNuQjlmLEdBQU9nbUIsT0FBU2xILEdBQ2hCOWUsR0FBT2ltQixXQUFhbEgsR0FHcEJvQyxHQUFNbmhCLEdBQVFBLElBS2RBLEdBQU8yQixJQUFNQSxHQUNiM0IsR0FBTzRnQixRQUFVQSxHQUNqQjVnQixHQUFPK2YsVUFBWUEsR0FDbkIvZixHQUFPaWdCLFdBQWFBLEdBQ3BCamdCLEdBQU9wQyxLQUFPQSxHQUNkb0MsR0FBT2ttQixNQXZwRlAsU0FBZXhpQixFQUFRQyxFQUFPQyxHQWE1QixZQTlwYkF4dkQsSUFrcGJJd3ZELElBQ0ZBLEVBQVFELEVBQ1JBLE9BcHBiRnZ2RCxZQXNwYkl3dkQsSUFFRkEsR0FEQUEsRUFBUTRTLEdBQVM1UyxLQUNDQSxFQUFRQSxFQUFRLFFBeHBicEN4dkQsSUEwcGJJdXZELElBRUZBLEdBREFBLEVBQVE2UyxHQUFTN1MsS0FDQ0EsRUFBUUEsRUFBUSxHQUU3QmhCLEdBQVU2VCxHQUFTOVMsR0FBU0MsRUFBT0MsSUEyb0Y1QzVELEdBQU80WixNQWhpTFAsU0FBZTVuRSxHQUNiLE9BQU82eEQsR0FBVTd4RCxFQWx2VkksSUFreGdCdkJndUQsR0FBT21tQixVQXYrS1AsU0FBbUJuMEUsR0FDakIsT0FBTzZ4RCxHQUFVN3hELEVBQU8wdEUsSUF1K0sxQjFmLEdBQU9vbUIsY0F4OEtQLFNBQXVCcDBFLEVBQU8reEQsR0FFNUIsT0FBT0YsR0FBVTd4RCxFQUFPMHRFLEVBRHhCM2IsRUFBa0MsbUJBQWRBLEVBQTJCQSxPQXAyVi9DM3ZELElBNHlnQkY0ckQsR0FBT3FtQixVQWhnTFAsU0FBbUJyMEUsRUFBTyt4RCxHQUV4QixPQUFPRixHQUFVN3hELEVBdHhWSSxFQXF4VnJCK3hELEVBQWtDLG1CQUFkQSxFQUEyQkEsT0E3eVYvQzN2RCxJQTZ5Z0JGNHJELEdBQU9zbUIsV0E3NktQLFNBQW9CN3pFLEVBQVEyUCxHQUMxQixPQUFpQixNQUFWQSxHQUFrQjZqRCxHQUFleHpELEVBQVEyUCxFQUFRbFAsR0FBS2tQLEtBNjZLL0Q0OUMsR0FBT3dULE9BQVNBLEdBQ2hCeFQsR0FBT3VtQixVQWp3Q1AsU0FBbUJ2MEUsRUFBTzZqRSxHQUN4QixPQUFpQixNQUFUN2pFLEdBQWlCQSxHQUFVQSxFQUFTNmpFLEVBQWU3akUsR0Fpd0M3RGd1RCxHQUFPMmhCLE9BQVNBLEdBQ2hCM2hCLEdBQU93bUIsU0E1N0VQLFNBQWtCL3JCLEVBQVFyaUQsRUFBUXF1RSxHQUNoQ2hzQixFQUFTNStDLEdBQVM0K0MsR0FDbEJyaUQsRUFBU2c0RCxHQUFhaDRELEdBRXRCLElBQUluRixFQUFTd25ELEVBQU94bkQsT0FLaEIrN0QsRUFKSnlYLE9BMTNiQXJ5RSxJQTAzYldxeUUsRUFDUHh6RSxFQUNBMHZELEdBQVVvVSxHQUFVMFAsR0FBVyxFQUFHeHpFLEdBSXRDLE9BREF3ekUsR0FBWXJ1RSxFQUFPbkYsU0FDQSxHQUFLd25ELEVBQU9ybEQsTUFBTXF4RSxFQUFVelgsSUFBUTUyRCxHQWs3RXpENG5ELEdBQU84QyxHQUFLQSxHQUNaOUMsR0FBTzBtQixPQXA1RVAsU0FBZ0Jqc0IsR0FFZCxPQURBQSxFQUFTNStDLEdBQVM0K0MsS0FDQTdJLEVBQW1CenJDLEtBQUtzMEMsR0FDdENBLEVBQU9oNEMsUUFBUWl2QyxFQUFpQjJJLElBQ2hDSSxHQWk1RU51RixHQUFPMm1CLGFBLzNFUCxTQUFzQmxzQixHQUVwQixPQURBQSxFQUFTNStDLEdBQVM0K0MsS0FDQXJJLEVBQWdCanNDLEtBQUtzMEMsR0FDbkNBLEVBQU9oNEMsUUFBUTB2QyxFQUFjLFFBQzdCc0ksR0E0M0VOdUYsR0FBT3ZvRCxNQTM1T1AsU0FBZWpELEVBQVllLEVBQVcwOUQsR0FDcEMsSUFBSWo4RCxFQUFPL0MsR0FBUU8sR0FBY29qRCxHQUFhdVAsR0FJOUMsT0FISThMLEdBQVNDLEdBQWUxK0QsRUFBWWUsRUFBVzA5RCxLQUNqRDE5RCxPQTc1UkZuQixHQSs1Uk80QyxFQUFLeEMsRUFBWTQ0RCxHQUFZNzNELEVBQVcsS0F1NU9qRHlxRCxHQUFPbnFELEtBQU9BLEdBQ2RtcUQsR0FBTytaLFVBQVlBLEdBQ25CL1osR0FBTzRtQixRQXh2SFAsU0FBaUJuMEUsRUFBUThDLEdBQ3ZCLE9BQU9vakQsR0FBWWxtRCxFQUFRMjZELEdBQVk3M0QsRUFBVyxHQUFJeXhELEtBd3ZIeERoSCxHQUFPd2IsU0FBV0EsR0FDbEJ4YixHQUFPZ2EsY0FBZ0JBLEdBQ3ZCaGEsR0FBTzZtQixZQXB0SFAsU0FBcUJwMEUsRUFBUThDLEdBQzNCLE9BQU9vakQsR0FBWWxtRCxFQUFRMjZELEdBQVk3M0QsRUFBVyxHQUFJMnhELEtBb3RIeERsSCxHQUFPcnVDLE1BQVFBLEdBQ2ZxdUMsR0FBT3pyRCxRQUFVQSxHQUNqQnlyRCxHQUFPeWIsYUFBZUEsR0FDdEJ6YixHQUFPOG1CLE1BeHJIUCxTQUFlcjBFLEVBQVFnbEQsR0FDckIsT0FBaUIsTUFBVmhsRCxFQUNIQSxFQUNBazFELEdBQVFsMUQsRUFBUTI2RCxHQUFZM1YsRUFBVSxHQUFJb04sS0FzckhoRDdFLEdBQU8rbUIsV0F6cEhQLFNBQW9CdDBFLEVBQVFnbEQsR0FDMUIsT0FBaUIsTUFBVmhsRCxFQUNIQSxFQUNBbzFELEdBQWFwMUQsRUFBUTI2RCxHQUFZM1YsRUFBVSxHQUFJb04sS0F1cEhyRDdFLEdBQU9nbkIsT0F4bkhQLFNBQWdCdjBFLEVBQVFnbEQsR0FDdEIsT0FBT2hsRCxHQUFVdTBELEdBQVd2MEQsRUFBUTI2RCxHQUFZM1YsRUFBVSxLQXduSDVEdUksR0FBT2luQixZQTNsSFAsU0FBcUJ4MEUsRUFBUWdsRCxHQUMzQixPQUFPaGxELEdBQVV5MEQsR0FBZ0J6MEQsRUFBUTI2RCxHQUFZM1YsRUFBVSxLQTJsSGpFdUksR0FBT3B1RCxJQUFNQSxHQUNib3VELEdBQU9nZSxHQUFLQSxHQUNaaGUsR0FBT2llLElBQU1BLEdBQ2JqZSxHQUFPdHFELElBNStHUCxTQUFhakQsRUFBUXNaLEdBQ25CLE9BQWlCLE1BQVZ0WixHQUFrQjJsRSxHQUFRM2xFLEVBQVFzWixFQUFNNDhDLEtBNCtHakQzSSxHQUFPcU0sTUFBUUEsR0FDZnJNLEdBQU9pYSxLQUFPQSxHQUNkamEsR0FBT3BwRCxTQUFXQSxHQUNsQm9wRCxHQUFPcUcsU0Evbk9QLFNBQWtCN3hELEVBQVl4QyxFQUFPOG1ELEVBQVdtYSxHQUM5Q3orRCxFQUFhdzNELEdBQVl4M0QsR0FBY0EsRUFBYXBCLEdBQU9vQixHQUMzRHNrRCxFQUFhQSxJQUFjbWEsRUFBUzhELEdBQVVqZSxHQUFhLEVBRTNELElBQUk3bEQsRUFBU3VCLEVBQVd2QixPQUl4QixPQUhJNmxELEVBQVksSUFDZEEsRUFBWXdGLEdBQVVyckQsRUFBUzZsRCxFQUFXLElBRXJDamtELEdBQVNMLEdBQ1hza0QsR0FBYTdsRCxHQUFVdUIsRUFBV29ELFFBQVE1RixFQUFPOG1ELElBQWMsSUFDN0Q3bEQsR0FBVStrRCxHQUFZeGpELEVBQVl4QyxFQUFPOG1ELElBQWMsR0Fzbk9oRWtILEdBQU9wb0QsUUE3alNQLFNBQWlCMi9DLEVBQU92bEQsRUFBTzhtRCxHQUM3QixJQUFJN2xELEVBQWtCLE1BQVRza0QsRUFBZ0IsRUFBSUEsRUFBTXRrRCxPQUN2QyxJQUFLQSxFQUNILE9BQVEsRUFFVixJQUFJMFYsRUFBcUIsTUFBYm13QyxFQUFvQixFQUFJaWUsR0FBVWplLEdBSTlDLE9BSElud0MsRUFBUSxJQUNWQSxFQUFRMjFDLEdBQVVyckQsRUFBUzBWLEVBQU8sSUFFN0JxdkMsR0FBWVQsRUFBT3ZsRCxFQUFPMlcsSUFxalNuQ3EzQyxHQUFPa25CLFFBcm9GUCxTQUFpQnhqQixFQUFReG9ELEVBQU84ekQsR0FTOUIsT0FSQTl6RCxFQUFRbTdELEdBQVNuN0QsUUF4c2JqQjlHLElBeXNiSTQ2RCxHQUNGQSxFQUFNOXpELEVBQ05BLEVBQVEsR0FFUjh6RCxFQUFNcUgsR0FBU3JILEdBM3FWbkIsU0FBcUJ0TCxFQUFReG9ELEVBQU84ekQsR0FDbEMsT0FBT3RMLEdBQVVsRixHQUFVdGpELEVBQU84ekQsSUFBUXRMLEVBQVNwRixHQUFVcGpELEVBQU84ekQsR0E2cVY3RG1ZLENBRFB6akIsRUFBUzhTLEdBQVM5UyxHQUNTeG9ELEVBQU84ekQsSUE2bkZwQ2hQLEdBQU93ZixPQUFTQSxHQUNoQnhmLEdBQU9pQyxZQUFjQSxHQUNyQmpDLEdBQU8vckQsUUFBVUEsR0FDakIrckQsR0FBT3JKLGNBQWdCQSxHQUN2QnFKLEdBQU9nTSxZQUFjQSxHQUNyQmhNLEdBQU80TSxrQkFBb0JBLEdBQzNCNU0sR0FBT29uQixVQXp1S1AsU0FBbUJwMUUsR0FDakIsT0FBaUIsSUFBVkEsSUFBNEIsSUFBVkEsR0FDdEJpdUQsR0FBYWp1RCxJQUFVcTJELEdBQVdyMkQsSUFBVSs5QyxHQXd1S2pEaVEsR0FBTy9CLFNBQVdBLEdBQ2xCK0IsR0FBT25KLE9BQVNBLEdBQ2hCbUosR0FBT3FuQixVQWhyS1AsU0FBbUJyMUUsR0FDakIsT0FBT2l1RCxHQUFhanVELElBQTZCLElBQW5CQSxFQUFNaWtELFdBQW1CNFcsR0FBYzc2RCxJQWdyS3ZFZ3VELEdBQU9qdEQsUUE1b0tQLFNBQWlCZixHQUNmLEdBQWEsTUFBVEEsRUFDRixPQUFPLEVBRVQsR0FBSWc2RCxHQUFZaDZELEtBQ1hpQyxHQUFRakMsSUFBMEIsaUJBQVRBLEdBQTRDLG1CQUFoQkEsRUFBTStxRCxRQUMxRGtCLEdBQVNqc0QsSUFBVW9sRCxHQUFhcGxELElBQVVpd0QsR0FBWWp3RCxJQUMxRCxPQUFRQSxFQUFNaUIsT0FFaEIsSUFBSXF4RCxFQUFNQyxHQUFPdnlELEdBQ2pCLEdBQUlzeUQsR0FBT2xVLEdBQVVrVSxHQUFPOVQsRUFDMUIsT0FBUXgrQyxFQUFNMnpCLEtBRWhCLEdBQUkrbEMsR0FBWTE1RCxHQUNkLE9BQVF5NUQsR0FBU3o1RCxHQUFPaUIsT0FFMUIsSUFBSyxJQUFJWCxLQUFPTixFQUNkLEdBQUlZLEdBQWUxQixLQUFLYyxFQUFPTSxHQUM3QixPQUFPLEVBR1gsT0FBTyxHQXduS1QwdEQsR0FBT3NuQixRQXpsS1AsU0FBaUJ0MUUsRUFBTys2QixHQUN0QixPQUFPdThCLEdBQVl0M0QsRUFBTys2QixJQXlsSzVCaXpCLEdBQU91bkIsWUF0aktQLFNBQXFCdjFFLEVBQU8rNkIsRUFBT2czQixHQUVqQyxJQUFJdHdELEdBREpzd0QsRUFBa0MsbUJBQWRBLEVBQTJCQSxPQXB5Vy9DM3ZELEdBcXlXMEIydkQsRUFBVy94RCxFQUFPKzZCLFFBcnlXNUMzNEIsRUFzeVdBLFlBdHlXQUEsSUFzeVdPWCxFQUF1QjYxRCxHQUFZdDNELEVBQU8rNkIsT0F0eVdqRDM0QixFQXN5V21FMnZELEtBQWdCdHdELEdBb2pLckZ1c0QsR0FBT2tlLFFBQVVBLEdBQ2pCbGUsR0FBTzdCLFNBNy9KUCxTQUFrQm5zRCxHQUNoQixNQUF1QixpQkFBVEEsR0FBcUJrc0QsR0FBZWxzRCxJQTYvSnBEZ3VELEdBQU9ockQsV0FBYUEsR0FDcEJnckQsR0FBT21lLFVBQVlBLEdBQ25CbmUsR0FBT3NZLFNBQVdBLEdBQ2xCdFksR0FBT2pKLE1BQVFBLEdBQ2ZpSixHQUFPd25CLFFBN3pKUCxTQUFpQi8wRSxFQUFRMlAsR0FDdkIsT0FBTzNQLElBQVcyUCxHQUFVNG9ELEdBQVl2NEQsRUFBUTJQLEVBQVE2cEQsR0FBYTdwRCxLQTZ6SnZFNDlDLEdBQU95bkIsWUExeEpQLFNBQXFCaDFFLEVBQVEyUCxFQUFRMmhELEdBRW5DLE9BREFBLEVBQWtDLG1CQUFkQSxFQUEyQkEsT0F4a1gvQzN2RCxFQXlrWE80MkQsR0FBWXY0RCxFQUFRMlAsRUFBUTZwRCxHQUFhN3BELEdBQVMyaEQsSUF5eEozRC9ELEdBQU96bkIsTUExdkpQLFNBQWV2bUMsR0FJYixPQUFPb3NFLEdBQVNwc0UsSUFBVUEsSUFBVUEsR0F1dkp0Q2d1RCxHQUFPMG5CLFNBMXRKUCxTQUFrQjExRSxHQUNoQixHQUFJMG1FLEdBQVcxbUUsR0FDYixNQUFNLElBQUkyQyxHQWxvWE0sbUVBb29YbEIsT0FBTzAyRCxHQUFhcjVELElBdXRKdEJndUQsR0FBTzJuQixNQTNxSlAsU0FBZTMxRSxHQUNiLE9BQWdCLE1BQVRBLEdBMnFKVGd1RCxHQUFPNG5CLE9BcHNKUCxTQUFnQjUxRSxHQUNkLE9BQWlCLE9BQVZBLEdBb3NKVGd1RCxHQUFPb2UsU0FBV0EsR0FDbEJwZSxHQUFPdHJELFNBQVdBLEdBQ2xCc3JELEdBQU9DLGFBQWVBLEdBQ3RCRCxHQUFPNk0sY0FBZ0JBLEdBQ3ZCN00sR0FBT3pvRCxTQUFXQSxHQUNsQnlvRCxHQUFPNm5CLGNBeGpKUCxTQUF1QjcxRSxHQUNyQixPQUFPbXNFLEdBQVVuc0UsSUFBVUEsSUEzdlhSLGtCQTJ2WHNDQSxHQTN2WHRDLGtCQW16Z0JyQmd1RCxHQUFPOUksTUFBUUEsR0FDZjhJLEdBQU9uckQsU0FBV0EsR0FDbEJtckQsR0FBT3FILFNBQVdBLEdBQ2xCckgsR0FBTzVJLGFBQWVBLEdBQ3RCNEksR0FBT2pyRCxZQXQ5SVAsU0FBcUIvQyxHQUNuQixZQTM1WEFvQyxJQTI1WE9wQyxHQXM5SVRndUQsR0FBTzhuQixVQWw4SVAsU0FBbUI5MUUsR0FDakIsT0FBT2l1RCxHQUFhanVELElBQVV1eUQsR0FBT3Z5RCxJQUFVMitDLEdBazhJakRxUCxHQUFPK25CLFVBOTZJUCxTQUFtQi8xRSxHQUNqQixPQUFPaXVELEdBQWFqdUQsSUFoMlhQLG9CQWcyWGlCcTJELEdBQVdyMkQsSUE4NkkzQ2d1RCxHQUFPeDRDLEtBeDlSUCxTQUFjK3ZDLEVBQU9wZ0MsR0FDbkIsT0FBZ0IsTUFBVG9nQyxFQUFnQixHQUFLNkcsR0FBV2x0RCxLQUFLcW1ELEVBQU9wZ0MsSUF3OVJyRDZvQyxHQUFPbWdCLFVBQVlBLEdBQ25CbmdCLEdBQU8zckQsS0FBT0EsR0FDZDJyRCxHQUFPZ29CLFlBLzZSUCxTQUFxQnp3QixFQUFPdmxELEVBQU84bUQsR0FDakMsSUFBSTdsRCxFQUFrQixNQUFUc2tELEVBQWdCLEVBQUlBLEVBQU10a0QsT0FDdkMsSUFBS0EsRUFDSCxPQUFRLEVBRVYsSUFBSTBWLEVBQVExVixFQUtaLFlBajlPQW1CLElBNjhPSTBrRCxJQUVGbndDLEdBREFBLEVBQVFvdUQsR0FBVWplLElBQ0YsRUFBSXdGLEdBQVVyckQsRUFBUzBWLEVBQU8sR0FBSzYxQyxHQUFVNzFDLEVBQU8xVixFQUFTLElBRXhFakIsR0FBVUEsRUFodE1yQixTQUEyQnVsRCxFQUFPdmxELEVBQU84bUQsR0FFdkMsSUFEQSxJQUFJbndDLEVBQVFtd0MsRUFBWSxFQUNqQm53QyxLQUNMLEdBQUk0dUMsRUFBTTV1QyxLQUFXM1csRUFDbkIsT0FBTzJXLEVBR1gsT0FBT0EsRUEwc01Ecy9ELENBQWtCMXdCLEVBQU92bEQsRUFBTzJXLEdBQ2hDa3dDLEdBQWN0QixFQUFPMEIsR0FBV3R3QyxHQUFPLElBbzZSN0NxM0MsR0FBT29nQixVQUFZQSxHQUNuQnBnQixHQUFPcWdCLFdBQWFBLEdBQ3BCcmdCLEdBQU9xZSxHQUFLQSxHQUNacmUsR0FBT3NlLElBQU1BLEdBQ2J0ZSxHQUFPekIsSUFoZlAsU0FBYWhILEdBQ1gsT0FBUUEsR0FBU0EsRUFBTXRrRCxPQUNuQm0wRCxHQUFhN1AsRUFBTzNnRCxHQUFVOHhELFNBNzRmbEN0MEQsR0E0M2dCRjRyRCxHQUFPa29CLE1BcGRQLFNBQWUzd0IsRUFBT0UsR0FDcEIsT0FBUUYsR0FBU0EsRUFBTXRrRCxPQUNuQm0wRCxHQUFhN1AsRUFBTzZWLEdBQVkzVixFQUFVLEdBQUlpUixTQTE2ZmxEdDBELEdBNjNnQkY0ckQsR0FBT21vQixLQWpjUCxTQUFjNXdCLEdBQ1osT0FBTzRCLEdBQVM1QixFQUFPM2dELEtBaWN6Qm9wRCxHQUFPb29CLE9BdmFQLFNBQWdCN3dCLEVBQU9FLEdBQ3JCLE9BQU8wQixHQUFTNUIsRUFBTzZWLEdBQVkzVixFQUFVLEtBdWEvQ3VJLEdBQU92QixJQWxaUCxTQUFhbEgsR0FDWCxPQUFRQSxHQUFTQSxFQUFNdGtELE9BQ25CbTBELEdBQWE3UCxFQUFPM2dELEdBQVVrMUQsU0EvK2ZsQzEzRCxHQWc0Z0JGNHJELEdBQU9xb0IsTUF0WFAsU0FBZTl3QixFQUFPRSxHQUNwQixPQUFRRixHQUFTQSxFQUFNdGtELE9BQ25CbTBELEdBQWE3UCxFQUFPNlYsR0FBWTNWLEVBQVUsR0FBSXFVLFNBNWdnQmxEMTNELEdBaTRnQkY0ckQsR0FBT21ZLFVBQVlBLEdBQ25CblksR0FBTzJZLFVBQVlBLEdBQ25CM1ksR0FBT3NvQixXQXp0QlAsV0FDRSxNQUFPLElBeXRCVHRvQixHQUFPdW9CLFdBenNCUCxXQUNFLE1BQU8sSUF5c0JUdm9CLEdBQU93b0IsU0F6ckJQLFdBQ0UsT0FBTyxHQXlyQlR4b0IsR0FBTzhoQixTQUFXQSxHQUNsQjloQixHQUFPeW9CLElBNTVSUCxTQUFhbHhCLEVBQU8va0QsR0FDbEIsT0FBUStrRCxHQUFTQSxFQUFNdGtELE9BQVUrNUQsR0FBUXpWLEVBQU93ZixHQUFVdmtFLFNBNStPMUQ0QixHQXc0Z0JGNHJELEdBQU8wb0IsV0F2aENQLFdBSUUsT0FISTN5QixHQUFLeUYsSUFBTW4vQyxPQUNiMDVDLEdBQUt5RixFQUFJYyxJQUVKamdELE1Bb2hDVDJqRCxHQUFPaVgsS0FBT0EsR0FDZGpYLEdBQU94QyxJQUFNQSxHQUNid0MsR0FBTzJvQixJQXAzRVAsU0FBYWx1QixFQUFReG5ELEVBQVFnakUsR0FDM0J4YixFQUFTNStDLEdBQVM0K0MsR0FHbEIsSUFBSW11QixHQUZKMzFFLEVBQVM4akUsR0FBVTlqRSxJQUVNZ29ELEdBQVdSLEdBQVUsRUFDOUMsSUFBS3huRCxHQUFVMjFFLEdBQWEzMUUsRUFDMUIsT0FBT3duRCxFQUVULElBQUk4VSxHQUFPdDhELEVBQVMyMUUsR0FBYSxFQUNqQyxPQUNFNVMsR0FBY25ZLEdBQVkwUixHQUFNMEcsR0FDaEN4YixFQUNBdWIsR0FBY3JZLEdBQVc0UixHQUFNMEcsSUF5MkVuQ2pXLEdBQU82b0IsT0E5MEVQLFNBQWdCcHVCLEVBQVF4bkQsRUFBUWdqRSxHQUM5QnhiLEVBQVM1K0MsR0FBUzQrQyxHQUdsQixJQUFJbXVCLEdBRkozMUUsRUFBUzhqRSxHQUFVOWpFLElBRU1nb0QsR0FBV1IsR0FBVSxFQUM5QyxPQUFReG5ELEdBQVUyMUUsRUFBWTMxRSxFQUN6QnduRCxFQUFTdWIsR0FBYy9pRSxFQUFTMjFFLEVBQVczUyxHQUM1Q3hiLEdBdzBFTnVGLEdBQU84b0IsU0E5eUVQLFNBQWtCcnVCLEVBQVF4bkQsRUFBUWdqRSxHQUNoQ3hiLEVBQVM1K0MsR0FBUzQrQyxHQUdsQixJQUFJbXVCLEdBRkozMUUsRUFBUzhqRSxHQUFVOWpFLElBRU1nb0QsR0FBV1IsR0FBVSxFQUM5QyxPQUFReG5ELEdBQVUyMUUsRUFBWTMxRSxFQUN6QitpRSxHQUFjL2lFLEVBQVMyMUUsRUFBVzNTLEdBQVN4YixFQUM1Q0EsR0F3eUVOdUYsR0FBT3JLLFNBN3dFUCxTQUFrQjhFLEVBQVFzdUIsRUFBTzlWLEdBTS9CLE9BTElBLEdBQWtCLE1BQVQ4VixFQUNYQSxFQUFRLEVBQ0NBLElBQ1RBLEdBQVNBLEdBRUpwcUIsR0FBZTlpRCxHQUFTNCtDLEdBQVFoNEMsUUFBUTZ2QyxFQUFhLElBQUt5MkIsR0FBUyxJQXd3RTVFL29CLEdBQU9uQixPQTdwRlAsU0FBZ0I4RSxFQUFPQyxFQUFPb2xCLEdBMkI1QixHQTFCSUEsR0FBK0Isa0JBQVpBLEdBQXlCOVYsR0FBZXZQLEVBQU9DLEVBQU9vbEIsS0FDM0VwbEIsRUFBUW9sQixPQXB2YlY1MEUsWUFzdmJJNDBFLElBQ2tCLGtCQUFUcGxCLEdBQ1RvbEIsRUFBV3BsQixFQUNYQSxPQXp2Ykp4dkQsR0EydmIyQixrQkFBVHV2RCxJQUNkcWxCLEVBQVdybEIsRUFDWEEsT0E3dmJKdnZELGFBZ3diSXV2RCxRQWh3Ykp2dkQsSUFnd2IyQnd2RCxHQUN6QkQsRUFBUSxFQUNSQyxFQUFRLElBR1JELEVBQVEwUyxHQUFTMVMsUUFyd2JuQnZ2RCxJQXN3Yk13dkQsR0FDRkEsRUFBUUQsRUFDUkEsRUFBUSxHQUVSQyxFQUFReVMsR0FBU3pTLElBR2pCRCxFQUFRQyxFQUFPLENBQ2pCLElBQUlxbEIsRUFBT3RsQixFQUNYQSxFQUFRQyxFQUNSQSxFQUFRcWxCLEVBRVYsR0FBSUQsR0FBWXJsQixFQUFRLEdBQUtDLEVBQVEsRUFBRyxDQUN0QyxJQUFJMlYsRUFBTzNhLEtBQ1gsT0FBT0osR0FBVW1GLEVBQVM0VixHQUFRM1YsRUFBUUQsRUFBUW5PLEdBQWUsUUFBVStqQixFQUFPLElBQUl0bUUsT0FBUyxLQUFPMndELEdBRXhHLE9BQU9yQixHQUFXb0IsRUFBT0MsSUEwbkYzQjVELEdBQU81cEQsT0EvOE5QLFNBQWdCNUIsRUFBWWlqRCxFQUFVaGhELEdBQ3BDLElBQUlPLEVBQU8vQyxHQUFRTyxHQUFjNmpELEdBQWNpQixHQUMzQ2hCLEVBQVluaEQsVUFBVWxFLE9BQVMsRUFFbkMsT0FBTytELEVBQUt4QyxFQUFZNDRELEdBQVkzVixFQUFVLEdBQUloaEQsRUFBYTZoRCxFQUFXOEssS0E0OE41RXBELEdBQU9rcEIsWUFuN05QLFNBQXFCMTBFLEVBQVlpakQsRUFBVWhoRCxHQUN6QyxJQUFJTyxFQUFPL0MsR0FBUU8sR0FBYytqRCxHQUFtQmUsR0FDaERoQixFQUFZbmhELFVBQVVsRSxPQUFTLEVBRW5DLE9BQU8rRCxFQUFLeEMsRUFBWTQ0RCxHQUFZM1YsRUFBVSxHQUFJaGhELEVBQWE2aEQsRUFBVzJPLEtBZzdONUVqSCxHQUFPbXBCLE9BbHZFUCxTQUFnQjF1QixFQUFRam9ELEVBQUd5Z0UsR0FNekIsT0FKRXpnRSxHQURHeWdFLEVBQVFDLEdBQWV6WSxFQUFRam9ELEVBQUd5Z0UsUUFqcWN2QzcrRCxJQWlxY2dENUIsR0FDMUMsRUFFQXVrRSxHQUFVdmtFLEdBRVQ0N0QsR0FBV3Z5RCxHQUFTNCtDLEdBQVNqb0QsSUE2dUV0Q3d0RCxHQUFPdjlDLFFBdnRFUCxXQUNFLElBQUlnUyxFQUFPdGQsVUFDUHNqRCxFQUFTNStDLEdBQVM0WSxFQUFLLElBRTNCLE9BQU9BLEVBQUt4aEIsT0FBUyxFQUFJd25ELEVBQVNBLEVBQU9oNEMsUUFBUWdTLEVBQUssR0FBSUEsRUFBSyxLQW90RWpFdXJDLEdBQU92c0QsT0F6bUdQLFNBQWdCaEIsRUFBUXNaLEVBQU04cEQsR0FHNUIsSUFBSWx0RCxHQUFTLEVBQ1QxVixHQUhKOFksRUFBT2k4QyxHQUFTajhDLEVBQU10WixJQUdKUSxPQU9sQixJQUpLQSxJQUNIQSxFQUFTLEVBQ1RSLE9BcHphRjJCLEtBc3phU3VVLEVBQVExVixHQUFRLENBQ3ZCLElBQUlqQixFQUFrQixNQUFWUyxPQXZ6YWQyQixFQXV6YTJDM0IsRUFBT3cxRCxHQUFNbDhDLEVBQUtwRCxVQXZ6YTdEdlUsSUF3emFNcEMsSUFDRjJXLEVBQVExVixFQUNSakIsRUFBUTZqRSxHQUVWcGpFLEVBQVN1QyxHQUFXaEQsR0FBU0EsRUFBTWQsS0FBS3VCLEdBQVVULEVBRXBELE9BQU9TLEdBdWxHVHV0RCxHQUFPaWlCLE1BQVFBLEdBQ2ZqaUIsR0FBT3ZFLGFBQWVBLEVBQ3RCdUUsR0FBT29wQixPQTczTlAsU0FBZ0I1MEUsR0FFZCxPQURXUCxHQUFRTyxHQUFjOHRELEdBQWNrTSxJQUNuQ2g2RCxJQTQzTmR3ckQsR0FBT3I2QixLQWx6TlAsU0FBY254QixHQUNaLEdBQWtCLE1BQWRBLEVBQ0YsT0FBTyxFQUVULEdBQUl3M0QsR0FBWXgzRCxHQUNkLE9BQU9LLEdBQVNMLEdBQWN5bUQsR0FBV3ptRCxHQUFjQSxFQUFXdkIsT0FFcEUsSUFBSXF4RCxFQUFNQyxHQUFPL3ZELEdBQ2pCLE9BQUk4dkQsR0FBT2xVLEdBQVVrVSxHQUFPOVQsRUFDbkJoOEMsRUFBV214QixLQUViOGxDLEdBQVNqM0QsR0FBWXZCLFFBd3lOOUIrc0QsR0FBT3NnQixVQUFZQSxHQUNuQnRnQixHQUFPcm9ELEtBbHdOUCxTQUFjbkQsRUFBWWUsRUFBVzA5RCxHQUNuQyxJQUFJajhELEVBQU8vQyxHQUFRTyxHQUFjZ2tELEdBQVl5VyxHQUk3QyxPQUhJZ0UsR0FBU0MsR0FBZTErRCxFQUFZZSxFQUFXMDlELEtBQ2pEMTlELE9BM3BURm5CLEdBNnBUTzRDLEVBQUt4QyxFQUFZNDRELEdBQVk3M0QsRUFBVyxLQTh2TmpEeXFELEdBQU9xcEIsWUEvcFJQLFNBQXFCOXhCLEVBQU92bEQsR0FDMUIsT0FBT2s5RCxHQUFnQjNYLEVBQU92bEQsSUErcFJoQ2d1RCxHQUFPc3BCLGNBbm9SUCxTQUF1Qi94QixFQUFPdmxELEVBQU95bEQsR0FDbkMsT0FBTytYLEdBQWtCalksRUFBT3ZsRCxFQUFPbzdELEdBQVkzVixFQUFVLEtBbW9SL0R1SSxHQUFPdXBCLGNBaG5SUCxTQUF1Qmh5QixFQUFPdmxELEdBQzVCLElBQUlpQixFQUFrQixNQUFUc2tELEVBQWdCLEVBQUlBLEVBQU10a0QsT0FDdkMsR0FBSUEsRUFBUSxDQUNWLElBQUkwVixFQUFRdW1ELEdBQWdCM1gsRUFBT3ZsRCxHQUNuQyxHQUFJMlcsRUFBUTFWLEdBQVU2dkQsR0FBR3ZMLEVBQU01dUMsR0FBUTNXLEdBQ3JDLE9BQU8yVyxFQUdYLE9BQVEsR0F5bVJWcTNDLEdBQU93cEIsZ0JBcGxSUCxTQUF5Qmp5QixFQUFPdmxELEdBQzlCLE9BQU9rOUQsR0FBZ0IzWCxFQUFPdmxELEdBQU8sSUFvbFJ2Q2d1RCxHQUFPeXBCLGtCQXhqUlAsU0FBMkJseUIsRUFBT3ZsRCxFQUFPeWxELEdBQ3ZDLE9BQU8rWCxHQUFrQmpZLEVBQU92bEQsRUFBT283RCxHQUFZM1YsRUFBVSxJQUFJLElBd2pSbkV1SSxHQUFPMHBCLGtCQXJpUlAsU0FBMkJueUIsRUFBT3ZsRCxHQUVoQyxHQURzQixNQUFUdWxELEVBQWdCLEVBQUlBLEVBQU10a0QsT0FDM0IsQ0FDVixJQUFJMFYsRUFBUXVtRCxHQUFnQjNYLEVBQU92bEQsR0FBTyxHQUFRLEVBQ2xELEdBQUk4d0QsR0FBR3ZMLEVBQU01dUMsR0FBUTNXLEdBQ25CLE9BQU8yVyxFQUdYLE9BQVEsR0E4aFJWcTNDLEdBQU91Z0IsVUFBWUEsR0FDbkJ2Z0IsR0FBTzJwQixXQTltRVAsU0FBb0JsdkIsRUFBUXJpRCxFQUFRcXVFLEdBT2xDLE9BTkFoc0IsRUFBUzUrQyxHQUFTNCtDLEdBQ2xCZ3NCLEVBQXVCLE1BQVpBLEVBQ1AsRUFDQTlqQixHQUFVb1UsR0FBVTBQLEdBQVcsRUFBR2hzQixFQUFPeG5ELFFBRTdDbUYsRUFBU2c0RCxHQUFhaDRELEdBQ2ZxaUQsRUFBT3JsRCxNQUFNcXhFLEVBQVVBLEVBQVdydUUsRUFBT25GLFNBQVdtRixHQXdtRTdENG5ELEdBQU9raUIsU0FBV0EsR0FDbEJsaUIsR0FBTzRwQixJQXpVUCxTQUFhcnlCLEdBQ1gsT0FBUUEsR0FBU0EsRUFBTXRrRCxPQUNuQm1tRCxHQUFRN0IsRUFBTzNnRCxJQUNmLEdBdVVOb3BELEdBQU82cEIsTUE3U1AsU0FBZXR5QixFQUFPRSxHQUNwQixPQUFRRixHQUFTQSxFQUFNdGtELE9BQ25CbW1ELEdBQVE3QixFQUFPNlYsR0FBWTNWLEVBQVUsSUFDckMsR0EyU051SSxHQUFPOHBCLFNBaGdFUCxTQUFrQnJ2QixFQUFRaDZDLEVBQVN3eUQsR0FJakMsSUFBSThXLEVBQVcvcEIsR0FBTzJHLGlCQUVsQnNNLEdBQVNDLEdBQWV6WSxFQUFRaDZDLEVBQVN3eUQsS0FDM0N4eUQsT0E3NmNGck0sR0ErNmNBcW1ELEVBQVM1K0MsR0FBUzQrQyxHQUNsQmg2QyxFQUFVcytELEdBQWEsR0FBSXQrRCxFQUFTc3BFLEVBQVVuUyxJQUU5QyxJQUlJb1MsRUFDQUMsRUFMQUMsRUFBVW5MLEdBQWEsR0FBSXQrRCxFQUFReXBFLFFBQVNILEVBQVNHLFFBQVN0UyxJQUM5RHVTLEVBQWNqM0UsR0FBS2czRSxHQUNuQkUsRUFBZ0Ixd0IsR0FBV3d3QixFQUFTQyxHQUlwQ3hoRSxFQUFRLEVBQ1IwaEUsRUFBYzVwRSxFQUFRNHBFLGFBQWVoM0IsR0FDckNqeEMsRUFBUyxXQUdUa29FLEVBQWU5eUUsSUFDaEJpSixFQUFRaW1FLFFBQVVyekIsSUFBV2p4QyxPQUFTLElBQ3ZDaW9FLEVBQVlqb0UsT0FBUyxLQUNwQmlvRSxJQUFnQnQ0QixFQUFnQmMsR0FBZVEsSUFBV2p4QyxPQUFTLEtBQ25FM0IsRUFBUThwRSxVQUFZbDNCLElBQVdqeEMsT0FBUyxLQUN6QyxLQU1Fb29FLEVBQVksa0JBQ2I1M0UsR0FBZTFCLEtBQUt1UCxFQUFTLGNBQ3pCQSxFQUFRK3BFLFVBQVksSUFBSS9uRSxRQUFRLFVBQVcsS0FDM0MsNkJBQStCMnlDLEdBQW1CLEtBQ25ELEtBRU5xRixFQUFPaDRDLFFBQVE2bkUsR0FBYyxTQUFTbDdELEVBQU9xN0QsRUFBYUMsRUFBa0JDLEVBQWlCQyxFQUFlcjVELEdBc0IxRyxPQXJCQW01RCxJQUFxQkEsRUFBbUJDLEdBR3hDdm9FLEdBQVVxNEMsRUFBT3JsRCxNQUFNdVQsRUFBTzRJLEdBQVE5TyxRQUFRNndDLEdBQW1CZ0gsSUFHN0Rtd0IsSUFDRlQsR0FBYSxFQUNiNW5FLEdBQVUsWUFBY3FvRSxFQUFjLFVBRXBDRyxJQUNGWCxHQUFlLEVBQ2Y3bkUsR0FBVSxPQUFTd29FLEVBQWdCLGVBRWpDRixJQUNGdG9FLEdBQVUsaUJBQW1Cc29FLEVBQW1CLCtCQUVsRC9oRSxFQUFRNEksRUFBU25DLEVBQU1uYyxPQUloQm1jLEtBR1RoTixHQUFVLE9BTVYsSUFBSXlvRSxFQUFXajRFLEdBQWUxQixLQUFLdVAsRUFBUyxhQUFlQSxFQUFRb3FFLFNBQzlEQSxJQUNIem9FLEVBQVMsaUJBQW1CQSxFQUFTLFNBR3ZDQSxHQUFVNm5FLEVBQWU3bkUsRUFBT0ssUUFBUTZ1QyxFQUFzQixJQUFNbHZDLEdBQ2pFSyxRQUFROHVDLEVBQXFCLE1BQzdCOXVDLFFBQVErdUMsRUFBdUIsT0FHbENwdkMsRUFBUyxhQUFleW9FLEdBQVksT0FBUyxTQUMxQ0EsRUFDRyxHQUNBLHdCQUVKLHFCQUNDYixFQUNJLG1CQUNBLEtBRUpDLEVBQ0csdUZBRUEsT0FFSjduRSxFQUNBLGdCQUVGLElBQUkzTyxFQUFTbXRFLElBQVEsV0FDbkIsT0FBTzNyRSxHQUFTazFFLEVBQWFLLEVBQVksVUFBWXBvRSxHQUNsRDlLLFdBM2dkTGxELEVBMmdkc0JnMkUsTUFNdEIsR0FEQTMyRSxFQUFPMk8sT0FBU0EsRUFDWjg3RCxHQUFRenFFLEdBQ1YsTUFBTUEsRUFFUixPQUFPQSxHQW01RFR1c0QsR0FBTzhxQixNQXBzQlAsU0FBZXQ0RSxFQUFHaWxELEdBRWhCLElBREFqbEQsRUFBSXVrRSxHQUFVdmtFLElBQ04sR0FBS0EsRUE1cWZNLGlCQTZxZmpCLE1BQU8sR0FFVCxJQUFJbVcsRUExcWZlLFdBMnFmZjFWLEVBQVN1ckQsR0FBVWhzRCxFQTNxZkosWUE4cWZuQkEsR0E5cWZtQixXQWlyZm5CLElBREEsSUFBSWlCLEVBQVMrbEQsR0FBVXZtRCxFQUh2QndrRCxFQUFXMlYsR0FBWTNWLE1BSWQ5dUMsRUFBUW5XLEdBQ2ZpbEQsRUFBUzl1QyxHQUVYLE9BQU9sVixHQXNyQlR1c0QsR0FBT3FXLFNBQVdBLEdBQ2xCclcsR0FBTytXLFVBQVlBLEdBQ25CL1csR0FBTzRlLFNBQVdBLEdBQ2xCNWUsR0FBTytxQixRQS8zRFAsU0FBaUIvNEUsR0FDZixPQUFPNkosR0FBUzdKLEdBQU8rTSxlQSszRHpCaWhELEdBQU93VyxTQUFXQSxHQUNsQnhXLEdBQU9nckIsY0F2c0lQLFNBQXVCaDVFLEdBQ3JCLE9BQU9BLEVBQ0gyd0QsR0FBVW9VLEdBQVUva0UsSUEvcVlMLG1DQWdyWUosSUFBVkEsRUFBY0EsRUFBUSxHQXFzSTdCZ3VELEdBQU9ua0QsU0FBV0EsR0FDbEJta0QsR0FBT2lyQixRQTEyRFAsU0FBaUJqNUUsR0FDZixPQUFPNkosR0FBUzdKLEdBQU80TSxlQTAyRHpCb2hELEdBQU9rckIsS0FqMURQLFNBQWN6d0IsRUFBUXdiLEVBQU9oRCxHQUUzQixJQURBeFksRUFBUzUrQyxHQUFTNCtDLE1BQ0h3WSxRQWptZGY3K0QsSUFpbWR3QjZoRSxHQUN0QixPQUFPeGIsRUFBT2g0QyxRQUFRNHZDLEVBQVEsSUFFaEMsSUFBS29JLEtBQVl3YixFQUFRN0YsR0FBYTZGLElBQ3BDLE9BQU94YixFQUVULElBQUlWLEVBQWFvQixHQUFjVixHQUMzQlQsRUFBYW1CLEdBQWM4YSxHQUkvQixPQUFPM0UsR0FBVXZYLEVBSExELEdBQWdCQyxFQUFZQyxHQUM5QkMsR0FBY0YsRUFBWUMsR0FBYyxHQUVUeHlDLEtBQUssS0FxMERoRHc0QyxHQUFPbXJCLFFBL3lEUCxTQUFpQjF3QixFQUFRd2IsRUFBT2hELEdBRTlCLElBREF4WSxFQUFTNStDLEdBQVM0K0MsTUFDSHdZLFFBcG9kZjcrRCxJQW9vZHdCNmhFLEdBQ3RCLE9BQU94YixFQUFPaDRDLFFBQVE4dkMsRUFBVyxJQUVuQyxJQUFLa0ksS0FBWXdiLEVBQVE3RixHQUFhNkYsSUFDcEMsT0FBT3hiLEVBRVQsSUFBSVYsRUFBYW9CLEdBQWNWLEdBRy9CLE9BQU82VyxHQUFVdlgsRUFBWSxFQUZuQkUsR0FBY0YsRUFBWW9CLEdBQWM4YSxJQUFVLEdBRXZCenVELEtBQUssS0FxeUQ1Q3c0QyxHQUFPb3JCLFVBL3dEUCxTQUFtQjN3QixFQUFRd2IsRUFBT2hELEdBRWhDLElBREF4WSxFQUFTNStDLEdBQVM0K0MsTUFDSHdZLFFBcnFkZjcrRCxJQXFxZHdCNmhFLEdBQ3RCLE9BQU94YixFQUFPaDRDLFFBQVE2dkMsRUFBYSxJQUVyQyxJQUFLbUksS0FBWXdiLEVBQVE3RixHQUFhNkYsSUFDcEMsT0FBT3hiLEVBRVQsSUFBSVYsRUFBYW9CLEdBQWNWLEdBRy9CLE9BQU82VyxHQUFVdlgsRUFGTEQsR0FBZ0JDLEVBQVlvQixHQUFjOGEsS0FFbEJ6dUQsS0FBSyxLQXF3RDNDdzRDLEdBQU9xckIsU0E3dERQLFNBQWtCNXdCLEVBQVFoNkMsR0FDeEIsSUFBSXhOLEVBNXFkbUIsR0E2cWRuQnE0RSxFQTVxZHFCLE1BOHFkekIsR0FBSTUyRSxHQUFTK0wsR0FBVSxDQUNyQixJQUFJMFcsRUFBWSxjQUFlMVcsRUFBVUEsRUFBUTBXLFVBQVlBLEVBQzdEbGtCLEVBQVMsV0FBWXdOLEVBQVVzMkQsR0FBVXQyRCxFQUFReE4sUUFBVUEsRUFDM0RxNEUsRUFBVyxhQUFjN3FFLEVBQVUydkQsR0FBYTN2RCxFQUFRNnFFLFVBQVlBLEVBSXRFLElBQUkxQyxHQUZKbnVCLEVBQVM1K0MsR0FBUzQrQyxJQUVLeG5ELE9BQ3ZCLEdBQUl1bkQsR0FBV0MsR0FBUyxDQUN0QixJQUFJVixFQUFhb0IsR0FBY1YsR0FDL0JtdUIsRUFBWTd1QixFQUFXOW1ELE9BRXpCLEdBQUlBLEdBQVUyMUUsRUFDWixPQUFPbnVCLEVBRVQsSUFBSXVVLEVBQU0vN0QsRUFBU2dvRCxHQUFXcXdCLEdBQzlCLEdBQUl0YyxFQUFNLEVBQ1IsT0FBT3NjLEVBRVQsSUFBSTczRSxFQUFTc21ELEVBQ1R1WCxHQUFVdlgsRUFBWSxFQUFHaVYsR0FBS3huRCxLQUFLLElBQ25DaXpDLEVBQU9ybEQsTUFBTSxFQUFHNDVELEdBRXBCLFFBanZkQTU2RCxJQWl2ZEkraUIsRUFDRixPQUFPMWpCLEVBQVM2M0UsRUFLbEIsR0FISXZ4QixJQUNGaVYsR0FBUXY3RCxFQUFPUixPQUFTKzdELEdBRXRCejNELEdBQVM0ZixJQUNYLEdBQUlzakMsRUFBT3JsRCxNQUFNNDVELEdBQUt1YyxPQUFPcDBELEdBQVksQ0FDdkMsSUFBSS9ILEVBQ0E2RSxFQUFZeGdCLEVBTWhCLElBSkswakIsRUFBVXJRLFNBQ2JxUSxFQUFZM2YsR0FBTzJmLEVBQVUvVSxPQUFRdkcsR0FBU2kzQyxHQUFRdndDLEtBQUs0VSxJQUFjLE1BRTNFQSxFQUFVL00sVUFBWSxFQUNkZ0YsRUFBUStILEVBQVU1VSxLQUFLMFIsSUFDN0IsSUFBSXUzRCxFQUFTcDhELEVBQU16RyxNQUVyQmxWLEVBQVNBLEVBQU8yQixNQUFNLE9BbndkMUJoQixJQW13ZDZCbzNFLEVBQXVCeGMsRUFBTXdjLFNBRW5ELEdBQUkvd0IsRUFBTzdpRCxRQUFRdzRELEdBQWFqNUMsR0FBWTYzQyxJQUFRQSxFQUFLLENBQzlELElBQUlybUQsRUFBUWxWLEVBQU91MEUsWUFBWTd3RCxHQUMzQnhPLEdBQVMsSUFDWGxWLEVBQVNBLEVBQU8yQixNQUFNLEVBQUd1VCxJQUc3QixPQUFPbFYsRUFBUzYzRSxHQXlxRGxCdHJCLEdBQU95ckIsU0FucERQLFNBQWtCaHhCLEdBRWhCLE9BREFBLEVBQVM1K0MsR0FBUzQrQyxLQUNBOUksRUFBaUJ4ckMsS0FBS3MwQyxHQUNwQ0EsRUFBT2g0QyxRQUFRZ3ZDLEVBQWU4SixJQUM5QmQsR0FncEROdUYsR0FBTzByQixTQXZwQlAsU0FBa0I1K0MsR0FDaEIsSUFBSXlrQyxJQUFPdFYsR0FDWCxPQUFPcGdELEdBQVNpeEIsR0FBVXlrQyxHQXNwQjVCdlIsR0FBT3dnQixVQUFZQSxHQUNuQnhnQixHQUFPa2dCLFdBQWFBLEdBR3BCbGdCLEdBQU8yckIsS0FBT3AzRSxHQUNkeXJELEdBQU80ckIsVUFBWW5RLEdBQ25CemIsR0FBTzdyRCxNQUFROGxFLEdBRWZrSCxHQUFNbmhCLElBQ0E1OUMsR0FBUyxHQUNiNGtELEdBQVdoSCxJQUFRLFNBQVNocEQsRUFBTWtqQyxHQUMzQnRuQyxHQUFlMUIsS0FBSzh1RCxHQUFPcnRELFVBQVd1bkMsS0FDekM5M0IsR0FBTzgzQixHQUFjbGpDLE1BR2xCb0wsSUFDSCxDQUFFLE9BQVMsSUFXakI0OUMsR0FBT3prRCxRQTk4Z0JLLFVBaTlnQlptOEMsR0FBVSxDQUFDLE9BQVEsVUFBVyxRQUFTLGFBQWMsVUFBVyxpQkFBaUIsU0FBU3hkLEdBQ3hGOGxCLEdBQU85bEIsR0FBWWlnQixZQUFjNkYsTUFJbkN0SSxHQUFVLENBQUMsT0FBUSxTQUFTLFNBQVN4ZCxFQUFZdnhCLEdBQy9DdTNDLEdBQVl2dEQsVUFBVXVuQyxHQUFjLFNBQVMxbkMsR0FDM0NBLE9BMzlnQkY0QixJQTI5Z0JNNUIsRUFBa0IsRUFBSThyRCxHQUFVeVksR0FBVXZrRSxHQUFJLEdBRWxELElBQUlpQixFQUFVNEksS0FBSzBrRCxlQUFpQnA0QyxFQUNoQyxJQUFJdTNDLEdBQVk3akQsTUFDaEJBLEtBQUt1OUQsUUFVVCxPQVJJbm1FLEVBQU9zdEQsYUFDVHR0RCxFQUFPd3RELGNBQWdCekMsR0FBVWhzRCxFQUFHaUIsRUFBT3d0RCxlQUUzQ3h0RCxFQUFPeXRELFVBQVU1dEQsS0FBSyxDQUNwQixLQUFRa3JELEdBQVVoc0QsRUF2NmdCTCxZQXc2Z0JiLEtBQVEwbkMsR0FBY3ptQyxFQUFPcXRELFFBQVUsRUFBSSxRQUFVLE1BR2xEcnRELEdBR1R5c0QsR0FBWXZ0RCxVQUFVdW5DLEVBQWEsU0FBVyxTQUFTMW5DLEdBQ3JELE9BQU82SixLQUFLa2xCLFVBQVUyWSxHQUFZMW5DLEdBQUcrdUIsY0FLekNtMkIsR0FBVSxDQUFDLFNBQVUsTUFBTyxjQUFjLFNBQVN4ZCxFQUFZdnhCLEdBQzdELElBQUk5TCxFQUFPOEwsRUFBUSxFQUNma2pFLEVBajhnQmUsR0FpOGdCSmh2RSxHQS83Z0JHLEdBKzdnQnlCQSxFQUUzQ3FqRCxHQUFZdnRELFVBQVV1bkMsR0FBYyxTQUFTdWQsR0FDM0MsSUFBSWhrRCxFQUFTNEksS0FBS3U5RCxRQU1sQixPQUxBbm1FLEVBQU91dEQsY0FBYzF0RCxLQUFLLENBQ3hCLFNBQVk4NUQsR0FBWTNWLEVBQVUsR0FDbEMsS0FBUTU2QyxJQUVWcEosRUFBT3N0RCxhQUFldHRELEVBQU9zdEQsY0FBZ0I4cUIsRUFDdENwNEUsTUFLWGlrRCxHQUFVLENBQUMsT0FBUSxTQUFTLFNBQVN4ZCxFQUFZdnhCLEdBQy9DLElBQUltakUsRUFBVyxRQUFVbmpFLEVBQVEsUUFBVSxJQUUzQ3UzQyxHQUFZdnRELFVBQVV1bkMsR0FBYyxXQUNsQyxPQUFPNzlCLEtBQUt5dkUsR0FBVSxHQUFHOTVFLFFBQVEsT0FLckMwbEQsR0FBVSxDQUFDLFVBQVcsU0FBUyxTQUFTeGQsRUFBWXZ4QixHQUNsRCxJQUFJb2pFLEVBQVcsUUFBVXBqRSxFQUFRLEdBQUssU0FFdEN1M0MsR0FBWXZ0RCxVQUFVdW5DLEdBQWMsV0FDbEMsT0FBTzc5QixLQUFLMGtELGFBQWUsSUFBSWIsR0FBWTdqRCxNQUFRQSxLQUFLMHZFLEdBQVUsT0FJdEU3ckIsR0FBWXZ0RCxVQUFVK0QsUUFBVSxXQUM5QixPQUFPMkYsS0FBSy9HLE9BQU9zQixLQUdyQnNwRCxHQUFZdnRELFVBQVVrRCxLQUFPLFNBQVNOLEdBQ3BDLE9BQU84RyxLQUFLL0csT0FBT0MsR0FBVzBrRSxRQUdoQy9aLEdBQVl2dEQsVUFBVTZvRSxTQUFXLFNBQVNqbUUsR0FDeEMsT0FBTzhHLEtBQUtrbEIsVUFBVTFyQixLQUFLTixJQUc3QjJxRCxHQUFZdnRELFVBQVUrb0UsVUFBWXJOLElBQVMsU0FBU3RpRCxFQUFNMEksR0FDeEQsTUFBbUIsbUJBQVIxSSxFQUNGLElBQUltMEMsR0FBWTdqRCxNQUVsQkEsS0FBS3hJLEtBQUksU0FBUzdCLEdBQ3ZCLE9BQU9tM0QsR0FBV24zRCxFQUFPK1osRUFBTTBJLFNBSW5DeXJDLEdBQVl2dEQsVUFBVTZDLE9BQVMsU0FBU0QsR0FDdEMsT0FBTzhHLEtBQUsvRyxPQUFPb29FLEdBQU90USxHQUFZNzNELE1BR3hDMnFELEdBQVl2dEQsVUFBVXlDLE1BQVEsU0FBUzhGLEVBQU84ekQsR0FDNUM5ekQsRUFBUTY3RCxHQUFVNzdELEdBRWxCLElBQUl6SCxFQUFTNEksS0FDYixPQUFJNUksRUFBT3N0RCxlQUFpQjdsRCxFQUFRLEdBQUs4ekQsRUFBTSxHQUN0QyxJQUFJOU8sR0FBWXpzRCxJQUVyQnlILEVBQVEsRUFDVnpILEVBQVNBLEVBQU9zeEUsV0FBVzdwRSxHQUNsQkEsSUFDVHpILEVBQVNBLEVBQU95QixLQUFLZ0csU0F0amhCdkI5RyxJQXdqaEJJNDZELElBRUZ2N0QsR0FEQXU3RCxFQUFNK0gsR0FBVS9ILElBQ0QsRUFBSXY3RCxFQUFPNEIsV0FBVzI1RCxHQUFPdjdELEVBQU9xeEUsS0FBSzlWLEVBQU05ekQsSUFFekR6SCxJQUdUeXNELEdBQVl2dEQsVUFBVXF5RSxlQUFpQixTQUFTenZFLEdBQzlDLE9BQU84RyxLQUFLa2xCLFVBQVUwakQsVUFBVTF2RSxHQUFXZ3NCLFdBRzdDMitCLEdBQVl2dEQsVUFBVTRyRSxRQUFVLFdBQzlCLE9BQU9saUUsS0FBS3lvRSxLQXRnaEJPLGFBMGdoQnJCOWQsR0FBVzlHLEdBQVl2dEQsV0FBVyxTQUFTcUUsRUFBTWtqQyxHQUMvQyxJQUFJOHhDLEVBQWdCLHFDQUFxQzdsRSxLQUFLK3pCLEdBQzFEK3hDLEVBQVUsa0JBQWtCOWxFLEtBQUsrekIsR0FDakNneUMsRUFBYWxzQixHQUFPaXNCLEVBQVcsUUFBd0IsUUFBZC94QyxFQUF1QixRQUFVLElBQU9BLEdBQ2pGaXlDLEVBQWVGLEdBQVcsUUFBUTlsRSxLQUFLK3pCLEdBRXRDZ3lDLElBR0xsc0IsR0FBT3J0RCxVQUFVdW5DLEdBQWMsV0FDN0IsSUFBSWxvQyxFQUFRcUssS0FBS29rRCxZQUNiaHNDLEVBQU93M0QsRUFBVSxDQUFDLEdBQUs5MEUsVUFDdkJpMUUsRUFBU3A2RSxhQUFpQmt1RCxHQUMxQnpJLEVBQVdoakMsRUFBSyxHQUNoQjQzRCxFQUFVRCxHQUFVbjRFLEdBQVFqQyxHQUU1QnFwRSxFQUFjLFNBQVNycEUsR0FDekIsSUFBSXlCLEVBQVN5NEUsRUFBVzUwRSxNQUFNMG9ELEdBQVE1SCxHQUFVLENBQUNwbUQsR0FBUXlpQixJQUN6RCxPQUFRdzNELEdBQVd6ckIsRUFBWS9zRCxFQUFPLEdBQUtBLEdBR3pDNDRFLEdBQVdMLEdBQW9DLG1CQUFadjBCLEdBQTZDLEdBQW5CQSxFQUFTeGtELFNBRXhFbTVFLEVBQVNDLEdBQVUsR0FFckIsSUFBSTdyQixFQUFXbmtELEtBQUtza0QsVUFDaEIyckIsSUFBYWp3RSxLQUFLcWtELFlBQVl6dEQsT0FDOUJzNUUsRUFBY0osSUFBaUIzckIsRUFDL0Jnc0IsRUFBV0osSUFBV0UsRUFFMUIsSUFBS0gsR0FBZ0JFLEVBQVMsQ0FDNUJyNkUsRUFBUXc2RSxFQUFXeDZFLEVBQVEsSUFBSWt1RCxHQUFZN2pELE1BQzNDLElBQUk1SSxFQUFTdUQsRUFBS00sTUFBTXRGLEVBQU95aUIsR0FFL0IsT0FEQWhoQixFQUFPaXRELFlBQVlwdEQsS0FBSyxDQUFFLEtBQVEyZ0UsR0FBTSxLQUFRLENBQUNvSCxHQUFjLGFBem1oQm5Fam5FLElBMG1oQlcsSUFBSStyRCxHQUFjMXNELEVBQVErc0QsR0FFbkMsT0FBSStyQixHQUFlQyxFQUNWeDFFLEVBQUtNLE1BQU0rRSxLQUFNb1ksSUFFMUJoaEIsRUFBUzRJLEtBQUs0M0QsS0FBS29ILEdBQ1prUixFQUFlTixFQUFVeDRFLEVBQU96QixRQUFRLEdBQUt5QixFQUFPekIsUUFBV3lCLFFBSzFFaWtELEdBQVUsQ0FBQyxNQUFPLE9BQVEsUUFBUyxPQUFRLFNBQVUsWUFBWSxTQUFTeGQsR0FDeEUsSUFBSWxqQyxFQUFPNGtELEdBQVcxaEIsR0FDbEJ1eUMsRUFBWSwwQkFBMEJ0bUUsS0FBSyt6QixHQUFjLE1BQVEsT0FDakVpeUMsRUFBZSxrQkFBa0JobUUsS0FBSyt6QixHQUUxQzhsQixHQUFPcnRELFVBQVV1bkMsR0FBYyxXQUM3QixJQUFJemxCLEVBQU90ZCxVQUNYLEdBQUlnMUUsSUFBaUI5dkUsS0FBS3NrRCxVQUFXLENBQ25DLElBQUkzdUQsRUFBUXFLLEtBQUtySyxRQUNqQixPQUFPZ0YsRUFBS00sTUFBTXJELEdBQVFqQyxHQUFTQSxFQUFRLEdBQUl5aUIsR0FFakQsT0FBT3BZLEtBQUtvd0UsSUFBVyxTQUFTejZFLEdBQzlCLE9BQU9nRixFQUFLTSxNQUFNckQsR0FBUWpDLEdBQVNBLEVBQVEsR0FBSXlpQixVQU1yRHV5QyxHQUFXOUcsR0FBWXZ0RCxXQUFXLFNBQVNxRSxFQUFNa2pDLEdBQy9DLElBQUlneUMsRUFBYWxzQixHQUFPOWxCLEdBQ3hCLEdBQUlneUMsRUFBWSxDQUNkLElBQUk1NUUsRUFBTTQ1RSxFQUFXNTZFLEtBQU8sR0FDdkJzQixHQUFlMUIsS0FBS211RCxHQUFXL3NELEtBQ2xDK3NELEdBQVUvc0QsR0FBTyxJQUVuQitzRCxHQUFVL3NELEdBQUtnQixLQUFLLENBQUUsS0FBUTRtQyxFQUFZLEtBQVFneUMsUUFJdEQ3c0IsR0FBVW1WLFFBbHBoQlJwZ0UsRUFnQ3FCLEdBa25oQitCOUMsTUFBUSxDQUFDLENBQzdELEtBQVEsVUFDUixVQXBwaEJBOEMsSUF3cGhCRjhyRCxHQUFZdnRELFVBQVVpbkUsTUF6NWR0QixXQUNFLElBQUlubUUsRUFBUyxJQUFJeXNELEdBQVk3akQsS0FBS29rRCxhQU9sQyxPQU5BaHRELEVBQU9pdEQsWUFBY2dDLEdBQVVybUQsS0FBS3FrRCxhQUNwQ2p0RCxFQUFPcXRELFFBQVV6a0QsS0FBS3lrRCxRQUN0QnJ0RCxFQUFPc3RELGFBQWUxa0QsS0FBSzBrRCxhQUMzQnR0RCxFQUFPdXRELGNBQWdCMEIsR0FBVXJtRCxLQUFLMmtELGVBQ3RDdnRELEVBQU93dEQsY0FBZ0I1a0QsS0FBSzRrRCxjQUM1Qnh0RCxFQUFPeXRELFVBQVl3QixHQUFVcm1ELEtBQUs2a0QsV0FDM0J6dEQsR0FrNWRUeXNELEdBQVl2dEQsVUFBVTR1QixRQXY0ZHRCLFdBQ0UsR0FBSWxsQixLQUFLMGtELGFBQWMsQ0FDckIsSUFBSXR0RCxFQUFTLElBQUl5c0QsR0FBWTdqRCxNQUM3QjVJLEVBQU9xdEQsU0FBVyxFQUNsQnJ0RCxFQUFPc3RELGNBQWUsT0FFdEJ0dEQsRUFBUzRJLEtBQUt1OUQsU0FDUDlZLFVBQVksRUFFckIsT0FBT3J0RCxHQSszZFR5c0QsR0FBWXZ0RCxVQUFVWCxNQXAzZHRCLFdBQ0UsSUFBSXVsRCxFQUFRbDdDLEtBQUtva0QsWUFBWXp1RCxRQUN6QjA2RSxFQUFNcndFLEtBQUt5a0QsUUFDWHRxRCxFQUFRdkMsR0FBUXNqRCxHQUNoQm8xQixFQUFVRCxFQUFNLEVBQ2hCM1UsRUFBWXZoRSxFQUFRK2dELEVBQU10a0QsT0FBUyxFQUNuQzI1RSxFQXdvSU4sU0FBaUIxeEUsRUFBTzh6RCxFQUFLNE8sR0FDM0IsSUFBSWoxRCxHQUFTLEVBQ1QxVixFQUFTMnFFLEVBQVczcUUsT0FFeEIsT0FBUzBWLEVBQVExVixHQUFRLENBQ3ZCLElBQUk0dUQsRUFBTytiLEVBQVdqMUQsR0FDbEJnZCxFQUFPazhCLEVBQUtsOEIsS0FFaEIsT0FBUWs4QixFQUFLaGxELE1BQ1gsSUFBSyxPQUFhM0IsR0FBU3lxQixFQUFNLE1BQ2pDLElBQUssWUFBYXFwQyxHQUFPcnBDLEVBQU0sTUFDL0IsSUFBSyxPQUFhcXBDLEVBQU14USxHQUFVd1EsRUFBSzl6RCxFQUFReXFCLEdBQU8sTUFDdEQsSUFBSyxZQUFhenFCLEVBQVFvakQsR0FBVXBqRCxFQUFPOHpELEVBQU1ycEMsSUFHckQsTUFBTyxDQUFFLE1BQVN6cUIsRUFBTyxJQUFPOHpELEdBdnBJckI2ZCxDQUFRLEVBQUc5VSxFQUFXMTdELEtBQUs2a0QsV0FDbENobUQsRUFBUTB4RSxFQUFLMXhFLE1BQ2I4ekQsRUFBTTRkLEVBQUs1ZCxJQUNYLzdELEVBQVMrN0QsRUFBTTl6RCxFQUNmeU4sRUFBUWdrRSxFQUFVM2QsRUFBTzl6RCxFQUFRLEVBQ2pDZ3lELEVBQVk3d0QsS0FBSzJrRCxjQUNqQjhyQixFQUFhNWYsRUFBVWo2RCxPQUN2QjZrRCxFQUFXLEVBQ1hpMUIsRUFBWXZ1QixHQUFVdnJELEVBQVFvSixLQUFLNGtELGVBRXZDLElBQUt6cUQsSUFBV20yRSxHQUFXNVUsR0FBYTlrRSxHQUFVODVFLEdBQWE5NUUsRUFDN0QsT0FBTzI5RCxHQUFpQnJaLEVBQU9sN0MsS0FBS3FrRCxhQUV0QyxJQUFJanRELEVBQVMsR0FFYit5RCxFQUNBLEtBQU92ekQsS0FBWTZrRCxFQUFXaTFCLEdBQVcsQ0FNdkMsSUFIQSxJQUFJQyxHQUFhLEVBQ2JoN0UsRUFBUXVsRCxFQUhaNXVDLEdBQVMrakUsS0FLQU0sRUFBWUYsR0FBWSxDQUMvQixJQUFJanJCLEVBQU9xTCxFQUFVOGYsR0FDakJ2MUIsRUFBV29LLEVBQUtwSyxTQUNoQjU2QyxFQUFPZ2xELEVBQUtobEQsS0FDWjRwRCxFQUFXaFAsRUFBU3psRCxHQUV4QixHQXB4RFksR0FveERSNkssRUFDRjdLLEVBQVF5MEQsT0FDSCxJQUFLQSxFQUFVLENBQ3BCLEdBeHhEYSxHQXd4RFQ1cEQsRUFDRixTQUFTMnBELEVBRVQsTUFBTUEsR0FJWi95RCxFQUFPcWtELEtBQWM5bEQsRUFFdkIsT0FBT3lCLEdBeTBkVHVzRCxHQUFPcnRELFVBQVVzc0UsR0FBSzNELEdBQ3RCdGIsR0FBT3J0RCxVQUFVeW9FLE1BemdRakIsV0FDRSxPQUFPQSxHQUFNLytELE9BeWdRZjJqRCxHQUFPcnRELFVBQVVzNkUsT0E1K1BqQixXQUNFLE9BQU8sSUFBSTlzQixHQUFjOWpELEtBQUtySyxRQUFTcUssS0FBS3NrRCxZQTQrUDlDWCxHQUFPcnRELFVBQVU2ckUsS0FuOVBqQixnQkE3c1JFcHFFLElBOHNSSWlJLEtBQUt3a0QsYUFDUHhrRCxLQUFLd2tELFdBQWEwZCxHQUFRbGlFLEtBQUtySyxVQUVqQyxJQUFJeXNFLEVBQU9waUUsS0FBS3VrRCxXQUFhdmtELEtBQUt3a0QsV0FBVzV0RCxPQUc3QyxNQUFPLENBQUUsS0FBUXdyRSxFQUFNLE1BRlhBLE9BbHRSWnJxRSxFQWt0UitCaUksS0FBS3drRCxXQUFXeGtELEtBQUt1a0QsZUErOFB0RFosR0FBT3J0RCxVQUFVNGhFLE1BNTVQakIsU0FBc0J2aUUsR0FJcEIsSUFIQSxJQUFJeUIsRUFDQTIxRCxFQUFTL3NELEtBRU4rc0QsYUFBa0I3SSxJQUFZLENBQ25DLElBQUlxWixFQUFReFosR0FBYWdKLEdBQ3pCd1EsRUFBTWhaLFVBQVksRUFDbEJnWixFQUFNL1ksZ0JBNXdSUnpzRCxFQTZ3Uk1YLEVBQ0ZzcEIsRUFBUzBqQyxZQUFjbVosRUFFdkJubUUsRUFBU21tRSxFQUVYLElBQUk3OEMsRUFBVzY4QyxFQUNmeFEsRUFBU0EsRUFBTzNJLFlBR2xCLE9BREExakMsRUFBUzBqQyxZQUFjenVELEVBQ2hCeUIsR0E0NFBUdXNELEdBQU9ydEQsVUFBVTR1QixRQXIzUGpCLFdBQ0UsSUFBSXZ2QixFQUFRcUssS0FBS29rRCxZQUNqQixHQUFJenVELGFBQWlCa3VELEdBQWEsQ0FDaEMsSUFBSWd0QixFQUFVbDdFLEVBVWQsT0FUSXFLLEtBQUtxa0QsWUFBWXp0RCxTQUNuQmk2RSxFQUFVLElBQUlodEIsR0FBWTdqRCxRQUU1QjZ3RSxFQUFVQSxFQUFRM3JELFdBQ1ZtL0IsWUFBWXB0RCxLQUFLLENBQ3ZCLEtBQVEyZ0UsR0FDUixLQUFRLENBQUMxeUMsSUFDVCxhQXh6UkpudEIsSUEwelJTLElBQUkrckQsR0FBYytzQixFQUFTN3dFLEtBQUtza0QsV0FFekMsT0FBT3RrRCxLQUFLNDNELEtBQUsxeUMsS0F1MlBuQnkrQixHQUFPcnRELFVBQVV3NkUsT0FBU250QixHQUFPcnRELFVBQVVtdEQsUUFBVUUsR0FBT3J0RCxVQUFVWCxNQXQxUHRFLFdBQ0UsT0FBTzQrRCxHQUFpQnYwRCxLQUFLb2tELFlBQWFwa0QsS0FBS3FrRCxjQXcxUGpEVixHQUFPcnRELFVBQVV3QixNQUFRNnJELEdBQU9ydEQsVUFBVXNuRSxLQUV0Qy9jLEtBQ0Y4QyxHQUFPcnRELFVBQVV1cUQsSUFoOFBuQixXQUNFLE9BQU83Z0QsT0FpOFBGMmpELEdBTUR2RSxHQVFOMUYsR0FBS3lGLEVBQUlBLFFBenJoQlBwbkQsS0E2cmhCRixhQUNFLE9BQU9vbkQsSUFDUixnQ0FhSHRxRCxLQUFLbUwsUSx5Q0N2dGhCUCxVQVlvQixvQkFBVHk1QyxNQUVEQSxLQVZGLEVBQU8sUUFBVywwQkFBUCxFQVlmLFdBSUksU0FBU3MzQixLQUVUQSxFQUFhejZFLFVBQVUwNkUsVUFBWSxXQUMvQixNQUFPLENBQ0gxNUUsSUFBSzBJLEtBQUsxSSxJQUNWeXdELE1BQU8vbkQsS0FBSytuRCxNQUNaa3BCLFNBQVVqeEUsS0FBS2l4RSxXQUl2QkYsRUFBYXo2RSxVQUFVNDZFLGFBQWUsU0FBUzF2QyxHQUMzQ3hoQyxLQUFLMUksSUFBTWtxQyxFQUFTbHFDLElBQ3BCMEksS0FBSytuRCxNQUFRdm1CLEVBQVN1bUIsTUFDdEIvbkQsS0FBS2l4RSxTQUFXenZDLEVBQVN5dkMsVUFHN0JGLEVBQWF6NkUsVUFBVW9KLFFBQVUsU0FBU3FvRCxHQUV0Qy9uRCxLQUFLMUksSUFBTSxFQUNYMEksS0FBSytuRCxNQUFRQSxFQUNiL25ELEtBQUtpeEUsU0FBVyxFQUVoQmp4RSxLQUFLbXhFLFlBQVksS0FDakIsSUFBSXg3RSxFQUFRcUssS0FBS294RSxjQUNqQnB4RSxLQUFLbXhFLFlBQVksS0FZakIsSUFWQSxJQUFJcnZFLEVBQVEsQ0FDUnRCLEtBQU0sUUFDTnMvQixJQUFLLENBQUV1eEMsTUFBT3J4RSxLQUFLMUksSUFBS3E3RCxJQUFLNUssRUFBTW54RCxRQUNuQzZULFFBQVEsRUFDUmxLLFlBQVksRUFDWit3RSxXQUFXLEVBQ1gvb0UsU0FBUyxFQUNUdEUsUUFBUSxHQUdMakUsS0FBS3V4RSxnQkFDUixPQUFRdnhFLEtBQUt3eEUsV0FDVCxJQUFLLElBQ0RDLEVBQVEzdkUsRUFBTyxVQUNmLE1BQ0osSUFBSyxJQUNEMnZFLEVBQVEzdkUsRUFBTyxjQUNmLE1BQ0osSUFBSyxJQUNEMnZFLEVBQVEzdkUsRUFBTyxhQUNmLE1BQ0osSUFBSyxJQUNEMnZFLEVBQVEzdkUsRUFBTyxXQUNmLE1BQ0osSUFBSyxJQUNEMnZFLEVBQVEzdkUsRUFBTyxVQUszQixHQUFJOUIsS0FBSzFJLE1BQVEwSSxLQUFLK25ELE1BQU1ueEQsT0FDeEIsTUFBTTBCLE1BQ0Ysb0JBQXNCMEgsS0FBSytuRCxNQUFNbndDLFVBQVU1WCxLQUFLMUksTUFHeEQsTUFBTyxDQUNIa0osS0FBTSxVQUNOc0IsTUFBT0EsRUFDUG5NLE1BQU9BLEVBQ1BtcUMsSUFBSzkvQixLQUFLOC9CLElBQUksS0FJdEJpeEMsRUFBYXo2RSxVQUFVODZFLFlBQWMsV0FDakMsSUFBSXhoRCxFQUFPLEdBQ1B5aEQsRUFBUXJ4RSxLQUFLMUksSUFJakIsSUFGQXM0QixFQUFLMzRCLEtBQUsrSSxLQUFLMnJCLGVBRVksTUFBcEIzckIsS0FBSzB4RSxZQUNSMXhFLEtBQUtteEUsWUFBWSxLQUNqQnZoRCxFQUFLMzRCLEtBQUsrSSxLQUFLMnJCLGVBR25CLE1BQU8sQ0FBRW5yQixLQUFNLGNBQWU3SyxNQUFPaTZCLEVBQU1rUSxJQUFLOS9CLEtBQUs4L0IsSUFBSXV4QyxLQUc3RE4sRUFBYXo2RSxVQUFVcTFCLFlBQWMsV0FJakMsSUFIQSxJQUFJbHJCLEVBQVEsR0FDUjR3RSxFQUFRcnhFLEtBQUsxSSxJQUVWMEksS0FBSzJ4RSxVQUNSbHhFLEVBQU14SixLQUFLK0ksS0FBS1UsUUFHcEIsTUFBTyxDQUFFRixLQUFNLGNBQWU3SyxNQUFPOEssRUFBT3EvQixJQUFLOS9CLEtBQUs4L0IsSUFBSXV4QyxLQUc5RE4sRUFBYXo2RSxVQUFVb0ssS0FBTyxXQUMxQixPQUFJVixLQUFLNHhFLGNBQ0U1eEUsS0FBSzZ4RSxZQUVMN3hFLEtBQUtXLFFBSXBCb3dFLEVBQWF6NkUsVUFBVXU3RSxVQUFZLFdBQy9CLElBQUlSLEVBQVFyeEUsS0FBSzFJLElBQ2pCLE9BQVEwSSxLQUFLd3hFLFdBQ1QsSUFBSyxJQUNELE1BQU8sQ0FDSGh4RSxLQUFNLGNBQ05zL0IsSUFBSzkvQixLQUFLOC9CLElBQUl1eEMsSUFFdEIsSUFBSyxJQUNELE1BQU8sQ0FBRTd3RSxLQUFNLFlBQWFzL0IsSUFBSzkvQixLQUFLOC9CLElBQUl1eEMsSUFFOUMsSUFBSyxLQUNELE9BQVFyeEUsS0FBS3d4RSxXQUNULElBQUssSUFDRCxNQUFPLENBQ0hoeEUsS0FBTSxlQUNOcy9CLElBQUs5L0IsS0FBSzgvQixJQUFJdXhDLElBRXRCLElBQUssSUFDRCxNQUFPLENBQ0g3d0UsS0FBTSxrQkFDTnMvQixJQUFLOS9CLEtBQUs4L0IsSUFBSXV4QyxJQUkxQixNQUFNLzRFLE1BQU0sNEJBRWhCLElBQUssSUFHRCxJQUFJa0ksRUFDSixPQUhBUixLQUFLbXhFLFlBQVksS0FHVG54RSxLQUFLd3hFLFdBQ1QsSUFBSyxJQUNEaHhFLEVBQU8sWUFDUCxNQUNKLElBQUssSUFDREEsRUFBTyxvQkFHZnN4RSxFQUFjdHhFLEdBRWQsSUFBSTR3RSxFQUFjcHhFLEtBQUtveEUsY0FJdkIsT0FGQXB4RSxLQUFLbXhFLFlBQVksS0FFVixDQUNIM3dFLEtBQU1BLEVBQ043SyxNQUFPeTdFLEVBQ1B0eEMsSUFBSzkvQixLQUFLOC9CLElBQUl1eEMsS0FvcUI5QixXQUNJLE1BQU0vNEUsTUFBTSwyQ0FqcUJaeTVFLElBR0poQixFQUFhejZFLFVBQVVxTCxXQUFhLFNBQVNxd0UsR0FDekMsSUFBSWp4RSxFQUNBc3dFLEVBQVFyeEUsS0FBSzFJLElBQ2pCLE9BQVEwSSxLQUFLd3hFLFdBQ1QsSUFBSyxJQUNEendFLEVBQVEsQ0FDSmEsUUFBUyxFQUNUcXdFLE9BQVF0Z0UsS0FFWixNQUNKLElBQUssSUFDRDVRLEVBQVEsQ0FDSmEsUUFBUyxFQUNUcXdFLE9BQVF0Z0UsS0FFWixNQUNKLElBQUssSUFDRDVRLEVBQVEsQ0FDSmEsUUFBUyxFQUNUcXdFLE9BQVEsR0FFWixNQUNKLElBQUssSUFDRCxJQUFJcndFLEVBQVU1QixLQUFLa3lFLHVCQUNuQixPQUFRbHlFLEtBQUt3eEUsV0FDVCxJQUFLLElBQ0R6d0UsRUFBUSxDQUNKYSxRQUFTQSxFQUNUcXdFLE9BQVFyd0UsR0FFWixNQUNKLElBQUssSUFJR2IsRUFGQWYsS0FBS215RSxVQUVHLENBQ0p2d0UsUUFBU0EsRUFDVHF3RSxPQUhLanlFLEtBQUtreUUsd0JBTU4sQ0FDSnR3RSxRQUFTQSxFQUNUcXdFLE9BQVF0Z0UsS0FHaEIzUixLQUFLbXhFLFlBQVksS0FLekIsSUFBdUIsSUFBbkJhLFFBQXFDajZFLElBQVZnSixFQUMzQixPQUVKK3dFLEVBQWMvd0UsR0FNdEIsSUFBdUIsSUFBbkJpeEUsUUFBcUNqNkUsSUFBVmdKLEVBZS9CLE9BWEErd0UsRUFBYy93RSxHQUVXLE1BQXJCZixLQUFLMHhFLFNBQVMsSUFDZDF4RSxLQUFLbXhFLFlBQVksS0FDakJwd0UsRUFBTXF4RSxRQUFTLEdBRWZyeEUsRUFBTXF4RSxRQUFTLEVBR25CcnhFLEVBQU1QLEtBQU8sYUFDYk8sRUFBTSsrQixJQUFNOS9CLEtBQUs4L0IsSUFBSXV4QyxHQUNkdHdFLEdBR1hnd0UsRUFBYXo2RSxVQUFVcUssS0FBTyxXQUMxQixJQUFJQSxFQUNBMHdFLEVBQVFyeEUsS0FBSzFJLElBQ2pCLE9BQVEwSSxLQUFLMHhFLFlBQ1QsSUFBSyxJQUNEL3dFLEVBQU9YLEtBQUtxeUUsU0FDWixNQUNKLElBQUssS0FDRDF4RSxFQUFPWCxLQUFLc3lFLGFBQ1osTUFDSixJQUFLLElBQ0QzeEUsRUFBT1gsS0FBS3V5RSxpQkFDWixNQUNKLElBQUssSUFDRDV4RSxFQUFPWCxLQUFLMkgsUUFnQnBCLFlBWmE1UCxJQUFUNEksR0FBc0JYLEtBQUt3eUUsdUJBQzNCN3hFLEVBQU9YLEtBQUt5eUUsb0JBR2hCWCxFQUFjbnhFLEdBRWRBLEVBQUttL0IsSUFBTTkvQixLQUFLOC9CLElBQUl1eEMsR0FFaEJyeEUsS0FBSzB5RSxpQkFDTC94RSxFQUFLZ0IsV0FBYTNCLEtBQUsyQixjQUdwQmhCLEdBR1hvd0UsRUFBYXo2RSxVQUFVKzdFLE9BQVMsV0FFNUIsT0FEQXJ5RSxLQUFLbXhFLFlBQVksS0FDVixDQUNIM3dFLEtBQU0sTUFDTkssWUFBWSxFQUNabEwsTUFBTyxDQUFDZzlFLEVBQUcsTUFBT0EsRUFBRyxNQUFPQSxFQUFHLFVBQVdBLEVBQUcsYUFJckQ1QixFQUFhejZFLFVBQVVnOEUsV0FBYSxXQUdoQyxPQUZBdHlFLEtBQUtteEUsWUFBWSxNQUVUbnhFLEtBQUsweEUsWUFDVCxJQUFLLElBQ0wsSUFBSyxJQUNMLElBQUssSUFDTCxJQUFLLElBQ0wsSUFBSyxJQUNMLElBQUssSUFDTCxJQUFLLElBQ0wsSUFBSyxJQUNMLElBQUssSUFDRCxPQUFPMXhFLEtBQUs0eUUsb0JBQ2hCLElBQUssSUFDTCxJQUFLLElBQ0wsSUFBSyxJQUNMLElBQUssSUFDTCxJQUFLLElBQ0wsSUFBSyxJQUNELE9BQU81eUUsS0FBSzZ5RSx1QkFDaEIsSUFBSyxJQUNMLElBQUssSUFDTCxJQUFLLElBQ0wsSUFBSyxJQUNMLElBQUssSUFDRCxPQUFPN3lFLEtBQUs4eUUsb0JBQ2hCLElBQUssSUFDRCxPQUFPOXlFLEtBQUsreUUsMEJBQ2hCLElBQUssSUFDRCxPQUFPL3lFLEtBQUtnekUsbUJBQ2hCLElBQUssSUFDRCxPQUFPaHpFLEtBQUtpekUsd0JBQ2hCLElBQUssSUFDRCxPQUFPanpFLEtBQUtrekUsa0NBQ2hCLFFBQ0ksT0FBT2x6RSxLQUFLbXpFLHVCQUl4QnBDLEVBQWF6NkUsVUFBVXM4RSxrQkFBb0IsV0FHdkMsTUFBTyxDQUFFcHlFLEtBQU0scUJBQXNCN0ssTUFGekJxSyxLQUFLb3pFLG9CQUtyQnJDLEVBQWF6NkUsVUFBVXU4RSxxQkFBdUIsV0FDMUMsSUFBSXowRSxFQUNBeUMsR0FBYSxFQUNqQixPQUFRYixLQUFLd3hFLFdBQ1QsSUFBSyxJQUNEcHpFLEVBQU1pMUUsRUFDTixNQUNKLElBQUssSUFDRGoxRSxFQUFNaTFFLEVBQ054eUUsR0FBYSxFQUNiLE1BQ0osSUFBSyxJQUNEekMsRUFBTWsxRSxFQUNOLE1BQ0osSUFBSyxJQUNEbDFFLEVBQU1rMUUsRUFDTnp5RSxHQUFhLEVBQ2IsTUFDSixJQUFLLElBQ0R6QyxFQUFNbTFFLEVBQ04sTUFDSixJQUFLLElBQ0RuMUUsRUFBTW0xRSxFQUNOMXlFLEdBQWEsRUFNckIsT0FGQWl4RSxFQUFjMXpFLEdBRVAsQ0FBRW9DLEtBQU0sTUFBTzdLLE1BQU95SSxFQUFLeUMsV0FBWUEsSUFHbERrd0UsRUFBYXo2RSxVQUFVdzhFLGtCQUFvQixXQUN2QyxJQUFJVSxFQUNKLE9BQVF4ekUsS0FBS3d4RSxXQUNULElBQUssSUFDRGdDLEVBQWFiLEVBQUcsTUFDaEIsTUFDSixJQUFLLElBQ0RhLEVBQWFiLEVBQUcsTUFDaEIsTUFDSixJQUFLLElBQ0RhLEVBQWFiLEVBQUcsTUFDaEIsTUFDSixJQUFLLElBQ0RhLEVBQWFiLEVBQUcsTUFDaEIsTUFDSixJQUFLLElBQ0RhLEVBQWFiLEVBQUcsTUFLeEIsT0FGQWIsRUFBYzBCLEdBRVAsQ0FBRWh6RSxLQUFNLFlBQWE3SyxNQUFPNjlFLElBR3ZDekMsRUFBYXo2RSxVQUFVeThFLHdCQUEwQixXQUM3Qy95RSxLQUFLbXhFLFlBQVksS0FDakIsSUFBSXNDLEVBQVN6ekUsS0FBS3d4RSxVQUNsQixJQUFnQyxJQUE1QixXQUFXMW5FLEtBQUsycEUsR0FDaEIsTUFBTW43RSxNQUFNLFlBSWhCLE1BQU8sQ0FBRWtJLEtBQU0sWUFBYTdLLE1BRFg4OUUsRUFBT2x4RSxjQUFjQyxXQUFXLEdBQUssS0FJMUR1dUUsRUFBYXo2RSxVQUFVMDhFLGlCQUFtQixXQUl0QyxPQURBaHpFLEtBQUtteEUsWUFBWSxLQUNWLENBQUUzd0UsS0FBTSxZQUFhN0ssTUFBT2c5RSxFQUFHLFFBRzFDNUIsRUFBYXo2RSxVQUFVMjhFLHNCQUF3QixXQUUzQyxPQURBanpFLEtBQUtteEUsWUFBWSxLQUNWbnhFLEtBQUswekUsZUFBZSxJQUcvQjNDLEVBQWF6NkUsVUFBVTQ4RSxnQ0FBa0MsV0FFckQsT0FEQWx6RSxLQUFLbXhFLFlBQVksS0FDVm54RSxLQUFLMHpFLGVBQWUsSUFHL0IzQyxFQUFhejZFLFVBQVU2OEUsbUJBQXFCLFdBSXhDLE1BQU8sQ0FBRTN5RSxLQUFNLFlBQWE3SyxNQUFPZzlFLEVBRGpCM3lFLEtBQUt3eEUsYUFJM0JULEVBQWF6NkUsVUFBVXE5RSwwQkFBNEIsV0FDL0MsT0FBUTN6RSxLQUFLMHhFLFlBRVQsSUFBSyxLQUVMLElBQUssS0FFTCxJQUFLLFNBRUwsSUFBSyxTQUVMLElBQUssS0FFTCxJQUFLLElBQ0QsTUFBTXA1RSxNQUFNLE9BQ2hCLFFBRUksTUFBTyxDQUFFa0ksS0FBTSxZQUFhN0ssTUFBT2c5RSxFQURwQjN5RSxLQUFLd3hFLGNBS2hDVCxFQUFhejZFLFVBQVVpOEUsZUFBaUIsV0FDcEMsSUFBSW4wRSxFQUFNLEdBQ055QyxHQUFhLEVBT2pCLElBTkFiLEtBQUtteEUsWUFBWSxLQUNRLE1BQXJCbnhFLEtBQUsweEUsU0FBUyxLQUNkMXhFLEtBQUtteEUsWUFBWSxLQUNqQnR3RSxHQUFhLEdBR1ZiLEtBQUs0ekUsZUFBZSxDQUN2QixJQUFJM3lFLEVBQU9qQixLQUFLNnpFLFlBRWhCLEdBRHFDLGNBQWQ1eUUsRUFBS1QsTUFDSlIsS0FBSzh6RSxjQUFlLENBQ3hDOXpFLEtBQUtteEUsWUFBWSxLQUNqQixJQUFJandFLEVBQUtsQixLQUFLNnpFLFlBSWQsR0FIaUMsY0FBWjN5RSxFQUFHVixLQUdKLENBQ2hCLEdBQUlVLEVBQUd2TCxNQUFRc0wsRUFBS3RMLE1BQ2hCLE1BQU0yQyxNQUFNLHlDQUVoQjhGLEVBQUluSCxLQUFLLENBQUVnSyxLQUFNQSxFQUFLdEwsTUFBT3VMLEdBQUlBLEVBQUd2TCxhQUdwQ28rRSxFQUFZOXlFLEVBQUt0TCxNQUFPeUksR0FDeEJBLEVBQUluSCxLQUFLMDdFLEVBQUcsTUFDWm9CLEVBQVk3eUUsRUFBR3ZMLE1BQU95SSxRQUcxQjIxRSxFQUFZOXlFLEVBQUt0TCxNQUFPeUksR0FNaEMsT0FGQTRCLEtBQUtteEUsWUFBWSxLQUVWLENBQUUzd0UsS0FBTSxNQUFPSyxXQUFZQSxFQUFZbEwsTUFBT3lJLElBR3pEMnlFLEVBQWF6NkUsVUFBVXU5RSxVQUFZLFdBQy9CLE9BQVE3ekUsS0FBSzB4RSxZQUVULElBQUssSUFFTCxJQUFLLEtBRUwsSUFBSyxLQUVMLElBQUssU0FFTCxJQUFLLFNBQ0QsTUFBTXA1RSxNQUFNLE9BQ2hCLElBQUssS0FDRCxPQUFPMEgsS0FBS2cwRSxjQUNoQixRQUNJLE9BQU9oMEUsS0FBSzJ6RSw4QkFJeEI1QyxFQUFhejZFLFVBQVUwOUUsWUFBYyxXQUVqQyxPQURBaDBFLEtBQUtteEUsWUFBWSxNQUNUbnhFLEtBQUsweEUsWUFHVCxJQUFLLElBRUQsT0FEQTF4RSxLQUFLbXhFLFlBQVksS0FDVixDQUFFM3dFLEtBQU0sWUFBYTdLLE1BQU9nOUUsRUFBRyxPQUMxQyxJQUFLLElBQ0wsSUFBSyxJQUNMLElBQUssSUFDTCxJQUFLLElBQ0wsSUFBSyxJQUNMLElBQUssSUFDRCxPQUFPM3lFLEtBQUs2eUUsdUJBQ2hCLElBQUssSUFDTCxJQUFLLElBQ0wsSUFBSyxJQUNMLElBQUssSUFDTCxJQUFLLElBQ0QsT0FBTzd5RSxLQUFLOHlFLG9CQUNoQixJQUFLLElBQ0QsT0FBTzl5RSxLQUFLK3lFLDBCQUNoQixJQUFLLElBQ0QsT0FBTy95RSxLQUFLZ3pFLG1CQUNoQixJQUFLLElBQ0QsT0FBT2h6RSxLQUFLaXpFLHdCQUNoQixJQUFLLElBQ0QsT0FBT2p6RSxLQUFLa3pFLGtDQUNoQixRQUNJLE9BQU9sekUsS0FBS216RSx1QkFJeEJwQyxFQUFhejZFLFVBQVVxUixNQUFRLFdBQzNCLElBQUlzc0UsR0FBWSxFQUVoQixPQURBajBFLEtBQUtteEUsWUFBWSxLQUNUbnhFLEtBQUsweEUsU0FBUyxJQUNsQixJQUFLLElBQ0QxeEUsS0FBS214RSxZQUFZLEtBQ2pCbnhFLEtBQUtteEUsWUFBWSxLQUNqQjhDLEdBQVksRUFDWixNQUNKLFFBQ0lqMEUsS0FBS2l4RSxXQUdiLElBQUl0N0UsRUFBUXFLLEtBQUtveEUsY0FDakJweEUsS0FBS214RSxZQUFZLEtBRWpCLElBQUkrQyxFQUFXLENBQ1gxekUsS0FBTSxRQUNOeXpFLFVBQVdBLEVBQ1h0K0UsTUFBT0EsR0FPWCxPQUpJcytFLElBQ0FDLEVBQVM1OEUsSUFBTTBJLEtBQUtpeEUsVUFHakJpRCxHQUdYbkQsRUFBYXo2RSxVQUFVODhFLGdCQUFrQixXQUNyQyxJQUFJL3JCLEVBQVNybkQsS0FBS3d4RSxVQUlsQixJQUEwQyxJQUF0QzJDLEVBQXFCcnFFLEtBQUt1OUMsR0FDMUIsTUFBTS91RCxNQUFNLGdDQUdoQixLQUFPODdFLEVBQWV0cUUsS0FBSzlKLEtBQUsweEUsU0FBUyxLQUNyQ3JxQixHQUFVcm5ELEtBQUt3eEUsVUFHbkIsT0FBT2w0QixTQUFTK04sRUFBUSxLQUc1QjBwQixFQUFhejZFLFVBQVU0N0UscUJBQXVCLFdBQzFDLElBQUk3cUIsRUFBU3JuRCxLQUFLd3hFLFVBQ2xCLElBQW9DLElBQWhDNEMsRUFBZXRxRSxLQUFLdTlDLEdBQ3BCLE1BQU0vdUQsTUFBTSx3QkFHaEIsS0FBTzg3RSxFQUFldHFFLEtBQUs5SixLQUFLMHhFLFNBQVMsS0FDckNycUIsR0FBVXJuRCxLQUFLd3hFLFVBR25CLE9BQU9sNEIsU0FBUytOLEVBQVEsS0FHNUIwcEIsRUFBYXo2RSxVQUFVbThFLGlCQUFtQixXQUN0QyxJQUFJNEIsRUFBV3IwRSxLQUFLd3hFLFVBQ3BCLE9BQVE2QyxHQUVKLElBQUssS0FFTCxJQUFLLEtBRUwsSUFBSyxTQUVMLElBQUssU0FFTCxJQUFLLElBRUwsSUFBSyxJQUVMLElBQUssS0FFTCxJQUFLLElBRUwsSUFBSyxJQUVMLElBQUssSUFFTCxJQUFLLElBRUwsSUFBSyxJQUVMLElBQUssSUFFTCxJQUFLLElBRUwsSUFBSyxJQUVELE1BQU0vN0UsTUFBTSxPQUNoQixRQUNJLE1BQU8sQ0FBRWtJLEtBQU0sWUFBYTdLLE1BQU9nOUUsRUFBRzBCLE1BR2xEdEQsRUFBYXo2RSxVQUFVaTdFLGFBQWUsV0FDbEMsT0FBUXZ4RSxLQUFLMHhFLFNBQVMsSUFDbEIsSUFBSyxJQUNMLElBQUssSUFDTCxJQUFLLElBQ0wsSUFBSyxJQUNMLElBQUssSUFDRCxPQUFPLEVBQ1gsUUFDSSxPQUFPLElBSW5CWCxFQUFhejZFLFVBQVV3OUUsWUFBYyxXQUNqQyxNQUEyQixNQUFwQjl6RSxLQUFLMHhFLFlBQXNCMXhFLEtBQUs0ekUsWUFBWSxJQUd2RDdDLEVBQWF6NkUsVUFBVTY3RSxRQUFVLFdBQzdCLE9BQU9pQyxFQUFldHFFLEtBQUs5SixLQUFLMHhFLFNBQVMsS0FHN0NYLEVBQWF6NkUsVUFBVXM5RSxZQUFjLFNBQVM5NkUsR0FLMUMsWUFKZ0JmLElBQVplLElBQ0FBLEVBQVUsR0FHTmtILEtBQUsweEUsU0FBUzU0RSxJQUNsQixJQUFLLElBQ0wsSUFBSyxLQUNMLElBQUssS0FDTCxJQUFLLFNBQ0wsSUFBSyxTQUNELE9BQU8sRUFDWCxRQUNJLE9BQU8sSUFJbkJpNEUsRUFBYXo2RSxVQUFVcTdFLE9BQVMsV0FDNUIsT0FBTzN4RSxLQUFLczBFLFVBQVl0MEUsS0FBSzR4RSxlQUdqQ2IsRUFBYXo2RSxVQUFVZytFLE9BQVMsV0FDNUIsR0FBSXQwRSxLQUFLd3lFLHFCQUNMLE9BQU8sRUFHWCxPQUFReHlFLEtBQUsweEUsU0FBUyxJQUNsQixJQUFLLElBQ0wsSUFBSyxLQUNMLElBQUssSUFFTCxJQUFLLElBQ0QsT0FBTyxFQUNYLFFBQ0ksT0FBTyxJQUluQlgsRUFBYXo2RSxVQUFVczdFLFlBQWMsV0FDakMsT0FBUTV4RSxLQUFLMHhFLFNBQVMsSUFDbEIsSUFBSyxJQUNMLElBQUssSUFDRCxPQUFPLEVBRVgsSUFBSyxLQUNELE9BQVExeEUsS0FBSzB4RSxTQUFTLElBQ2xCLElBQUssSUFDTCxJQUFLLElBQ0QsT0FBTyxFQUNYLFFBQ0ksT0FBTyxFQUduQixJQUFLLElBQ0QsTUFDeUIsTUFBckIxeEUsS0FBSzB4RSxTQUFTLEtBQ1EsTUFBckIxeEUsS0FBSzB4RSxTQUFTLElBQW1DLE1BQXJCMXhFLEtBQUsweEUsU0FBUyxJQUVuRCxRQUNJLE9BQU8sSUFJbkJYLEVBQWF6NkUsVUFBVW84RSxhQUFlLFdBQ2xDLElBQUk2QixFQUFZdjBFLEtBQUtneEUsWUFDckIsSUFDSSxZQUFpQ2o1RSxJQUExQmlJLEtBQUsyQixZQUFXLEdBQ3pCLE1BQU9JLEdBQ0wsT0FBTyxFQUNULFFBQ0UvQixLQUFLa3hFLGFBQWFxRCxLQUkxQnhELEVBQWF6NkUsVUFBVWs4RSxtQkFBcUIsV0FDeEMsT0FBUXh5RSxLQUFLMHhFLFlBQ1QsSUFBSyxJQUNMLElBQUssSUFDTCxJQUFLLEtBQ0wsSUFBSyxJQUNMLElBQUssSUFDTCxJQUFLLElBQ0wsSUFBSyxJQUNMLElBQUssSUFDTCxJQUFLLElBQ0wsSUFBSyxJQUNMLElBQUssSUFDTCxJQUFLLElBQ0wsSUFBSyxLQUNMLElBQUssS0FDTCxJQUFLLFNBQ0wsSUFBSyxTQUNELE9BQU8sRUFDWCxRQUNJLE9BQU8sSUFJbkJYLEVBQWF6NkUsVUFBVW85RSxlQUFpQixTQUFTYyxHQUU3QyxJQURBLElBQUlDLEVBQVksR0FDUC8vRSxFQUFJLEVBQUdBLEVBQUk4L0UsRUFBUzkvRSxJQUFLLENBQzlCLElBQUlnZ0YsRUFBVTEwRSxLQUFLd3hFLFVBQ25CLElBQXNDLElBQWxDbUQsRUFBZ0I3cUUsS0FBSzRxRSxHQUNyQixNQUFNcDhFLE1BQU0saUNBRWhCbThFLEdBQWFDLEVBR2pCLE1BQU8sQ0FBRWwwRSxLQUFNLFlBQWE3SyxNQURiMmpELFNBQVNtN0IsRUFBVyxNQUl2QzFELEVBQWF6NkUsVUFBVW83RSxTQUFXLFNBQVM1NEUsR0FJdkMsWUFIZ0JmLElBQVplLElBQ0FBLEVBQVUsR0FFUGtILEtBQUsrbkQsTUFBTS9uRCxLQUFLMUksSUFBTXdCLElBR2pDaTRFLEVBQWF6NkUsVUFBVWs3RSxRQUFVLFdBQzdCLElBQUk2QyxFQUFXcjBFLEtBQUsweEUsU0FBUyxHQUU3QixPQURBMXhFLEtBQUtteEUsY0FDRWtELEdBR1h0RCxFQUFhejZFLFVBQVU2NkUsWUFBYyxTQUFTaHZFLEdBQzFDLFFBQWFwSyxJQUFUb0ssR0FBc0JuQyxLQUFLK25ELE1BQU0vbkQsS0FBSzFJLE9BQVM2SyxFQUMvQyxNQUFNN0osTUFDRixjQUNJNkosRUFDQSxpQkFDQW5DLEtBQUsrbkQsTUFBTS9uRCxLQUFLMUksS0FDaEIsZ0JBQ0EwSSxLQUFLMUksS0FJakIsR0FBSTBJLEtBQUsxSSxLQUFPMEksS0FBSytuRCxNQUFNbnhELE9BQ3ZCLE1BQU0wQixNQUFNLDJCQUVoQjBILEtBQUsxSSxPQUdUeTVFLEVBQWF6NkUsVUFBVXdwQyxJQUFNLFNBQVN1eEMsR0FDbEMsTUFBTyxDQUFFQSxNQUFPQSxFQUFPMWUsSUFBSzN5RCxLQUFLMUksTUFJckMsSUFzQ0k1QyxFQXRDQWlnRixFQUFrQixjQUNsQlAsRUFBaUIsUUFDakJELEVBQXVCLFFBRTNCLFNBQVN4QixFQUFHeHdFLEdBQ1IsT0FBT0EsRUFBS0ssV0FBVyxHQUczQixTQUFTdXhFLEVBQVl0N0UsRUFBTTJGLFFBQ0hyRyxJQUFoQlUsRUFBSzdCLE9BQ0w2QixFQUFLUCxTQUFRLFNBQVMwOEUsR0FDbEJ4MkUsRUFBSW5ILEtBQUsyOUUsTUFHYngyRSxFQUFJbkgsS0FBS3dCLEdBSWpCLFNBQVNnNUUsRUFBUW9ELEVBQVNDLEdBQ3RCLElBQXlCLElBQXJCRCxFQUFRQyxHQUNSLEtBQU0sa0JBQW9CQSxFQUc5QkQsRUFBUUMsSUFBVyxFQUd2QixTQUFTaEQsRUFBY2g3RSxHQUVuQixRQUFZaUIsSUFBUmpCLEVBQ0EsTUFBTXdCLE1BQU0sMkNBVXBCLElBQUkrNkUsRUFBa0IsR0FDdEIsSUFBSzMrRSxFQUFJaStFLEVBQUcsS0FBTWorRSxHQUFLaStFLEVBQUcsS0FBTWorRSxJQUM1QjIrRSxFQUFnQnA4RSxLQUFLdkMsR0FHekIsSUFBSTYrRSxFQUFnQixDQUFDWixFQUFHLE1BQU05NkUsT0FBT3c3RSxHQUNyQyxJQUFLMytFLEVBQUlpK0UsRUFBRyxLQUFNaitFLEdBQUtpK0UsRUFBRyxLQUFNaitFLElBQzVCNitFLEVBQWN0OEUsS0FBS3ZDLEdBR3ZCLElBQUtBLEVBQUlpK0UsRUFBRyxLQUFNaitFLEdBQUtpK0UsRUFBRyxLQUFNaitFLElBQzVCNitFLEVBQWN0OEUsS0FBS3ZDLEdBSXZCLElBQUk0K0UsRUFBa0IsQ0FDbEJYLEVBQUcsS0FDSEEsRUFBRyxNQUNIQSxFQUFHLE1BQ0hBLEVBQUcsTUFDSEEsRUFBRyxNQUNIQSxFQUFHLE1BQ0hBLEVBQUcsTUFDSEEsRUFBRyxLQUNIQSxFQUFHLEtBQ0hBLEVBQUcsS0FDSEEsRUFBRyxLQUNIQSxFQUFHLEtBQ0hBLEVBQUcsS0FDSEEsRUFBRyxLQUNIQSxFQUFHLEtBQ0hBLEVBQUcsS0FDSEEsRUFBRyxLQUNIQSxFQUFHLEtBQ0hBLEVBQUcsS0FDSEEsRUFBRyxLQUNIQSxFQUFHLFVBQ0hBLEVBQUcsVUFDSEEsRUFBRyxLQUNIQSxFQUFHLEtBQ0hBLEVBQUcsS0FDSEEsRUFBRyxXQUdQLFNBQVNvQyxLQXNHVCxPQXBHQUEsRUFBa0J6K0UsVUFBVStNLGNBQWdCLFNBQVNDLEdBQ2pELElBQUssSUFBSXJOLEtBQU9xTixFQUFNLENBQ2xCLElBQUkweEUsRUFBUTF4RSxFQUFLck4sR0FFYnFOLEVBQUsvTSxlQUFlTixVQUNEOEIsSUFBZmk5RSxFQUFNeDBFLEtBQ05SLEtBQUs4RCxNQUFNa3hFLEdBQ0pyOUUsTUFBTUMsUUFBUW85RSxJQUNyQkEsRUFBTTk4RSxTQUFRLFNBQVMrOEUsR0FDbkJqMUUsS0FBSzhELE1BQU1teEUsS0FDWmoxRSxTQU1uQiswRSxFQUFrQnorRSxVQUFVd04sTUFBUSxTQUFTUixHQUN6QyxPQUFRQSxFQUFLOUMsTUFDVCxJQUFLLFVBQ0RSLEtBQUtrMUUsYUFBYTV4RSxHQUNsQixNQUNKLElBQUssUUFDRHRELEtBQUttMUUsV0FBVzd4RSxHQUNoQixNQUNKLElBQUssY0FDRHRELEtBQUtvMUUsaUJBQWlCOXhFLEdBQ3RCLE1BQ0osSUFBSyxjQUNEdEQsS0FBS3FkLGlCQUFpQi9aLEdBQ3RCLE1BQ0osSUFBSyxjQUNEdEQsS0FBS2tLLGlCQUFpQjVHLEdBQ3RCLE1BQ0osSUFBSyxZQUNEdEQsS0FBS3lKLGVBQWVuRyxHQUNwQixNQUNKLElBQUssZUFDRHRELEtBQUtxMUUsa0JBQWtCL3hFLEdBQ3ZCLE1BQ0osSUFBSyxrQkFDRHRELEtBQUtzMUUscUJBQXFCaHlFLEdBQzFCLE1BQ0osSUFBSyxZQUNEdEQsS0FBS3VELGVBQWVELEdBQ3BCLE1BQ0osSUFBSyxvQkFDRHRELEtBQUt3RCx1QkFBdUJGLEdBQzVCLE1BQ0osSUFBSyxZQUNEdEQsS0FBS3lELGVBQWVILEdBQ3BCLE1BQ0osSUFBSyxNQUNEdEQsS0FBSzBELFNBQVNKLEdBQ2QsTUFDSixJQUFLLFFBQ0R0RCxLQUFLdTFFLFdBQVdqeUUsR0FDaEIsTUFDSixJQUFLLHFCQUNEdEQsS0FBS3cxRSx3QkFBd0JseUUsR0FDN0IsTUFDSixJQUFLLGFBQ0R0RCxLQUFLeTFFLGdCQUFnQm55RSxHQUk3QnRELEtBQUtxRCxjQUFjQyxJQUd2Qnl4RSxFQUFrQnorRSxVQUFVNCtFLGFBQWUsU0FBUzV4RSxLQUVwRHl4RSxFQUFrQnorRSxVQUFVNitFLFdBQWEsU0FBUzd4RSxLQUVsRHl4RSxFQUFrQnorRSxVQUFVOCtFLGlCQUFtQixTQUFTOXhFLEtBRXhEeXhFLEVBQWtCeitFLFVBQVUrbUIsaUJBQW1CLFNBQVMvWixLQUd4RHl4RSxFQUFrQnorRSxVQUFVNFQsaUJBQW1CLFNBQVM1RyxLQUV4RHl4RSxFQUFrQnorRSxVQUFVbVQsZUFBaUIsU0FBU25HLEtBRXREeXhFLEVBQWtCeitFLFVBQVUrK0Usa0JBQW9CLFNBQVMveEUsS0FFekR5eEUsRUFBa0J6K0UsVUFBVWcvRSxxQkFBdUIsU0FBU2h5RSxLQUU1RHl4RSxFQUFrQnorRSxVQUFVaU4sZUFBaUIsU0FBU0QsS0FFdER5eEUsRUFBa0J6K0UsVUFBVWtOLHVCQUF5QixTQUFTRixLQUc5RHl4RSxFQUFrQnorRSxVQUFVbU4sZUFBaUIsU0FBU0gsS0FFdER5eEUsRUFBa0J6K0UsVUFBVW9OLFNBQVcsU0FBU0osS0FFaER5eEUsRUFBa0J6K0UsVUFBVWkvRSxXQUFhLFNBQVNqeUUsS0FFbER5eEUsRUFBa0J6K0UsVUFBVWsvRSx3QkFBMEIsU0FBU2x5RSxLQUUvRHl4RSxFQUFrQnorRSxVQUFVbS9FLGdCQUFrQixTQUFTbnlFLEtBRWhELENBQ0h5dEUsYUFBY0EsRUFDZGdFLGtCQUFtQkEsRUFDbkI3MUUsUUFBUyxXQXArQkssZ0MsY0NKMUIsSUFBSXcyRSxFQUdKQSxFQUFJLFdBQ0gsT0FBTzExRSxLQURKLEdBSUosSUFFQzAxRSxFQUFJQSxHQUFLLElBQUk5OEUsU0FBUyxjQUFiLEdBQ1IsTUFBT21KLEdBRWMsaUJBQVg0ekUsU0FBcUJELEVBQUlDLFFBT3JDbGhGLEVBQU9ELFFBQVVraEYsRyxjQ25CakJqaEYsRUFBT0QsUUFBVSxTQUFTQyxHQW9CekIsT0FuQktBLEVBQU9taEYsa0JBQ1huaEYsRUFBT29oRixVQUFZLGFBQ25CcGhGLEVBQU8weUQsTUFBUSxHQUVWMXlELEVBQU8wb0MsV0FBVTFvQyxFQUFPMG9DLFNBQVcsSUFDeEMvbkMsT0FBT0MsZUFBZVosRUFBUSxTQUFVLENBQ3ZDYSxZQUFZLEVBQ1pDLElBQUssV0FDSixPQUFPZCxFQUFPRSxLQUdoQlMsT0FBT0MsZUFBZVosRUFBUSxLQUFNLENBQ25DYSxZQUFZLEVBQ1pDLElBQUssV0FDSixPQUFPZCxFQUFPQyxLQUdoQkQsRUFBT21oRixnQkFBa0IsR0FFbkJuaEYsSSxnQkNwQlIsSUFBSXFoRixFQUFNLEVBQVEsR0FDRkMsRUFBVSxFQUFRLEdBSUMsaUJBRnZCQSxFQUFVQSxFQUFRamdGLFdBQWFpZ0YsRUFBUUMsUUFBVUQsS0FHL0NBLEVBQVUsQ0FBQyxDQUFDdGhGLEVBQU9DLEVBQUlxaEYsRUFBUyxNQUc5QyxJQUFJM3hFLEVBQVUsQ0FFZCxPQUFpQixPQUNqQixXQUFvQixHQUVQMHhFLEVBQUlDLEVBQVMzeEUsR0FJMUIzUCxFQUFPRCxRQUFVdWhGLEVBQVFFLFFBQVUsSSw2QkNoQm5DLElBQ01DLEVBREZDLEVBRUssV0FVTCxZQVRvQixJQUFURCxJQU1UQSxFQUFPRSxRQUFRVCxRQUFVVSxVQUFZQSxTQUFTQyxNQUFRWCxPQUFPWSxPQUd4REwsR0FJUE0sRUFBWSxXQUNkLElBQUlOLEVBQU8sR0FDWCxPQUFPLFNBQWtCbjZFLEdBQ3ZCLFFBQTRCLElBQWpCbTZFLEVBQUtuNkUsR0FBeUIsQ0FDdkMsSUFBSTA2RSxFQUFjSixTQUFTSyxjQUFjMzZFLEdBRXpDLEdBQUk0NUUsT0FBT2dCLG1CQUFxQkYsYUFBdUJkLE9BQU9nQixrQkFDNUQsSUFHRUYsRUFBY0EsRUFBWUcsZ0JBQWdCaFosS0FDMUMsTUFBTzc3RCxHQUVQMDBFLEVBQWMsS0FJbEJQLEVBQUtuNkUsR0FBVTA2RSxFQUdqQixPQUFPUCxFQUFLbjZFLElBcEJBLEdBd0JaODZFLEVBQWMsR0FFbEIsU0FBU0MsRUFBcUJDLEdBRzVCLElBRkEsSUFBSTMvRSxHQUFVLEVBRUwxQyxFQUFJLEVBQUdBLEVBQUltaUYsRUFBWWpnRixPQUFRbEMsSUFDdEMsR0FBSW1pRixFQUFZbmlGLEdBQUdxaUYsYUFBZUEsRUFBWSxDQUM1QzMvRSxFQUFTMUMsRUFDVCxNQUlKLE9BQU8wQyxFQUdULFNBQVM0L0UsRUFBYUMsRUFBTTd5RSxHQUkxQixJQUhBLElBQUk4eUUsRUFBYSxHQUNiQyxFQUFjLEdBRVR6aUYsRUFBSSxFQUFHQSxFQUFJdWlGLEVBQUtyZ0YsT0FBUWxDLElBQUssQ0FDcEMsSUFBSStELEVBQU93K0UsRUFBS3ZpRixHQUNad2dFLEVBQUs5d0QsRUFBUWd6RSxLQUFPMytFLEVBQUssR0FBSzJMLEVBQVFnekUsS0FBTzMrRSxFQUFLLEdBQ2xEcWtFLEVBQVFvYSxFQUFXaGlCLElBQU8sRUFDMUI2aEIsRUFBYSxHQUFHbC9FLE9BQU9xOUQsRUFBSSxLQUFLcjlELE9BQU9pbEUsR0FDM0NvYSxFQUFXaGlCLEdBQU00SCxFQUFRLEVBQ3pCLElBQUl4d0QsRUFBUXdxRSxFQUFxQkMsR0FDN0JqZ0YsRUFBTSxDQUNSbzdDLElBQUt6NUMsRUFBSyxHQUNWNCtFLE1BQU81K0UsRUFBSyxHQUNaNitFLFVBQVc3K0UsRUFBSyxLQUdILElBQVg2VCxHQUNGdXFFLEVBQVl2cUUsR0FBT2lyRSxhQUNuQlYsRUFBWXZxRSxHQUFPOG5ELFFBQVF0OUQsSUFFM0IrL0UsRUFBWTUvRSxLQUFLLENBQ2Y4L0UsV0FBWUEsRUFDWjNpQixRQUFTb2pCLEVBQVMxZ0YsRUFBS3NOLEdBQ3ZCbXpFLFdBQVksSUFJaEJKLEVBQVlsZ0YsS0FBSzgvRSxHQUduQixPQUFPSSxFQUdULFNBQVNNLEVBQW1CcnpFLEdBQzFCLElBQUlzekUsRUFBUXJCLFNBQVNzQixjQUFjLFNBQy9CQyxFQUFheHpFLEVBQVF3ekUsWUFBYyxHQUV2QyxRQUFnQyxJQUFyQkEsRUFBV0MsTUFBdUIsQ0FDM0MsSUFBSUEsRUFBbUQsS0FFbkRBLElBQ0ZELEVBQVdDLE1BQVFBLEdBUXZCLEdBSkF6aUYsT0FBT3lCLEtBQUsrZ0YsR0FBWTEvRSxTQUFRLFNBQVVqQyxHQUN4Q3loRixFQUFNSSxhQUFhN2hGLEVBQUsyaEYsRUFBVzNoRixPQUdQLG1CQUFuQm1PLEVBQVEyekUsT0FDakIzekUsRUFBUTJ6RSxPQUFPTCxPQUNWLENBQ0wsSUFBSTM3RSxFQUFTeTZFLEVBQVVweUUsRUFBUTJ6RSxRQUFVLFFBRXpDLElBQUtoOEUsRUFDSCxNQUFNLElBQUl6RCxNQUFNLDJHQUdsQnlELEVBQU9pOEUsWUFBWU4sR0FHckIsT0FBT0EsRUFjVCxJQUNNTyxFQURGQyxHQUNFRCxFQUFZLEdBQ1QsU0FBaUIzckUsRUFBTzZyRSxHQUU3QixPQURBRixFQUFVM3JFLEdBQVM2ckUsRUFDWkYsRUFBVWgvRSxPQUFPbTlFLFNBQVNqckUsS0FBSyxRQUkxQyxTQUFTaXRFLEVBQW9CVixFQUFPcHJFLEVBQU8wN0QsRUFBUWx4RSxHQUNqRCxJQUFJbzdDLEVBQU04MUIsRUFBUyxHQUFLbHhFLEVBQUl1Z0YsTUFBUSxVQUFVeC9FLE9BQU9mLEVBQUl1Z0YsTUFBTyxNQUFNeC9FLE9BQU9mLEVBQUlvN0MsSUFBSyxLQUFPcDdDLEVBQUlvN0MsSUFJakcsR0FBSXdsQyxFQUFNVyxXQUNSWCxFQUFNVyxXQUFXQyxRQUFVSixFQUFZNXJFLEVBQU80bEMsT0FDekMsQ0FDTCxJQUFJcW1DLEVBQVVsQyxTQUFTbUMsZUFBZXRtQyxHQUNsQ3VtQyxFQUFhZixFQUFNZSxXQUVuQkEsRUFBV25zRSxJQUNib3JFLEVBQU1nQixZQUFZRCxFQUFXbnNFLElBRzNCbXNFLEVBQVc3aEYsT0FDYjhnRixFQUFNaUIsYUFBYUosRUFBU0UsRUFBV25zRSxJQUV2Q29yRSxFQUFNTSxZQUFZTyxJQUt4QixTQUFTSyxFQUFXbEIsRUFBT3R6RSxFQUFTdE4sR0FDbEMsSUFBSW83QyxFQUFNcDdDLEVBQUlvN0MsSUFDVm1sQyxFQUFRdmdGLEVBQUl1Z0YsTUFDWkMsRUFBWXhnRixFQUFJd2dGLFVBZXBCLEdBYklELEVBQ0ZLLEVBQU1JLGFBQWEsUUFBU1QsR0FFNUJLLEVBQU1tQixnQkFBZ0IsU0FHcEJ2QixHQUFhd0IsT0FDZjVtQyxHQUFPLHVEQUF1RHI2QyxPQUFPaWhGLEtBQUsxSixTQUFTMkosbUJBQW1CdHBDLEtBQUtDLFVBQVU0bkMsTUFBZSxRQU1sSUksRUFBTVcsV0FDUlgsRUFBTVcsV0FBV0MsUUFBVXBtQyxNQUN0QixDQUNMLEtBQU93bEMsRUFBTXNCLFlBQ1h0QixFQUFNZ0IsWUFBWWhCLEVBQU1zQixZQUcxQnRCLEVBQU1NLFlBQVkzQixTQUFTbUMsZUFBZXRtQyxLQUk5QyxJQUFJK21DLEVBQVksS0FDWkMsRUFBbUIsRUFFdkIsU0FBUzFCLEVBQVMxZ0YsRUFBS3NOLEdBQ3JCLElBQUlzekUsRUFDQXJPLEVBQ0FyQixFQUVKLEdBQUk1akUsRUFBUTYwRSxVQUFXLENBQ3JCLElBQUlFLEVBQWFELElBQ2pCeEIsRUFBUXVCLElBQWNBLEVBQVl4QixFQUFtQnJ6RSxJQUNyRGlsRSxFQUFTK08sRUFBb0JsaUYsS0FBSyxLQUFNd2hGLEVBQU95QixHQUFZLEdBQzNEblIsRUFBU29RLEVBQW9CbGlGLEtBQUssS0FBTXdoRixFQUFPeUIsR0FBWSxRQUUzRHpCLEVBQVFELEVBQW1CcnpFLEdBQzNCaWxFLEVBQVN1UCxFQUFXMWlGLEtBQUssS0FBTXdoRixFQUFPdHpFLEdBRXRDNGpFLEVBQVMsWUF4RmIsU0FBNEIwUCxHQUUxQixHQUF5QixPQUFyQkEsRUFBTTBCLFdBQ1IsT0FBTyxFQUdUMUIsRUFBTTBCLFdBQVdWLFlBQVloQixHQW1GekIyQixDQUFtQjNCLElBS3ZCLE9BREFyTyxFQUFPdnlFLEdBQ0EsU0FBcUJ3aUYsR0FDMUIsR0FBSUEsRUFBUSxDQUNWLEdBQUlBLEVBQU9wbkMsTUFBUXA3QyxFQUFJbzdDLEtBQU9vbkMsRUFBT2pDLFFBQVV2Z0YsRUFBSXVnRixPQUFTaUMsRUFBT2hDLFlBQWN4Z0YsRUFBSXdnRixVQUNuRixPQUdGak8sRUFBT3Z5RSxFQUFNd2lGLFFBRWJ0UixLQUtOdnpFLEVBQU9ELFFBQVUsU0FBVXlpRixFQUFNN3lFLElBQy9CQSxFQUFVQSxHQUFXLElBR1I2MEUsV0FBMEMsa0JBQXRCNzBFLEVBQVE2MEUsWUFDdkM3MEUsRUFBUTYwRSxVQUFZOUMsS0FJdEIsSUFBSW9ELEVBQWtCdkMsRUFEdEJDLEVBQU9BLEdBQVEsR0FDMEI3eUUsR0FDekMsT0FBTyxTQUFnQm8xRSxHQUdyQixHQUZBQSxFQUFVQSxHQUFXLEdBRTJCLG1CQUE1Q3BrRixPQUFPa0IsVUFBVWtKLFNBQVMzSyxLQUFLMmtGLEdBQW5DLENBSUEsSUFBSyxJQUFJOWtGLEVBQUksRUFBR0EsRUFBSTZrRixFQUFnQjNpRixPQUFRbEMsSUFBSyxDQUMvQyxJQUNJNFgsRUFBUXdxRSxFQURLeUMsRUFBZ0I3a0YsSUFFakNtaUYsRUFBWXZxRSxHQUFPaXJFLGFBS3JCLElBRkEsSUFBSWtDLEVBQXFCekMsRUFBYXdDLEVBQVNwMUUsR0FFdEN2SixFQUFLLEVBQUdBLEVBQUswK0UsRUFBZ0IzaUYsT0FBUWlFLElBQU0sQ0FDbEQsSUFFSTYrRSxFQUFTNUMsRUFGS3lDLEVBQWdCMStFLElBSUssSUFBbkNnOEUsRUFBWTZDLEdBQVFuQyxhQUN0QlYsRUFBWTZDLEdBQVF0bEIsVUFFcEJ5aUIsRUFBWW4yQixPQUFPZzVCLEVBQVEsSUFJL0JILEVBQWtCRSxNLGlCQ3hRdEJqbEYsRUFEa0MsRUFBUSxFQUNoQ21sRixFQUE0QixJQUU5QjFpRixLQUFLLENBQUN4QyxFQUFPQyxFQUFJLHVWQUF3VixLQUVqWEQsRUFBT0QsUUFBVUEsRyw2QkNFakJDLEVBQU9ELFFBQVUsU0FBVW9sRixHQUN6QixJQUFJM0MsRUFBTyxHQXVEWCxPQXJEQUEsRUFBS3ozRSxTQUFXLFdBQ2QsT0FBT1EsS0FBS3hJLEtBQUksU0FBVWlCLEdBQ3hCLElBQUlzOUUsRUFzRFYsU0FBZ0N0OUUsRUFBTW1oRixHQUNwQyxJQUFJN0QsRUFBVXQ5RSxFQUFLLElBQU0sR0FFckJvaEYsRUFBYXBoRixFQUFLLEdBRXRCLElBQUtvaEYsRUFDSCxPQUFPOUQsRUFHVCxHQUFJNkQsR0FBZ0MsbUJBQVRkLEtBQXFCLENBQzlDLElBQUlnQixHQVdXeEMsRUFYZXVDLEVBYTVCRSxFQUFTakIsS0FBSzFKLFNBQVMySixtQkFBbUJ0cEMsS0FBS0MsVUFBVTRuQyxNQUN6RDl4QixFQUFPLCtEQUErRDN0RCxPQUFPa2lGLEdBQzFFLE9BQU9saUYsT0FBTzJ0RCxFQUFNLFFBZHJCdzBCLEVBQWFILEVBQVc3OUUsUUFBUXhFLEtBQUksU0FBVXVPLEdBQ2hELE1BQU8saUJBQWlCbE8sT0FBT2dpRixFQUFXSSxZQUFjLElBQUlwaUYsT0FBT2tPLEVBQVEsVUFFN0UsTUFBTyxDQUFDZ3dFLEdBQVNsK0UsT0FBT21pRixHQUFZbmlGLE9BQU8sQ0FBQ2lpRixJQUFnQjN1RSxLQUFLLE1BT3JFLElBQW1CbXNFLEVBRWJ5QyxFQUNBdjBCLEVBUEosTUFBTyxDQUFDdXdCLEdBQVM1cUUsS0FBSyxNQXZFSit1RSxDQUF1QnpoRixFQUFNbWhGLEdBRTNDLE9BQUluaEYsRUFBSyxHQUNBLFVBQVVaLE9BQU9ZLEVBQUssR0FBSSxNQUFNWixPQUFPaytFLEVBQVMsS0FHbERBLEtBQ041cUUsS0FBSyxLQUtWOHJFLEVBQUt2aUYsRUFBSSxTQUFVRSxFQUFTdWxGLEVBQVlDLEdBQ2YsaUJBQVp4bEYsSUFFVEEsRUFBVSxDQUFDLENBQUMsS0FBTUEsRUFBUyxNQUc3QixJQUFJeWxGLEVBQXlCLEdBRTdCLEdBQUlELEVBQ0YsSUFBSyxJQUFJMWxGLEVBQUksRUFBR0EsRUFBSXNMLEtBQUtwSixPQUFRbEMsSUFBSyxDQUVwQyxJQUFJd2dFLEVBQUtsMUQsS0FBS3RMLEdBQUcsR0FFUCxNQUFOd2dFLElBQ0ZtbEIsRUFBdUJubEIsSUFBTSxHQUtuQyxJQUFLLElBQUlyNkQsRUFBSyxFQUFHQSxFQUFLakcsRUFBUWdDLE9BQVFpRSxJQUFNLENBQzFDLElBQUlwQyxFQUFPLEdBQUdaLE9BQU9qRCxFQUFRaUcsSUFFekJ1L0UsR0FBVUMsRUFBdUI1aEYsRUFBSyxNQUt0QzBoRixJQUNHMWhGLEVBQUssR0FHUkEsRUFBSyxHQUFLLEdBQUdaLE9BQU9zaUYsRUFBWSxTQUFTdGlGLE9BQU9ZLEVBQUssSUFGckRBLEVBQUssR0FBSzBoRixHQU1kbEQsRUFBS2hnRixLQUFLd0IsTUFJUHcrRSxJLHNFQzlEVCxNQUFNcUQsRUFBYSxzQkFBWSxDQUFFcmxGLEtBQU0sYUFBY3lLLFFBQVMsTUFBT2lJLE1BQU8sUUFBTWpCLFVBQ3JFNnpFLEVBQU0sc0JBQVksQ0FBRXRsRixLQUFNLE1BQU95SyxRQUFTLFFBQzFDODZFLEVBQVEsc0JBQVksQ0FBRXZsRixLQUFNLFFBQVN5SyxRQUFTLFVBQzlDKzZFLEVBQVUsc0JBQVksQ0FBRXhsRixLQUFNLFVBQVd5SyxRQUFTLFlBQ2xEZzdFLEVBQWEsc0JBQVksQ0FBRXpsRixLQUFNLGFBQWN5SyxRQUFTLGdCQUN4RGk3RSxFQUFVLHNCQUFZLENBQUUxbEYsS0FBTSxVQUFXeUssUUFBUyxzREFDbERrN0UsRUFBVSxzQkFBWSxDQUFFM2xGLEtBQU0sVUFBV3lLLFFBQVMsZUFFbERtN0UsRUFBa0Isc0JBQVksQ0FBRTVsRixLQUFNLGtCQUFtQnlLLFFBQVMsT0FDbEVvN0UsRUFBbUIsc0JBQVksQ0FBRTdsRixLQUFNLG1CQUFvQnlLLFFBQVMsT0FDcEVxN0UsRUFBWSxzQkFBWSxDQUFFOWxGLEtBQU0sWUFBYXlLLFFBQVMsTUFDdERzN0UsRUFBYSxzQkFBWSxDQUFFL2xGLEtBQU0sYUFBY3lLLFFBQVMsTUFDeER1N0UsRUFBUSxzQkFBWSxDQUFFaG1GLEtBQU0sUUFBU3lLLFFBQVMsTUFDOUN3N0UsRUFBWSxzQkFBWSxDQUFFam1GLEtBQU0sWUFBYXlLLFFBQVMsTUFDdER5N0UsRUFBUyxzQkFBWSxDQUFFbG1GLEtBQU0sU0FBVXlLLFFBQVMsTUFDaEQwN0UsRUFBYSxzQkFBWSxDQUFFbm1GLEtBQU0sYUFBY3lLLFFBQVMsUUFBTXNGLEtBQzlEcTJFLEVBQW1CLHNCQUFZLENBQUVwbUYsS0FBTSxtQkFBb0J5SyxRQUFTLFFBQU1zRixLQUMxRXMyRSxFQUFPLHNCQUFZLENBQUVybUYsS0FBTSxPQUFReUssUUFBUyxLQUFNcVAsV0FBWXFzRSxJQUM5REcsRUFBUSxzQkFBWSxDQUFFdG1GLEtBQU0sUUFBU3lLLFFBQVMsSUFBS3FQLFdBQVlxc0UsSUFDL0RJLEVBQU0sc0JBQVksQ0FBRXZtRixLQUFNLE1BQU95SyxRQUFTLEtBQU1xUCxXQUFZc3NFLElBQzVESSxFQUFPLHNCQUFZLENBQUV4bUYsS0FBTSxPQUFReUssUUFBUyxLQUFNcVAsV0FBWXNzRSxJQUU5REssRUFBYSxDQUN4QnBCLEVBRUFDLEVBQ0FFLEVBQ0FELEVBRUFFLEVBQ0FDLEVBQ0FDLEVBRUFDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBRUFDLEVBQ0FHLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FMLEVBQ0FDLEdBR1dNLEVBQVcsSUFBSSxRQUFNRCxHQzdDbEMsTUFBTSxVQUFrQixZQUN0QixjQUNFRSxNQUFNRixHQUVOLE1BQU1HLEVBQUk3N0UsS0FHVjY3RSxFQUFFbjBDLEtBQUssVUFBVyxLQUNoQm0wQyxFQUFFMTRDLFFBQVEwNEMsRUFBRWpYLFVBSWRpWCxFQUFFbjBDLEtBQUssU0FBVSxLQUNmbTBDLEVBQUVwNUMsUUFBUWk0QyxHQUNWbUIsRUFBRXA1QyxRQUFRbzRDLEdBQ1ZnQixFQUFFaDRDLFFBQVEsS0FDUmc0QyxFQUFFMTRDLFFBQVEwNEMsRUFBRUMsYUFFZEQsRUFBRXA1QyxRQUFRcTRDLEdBQ1ZlLEVBQUVwNUMsUUFBUXM0QyxHQUNWYyxFQUFFLzNDLFFBQVEsS0FDUiszQyxFQUFFMTRDLFFBQVEwNEMsRUFBRUUsZUFFZEYsRUFBRTcyQyxLQUFLLEtBQ0w2MkMsRUFBRTE0QyxRQUFRMDRDLEVBQUVHLGFBRWRILEVBQUVwNUMsUUFBUXU0QyxLQUlaYSxFQUFFbjBDLEtBQUssWUFBYSxLQUNsQm0wQyxFQUFFbjJDLFNBQVMsQ0FDVGlGLElBQUtzd0MsRUFDTC93QyxJQUFLLEtBQ0gyeEMsRUFBRXA1QyxRQUFRaTRDLFFBTWhCbUIsRUFBRW4wQyxLQUFLLGNBQWUsS0FDcEJtMEMsRUFBRXA1QyxRQUFRODNDLEdBQ1ZzQixFQUFFMTRDLFFBQVEwNEMsRUFBRUMsV0FDWkQsRUFBRXA1QyxRQUFReTRDLEtBSVpXLEVBQUVuMEMsS0FBSyxZQUFhLEtBQ2xCbTBDLEVBQUV2M0MsR0FBRyxDQUNILENBQUUrRyxJQUFLLElBQU13d0MsRUFBRTE0QyxRQUFRMDRDLEVBQUVJLGFBQ3pCLENBQUU1d0MsSUFBSyxJQUFNd3dDLEVBQUUxNEMsUUFBUTA0QyxFQUFFSyxnQkFLN0JMLEVBQUVuMEMsS0FBSyxhQUFjLEtBQ25CbTBDLEVBQUUxNEMsUUFBUTA0QyxFQUFFck4sVUFDWnFOLEVBQUVwNUMsUUFBUTA0QyxHQUNWVSxFQUFFMTRDLFFBQVEwNEMsRUFBRU0sWUFDWk4sRUFBRXA1QyxRQUFReTRDLEtBS1pXLEVBQUVuMEMsS0FBSyxhQUFjLEtBQ25CbTBDLEVBQUVqekQsT0FBTyxLQUNQaXpELEVBQUVwNUMsUUFBUTg0QyxLQUVaTSxFQUFFMTRDLFFBQVEwNEMsRUFBRU8sc0JBR2RQLEVBQUVuMEMsS0FBSyxxQkFBc0IsS0FDM0JtMEMsRUFBRXo0QyxTQUFTeTRDLEVBQUVRLHlCQUEwQixDQUFFdGpFLE1BQU8sUUFDaEQ4aUUsRUFBRTcyQyxLQUFLLEtBQ0w2MkMsRUFBRXA1QyxRQUFRMjRDLEdBQ1ZTLEVBQUV4NEMsU0FBU3c0QyxFQUFFUSx5QkFBMEIsQ0FBRXRqRSxNQUFPLFlBSXBEOGlFLEVBQUVuMEMsS0FBSywyQkFBNEIsS0FDakNtMEMsRUFBRXo0QyxTQUFTeTRDLEVBQUVTLE9BQVEsQ0FBRXZqRSxNQUFPLFFBQzlCOGlFLEVBQUU3MkMsS0FBSyxLQUNMNjJDLEVBQUVwNUMsUUFBUTQ0QyxHQUNWUSxFQUFFeDRDLFNBQVN3NEMsRUFBRVMsT0FBUSxDQUFFdmpFLE1BQU8sWUFLbEM4aUUsRUFBRW4wQyxLQUFLLFNBQVUsS0FDZm0wQyxFQUFFdjNDLEdBQUcsQ0FDSCxDQUFFK0csSUFBSyxJQUFNd3dDLEVBQUUxNEMsUUFBUTA0QyxFQUFFeDBCLFNBQ3pCLENBQUVoYyxJQUFLLElBQU13d0MsRUFBRTE0QyxRQUFRMDRDLEVBQUVyTixXQUN6QixDQUNFbmpDLElBQUssS0FDSHd3QyxFQUFFcDVDLFFBQVFvNEMsR0FDVmdCLEVBQUUxNEMsUUFBUTA0QyxFQUFFTSxZQUNaTixFQUFFcDVDLFFBQVFxNEMsU0FPbEJlLEVBQUVuMEMsS0FBSyxXQUFZLEtBQ2pCbTBDLEVBQUVwNUMsUUFBUWk0QyxLQUlabUIsRUFBRW4wQyxLQUFLLFNBQVUsS0FDZm0wQyxFQUFFcDVDLFFBQVFtNEMsS0FJWmlCLEVBQUVuMEMsS0FBSyxZQUFhLEtBQ2xCbTBDLEVBQUV2M0MsR0FBRyxDQUNILENBQ0UrRyxJQUFLLEtBQ0h3d0MsRUFBRXA1QyxRQUFRKzNDLEdBQ1ZxQixFQUFFejRDLFNBQVN5NEMsRUFBRVUsVUFDYlYsRUFBRW41QyxTQUFTdzRDLEtBR2YsQ0FDRTd2QyxJQUFLLEtBQ0h3d0MsRUFBRXA1QyxRQUFRZzRDLEdBQ1ZvQixFQUFFanpELE9BQU8sS0FDUGl6RCxFQUFFeDRDLFNBQVN3NEMsRUFBRVUsWUFFZlYsRUFBRWw1QyxTQUFTdTRDLFNBT25CVyxFQUFFbjBDLEtBQUssV0FBWSxLQUNqQm0wQyxFQUFFbjJDLFNBQVMsQ0FDVGlGLElBQUtzd0MsRUFDTC93QyxJQUFLLEtBQ0gyeEMsRUFBRTE0QyxRQUFRMDRDLEVBQUVXLGdCQU1sQlgsRUFBRW4wQyxLQUFLLFlBQWEsS0FDbEJtMEMsRUFBRXYzQyxHQUFHLENBQ0gsQ0FBRStHLElBQUssSUFBTXd3QyxFQUFFcDVDLFFBQVFrNEMsSUFDdkIsQ0FBRXR2QyxJQUFLLElBQU13d0MsRUFBRTE0QyxRQUFRMDRDLEVBQUVNLGlCQUk3Qm44RSxLQUFLNndDLHVCQUtGLE1BQU00ckMsRUFBWSxJQUFJLEVDOUp2QkMsRUFBaUIsRUFBT3A4QywrQkFxS3ZCLE1BQU1xOEMsRUFBaUIsSUFuSzlCLGNBQTZCRCxFQUUzQixjQUNFZCxRQUNBNTdFLEtBQUt3OUIsa0JBQ0x4OUIsS0FBSzQ4RSxNQUFRLEdBQ2I1OEUsS0FBSzY4RSxPQUFTLEdBR2hCLFFBQVFoZ0QsR0FDTjc4QixLQUFLOEQsTUFBTSs0QixFQUFJK25DLFFBQ2Z2bkUsUUFBUXNiLElBQUkzWSxLQUFLNjhFLFFBR25CLE9BQU9oZ0QsR0FFTCxHQURBNzhCLEtBQUs0OEUsTUFBUTU4RSxLQUFLOEQsTUFBTSs0QixFQUFJaS9DLFdBQ3hCai9DLEVBQUlrL0MsWUFBYSxDQUNuQixNQUFNZSxFQUFPOThFLEtBQUs4RCxNQUFNKzRCLEVBQUlrL0MsYUFDNUIvN0UsS0FBSzQ4RSxNQUFRLElBQUU5Z0YsT0FBT2tFLEtBQUs0OEUsTUFBT0UsR0FHaENqZ0QsRUFBSW0vQyxXQUNOLElBQUVqZCxNQUFNbGlDLEVBQUltL0MsV0FDVHhrRixJQUFLd2tGLElBQ0poOEUsS0FBSzhELE1BQU1rNEUsS0FFWnJtRixRQUlQLFVBQVVrbkMsR0FDUixPQUFJQSxFQUFJNjlDLFdBQ0MsSUFDSjNiLE1BQU1saUMsRUFBSTY5QyxZQUNWcGIsTUFBTSxTQUNOcG9FLFVBQVUsSUFBTSxNQUNoQnZCLFFBRUUsR0FHVCxZQUFZa25DLEdBQ1YsT0FBTzc4QixLQUFLOEQsTUFBTSs0QixFQUFJaS9DLFdBR3hCLFVBQVVqL0MsR0FDSkEsRUFBSXEvQyxVQUNObDhFLEtBQUs4RCxNQUFNKzRCLEVBQUlxL0MsV0FDTnIvQyxFQUFJby9DLFlBQ2JqOEUsS0FBSzhELE1BQU0rNEIsRUFBSW8vQyxZQUluQixXQUFXcC9DLEdBQ1QsTUFBTTVuQyxFQUFPK0ssS0FBSzhELE1BQU0rNEIsRUFBSTJ4QyxVQUN0Qjc0RSxFQUFRcUssS0FBSzhELE1BQU0rNEIsRUFBSXMvQyxZQUM3Qm44RSxLQUFLNDhFLE1BQU0zbkYsR0FBUVUsRUFHckIsV0FBV2tuQyxHQUNULE1BQU1sbkMsRUFBUXFLLEtBQUs4RCxNQUFNKzRCLEVBQUl1L0Msb0JBQzdCLE9BQUl2L0MsRUFBSTArQyxPQUNFNWxGLEVBRUhBLEVBR1QsbUJBQW1Ca25DLEdBQ2pCLElBQUl6bEMsRUFBUzRJLEtBQUs4RCxNQUFNKzRCLEVBQUlrZ0QsS0FlNUIsT0FiSWxnRCxFQUFJbWdELEtBQ05uZ0QsRUFBSW1nRCxJQUFJOWtGLFFBQVEsQ0FBQytrRixFQUFZM2xGLEtBQzNCLElBQUk0bEYsRUFBV2w5RSxLQUFLOEQsTUFBTW01RSxHQUN0QjFqQixFQUFXMThCLEVBQUl1K0MsV0FBVzlqRixHQUUxQix1QkFBYWlpRSxFQUFVK2hCLEdBQ3pCbGtGLEdBQVU4bEYsRUFFVjlsRixHQUFVOGxGLElBS1Q5bEYsRUFHVCx5QkFBeUJ5bEMsR0FDdkIsSUFBSXpsQyxFQUFTNEksS0FBSzhELE1BQU0rNEIsRUFBSWtnRCxLQWM1QixPQWJJbGdELEVBQUltZ0QsS0FDTm5nRCxFQUFJbWdELElBQUk5a0YsUUFBUSxDQUFDK2tGLEVBQVkzbEYsS0FDM0IsSUFBSTRsRixFQUFXbDlFLEtBQUs4RCxNQUFNbTVFLEdBQ3RCMWpCLEVBQVcxOEIsRUFBSXcrQyxpQkFBaUIvakYsR0FFaEMsdUJBQWFpaUUsRUFBVWtpQixHQUN6QnJrRixHQUFVOGxGLEVBRVY5bEYsR0FBVThsRixJQUtUOWxGLEVBR1QsT0FBT3lsQyxHQUNMLEdBQUlBLEVBQUl3cUIsT0FDTixPQUFPcm5ELEtBQUs4RCxNQUFNKzRCLEVBQUl3cUIsUUFDakIsR0FBSXhxQixFQUFJMnhDLFNBQVUsQ0FDdkIsTUFBTXY1RSxFQUFPK0ssS0FBSzhELE1BQU0rNEIsRUFBSTJ4QyxVQUU1QixPQURjeHVFLEtBQUs0OEUsTUFBTTNuRixHQUVwQixPQUFJNG5DLEVBQUlzL0MsV0FDTm44RSxLQUFLOEQsTUFBTSs0QixFQUFJcy9DLGlCQURqQixFQUtULFNBQVN0L0MsR0FDUCxPQUFPQSxFQUFJNjlDLFdBQVcsR0FBR3RxRSxNQUczQixPQUFPeXNCLEdBQ0wsT0FBT3ljLFNBQVN6YyxFQUFJKzlDLFFBQVEsR0FBR3hxRSxNQUFPLElBR3hDLFVBQVV5c0IsR0FDUixNQUFNc2dELEVBQVFuOUUsS0FBSzhELE1BQU0rNEIsRUFBSTAvQyxVQUN6QjEvQyxFQUFJMjlDLE1BQ054NkUsS0FBS285RSxRQUFRRCxHQUNKdGdELEVBQUk0OUMsU0FDYno2RSxLQUFLcTlFLFVBQVVGLEdBSW5CLFNBQVN0Z0QsR0FDUCxPQUFJQSxFQUFJMi9DLFVBQ0MsSUFDSnpkLE1BQU1saUMsRUFBSTIvQyxXQUNWaGxGLElBQUs4bEYsR0FDR3Q5RSxLQUFLOEQsTUFBTXc1RSxJQUVuQjNuRixRQUVFLEdBR1QsVUFBVWtuQyxHQUNSLE9BQUlBLEVBQUk4OUMsUUFDQyxJQUFFOUwsS0FBS2h5QyxFQUFJODlDLFFBQVEsR0FBR3ZxRSxNQUFPLEtBQzNCeXNCLEVBQUlzL0MsV0FDTm44RSxLQUFLOEQsTUFBTSs0QixFQUFJcy9DLGlCQURqQixFQUtULFFBQVFnQixHQUNObjlFLEtBQUs2OEUsUUFBVSxJQUFFMXhFLEtBQUtneUUsRUFBTyxJQUcvQixVQUFVQSxHQUNSbjlFLEtBQUs2OEUsUUFBVSxJQUFFMXhFLEtBQUtneUUsRUFBTyxJQUFNLE9DaEt2QyxTQUFTalAsRUFBU25vRSxHQUNoQixNQUFNMnpDLEVBQU8yOEIsU0FBU3NCLGNBQWMsT0FDOUI0RixFQUFVbEgsU0FBU3NCLGNBQWMsT0FDakM2RixFQUFZbkgsU0FBU3NCLGNBQWMsT0FDbkM4RixFQUFZcEgsU0FBU3NCLGNBQWMsT0FFekM0RixFQUFRRyxVQUFZMzNFLEVBQ3BCdzNFLEVBQVFJLFVBQVVyNEIsSUFBSSxRQUV0QixNQUFNbHVELEVDVkQsU0FBZTJ3RCxHQUNwQixNQUFNNjFCLEVBQU0sRUFBTXpwRSxTQUFTNHpDLEdBQzNCLEVBQU9BLE1BQVE2MUIsRUFBSWxtRSxPQUNuQixNQUFNNnhCLEVBQU0sRUFBT3MwQyxVQUduQixPQUZBLEVBQVkvNUUsTUFBTXlsQyxHQUVYLENBQ0w1ekMsTUFBTyxFQUFZa25GLE9BQ25CbmxFLE9BQVFrbUUsRUFBSWxtRSxPQUNab21FLFVBQVdGLEVBQUlqMUUsT0FDZkEsT0FBUSxFQUFPQSxRREFGbzFFLENBQU1oNEUsR0F1QnJCLE9BdEJBeTNFLEVBQVVHLFVBQVVyNEIsSUFBSSxRQUN4Qm00QixFQUFVRSxVQUFVcjRCLElBQUksT0FBUSxRQUM1Qmx1RCxFQUFPdVIsT0FBTy9SLE9BQVMsR0FDekI0bUYsRUFBVUcsVUFBVXI0QixJQUFJLFNBQ3hCazRCLEVBQVVFLFVBQVksSUFDbkIzZSxNQUFNM25FLEVBQU91UixRQUNiblIsSUFBS3VLLEdBQU0sUUFBUUEsRUFBRTJNLE1BQU02SCxjQUFjeFUsRUFBRUMsV0FDM0NtSixLQUFLLFFBRVJxeUUsRUFBVUcsVUFBVXI0QixJQUFJLFdBQ3hCazRCLEVBQVVFLFVBQVl0bUYsRUFBT3pCLE1BQzdCOG5GLEVBQVVDLFVBQVksSUFDbkIzZSxNQUFNM25FLEVBQU9zZ0IsUUFDYmxnQixJQUFLd21GLEdBQVEsR0FBR0EsRUFBSW4yRSxVQUFVNVMsUUFBUStvRixFQUFJNXRFLFNBQzFDakYsS0FBSyxPQUdWdXVDLEVBQUtzK0IsWUFBWXVGLEdBQ2pCN2pDLEVBQUtzK0IsWUFBWTNCLFNBQVNzQixjQUFjLE9BQ3hDaitCLEVBQUtzK0IsWUFBWXdGLEdBQ2pCOWpDLEVBQUtzK0IsWUFBWTNCLFNBQVNzQixjQUFjLE9BQ3hDaitCLEVBQUtzK0IsWUFBWXlGLEdBQ1YvakMsRUFHVCxJQUFhNXJDLElBSUEsNFZBSFh1b0UsU0FBUzRILEtBQUtqRyxZQUFZOUosRUFBU3BnRSIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDEwKTtcbiIsIi8qXG4gVXRpbHMgdXNpbmcgbG9kYXNoIHN0eWxlIEFQSS4gKG5vdCBuZWNlc3NhcmlseSAxMDAlIGNvbXBsaWFudCkgZm9yIGZ1bmN0aW9uYWwgYW5kIG90aGVyIHV0aWxzLlxuIFRoZXNlIHV0aWxzIHNob3VsZCByZXBsYWNlIHVzYWdlIG9mIGxvZGFzaCBpbiB0aGUgcHJvZHVjdGlvbiBjb2RlIGJhc2UuIG5vdCBiZWNhdXNlIHRoZXkgYXJlIGFueSBiZXR0ZXIuLi5cbiBidXQgZm9yIHRoZSBwdXJwb3NlIG9mIGJlaW5nIGEgZGVwZW5kZW5jeSBmcmVlIGxpYnJhcnkuXG5cbiBUaGUgaG90c3BvdHMgaW4gdGhlIGNvZGUgYXJlIGFscmVhZHkgd3JpdHRlbiBpbiBpbXBlcmF0aXZlIHN0eWxlIGZvciBwZXJmb3JtYW5jZSByZWFzb25zLlxuIHNvIHdyaXRpbmcgc2V2ZXJhbCBkb3plbiB1dGlscyB3aGljaCBtYXkgYmUgc2xvd2VyIHRoYW4gdGhlIG9yaWdpbmFsIGxvZGFzaCwgZG9lcyBub3QgbWF0dGVyIGFzIG11Y2hcbiBjb25zaWRlcmluZyB0aGV5IHdpbGwgbm90IGJlIGludm9rZWQgaW4gaG90c3BvdHMuLi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzRW1wdHkoYXJyKSB7XG4gICAgcmV0dXJuIGFyciAmJiBhcnIubGVuZ3RoID09PSAwO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGtleXMob2JqKSB7XG4gICAgaWYgKG9iaiA9PT0gdW5kZWZpbmVkIHx8IG9iaiA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIHJldHVybiBPYmplY3Qua2V5cyhvYmopO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHZhbHVlcyhvYmopIHtcbiAgICB2YXIgdmFscyA9IFtdO1xuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFscy5wdXNoKG9ialtrZXlzW2ldXSk7XG4gICAgfVxuICAgIHJldHVybiB2YWxzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG1hcFZhbHVlcyhvYmosIGNhbGxiYWNrKSB7XG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIHZhciBvYmpLZXlzID0ga2V5cyhvYmopO1xuICAgIGZvciAodmFyIGlkeCA9IDA7IGlkeCA8IG9iaktleXMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICB2YXIgY3VycktleSA9IG9iaktleXNbaWR4XTtcbiAgICAgICAgcmVzdWx0LnB1c2goY2FsbGJhY2suY2FsbChudWxsLCBvYmpbY3VycktleV0sIGN1cnJLZXkpKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBtYXAoYXJyLCBjYWxsYmFjaykge1xuICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICBmb3IgKHZhciBpZHggPSAwOyBpZHggPCBhcnIubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICByZXN1bHQucHVzaChjYWxsYmFjay5jYWxsKG51bGwsIGFycltpZHhdLCBpZHgpKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmbGF0dGVuKGFycikge1xuICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICBmb3IgKHZhciBpZHggPSAwOyBpZHggPCBhcnIubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICB2YXIgY3Vyckl0ZW0gPSBhcnJbaWR4XTtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY3Vyckl0ZW0pKSB7XG4gICAgICAgICAgICByZXN1bHQgPSByZXN1bHQuY29uY2F0KGZsYXR0ZW4oY3Vyckl0ZW0pKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGN1cnJJdGVtKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZpcnN0KGFycikge1xuICAgIHJldHVybiBpc0VtcHR5KGFycikgPyB1bmRlZmluZWQgOiBhcnJbMF07XG59XG5leHBvcnQgZnVuY3Rpb24gbGFzdChhcnIpIHtcbiAgICB2YXIgbGVuID0gYXJyICYmIGFyci5sZW5ndGg7XG4gICAgcmV0dXJuIGxlbiA/IGFycltsZW4gLSAxXSA6IHVuZGVmaW5lZDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmb3JFYWNoKGNvbGxlY3Rpb24sIGl0ZXJhdG9yQ2FsbGJhY2spIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgIGlmIChBcnJheS5pc0FycmF5KGNvbGxlY3Rpb24pKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29sbGVjdGlvbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaXRlcmF0b3JDYWxsYmFjay5jYWxsKG51bGwsIGNvbGxlY3Rpb25baV0sIGkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzT2JqZWN0KGNvbGxlY3Rpb24pKSB7XG4gICAgICAgIHZhciBjb2xLZXlzID0ga2V5cyhjb2xsZWN0aW9uKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb2xLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIga2V5ID0gY29sS2V5c1tpXTtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IGNvbGxlY3Rpb25ba2V5XTtcbiAgICAgICAgICAgIGl0ZXJhdG9yQ2FsbGJhY2suY2FsbChudWxsLCB2YWx1ZSwga2V5KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJub24gZXhoYXVzdGl2ZSBtYXRjaFwiKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gaXNTdHJpbmcoaXRlbSkge1xuICAgIHJldHVybiB0eXBlb2YgaXRlbSA9PT0gXCJzdHJpbmdcIjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1VuZGVmaW5lZChpdGVtKSB7XG4gICAgcmV0dXJuIGl0ZW0gPT09IHVuZGVmaW5lZDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0Z1bmN0aW9uKGl0ZW0pIHtcbiAgICByZXR1cm4gaXRlbSBpbnN0YW5jZW9mIEZ1bmN0aW9uO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGRyb3AoYXJyLCBob3dNdWNoKSB7XG4gICAgaWYgKGhvd011Y2ggPT09IHZvaWQgMCkgeyBob3dNdWNoID0gMTsgfVxuICAgIHJldHVybiBhcnIuc2xpY2UoaG93TXVjaCwgYXJyLmxlbmd0aCk7XG59XG5leHBvcnQgZnVuY3Rpb24gZHJvcFJpZ2h0KGFyciwgaG93TXVjaCkge1xuICAgIGlmIChob3dNdWNoID09PSB2b2lkIDApIHsgaG93TXVjaCA9IDE7IH1cbiAgICByZXR1cm4gYXJyLnNsaWNlKDAsIGFyci5sZW5ndGggLSBob3dNdWNoKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmaWx0ZXIoYXJyLCBwcmVkaWNhdGUpIHtcbiAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGl0ZW0gPSBhcnJbaV07XG4gICAgICAgICAgICBpZiAocHJlZGljYXRlLmNhbGwobnVsbCwgaXRlbSkpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChpdGVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlamVjdChhcnIsIHByZWRpY2F0ZSkge1xuICAgIHJldHVybiBmaWx0ZXIoYXJyLCBmdW5jdGlvbiAoaXRlbSkgeyByZXR1cm4gIXByZWRpY2F0ZShpdGVtKTsgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gcGljayhvYmosIHByZWRpY2F0ZSkge1xuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqKTtcbiAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBjdXJyS2V5ID0ga2V5c1tpXTtcbiAgICAgICAgdmFyIGN1cnJJdGVtID0gb2JqW2N1cnJLZXldO1xuICAgICAgICBpZiAocHJlZGljYXRlKGN1cnJJdGVtKSkge1xuICAgICAgICAgICAgcmVzdWx0W2N1cnJLZXldID0gY3Vyckl0ZW07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBoYXMob2JqLCBwcm9wKSB7XG4gICAgaWYgKGlzT2JqZWN0KG9iaikpIHtcbiAgICAgICAgcmV0dXJuIG9iai5oYXNPd25Qcm9wZXJ0eShwcm9wKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNvbnRhaW5zKGFyciwgaXRlbSkge1xuICAgIHJldHVybiBmaW5kKGFyciwgZnVuY3Rpb24gKGN1cnJJdGVtKSB7IHJldHVybiBjdXJySXRlbSA9PT0gaXRlbTsgfSkgIT09IHVuZGVmaW5lZCA/IHRydWUgOiBmYWxzZTtcbn1cbi8qKlxuICogc2hhbGxvdyBjbG9uZVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xvbmVBcnIoYXJyKSB7XG4gICAgdmFyIG5ld0FyciA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIG5ld0Fyci5wdXNoKGFycltpXSk7XG4gICAgfVxuICAgIHJldHVybiBuZXdBcnI7XG59XG4vKipcbiAqIHNoYWxsb3cgY2xvbmVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsb25lT2JqKG9iaikge1xuICAgIHZhciBjbG9uZWRPYmogPSB7fTtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7XG4gICAgICAgICAgICBjbG9uZWRPYmpba2V5XSA9IG9ialtrZXldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjbG9uZWRPYmo7XG59XG5leHBvcnQgZnVuY3Rpb24gZmluZChhcnIsIHByZWRpY2F0ZSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBpdGVtID0gYXJyW2ldO1xuICAgICAgICBpZiAocHJlZGljYXRlLmNhbGwobnVsbCwgaXRlbSkpIHtcbiAgICAgICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5leHBvcnQgZnVuY3Rpb24gZmluZEFsbChhcnIsIHByZWRpY2F0ZSkge1xuICAgIHZhciBmb3VuZCA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBpdGVtID0gYXJyW2ldO1xuICAgICAgICBpZiAocHJlZGljYXRlLmNhbGwobnVsbCwgaXRlbSkpIHtcbiAgICAgICAgICAgIGZvdW5kLnB1c2goaXRlbSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZvdW5kO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlZHVjZShhcnJPck9iaiwgaXRlcmF0b3IsIGluaXRpYWwpIHtcbiAgICB2YXIgaXNBcnIgPSBBcnJheS5pc0FycmF5KGFyck9yT2JqKTtcbiAgICB2YXIgdmFscyA9IGlzQXJyID8gYXJyT3JPYmogOiB2YWx1ZXMoYXJyT3JPYmopO1xuICAgIHZhciBvYmpLZXlzID0gaXNBcnIgPyBbXSA6IGtleXMoYXJyT3JPYmopO1xuICAgIHZhciBhY2N1bXVsYXRvciA9IGluaXRpYWw7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGFjY3VtdWxhdG9yID0gaXRlcmF0b3IuY2FsbChudWxsLCBhY2N1bXVsYXRvciwgdmFsc1tpXSwgaXNBcnIgPyBpIDogb2JqS2V5c1tpXSk7XG4gICAgfVxuICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjb21wYWN0KGFycikge1xuICAgIHJldHVybiByZWplY3QoYXJyLCBmdW5jdGlvbiAoaXRlbSkgeyByZXR1cm4gaXRlbSA9PT0gbnVsbCB8fCBpdGVtID09PSB1bmRlZmluZWQ7IH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHVuaXEoYXJyLCBpZGVudGl0eSkge1xuICAgIGlmIChpZGVudGl0eSA9PT0gdm9pZCAwKSB7IGlkZW50aXR5ID0gZnVuY3Rpb24gKGl0ZW0pIHsgcmV0dXJuIGl0ZW07IH07IH1cbiAgICB2YXIgaWRlbnRpdGllcyA9IFtdO1xuICAgIHJldHVybiByZWR1Y2UoYXJyLCBmdW5jdGlvbiAocmVzdWx0LCBjdXJySXRlbSkge1xuICAgICAgICB2YXIgY3VycklkZW50aXR5ID0gaWRlbnRpdHkoY3Vyckl0ZW0pO1xuICAgICAgICBpZiAoY29udGFpbnMoaWRlbnRpdGllcywgY3VycklkZW50aXR5KSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlkZW50aXRpZXMucHVzaChjdXJySWRlbnRpdHkpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5jb25jYXQoY3Vyckl0ZW0pO1xuICAgICAgICB9XG4gICAgfSwgW10pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHBhcnRpYWwoZnVuYykge1xuICAgIHZhciByZXN0QXJncyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHJlc3RBcmdzW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICB2YXIgZmlyc3RBcmcgPSBbbnVsbF07XG4gICAgdmFyIGFsbEFyZ3MgPSBmaXJzdEFyZy5jb25jYXQocmVzdEFyZ3MpO1xuICAgIHJldHVybiBGdW5jdGlvbi5iaW5kLmFwcGx5KGZ1bmMsIGFsbEFyZ3MpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQXJyYXkob2JqKSB7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkob2JqKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1JlZ0V4cChvYmopIHtcbiAgICByZXR1cm4gb2JqIGluc3RhbmNlb2YgUmVnRXhwO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzT2JqZWN0KG9iaikge1xuICAgIHJldHVybiBvYmogaW5zdGFuY2VvZiBPYmplY3Q7XG59XG5leHBvcnQgZnVuY3Rpb24gZXZlcnkoYXJyLCBwcmVkaWNhdGUpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoIXByZWRpY2F0ZShhcnJbaV0sIGkpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5leHBvcnQgZnVuY3Rpb24gZGlmZmVyZW5jZShhcnIsIHZhbHVlcykge1xuICAgIHJldHVybiByZWplY3QoYXJyLCBmdW5jdGlvbiAoaXRlbSkgeyByZXR1cm4gY29udGFpbnModmFsdWVzLCBpdGVtKTsgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gc29tZShhcnIsIHByZWRpY2F0ZSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChwcmVkaWNhdGUoYXJyW2ldKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGluZGV4T2YoYXJyLCB2YWx1ZSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChhcnJbaV0gPT09IHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG59XG5leHBvcnQgZnVuY3Rpb24gc29ydEJ5KGFyciwgb3JkZXJGdW5jKSB7XG4gICAgdmFyIHJlc3VsdCA9IGNsb25lQXJyKGFycik7XG4gICAgcmVzdWx0LnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIG9yZGVyRnVuYyhhKSAtIG9yZGVyRnVuYyhiKTsgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydCBmdW5jdGlvbiB6aXBPYmplY3Qoa2V5cywgdmFsdWVzKSB7XG4gICAgaWYgKGtleXMubGVuZ3RoICE9PSB2YWx1ZXMubGVuZ3RoKSB7XG4gICAgICAgIHRocm93IEVycm9yKFwiY2FuJ3QgemlwT2JqZWN0IHdpdGggZGlmZmVyZW50IG51bWJlciBvZiBrZXlzIGFuZCB2YWx1ZXMhXCIpO1xuICAgIH1cbiAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHJlc3VsdFtrZXlzW2ldXSA9IHZhbHVlc1tpXTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbi8qKlxuICogbXV0YXRlcyEgKGFuZCByZXR1cm5zKSB0YXJnZXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2lnbih0YXJnZXQpIHtcbiAgICB2YXIgc291cmNlcyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHNvdXJjZXNbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc291cmNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgY3VyU291cmNlID0gc291cmNlc1tpXTtcbiAgICAgICAgdmFyIGN1cnJTb3VyY2VLZXlzID0ga2V5cyhjdXJTb3VyY2UpO1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGN1cnJTb3VyY2VLZXlzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICB2YXIgY3VycktleSA9IGN1cnJTb3VyY2VLZXlzW2pdO1xuICAgICAgICAgICAgdGFyZ2V0W2N1cnJLZXldID0gY3VyU291cmNlW2N1cnJLZXldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXQ7XG59XG4vKipcbiAqIG11dGF0ZXMhIChhbmQgcmV0dXJucykgdGFyZ2V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NpZ25Ob092ZXJ3cml0ZSh0YXJnZXQpIHtcbiAgICB2YXIgc291cmNlcyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHNvdXJjZXNbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc291cmNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgY3VyU291cmNlID0gc291cmNlc1tpXTtcbiAgICAgICAgdmFyIGN1cnJTb3VyY2VLZXlzID0ga2V5cyhjdXJTb3VyY2UpO1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGN1cnJTb3VyY2VLZXlzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICB2YXIgY3VycktleSA9IGN1cnJTb3VyY2VLZXlzW2pdO1xuICAgICAgICAgICAgaWYgKCFoYXModGFyZ2V0LCBjdXJyS2V5KSkge1xuICAgICAgICAgICAgICAgIHRhcmdldFtjdXJyS2V5XSA9IGN1clNvdXJjZVtjdXJyS2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGFyZ2V0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGRlZmF1bHRzKCkge1xuICAgIHZhciBzb3VyY2VzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgc291cmNlc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICByZXR1cm4gYXNzaWduTm9PdmVyd3JpdGUuYXBwbHkobnVsbCwgW3t9XS5jb25jYXQoc291cmNlcykpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdyb3VwQnkoYXJyLCBncm91cEtleUZ1bmMpIHtcbiAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgZm9yRWFjaChhcnIsIGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHZhciBjdXJyR3JvdXBLZXkgPSBncm91cEtleUZ1bmMoaXRlbSk7XG4gICAgICAgIHZhciBjdXJyR3JvdXBBcnIgPSByZXN1bHRbY3Vyckdyb3VwS2V5XTtcbiAgICAgICAgaWYgKGN1cnJHcm91cEFycikge1xuICAgICAgICAgICAgY3Vyckdyb3VwQXJyLnB1c2goaXRlbSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXN1bHRbY3Vyckdyb3VwS2V5XSA9IFtpdGVtXTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG4vKipcbiAqIE1lcmdlIG9iajIgaW50byBvYmoxLlxuICogV2lsbCBvdmVyd3JpdGUgZXhpc3RpbmcgcHJvcGVydGllcyB3aXRoIHRoZSBzYW1lIG5hbWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlKG9iajEsIG9iajIpIHtcbiAgICB2YXIgcmVzdWx0ID0gY2xvbmVPYmoob2JqMSk7XG4gICAgdmFyIGtleXMyID0ga2V5cyhvYmoyKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBrZXkgPSBrZXlzMltpXTtcbiAgICAgICAgdmFyIHZhbHVlID0gb2JqMltrZXldO1xuICAgICAgICByZXN1bHRba2V5XSA9IHZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIE5PT1AoKSB7IH1cbmV4cG9ydCBmdW5jdGlvbiBJREVOVElUWShpdGVtKSB7XG4gICAgcmV0dXJuIGl0ZW07XG59XG4vKipcbiAqIFdpbGwgcmV0dXJuIGEgbmV3IHBhY2tlZCBhcnJheSB3aXRoIHNhbWUgdmFsdWVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFja0FycmF5KGhvbGV5QXJyKSB7XG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaG9sZXlBcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIG9yZ1ZhbHVlID0gaG9sZXlBcnJbaV07XG4gICAgICAgIHJlc3VsdC5wdXNoKG9yZ1ZhbHVlICE9PSB1bmRlZmluZWQgPyBvcmdWYWx1ZSA6IHVuZGVmaW5lZCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5leHBvcnQgZnVuY3Rpb24gUFJJTlRfRVJST1IobXNnKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgLSBjYW4ndCBvdmVycmlkZSBnbG9iYWwuY29uc29sZSBpbiBub2RlLmpzICovXG4gICAgaWYgKGNvbnNvbGUgJiYgY29uc29sZS5lcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3I6IFwiICsgbXNnKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gUFJJTlRfV0FSTklORyhtc2cpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAtIGNhbid0IG92ZXJyaWRlIGdsb2JhbC5jb25zb2xlIGluIG5vZGUuanMqL1xuICAgIGlmIChjb25zb2xlICYmIGNvbnNvbGUud2Fybikge1xuICAgICAgICAvLyBUT0RPOiBtb2RpZnkgZG9jcyBhY2NvcmRpbmdseVxuICAgICAgICBjb25zb2xlLndhcm4oXCJXYXJuaW5nOiBcIiArIG1zZyk7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGlzRVMyMDE1TWFwU3VwcG9ydGVkKCkge1xuICAgIHJldHVybiB0eXBlb2YgTWFwID09PSBcImZ1bmN0aW9uXCI7XG59XG5leHBvcnQgZnVuY3Rpb24gYXBwbHlNaXhpbnMoZGVyaXZlZEN0b3IsIGJhc2VDdG9ycykge1xuICAgIGJhc2VDdG9ycy5mb3JFYWNoKGZ1bmN0aW9uIChiYXNlQ3Rvcikge1xuICAgICAgICB2YXIgYmFzZVByb3RvID0gYmFzZUN0b3IucHJvdG90eXBlO1xuICAgICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhiYXNlUHJvdG8pLmZvckVhY2goZnVuY3Rpb24gKHByb3BOYW1lKSB7XG4gICAgICAgICAgICBpZiAocHJvcE5hbWUgPT09IFwiY29uc3RydWN0b3JcIikge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBiYXNlUHJvcERlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGJhc2VQcm90bywgcHJvcE5hbWUpO1xuICAgICAgICAgICAgLy8gSGFuZGxlIEFjY2Vzc29yc1xuICAgICAgICAgICAgaWYgKGJhc2VQcm9wRGVzY3JpcHRvciAmJlxuICAgICAgICAgICAgICAgIChiYXNlUHJvcERlc2NyaXB0b3IuZ2V0IHx8IGJhc2VQcm9wRGVzY3JpcHRvci5zZXQpKSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGRlcml2ZWRDdG9yLnByb3RvdHlwZSwgcHJvcE5hbWUsIGJhc2VQcm9wRGVzY3JpcHRvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBkZXJpdmVkQ3Rvci5wcm90b3R5cGVbcHJvcE5hbWVdID0gYmFzZUN0b3IucHJvdG90eXBlW3Byb3BOYW1lXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG4vLyBiYXNlIG9uOiBodHRwczovL2dpdGh1Yi5jb20vcGV0a2FhbnRvbm92L2JsdWViaXJkL2Jsb2IvYjk3YzBkMmQ0ODdlOGM1MDc2ZThiZDg5N2UwZGNkNDYyMmQzMTg0Ni9zcmMvdXRpbC5qcyNMMjAxLUwyMTZcbmV4cG9ydCBmdW5jdGlvbiB0b0Zhc3RQcm9wZXJ0aWVzKHRvQmVjb21lRmFzdCkge1xuICAgIGZ1bmN0aW9uIEZha2VDb25zdHJ1Y3RvcigpIHsgfVxuICAgIC8vIElmIG91ciBvYmplY3QgaXMgdXNlZCBhcyBhIGNvbnN0cnVjdG9yIGl0IHdvdWxkIHJlY2VpdmVcbiAgICBGYWtlQ29uc3RydWN0b3IucHJvdG90eXBlID0gdG9CZWNvbWVGYXN0O1xuICAgIHZhciBmYWtlSW5zdGFuY2UgPSBuZXcgRmFrZUNvbnN0cnVjdG9yKCk7XG4gICAgZnVuY3Rpb24gZmFrZUFjY2VzcygpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBmYWtlSW5zdGFuY2UuYmFyO1xuICAgIH1cbiAgICAvLyBoZWxwIFY4IHVuZGVyc3RhbmQgdGhpcyBpcyBhIFwicmVhbFwiIHByb3RvdHlwZSBieSBhY3R1YWxseSB1c2luZ1xuICAgIC8vIHRoZSBmYWtlIGluc3RhbmNlLlxuICAgIGZha2VBY2Nlc3MoKTtcbiAgICBmYWtlQWNjZXNzKCk7XG4gICAgcmV0dXJuIHRvQmVjb21lRmFzdDtcbiAgICAvLyBFdmFsIHByZXZlbnRzIG9wdGltaXphdGlvbiBvZiB0aGlzIG1ldGhvZCAoZXZlbiB0aG91Z2ggdGhpcyBpcyBkZWFkIGNvZGUpXG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmVcbiAgICBldmFsKHRvQmVjb21lRmFzdCk7XG59XG5leHBvcnQgZnVuY3Rpb24gcGVlayhhcnIpIHtcbiAgICByZXR1cm4gYXJyW2Fyci5sZW5ndGggLSAxXTtcbn1cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0IC0gZm9yIHBlcmZvcm1hbmNlIHRyYWNpbmcqL1xuZXhwb3J0IGZ1bmN0aW9uIHRpbWVyKGZ1bmMpIHtcbiAgICB2YXIgc3RhcnQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICB2YXIgdmFsID0gZnVuYygpO1xuICAgIHZhciBlbmQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICB2YXIgdG90YWwgPSBlbmQgLSBzdGFydDtcbiAgICByZXR1cm4geyB0aW1lOiB0b3RhbCwgdmFsdWU6IHZhbCB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXRpbHMuanMubWFwIiwiLy8gbmVlZHMgYSBzZXBhcmF0ZSBtb2R1bGUgYXMgdGhpcyBpcyByZXF1aXJlZCBpbnNpZGUgY2hldnJvdGFpbiBwcm9kdWN0aXZlIGNvZGVcbi8vIGFuZCBhbHNvIGluIHRoZSBlbnRyeSBwb2ludCBmb3Igd2VicGFjayhhcGkudHMpLlxuLy8gQSBzZXBhcmF0ZSBmaWxlIGF2b2lkcyBjeWNsaWMgZGVwZW5kZW5jaWVzIGFuZCB3ZWJwYWNrIGVycm9ycy5cbmV4cG9ydCB2YXIgVkVSU0lPTiA9IFwiNy4wLjFcIjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZlcnNpb24uanMubWFwIiwiaW1wb3J0IHsgUmVnRXhwUGFyc2VyIH0gZnJvbSBcInJlZ2V4cC10by1hc3RcIjtcbnZhciByZWdFeHBBc3RDYWNoZSA9IHt9O1xudmFyIHJlZ0V4cFBhcnNlciA9IG5ldyBSZWdFeHBQYXJzZXIoKTtcbmV4cG9ydCBmdW5jdGlvbiBnZXRSZWdFeHBBc3QocmVnRXhwKSB7XG4gICAgdmFyIHJlZ0V4cFN0ciA9IHJlZ0V4cC50b1N0cmluZygpO1xuICAgIGlmIChyZWdFeHBBc3RDYWNoZS5oYXNPd25Qcm9wZXJ0eShyZWdFeHBTdHIpKSB7XG4gICAgICAgIHJldHVybiByZWdFeHBBc3RDYWNoZVtyZWdFeHBTdHJdO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdmFyIHJlZ0V4cEFzdCA9IHJlZ0V4cFBhcnNlci5wYXR0ZXJuKHJlZ0V4cFN0cik7XG4gICAgICAgIHJlZ0V4cEFzdENhY2hlW3JlZ0V4cFN0cl0gPSByZWdFeHBBc3Q7XG4gICAgICAgIHJldHVybiByZWdFeHBBc3Q7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyUmVnRXhwUGFyc2VyQ2FjaGUoKSB7XG4gICAgcmVnRXhwQXN0Q2FjaGUgPSB7fTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlZ19leHBfcGFyc2VyLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0IHsgVkVSU0lPTiwgQmFzZVJlZ0V4cFZpc2l0b3IgfSBmcm9tIFwicmVnZXhwLXRvLWFzdFwiO1xuaW1wb3J0IHsgZm9yRWFjaCwgY29udGFpbnMsIFBSSU5UX0VSUk9SLCBQUklOVF9XQVJOSU5HLCBmaW5kLCBpc0FycmF5LCBldmVyeSwgdmFsdWVzIH0gZnJvbSBcIi4uL3V0aWxzL3V0aWxzXCI7XG5pbXBvcnQgeyBnZXRSZWdFeHBBc3QgfSBmcm9tIFwiLi9yZWdfZXhwX3BhcnNlclwiO1xuaW1wb3J0IHsgY2hhckNvZGVUb09wdGltaXplZEluZGV4LCBtaW5PcHRpbWl6YXRpb25WYWwgfSBmcm9tIFwiLi9sZXhlclwiO1xudmFyIGNvbXBsZW1lbnRFcnJvck1lc3NhZ2UgPSBcIkNvbXBsZW1lbnQgU2V0cyBhcmUgbm90IHN1cHBvcnRlZCBmb3IgZmlyc3QgY2hhciBvcHRpbWl6YXRpb25cIjtcbmV4cG9ydCB2YXIgZmFpbGVkT3B0aW1pemF0aW9uUHJlZml4TXNnID0gJ1VuYWJsZSB0byB1c2UgXCJmaXJzdCBjaGFyXCIgbGV4ZXIgb3B0aW1pemF0aW9uczpcXG4nO1xuZXhwb3J0IGZ1bmN0aW9uIGdldE9wdGltaXplZFN0YXJ0Q29kZXNJbmRpY2VzKHJlZ0V4cCwgZW5zdXJlT3B0aW1pemF0aW9ucykge1xuICAgIGlmIChlbnN1cmVPcHRpbWl6YXRpb25zID09PSB2b2lkIDApIHsgZW5zdXJlT3B0aW1pemF0aW9ucyA9IGZhbHNlOyB9XG4gICAgdHJ5IHtcbiAgICAgICAgdmFyIGFzdCA9IGdldFJlZ0V4cEFzdChyZWdFeHApO1xuICAgICAgICB2YXIgZmlyc3RDaGFycyA9IGZpcnN0Q2hhck9wdGltaXplZEluZGljZXMoYXN0LnZhbHVlLCB7fSwgYXN0LmZsYWdzLmlnbm9yZUNhc2UpO1xuICAgICAgICByZXR1cm4gZmlyc3RDaGFycztcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgLy8gVGVzdGluZyB0aGlzIHJlbGllcyBvbiB0aGUgcmVnZXhwLXRvLWFzdCBsaWJyYXJ5IGhhdmluZyBhIGJ1Zy4uLiAqL1xuICAgICAgICAvLyBUT0RPOiBvbmx5IHRoZSBlbHNlIGJyYW5jaCBuZWVkcyB0byBiZSBpZ25vcmVkLCB0cnkgdG8gZml4IHdpdGggbmV3ZXIgcHJldHRpZXIgLyB0c2NcbiAgICAgICAgaWYgKGUubWVzc2FnZSA9PT0gY29tcGxlbWVudEVycm9yTWVzc2FnZSkge1xuICAgICAgICAgICAgaWYgKGVuc3VyZU9wdGltaXphdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBQUklOVF9XQVJOSU5HKFwiXCIgKyBmYWlsZWRPcHRpbWl6YXRpb25QcmVmaXhNc2cgK1xuICAgICAgICAgICAgICAgICAgICAoXCJcXHRVbmFibGUgdG8gb3B0aW1pemU6IDwgXCIgKyByZWdFeHAudG9TdHJpbmcoKSArIFwiID5cXG5cIikgK1xuICAgICAgICAgICAgICAgICAgICBcIlxcdENvbXBsZW1lbnQgU2V0cyBjYW5ub3QgYmUgYXV0b21hdGljYWxseSBvcHRpbWl6ZWQuXFxuXCIgK1xuICAgICAgICAgICAgICAgICAgICBcIlxcdFRoaXMgd2lsbCBkaXNhYmxlIHRoZSBsZXhlcidzIGZpcnN0IGNoYXIgb3B0aW1pemF0aW9ucy5cXG5cIiArXG4gICAgICAgICAgICAgICAgICAgIFwiXFx0U2VlOiBodHRwczovL3NhcC5naXRodWIuaW8vY2hldnJvdGFpbi9kb2NzL2d1aWRlL3Jlc29sdmluZ19sZXhlcl9lcnJvcnMuaHRtbCNDT01QTEVNRU5UIGZvciBkZXRhaWxzLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBtc2dTdWZmaXggPSBcIlwiO1xuICAgICAgICAgICAgaWYgKGVuc3VyZU9wdGltaXphdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBtc2dTdWZmaXggPVxuICAgICAgICAgICAgICAgICAgICBcIlxcblxcdFRoaXMgd2lsbCBkaXNhYmxlIHRoZSBsZXhlcidzIGZpcnN0IGNoYXIgb3B0aW1pemF0aW9ucy5cXG5cIiArXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlxcdFNlZTogaHR0cHM6Ly9zYXAuZ2l0aHViLmlvL2NoZXZyb3RhaW4vZG9jcy9ndWlkZS9yZXNvbHZpbmdfbGV4ZXJfZXJyb3JzLmh0bWwjUkVHRVhQX1BBUlNJTkcgZm9yIGRldGFpbHMuXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBQUklOVF9FUlJPUihmYWlsZWRPcHRpbWl6YXRpb25QcmVmaXhNc2cgKyBcIlxcblwiICtcbiAgICAgICAgICAgICAgICAoXCJcXHRGYWlsZWQgcGFyc2luZzogPCBcIiArIHJlZ0V4cC50b1N0cmluZygpICsgXCIgPlxcblwiKSArXG4gICAgICAgICAgICAgICAgKFwiXFx0VXNpbmcgdGhlIHJlZ2V4cC10by1hc3QgbGlicmFyeSB2ZXJzaW9uOiBcIiArIFZFUlNJT04gKyBcIlxcblwiKSArXG4gICAgICAgICAgICAgICAgXCJcXHRQbGVhc2Ugb3BlbiBhbiBpc3N1ZSBhdDogaHR0cHM6Ly9naXRodWIuY29tL2JkODIvcmVnZXhwLXRvLWFzdC9pc3N1ZXNcIiArXG4gICAgICAgICAgICAgICAgbXNnU3VmZml4KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gW107XG59XG5leHBvcnQgZnVuY3Rpb24gZmlyc3RDaGFyT3B0aW1pemVkSW5kaWNlcyhhc3QsIHJlc3VsdCwgaWdub3JlQ2FzZSkge1xuICAgIHN3aXRjaCAoYXN0LnR5cGUpIHtcbiAgICAgICAgY2FzZSBcIkRpc2p1bmN0aW9uXCI6XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFzdC52YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGZpcnN0Q2hhck9wdGltaXplZEluZGljZXMoYXN0LnZhbHVlW2ldLCByZXN1bHQsIGlnbm9yZUNhc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJBbHRlcm5hdGl2ZVwiOlxuICAgICAgICAgICAgdmFyIHRlcm1zID0gYXN0LnZhbHVlO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZXJtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciB0ZXJtID0gdGVybXNbaV07XG4gICAgICAgICAgICAgICAgLy8gc2tpcCB0ZXJtcyB0aGF0IGNhbm5vdCBlZmZlY3QgdGhlIGZpcnN0IGNoYXIgcmVzdWx0c1xuICAgICAgICAgICAgICAgIHN3aXRjaCAodGVybS50eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJFbmRBbmNob3JcIjpcbiAgICAgICAgICAgICAgICAgICAgLy8gQSBncm91cCBiYWNrIHJlZmVyZW5jZSBjYW5ub3QgYWZmZWN0IHBvdGVudGlhbCBzdGFydGluZyBjaGFyLlxuICAgICAgICAgICAgICAgICAgICAvLyBiZWNhdXNlIGlmIGEgYmFjayByZWZlcmVuY2UgaXMgdGhlIGZpcnN0IHByb2R1Y3Rpb24gdGhhbiBhdXRvbWF0aWNhbGx5XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZSBncm91cCBiZWluZyByZWZlcmVuY2VkIGhhcyBoYWQgdG8gY29tZSBCRUZPUkUgc28gaXRzIGNvZGVzIGhhdmUgYWxyZWFkeSBiZWVuIGFkZGVkXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJHcm91cEJhY2tSZWZlcmVuY2VcIjpcbiAgICAgICAgICAgICAgICAgICAgLy8gYXNzZXJ0aW9ucyBkbyBub3QgYWZmZWN0IHBvdGVudGlhbCBzdGFydGluZyBjb2Rlc1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiTG9va2FoZWFkXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJOZWdhdGl2ZUxvb2thaGVhZFwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiU3RhcnRBbmNob3JcIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIldvcmRCb3VuZGFyeVwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiTm9uV29yZEJvdW5kYXJ5XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIGF0b20gPSB0ZXJtO1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoYXRvbS50eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJDaGFyYWN0ZXJcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZE9wdGltaXplZElkeFRvUmVzdWx0KGF0b20udmFsdWUsIHJlc3VsdCwgaWdub3JlQ2FzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlNldFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF0b20uY29tcGxlbWVudCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKGNvbXBsZW1lbnRFcnJvck1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yRWFjaChhdG9tLnZhbHVlLCBmdW5jdGlvbiAoY29kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY29kZSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRPcHRpbWl6ZWRJZHhUb1Jlc3VsdChjb2RlLCByZXN1bHQsIGlnbm9yZUNhc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmFuZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJhbmdlID0gY29kZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2Fubm90IG9wdGltaXplIHdoZW4gaWdub3JlQ2FzZSBpc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaWdub3JlQ2FzZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcmFuZ2VDb2RlID0gcmFuZ2UuZnJvbTsgcmFuZ2VDb2RlIDw9IHJhbmdlLnRvOyByYW5nZUNvZGUrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZE9wdGltaXplZElkeFRvUmVzdWx0KHJhbmdlQ29kZSwgcmVzdWx0LCBpZ25vcmVDYXNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBPcHRpbWl6YXRpb24gKDIgb3JkZXJzIG9mIG1hZ25pdHVkZSBsZXNzIHdvcmsgZm9yIHZlcnkgbGFyZ2UgcmFuZ2VzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGhhbmRsZSB1bm9wdGltaXplZCB2YWx1ZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHJhbmdlQ29kZSA9IHJhbmdlLmZyb207IHJhbmdlQ29kZSA8PSByYW5nZS50byAmJiByYW5nZUNvZGUgPCBtaW5PcHRpbWl6YXRpb25WYWw7IHJhbmdlQ29kZSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkT3B0aW1pemVkSWR4VG9SZXN1bHQocmFuZ2VDb2RlLCByZXN1bHQsIGlnbm9yZUNhc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTGVzcyBjb21tb24gY2hhckNvZGUgd2hlcmUgd2Ugb3B0aW1pemUgZm9yIGZhc3RlciBpbml0IHRpbWUsIGJ5IHVzaW5nIGxhcmdlciBcImJ1Y2tldHNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJhbmdlLnRvID49IG1pbk9wdGltaXphdGlvblZhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtaW5Vbk9wdFZhbCA9IHJhbmdlLmZyb20gPj0gbWluT3B0aW1pemF0aW9uVmFsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gcmFuZ2UuZnJvbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG1pbk9wdGltaXphdGlvblZhbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWF4VW5PcHRWYWwgPSByYW5nZS50bztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWluT3B0SWR4ID0gY2hhckNvZGVUb09wdGltaXplZEluZGV4KG1pblVuT3B0VmFsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWF4T3B0SWR4ID0gY2hhckNvZGVUb09wdGltaXplZEluZGV4KG1heFVuT3B0VmFsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBjdXJyT3B0SWR4ID0gbWluT3B0SWR4OyBjdXJyT3B0SWR4IDw9IG1heE9wdElkeDsgY3Vyck9wdElkeCsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFtjdXJyT3B0SWR4XSA9IGN1cnJPcHRJZHg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdyb3VwXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBmaXJzdENoYXJPcHRpbWl6ZWRJbmRpY2VzKGF0b20udmFsdWUsIHJlc3VsdCwgaWdub3JlQ2FzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwiTm9uIEV4aGF1c3RpdmUgTWF0Y2hcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHJlYWNoZWQgYSBtYW5kYXRvcnkgcHJvZHVjdGlvbiwgbm8gbW9yZSAqKnN0YXJ0KiogY29kZXMgY2FuIGJlIGZvdW5kIG9uIHRoaXMgYWx0ZXJuYXRpdmVcbiAgICAgICAgICAgICAgICB2YXIgaXNPcHRpb25hbFF1YW50aWZpZXIgPSBhdG9tLnF1YW50aWZpZXIgIT09IHVuZGVmaW5lZCAmJiBhdG9tLnF1YW50aWZpZXIuYXRMZWFzdCA9PT0gMDtcbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgLy8gQSBncm91cCBtYXkgYmUgb3B0aW9uYWwgZHVlIHRvIGVtcHR5IGNvbnRlbnRzIC8oPzopL1xuICAgICAgICAgICAgICAgIC8vIG9yIGlmIGV2ZXJ5dGhpbmcgaW5zaWRlIGl0IGlzIG9wdGlvbmFsIC8oKGEpPykvXG4gICAgICAgICAgICAgICAgKGF0b20udHlwZSA9PT0gXCJHcm91cFwiICYmIGlzV2hvbGVPcHRpb25hbChhdG9tKSA9PT0gZmFsc2UpIHx8XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoaXMgdGVybSBpcyBub3QgYSBncm91cCBpdCBtYXkgb25seSBiZSBvcHRpb25hbCBpZiBpdCBoYXMgYW4gb3B0aW9uYWwgcXVhbnRpZmllclxuICAgICAgICAgICAgICAgICAgICAoYXRvbS50eXBlICE9PSBcIkdyb3VwXCIgJiYgaXNPcHRpb25hbFF1YW50aWZpZXIgPT09IGZhbHNlKSkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IEVycm9yKFwibm9uIGV4aGF1c3RpdmUgbWF0Y2ghXCIpO1xuICAgIH1cbiAgICAvLyBjb25zb2xlLmxvZyhPYmplY3Qua2V5cyhyZXN1bHQpLmxlbmd0aClcbiAgICByZXR1cm4gdmFsdWVzKHJlc3VsdCk7XG59XG5mdW5jdGlvbiBhZGRPcHRpbWl6ZWRJZHhUb1Jlc3VsdChjb2RlLCByZXN1bHQsIGlnbm9yZUNhc2UpIHtcbiAgICB2YXIgb3B0aW1pemVkQ2hhcklkeCA9IGNoYXJDb2RlVG9PcHRpbWl6ZWRJbmRleChjb2RlKTtcbiAgICByZXN1bHRbb3B0aW1pemVkQ2hhcklkeF0gPSBvcHRpbWl6ZWRDaGFySWR4O1xuICAgIGlmIChpZ25vcmVDYXNlID09PSB0cnVlKSB7XG4gICAgICAgIGhhbmRsZUlnbm9yZUNhc2UoY29kZSwgcmVzdWx0KTtcbiAgICB9XG59XG5mdW5jdGlvbiBoYW5kbGVJZ25vcmVDYXNlKGNvZGUsIHJlc3VsdCkge1xuICAgIHZhciBjaGFyID0gU3RyaW5nLmZyb21DaGFyQ29kZShjb2RlKTtcbiAgICB2YXIgdXBwZXJDaGFyID0gY2hhci50b1VwcGVyQ2FzZSgpO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgaWYgKHVwcGVyQ2hhciAhPT0gY2hhcikge1xuICAgICAgICB2YXIgb3B0aW1pemVkQ2hhcklkeCA9IGNoYXJDb2RlVG9PcHRpbWl6ZWRJbmRleCh1cHBlckNoYXIuY2hhckNvZGVBdCgwKSk7XG4gICAgICAgIHJlc3VsdFtvcHRpbWl6ZWRDaGFySWR4XSA9IG9wdGltaXplZENoYXJJZHg7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB2YXIgbG93ZXJDaGFyID0gY2hhci50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBpZiAobG93ZXJDaGFyICE9PSBjaGFyKSB7XG4gICAgICAgICAgICB2YXIgb3B0aW1pemVkQ2hhcklkeCA9IGNoYXJDb2RlVG9PcHRpbWl6ZWRJbmRleChsb3dlckNoYXIuY2hhckNvZGVBdCgwKSk7XG4gICAgICAgICAgICByZXN1bHRbb3B0aW1pemVkQ2hhcklkeF0gPSBvcHRpbWl6ZWRDaGFySWR4O1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gZmluZENvZGUoc2V0Tm9kZSwgdGFyZ2V0Q2hhckNvZGVzKSB7XG4gICAgcmV0dXJuIGZpbmQoc2V0Tm9kZS52YWx1ZSwgZnVuY3Rpb24gKGNvZGVPclJhbmdlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgY29kZU9yUmFuZ2UgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBjb250YWlucyh0YXJnZXRDaGFyQ29kZXMsIGNvZGVPclJhbmdlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIHJhbmdlXG4gICAgICAgICAgICB2YXIgcmFuZ2VfMSA9IGNvZGVPclJhbmdlO1xuICAgICAgICAgICAgcmV0dXJuIChmaW5kKHRhcmdldENoYXJDb2RlcywgZnVuY3Rpb24gKHRhcmdldENvZGUpIHsgcmV0dXJuIHJhbmdlXzEuZnJvbSA8PSB0YXJnZXRDb2RlICYmIHRhcmdldENvZGUgPD0gcmFuZ2VfMS50bzsgfSkgIT09IHVuZGVmaW5lZCk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGlzV2hvbGVPcHRpb25hbChhc3QpIHtcbiAgICBpZiAoYXN0LnF1YW50aWZpZXIgJiYgYXN0LnF1YW50aWZpZXIuYXRMZWFzdCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCFhc3QudmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gaXNBcnJheShhc3QudmFsdWUpXG4gICAgICAgID8gZXZlcnkoYXN0LnZhbHVlLCBpc1dob2xlT3B0aW9uYWwpXG4gICAgICAgIDogaXNXaG9sZU9wdGlvbmFsKGFzdC52YWx1ZSk7XG59XG52YXIgQ2hhckNvZGVGaW5kZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKENoYXJDb2RlRmluZGVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIENoYXJDb2RlRmluZGVyKHRhcmdldENoYXJDb2Rlcykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy50YXJnZXRDaGFyQ29kZXMgPSB0YXJnZXRDaGFyQ29kZXM7XG4gICAgICAgIF90aGlzLmZvdW5kID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQ2hhckNvZGVGaW5kZXIucHJvdG90eXBlLnZpc2l0Q2hpbGRyZW4gPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAvLyBObyBuZWVkIHRvIGtlZXAgbG9va2luZy4uLlxuICAgICAgICBpZiAodGhpcy5mb3VuZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIHN3aXRjaCBsb29rYWhlYWRzIGFzIHRoZXkgZG8gbm90IGFjdHVhbGx5IGNvbnN1bWUgYW55IGNoYXJhY3RlcnMgdGh1c1xuICAgICAgICAvLyBmaW5kaW5nIGEgY2hhckNvZGUgYXQgbG9va2FoZWFkIGNvbnRleHQgZG9lcyBub3QgbWVhbiB0aGF0IHJlZ2V4cCBjYW4gYWN0dWFsbHkgY29udGFpbiBpdCBpbiBhIG1hdGNoLlxuICAgICAgICBzd2l0Y2ggKG5vZGUudHlwZSkge1xuICAgICAgICAgICAgY2FzZSBcIkxvb2thaGVhZFwiOlxuICAgICAgICAgICAgICAgIHRoaXMudmlzaXRMb29rYWhlYWQobm9kZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY2FzZSBcIk5lZ2F0aXZlTG9va2FoZWFkXCI6XG4gICAgICAgICAgICAgICAgdGhpcy52aXNpdE5lZ2F0aXZlTG9va2FoZWFkKG5vZGUpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLnZpc2l0Q2hpbGRyZW4uY2FsbCh0aGlzLCBub2RlKTtcbiAgICB9O1xuICAgIENoYXJDb2RlRmluZGVyLnByb3RvdHlwZS52aXNpdENoYXJhY3RlciA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgIGlmIChjb250YWlucyh0aGlzLnRhcmdldENoYXJDb2Rlcywgbm9kZS52YWx1ZSkpIHtcbiAgICAgICAgICAgIHRoaXMuZm91bmQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBDaGFyQ29kZUZpbmRlci5wcm90b3R5cGUudmlzaXRTZXQgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICBpZiAobm9kZS5jb21wbGVtZW50KSB7XG4gICAgICAgICAgICBpZiAoZmluZENvZGUobm9kZSwgdGhpcy50YXJnZXRDaGFyQ29kZXMpID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChmaW5kQ29kZShub2RlLCB0aGlzLnRhcmdldENoYXJDb2RlcykgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQ2hhckNvZGVGaW5kZXI7XG59KEJhc2VSZWdFeHBWaXNpdG9yKSk7XG5leHBvcnQgZnVuY3Rpb24gY2FuTWF0Y2hDaGFyQ29kZShjaGFyQ29kZXMsIHBhdHRlcm4pIHtcbiAgICBpZiAocGF0dGVybiBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuICAgICAgICB2YXIgYXN0ID0gZ2V0UmVnRXhwQXN0KHBhdHRlcm4pO1xuICAgICAgICB2YXIgY2hhckNvZGVGaW5kZXIgPSBuZXcgQ2hhckNvZGVGaW5kZXIoY2hhckNvZGVzKTtcbiAgICAgICAgY2hhckNvZGVGaW5kZXIudmlzaXQoYXN0KTtcbiAgICAgICAgcmV0dXJuIGNoYXJDb2RlRmluZGVyLmZvdW5kO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIChmaW5kKHBhdHRlcm4sIGZ1bmN0aW9uIChjaGFyKSB7XG4gICAgICAgICAgICByZXR1cm4gY29udGFpbnMoY2hhckNvZGVzLCBjaGFyLmNoYXJDb2RlQXQoMCkpO1xuICAgICAgICB9KSAhPT0gdW5kZWZpbmVkKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZWdfZXhwLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0IHsgQmFzZVJlZ0V4cFZpc2l0b3IgfSBmcm9tIFwicmVnZXhwLXRvLWFzdFwiO1xuaW1wb3J0IHsgTGV4ZXIsIExleGVyRGVmaW5pdGlvbkVycm9yVHlwZSB9IGZyb20gXCIuL2xleGVyX3B1YmxpY1wiO1xuaW1wb3J0IHsgY29tcGFjdCwgY29udGFpbnMsIGRlZmF1bHRzLCBkaWZmZXJlbmNlLCBmaWx0ZXIsIGZpbmQsIGZpcnN0LCBmbGF0dGVuLCBmb3JFYWNoLCBoYXMsIGluZGV4T2YsIGlzQXJyYXksIGlzRW1wdHksIGlzRnVuY3Rpb24sIGlzUmVnRXhwLCBpc1N0cmluZywgaXNVbmRlZmluZWQsIGtleXMsIG1hcCwgbWFwVmFsdWVzLCBwYWNrQXJyYXksIFBSSU5UX0VSUk9SLCByZWR1Y2UsIHJlamVjdCB9IGZyb20gXCIuLi91dGlscy91dGlsc1wiO1xuaW1wb3J0IHsgY2FuTWF0Y2hDaGFyQ29kZSwgZmFpbGVkT3B0aW1pemF0aW9uUHJlZml4TXNnLCBnZXRPcHRpbWl6ZWRTdGFydENvZGVzSW5kaWNlcyB9IGZyb20gXCIuL3JlZ19leHBcIjtcbmltcG9ydCB7IGdldFJlZ0V4cEFzdCB9IGZyb20gXCIuL3JlZ19leHBfcGFyc2VyXCI7XG52YXIgUEFUVEVSTiA9IFwiUEFUVEVSTlwiO1xuZXhwb3J0IHZhciBERUZBVUxUX01PREUgPSBcImRlZmF1bHRNb2RlXCI7XG5leHBvcnQgdmFyIE1PREVTID0gXCJtb2Rlc1wiO1xuZXhwb3J0IHZhciBTVVBQT1JUX1NUSUNLWSA9IHR5cGVvZiBuZXcgUmVnRXhwKFwiKD86KVwiKS5zdGlja3kgPT09IFwiYm9vbGVhblwiO1xuZXhwb3J0IGZ1bmN0aW9uIGRpc2FibGVTdGlja3koKSB7XG4gICAgU1VQUE9SVF9TVElDS1kgPSBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBlbmFibGVTdGlja3koKSB7XG4gICAgU1VQUE9SVF9TVElDS1kgPSB0cnVlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGFuYWx5emVUb2tlblR5cGVzKHRva2VuVHlwZXMsIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gZGVmYXVsdHMob3B0aW9ucywge1xuICAgICAgICB1c2VTdGlja3k6IFNVUFBPUlRfU1RJQ0tZLFxuICAgICAgICBkZWJ1ZzogZmFsc2UsXG4gICAgICAgIHNhZmVNb2RlOiBmYWxzZSxcbiAgICAgICAgcG9zaXRpb25UcmFja2luZzogXCJmdWxsXCIsXG4gICAgICAgIGxpbmVUZXJtaW5hdG9yQ2hhcmFjdGVyczogW1wiXFxyXCIsIFwiXFxuXCJdLFxuICAgICAgICB0cmFjZXI6IGZ1bmN0aW9uIChtc2csIGFjdGlvbikgeyByZXR1cm4gYWN0aW9uKCk7IH1cbiAgICB9KTtcbiAgICB2YXIgdHJhY2VyID0gb3B0aW9ucy50cmFjZXI7XG4gICAgdHJhY2VyKFwiaW5pdENoYXJDb2RlVG9PcHRpbWl6ZWRJbmRleE1hcFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGluaXRDaGFyQ29kZVRvT3B0aW1pemVkSW5kZXhNYXAoKTtcbiAgICB9KTtcbiAgICB2YXIgb25seVJlbGV2YW50VHlwZXM7XG4gICAgdHJhY2VyKFwiUmVqZWN0IExleGVyLk5BXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgb25seVJlbGV2YW50VHlwZXMgPSByZWplY3QodG9rZW5UeXBlcywgZnVuY3Rpb24gKGN1cnJUeXBlKSB7XG4gICAgICAgICAgICByZXR1cm4gY3VyclR5cGVbUEFUVEVSTl0gPT09IExleGVyLk5BO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICB2YXIgaGFzQ3VzdG9tID0gZmFsc2U7XG4gICAgdmFyIGFsbFRyYW5zZm9ybWVkUGF0dGVybnM7XG4gICAgdHJhY2VyKFwiVHJhbnNmb3JtIFBhdHRlcm5zXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaGFzQ3VzdG9tID0gZmFsc2U7XG4gICAgICAgIGFsbFRyYW5zZm9ybWVkUGF0dGVybnMgPSBtYXAob25seVJlbGV2YW50VHlwZXMsIGZ1bmN0aW9uIChjdXJyVHlwZSkge1xuICAgICAgICAgICAgdmFyIGN1cnJQYXR0ZXJuID0gY3VyclR5cGVbUEFUVEVSTl07XG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICAgICAgaWYgKGlzUmVnRXhwKGN1cnJQYXR0ZXJuKSkge1xuICAgICAgICAgICAgICAgIHZhciByZWdFeHBTb3VyY2UgPSBjdXJyUGF0dGVybi5zb3VyY2U7XG4gICAgICAgICAgICAgICAgaWYgKHJlZ0V4cFNvdXJjZS5sZW5ndGggPT09IDEgJiZcbiAgICAgICAgICAgICAgICAgICAgLy8gb25seSB0aGVzZSByZWdFeHAgbWV0YSBjaGFyYWN0ZXJzIHdoaWNoIGNhbiBhcHBlYXIgaW4gYSBsZW5ndGggb25lIHJlZ0V4cFxuICAgICAgICAgICAgICAgICAgICByZWdFeHBTb3VyY2UgIT09IFwiXlwiICYmXG4gICAgICAgICAgICAgICAgICAgIHJlZ0V4cFNvdXJjZSAhPT0gXCIkXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgcmVnRXhwU291cmNlICE9PSBcIi5cIiAmJlxuICAgICAgICAgICAgICAgICAgICAhY3VyclBhdHRlcm4uaWdub3JlQ2FzZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnRXhwU291cmNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChyZWdFeHBTb3VyY2UubGVuZ3RoID09PSAyICYmXG4gICAgICAgICAgICAgICAgICAgIHJlZ0V4cFNvdXJjZVswXSA9PT0gXCJcXFxcXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgLy8gbm90IGEgbWV0YSBjaGFyYWN0ZXJcbiAgICAgICAgICAgICAgICAgICAgIWNvbnRhaW5zKFtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJEXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInNcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiU1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiY1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ2XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIndcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiV1wiXG4gICAgICAgICAgICAgICAgICAgIF0sIHJlZ0V4cFNvdXJjZVsxXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNjYXBlZCBtZXRhIENoYXJhY3RlcnM6IC9cXCsvIC9cXFsvXG4gICAgICAgICAgICAgICAgICAgIC8vIG9yIHJlZHVuZGFudCBlc2NhcGluZzogL1xcYS9cbiAgICAgICAgICAgICAgICAgICAgLy8gd2l0aG91dCB0aGUgZXNjYXBpbmcgXCJcXFwiXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdFeHBTb3VyY2VbMV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3B0aW9ucy51c2VTdGlja3lcbiAgICAgICAgICAgICAgICAgICAgICAgID8gYWRkU3RpY2t5RmxhZyhjdXJyUGF0dGVybilcbiAgICAgICAgICAgICAgICAgICAgICAgIDogYWRkU3RhcnRPZklucHV0KGN1cnJQYXR0ZXJuKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc0Z1bmN0aW9uKGN1cnJQYXR0ZXJuKSkge1xuICAgICAgICAgICAgICAgIGhhc0N1c3RvbSA9IHRydWU7XG4gICAgICAgICAgICAgICAgLy8gQ3VzdG9tUGF0dGVybk1hdGNoZXJGdW5jIC0gY3VzdG9tIHBhdHRlcm5zIGRvIG5vdCByZXF1aXJlIGFueSB0cmFuc2Zvcm1hdGlvbnMsIG9ubHkgd3JhcHBpbmcgaW4gYSBSZWdFeHAgTGlrZSBvYmplY3RcbiAgICAgICAgICAgICAgICByZXR1cm4geyBleGVjOiBjdXJyUGF0dGVybiB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaGFzKGN1cnJQYXR0ZXJuLCBcImV4ZWNcIikpIHtcbiAgICAgICAgICAgICAgICBoYXNDdXN0b20gPSB0cnVlO1xuICAgICAgICAgICAgICAgIC8vIElDdXN0b21QYXR0ZXJuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGN1cnJQYXR0ZXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIGN1cnJQYXR0ZXJuID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJQYXR0ZXJuLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3VyclBhdHRlcm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZXNjYXBlZFJlZ0V4cFN0cmluZyA9IGN1cnJQYXR0ZXJuLnJlcGxhY2UoL1tcXFxcXiQuKis/KClbXFxde318XS9nLCBcIlxcXFwkJlwiKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHdyYXBwZWRSZWdFeHAgPSBuZXcgUmVnRXhwKGVzY2FwZWRSZWdFeHBTdHJpbmcpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3B0aW9ucy51c2VTdGlja3lcbiAgICAgICAgICAgICAgICAgICAgICAgID8gYWRkU3RpY2t5RmxhZyh3cmFwcGVkUmVnRXhwKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBhZGRTdGFydE9mSW5wdXQod3JhcHBlZFJlZ0V4cCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJub24gZXhoYXVzdGl2ZSBtYXRjaFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgdmFyIHBhdHRlcm5JZHhUb1R5cGU7XG4gICAgdmFyIHBhdHRlcm5JZHhUb0dyb3VwO1xuICAgIHZhciBwYXR0ZXJuSWR4VG9Mb25nZXJBbHRJZHg7XG4gICAgdmFyIHBhdHRlcm5JZHhUb1B1c2hNb2RlO1xuICAgIHZhciBwYXR0ZXJuSWR4VG9Qb3BNb2RlO1xuICAgIHRyYWNlcihcIm1pc2MgbWFwcGluZ1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHBhdHRlcm5JZHhUb1R5cGUgPSBtYXAob25seVJlbGV2YW50VHlwZXMsIGZ1bmN0aW9uIChjdXJyVHlwZSkgeyByZXR1cm4gY3VyclR5cGUudG9rZW5UeXBlSWR4OyB9KTtcbiAgICAgICAgcGF0dGVybklkeFRvR3JvdXAgPSBtYXAob25seVJlbGV2YW50VHlwZXMsIGZ1bmN0aW9uIChjbGF6eikge1xuICAgICAgICAgICAgdmFyIGdyb3VwTmFtZSA9IGNsYXp6LkdST1VQO1xuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgICAgIGlmIChncm91cE5hbWUgPT09IExleGVyLlNLSVBQRUQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNTdHJpbmcoZ3JvdXBOYW1lKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBncm91cE5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc1VuZGVmaW5lZChncm91cE5hbWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJub24gZXhoYXVzdGl2ZSBtYXRjaFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHBhdHRlcm5JZHhUb0xvbmdlckFsdElkeCA9IG1hcChvbmx5UmVsZXZhbnRUeXBlcywgZnVuY3Rpb24gKGNsYXp6KSB7XG4gICAgICAgICAgICB2YXIgbG9uZ2VyQWx0VHlwZSA9IGNsYXp6LkxPTkdFUl9BTFQ7XG4gICAgICAgICAgICBpZiAobG9uZ2VyQWx0VHlwZSkge1xuICAgICAgICAgICAgICAgIHZhciBsb25nZXJBbHRJZHggPSBpbmRleE9mKG9ubHlSZWxldmFudFR5cGVzLCBsb25nZXJBbHRUeXBlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbG9uZ2VyQWx0SWR4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcGF0dGVybklkeFRvUHVzaE1vZGUgPSBtYXAob25seVJlbGV2YW50VHlwZXMsIGZ1bmN0aW9uIChjbGF6eikgeyByZXR1cm4gY2xhenouUFVTSF9NT0RFOyB9KTtcbiAgICAgICAgcGF0dGVybklkeFRvUG9wTW9kZSA9IG1hcChvbmx5UmVsZXZhbnRUeXBlcywgZnVuY3Rpb24gKGNsYXp6KSB7XG4gICAgICAgICAgICByZXR1cm4gaGFzKGNsYXp6LCBcIlBPUF9NT0RFXCIpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICB2YXIgcGF0dGVybklkeFRvQ2FuTGluZVRlcm1pbmF0b3I7XG4gICAgdHJhY2VyKFwiTGluZSBUZXJtaW5hdG9yIEhhbmRsaW5nXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGxpbmVUZXJtaW5hdG9yQ2hhckNvZGVzID0gZ2V0Q2hhckNvZGVzKG9wdGlvbnMubGluZVRlcm1pbmF0b3JDaGFyYWN0ZXJzKTtcbiAgICAgICAgcGF0dGVybklkeFRvQ2FuTGluZVRlcm1pbmF0b3IgPSBtYXAob25seVJlbGV2YW50VHlwZXMsIGZ1bmN0aW9uICh0b2tUeXBlKSB7IHJldHVybiBmYWxzZTsgfSk7XG4gICAgICAgIGlmIChvcHRpb25zLnBvc2l0aW9uVHJhY2tpbmcgIT09IFwib25seU9mZnNldFwiKSB7XG4gICAgICAgICAgICBwYXR0ZXJuSWR4VG9DYW5MaW5lVGVybWluYXRvciA9IG1hcChvbmx5UmVsZXZhbnRUeXBlcywgZnVuY3Rpb24gKHRva1R5cGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoaGFzKHRva1R5cGUsIFwiTElORV9CUkVBS1NcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRva1R5cGUuTElORV9CUkVBS1M7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2tMaW5lQnJlYWtzSXNzdWVzKHRva1R5cGUsIGxpbmVUZXJtaW5hdG9yQ2hhckNvZGVzKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjYW5NYXRjaENoYXJDb2RlKGxpbmVUZXJtaW5hdG9yQ2hhckNvZGVzLCB0b2tUeXBlLlBBVFRFUk4pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICB2YXIgcGF0dGVybklkeFRvSXNDdXN0b207XG4gICAgdmFyIHBhdHRlcm5JZHhUb1Nob3J0O1xuICAgIHZhciBlbXB0eUdyb3VwcztcbiAgICB2YXIgcGF0dGVybklkeFRvQ29uZmlnO1xuICAgIHRyYWNlcihcIk1pc2MgTWFwcGluZyAjMlwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHBhdHRlcm5JZHhUb0lzQ3VzdG9tID0gbWFwKG9ubHlSZWxldmFudFR5cGVzLCBpc0N1c3RvbVBhdHRlcm4pO1xuICAgICAgICBwYXR0ZXJuSWR4VG9TaG9ydCA9IG1hcChhbGxUcmFuc2Zvcm1lZFBhdHRlcm5zLCBpc1Nob3J0UGF0dGVybik7XG4gICAgICAgIGVtcHR5R3JvdXBzID0gcmVkdWNlKG9ubHlSZWxldmFudFR5cGVzLCBmdW5jdGlvbiAoYWNjLCBjbGF6eikge1xuICAgICAgICAgICAgdmFyIGdyb3VwTmFtZSA9IGNsYXp6LkdST1VQO1xuICAgICAgICAgICAgaWYgKGlzU3RyaW5nKGdyb3VwTmFtZSkgJiYgIShncm91cE5hbWUgPT09IExleGVyLlNLSVBQRUQpKSB7XG4gICAgICAgICAgICAgICAgYWNjW2dyb3VwTmFtZV0gPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH0sIHt9KTtcbiAgICAgICAgcGF0dGVybklkeFRvQ29uZmlnID0gbWFwKGFsbFRyYW5zZm9ybWVkUGF0dGVybnMsIGZ1bmN0aW9uICh4LCBpZHgpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgcGF0dGVybjogYWxsVHJhbnNmb3JtZWRQYXR0ZXJuc1tpZHhdLFxuICAgICAgICAgICAgICAgIGxvbmdlckFsdDogcGF0dGVybklkeFRvTG9uZ2VyQWx0SWR4W2lkeF0sXG4gICAgICAgICAgICAgICAgY2FuTGluZVRlcm1pbmF0b3I6IHBhdHRlcm5JZHhUb0NhbkxpbmVUZXJtaW5hdG9yW2lkeF0sXG4gICAgICAgICAgICAgICAgaXNDdXN0b206IHBhdHRlcm5JZHhUb0lzQ3VzdG9tW2lkeF0sXG4gICAgICAgICAgICAgICAgc2hvcnQ6IHBhdHRlcm5JZHhUb1Nob3J0W2lkeF0sXG4gICAgICAgICAgICAgICAgZ3JvdXA6IHBhdHRlcm5JZHhUb0dyb3VwW2lkeF0sXG4gICAgICAgICAgICAgICAgcHVzaDogcGF0dGVybklkeFRvUHVzaE1vZGVbaWR4XSxcbiAgICAgICAgICAgICAgICBwb3A6IHBhdHRlcm5JZHhUb1BvcE1vZGVbaWR4XSxcbiAgICAgICAgICAgICAgICB0b2tlblR5cGVJZHg6IHBhdHRlcm5JZHhUb1R5cGVbaWR4XSxcbiAgICAgICAgICAgICAgICB0b2tlblR5cGU6IG9ubHlSZWxldmFudFR5cGVzW2lkeF1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIHZhciBjYW5CZU9wdGltaXplZCA9IHRydWU7XG4gICAgdmFyIGNoYXJDb2RlVG9QYXR0ZXJuSWR4VG9Db25maWcgPSBbXTtcbiAgICBpZiAoIW9wdGlvbnMuc2FmZU1vZGUpIHtcbiAgICAgICAgdHJhY2VyKFwiRmlyc3QgQ2hhciBPcHRpbWl6YXRpb25cIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY2hhckNvZGVUb1BhdHRlcm5JZHhUb0NvbmZpZyA9IHJlZHVjZShvbmx5UmVsZXZhbnRUeXBlcywgZnVuY3Rpb24gKHJlc3VsdCwgY3VyclRva1R5cGUsIGlkeCkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY3VyclRva1R5cGUuUEFUVEVSTiA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY2hhckNvZGUgPSBjdXJyVG9rVHlwZS5QQVRURVJOLmNoYXJDb2RlQXQoMCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBvcHRpbWl6ZWRJZHggPSBjaGFyQ29kZVRvT3B0aW1pemVkSW5kZXgoY2hhckNvZGUpO1xuICAgICAgICAgICAgICAgICAgICBhZGRUb01hcE9mQXJyYXlzKHJlc3VsdCwgb3B0aW1pemVkSWR4LCBwYXR0ZXJuSWR4VG9Db25maWdbaWR4XSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzQXJyYXkoY3VyclRva1R5cGUuU1RBUlRfQ0hBUlNfSElOVCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxhc3RPcHRpbWl6ZWRJZHhfMTtcbiAgICAgICAgICAgICAgICAgICAgZm9yRWFjaChjdXJyVG9rVHlwZS5TVEFSVF9DSEFSU19ISU5ULCBmdW5jdGlvbiAoY2hhck9ySW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2hhckNvZGUgPSB0eXBlb2YgY2hhck9ySW50ID09PSBcInN0cmluZ1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBjaGFyT3JJbnQuY2hhckNvZGVBdCgwKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogY2hhck9ySW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJPcHRpbWl6ZWRJZHggPSBjaGFyQ29kZVRvT3B0aW1pemVkSW5kZXgoY2hhckNvZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQXZvaWQgYWRkaW5nIHRoZSBjb25maWcgbXVsdGlwbGUgdGltZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAtIERpZmZpY3VsdCB0byBjaGVjayB0aGlzIHNjZW5hcmlvIGVmZmVjdHMgYXMgaXQgaXMgb25seSBhIHBlcmZvcm1hbmNlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgIG9wdGltaXphdGlvbiB0aGF0IGRvZXMgbm90IGNoYW5nZSBjb3JyZWN0bmVzc1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxhc3RPcHRpbWl6ZWRJZHhfMSAhPT0gY3Vyck9wdGltaXplZElkeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RPcHRpbWl6ZWRJZHhfMSA9IGN1cnJPcHRpbWl6ZWRJZHg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9NYXBPZkFycmF5cyhyZXN1bHQsIGN1cnJPcHRpbWl6ZWRJZHgsIHBhdHRlcm5JZHhUb0NvbmZpZ1tpZHhdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzUmVnRXhwKGN1cnJUb2tUeXBlLlBBVFRFUk4pKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyVG9rVHlwZS5QQVRURVJOLnVuaWNvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbkJlT3B0aW1pemVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5lbnN1cmVPcHRpbWl6YXRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUFJJTlRfRVJST1IoXCJcIiArIGZhaWxlZE9wdGltaXphdGlvblByZWZpeE1zZyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChcIlxcdFVuYWJsZSB0byBhbmFseXplIDwgXCIgKyBjdXJyVG9rVHlwZS5QQVRURVJOLnRvU3RyaW5nKCkgKyBcIiA+IHBhdHRlcm4uXFxuXCIpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcXHRUaGUgcmVnZXhwIHVuaWNvZGUgZmxhZyBpcyBub3QgY3VycmVudGx5IHN1cHBvcnRlZCBieSB0aGUgcmVnZXhwLXRvLWFzdCBsaWJyYXJ5LlxcblwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcXHRUaGlzIHdpbGwgZGlzYWJsZSB0aGUgbGV4ZXIncyBmaXJzdCBjaGFyIG9wdGltaXphdGlvbnMuXFxuXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlxcdEZvciBkZXRhaWxzIFNlZTogaHR0cHM6Ly9zYXAuZ2l0aHViLmlvL2NoZXZyb3RhaW4vZG9jcy9ndWlkZS9yZXNvbHZpbmdfbGV4ZXJfZXJyb3JzLmh0bWwjVU5JQ09ERV9PUFRJTUlaRVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvcHRpbWl6ZWRDb2RlcyA9IGdldE9wdGltaXplZFN0YXJ0Q29kZXNJbmRpY2VzKGN1cnJUb2tUeXBlLlBBVFRFUk4sIG9wdGlvbnMuZW5zdXJlT3B0aW1pemF0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN0YXJ0IGNvZGUgd2lsbCBvbmx5IGJlIGVtcHR5IGdpdmVuIGFuIGVtcHR5IHJlZ0V4cCBvciBmYWlsdXJlIG9mIHJlZ2V4cC10by1hc3QgbGlicmFyeVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIGZpcnN0IHNob3VsZCBiZSBhIGRpZmZlcmVudCB2YWxpZGF0aW9uIGFuZCB0aGUgc2Vjb25kIGNhbm5vdCBiZSB0ZXN0ZWQuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNFbXB0eShvcHRpbWl6ZWRDb2RlcykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB3ZSBjYW5ub3QgdW5kZXJzdGFuZCB3aGF0IGNvZGVzIG1heSBzdGFydCBwb3NzaWJsZSBtYXRjaGVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIG9wdGltaXphdGlvbiBjb3JyZWN0bmVzcyByZXF1aXJlcyBrbm93aW5nIHN0YXJ0IGNvZGVzIGZvciBBTEwgcGF0dGVybnMuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTm90IGFjdHVhbGx5IHN1cmUgdGhpcyBpcyBhbiBlcnJvciwgbm8gZGVidWcgbWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbkJlT3B0aW1pemVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JFYWNoKG9wdGltaXplZENvZGVzLCBmdW5jdGlvbiAoY29kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvTWFwT2ZBcnJheXMocmVzdWx0LCBjb2RlLCBwYXR0ZXJuSWR4VG9Db25maWdbaWR4XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuZW5zdXJlT3B0aW1pemF0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgUFJJTlRfRVJST1IoXCJcIiArIGZhaWxlZE9wdGltaXphdGlvblByZWZpeE1zZyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKFwiXFx0VG9rZW5UeXBlOiA8XCIgKyBjdXJyVG9rVHlwZS5uYW1lICsgXCI+IGlzIHVzaW5nIGEgY3VzdG9tIHRva2VuIHBhdHRlcm4gd2l0aG91dCBwcm92aWRpbmcgPHN0YXJ0X2NoYXJzX2hpbnQ+IHBhcmFtZXRlci5cXG5cIikgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXFx0VGhpcyB3aWxsIGRpc2FibGUgdGhlIGxleGVyJ3MgZmlyc3QgY2hhciBvcHRpbWl6YXRpb25zLlxcblwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlxcdEZvciBkZXRhaWxzIFNlZTogaHR0cHM6Ly9zYXAuZ2l0aHViLmlvL2NoZXZyb3RhaW4vZG9jcy9ndWlkZS9yZXNvbHZpbmdfbGV4ZXJfZXJyb3JzLmh0bWwjQ1VTVE9NX09QVElNSVpFXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhbkJlT3B0aW1pemVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9LCBbXSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB0cmFjZXIoXCJBcnJheVBhY2tpbmdcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICBjaGFyQ29kZVRvUGF0dGVybklkeFRvQ29uZmlnID0gcGFja0FycmF5KGNoYXJDb2RlVG9QYXR0ZXJuSWR4VG9Db25maWcpO1xuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICAgIGVtcHR5R3JvdXBzOiBlbXB0eUdyb3VwcyxcbiAgICAgICAgcGF0dGVybklkeFRvQ29uZmlnOiBwYXR0ZXJuSWR4VG9Db25maWcsXG4gICAgICAgIGNoYXJDb2RlVG9QYXR0ZXJuSWR4VG9Db25maWc6IGNoYXJDb2RlVG9QYXR0ZXJuSWR4VG9Db25maWcsXG4gICAgICAgIGhhc0N1c3RvbTogaGFzQ3VzdG9tLFxuICAgICAgICBjYW5CZU9wdGltaXplZDogY2FuQmVPcHRpbWl6ZWRcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlUGF0dGVybnModG9rZW5UeXBlcywgdmFsaWRNb2Rlc05hbWVzKSB7XG4gICAgdmFyIGVycm9ycyA9IFtdO1xuICAgIHZhciBtaXNzaW5nUmVzdWx0ID0gZmluZE1pc3NpbmdQYXR0ZXJucyh0b2tlblR5cGVzKTtcbiAgICBlcnJvcnMgPSBlcnJvcnMuY29uY2F0KG1pc3NpbmdSZXN1bHQuZXJyb3JzKTtcbiAgICB2YXIgaW52YWxpZFJlc3VsdCA9IGZpbmRJbnZhbGlkUGF0dGVybnMobWlzc2luZ1Jlc3VsdC52YWxpZCk7XG4gICAgdmFyIHZhbGlkVG9rZW5UeXBlcyA9IGludmFsaWRSZXN1bHQudmFsaWQ7XG4gICAgZXJyb3JzID0gZXJyb3JzLmNvbmNhdChpbnZhbGlkUmVzdWx0LmVycm9ycyk7XG4gICAgZXJyb3JzID0gZXJyb3JzLmNvbmNhdCh2YWxpZGF0ZVJlZ0V4cFBhdHRlcm4odmFsaWRUb2tlblR5cGVzKSk7XG4gICAgZXJyb3JzID0gZXJyb3JzLmNvbmNhdChmaW5kSW52YWxpZEdyb3VwVHlwZSh2YWxpZFRva2VuVHlwZXMpKTtcbiAgICBlcnJvcnMgPSBlcnJvcnMuY29uY2F0KGZpbmRNb2Rlc1RoYXREb05vdEV4aXN0KHZhbGlkVG9rZW5UeXBlcywgdmFsaWRNb2Rlc05hbWVzKSk7XG4gICAgZXJyb3JzID0gZXJyb3JzLmNvbmNhdChmaW5kVW5yZWFjaGFibGVQYXR0ZXJucyh2YWxpZFRva2VuVHlwZXMpKTtcbiAgICByZXR1cm4gZXJyb3JzO1xufVxuZnVuY3Rpb24gdmFsaWRhdGVSZWdFeHBQYXR0ZXJuKHRva2VuVHlwZXMpIHtcbiAgICB2YXIgZXJyb3JzID0gW107XG4gICAgdmFyIHdpdGhSZWdFeHBQYXR0ZXJucyA9IGZpbHRlcih0b2tlblR5cGVzLCBmdW5jdGlvbiAoY3VyclRva1R5cGUpIHtcbiAgICAgICAgcmV0dXJuIGlzUmVnRXhwKGN1cnJUb2tUeXBlW1BBVFRFUk5dKTtcbiAgICB9KTtcbiAgICBlcnJvcnMgPSBlcnJvcnMuY29uY2F0KGZpbmRFbmRPZklucHV0QW5jaG9yKHdpdGhSZWdFeHBQYXR0ZXJucykpO1xuICAgIGVycm9ycyA9IGVycm9ycy5jb25jYXQoZmluZFN0YXJ0T2ZJbnB1dEFuY2hvcih3aXRoUmVnRXhwUGF0dGVybnMpKTtcbiAgICBlcnJvcnMgPSBlcnJvcnMuY29uY2F0KGZpbmRVbnN1cHBvcnRlZEZsYWdzKHdpdGhSZWdFeHBQYXR0ZXJucykpO1xuICAgIGVycm9ycyA9IGVycm9ycy5jb25jYXQoZmluZER1cGxpY2F0ZVBhdHRlcm5zKHdpdGhSZWdFeHBQYXR0ZXJucykpO1xuICAgIGVycm9ycyA9IGVycm9ycy5jb25jYXQoZmluZEVtcHR5TWF0Y2hSZWdFeHBzKHdpdGhSZWdFeHBQYXR0ZXJucykpO1xuICAgIHJldHVybiBlcnJvcnM7XG59XG5leHBvcnQgZnVuY3Rpb24gZmluZE1pc3NpbmdQYXR0ZXJucyh0b2tlblR5cGVzKSB7XG4gICAgdmFyIHRva2VuVHlwZXNXaXRoTWlzc2luZ1BhdHRlcm4gPSBmaWx0ZXIodG9rZW5UeXBlcywgZnVuY3Rpb24gKGN1cnJUeXBlKSB7XG4gICAgICAgIHJldHVybiAhaGFzKGN1cnJUeXBlLCBQQVRURVJOKTtcbiAgICB9KTtcbiAgICB2YXIgZXJyb3JzID0gbWFwKHRva2VuVHlwZXNXaXRoTWlzc2luZ1BhdHRlcm4sIGZ1bmN0aW9uIChjdXJyVHlwZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWVzc2FnZTogXCJUb2tlbiBUeXBlOiAtPlwiICtcbiAgICAgICAgICAgICAgICBjdXJyVHlwZS5uYW1lICtcbiAgICAgICAgICAgICAgICBcIjwtIG1pc3Npbmcgc3RhdGljICdQQVRURVJOJyBwcm9wZXJ0eVwiLFxuICAgICAgICAgICAgdHlwZTogTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlLk1JU1NJTkdfUEFUVEVSTixcbiAgICAgICAgICAgIHRva2VuVHlwZXM6IFtjdXJyVHlwZV1cbiAgICAgICAgfTtcbiAgICB9KTtcbiAgICB2YXIgdmFsaWQgPSBkaWZmZXJlbmNlKHRva2VuVHlwZXMsIHRva2VuVHlwZXNXaXRoTWlzc2luZ1BhdHRlcm4pO1xuICAgIHJldHVybiB7IGVycm9yczogZXJyb3JzLCB2YWxpZDogdmFsaWQgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmaW5kSW52YWxpZFBhdHRlcm5zKHRva2VuVHlwZXMpIHtcbiAgICB2YXIgdG9rZW5UeXBlc1dpdGhJbnZhbGlkUGF0dGVybiA9IGZpbHRlcih0b2tlblR5cGVzLCBmdW5jdGlvbiAoY3VyclR5cGUpIHtcbiAgICAgICAgdmFyIHBhdHRlcm4gPSBjdXJyVHlwZVtQQVRURVJOXTtcbiAgICAgICAgcmV0dXJuICghaXNSZWdFeHAocGF0dGVybikgJiZcbiAgICAgICAgICAgICFpc0Z1bmN0aW9uKHBhdHRlcm4pICYmXG4gICAgICAgICAgICAhaGFzKHBhdHRlcm4sIFwiZXhlY1wiKSAmJlxuICAgICAgICAgICAgIWlzU3RyaW5nKHBhdHRlcm4pKTtcbiAgICB9KTtcbiAgICB2YXIgZXJyb3JzID0gbWFwKHRva2VuVHlwZXNXaXRoSW52YWxpZFBhdHRlcm4sIGZ1bmN0aW9uIChjdXJyVHlwZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWVzc2FnZTogXCJUb2tlbiBUeXBlOiAtPlwiICtcbiAgICAgICAgICAgICAgICBjdXJyVHlwZS5uYW1lICtcbiAgICAgICAgICAgICAgICBcIjwtIHN0YXRpYyAnUEFUVEVSTicgY2FuIG9ubHkgYmUgYSBSZWdFeHAsIGFcIiArXG4gICAgICAgICAgICAgICAgXCIgRnVuY3Rpb24gbWF0Y2hpbmcgdGhlIHtDdXN0b21QYXR0ZXJuTWF0Y2hlckZ1bmN9IHR5cGUgb3IgYW4gT2JqZWN0IG1hdGNoaW5nIHRoZSB7SUN1c3RvbVBhdHRlcm59IGludGVyZmFjZS5cIixcbiAgICAgICAgICAgIHR5cGU6IExleGVyRGVmaW5pdGlvbkVycm9yVHlwZS5JTlZBTElEX1BBVFRFUk4sXG4gICAgICAgICAgICB0b2tlblR5cGVzOiBbY3VyclR5cGVdXG4gICAgICAgIH07XG4gICAgfSk7XG4gICAgdmFyIHZhbGlkID0gZGlmZmVyZW5jZSh0b2tlblR5cGVzLCB0b2tlblR5cGVzV2l0aEludmFsaWRQYXR0ZXJuKTtcbiAgICByZXR1cm4geyBlcnJvcnM6IGVycm9ycywgdmFsaWQ6IHZhbGlkIH07XG59XG52YXIgZW5kX29mX2lucHV0ID0gL1teXFxcXF1bXFwkXS87XG5leHBvcnQgZnVuY3Rpb24gZmluZEVuZE9mSW5wdXRBbmNob3IodG9rZW5UeXBlcykge1xuICAgIHZhciBFbmRBbmNob3JGaW5kZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgICAgIF9fZXh0ZW5kcyhFbmRBbmNob3JGaW5kZXIsIF9zdXBlcik7XG4gICAgICAgIGZ1bmN0aW9uIEVuZEFuY2hvckZpbmRlcigpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgICAgICAgX3RoaXMuZm91bmQgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgfVxuICAgICAgICBFbmRBbmNob3JGaW5kZXIucHJvdG90eXBlLnZpc2l0RW5kQW5jaG9yID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICAgIHRoaXMuZm91bmQgPSB0cnVlO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gRW5kQW5jaG9yRmluZGVyO1xuICAgIH0oQmFzZVJlZ0V4cFZpc2l0b3IpKTtcbiAgICB2YXIgaW52YWxpZFJlZ2V4ID0gZmlsdGVyKHRva2VuVHlwZXMsIGZ1bmN0aW9uIChjdXJyVHlwZSkge1xuICAgICAgICB2YXIgcGF0dGVybiA9IGN1cnJUeXBlW1BBVFRFUk5dO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIHJlZ2V4cEFzdCA9IGdldFJlZ0V4cEFzdChwYXR0ZXJuKTtcbiAgICAgICAgICAgIHZhciBlbmRBbmNob3JWaXNpdG9yID0gbmV3IEVuZEFuY2hvckZpbmRlcigpO1xuICAgICAgICAgICAgZW5kQW5jaG9yVmlzaXRvci52aXNpdChyZWdleHBBc3QpO1xuICAgICAgICAgICAgcmV0dXJuIGVuZEFuY2hvclZpc2l0b3IuZm91bmQ7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8vIG9sZCBiZWhhdmlvciBpbiBjYXNlIG9mIHJ1bnRpbWUgZXhjZXB0aW9ucyB3aXRoIHJlZ2V4cC10by1hc3QuXG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAtIGNhbm5vdCBlbnN1cmUgYW4gZXJyb3IgaW4gcmVnZXhwLXRvLWFzdCovXG4gICAgICAgICAgICByZXR1cm4gZW5kX29mX2lucHV0LnRlc3QocGF0dGVybi5zb3VyY2UpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgdmFyIGVycm9ycyA9IG1hcChpbnZhbGlkUmVnZXgsIGZ1bmN0aW9uIChjdXJyVHlwZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWVzc2FnZTogXCJVbmV4cGVjdGVkIFJlZ0V4cCBBbmNob3IgRXJyb3I6XFxuXCIgK1xuICAgICAgICAgICAgICAgIFwiXFx0VG9rZW4gVHlwZTogLT5cIiArXG4gICAgICAgICAgICAgICAgY3VyclR5cGUubmFtZSArXG4gICAgICAgICAgICAgICAgXCI8LSBzdGF0aWMgJ1BBVFRFUk4nIGNhbm5vdCBjb250YWluIGVuZCBvZiBpbnB1dCBhbmNob3IgJyQnXFxuXCIgK1xuICAgICAgICAgICAgICAgIFwiXFx0U2VlIHNhcC5naXRodWIuaW8vY2hldnJvdGFpbi9kb2NzL2d1aWRlL3Jlc29sdmluZ19sZXhlcl9lcnJvcnMuaHRtbCNBTkNIT1JTXCIgK1xuICAgICAgICAgICAgICAgIFwiXFx0Zm9yIGRldGFpbHMuXCIsXG4gICAgICAgICAgICB0eXBlOiBMZXhlckRlZmluaXRpb25FcnJvclR5cGUuRU9JX0FOQ0hPUl9GT1VORCxcbiAgICAgICAgICAgIHRva2VuVHlwZXM6IFtjdXJyVHlwZV1cbiAgICAgICAgfTtcbiAgICB9KTtcbiAgICByZXR1cm4gZXJyb3JzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZpbmRFbXB0eU1hdGNoUmVnRXhwcyh0b2tlblR5cGVzKSB7XG4gICAgdmFyIG1hdGNoZXNFbXB0eVN0cmluZyA9IGZpbHRlcih0b2tlblR5cGVzLCBmdW5jdGlvbiAoY3VyclR5cGUpIHtcbiAgICAgICAgdmFyIHBhdHRlcm4gPSBjdXJyVHlwZVtQQVRURVJOXTtcbiAgICAgICAgcmV0dXJuIHBhdHRlcm4udGVzdChcIlwiKTtcbiAgICB9KTtcbiAgICB2YXIgZXJyb3JzID0gbWFwKG1hdGNoZXNFbXB0eVN0cmluZywgZnVuY3Rpb24gKGN1cnJUeXBlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIlRva2VuIFR5cGU6IC0+XCIgK1xuICAgICAgICAgICAgICAgIGN1cnJUeXBlLm5hbWUgK1xuICAgICAgICAgICAgICAgIFwiPC0gc3RhdGljICdQQVRURVJOJyBtdXN0IG5vdCBtYXRjaCBhbiBlbXB0eSBzdHJpbmdcIixcbiAgICAgICAgICAgIHR5cGU6IExleGVyRGVmaW5pdGlvbkVycm9yVHlwZS5FTVBUWV9NQVRDSF9QQVRURVJOLFxuICAgICAgICAgICAgdG9rZW5UeXBlczogW2N1cnJUeXBlXVxuICAgICAgICB9O1xuICAgIH0pO1xuICAgIHJldHVybiBlcnJvcnM7XG59XG52YXIgc3RhcnRfb2ZfaW5wdXQgPSAvW15cXFxcW11bXFxeXXxeXFxeLztcbmV4cG9ydCBmdW5jdGlvbiBmaW5kU3RhcnRPZklucHV0QW5jaG9yKHRva2VuVHlwZXMpIHtcbiAgICB2YXIgU3RhcnRBbmNob3JGaW5kZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgICAgIF9fZXh0ZW5kcyhTdGFydEFuY2hvckZpbmRlciwgX3N1cGVyKTtcbiAgICAgICAgZnVuY3Rpb24gU3RhcnRBbmNob3JGaW5kZXIoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICAgICAgICAgIF90aGlzLmZvdW5kID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICAgIH1cbiAgICAgICAgU3RhcnRBbmNob3JGaW5kZXIucHJvdG90eXBlLnZpc2l0U3RhcnRBbmNob3IgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgICAgdGhpcy5mb3VuZCA9IHRydWU7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBTdGFydEFuY2hvckZpbmRlcjtcbiAgICB9KEJhc2VSZWdFeHBWaXNpdG9yKSk7XG4gICAgdmFyIGludmFsaWRSZWdleCA9IGZpbHRlcih0b2tlblR5cGVzLCBmdW5jdGlvbiAoY3VyclR5cGUpIHtcbiAgICAgICAgdmFyIHBhdHRlcm4gPSBjdXJyVHlwZVtQQVRURVJOXTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciByZWdleHBBc3QgPSBnZXRSZWdFeHBBc3QocGF0dGVybik7XG4gICAgICAgICAgICB2YXIgc3RhcnRBbmNob3JWaXNpdG9yID0gbmV3IFN0YXJ0QW5jaG9yRmluZGVyKCk7XG4gICAgICAgICAgICBzdGFydEFuY2hvclZpc2l0b3IudmlzaXQocmVnZXhwQXN0KTtcbiAgICAgICAgICAgIHJldHVybiBzdGFydEFuY2hvclZpc2l0b3IuZm91bmQ7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8vIG9sZCBiZWhhdmlvciBpbiBjYXNlIG9mIHJ1bnRpbWUgZXhjZXB0aW9ucyB3aXRoIHJlZ2V4cC10by1hc3QuXG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAtIGNhbm5vdCBlbnN1cmUgYW4gZXJyb3IgaW4gcmVnZXhwLXRvLWFzdCovXG4gICAgICAgICAgICByZXR1cm4gc3RhcnRfb2ZfaW5wdXQudGVzdChwYXR0ZXJuLnNvdXJjZSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICB2YXIgZXJyb3JzID0gbWFwKGludmFsaWRSZWdleCwgZnVuY3Rpb24gKGN1cnJUeXBlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIlVuZXhwZWN0ZWQgUmVnRXhwIEFuY2hvciBFcnJvcjpcXG5cIiArXG4gICAgICAgICAgICAgICAgXCJcXHRUb2tlbiBUeXBlOiAtPlwiICtcbiAgICAgICAgICAgICAgICBjdXJyVHlwZS5uYW1lICtcbiAgICAgICAgICAgICAgICBcIjwtIHN0YXRpYyAnUEFUVEVSTicgY2Fubm90IGNvbnRhaW4gc3RhcnQgb2YgaW5wdXQgYW5jaG9yICdeJ1xcblwiICtcbiAgICAgICAgICAgICAgICBcIlxcdFNlZSBodHRwczovL3NhcC5naXRodWIuaW8vY2hldnJvdGFpbi9kb2NzL2d1aWRlL3Jlc29sdmluZ19sZXhlcl9lcnJvcnMuaHRtbCNBTkNIT1JTXCIgK1xuICAgICAgICAgICAgICAgIFwiXFx0Zm9yIGRldGFpbHMuXCIsXG4gICAgICAgICAgICB0eXBlOiBMZXhlckRlZmluaXRpb25FcnJvclR5cGUuU09JX0FOQ0hPUl9GT1VORCxcbiAgICAgICAgICAgIHRva2VuVHlwZXM6IFtjdXJyVHlwZV1cbiAgICAgICAgfTtcbiAgICB9KTtcbiAgICByZXR1cm4gZXJyb3JzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZpbmRVbnN1cHBvcnRlZEZsYWdzKHRva2VuVHlwZXMpIHtcbiAgICB2YXIgaW52YWxpZEZsYWdzID0gZmlsdGVyKHRva2VuVHlwZXMsIGZ1bmN0aW9uIChjdXJyVHlwZSkge1xuICAgICAgICB2YXIgcGF0dGVybiA9IGN1cnJUeXBlW1BBVFRFUk5dO1xuICAgICAgICByZXR1cm4gcGF0dGVybiBpbnN0YW5jZW9mIFJlZ0V4cCAmJiAocGF0dGVybi5tdWx0aWxpbmUgfHwgcGF0dGVybi5nbG9iYWwpO1xuICAgIH0pO1xuICAgIHZhciBlcnJvcnMgPSBtYXAoaW52YWxpZEZsYWdzLCBmdW5jdGlvbiAoY3VyclR5cGUpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiVG9rZW4gVHlwZTogLT5cIiArXG4gICAgICAgICAgICAgICAgY3VyclR5cGUubmFtZSArXG4gICAgICAgICAgICAgICAgXCI8LSBzdGF0aWMgJ1BBVFRFUk4nIG1heSBOT1QgY29udGFpbiBnbG9iYWwoJ2cnKSBvciBtdWx0aWxpbmUoJ20nKVwiLFxuICAgICAgICAgICAgdHlwZTogTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlLlVOU1VQUE9SVEVEX0ZMQUdTX0ZPVU5ELFxuICAgICAgICAgICAgdG9rZW5UeXBlczogW2N1cnJUeXBlXVxuICAgICAgICB9O1xuICAgIH0pO1xuICAgIHJldHVybiBlcnJvcnM7XG59XG4vLyBUaGlzIGNhbiBvbmx5IHRlc3QgZm9yIGlkZW50aWNhbCBkdXBsaWNhdGUgUmVnRXhwcywgbm90IHNlbWFudGljYWxseSBlcXVpdmFsZW50IG9uZXMuXG5leHBvcnQgZnVuY3Rpb24gZmluZER1cGxpY2F0ZVBhdHRlcm5zKHRva2VuVHlwZXMpIHtcbiAgICB2YXIgZm91bmQgPSBbXTtcbiAgICB2YXIgaWRlbnRpY2FsUGF0dGVybnMgPSBtYXAodG9rZW5UeXBlcywgZnVuY3Rpb24gKG91dGVyVHlwZSkge1xuICAgICAgICByZXR1cm4gcmVkdWNlKHRva2VuVHlwZXMsIGZ1bmN0aW9uIChyZXN1bHQsIGlubmVyVHlwZSkge1xuICAgICAgICAgICAgaWYgKG91dGVyVHlwZS5QQVRURVJOLnNvdXJjZSA9PT0gaW5uZXJUeXBlLlBBVFRFUk4uc291cmNlICYmXG4gICAgICAgICAgICAgICAgIWNvbnRhaW5zKGZvdW5kLCBpbm5lclR5cGUpICYmXG4gICAgICAgICAgICAgICAgaW5uZXJUeXBlLlBBVFRFUk4gIT09IExleGVyLk5BKSB7XG4gICAgICAgICAgICAgICAgLy8gdGhpcyBhdm9pZHMgZHVwbGljYXRlcyBpbiB0aGUgcmVzdWx0LCBlYWNoIFRva2VuIFR5cGUgbWF5IG9ubHkgYXBwZWFyIGluIG9uZSBcInNldFwiXG4gICAgICAgICAgICAgICAgLy8gaW4gZXNzZW5jZSB3ZSBhcmUgY3JlYXRpbmcgRXF1aXZhbGVuY2UgY2xhc3NlcyBvbiBlcXVhbGl0eSByZWxhdGlvbi5cbiAgICAgICAgICAgICAgICBmb3VuZC5wdXNoKGlubmVyVHlwZSk7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goaW5uZXJUeXBlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfSwgW10pO1xuICAgIH0pO1xuICAgIGlkZW50aWNhbFBhdHRlcm5zID0gY29tcGFjdChpZGVudGljYWxQYXR0ZXJucyk7XG4gICAgdmFyIGR1cGxpY2F0ZVBhdHRlcm5zID0gZmlsdGVyKGlkZW50aWNhbFBhdHRlcm5zLCBmdW5jdGlvbiAoY3VycklkZW50aWNhbFNldCkge1xuICAgICAgICByZXR1cm4gY3VycklkZW50aWNhbFNldC5sZW5ndGggPiAxO1xuICAgIH0pO1xuICAgIHZhciBlcnJvcnMgPSBtYXAoZHVwbGljYXRlUGF0dGVybnMsIGZ1bmN0aW9uIChzZXRPZklkZW50aWNhbCkge1xuICAgICAgICB2YXIgdG9rZW5UeXBlTmFtZXMgPSBtYXAoc2V0T2ZJZGVudGljYWwsIGZ1bmN0aW9uIChjdXJyVHlwZSkge1xuICAgICAgICAgICAgcmV0dXJuIGN1cnJUeXBlLm5hbWU7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgZHVwUGF0dGVyblNyYyA9IGZpcnN0KHNldE9mSWRlbnRpY2FsKS5QQVRURVJOO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWVzc2FnZTogXCJUaGUgc2FtZSBSZWdFeHAgcGF0dGVybiAtPlwiICsgZHVwUGF0dGVyblNyYyArIFwiPC1cIiArXG4gICAgICAgICAgICAgICAgKFwiaGFzIGJlZW4gdXNlZCBpbiBhbGwgb2YgdGhlIGZvbGxvd2luZyBUb2tlbiBUeXBlczogXCIgKyB0b2tlblR5cGVOYW1lcy5qb2luKFwiLCBcIikgKyBcIiA8LVwiKSxcbiAgICAgICAgICAgIHR5cGU6IExleGVyRGVmaW5pdGlvbkVycm9yVHlwZS5EVVBMSUNBVEVfUEFUVEVSTlNfRk9VTkQsXG4gICAgICAgICAgICB0b2tlblR5cGVzOiBzZXRPZklkZW50aWNhbFxuICAgICAgICB9O1xuICAgIH0pO1xuICAgIHJldHVybiBlcnJvcnM7XG59XG5leHBvcnQgZnVuY3Rpb24gZmluZEludmFsaWRHcm91cFR5cGUodG9rZW5UeXBlcykge1xuICAgIHZhciBpbnZhbGlkVHlwZXMgPSBmaWx0ZXIodG9rZW5UeXBlcywgZnVuY3Rpb24gKGNsYXp6KSB7XG4gICAgICAgIGlmICghaGFzKGNsYXp6LCBcIkdST1VQXCIpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGdyb3VwID0gY2xhenouR1JPVVA7XG4gICAgICAgIHJldHVybiBncm91cCAhPT0gTGV4ZXIuU0tJUFBFRCAmJiBncm91cCAhPT0gTGV4ZXIuTkEgJiYgIWlzU3RyaW5nKGdyb3VwKTtcbiAgICB9KTtcbiAgICB2YXIgZXJyb3JzID0gbWFwKGludmFsaWRUeXBlcywgZnVuY3Rpb24gKGN1cnJUeXBlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIlRva2VuIFR5cGU6IC0+XCIgK1xuICAgICAgICAgICAgICAgIGN1cnJUeXBlLm5hbWUgK1xuICAgICAgICAgICAgICAgIFwiPC0gc3RhdGljICdHUk9VUCcgY2FuIG9ubHkgYmUgTGV4ZXIuU0tJUFBFRC9MZXhlci5OQS9BIFN0cmluZ1wiLFxuICAgICAgICAgICAgdHlwZTogTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlLklOVkFMSURfR1JPVVBfVFlQRV9GT1VORCxcbiAgICAgICAgICAgIHRva2VuVHlwZXM6IFtjdXJyVHlwZV1cbiAgICAgICAgfTtcbiAgICB9KTtcbiAgICByZXR1cm4gZXJyb3JzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZpbmRNb2Rlc1RoYXREb05vdEV4aXN0KHRva2VuVHlwZXMsIHZhbGlkTW9kZXMpIHtcbiAgICB2YXIgaW52YWxpZE1vZGVzID0gZmlsdGVyKHRva2VuVHlwZXMsIGZ1bmN0aW9uIChjbGF6eikge1xuICAgICAgICByZXR1cm4gKGNsYXp6LlBVU0hfTU9ERSAhPT0gdW5kZWZpbmVkICYmICFjb250YWlucyh2YWxpZE1vZGVzLCBjbGF6ei5QVVNIX01PREUpKTtcbiAgICB9KTtcbiAgICB2YXIgZXJyb3JzID0gbWFwKGludmFsaWRNb2RlcywgZnVuY3Rpb24gKHRva1R5cGUpIHtcbiAgICAgICAgdmFyIG1zZyA9IFwiVG9rZW4gVHlwZTogLT5cIiArIHRva1R5cGUubmFtZSArIFwiPC0gc3RhdGljICdQVVNIX01PREUnIHZhbHVlIGNhbm5vdCByZWZlciB0byBhIExleGVyIE1vZGUgLT5cIiArIHRva1R5cGUuUFVTSF9NT0RFICsgXCI8LVwiICtcbiAgICAgICAgICAgIFwid2hpY2ggZG9lcyBub3QgZXhpc3RcIjtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IG1zZyxcbiAgICAgICAgICAgIHR5cGU6IExleGVyRGVmaW5pdGlvbkVycm9yVHlwZS5QVVNIX01PREVfRE9FU19OT1RfRVhJU1QsXG4gICAgICAgICAgICB0b2tlblR5cGVzOiBbdG9rVHlwZV1cbiAgICAgICAgfTtcbiAgICB9KTtcbiAgICByZXR1cm4gZXJyb3JzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZpbmRVbnJlYWNoYWJsZVBhdHRlcm5zKHRva2VuVHlwZXMpIHtcbiAgICB2YXIgZXJyb3JzID0gW107XG4gICAgdmFyIGNhbkJlVGVzdGVkID0gcmVkdWNlKHRva2VuVHlwZXMsIGZ1bmN0aW9uIChyZXN1bHQsIHRva1R5cGUsIGlkeCkge1xuICAgICAgICB2YXIgcGF0dGVybiA9IHRva1R5cGUuUEFUVEVSTjtcbiAgICAgICAgaWYgKHBhdHRlcm4gPT09IExleGVyLk5BKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIC8vIGEgbW9yZSBjb21wcmVoZW5zaXZlIHZhbGlkYXRpb24gZm9yIGFsbCBmb3JtcyBvZiByZWdFeHBzIHdvdWxkIHJlcXVpcmVcbiAgICAgICAgLy8gZGVlcGVyIHJlZ0V4cCBhbmFseXNpcyBjYXBhYmlsaXRpZXNcbiAgICAgICAgaWYgKGlzU3RyaW5nKHBhdHRlcm4pKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaCh7IHN0cjogcGF0dGVybiwgaWR4OiBpZHgsIHRva2VuVHlwZTogdG9rVHlwZSB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc1JlZ0V4cChwYXR0ZXJuKSAmJiBub01ldGFDaGFyKHBhdHRlcm4pKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaCh7IHN0cjogcGF0dGVybi5zb3VyY2UsIGlkeDogaWR4LCB0b2tlblR5cGU6IHRva1R5cGUgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9LCBbXSk7XG4gICAgZm9yRWFjaCh0b2tlblR5cGVzLCBmdW5jdGlvbiAodG9rVHlwZSwgdGVzdElkeCkge1xuICAgICAgICBmb3JFYWNoKGNhbkJlVGVzdGVkLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgIHZhciBzdHIgPSBfYS5zdHIsIGlkeCA9IF9hLmlkeCwgdG9rZW5UeXBlID0gX2EudG9rZW5UeXBlO1xuICAgICAgICAgICAgaWYgKHRlc3RJZHggPCBpZHggJiYgdGVzdFRva2VuVHlwZShzdHIsIHRva1R5cGUuUEFUVEVSTikpIHtcbiAgICAgICAgICAgICAgICB2YXIgbXNnID0gXCJUb2tlbjogLT5cIiArIHRva2VuVHlwZS5uYW1lICsgXCI8LSBjYW4gbmV2ZXIgYmUgbWF0Y2hlZC5cXG5cIiArXG4gICAgICAgICAgICAgICAgICAgIChcIkJlY2F1c2UgaXQgYXBwZWFycyBBRlRFUiB0aGUgVG9rZW4gVHlwZSAtPlwiICsgdG9rVHlwZS5uYW1lICsgXCI8LVwiKSArXG4gICAgICAgICAgICAgICAgICAgIFwiaW4gdGhlIGxleGVyJ3MgZGVmaW5pdGlvbi5cXG5cIiArXG4gICAgICAgICAgICAgICAgICAgIFwiU2VlIGh0dHBzOi8vc2FwLmdpdGh1Yi5pby9jaGV2cm90YWluL2RvY3MvZ3VpZGUvcmVzb2x2aW5nX2xleGVyX2Vycm9ycy5odG1sI1VOUkVBQ0hBQkxFXCI7XG4gICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBtc2csXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IExleGVyRGVmaW5pdGlvbkVycm9yVHlwZS5VTlJFQUNIQUJMRV9QQVRURVJOLFxuICAgICAgICAgICAgICAgICAgICB0b2tlblR5cGVzOiBbdG9rVHlwZSwgdG9rZW5UeXBlXVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gZXJyb3JzO1xufVxuZnVuY3Rpb24gdGVzdFRva2VuVHlwZShzdHIsIHBhdHRlcm4pIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgIGlmIChpc1JlZ0V4cChwYXR0ZXJuKSkge1xuICAgICAgICB2YXIgcmVnRXhwQXJyYXkgPSBwYXR0ZXJuLmV4ZWMoc3RyKTtcbiAgICAgICAgcmV0dXJuIHJlZ0V4cEFycmF5ICE9PSBudWxsICYmIHJlZ0V4cEFycmF5LmluZGV4ID09PSAwO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc0Z1bmN0aW9uKHBhdHRlcm4pKSB7XG4gICAgICAgIC8vIG1haW50YWluIHRoZSBBUEkgb2YgY3VzdG9tIHBhdHRlcm5zXG4gICAgICAgIHJldHVybiBwYXR0ZXJuKHN0ciwgMCwgW10sIHt9KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaGFzKHBhdHRlcm4sIFwiZXhlY1wiKSkge1xuICAgICAgICAvLyBtYWludGFpbiB0aGUgQVBJIG9mIGN1c3RvbSBwYXR0ZXJuc1xuICAgICAgICByZXR1cm4gcGF0dGVybi5leGVjKHN0ciwgMCwgW10sIHt9KTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIHBhdHRlcm4gPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgcmV0dXJuIHBhdHRlcm4gPT09IHN0cjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IEVycm9yKFwibm9uIGV4aGF1c3RpdmUgbWF0Y2hcIik7XG4gICAgfVxufVxuZnVuY3Rpb24gbm9NZXRhQ2hhcihyZWdFeHApIHtcbiAgICAvL2h0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1JlZ0V4cFxuICAgIHZhciBtZXRhQ2hhcnMgPSBbXG4gICAgICAgIFwiLlwiLFxuICAgICAgICBcIlxcXFxcIixcbiAgICAgICAgXCJbXCIsXG4gICAgICAgIFwiXVwiLFxuICAgICAgICBcInxcIixcbiAgICAgICAgXCJeXCIsXG4gICAgICAgIFwiJFwiLFxuICAgICAgICBcIihcIixcbiAgICAgICAgXCIpXCIsXG4gICAgICAgIFwiP1wiLFxuICAgICAgICBcIipcIixcbiAgICAgICAgXCIrXCIsXG4gICAgICAgIFwie1wiXG4gICAgXTtcbiAgICByZXR1cm4gKGZpbmQobWV0YUNoYXJzLCBmdW5jdGlvbiAoY2hhcikgeyByZXR1cm4gcmVnRXhwLnNvdXJjZS5pbmRleE9mKGNoYXIpICE9PSAtMTsgfSkgPT09IHVuZGVmaW5lZCk7XG59XG5leHBvcnQgZnVuY3Rpb24gYWRkU3RhcnRPZklucHV0KHBhdHRlcm4pIHtcbiAgICB2YXIgZmxhZ3MgPSBwYXR0ZXJuLmlnbm9yZUNhc2UgPyBcImlcIiA6IFwiXCI7XG4gICAgLy8gYWx3YXlzIHdyYXBwaW5nIGluIGEgbm9uZSBjYXB0dXJpbmcgZ3JvdXAgcHJlY2VkZWQgYnkgJ14nIHRvIG1ha2Ugc3VyZSBtYXRjaGluZyBjYW4gb25seSB3b3JrIG9uIHN0YXJ0IG9mIGlucHV0LlxuICAgIC8vIGR1cGxpY2F0ZS9yZWR1bmRhbnQgc3RhcnQgb2YgaW5wdXQgbWFya2VycyBoYXZlIG5vIG1lYW5pbmcgKC9eXl5eQS8gPT09IC9eQS8pXG4gICAgcmV0dXJuIG5ldyBSZWdFeHAoXCJeKD86XCIgKyBwYXR0ZXJuLnNvdXJjZSArIFwiKVwiLCBmbGFncyk7XG59XG5leHBvcnQgZnVuY3Rpb24gYWRkU3RpY2t5RmxhZyhwYXR0ZXJuKSB7XG4gICAgdmFyIGZsYWdzID0gcGF0dGVybi5pZ25vcmVDYXNlID8gXCJpeVwiIDogXCJ5XCI7XG4gICAgLy8gYWx3YXlzIHdyYXBwaW5nIGluIGEgbm9uZSBjYXB0dXJpbmcgZ3JvdXAgcHJlY2VkZWQgYnkgJ14nIHRvIG1ha2Ugc3VyZSBtYXRjaGluZyBjYW4gb25seSB3b3JrIG9uIHN0YXJ0IG9mIGlucHV0LlxuICAgIC8vIGR1cGxpY2F0ZS9yZWR1bmRhbnQgc3RhcnQgb2YgaW5wdXQgbWFya2VycyBoYXZlIG5vIG1lYW5pbmcgKC9eXl5eQS8gPT09IC9eQS8pXG4gICAgcmV0dXJuIG5ldyBSZWdFeHAoXCJcIiArIHBhdHRlcm4uc291cmNlLCBmbGFncyk7XG59XG5leHBvcnQgZnVuY3Rpb24gcGVyZm9ybVJ1bnRpbWVDaGVja3MobGV4ZXJEZWZpbml0aW9uLCB0cmFja0xpbmVzLCBsaW5lVGVybWluYXRvckNoYXJhY3RlcnMpIHtcbiAgICB2YXIgZXJyb3JzID0gW107XG4gICAgLy8gc29tZSBydW4gdGltZSBjaGVja3MgdG8gaGVscCB0aGUgZW5kIHVzZXJzLlxuICAgIGlmICghaGFzKGxleGVyRGVmaW5pdGlvbiwgREVGQVVMVF9NT0RFKSkge1xuICAgICAgICBlcnJvcnMucHVzaCh7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIkEgTXVsdGlNb2RlIExleGVyIGNhbm5vdCBiZSBpbml0aWFsaXplZCB3aXRob3V0IGEgPFwiICtcbiAgICAgICAgICAgICAgICBERUZBVUxUX01PREUgK1xuICAgICAgICAgICAgICAgIFwiPiBwcm9wZXJ0eSBpbiBpdHMgZGVmaW5pdGlvblxcblwiLFxuICAgICAgICAgICAgdHlwZTogTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlLk1VTFRJX01PREVfTEVYRVJfV0lUSE9VVF9ERUZBVUxUX01PREVcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmICghaGFzKGxleGVyRGVmaW5pdGlvbiwgTU9ERVMpKSB7XG4gICAgICAgIGVycm9ycy5wdXNoKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiQSBNdWx0aU1vZGUgTGV4ZXIgY2Fubm90IGJlIGluaXRpYWxpemVkIHdpdGhvdXQgYSA8XCIgK1xuICAgICAgICAgICAgICAgIE1PREVTICtcbiAgICAgICAgICAgICAgICBcIj4gcHJvcGVydHkgaW4gaXRzIGRlZmluaXRpb25cXG5cIixcbiAgICAgICAgICAgIHR5cGU6IExleGVyRGVmaW5pdGlvbkVycm9yVHlwZS5NVUxUSV9NT0RFX0xFWEVSX1dJVEhPVVRfTU9ERVNfUFJPUEVSVFlcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChoYXMobGV4ZXJEZWZpbml0aW9uLCBNT0RFUykgJiZcbiAgICAgICAgaGFzKGxleGVyRGVmaW5pdGlvbiwgREVGQVVMVF9NT0RFKSAmJlxuICAgICAgICAhaGFzKGxleGVyRGVmaW5pdGlvbi5tb2RlcywgbGV4ZXJEZWZpbml0aW9uLmRlZmF1bHRNb2RlKSkge1xuICAgICAgICBlcnJvcnMucHVzaCh7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIkEgTXVsdGlNb2RlIExleGVyIGNhbm5vdCBiZSBpbml0aWFsaXplZCB3aXRoIGEgXCIgKyBERUZBVUxUX01PREUgKyBcIjogPFwiICsgbGV4ZXJEZWZpbml0aW9uLmRlZmF1bHRNb2RlICsgXCI+XCIgK1xuICAgICAgICAgICAgICAgIFwid2hpY2ggZG9lcyBub3QgZXhpc3RcXG5cIixcbiAgICAgICAgICAgIHR5cGU6IExleGVyRGVmaW5pdGlvbkVycm9yVHlwZS5NVUxUSV9NT0RFX0xFWEVSX0RFRkFVTFRfTU9ERV9WQUxVRV9ET0VTX05PVF9FWElTVFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGhhcyhsZXhlckRlZmluaXRpb24sIE1PREVTKSkge1xuICAgICAgICBmb3JFYWNoKGxleGVyRGVmaW5pdGlvbi5tb2RlcywgZnVuY3Rpb24gKGN1cnJNb2RlVmFsdWUsIGN1cnJNb2RlTmFtZSkge1xuICAgICAgICAgICAgZm9yRWFjaChjdXJyTW9kZVZhbHVlLCBmdW5jdGlvbiAoY3VyclRva1R5cGUsIGN1cnJJZHgpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNVbmRlZmluZWQoY3VyclRva1R5cGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiQSBMZXhlciBjYW5ub3QgYmUgaW5pdGlhbGl6ZWQgdXNpbmcgYW4gdW5kZWZpbmVkIFRva2VuIFR5cGUuIE1vZGU6XCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChcIjxcIiArIGN1cnJNb2RlTmFtZSArIFwiPiBhdCBpbmRleDogPFwiICsgY3VycklkeCArIFwiPlxcblwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IExleGVyRGVmaW5pdGlvbkVycm9yVHlwZS5MRVhFUl9ERUZJTklUSU9OX0NBTk5PVF9DT05UQUlOX1VOREVGSU5FRFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBlcnJvcnM7XG59XG5leHBvcnQgZnVuY3Rpb24gcGVyZm9ybVdhcm5pbmdSdW50aW1lQ2hlY2tzKGxleGVyRGVmaW5pdGlvbiwgdHJhY2tMaW5lcywgbGluZVRlcm1pbmF0b3JDaGFyYWN0ZXJzKSB7XG4gICAgdmFyIHdhcm5pbmdzID0gW107XG4gICAgdmFyIGhhc0FueUxpbmVCcmVhayA9IGZhbHNlO1xuICAgIHZhciBhbGxUb2tlblR5cGVzID0gY29tcGFjdChmbGF0dGVuKG1hcFZhbHVlcyhsZXhlckRlZmluaXRpb24ubW9kZXMsIGZ1bmN0aW9uICh0b2tUeXBlcykgeyByZXR1cm4gdG9rVHlwZXM7IH0pKSk7XG4gICAgdmFyIGNvbmNyZXRlVG9rZW5UeXBlcyA9IHJlamVjdChhbGxUb2tlblR5cGVzLCBmdW5jdGlvbiAoY3VyclR5cGUpIHsgcmV0dXJuIGN1cnJUeXBlW1BBVFRFUk5dID09PSBMZXhlci5OQTsgfSk7XG4gICAgdmFyIHRlcm1pbmF0b3JDaGFyQ29kZXMgPSBnZXRDaGFyQ29kZXMobGluZVRlcm1pbmF0b3JDaGFyYWN0ZXJzKTtcbiAgICBpZiAodHJhY2tMaW5lcykge1xuICAgICAgICBmb3JFYWNoKGNvbmNyZXRlVG9rZW5UeXBlcywgZnVuY3Rpb24gKHRva1R5cGUpIHtcbiAgICAgICAgICAgIHZhciBjdXJySXNzdWUgPSBjaGVja0xpbmVCcmVha3NJc3N1ZXModG9rVHlwZSwgdGVybWluYXRvckNoYXJDb2Rlcyk7XG4gICAgICAgICAgICBpZiAoY3Vycklzc3VlICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlID0gYnVpbGRMaW5lQnJlYWtJc3N1ZU1lc3NhZ2UodG9rVHlwZSwgY3Vycklzc3VlKTtcbiAgICAgICAgICAgICAgICB2YXIgd2FybmluZ0Rlc2NyaXB0b3IgPSB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IGN1cnJJc3N1ZS5pc3N1ZSxcbiAgICAgICAgICAgICAgICAgICAgdG9rZW5UeXBlOiB0b2tUeXBlXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB3YXJuaW5ncy5wdXNoKHdhcm5pbmdEZXNjcmlwdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIHdlIGRvbid0IHdhbnQgdG8gYXR0ZW1wdCB0byBzY2FuIGlmIHRoZSB1c2VyIGV4cGxpY2l0bHkgc3BlY2lmaWVkIHRoZSBsaW5lX2JyZWFrcyBvcHRpb24uXG4gICAgICAgICAgICAgICAgaWYgKGhhcyh0b2tUeXBlLCBcIkxJTkVfQlJFQUtTXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0b2tUeXBlLkxJTkVfQlJFQUtTID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNBbnlMaW5lQnJlYWsgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2FuTWF0Y2hDaGFyQ29kZSh0ZXJtaW5hdG9yQ2hhckNvZGVzLCB0b2tUeXBlLlBBVFRFUk4pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNBbnlMaW5lQnJlYWsgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKHRyYWNrTGluZXMgJiYgIWhhc0FueUxpbmVCcmVhaykge1xuICAgICAgICB3YXJuaW5ncy5wdXNoKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiV2FybmluZzogTm8gTElORV9CUkVBS1MgRm91bmQuXFxuXCIgK1xuICAgICAgICAgICAgICAgIFwiXFx0VGhpcyBMZXhlciBoYXMgYmVlbiBkZWZpbmVkIHRvIHRyYWNrIGxpbmUgYW5kIGNvbHVtbiBpbmZvcm1hdGlvbixcXG5cIiArXG4gICAgICAgICAgICAgICAgXCJcXHRCdXQgbm9uZSBvZiB0aGUgVG9rZW4gVHlwZXMgY2FuIGJlIGlkZW50aWZpZWQgYXMgbWF0Y2hpbmcgYSBsaW5lIHRlcm1pbmF0b3IuXFxuXCIgK1xuICAgICAgICAgICAgICAgIFwiXFx0U2VlIGh0dHBzOi8vc2FwLmdpdGh1Yi5pby9jaGV2cm90YWluL2RvY3MvZ3VpZGUvcmVzb2x2aW5nX2xleGVyX2Vycm9ycy5odG1sI0xJTkVfQlJFQUtTIFxcblwiICtcbiAgICAgICAgICAgICAgICBcIlxcdGZvciBkZXRhaWxzLlwiLFxuICAgICAgICAgICAgdHlwZTogTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlLk5PX0xJTkVfQlJFQUtTX0ZMQUdTXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gd2FybmluZ3M7XG59XG5leHBvcnQgZnVuY3Rpb24gY2xvbmVFbXB0eUdyb3VwcyhlbXB0eUdyb3Vwcykge1xuICAgIHZhciBjbG9uZWRSZXN1bHQgPSB7fTtcbiAgICB2YXIgZ3JvdXBLZXlzID0ga2V5cyhlbXB0eUdyb3Vwcyk7XG4gICAgZm9yRWFjaChncm91cEtleXMsIGZ1bmN0aW9uIChjdXJyS2V5KSB7XG4gICAgICAgIHZhciBjdXJyR3JvdXBWYWx1ZSA9IGVtcHR5R3JvdXBzW2N1cnJLZXldO1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICBpZiAoaXNBcnJheShjdXJyR3JvdXBWYWx1ZSkpIHtcbiAgICAgICAgICAgIGNsb25lZFJlc3VsdFtjdXJyS2V5XSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJub24gZXhoYXVzdGl2ZSBtYXRjaFwiKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBjbG9uZWRSZXN1bHQ7XG59XG4vLyBUT0RPOiByZWZhY3RvciB0byBhdm9pZCBkdXBsaWNhdGlvblxuZXhwb3J0IGZ1bmN0aW9uIGlzQ3VzdG9tUGF0dGVybih0b2tlblR5cGUpIHtcbiAgICB2YXIgcGF0dGVybiA9IHRva2VuVHlwZS5QQVRURVJOO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgaWYgKGlzUmVnRXhwKHBhdHRlcm4pKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNGdW5jdGlvbihwYXR0ZXJuKSkge1xuICAgICAgICAvLyBDdXN0b21QYXR0ZXJuTWF0Y2hlckZ1bmMgLSBjdXN0b20gcGF0dGVybnMgZG8gbm90IHJlcXVpcmUgYW55IHRyYW5zZm9ybWF0aW9ucywgb25seSB3cmFwcGluZyBpbiBhIFJlZ0V4cCBMaWtlIG9iamVjdFxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaGFzKHBhdHRlcm4sIFwiZXhlY1wiKSkge1xuICAgICAgICAvLyBJQ3VzdG9tUGF0dGVyblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNTdHJpbmcocGF0dGVybikpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJub24gZXhoYXVzdGl2ZSBtYXRjaFwiKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gaXNTaG9ydFBhdHRlcm4ocGF0dGVybikge1xuICAgIGlmIChpc1N0cmluZyhwYXR0ZXJuKSAmJiBwYXR0ZXJuLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gcGF0dGVybi5jaGFyQ29kZUF0KDApO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cbi8qKlxuICogRmFzdGVyIHRoYW4gdXNpbmcgYSBSZWdFeHAgZm9yIGRlZmF1bHQgbmV3bGluZSBkZXRlY3Rpb24gZHVyaW5nIGxleGluZy5cbiAqL1xuZXhwb3J0IHZhciBMaW5lVGVybWluYXRvck9wdGltaXplZFRlc3RlciA9IHtcbiAgICAvLyBpbXBsZW1lbnRzIC9cXG58XFxyXFxuPy9nLnRlc3RcbiAgICB0ZXN0OiBmdW5jdGlvbiAodGV4dCkge1xuICAgICAgICB2YXIgbGVuID0gdGV4dC5sZW5ndGg7XG4gICAgICAgIGZvciAodmFyIGkgPSB0aGlzLmxhc3RJbmRleDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYyA9IHRleHQuY2hhckNvZGVBdChpKTtcbiAgICAgICAgICAgIGlmIChjID09PSAxMCkge1xuICAgICAgICAgICAgICAgIHRoaXMubGFzdEluZGV4ID0gaSArIDE7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjID09PSAxMykge1xuICAgICAgICAgICAgICAgIGlmICh0ZXh0LmNoYXJDb2RlQXQoaSArIDEpID09PSAxMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxhc3RJbmRleCA9IGkgKyAyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXN0SW5kZXggPSBpICsgMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG4gICAgbGFzdEluZGV4OiAwXG59O1xuZnVuY3Rpb24gY2hlY2tMaW5lQnJlYWtzSXNzdWVzKHRva1R5cGUsIGxpbmVUZXJtaW5hdG9yQ2hhckNvZGVzKSB7XG4gICAgaWYgKGhhcyh0b2tUeXBlLCBcIkxJTkVfQlJFQUtTXCIpKSB7XG4gICAgICAgIC8vIGlmIHRoZSB1c2VyIGV4cGxpY2l0bHkgZGVjbGFyZWQgdGhlIGxpbmVfYnJlYWtzIG9wdGlvbiB3ZSB3aWxsIHJlc3BlY3QgdGhlaXIgY2hvaWNlXG4gICAgICAgIC8vIGFuZCBhc3N1bWUgaXQgaXMgY29ycmVjdC5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgaWYgKGlzUmVnRXhwKHRva1R5cGUuUEFUVEVSTikpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY2FuTWF0Y2hDaGFyQ29kZShsaW5lVGVybWluYXRvckNoYXJDb2RlcywgdG9rVHlwZS5QQVRURVJOKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgLSB0byB0ZXN0IHRoaXMgd2Ugd291bGQgaGF2ZSB0byBtb2NrIDxjYW5NYXRjaENoYXJDb2RlPiB0byB0aHJvdyBhbiBlcnJvciAqL1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGlzc3VlOiBMZXhlckRlZmluaXRpb25FcnJvclR5cGUuSURFTlRJRllfVEVSTUlOQVRPUixcbiAgICAgICAgICAgICAgICAgICAgZXJyTXNnOiBlLm1lc3NhZ2VcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzU3RyaW5nKHRva1R5cGUuUEFUVEVSTikpIHtcbiAgICAgICAgICAgIC8vIHN0cmluZyBsaXRlcmFsIHBhdHRlcm5zIGNhbiBhbHdheXMgYmUgYW5hbHl6ZWQgdG8gZGV0ZWN0IGxpbmUgdGVybWluYXRvciB1c2FnZVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzQ3VzdG9tUGF0dGVybih0b2tUeXBlKSkge1xuICAgICAgICAgICAgLy8gY3VzdG9tIHRva2VuIHR5cGVzXG4gICAgICAgICAgICByZXR1cm4geyBpc3N1ZTogTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlLkNVU1RPTV9MSU5FX0JSRUFLIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcIm5vbiBleGhhdXN0aXZlIG1hdGNoXCIpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkTGluZUJyZWFrSXNzdWVNZXNzYWdlKHRva1R5cGUsIGRldGFpbHMpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgIGlmIChkZXRhaWxzLmlzc3VlID09PSBMZXhlckRlZmluaXRpb25FcnJvclR5cGUuSURFTlRJRllfVEVSTUlOQVRPUikge1xuICAgICAgICByZXR1cm4gKFwiV2FybmluZzogdW5hYmxlIHRvIGlkZW50aWZ5IGxpbmUgdGVybWluYXRvciB1c2FnZSBpbiBwYXR0ZXJuLlxcblwiICtcbiAgICAgICAgICAgIChcIlxcdFRoZSBwcm9ibGVtIGlzIGluIHRoZSA8XCIgKyB0b2tUeXBlLm5hbWUgKyBcIj4gVG9rZW4gVHlwZVxcblwiKSArXG4gICAgICAgICAgICAoXCJcXHQgUm9vdCBjYXVzZTogXCIgKyBkZXRhaWxzLmVyck1zZyArIFwiLlxcblwiKSArXG4gICAgICAgICAgICBcIlxcdEZvciBkZXRhaWxzIFNlZTogaHR0cHM6Ly9zYXAuZ2l0aHViLmlvL2NoZXZyb3RhaW4vZG9jcy9ndWlkZS9yZXNvbHZpbmdfbGV4ZXJfZXJyb3JzLmh0bWwjSURFTlRJRllfVEVSTUlOQVRPUlwiKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZGV0YWlscy5pc3N1ZSA9PT0gTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlLkNVU1RPTV9MSU5FX0JSRUFLKSB7XG4gICAgICAgIHJldHVybiAoXCJXYXJuaW5nOiBBIEN1c3RvbSBUb2tlbiBQYXR0ZXJuIHNob3VsZCBzcGVjaWZ5IHRoZSA8bGluZV9icmVha3M+IG9wdGlvbi5cXG5cIiArXG4gICAgICAgICAgICAoXCJcXHRUaGUgcHJvYmxlbSBpcyBpbiB0aGUgPFwiICsgdG9rVHlwZS5uYW1lICsgXCI+IFRva2VuIFR5cGVcXG5cIikgK1xuICAgICAgICAgICAgXCJcXHRGb3IgZGV0YWlscyBTZWU6IGh0dHBzOi8vc2FwLmdpdGh1Yi5pby9jaGV2cm90YWluL2RvY3MvZ3VpZGUvcmVzb2x2aW5nX2xleGVyX2Vycm9ycy5odG1sI0NVU1RPTV9MSU5FX0JSRUFLXCIpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJub24gZXhoYXVzdGl2ZSBtYXRjaFwiKTtcbiAgICB9XG59XG5mdW5jdGlvbiBnZXRDaGFyQ29kZXMoY2hhcnNPckNvZGVzKSB7XG4gICAgdmFyIGNoYXJDb2RlcyA9IG1hcChjaGFyc09yQ29kZXMsIGZ1bmN0aW9uIChudW1PclN0cmluZykge1xuICAgICAgICBpZiAoaXNTdHJpbmcobnVtT3JTdHJpbmcpICYmIG51bU9yU3RyaW5nLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiBudW1PclN0cmluZy5jaGFyQ29kZUF0KDApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG51bU9yU3RyaW5nO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGNoYXJDb2Rlcztcbn1cbmZ1bmN0aW9uIGFkZFRvTWFwT2ZBcnJheXMobWFwLCBrZXksIHZhbHVlKSB7XG4gICAgaWYgKG1hcFtrZXldID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbWFwW2tleV0gPSBbdmFsdWVdO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbWFwW2tleV0ucHVzaCh2YWx1ZSk7XG4gICAgfVxufVxuZXhwb3J0IHZhciBtaW5PcHRpbWl6YXRpb25WYWwgPSAyNTY7XG4vKipcbiAqIFdlIGFlIG1hcHBpbmcgY2hhckNvZGUgYWJvdmUgQVNDSSAoMjU2KSBpbnRvIGJ1Y2tldHMgZWFjaCBpbiB0aGUgc2l6ZSBvZiAyNTYuXG4gKiBUaGlzIGlzIGJlY2F1c2UgQVNDSSBhcmUgdGhlIG1vc3QgY29tbW9uIHN0YXJ0IGNoYXJzIHNvIGVhY2ggb25lIG9mIHRob3NlIHdpbGwgZ2V0IGl0cyBvd25cbiAqIHBvc3NpYmxlIHRva2VuIGNvbmZpZ3MgdmVjdG9yLlxuICpcbiAqIFRva2VucyBzdGFydGluZyB3aXRoIGNoYXJDb2RlcyBcImFib3ZlXCIgQVNDSSBhcmUgdW5jb21tb24sIHNvIHdlIGNhbiBcImFmZm9yZFwiXG4gKiB0byBwbGFjZSB0aGVzZSBpbnRvIGJ1Y2tldHMgb2YgcG9zc2libGUgdG9rZW4gY29uZmlncywgV2hhdCB3ZSBnYWluIGZyb21cbiAqIHRoaXMgaXMgYXZvaWRpbmcgdGhlIGNhc2Ugb2YgY3JlYXRpbmcgYW4gb3B0aW1pemF0aW9uICdjaGFyQ29kZVRvUGF0dGVybklkeFRvQ29uZmlnJ1xuICogd2hpY2ggd291bGQgY29udGFpbiAxMCwwMDArIGFycmF5cyBvZiBzbWFsbCBzaXplIChlLmcgdW5pY29kZSBJZGVudGlmaWVycyBzY2VuYXJpbykuXG4gKiBPdXIgJ2NoYXJDb2RlVG9QYXR0ZXJuSWR4VG9Db25maWcnIG1heCBzaXplIHdpbGwgbm93IGJlOlxuICogMjU2ICsgKDJeMTYgLyAyXjgpIC0gMSA9PT0gNTExXG4gKlxuICogbm90ZSB0aGUgaGFjayBmb3IgZmFzdCBkaXZpc2lvbiBpbnRlZ2VyIHBhcnQgZXh0cmFjdGlvblxuICogU2VlOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNDIyODUyOFxuICovXG5leHBvcnQgZnVuY3Rpb24gY2hhckNvZGVUb09wdGltaXplZEluZGV4KGNoYXJDb2RlKSB7XG4gICAgcmV0dXJuIGNoYXJDb2RlIDwgbWluT3B0aW1pemF0aW9uVmFsXG4gICAgICAgID8gY2hhckNvZGVcbiAgICAgICAgOiBjaGFyQ29kZVRvT3B0aW1pemVkSWR4TWFwW2NoYXJDb2RlXTtcbn1cbi8qKlxuICogVGhpcyBpcyBhIGNvbXByb21pc2UgYmV0d2VlbiBjb2xkIHN0YXJ0IC8gaG90IHJ1bm5pbmcgcGVyZm9ybWFuY2VcbiAqIENyZWF0aW5nIHRoaXMgYXJyYXkgdGFrZXMgfjNtcyBvbiBhIG1vZGVybiBtYWNoaW5lLFxuICogQnV0IGlmIHdlIHBlcmZvcm0gdGhlIGNvbXB1dGF0aW9uIGF0IHJ1bnRpbWUgYXMgbmVlZGVkIHRoZSBDU1MgTGV4ZXIgYmVuY2htYXJrXG4gKiBwZXJmb3JtYW5jZSBkZWdyYWRlcyBieSB+MTAlXG4gKlxuICogVE9ETzogUGVyaGFwcyBpdCBzaG91bGQgYmUgbGF6eSBpbml0aWFsaXplZCBvbmx5IGlmIGEgY2hhckNvZGUgPiAyNTUgaXMgdXNlZC5cbiAqL1xudmFyIGNoYXJDb2RlVG9PcHRpbWl6ZWRJZHhNYXAgPSBbXTtcbmZ1bmN0aW9uIGluaXRDaGFyQ29kZVRvT3B0aW1pemVkSW5kZXhNYXAoKSB7XG4gICAgaWYgKGlzRW1wdHkoY2hhckNvZGVUb09wdGltaXplZElkeE1hcCkpIHtcbiAgICAgICAgY2hhckNvZGVUb09wdGltaXplZElkeE1hcCA9IG5ldyBBcnJheSg2NTUzNik7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNjU1MzY7IGkrKykge1xuICAgICAgICAgICAgLyogdHNsaW50OmRpc2FibGUgKi9cbiAgICAgICAgICAgIGNoYXJDb2RlVG9PcHRpbWl6ZWRJZHhNYXBbaV0gPSBpID4gMjU1ID8gMjU1ICsgfn4oaSAvIDI1NSkgOiBpO1xuICAgICAgICAgICAgLyogdHNsaW50OmVuYWJsZSAqL1xuICAgICAgICB9XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGV4ZXIuanMubWFwIiwiaW1wb3J0IHsgY2xvbmVBcnIsIGNvbXBhY3QsIGNvbnRhaW5zLCBkaWZmZXJlbmNlLCBmbGF0dGVuLCBmb3JFYWNoLCBoYXMsIGlzQXJyYXksIGlzRW1wdHksIG1hcCB9IGZyb20gXCIuLi91dGlscy91dGlsc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIHRva2VuU3RydWN0dXJlZE1hdGNoZXIodG9rSW5zdGFuY2UsIHRva0NvbnN0cnVjdG9yKSB7XG4gICAgdmFyIGluc3RhbmNlVHlwZSA9IHRva0luc3RhbmNlLnRva2VuVHlwZUlkeDtcbiAgICBpZiAoaW5zdGFuY2VUeXBlID09PSB0b2tDb25zdHJ1Y3Rvci50b2tlblR5cGVJZHgpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gKHRva0NvbnN0cnVjdG9yLmlzUGFyZW50ID09PSB0cnVlICYmXG4gICAgICAgICAgICB0b2tDb25zdHJ1Y3Rvci5jYXRlZ29yeU1hdGNoZXNNYXBbaW5zdGFuY2VUeXBlXSA9PT0gdHJ1ZSk7XG4gICAgfVxufVxuLy8gT3B0aW1pemVkIHRva2VuTWF0Y2hlciBpbiBjYXNlIG91ciBncmFtbWFyIGRvZXMgbm90IHVzZSB0b2tlbiBjYXRlZ29yaWVzXG4vLyBCZWluZyBzbyB0aW55IGl0IGlzIG11Y2ggbW9yZSBsaWtlbHkgdG8gYmUgaW4tbGluZWQgYW5kIHRoaXMgYXZvaWQgdGhlIGZ1bmN0aW9uIGNhbGwgb3ZlcmhlYWRcbmV4cG9ydCBmdW5jdGlvbiB0b2tlblN0cnVjdHVyZWRNYXRjaGVyTm9DYXRlZ29yaWVzKHRva2VuLCB0b2tUeXBlKSB7XG4gICAgcmV0dXJuIHRva2VuLnRva2VuVHlwZUlkeCA9PT0gdG9rVHlwZS50b2tlblR5cGVJZHg7XG59XG5leHBvcnQgdmFyIHRva2VuU2hvcnROYW1lSWR4ID0gMTtcbmV4cG9ydCB2YXIgdG9rZW5JZHhUb0NsYXNzID0ge307XG5leHBvcnQgZnVuY3Rpb24gYXVnbWVudFRva2VuVHlwZXModG9rZW5UeXBlcykge1xuICAgIC8vIGNvbGxlY3QgdGhlIHBhcmVudCBUb2tlbiBUeXBlcyBhcyB3ZWxsLlxuICAgIHZhciB0b2tlblR5cGVzQW5kUGFyZW50cyA9IGV4cGFuZENhdGVnb3JpZXModG9rZW5UeXBlcyk7XG4gICAgLy8gYWRkIHJlcXVpcmVkIHRva2VuVHlwZSBhbmQgY2F0ZWdvcnlNYXRjaGVzIHByb3BlcnRpZXNcbiAgICBhc3NpZ25Ub2tlbkRlZmF1bHRQcm9wcyh0b2tlblR5cGVzQW5kUGFyZW50cyk7XG4gICAgLy8gZmlsbCB1cCB0aGUgY2F0ZWdvcnlNYXRjaGVzXG4gICAgYXNzaWduQ2F0ZWdvcmllc01hcFByb3AodG9rZW5UeXBlc0FuZFBhcmVudHMpO1xuICAgIGFzc2lnbkNhdGVnb3JpZXNUb2tlbnNQcm9wKHRva2VuVHlwZXNBbmRQYXJlbnRzKTtcbiAgICBmb3JFYWNoKHRva2VuVHlwZXNBbmRQYXJlbnRzLCBmdW5jdGlvbiAodG9rVHlwZSkge1xuICAgICAgICB0b2tUeXBlLmlzUGFyZW50ID0gdG9rVHlwZS5jYXRlZ29yeU1hdGNoZXMubGVuZ3RoID4gMDtcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBleHBhbmRDYXRlZ29yaWVzKHRva2VuVHlwZXMpIHtcbiAgICB2YXIgcmVzdWx0ID0gY2xvbmVBcnIodG9rZW5UeXBlcyk7XG4gICAgdmFyIGNhdGVnb3JpZXMgPSB0b2tlblR5cGVzO1xuICAgIHZhciBzZWFyY2hpbmcgPSB0cnVlO1xuICAgIHdoaWxlIChzZWFyY2hpbmcpIHtcbiAgICAgICAgY2F0ZWdvcmllcyA9IGNvbXBhY3QoZmxhdHRlbihtYXAoY2F0ZWdvcmllcywgZnVuY3Rpb24gKGN1cnJUb2tUeXBlKSB7IHJldHVybiBjdXJyVG9rVHlwZS5DQVRFR09SSUVTOyB9KSkpO1xuICAgICAgICB2YXIgbmV3Q2F0ZWdvcmllcyA9IGRpZmZlcmVuY2UoY2F0ZWdvcmllcywgcmVzdWx0KTtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0LmNvbmNhdChuZXdDYXRlZ29yaWVzKTtcbiAgICAgICAgaWYgKGlzRW1wdHkobmV3Q2F0ZWdvcmllcykpIHtcbiAgICAgICAgICAgIHNlYXJjaGluZyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY2F0ZWdvcmllcyA9IG5ld0NhdGVnb3JpZXM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhc3NpZ25Ub2tlbkRlZmF1bHRQcm9wcyh0b2tlblR5cGVzKSB7XG4gICAgZm9yRWFjaCh0b2tlblR5cGVzLCBmdW5jdGlvbiAoY3VyclRva1R5cGUpIHtcbiAgICAgICAgaWYgKCFoYXNTaG9ydEtleVByb3BlcnR5KGN1cnJUb2tUeXBlKSkge1xuICAgICAgICAgICAgdG9rZW5JZHhUb0NsYXNzW3Rva2VuU2hvcnROYW1lSWR4XSA9IGN1cnJUb2tUeXBlO1xuICAgICAgICAgICAgY3VyclRva1R5cGUudG9rZW5UeXBlSWR4ID0gdG9rZW5TaG9ydE5hbWVJZHgrKztcbiAgICAgICAgfVxuICAgICAgICAvLyBDQVRFR09SSUVTPyA6IFRva2VuVHlwZSB8IFRva2VuVHlwZVtdXG4gICAgICAgIGlmIChoYXNDYXRlZ29yaWVzUHJvcGVydHkoY3VyclRva1R5cGUpICYmXG4gICAgICAgICAgICAhaXNBcnJheShjdXJyVG9rVHlwZS5DQVRFR09SSUVTKVxuICAgICAgICAvLyAmJlxuICAgICAgICAvLyAhaXNVbmRlZmluZWQoY3VyclRva1R5cGUuQ0FURUdPUklFUy5QQVRURVJOKVxuICAgICAgICApIHtcbiAgICAgICAgICAgIGN1cnJUb2tUeXBlLkNBVEVHT1JJRVMgPSBbY3VyclRva1R5cGUuQ0FURUdPUklFU107XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFoYXNDYXRlZ29yaWVzUHJvcGVydHkoY3VyclRva1R5cGUpKSB7XG4gICAgICAgICAgICBjdXJyVG9rVHlwZS5DQVRFR09SSUVTID0gW107XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFoYXNFeHRlbmRpbmdUb2tlbnNUeXBlc1Byb3BlcnR5KGN1cnJUb2tUeXBlKSkge1xuICAgICAgICAgICAgY3VyclRva1R5cGUuY2F0ZWdvcnlNYXRjaGVzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFoYXNFeHRlbmRpbmdUb2tlbnNUeXBlc01hcFByb3BlcnR5KGN1cnJUb2tUeXBlKSkge1xuICAgICAgICAgICAgY3VyclRva1R5cGUuY2F0ZWdvcnlNYXRjaGVzTWFwID0ge307XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhc3NpZ25DYXRlZ29yaWVzVG9rZW5zUHJvcCh0b2tlblR5cGVzKSB7XG4gICAgZm9yRWFjaCh0b2tlblR5cGVzLCBmdW5jdGlvbiAoY3VyclRva1R5cGUpIHtcbiAgICAgICAgLy8gYXZvaWQgZHVwbGljYXRpb25zXG4gICAgICAgIGN1cnJUb2tUeXBlLmNhdGVnb3J5TWF0Y2hlcyA9IFtdO1xuICAgICAgICBmb3JFYWNoKGN1cnJUb2tUeXBlLmNhdGVnb3J5TWF0Y2hlc01hcCwgZnVuY3Rpb24gKHZhbCwga2V5KSB7XG4gICAgICAgICAgICBjdXJyVG9rVHlwZS5jYXRlZ29yeU1hdGNoZXMucHVzaCh0b2tlbklkeFRvQ2xhc3Nba2V5XS50b2tlblR5cGVJZHgpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhc3NpZ25DYXRlZ29yaWVzTWFwUHJvcCh0b2tlblR5cGVzKSB7XG4gICAgZm9yRWFjaCh0b2tlblR5cGVzLCBmdW5jdGlvbiAoY3VyclRva1R5cGUpIHtcbiAgICAgICAgc2luZ2xlQXNzaWduQ2F0ZWdvcmllc1Rva3NNYXAoW10sIGN1cnJUb2tUeXBlKTtcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzaW5nbGVBc3NpZ25DYXRlZ29yaWVzVG9rc01hcChwYXRoLCBuZXh0Tm9kZSkge1xuICAgIGZvckVhY2gocGF0aCwgZnVuY3Rpb24gKHBhdGhOb2RlKSB7XG4gICAgICAgIG5leHROb2RlLmNhdGVnb3J5TWF0Y2hlc01hcFtwYXRoTm9kZS50b2tlblR5cGVJZHhdID0gdHJ1ZTtcbiAgICB9KTtcbiAgICBmb3JFYWNoKG5leHROb2RlLkNBVEVHT1JJRVMsIGZ1bmN0aW9uIChuZXh0Q2F0ZWdvcnkpIHtcbiAgICAgICAgdmFyIG5ld1BhdGggPSBwYXRoLmNvbmNhdChuZXh0Tm9kZSk7XG4gICAgICAgIC8vIGF2b2lkcyBpbmZpbml0ZSBsb29wcyBkdWUgdG8gY3ljbGljIGNhdGVnb3JpZXMuXG4gICAgICAgIGlmICghY29udGFpbnMobmV3UGF0aCwgbmV4dENhdGVnb3J5KSkge1xuICAgICAgICAgICAgc2luZ2xlQXNzaWduQ2F0ZWdvcmllc1Rva3NNYXAobmV3UGF0aCwgbmV4dENhdGVnb3J5KTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGhhc1Nob3J0S2V5UHJvcGVydHkodG9rVHlwZSkge1xuICAgIHJldHVybiBoYXModG9rVHlwZSwgXCJ0b2tlblR5cGVJZHhcIik7XG59XG5leHBvcnQgZnVuY3Rpb24gaGFzQ2F0ZWdvcmllc1Byb3BlcnR5KHRva1R5cGUpIHtcbiAgICByZXR1cm4gaGFzKHRva1R5cGUsIFwiQ0FURUdPUklFU1wiKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBoYXNFeHRlbmRpbmdUb2tlbnNUeXBlc1Byb3BlcnR5KHRva1R5cGUpIHtcbiAgICByZXR1cm4gaGFzKHRva1R5cGUsIFwiY2F0ZWdvcnlNYXRjaGVzXCIpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGhhc0V4dGVuZGluZ1Rva2Vuc1R5cGVzTWFwUHJvcGVydHkodG9rVHlwZSkge1xuICAgIHJldHVybiBoYXModG9rVHlwZSwgXCJjYXRlZ29yeU1hdGNoZXNNYXBcIik7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNUb2tlblR5cGUodG9rVHlwZSkge1xuICAgIHJldHVybiBoYXModG9rVHlwZSwgXCJ0b2tlblR5cGVJZHhcIik7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10b2tlbnMuanMubWFwIiwiZXhwb3J0IHZhciBkZWZhdWx0TGV4ZXJFcnJvclByb3ZpZGVyID0ge1xuICAgIGJ1aWxkVW5hYmxlVG9Qb3BMZXhlck1vZGVNZXNzYWdlOiBmdW5jdGlvbiAodG9rZW4pIHtcbiAgICAgICAgcmV0dXJuIFwiVW5hYmxlIHRvIHBvcCBMZXhlciBNb2RlIGFmdGVyIGVuY291bnRlcmluZyBUb2tlbiAtPlwiICsgdG9rZW4uaW1hZ2UgKyBcIjwtIFRoZSBNb2RlIFN0YWNrIGlzIGVtcHR5XCI7XG4gICAgfSxcbiAgICBidWlsZFVuZXhwZWN0ZWRDaGFyYWN0ZXJzTWVzc2FnZTogZnVuY3Rpb24gKGZ1bGxUZXh0LCBzdGFydE9mZnNldCwgbGVuZ3RoLCBsaW5lLCBjb2x1bW4pIHtcbiAgICAgICAgcmV0dXJuIChcInVuZXhwZWN0ZWQgY2hhcmFjdGVyOiAtPlwiICsgZnVsbFRleHQuY2hhckF0KHN0YXJ0T2Zmc2V0KSArIFwiPC0gYXQgb2Zmc2V0OiBcIiArIHN0YXJ0T2Zmc2V0ICsgXCIsXCIgKyAoXCIgc2tpcHBlZCBcIiArIGxlbmd0aCArIFwiIGNoYXJhY3RlcnMuXCIpKTtcbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGV4ZXJfZXJyb3JzX3B1YmxpYy5qcy5tYXAiLCJpbXBvcnQgeyBhbmFseXplVG9rZW5UeXBlcywgY2hhckNvZGVUb09wdGltaXplZEluZGV4LCBjbG9uZUVtcHR5R3JvdXBzLCBERUZBVUxUX01PREUsIExpbmVUZXJtaW5hdG9yT3B0aW1pemVkVGVzdGVyLCBwZXJmb3JtUnVudGltZUNoZWNrcywgcGVyZm9ybVdhcm5pbmdSdW50aW1lQ2hlY2tzLCBTVVBQT1JUX1NUSUNLWSwgdmFsaWRhdGVQYXR0ZXJucyB9IGZyb20gXCIuL2xleGVyXCI7XG5pbXBvcnQgeyBjbG9uZUFyciwgY2xvbmVPYmosIGZvckVhY2gsIElERU5USVRZLCBpc0FycmF5LCBpc0VtcHR5LCBpc1VuZGVmaW5lZCwga2V5cywgbGFzdCwgbWFwLCBtZXJnZSwgTk9PUCwgUFJJTlRfV0FSTklORywgcmVkdWNlLCByZWplY3QsIHRpbWVyLCB0b0Zhc3RQcm9wZXJ0aWVzIH0gZnJvbSBcIi4uL3V0aWxzL3V0aWxzXCI7XG5pbXBvcnQgeyBhdWdtZW50VG9rZW5UeXBlcyB9IGZyb20gXCIuL3Rva2Vuc1wiO1xuaW1wb3J0IHsgZGVmYXVsdExleGVyRXJyb3JQcm92aWRlciB9IGZyb20gXCIuLi9zY2FuL2xleGVyX2Vycm9yc19wdWJsaWNcIjtcbmltcG9ydCB7IGNsZWFyUmVnRXhwUGFyc2VyQ2FjaGUgfSBmcm9tIFwiLi9yZWdfZXhwX3BhcnNlclwiO1xuZXhwb3J0IHZhciBMZXhlckRlZmluaXRpb25FcnJvclR5cGU7XG4oZnVuY3Rpb24gKExleGVyRGVmaW5pdGlvbkVycm9yVHlwZSkge1xuICAgIExleGVyRGVmaW5pdGlvbkVycm9yVHlwZVtMZXhlckRlZmluaXRpb25FcnJvclR5cGVbXCJNSVNTSU5HX1BBVFRFUk5cIl0gPSAwXSA9IFwiTUlTU0lOR19QQVRURVJOXCI7XG4gICAgTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlW0xleGVyRGVmaW5pdGlvbkVycm9yVHlwZVtcIklOVkFMSURfUEFUVEVSTlwiXSA9IDFdID0gXCJJTlZBTElEX1BBVFRFUk5cIjtcbiAgICBMZXhlckRlZmluaXRpb25FcnJvclR5cGVbTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlW1wiRU9JX0FOQ0hPUl9GT1VORFwiXSA9IDJdID0gXCJFT0lfQU5DSE9SX0ZPVU5EXCI7XG4gICAgTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlW0xleGVyRGVmaW5pdGlvbkVycm9yVHlwZVtcIlVOU1VQUE9SVEVEX0ZMQUdTX0ZPVU5EXCJdID0gM10gPSBcIlVOU1VQUE9SVEVEX0ZMQUdTX0ZPVU5EXCI7XG4gICAgTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlW0xleGVyRGVmaW5pdGlvbkVycm9yVHlwZVtcIkRVUExJQ0FURV9QQVRURVJOU19GT1VORFwiXSA9IDRdID0gXCJEVVBMSUNBVEVfUEFUVEVSTlNfRk9VTkRcIjtcbiAgICBMZXhlckRlZmluaXRpb25FcnJvclR5cGVbTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlW1wiSU5WQUxJRF9HUk9VUF9UWVBFX0ZPVU5EXCJdID0gNV0gPSBcIklOVkFMSURfR1JPVVBfVFlQRV9GT1VORFwiO1xuICAgIExleGVyRGVmaW5pdGlvbkVycm9yVHlwZVtMZXhlckRlZmluaXRpb25FcnJvclR5cGVbXCJQVVNIX01PREVfRE9FU19OT1RfRVhJU1RcIl0gPSA2XSA9IFwiUFVTSF9NT0RFX0RPRVNfTk9UX0VYSVNUXCI7XG4gICAgTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlW0xleGVyRGVmaW5pdGlvbkVycm9yVHlwZVtcIk1VTFRJX01PREVfTEVYRVJfV0lUSE9VVF9ERUZBVUxUX01PREVcIl0gPSA3XSA9IFwiTVVMVElfTU9ERV9MRVhFUl9XSVRIT1VUX0RFRkFVTFRfTU9ERVwiO1xuICAgIExleGVyRGVmaW5pdGlvbkVycm9yVHlwZVtMZXhlckRlZmluaXRpb25FcnJvclR5cGVbXCJNVUxUSV9NT0RFX0xFWEVSX1dJVEhPVVRfTU9ERVNfUFJPUEVSVFlcIl0gPSA4XSA9IFwiTVVMVElfTU9ERV9MRVhFUl9XSVRIT1VUX01PREVTX1BST1BFUlRZXCI7XG4gICAgTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlW0xleGVyRGVmaW5pdGlvbkVycm9yVHlwZVtcIk1VTFRJX01PREVfTEVYRVJfREVGQVVMVF9NT0RFX1ZBTFVFX0RPRVNfTk9UX0VYSVNUXCJdID0gOV0gPSBcIk1VTFRJX01PREVfTEVYRVJfREVGQVVMVF9NT0RFX1ZBTFVFX0RPRVNfTk9UX0VYSVNUXCI7XG4gICAgTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlW0xleGVyRGVmaW5pdGlvbkVycm9yVHlwZVtcIkxFWEVSX0RFRklOSVRJT05fQ0FOTk9UX0NPTlRBSU5fVU5ERUZJTkVEXCJdID0gMTBdID0gXCJMRVhFUl9ERUZJTklUSU9OX0NBTk5PVF9DT05UQUlOX1VOREVGSU5FRFwiO1xuICAgIExleGVyRGVmaW5pdGlvbkVycm9yVHlwZVtMZXhlckRlZmluaXRpb25FcnJvclR5cGVbXCJTT0lfQU5DSE9SX0ZPVU5EXCJdID0gMTFdID0gXCJTT0lfQU5DSE9SX0ZPVU5EXCI7XG4gICAgTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlW0xleGVyRGVmaW5pdGlvbkVycm9yVHlwZVtcIkVNUFRZX01BVENIX1BBVFRFUk5cIl0gPSAxMl0gPSBcIkVNUFRZX01BVENIX1BBVFRFUk5cIjtcbiAgICBMZXhlckRlZmluaXRpb25FcnJvclR5cGVbTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlW1wiTk9fTElORV9CUkVBS1NfRkxBR1NcIl0gPSAxM10gPSBcIk5PX0xJTkVfQlJFQUtTX0ZMQUdTXCI7XG4gICAgTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlW0xleGVyRGVmaW5pdGlvbkVycm9yVHlwZVtcIlVOUkVBQ0hBQkxFX1BBVFRFUk5cIl0gPSAxNF0gPSBcIlVOUkVBQ0hBQkxFX1BBVFRFUk5cIjtcbiAgICBMZXhlckRlZmluaXRpb25FcnJvclR5cGVbTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlW1wiSURFTlRJRllfVEVSTUlOQVRPUlwiXSA9IDE1XSA9IFwiSURFTlRJRllfVEVSTUlOQVRPUlwiO1xuICAgIExleGVyRGVmaW5pdGlvbkVycm9yVHlwZVtMZXhlckRlZmluaXRpb25FcnJvclR5cGVbXCJDVVNUT01fTElORV9CUkVBS1wiXSA9IDE2XSA9IFwiQ1VTVE9NX0xJTkVfQlJFQUtcIjtcbn0pKExleGVyRGVmaW5pdGlvbkVycm9yVHlwZSB8fCAoTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlID0ge30pKTtcbnZhciBERUZBVUxUX0xFWEVSX0NPTkZJRyA9IHtcbiAgICBkZWZlckRlZmluaXRpb25FcnJvcnNIYW5kbGluZzogZmFsc2UsXG4gICAgcG9zaXRpb25UcmFja2luZzogXCJmdWxsXCIsXG4gICAgbGluZVRlcm1pbmF0b3JzUGF0dGVybjogL1xcbnxcXHJcXG4/L2csXG4gICAgbGluZVRlcm1pbmF0b3JDaGFyYWN0ZXJzOiBbXCJcXG5cIiwgXCJcXHJcIl0sXG4gICAgZW5zdXJlT3B0aW1pemF0aW9uczogZmFsc2UsXG4gICAgc2FmZU1vZGU6IGZhbHNlLFxuICAgIGVycm9yTWVzc2FnZVByb3ZpZGVyOiBkZWZhdWx0TGV4ZXJFcnJvclByb3ZpZGVyLFxuICAgIHRyYWNlSW5pdFBlcmY6IGZhbHNlLFxuICAgIHNraXBWYWxpZGF0aW9uczogZmFsc2Vcbn07XG5PYmplY3QuZnJlZXplKERFRkFVTFRfTEVYRVJfQ09ORklHKTtcbnZhciBMZXhlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBMZXhlcihsZXhlckRlZmluaXRpb24sIGNvbmZpZykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0gREVGQVVMVF9MRVhFUl9DT05GSUc7IH1cbiAgICAgICAgdGhpcy5sZXhlckRlZmluaXRpb24gPSBsZXhlckRlZmluaXRpb247XG4gICAgICAgIHRoaXMubGV4ZXJEZWZpbml0aW9uRXJyb3JzID0gW107XG4gICAgICAgIHRoaXMubGV4ZXJEZWZpbml0aW9uV2FybmluZyA9IFtdO1xuICAgICAgICB0aGlzLnBhdHRlcm5JZHhUb0NvbmZpZyA9IHt9O1xuICAgICAgICB0aGlzLmNoYXJDb2RlVG9QYXR0ZXJuSWR4VG9Db25maWcgPSB7fTtcbiAgICAgICAgdGhpcy5tb2RlcyA9IFtdO1xuICAgICAgICB0aGlzLmVtcHR5R3JvdXBzID0ge307XG4gICAgICAgIHRoaXMuY29uZmlnID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnRyYWNrU3RhcnRMaW5lcyA9IHRydWU7XG4gICAgICAgIHRoaXMudHJhY2tFbmRMaW5lcyA9IHRydWU7XG4gICAgICAgIHRoaXMuaGFzQ3VzdG9tID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY2FuTW9kZUJlT3B0aW1pemVkID0ge307XG4gICAgICAgIGlmICh0eXBlb2YgY29uZmlnID09PSBcImJvb2xlYW5cIikge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJUaGUgc2Vjb25kIGFyZ3VtZW50IHRvIHRoZSBMZXhlciBjb25zdHJ1Y3RvciBpcyBub3cgYW4gSUxleGVyQ29uZmlnIE9iamVjdC5cXG5cIiArXG4gICAgICAgICAgICAgICAgXCJhIGJvb2xlYW4gMm5kIGFyZ3VtZW50IGlzIG5vIGxvbmdlciBzdXBwb3J0ZWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdG9kbzogZGVmYXVsdHMgZnVuYz9cbiAgICAgICAgdGhpcy5jb25maWcgPSBtZXJnZShERUZBVUxUX0xFWEVSX0NPTkZJRywgY29uZmlnKTtcbiAgICAgICAgdmFyIHRyYWNlSW5pdFZhbCA9IHRoaXMuY29uZmlnLnRyYWNlSW5pdFBlcmY7XG4gICAgICAgIGlmICh0cmFjZUluaXRWYWwgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHRoaXMudHJhY2VJbml0TWF4SWRlbnQgPSBJbmZpbml0eTtcbiAgICAgICAgICAgIHRoaXMudHJhY2VJbml0UGVyZiA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHRyYWNlSW5pdFZhbCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgdGhpcy50cmFjZUluaXRNYXhJZGVudCA9IHRyYWNlSW5pdFZhbDtcbiAgICAgICAgICAgIHRoaXMudHJhY2VJbml0UGVyZiA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50cmFjZUluaXRJbmRlbnQgPSAtMTtcbiAgICAgICAgdGhpcy5UUkFDRV9JTklUKFwiTGV4ZXIgQ29uc3RydWN0b3JcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFjdHVhbERlZmluaXRpb247XG4gICAgICAgICAgICB2YXIgaGFzT25seVNpbmdsZU1vZGUgPSB0cnVlO1xuICAgICAgICAgICAgX3RoaXMuVFJBQ0VfSU5JVChcIkxleGVyIENvbmZpZyBoYW5kbGluZ1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLmNvbmZpZy5saW5lVGVybWluYXRvcnNQYXR0ZXJuID09PVxuICAgICAgICAgICAgICAgICAgICBERUZBVUxUX0xFWEVSX0NPTkZJRy5saW5lVGVybWluYXRvcnNQYXR0ZXJuKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIG9wdGltaXplZCBidWlsdC1pbiBpbXBsZW1lbnRhdGlvbiBmb3IgdGhlIGRlZmF1bHRzIGRlZmluaXRpb24gb2YgbGluZVRlcm1pbmF0b3JzXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmNvbmZpZy5saW5lVGVybWluYXRvcnNQYXR0ZXJuID0gTGluZVRlcm1pbmF0b3JPcHRpbWl6ZWRUZXN0ZXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuY29uZmlnLmxpbmVUZXJtaW5hdG9yQ2hhcmFjdGVycyA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgIERFRkFVTFRfTEVYRVJfQ09ORklHLmxpbmVUZXJtaW5hdG9yQ2hhcmFjdGVycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJFcnJvcjogTWlzc2luZyA8bGluZVRlcm1pbmF0b3JDaGFyYWN0ZXJzPiBwcm9wZXJ0eSBvbiB0aGUgTGV4ZXIgY29uZmlnLlxcblwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlxcdEZvciBkZXRhaWxzIFNlZTogaHR0cHM6Ly9zYXAuZ2l0aHViLmlvL2NoZXZyb3RhaW4vZG9jcy9ndWlkZS9yZXNvbHZpbmdfbGV4ZXJfZXJyb3JzLmh0bWwjTUlTU0lOR19MSU5FX1RFUk1fQ0hBUlNcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGNvbmZpZy5zYWZlTW9kZSAmJiBjb25maWcuZW5zdXJlT3B0aW1pemF0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcignXCJzYWZlTW9kZVwiIGFuZCBcImVuc3VyZU9wdGltaXphdGlvbnNcIiBmbGFncyBhcmUgbXV0dWFsbHkgZXhjbHVzaXZlLicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfdGhpcy50cmFja1N0YXJ0TGluZXMgPSAvZnVsbHxvbmx5U3RhcnQvaS50ZXN0KF90aGlzLmNvbmZpZy5wb3NpdGlvblRyYWNraW5nKTtcbiAgICAgICAgICAgICAgICBfdGhpcy50cmFja0VuZExpbmVzID0gL2Z1bGwvaS50ZXN0KF90aGlzLmNvbmZpZy5wb3NpdGlvblRyYWNraW5nKTtcbiAgICAgICAgICAgICAgICAvLyBDb252ZXJ0IFNpbmdsZU1vZGVMZXhlckRlZmluaXRpb24gaW50byBhIElNdWx0aU1vZGVMZXhlckRlZmluaXRpb24uXG4gICAgICAgICAgICAgICAgaWYgKGlzQXJyYXkobGV4ZXJEZWZpbml0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICBhY3R1YWxEZWZpbml0aW9uID0geyBtb2Rlczoge30gfTtcbiAgICAgICAgICAgICAgICAgICAgYWN0dWFsRGVmaW5pdGlvbi5tb2Rlc1tERUZBVUxUX01PREVdID0gY2xvbmVBcnIobGV4ZXJEZWZpbml0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgYWN0dWFsRGVmaW5pdGlvbltERUZBVUxUX01PREVdID0gREVGQVVMVF9NT0RFO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gbm8gY29udmVyc2lvbiBuZWVkZWQsIGlucHV0IHNob3VsZCBhbHJlYWR5IGJlIGEgSU11bHRpTW9kZUxleGVyRGVmaW5pdGlvblxuICAgICAgICAgICAgICAgICAgICBoYXNPbmx5U2luZ2xlTW9kZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBhY3R1YWxEZWZpbml0aW9uID0gY2xvbmVPYmoobGV4ZXJEZWZpbml0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChfdGhpcy5jb25maWcuc2tpcFZhbGlkYXRpb25zID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIF90aGlzLlRSQUNFX0lOSVQoXCJwZXJmb3JtUnVudGltZUNoZWNrc1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmxleGVyRGVmaW5pdGlvbkVycm9ycyA9IF90aGlzLmxleGVyRGVmaW5pdGlvbkVycm9ycy5jb25jYXQocGVyZm9ybVJ1bnRpbWVDaGVja3MoYWN0dWFsRGVmaW5pdGlvbiwgX3RoaXMudHJhY2tTdGFydExpbmVzLCBfdGhpcy5jb25maWcubGluZVRlcm1pbmF0b3JDaGFyYWN0ZXJzKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgX3RoaXMuVFJBQ0VfSU5JVChcInBlcmZvcm1XYXJuaW5nUnVudGltZUNoZWNrc1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmxleGVyRGVmaW5pdGlvbldhcm5pbmcgPSBfdGhpcy5sZXhlckRlZmluaXRpb25XYXJuaW5nLmNvbmNhdChwZXJmb3JtV2FybmluZ1J1bnRpbWVDaGVja3MoYWN0dWFsRGVmaW5pdGlvbiwgX3RoaXMudHJhY2tTdGFydExpbmVzLCBfdGhpcy5jb25maWcubGluZVRlcm1pbmF0b3JDaGFyYWN0ZXJzKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBmb3IgZXh0cmEgcm9idXN0bmVzcyB0byBhdm9pZCB0aHJvd2luZyBhbiBub25lIGluZm9ybWF0aXZlIGVycm9yIG1lc3NhZ2VcbiAgICAgICAgICAgIGFjdHVhbERlZmluaXRpb24ubW9kZXMgPSBhY3R1YWxEZWZpbml0aW9uLm1vZGVzXG4gICAgICAgICAgICAgICAgPyBhY3R1YWxEZWZpbml0aW9uLm1vZGVzXG4gICAgICAgICAgICAgICAgOiB7fTtcbiAgICAgICAgICAgIC8vIGFuIGVycm9yIG9mIHVuZGVmaW5lZCBUb2tlblR5cGVzIHdpbGwgYmUgZGV0ZWN0ZWQgaW4gXCJwZXJmb3JtUnVudGltZUNoZWNrc1wiIGFib3ZlLlxuICAgICAgICAgICAgLy8gdGhpcyB0cmFuc2Zvcm1hdGlvbiBpcyB0byBpbmNyZWFzZSByb2J1c3RuZXNzIGluIHRoZSBjYXNlIG9mIHBhcnRpYWxseSBpbnZhbGlkIGxleGVyIGRlZmluaXRpb24uXG4gICAgICAgICAgICBmb3JFYWNoKGFjdHVhbERlZmluaXRpb24ubW9kZXMsIGZ1bmN0aW9uIChjdXJyTW9kZVZhbHVlLCBjdXJyTW9kZU5hbWUpIHtcbiAgICAgICAgICAgICAgICBhY3R1YWxEZWZpbml0aW9uLm1vZGVzW2N1cnJNb2RlTmFtZV0gPSByZWplY3QoY3Vyck1vZGVWYWx1ZSwgZnVuY3Rpb24gKGN1cnJUb2tUeXBlKSB7IHJldHVybiBpc1VuZGVmaW5lZChjdXJyVG9rVHlwZSk7IH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgYWxsTW9kZU5hbWVzID0ga2V5cyhhY3R1YWxEZWZpbml0aW9uLm1vZGVzKTtcbiAgICAgICAgICAgIGZvckVhY2goYWN0dWFsRGVmaW5pdGlvbi5tb2RlcywgZnVuY3Rpb24gKGN1cnJNb2REZWYsIGN1cnJNb2ROYW1lKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuVFJBQ0VfSU5JVChcIk1vZGU6IDxcIiArIGN1cnJNb2ROYW1lICsgXCI+IHByb2Nlc3NpbmdcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5tb2Rlcy5wdXNoKGN1cnJNb2ROYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLmNvbmZpZy5za2lwVmFsaWRhdGlvbnMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5UUkFDRV9JTklUKFwidmFsaWRhdGVQYXR0ZXJuc1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMubGV4ZXJEZWZpbml0aW9uRXJyb3JzID0gX3RoaXMubGV4ZXJEZWZpbml0aW9uRXJyb3JzLmNvbmNhdCh2YWxpZGF0ZVBhdHRlcm5zKGN1cnJNb2REZWYsIGFsbE1vZGVOYW1lcykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgZGVmaW5pdGlvbiBlcnJvcnMgd2VyZSBlbmNvdW50ZXJlZCwgdGhlIGFuYWx5c2lzIHBoYXNlIG1heSBmYWlsIHVuZXhwZWN0ZWRseS9cbiAgICAgICAgICAgICAgICAgICAgLy8gQ29uc2lkZXJpbmcgYSBsZXhlciB3aXRoIGRlZmluaXRpb24gZXJyb3JzIG1heSBuZXZlciBiZSB1c2VkLCB0aGVyZSBpcyBubyBwb2ludFxuICAgICAgICAgICAgICAgICAgICAvLyB0byBwZXJmb3JtaW5nIHRoZSBhbmFseXNpcyBhbnlob3cuLi5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzRW1wdHkoX3RoaXMubGV4ZXJEZWZpbml0aW9uRXJyb3JzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXVnbWVudFRva2VuVHlwZXMoY3Vyck1vZERlZik7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VyckFuYWx5emVSZXN1bHRfMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLlRSQUNFX0lOSVQoXCJhbmFseXplVG9rZW5UeXBlc1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyckFuYWx5emVSZXN1bHRfMSA9IGFuYWx5emVUb2tlblR5cGVzKGN1cnJNb2REZWYsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZVRlcm1pbmF0b3JDaGFyYWN0ZXJzOiBfdGhpcy5jb25maWdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5saW5lVGVybWluYXRvckNoYXJhY3RlcnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uVHJhY2tpbmc6IGNvbmZpZy5wb3NpdGlvblRyYWNraW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnN1cmVPcHRpbWl6YXRpb25zOiBjb25maWcuZW5zdXJlT3B0aW1pemF0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2FmZU1vZGU6IGNvbmZpZy5zYWZlTW9kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2VyOiBfdGhpcy5UUkFDRV9JTklULmJpbmQoX3RoaXMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBhdHRlcm5JZHhUb0NvbmZpZ1tjdXJyTW9kTmFtZV0gPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJBbmFseXplUmVzdWx0XzEucGF0dGVybklkeFRvQ29uZmlnO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY2hhckNvZGVUb1BhdHRlcm5JZHhUb0NvbmZpZ1tjdXJyTW9kTmFtZV0gPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJBbmFseXplUmVzdWx0XzEuY2hhckNvZGVUb1BhdHRlcm5JZHhUb0NvbmZpZztcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmVtcHR5R3JvdXBzID0gbWVyZ2UoX3RoaXMuZW1wdHlHcm91cHMsIGN1cnJBbmFseXplUmVzdWx0XzEuZW1wdHlHcm91cHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuaGFzQ3VzdG9tID0gY3VyckFuYWx5emVSZXN1bHRfMS5oYXNDdXN0b20gfHwgX3RoaXMuaGFzQ3VzdG9tO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY2FuTW9kZUJlT3B0aW1pemVkW2N1cnJNb2ROYW1lXSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyckFuYWx5emVSZXN1bHRfMS5jYW5CZU9wdGltaXplZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBfdGhpcy5kZWZhdWx0TW9kZSA9IGFjdHVhbERlZmluaXRpb24uZGVmYXVsdE1vZGU7XG4gICAgICAgICAgICBpZiAoIWlzRW1wdHkoX3RoaXMubGV4ZXJEZWZpbml0aW9uRXJyb3JzKSAmJlxuICAgICAgICAgICAgICAgICFfdGhpcy5jb25maWcuZGVmZXJEZWZpbml0aW9uRXJyb3JzSGFuZGxpbmcpIHtcbiAgICAgICAgICAgICAgICB2YXIgYWxsRXJyTWVzc2FnZXMgPSBtYXAoX3RoaXMubGV4ZXJEZWZpbml0aW9uRXJyb3JzLCBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLm1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdmFyIGFsbEVyck1lc3NhZ2VzU3RyaW5nID0gYWxsRXJyTWVzc2FnZXMuam9pbihcIi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXFxuXCIpO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkVycm9ycyBkZXRlY3RlZCBpbiBkZWZpbml0aW9uIG9mIExleGVyOlxcblwiICsgYWxsRXJyTWVzc2FnZXNTdHJpbmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gT25seSBwcmludCB3YXJuaW5nIGlmIHRoZXJlIGFyZSBubyBlcnJvcnMsIFRoaXMgd2lsbCBhdm9pZCBwbFxuICAgICAgICAgICAgZm9yRWFjaChfdGhpcy5sZXhlckRlZmluaXRpb25XYXJuaW5nLCBmdW5jdGlvbiAod2FybmluZ0Rlc2NyaXB0b3IpIHtcbiAgICAgICAgICAgICAgICBQUklOVF9XQVJOSU5HKHdhcm5pbmdEZXNjcmlwdG9yLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBfdGhpcy5UUkFDRV9JTklUKFwiQ2hvb3Npbmcgc3ViLW1ldGhvZHMgaW1wbGVtZW50YXRpb25zXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAvLyBDaG9vc2UgdGhlIHJlbGV2YW50IGludGVybmFsIGltcGxlbWVudGF0aW9ucyBmb3IgdGhpcyBzcGVjaWZpYyBwYXJzZXIuXG4gICAgICAgICAgICAgICAgLy8gVGhlc2UgaW1wbGVtZW50YXRpb25zIHNob3VsZCBiZSBpbi1saW5lZCBieSB0aGUgSmF2YVNjcmlwdCBlbmdpbmVcbiAgICAgICAgICAgICAgICAvLyB0byBwcm92aWRlIG9wdGltYWwgcGVyZm9ybWFuY2UgaW4gZWFjaCBzY2VuYXJpby5cbiAgICAgICAgICAgICAgICBpZiAoU1VQUE9SVF9TVElDS1kpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuY2hvcElucHV0ID0gSURFTlRJVFk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLm1hdGNoID0gX3RoaXMubWF0Y2hXaXRoVGVzdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnVwZGF0ZUxhc3RJbmRleCA9IE5PT1A7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLm1hdGNoID0gX3RoaXMubWF0Y2hXaXRoRXhlYztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGhhc09ubHlTaW5nbGVNb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmhhbmRsZU1vZGVzID0gTk9PUDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLnRyYWNrU3RhcnRMaW5lcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuY29tcHV0ZU5ld0NvbHVtbiA9IElERU5USVRZO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMudHJhY2tFbmRMaW5lcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMudXBkYXRlVG9rZW5FbmRMaW5lQ29sdW1uTG9jYXRpb24gPSBOT09QO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoL2Z1bGwvaS50ZXN0KF90aGlzLmNvbmZpZy5wb3NpdGlvblRyYWNraW5nKSkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5jcmVhdGVUb2tlbkluc3RhbmNlID0gX3RoaXMuY3JlYXRlRnVsbFRva2VuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICgvb25seVN0YXJ0L2kudGVzdChfdGhpcy5jb25maWcucG9zaXRpb25UcmFja2luZykpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuY3JlYXRlVG9rZW5JbnN0YW5jZSA9IF90aGlzLmNyZWF0ZVN0YXJ0T25seVRva2VuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICgvb25seU9mZnNldC9pLnRlc3QoX3RoaXMuY29uZmlnLnBvc2l0aW9uVHJhY2tpbmcpKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmNyZWF0ZVRva2VuSW5zdGFuY2UgPSBfdGhpcy5jcmVhdGVPZmZzZXRPbmx5VG9rZW47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIkludmFsaWQgPHBvc2l0aW9uVHJhY2tpbmc+IGNvbmZpZyBvcHRpb246IFxcXCJcIiArIF90aGlzLmNvbmZpZy5wb3NpdGlvblRyYWNraW5nICsgXCJcXFwiXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuaGFzQ3VzdG9tKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmFkZFRva2VuID0gX3RoaXMuYWRkVG9rZW5Vc2luZ1B1c2g7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmhhbmRsZVBheWxvYWQgPSBfdGhpcy5oYW5kbGVQYXlsb2FkV2l0aEN1c3RvbTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmFkZFRva2VuID0gX3RoaXMuYWRkVG9rZW5Vc2luZ01lbWJlckFjY2VzcztcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuaGFuZGxlUGF5bG9hZCA9IF90aGlzLmhhbmRsZVBheWxvYWROb0N1c3RvbTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIF90aGlzLlRSQUNFX0lOSVQoXCJGYWlsZWQgT3B0aW1pemF0aW9uIFdhcm5pbmdzXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgdW5PcHRpbWl6ZWRNb2RlcyA9IHJlZHVjZShfdGhpcy5jYW5Nb2RlQmVPcHRpbWl6ZWQsIGZ1bmN0aW9uIChjYW5ub3RCZU9wdGltaXplZCwgY2FuQmVPcHRpbWl6ZWQsIG1vZGVOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjYW5CZU9wdGltaXplZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbm5vdEJlT3B0aW1pemVkLnB1c2gobW9kZU5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjYW5ub3RCZU9wdGltaXplZDtcbiAgICAgICAgICAgICAgICB9LCBbXSk7XG4gICAgICAgICAgICAgICAgaWYgKGNvbmZpZy5lbnN1cmVPcHRpbWl6YXRpb25zICYmICFpc0VtcHR5KHVuT3B0aW1pemVkTW9kZXMpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwiTGV4ZXIgTW9kZXM6IDwgXCIgKyB1bk9wdGltaXplZE1vZGVzLmpvaW4oXCIsIFwiKSArIFwiID4gY2Fubm90IGJlIG9wdGltaXplZC5cXG5cIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAnXFx0IERpc2FibGUgdGhlIFwiZW5zdXJlT3B0aW1pemF0aW9uc1wiIGxleGVyIGNvbmZpZyBmbGFnIHRvIHNpbGVudGx5IGlnbm9yZSB0aGlzIGFuZCBydW4gdGhlIGxleGVyIGluIGFuIHVuLW9wdGltaXplZCBtb2RlLlxcbicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJcXHQgT3IgaW5zcGVjdCB0aGUgY29uc29sZSBsb2cgZm9yIGRldGFpbHMgb24gaG93IHRvIHJlc29sdmUgdGhlc2UgaXNzdWVzLlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIF90aGlzLlRSQUNFX0lOSVQoXCJjbGVhclJlZ0V4cFBhcnNlckNhY2hlXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBjbGVhclJlZ0V4cFBhcnNlckNhY2hlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIF90aGlzLlRSQUNFX0lOSVQoXCJ0b0Zhc3RQcm9wZXJ0aWVzXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB0b0Zhc3RQcm9wZXJ0aWVzKF90aGlzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgTGV4ZXIucHJvdG90eXBlLnRva2VuaXplID0gZnVuY3Rpb24gKHRleHQsIGluaXRpYWxNb2RlKSB7XG4gICAgICAgIGlmIChpbml0aWFsTW9kZSA9PT0gdm9pZCAwKSB7IGluaXRpYWxNb2RlID0gdGhpcy5kZWZhdWx0TW9kZTsgfVxuICAgICAgICBpZiAoIWlzRW1wdHkodGhpcy5sZXhlckRlZmluaXRpb25FcnJvcnMpKSB7XG4gICAgICAgICAgICB2YXIgYWxsRXJyTWVzc2FnZXMgPSBtYXAodGhpcy5sZXhlckRlZmluaXRpb25FcnJvcnMsIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci5tZXNzYWdlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgYWxsRXJyTWVzc2FnZXNTdHJpbmcgPSBhbGxFcnJNZXNzYWdlcy5qb2luKFwiLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cXG5cIik7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gVG9rZW5pemUgYmVjYXVzZSBFcnJvcnMgZGV0ZWN0ZWQgaW4gZGVmaW5pdGlvbiBvZiBMZXhlcjpcXG5cIiArXG4gICAgICAgICAgICAgICAgYWxsRXJyTWVzc2FnZXNTdHJpbmcpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsZXhSZXN1bHQgPSB0aGlzLnRva2VuaXplSW50ZXJuYWwodGV4dCwgaW5pdGlhbE1vZGUpO1xuICAgICAgICByZXR1cm4gbGV4UmVzdWx0O1xuICAgIH07XG4gICAgLy8gVGhlcmUgaXMgcXVpdGUgYSBiaXQgb2YgZHVwbGljYXRpb24gYmV0d2VlbiB0aGlzIGFuZCBcInRva2VuaXplSW50ZXJuYWxMYXp5XCJcbiAgICAvLyBUaGlzIGlzIGludGVudGlvbmFsIGR1ZSB0byBwZXJmb3JtYW5jZSBjb25zaWRlcmF0aW9ucy5cbiAgICBMZXhlci5wcm90b3R5cGUudG9rZW5pemVJbnRlcm5hbCA9IGZ1bmN0aW9uICh0ZXh0LCBpbml0aWFsTW9kZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgaSwgaiwgbWF0Y2hBbHRJbWFnZSwgbG9uZ2VyQWx0SWR4LCBtYXRjaGVkSW1hZ2UsIHBheWxvYWQsIGFsdFBheWxvYWQsIGltYWdlTGVuZ3RoLCBncm91cCwgdG9rVHlwZSwgbmV3VG9rZW4sIGVyckxlbmd0aCwgZHJvcHBlZENoYXIsIG1zZywgbWF0Y2g7XG4gICAgICAgIHZhciBvcmdUZXh0ID0gdGV4dDtcbiAgICAgICAgdmFyIG9yZ0xlbmd0aCA9IG9yZ1RleHQubGVuZ3RoO1xuICAgICAgICB2YXIgb2Zmc2V0ID0gMDtcbiAgICAgICAgdmFyIG1hdGNoZWRUb2tlbnNJbmRleCA9IDA7XG4gICAgICAgIC8vIGluaXRpYWxpemluZyB0aGUgdG9rZW5zQXJyYXkgdG8gdGhlIFwiZ3Vlc3NlZFwiIHNpemUuXG4gICAgICAgIC8vIGd1ZXNzaW5nIHRvbyBsaXR0bGUgd2lsbCBzdGlsbCByZWR1Y2UgdGhlIG51bWJlciBvZiBhcnJheSByZS1zaXplcyBvbiBwdXNoZXMuXG4gICAgICAgIC8vIGd1ZXNzaW5nIHRvbyBsYXJnZSAoVGVzdGVkIGJ5IGd1ZXNzaW5nIHg0IHRvbyBsYXJnZSkgbWF5IGNvc3QgYSBiaXQgbW9yZSBvZiBtZW1vcnlcbiAgICAgICAgLy8gYnV0IHdvdWxkIHN0aWxsIGhhdmUgYSBmYXN0ZXIgcnVudGltZSBieSBhdm9pZGluZyAoQWxsIGJ1dCBvbmUpIGFycmF5IHJlc2l6aW5nLlxuICAgICAgICB2YXIgZ3Vlc3NlZE51bWJlck9mVG9rZW5zID0gdGhpcy5oYXNDdXN0b21cbiAgICAgICAgICAgID8gMCAvLyB3aWxsIGJyZWFrIGN1c3RvbSB0b2tlbiBwYXR0ZXJuIEFQSXMgdGhlIG1hdGNoZWRUb2tlbnMgYXJyYXkgd2lsbCBjb250YWluIHVuZGVmaW5lZCBlbGVtZW50cy5cbiAgICAgICAgICAgIDogTWF0aC5mbG9vcih0ZXh0Lmxlbmd0aCAvIDEwKTtcbiAgICAgICAgdmFyIG1hdGNoZWRUb2tlbnMgPSBuZXcgQXJyYXkoZ3Vlc3NlZE51bWJlck9mVG9rZW5zKTtcbiAgICAgICAgdmFyIGVycm9ycyA9IFtdO1xuICAgICAgICB2YXIgbGluZSA9IHRoaXMudHJhY2tTdGFydExpbmVzID8gMSA6IHVuZGVmaW5lZDtcbiAgICAgICAgdmFyIGNvbHVtbiA9IHRoaXMudHJhY2tTdGFydExpbmVzID8gMSA6IHVuZGVmaW5lZDtcbiAgICAgICAgdmFyIGdyb3VwcyA9IGNsb25lRW1wdHlHcm91cHModGhpcy5lbXB0eUdyb3Vwcyk7XG4gICAgICAgIHZhciB0cmFja0xpbmVzID0gdGhpcy50cmFja1N0YXJ0TGluZXM7XG4gICAgICAgIHZhciBsaW5lVGVybWluYXRvclBhdHRlcm4gPSB0aGlzLmNvbmZpZy5saW5lVGVybWluYXRvcnNQYXR0ZXJuO1xuICAgICAgICB2YXIgY3Vyck1vZGVQYXR0ZXJuc0xlbmd0aCA9IDA7XG4gICAgICAgIHZhciBwYXR0ZXJuSWR4VG9Db25maWcgPSBbXTtcbiAgICAgICAgdmFyIGN1cnJDaGFyQ29kZVRvUGF0dGVybklkeFRvQ29uZmlnID0gW107XG4gICAgICAgIHZhciBtb2RlU3RhY2sgPSBbXTtcbiAgICAgICAgdmFyIGVtcHR5QXJyYXkgPSBbXTtcbiAgICAgICAgT2JqZWN0LmZyZWV6ZShlbXB0eUFycmF5KTtcbiAgICAgICAgdmFyIGdldFBvc3NpYmxlUGF0dGVybnMgPSB1bmRlZmluZWQ7XG4gICAgICAgIGZ1bmN0aW9uIGdldFBvc3NpYmxlUGF0dGVybnNTbG93KCkge1xuICAgICAgICAgICAgcmV0dXJuIHBhdHRlcm5JZHhUb0NvbmZpZztcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBnZXRQb3NzaWJsZVBhdHRlcm5zT3B0aW1pemVkKGNoYXJDb2RlKSB7XG4gICAgICAgICAgICB2YXIgb3B0aW1pemVkQ2hhcklkeCA9IGNoYXJDb2RlVG9PcHRpbWl6ZWRJbmRleChjaGFyQ29kZSk7XG4gICAgICAgICAgICB2YXIgcG9zc2libGVQYXR0ZXJucyA9IGN1cnJDaGFyQ29kZVRvUGF0dGVybklkeFRvQ29uZmlnW29wdGltaXplZENoYXJJZHhdO1xuICAgICAgICAgICAgaWYgKHBvc3NpYmxlUGF0dGVybnMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBlbXB0eUFycmF5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBvc3NpYmxlUGF0dGVybnM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHBvcF9tb2RlID0gZnVuY3Rpb24gKHBvcFRva2VuKSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBwZXJoYXBzIGF2b2lkIHRoaXMgZXJyb3IgaW4gdGhlIGVkZ2UgY2FzZSB0aGVyZSBpcyBubyBtb3JlIGlucHV0P1xuICAgICAgICAgICAgaWYgKG1vZGVTdGFjay5sZW5ndGggPT09IDEgJiZcbiAgICAgICAgICAgICAgICAvLyBpZiB3ZSBoYXZlIGJvdGggYSBQT1BfTU9ERSBhbmQgYSBQVVNIX01PREUgdGhpcyBpcyBpbi1mYWN0IGEgXCJ0cmFuc2l0aW9uXCJcbiAgICAgICAgICAgICAgICAvLyBTbyBubyBlcnJvciBzaG91bGQgb2NjdXIuXG4gICAgICAgICAgICAgICAgcG9wVG9rZW4udG9rZW5UeXBlLlBVU0hfTU9ERSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgLy8gaWYgd2UgdHJ5IHRvIHBvcCB0aGUgbGFzdCBtb2RlIHRoZXJlIGxleGVyIHdpbGwgbm8gbG9uZ2VyIGhhdmUgQU5ZIG1vZGUuXG4gICAgICAgICAgICAgICAgLy8gdGh1cyB0aGUgcG9wIGlzIGlnbm9yZWQsIGFuIGVycm9yIHdpbGwgYmUgY3JlYXRlZCBhbmQgdGhlIGxleGVyIHdpbGwgY29udGludWUgcGFyc2luZyBpbiB0aGUgcHJldmlvdXMgbW9kZS5cbiAgICAgICAgICAgICAgICB2YXIgbXNnXzEgPSBfdGhpcy5jb25maWcuZXJyb3JNZXNzYWdlUHJvdmlkZXIuYnVpbGRVbmFibGVUb1BvcExleGVyTW9kZU1lc3NhZ2UocG9wVG9rZW4pO1xuICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiBwb3BUb2tlbi5zdGFydE9mZnNldCxcbiAgICAgICAgICAgICAgICAgICAgbGluZTogcG9wVG9rZW4uc3RhcnRMaW5lICE9PSB1bmRlZmluZWQgPyBwb3BUb2tlbi5zdGFydExpbmUgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbjogcG9wVG9rZW4uc3RhcnRDb2x1bW4gIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgPyBwb3BUb2tlbi5zdGFydENvbHVtblxuICAgICAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIGxlbmd0aDogcG9wVG9rZW4uaW1hZ2UubGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBtc2dfMVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbW9kZVN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgICAgIHZhciBuZXdNb2RlID0gbGFzdChtb2RlU3RhY2spO1xuICAgICAgICAgICAgICAgIHBhdHRlcm5JZHhUb0NvbmZpZyA9IF90aGlzLnBhdHRlcm5JZHhUb0NvbmZpZ1tuZXdNb2RlXTtcbiAgICAgICAgICAgICAgICBjdXJyQ2hhckNvZGVUb1BhdHRlcm5JZHhUb0NvbmZpZyA9IF90aGlzLmNoYXJDb2RlVG9QYXR0ZXJuSWR4VG9Db25maWdbbmV3TW9kZV07XG4gICAgICAgICAgICAgICAgY3Vyck1vZGVQYXR0ZXJuc0xlbmd0aCA9IHBhdHRlcm5JZHhUb0NvbmZpZy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgdmFyIG1vZGVDYW5CZU9wdGltaXplZCA9IF90aGlzLmNhbk1vZGVCZU9wdGltaXplZFtuZXdNb2RlXSAmJiBfdGhpcy5jb25maWcuc2FmZU1vZGUgPT09IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmIChjdXJyQ2hhckNvZGVUb1BhdHRlcm5JZHhUb0NvbmZpZyAmJiBtb2RlQ2FuQmVPcHRpbWl6ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0UG9zc2libGVQYXR0ZXJucyA9IGdldFBvc3NpYmxlUGF0dGVybnNPcHRpbWl6ZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBnZXRQb3NzaWJsZVBhdHRlcm5zID0gZ2V0UG9zc2libGVQYXR0ZXJuc1Nsb3c7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBmdW5jdGlvbiBwdXNoX21vZGUobmV3TW9kZSkge1xuICAgICAgICAgICAgbW9kZVN0YWNrLnB1c2gobmV3TW9kZSk7XG4gICAgICAgICAgICBjdXJyQ2hhckNvZGVUb1BhdHRlcm5JZHhUb0NvbmZpZyA9IHRoaXMuY2hhckNvZGVUb1BhdHRlcm5JZHhUb0NvbmZpZ1tuZXdNb2RlXTtcbiAgICAgICAgICAgIHBhdHRlcm5JZHhUb0NvbmZpZyA9IHRoaXMucGF0dGVybklkeFRvQ29uZmlnW25ld01vZGVdO1xuICAgICAgICAgICAgY3Vyck1vZGVQYXR0ZXJuc0xlbmd0aCA9IHBhdHRlcm5JZHhUb0NvbmZpZy5sZW5ndGg7XG4gICAgICAgICAgICBjdXJyTW9kZVBhdHRlcm5zTGVuZ3RoID0gcGF0dGVybklkeFRvQ29uZmlnLmxlbmd0aDtcbiAgICAgICAgICAgIHZhciBtb2RlQ2FuQmVPcHRpbWl6ZWQgPSB0aGlzLmNhbk1vZGVCZU9wdGltaXplZFtuZXdNb2RlXSAmJiB0aGlzLmNvbmZpZy5zYWZlTW9kZSA9PT0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoY3VyckNoYXJDb2RlVG9QYXR0ZXJuSWR4VG9Db25maWcgJiYgbW9kZUNhbkJlT3B0aW1pemVkKSB7XG4gICAgICAgICAgICAgICAgZ2V0UG9zc2libGVQYXR0ZXJucyA9IGdldFBvc3NpYmxlUGF0dGVybnNPcHRpbWl6ZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBnZXRQb3NzaWJsZVBhdHRlcm5zID0gZ2V0UG9zc2libGVQYXR0ZXJuc1Nsb3c7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gdGhpcyBwYXR0ZXJuIHNlZW1zIHRvIGF2b2lkIGEgVjggZGUtb3B0aW1pemF0aW9uLCBhbHRob3VnaCB0aGF0IGRlLW9wdGltaXphdGlvbiBkb2VzIG5vdFxuICAgICAgICAvLyBzZWVtIHRvIG1hdHRlciBwZXJmb3JtYW5jZSB3aXNlLlxuICAgICAgICBwdXNoX21vZGUuY2FsbCh0aGlzLCBpbml0aWFsTW9kZSk7XG4gICAgICAgIHZhciBjdXJyQ29uZmlnO1xuICAgICAgICB3aGlsZSAob2Zmc2V0IDwgb3JnTGVuZ3RoKSB7XG4gICAgICAgICAgICBtYXRjaGVkSW1hZ2UgPSBudWxsO1xuICAgICAgICAgICAgdmFyIG5leHRDaGFyQ29kZSA9IG9yZ1RleHQuY2hhckNvZGVBdChvZmZzZXQpO1xuICAgICAgICAgICAgdmFyIGNob3NlblBhdHRlcm5JZHhUb0NvbmZpZyA9IGdldFBvc3NpYmxlUGF0dGVybnMobmV4dENoYXJDb2RlKTtcbiAgICAgICAgICAgIHZhciBjaG9zZW5QYXR0ZXJuc0xlbmd0aCA9IGNob3NlblBhdHRlcm5JZHhUb0NvbmZpZy5sZW5ndGg7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgY2hvc2VuUGF0dGVybnNMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGN1cnJDb25maWcgPSBjaG9zZW5QYXR0ZXJuSWR4VG9Db25maWdbaV07XG4gICAgICAgICAgICAgICAgdmFyIGN1cnJQYXR0ZXJuID0gY3VyckNvbmZpZy5wYXR0ZXJuO1xuICAgICAgICAgICAgICAgIHBheWxvYWQgPSBudWxsO1xuICAgICAgICAgICAgICAgIC8vIG1hbnVhbGx5IGluLWxpbmVkIGJlY2F1c2UgPiA2MDAgY2hhcnMgd29uJ3QgYmUgaW4tbGluZWQgaW4gVjhcbiAgICAgICAgICAgICAgICB2YXIgc2luZ2xlQ2hhckNvZGUgPSBjdXJyQ29uZmlnLnNob3J0O1xuICAgICAgICAgICAgICAgIGlmIChzaW5nbGVDaGFyQ29kZSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5leHRDaGFyQ29kZSA9PT0gc2luZ2xlQ2hhckNvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNpbmdsZSBjaGFyYWN0ZXIgc3RyaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVkSW1hZ2UgPSBjdXJyUGF0dGVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjdXJyQ29uZmlnLmlzQ3VzdG9tID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIG1hdGNoID0gY3VyclBhdHRlcm4uZXhlYyhvcmdUZXh0LCBvZmZzZXQsIG1hdGNoZWRUb2tlbnMsIGdyb3Vwcyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlZEltYWdlID0gbWF0Y2hbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2gucGF5bG9hZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF5bG9hZCA9IG1hdGNoLnBheWxvYWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVkSW1hZ2UgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUxhc3RJbmRleChjdXJyUGF0dGVybiwgb2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hlZEltYWdlID0gdGhpcy5tYXRjaChjdXJyUGF0dGVybiwgdGV4dCwgb2Zmc2V0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoZWRJbWFnZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBldmVuIHRob3VnaCB0aGlzIHBhdHRlcm4gbWF0Y2hlZCB3ZSBtdXN0IHRyeSBhIGFub3RoZXIgbG9uZ2VyIGFsdGVybmF0aXZlLlxuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIGNhbiBiZSB1c2VkIHRvIHByaW9yaXRpemUga2V5d29yZHMgb3ZlciBpZGVudGlmaWVyc1xuICAgICAgICAgICAgICAgICAgICBsb25nZXJBbHRJZHggPSBjdXJyQ29uZmlnLmxvbmdlckFsdDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxvbmdlckFsdElkeCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBtaWNybyBvcHRpbWl6ZSwgYXZvaWQgZXh0cmEgcHJvcCBhY2Nlc3NcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJ5IHNhdmluZy9saW5raW5nIGxvbmdlckFsdCBvbiB0aGUgb3JpZ2luYWwgY29uZmlnP1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxvbmdlckFsdENvbmZpZyA9IHBhdHRlcm5JZHhUb0NvbmZpZ1tsb25nZXJBbHRJZHhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxvbmdlckFsdFBhdHRlcm4gPSBsb25nZXJBbHRDb25maWcucGF0dGVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsdFBheWxvYWQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2luZ2xlIENoYXIgY2FuIG5ldmVyIGJlIGEgbG9uZ2VyIGFsdCBzbyBubyBuZWVkIHRvIHRlc3QgaXQuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBtYW51YWxseSBpbi1saW5lZCBiZWNhdXNlID4gNjAwIGNoYXJzIHdvbid0IGJlIGluLWxpbmVkIGluIFY4XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobG9uZ2VyQWx0Q29uZmlnLmlzQ3VzdG9tID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2ggPSBsb25nZXJBbHRQYXR0ZXJuLmV4ZWMob3JnVGV4dCwgb2Zmc2V0LCBtYXRjaGVkVG9rZW5zLCBncm91cHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaEFsdEltYWdlID0gbWF0Y2hbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaC5wYXlsb2FkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsdFBheWxvYWQgPSBtYXRjaC5wYXlsb2FkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaEFsdEltYWdlID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUxhc3RJbmRleChsb25nZXJBbHRQYXR0ZXJuLCBvZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoQWx0SW1hZ2UgPSB0aGlzLm1hdGNoKGxvbmdlckFsdFBhdHRlcm4sIHRleHQsIG9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hBbHRJbWFnZSAmJiBtYXRjaEFsdEltYWdlLmxlbmd0aCA+IG1hdGNoZWRJbWFnZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVkSW1hZ2UgPSBtYXRjaEFsdEltYWdlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBheWxvYWQgPSBhbHRQYXlsb2FkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJDb25maWcgPSBsb25nZXJBbHRDb25maWc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gc3VjY2Vzc2Z1bCBtYXRjaFxuICAgICAgICAgICAgaWYgKG1hdGNoZWRJbWFnZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGltYWdlTGVuZ3RoID0gbWF0Y2hlZEltYWdlLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBncm91cCA9IGN1cnJDb25maWcuZ3JvdXA7XG4gICAgICAgICAgICAgICAgaWYgKGdyb3VwICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdG9rVHlwZSA9IGN1cnJDb25maWcudG9rZW5UeXBlSWR4O1xuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBcIm9mZnNldCArIGltYWdlTGVuZ3RoXCIgYW5kIHRoZSBuZXcgY29sdW1uIG1heSBiZSBjb21wdXRlZCB0d2ljZSBpbiBjYXNlIG9mIFwiZnVsbFwiIGxvY2F0aW9uIGluZm9ybWF0aW9uIGluc2lkZVxuICAgICAgICAgICAgICAgICAgICAvLyBjcmVhdGVGdWxsVG9rZW4gbWV0aG9kXG4gICAgICAgICAgICAgICAgICAgIG5ld1Rva2VuID0gdGhpcy5jcmVhdGVUb2tlbkluc3RhbmNlKG1hdGNoZWRJbWFnZSwgb2Zmc2V0LCB0b2tUeXBlLCBjdXJyQ29uZmlnLnRva2VuVHlwZSwgbGluZSwgY29sdW1uLCBpbWFnZUxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlUGF5bG9hZChuZXdUb2tlbiwgcGF5bG9hZCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IG9wdGltaXplIE5PT1AgaW4gY2FzZSB0aGVyZSBhcmUgbm8gc3BlY2lhbCBncm91cHM/XG4gICAgICAgICAgICAgICAgICAgIGlmIChncm91cCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZWRUb2tlbnNJbmRleCA9IHRoaXMuYWRkVG9rZW4obWF0Y2hlZFRva2VucywgbWF0Y2hlZFRva2Vuc0luZGV4LCBuZXdUb2tlbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBncm91cHNbZ3JvdXBdLnB1c2gobmV3VG9rZW4pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRleHQgPSB0aGlzLmNob3BJbnB1dCh0ZXh0LCBpbWFnZUxlbmd0aCk7XG4gICAgICAgICAgICAgICAgb2Zmc2V0ID0gb2Zmc2V0ICsgaW1hZ2VMZW5ndGg7XG4gICAgICAgICAgICAgICAgLy8gVE9ETzogd2l0aCBuZXdsaW5lcyB0aGUgY29sdW1uIG1heSBiZSBhc3NpZ25lZCB0d2ljZVxuICAgICAgICAgICAgICAgIGNvbHVtbiA9IHRoaXMuY29tcHV0ZU5ld0NvbHVtbihjb2x1bW4sIGltYWdlTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICBpZiAodHJhY2tMaW5lcyA9PT0gdHJ1ZSAmJiBjdXJyQ29uZmlnLmNhbkxpbmVUZXJtaW5hdG9yID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBudW1PZkxUc0luTWF0Y2ggPSAwO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZm91bmRUZXJtaW5hdG9yID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbGFzdExURW5kT2Zmc2V0ID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgICBsaW5lVGVybWluYXRvclBhdHRlcm4ubGFzdEluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm91bmRUZXJtaW5hdG9yID0gbGluZVRlcm1pbmF0b3JQYXR0ZXJuLnRlc3QobWF0Y2hlZEltYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmb3VuZFRlcm1pbmF0b3IgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0TFRFbmRPZmZzZXQgPSBsaW5lVGVybWluYXRvclBhdHRlcm4ubGFzdEluZGV4IC0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBudW1PZkxUc0luTWF0Y2grKztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSB3aGlsZSAoZm91bmRUZXJtaW5hdG9yID09PSB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG51bU9mTFRzSW5NYXRjaCAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGluZSA9IGxpbmUgKyBudW1PZkxUc0luTWF0Y2g7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW4gPSBpbWFnZUxlbmd0aCAtIGxhc3RMVEVuZE9mZnNldDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVG9rZW5FbmRMaW5lQ29sdW1uTG9jYXRpb24obmV3VG9rZW4sIGdyb3VwLCBsYXN0TFRFbmRPZmZzZXQsIG51bU9mTFRzSW5NYXRjaCwgbGluZSwgY29sdW1uLCBpbWFnZUxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gd2lsbCBiZSBOT09QIGlmIG5vIG1vZGVzIHByZXNlbnRcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZU1vZGVzKGN1cnJDb25maWcsIHBvcF9tb2RlLCBwdXNoX21vZGUsIG5ld1Rva2VuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGVycm9yIHJlY292ZXJ5LCBkcm9wIGNoYXJhY3RlcnMgdW50aWwgd2UgaWRlbnRpZnkgYSB2YWxpZCB0b2tlbidzIHN0YXJ0IHBvaW50XG4gICAgICAgICAgICAgICAgdmFyIGVycm9yU3RhcnRPZmZzZXQgPSBvZmZzZXQ7XG4gICAgICAgICAgICAgICAgdmFyIGVycm9yTGluZSA9IGxpbmU7XG4gICAgICAgICAgICAgICAgdmFyIGVycm9yQ29sdW1uID0gY29sdW1uO1xuICAgICAgICAgICAgICAgIHZhciBmb3VuZFJlc3luY1BvaW50ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgd2hpbGUgKCFmb3VuZFJlc3luY1BvaW50ICYmIG9mZnNldCA8IG9yZ0xlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBkcm9wIGNoYXJzIHVudGlsIHdlIHN1Y2NlZWQgaW4gbWF0Y2hpbmcgc29tZXRoaW5nXG4gICAgICAgICAgICAgICAgICAgIGRyb3BwZWRDaGFyID0gb3JnVGV4dC5jaGFyQ29kZUF0KG9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIElkZW50aXR5IEZ1bmMgKHdoZW4gc3RpY2t5IGZsYWcgaXMgZW5hYmxlZClcbiAgICAgICAgICAgICAgICAgICAgdGV4dCA9IHRoaXMuY2hvcElucHV0KHRleHQsIDEpO1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXQrKztcbiAgICAgICAgICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IGN1cnJNb2RlUGF0dGVybnNMZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJDb25maWdfMSA9IHBhdHRlcm5JZHhUb0NvbmZpZ1tqXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJyUGF0dGVybiA9IGN1cnJDb25maWdfMS5wYXR0ZXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbWFudWFsbHkgaW4tbGluZWQgYmVjYXVzZSA+IDYwMCBjaGFycyB3b24ndCBiZSBpbi1saW5lZCBpbiBWOFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNpbmdsZUNoYXJDb2RlID0gY3VyckNvbmZpZ18xLnNob3J0O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNpbmdsZUNoYXJDb2RlICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcmdUZXh0LmNoYXJDb2RlQXQob2Zmc2V0KSA9PT0gc2luZ2xlQ2hhckNvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2luZ2xlIGNoYXJhY3RlciBzdHJpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm91bmRSZXN5bmNQb2ludCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoY3VyckNvbmZpZ18xLmlzQ3VzdG9tID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm91bmRSZXN5bmNQb2ludCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJQYXR0ZXJuLmV4ZWMob3JnVGV4dCwgb2Zmc2V0LCBtYXRjaGVkVG9rZW5zLCBncm91cHMpICE9PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlTGFzdEluZGV4KGN1cnJQYXR0ZXJuLCBvZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvdW5kUmVzeW5jUG9pbnQgPSBjdXJyUGF0dGVybi5leGVjKHRleHQpICE9PSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZvdW5kUmVzeW5jUG9pbnQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlcnJMZW5ndGggPSBvZmZzZXQgLSBlcnJvclN0YXJ0T2Zmc2V0O1xuICAgICAgICAgICAgICAgIC8vIGF0IHRoaXMgcG9pbnQgd2UgZWl0aGVyIHJlLXN5bmNlZCBvciByZWFjaGVkIHRoZSBlbmQgb2YgdGhlIGlucHV0IHRleHRcbiAgICAgICAgICAgICAgICBtc2cgPSB0aGlzLmNvbmZpZy5lcnJvck1lc3NhZ2VQcm92aWRlci5idWlsZFVuZXhwZWN0ZWRDaGFyYWN0ZXJzTWVzc2FnZShvcmdUZXh0LCBlcnJvclN0YXJ0T2Zmc2V0LCBlcnJMZW5ndGgsIGVycm9yTGluZSwgZXJyb3JDb2x1bW4pO1xuICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiBlcnJvclN0YXJ0T2Zmc2V0LFxuICAgICAgICAgICAgICAgICAgICBsaW5lOiBlcnJvckxpbmUsXG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbjogZXJyb3JDb2x1bW4sXG4gICAgICAgICAgICAgICAgICAgIGxlbmd0aDogZXJyTGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBtc2dcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBpZiB3ZSBkbyBoYXZlIGN1c3RvbSBwYXR0ZXJucyB3aGljaCBwdXNoIGRpcmVjdGx5IGludG8gdGhlXG4gICAgICAgIC8vIFRPRE86IGN1c3RvbSB0b2tlbnMgc2hvdWxkIG5vdCBwdXNoIGRpcmVjdGx5Pz9cbiAgICAgICAgaWYgKCF0aGlzLmhhc0N1c3RvbSkge1xuICAgICAgICAgICAgLy8gaWYgd2UgZ3Vlc3NlZCBhIHRvbyBsYXJnZSBzaXplIGZvciB0aGUgdG9rZW5zIGFycmF5IHRoaXMgd2lsbCBzaHJpbmsgaXQgdG8gdGhlIHJpZ2h0IHNpemUuXG4gICAgICAgICAgICBtYXRjaGVkVG9rZW5zLmxlbmd0aCA9IG1hdGNoZWRUb2tlbnNJbmRleDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdG9rZW5zOiBtYXRjaGVkVG9rZW5zLFxuICAgICAgICAgICAgZ3JvdXBzOiBncm91cHMsXG4gICAgICAgICAgICBlcnJvcnM6IGVycm9yc1xuICAgICAgICB9O1xuICAgIH07XG4gICAgTGV4ZXIucHJvdG90eXBlLmhhbmRsZU1vZGVzID0gZnVuY3Rpb24gKGNvbmZpZywgcG9wX21vZGUsIHB1c2hfbW9kZSwgbmV3VG9rZW4pIHtcbiAgICAgICAgaWYgKGNvbmZpZy5wb3AgPT09IHRydWUpIHtcbiAgICAgICAgICAgIC8vIG5lZWQgdG8gc2F2ZSB0aGUgUFVTSF9NT0RFIHByb3BlcnR5IGFzIGlmIHRoZSBtb2RlIGlzIHBvcHBlZFxuICAgICAgICAgICAgLy8gcGF0dGVybklkeFRvUG9wTW9kZSBpcyB1cGRhdGVkIHRvIHJlZmxlY3QgdGhlIG5ldyBtb2RlIGFmdGVyIHBvcHBpbmcgdGhlIHN0YWNrXG4gICAgICAgICAgICB2YXIgcHVzaE1vZGUgPSBjb25maWcucHVzaDtcbiAgICAgICAgICAgIHBvcF9tb2RlKG5ld1Rva2VuKTtcbiAgICAgICAgICAgIGlmIChwdXNoTW9kZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcHVzaF9tb2RlLmNhbGwodGhpcywgcHVzaE1vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNvbmZpZy5wdXNoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHB1c2hfbW9kZS5jYWxsKHRoaXMsIGNvbmZpZy5wdXNoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTGV4ZXIucHJvdG90eXBlLmNob3BJbnB1dCA9IGZ1bmN0aW9uICh0ZXh0LCBsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHRleHQuc3Vic3RyaW5nKGxlbmd0aCk7XG4gICAgfTtcbiAgICBMZXhlci5wcm90b3R5cGUudXBkYXRlTGFzdEluZGV4ID0gZnVuY3Rpb24gKHJlZ0V4cCwgbmV3TGFzdEluZGV4KSB7XG4gICAgICAgIHJlZ0V4cC5sYXN0SW5kZXggPSBuZXdMYXN0SW5kZXg7XG4gICAgfTtcbiAgICAvLyBUT0RPOiBkZWNyZWFzZSB0aGlzIHVuZGVyIDYwMCBjaGFyYWN0ZXJzPyBpbnNwZWN0IHN0cmlwcGluZyBjb21tZW50cyBvcHRpb24gaW4gVFNDIGNvbXBpbGVyXG4gICAgTGV4ZXIucHJvdG90eXBlLnVwZGF0ZVRva2VuRW5kTGluZUNvbHVtbkxvY2F0aW9uID0gZnVuY3Rpb24gKG5ld1Rva2VuLCBncm91cCwgbGFzdExUSWR4LCBudW1PZkxUc0luTWF0Y2gsIGxpbmUsIGNvbHVtbiwgaW1hZ2VMZW5ndGgpIHtcbiAgICAgICAgdmFyIGxhc3RDaGFySXNMVCwgZml4Rm9yRW5kaW5nSW5MVDtcbiAgICAgICAgaWYgKGdyb3VwICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8vIGEgbm9uZSBza2lwcGVkIG11bHRpIGxpbmUgVG9rZW4sIG5lZWQgdG8gdXBkYXRlIGVuZExpbmUvZW5kQ29sdW1uXG4gICAgICAgICAgICBsYXN0Q2hhcklzTFQgPSBsYXN0TFRJZHggPT09IGltYWdlTGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIGZpeEZvckVuZGluZ0luTFQgPSBsYXN0Q2hhcklzTFQgPyAtMSA6IDA7XG4gICAgICAgICAgICBpZiAoIShudW1PZkxUc0luTWF0Y2ggPT09IDEgJiYgbGFzdENoYXJJc0xUID09PSB0cnVlKSkge1xuICAgICAgICAgICAgICAgIC8vIGlmIGEgdG9rZW4gZW5kcyBpbiBhIExUIHRoYXQgbGFzdCBMVCBvbmx5IGFmZmVjdHMgdGhlIGxpbmUgbnVtYmVyaW5nIG9mIGZvbGxvd2luZyBUb2tlbnNcbiAgICAgICAgICAgICAgICBuZXdUb2tlbi5lbmRMaW5lID0gbGluZSArIGZpeEZvckVuZGluZ0luTFQ7XG4gICAgICAgICAgICAgICAgLy8gdGhlIGxhc3QgTFQgaW4gYSB0b2tlbiBkb2VzIG5vdCBhZmZlY3QgdGhlIGVuZENvbHVtbiBlaXRoZXIgYXMgdGhlIFtjb2x1bW5TdGFydCAuLi4gY29sdW1uRW5kKVxuICAgICAgICAgICAgICAgIC8vIGluY2x1c2l2ZSB0byBleGNsdXNpdmUgcmFuZ2UuXG4gICAgICAgICAgICAgICAgbmV3VG9rZW4uZW5kQ29sdW1uID0gY29sdW1uIC0gMSArIC1maXhGb3JFbmRpbmdJbkxUO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZWxzZSBzaW5nbGUgTFQgaW4gdGhlIGxhc3QgY2hhcmFjdGVyIG9mIGEgdG9rZW4sIG5vIG5lZWQgdG8gbW9kaWZ5IHRoZSBlbmRMaW5lL0VuZENvbHVtblxuICAgICAgICB9XG4gICAgfTtcbiAgICBMZXhlci5wcm90b3R5cGUuY29tcHV0ZU5ld0NvbHVtbiA9IGZ1bmN0aW9uIChvbGRDb2x1bW4sIGltYWdlTGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBvbGRDb2x1bW4gKyBpbWFnZUxlbmd0aDtcbiAgICB9O1xuICAgIC8vIFBsYWNlIGhvbGRlciwgd2lsbCBiZSByZXBsYWNlZCBieSB0aGUgY29ycmVjdCB2YXJpYW50IGFjY29yZGluZyB0byB0aGUgbG9jYXRpb25UcmFja2luZyBvcHRpb24gYXQgcnVudGltZS5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAtIHBsYWNlIGhvbGRlciAqL1xuICAgIExleGVyLnByb3RvdHlwZS5jcmVhdGVUb2tlbkluc3RhbmNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgTGV4ZXIucHJvdG90eXBlLmNyZWF0ZU9mZnNldE9ubHlUb2tlbiA9IGZ1bmN0aW9uIChpbWFnZSwgc3RhcnRPZmZzZXQsIHRva2VuVHlwZUlkeCwgdG9rZW5UeXBlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpbWFnZTogaW1hZ2UsXG4gICAgICAgICAgICBzdGFydE9mZnNldDogc3RhcnRPZmZzZXQsXG4gICAgICAgICAgICB0b2tlblR5cGVJZHg6IHRva2VuVHlwZUlkeCxcbiAgICAgICAgICAgIHRva2VuVHlwZTogdG9rZW5UeXBlXG4gICAgICAgIH07XG4gICAgfTtcbiAgICBMZXhlci5wcm90b3R5cGUuY3JlYXRlU3RhcnRPbmx5VG9rZW4gPSBmdW5jdGlvbiAoaW1hZ2UsIHN0YXJ0T2Zmc2V0LCB0b2tlblR5cGVJZHgsIHRva2VuVHlwZSwgc3RhcnRMaW5lLCBzdGFydENvbHVtbikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaW1hZ2U6IGltYWdlLFxuICAgICAgICAgICAgc3RhcnRPZmZzZXQ6IHN0YXJ0T2Zmc2V0LFxuICAgICAgICAgICAgc3RhcnRMaW5lOiBzdGFydExpbmUsXG4gICAgICAgICAgICBzdGFydENvbHVtbjogc3RhcnRDb2x1bW4sXG4gICAgICAgICAgICB0b2tlblR5cGVJZHg6IHRva2VuVHlwZUlkeCxcbiAgICAgICAgICAgIHRva2VuVHlwZTogdG9rZW5UeXBlXG4gICAgICAgIH07XG4gICAgfTtcbiAgICBMZXhlci5wcm90b3R5cGUuY3JlYXRlRnVsbFRva2VuID0gZnVuY3Rpb24gKGltYWdlLCBzdGFydE9mZnNldCwgdG9rZW5UeXBlSWR4LCB0b2tlblR5cGUsIHN0YXJ0TGluZSwgc3RhcnRDb2x1bW4sIGltYWdlTGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpbWFnZTogaW1hZ2UsXG4gICAgICAgICAgICBzdGFydE9mZnNldDogc3RhcnRPZmZzZXQsXG4gICAgICAgICAgICBlbmRPZmZzZXQ6IHN0YXJ0T2Zmc2V0ICsgaW1hZ2VMZW5ndGggLSAxLFxuICAgICAgICAgICAgc3RhcnRMaW5lOiBzdGFydExpbmUsXG4gICAgICAgICAgICBlbmRMaW5lOiBzdGFydExpbmUsXG4gICAgICAgICAgICBzdGFydENvbHVtbjogc3RhcnRDb2x1bW4sXG4gICAgICAgICAgICBlbmRDb2x1bW46IHN0YXJ0Q29sdW1uICsgaW1hZ2VMZW5ndGggLSAxLFxuICAgICAgICAgICAgdG9rZW5UeXBlSWR4OiB0b2tlblR5cGVJZHgsXG4gICAgICAgICAgICB0b2tlblR5cGU6IHRva2VuVHlwZVxuICAgICAgICB9O1xuICAgIH07XG4gICAgLy8gUGxhY2UgaG9sZGVyLCB3aWxsIGJlIHJlcGxhY2VkIGJ5IHRoZSBjb3JyZWN0IHZhcmlhbnQgYWNjb3JkaW5nIHRvIHRoZSBsb2NhdGlvblRyYWNraW5nIG9wdGlvbiBhdCBydW50aW1lLlxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0IC0gcGxhY2UgaG9sZGVyICovXG4gICAgTGV4ZXIucHJvdG90eXBlLmFkZFRva2VuID0gZnVuY3Rpb24gKHRva2VuVmVjdG9yLCBpbmRleCwgdG9rZW5Ub0FkZCkge1xuICAgICAgICByZXR1cm4gNjY2O1xuICAgIH07XG4gICAgTGV4ZXIucHJvdG90eXBlLmFkZFRva2VuVXNpbmdQdXNoID0gZnVuY3Rpb24gKHRva2VuVmVjdG9yLCBpbmRleCwgdG9rZW5Ub0FkZCkge1xuICAgICAgICB0b2tlblZlY3Rvci5wdXNoKHRva2VuVG9BZGQpO1xuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgfTtcbiAgICBMZXhlci5wcm90b3R5cGUuYWRkVG9rZW5Vc2luZ01lbWJlckFjY2VzcyA9IGZ1bmN0aW9uICh0b2tlblZlY3RvciwgaW5kZXgsIHRva2VuVG9BZGQpIHtcbiAgICAgICAgdG9rZW5WZWN0b3JbaW5kZXhdID0gdG9rZW5Ub0FkZDtcbiAgICAgICAgaW5kZXgrKztcbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH07XG4gICAgLy8gUGxhY2UgaG9sZGVyLCB3aWxsIGJlIHJlcGxhY2VkIGJ5IHRoZSBjb3JyZWN0IHZhcmlhbnQgYWNjb3JkaW5nIHRvIHRoZSBoYXNDdXN0b20gZmxhZyBvcHRpb24gYXQgcnVudGltZS5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAtIHBsYWNlIGhvbGRlciAqL1xuICAgIExleGVyLnByb3RvdHlwZS5oYW5kbGVQYXlsb2FkID0gZnVuY3Rpb24gKHRva2VuLCBwYXlsb2FkKSB7IH07XG4gICAgTGV4ZXIucHJvdG90eXBlLmhhbmRsZVBheWxvYWROb0N1c3RvbSA9IGZ1bmN0aW9uICh0b2tlbiwgcGF5bG9hZCkgeyB9O1xuICAgIExleGVyLnByb3RvdHlwZS5oYW5kbGVQYXlsb2FkV2l0aEN1c3RvbSA9IGZ1bmN0aW9uICh0b2tlbiwgcGF5bG9hZCkge1xuICAgICAgICBpZiAocGF5bG9hZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdG9rZW4ucGF5bG9hZCA9IHBheWxvYWQ7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0IC0gcGxhY2UgaG9sZGVyIHRvIGJlIHJlcGxhY2VkIHdpdGggY2hvc2VuIGFsdGVybmF0aXZlIGF0IHJ1bnRpbWUgKi9cbiAgICBMZXhlci5wcm90b3R5cGUubWF0Y2ggPSBmdW5jdGlvbiAocGF0dGVybiwgdGV4dCwgb2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgTGV4ZXIucHJvdG90eXBlLm1hdGNoV2l0aFRlc3QgPSBmdW5jdGlvbiAocGF0dGVybiwgdGV4dCwgb2Zmc2V0KSB7XG4gICAgICAgIHZhciBmb3VuZCA9IHBhdHRlcm4udGVzdCh0ZXh0KTtcbiAgICAgICAgaWYgKGZvdW5kID09PSB0cnVlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGV4dC5zdWJzdHJpbmcob2Zmc2V0LCBwYXR0ZXJuLmxhc3RJbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBMZXhlci5wcm90b3R5cGUubWF0Y2hXaXRoRXhlYyA9IGZ1bmN0aW9uIChwYXR0ZXJuLCB0ZXh0KSB7XG4gICAgICAgIHZhciByZWdFeHBBcnJheSA9IHBhdHRlcm4uZXhlYyh0ZXh0KTtcbiAgICAgICAgcmV0dXJuIHJlZ0V4cEFycmF5ICE9PSBudWxsID8gcmVnRXhwQXJyYXlbMF0gOiByZWdFeHBBcnJheTtcbiAgICB9O1xuICAgIC8vIER1cGxpY2F0ZWQgZnJvbSB0aGUgcGFyc2VyJ3MgcGVyZiB0cmFjZSB0cmFpdCB0byBhbGxvdyBmdXR1cmUgZXh0cmFjdGlvblxuICAgIC8vIG9mIHRoZSBsZXhlciB0byBhIHNlcGFyYXRlIHBhY2thZ2UuXG4gICAgTGV4ZXIucHJvdG90eXBlLlRSQUNFX0lOSVQgPSBmdW5jdGlvbiAocGhhc2VEZXNjLCBwaGFzZUltcGwpIHtcbiAgICAgICAgLy8gTm8gbmVlZCB0byBvcHRpbWl6ZSB0aGlzIHVzaW5nIE5PT1AgcGF0dGVybiBiZWNhdXNlXG4gICAgICAgIC8vIEl0IGlzIG5vdCBjYWxsZWQgaW4gYSBob3Qgc3BvdC4uLlxuICAgICAgICBpZiAodGhpcy50cmFjZUluaXRQZXJmID09PSB0cnVlKSB7XG4gICAgICAgICAgICB0aGlzLnRyYWNlSW5pdEluZGVudCsrO1xuICAgICAgICAgICAgdmFyIGluZGVudCA9IG5ldyBBcnJheSh0aGlzLnRyYWNlSW5pdEluZGVudCArIDEpLmpvaW4oXCJcXHRcIik7XG4gICAgICAgICAgICBpZiAodGhpcy50cmFjZUluaXRJbmRlbnQgPCB0aGlzLnRyYWNlSW5pdE1heElkZW50KSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coaW5kZW50ICsgXCItLT4gPFwiICsgcGhhc2VEZXNjICsgXCI+XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIF9hID0gdGltZXIocGhhc2VJbXBsKSwgdGltZSA9IF9hLnRpbWUsIHZhbHVlID0gX2EudmFsdWU7XG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAtIERpZmZpY3VsdCB0byByZXByb2R1Y2Ugc3BlY2lmaWMgcGVyZm9ybWFuY2UgYmVoYXZpb3IgKD4xMG1zKSBpbiB0ZXN0cyAqL1xuICAgICAgICAgICAgdmFyIHRyYWNlTWV0aG9kID0gdGltZSA+IDEwID8gY29uc29sZS53YXJuIDogY29uc29sZS5sb2c7XG4gICAgICAgICAgICBpZiAodGhpcy50cmFjZUluaXRJbmRlbnQgPCB0aGlzLnRyYWNlSW5pdE1heElkZW50KSB7XG4gICAgICAgICAgICAgICAgdHJhY2VNZXRob2QoaW5kZW50ICsgXCI8LS0gPFwiICsgcGhhc2VEZXNjICsgXCI+IHRpbWU6IFwiICsgdGltZSArIFwibXNcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnRyYWNlSW5pdEluZGVudC0tO1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHBoYXNlSW1wbCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBMZXhlci5TS0lQUEVEID0gXCJUaGlzIG1hcmtzIGEgc2tpcHBlZCBUb2tlbiBwYXR0ZXJuLCB0aGlzIG1lYW5zIGVhY2ggdG9rZW4gaWRlbnRpZmllZCBieSBpdCB3aWxsXCIgK1xuICAgICAgICBcImJlIGNvbnN1bWVkIGFuZCB0aGVuIHRocm93biBpbnRvIG9ibGl2aW9uLCB0aGlzIGNhbiBiZSB1c2VkIHRvIGZvciBleGFtcGxlIHRvIGNvbXBsZXRlbHkgaWdub3JlIHdoaXRlc3BhY2UuXCI7XG4gICAgTGV4ZXIuTkEgPSAvTk9UX0FQUExJQ0FCTEUvO1xuICAgIHJldHVybiBMZXhlcjtcbn0oKSk7XG5leHBvcnQgeyBMZXhlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGV4ZXJfcHVibGljLmpzLm1hcCIsImltcG9ydCB7IGhhcywgaXNTdHJpbmcsIGlzVW5kZWZpbmVkIH0gZnJvbSBcIi4uL3V0aWxzL3V0aWxzXCI7XG5pbXBvcnQgeyBMZXhlciB9IGZyb20gXCIuL2xleGVyX3B1YmxpY1wiO1xuaW1wb3J0IHsgYXVnbWVudFRva2VuVHlwZXMsIHRva2VuU3RydWN0dXJlZE1hdGNoZXIgfSBmcm9tIFwiLi90b2tlbnNcIjtcbmV4cG9ydCBmdW5jdGlvbiB0b2tlbkxhYmVsKHRva1R5cGUpIHtcbiAgICBpZiAoaGFzVG9rZW5MYWJlbCh0b2tUeXBlKSkge1xuICAgICAgICByZXR1cm4gdG9rVHlwZS5MQUJFTDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB0b2tUeXBlLm5hbWU7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIHRva2VuTmFtZSh0b2tUeXBlKSB7XG4gICAgcmV0dXJuIHRva1R5cGUubmFtZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBoYXNUb2tlbkxhYmVsKG9iaikge1xuICAgIHJldHVybiBpc1N0cmluZyhvYmouTEFCRUwpICYmIG9iai5MQUJFTCAhPT0gXCJcIjtcbn1cbnZhciBQQVJFTlQgPSBcInBhcmVudFwiO1xudmFyIENBVEVHT1JJRVMgPSBcImNhdGVnb3JpZXNcIjtcbnZhciBMQUJFTCA9IFwibGFiZWxcIjtcbnZhciBHUk9VUCA9IFwiZ3JvdXBcIjtcbnZhciBQVVNIX01PREUgPSBcInB1c2hfbW9kZVwiO1xudmFyIFBPUF9NT0RFID0gXCJwb3BfbW9kZVwiO1xudmFyIExPTkdFUl9BTFQgPSBcImxvbmdlcl9hbHRcIjtcbnZhciBMSU5FX0JSRUFLUyA9IFwibGluZV9icmVha3NcIjtcbnZhciBTVEFSVF9DSEFSU19ISU5UID0gXCJzdGFydF9jaGFyc19oaW50XCI7XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVG9rZW4oY29uZmlnKSB7XG4gICAgcmV0dXJuIGNyZWF0ZVRva2VuSW50ZXJuYWwoY29uZmlnKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVRva2VuSW50ZXJuYWwoY29uZmlnKSB7XG4gICAgdmFyIHBhdHRlcm4gPSBjb25maWcucGF0dGVybjtcbiAgICB2YXIgdG9rZW5UeXBlID0ge307XG4gICAgdG9rZW5UeXBlLm5hbWUgPSBjb25maWcubmFtZTtcbiAgICBpZiAoIWlzVW5kZWZpbmVkKHBhdHRlcm4pKSB7XG4gICAgICAgIHRva2VuVHlwZS5QQVRURVJOID0gcGF0dGVybjtcbiAgICB9XG4gICAgaWYgKGhhcyhjb25maWcsIFBBUkVOVCkpIHtcbiAgICAgICAgdGhyb3cgKFwiVGhlIHBhcmVudCBwcm9wZXJ0eSBpcyBubyBsb25nZXIgc3VwcG9ydGVkLlxcblwiICtcbiAgICAgICAgICAgIFwiU2VlOiBodHRwczovL2dpdGh1Yi5jb20vU0FQL2NoZXZyb3RhaW4vaXNzdWVzLzU2NCNpc3N1ZWNvbW1lbnQtMzQ5MDYyMzQ2IGZvciBkZXRhaWxzLlwiKTtcbiAgICB9XG4gICAgaWYgKGhhcyhjb25maWcsIENBVEVHT1JJRVMpKSB7XG4gICAgICAgIC8vIGNhc3RpbmcgdG8gQU5ZIGFzIHRoaXMgd2lsbCBiZSBmaXhlZCBpbnNpZGUgYGF1Z21lbnRUb2tlblR5cGVzYGBcbiAgICAgICAgdG9rZW5UeXBlLkNBVEVHT1JJRVMgPSBjb25maWdbQ0FURUdPUklFU107XG4gICAgfVxuICAgIGF1Z21lbnRUb2tlblR5cGVzKFt0b2tlblR5cGVdKTtcbiAgICBpZiAoaGFzKGNvbmZpZywgTEFCRUwpKSB7XG4gICAgICAgIHRva2VuVHlwZS5MQUJFTCA9IGNvbmZpZ1tMQUJFTF07XG4gICAgfVxuICAgIGlmIChoYXMoY29uZmlnLCBHUk9VUCkpIHtcbiAgICAgICAgdG9rZW5UeXBlLkdST1VQID0gY29uZmlnW0dST1VQXTtcbiAgICB9XG4gICAgaWYgKGhhcyhjb25maWcsIFBPUF9NT0RFKSkge1xuICAgICAgICB0b2tlblR5cGUuUE9QX01PREUgPSBjb25maWdbUE9QX01PREVdO1xuICAgIH1cbiAgICBpZiAoaGFzKGNvbmZpZywgUFVTSF9NT0RFKSkge1xuICAgICAgICB0b2tlblR5cGUuUFVTSF9NT0RFID0gY29uZmlnW1BVU0hfTU9ERV07XG4gICAgfVxuICAgIGlmIChoYXMoY29uZmlnLCBMT05HRVJfQUxUKSkge1xuICAgICAgICB0b2tlblR5cGUuTE9OR0VSX0FMVCA9IGNvbmZpZ1tMT05HRVJfQUxUXTtcbiAgICB9XG4gICAgaWYgKGhhcyhjb25maWcsIExJTkVfQlJFQUtTKSkge1xuICAgICAgICB0b2tlblR5cGUuTElORV9CUkVBS1MgPSBjb25maWdbTElORV9CUkVBS1NdO1xuICAgIH1cbiAgICBpZiAoaGFzKGNvbmZpZywgU1RBUlRfQ0hBUlNfSElOVCkpIHtcbiAgICAgICAgdG9rZW5UeXBlLlNUQVJUX0NIQVJTX0hJTlQgPSBjb25maWdbU1RBUlRfQ0hBUlNfSElOVF07XG4gICAgfVxuICAgIHJldHVybiB0b2tlblR5cGU7XG59XG5leHBvcnQgdmFyIEVPRiA9IGNyZWF0ZVRva2VuKHsgbmFtZTogXCJFT0ZcIiwgcGF0dGVybjogTGV4ZXIuTkEgfSk7XG5hdWdtZW50VG9rZW5UeXBlcyhbRU9GXSk7XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVG9rZW5JbnN0YW5jZSh0b2tUeXBlLCBpbWFnZSwgc3RhcnRPZmZzZXQsIGVuZE9mZnNldCwgc3RhcnRMaW5lLCBlbmRMaW5lLCBzdGFydENvbHVtbiwgZW5kQ29sdW1uKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaW1hZ2U6IGltYWdlLFxuICAgICAgICBzdGFydE9mZnNldDogc3RhcnRPZmZzZXQsXG4gICAgICAgIGVuZE9mZnNldDogZW5kT2Zmc2V0LFxuICAgICAgICBzdGFydExpbmU6IHN0YXJ0TGluZSxcbiAgICAgICAgZW5kTGluZTogZW5kTGluZSxcbiAgICAgICAgc3RhcnRDb2x1bW46IHN0YXJ0Q29sdW1uLFxuICAgICAgICBlbmRDb2x1bW46IGVuZENvbHVtbixcbiAgICAgICAgdG9rZW5UeXBlSWR4OiB0b2tUeXBlLnRva2VuVHlwZUlkeCxcbiAgICAgICAgdG9rZW5UeXBlOiB0b2tUeXBlXG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB0b2tlbk1hdGNoZXIodG9rZW4sIHRva1R5cGUpIHtcbiAgICByZXR1cm4gdG9rZW5TdHJ1Y3R1cmVkTWF0Y2hlcih0b2tlbiwgdG9rVHlwZSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10b2tlbnNfcHVibGljLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0IHsgYXNzaWduLCBmb3JFYWNoLCBpc1JlZ0V4cCwgbWFwLCBwaWNrIH0gZnJvbSBcIi4uLy4uLy4uL3V0aWxzL3V0aWxzXCI7XG5pbXBvcnQgeyB0b2tlbkxhYmVsIH0gZnJvbSBcIi4uLy4uLy4uL3NjYW4vdG9rZW5zX3B1YmxpY1wiO1xudmFyIEFic3RyYWN0UHJvZHVjdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBBYnN0cmFjdFByb2R1Y3Rpb24oZGVmaW5pdGlvbikge1xuICAgICAgICB0aGlzLmRlZmluaXRpb24gPSBkZWZpbml0aW9uO1xuICAgIH1cbiAgICBBYnN0cmFjdFByb2R1Y3Rpb24ucHJvdG90eXBlLmFjY2VwdCA9IGZ1bmN0aW9uICh2aXNpdG9yKSB7XG4gICAgICAgIHZpc2l0b3IudmlzaXQodGhpcyk7XG4gICAgICAgIGZvckVhY2godGhpcy5kZWZpbml0aW9uLCBmdW5jdGlvbiAocHJvZCkge1xuICAgICAgICAgICAgcHJvZC5hY2NlcHQodmlzaXRvcik7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIEFic3RyYWN0UHJvZHVjdGlvbjtcbn0oKSk7XG5leHBvcnQgeyBBYnN0cmFjdFByb2R1Y3Rpb24gfTtcbnZhciBOb25UZXJtaW5hbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTm9uVGVybWluYWwsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gTm9uVGVybWluYWwob3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBbXSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuaWR4ID0gMTtcbiAgICAgICAgYXNzaWduKF90aGlzLCBwaWNrKG9wdGlvbnMsIGZ1bmN0aW9uICh2KSB7IHJldHVybiB2ICE9PSB1bmRlZmluZWQ7IH0pKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTm9uVGVybWluYWwucHJvdG90eXBlLCBcImRlZmluaXRpb25cIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnJlZmVyZW5jZWRSdWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZWZlcmVuY2VkUnVsZS5kZWZpbml0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChkZWZpbml0aW9uKSB7XG4gICAgICAgICAgICAvLyBpbW11dGFibGVcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgTm9uVGVybWluYWwucHJvdG90eXBlLmFjY2VwdCA9IGZ1bmN0aW9uICh2aXNpdG9yKSB7XG4gICAgICAgIHZpc2l0b3IudmlzaXQodGhpcyk7XG4gICAgICAgIC8vIGRvbid0IHZpc2l0IGNoaWxkcmVuIG9mIGEgcmVmZXJlbmNlLCB3ZSB3aWxsIGdldCBjeWNsaWMgaW5maW5pdGUgbG9vcHMgaWYgd2UgZG8gc29cbiAgICB9O1xuICAgIHJldHVybiBOb25UZXJtaW5hbDtcbn0oQWJzdHJhY3RQcm9kdWN0aW9uKSk7XG5leHBvcnQgeyBOb25UZXJtaW5hbCB9O1xudmFyIFJ1bGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFJ1bGUsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUnVsZShvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG9wdGlvbnMuZGVmaW5pdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMub3JnVGV4dCA9IFwiXCI7XG4gICAgICAgIGFzc2lnbihfdGhpcywgcGljayhvcHRpb25zLCBmdW5jdGlvbiAodikgeyByZXR1cm4gdiAhPT0gdW5kZWZpbmVkOyB9KSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIFJ1bGU7XG59KEFic3RyYWN0UHJvZHVjdGlvbikpO1xuZXhwb3J0IHsgUnVsZSB9O1xudmFyIEFsdGVybmF0aXZlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhBbHRlcm5hdGl2ZSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBbHRlcm5hdGl2ZShvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG9wdGlvbnMuZGVmaW5pdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuaWdub3JlQW1iaWd1aXRpZXMgPSBmYWxzZTtcbiAgICAgICAgYXNzaWduKF90aGlzLCBwaWNrKG9wdGlvbnMsIGZ1bmN0aW9uICh2KSB7IHJldHVybiB2ICE9PSB1bmRlZmluZWQ7IH0pKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gQWx0ZXJuYXRpdmU7XG59KEFic3RyYWN0UHJvZHVjdGlvbikpO1xuZXhwb3J0IHsgQWx0ZXJuYXRpdmUgfTtcbnZhciBPcHRpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE9wdGlvbiwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBPcHRpb24ob3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBvcHRpb25zLmRlZmluaXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmlkeCA9IDE7XG4gICAgICAgIGFzc2lnbihfdGhpcywgcGljayhvcHRpb25zLCBmdW5jdGlvbiAodikgeyByZXR1cm4gdiAhPT0gdW5kZWZpbmVkOyB9KSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIE9wdGlvbjtcbn0oQWJzdHJhY3RQcm9kdWN0aW9uKSk7XG5leHBvcnQgeyBPcHRpb24gfTtcbnZhciBSZXBldGl0aW9uTWFuZGF0b3J5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhSZXBldGl0aW9uTWFuZGF0b3J5LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFJlcGV0aXRpb25NYW5kYXRvcnkob3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBvcHRpb25zLmRlZmluaXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmlkeCA9IDE7XG4gICAgICAgIGFzc2lnbihfdGhpcywgcGljayhvcHRpb25zLCBmdW5jdGlvbiAodikgeyByZXR1cm4gdiAhPT0gdW5kZWZpbmVkOyB9KSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIFJlcGV0aXRpb25NYW5kYXRvcnk7XG59KEFic3RyYWN0UHJvZHVjdGlvbikpO1xuZXhwb3J0IHsgUmVwZXRpdGlvbk1hbmRhdG9yeSB9O1xudmFyIFJlcGV0aXRpb25NYW5kYXRvcnlXaXRoU2VwYXJhdG9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhSZXBldGl0aW9uTWFuZGF0b3J5V2l0aFNlcGFyYXRvciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBSZXBldGl0aW9uTWFuZGF0b3J5V2l0aFNlcGFyYXRvcihvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG9wdGlvbnMuZGVmaW5pdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuaWR4ID0gMTtcbiAgICAgICAgYXNzaWduKF90aGlzLCBwaWNrKG9wdGlvbnMsIGZ1bmN0aW9uICh2KSB7IHJldHVybiB2ICE9PSB1bmRlZmluZWQ7IH0pKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gUmVwZXRpdGlvbk1hbmRhdG9yeVdpdGhTZXBhcmF0b3I7XG59KEFic3RyYWN0UHJvZHVjdGlvbikpO1xuZXhwb3J0IHsgUmVwZXRpdGlvbk1hbmRhdG9yeVdpdGhTZXBhcmF0b3IgfTtcbnZhciBSZXBldGl0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhSZXBldGl0aW9uLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFJlcGV0aXRpb24ob3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBvcHRpb25zLmRlZmluaXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmlkeCA9IDE7XG4gICAgICAgIGFzc2lnbihfdGhpcywgcGljayhvcHRpb25zLCBmdW5jdGlvbiAodikgeyByZXR1cm4gdiAhPT0gdW5kZWZpbmVkOyB9KSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIFJlcGV0aXRpb247XG59KEFic3RyYWN0UHJvZHVjdGlvbikpO1xuZXhwb3J0IHsgUmVwZXRpdGlvbiB9O1xudmFyIFJlcGV0aXRpb25XaXRoU2VwYXJhdG9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhSZXBldGl0aW9uV2l0aFNlcGFyYXRvciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBSZXBldGl0aW9uV2l0aFNlcGFyYXRvcihvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG9wdGlvbnMuZGVmaW5pdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuaWR4ID0gMTtcbiAgICAgICAgYXNzaWduKF90aGlzLCBwaWNrKG9wdGlvbnMsIGZ1bmN0aW9uICh2KSB7IHJldHVybiB2ICE9PSB1bmRlZmluZWQ7IH0pKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gUmVwZXRpdGlvbldpdGhTZXBhcmF0b3I7XG59KEFic3RyYWN0UHJvZHVjdGlvbikpO1xuZXhwb3J0IHsgUmVwZXRpdGlvbldpdGhTZXBhcmF0b3IgfTtcbnZhciBBbHRlcm5hdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQWx0ZXJuYXRpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQWx0ZXJuYXRpb24ob3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBvcHRpb25zLmRlZmluaXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmlkeCA9IDE7XG4gICAgICAgIF90aGlzLmlnbm9yZUFtYmlndWl0aWVzID0gZmFsc2U7XG4gICAgICAgIF90aGlzLmhhc1ByZWRpY2F0ZXMgPSBmYWxzZTtcbiAgICAgICAgYXNzaWduKF90aGlzLCBwaWNrKG9wdGlvbnMsIGZ1bmN0aW9uICh2KSB7IHJldHVybiB2ICE9PSB1bmRlZmluZWQ7IH0pKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gQWx0ZXJuYXRpb247XG59KEFic3RyYWN0UHJvZHVjdGlvbikpO1xuZXhwb3J0IHsgQWx0ZXJuYXRpb24gfTtcbnZhciBUZXJtaW5hbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUZXJtaW5hbChvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuaWR4ID0gMTtcbiAgICAgICAgYXNzaWduKHRoaXMsIHBpY2sob3B0aW9ucywgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHYgIT09IHVuZGVmaW5lZDsgfSkpO1xuICAgIH1cbiAgICBUZXJtaW5hbC5wcm90b3R5cGUuYWNjZXB0ID0gZnVuY3Rpb24gKHZpc2l0b3IpIHtcbiAgICAgICAgdmlzaXRvci52aXNpdCh0aGlzKTtcbiAgICB9O1xuICAgIHJldHVybiBUZXJtaW5hbDtcbn0oKSk7XG5leHBvcnQgeyBUZXJtaW5hbCB9O1xuZXhwb3J0IGZ1bmN0aW9uIHNlcmlhbGl6ZUdyYW1tYXIodG9wUnVsZXMpIHtcbiAgICByZXR1cm4gbWFwKHRvcFJ1bGVzLCBzZXJpYWxpemVQcm9kdWN0aW9uKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzZXJpYWxpemVQcm9kdWN0aW9uKG5vZGUpIHtcbiAgICBmdW5jdGlvbiBjb252ZXJ0RGVmaW5pdGlvbihkZWZpbml0aW9uKSB7XG4gICAgICAgIHJldHVybiBtYXAoZGVmaW5pdGlvbiwgc2VyaWFsaXplUHJvZHVjdGlvbik7XG4gICAgfVxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBOb25UZXJtaW5hbCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogXCJOb25UZXJtaW5hbFwiLFxuICAgICAgICAgICAgbmFtZTogbm9kZS5ub25UZXJtaW5hbE5hbWUsXG4gICAgICAgICAgICBpZHg6IG5vZGUuaWR4XG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKG5vZGUgaW5zdGFuY2VvZiBBbHRlcm5hdGl2ZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogXCJBbHRlcm5hdGl2ZVwiLFxuICAgICAgICAgICAgZGVmaW5pdGlvbjogY29udmVydERlZmluaXRpb24obm9kZS5kZWZpbml0aW9uKVxuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChub2RlIGluc3RhbmNlb2YgT3B0aW9uKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiBcIk9wdGlvblwiLFxuICAgICAgICAgICAgaWR4OiBub2RlLmlkeCxcbiAgICAgICAgICAgIGRlZmluaXRpb246IGNvbnZlcnREZWZpbml0aW9uKG5vZGUuZGVmaW5pdGlvbilcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAobm9kZSBpbnN0YW5jZW9mIFJlcGV0aXRpb25NYW5kYXRvcnkpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IFwiUmVwZXRpdGlvbk1hbmRhdG9yeVwiLFxuICAgICAgICAgICAgaWR4OiBub2RlLmlkeCxcbiAgICAgICAgICAgIGRlZmluaXRpb246IGNvbnZlcnREZWZpbml0aW9uKG5vZGUuZGVmaW5pdGlvbilcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAobm9kZSBpbnN0YW5jZW9mIFJlcGV0aXRpb25NYW5kYXRvcnlXaXRoU2VwYXJhdG9yKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiBcIlJlcGV0aXRpb25NYW5kYXRvcnlXaXRoU2VwYXJhdG9yXCIsXG4gICAgICAgICAgICBpZHg6IG5vZGUuaWR4LFxuICAgICAgICAgICAgc2VwYXJhdG9yOiAoc2VyaWFsaXplUHJvZHVjdGlvbihuZXcgVGVybWluYWwoeyB0ZXJtaW5hbFR5cGU6IG5vZGUuc2VwYXJhdG9yIH0pKSksXG4gICAgICAgICAgICBkZWZpbml0aW9uOiBjb252ZXJ0RGVmaW5pdGlvbihub2RlLmRlZmluaXRpb24pXG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKG5vZGUgaW5zdGFuY2VvZiBSZXBldGl0aW9uV2l0aFNlcGFyYXRvcikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogXCJSZXBldGl0aW9uV2l0aFNlcGFyYXRvclwiLFxuICAgICAgICAgICAgaWR4OiBub2RlLmlkeCxcbiAgICAgICAgICAgIHNlcGFyYXRvcjogKHNlcmlhbGl6ZVByb2R1Y3Rpb24obmV3IFRlcm1pbmFsKHsgdGVybWluYWxUeXBlOiBub2RlLnNlcGFyYXRvciB9KSkpLFxuICAgICAgICAgICAgZGVmaW5pdGlvbjogY29udmVydERlZmluaXRpb24obm9kZS5kZWZpbml0aW9uKVxuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChub2RlIGluc3RhbmNlb2YgUmVwZXRpdGlvbikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogXCJSZXBldGl0aW9uXCIsXG4gICAgICAgICAgICBpZHg6IG5vZGUuaWR4LFxuICAgICAgICAgICAgZGVmaW5pdGlvbjogY29udmVydERlZmluaXRpb24obm9kZS5kZWZpbml0aW9uKVxuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChub2RlIGluc3RhbmNlb2YgQWx0ZXJuYXRpb24pIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IFwiQWx0ZXJuYXRpb25cIixcbiAgICAgICAgICAgIGlkeDogbm9kZS5pZHgsXG4gICAgICAgICAgICBkZWZpbml0aW9uOiBjb252ZXJ0RGVmaW5pdGlvbihub2RlLmRlZmluaXRpb24pXG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKG5vZGUgaW5zdGFuY2VvZiBUZXJtaW5hbCkge1xuICAgICAgICB2YXIgc2VyaWFsaXplZFRlcm1pbmFsID0ge1xuICAgICAgICAgICAgdHlwZTogXCJUZXJtaW5hbFwiLFxuICAgICAgICAgICAgbmFtZTogbm9kZS50ZXJtaW5hbFR5cGUubmFtZSxcbiAgICAgICAgICAgIGxhYmVsOiB0b2tlbkxhYmVsKG5vZGUudGVybWluYWxUeXBlKSxcbiAgICAgICAgICAgIGlkeDogbm9kZS5pZHhcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHBhdHRlcm4gPSBub2RlLnRlcm1pbmFsVHlwZS5QQVRURVJOO1xuICAgICAgICBpZiAobm9kZS50ZXJtaW5hbFR5cGUuUEFUVEVSTikge1xuICAgICAgICAgICAgc2VyaWFsaXplZFRlcm1pbmFsLnBhdHRlcm4gPSBpc1JlZ0V4cChwYXR0ZXJuKVxuICAgICAgICAgICAgICAgID8gcGF0dGVybi5zb3VyY2VcbiAgICAgICAgICAgICAgICA6IHBhdHRlcm47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNlcmlhbGl6ZWRUZXJtaW5hbDtcbiAgICB9XG4gICAgZWxzZSBpZiAobm9kZSBpbnN0YW5jZW9mIFJ1bGUpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IFwiUnVsZVwiLFxuICAgICAgICAgICAgbmFtZTogbm9kZS5uYW1lLFxuICAgICAgICAgICAgb3JnVGV4dDogbm9kZS5vcmdUZXh0LFxuICAgICAgICAgICAgZGVmaW5pdGlvbjogY29udmVydERlZmluaXRpb24obm9kZS5kZWZpbml0aW9uKVxuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJub24gZXhoYXVzdGl2ZSBtYXRjaFwiKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nYXN0X3B1YmxpYy5qcy5tYXAiLCJpbXBvcnQgeyBkcm9wLCBmb3JFYWNoIH0gZnJvbSBcIi4uLy4uL3V0aWxzL3V0aWxzXCI7XG5pbXBvcnQgeyBBbHRlcm5hdGlvbiwgQWx0ZXJuYXRpdmUsIE5vblRlcm1pbmFsLCBPcHRpb24sIFJlcGV0aXRpb24sIFJlcGV0aXRpb25NYW5kYXRvcnksIFJlcGV0aXRpb25NYW5kYXRvcnlXaXRoU2VwYXJhdG9yLCBSZXBldGl0aW9uV2l0aFNlcGFyYXRvciwgVGVybWluYWwgfSBmcm9tIFwiLi9nYXN0L2dhc3RfcHVibGljXCI7XG4vKipcbiAqICBBIEdyYW1tYXIgV2Fsa2VyIHRoYXQgY29tcHV0ZXMgdGhlIFwicmVtYWluaW5nXCIgZ3JhbW1hciBcImFmdGVyXCIgYSBwcm9kdWN0aW9ucyBpbiB0aGUgZ3JhbW1hci5cbiAqL1xudmFyIFJlc3RXYWxrZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVzdFdhbGtlcigpIHtcbiAgICB9XG4gICAgUmVzdFdhbGtlci5wcm90b3R5cGUud2FsayA9IGZ1bmN0aW9uIChwcm9kLCBwcmV2UmVzdCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAocHJldlJlc3QgPT09IHZvaWQgMCkgeyBwcmV2UmVzdCA9IFtdOyB9XG4gICAgICAgIGZvckVhY2gocHJvZC5kZWZpbml0aW9uLCBmdW5jdGlvbiAoc3ViUHJvZCwgaW5kZXgpIHtcbiAgICAgICAgICAgIHZhciBjdXJyUmVzdCA9IGRyb3AocHJvZC5kZWZpbml0aW9uLCBpbmRleCArIDEpO1xuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgICAgIGlmIChzdWJQcm9kIGluc3RhbmNlb2YgTm9uVGVybWluYWwpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy53YWxrUHJvZFJlZihzdWJQcm9kLCBjdXJyUmVzdCwgcHJldlJlc3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc3ViUHJvZCBpbnN0YW5jZW9mIFRlcm1pbmFsKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMud2Fsa1Rlcm1pbmFsKHN1YlByb2QsIGN1cnJSZXN0LCBwcmV2UmVzdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChzdWJQcm9kIGluc3RhbmNlb2YgQWx0ZXJuYXRpdmUpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy53YWxrRmxhdChzdWJQcm9kLCBjdXJyUmVzdCwgcHJldlJlc3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc3ViUHJvZCBpbnN0YW5jZW9mIE9wdGlvbikge1xuICAgICAgICAgICAgICAgIF90aGlzLndhbGtPcHRpb24oc3ViUHJvZCwgY3VyclJlc3QsIHByZXZSZXN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHN1YlByb2QgaW5zdGFuY2VvZiBSZXBldGl0aW9uTWFuZGF0b3J5KSB7XG4gICAgICAgICAgICAgICAgX3RoaXMud2Fsa0F0TGVhc3RPbmUoc3ViUHJvZCwgY3VyclJlc3QsIHByZXZSZXN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHN1YlByb2QgaW5zdGFuY2VvZiBSZXBldGl0aW9uTWFuZGF0b3J5V2l0aFNlcGFyYXRvcikge1xuICAgICAgICAgICAgICAgIF90aGlzLndhbGtBdExlYXN0T25lU2VwKHN1YlByb2QsIGN1cnJSZXN0LCBwcmV2UmVzdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChzdWJQcm9kIGluc3RhbmNlb2YgUmVwZXRpdGlvbldpdGhTZXBhcmF0b3IpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy53YWxrTWFueVNlcChzdWJQcm9kLCBjdXJyUmVzdCwgcHJldlJlc3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc3ViUHJvZCBpbnN0YW5jZW9mIFJlcGV0aXRpb24pIHtcbiAgICAgICAgICAgICAgICBfdGhpcy53YWxrTWFueShzdWJQcm9kLCBjdXJyUmVzdCwgcHJldlJlc3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc3ViUHJvZCBpbnN0YW5jZW9mIEFsdGVybmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMud2Fsa09yKHN1YlByb2QsIGN1cnJSZXN0LCBwcmV2UmVzdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIm5vbiBleGhhdXN0aXZlIG1hdGNoXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFJlc3RXYWxrZXIucHJvdG90eXBlLndhbGtUZXJtaW5hbCA9IGZ1bmN0aW9uICh0ZXJtaW5hbCwgY3VyclJlc3QsIHByZXZSZXN0KSB7IH07XG4gICAgUmVzdFdhbGtlci5wcm90b3R5cGUud2Fsa1Byb2RSZWYgPSBmdW5jdGlvbiAocmVmUHJvZCwgY3VyclJlc3QsIHByZXZSZXN0KSB7IH07XG4gICAgUmVzdFdhbGtlci5wcm90b3R5cGUud2Fsa0ZsYXQgPSBmdW5jdGlvbiAoZmxhdFByb2QsIGN1cnJSZXN0LCBwcmV2UmVzdCkge1xuICAgICAgICAvLyBBQkNERUYgPT4gYWZ0ZXIgdGhlIEQgdGhlIHJlc3QgaXMgRUZcbiAgICAgICAgdmFyIGZ1bGxPclJlc3QgPSBjdXJyUmVzdC5jb25jYXQocHJldlJlc3QpO1xuICAgICAgICB0aGlzLndhbGsoZmxhdFByb2QsIGZ1bGxPclJlc3QpO1xuICAgIH07XG4gICAgUmVzdFdhbGtlci5wcm90b3R5cGUud2Fsa09wdGlvbiA9IGZ1bmN0aW9uIChvcHRpb25Qcm9kLCBjdXJyUmVzdCwgcHJldlJlc3QpIHtcbiAgICAgICAgLy8gQUJDKERFKT9GID0+IGFmdGVyIHRoZSAoREUpPyB0aGUgcmVzdCBpcyBGXG4gICAgICAgIHZhciBmdWxsT3JSZXN0ID0gY3VyclJlc3QuY29uY2F0KHByZXZSZXN0KTtcbiAgICAgICAgdGhpcy53YWxrKG9wdGlvblByb2QsIGZ1bGxPclJlc3QpO1xuICAgIH07XG4gICAgUmVzdFdhbGtlci5wcm90b3R5cGUud2Fsa0F0TGVhc3RPbmUgPSBmdW5jdGlvbiAoYXRMZWFzdE9uZVByb2QsIGN1cnJSZXN0LCBwcmV2UmVzdCkge1xuICAgICAgICAvLyBBQkMoREUpK0YgPT4gYWZ0ZXIgdGhlIChERSkrIHRoZSByZXN0IGlzIChERSk/RlxuICAgICAgICB2YXIgZnVsbEF0TGVhc3RPbmVSZXN0ID0gW1xuICAgICAgICAgICAgbmV3IE9wdGlvbih7IGRlZmluaXRpb246IGF0TGVhc3RPbmVQcm9kLmRlZmluaXRpb24gfSlcbiAgICAgICAgXS5jb25jYXQoY3VyclJlc3QsIHByZXZSZXN0KTtcbiAgICAgICAgdGhpcy53YWxrKGF0TGVhc3RPbmVQcm9kLCBmdWxsQXRMZWFzdE9uZVJlc3QpO1xuICAgIH07XG4gICAgUmVzdFdhbGtlci5wcm90b3R5cGUud2Fsa0F0TGVhc3RPbmVTZXAgPSBmdW5jdGlvbiAoYXRMZWFzdE9uZVNlcFByb2QsIGN1cnJSZXN0LCBwcmV2UmVzdCkge1xuICAgICAgICAvLyBBQkMgREUoLERFKSogRiA9PiBhZnRlciB0aGUgKCxERSkrIHRoZSByZXN0IGlzICgsREUpP0ZcbiAgICAgICAgdmFyIGZ1bGxBdExlYXN0T25lU2VwUmVzdCA9IHJlc3RGb3JSZXBldGl0aW9uV2l0aFNlcGFyYXRvcihhdExlYXN0T25lU2VwUHJvZCwgY3VyclJlc3QsIHByZXZSZXN0KTtcbiAgICAgICAgdGhpcy53YWxrKGF0TGVhc3RPbmVTZXBQcm9kLCBmdWxsQXRMZWFzdE9uZVNlcFJlc3QpO1xuICAgIH07XG4gICAgUmVzdFdhbGtlci5wcm90b3R5cGUud2Fsa01hbnkgPSBmdW5jdGlvbiAobWFueVByb2QsIGN1cnJSZXN0LCBwcmV2UmVzdCkge1xuICAgICAgICAvLyBBQkMoREUpKkYgPT4gYWZ0ZXIgdGhlIChERSkqIHRoZSByZXN0IGlzIChERSk/RlxuICAgICAgICB2YXIgZnVsbE1hbnlSZXN0ID0gW1xuICAgICAgICAgICAgbmV3IE9wdGlvbih7IGRlZmluaXRpb246IG1hbnlQcm9kLmRlZmluaXRpb24gfSlcbiAgICAgICAgXS5jb25jYXQoY3VyclJlc3QsIHByZXZSZXN0KTtcbiAgICAgICAgdGhpcy53YWxrKG1hbnlQcm9kLCBmdWxsTWFueVJlc3QpO1xuICAgIH07XG4gICAgUmVzdFdhbGtlci5wcm90b3R5cGUud2Fsa01hbnlTZXAgPSBmdW5jdGlvbiAobWFueVNlcFByb2QsIGN1cnJSZXN0LCBwcmV2UmVzdCkge1xuICAgICAgICAvLyBBQkMgKERFKCxERSkqKT8gRiA9PiBhZnRlciB0aGUgKCxERSkqIHRoZSByZXN0IGlzICgsREUpP0ZcbiAgICAgICAgdmFyIGZ1bGxNYW55U2VwUmVzdCA9IHJlc3RGb3JSZXBldGl0aW9uV2l0aFNlcGFyYXRvcihtYW55U2VwUHJvZCwgY3VyclJlc3QsIHByZXZSZXN0KTtcbiAgICAgICAgdGhpcy53YWxrKG1hbnlTZXBQcm9kLCBmdWxsTWFueVNlcFJlc3QpO1xuICAgIH07XG4gICAgUmVzdFdhbGtlci5wcm90b3R5cGUud2Fsa09yID0gZnVuY3Rpb24gKG9yUHJvZCwgY3VyclJlc3QsIHByZXZSZXN0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8vIEFCQyhEfEV8RilHID0+IHdoZW4gZmluZGluZyB0aGUgKER8RXxGKSB0aGUgcmVzdCBpcyBHXG4gICAgICAgIHZhciBmdWxsT3JSZXN0ID0gY3VyclJlc3QuY29uY2F0KHByZXZSZXN0KTtcbiAgICAgICAgLy8gd2FsayBhbGwgZGlmZmVyZW50IGFsdGVybmF0aXZlc1xuICAgICAgICBmb3JFYWNoKG9yUHJvZC5kZWZpbml0aW9uLCBmdW5jdGlvbiAoYWx0KSB7XG4gICAgICAgICAgICAvLyB3cmFwcGluZyBlYWNoIGFsdGVybmF0aXZlIGluIGEgc2luZ2xlIGRlZmluaXRpb24gd3JhcHBlclxuICAgICAgICAgICAgLy8gdG8gYXZvaWQgZXJyb3JzIGluIGNvbXB1dGluZyB0aGUgcmVzdCBvZiB0aGF0IGFsdGVybmF0aXZlIGluIHRoZSBpbnZvY2F0aW9uIHRvIGNvbXB1dGVJblByb2RGb2xsb3dzXG4gICAgICAgICAgICAvLyAob3RoZXJ3aXNlIGZvciBPUihbYWx0MSxhbHQyXSkgYWx0MiB3aWxsIGJlIGNvbnNpZGVyZWQgaW4gJ3Jlc3QnIG9mIGFsdDFcbiAgICAgICAgICAgIHZhciBwcm9kV3JhcHBlciA9IG5ldyBBbHRlcm5hdGl2ZSh7IGRlZmluaXRpb246IFthbHRdIH0pO1xuICAgICAgICAgICAgX3RoaXMud2Fsayhwcm9kV3JhcHBlciwgZnVsbE9yUmVzdCk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIFJlc3RXYWxrZXI7XG59KCkpO1xuZXhwb3J0IHsgUmVzdFdhbGtlciB9O1xuZnVuY3Rpb24gcmVzdEZvclJlcGV0aXRpb25XaXRoU2VwYXJhdG9yKHJlcFNlcFByb2QsIGN1cnJSZXN0LCBwcmV2UmVzdCkge1xuICAgIHZhciByZXBTZXBSZXN0ID0gW1xuICAgICAgICBuZXcgT3B0aW9uKHtcbiAgICAgICAgICAgIGRlZmluaXRpb246IFtuZXcgVGVybWluYWwoeyB0ZXJtaW5hbFR5cGU6IHJlcFNlcFByb2Quc2VwYXJhdG9yIH0pXS5jb25jYXQocmVwU2VwUHJvZC5kZWZpbml0aW9uKVxuICAgICAgICB9KVxuICAgIF07XG4gICAgdmFyIGZ1bGxSZXBTZXBSZXN0ID0gcmVwU2VwUmVzdC5jb25jYXQoY3VyclJlc3QsIHByZXZSZXN0KTtcbiAgICByZXR1cm4gZnVsbFJlcFNlcFJlc3Q7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXN0LmpzLm1hcCIsImltcG9ydCB7IEFsdGVybmF0aW9uLCBBbHRlcm5hdGl2ZSwgTm9uVGVybWluYWwsIE9wdGlvbiwgUmVwZXRpdGlvbiwgUmVwZXRpdGlvbk1hbmRhdG9yeSwgUmVwZXRpdGlvbk1hbmRhdG9yeVdpdGhTZXBhcmF0b3IsIFJlcGV0aXRpb25XaXRoU2VwYXJhdG9yLCBSdWxlLCBUZXJtaW5hbCB9IGZyb20gXCIuL2dhc3RfcHVibGljXCI7XG52YXIgR0FzdFZpc2l0b3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gR0FzdFZpc2l0b3IoKSB7XG4gICAgfVxuICAgIEdBc3RWaXNpdG9yLnByb3RvdHlwZS52aXNpdCA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgIHZhciBub2RlQW55ID0gbm9kZTtcbiAgICAgICAgc3dpdGNoIChub2RlQW55LmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICBjYXNlIE5vblRlcm1pbmFsOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnZpc2l0Tm9uVGVybWluYWwobm9kZUFueSk7XG4gICAgICAgICAgICBjYXNlIEFsdGVybmF0aXZlOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnZpc2l0QWx0ZXJuYXRpdmUobm9kZUFueSk7XG4gICAgICAgICAgICBjYXNlIE9wdGlvbjpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy52aXNpdE9wdGlvbihub2RlQW55KTtcbiAgICAgICAgICAgIGNhc2UgUmVwZXRpdGlvbk1hbmRhdG9yeTpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy52aXNpdFJlcGV0aXRpb25NYW5kYXRvcnkobm9kZUFueSk7XG4gICAgICAgICAgICBjYXNlIFJlcGV0aXRpb25NYW5kYXRvcnlXaXRoU2VwYXJhdG9yOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnZpc2l0UmVwZXRpdGlvbk1hbmRhdG9yeVdpdGhTZXBhcmF0b3Iobm9kZUFueSk7XG4gICAgICAgICAgICBjYXNlIFJlcGV0aXRpb25XaXRoU2VwYXJhdG9yOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnZpc2l0UmVwZXRpdGlvbldpdGhTZXBhcmF0b3Iobm9kZUFueSk7XG4gICAgICAgICAgICBjYXNlIFJlcGV0aXRpb246XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlzaXRSZXBldGl0aW9uKG5vZGVBbnkpO1xuICAgICAgICAgICAgY2FzZSBBbHRlcm5hdGlvbjpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy52aXNpdEFsdGVybmF0aW9uKG5vZGVBbnkpO1xuICAgICAgICAgICAgY2FzZSBUZXJtaW5hbDpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy52aXNpdFRlcm1pbmFsKG5vZGVBbnkpO1xuICAgICAgICAgICAgY2FzZSBSdWxlOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnZpc2l0UnVsZShub2RlQW55KTtcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwibm9uIGV4aGF1c3RpdmUgbWF0Y2hcIik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEdBc3RWaXNpdG9yLnByb3RvdHlwZS52aXNpdE5vblRlcm1pbmFsID0gZnVuY3Rpb24gKG5vZGUpIHsgfTtcbiAgICBHQXN0VmlzaXRvci5wcm90b3R5cGUudmlzaXRBbHRlcm5hdGl2ZSA9IGZ1bmN0aW9uIChub2RlKSB7IH07XG4gICAgR0FzdFZpc2l0b3IucHJvdG90eXBlLnZpc2l0T3B0aW9uID0gZnVuY3Rpb24gKG5vZGUpIHsgfTtcbiAgICBHQXN0VmlzaXRvci5wcm90b3R5cGUudmlzaXRSZXBldGl0aW9uID0gZnVuY3Rpb24gKG5vZGUpIHsgfTtcbiAgICBHQXN0VmlzaXRvci5wcm90b3R5cGUudmlzaXRSZXBldGl0aW9uTWFuZGF0b3J5ID0gZnVuY3Rpb24gKG5vZGUpIHsgfTtcbiAgICBHQXN0VmlzaXRvci5wcm90b3R5cGUudmlzaXRSZXBldGl0aW9uTWFuZGF0b3J5V2l0aFNlcGFyYXRvciA9IGZ1bmN0aW9uIChub2RlKSB7IH07XG4gICAgR0FzdFZpc2l0b3IucHJvdG90eXBlLnZpc2l0UmVwZXRpdGlvbldpdGhTZXBhcmF0b3IgPSBmdW5jdGlvbiAobm9kZSkgeyB9O1xuICAgIEdBc3RWaXNpdG9yLnByb3RvdHlwZS52aXNpdEFsdGVybmF0aW9uID0gZnVuY3Rpb24gKG5vZGUpIHsgfTtcbiAgICBHQXN0VmlzaXRvci5wcm90b3R5cGUudmlzaXRUZXJtaW5hbCA9IGZ1bmN0aW9uIChub2RlKSB7IH07XG4gICAgR0FzdFZpc2l0b3IucHJvdG90eXBlLnZpc2l0UnVsZSA9IGZ1bmN0aW9uIChub2RlKSB7IH07XG4gICAgcmV0dXJuIEdBc3RWaXNpdG9yO1xufSgpKTtcbmV4cG9ydCB7IEdBc3RWaXNpdG9yIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nYXN0X3Zpc2l0b3JfcHVibGljLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0IHsgY29udGFpbnMsIGV2ZXJ5LCBoYXMsIHNvbWUgfSBmcm9tIFwiLi4vLi4vLi4vdXRpbHMvdXRpbHNcIjtcbmltcG9ydCB7IEFic3RyYWN0UHJvZHVjdGlvbiwgQWx0ZXJuYXRpb24sIEFsdGVybmF0aXZlLCBOb25UZXJtaW5hbCwgT3B0aW9uLCBSZXBldGl0aW9uLCBSZXBldGl0aW9uTWFuZGF0b3J5LCBSZXBldGl0aW9uTWFuZGF0b3J5V2l0aFNlcGFyYXRvciwgUmVwZXRpdGlvbldpdGhTZXBhcmF0b3IsIFJ1bGUsIFRlcm1pbmFsIH0gZnJvbSBcIi4vZ2FzdF9wdWJsaWNcIjtcbmltcG9ydCB7IEdBc3RWaXNpdG9yIH0gZnJvbSBcIi4vZ2FzdF92aXNpdG9yX3B1YmxpY1wiO1xuZXhwb3J0IGZ1bmN0aW9uIGlzU2VxdWVuY2VQcm9kKHByb2QpIHtcbiAgICByZXR1cm4gKHByb2QgaW5zdGFuY2VvZiBBbHRlcm5hdGl2ZSB8fFxuICAgICAgICBwcm9kIGluc3RhbmNlb2YgT3B0aW9uIHx8XG4gICAgICAgIHByb2QgaW5zdGFuY2VvZiBSZXBldGl0aW9uIHx8XG4gICAgICAgIHByb2QgaW5zdGFuY2VvZiBSZXBldGl0aW9uTWFuZGF0b3J5IHx8XG4gICAgICAgIHByb2QgaW5zdGFuY2VvZiBSZXBldGl0aW9uTWFuZGF0b3J5V2l0aFNlcGFyYXRvciB8fFxuICAgICAgICBwcm9kIGluc3RhbmNlb2YgUmVwZXRpdGlvbldpdGhTZXBhcmF0b3IgfHxcbiAgICAgICAgcHJvZCBpbnN0YW5jZW9mIFRlcm1pbmFsIHx8XG4gICAgICAgIHByb2QgaW5zdGFuY2VvZiBSdWxlKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc09wdGlvbmFsUHJvZChwcm9kLCBhbHJlYWR5VmlzaXRlZCkge1xuICAgIGlmIChhbHJlYWR5VmlzaXRlZCA9PT0gdm9pZCAwKSB7IGFscmVhZHlWaXNpdGVkID0gW107IH1cbiAgICB2YXIgaXNEaXJlY3RseU9wdGlvbmFsID0gcHJvZCBpbnN0YW5jZW9mIE9wdGlvbiB8fFxuICAgICAgICBwcm9kIGluc3RhbmNlb2YgUmVwZXRpdGlvbiB8fFxuICAgICAgICBwcm9kIGluc3RhbmNlb2YgUmVwZXRpdGlvbldpdGhTZXBhcmF0b3I7XG4gICAgaWYgKGlzRGlyZWN0bHlPcHRpb25hbCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLy8gbm90ZSB0aGF0IHRoaXMgY2FuIGNhdXNlIGluZmluaXRlIGxvb3AgaWYgb25lIG9wdGlvbmFsIGVtcHR5IFRPUCBwcm9kdWN0aW9uIGhhcyBhIGN5Y2xpYyBkZXBlbmRlbmN5IHdpdGggYW5vdGhlclxuICAgIC8vIGVtcHR5IG9wdGlvbmFsIHRvcCBydWxlXG4gICAgLy8gbWF5IGJlIGluZGlyZWN0bHkgb3B0aW9uYWwgKChBP0I/Qz8pIHwgKEQ/RT9GPykpXG4gICAgaWYgKHByb2QgaW5zdGFuY2VvZiBBbHRlcm5hdGlvbikge1xuICAgICAgICAvLyBmb3IgT1IgaXRzIGVub3VnaCBmb3IganVzdCBvbmUgb2YgdGhlIGFsdGVybmF0aXZlcyB0byBiZSBvcHRpb25hbFxuICAgICAgICByZXR1cm4gc29tZShwcm9kLmRlZmluaXRpb24sIGZ1bmN0aW9uIChzdWJQcm9kKSB7XG4gICAgICAgICAgICByZXR1cm4gaXNPcHRpb25hbFByb2Qoc3ViUHJvZCwgYWxyZWFkeVZpc2l0ZWQpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSBpZiAocHJvZCBpbnN0YW5jZW9mIE5vblRlcm1pbmFsICYmIGNvbnRhaW5zKGFscmVhZHlWaXNpdGVkLCBwcm9kKSkge1xuICAgICAgICAvLyBhdm9pZGluZyBzdGFjayBvdmVyZmxvdyBkdWUgdG8gaW5maW5pdGUgcmVjdXJzaW9uXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZWxzZSBpZiAocHJvZCBpbnN0YW5jZW9mIEFic3RyYWN0UHJvZHVjdGlvbikge1xuICAgICAgICBpZiAocHJvZCBpbnN0YW5jZW9mIE5vblRlcm1pbmFsKSB7XG4gICAgICAgICAgICBhbHJlYWR5VmlzaXRlZC5wdXNoKHByb2QpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBldmVyeShwcm9kLmRlZmluaXRpb24sIGZ1bmN0aW9uIChzdWJQcm9kKSB7XG4gICAgICAgICAgICByZXR1cm4gaXNPcHRpb25hbFByb2Qoc3ViUHJvZCwgYWxyZWFkeVZpc2l0ZWQpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gaXNCcmFuY2hpbmdQcm9kKHByb2QpIHtcbiAgICByZXR1cm4gcHJvZCBpbnN0YW5jZW9mIEFsdGVybmF0aW9uO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldFByb2R1Y3Rpb25Ec2xOYW1lKHByb2QpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgIGlmIChwcm9kIGluc3RhbmNlb2YgTm9uVGVybWluYWwpIHtcbiAgICAgICAgcmV0dXJuIFwiU1VCUlVMRVwiO1xuICAgIH1cbiAgICBlbHNlIGlmIChwcm9kIGluc3RhbmNlb2YgT3B0aW9uKSB7XG4gICAgICAgIHJldHVybiBcIk9QVElPTlwiO1xuICAgIH1cbiAgICBlbHNlIGlmIChwcm9kIGluc3RhbmNlb2YgQWx0ZXJuYXRpb24pIHtcbiAgICAgICAgcmV0dXJuIFwiT1JcIjtcbiAgICB9XG4gICAgZWxzZSBpZiAocHJvZCBpbnN0YW5jZW9mIFJlcGV0aXRpb25NYW5kYXRvcnkpIHtcbiAgICAgICAgcmV0dXJuIFwiQVRfTEVBU1RfT05FXCI7XG4gICAgfVxuICAgIGVsc2UgaWYgKHByb2QgaW5zdGFuY2VvZiBSZXBldGl0aW9uTWFuZGF0b3J5V2l0aFNlcGFyYXRvcikge1xuICAgICAgICByZXR1cm4gXCJBVF9MRUFTVF9PTkVfU0VQXCI7XG4gICAgfVxuICAgIGVsc2UgaWYgKHByb2QgaW5zdGFuY2VvZiBSZXBldGl0aW9uV2l0aFNlcGFyYXRvcikge1xuICAgICAgICByZXR1cm4gXCJNQU5ZX1NFUFwiO1xuICAgIH1cbiAgICBlbHNlIGlmIChwcm9kIGluc3RhbmNlb2YgUmVwZXRpdGlvbikge1xuICAgICAgICByZXR1cm4gXCJNQU5ZXCI7XG4gICAgfVxuICAgIGVsc2UgaWYgKHByb2QgaW5zdGFuY2VvZiBUZXJtaW5hbCkge1xuICAgICAgICByZXR1cm4gXCJDT05TVU1FXCI7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBFcnJvcihcIm5vbiBleGhhdXN0aXZlIG1hdGNoXCIpO1xuICAgIH1cbn1cbnZhciBEc2xNZXRob2RzQ29sbGVjdG9yVmlzaXRvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoRHNsTWV0aG9kc0NvbGxlY3RvclZpc2l0b3IsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gRHNsTWV0aG9kc0NvbGxlY3RvclZpc2l0b3IoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgICAvLyBBIG1pbnVzIGlzIG5ldmVyIHZhbGlkIGluIGFuIGlkZW50aWZpZXIgbmFtZVxuICAgICAgICBfdGhpcy5zZXBhcmF0b3IgPSBcIi1cIjtcbiAgICAgICAgX3RoaXMuZHNsTWV0aG9kcyA9IHtcbiAgICAgICAgICAgIG9wdGlvbjogW10sXG4gICAgICAgICAgICBhbHRlcm5hdGlvbjogW10sXG4gICAgICAgICAgICByZXBldGl0aW9uOiBbXSxcbiAgICAgICAgICAgIHJlcGV0aXRpb25XaXRoU2VwYXJhdG9yOiBbXSxcbiAgICAgICAgICAgIHJlcGV0aXRpb25NYW5kYXRvcnk6IFtdLFxuICAgICAgICAgICAgcmVwZXRpdGlvbk1hbmRhdG9yeVdpdGhTZXBhcmF0b3I6IFtdXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgRHNsTWV0aG9kc0NvbGxlY3RvclZpc2l0b3IucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRzbE1ldGhvZHMgPSB7XG4gICAgICAgICAgICBvcHRpb246IFtdLFxuICAgICAgICAgICAgYWx0ZXJuYXRpb246IFtdLFxuICAgICAgICAgICAgcmVwZXRpdGlvbjogW10sXG4gICAgICAgICAgICByZXBldGl0aW9uV2l0aFNlcGFyYXRvcjogW10sXG4gICAgICAgICAgICByZXBldGl0aW9uTWFuZGF0b3J5OiBbXSxcbiAgICAgICAgICAgIHJlcGV0aXRpb25NYW5kYXRvcnlXaXRoU2VwYXJhdG9yOiBbXVxuICAgICAgICB9O1xuICAgIH07XG4gICAgRHNsTWV0aG9kc0NvbGxlY3RvclZpc2l0b3IucHJvdG90eXBlLnZpc2l0VGVybWluYWwgPSBmdW5jdGlvbiAodGVybWluYWwpIHtcbiAgICAgICAgdmFyIGtleSA9IHRlcm1pbmFsLnRlcm1pbmFsVHlwZS5uYW1lICsgdGhpcy5zZXBhcmF0b3IgKyBcIlRlcm1pbmFsXCI7XG4gICAgICAgIGlmICghaGFzKHRoaXMuZHNsTWV0aG9kcywga2V5KSkge1xuICAgICAgICAgICAgdGhpcy5kc2xNZXRob2RzW2tleV0gPSBbXTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRzbE1ldGhvZHNba2V5XS5wdXNoKHRlcm1pbmFsKTtcbiAgICB9O1xuICAgIERzbE1ldGhvZHNDb2xsZWN0b3JWaXNpdG9yLnByb3RvdHlwZS52aXNpdE5vblRlcm1pbmFsID0gZnVuY3Rpb24gKHN1YnJ1bGUpIHtcbiAgICAgICAgdmFyIGtleSA9IHN1YnJ1bGUubm9uVGVybWluYWxOYW1lICsgdGhpcy5zZXBhcmF0b3IgKyBcIlRlcm1pbmFsXCI7XG4gICAgICAgIGlmICghaGFzKHRoaXMuZHNsTWV0aG9kcywga2V5KSkge1xuICAgICAgICAgICAgdGhpcy5kc2xNZXRob2RzW2tleV0gPSBbXTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRzbE1ldGhvZHNba2V5XS5wdXNoKHN1YnJ1bGUpO1xuICAgIH07XG4gICAgRHNsTWV0aG9kc0NvbGxlY3RvclZpc2l0b3IucHJvdG90eXBlLnZpc2l0T3B0aW9uID0gZnVuY3Rpb24gKG9wdGlvbikge1xuICAgICAgICB0aGlzLmRzbE1ldGhvZHMub3B0aW9uLnB1c2gob3B0aW9uKTtcbiAgICB9O1xuICAgIERzbE1ldGhvZHNDb2xsZWN0b3JWaXNpdG9yLnByb3RvdHlwZS52aXNpdFJlcGV0aXRpb25XaXRoU2VwYXJhdG9yID0gZnVuY3Rpb24gKG1hbnlTZXApIHtcbiAgICAgICAgdGhpcy5kc2xNZXRob2RzLnJlcGV0aXRpb25XaXRoU2VwYXJhdG9yLnB1c2gobWFueVNlcCk7XG4gICAgfTtcbiAgICBEc2xNZXRob2RzQ29sbGVjdG9yVmlzaXRvci5wcm90b3R5cGUudmlzaXRSZXBldGl0aW9uTWFuZGF0b3J5ID0gZnVuY3Rpb24gKGF0TGVhc3RPbmUpIHtcbiAgICAgICAgdGhpcy5kc2xNZXRob2RzLnJlcGV0aXRpb25NYW5kYXRvcnkucHVzaChhdExlYXN0T25lKTtcbiAgICB9O1xuICAgIERzbE1ldGhvZHNDb2xsZWN0b3JWaXNpdG9yLnByb3RvdHlwZS52aXNpdFJlcGV0aXRpb25NYW5kYXRvcnlXaXRoU2VwYXJhdG9yID0gZnVuY3Rpb24gKGF0TGVhc3RPbmVTZXApIHtcbiAgICAgICAgdGhpcy5kc2xNZXRob2RzLnJlcGV0aXRpb25NYW5kYXRvcnlXaXRoU2VwYXJhdG9yLnB1c2goYXRMZWFzdE9uZVNlcCk7XG4gICAgfTtcbiAgICBEc2xNZXRob2RzQ29sbGVjdG9yVmlzaXRvci5wcm90b3R5cGUudmlzaXRSZXBldGl0aW9uID0gZnVuY3Rpb24gKG1hbnkpIHtcbiAgICAgICAgdGhpcy5kc2xNZXRob2RzLnJlcGV0aXRpb24ucHVzaChtYW55KTtcbiAgICB9O1xuICAgIERzbE1ldGhvZHNDb2xsZWN0b3JWaXNpdG9yLnByb3RvdHlwZS52aXNpdEFsdGVybmF0aW9uID0gZnVuY3Rpb24gKG9yKSB7XG4gICAgICAgIHRoaXMuZHNsTWV0aG9kcy5hbHRlcm5hdGlvbi5wdXNoKG9yKTtcbiAgICB9O1xuICAgIHJldHVybiBEc2xNZXRob2RzQ29sbGVjdG9yVmlzaXRvcjtcbn0oR0FzdFZpc2l0b3IpKTtcbmV4cG9ydCB7IERzbE1ldGhvZHNDb2xsZWN0b3JWaXNpdG9yIH07XG52YXIgY29sbGVjdG9yVmlzaXRvciA9IG5ldyBEc2xNZXRob2RzQ29sbGVjdG9yVmlzaXRvcigpO1xuZXhwb3J0IGZ1bmN0aW9uIGNvbGxlY3RNZXRob2RzKHJ1bGUpIHtcbiAgICBjb2xsZWN0b3JWaXNpdG9yLnJlc2V0KCk7XG4gICAgcnVsZS5hY2NlcHQoY29sbGVjdG9yVmlzaXRvcik7XG4gICAgdmFyIGRzbE1ldGhvZHMgPSBjb2xsZWN0b3JWaXNpdG9yLmRzbE1ldGhvZHM7XG4gICAgLy8gYXZvaWQgdW5jbGVhbmVkIHJlZmVyZW5jZXNcbiAgICBjb2xsZWN0b3JWaXNpdG9yLnJlc2V0KCk7XG4gICAgcmV0dXJuIGRzbE1ldGhvZHM7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nYXN0LmpzLm1hcCIsImltcG9ydCB7IHVuaXEsIG1hcCwgZmxhdHRlbiB9IGZyb20gXCIuLi8uLi91dGlscy91dGlsc1wiO1xuaW1wb3J0IHsgTm9uVGVybWluYWwsIFRlcm1pbmFsIH0gZnJvbSBcIi4vZ2FzdC9nYXN0X3B1YmxpY1wiO1xuaW1wb3J0IHsgaXNCcmFuY2hpbmdQcm9kLCBpc09wdGlvbmFsUHJvZCwgaXNTZXF1ZW5jZVByb2QgfSBmcm9tIFwiLi9nYXN0L2dhc3RcIjtcbmV4cG9ydCBmdW5jdGlvbiBmaXJzdChwcm9kKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICBpZiAocHJvZCBpbnN0YW5jZW9mIE5vblRlcm1pbmFsKSB7XG4gICAgICAgIC8vIHRoaXMgY291bGQgaW4gdGhlb3J5IGNhdXNlIGluZmluaXRlIGxvb3BzIGlmXG4gICAgICAgIC8vICgxKSBwcm9kIEEgcmVmcyBwcm9kIEIuXG4gICAgICAgIC8vICgyKSBwcm9kIEIgcmVmcyBwcm9kIEFcbiAgICAgICAgLy8gKDMpIEFCIGNhbiBtYXRjaCB0aGUgZW1wdHkgc2V0XG4gICAgICAgIC8vIGluIG90aGVyIHdvcmRzIGEgY3ljbGUgd2hlcmUgZXZlcnl0aGluZyBpcyBvcHRpb25hbCBzbyB0aGUgZmlyc3Qgd2lsbCBrZWVwXG4gICAgICAgIC8vIGxvb2tpbmcgYWhlYWQgZm9yIHRoZSBuZXh0IG9wdGlvbmFsIHBhcnQgYW5kIHdpbGwgbmV2ZXIgZXhpdFxuICAgICAgICAvLyBjdXJyZW50bHkgdGhlcmUgaXMgbm8gc2FmZWd1YXJkIGZvciB0aGlzIHVuaXF1ZSBlZGdlIGNhc2UgYmVjYXVzZVxuICAgICAgICAvLyAoMSkgbm90IHN1cmUgYSBncmFtbWFyIGluIHdoaWNoIHRoaXMgY2FuIGhhcHBlbiBpcyB1c2VmdWwgZm9yIGFueXRoaW5nIChwcm9kdWN0aXZlKVxuICAgICAgICByZXR1cm4gZmlyc3QocHJvZC5yZWZlcmVuY2VkUnVsZSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHByb2QgaW5zdGFuY2VvZiBUZXJtaW5hbCkge1xuICAgICAgICByZXR1cm4gZmlyc3RGb3JUZXJtaW5hbChwcm9kKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNTZXF1ZW5jZVByb2QocHJvZCkpIHtcbiAgICAgICAgcmV0dXJuIGZpcnN0Rm9yU2VxdWVuY2UocHJvZCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzQnJhbmNoaW5nUHJvZChwcm9kKSkge1xuICAgICAgICByZXR1cm4gZmlyc3RGb3JCcmFuY2hpbmcocHJvZCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBFcnJvcihcIm5vbiBleGhhdXN0aXZlIG1hdGNoXCIpO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBmaXJzdEZvclNlcXVlbmNlKHByb2QpIHtcbiAgICB2YXIgZmlyc3RTZXQgPSBbXTtcbiAgICB2YXIgc2VxID0gcHJvZC5kZWZpbml0aW9uO1xuICAgIHZhciBuZXh0U3ViUHJvZElkeCA9IDA7XG4gICAgdmFyIGhhc0lubmVyUHJvZHNSZW1haW5pbmcgPSBzZXEubGVuZ3RoID4gbmV4dFN1YlByb2RJZHg7XG4gICAgdmFyIGN1cnJTdWJQcm9kO1xuICAgIC8vIHNvIHdlIGVudGVyIHRoZSBsb29wIGF0IGxlYXN0IG9uY2UgKGlmIHRoZSBkZWZpbml0aW9uIGlzIG5vdCBlbXB0eVxuICAgIHZhciBpc0xhc3RJbm5lclByb2RPcHRpb25hbCA9IHRydWU7XG4gICAgLy8gc2NhbiBhIHNlcXVlbmNlIHVudGlsIGl0J3MgZW5kIG9yIHVudGlsIHdlIGhhdmUgZm91bmQgYSBOT05FIG9wdGlvbmFsIHByb2R1Y3Rpb24gaW4gaXRcbiAgICB3aGlsZSAoaGFzSW5uZXJQcm9kc1JlbWFpbmluZyAmJiBpc0xhc3RJbm5lclByb2RPcHRpb25hbCkge1xuICAgICAgICBjdXJyU3ViUHJvZCA9IHNlcVtuZXh0U3ViUHJvZElkeF07XG4gICAgICAgIGlzTGFzdElubmVyUHJvZE9wdGlvbmFsID0gaXNPcHRpb25hbFByb2QoY3VyclN1YlByb2QpO1xuICAgICAgICBmaXJzdFNldCA9IGZpcnN0U2V0LmNvbmNhdChmaXJzdChjdXJyU3ViUHJvZCkpO1xuICAgICAgICBuZXh0U3ViUHJvZElkeCA9IG5leHRTdWJQcm9kSWR4ICsgMTtcbiAgICAgICAgaGFzSW5uZXJQcm9kc1JlbWFpbmluZyA9IHNlcS5sZW5ndGggPiBuZXh0U3ViUHJvZElkeDtcbiAgICB9XG4gICAgcmV0dXJuIHVuaXEoZmlyc3RTZXQpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZpcnN0Rm9yQnJhbmNoaW5nKHByb2QpIHtcbiAgICB2YXIgYWxsQWx0ZXJuYXRpdmVzRmlyc3RzID0gbWFwKHByb2QuZGVmaW5pdGlvbiwgZnVuY3Rpb24gKGlubmVyUHJvZCkge1xuICAgICAgICByZXR1cm4gZmlyc3QoaW5uZXJQcm9kKTtcbiAgICB9KTtcbiAgICByZXR1cm4gdW5pcShmbGF0dGVuKGFsbEFsdGVybmF0aXZlc0ZpcnN0cykpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZpcnN0Rm9yVGVybWluYWwodGVybWluYWwpIHtcbiAgICByZXR1cm4gW3Rlcm1pbmFsLnRlcm1pbmFsVHlwZV07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1maXJzdC5qcy5tYXAiLCIvLyBUT0RPOiBjYW4gdGhpcyBiZSByZW1vdmVkPyB3aGVyZSBpcyBpdCB1c2VkP1xuZXhwb3J0IHZhciBJTiA9IFwiX35JTn5fXCI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25zdGFudHMuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5pbXBvcnQgeyBSZXN0V2Fsa2VyIH0gZnJvbSBcIi4vcmVzdFwiO1xuaW1wb3J0IHsgZmlyc3QgfSBmcm9tIFwiLi9maXJzdFwiO1xuaW1wb3J0IHsgYXNzaWduLCBmb3JFYWNoIH0gZnJvbSBcIi4uLy4uL3V0aWxzL3V0aWxzXCI7XG5pbXBvcnQgeyBJTiB9IGZyb20gXCIuLi9jb25zdGFudHNcIjtcbmltcG9ydCB7IEFsdGVybmF0aXZlIH0gZnJvbSBcIi4vZ2FzdC9nYXN0X3B1YmxpY1wiO1xuLy8gVGhpcyBSZXN5bmNGb2xsb3dzV2Fsa2VyIGNvbXB1dGVzIGFsbCBvZiB0aGUgZm9sbG93cyByZXF1aXJlZCBmb3IgUkVTWU5DXG4vLyAoc2tpcHBpbmcgcmVmZXJlbmNlIHByb2R1Y3Rpb24pLlxudmFyIFJlc3luY0ZvbGxvd3NXYWxrZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFJlc3luY0ZvbGxvd3NXYWxrZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUmVzeW5jRm9sbG93c1dhbGtlcih0b3BQcm9kKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnRvcFByb2QgPSB0b3BQcm9kO1xuICAgICAgICBfdGhpcy5mb2xsb3dzID0ge307XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgUmVzeW5jRm9sbG93c1dhbGtlci5wcm90b3R5cGUuc3RhcnRXYWxraW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLndhbGsodGhpcy50b3BQcm9kKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZm9sbG93cztcbiAgICB9O1xuICAgIFJlc3luY0ZvbGxvd3NXYWxrZXIucHJvdG90eXBlLndhbGtUZXJtaW5hbCA9IGZ1bmN0aW9uICh0ZXJtaW5hbCwgY3VyclJlc3QsIHByZXZSZXN0KSB7XG4gICAgICAgIC8vIGRvIG5vdGhpbmchIGp1c3QgbGlrZSBpbiB0aGUgcHVibGljIHNlY3RvciBhZnRlciAxMzowMFxuICAgIH07XG4gICAgUmVzeW5jRm9sbG93c1dhbGtlci5wcm90b3R5cGUud2Fsa1Byb2RSZWYgPSBmdW5jdGlvbiAocmVmUHJvZCwgY3VyclJlc3QsIHByZXZSZXN0KSB7XG4gICAgICAgIHZhciBmb2xsb3dOYW1lID0gYnVpbGRCZXR3ZWVuUHJvZHNGb2xsb3dQcmVmaXgocmVmUHJvZC5yZWZlcmVuY2VkUnVsZSwgcmVmUHJvZC5pZHgpICtcbiAgICAgICAgICAgIHRoaXMudG9wUHJvZC5uYW1lO1xuICAgICAgICB2YXIgZnVsbFJlc3QgPSBjdXJyUmVzdC5jb25jYXQocHJldlJlc3QpO1xuICAgICAgICB2YXIgcmVzdFByb2QgPSBuZXcgQWx0ZXJuYXRpdmUoeyBkZWZpbml0aW9uOiBmdWxsUmVzdCB9KTtcbiAgICAgICAgdmFyIHRfaW5fdG9wUHJvZF9mb2xsb3dzID0gZmlyc3QocmVzdFByb2QpO1xuICAgICAgICB0aGlzLmZvbGxvd3NbZm9sbG93TmFtZV0gPSB0X2luX3RvcFByb2RfZm9sbG93cztcbiAgICB9O1xuICAgIHJldHVybiBSZXN5bmNGb2xsb3dzV2Fsa2VyO1xufShSZXN0V2Fsa2VyKSk7XG5leHBvcnQgeyBSZXN5bmNGb2xsb3dzV2Fsa2VyIH07XG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZUFsbFByb2RzRm9sbG93cyh0b3BQcm9kdWN0aW9ucykge1xuICAgIHZhciByZVN5bmNGb2xsb3dzID0ge307XG4gICAgZm9yRWFjaCh0b3BQcm9kdWN0aW9ucywgZnVuY3Rpb24gKHRvcFByb2QpIHtcbiAgICAgICAgdmFyIGN1cnJSZWZzRm9sbG93ID0gbmV3IFJlc3luY0ZvbGxvd3NXYWxrZXIodG9wUHJvZCkuc3RhcnRXYWxraW5nKCk7XG4gICAgICAgIGFzc2lnbihyZVN5bmNGb2xsb3dzLCBjdXJyUmVmc0ZvbGxvdyk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlU3luY0ZvbGxvd3M7XG59XG5leHBvcnQgZnVuY3Rpb24gYnVpbGRCZXR3ZWVuUHJvZHNGb2xsb3dQcmVmaXgoaW5uZXIsIG9jY3VyZW5jZUluUGFyZW50KSB7XG4gICAgcmV0dXJuIGlubmVyLm5hbWUgKyBvY2N1cmVuY2VJblBhcmVudCArIElOO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkSW5Qcm9kRm9sbG93UHJlZml4KHRlcm1pbmFsKSB7XG4gICAgdmFyIHRlcm1pbmFsTmFtZSA9IHRlcm1pbmFsLnRlcm1pbmFsVHlwZS5uYW1lO1xuICAgIHJldHVybiB0ZXJtaW5hbE5hbWUgKyB0ZXJtaW5hbC5pZHggKyBJTjtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZvbGxvdy5qcy5tYXAiLCJpbXBvcnQgeyBoYXNUb2tlbkxhYmVsLCB0b2tlbkxhYmVsIH0gZnJvbSBcIi4uL3NjYW4vdG9rZW5zX3B1YmxpY1wiO1xuaW1wb3J0ICogYXMgdXRpbHMgZnJvbSBcIi4uL3V0aWxzL3V0aWxzXCI7XG5pbXBvcnQgeyBmaXJzdCwgbWFwLCByZWR1Y2UgfSBmcm9tIFwiLi4vdXRpbHMvdXRpbHNcIjtcbmltcG9ydCB7IE5vblRlcm1pbmFsLCBSdWxlLCBUZXJtaW5hbCB9IGZyb20gXCIuL2dyYW1tYXIvZ2FzdC9nYXN0X3B1YmxpY1wiO1xuaW1wb3J0IHsgZ2V0UHJvZHVjdGlvbkRzbE5hbWUgfSBmcm9tIFwiLi9ncmFtbWFyL2dhc3QvZ2FzdFwiO1xuZXhwb3J0IHZhciBkZWZhdWx0UGFyc2VyRXJyb3JQcm92aWRlciA9IHtcbiAgICBidWlsZE1pc21hdGNoVG9rZW5NZXNzYWdlOiBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIGV4cGVjdGVkID0gX2EuZXhwZWN0ZWQsIGFjdHVhbCA9IF9hLmFjdHVhbCwgcHJldmlvdXMgPSBfYS5wcmV2aW91cywgcnVsZU5hbWUgPSBfYS5ydWxlTmFtZTtcbiAgICAgICAgdmFyIGhhc0xhYmVsID0gaGFzVG9rZW5MYWJlbChleHBlY3RlZCk7XG4gICAgICAgIHZhciBleHBlY3RlZE1zZyA9IGhhc0xhYmVsXG4gICAgICAgICAgICA/IFwiLS0+IFwiICsgdG9rZW5MYWJlbChleHBlY3RlZCkgKyBcIiA8LS1cIlxuICAgICAgICAgICAgOiBcInRva2VuIG9mIHR5cGUgLS0+IFwiICsgZXhwZWN0ZWQubmFtZSArIFwiIDwtLVwiO1xuICAgICAgICB2YXIgbXNnID0gXCJFeHBlY3RpbmcgXCIgKyBleHBlY3RlZE1zZyArIFwiIGJ1dCBmb3VuZCAtLT4gJ1wiICsgYWN0dWFsLmltYWdlICsgXCInIDwtLVwiO1xuICAgICAgICByZXR1cm4gbXNnO1xuICAgIH0sXG4gICAgYnVpbGROb3RBbGxJbnB1dFBhcnNlZE1lc3NhZ2U6IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgZmlyc3RSZWR1bmRhbnQgPSBfYS5maXJzdFJlZHVuZGFudCwgcnVsZU5hbWUgPSBfYS5ydWxlTmFtZTtcbiAgICAgICAgcmV0dXJuIFwiUmVkdW5kYW50IGlucHV0LCBleHBlY3RpbmcgRU9GIGJ1dCBmb3VuZDogXCIgKyBmaXJzdFJlZHVuZGFudC5pbWFnZTtcbiAgICB9LFxuICAgIGJ1aWxkTm9WaWFibGVBbHRNZXNzYWdlOiBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIGV4cGVjdGVkUGF0aHNQZXJBbHQgPSBfYS5leHBlY3RlZFBhdGhzUGVyQWx0LCBhY3R1YWwgPSBfYS5hY3R1YWwsIHByZXZpb3VzID0gX2EucHJldmlvdXMsIGN1c3RvbVVzZXJEZXNjcmlwdGlvbiA9IF9hLmN1c3RvbVVzZXJEZXNjcmlwdGlvbiwgcnVsZU5hbWUgPSBfYS5ydWxlTmFtZTtcbiAgICAgICAgdmFyIGVyclByZWZpeCA9IFwiRXhwZWN0aW5nOiBcIjtcbiAgICAgICAgLy8gVE9ETzogaXNzdWU6IE5vIFZpYWJsZSBBbHRlcm5hdGl2ZSBFcnJvciBtYXkgaGF2ZSBpbmNvbXBsZXRlIGRldGFpbHMuICM1MDJcbiAgICAgICAgdmFyIGFjdHVhbFRleHQgPSBmaXJzdChhY3R1YWwpLmltYWdlO1xuICAgICAgICB2YXIgZXJyU3VmZml4ID0gXCJcXG5idXQgZm91bmQ6ICdcIiArIGFjdHVhbFRleHQgKyBcIidcIjtcbiAgICAgICAgaWYgKGN1c3RvbVVzZXJEZXNjcmlwdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuIGVyclByZWZpeCArIGN1c3RvbVVzZXJEZXNjcmlwdGlvbiArIGVyclN1ZmZpeDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBhbGxMb29rQWhlYWRQYXRocyA9IHJlZHVjZShleHBlY3RlZFBhdGhzUGVyQWx0LCBmdW5jdGlvbiAocmVzdWx0LCBjdXJyQWx0UGF0aHMpIHsgcmV0dXJuIHJlc3VsdC5jb25jYXQoY3VyckFsdFBhdGhzKTsgfSwgW10pO1xuICAgICAgICAgICAgdmFyIG5leHRWYWxpZFRva2VuU2VxdWVuY2VzID0gbWFwKGFsbExvb2tBaGVhZFBhdGhzLCBmdW5jdGlvbiAoY3VyclBhdGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJbXCIgKyBtYXAoY3VyclBhdGgsIGZ1bmN0aW9uIChjdXJyVG9rZW5UeXBlKSB7IHJldHVybiB0b2tlbkxhYmVsKGN1cnJUb2tlblR5cGUpOyB9KS5qb2luKFwiLCBcIikgKyBcIl1cIjtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIG5leHRWYWxpZFNlcXVlbmNlSXRlbXMgPSBtYXAobmV4dFZhbGlkVG9rZW5TZXF1ZW5jZXMsIGZ1bmN0aW9uIChpdGVtTXNnLCBpZHgpIHsgcmV0dXJuIFwiICBcIiArIChpZHggKyAxKSArIFwiLiBcIiArIGl0ZW1Nc2c7IH0pO1xuICAgICAgICAgICAgdmFyIGNhbGN1bGF0ZWREZXNjcmlwdGlvbiA9IFwib25lIG9mIHRoZXNlIHBvc3NpYmxlIFRva2VuIHNlcXVlbmNlczpcXG5cIiArIG5leHRWYWxpZFNlcXVlbmNlSXRlbXMuam9pbihcIlxcblwiKTtcbiAgICAgICAgICAgIHJldHVybiBlcnJQcmVmaXggKyBjYWxjdWxhdGVkRGVzY3JpcHRpb24gKyBlcnJTdWZmaXg7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGJ1aWxkRWFybHlFeGl0TWVzc2FnZTogZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciBleHBlY3RlZEl0ZXJhdGlvblBhdGhzID0gX2EuZXhwZWN0ZWRJdGVyYXRpb25QYXRocywgYWN0dWFsID0gX2EuYWN0dWFsLCBjdXN0b21Vc2VyRGVzY3JpcHRpb24gPSBfYS5jdXN0b21Vc2VyRGVzY3JpcHRpb24sIHJ1bGVOYW1lID0gX2EucnVsZU5hbWU7XG4gICAgICAgIHZhciBlcnJQcmVmaXggPSBcIkV4cGVjdGluZzogXCI7XG4gICAgICAgIC8vIFRPRE86IGlzc3VlOiBObyBWaWFibGUgQWx0ZXJuYXRpdmUgRXJyb3IgbWF5IGhhdmUgaW5jb21wbGV0ZSBkZXRhaWxzLiAjNTAyXG4gICAgICAgIHZhciBhY3R1YWxUZXh0ID0gZmlyc3QoYWN0dWFsKS5pbWFnZTtcbiAgICAgICAgdmFyIGVyclN1ZmZpeCA9IFwiXFxuYnV0IGZvdW5kOiAnXCIgKyBhY3R1YWxUZXh0ICsgXCInXCI7XG4gICAgICAgIGlmIChjdXN0b21Vc2VyRGVzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIHJldHVybiBlcnJQcmVmaXggKyBjdXN0b21Vc2VyRGVzY3JpcHRpb24gKyBlcnJTdWZmaXg7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgbmV4dFZhbGlkVG9rZW5TZXF1ZW5jZXMgPSBtYXAoZXhwZWN0ZWRJdGVyYXRpb25QYXRocywgZnVuY3Rpb24gKGN1cnJQYXRoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiW1wiICsgbWFwKGN1cnJQYXRoLCBmdW5jdGlvbiAoY3VyclRva2VuVHlwZSkgeyByZXR1cm4gdG9rZW5MYWJlbChjdXJyVG9rZW5UeXBlKTsgfSkuam9pbihcIixcIikgKyBcIl1cIjtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIGNhbGN1bGF0ZWREZXNjcmlwdGlvbiA9IFwiZXhwZWN0aW5nIGF0IGxlYXN0IG9uZSBpdGVyYXRpb24gd2hpY2ggc3RhcnRzIHdpdGggb25lIG9mIHRoZXNlIHBvc3NpYmxlIFRva2VuIHNlcXVlbmNlczo6XFxuICBcIiArXG4gICAgICAgICAgICAgICAgKFwiPFwiICsgbmV4dFZhbGlkVG9rZW5TZXF1ZW5jZXMuam9pbihcIiAsXCIpICsgXCI+XCIpO1xuICAgICAgICAgICAgcmV0dXJuIGVyclByZWZpeCArIGNhbGN1bGF0ZWREZXNjcmlwdGlvbiArIGVyclN1ZmZpeDtcbiAgICAgICAgfVxuICAgIH1cbn07XG5PYmplY3QuZnJlZXplKGRlZmF1bHRQYXJzZXJFcnJvclByb3ZpZGVyKTtcbmV4cG9ydCB2YXIgZGVmYXVsdEdyYW1tYXJSZXNvbHZlckVycm9yUHJvdmlkZXIgPSB7XG4gICAgYnVpbGRSdWxlTm90Rm91bmRFcnJvcjogZnVuY3Rpb24gKHRvcExldmVsUnVsZSwgdW5kZWZpbmVkUnVsZSkge1xuICAgICAgICB2YXIgbXNnID0gXCJJbnZhbGlkIGdyYW1tYXIsIHJlZmVyZW5jZSB0byBhIHJ1bGUgd2hpY2ggaXMgbm90IGRlZmluZWQ6IC0+XCIgK1xuICAgICAgICAgICAgdW5kZWZpbmVkUnVsZS5ub25UZXJtaW5hbE5hbWUgK1xuICAgICAgICAgICAgXCI8LVxcblwiICtcbiAgICAgICAgICAgIFwiaW5zaWRlIHRvcCBsZXZlbCBydWxlOiAtPlwiICtcbiAgICAgICAgICAgIHRvcExldmVsUnVsZS5uYW1lICtcbiAgICAgICAgICAgIFwiPC1cIjtcbiAgICAgICAgcmV0dXJuIG1zZztcbiAgICB9XG59O1xuZXhwb3J0IHZhciBkZWZhdWx0R3JhbW1hclZhbGlkYXRvckVycm9yUHJvdmlkZXIgPSB7XG4gICAgYnVpbGREdXBsaWNhdGVGb3VuZEVycm9yOiBmdW5jdGlvbiAodG9wTGV2ZWxSdWxlLCBkdXBsaWNhdGVQcm9kcykge1xuICAgICAgICBmdW5jdGlvbiBnZXRFeHRyYVByb2R1Y3Rpb25Bcmd1bWVudChwcm9kKSB7XG4gICAgICAgICAgICBpZiAocHJvZCBpbnN0YW5jZW9mIFRlcm1pbmFsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb2QudGVybWluYWxUeXBlLm5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChwcm9kIGluc3RhbmNlb2YgTm9uVGVybWluYWwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvZC5ub25UZXJtaW5hbE5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgdG9wTGV2ZWxOYW1lID0gdG9wTGV2ZWxSdWxlLm5hbWU7XG4gICAgICAgIHZhciBkdXBsaWNhdGVQcm9kID0gZmlyc3QoZHVwbGljYXRlUHJvZHMpO1xuICAgICAgICB2YXIgaW5kZXggPSBkdXBsaWNhdGVQcm9kLmlkeDtcbiAgICAgICAgdmFyIGRzbE5hbWUgPSBnZXRQcm9kdWN0aW9uRHNsTmFtZShkdXBsaWNhdGVQcm9kKTtcbiAgICAgICAgdmFyIGV4dHJhQXJndW1lbnQgPSBnZXRFeHRyYVByb2R1Y3Rpb25Bcmd1bWVudChkdXBsaWNhdGVQcm9kKTtcbiAgICAgICAgdmFyIGhhc0V4cGxpY2l0SW5kZXggPSBpbmRleCA+IDA7XG4gICAgICAgIHZhciBtc2cgPSBcIi0+XCIgKyBkc2xOYW1lICsgKGhhc0V4cGxpY2l0SW5kZXggPyBpbmRleCA6IFwiXCIpICsgXCI8LSBcIiArIChleHRyYUFyZ3VtZW50ID8gXCJ3aXRoIGFyZ3VtZW50OiAtPlwiICsgZXh0cmFBcmd1bWVudCArIFwiPC1cIiA6IFwiXCIpICsgXCJcXG4gICAgICAgICAgICAgICAgICBhcHBlYXJzIG1vcmUgdGhhbiBvbmNlIChcIiArIGR1cGxpY2F0ZVByb2RzLmxlbmd0aCArIFwiIHRpbWVzKSBpbiB0aGUgdG9wIGxldmVsIHJ1bGU6IC0+XCIgKyB0b3BMZXZlbE5hbWUgKyBcIjwtLiAgICAgICAgICAgICAgICAgIFxcbiAgICAgICAgICAgICAgICAgIEZvciBmdXJ0aGVyIGRldGFpbHMgc2VlOiBodHRwczovL3NhcC5naXRodWIuaW8vY2hldnJvdGFpbi9kb2NzL0ZBUS5odG1sI05VTUVSSUNBTF9TVUZGSVhFUyBcXG4gICAgICAgICAgICAgICAgICBcIjtcbiAgICAgICAgLy8gd2hpdGUgc3BhY2UgdHJpbW1pbmcgdGltZSEgYmV0dGVyIHRvIHRyaW0gYWZ0ZXJ3YXJkcyBhcyBpdCBhbGxvd3MgdG8gdXNlIFdFTEwgZm9ybWF0dGVkIG11bHRpIGxpbmUgdGVtcGxhdGUgc3RyaW5ncy4uLlxuICAgICAgICBtc2cgPSBtc2cucmVwbGFjZSgvWyBcXHRdKy9nLCBcIiBcIik7XG4gICAgICAgIG1zZyA9IG1zZy5yZXBsYWNlKC9cXHNcXHMrL2csIFwiXFxuXCIpO1xuICAgICAgICByZXR1cm4gbXNnO1xuICAgIH0sXG4gICAgYnVpbGROYW1lc3BhY2VDb25mbGljdEVycm9yOiBmdW5jdGlvbiAocnVsZSkge1xuICAgICAgICB2YXIgZXJyTXNnID0gXCJOYW1lc3BhY2UgY29uZmxpY3QgZm91bmQgaW4gZ3JhbW1hci5cXG5cIiArXG4gICAgICAgICAgICAoXCJUaGUgZ3JhbW1hciBoYXMgYm90aCBhIFRlcm1pbmFsKFRva2VuKSBhbmQgYSBOb24tVGVybWluYWwoUnVsZSkgbmFtZWQ6IDxcIiArIHJ1bGUubmFtZSArIFwiPi5cXG5cIikgK1xuICAgICAgICAgICAgXCJUbyByZXNvbHZlIHRoaXMgbWFrZSBzdXJlIGVhY2ggVGVybWluYWwgYW5kIE5vbi1UZXJtaW5hbCBuYW1lcyBhcmUgdW5pcXVlXFxuXCIgK1xuICAgICAgICAgICAgXCJUaGlzIGlzIGVhc3kgdG8gYWNjb21wbGlzaCBieSB1c2luZyB0aGUgY29udmVudGlvbiB0aGF0IFRlcm1pbmFsIG5hbWVzIHN0YXJ0IHdpdGggYW4gdXBwZXJjYXNlIGxldHRlclxcblwiICtcbiAgICAgICAgICAgIFwiYW5kIE5vbi1UZXJtaW5hbCBuYW1lcyBzdGFydCB3aXRoIGEgbG93ZXIgY2FzZSBsZXR0ZXIuXCI7XG4gICAgICAgIHJldHVybiBlcnJNc2c7XG4gICAgfSxcbiAgICBidWlsZEFsdGVybmF0aW9uUHJlZml4QW1iaWd1aXR5RXJyb3I6IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHZhciBwYXRoTXNnID0gbWFwKG9wdGlvbnMucHJlZml4UGF0aCwgZnVuY3Rpb24gKGN1cnJUb2spIHtcbiAgICAgICAgICAgIHJldHVybiB0b2tlbkxhYmVsKGN1cnJUb2spO1xuICAgICAgICB9KS5qb2luKFwiLCBcIik7XG4gICAgICAgIHZhciBvY2N1cnJlbmNlID0gb3B0aW9ucy5hbHRlcm5hdGlvbi5pZHggPT09IDAgPyBcIlwiIDogb3B0aW9ucy5hbHRlcm5hdGlvbi5pZHg7XG4gICAgICAgIHZhciBlcnJNc2cgPSBcIkFtYmlndW91cyBhbHRlcm5hdGl2ZXM6IDxcIiArIG9wdGlvbnMuYW1iaWd1aXR5SW5kaWNlcy5qb2luKFwiICxcIikgKyBcIj4gZHVlIHRvIGNvbW1vbiBsb29rYWhlYWQgcHJlZml4XFxuXCIgK1xuICAgICAgICAgICAgKFwiaW4gPE9SXCIgKyBvY2N1cnJlbmNlICsgXCI+IGluc2lkZSA8XCIgKyBvcHRpb25zLnRvcExldmVsUnVsZS5uYW1lICsgXCI+IFJ1bGUsXFxuXCIpICtcbiAgICAgICAgICAgIChcIjxcIiArIHBhdGhNc2cgKyBcIj4gbWF5IGFwcGVhcnMgYXMgYSBwcmVmaXggcGF0aCBpbiBhbGwgdGhlc2UgYWx0ZXJuYXRpdmVzLlxcblwiKSArXG4gICAgICAgICAgICBcIlNlZTogaHR0cHM6Ly9zYXAuZ2l0aHViLmlvL2NoZXZyb3RhaW4vZG9jcy9ndWlkZS9yZXNvbHZpbmdfZ3JhbW1hcl9lcnJvcnMuaHRtbCNDT01NT05fUFJFRklYXFxuXCIgK1xuICAgICAgICAgICAgXCJGb3IgRnVydGhlciBkZXRhaWxzLlwiO1xuICAgICAgICByZXR1cm4gZXJyTXNnO1xuICAgIH0sXG4gICAgYnVpbGRBbHRlcm5hdGlvbkFtYmlndWl0eUVycm9yOiBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB2YXIgcGF0aE1zZyA9IG1hcChvcHRpb25zLnByZWZpeFBhdGgsIGZ1bmN0aW9uIChjdXJydG9rKSB7XG4gICAgICAgICAgICByZXR1cm4gdG9rZW5MYWJlbChjdXJydG9rKTtcbiAgICAgICAgfSkuam9pbihcIiwgXCIpO1xuICAgICAgICB2YXIgb2NjdXJyZW5jZSA9IG9wdGlvbnMuYWx0ZXJuYXRpb24uaWR4ID09PSAwID8gXCJcIiA6IG9wdGlvbnMuYWx0ZXJuYXRpb24uaWR4O1xuICAgICAgICB2YXIgY3Vyck1lc3NhZ2UgPSBcIkFtYmlndW91cyBBbHRlcm5hdGl2ZXMgRGV0ZWN0ZWQ6IDxcIiArIG9wdGlvbnMuYW1iaWd1aXR5SW5kaWNlcy5qb2luKFwiICxcIikgKyBcIj4gaW4gPE9SXCIgKyBvY2N1cnJlbmNlICsgXCI+XCIgK1xuICAgICAgICAgICAgKFwiIGluc2lkZSA8XCIgKyBvcHRpb25zLnRvcExldmVsUnVsZS5uYW1lICsgXCI+IFJ1bGUsXFxuXCIpICtcbiAgICAgICAgICAgIChcIjxcIiArIHBhdGhNc2cgKyBcIj4gbWF5IGFwcGVhcnMgYXMgYSBwcmVmaXggcGF0aCBpbiBhbGwgdGhlc2UgYWx0ZXJuYXRpdmVzLlxcblwiKTtcbiAgICAgICAgY3Vyck1lc3NhZ2UgPVxuICAgICAgICAgICAgY3Vyck1lc3NhZ2UgK1xuICAgICAgICAgICAgICAgIFwiU2VlOiBodHRwczovL3NhcC5naXRodWIuaW8vY2hldnJvdGFpbi9kb2NzL2d1aWRlL3Jlc29sdmluZ19ncmFtbWFyX2Vycm9ycy5odG1sI0FNQklHVU9VU19BTFRFUk5BVElWRVNcXG5cIiArXG4gICAgICAgICAgICAgICAgXCJGb3IgRnVydGhlciBkZXRhaWxzLlwiO1xuICAgICAgICByZXR1cm4gY3Vyck1lc3NhZ2U7XG4gICAgfSxcbiAgICBidWlsZEVtcHR5UmVwZXRpdGlvbkVycm9yOiBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB2YXIgZHNsTmFtZSA9IGdldFByb2R1Y3Rpb25Ec2xOYW1lKG9wdGlvbnMucmVwZXRpdGlvbik7XG4gICAgICAgIGlmIChvcHRpb25zLnJlcGV0aXRpb24uaWR4ICE9PSAwKSB7XG4gICAgICAgICAgICBkc2xOYW1lICs9IG9wdGlvbnMucmVwZXRpdGlvbi5pZHg7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGVyck1zZyA9IFwiVGhlIHJlcGV0aXRpb24gPFwiICsgZHNsTmFtZSArIFwiPiB3aXRoaW4gUnVsZSA8XCIgKyBvcHRpb25zLnRvcExldmVsUnVsZS5uYW1lICsgXCI+IGNhbiBuZXZlciBjb25zdW1lIGFueSB0b2tlbnMuXFxuXCIgK1xuICAgICAgICAgICAgXCJUaGlzIGNvdWxkIGxlYWQgdG8gYW4gaW5maW5pdGUgbG9vcC5cIjtcbiAgICAgICAgcmV0dXJuIGVyck1zZztcbiAgICB9LFxuICAgIGJ1aWxkVG9rZW5OYW1lRXJyb3I6IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHZhciB0b2tUeXBlTmFtZSA9IG9wdGlvbnMudG9rZW5UeXBlLm5hbWU7XG4gICAgICAgIHZhciBlcnJNc2cgPSBcIkludmFsaWQgR3JhbW1hciBUb2tlbiBuYW1lOiAtPlwiICsgdG9rVHlwZU5hbWUgKyBcIjwtIGl0IG11c3QgbWF0Y2ggdGhlIHBhdHRlcm46IC0+XCIgKyBvcHRpb25zLmV4cGVjdGVkUGF0dGVybi50b1N0cmluZygpICsgXCI8LVwiO1xuICAgICAgICByZXR1cm4gZXJyTXNnO1xuICAgIH0sXG4gICAgYnVpbGRFbXB0eUFsdGVybmF0aW9uRXJyb3I6IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHZhciBlcnJNc2cgPSBcIkFtYmlndW91cyBlbXB0eSBhbHRlcm5hdGl2ZTogPFwiICsgKG9wdGlvbnMuZW1wdHlDaG9pY2VJZHggKyAxKSArIFwiPlwiICtcbiAgICAgICAgICAgIChcIiBpbiA8T1JcIiArIG9wdGlvbnMuYWx0ZXJuYXRpb24uaWR4ICsgXCI+IGluc2lkZSA8XCIgKyBvcHRpb25zLnRvcExldmVsUnVsZS5uYW1lICsgXCI+IFJ1bGUuXFxuXCIpICtcbiAgICAgICAgICAgIFwiT25seSB0aGUgbGFzdCBhbHRlcm5hdGl2ZSBtYXkgYmUgYW4gZW1wdHkgYWx0ZXJuYXRpdmUuXCI7XG4gICAgICAgIHJldHVybiBlcnJNc2c7XG4gICAgfSxcbiAgICBidWlsZFRvb01hbnlBbHRlcm5hdGl2ZXNFcnJvcjogZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGVyck1zZyA9IFwiQW4gQWx0ZXJuYXRpb24gY2Fubm90IGhhdmUgbW9yZSB0aGFuIDI1NiBhbHRlcm5hdGl2ZXM6XFxuXCIgK1xuICAgICAgICAgICAgKFwiPE9SXCIgKyBvcHRpb25zLmFsdGVybmF0aW9uLmlkeCArIFwiPiBpbnNpZGUgPFwiICsgb3B0aW9ucy50b3BMZXZlbFJ1bGUubmFtZSArIFwiPiBSdWxlLlxcbiBoYXMgXCIgKyAob3B0aW9ucy5hbHRlcm5hdGlvbi5kZWZpbml0aW9uLmxlbmd0aCArIDEpICsgXCIgYWx0ZXJuYXRpdmVzLlwiKTtcbiAgICAgICAgcmV0dXJuIGVyck1zZztcbiAgICB9LFxuICAgIGJ1aWxkTGVmdFJlY3Vyc2lvbkVycm9yOiBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB2YXIgcnVsZU5hbWUgPSBvcHRpb25zLnRvcExldmVsUnVsZS5uYW1lO1xuICAgICAgICB2YXIgcGF0aE5hbWVzID0gdXRpbHMubWFwKG9wdGlvbnMubGVmdFJlY3Vyc2lvblBhdGgsIGZ1bmN0aW9uIChjdXJyUnVsZSkgeyByZXR1cm4gY3VyclJ1bGUubmFtZTsgfSk7XG4gICAgICAgIHZhciBsZWZ0UmVjdXJzaXZlUGF0aCA9IHJ1bGVOYW1lICsgXCIgLS0+IFwiICsgcGF0aE5hbWVzXG4gICAgICAgICAgICAuY29uY2F0KFtydWxlTmFtZV0pXG4gICAgICAgICAgICAuam9pbihcIiAtLT4gXCIpO1xuICAgICAgICB2YXIgZXJyTXNnID0gXCJMZWZ0IFJlY3Vyc2lvbiBmb3VuZCBpbiBncmFtbWFyLlxcblwiICtcbiAgICAgICAgICAgIChcInJ1bGU6IDxcIiArIHJ1bGVOYW1lICsgXCI+IGNhbiBiZSBpbnZva2VkIGZyb20gaXRzZWxmIChkaXJlY3RseSBvciBpbmRpcmVjdGx5KVxcblwiKSArXG4gICAgICAgICAgICAoXCJ3aXRob3V0IGNvbnN1bWluZyBhbnkgVG9rZW5zLiBUaGUgZ3JhbW1hciBwYXRoIHRoYXQgY2F1c2VzIHRoaXMgaXM6IFxcbiBcIiArIGxlZnRSZWN1cnNpdmVQYXRoICsgXCJcXG5cIikgK1xuICAgICAgICAgICAgXCIgVG8gZml4IHRoaXMgcmVmYWN0b3IgeW91ciBncmFtbWFyIHRvIHJlbW92ZSB0aGUgbGVmdCByZWN1cnNpb24uXFxuXCIgK1xuICAgICAgICAgICAgXCJzZWU6IGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xMX3BhcnNlciNMZWZ0X0ZhY3RvcmluZy5cIjtcbiAgICAgICAgcmV0dXJuIGVyck1zZztcbiAgICB9LFxuICAgIGJ1aWxkSW52YWxpZFJ1bGVOYW1lRXJyb3I6IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHZhciBydWxlTmFtZSA9IG9wdGlvbnMudG9wTGV2ZWxSdWxlLm5hbWU7XG4gICAgICAgIHZhciBleHBlY3RlZFBhdHRlcm5TdHJpbmcgPSBvcHRpb25zLmV4cGVjdGVkUGF0dGVybi50b1N0cmluZygpO1xuICAgICAgICB2YXIgZXJyTXNnID0gXCJJbnZhbGlkIGdyYW1tYXIgcnVsZSBuYW1lOiAtPlwiICsgcnVsZU5hbWUgKyBcIjwtIGl0IG11c3QgbWF0Y2ggdGhlIHBhdHRlcm46IC0+XCIgKyBleHBlY3RlZFBhdHRlcm5TdHJpbmcgKyBcIjwtXCI7XG4gICAgICAgIHJldHVybiBlcnJNc2c7XG4gICAgfSxcbiAgICBidWlsZER1cGxpY2F0ZVJ1bGVOYW1lRXJyb3I6IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHZhciBydWxlTmFtZTtcbiAgICAgICAgaWYgKG9wdGlvbnMudG9wTGV2ZWxSdWxlIGluc3RhbmNlb2YgUnVsZSkge1xuICAgICAgICAgICAgcnVsZU5hbWUgPSBvcHRpb25zLnRvcExldmVsUnVsZS5uYW1lO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcnVsZU5hbWUgPSBvcHRpb25zLnRvcExldmVsUnVsZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZXJyTXNnID0gXCJEdXBsaWNhdGUgZGVmaW5pdGlvbiwgcnVsZTogLT5cIiArIHJ1bGVOYW1lICsgXCI8LSBpcyBhbHJlYWR5IGRlZmluZWQgaW4gdGhlIGdyYW1tYXI6IC0+XCIgKyBvcHRpb25zLmdyYW1tYXJOYW1lICsgXCI8LVwiO1xuICAgICAgICByZXR1cm4gZXJyTXNnO1xuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lcnJvcnNfcHVibGljLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0IHsgUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZSB9IGZyb20gXCIuLi9wYXJzZXIvcGFyc2VyXCI7XG5pbXBvcnQgeyBmb3JFYWNoLCB2YWx1ZXMgfSBmcm9tIFwiLi4vLi4vdXRpbHMvdXRpbHNcIjtcbmltcG9ydCB7IEdBc3RWaXNpdG9yIH0gZnJvbSBcIi4vZ2FzdC9nYXN0X3Zpc2l0b3JfcHVibGljXCI7XG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZUdyYW1tYXIodG9wTGV2ZWxzLCBlcnJNc2dQcm92aWRlcikge1xuICAgIHZhciByZWZSZXNvbHZlciA9IG5ldyBHYXN0UmVmUmVzb2x2ZXJWaXNpdG9yKHRvcExldmVscywgZXJyTXNnUHJvdmlkZXIpO1xuICAgIHJlZlJlc29sdmVyLnJlc29sdmVSZWZzKCk7XG4gICAgcmV0dXJuIHJlZlJlc29sdmVyLmVycm9ycztcbn1cbnZhciBHYXN0UmVmUmVzb2x2ZXJWaXNpdG9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhHYXN0UmVmUmVzb2x2ZXJWaXNpdG9yLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEdhc3RSZWZSZXNvbHZlclZpc2l0b3IobmFtZVRvVG9wUnVsZSwgZXJyTXNnUHJvdmlkZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMubmFtZVRvVG9wUnVsZSA9IG5hbWVUb1RvcFJ1bGU7XG4gICAgICAgIF90aGlzLmVyck1zZ1Byb3ZpZGVyID0gZXJyTXNnUHJvdmlkZXI7XG4gICAgICAgIF90aGlzLmVycm9ycyA9IFtdO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEdhc3RSZWZSZXNvbHZlclZpc2l0b3IucHJvdG90eXBlLnJlc29sdmVSZWZzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBmb3JFYWNoKHZhbHVlcyh0aGlzLm5hbWVUb1RvcFJ1bGUpLCBmdW5jdGlvbiAocHJvZCkge1xuICAgICAgICAgICAgX3RoaXMuY3VyclRvcExldmVsID0gcHJvZDtcbiAgICAgICAgICAgIHByb2QuYWNjZXB0KF90aGlzKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBHYXN0UmVmUmVzb2x2ZXJWaXNpdG9yLnByb3RvdHlwZS52aXNpdE5vblRlcm1pbmFsID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgdmFyIHJlZiA9IHRoaXMubmFtZVRvVG9wUnVsZVtub2RlLm5vblRlcm1pbmFsTmFtZV07XG4gICAgICAgIGlmICghcmVmKSB7XG4gICAgICAgICAgICB2YXIgbXNnID0gdGhpcy5lcnJNc2dQcm92aWRlci5idWlsZFJ1bGVOb3RGb3VuZEVycm9yKHRoaXMuY3VyclRvcExldmVsLCBub2RlKTtcbiAgICAgICAgICAgIHRoaXMuZXJyb3JzLnB1c2goe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG1zZyxcbiAgICAgICAgICAgICAgICB0eXBlOiBQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlLlVOUkVTT0xWRURfU1VCUlVMRV9SRUYsXG4gICAgICAgICAgICAgICAgcnVsZU5hbWU6IHRoaXMuY3VyclRvcExldmVsLm5hbWUsXG4gICAgICAgICAgICAgICAgdW5yZXNvbHZlZFJlZk5hbWU6IG5vZGUubm9uVGVybWluYWxOYW1lXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG5vZGUucmVmZXJlbmNlZFJ1bGUgPSByZWY7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBHYXN0UmVmUmVzb2x2ZXJWaXNpdG9yO1xufShHQXN0VmlzaXRvcikpO1xuZXhwb3J0IHsgR2FzdFJlZlJlc29sdmVyVmlzaXRvciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVzb2x2ZXIuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5pbXBvcnQgeyBSZXN0V2Fsa2VyIH0gZnJvbSBcIi4vcmVzdFwiO1xuaW1wb3J0IHsgY2xvbmVBcnIsIGRyb3AsIGRyb3BSaWdodCwgZmlyc3QgYXMgX2ZpcnN0LCBmb3JFYWNoLCBpc0VtcHR5LCBsYXN0IH0gZnJvbSBcIi4uLy4uL3V0aWxzL3V0aWxzXCI7XG5pbXBvcnQgeyBmaXJzdCB9IGZyb20gXCIuL2ZpcnN0XCI7XG5pbXBvcnQgeyBBbHRlcm5hdGlvbiwgQWx0ZXJuYXRpdmUsIE5vblRlcm1pbmFsLCBPcHRpb24sIFJlcGV0aXRpb24sIFJlcGV0aXRpb25NYW5kYXRvcnksIFJlcGV0aXRpb25NYW5kYXRvcnlXaXRoU2VwYXJhdG9yLCBSZXBldGl0aW9uV2l0aFNlcGFyYXRvciwgUnVsZSwgVGVybWluYWwgfSBmcm9tIFwiLi9nYXN0L2dhc3RfcHVibGljXCI7XG52YXIgQWJzdHJhY3ROZXh0UG9zc2libGVUb2tlbnNXYWxrZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEFic3RyYWN0TmV4dFBvc3NpYmxlVG9rZW5zV2Fsa2VyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEFic3RyYWN0TmV4dFBvc3NpYmxlVG9rZW5zV2Fsa2VyKHRvcFByb2QsIHBhdGgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMudG9wUHJvZCA9IHRvcFByb2Q7XG4gICAgICAgIF90aGlzLnBhdGggPSBwYXRoO1xuICAgICAgICBfdGhpcy5wb3NzaWJsZVRva1R5cGVzID0gW107XG4gICAgICAgIF90aGlzLm5leHRQcm9kdWN0aW9uTmFtZSA9IFwiXCI7XG4gICAgICAgIF90aGlzLm5leHRQcm9kdWN0aW9uT2NjdXJyZW5jZSA9IDA7XG4gICAgICAgIF90aGlzLmZvdW5kID0gZmFsc2U7XG4gICAgICAgIF90aGlzLmlzQXRFbmRPZlBhdGggPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBBYnN0cmFjdE5leHRQb3NzaWJsZVRva2Vuc1dhbGtlci5wcm90b3R5cGUuc3RhcnRXYWxraW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmZvdW5kID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLnBhdGgucnVsZVN0YWNrWzBdICE9PSB0aGlzLnRvcFByb2QubmFtZSkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJUaGUgcGF0aCBkb2VzIG5vdCBzdGFydCB3aXRoIHRoZSB3YWxrZXIncyB0b3AgUnVsZSFcIik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaW1tdXRhYmxlIGZvciB0aGUgd2luXG4gICAgICAgIHRoaXMucnVsZVN0YWNrID0gY2xvbmVBcnIodGhpcy5wYXRoLnJ1bGVTdGFjaykucmV2ZXJzZSgpOyAvLyBpbnRlbGlqIGJ1ZyByZXF1aXJlcyBhc3NlcnRpb25cbiAgICAgICAgdGhpcy5vY2N1cnJlbmNlU3RhY2sgPSBjbG9uZUFycih0aGlzLnBhdGgub2NjdXJyZW5jZVN0YWNrKS5yZXZlcnNlKCk7IC8vIGludGVsaWogYnVnIHJlcXVpcmVzIGFzc2VydGlvblxuICAgICAgICAvLyBhbHJlYWR5IHZlcmlmaWVkIHRoYXQgdGhlIGZpcnN0IHByb2R1Y3Rpb24gaXMgdmFsaWQsIHdlIG5vdyBzZWVrIHRoZSAybmQgcHJvZHVjdGlvblxuICAgICAgICB0aGlzLnJ1bGVTdGFjay5wb3AoKTtcbiAgICAgICAgdGhpcy5vY2N1cnJlbmNlU3RhY2sucG9wKCk7XG4gICAgICAgIHRoaXMudXBkYXRlRXhwZWN0ZWROZXh0KCk7XG4gICAgICAgIHRoaXMud2Fsayh0aGlzLnRvcFByb2QpO1xuICAgICAgICByZXR1cm4gdGhpcy5wb3NzaWJsZVRva1R5cGVzO1xuICAgIH07XG4gICAgQWJzdHJhY3ROZXh0UG9zc2libGVUb2tlbnNXYWxrZXIucHJvdG90eXBlLndhbGsgPSBmdW5jdGlvbiAocHJvZCwgcHJldlJlc3QpIHtcbiAgICAgICAgaWYgKHByZXZSZXN0ID09PSB2b2lkIDApIHsgcHJldlJlc3QgPSBbXTsgfVxuICAgICAgICAvLyBzdG9wIHNjYW5uaW5nIG9uY2Ugd2UgZm91bmQgdGhlIHBhdGhcbiAgICAgICAgaWYgKCF0aGlzLmZvdW5kKSB7XG4gICAgICAgICAgICBfc3VwZXIucHJvdG90eXBlLndhbGsuY2FsbCh0aGlzLCBwcm9kLCBwcmV2UmVzdCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFic3RyYWN0TmV4dFBvc3NpYmxlVG9rZW5zV2Fsa2VyLnByb3RvdHlwZS53YWxrUHJvZFJlZiA9IGZ1bmN0aW9uIChyZWZQcm9kLCBjdXJyUmVzdCwgcHJldlJlc3QpIHtcbiAgICAgICAgLy8gZm91bmQgdGhlIG5leHQgcHJvZHVjdGlvbiwgbmVlZCB0byBrZWVwIHdhbGtpbmcgaW4gaXRcbiAgICAgICAgaWYgKHJlZlByb2QucmVmZXJlbmNlZFJ1bGUubmFtZSA9PT0gdGhpcy5uZXh0UHJvZHVjdGlvbk5hbWUgJiZcbiAgICAgICAgICAgIHJlZlByb2QuaWR4ID09PSB0aGlzLm5leHRQcm9kdWN0aW9uT2NjdXJyZW5jZSkge1xuICAgICAgICAgICAgdmFyIGZ1bGxSZXN0ID0gY3VyclJlc3QuY29uY2F0KHByZXZSZXN0KTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlRXhwZWN0ZWROZXh0KCk7XG4gICAgICAgICAgICB0aGlzLndhbGsocmVmUHJvZC5yZWZlcmVuY2VkUnVsZSwgZnVsbFJlc3QpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBBYnN0cmFjdE5leHRQb3NzaWJsZVRva2Vuc1dhbGtlci5wcm90b3R5cGUudXBkYXRlRXhwZWN0ZWROZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBuZWVkIHRvIGNvbnN1bWUgdGhlIFRlcm1pbmFsXG4gICAgICAgIGlmIChpc0VtcHR5KHRoaXMucnVsZVN0YWNrKSkge1xuICAgICAgICAgICAgLy8gbXVzdCByZXNldCBuZXh0UHJvZHVjdGlvblhYWCB0byBhdm9pZCB3YWxraW5nIGRvd24gYW5vdGhlciBUb3AgTGV2ZWwgcHJvZHVjdGlvbiB3aGlsZSB3aGF0IHdlIGFyZVxuICAgICAgICAgICAgLy8gcmVhbGx5IHNlZWtpbmcgaXMgdGhlIGxhc3QgVGVybWluYWwuLi5cbiAgICAgICAgICAgIHRoaXMubmV4dFByb2R1Y3Rpb25OYW1lID0gXCJcIjtcbiAgICAgICAgICAgIHRoaXMubmV4dFByb2R1Y3Rpb25PY2N1cnJlbmNlID0gMDtcbiAgICAgICAgICAgIHRoaXMuaXNBdEVuZE9mUGF0aCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm5leHRQcm9kdWN0aW9uTmFtZSA9IHRoaXMucnVsZVN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgdGhpcy5uZXh0UHJvZHVjdGlvbk9jY3VycmVuY2UgPSB0aGlzLm9jY3VycmVuY2VTdGFjay5wb3AoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEFic3RyYWN0TmV4dFBvc3NpYmxlVG9rZW5zV2Fsa2VyO1xufShSZXN0V2Fsa2VyKSk7XG5leHBvcnQgeyBBYnN0cmFjdE5leHRQb3NzaWJsZVRva2Vuc1dhbGtlciB9O1xudmFyIE5leHRBZnRlclRva2VuV2Fsa2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhOZXh0QWZ0ZXJUb2tlbldhbGtlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBOZXh0QWZ0ZXJUb2tlbldhbGtlcih0b3BQcm9kLCBwYXRoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHRvcFByb2QsIHBhdGgpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnBhdGggPSBwYXRoO1xuICAgICAgICBfdGhpcy5uZXh0VGVybWluYWxOYW1lID0gXCJcIjtcbiAgICAgICAgX3RoaXMubmV4dFRlcm1pbmFsT2NjdXJyZW5jZSA9IDA7XG4gICAgICAgIF90aGlzLm5leHRUZXJtaW5hbE5hbWUgPSBfdGhpcy5wYXRoLmxhc3RUb2submFtZTtcbiAgICAgICAgX3RoaXMubmV4dFRlcm1pbmFsT2NjdXJyZW5jZSA9IF90aGlzLnBhdGgubGFzdFRva09jY3VycmVuY2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgTmV4dEFmdGVyVG9rZW5XYWxrZXIucHJvdG90eXBlLndhbGtUZXJtaW5hbCA9IGZ1bmN0aW9uICh0ZXJtaW5hbCwgY3VyclJlc3QsIHByZXZSZXN0KSB7XG4gICAgICAgIGlmICh0aGlzLmlzQXRFbmRPZlBhdGggJiZcbiAgICAgICAgICAgIHRlcm1pbmFsLnRlcm1pbmFsVHlwZS5uYW1lID09PSB0aGlzLm5leHRUZXJtaW5hbE5hbWUgJiZcbiAgICAgICAgICAgIHRlcm1pbmFsLmlkeCA9PT0gdGhpcy5uZXh0VGVybWluYWxPY2N1cnJlbmNlICYmXG4gICAgICAgICAgICAhdGhpcy5mb3VuZCkge1xuICAgICAgICAgICAgdmFyIGZ1bGxSZXN0ID0gY3VyclJlc3QuY29uY2F0KHByZXZSZXN0KTtcbiAgICAgICAgICAgIHZhciByZXN0UHJvZCA9IG5ldyBBbHRlcm5hdGl2ZSh7IGRlZmluaXRpb246IGZ1bGxSZXN0IH0pO1xuICAgICAgICAgICAgdGhpcy5wb3NzaWJsZVRva1R5cGVzID0gZmlyc3QocmVzdFByb2QpO1xuICAgICAgICAgICAgdGhpcy5mb3VuZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBOZXh0QWZ0ZXJUb2tlbldhbGtlcjtcbn0oQWJzdHJhY3ROZXh0UG9zc2libGVUb2tlbnNXYWxrZXIpKTtcbmV4cG9ydCB7IE5leHRBZnRlclRva2VuV2Fsa2VyIH07XG4vKipcbiAqIFRoaXMgd2Fsa2VyIG9ubHkgXCJ3YWxrc1wiIGEgc2luZ2xlIFwiVE9QXCIgbGV2ZWwgaW4gdGhlIEdyYW1tYXIgQXN0LCB0aGlzIG1lYW5zXG4gKiBpdCBuZXZlciBcImZvbGxvd3NcIiBwcm9kdWN0aW9uIHJlZnNcbiAqL1xudmFyIEFic3RyYWN0TmV4dFRlcm1pbmFsQWZ0ZXJQcm9kdWN0aW9uV2Fsa2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhBYnN0cmFjdE5leHRUZXJtaW5hbEFmdGVyUHJvZHVjdGlvbldhbGtlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBYnN0cmFjdE5leHRUZXJtaW5hbEFmdGVyUHJvZHVjdGlvbldhbGtlcih0b3BSdWxlLCBvY2N1cnJlbmNlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnRvcFJ1bGUgPSB0b3BSdWxlO1xuICAgICAgICBfdGhpcy5vY2N1cnJlbmNlID0gb2NjdXJyZW5jZTtcbiAgICAgICAgX3RoaXMucmVzdWx0ID0ge1xuICAgICAgICAgICAgdG9rZW46IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIG9jY3VycmVuY2U6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGlzRW5kT2ZSdWxlOiB1bmRlZmluZWRcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBBYnN0cmFjdE5leHRUZXJtaW5hbEFmdGVyUHJvZHVjdGlvbldhbGtlci5wcm90b3R5cGUuc3RhcnRXYWxraW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLndhbGsodGhpcy50b3BSdWxlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzdWx0O1xuICAgIH07XG4gICAgcmV0dXJuIEFic3RyYWN0TmV4dFRlcm1pbmFsQWZ0ZXJQcm9kdWN0aW9uV2Fsa2VyO1xufShSZXN0V2Fsa2VyKSk7XG5leHBvcnQgeyBBYnN0cmFjdE5leHRUZXJtaW5hbEFmdGVyUHJvZHVjdGlvbldhbGtlciB9O1xudmFyIE5leHRUZXJtaW5hbEFmdGVyTWFueVdhbGtlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTmV4dFRlcm1pbmFsQWZ0ZXJNYW55V2Fsa2VyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE5leHRUZXJtaW5hbEFmdGVyTWFueVdhbGtlcigpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBOZXh0VGVybWluYWxBZnRlck1hbnlXYWxrZXIucHJvdG90eXBlLndhbGtNYW55ID0gZnVuY3Rpb24gKG1hbnlQcm9kLCBjdXJyUmVzdCwgcHJldlJlc3QpIHtcbiAgICAgICAgaWYgKG1hbnlQcm9kLmlkeCA9PT0gdGhpcy5vY2N1cnJlbmNlKSB7XG4gICAgICAgICAgICB2YXIgZmlyc3RBZnRlck1hbnkgPSBfZmlyc3QoY3VyclJlc3QuY29uY2F0KHByZXZSZXN0KSk7XG4gICAgICAgICAgICB0aGlzLnJlc3VsdC5pc0VuZE9mUnVsZSA9IGZpcnN0QWZ0ZXJNYW55ID09PSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBpZiAoZmlyc3RBZnRlck1hbnkgaW5zdGFuY2VvZiBUZXJtaW5hbCkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVzdWx0LnRva2VuID0gZmlyc3RBZnRlck1hbnkudGVybWluYWxUeXBlO1xuICAgICAgICAgICAgICAgIHRoaXMucmVzdWx0Lm9jY3VycmVuY2UgPSBmaXJzdEFmdGVyTWFueS5pZHg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBfc3VwZXIucHJvdG90eXBlLndhbGtNYW55LmNhbGwodGhpcywgbWFueVByb2QsIGN1cnJSZXN0LCBwcmV2UmVzdCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBOZXh0VGVybWluYWxBZnRlck1hbnlXYWxrZXI7XG59KEFic3RyYWN0TmV4dFRlcm1pbmFsQWZ0ZXJQcm9kdWN0aW9uV2Fsa2VyKSk7XG5leHBvcnQgeyBOZXh0VGVybWluYWxBZnRlck1hbnlXYWxrZXIgfTtcbnZhciBOZXh0VGVybWluYWxBZnRlck1hbnlTZXBXYWxrZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE5leHRUZXJtaW5hbEFmdGVyTWFueVNlcFdhbGtlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBOZXh0VGVybWluYWxBZnRlck1hbnlTZXBXYWxrZXIoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgTmV4dFRlcm1pbmFsQWZ0ZXJNYW55U2VwV2Fsa2VyLnByb3RvdHlwZS53YWxrTWFueVNlcCA9IGZ1bmN0aW9uIChtYW55U2VwUHJvZCwgY3VyclJlc3QsIHByZXZSZXN0KSB7XG4gICAgICAgIGlmIChtYW55U2VwUHJvZC5pZHggPT09IHRoaXMub2NjdXJyZW5jZSkge1xuICAgICAgICAgICAgdmFyIGZpcnN0QWZ0ZXJNYW55U2VwID0gX2ZpcnN0KGN1cnJSZXN0LmNvbmNhdChwcmV2UmVzdCkpO1xuICAgICAgICAgICAgdGhpcy5yZXN1bHQuaXNFbmRPZlJ1bGUgPSBmaXJzdEFmdGVyTWFueVNlcCA9PT0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgaWYgKGZpcnN0QWZ0ZXJNYW55U2VwIGluc3RhbmNlb2YgVGVybWluYWwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc3VsdC50b2tlbiA9IGZpcnN0QWZ0ZXJNYW55U2VwLnRlcm1pbmFsVHlwZTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc3VsdC5vY2N1cnJlbmNlID0gZmlyc3RBZnRlck1hbnlTZXAuaWR4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgX3N1cGVyLnByb3RvdHlwZS53YWxrTWFueVNlcC5jYWxsKHRoaXMsIG1hbnlTZXBQcm9kLCBjdXJyUmVzdCwgcHJldlJlc3QpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gTmV4dFRlcm1pbmFsQWZ0ZXJNYW55U2VwV2Fsa2VyO1xufShBYnN0cmFjdE5leHRUZXJtaW5hbEFmdGVyUHJvZHVjdGlvbldhbGtlcikpO1xuZXhwb3J0IHsgTmV4dFRlcm1pbmFsQWZ0ZXJNYW55U2VwV2Fsa2VyIH07XG52YXIgTmV4dFRlcm1pbmFsQWZ0ZXJBdExlYXN0T25lV2Fsa2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhOZXh0VGVybWluYWxBZnRlckF0TGVhc3RPbmVXYWxrZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gTmV4dFRlcm1pbmFsQWZ0ZXJBdExlYXN0T25lV2Fsa2VyKCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgfVxuICAgIE5leHRUZXJtaW5hbEFmdGVyQXRMZWFzdE9uZVdhbGtlci5wcm90b3R5cGUud2Fsa0F0TGVhc3RPbmUgPSBmdW5jdGlvbiAoYXRMZWFzdE9uZVByb2QsIGN1cnJSZXN0LCBwcmV2UmVzdCkge1xuICAgICAgICBpZiAoYXRMZWFzdE9uZVByb2QuaWR4ID09PSB0aGlzLm9jY3VycmVuY2UpIHtcbiAgICAgICAgICAgIHZhciBmaXJzdEFmdGVyQXRMZWFzdE9uZSA9IF9maXJzdChjdXJyUmVzdC5jb25jYXQocHJldlJlc3QpKTtcbiAgICAgICAgICAgIHRoaXMucmVzdWx0LmlzRW5kT2ZSdWxlID0gZmlyc3RBZnRlckF0TGVhc3RPbmUgPT09IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmIChmaXJzdEFmdGVyQXRMZWFzdE9uZSBpbnN0YW5jZW9mIFRlcm1pbmFsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXN1bHQudG9rZW4gPSBmaXJzdEFmdGVyQXRMZWFzdE9uZS50ZXJtaW5hbFR5cGU7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXN1bHQub2NjdXJyZW5jZSA9IGZpcnN0QWZ0ZXJBdExlYXN0T25lLmlkeDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIF9zdXBlci5wcm90b3R5cGUud2Fsa0F0TGVhc3RPbmUuY2FsbCh0aGlzLCBhdExlYXN0T25lUHJvZCwgY3VyclJlc3QsIHByZXZSZXN0KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIE5leHRUZXJtaW5hbEFmdGVyQXRMZWFzdE9uZVdhbGtlcjtcbn0oQWJzdHJhY3ROZXh0VGVybWluYWxBZnRlclByb2R1Y3Rpb25XYWxrZXIpKTtcbmV4cG9ydCB7IE5leHRUZXJtaW5hbEFmdGVyQXRMZWFzdE9uZVdhbGtlciB9O1xuLy8gVE9ETzogcmVkdWNlIGNvZGUgZHVwbGljYXRpb24gaW4gdGhlIEFmdGVyV2Fsa2Vyc1xudmFyIE5leHRUZXJtaW5hbEFmdGVyQXRMZWFzdE9uZVNlcFdhbGtlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTmV4dFRlcm1pbmFsQWZ0ZXJBdExlYXN0T25lU2VwV2Fsa2VyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE5leHRUZXJtaW5hbEFmdGVyQXRMZWFzdE9uZVNlcFdhbGtlcigpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBOZXh0VGVybWluYWxBZnRlckF0TGVhc3RPbmVTZXBXYWxrZXIucHJvdG90eXBlLndhbGtBdExlYXN0T25lU2VwID0gZnVuY3Rpb24gKGF0bGVhc3RPbmVTZXBQcm9kLCBjdXJyUmVzdCwgcHJldlJlc3QpIHtcbiAgICAgICAgaWYgKGF0bGVhc3RPbmVTZXBQcm9kLmlkeCA9PT0gdGhpcy5vY2N1cnJlbmNlKSB7XG4gICAgICAgICAgICB2YXIgZmlyc3RBZnRlcmZpcnN0QWZ0ZXJBdExlYXN0T25lU2VwID0gX2ZpcnN0KGN1cnJSZXN0LmNvbmNhdChwcmV2UmVzdCkpO1xuICAgICAgICAgICAgdGhpcy5yZXN1bHQuaXNFbmRPZlJ1bGUgPSBmaXJzdEFmdGVyZmlyc3RBZnRlckF0TGVhc3RPbmVTZXAgPT09IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmIChmaXJzdEFmdGVyZmlyc3RBZnRlckF0TGVhc3RPbmVTZXAgaW5zdGFuY2VvZiBUZXJtaW5hbCkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVzdWx0LnRva2VuID0gZmlyc3RBZnRlcmZpcnN0QWZ0ZXJBdExlYXN0T25lU2VwLnRlcm1pbmFsVHlwZTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc3VsdC5vY2N1cnJlbmNlID0gZmlyc3RBZnRlcmZpcnN0QWZ0ZXJBdExlYXN0T25lU2VwLmlkeDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIF9zdXBlci5wcm90b3R5cGUud2Fsa0F0TGVhc3RPbmVTZXAuY2FsbCh0aGlzLCBhdGxlYXN0T25lU2VwUHJvZCwgY3VyclJlc3QsIHByZXZSZXN0KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIE5leHRUZXJtaW5hbEFmdGVyQXRMZWFzdE9uZVNlcFdhbGtlcjtcbn0oQWJzdHJhY3ROZXh0VGVybWluYWxBZnRlclByb2R1Y3Rpb25XYWxrZXIpKTtcbmV4cG9ydCB7IE5leHRUZXJtaW5hbEFmdGVyQXRMZWFzdE9uZVNlcFdhbGtlciB9O1xuZXhwb3J0IGZ1bmN0aW9uIHBvc3NpYmxlUGF0aHNGcm9tKHRhcmdldERlZiwgbWF4TGVuZ3RoLCBjdXJyUGF0aCkge1xuICAgIGlmIChjdXJyUGF0aCA9PT0gdm9pZCAwKSB7IGN1cnJQYXRoID0gW107IH1cbiAgICAvLyBhdm9pZCBzaWRlIGVmZmVjdHNcbiAgICBjdXJyUGF0aCA9IGNsb25lQXJyKGN1cnJQYXRoKTtcbiAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgdmFyIGkgPSAwO1xuICAgIC8vIFRPRE86IGF2b2lkIGlubmVyIGZ1bmNzXG4gICAgZnVuY3Rpb24gcmVtYWluaW5nUGF0aFdpdGgobmV4dERlZikge1xuICAgICAgICByZXR1cm4gbmV4dERlZi5jb25jYXQoZHJvcCh0YXJnZXREZWYsIGkgKyAxKSk7XG4gICAgfVxuICAgIC8vIFRPRE86IGF2b2lkIGlubmVyIGZ1bmNzXG4gICAgZnVuY3Rpb24gZ2V0QWx0ZXJuYXRpdmVzRm9yUHJvZChkZWZpbml0aW9uKSB7XG4gICAgICAgIHZhciBhbHRlcm5hdGl2ZXMgPSBwb3NzaWJsZVBhdGhzRnJvbShyZW1haW5pbmdQYXRoV2l0aChkZWZpbml0aW9uKSwgbWF4TGVuZ3RoLCBjdXJyUGF0aCk7XG4gICAgICAgIHJldHVybiByZXN1bHQuY29uY2F0KGFsdGVybmF0aXZlcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1hbmRhdG9yeSBwcm9kdWN0aW9ucyB3aWxsIGhhbHQgdGhlIGxvb3AgYXMgdGhlIHBhdGhzIGNvbXB1dGVkIGZyb20gdGhlaXIgcmVjdXJzaXZlIGNhbGxzIHdpbGwgYWxyZWFkeSBjb250YWluIHRoZVxuICAgICAqIGZvbGxvd2luZyAocmVzdCkgb2YgdGhlIHRhcmdldERlZi5cbiAgICAgKlxuICAgICAqIEZvciBvcHRpb25hbCBwcm9kdWN0aW9ucyAoT3B0aW9uL1JlcGV0aXRpb24vLi4uKSB0aGUgbG9vcCB3aWxsIGNvbnRpbnVlIHRvIHJlcHJlc2VudCB0aGUgcGF0aHMgdGhhdCBkbyBub3QgaW5jbHVkZSB0aGVcbiAgICAgKiB0aGUgb3B0aW9uYWwgcHJvZHVjdGlvbi5cbiAgICAgKi9cbiAgICB3aGlsZSAoY3VyclBhdGgubGVuZ3RoIDwgbWF4TGVuZ3RoICYmIGkgPCB0YXJnZXREZWYubGVuZ3RoKSB7XG4gICAgICAgIHZhciBwcm9kID0gdGFyZ2V0RGVmW2ldO1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICBpZiAocHJvZCBpbnN0YW5jZW9mIEFsdGVybmF0aXZlKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0QWx0ZXJuYXRpdmVzRm9yUHJvZChwcm9kLmRlZmluaXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHByb2QgaW5zdGFuY2VvZiBOb25UZXJtaW5hbCkge1xuICAgICAgICAgICAgcmV0dXJuIGdldEFsdGVybmF0aXZlc0ZvclByb2QocHJvZC5kZWZpbml0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwcm9kIGluc3RhbmNlb2YgT3B0aW9uKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBnZXRBbHRlcm5hdGl2ZXNGb3JQcm9kKHByb2QuZGVmaW5pdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocHJvZCBpbnN0YW5jZW9mIFJlcGV0aXRpb25NYW5kYXRvcnkpIHtcbiAgICAgICAgICAgIHZhciBuZXdEZWYgPSBwcm9kLmRlZmluaXRpb24uY29uY2F0KFtcbiAgICAgICAgICAgICAgICBuZXcgUmVwZXRpdGlvbih7XG4gICAgICAgICAgICAgICAgICAgIGRlZmluaXRpb246IHByb2QuZGVmaW5pdGlvblxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIHJldHVybiBnZXRBbHRlcm5hdGl2ZXNGb3JQcm9kKG5ld0RlZik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocHJvZCBpbnN0YW5jZW9mIFJlcGV0aXRpb25NYW5kYXRvcnlXaXRoU2VwYXJhdG9yKSB7XG4gICAgICAgICAgICB2YXIgbmV3RGVmID0gW1xuICAgICAgICAgICAgICAgIG5ldyBBbHRlcm5hdGl2ZSh7IGRlZmluaXRpb246IHByb2QuZGVmaW5pdGlvbiB9KSxcbiAgICAgICAgICAgICAgICBuZXcgUmVwZXRpdGlvbih7XG4gICAgICAgICAgICAgICAgICAgIGRlZmluaXRpb246IFtuZXcgVGVybWluYWwoeyB0ZXJtaW5hbFR5cGU6IHByb2Quc2VwYXJhdG9yIH0pXS5jb25jYXQocHJvZC5kZWZpbml0aW9uKVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgcmV0dXJuIGdldEFsdGVybmF0aXZlc0ZvclByb2QobmV3RGVmKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwcm9kIGluc3RhbmNlb2YgUmVwZXRpdGlvbldpdGhTZXBhcmF0b3IpIHtcbiAgICAgICAgICAgIHZhciBuZXdEZWYgPSBwcm9kLmRlZmluaXRpb24uY29uY2F0KFtcbiAgICAgICAgICAgICAgICBuZXcgUmVwZXRpdGlvbih7XG4gICAgICAgICAgICAgICAgICAgIGRlZmluaXRpb246IFtuZXcgVGVybWluYWwoeyB0ZXJtaW5hbFR5cGU6IHByb2Quc2VwYXJhdG9yIH0pXS5jb25jYXQocHJvZC5kZWZpbml0aW9uKVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIHJlc3VsdCA9IGdldEFsdGVybmF0aXZlc0ZvclByb2QobmV3RGVmKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwcm9kIGluc3RhbmNlb2YgUmVwZXRpdGlvbikge1xuICAgICAgICAgICAgdmFyIG5ld0RlZiA9IHByb2QuZGVmaW5pdGlvbi5jb25jYXQoW1xuICAgICAgICAgICAgICAgIG5ldyBSZXBldGl0aW9uKHtcbiAgICAgICAgICAgICAgICAgICAgZGVmaW5pdGlvbjogcHJvZC5kZWZpbml0aW9uXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgcmVzdWx0ID0gZ2V0QWx0ZXJuYXRpdmVzRm9yUHJvZChuZXdEZWYpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHByb2QgaW5zdGFuY2VvZiBBbHRlcm5hdGlvbikge1xuICAgICAgICAgICAgZm9yRWFjaChwcm9kLmRlZmluaXRpb24sIGZ1bmN0aW9uIChjdXJyQWx0KSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gZ2V0QWx0ZXJuYXRpdmVzRm9yUHJvZChjdXJyQWx0LmRlZmluaXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHByb2QgaW5zdGFuY2VvZiBUZXJtaW5hbCkge1xuICAgICAgICAgICAgY3VyclBhdGgucHVzaChwcm9kLnRlcm1pbmFsVHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcIm5vbiBleGhhdXN0aXZlIG1hdGNoXCIpO1xuICAgICAgICB9XG4gICAgICAgIGkrKztcbiAgICB9XG4gICAgcmVzdWx0LnB1c2goe1xuICAgICAgICBwYXJ0aWFsUGF0aDogY3VyclBhdGgsXG4gICAgICAgIHN1ZmZpeERlZjogZHJvcCh0YXJnZXREZWYsIGkpXG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBuZXh0UG9zc2libGVUb2tlbnNBZnRlcihpbml0aWFsRGVmLCB0b2tlblZlY3RvciwgdG9rTWF0Y2hlciwgbWF4TG9va0FoZWFkKSB7XG4gICAgdmFyIEVYSVRfTk9OX1RFUk1JTkFMID0gXCJFWElUX05PTkVfVEVSTUlOQUxcIjtcbiAgICAvLyB0byBhdm9pZCBjcmVhdGluZyBhIG5ldyBBcnJheSBlYWNoIHRpbWUuXG4gICAgdmFyIEVYSVRfTk9OX1RFUk1JTkFMX0FSUiA9IFtFWElUX05PTl9URVJNSU5BTF07XG4gICAgdmFyIEVYSVRfQUxURVJOQVRJVkUgPSBcIkVYSVRfQUxURVJOQVRJVkVcIjtcbiAgICB2YXIgZm91bmRDb21wbGV0ZVBhdGggPSBmYWxzZTtcbiAgICB2YXIgdG9rZW5WZWN0b3JMZW5ndGggPSB0b2tlblZlY3Rvci5sZW5ndGg7XG4gICAgdmFyIG1pbmltYWxBbHRlcm5hdGl2ZXNJbmRleCA9IHRva2VuVmVjdG9yTGVuZ3RoIC0gbWF4TG9va0FoZWFkIC0gMTtcbiAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgdmFyIHBvc3NpYmxlUGF0aHMgPSBbXTtcbiAgICBwb3NzaWJsZVBhdGhzLnB1c2goe1xuICAgICAgICBpZHg6IC0xLFxuICAgICAgICBkZWY6IGluaXRpYWxEZWYsXG4gICAgICAgIHJ1bGVTdGFjazogW10sXG4gICAgICAgIG9jY3VycmVuY2VTdGFjazogW11cbiAgICB9KTtcbiAgICB3aGlsZSAoIWlzRW1wdHkocG9zc2libGVQYXRocykpIHtcbiAgICAgICAgdmFyIGN1cnJQYXRoID0gcG9zc2libGVQYXRocy5wb3AoKTtcbiAgICAgICAgLy8gc2tpcCBhbHRlcm5hdGl2ZXMgaWYgbm8gbW9yZSByZXN1bHRzIGNhbiBiZSBmb3VuZCAoYXNzdW1pbmcgZGV0ZXJtaW5pc3RpYyBncmFtbWFyIHdpdGggZml4ZWQgbG9va2FoZWFkKVxuICAgICAgICBpZiAoY3VyclBhdGggPT09IEVYSVRfQUxURVJOQVRJVkUpIHtcbiAgICAgICAgICAgIGlmIChmb3VuZENvbXBsZXRlUGF0aCAmJlxuICAgICAgICAgICAgICAgIGxhc3QocG9zc2libGVQYXRocykuaWR4IDw9IG1pbmltYWxBbHRlcm5hdGl2ZXNJbmRleCkge1xuICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBpcnJlbGV2YW50IGFsdGVybmF0aXZlXG4gICAgICAgICAgICAgICAgcG9zc2libGVQYXRocy5wb3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjdXJyRGVmID0gY3VyclBhdGguZGVmO1xuICAgICAgICB2YXIgY3VycklkeCA9IGN1cnJQYXRoLmlkeDtcbiAgICAgICAgdmFyIGN1cnJSdWxlU3RhY2sgPSBjdXJyUGF0aC5ydWxlU3RhY2s7XG4gICAgICAgIHZhciBjdXJyT2NjdXJyZW5jZVN0YWNrID0gY3VyclBhdGgub2NjdXJyZW5jZVN0YWNrO1xuICAgICAgICAvLyBGb3IgRXhhbXBsZTogYW4gZW1wdHkgcGF0aCBjb3VsZCBleGlzdCBpbiBhIHZhbGlkIGdyYW1tYXIgaW4gdGhlIGNhc2Ugb2YgYW4gRU1QVFlfQUxUXG4gICAgICAgIGlmIChpc0VtcHR5KGN1cnJEZWYpKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcHJvZCA9IGN1cnJEZWZbMF07XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgIGlmIChwcm9kID09PSBFWElUX05PTl9URVJNSU5BTCkge1xuICAgICAgICAgICAgdmFyIG5leHRQYXRoID0ge1xuICAgICAgICAgICAgICAgIGlkeDogY3VycklkeCxcbiAgICAgICAgICAgICAgICBkZWY6IGRyb3AoY3VyckRlZiksXG4gICAgICAgICAgICAgICAgcnVsZVN0YWNrOiBkcm9wUmlnaHQoY3VyclJ1bGVTdGFjayksXG4gICAgICAgICAgICAgICAgb2NjdXJyZW5jZVN0YWNrOiBkcm9wUmlnaHQoY3Vyck9jY3VycmVuY2VTdGFjaylcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBwb3NzaWJsZVBhdGhzLnB1c2gobmV4dFBhdGgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHByb2QgaW5zdGFuY2VvZiBUZXJtaW5hbCkge1xuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgICAgIGlmIChjdXJySWR4IDwgdG9rZW5WZWN0b3JMZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5leHRJZHggPSBjdXJySWR4ICsgMTtcbiAgICAgICAgICAgICAgICB2YXIgYWN0dWFsVG9rZW4gPSB0b2tlblZlY3RvcltuZXh0SWR4XTtcbiAgICAgICAgICAgICAgICBpZiAodG9rTWF0Y2hlcihhY3R1YWxUb2tlbiwgcHJvZC50ZXJtaW5hbFR5cGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXh0UGF0aCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkeDogbmV4dElkeCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZjogZHJvcChjdXJyRGVmKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVTdGFjazogY3VyclJ1bGVTdGFjayxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9jY3VycmVuY2VTdGFjazogY3Vyck9jY3VycmVuY2VTdGFja1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBwb3NzaWJsZVBhdGhzLnB1c2gobmV4dFBhdGgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBlbmQgb2YgdGhlIGxpbmVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGN1cnJJZHggPT09IHRva2VuVmVjdG9yTGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgIC8vIElHTk9SRSBBQk9WRSBFTFNFXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBuZXh0VG9rZW5UeXBlOiBwcm9kLnRlcm1pbmFsVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgbmV4dFRva2VuT2NjdXJyZW5jZTogcHJvZC5pZHgsXG4gICAgICAgICAgICAgICAgICAgIHJ1bGVTdGFjazogY3VyclJ1bGVTdGFjayxcbiAgICAgICAgICAgICAgICAgICAgb2NjdXJyZW5jZVN0YWNrOiBjdXJyT2NjdXJyZW5jZVN0YWNrXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZm91bmRDb21wbGV0ZVBhdGggPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJub24gZXhoYXVzdGl2ZSBtYXRjaFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwcm9kIGluc3RhbmNlb2YgTm9uVGVybWluYWwpIHtcbiAgICAgICAgICAgIHZhciBuZXdSdWxlU3RhY2sgPSBjbG9uZUFycihjdXJyUnVsZVN0YWNrKTtcbiAgICAgICAgICAgIG5ld1J1bGVTdGFjay5wdXNoKHByb2Qubm9uVGVybWluYWxOYW1lKTtcbiAgICAgICAgICAgIHZhciBuZXdPY2N1cnJlbmNlU3RhY2sgPSBjbG9uZUFycihjdXJyT2NjdXJyZW5jZVN0YWNrKTtcbiAgICAgICAgICAgIG5ld09jY3VycmVuY2VTdGFjay5wdXNoKHByb2QuaWR4KTtcbiAgICAgICAgICAgIHZhciBuZXh0UGF0aCA9IHtcbiAgICAgICAgICAgICAgICBpZHg6IGN1cnJJZHgsXG4gICAgICAgICAgICAgICAgZGVmOiBwcm9kLmRlZmluaXRpb24uY29uY2F0KEVYSVRfTk9OX1RFUk1JTkFMX0FSUiwgZHJvcChjdXJyRGVmKSksXG4gICAgICAgICAgICAgICAgcnVsZVN0YWNrOiBuZXdSdWxlU3RhY2ssXG4gICAgICAgICAgICAgICAgb2NjdXJyZW5jZVN0YWNrOiBuZXdPY2N1cnJlbmNlU3RhY2tcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBwb3NzaWJsZVBhdGhzLnB1c2gobmV4dFBhdGgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHByb2QgaW5zdGFuY2VvZiBPcHRpb24pIHtcbiAgICAgICAgICAgIC8vIHRoZSBvcmRlciBvZiBhbHRlcm5hdGl2ZXMgaXMgbWVhbmluZ2Z1bCwgRklMTyAoTGFzdCBwYXRoIHdpbGwgYmUgdHJhdmVyc2VkIGZpcnN0KS5cbiAgICAgICAgICAgIHZhciBuZXh0UGF0aFdpdGhvdXQgPSB7XG4gICAgICAgICAgICAgICAgaWR4OiBjdXJySWR4LFxuICAgICAgICAgICAgICAgIGRlZjogZHJvcChjdXJyRGVmKSxcbiAgICAgICAgICAgICAgICBydWxlU3RhY2s6IGN1cnJSdWxlU3RhY2ssXG4gICAgICAgICAgICAgICAgb2NjdXJyZW5jZVN0YWNrOiBjdXJyT2NjdXJyZW5jZVN0YWNrXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcG9zc2libGVQYXRocy5wdXNoKG5leHRQYXRoV2l0aG91dCk7XG4gICAgICAgICAgICAvLyByZXF1aXJlZCBtYXJrZXIgdG8gYXZvaWQgYmFja3RyYWNraW5nIHBhdGhzIHdob3NlIGhpZ2hlciBwcmlvcml0eSBhbHRlcm5hdGl2ZXMgYWxyZWFkeSBtYXRjaGVkXG4gICAgICAgICAgICBwb3NzaWJsZVBhdGhzLnB1c2goRVhJVF9BTFRFUk5BVElWRSk7XG4gICAgICAgICAgICB2YXIgbmV4dFBhdGhXaXRoID0ge1xuICAgICAgICAgICAgICAgIGlkeDogY3VycklkeCxcbiAgICAgICAgICAgICAgICBkZWY6IHByb2QuZGVmaW5pdGlvbi5jb25jYXQoZHJvcChjdXJyRGVmKSksXG4gICAgICAgICAgICAgICAgcnVsZVN0YWNrOiBjdXJyUnVsZVN0YWNrLFxuICAgICAgICAgICAgICAgIG9jY3VycmVuY2VTdGFjazogY3Vyck9jY3VycmVuY2VTdGFja1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHBvc3NpYmxlUGF0aHMucHVzaChuZXh0UGF0aFdpdGgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHByb2QgaW5zdGFuY2VvZiBSZXBldGl0aW9uTWFuZGF0b3J5KSB7XG4gICAgICAgICAgICAvLyBUT0RPOihUSEUgTkVXIG9wZXJhdG9ycyBoZXJlIHRha2UgYSB3aGlsZS4uLikgKGNvbnZlcnQgb25jZT8pXG4gICAgICAgICAgICB2YXIgc2Vjb25kSXRlcmF0aW9uID0gbmV3IFJlcGV0aXRpb24oe1xuICAgICAgICAgICAgICAgIGRlZmluaXRpb246IHByb2QuZGVmaW5pdGlvbixcbiAgICAgICAgICAgICAgICBpZHg6IHByb2QuaWR4XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciBuZXh0RGVmID0gcHJvZC5kZWZpbml0aW9uLmNvbmNhdChbc2Vjb25kSXRlcmF0aW9uXSwgZHJvcChjdXJyRGVmKSk7XG4gICAgICAgICAgICB2YXIgbmV4dFBhdGggPSB7XG4gICAgICAgICAgICAgICAgaWR4OiBjdXJySWR4LFxuICAgICAgICAgICAgICAgIGRlZjogbmV4dERlZixcbiAgICAgICAgICAgICAgICBydWxlU3RhY2s6IGN1cnJSdWxlU3RhY2ssXG4gICAgICAgICAgICAgICAgb2NjdXJyZW5jZVN0YWNrOiBjdXJyT2NjdXJyZW5jZVN0YWNrXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcG9zc2libGVQYXRocy5wdXNoKG5leHRQYXRoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwcm9kIGluc3RhbmNlb2YgUmVwZXRpdGlvbk1hbmRhdG9yeVdpdGhTZXBhcmF0b3IpIHtcbiAgICAgICAgICAgIC8vIFRPRE86KFRIRSBORVcgb3BlcmF0b3JzIGhlcmUgdGFrZSBhIHdoaWxlLi4uKSAoY29udmVydCBvbmNlPylcbiAgICAgICAgICAgIHZhciBzZXBhcmF0b3JHYXN0ID0gbmV3IFRlcm1pbmFsKHtcbiAgICAgICAgICAgICAgICB0ZXJtaW5hbFR5cGU6IHByb2Quc2VwYXJhdG9yXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciBzZWNvbmRJdGVyYXRpb24gPSBuZXcgUmVwZXRpdGlvbih7XG4gICAgICAgICAgICAgICAgZGVmaW5pdGlvbjogW3NlcGFyYXRvckdhc3RdLmNvbmNhdChwcm9kLmRlZmluaXRpb24pLFxuICAgICAgICAgICAgICAgIGlkeDogcHJvZC5pZHhcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIG5leHREZWYgPSBwcm9kLmRlZmluaXRpb24uY29uY2F0KFtzZWNvbmRJdGVyYXRpb25dLCBkcm9wKGN1cnJEZWYpKTtcbiAgICAgICAgICAgIHZhciBuZXh0UGF0aCA9IHtcbiAgICAgICAgICAgICAgICBpZHg6IGN1cnJJZHgsXG4gICAgICAgICAgICAgICAgZGVmOiBuZXh0RGVmLFxuICAgICAgICAgICAgICAgIHJ1bGVTdGFjazogY3VyclJ1bGVTdGFjayxcbiAgICAgICAgICAgICAgICBvY2N1cnJlbmNlU3RhY2s6IGN1cnJPY2N1cnJlbmNlU3RhY2tcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBwb3NzaWJsZVBhdGhzLnB1c2gobmV4dFBhdGgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHByb2QgaW5zdGFuY2VvZiBSZXBldGl0aW9uV2l0aFNlcGFyYXRvcikge1xuICAgICAgICAgICAgLy8gdGhlIG9yZGVyIG9mIGFsdGVybmF0aXZlcyBpcyBtZWFuaW5nZnVsLCBGSUxPIChMYXN0IHBhdGggd2lsbCBiZSB0cmF2ZXJzZWQgZmlyc3QpLlxuICAgICAgICAgICAgdmFyIG5leHRQYXRoV2l0aG91dCA9IHtcbiAgICAgICAgICAgICAgICBpZHg6IGN1cnJJZHgsXG4gICAgICAgICAgICAgICAgZGVmOiBkcm9wKGN1cnJEZWYpLFxuICAgICAgICAgICAgICAgIHJ1bGVTdGFjazogY3VyclJ1bGVTdGFjayxcbiAgICAgICAgICAgICAgICBvY2N1cnJlbmNlU3RhY2s6IGN1cnJPY2N1cnJlbmNlU3RhY2tcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBwb3NzaWJsZVBhdGhzLnB1c2gobmV4dFBhdGhXaXRob3V0KTtcbiAgICAgICAgICAgIC8vIHJlcXVpcmVkIG1hcmtlciB0byBhdm9pZCBiYWNrdHJhY2tpbmcgcGF0aHMgd2hvc2UgaGlnaGVyIHByaW9yaXR5IGFsdGVybmF0aXZlcyBhbHJlYWR5IG1hdGNoZWRcbiAgICAgICAgICAgIHBvc3NpYmxlUGF0aHMucHVzaChFWElUX0FMVEVSTkFUSVZFKTtcbiAgICAgICAgICAgIHZhciBzZXBhcmF0b3JHYXN0ID0gbmV3IFRlcm1pbmFsKHtcbiAgICAgICAgICAgICAgICB0ZXJtaW5hbFR5cGU6IHByb2Quc2VwYXJhdG9yXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciBudGhSZXBldGl0aW9uID0gbmV3IFJlcGV0aXRpb24oe1xuICAgICAgICAgICAgICAgIGRlZmluaXRpb246IFtzZXBhcmF0b3JHYXN0XS5jb25jYXQocHJvZC5kZWZpbml0aW9uKSxcbiAgICAgICAgICAgICAgICBpZHg6IHByb2QuaWR4XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciBuZXh0RGVmID0gcHJvZC5kZWZpbml0aW9uLmNvbmNhdChbbnRoUmVwZXRpdGlvbl0sIGRyb3AoY3VyckRlZikpO1xuICAgICAgICAgICAgdmFyIG5leHRQYXRoV2l0aCA9IHtcbiAgICAgICAgICAgICAgICBpZHg6IGN1cnJJZHgsXG4gICAgICAgICAgICAgICAgZGVmOiBuZXh0RGVmLFxuICAgICAgICAgICAgICAgIHJ1bGVTdGFjazogY3VyclJ1bGVTdGFjayxcbiAgICAgICAgICAgICAgICBvY2N1cnJlbmNlU3RhY2s6IGN1cnJPY2N1cnJlbmNlU3RhY2tcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBwb3NzaWJsZVBhdGhzLnB1c2gobmV4dFBhdGhXaXRoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwcm9kIGluc3RhbmNlb2YgUmVwZXRpdGlvbikge1xuICAgICAgICAgICAgLy8gdGhlIG9yZGVyIG9mIGFsdGVybmF0aXZlcyBpcyBtZWFuaW5nZnVsLCBGSUxPIChMYXN0IHBhdGggd2lsbCBiZSB0cmF2ZXJzZWQgZmlyc3QpLlxuICAgICAgICAgICAgdmFyIG5leHRQYXRoV2l0aG91dCA9IHtcbiAgICAgICAgICAgICAgICBpZHg6IGN1cnJJZHgsXG4gICAgICAgICAgICAgICAgZGVmOiBkcm9wKGN1cnJEZWYpLFxuICAgICAgICAgICAgICAgIHJ1bGVTdGFjazogY3VyclJ1bGVTdGFjayxcbiAgICAgICAgICAgICAgICBvY2N1cnJlbmNlU3RhY2s6IGN1cnJPY2N1cnJlbmNlU3RhY2tcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBwb3NzaWJsZVBhdGhzLnB1c2gobmV4dFBhdGhXaXRob3V0KTtcbiAgICAgICAgICAgIC8vIHJlcXVpcmVkIG1hcmtlciB0byBhdm9pZCBiYWNrdHJhY2tpbmcgcGF0aHMgd2hvc2UgaGlnaGVyIHByaW9yaXR5IGFsdGVybmF0aXZlcyBhbHJlYWR5IG1hdGNoZWRcbiAgICAgICAgICAgIHBvc3NpYmxlUGF0aHMucHVzaChFWElUX0FMVEVSTkFUSVZFKTtcbiAgICAgICAgICAgIC8vIFRPRE86IGFuIGVtcHR5IHJlcGV0aXRpb24gd2lsbCBjYXVzZSBpbmZpbml0ZSBsb29wcyBoZXJlLCB3aWxsIHRoZSBwYXJzZXIgZGV0ZWN0IHRoaXMgaW4gc2VsZkFuYWx5c2lzP1xuICAgICAgICAgICAgdmFyIG50aFJlcGV0aXRpb24gPSBuZXcgUmVwZXRpdGlvbih7XG4gICAgICAgICAgICAgICAgZGVmaW5pdGlvbjogcHJvZC5kZWZpbml0aW9uLFxuICAgICAgICAgICAgICAgIGlkeDogcHJvZC5pZHhcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIG5leHREZWYgPSBwcm9kLmRlZmluaXRpb24uY29uY2F0KFtudGhSZXBldGl0aW9uXSwgZHJvcChjdXJyRGVmKSk7XG4gICAgICAgICAgICB2YXIgbmV4dFBhdGhXaXRoID0ge1xuICAgICAgICAgICAgICAgIGlkeDogY3VycklkeCxcbiAgICAgICAgICAgICAgICBkZWY6IG5leHREZWYsXG4gICAgICAgICAgICAgICAgcnVsZVN0YWNrOiBjdXJyUnVsZVN0YWNrLFxuICAgICAgICAgICAgICAgIG9jY3VycmVuY2VTdGFjazogY3Vyck9jY3VycmVuY2VTdGFja1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHBvc3NpYmxlUGF0aHMucHVzaChuZXh0UGF0aFdpdGgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHByb2QgaW5zdGFuY2VvZiBBbHRlcm5hdGlvbikge1xuICAgICAgICAgICAgLy8gdGhlIG9yZGVyIG9mIGFsdGVybmF0aXZlcyBpcyBtZWFuaW5nZnVsLCBGSUxPIChMYXN0IHBhdGggd2lsbCBiZSB0cmF2ZXJzZWQgZmlyc3QpLlxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IHByb2QuZGVmaW5pdGlvbi5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgICAgIHZhciBjdXJyQWx0ID0gcHJvZC5kZWZpbml0aW9uW2ldO1xuICAgICAgICAgICAgICAgIHZhciBjdXJyQWx0UGF0aCA9IHtcbiAgICAgICAgICAgICAgICAgICAgaWR4OiBjdXJySWR4LFxuICAgICAgICAgICAgICAgICAgICBkZWY6IGN1cnJBbHQuZGVmaW5pdGlvbi5jb25jYXQoZHJvcChjdXJyRGVmKSksXG4gICAgICAgICAgICAgICAgICAgIHJ1bGVTdGFjazogY3VyclJ1bGVTdGFjayxcbiAgICAgICAgICAgICAgICAgICAgb2NjdXJyZW5jZVN0YWNrOiBjdXJyT2NjdXJyZW5jZVN0YWNrXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBwb3NzaWJsZVBhdGhzLnB1c2goY3VyckFsdFBhdGgpO1xuICAgICAgICAgICAgICAgIHBvc3NpYmxlUGF0aHMucHVzaChFWElUX0FMVEVSTkFUSVZFKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwcm9kIGluc3RhbmNlb2YgQWx0ZXJuYXRpdmUpIHtcbiAgICAgICAgICAgIHBvc3NpYmxlUGF0aHMucHVzaCh7XG4gICAgICAgICAgICAgICAgaWR4OiBjdXJySWR4LFxuICAgICAgICAgICAgICAgIGRlZjogcHJvZC5kZWZpbml0aW9uLmNvbmNhdChkcm9wKGN1cnJEZWYpKSxcbiAgICAgICAgICAgICAgICBydWxlU3RhY2s6IGN1cnJSdWxlU3RhY2ssXG4gICAgICAgICAgICAgICAgb2NjdXJyZW5jZVN0YWNrOiBjdXJyT2NjdXJyZW5jZVN0YWNrXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwcm9kIGluc3RhbmNlb2YgUnVsZSkge1xuICAgICAgICAgICAgLy8gbGFzdCBiZWNhdXNlIHdlIHNob3VsZCBvbmx5IGVuY291bnRlciBhdCBtb3N0IGEgc2luZ2xlIG9uZSBvZiB0aGVzZSBwZXIgaW52b2NhdGlvbi5cbiAgICAgICAgICAgIHBvc3NpYmxlUGF0aHMucHVzaChleHBhbmRUb3BMZXZlbFJ1bGUocHJvZCwgY3VycklkeCwgY3VyclJ1bGVTdGFjaywgY3Vyck9jY3VycmVuY2VTdGFjaykpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJub24gZXhoYXVzdGl2ZSBtYXRjaFwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gZXhwYW5kVG9wTGV2ZWxSdWxlKHRvcFJ1bGUsIGN1cnJJZHgsIGN1cnJSdWxlU3RhY2ssIGN1cnJPY2N1cnJlbmNlU3RhY2spIHtcbiAgICB2YXIgbmV3UnVsZVN0YWNrID0gY2xvbmVBcnIoY3VyclJ1bGVTdGFjayk7XG4gICAgbmV3UnVsZVN0YWNrLnB1c2godG9wUnVsZS5uYW1lKTtcbiAgICB2YXIgbmV3Q3Vyck9jY3VycmVuY2VTdGFjayA9IGNsb25lQXJyKGN1cnJPY2N1cnJlbmNlU3RhY2spO1xuICAgIC8vIHRvcCBydWxlIGlzIGFsd2F5cyBhc3N1bWVkIHRvIGhhdmUgYmVlbiBjYWxsZWQgd2l0aCBvY2N1cnJlbmNlIGluZGV4IDFcbiAgICBuZXdDdXJyT2NjdXJyZW5jZVN0YWNrLnB1c2goMSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaWR4OiBjdXJySWR4LFxuICAgICAgICBkZWY6IHRvcFJ1bGUuZGVmaW5pdGlvbixcbiAgICAgICAgcnVsZVN0YWNrOiBuZXdSdWxlU3RhY2ssXG4gICAgICAgIG9jY3VycmVuY2VTdGFjazogbmV3Q3Vyck9jY3VycmVuY2VTdGFja1xuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbnRlcnByZXRlci5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbmltcG9ydCB7IG1hcCwgcmVkdWNlLCBldmVyeSwgaXNFbXB0eSwgZmxhdHRlbiwgZm9yRWFjaCwgaGFzIH0gZnJvbSBcIi4uLy4uL3V0aWxzL3V0aWxzXCI7XG5pbXBvcnQgeyBwb3NzaWJsZVBhdGhzRnJvbSB9IGZyb20gXCIuL2ludGVycHJldGVyXCI7XG5pbXBvcnQgeyBSZXN0V2Fsa2VyIH0gZnJvbSBcIi4vcmVzdFwiO1xuaW1wb3J0IHsgdG9rZW5TdHJ1Y3R1cmVkTWF0Y2hlciwgdG9rZW5TdHJ1Y3R1cmVkTWF0Y2hlck5vQ2F0ZWdvcmllcyB9IGZyb20gXCIuLi8uLi9zY2FuL3Rva2Vuc1wiO1xuaW1wb3J0IHsgQWx0ZXJuYXRpb24sIEFsdGVybmF0aXZlIGFzIEFsdGVybmF0aXZlR0FTVCwgT3B0aW9uLCBSZXBldGl0aW9uLCBSZXBldGl0aW9uTWFuZGF0b3J5LCBSZXBldGl0aW9uTWFuZGF0b3J5V2l0aFNlcGFyYXRvciwgUmVwZXRpdGlvbldpdGhTZXBhcmF0b3IgfSBmcm9tIFwiLi9nYXN0L2dhc3RfcHVibGljXCI7XG5pbXBvcnQgeyBHQXN0VmlzaXRvciB9IGZyb20gXCIuL2dhc3QvZ2FzdF92aXNpdG9yX3B1YmxpY1wiO1xuZXhwb3J0IHZhciBQUk9EX1RZUEU7XG4oZnVuY3Rpb24gKFBST0RfVFlQRSkge1xuICAgIFBST0RfVFlQRVtQUk9EX1RZUEVbXCJPUFRJT05cIl0gPSAwXSA9IFwiT1BUSU9OXCI7XG4gICAgUFJPRF9UWVBFW1BST0RfVFlQRVtcIlJFUEVUSVRJT05cIl0gPSAxXSA9IFwiUkVQRVRJVElPTlwiO1xuICAgIFBST0RfVFlQRVtQUk9EX1RZUEVbXCJSRVBFVElUSU9OX01BTkRBVE9SWVwiXSA9IDJdID0gXCJSRVBFVElUSU9OX01BTkRBVE9SWVwiO1xuICAgIFBST0RfVFlQRVtQUk9EX1RZUEVbXCJSRVBFVElUSU9OX01BTkRBVE9SWV9XSVRIX1NFUEFSQVRPUlwiXSA9IDNdID0gXCJSRVBFVElUSU9OX01BTkRBVE9SWV9XSVRIX1NFUEFSQVRPUlwiO1xuICAgIFBST0RfVFlQRVtQUk9EX1RZUEVbXCJSRVBFVElUSU9OX1dJVEhfU0VQQVJBVE9SXCJdID0gNF0gPSBcIlJFUEVUSVRJT05fV0lUSF9TRVBBUkFUT1JcIjtcbiAgICBQUk9EX1RZUEVbUFJPRF9UWVBFW1wiQUxURVJOQVRJT05cIl0gPSA1XSA9IFwiQUxURVJOQVRJT05cIjtcbn0pKFBST0RfVFlQRSB8fCAoUFJPRF9UWVBFID0ge30pKTtcbmV4cG9ydCBmdW5jdGlvbiBnZXRQcm9kVHlwZShwcm9kKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICBpZiAocHJvZCBpbnN0YW5jZW9mIE9wdGlvbikge1xuICAgICAgICByZXR1cm4gUFJPRF9UWVBFLk9QVElPTjtcbiAgICB9XG4gICAgZWxzZSBpZiAocHJvZCBpbnN0YW5jZW9mIFJlcGV0aXRpb24pIHtcbiAgICAgICAgcmV0dXJuIFBST0RfVFlQRS5SRVBFVElUSU9OO1xuICAgIH1cbiAgICBlbHNlIGlmIChwcm9kIGluc3RhbmNlb2YgUmVwZXRpdGlvbk1hbmRhdG9yeSkge1xuICAgICAgICByZXR1cm4gUFJPRF9UWVBFLlJFUEVUSVRJT05fTUFOREFUT1JZO1xuICAgIH1cbiAgICBlbHNlIGlmIChwcm9kIGluc3RhbmNlb2YgUmVwZXRpdGlvbk1hbmRhdG9yeVdpdGhTZXBhcmF0b3IpIHtcbiAgICAgICAgcmV0dXJuIFBST0RfVFlQRS5SRVBFVElUSU9OX01BTkRBVE9SWV9XSVRIX1NFUEFSQVRPUjtcbiAgICB9XG4gICAgZWxzZSBpZiAocHJvZCBpbnN0YW5jZW9mIFJlcGV0aXRpb25XaXRoU2VwYXJhdG9yKSB7XG4gICAgICAgIHJldHVybiBQUk9EX1RZUEUuUkVQRVRJVElPTl9XSVRIX1NFUEFSQVRPUjtcbiAgICB9XG4gICAgZWxzZSBpZiAocHJvZCBpbnN0YW5jZW9mIEFsdGVybmF0aW9uKSB7XG4gICAgICAgIHJldHVybiBQUk9EX1RZUEUuQUxURVJOQVRJT047XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBFcnJvcihcIm5vbiBleGhhdXN0aXZlIG1hdGNoXCIpO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBidWlsZExvb2thaGVhZEZ1bmNGb3JPcihvY2N1cnJlbmNlLCBydWxlR3JhbW1hciwgbWF4TG9va2FoZWFkLCBoYXNQcmVkaWNhdGVzLCBkeW5hbWljVG9rZW5zRW5hYmxlZCwgbGFGdW5jQnVpbGRlcikge1xuICAgIHZhciBsb29rQWhlYWRQYXRocyA9IGdldExvb2thaGVhZFBhdGhzRm9yT3Iob2NjdXJyZW5jZSwgcnVsZUdyYW1tYXIsIG1heExvb2thaGVhZCk7XG4gICAgdmFyIHRva2VuTWF0Y2hlciA9IGFyZVRva2VuQ2F0ZWdvcmllc05vdFVzZWQobG9va0FoZWFkUGF0aHMpXG4gICAgICAgID8gdG9rZW5TdHJ1Y3R1cmVkTWF0Y2hlck5vQ2F0ZWdvcmllc1xuICAgICAgICA6IHRva2VuU3RydWN0dXJlZE1hdGNoZXI7XG4gICAgcmV0dXJuIGxhRnVuY0J1aWxkZXIobG9va0FoZWFkUGF0aHMsIGhhc1ByZWRpY2F0ZXMsIHRva2VuTWF0Y2hlciwgZHluYW1pY1Rva2Vuc0VuYWJsZWQpO1xufVxuLyoqXG4gKiAgV2hlbiBkZWFsaW5nIHdpdGggYW4gT3B0aW9uYWwgcHJvZHVjdGlvbiAoT1BUSU9OL01BTlkvMm5kIGl0ZXJhdGlvbiBvZiBBVF9MRUFTVF9PTkUvLi4uKSB3ZSBuZWVkIHRvIGNvbXBhcmVcbiAqICB0aGUgbG9va2FoZWFkIFwiaW5zaWRlXCIgdGhlIHByb2R1Y3Rpb24gYW5kIHRoZSBsb29rYWhlYWQgaW1tZWRpYXRlbHkgXCJhZnRlclwiIGl0IGluIHRoZSBzYW1lIHRvcCBsZXZlbCBydWxlIChjb250ZXh0IGZyZWUpLlxuICpcbiAqICBFeGFtcGxlOiBnaXZlbiBhIHByb2R1Y3Rpb246XG4gKiAgQUJDKERFKT9ERlxuICpcbiAqICBUaGUgb3B0aW9uYWwgJyhERSk/JyBzaG91bGQgb25seSBiZSBlbnRlcmVkIGlmIHdlIHNlZSAnREUnLiBhIHNpbmdsZSBUb2tlbiAnRCcgaXMgbm90IHN1ZmZpY2llbnQgdG8gZGlzdGluZ3Vpc2ggYmV0d2VlbiB0aGUgdHdvXG4gKiAgYWx0ZXJuYXRpdmVzLlxuICpcbiAqICBAcmV0dXJucyBBIExvb2thaGVhZCBmdW5jdGlvbiB3aGljaCB3aWxsIHJldHVybiB0cnVlIElGRiB0aGUgcGFyc2VyIHNob3VsZCBwYXJzZSB0aGUgT3B0aW9uYWwgcHJvZHVjdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkTG9va2FoZWFkRnVuY0Zvck9wdGlvbmFsUHJvZChvY2N1cnJlbmNlLCBydWxlR3JhbW1hciwgaywgZHluYW1pY1Rva2Vuc0VuYWJsZWQsIHByb2RUeXBlLCBsb29rYWhlYWRCdWlsZGVyKSB7XG4gICAgdmFyIGxvb2tBaGVhZFBhdGhzID0gZ2V0TG9va2FoZWFkUGF0aHNGb3JPcHRpb25hbFByb2Qob2NjdXJyZW5jZSwgcnVsZUdyYW1tYXIsIHByb2RUeXBlLCBrKTtcbiAgICB2YXIgdG9rZW5NYXRjaGVyID0gYXJlVG9rZW5DYXRlZ29yaWVzTm90VXNlZChsb29rQWhlYWRQYXRocylcbiAgICAgICAgPyB0b2tlblN0cnVjdHVyZWRNYXRjaGVyTm9DYXRlZ29yaWVzXG4gICAgICAgIDogdG9rZW5TdHJ1Y3R1cmVkTWF0Y2hlcjtcbiAgICByZXR1cm4gbG9va2FoZWFkQnVpbGRlcihsb29rQWhlYWRQYXRoc1swXSwgdG9rZW5NYXRjaGVyLCBkeW5hbWljVG9rZW5zRW5hYmxlZCk7XG59XG5leHBvcnQgZnVuY3Rpb24gYnVpbGRBbHRlcm5hdGl2ZXNMb29rQWhlYWRGdW5jKGFsdHMsIGhhc1ByZWRpY2F0ZXMsIHRva2VuTWF0Y2hlciwgZHluYW1pY1Rva2Vuc0VuYWJsZWQpIHtcbiAgICB2YXIgbnVtT2ZBbHRzID0gYWx0cy5sZW5ndGg7XG4gICAgdmFyIGFyZUFsbE9uZVRva2VuTG9va2FoZWFkID0gZXZlcnkoYWx0cywgZnVuY3Rpb24gKGN1cnJBbHQpIHtcbiAgICAgICAgcmV0dXJuIGV2ZXJ5KGN1cnJBbHQsIGZ1bmN0aW9uIChjdXJyUGF0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGN1cnJQYXRoLmxlbmd0aCA9PT0gMTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgLy8gVGhpcyB2ZXJzaW9uIHRha2VzIGludG8gYWNjb3VudCB0aGUgcHJlZGljYXRlcyBhcyB3ZWxsLlxuICAgIGlmIChoYXNQcmVkaWNhdGVzKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSAtIFRoZSBjaG9zZW4gYWx0ZXJuYXRpdmUgaW5kZXhcbiAgICAgICAgICovXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAob3JBbHRzKSB7XG4gICAgICAgICAgICAvLyB1bmZvcnR1bmF0ZWx5IHRoZSBwcmVkaWNhdGVzIG11c3QgYmUgZXh0cmFjdGVkIGV2ZXJ5IHNpbmdsZSB0aW1lXG4gICAgICAgICAgICAvLyBhcyB0aGV5IGNhbm5vdCBiZSBjYWNoZWQgZHVlIHRvIHJlZmVyZW5jZXMgdG8gcGFyYW1ldGVycyh2YXJzKSB3aGljaCBhcmUgbm8gbG9uZ2VyIHZhbGlkLlxuICAgICAgICAgICAgLy8gbm90ZSB0aGF0IGluIHRoZSBjb21tb24gY2FzZSBvZiBubyBwcmVkaWNhdGVzLCBubyBjcHUgdGltZSB3aWxsIGJlIHdhc3RlZCBvbiB0aGlzIChzZWUgZWxzZSBibG9jaylcbiAgICAgICAgICAgIHZhciBwcmVkaWNhdGVzID0gbWFwKG9yQWx0cywgZnVuY3Rpb24gKGN1cnJBbHQpIHsgcmV0dXJuIGN1cnJBbHQuR0FURTsgfSk7XG4gICAgICAgICAgICBmb3IgKHZhciB0ID0gMDsgdCA8IG51bU9mQWx0czsgdCsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGN1cnJBbHQgPSBhbHRzW3RdO1xuICAgICAgICAgICAgICAgIHZhciBjdXJyTnVtT2ZQYXRocyA9IGN1cnJBbHQubGVuZ3RoO1xuICAgICAgICAgICAgICAgIHZhciBjdXJyUHJlZGljYXRlID0gcHJlZGljYXRlc1t0XTtcbiAgICAgICAgICAgICAgICBpZiAoY3VyclByZWRpY2F0ZSAhPT0gdW5kZWZpbmVkICYmIGN1cnJQcmVkaWNhdGUuY2FsbCh0aGlzKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgdGhlIHByZWRpY2F0ZSBkb2VzIG5vdCBtYXRjaCB0aGVyZSBpcyBubyBwb2ludCBpbiBjaGVja2luZyB0aGUgcGF0aHNcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG5leHRQYXRoOiBmb3IgKHZhciBqID0gMDsgaiA8IGN1cnJOdW1PZlBhdGhzOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJQYXRoID0gY3VyckFsdFtqXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJQYXRoTGVuZ3RoID0gY3VyclBhdGgubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGN1cnJQYXRoTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXh0VG9rZW4gPSB0aGlzLkxBKGkgKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbk1hdGNoZXIobmV4dFRva2VuLCBjdXJyUGF0aFtpXSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbWlzbWF0Y2ggaW4gY3VycmVudCBwYXRoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdHJ5IHRoZSBuZXh0IHB0aFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlIG5leHRQYXRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIGZvdW5kIGEgZnVsbCBwYXRoIHRoYXQgbWF0Y2hlcy5cbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyB3aWxsIGFsc28gd29yayBmb3IgYW4gZW1wdHkgQUxUIGFzIHRoZSBsb29wIHdpbGwgYmUgc2tpcHBlZFxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gbm9uZSBvZiB0aGUgcGF0aHMgZm9yIHRoZSBjdXJyZW50IGFsdGVybmF0aXZlIG1hdGNoZWRcbiAgICAgICAgICAgICAgICAvLyB0cnkgdGhlIG5leHQgYWx0ZXJuYXRpdmVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIG5vbmUgb2YgdGhlIGFsdGVybmF0aXZlcyBjb3VsZCBiZSBtYXRjaGVkXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChhcmVBbGxPbmVUb2tlbkxvb2thaGVhZCAmJiAhZHluYW1pY1Rva2Vuc0VuYWJsZWQpIHtcbiAgICAgICAgLy8gb3B0aW1pemVkIChjb21tb24pIGNhc2Ugb2YgYWxsIHRoZSBsb29rYWhlYWRzIHBhdGhzIHJlcXVpcmluZyBvbmx5XG4gICAgICAgIC8vIGEgc2luZ2xlIHRva2VuIGxvb2thaGVhZC4gVGhlc2UgT3B0aW1pemF0aW9ucyBjYW5ub3Qgd29yayBpZiBkeW5hbWljYWxseSBkZWZpbmVkIFRva2VucyBhcmUgdXNlZC5cbiAgICAgICAgdmFyIHNpbmdsZVRva2VuQWx0cyA9IG1hcChhbHRzLCBmdW5jdGlvbiAoY3VyckFsdCkge1xuICAgICAgICAgICAgcmV0dXJuIGZsYXR0ZW4oY3VyckFsdCk7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgY2hvaWNlVG9BbHRfMSA9IHJlZHVjZShzaW5nbGVUb2tlbkFsdHMsIGZ1bmN0aW9uIChyZXN1bHQsIGN1cnJBbHQsIGlkeCkge1xuICAgICAgICAgICAgZm9yRWFjaChjdXJyQWx0LCBmdW5jdGlvbiAoY3VyclRva1R5cGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWhhcyhyZXN1bHQsIGN1cnJUb2tUeXBlLnRva2VuVHlwZUlkeCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0W2N1cnJUb2tUeXBlLnRva2VuVHlwZUlkeF0gPSBpZHg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvckVhY2goY3VyclRva1R5cGUuY2F0ZWdvcnlNYXRjaGVzLCBmdW5jdGlvbiAoY3VyckV4dGVuZGluZ1R5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFoYXMocmVzdWx0LCBjdXJyRXh0ZW5kaW5nVHlwZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFtjdXJyRXh0ZW5kaW5nVHlwZV0gPSBpZHg7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfSwgW10pO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybnMge251bWJlcn0gLSBUaGUgY2hvc2VuIGFsdGVybmF0aXZlIGluZGV4XG4gICAgICAgICAqL1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIG5leHRUb2tlbiA9IHRoaXMuTEEoMSk7XG4gICAgICAgICAgICByZXR1cm4gY2hvaWNlVG9BbHRfMVtuZXh0VG9rZW4udG9rZW5UeXBlSWR4XTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIG9wdGltaXplZCBsb29rYWhlYWQgd2l0aG91dCBuZWVkaW5nIHRvIGNoZWNrIHRoZSBwcmVkaWNhdGVzIGF0IGFsbC5cbiAgICAgICAgLy8gdGhpcyBjYXVzZXMgY29kZSBkdXBsaWNhdGlvbiB3aGljaCBpcyBpbnRlbnRpb25hbCB0byBpbXByb3ZlIHBlcmZvcm1hbmNlLlxuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybnMge251bWJlcn0gLSBUaGUgY2hvc2VuIGFsdGVybmF0aXZlIGluZGV4XG4gICAgICAgICAqL1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZm9yICh2YXIgdCA9IDA7IHQgPCBudW1PZkFsdHM7IHQrKykge1xuICAgICAgICAgICAgICAgIHZhciBjdXJyQWx0ID0gYWx0c1t0XTtcbiAgICAgICAgICAgICAgICB2YXIgY3Vyck51bU9mUGF0aHMgPSBjdXJyQWx0Lmxlbmd0aDtcbiAgICAgICAgICAgICAgICBuZXh0UGF0aDogZm9yICh2YXIgaiA9IDA7IGogPCBjdXJyTnVtT2ZQYXRoczsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJyUGF0aCA9IGN1cnJBbHRbal07XG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJyUGF0aExlbmd0aCA9IGN1cnJQYXRoLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjdXJyUGF0aExlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmV4dFRva2VuID0gdGhpcy5MQShpICsgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW5NYXRjaGVyKG5leHRUb2tlbiwgY3VyclBhdGhbaV0pID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG1pc21hdGNoIGluIGN1cnJlbnQgcGF0aFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRyeSB0aGUgbmV4dCBwdGhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZSBuZXh0UGF0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBmb3VuZCBhIGZ1bGwgcGF0aCB0aGF0IG1hdGNoZXMuXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgd2lsbCBhbHNvIHdvcmsgZm9yIGFuIGVtcHR5IEFMVCBhcyB0aGUgbG9vcCB3aWxsIGJlIHNraXBwZWRcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIG5vbmUgb2YgdGhlIHBhdGhzIGZvciB0aGUgY3VycmVudCBhbHRlcm5hdGl2ZSBtYXRjaGVkXG4gICAgICAgICAgICAgICAgLy8gdHJ5IHRoZSBuZXh0IGFsdGVybmF0aXZlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBub25lIG9mIHRoZSBhbHRlcm5hdGl2ZXMgY291bGQgYmUgbWF0Y2hlZFxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gYnVpbGRTaW5nbGVBbHRlcm5hdGl2ZUxvb2thaGVhZEZ1bmN0aW9uKGFsdCwgdG9rZW5NYXRjaGVyLCBkeW5hbWljVG9rZW5zRW5hYmxlZCkge1xuICAgIHZhciBhcmVBbGxPbmVUb2tlbkxvb2thaGVhZCA9IGV2ZXJ5KGFsdCwgZnVuY3Rpb24gKGN1cnJQYXRoKSB7XG4gICAgICAgIHJldHVybiBjdXJyUGF0aC5sZW5ndGggPT09IDE7XG4gICAgfSk7XG4gICAgdmFyIG51bU9mUGF0aHMgPSBhbHQubGVuZ3RoO1xuICAgIC8vIG9wdGltaXplZCAoY29tbW9uKSBjYXNlIG9mIGFsbCB0aGUgbG9va2FoZWFkcyBwYXRocyByZXF1aXJpbmcgb25seVxuICAgIC8vIGEgc2luZ2xlIHRva2VuIGxvb2thaGVhZC5cbiAgICBpZiAoYXJlQWxsT25lVG9rZW5Mb29rYWhlYWQgJiYgIWR5bmFtaWNUb2tlbnNFbmFibGVkKSB7XG4gICAgICAgIHZhciBzaW5nbGVUb2tlbnNUeXBlcyA9IGZsYXR0ZW4oYWx0KTtcbiAgICAgICAgaWYgKHNpbmdsZVRva2Vuc1R5cGVzLmxlbmd0aCA9PT0gMSAmJlxuICAgICAgICAgICAgaXNFbXB0eShzaW5nbGVUb2tlbnNUeXBlc1swXS5jYXRlZ29yeU1hdGNoZXMpKSB7XG4gICAgICAgICAgICB2YXIgZXhwZWN0ZWRUb2tlblR5cGUgPSBzaW5nbGVUb2tlbnNUeXBlc1swXTtcbiAgICAgICAgICAgIHZhciBleHBlY3RlZFRva2VuVW5pcXVlS2V5XzEgPSBleHBlY3RlZFRva2VuVHlwZS50b2tlblR5cGVJZHg7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLkxBKDEpLnRva2VuVHlwZUlkeCA9PT0gZXhwZWN0ZWRUb2tlblVuaXF1ZUtleV8xO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBjaG9pY2VUb0FsdF8yID0gcmVkdWNlKHNpbmdsZVRva2Vuc1R5cGVzLCBmdW5jdGlvbiAocmVzdWx0LCBjdXJyVG9rVHlwZSwgaWR4KSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0W2N1cnJUb2tUeXBlLnRva2VuVHlwZUlkeF0gPSB0cnVlO1xuICAgICAgICAgICAgICAgIGZvckVhY2goY3VyclRva1R5cGUuY2F0ZWdvcnlNYXRjaGVzLCBmdW5jdGlvbiAoY3VyckV4dGVuZGluZ1R5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0W2N1cnJFeHRlbmRpbmdUeXBlXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH0sIFtdKTtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5leHRUb2tlbiA9IHRoaXMuTEEoMSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNob2ljZVRvQWx0XzJbbmV4dFRva2VuLnRva2VuVHlwZUlkeF0gPT09IHRydWU7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbmV4dFBhdGg6IGZvciAodmFyIGogPSAwOyBqIDwgbnVtT2ZQYXRoczsgaisrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGN1cnJQYXRoID0gYWx0W2pdO1xuICAgICAgICAgICAgICAgIHZhciBjdXJyUGF0aExlbmd0aCA9IGN1cnJQYXRoLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGN1cnJQYXRoTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5leHRUb2tlbiA9IHRoaXMuTEEoaSArIDEpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW5NYXRjaGVyKG5leHRUb2tlbiwgY3VyclBhdGhbaV0pID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbWlzbWF0Y2ggaW4gY3VycmVudCBwYXRoXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0cnkgdGhlIG5leHQgcHRoXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZSBuZXh0UGF0aDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBmb3VuZCBhIGZ1bGwgcGF0aCB0aGF0IG1hdGNoZXMuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBub25lIG9mIHRoZSBwYXRocyBtYXRjaGVkXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH07XG4gICAgfVxufVxudmFyIFJlc3REZWZpbml0aW9uRmluZGVyV2Fsa2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhSZXN0RGVmaW5pdGlvbkZpbmRlcldhbGtlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBSZXN0RGVmaW5pdGlvbkZpbmRlcldhbGtlcih0b3BQcm9kLCB0YXJnZXRPY2N1cnJlbmNlLCB0YXJnZXRQcm9kVHlwZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy50b3BQcm9kID0gdG9wUHJvZDtcbiAgICAgICAgX3RoaXMudGFyZ2V0T2NjdXJyZW5jZSA9IHRhcmdldE9jY3VycmVuY2U7XG4gICAgICAgIF90aGlzLnRhcmdldFByb2RUeXBlID0gdGFyZ2V0UHJvZFR5cGU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgUmVzdERlZmluaXRpb25GaW5kZXJXYWxrZXIucHJvdG90eXBlLnN0YXJ0V2Fsa2luZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy53YWxrKHRoaXMudG9wUHJvZCk7XG4gICAgICAgIHJldHVybiB0aGlzLnJlc3REZWY7XG4gICAgfTtcbiAgICBSZXN0RGVmaW5pdGlvbkZpbmRlcldhbGtlci5wcm90b3R5cGUuY2hlY2tJc1RhcmdldCA9IGZ1bmN0aW9uIChub2RlLCBleHBlY3RlZFByb2RUeXBlLCBjdXJyUmVzdCwgcHJldlJlc3QpIHtcbiAgICAgICAgaWYgKG5vZGUuaWR4ID09PSB0aGlzLnRhcmdldE9jY3VycmVuY2UgJiZcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0UHJvZFR5cGUgPT09IGV4cGVjdGVkUHJvZFR5cGUpIHtcbiAgICAgICAgICAgIHRoaXMucmVzdERlZiA9IGN1cnJSZXN0LmNvbmNhdChwcmV2UmVzdCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBwZXJmb3JtYW5jZSBvcHRpbWl6YXRpb24sIGRvIG5vdCBpdGVyYXRlIG92ZXIgdGhlIGVudGlyZSBHcmFtbWFyIGFzdCBhZnRlciB3ZSBoYXZlIGZvdW5kIHRoZSB0YXJnZXRcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgUmVzdERlZmluaXRpb25GaW5kZXJXYWxrZXIucHJvdG90eXBlLndhbGtPcHRpb24gPSBmdW5jdGlvbiAob3B0aW9uUHJvZCwgY3VyclJlc3QsIHByZXZSZXN0KSB7XG4gICAgICAgIGlmICghdGhpcy5jaGVja0lzVGFyZ2V0KG9wdGlvblByb2QsIFBST0RfVFlQRS5PUFRJT04sIGN1cnJSZXN0LCBwcmV2UmVzdCkpIHtcbiAgICAgICAgICAgIF9zdXBlci5wcm90b3R5cGUud2Fsa09wdGlvbi5jYWxsKHRoaXMsIG9wdGlvblByb2QsIGN1cnJSZXN0LCBwcmV2UmVzdCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJlc3REZWZpbml0aW9uRmluZGVyV2Fsa2VyLnByb3RvdHlwZS53YWxrQXRMZWFzdE9uZSA9IGZ1bmN0aW9uIChhdExlYXN0T25lUHJvZCwgY3VyclJlc3QsIHByZXZSZXN0KSB7XG4gICAgICAgIGlmICghdGhpcy5jaGVja0lzVGFyZ2V0KGF0TGVhc3RPbmVQcm9kLCBQUk9EX1RZUEUuUkVQRVRJVElPTl9NQU5EQVRPUlksIGN1cnJSZXN0LCBwcmV2UmVzdCkpIHtcbiAgICAgICAgICAgIF9zdXBlci5wcm90b3R5cGUud2Fsa09wdGlvbi5jYWxsKHRoaXMsIGF0TGVhc3RPbmVQcm9kLCBjdXJyUmVzdCwgcHJldlJlc3QpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBSZXN0RGVmaW5pdGlvbkZpbmRlcldhbGtlci5wcm90b3R5cGUud2Fsa0F0TGVhc3RPbmVTZXAgPSBmdW5jdGlvbiAoYXRMZWFzdE9uZVNlcFByb2QsIGN1cnJSZXN0LCBwcmV2UmVzdCkge1xuICAgICAgICBpZiAoIXRoaXMuY2hlY2tJc1RhcmdldChhdExlYXN0T25lU2VwUHJvZCwgUFJPRF9UWVBFLlJFUEVUSVRJT05fTUFOREFUT1JZX1dJVEhfU0VQQVJBVE9SLCBjdXJyUmVzdCwgcHJldlJlc3QpKSB7XG4gICAgICAgICAgICBfc3VwZXIucHJvdG90eXBlLndhbGtPcHRpb24uY2FsbCh0aGlzLCBhdExlYXN0T25lU2VwUHJvZCwgY3VyclJlc3QsIHByZXZSZXN0KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUmVzdERlZmluaXRpb25GaW5kZXJXYWxrZXIucHJvdG90eXBlLndhbGtNYW55ID0gZnVuY3Rpb24gKG1hbnlQcm9kLCBjdXJyUmVzdCwgcHJldlJlc3QpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNoZWNrSXNUYXJnZXQobWFueVByb2QsIFBST0RfVFlQRS5SRVBFVElUSU9OLCBjdXJyUmVzdCwgcHJldlJlc3QpKSB7XG4gICAgICAgICAgICBfc3VwZXIucHJvdG90eXBlLndhbGtPcHRpb24uY2FsbCh0aGlzLCBtYW55UHJvZCwgY3VyclJlc3QsIHByZXZSZXN0KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUmVzdERlZmluaXRpb25GaW5kZXJXYWxrZXIucHJvdG90eXBlLndhbGtNYW55U2VwID0gZnVuY3Rpb24gKG1hbnlTZXBQcm9kLCBjdXJyUmVzdCwgcHJldlJlc3QpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNoZWNrSXNUYXJnZXQobWFueVNlcFByb2QsIFBST0RfVFlQRS5SRVBFVElUSU9OX1dJVEhfU0VQQVJBVE9SLCBjdXJyUmVzdCwgcHJldlJlc3QpKSB7XG4gICAgICAgICAgICBfc3VwZXIucHJvdG90eXBlLndhbGtPcHRpb24uY2FsbCh0aGlzLCBtYW55U2VwUHJvZCwgY3VyclJlc3QsIHByZXZSZXN0KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFJlc3REZWZpbml0aW9uRmluZGVyV2Fsa2VyO1xufShSZXN0V2Fsa2VyKSk7XG4vKipcbiAqIFJldHVybnMgdGhlIGRlZmluaXRpb24gb2YgYSB0YXJnZXQgcHJvZHVjdGlvbiBpbiBhIHRvcCBsZXZlbCBsZXZlbCBydWxlLlxuICovXG52YXIgSW5zaWRlRGVmaW5pdGlvbkZpbmRlclZpc2l0b3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEluc2lkZURlZmluaXRpb25GaW5kZXJWaXNpdG9yLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEluc2lkZURlZmluaXRpb25GaW5kZXJWaXNpdG9yKHRhcmdldE9jY3VycmVuY2UsIHRhcmdldFByb2RUeXBlLCB0YXJnZXRSZWYpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMudGFyZ2V0T2NjdXJyZW5jZSA9IHRhcmdldE9jY3VycmVuY2U7XG4gICAgICAgIF90aGlzLnRhcmdldFByb2RUeXBlID0gdGFyZ2V0UHJvZFR5cGU7XG4gICAgICAgIF90aGlzLnRhcmdldFJlZiA9IHRhcmdldFJlZjtcbiAgICAgICAgX3RoaXMucmVzdWx0ID0gW107XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgSW5zaWRlRGVmaW5pdGlvbkZpbmRlclZpc2l0b3IucHJvdG90eXBlLmNoZWNrSXNUYXJnZXQgPSBmdW5jdGlvbiAobm9kZSwgZXhwZWN0ZWRQcm9kTmFtZSkge1xuICAgICAgICBpZiAobm9kZS5pZHggPT09IHRoaXMudGFyZ2V0T2NjdXJyZW5jZSAmJlxuICAgICAgICAgICAgdGhpcy50YXJnZXRQcm9kVHlwZSA9PT0gZXhwZWN0ZWRQcm9kTmFtZSAmJlxuICAgICAgICAgICAgKHRoaXMudGFyZ2V0UmVmID09PSB1bmRlZmluZWQgfHwgbm9kZSA9PT0gdGhpcy50YXJnZXRSZWYpKSB7XG4gICAgICAgICAgICB0aGlzLnJlc3VsdCA9IG5vZGUuZGVmaW5pdGlvbjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgSW5zaWRlRGVmaW5pdGlvbkZpbmRlclZpc2l0b3IucHJvdG90eXBlLnZpc2l0T3B0aW9uID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgdGhpcy5jaGVja0lzVGFyZ2V0KG5vZGUsIFBST0RfVFlQRS5PUFRJT04pO1xuICAgIH07XG4gICAgSW5zaWRlRGVmaW5pdGlvbkZpbmRlclZpc2l0b3IucHJvdG90eXBlLnZpc2l0UmVwZXRpdGlvbiA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgIHRoaXMuY2hlY2tJc1RhcmdldChub2RlLCBQUk9EX1RZUEUuUkVQRVRJVElPTik7XG4gICAgfTtcbiAgICBJbnNpZGVEZWZpbml0aW9uRmluZGVyVmlzaXRvci5wcm90b3R5cGUudmlzaXRSZXBldGl0aW9uTWFuZGF0b3J5ID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgdGhpcy5jaGVja0lzVGFyZ2V0KG5vZGUsIFBST0RfVFlQRS5SRVBFVElUSU9OX01BTkRBVE9SWSk7XG4gICAgfTtcbiAgICBJbnNpZGVEZWZpbml0aW9uRmluZGVyVmlzaXRvci5wcm90b3R5cGUudmlzaXRSZXBldGl0aW9uTWFuZGF0b3J5V2l0aFNlcGFyYXRvciA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgIHRoaXMuY2hlY2tJc1RhcmdldChub2RlLCBQUk9EX1RZUEUuUkVQRVRJVElPTl9NQU5EQVRPUllfV0lUSF9TRVBBUkFUT1IpO1xuICAgIH07XG4gICAgSW5zaWRlRGVmaW5pdGlvbkZpbmRlclZpc2l0b3IucHJvdG90eXBlLnZpc2l0UmVwZXRpdGlvbldpdGhTZXBhcmF0b3IgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICB0aGlzLmNoZWNrSXNUYXJnZXQobm9kZSwgUFJPRF9UWVBFLlJFUEVUSVRJT05fV0lUSF9TRVBBUkFUT1IpO1xuICAgIH07XG4gICAgSW5zaWRlRGVmaW5pdGlvbkZpbmRlclZpc2l0b3IucHJvdG90eXBlLnZpc2l0QWx0ZXJuYXRpb24gPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICB0aGlzLmNoZWNrSXNUYXJnZXQobm9kZSwgUFJPRF9UWVBFLkFMVEVSTkFUSU9OKTtcbiAgICB9O1xuICAgIHJldHVybiBJbnNpZGVEZWZpbml0aW9uRmluZGVyVmlzaXRvcjtcbn0oR0FzdFZpc2l0b3IpKTtcbmZ1bmN0aW9uIGluaXRpYWxpemVBcnJheU9mQXJyYXlzKHNpemUpIHtcbiAgICB2YXIgcmVzdWx0ID0gbmV3IEFycmF5KHNpemUpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2l6ZTsgaSsrKSB7XG4gICAgICAgIHJlc3VsdFtpXSA9IFtdO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLyoqXG4gKiBBIHNvcnQgb2YgaGFzaCBmdW5jdGlvbiBiZXR3ZWVuIGEgUGF0aCBpbiB0aGUgZ3JhbW1hciBhbmQgYSBzdHJpbmcuXG4gKiBOb3RlIHRoYXQgdGhpcyByZXR1cm5zIG11bHRpcGxlIFwiaGFzaGVzXCIgdG8gc3VwcG9ydCB0aGUgc2NlbmFyaW8gb2YgdG9rZW4gY2F0ZWdvcmllcy5cbiAqIC0gIEEgc2luZ2xlIHBhdGggd2l0aCBjYXRlZ29yaWVzIG1heSBtYXRjaCBtdWx0aXBsZSAqKmFjdHVhbCoqIHBhdGhzLlxuICovXG5mdW5jdGlvbiBwYXRoVG9IYXNoS2V5cyhwYXRoKSB7XG4gICAgdmFyIGtleXMgPSBbXCJcIl07XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciB0b2tUeXBlID0gcGF0aFtpXTtcbiAgICAgICAgdmFyIGxvbmdlcktleXMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBrZXlzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICB2YXIgY3VyclNob3J0ZXJLZXkgPSBrZXlzW2pdO1xuICAgICAgICAgICAgbG9uZ2VyS2V5cy5wdXNoKGN1cnJTaG9ydGVyS2V5ICsgXCJfXCIgKyB0b2tUeXBlLnRva2VuVHlwZUlkeCk7XG4gICAgICAgICAgICBmb3IgKHZhciB0ID0gMDsgdCA8IHRva1R5cGUuY2F0ZWdvcnlNYXRjaGVzLmxlbmd0aDsgdCsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNhdGVnb3JpZXNLZXlTdWZmaXggPSBcIl9cIiArIHRva1R5cGUuY2F0ZWdvcnlNYXRjaGVzW3RdO1xuICAgICAgICAgICAgICAgIGxvbmdlcktleXMucHVzaChjdXJyU2hvcnRlcktleSArIGNhdGVnb3JpZXNLZXlTdWZmaXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGtleXMgPSBsb25nZXJLZXlzO1xuICAgIH1cbiAgICByZXR1cm4ga2V5cztcbn1cbi8qKlxuICogSW1wZXJhdGl2ZSBzdHlsZSBkdWUgdG8gYmVpbmcgY2FsbGVkIGZyb20gYSBob3Qgc3BvdFxuICovXG5mdW5jdGlvbiBpc1VuaXF1ZVByZWZpeEhhc2goYWx0S25vd25QYXRoc0tleXMsIHNlYXJjaFBhdGhLZXlzLCBpZHgpIHtcbiAgICBmb3IgKHZhciBjdXJyQWx0SWR4ID0gMDsgY3VyckFsdElkeCA8IGFsdEtub3duUGF0aHNLZXlzLmxlbmd0aDsgY3VyckFsdElkeCsrKSB7XG4gICAgICAgIC8vIFdlIG9ubHkgd2FudCB0byB0ZXN0IHZzIHRoZSBvdGhlciBhbHRlcm5hdGl2ZXNcbiAgICAgICAgaWYgKGN1cnJBbHRJZHggPT09IGlkeCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG90aGVyQWx0S25vd25QYXRoc0tleXMgPSBhbHRLbm93blBhdGhzS2V5c1tjdXJyQWx0SWR4XTtcbiAgICAgICAgZm9yICh2YXIgc2VhcmNoSWR4ID0gMDsgc2VhcmNoSWR4IDwgc2VhcmNoUGF0aEtleXMubGVuZ3RoOyBzZWFyY2hJZHgrKykge1xuICAgICAgICAgICAgdmFyIHNlYXJjaEtleSA9IHNlYXJjaFBhdGhLZXlzW3NlYXJjaElkeF07XG4gICAgICAgICAgICBpZiAob3RoZXJBbHRLbm93blBhdGhzS2V5c1tzZWFyY2hLZXldID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIE5vbmUgb2YgdGhlIFNlYXJjaFBhdGhLZXlzIHdlcmUgZm91bmQgaW4gYW55IG9mIHRoZSBvdGhlciBhbHRlcm5hdGl2ZXNcbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBsb29rQWhlYWRTZXF1ZW5jZUZyb21BbHRlcm5hdGl2ZXMoYWx0c0RlZnMsIGspIHtcbiAgICB2YXIgcGFydGlhbEFsdHMgPSBtYXAoYWx0c0RlZnMsIGZ1bmN0aW9uIChjdXJyQWx0KSB7IHJldHVybiBwb3NzaWJsZVBhdGhzRnJvbShbY3VyckFsdF0sIDEpOyB9KTtcbiAgICB2YXIgZmluYWxSZXN1bHQgPSBpbml0aWFsaXplQXJyYXlPZkFycmF5cyhwYXJ0aWFsQWx0cy5sZW5ndGgpO1xuICAgIHZhciBhbHRzSGFzaGVzID0gbWFwKHBhcnRpYWxBbHRzLCBmdW5jdGlvbiAoY3VyckFsdFBhdGhzKSB7XG4gICAgICAgIHZhciBkaWN0ID0ge307XG4gICAgICAgIGZvckVhY2goY3VyckFsdFBhdGhzLCBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgdmFyIGtleXMgPSBwYXRoVG9IYXNoS2V5cyhpdGVtLnBhcnRpYWxQYXRoKTtcbiAgICAgICAgICAgIGZvckVhY2goa2V5cywgZnVuY3Rpb24gKGN1cnJLZXkpIHtcbiAgICAgICAgICAgICAgICBkaWN0W2N1cnJLZXldID0gdHJ1ZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGRpY3Q7XG4gICAgfSk7XG4gICAgdmFyIG5ld0RhdGEgPSBwYXJ0aWFsQWx0cztcbiAgICAvLyBtYXhMb29rYWhlYWQgbG9vcFxuICAgIGZvciAodmFyIHBhdGhMZW5ndGggPSAxOyBwYXRoTGVuZ3RoIDw9IGs7IHBhdGhMZW5ndGgrKykge1xuICAgICAgICB2YXIgY3VyckRhdGFzZXQgPSBuZXdEYXRhO1xuICAgICAgICBuZXdEYXRhID0gaW5pdGlhbGl6ZUFycmF5T2ZBcnJheXMoY3VyckRhdGFzZXQubGVuZ3RoKTtcbiAgICAgICAgdmFyIF9sb29wXzEgPSBmdW5jdGlvbiAoYWx0SWR4KSB7XG4gICAgICAgICAgICB2YXIgY3VyckFsdFBhdGhzQW5kU3VmZml4ZXMgPSBjdXJyRGF0YXNldFthbHRJZHhdO1xuICAgICAgICAgICAgLy8gcGF0aHMgaW4gY3VycmVudCBhbHRlcm5hdGl2ZSBsb29wXG4gICAgICAgICAgICBmb3IgKHZhciBjdXJyUGF0aElkeCA9IDA7IGN1cnJQYXRoSWR4IDwgY3VyckFsdFBhdGhzQW5kU3VmZml4ZXMubGVuZ3RoOyBjdXJyUGF0aElkeCsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGN1cnJQYXRoUHJlZml4ID0gY3VyckFsdFBhdGhzQW5kU3VmZml4ZXNbY3VyclBhdGhJZHhdLnBhcnRpYWxQYXRoO1xuICAgICAgICAgICAgICAgIHZhciBzdWZmaXhEZWYgPSBjdXJyQWx0UGF0aHNBbmRTdWZmaXhlc1tjdXJyUGF0aElkeF0uc3VmZml4RGVmO1xuICAgICAgICAgICAgICAgIHZhciBwcmVmaXhLZXlzID0gcGF0aFRvSGFzaEtleXMoY3VyclBhdGhQcmVmaXgpO1xuICAgICAgICAgICAgICAgIHZhciBpc1VuaXF1ZSA9IGlzVW5pcXVlUHJlZml4SGFzaChhbHRzSGFzaGVzLCBwcmVmaXhLZXlzLCBhbHRJZHgpO1xuICAgICAgICAgICAgICAgIC8vIEVuZCBvZiB0aGUgbGluZSBmb3IgdGhpcyBwYXRoLlxuICAgICAgICAgICAgICAgIGlmIChpc1VuaXF1ZSB8fCBpc0VtcHR5KHN1ZmZpeERlZikgfHwgY3VyclBhdGhQcmVmaXgubGVuZ3RoID09PSBrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJyQWx0UmVzdWx0ID0gZmluYWxSZXN1bHRbYWx0SWR4XTtcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogQ2FuIHdlIGltcGxlbWVudCBhIGNvbnRhaW5zUGF0aCB1c2luZyBNYXBzL0RpY3Rpb25hcmllcz9cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRhaW5zUGF0aChjdXJyQWx0UmVzdWx0LCBjdXJyUGF0aFByZWZpeCkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyQWx0UmVzdWx0LnB1c2goY3VyclBhdGhQcmVmaXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIGFsbCBuZXcgIGtleXMgZm9yIHRoZSBjdXJyZW50IHBhdGguXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHByZWZpeEtleXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VycktleSA9IHByZWZpeEtleXNbal07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWx0c0hhc2hlc1thbHRJZHhdW2N1cnJLZXldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBFeHBhbmQgbG9uZ2VyIHBhdGhzXG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdQYXJ0aWFsUGF0aHNBbmRTdWZmaXhlcyA9IHBvc3NpYmxlUGF0aHNGcm9tKHN1ZmZpeERlZiwgcGF0aExlbmd0aCArIDEsIGN1cnJQYXRoUHJlZml4KTtcbiAgICAgICAgICAgICAgICAgICAgbmV3RGF0YVthbHRJZHhdID0gbmV3RGF0YVthbHRJZHhdLmNvbmNhdChuZXdQYXJ0aWFsUGF0aHNBbmRTdWZmaXhlcyk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBrZXlzIGZvciBuZXcga25vd24gcGF0aHNcbiAgICAgICAgICAgICAgICAgICAgZm9yRWFjaChuZXdQYXJ0aWFsUGF0aHNBbmRTdWZmaXhlcywgZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcmVmaXhLZXlzID0gcGF0aFRvSGFzaEtleXMoaXRlbS5wYXJ0aWFsUGF0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JFYWNoKHByZWZpeEtleXMsIGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHRzSGFzaGVzW2FsdElkeF1ba2V5XSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvLyBhbHRlcm5hdGl2ZXMgbG9vcFxuICAgICAgICBmb3IgKHZhciBhbHRJZHggPSAwOyBhbHRJZHggPCBjdXJyRGF0YXNldC5sZW5ndGg7IGFsdElkeCsrKSB7XG4gICAgICAgICAgICBfbG9vcF8xKGFsdElkeCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZpbmFsUmVzdWx0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldExvb2thaGVhZFBhdGhzRm9yT3Iob2NjdXJyZW5jZSwgcnVsZUdyYW1tYXIsIGssIG9yUHJvZCkge1xuICAgIHZhciB2aXNpdG9yID0gbmV3IEluc2lkZURlZmluaXRpb25GaW5kZXJWaXNpdG9yKG9jY3VycmVuY2UsIFBST0RfVFlQRS5BTFRFUk5BVElPTiwgb3JQcm9kKTtcbiAgICBydWxlR3JhbW1hci5hY2NlcHQodmlzaXRvcik7XG4gICAgcmV0dXJuIGxvb2tBaGVhZFNlcXVlbmNlRnJvbUFsdGVybmF0aXZlcyh2aXNpdG9yLnJlc3VsdCwgayk7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0TG9va2FoZWFkUGF0aHNGb3JPcHRpb25hbFByb2Qob2NjdXJyZW5jZSwgcnVsZUdyYW1tYXIsIHByb2RUeXBlLCBrKSB7XG4gICAgdmFyIGluc2lkZURlZlZpc2l0b3IgPSBuZXcgSW5zaWRlRGVmaW5pdGlvbkZpbmRlclZpc2l0b3Iob2NjdXJyZW5jZSwgcHJvZFR5cGUpO1xuICAgIHJ1bGVHcmFtbWFyLmFjY2VwdChpbnNpZGVEZWZWaXNpdG9yKTtcbiAgICB2YXIgaW5zaWRlRGVmID0gaW5zaWRlRGVmVmlzaXRvci5yZXN1bHQ7XG4gICAgdmFyIGFmdGVyRGVmV2Fsa2VyID0gbmV3IFJlc3REZWZpbml0aW9uRmluZGVyV2Fsa2VyKHJ1bGVHcmFtbWFyLCBvY2N1cnJlbmNlLCBwcm9kVHlwZSk7XG4gICAgdmFyIGFmdGVyRGVmID0gYWZ0ZXJEZWZXYWxrZXIuc3RhcnRXYWxraW5nKCk7XG4gICAgdmFyIGluc2lkZUZsYXQgPSBuZXcgQWx0ZXJuYXRpdmVHQVNUKHsgZGVmaW5pdGlvbjogaW5zaWRlRGVmIH0pO1xuICAgIHZhciBhZnRlckZsYXQgPSBuZXcgQWx0ZXJuYXRpdmVHQVNUKHsgZGVmaW5pdGlvbjogYWZ0ZXJEZWYgfSk7XG4gICAgcmV0dXJuIGxvb2tBaGVhZFNlcXVlbmNlRnJvbUFsdGVybmF0aXZlcyhbaW5zaWRlRmxhdCwgYWZ0ZXJGbGF0XSwgayk7XG59XG5leHBvcnQgZnVuY3Rpb24gY29udGFpbnNQYXRoKGFsdGVybmF0aXZlLCBzZWFyY2hQYXRoKSB7XG4gICAgY29tcGFyZU90aGVyUGF0aDogZm9yICh2YXIgaSA9IDA7IGkgPCBhbHRlcm5hdGl2ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgb3RoZXJQYXRoID0gYWx0ZXJuYXRpdmVbaV07XG4gICAgICAgIGlmIChvdGhlclBhdGgubGVuZ3RoICE9PSBzZWFyY2hQYXRoLmxlbmd0aCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBvdGhlclBhdGgubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIHZhciBzZWFyY2hUb2sgPSBzZWFyY2hQYXRoW2pdO1xuICAgICAgICAgICAgdmFyIG90aGVyVG9rID0gb3RoZXJQYXRoW2pdO1xuICAgICAgICAgICAgdmFyIG1hdGNoaW5nVG9rZW5zID0gc2VhcmNoVG9rID09PSBvdGhlclRvayB8fFxuICAgICAgICAgICAgICAgIG90aGVyVG9rLmNhdGVnb3J5TWF0Y2hlc01hcFtzZWFyY2hUb2sudG9rZW5UeXBlSWR4XSAhPT0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgaWYgKG1hdGNoaW5nVG9rZW5zID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlIGNvbXBhcmVPdGhlclBhdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1N0cmljdFByZWZpeE9mUGF0aChwcmVmaXgsIG90aGVyKSB7XG4gICAgcmV0dXJuIChwcmVmaXgubGVuZ3RoIDwgb3RoZXIubGVuZ3RoICYmXG4gICAgICAgIGV2ZXJ5KHByZWZpeCwgZnVuY3Rpb24gKHRva1R5cGUsIGlkeCkge1xuICAgICAgICAgICAgdmFyIG90aGVyVG9rVHlwZSA9IG90aGVyW2lkeF07XG4gICAgICAgICAgICByZXR1cm4gKHRva1R5cGUgPT09IG90aGVyVG9rVHlwZSB8fFxuICAgICAgICAgICAgICAgIG90aGVyVG9rVHlwZS5jYXRlZ29yeU1hdGNoZXNNYXBbdG9rVHlwZS50b2tlblR5cGVJZHhdKTtcbiAgICAgICAgfSkpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGFyZVRva2VuQ2F0ZWdvcmllc05vdFVzZWQobG9va0FoZWFkUGF0aHMpIHtcbiAgICByZXR1cm4gZXZlcnkobG9va0FoZWFkUGF0aHMsIGZ1bmN0aW9uIChzaW5nbGVBbHRQYXRocykge1xuICAgICAgICByZXR1cm4gZXZlcnkoc2luZ2xlQWx0UGF0aHMsIGZ1bmN0aW9uIChzaW5nbGVQYXRoKSB7XG4gICAgICAgICAgICByZXR1cm4gZXZlcnkoc2luZ2xlUGF0aCwgZnVuY3Rpb24gKHRva2VuKSB7IHJldHVybiBpc0VtcHR5KHRva2VuLmNhdGVnb3J5TWF0Y2hlcyk7IH0pO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvb2thaGVhZC5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbmltcG9ydCAqIGFzIHV0aWxzIGZyb20gXCIuLi8uLi91dGlscy91dGlsc1wiO1xuaW1wb3J0IHsgY29udGFpbnMsIGV2ZXJ5LCBmaW5kQWxsLCBmbGF0dGVuLCBmb3JFYWNoLCBpc0VtcHR5LCBtYXAsIHJlZHVjZSwgcmVqZWN0IH0gZnJvbSBcIi4uLy4uL3V0aWxzL3V0aWxzXCI7XG5pbXBvcnQgeyBQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlIH0gZnJvbSBcIi4uL3BhcnNlci9wYXJzZXJcIjtcbmltcG9ydCB7IGdldFByb2R1Y3Rpb25Ec2xOYW1lLCBpc09wdGlvbmFsUHJvZCB9IGZyb20gXCIuL2dhc3QvZ2FzdFwiO1xuaW1wb3J0IHsgY29udGFpbnNQYXRoLCBnZXRMb29rYWhlYWRQYXRoc0Zvck9wdGlvbmFsUHJvZCwgZ2V0TG9va2FoZWFkUGF0aHNGb3JPciwgZ2V0UHJvZFR5cGUsIGlzU3RyaWN0UHJlZml4T2ZQYXRoIH0gZnJvbSBcIi4vbG9va2FoZWFkXCI7XG5pbXBvcnQgeyBuZXh0UG9zc2libGVUb2tlbnNBZnRlciB9IGZyb20gXCIuL2ludGVycHJldGVyXCI7XG5pbXBvcnQgeyBBbHRlcm5hdGlvbiwgQWx0ZXJuYXRpdmUgYXMgQWx0ZXJuYXRpdmVHQVNULCBOb25UZXJtaW5hbCwgT3B0aW9uLCBSZXBldGl0aW9uLCBSZXBldGl0aW9uTWFuZGF0b3J5LCBSZXBldGl0aW9uTWFuZGF0b3J5V2l0aFNlcGFyYXRvciwgUmVwZXRpdGlvbldpdGhTZXBhcmF0b3IsIFRlcm1pbmFsIH0gZnJvbSBcIi4vZ2FzdC9nYXN0X3B1YmxpY1wiO1xuaW1wb3J0IHsgR0FzdFZpc2l0b3IgfSBmcm9tIFwiLi9nYXN0L2dhc3RfdmlzaXRvcl9wdWJsaWNcIjtcbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZUdyYW1tYXIodG9wTGV2ZWxzLCBnbG9iYWxNYXhMb29rYWhlYWQsIHRva2VuVHlwZXMsIGVyck1zZ1Byb3ZpZGVyLCBncmFtbWFyTmFtZSkge1xuICAgIHZhciBkdXBsaWNhdGVFcnJvcnMgPSB1dGlscy5tYXAodG9wTGV2ZWxzLCBmdW5jdGlvbiAoY3VyclRvcExldmVsKSB7XG4gICAgICAgIHJldHVybiB2YWxpZGF0ZUR1cGxpY2F0ZVByb2R1Y3Rpb25zKGN1cnJUb3BMZXZlbCwgZXJyTXNnUHJvdmlkZXIpO1xuICAgIH0pO1xuICAgIHZhciBsZWZ0UmVjdXJzaW9uRXJyb3JzID0gdXRpbHMubWFwKHRvcExldmVscywgZnVuY3Rpb24gKGN1cnJUb3BSdWxlKSB7XG4gICAgICAgIHJldHVybiB2YWxpZGF0ZU5vTGVmdFJlY3Vyc2lvbihjdXJyVG9wUnVsZSwgY3VyclRvcFJ1bGUsIGVyck1zZ1Byb3ZpZGVyKTtcbiAgICB9KTtcbiAgICB2YXIgZW1wdHlBbHRFcnJvcnMgPSBbXTtcbiAgICB2YXIgYW1iaWd1b3VzQWx0c0Vycm9ycyA9IFtdO1xuICAgIHZhciBlbXB0eVJlcGV0aXRpb25FcnJvcnMgPSBbXTtcbiAgICAvLyBsZWZ0IHJlY3Vyc2lvbiBjb3VsZCBjYXVzZSBpbmZpbml0ZSBsb29wcyBpbiB0aGUgZm9sbG93aW5nIHZhbGlkYXRpb25zLlxuICAgIC8vIEl0IGlzIHNhZmVzdCB0byBmaXJzdCBoYXZlIHRoZSB1c2VyIGZpeCB0aGUgbGVmdCByZWN1cnNpb24gZXJyb3JzIGZpcnN0IGFuZCBvbmx5IHRoZW4gZXhhbWluZSBGdXJ0aGVyIGlzc3Vlcy5cbiAgICBpZiAoZXZlcnkobGVmdFJlY3Vyc2lvbkVycm9ycywgaXNFbXB0eSkpIHtcbiAgICAgICAgZW1wdHlBbHRFcnJvcnMgPSBtYXAodG9wTGV2ZWxzLCBmdW5jdGlvbiAoY3VyclRvcFJ1bGUpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWxpZGF0ZUVtcHR5T3JBbHRlcm5hdGl2ZShjdXJyVG9wUnVsZSwgZXJyTXNnUHJvdmlkZXIpO1xuICAgICAgICB9KTtcbiAgICAgICAgYW1iaWd1b3VzQWx0c0Vycm9ycyA9IG1hcCh0b3BMZXZlbHMsIGZ1bmN0aW9uIChjdXJyVG9wUnVsZSkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbGlkYXRlQW1iaWd1b3VzQWx0ZXJuYXRpb25BbHRlcm5hdGl2ZXMoY3VyclRvcFJ1bGUsIGdsb2JhbE1heExvb2thaGVhZCwgZXJyTXNnUHJvdmlkZXIpO1xuICAgICAgICB9KTtcbiAgICAgICAgZW1wdHlSZXBldGl0aW9uRXJyb3JzID0gdmFsaWRhdGVTb21lTm9uRW1wdHlMb29rYWhlYWRQYXRoKHRvcExldmVscywgZ2xvYmFsTWF4TG9va2FoZWFkLCBlcnJNc2dQcm92aWRlcik7XG4gICAgfVxuICAgIHZhciB0ZXJtc05hbWVzcGFjZUNvbmZsaWN0RXJyb3JzID0gY2hlY2tUZXJtaW5hbEFuZE5vbmVUZXJtaW5hbHNOYW1lU3BhY2UodG9wTGV2ZWxzLCB0b2tlblR5cGVzLCBlcnJNc2dQcm92aWRlcik7XG4gICAgdmFyIHRva2VuTmFtZUVycm9ycyA9IHV0aWxzLm1hcCh0b2tlblR5cGVzLCBmdW5jdGlvbiAoY3VyclRva1R5cGUpIHtcbiAgICAgICAgcmV0dXJuIHZhbGlkYXRlVG9rZW5OYW1lKGN1cnJUb2tUeXBlLCBlcnJNc2dQcm92aWRlcik7XG4gICAgfSk7XG4gICAgdmFyIHRvb01hbnlBbHRzRXJyb3JzID0gbWFwKHRvcExldmVscywgZnVuY3Rpb24gKGN1clJ1bGUpIHtcbiAgICAgICAgcmV0dXJuIHZhbGlkYXRlVG9vTWFueUFsdHMoY3VyUnVsZSwgZXJyTXNnUHJvdmlkZXIpO1xuICAgIH0pO1xuICAgIHZhciBydWxlTmFtZUVycm9ycyA9IG1hcCh0b3BMZXZlbHMsIGZ1bmN0aW9uIChjdXJSdWxlKSB7XG4gICAgICAgIHJldHVybiB2YWxpZGF0ZVJ1bGVOYW1lKGN1clJ1bGUsIGVyck1zZ1Byb3ZpZGVyKTtcbiAgICB9KTtcbiAgICB2YXIgZHVwbGljYXRlUnVsZXNFcnJvciA9IG1hcCh0b3BMZXZlbHMsIGZ1bmN0aW9uIChjdXJSdWxlKSB7XG4gICAgICAgIHJldHVybiB2YWxpZGF0ZVJ1bGVEb2VzTm90QWxyZWFkeUV4aXN0KGN1clJ1bGUsIHRvcExldmVscywgZ3JhbW1hck5hbWUsIGVyck1zZ1Byb3ZpZGVyKTtcbiAgICB9KTtcbiAgICByZXR1cm4gKHV0aWxzLmZsYXR0ZW4oZHVwbGljYXRlRXJyb3JzLmNvbmNhdCh0b2tlbk5hbWVFcnJvcnMsIGVtcHR5UmVwZXRpdGlvbkVycm9ycywgbGVmdFJlY3Vyc2lvbkVycm9ycywgZW1wdHlBbHRFcnJvcnMsIGFtYmlndW91c0FsdHNFcnJvcnMsIHRlcm1zTmFtZXNwYWNlQ29uZmxpY3RFcnJvcnMsIHRvb01hbnlBbHRzRXJyb3JzLCBydWxlTmFtZUVycm9ycywgZHVwbGljYXRlUnVsZXNFcnJvcikpKTtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlRHVwbGljYXRlUHJvZHVjdGlvbnModG9wTGV2ZWxSdWxlLCBlcnJNc2dQcm92aWRlcikge1xuICAgIHZhciBjb2xsZWN0b3JWaXNpdG9yID0gbmV3IE9jY3VycmVuY2VWYWxpZGF0aW9uQ29sbGVjdG9yKCk7XG4gICAgdG9wTGV2ZWxSdWxlLmFjY2VwdChjb2xsZWN0b3JWaXNpdG9yKTtcbiAgICB2YXIgYWxsUnVsZVByb2R1Y3Rpb25zID0gY29sbGVjdG9yVmlzaXRvci5hbGxQcm9kdWN0aW9ucztcbiAgICB2YXIgcHJvZHVjdGlvbkdyb3VwcyA9IHV0aWxzLmdyb3VwQnkoYWxsUnVsZVByb2R1Y3Rpb25zLCBpZGVudGlmeVByb2R1Y3Rpb25Gb3JEdXBsaWNhdGVzKTtcbiAgICB2YXIgZHVwbGljYXRlcyA9IHV0aWxzLnBpY2socHJvZHVjdGlvbkdyb3VwcywgZnVuY3Rpb24gKGN1cnJHcm91cCkge1xuICAgICAgICByZXR1cm4gY3Vyckdyb3VwLmxlbmd0aCA+IDE7XG4gICAgfSk7XG4gICAgdmFyIGVycm9ycyA9IHV0aWxzLm1hcCh1dGlscy52YWx1ZXMoZHVwbGljYXRlcyksIGZ1bmN0aW9uIChjdXJyRHVwbGljYXRlcykge1xuICAgICAgICB2YXIgZmlyc3RQcm9kID0gdXRpbHMuZmlyc3QoY3VyckR1cGxpY2F0ZXMpO1xuICAgICAgICB2YXIgbXNnID0gZXJyTXNnUHJvdmlkZXIuYnVpbGREdXBsaWNhdGVGb3VuZEVycm9yKHRvcExldmVsUnVsZSwgY3VyckR1cGxpY2F0ZXMpO1xuICAgICAgICB2YXIgZHNsTmFtZSA9IGdldFByb2R1Y3Rpb25Ec2xOYW1lKGZpcnN0UHJvZCk7XG4gICAgICAgIHZhciBkZWZFcnJvciA9IHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IG1zZyxcbiAgICAgICAgICAgIHR5cGU6IFBhcnNlckRlZmluaXRpb25FcnJvclR5cGUuRFVQTElDQVRFX1BST0RVQ1RJT05TLFxuICAgICAgICAgICAgcnVsZU5hbWU6IHRvcExldmVsUnVsZS5uYW1lLFxuICAgICAgICAgICAgZHNsTmFtZTogZHNsTmFtZSxcbiAgICAgICAgICAgIG9jY3VycmVuY2U6IGZpcnN0UHJvZC5pZHhcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHBhcmFtID0gZ2V0RXh0cmFQcm9kdWN0aW9uQXJndW1lbnQoZmlyc3RQcm9kKTtcbiAgICAgICAgaWYgKHBhcmFtKSB7XG4gICAgICAgICAgICBkZWZFcnJvci5wYXJhbWV0ZXIgPSBwYXJhbTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGVmRXJyb3I7XG4gICAgfSk7XG4gICAgcmV0dXJuIGVycm9ycztcbn1cbmV4cG9ydCBmdW5jdGlvbiBpZGVudGlmeVByb2R1Y3Rpb25Gb3JEdXBsaWNhdGVzKHByb2QpIHtcbiAgICByZXR1cm4gZ2V0UHJvZHVjdGlvbkRzbE5hbWUocHJvZCkgKyBcIl8jX1wiICsgcHJvZC5pZHggKyBcIl8jX1wiICsgZ2V0RXh0cmFQcm9kdWN0aW9uQXJndW1lbnQocHJvZCk7XG59XG5mdW5jdGlvbiBnZXRFeHRyYVByb2R1Y3Rpb25Bcmd1bWVudChwcm9kKSB7XG4gICAgaWYgKHByb2QgaW5zdGFuY2VvZiBUZXJtaW5hbCkge1xuICAgICAgICByZXR1cm4gcHJvZC50ZXJtaW5hbFR5cGUubmFtZTtcbiAgICB9XG4gICAgZWxzZSBpZiAocHJvZCBpbnN0YW5jZW9mIE5vblRlcm1pbmFsKSB7XG4gICAgICAgIHJldHVybiBwcm9kLm5vblRlcm1pbmFsTmFtZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cbn1cbnZhciBPY2N1cnJlbmNlVmFsaWRhdGlvbkNvbGxlY3RvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoT2NjdXJyZW5jZVZhbGlkYXRpb25Db2xsZWN0b3IsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gT2NjdXJyZW5jZVZhbGlkYXRpb25Db2xsZWN0b3IoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5hbGxQcm9kdWN0aW9ucyA9IFtdO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9jY3VycmVuY2VWYWxpZGF0aW9uQ29sbGVjdG9yLnByb3RvdHlwZS52aXNpdE5vblRlcm1pbmFsID0gZnVuY3Rpb24gKHN1YnJ1bGUpIHtcbiAgICAgICAgdGhpcy5hbGxQcm9kdWN0aW9ucy5wdXNoKHN1YnJ1bGUpO1xuICAgIH07XG4gICAgT2NjdXJyZW5jZVZhbGlkYXRpb25Db2xsZWN0b3IucHJvdG90eXBlLnZpc2l0T3B0aW9uID0gZnVuY3Rpb24gKG9wdGlvbikge1xuICAgICAgICB0aGlzLmFsbFByb2R1Y3Rpb25zLnB1c2gob3B0aW9uKTtcbiAgICB9O1xuICAgIE9jY3VycmVuY2VWYWxpZGF0aW9uQ29sbGVjdG9yLnByb3RvdHlwZS52aXNpdFJlcGV0aXRpb25XaXRoU2VwYXJhdG9yID0gZnVuY3Rpb24gKG1hbnlTZXApIHtcbiAgICAgICAgdGhpcy5hbGxQcm9kdWN0aW9ucy5wdXNoKG1hbnlTZXApO1xuICAgIH07XG4gICAgT2NjdXJyZW5jZVZhbGlkYXRpb25Db2xsZWN0b3IucHJvdG90eXBlLnZpc2l0UmVwZXRpdGlvbk1hbmRhdG9yeSA9IGZ1bmN0aW9uIChhdExlYXN0T25lKSB7XG4gICAgICAgIHRoaXMuYWxsUHJvZHVjdGlvbnMucHVzaChhdExlYXN0T25lKTtcbiAgICB9O1xuICAgIE9jY3VycmVuY2VWYWxpZGF0aW9uQ29sbGVjdG9yLnByb3RvdHlwZS52aXNpdFJlcGV0aXRpb25NYW5kYXRvcnlXaXRoU2VwYXJhdG9yID0gZnVuY3Rpb24gKGF0TGVhc3RPbmVTZXApIHtcbiAgICAgICAgdGhpcy5hbGxQcm9kdWN0aW9ucy5wdXNoKGF0TGVhc3RPbmVTZXApO1xuICAgIH07XG4gICAgT2NjdXJyZW5jZVZhbGlkYXRpb25Db2xsZWN0b3IucHJvdG90eXBlLnZpc2l0UmVwZXRpdGlvbiA9IGZ1bmN0aW9uIChtYW55KSB7XG4gICAgICAgIHRoaXMuYWxsUHJvZHVjdGlvbnMucHVzaChtYW55KTtcbiAgICB9O1xuICAgIE9jY3VycmVuY2VWYWxpZGF0aW9uQ29sbGVjdG9yLnByb3RvdHlwZS52aXNpdEFsdGVybmF0aW9uID0gZnVuY3Rpb24gKG9yKSB7XG4gICAgICAgIHRoaXMuYWxsUHJvZHVjdGlvbnMucHVzaChvcik7XG4gICAgfTtcbiAgICBPY2N1cnJlbmNlVmFsaWRhdGlvbkNvbGxlY3Rvci5wcm90b3R5cGUudmlzaXRUZXJtaW5hbCA9IGZ1bmN0aW9uICh0ZXJtaW5hbCkge1xuICAgICAgICB0aGlzLmFsbFByb2R1Y3Rpb25zLnB1c2godGVybWluYWwpO1xuICAgIH07XG4gICAgcmV0dXJuIE9jY3VycmVuY2VWYWxpZGF0aW9uQ29sbGVjdG9yO1xufShHQXN0VmlzaXRvcikpO1xuZXhwb3J0IHsgT2NjdXJyZW5jZVZhbGlkYXRpb25Db2xsZWN0b3IgfTtcbmV4cG9ydCB2YXIgdmFsaWRUZXJtc1BhdHRlcm4gPSAvXlthLXpBLVpfXVxcdyokLztcbi8vIFRPRE86IHJlbW92ZSB0aGlzIGxpbWl0YXRpb24gbm93IHRoYXQgd2UgdXNlIHJlY29yZGVyc1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlUnVsZU5hbWUocnVsZSwgZXJyTXNnUHJvdmlkZXIpIHtcbiAgICB2YXIgZXJyb3JzID0gW107XG4gICAgdmFyIHJ1bGVOYW1lID0gcnVsZS5uYW1lO1xuICAgIGlmICghcnVsZU5hbWUubWF0Y2godmFsaWRUZXJtc1BhdHRlcm4pKSB7XG4gICAgICAgIGVycm9ycy5wdXNoKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVyck1zZ1Byb3ZpZGVyLmJ1aWxkSW52YWxpZFJ1bGVOYW1lRXJyb3Ioe1xuICAgICAgICAgICAgICAgIHRvcExldmVsUnVsZTogcnVsZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZFBhdHRlcm46IHZhbGlkVGVybXNQYXR0ZXJuXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIHR5cGU6IFBhcnNlckRlZmluaXRpb25FcnJvclR5cGUuSU5WQUxJRF9SVUxFX05BTUUsXG4gICAgICAgICAgICBydWxlTmFtZTogcnVsZU5hbWVcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBlcnJvcnM7XG59XG4vLyBUT0RPOiByZW1vdmUgdGhpcyBsaW1pdGF0aW9uIG5vdyB0aGF0IHdlIHVzZSByZWNvcmRlcnNcbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZVRva2VuTmFtZSh0b2tlblR5cGUsIGVyck1zZ1Byb3ZpZGVyKSB7XG4gICAgdmFyIGVycm9ycyA9IFtdO1xuICAgIHZhciB0b2tUeXBlTmFtZSA9IHRva2VuVHlwZS5uYW1lO1xuICAgIGlmICghdG9rVHlwZU5hbWUubWF0Y2godmFsaWRUZXJtc1BhdHRlcm4pKSB7XG4gICAgICAgIGVycm9ycy5wdXNoKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVyck1zZ1Byb3ZpZGVyLmJ1aWxkVG9rZW5OYW1lRXJyb3Ioe1xuICAgICAgICAgICAgICAgIHRva2VuVHlwZTogdG9rZW5UeXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkUGF0dGVybjogdmFsaWRUZXJtc1BhdHRlcm5cbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgdHlwZTogUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZS5JTlZBTElEX1RPS0VOX05BTUVcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBlcnJvcnM7XG59XG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVSdWxlRG9lc05vdEFscmVhZHlFeGlzdChydWxlLCBhbGxSdWxlcywgY2xhc3NOYW1lLCBlcnJNc2dQcm92aWRlcikge1xuICAgIHZhciBlcnJvcnMgPSBbXTtcbiAgICB2YXIgb2NjdXJyZW5jZXMgPSByZWR1Y2UoYWxsUnVsZXMsIGZ1bmN0aW9uIChyZXN1bHQsIGN1clJ1bGUpIHtcbiAgICAgICAgaWYgKGN1clJ1bGUubmFtZSA9PT0gcnVsZS5uYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0ICsgMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0sIDApO1xuICAgIGlmIChvY2N1cnJlbmNlcyA+IDEpIHtcbiAgICAgICAgdmFyIGVyck1zZyA9IGVyck1zZ1Byb3ZpZGVyLmJ1aWxkRHVwbGljYXRlUnVsZU5hbWVFcnJvcih7XG4gICAgICAgICAgICB0b3BMZXZlbFJ1bGU6IHJ1bGUsXG4gICAgICAgICAgICBncmFtbWFyTmFtZTogY2xhc3NOYW1lXG4gICAgICAgIH0pO1xuICAgICAgICBlcnJvcnMucHVzaCh7XG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJNc2csXG4gICAgICAgICAgICB0eXBlOiBQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlLkRVUExJQ0FURV9SVUxFX05BTUUsXG4gICAgICAgICAgICBydWxlTmFtZTogcnVsZS5uYW1lXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZXJyb3JzO1xufVxuLy8gVE9ETzogaXMgdGhlcmUgYW55d2F5IHRvIGdldCBvbmx5IHRoZSBydWxlIG5hbWVzIG9mIHJ1bGVzIGluaGVyaXRlZCBmcm9tIHRoZSBzdXBlciBncmFtbWFycz9cbi8vIFRoaXMgaXMgbm90IHBhcnQgb2YgdGhlIElHcmFtbWFyRXJyb3JQcm92aWRlciBiZWNhdXNlIHRoZSB2YWxpZGF0aW9uIGNhbm5vdCBiZSBwZXJmb3JtZWQgb25cbi8vIFRoZSBncmFtbWFyIHN0cnVjdHVyZSwgb25seSBhdCBydW50aW1lLlxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlUnVsZUlzT3ZlcnJpZGRlbihydWxlTmFtZSwgZGVmaW5lZFJ1bGVzTmFtZXMsIGNsYXNzTmFtZSkge1xuICAgIHZhciBlcnJvcnMgPSBbXTtcbiAgICB2YXIgZXJyTXNnO1xuICAgIGlmICghdXRpbHMuY29udGFpbnMoZGVmaW5lZFJ1bGVzTmFtZXMsIHJ1bGVOYW1lKSkge1xuICAgICAgICBlcnJNc2cgPVxuICAgICAgICAgICAgXCJJbnZhbGlkIHJ1bGUgb3ZlcnJpZGUsIHJ1bGU6IC0+XCIgKyBydWxlTmFtZSArIFwiPC0gY2Fubm90IGJlIG92ZXJyaWRkZW4gaW4gdGhlIGdyYW1tYXI6IC0+XCIgKyBjbGFzc05hbWUgKyBcIjwtXCIgK1xuICAgICAgICAgICAgICAgIFwiYXMgaXQgaXMgbm90IGRlZmluZWQgaW4gYW55IG9mIHRoZSBzdXBlciBncmFtbWFycyBcIjtcbiAgICAgICAgZXJyb3JzLnB1c2goe1xuICAgICAgICAgICAgbWVzc2FnZTogZXJyTXNnLFxuICAgICAgICAgICAgdHlwZTogUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZS5JTlZBTElEX1JVTEVfT1ZFUlJJREUsXG4gICAgICAgICAgICBydWxlTmFtZTogcnVsZU5hbWVcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBlcnJvcnM7XG59XG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVOb0xlZnRSZWN1cnNpb24odG9wUnVsZSwgY3VyclJ1bGUsIGVyck1zZ1Byb3ZpZGVyLCBwYXRoKSB7XG4gICAgaWYgKHBhdGggPT09IHZvaWQgMCkgeyBwYXRoID0gW107IH1cbiAgICB2YXIgZXJyb3JzID0gW107XG4gICAgdmFyIG5leHROb25UZXJtaW5hbHMgPSBnZXRGaXJzdE5vbmVUZXJtaW5hbChjdXJyUnVsZS5kZWZpbml0aW9uKTtcbiAgICBpZiAodXRpbHMuaXNFbXB0eShuZXh0Tm9uVGVybWluYWxzKSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB2YXIgcnVsZU5hbWUgPSB0b3BSdWxlLm5hbWU7XG4gICAgICAgIHZhciBmb3VuZExlZnRSZWN1cnNpb24gPSB1dGlscy5jb250YWlucyhuZXh0Tm9uVGVybWluYWxzLCB0b3BSdWxlKTtcbiAgICAgICAgaWYgKGZvdW5kTGVmdFJlY3Vyc2lvbikge1xuICAgICAgICAgICAgZXJyb3JzLnB1c2goe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGVyck1zZ1Byb3ZpZGVyLmJ1aWxkTGVmdFJlY3Vyc2lvbkVycm9yKHtcbiAgICAgICAgICAgICAgICAgICAgdG9wTGV2ZWxSdWxlOiB0b3BSdWxlLFxuICAgICAgICAgICAgICAgICAgICBsZWZ0UmVjdXJzaW9uUGF0aDogcGF0aFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIHR5cGU6IFBhcnNlckRlZmluaXRpb25FcnJvclR5cGUuTEVGVF9SRUNVUlNJT04sXG4gICAgICAgICAgICAgICAgcnVsZU5hbWU6IHJ1bGVOYW1lXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyB3ZSBhcmUgb25seSBsb29raW5nIGZvciBjeWNsaWMgcGF0aHMgbGVhZGluZyBiYWNrIHRvIHRoZSBzcGVjaWZpYyB0b3BSdWxlXG4gICAgICAgIC8vIG90aGVyIGN5Y2xpYyBwYXRocyBhcmUgaWdub3JlZCwgd2Ugc3RpbGwgbmVlZCB0aGlzIGRpZmZlcmVuY2UgdG8gYXZvaWQgaW5maW5pdGUgbG9vcHMuLi5cbiAgICAgICAgdmFyIHZhbGlkTmV4dFN0ZXBzID0gdXRpbHMuZGlmZmVyZW5jZShuZXh0Tm9uVGVybWluYWxzLCBwYXRoLmNvbmNhdChbdG9wUnVsZV0pKTtcbiAgICAgICAgdmFyIGVycm9yc0Zyb21OZXh0U3RlcHMgPSB1dGlscy5tYXAodmFsaWROZXh0U3RlcHMsIGZ1bmN0aW9uIChjdXJyUmVmUnVsZSkge1xuICAgICAgICAgICAgdmFyIG5ld1BhdGggPSB1dGlscy5jbG9uZUFycihwYXRoKTtcbiAgICAgICAgICAgIG5ld1BhdGgucHVzaChjdXJyUmVmUnVsZSk7XG4gICAgICAgICAgICByZXR1cm4gdmFsaWRhdGVOb0xlZnRSZWN1cnNpb24odG9wUnVsZSwgY3VyclJlZlJ1bGUsIGVyck1zZ1Byb3ZpZGVyLCBuZXdQYXRoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBlcnJvcnMuY29uY2F0KHV0aWxzLmZsYXR0ZW4oZXJyb3JzRnJvbU5leHRTdGVwcykpO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRGaXJzdE5vbmVUZXJtaW5hbChkZWZpbml0aW9uKSB7XG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIGlmICh1dGlscy5pc0VtcHR5KGRlZmluaXRpb24pKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIHZhciBmaXJzdFByb2QgPSB1dGlscy5maXJzdChkZWZpbml0aW9uKTtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgIGlmIChmaXJzdFByb2QgaW5zdGFuY2VvZiBOb25UZXJtaW5hbCkge1xuICAgICAgICByZXN1bHQucHVzaChmaXJzdFByb2QucmVmZXJlbmNlZFJ1bGUpO1xuICAgIH1cbiAgICBlbHNlIGlmIChmaXJzdFByb2QgaW5zdGFuY2VvZiBBbHRlcm5hdGl2ZUdBU1QgfHxcbiAgICAgICAgZmlyc3RQcm9kIGluc3RhbmNlb2YgT3B0aW9uIHx8XG4gICAgICAgIGZpcnN0UHJvZCBpbnN0YW5jZW9mIFJlcGV0aXRpb25NYW5kYXRvcnkgfHxcbiAgICAgICAgZmlyc3RQcm9kIGluc3RhbmNlb2YgUmVwZXRpdGlvbk1hbmRhdG9yeVdpdGhTZXBhcmF0b3IgfHxcbiAgICAgICAgZmlyc3RQcm9kIGluc3RhbmNlb2YgUmVwZXRpdGlvbldpdGhTZXBhcmF0b3IgfHxcbiAgICAgICAgZmlyc3RQcm9kIGluc3RhbmNlb2YgUmVwZXRpdGlvbikge1xuICAgICAgICByZXN1bHQgPSByZXN1bHQuY29uY2F0KGdldEZpcnN0Tm9uZVRlcm1pbmFsKGZpcnN0UHJvZC5kZWZpbml0aW9uKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGZpcnN0UHJvZCBpbnN0YW5jZW9mIEFsdGVybmF0aW9uKSB7XG4gICAgICAgIC8vIGVhY2ggc3ViIGRlZmluaXRpb24gaW4gYWx0ZXJuYXRpb24gaXMgYSBGTEFUXG4gICAgICAgIHJlc3VsdCA9IHV0aWxzLmZsYXR0ZW4odXRpbHMubWFwKGZpcnN0UHJvZC5kZWZpbml0aW9uLCBmdW5jdGlvbiAoY3VyclN1YkRlZikge1xuICAgICAgICAgICAgcmV0dXJuIGdldEZpcnN0Tm9uZVRlcm1pbmFsKGN1cnJTdWJEZWYuZGVmaW5pdGlvbik7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZmlyc3RQcm9kIGluc3RhbmNlb2YgVGVybWluYWwpIHtcbiAgICAgICAgLy8gbm90aGluZyB0byBzZWUsIG1vdmUgYWxvbmdcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IEVycm9yKFwibm9uIGV4aGF1c3RpdmUgbWF0Y2hcIik7XG4gICAgfVxuICAgIHZhciBpc0ZpcnN0T3B0aW9uYWwgPSBpc09wdGlvbmFsUHJvZChmaXJzdFByb2QpO1xuICAgIHZhciBoYXNNb3JlID0gZGVmaW5pdGlvbi5sZW5ndGggPiAxO1xuICAgIGlmIChpc0ZpcnN0T3B0aW9uYWwgJiYgaGFzTW9yZSkge1xuICAgICAgICB2YXIgcmVzdCA9IHV0aWxzLmRyb3AoZGVmaW5pdGlvbik7XG4gICAgICAgIHJldHVybiByZXN1bHQuY29uY2F0KGdldEZpcnN0Tm9uZVRlcm1pbmFsKHJlc3QpKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxufVxudmFyIE9yQ29sbGVjdG9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhPckNvbGxlY3RvciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBPckNvbGxlY3RvcigpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmFsdGVybmF0aW9ucyA9IFtdO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9yQ29sbGVjdG9yLnByb3RvdHlwZS52aXNpdEFsdGVybmF0aW9uID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgdGhpcy5hbHRlcm5hdGlvbnMucHVzaChub2RlKTtcbiAgICB9O1xuICAgIHJldHVybiBPckNvbGxlY3Rvcjtcbn0oR0FzdFZpc2l0b3IpKTtcbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZUVtcHR5T3JBbHRlcm5hdGl2ZSh0b3BMZXZlbFJ1bGUsIGVyck1zZ1Byb3ZpZGVyKSB7XG4gICAgdmFyIG9yQ29sbGVjdG9yID0gbmV3IE9yQ29sbGVjdG9yKCk7XG4gICAgdG9wTGV2ZWxSdWxlLmFjY2VwdChvckNvbGxlY3Rvcik7XG4gICAgdmFyIG9ycyA9IG9yQ29sbGVjdG9yLmFsdGVybmF0aW9ucztcbiAgICB2YXIgZXJyb3JzID0gdXRpbHMucmVkdWNlKG9ycywgZnVuY3Rpb24gKGVycm9ycywgY3Vyck9yKSB7XG4gICAgICAgIHZhciBleGNlcHRMYXN0ID0gdXRpbHMuZHJvcFJpZ2h0KGN1cnJPci5kZWZpbml0aW9uKTtcbiAgICAgICAgdmFyIGN1cnJFcnJvcnMgPSB1dGlscy5tYXAoZXhjZXB0TGFzdCwgZnVuY3Rpb24gKGN1cnJBbHRlcm5hdGl2ZSwgY3VyckFsdElkeCkge1xuICAgICAgICAgICAgdmFyIHBvc3NpYmxlRmlyc3RJbkFsdCA9IG5leHRQb3NzaWJsZVRva2Vuc0FmdGVyKFtjdXJyQWx0ZXJuYXRpdmVdLCBbXSwgbnVsbCwgMSk7XG4gICAgICAgICAgICBpZiAodXRpbHMuaXNFbXB0eShwb3NzaWJsZUZpcnN0SW5BbHQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZXJyTXNnUHJvdmlkZXIuYnVpbGRFbXB0eUFsdGVybmF0aW9uRXJyb3Ioe1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9wTGV2ZWxSdWxlOiB0b3BMZXZlbFJ1bGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBhbHRlcm5hdGlvbjogY3Vyck9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgZW1wdHlDaG9pY2VJZHg6IGN1cnJBbHRJZHhcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFBhcnNlckRlZmluaXRpb25FcnJvclR5cGUuTk9ORV9MQVNUX0VNUFRZX0FMVCxcbiAgICAgICAgICAgICAgICAgICAgcnVsZU5hbWU6IHRvcExldmVsUnVsZS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICBvY2N1cnJlbmNlOiBjdXJyT3IuaWR4LFxuICAgICAgICAgICAgICAgICAgICBhbHRlcm5hdGl2ZTogY3VyckFsdElkeCArIDFcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZXJyb3JzLmNvbmNhdCh1dGlscy5jb21wYWN0KGN1cnJFcnJvcnMpKTtcbiAgICB9LCBbXSk7XG4gICAgcmV0dXJuIGVycm9ycztcbn1cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZUFtYmlndW91c0FsdGVybmF0aW9uQWx0ZXJuYXRpdmVzKHRvcExldmVsUnVsZSwgZ2xvYmFsTWF4TG9va2FoZWFkLCBlcnJNc2dQcm92aWRlcikge1xuICAgIHZhciBvckNvbGxlY3RvciA9IG5ldyBPckNvbGxlY3RvcigpO1xuICAgIHRvcExldmVsUnVsZS5hY2NlcHQob3JDb2xsZWN0b3IpO1xuICAgIHZhciBvcnMgPSBvckNvbGxlY3Rvci5hbHRlcm5hdGlvbnM7XG4gICAgLy8gTmV3IEhhbmRsaW5nIG9mIGlnbm9yaW5nIGFtYmlndWl0aWVzXG4gICAgLy8gLSBodHRwczovL2dpdGh1Yi5jb20vU0FQL2NoZXZyb3RhaW4vaXNzdWVzLzg2OVxuICAgIG9ycyA9IHJlamVjdChvcnMsIGZ1bmN0aW9uIChjdXJyT3IpIHsgcmV0dXJuIGN1cnJPci5pZ25vcmVBbWJpZ3VpdGllcyA9PT0gdHJ1ZTsgfSk7XG4gICAgdmFyIGVycm9ycyA9IHV0aWxzLnJlZHVjZShvcnMsIGZ1bmN0aW9uIChyZXN1bHQsIGN1cnJPcikge1xuICAgICAgICB2YXIgY3Vyck9jY3VycmVuY2UgPSBjdXJyT3IuaWR4O1xuICAgICAgICB2YXIgYWN0dWFsTWF4TG9va2FoZWFkID0gY3Vyck9yLm1heExvb2thaGVhZCB8fCBnbG9iYWxNYXhMb29rYWhlYWQ7XG4gICAgICAgIHZhciBhbHRlcm5hdGl2ZXMgPSBnZXRMb29rYWhlYWRQYXRoc0Zvck9yKGN1cnJPY2N1cnJlbmNlLCB0b3BMZXZlbFJ1bGUsIGFjdHVhbE1heExvb2thaGVhZCwgY3Vyck9yKTtcbiAgICAgICAgdmFyIGFsdHNBbWJpZ3VpdHlFcnJvcnMgPSBjaGVja0FsdGVybmF0aXZlc0FtYmlndWl0aWVzKGFsdGVybmF0aXZlcywgY3Vyck9yLCB0b3BMZXZlbFJ1bGUsIGVyck1zZ1Byb3ZpZGVyKTtcbiAgICAgICAgdmFyIGFsdHNQcmVmaXhBbWJpZ3VpdHlFcnJvcnMgPSBjaGVja1ByZWZpeEFsdGVybmF0aXZlc0FtYmlndWl0aWVzKGFsdGVybmF0aXZlcywgY3Vyck9yLCB0b3BMZXZlbFJ1bGUsIGVyck1zZ1Byb3ZpZGVyKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5jb25jYXQoYWx0c0FtYmlndWl0eUVycm9ycywgYWx0c1ByZWZpeEFtYmlndWl0eUVycm9ycyk7XG4gICAgfSwgW10pO1xuICAgIHJldHVybiBlcnJvcnM7XG59XG52YXIgUmVwZXRpb25Db2xsZWN0b3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFJlcGV0aW9uQ29sbGVjdG9yLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFJlcGV0aW9uQ29sbGVjdG9yKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuYWxsUHJvZHVjdGlvbnMgPSBbXTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBSZXBldGlvbkNvbGxlY3Rvci5wcm90b3R5cGUudmlzaXRSZXBldGl0aW9uV2l0aFNlcGFyYXRvciA9IGZ1bmN0aW9uIChtYW55U2VwKSB7XG4gICAgICAgIHRoaXMuYWxsUHJvZHVjdGlvbnMucHVzaChtYW55U2VwKTtcbiAgICB9O1xuICAgIFJlcGV0aW9uQ29sbGVjdG9yLnByb3RvdHlwZS52aXNpdFJlcGV0aXRpb25NYW5kYXRvcnkgPSBmdW5jdGlvbiAoYXRMZWFzdE9uZSkge1xuICAgICAgICB0aGlzLmFsbFByb2R1Y3Rpb25zLnB1c2goYXRMZWFzdE9uZSk7XG4gICAgfTtcbiAgICBSZXBldGlvbkNvbGxlY3Rvci5wcm90b3R5cGUudmlzaXRSZXBldGl0aW9uTWFuZGF0b3J5V2l0aFNlcGFyYXRvciA9IGZ1bmN0aW9uIChhdExlYXN0T25lU2VwKSB7XG4gICAgICAgIHRoaXMuYWxsUHJvZHVjdGlvbnMucHVzaChhdExlYXN0T25lU2VwKTtcbiAgICB9O1xuICAgIFJlcGV0aW9uQ29sbGVjdG9yLnByb3RvdHlwZS52aXNpdFJlcGV0aXRpb24gPSBmdW5jdGlvbiAobWFueSkge1xuICAgICAgICB0aGlzLmFsbFByb2R1Y3Rpb25zLnB1c2gobWFueSk7XG4gICAgfTtcbiAgICByZXR1cm4gUmVwZXRpb25Db2xsZWN0b3I7XG59KEdBc3RWaXNpdG9yKSk7XG5leHBvcnQgeyBSZXBldGlvbkNvbGxlY3RvciB9O1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlVG9vTWFueUFsdHModG9wTGV2ZWxSdWxlLCBlcnJNc2dQcm92aWRlcikge1xuICAgIHZhciBvckNvbGxlY3RvciA9IG5ldyBPckNvbGxlY3RvcigpO1xuICAgIHRvcExldmVsUnVsZS5hY2NlcHQob3JDb2xsZWN0b3IpO1xuICAgIHZhciBvcnMgPSBvckNvbGxlY3Rvci5hbHRlcm5hdGlvbnM7XG4gICAgdmFyIGVycm9ycyA9IHV0aWxzLnJlZHVjZShvcnMsIGZ1bmN0aW9uIChlcnJvcnMsIGN1cnJPcikge1xuICAgICAgICBpZiAoY3Vyck9yLmRlZmluaXRpb24ubGVuZ3RoID4gMjU1KSB7XG4gICAgICAgICAgICBlcnJvcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogZXJyTXNnUHJvdmlkZXIuYnVpbGRUb29NYW55QWx0ZXJuYXRpdmVzRXJyb3Ioe1xuICAgICAgICAgICAgICAgICAgICB0b3BMZXZlbFJ1bGU6IHRvcExldmVsUnVsZSxcbiAgICAgICAgICAgICAgICAgICAgYWx0ZXJuYXRpb246IGN1cnJPclxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIHR5cGU6IFBhcnNlckRlZmluaXRpb25FcnJvclR5cGUuVE9PX01BTllfQUxUUyxcbiAgICAgICAgICAgICAgICBydWxlTmFtZTogdG9wTGV2ZWxSdWxlLm5hbWUsXG4gICAgICAgICAgICAgICAgb2NjdXJyZW5jZTogY3Vyck9yLmlkeFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVycm9ycztcbiAgICB9LCBbXSk7XG4gICAgcmV0dXJuIGVycm9ycztcbn1cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZVNvbWVOb25FbXB0eUxvb2thaGVhZFBhdGgodG9wTGV2ZWxSdWxlcywgbWF4TG9va2FoZWFkLCBlcnJNc2dQcm92aWRlcikge1xuICAgIHZhciBlcnJvcnMgPSBbXTtcbiAgICBmb3JFYWNoKHRvcExldmVsUnVsZXMsIGZ1bmN0aW9uIChjdXJyVG9wUnVsZSkge1xuICAgICAgICB2YXIgY29sbGVjdG9yVmlzaXRvciA9IG5ldyBSZXBldGlvbkNvbGxlY3RvcigpO1xuICAgICAgICBjdXJyVG9wUnVsZS5hY2NlcHQoY29sbGVjdG9yVmlzaXRvcik7XG4gICAgICAgIHZhciBhbGxSdWxlUHJvZHVjdGlvbnMgPSBjb2xsZWN0b3JWaXNpdG9yLmFsbFByb2R1Y3Rpb25zO1xuICAgICAgICBmb3JFYWNoKGFsbFJ1bGVQcm9kdWN0aW9ucywgZnVuY3Rpb24gKGN1cnJQcm9kKSB7XG4gICAgICAgICAgICB2YXIgcHJvZFR5cGUgPSBnZXRQcm9kVHlwZShjdXJyUHJvZCk7XG4gICAgICAgICAgICB2YXIgYWN0dWFsTWF4TG9va2FoZWFkID0gY3VyclByb2QubWF4TG9va2FoZWFkIHx8IG1heExvb2thaGVhZDtcbiAgICAgICAgICAgIHZhciBjdXJyT2NjdXJyZW5jZSA9IGN1cnJQcm9kLmlkeDtcbiAgICAgICAgICAgIHZhciBwYXRocyA9IGdldExvb2thaGVhZFBhdGhzRm9yT3B0aW9uYWxQcm9kKGN1cnJPY2N1cnJlbmNlLCBjdXJyVG9wUnVsZSwgcHJvZFR5cGUsIGFjdHVhbE1heExvb2thaGVhZCk7XG4gICAgICAgICAgICB2YXIgcGF0aHNJbnNpZGVQcm9kdWN0aW9uID0gcGF0aHNbMF07XG4gICAgICAgICAgICBpZiAoaXNFbXB0eShmbGF0dGVuKHBhdGhzSW5zaWRlUHJvZHVjdGlvbikpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGVyck1zZyA9IGVyck1zZ1Byb3ZpZGVyLmJ1aWxkRW1wdHlSZXBldGl0aW9uRXJyb3Ioe1xuICAgICAgICAgICAgICAgICAgICB0b3BMZXZlbFJ1bGU6IGN1cnJUb3BSdWxlLFxuICAgICAgICAgICAgICAgICAgICByZXBldGl0aW9uOiBjdXJyUHJvZFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZXJyTXNnLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlLk5PX05PTl9FTVBUWV9MT09LQUhFQUQsXG4gICAgICAgICAgICAgICAgICAgIHJ1bGVOYW1lOiBjdXJyVG9wUnVsZS5uYW1lXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiBlcnJvcnM7XG59XG5mdW5jdGlvbiBjaGVja0FsdGVybmF0aXZlc0FtYmlndWl0aWVzKGFsdGVybmF0aXZlcywgYWx0ZXJuYXRpb24sIHJ1bGUsIGVyck1zZ1Byb3ZpZGVyKSB7XG4gICAgdmFyIGZvdW5kQW1iaWd1b3VzUGF0aHMgPSBbXTtcbiAgICB2YXIgaWRlbnRpY2FsQW1iaWd1aXRpZXMgPSByZWR1Y2UoYWx0ZXJuYXRpdmVzLCBmdW5jdGlvbiAocmVzdWx0LCBjdXJyQWx0LCBjdXJyQWx0SWR4KSB7XG4gICAgICAgIC8vIGlnbm9yZSAoc2tpcCkgYW1iaWd1aXRpZXMgd2l0aCB0aGlzIGFsdGVybmF0aXZlXG4gICAgICAgIGlmIChhbHRlcm5hdGlvbi5kZWZpbml0aW9uW2N1cnJBbHRJZHhdLmlnbm9yZUFtYmlndWl0aWVzID09PSB0cnVlKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIGZvckVhY2goY3VyckFsdCwgZnVuY3Rpb24gKGN1cnJQYXRoKSB7XG4gICAgICAgICAgICB2YXIgYWx0c0N1cnJQYXRoQXBwZWFyc0luID0gW2N1cnJBbHRJZHhdO1xuICAgICAgICAgICAgZm9yRWFjaChhbHRlcm5hdGl2ZXMsIGZ1bmN0aW9uIChjdXJyT3RoZXJBbHQsIGN1cnJPdGhlckFsdElkeCkge1xuICAgICAgICAgICAgICAgIGlmIChjdXJyQWx0SWR4ICE9PSBjdXJyT3RoZXJBbHRJZHggJiZcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbnNQYXRoKGN1cnJPdGhlckFsdCwgY3VyclBhdGgpICYmXG4gICAgICAgICAgICAgICAgICAgIC8vIGlnbm9yZSAoc2tpcCkgYW1iaWd1aXRpZXMgd2l0aCB0aGlzIFwib3RoZXJcIiBhbHRlcm5hdGl2ZVxuICAgICAgICAgICAgICAgICAgICBhbHRlcm5hdGlvbi5kZWZpbml0aW9uW2N1cnJPdGhlckFsdElkeF0uaWdub3JlQW1iaWd1aXRpZXMgIT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgYWx0c0N1cnJQYXRoQXBwZWFyc0luLnB1c2goY3Vyck90aGVyQWx0SWR4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChhbHRzQ3VyclBhdGhBcHBlYXJzSW4ubGVuZ3RoID4gMSAmJlxuICAgICAgICAgICAgICAgICFjb250YWluc1BhdGgoZm91bmRBbWJpZ3VvdXNQYXRocywgY3VyclBhdGgpKSB7XG4gICAgICAgICAgICAgICAgZm91bmRBbWJpZ3VvdXNQYXRocy5wdXNoKGN1cnJQYXRoKTtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGFsdHM6IGFsdHNDdXJyUGF0aEFwcGVhcnNJbixcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogY3VyclBhdGhcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSwgW10pO1xuICAgIHZhciBjdXJyRXJyb3JzID0gdXRpbHMubWFwKGlkZW50aWNhbEFtYmlndWl0aWVzLCBmdW5jdGlvbiAoY3VyckFtYkRlc2NyaXB0b3IpIHtcbiAgICAgICAgdmFyIGFtYmdJbmRpY2VzID0gbWFwKGN1cnJBbWJEZXNjcmlwdG9yLmFsdHMsIGZ1bmN0aW9uIChjdXJyQWx0SWR4KSB7IHJldHVybiBjdXJyQWx0SWR4ICsgMTsgfSk7XG4gICAgICAgIHZhciBjdXJyTWVzc2FnZSA9IGVyck1zZ1Byb3ZpZGVyLmJ1aWxkQWx0ZXJuYXRpb25BbWJpZ3VpdHlFcnJvcih7XG4gICAgICAgICAgICB0b3BMZXZlbFJ1bGU6IHJ1bGUsXG4gICAgICAgICAgICBhbHRlcm5hdGlvbjogYWx0ZXJuYXRpb24sXG4gICAgICAgICAgICBhbWJpZ3VpdHlJbmRpY2VzOiBhbWJnSW5kaWNlcyxcbiAgICAgICAgICAgIHByZWZpeFBhdGg6IGN1cnJBbWJEZXNjcmlwdG9yLnBhdGhcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtZXNzYWdlOiBjdXJyTWVzc2FnZSxcbiAgICAgICAgICAgIHR5cGU6IFBhcnNlckRlZmluaXRpb25FcnJvclR5cGUuQU1CSUdVT1VTX0FMVFMsXG4gICAgICAgICAgICBydWxlTmFtZTogcnVsZS5uYW1lLFxuICAgICAgICAgICAgb2NjdXJyZW5jZTogYWx0ZXJuYXRpb24uaWR4LFxuICAgICAgICAgICAgYWx0ZXJuYXRpdmVzOiBbY3VyckFtYkRlc2NyaXB0b3IuYWx0c11cbiAgICAgICAgfTtcbiAgICB9KTtcbiAgICByZXR1cm4gY3VyckVycm9ycztcbn1cbmV4cG9ydCBmdW5jdGlvbiBjaGVja1ByZWZpeEFsdGVybmF0aXZlc0FtYmlndWl0aWVzKGFsdGVybmF0aXZlcywgYWx0ZXJuYXRpb24sIHJ1bGUsIGVyck1zZ1Byb3ZpZGVyKSB7XG4gICAgdmFyIGVycm9ycyA9IFtdO1xuICAgIC8vIGZsYXR0ZW5cbiAgICB2YXIgcGF0aHNBbmRJbmRpY2VzID0gcmVkdWNlKGFsdGVybmF0aXZlcywgZnVuY3Rpb24gKHJlc3VsdCwgY3VyckFsdCwgaWR4KSB7XG4gICAgICAgIHZhciBjdXJyUGF0aHNBbmRJZHggPSBtYXAoY3VyckFsdCwgZnVuY3Rpb24gKGN1cnJQYXRoKSB7XG4gICAgICAgICAgICByZXR1cm4geyBpZHg6IGlkeCwgcGF0aDogY3VyclBhdGggfTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXN1bHQuY29uY2F0KGN1cnJQYXRoc0FuZElkeCk7XG4gICAgfSwgW10pO1xuICAgIGZvckVhY2gocGF0aHNBbmRJbmRpY2VzLCBmdW5jdGlvbiAoY3VyclBhdGhBbmRJZHgpIHtcbiAgICAgICAgdmFyIGFsdGVybmF0aXZlR2FzdCA9IGFsdGVybmF0aW9uLmRlZmluaXRpb25bY3VyclBhdGhBbmRJZHguaWR4XTtcbiAgICAgICAgLy8gaWdub3JlIChza2lwKSBhbWJpZ3VpdGllcyB3aXRoIHRoaXMgYWx0ZXJuYXRpdmVcbiAgICAgICAgaWYgKGFsdGVybmF0aXZlR2FzdC5pZ25vcmVBbWJpZ3VpdGllcyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0YXJnZXRJZHggPSBjdXJyUGF0aEFuZElkeC5pZHg7XG4gICAgICAgIHZhciB0YXJnZXRQYXRoID0gY3VyclBhdGhBbmRJZHgucGF0aDtcbiAgICAgICAgdmFyIHByZWZpeEFtYmlndWl0aWVzUGF0aHNBbmRJbmRpY2VzID0gZmluZEFsbChwYXRoc0FuZEluZGljZXMsIGZ1bmN0aW9uIChzZWFyY2hQYXRoQW5kSWR4KSB7XG4gICAgICAgICAgICAvLyBwcmVmaXggYW1iaWd1aXR5IGNhbiBvbmx5IGJlIGNyZWF0ZWQgZnJvbSBsb3dlciBpZHggKGhpZ2hlciBwcmlvcml0eSkgcGF0aFxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIC8vIGlnbm9yZSAoc2tpcCkgYW1iaWd1aXRpZXMgd2l0aCB0aGlzIFwib3RoZXJcIiBhbHRlcm5hdGl2ZVxuICAgICAgICAgICAgYWx0ZXJuYXRpb24uZGVmaW5pdGlvbltzZWFyY2hQYXRoQW5kSWR4LmlkeF0uaWdub3JlQW1iaWd1aXRpZXMgIT09XG4gICAgICAgICAgICAgICAgdHJ1ZSAmJlxuICAgICAgICAgICAgICAgIHNlYXJjaFBhdGhBbmRJZHguaWR4IDwgdGFyZ2V0SWR4ICYmXG4gICAgICAgICAgICAgICAgLy8gY2hlY2tpbmcgZm9yIHN0cmljdCBwcmVmaXggYmVjYXVzZSBpZGVudGljYWwgbG9va2FoZWFkc1xuICAgICAgICAgICAgICAgIC8vIHdpbGwgYmUgYmUgZGV0ZWN0ZWQgdXNpbmcgYSBkaWZmZXJlbnQgdmFsaWRhdGlvbi5cbiAgICAgICAgICAgICAgICBpc1N0cmljdFByZWZpeE9mUGF0aChzZWFyY2hQYXRoQW5kSWR4LnBhdGgsIHRhcmdldFBhdGgpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBjdXJyUGF0aFByZWZpeEVycm9ycyA9IG1hcChwcmVmaXhBbWJpZ3VpdGllc1BhdGhzQW5kSW5kaWNlcywgZnVuY3Rpb24gKGN1cnJBbWJQYXRoQW5kSWR4KSB7XG4gICAgICAgICAgICB2YXIgYW1iZ0luZGljZXMgPSBbY3VyckFtYlBhdGhBbmRJZHguaWR4ICsgMSwgdGFyZ2V0SWR4ICsgMV07XG4gICAgICAgICAgICB2YXIgb2NjdXJyZW5jZSA9IGFsdGVybmF0aW9uLmlkeCA9PT0gMCA/IFwiXCIgOiBhbHRlcm5hdGlvbi5pZHg7XG4gICAgICAgICAgICB2YXIgbWVzc2FnZSA9IGVyck1zZ1Byb3ZpZGVyLmJ1aWxkQWx0ZXJuYXRpb25QcmVmaXhBbWJpZ3VpdHlFcnJvcih7XG4gICAgICAgICAgICAgICAgdG9wTGV2ZWxSdWxlOiBydWxlLFxuICAgICAgICAgICAgICAgIGFsdGVybmF0aW9uOiBhbHRlcm5hdGlvbixcbiAgICAgICAgICAgICAgICBhbWJpZ3VpdHlJbmRpY2VzOiBhbWJnSW5kaWNlcyxcbiAgICAgICAgICAgICAgICBwcmVmaXhQYXRoOiBjdXJyQW1iUGF0aEFuZElkeC5wYXRoXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogbWVzc2FnZSxcbiAgICAgICAgICAgICAgICB0eXBlOiBQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlLkFNQklHVU9VU19QUkVGSVhfQUxUUyxcbiAgICAgICAgICAgICAgICBydWxlTmFtZTogcnVsZS5uYW1lLFxuICAgICAgICAgICAgICAgIG9jY3VycmVuY2U6IG9jY3VycmVuY2UsXG4gICAgICAgICAgICAgICAgYWx0ZXJuYXRpdmVzOiBhbWJnSW5kaWNlc1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIGVycm9ycyA9IGVycm9ycy5jb25jYXQoY3VyclBhdGhQcmVmaXhFcnJvcnMpO1xuICAgIH0pO1xuICAgIHJldHVybiBlcnJvcnM7XG59XG5mdW5jdGlvbiBjaGVja1Rlcm1pbmFsQW5kTm9uZVRlcm1pbmFsc05hbWVTcGFjZSh0b3BMZXZlbHMsIHRva2VuVHlwZXMsIGVyck1zZ1Byb3ZpZGVyKSB7XG4gICAgdmFyIGVycm9ycyA9IFtdO1xuICAgIHZhciB0b2tlbk5hbWVzID0gbWFwKHRva2VuVHlwZXMsIGZ1bmN0aW9uIChjdXJyVG9rZW4pIHsgcmV0dXJuIGN1cnJUb2tlbi5uYW1lOyB9KTtcbiAgICBmb3JFYWNoKHRvcExldmVscywgZnVuY3Rpb24gKGN1cnJSdWxlKSB7XG4gICAgICAgIHZhciBjdXJyUnVsZU5hbWUgPSBjdXJyUnVsZS5uYW1lO1xuICAgICAgICBpZiAoY29udGFpbnModG9rZW5OYW1lcywgY3VyclJ1bGVOYW1lKSkge1xuICAgICAgICAgICAgdmFyIGVyck1zZyA9IGVyck1zZ1Byb3ZpZGVyLmJ1aWxkTmFtZXNwYWNlQ29uZmxpY3RFcnJvcihjdXJyUnVsZSk7XG4gICAgICAgICAgICBlcnJvcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogZXJyTXNnLFxuICAgICAgICAgICAgICAgIHR5cGU6IFBhcnNlckRlZmluaXRpb25FcnJvclR5cGUuQ09ORkxJQ1RfVE9LRU5TX1JVTEVTX05BTUVTUEFDRSxcbiAgICAgICAgICAgICAgICBydWxlTmFtZTogY3VyclJ1bGVOYW1lXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBlcnJvcnM7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaGVja3MuanMubWFwIiwiaW1wb3J0IHsgZGVmYXVsdHMsIGZvckVhY2ggfSBmcm9tIFwiLi4vLi4vLi4vdXRpbHMvdXRpbHNcIjtcbmltcG9ydCB7IHJlc29sdmVHcmFtbWFyIGFzIG9yZ1Jlc29sdmVHcmFtbWFyIH0gZnJvbSBcIi4uL3Jlc29sdmVyXCI7XG5pbXBvcnQgeyB2YWxpZGF0ZUdyYW1tYXIgYXMgb3JnVmFsaWRhdGVHcmFtbWFyIH0gZnJvbSBcIi4uL2NoZWNrc1wiO1xuaW1wb3J0IHsgZGVmYXVsdEdyYW1tYXJSZXNvbHZlckVycm9yUHJvdmlkZXIsIGRlZmF1bHRHcmFtbWFyVmFsaWRhdG9yRXJyb3JQcm92aWRlciB9IGZyb20gXCIuLi8uLi9lcnJvcnNfcHVibGljXCI7XG5pbXBvcnQgeyBEc2xNZXRob2RzQ29sbGVjdG9yVmlzaXRvciB9IGZyb20gXCIuL2dhc3RcIjtcbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlR3JhbW1hcihvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IGRlZmF1bHRzKG9wdGlvbnMsIHtcbiAgICAgICAgZXJyTXNnUHJvdmlkZXI6IGRlZmF1bHRHcmFtbWFyUmVzb2x2ZXJFcnJvclByb3ZpZGVyXG4gICAgfSk7XG4gICAgdmFyIHRvcFJ1bGVzVGFibGUgPSB7fTtcbiAgICBmb3JFYWNoKG9wdGlvbnMucnVsZXMsIGZ1bmN0aW9uIChydWxlKSB7XG4gICAgICAgIHRvcFJ1bGVzVGFibGVbcnVsZS5uYW1lXSA9IHJ1bGU7XG4gICAgfSk7XG4gICAgcmV0dXJuIG9yZ1Jlc29sdmVHcmFtbWFyKHRvcFJ1bGVzVGFibGUsIG9wdGlvbnMuZXJyTXNnUHJvdmlkZXIpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlR3JhbW1hcihvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IGRlZmF1bHRzKG9wdGlvbnMsIHtcbiAgICAgICAgZXJyTXNnUHJvdmlkZXI6IGRlZmF1bHRHcmFtbWFyVmFsaWRhdG9yRXJyb3JQcm92aWRlclxuICAgIH0pO1xuICAgIHJldHVybiBvcmdWYWxpZGF0ZUdyYW1tYXIob3B0aW9ucy5ydWxlcywgb3B0aW9ucy5tYXhMb29rYWhlYWQsIG9wdGlvbnMudG9rZW5UeXBlcywgb3B0aW9ucy5lcnJNc2dQcm92aWRlciwgb3B0aW9ucy5ncmFtbWFyTmFtZSk7XG59XG5leHBvcnQgZnVuY3Rpb24gYXNzaWduT2NjdXJyZW5jZUluZGljZXMob3B0aW9ucykge1xuICAgIGZvckVhY2gob3B0aW9ucy5ydWxlcywgZnVuY3Rpb24gKGN1cnJSdWxlKSB7XG4gICAgICAgIHZhciBtZXRob2RzQ29sbGVjdG9yID0gbmV3IERzbE1ldGhvZHNDb2xsZWN0b3JWaXNpdG9yKCk7XG4gICAgICAgIGN1cnJSdWxlLmFjY2VwdChtZXRob2RzQ29sbGVjdG9yKTtcbiAgICAgICAgZm9yRWFjaChtZXRob2RzQ29sbGVjdG9yLmRzbE1ldGhvZHMsIGZ1bmN0aW9uIChtZXRob2RzKSB7XG4gICAgICAgICAgICBmb3JFYWNoKG1ldGhvZHMsIGZ1bmN0aW9uIChjdXJyTWV0aG9kLCBhcnJJZHgpIHtcbiAgICAgICAgICAgICAgICBjdXJyTWV0aG9kLmlkeCA9IGFycklkeCArIDE7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nYXN0X3Jlc29sdmVyX3B1YmxpYy5qcy5tYXAiLCJpbXBvcnQgeyBjb250YWlucyB9IGZyb20gXCIuLi91dGlscy91dGlsc1wiO1xudmFyIE1JU01BVENIRURfVE9LRU5fRVhDRVBUSU9OID0gXCJNaXNtYXRjaGVkVG9rZW5FeGNlcHRpb25cIjtcbnZhciBOT19WSUFCTEVfQUxUX0VYQ0VQVElPTiA9IFwiTm9WaWFibGVBbHRFeGNlcHRpb25cIjtcbnZhciBFQVJMWV9FWElUX0VYQ0VQVElPTiA9IFwiRWFybHlFeGl0RXhjZXB0aW9uXCI7XG52YXIgTk9UX0FMTF9JTlBVVF9QQVJTRURfRVhDRVBUSU9OID0gXCJOb3RBbGxJbnB1dFBhcnNlZEV4Y2VwdGlvblwiO1xudmFyIFJFQ09HTklUSU9OX0VYQ0VQVElPTl9OQU1FUyA9IFtcbiAgICBNSVNNQVRDSEVEX1RPS0VOX0VYQ0VQVElPTixcbiAgICBOT19WSUFCTEVfQUxUX0VYQ0VQVElPTixcbiAgICBFQVJMWV9FWElUX0VYQ0VQVElPTixcbiAgICBOT1RfQUxMX0lOUFVUX1BBUlNFRF9FWENFUFRJT05cbl07XG5PYmplY3QuZnJlZXplKFJFQ09HTklUSU9OX0VYQ0VQVElPTl9OQU1FUyk7XG4vLyBoYWNrcyB0byBieXBhc3Mgbm8gc3VwcG9ydCBmb3IgY3VzdG9tIEVycm9ycyBpbiBqYXZhc2NyaXB0L3R5cGVzY3JpcHRcbmV4cG9ydCBmdW5jdGlvbiBpc1JlY29nbml0aW9uRXhjZXB0aW9uKGVycm9yKSB7XG4gICAgLy8gY2FuJ3QgZG8gaW5zdGFuY2VvZiBvbiBoYWNrZWQgY3VzdG9tIGpzIGV4Y2VwdGlvbnNcbiAgICByZXR1cm4gY29udGFpbnMoUkVDT0dOSVRJT05fRVhDRVBUSU9OX05BTUVTLCBlcnJvci5uYW1lKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBNaXNtYXRjaGVkVG9rZW5FeGNlcHRpb24obWVzc2FnZSwgdG9rZW4sIHByZXZpb3VzVG9rZW4pIHtcbiAgICB0aGlzLm5hbWUgPSBNSVNNQVRDSEVEX1RPS0VOX0VYQ0VQVElPTjtcbiAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgIHRoaXMudG9rZW4gPSB0b2tlbjtcbiAgICB0aGlzLnByZXZpb3VzVG9rZW4gPSBwcmV2aW91c1Rva2VuO1xuICAgIHRoaXMucmVzeW5jZWRUb2tlbnMgPSBbXTtcbn1cbi8vIG11c3QgdXNlIHRoZSBcIkVycm9yLnByb3RvdHlwZVwiIGluc3RlYWQgb2YgXCJuZXcgRXJyb3JcIlxuLy8gYmVjYXVzZSB0aGUgc3RhY2sgdHJhY2UgcG9pbnRzIHRvIHdoZXJlIFwibmV3IEVycm9yXCIgd2FzIGludm9rZWRcIlxuTWlzbWF0Y2hlZFRva2VuRXhjZXB0aW9uLnByb3RvdHlwZSA9IEVycm9yLnByb3RvdHlwZTtcbmV4cG9ydCBmdW5jdGlvbiBOb1ZpYWJsZUFsdEV4Y2VwdGlvbihtZXNzYWdlLCB0b2tlbiwgcHJldmlvdXNUb2tlbikge1xuICAgIHRoaXMubmFtZSA9IE5PX1ZJQUJMRV9BTFRfRVhDRVBUSU9OO1xuICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgdGhpcy50b2tlbiA9IHRva2VuO1xuICAgIHRoaXMucHJldmlvdXNUb2tlbiA9IHByZXZpb3VzVG9rZW47XG4gICAgdGhpcy5yZXN5bmNlZFRva2VucyA9IFtdO1xufVxuTm9WaWFibGVBbHRFeGNlcHRpb24ucHJvdG90eXBlID0gRXJyb3IucHJvdG90eXBlO1xuZXhwb3J0IGZ1bmN0aW9uIE5vdEFsbElucHV0UGFyc2VkRXhjZXB0aW9uKG1lc3NhZ2UsIHRva2VuKSB7XG4gICAgdGhpcy5uYW1lID0gTk9UX0FMTF9JTlBVVF9QQVJTRURfRVhDRVBUSU9OO1xuICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgdGhpcy50b2tlbiA9IHRva2VuO1xuICAgIHRoaXMucmVzeW5jZWRUb2tlbnMgPSBbXTtcbn1cbk5vdEFsbElucHV0UGFyc2VkRXhjZXB0aW9uLnByb3RvdHlwZSA9IEVycm9yLnByb3RvdHlwZTtcbmV4cG9ydCBmdW5jdGlvbiBFYXJseUV4aXRFeGNlcHRpb24obWVzc2FnZSwgdG9rZW4sIHByZXZpb3VzVG9rZW4pIHtcbiAgICB0aGlzLm5hbWUgPSBFQVJMWV9FWElUX0VYQ0VQVElPTjtcbiAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgIHRoaXMudG9rZW4gPSB0b2tlbjtcbiAgICB0aGlzLnByZXZpb3VzVG9rZW4gPSBwcmV2aW91c1Rva2VuO1xuICAgIHRoaXMucmVzeW5jZWRUb2tlbnMgPSBbXTtcbn1cbkVhcmx5RXhpdEV4Y2VwdGlvbi5wcm90b3R5cGUgPSBFcnJvci5wcm90b3R5cGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1leGNlcHRpb25zX3B1YmxpYy5qcy5tYXAiLCJpbXBvcnQgeyBjcmVhdGVUb2tlbkluc3RhbmNlLCBFT0YgfSBmcm9tIFwiLi4vLi4vLi4vc2Nhbi90b2tlbnNfcHVibGljXCI7XG5pbXBvcnQgeyBjbG9uZUFyciwgY29udGFpbnMsIGRyb3BSaWdodCwgZmluZCwgZmxhdHRlbiwgaGFzLCBpc0VtcHR5LCBtYXAgfSBmcm9tIFwiLi4vLi4vLi4vdXRpbHMvdXRpbHNcIjtcbmltcG9ydCB7IE1pc21hdGNoZWRUb2tlbkV4Y2VwdGlvbiB9IGZyb20gXCIuLi8uLi9leGNlcHRpb25zX3B1YmxpY1wiO1xuaW1wb3J0IHsgSU4gfSBmcm9tIFwiLi4vLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBERUZBVUxUX1BBUlNFUl9DT05GSUcgfSBmcm9tIFwiLi4vcGFyc2VyXCI7XG5leHBvcnQgdmFyIEVPRl9GT0xMT1dfS0VZID0ge307XG5leHBvcnQgdmFyIElOX1JVTEVfUkVDT1ZFUllfRVhDRVBUSU9OID0gXCJJblJ1bGVSZWNvdmVyeUV4Y2VwdGlvblwiO1xuZXhwb3J0IGZ1bmN0aW9uIEluUnVsZVJlY292ZXJ5RXhjZXB0aW9uKG1lc3NhZ2UpIHtcbiAgICB0aGlzLm5hbWUgPSBJTl9SVUxFX1JFQ09WRVJZX0VYQ0VQVElPTjtcbiAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xufVxuSW5SdWxlUmVjb3ZlcnlFeGNlcHRpb24ucHJvdG90eXBlID0gRXJyb3IucHJvdG90eXBlO1xuLyoqXG4gKiBUaGlzIHRyYWl0IGlzIHJlc3BvbnNpYmxlIGZvciB0aGUgZXJyb3IgcmVjb3ZlcnkgYW5kIGZhdWx0IHRvbGVyYW50IGxvZ2ljXG4gKi9cbnZhciBSZWNvdmVyYWJsZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZWNvdmVyYWJsZSgpIHtcbiAgICB9XG4gICAgUmVjb3ZlcmFibGUucHJvdG90eXBlLmluaXRSZWNvdmVyYWJsZSA9IGZ1bmN0aW9uIChjb25maWcpIHtcbiAgICAgICAgdGhpcy5maXJzdEFmdGVyUmVwTWFwID0ge307XG4gICAgICAgIHRoaXMucmVzeW5jRm9sbG93cyA9IHt9O1xuICAgICAgICB0aGlzLnJlY292ZXJ5RW5hYmxlZCA9IGhhcyhjb25maWcsIFwicmVjb3ZlcnlFbmFibGVkXCIpXG4gICAgICAgICAgICA/IGNvbmZpZy5yZWNvdmVyeUVuYWJsZWRcbiAgICAgICAgICAgIDogREVGQVVMVF9QQVJTRVJfQ09ORklHLnJlY292ZXJ5RW5hYmxlZDtcbiAgICAgICAgLy8gcGVyZm9ybWFuY2Ugb3B0aW1pemF0aW9uLCBOT09QIHdpbGwgYmUgaW5saW5lZCB3aGljaFxuICAgICAgICAvLyBlZmZlY3RpdmVseSBtZWFucyB0aGF0IHRoaXMgb3B0aW9uYWwgZmVhdHVyZSBkb2VzIG5vdCBleGlzdFxuICAgICAgICAvLyB3aGVuIG5vdCB1c2VkLlxuICAgICAgICBpZiAodGhpcy5yZWNvdmVyeUVuYWJsZWQpIHtcbiAgICAgICAgICAgIHRoaXMuYXR0ZW1wdEluUmVwZXRpdGlvblJlY292ZXJ5ID0gYXR0ZW1wdEluUmVwZXRpdGlvblJlY292ZXJ5O1xuICAgICAgICB9XG4gICAgfTtcbiAgICBSZWNvdmVyYWJsZS5wcm90b3R5cGUuZ2V0VG9rZW5Ub0luc2VydCA9IGZ1bmN0aW9uICh0b2tUeXBlKSB7XG4gICAgICAgIHZhciB0b2tUb0luc2VydCA9IGNyZWF0ZVRva2VuSW5zdGFuY2UodG9rVHlwZSwgXCJcIiwgTmFOLCBOYU4sIE5hTiwgTmFOLCBOYU4sIE5hTik7XG4gICAgICAgIHRva1RvSW5zZXJ0LmlzSW5zZXJ0ZWRJblJlY292ZXJ5ID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRva1RvSW5zZXJ0O1xuICAgIH07XG4gICAgUmVjb3ZlcmFibGUucHJvdG90eXBlLmNhblRva2VuVHlwZUJlSW5zZXJ0ZWRJblJlY292ZXJ5ID0gZnVuY3Rpb24gKHRva1R5cGUpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICBSZWNvdmVyYWJsZS5wcm90b3R5cGUudHJ5SW5SZXBldGl0aW9uUmVjb3ZlcnkgPSBmdW5jdGlvbiAoZ3JhbW1hclJ1bGUsIGdyYW1tYXJSdWxlQXJncywgbG9va0FoZWFkRnVuYywgZXhwZWN0ZWRUb2tUeXBlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8vIFRPRE86IGNhbiB0aGUgcmVzeW5jVG9rZW5UeXBlIGJlIGNhY2hlZD9cbiAgICAgICAgdmFyIHJlU3luY1Rva1R5cGUgPSB0aGlzLmZpbmRSZVN5bmNUb2tlblR5cGUoKTtcbiAgICAgICAgdmFyIHNhdmVkTGV4ZXJTdGF0ZSA9IHRoaXMuZXhwb3J0TGV4ZXJTdGF0ZSgpO1xuICAgICAgICB2YXIgcmVzeW5jZWRUb2tlbnMgPSBbXTtcbiAgICAgICAgdmFyIHBhc3NlZFJlc3luY1BvaW50ID0gZmFsc2U7XG4gICAgICAgIHZhciBuZXh0VG9rZW5XaXRob3V0UmVzeW5jID0gdGhpcy5MQSgxKTtcbiAgICAgICAgdmFyIGN1cnJUb2tlbiA9IHRoaXMuTEEoMSk7XG4gICAgICAgIHZhciBnZW5lcmF0ZUVycm9yTWVzc2FnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBwcmV2aW91c1Rva2VuID0gX3RoaXMuTEEoMCk7XG4gICAgICAgICAgICAvLyB3ZSBhcmUgcHJlZW1wdGl2ZWx5IHJlLXN5bmNpbmcgYmVmb3JlIGFuIGVycm9yIGhhcyBiZWVuIGRldGVjdGVkLCB0aGVyZWZvciB3ZSBtdXN0IHJlcHJvZHVjZVxuICAgICAgICAgICAgLy8gdGhlIGVycm9yIHRoYXQgd291bGQgaGF2ZSBiZWVuIHRocm93blxuICAgICAgICAgICAgdmFyIG1zZyA9IF90aGlzLmVycm9yTWVzc2FnZVByb3ZpZGVyLmJ1aWxkTWlzbWF0Y2hUb2tlbk1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBleHBlY3RlZFRva1R5cGUsXG4gICAgICAgICAgICAgICAgYWN0dWFsOiBuZXh0VG9rZW5XaXRob3V0UmVzeW5jLFxuICAgICAgICAgICAgICAgIHByZXZpb3VzOiBwcmV2aW91c1Rva2VuLFxuICAgICAgICAgICAgICAgIHJ1bGVOYW1lOiBfdGhpcy5nZXRDdXJyUnVsZUZ1bGxOYW1lKClcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIGVycm9yID0gbmV3IE1pc21hdGNoZWRUb2tlbkV4Y2VwdGlvbihtc2csIG5leHRUb2tlbldpdGhvdXRSZXN5bmMsIF90aGlzLkxBKDApKTtcbiAgICAgICAgICAgIC8vIHRoZSBmaXJzdCB0b2tlbiBoZXJlIHdpbGwgYmUgdGhlIG9yaWdpbmFsIGNhdXNlIG9mIHRoZSBlcnJvciwgdGhpcyBpcyBub3QgcGFydCBvZiB0aGUgcmVzeW5jZWRUb2tlbnMgcHJvcGVydHkuXG4gICAgICAgICAgICBlcnJvci5yZXN5bmNlZFRva2VucyA9IGRyb3BSaWdodChyZXN5bmNlZFRva2Vucyk7XG4gICAgICAgICAgICBfdGhpcy5TQVZFX0VSUk9SKGVycm9yKTtcbiAgICAgICAgfTtcbiAgICAgICAgd2hpbGUgKCFwYXNzZWRSZXN5bmNQb2ludCkge1xuICAgICAgICAgICAgLy8gcmUtc3luY2VkIHRvIGEgcG9pbnQgd2hlcmUgd2UgY2FuIHNhZmVseSBleGl0IHRoZSByZXBldGl0aW9uL1xuICAgICAgICAgICAgaWYgKHRoaXMudG9rZW5NYXRjaGVyKGN1cnJUb2tlbiwgZXhwZWN0ZWRUb2tUeXBlKSkge1xuICAgICAgICAgICAgICAgIGdlbmVyYXRlRXJyb3JNZXNzYWdlKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuOyAvLyBtdXN0IHJldHVybiBoZXJlIHRvIGF2b2lkIHJldmVydGluZyB0aGUgaW5wdXRJZHhcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGxvb2tBaGVhZEZ1bmMuY2FsbCh0aGlzKSkge1xuICAgICAgICAgICAgICAgIC8vIHdlIHNraXBwZWQgZW5vdWdoIHRva2VucyBzbyB3ZSBjYW4gcmVzeW5jIHJpZ2h0IGJhY2sgaW50byBhbm90aGVyIGl0ZXJhdGlvbiBvZiB0aGUgcmVwZXRpdGlvbiBncmFtbWFyIHJ1bGVcbiAgICAgICAgICAgICAgICBnZW5lcmF0ZUVycm9yTWVzc2FnZSgpO1xuICAgICAgICAgICAgICAgIC8vIHJlY3Vyc2l2ZSBpbnZvY2F0aW9uIGluIG90aGVyIHRvIHN1cHBvcnQgbXVsdGlwbGUgcmUtc3luY3MgaW4gdGhlIHNhbWUgdG9wIGxldmVsIHJlcGV0aXRpb24gZ3JhbW1hciBydWxlXG4gICAgICAgICAgICAgICAgZ3JhbW1hclJ1bGUuYXBwbHkodGhpcywgZ3JhbW1hclJ1bGVBcmdzKTtcbiAgICAgICAgICAgICAgICByZXR1cm47IC8vIG11c3QgcmV0dXJuIGhlcmUgdG8gYXZvaWQgcmV2ZXJ0aW5nIHRoZSBpbnB1dElkeFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy50b2tlbk1hdGNoZXIoY3VyclRva2VuLCByZVN5bmNUb2tUeXBlKSkge1xuICAgICAgICAgICAgICAgIHBhc3NlZFJlc3luY1BvaW50ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGN1cnJUb2tlbiA9IHRoaXMuU0tJUF9UT0tFTigpO1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkVG9SZXN5bmNUb2tlbnMoY3VyclRva2VuLCByZXN5bmNlZFRva2Vucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gd2Ugd2VyZSB1bmFibGUgdG8gZmluZCBhIENMT1NFUiBwb2ludCB0byByZXN5bmMgaW5zaWRlIHRoZSBSZXBldGl0aW9uLCByZXNldCB0aGUgc3RhdGUuXG4gICAgICAgIC8vIFRoZSBwYXJzaW5nIGV4Y2VwdGlvbiB3ZSB3ZXJlIHRyeWluZyB0byBwcmV2ZW50IHdpbGwgaGFwcGVuIGluIHRoZSBORVhUIHBhcnNpbmcgc3RlcC4gaXQgbWF5IGJlIGhhbmRsZWQgYnlcbiAgICAgICAgLy8gXCJiZXR3ZWVuIHJ1bGVzXCIgcmVzeW5jIHJlY292ZXJ5IGxhdGVyIGluIHRoZSBmbG93LlxuICAgICAgICB0aGlzLmltcG9ydExleGVyU3RhdGUoc2F2ZWRMZXhlclN0YXRlKTtcbiAgICB9O1xuICAgIFJlY292ZXJhYmxlLnByb3RvdHlwZS5zaG91bGRJblJlcGV0aXRpb25SZWNvdmVyeUJlVHJpZWQgPSBmdW5jdGlvbiAoZXhwZWN0VG9rQWZ0ZXJMYXN0TWF0Y2gsIG5leHRUb2tJZHgsIG5vdFN0dWNrKSB7XG4gICAgICAgIC8vIEVkZ2UgY2FzZSBvZiBhcnJpdmluZyBmcm9tIGEgTUFOWSByZXBldGl0aW9uIHdoaWNoIGlzIHN0dWNrXG4gICAgICAgIC8vIEF0dGVtcHRpbmcgcmVjb3ZlcnkgaW4gdGhpcyBjYXNlIGNvdWxkIGNhdXNlIGFuIGluZmluaXRlIGxvb3BcbiAgICAgICAgaWYgKG5vdFN0dWNrID09PSBmYWxzZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIGFyZ3VtZW50cyB0byB0cnkgYW5kIHBlcmZvcm0gcmVzeW5jIGludG8gdGhlIG5leHQgaXRlcmF0aW9uIG9mIHRoZSBtYW55IGFyZSBtaXNzaW5nXG4gICAgICAgIGlmIChleHBlY3RUb2tBZnRlckxhc3RNYXRjaCA9PT0gdW5kZWZpbmVkIHx8IG5leHRUb2tJZHggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIG5vIG5lZWQgdG8gcmVjb3ZlciwgbmV4dCB0b2tlbiBpcyB3aGF0IHdlIGV4cGVjdC4uLlxuICAgICAgICBpZiAodGhpcy50b2tlbk1hdGNoZXIodGhpcy5MQSgxKSwgZXhwZWN0VG9rQWZ0ZXJMYXN0TWF0Y2gpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZXJyb3IgcmVjb3ZlcnkgaXMgZGlzYWJsZWQgZHVyaW5nIGJhY2t0cmFja2luZyBhcyBpdCBjYW4gbWFrZSB0aGUgcGFyc2VyIGlnbm9yZSBhIHZhbGlkIGdyYW1tYXIgcGF0aFxuICAgICAgICAvLyBhbmQgcHJlZmVyIHNvbWUgYmFja3RyYWNraW5nIHBhdGggdGhhdCBpbmNsdWRlcyByZWNvdmVyZWQgZXJyb3JzLlxuICAgICAgICBpZiAodGhpcy5pc0JhY2tUcmFja2luZygpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgd2UgY2FuIHBlcmZvcm0gaW5SdWxlIHJlY292ZXJ5IChzaW5nbGUgdG9rZW4gaW5zZXJ0aW9uIG9yIGRlbGV0aW9uKSB3ZSBhbHdheXMgcHJlZmVyIHRoYXQgcmVjb3ZlcnkgYWxnb3JpdGhtXG4gICAgICAgIC8vIGJlY2F1c2UgaWYgaXQgd29ya3MsIGl0IG1ha2VzIHRoZSBsZWFzdCBhbW91bnQgb2YgY2hhbmdlcyB0byB0aGUgaW5wdXQgc3RyZWFtIChncmVlZHkgYWxnb3JpdGhtKVxuICAgICAgICAvL25vaW5zcGVjdGlvbiBSZWR1bmRhbnRJZlN0YXRlbWVudEpTXG4gICAgICAgIGlmICh0aGlzLmNhblBlcmZvcm1JblJ1bGVSZWNvdmVyeShleHBlY3RUb2tBZnRlckxhc3RNYXRjaCwgdGhpcy5nZXRGb2xsb3dzRm9ySW5SdWxlUmVjb3ZlcnkoZXhwZWN0VG9rQWZ0ZXJMYXN0TWF0Y2gsIG5leHRUb2tJZHgpKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgLy8gRXJyb3IgUmVjb3ZlcnkgZnVuY3Rpb25hbGl0eVxuICAgIFJlY292ZXJhYmxlLnByb3RvdHlwZS5nZXRGb2xsb3dzRm9ySW5SdWxlUmVjb3ZlcnkgPSBmdW5jdGlvbiAodG9rVHlwZSwgdG9rSWR4SW5SdWxlKSB7XG4gICAgICAgIHZhciBncmFtbWFyUGF0aCA9IHRoaXMuZ2V0Q3VycmVudEdyYW1tYXJQYXRoKHRva1R5cGUsIHRva0lkeEluUnVsZSk7XG4gICAgICAgIHZhciBmb2xsb3dzID0gdGhpcy5nZXROZXh0UG9zc2libGVUb2tlblR5cGVzKGdyYW1tYXJQYXRoKTtcbiAgICAgICAgcmV0dXJuIGZvbGxvd3M7XG4gICAgfTtcbiAgICBSZWNvdmVyYWJsZS5wcm90b3R5cGUudHJ5SW5SdWxlUmVjb3ZlcnkgPSBmdW5jdGlvbiAoZXhwZWN0ZWRUb2tUeXBlLCBmb2xsb3dzKSB7XG4gICAgICAgIGlmICh0aGlzLmNhblJlY292ZXJXaXRoU2luZ2xlVG9rZW5JbnNlcnRpb24oZXhwZWN0ZWRUb2tUeXBlLCBmb2xsb3dzKSkge1xuICAgICAgICAgICAgdmFyIHRva1RvSW5zZXJ0ID0gdGhpcy5nZXRUb2tlblRvSW5zZXJ0KGV4cGVjdGVkVG9rVHlwZSk7XG4gICAgICAgICAgICByZXR1cm4gdG9rVG9JbnNlcnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY2FuUmVjb3ZlcldpdGhTaW5nbGVUb2tlbkRlbGV0aW9uKGV4cGVjdGVkVG9rVHlwZSkpIHtcbiAgICAgICAgICAgIHZhciBuZXh0VG9rID0gdGhpcy5TS0lQX1RPS0VOKCk7XG4gICAgICAgICAgICB0aGlzLmNvbnN1bWVUb2tlbigpO1xuICAgICAgICAgICAgcmV0dXJuIG5leHRUb2s7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEluUnVsZVJlY292ZXJ5RXhjZXB0aW9uKFwic2FkIHNhZCBwYW5kYVwiKTtcbiAgICB9O1xuICAgIFJlY292ZXJhYmxlLnByb3RvdHlwZS5jYW5QZXJmb3JtSW5SdWxlUmVjb3ZlcnkgPSBmdW5jdGlvbiAoZXhwZWN0ZWRUb2tlbiwgZm9sbG93cykge1xuICAgICAgICByZXR1cm4gKHRoaXMuY2FuUmVjb3ZlcldpdGhTaW5nbGVUb2tlbkluc2VydGlvbihleHBlY3RlZFRva2VuLCBmb2xsb3dzKSB8fFxuICAgICAgICAgICAgdGhpcy5jYW5SZWNvdmVyV2l0aFNpbmdsZVRva2VuRGVsZXRpb24oZXhwZWN0ZWRUb2tlbikpO1xuICAgIH07XG4gICAgUmVjb3ZlcmFibGUucHJvdG90eXBlLmNhblJlY292ZXJXaXRoU2luZ2xlVG9rZW5JbnNlcnRpb24gPSBmdW5jdGlvbiAoZXhwZWN0ZWRUb2tUeXBlLCBmb2xsb3dzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICghdGhpcy5jYW5Ub2tlblR5cGVCZUluc2VydGVkSW5SZWNvdmVyeShleHBlY3RlZFRva1R5cGUpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbXVzdCBrbm93IHRoZSBwb3NzaWJsZSBmb2xsb3dpbmcgdG9rZW5zIHRvIHBlcmZvcm0gc2luZ2xlIHRva2VuIGluc2VydGlvblxuICAgICAgICBpZiAoaXNFbXB0eShmb2xsb3dzKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtaXNtYXRjaGVkVG9rID0gdGhpcy5MQSgxKTtcbiAgICAgICAgdmFyIGlzTWlzTWF0Y2hlZFRva0luRm9sbG93cyA9IGZpbmQoZm9sbG93cywgZnVuY3Rpb24gKHBvc3NpYmxlRm9sbG93c1Rva1R5cGUpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy50b2tlbk1hdGNoZXIobWlzbWF0Y2hlZFRvaywgcG9zc2libGVGb2xsb3dzVG9rVHlwZSk7XG4gICAgICAgIH0pICE9PSB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiBpc01pc01hdGNoZWRUb2tJbkZvbGxvd3M7XG4gICAgfTtcbiAgICBSZWNvdmVyYWJsZS5wcm90b3R5cGUuY2FuUmVjb3ZlcldpdGhTaW5nbGVUb2tlbkRlbGV0aW9uID0gZnVuY3Rpb24gKGV4cGVjdGVkVG9rVHlwZSkge1xuICAgICAgICB2YXIgaXNOZXh0VG9rZW5XaGF0SXNFeHBlY3RlZCA9IHRoaXMudG9rZW5NYXRjaGVyKHRoaXMuTEEoMiksIGV4cGVjdGVkVG9rVHlwZSk7XG4gICAgICAgIHJldHVybiBpc05leHRUb2tlbldoYXRJc0V4cGVjdGVkO1xuICAgIH07XG4gICAgUmVjb3ZlcmFibGUucHJvdG90eXBlLmlzSW5DdXJyZW50UnVsZVJlU3luY1NldCA9IGZ1bmN0aW9uICh0b2tlblR5cGVJZHgpIHtcbiAgICAgICAgdmFyIGZvbGxvd0tleSA9IHRoaXMuZ2V0Q3VyckZvbGxvd0tleSgpO1xuICAgICAgICB2YXIgY3VycmVudFJ1bGVSZVN5bmNTZXQgPSB0aGlzLmdldEZvbGxvd1NldEZyb21Gb2xsb3dLZXkoZm9sbG93S2V5KTtcbiAgICAgICAgcmV0dXJuIGNvbnRhaW5zKGN1cnJlbnRSdWxlUmVTeW5jU2V0LCB0b2tlblR5cGVJZHgpO1xuICAgIH07XG4gICAgUmVjb3ZlcmFibGUucHJvdG90eXBlLmZpbmRSZVN5bmNUb2tlblR5cGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhbGxQb3NzaWJsZVJlU3luY1Rva1R5cGVzID0gdGhpcy5mbGF0dGVuRm9sbG93U2V0KCk7XG4gICAgICAgIC8vIHRoaXMgbG9vcCB3aWxsIGFsd2F5cyB0ZXJtaW5hdGUgYXMgRU9GIGlzIGFsd2F5cyBpbiB0aGUgZm9sbG93IHN0YWNrIGFuZCBhbHNvIGFsd2F5cyAodmlydHVhbGx5KSBpbiB0aGUgaW5wdXRcbiAgICAgICAgdmFyIG5leHRUb2tlbiA9IHRoaXMuTEEoMSk7XG4gICAgICAgIHZhciBrID0gMjtcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgIHZhciBuZXh0VG9rZW5UeXBlID0gbmV4dFRva2VuLnRva2VuVHlwZTtcbiAgICAgICAgICAgIGlmIChjb250YWlucyhhbGxQb3NzaWJsZVJlU3luY1Rva1R5cGVzLCBuZXh0VG9rZW5UeXBlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0VG9rZW5UeXBlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV4dFRva2VuID0gdGhpcy5MQShrKTtcbiAgICAgICAgICAgIGsrKztcbiAgICAgICAgfVxuICAgIH07XG4gICAgUmVjb3ZlcmFibGUucHJvdG90eXBlLmdldEN1cnJGb2xsb3dLZXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIHRoZSBsZW5ndGggaXMgYXQgbGVhc3Qgb25lIGFzIHdlIGFsd2F5cyBhZGQgdGhlIHJ1bGVOYW1lIHRvIHRoZSBzdGFjayBiZWZvcmUgaW52b2tpbmcgdGhlIHJ1bGUuXG4gICAgICAgIGlmICh0aGlzLlJVTEVfU1RBQ0subGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gRU9GX0ZPTExPV19LRVk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGN1cnJSdWxlU2hvcnROYW1lID0gdGhpcy5nZXRMYXN0RXhwbGljaXRSdWxlU2hvcnROYW1lKCk7XG4gICAgICAgIHZhciBjdXJyUnVsZUlkeCA9IHRoaXMuZ2V0TGFzdEV4cGxpY2l0UnVsZU9jY3VycmVuY2VJbmRleCgpO1xuICAgICAgICB2YXIgcHJldlJ1bGVTaG9ydE5hbWUgPSB0aGlzLmdldFByZXZpb3VzRXhwbGljaXRSdWxlU2hvcnROYW1lKCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBydWxlTmFtZTogdGhpcy5zaG9ydFJ1bGVOYW1lVG9GdWxsTmFtZShjdXJyUnVsZVNob3J0TmFtZSksXG4gICAgICAgICAgICBpZHhJbkNhbGxpbmdSdWxlOiBjdXJyUnVsZUlkeCxcbiAgICAgICAgICAgIGluUnVsZTogdGhpcy5zaG9ydFJ1bGVOYW1lVG9GdWxsTmFtZShwcmV2UnVsZVNob3J0TmFtZSlcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIFJlY292ZXJhYmxlLnByb3RvdHlwZS5idWlsZEZ1bGxGb2xsb3dLZXlTdGFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGV4cGxpY2l0UnVsZVN0YWNrID0gdGhpcy5SVUxFX1NUQUNLO1xuICAgICAgICB2YXIgZXhwbGljaXRPY2N1cnJlbmNlU3RhY2sgPSB0aGlzLlJVTEVfT0NDVVJSRU5DRV9TVEFDSztcbiAgICAgICAgcmV0dXJuIG1hcChleHBsaWNpdFJ1bGVTdGFjaywgZnVuY3Rpb24gKHJ1bGVOYW1lLCBpZHgpIHtcbiAgICAgICAgICAgIGlmIChpZHggPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gRU9GX0ZPTExPV19LRVk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHJ1bGVOYW1lOiBfdGhpcy5zaG9ydFJ1bGVOYW1lVG9GdWxsTmFtZShydWxlTmFtZSksXG4gICAgICAgICAgICAgICAgaWR4SW5DYWxsaW5nUnVsZTogZXhwbGljaXRPY2N1cnJlbmNlU3RhY2tbaWR4XSxcbiAgICAgICAgICAgICAgICBpblJ1bGU6IF90aGlzLnNob3J0UnVsZU5hbWVUb0Z1bGxOYW1lKGV4cGxpY2l0UnVsZVN0YWNrW2lkeCAtIDFdKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBSZWNvdmVyYWJsZS5wcm90b3R5cGUuZmxhdHRlbkZvbGxvd1NldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGZvbGxvd1N0YWNrID0gbWFwKHRoaXMuYnVpbGRGdWxsRm9sbG93S2V5U3RhY2soKSwgZnVuY3Rpb24gKGN1cnJLZXkpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5nZXRGb2xsb3dTZXRGcm9tRm9sbG93S2V5KGN1cnJLZXkpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGZsYXR0ZW4oZm9sbG93U3RhY2spO1xuICAgIH07XG4gICAgUmVjb3ZlcmFibGUucHJvdG90eXBlLmdldEZvbGxvd1NldEZyb21Gb2xsb3dLZXkgPSBmdW5jdGlvbiAoZm9sbG93S2V5KSB7XG4gICAgICAgIGlmIChmb2xsb3dLZXkgPT09IEVPRl9GT0xMT1dfS0VZKSB7XG4gICAgICAgICAgICByZXR1cm4gW0VPRl07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZvbGxvd05hbWUgPSBmb2xsb3dLZXkucnVsZU5hbWUgKyBmb2xsb3dLZXkuaWR4SW5DYWxsaW5nUnVsZSArIElOICsgZm9sbG93S2V5LmluUnVsZTtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzeW5jRm9sbG93c1tmb2xsb3dOYW1lXTtcbiAgICB9O1xuICAgIC8vIEl0IGRvZXMgbm90IG1ha2UgYW55IHNlbnNlIHRvIGluY2x1ZGUgYSB2aXJ0dWFsIEVPRiB0b2tlbiBpbiB0aGUgbGlzdCBvZiByZXN5bmNlZCB0b2tlbnNcbiAgICAvLyBhcyBFT0YgZG9lcyBub3QgcmVhbGx5IGV4aXN0IGFuZCB0aHVzIGRvZXMgbm90IGNvbnRhaW4gYW55IHVzZWZ1bCBpbmZvcm1hdGlvbiAobGluZS9jb2x1bW4gbnVtYmVycylcbiAgICBSZWNvdmVyYWJsZS5wcm90b3R5cGUuYWRkVG9SZXN5bmNUb2tlbnMgPSBmdW5jdGlvbiAodG9rZW4sIHJlc3luY1Rva2Vucykge1xuICAgICAgICBpZiAoIXRoaXMudG9rZW5NYXRjaGVyKHRva2VuLCBFT0YpKSB7XG4gICAgICAgICAgICByZXN5bmNUb2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3luY1Rva2VucztcbiAgICB9O1xuICAgIFJlY292ZXJhYmxlLnByb3RvdHlwZS5yZVN5bmNUbyA9IGZ1bmN0aW9uICh0b2tUeXBlKSB7XG4gICAgICAgIHZhciByZXN5bmNlZFRva2VucyA9IFtdO1xuICAgICAgICB2YXIgbmV4dFRvayA9IHRoaXMuTEEoMSk7XG4gICAgICAgIHdoaWxlICh0aGlzLnRva2VuTWF0Y2hlcihuZXh0VG9rLCB0b2tUeXBlKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIG5leHRUb2sgPSB0aGlzLlNLSVBfVE9LRU4oKTtcbiAgICAgICAgICAgIHRoaXMuYWRkVG9SZXN5bmNUb2tlbnMobmV4dFRvaywgcmVzeW5jZWRUb2tlbnMpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRoZSBsYXN0IHRva2VuIGlzIG5vdCBwYXJ0IG9mIHRoZSBlcnJvci5cbiAgICAgICAgcmV0dXJuIGRyb3BSaWdodChyZXN5bmNlZFRva2Vucyk7XG4gICAgfTtcbiAgICBSZWNvdmVyYWJsZS5wcm90b3R5cGUuYXR0ZW1wdEluUmVwZXRpdGlvblJlY292ZXJ5ID0gZnVuY3Rpb24gKHByb2RGdW5jLCBhcmdzLCBsb29rYWhlYWRGdW5jLCBkc2xNZXRob2RJZHgsIHByb2RPY2N1cnJlbmNlLCBuZXh0VG9rc1dhbGtlciwgbm90U3R1Y2spIHtcbiAgICAgICAgLy8gYnkgZGVmYXVsdCB0aGlzIGlzIGEgTk8tT1BcbiAgICAgICAgLy8gVGhlIGFjdHVhbCBpbXBsZW1lbnRhdGlvbiBpcyB3aXRoIHRoZSBmdW5jdGlvbihub3QgbWV0aG9kKSBiZWxvd1xuICAgIH07XG4gICAgUmVjb3ZlcmFibGUucHJvdG90eXBlLmdldEN1cnJlbnRHcmFtbWFyUGF0aCA9IGZ1bmN0aW9uICh0b2tUeXBlLCB0b2tJZHhJblJ1bGUpIHtcbiAgICAgICAgdmFyIHBhdGhSdWxlU3RhY2sgPSB0aGlzLmdldEh1bWFuUmVhZGFibGVSdWxlU3RhY2soKTtcbiAgICAgICAgdmFyIHBhdGhPY2N1cnJlbmNlU3RhY2sgPSBjbG9uZUFycih0aGlzLlJVTEVfT0NDVVJSRU5DRV9TVEFDSyk7XG4gICAgICAgIHZhciBncmFtbWFyUGF0aCA9IHtcbiAgICAgICAgICAgIHJ1bGVTdGFjazogcGF0aFJ1bGVTdGFjayxcbiAgICAgICAgICAgIG9jY3VycmVuY2VTdGFjazogcGF0aE9jY3VycmVuY2VTdGFjayxcbiAgICAgICAgICAgIGxhc3RUb2s6IHRva1R5cGUsXG4gICAgICAgICAgICBsYXN0VG9rT2NjdXJyZW5jZTogdG9rSWR4SW5SdWxlXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBncmFtbWFyUGF0aDtcbiAgICB9O1xuICAgIFJlY292ZXJhYmxlLnByb3RvdHlwZS5nZXRIdW1hblJlYWRhYmxlUnVsZVN0YWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXR1cm4gbWFwKHRoaXMuUlVMRV9TVEFDSywgZnVuY3Rpb24gKGN1cnJTaG9ydE5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5zaG9ydFJ1bGVOYW1lVG9GdWxsTmFtZShjdXJyU2hvcnROYW1lKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gUmVjb3ZlcmFibGU7XG59KCkpO1xuZXhwb3J0IHsgUmVjb3ZlcmFibGUgfTtcbmV4cG9ydCBmdW5jdGlvbiBhdHRlbXB0SW5SZXBldGl0aW9uUmVjb3ZlcnkocHJvZEZ1bmMsIGFyZ3MsIGxvb2thaGVhZEZ1bmMsIGRzbE1ldGhvZElkeCwgcHJvZE9jY3VycmVuY2UsIG5leHRUb2tzV2Fsa2VyLCBub3RTdHVjaykge1xuICAgIHZhciBrZXkgPSB0aGlzLmdldEtleUZvckF1dG9tYXRpY0xvb2thaGVhZChkc2xNZXRob2RJZHgsIHByb2RPY2N1cnJlbmNlKTtcbiAgICB2YXIgZmlyc3RBZnRlclJlcEluZm8gPSB0aGlzLmZpcnN0QWZ0ZXJSZXBNYXBba2V5XTtcbiAgICBpZiAoZmlyc3RBZnRlclJlcEluZm8gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YXIgY3VyclJ1bGVOYW1lID0gdGhpcy5nZXRDdXJyUnVsZUZ1bGxOYW1lKCk7XG4gICAgICAgIHZhciBydWxlR3JhbW1hciA9IHRoaXMuZ2V0R0FzdFByb2R1Y3Rpb25zKClbY3VyclJ1bGVOYW1lXTtcbiAgICAgICAgdmFyIHdhbGtlciA9IG5ldyBuZXh0VG9rc1dhbGtlcihydWxlR3JhbW1hciwgcHJvZE9jY3VycmVuY2UpO1xuICAgICAgICBmaXJzdEFmdGVyUmVwSW5mbyA9IHdhbGtlci5zdGFydFdhbGtpbmcoKTtcbiAgICAgICAgdGhpcy5maXJzdEFmdGVyUmVwTWFwW2tleV0gPSBmaXJzdEFmdGVyUmVwSW5mbztcbiAgICB9XG4gICAgdmFyIGV4cGVjdFRva0FmdGVyTGFzdE1hdGNoID0gZmlyc3RBZnRlclJlcEluZm8udG9rZW47XG4gICAgdmFyIG5leHRUb2tJZHggPSBmaXJzdEFmdGVyUmVwSW5mby5vY2N1cnJlbmNlO1xuICAgIHZhciBpc0VuZE9mUnVsZSA9IGZpcnN0QWZ0ZXJSZXBJbmZvLmlzRW5kT2ZSdWxlO1xuICAgIC8vIHNwZWNpYWwgZWRnZSBjYXNlIG9mIGEgVE9QIG1vc3QgcmVwZXRpdGlvbiBhZnRlciB3aGljaCB0aGUgaW5wdXQgc2hvdWxkIEVORC5cbiAgICAvLyB0aGlzIHdpbGwgZm9yY2UgYW4gYXR0ZW1wdCBmb3IgaW5SdWxlIHJlY292ZXJ5IGluIHRoYXQgc2NlbmFyaW8uXG4gICAgaWYgKHRoaXMuUlVMRV9TVEFDSy5sZW5ndGggPT09IDEgJiZcbiAgICAgICAgaXNFbmRPZlJ1bGUgJiZcbiAgICAgICAgZXhwZWN0VG9rQWZ0ZXJMYXN0TWF0Y2ggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBleHBlY3RUb2tBZnRlckxhc3RNYXRjaCA9IEVPRjtcbiAgICAgICAgbmV4dFRva0lkeCA9IDE7XG4gICAgfVxuICAgIGlmICh0aGlzLnNob3VsZEluUmVwZXRpdGlvblJlY292ZXJ5QmVUcmllZChleHBlY3RUb2tBZnRlckxhc3RNYXRjaCwgbmV4dFRva0lkeCwgbm90U3R1Y2spKSB7XG4gICAgICAgIC8vIFRPRE86IHBlcmZvcm1hbmNlIG9wdGltaXphdGlvbjogaW5zdGVhZCBvZiBwYXNzaW5nIHRoZSBvcmlnaW5hbCBhcmdzIGhlcmUsIHdlIG1vZGlmeVxuICAgICAgICAvLyB0aGUgYXJncyBwYXJhbSAob3IgY3JlYXRlIGEgbmV3IG9uZSkgYW5kIG1ha2Ugc3VyZSB0aGUgbG9va2FoZWFkIGZ1bmMgaXMgZXhwbGljaXRseSBwcm92aWRlZFxuICAgICAgICAvLyB0byBhdm9pZCBzZWFyY2hpbmcgdGhlIGNhY2hlIGZvciBpdCBvbmNlIG1vcmUuXG4gICAgICAgIHRoaXMudHJ5SW5SZXBldGl0aW9uUmVjb3ZlcnkocHJvZEZ1bmMsIGFyZ3MsIGxvb2thaGVhZEZ1bmMsIGV4cGVjdFRva0FmdGVyTGFzdE1hdGNoKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZWNvdmVyYWJsZS5qcy5tYXAiLCIvLyBMb29rYWhlYWQga2V5cyBhcmUgMzJCaXQgaW50ZWdlcnMgaW4gdGhlIGZvcm1cbi8vIFRUVFRUVFRULVpaWlpaWlpaWlpaWi1ZWVlZLVhYWFhYWFhYXG4vLyBYWFhYIC0+IE9jY3VycmVuY2UgSW5kZXggYml0bWFwLlxuLy8gWVlZWSAtPiBEU0wgTWV0aG9kIFR5cGUgYml0bWFwLlxuLy8gWlpaWlpaWlpaWlpaWlpaIC0+IFJ1bGUgc2hvcnQgSW5kZXggYml0bWFwLlxuLy8gVFRUVFRUVFRUIC0+IGFsdGVybmF0aW9uIGFsdGVybmF0aXZlIGluZGV4IGJpdG1hcFxuZXhwb3J0IHZhciBCSVRTX0ZPUl9NRVRIT0RfVFlQRSA9IDQ7XG5leHBvcnQgdmFyIEJJVFNfRk9SX09DQ1VSUkVOQ0VfSURYID0gODtcbmV4cG9ydCB2YXIgQklUU19GT1JfUlVMRV9JRFggPSAxMjtcbi8vIFRPRE86IHZhbGlkYXRpb24sIHRoaXMgbWVhbnMgdGhhdCB0aGVyZSBtYXkgYXQgbW9zdCAyXjggLS0+IDI1NiBhbHRlcm5hdGl2ZXMgZm9yIGFuIGFsdGVybmF0aW9uLlxuZXhwb3J0IHZhciBCSVRTX0ZPUl9BTFRfSURYID0gODtcbi8vIHNob3J0IHN0cmluZyB1c2VkIGFzIHBhcnQgb2YgbWFwcGluZyBrZXlzLlxuLy8gYmVpbmcgc2hvcnQgaW1wcm92ZXMgdGhlIHBlcmZvcm1hbmNlIHdoZW4gY29tcG9zaW5nIEtFWVMgZm9yIG1hcHMgb3V0IG9mIHRoZXNlXG4vLyBUaGUgNSAtIDggYml0cyAoMTYgcG9zc2libGUgdmFsdWVzLCBhcmUgcmVzZXJ2ZWQgZm9yIHRoZSBEU0wgbWV0aG9kIGluZGljZXMpXG4vKiB0c2xpbnQ6ZGlzYWJsZSAqL1xuZXhwb3J0IHZhciBPUl9JRFggPSAxIDw8IEJJVFNfRk9SX09DQ1VSUkVOQ0VfSURYO1xuZXhwb3J0IHZhciBPUFRJT05fSURYID0gMiA8PCBCSVRTX0ZPUl9PQ0NVUlJFTkNFX0lEWDtcbmV4cG9ydCB2YXIgTUFOWV9JRFggPSAzIDw8IEJJVFNfRk9SX09DQ1VSUkVOQ0VfSURYO1xuZXhwb3J0IHZhciBBVF9MRUFTVF9PTkVfSURYID0gNCA8PCBCSVRTX0ZPUl9PQ0NVUlJFTkNFX0lEWDtcbmV4cG9ydCB2YXIgTUFOWV9TRVBfSURYID0gNSA8PCBCSVRTX0ZPUl9PQ0NVUlJFTkNFX0lEWDtcbmV4cG9ydCB2YXIgQVRfTEVBU1RfT05FX1NFUF9JRFggPSA2IDw8IEJJVFNfRk9SX09DQ1VSUkVOQ0VfSURYO1xuLyogdHNsaW50OmVuYWJsZSAqL1xuLy8gdGhpcyBhY3R1YWxseSByZXR1cm5zIGEgbnVtYmVyLCBidXQgaXQgaXMgYWx3YXlzIHVzZWQgYXMgYSBzdHJpbmcgKG9iamVjdCBwcm9wIGtleSlcbmV4cG9ydCBmdW5jdGlvbiBnZXRLZXlGb3JBdXRvbWF0aWNMb29rYWhlYWQocnVsZUlkeCwgZHNsTWV0aG9kSWR4LCBvY2N1cnJlbmNlKSB7XG4gICAgLyogdHNsaW50OmRpc2FibGUgKi9cbiAgICByZXR1cm4gb2NjdXJyZW5jZSB8IGRzbE1ldGhvZElkeCB8IHJ1bGVJZHg7XG4gICAgLyogdHNsaW50OmVuYWJsZSAqL1xufVxudmFyIEJJVFNfU1RBUlRfRk9SX0FMVF9JRFggPSAzMiAtIEJJVFNfRk9SX0FMVF9JRFg7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1rZXlzLmpzLm1hcCIsImltcG9ydCB7IGJ1aWxkQWx0ZXJuYXRpdmVzTG9va0FoZWFkRnVuYywgYnVpbGRMb29rYWhlYWRGdW5jRm9yT3B0aW9uYWxQcm9kLCBidWlsZExvb2thaGVhZEZ1bmNGb3JPciwgYnVpbGRTaW5nbGVBbHRlcm5hdGl2ZUxvb2thaGVhZEZ1bmN0aW9uLCBQUk9EX1RZUEUgfSBmcm9tIFwiLi4vLi4vZ3JhbW1hci9sb29rYWhlYWRcIjtcbmltcG9ydCB7IGZvckVhY2gsIGhhcywgaXNFUzIwMTVNYXBTdXBwb3J0ZWQgfSBmcm9tIFwiLi4vLi4vLi4vdXRpbHMvdXRpbHNcIjtcbmltcG9ydCB7IERFRkFVTFRfUEFSU0VSX0NPTkZJRyB9IGZyb20gXCIuLi9wYXJzZXJcIjtcbmltcG9ydCB7IEFUX0xFQVNUX09ORV9JRFgsIEFUX0xFQVNUX09ORV9TRVBfSURYLCBnZXRLZXlGb3JBdXRvbWF0aWNMb29rYWhlYWQsIE1BTllfSURYLCBNQU5ZX1NFUF9JRFgsIE9QVElPTl9JRFgsIE9SX0lEWCB9IGZyb20gXCIuLi8uLi9ncmFtbWFyL2tleXNcIjtcbmltcG9ydCB7IGNvbGxlY3RNZXRob2RzLCBnZXRQcm9kdWN0aW9uRHNsTmFtZSB9IGZyb20gXCIuLi8uLi9ncmFtbWFyL2dhc3QvZ2FzdFwiO1xuLyoqXG4gKiBUcmFpdCByZXNwb25zaWJsZSBmb3IgdGhlIGxvb2thaGVhZCByZWxhdGVkIHV0aWxpdGllcyBhbmQgb3B0aW1pemF0aW9ucy5cbiAqL1xudmFyIExvb2tzQWhlYWQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTG9va3NBaGVhZCgpIHtcbiAgICB9XG4gICAgTG9va3NBaGVhZC5wcm90b3R5cGUuaW5pdExvb2tzQWhlYWQgPSBmdW5jdGlvbiAoY29uZmlnKSB7XG4gICAgICAgIHRoaXMuZHluYW1pY1Rva2Vuc0VuYWJsZWQgPSBoYXMoY29uZmlnLCBcImR5bmFtaWNUb2tlbnNFbmFibGVkXCIpXG4gICAgICAgICAgICA/IGNvbmZpZy5keW5hbWljVG9rZW5zRW5hYmxlZFxuICAgICAgICAgICAgOiBERUZBVUxUX1BBUlNFUl9DT05GSUcuZHluYW1pY1Rva2Vuc0VuYWJsZWQ7XG4gICAgICAgIHRoaXMubWF4TG9va2FoZWFkID0gaGFzKGNvbmZpZywgXCJtYXhMb29rYWhlYWRcIilcbiAgICAgICAgICAgID8gY29uZmlnLm1heExvb2thaGVhZFxuICAgICAgICAgICAgOiBERUZBVUxUX1BBUlNFUl9DT05GSUcubWF4TG9va2FoZWFkO1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAtIFVzaW5nIHBsYWluIGFycmF5IGFzIGRpY3Rpb25hcnkgd2lsbCBiZSB0ZXN0ZWQgb24gb2xkZXIgbm9kZS5qcyB2ZXJzaW9ucyBhbmQgSUUxMSAqL1xuICAgICAgICB0aGlzLmxvb2tBaGVhZEZ1bmNzQ2FjaGUgPSBpc0VTMjAxNU1hcFN1cHBvcnRlZCgpID8gbmV3IE1hcCgpIDogW107XG4gICAgICAgIC8vIFBlcmZvcm1hbmNlIG9wdGltaXphdGlvbiBvbiBuZXdlciBlbmdpbmVzIHRoYXQgc3VwcG9ydCBFUzYgTWFwXG4gICAgICAgIC8vIEZvciBsYXJnZXIgTWFwcyB0aGlzIGlzIHNsaWdodGx5IGZhc3RlciB0aGFuIHVzaW5nIGEgcGxhaW4gb2JqZWN0IChhcnJheSBpbiBvdXIgY2FzZSkuXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlIC0gVGhlIGVsc2UgYnJhbmNoIHdpbGwgYmUgdGVzdGVkIG9uIG9sZGVyIG5vZGUuanMgdmVyc2lvbnMgYW5kIElFMTEgKi9cbiAgICAgICAgaWYgKGlzRVMyMDE1TWFwU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgICAgIHRoaXMuZ2V0TGFGdW5jRnJvbUNhY2hlID0gdGhpcy5nZXRMYUZ1bmNGcm9tTWFwO1xuICAgICAgICAgICAgdGhpcy5zZXRMYUZ1bmNDYWNoZSA9IHRoaXMuc2V0TGFGdW5jQ2FjaGVVc2luZ01hcDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZ2V0TGFGdW5jRnJvbUNhY2hlID0gdGhpcy5nZXRMYUZ1bmNGcm9tT2JqO1xuICAgICAgICAgICAgdGhpcy5zZXRMYUZ1bmNDYWNoZSA9IHRoaXMuc2V0TGFGdW5jVXNpbmdPYmo7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIExvb2tzQWhlYWQucHJvdG90eXBlLnByZUNvbXB1dGVMb29rYWhlYWRGdW5jdGlvbnMgPSBmdW5jdGlvbiAocnVsZXMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgZm9yRWFjaChydWxlcywgZnVuY3Rpb24gKGN1cnJSdWxlKSB7XG4gICAgICAgICAgICBfdGhpcy5UUkFDRV9JTklUKGN1cnJSdWxlLm5hbWUgKyBcIiBSdWxlIExvb2thaGVhZFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9hID0gY29sbGVjdE1ldGhvZHMoY3VyclJ1bGUpLCBhbHRlcm5hdGlvbiA9IF9hLmFsdGVybmF0aW9uLCByZXBldGl0aW9uID0gX2EucmVwZXRpdGlvbiwgb3B0aW9uID0gX2Eub3B0aW9uLCByZXBldGl0aW9uTWFuZGF0b3J5ID0gX2EucmVwZXRpdGlvbk1hbmRhdG9yeSwgcmVwZXRpdGlvbk1hbmRhdG9yeVdpdGhTZXBhcmF0b3IgPSBfYS5yZXBldGl0aW9uTWFuZGF0b3J5V2l0aFNlcGFyYXRvciwgcmVwZXRpdGlvbldpdGhTZXBhcmF0b3IgPSBfYS5yZXBldGl0aW9uV2l0aFNlcGFyYXRvcjtcbiAgICAgICAgICAgICAgICBmb3JFYWNoKGFsdGVybmF0aW9uLCBmdW5jdGlvbiAoY3VyclByb2QpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByb2RJZHggPSBjdXJyUHJvZC5pZHggPT09IDAgPyBcIlwiIDogY3VyclByb2QuaWR4O1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5UUkFDRV9JTklUKFwiXCIgKyBnZXRQcm9kdWN0aW9uRHNsTmFtZShjdXJyUHJvZCkgKyBwcm9kSWR4LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGFGdW5jID0gYnVpbGRMb29rYWhlYWRGdW5jRm9yT3IoY3VyclByb2QuaWR4LCBjdXJyUnVsZSwgY3VyclByb2QubWF4TG9va2FoZWFkIHx8IF90aGlzLm1heExvb2thaGVhZCwgY3VyclByb2QuaGFzUHJlZGljYXRlcywgX3RoaXMuZHluYW1pY1Rva2Vuc0VuYWJsZWQsIF90aGlzLmxvb2tBaGVhZEJ1aWxkZXJGb3JBbHRlcm5hdGl2ZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGtleSA9IGdldEtleUZvckF1dG9tYXRpY0xvb2thaGVhZChfdGhpcy5mdWxsUnVsZU5hbWVUb1Nob3J0W2N1cnJSdWxlLm5hbWVdLCBPUl9JRFgsIGN1cnJQcm9kLmlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZXRMYUZ1bmNDYWNoZShrZXksIGxhRnVuYyk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGZvckVhY2gocmVwZXRpdGlvbiwgZnVuY3Rpb24gKGN1cnJQcm9kKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmNvbXB1dGVMb29rYWhlYWRGdW5jKGN1cnJSdWxlLCBjdXJyUHJvZC5pZHgsIE1BTllfSURYLCBQUk9EX1RZUEUuUkVQRVRJVElPTiwgY3VyclByb2QubWF4TG9va2FoZWFkLCBnZXRQcm9kdWN0aW9uRHNsTmFtZShjdXJyUHJvZCkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGZvckVhY2gob3B0aW9uLCBmdW5jdGlvbiAoY3VyclByb2QpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuY29tcHV0ZUxvb2thaGVhZEZ1bmMoY3VyclJ1bGUsIGN1cnJQcm9kLmlkeCwgT1BUSU9OX0lEWCwgUFJPRF9UWVBFLk9QVElPTiwgY3VyclByb2QubWF4TG9va2FoZWFkLCBnZXRQcm9kdWN0aW9uRHNsTmFtZShjdXJyUHJvZCkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGZvckVhY2gocmVwZXRpdGlvbk1hbmRhdG9yeSwgZnVuY3Rpb24gKGN1cnJQcm9kKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmNvbXB1dGVMb29rYWhlYWRGdW5jKGN1cnJSdWxlLCBjdXJyUHJvZC5pZHgsIEFUX0xFQVNUX09ORV9JRFgsIFBST0RfVFlQRS5SRVBFVElUSU9OX01BTkRBVE9SWSwgY3VyclByb2QubWF4TG9va2FoZWFkLCBnZXRQcm9kdWN0aW9uRHNsTmFtZShjdXJyUHJvZCkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGZvckVhY2gocmVwZXRpdGlvbk1hbmRhdG9yeVdpdGhTZXBhcmF0b3IsIGZ1bmN0aW9uIChjdXJyUHJvZCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5jb21wdXRlTG9va2FoZWFkRnVuYyhjdXJyUnVsZSwgY3VyclByb2QuaWR4LCBBVF9MRUFTVF9PTkVfU0VQX0lEWCwgUFJPRF9UWVBFLlJFUEVUSVRJT05fTUFOREFUT1JZX1dJVEhfU0VQQVJBVE9SLCBjdXJyUHJvZC5tYXhMb29rYWhlYWQsIGdldFByb2R1Y3Rpb25Ec2xOYW1lKGN1cnJQcm9kKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZm9yRWFjaChyZXBldGl0aW9uV2l0aFNlcGFyYXRvciwgZnVuY3Rpb24gKGN1cnJQcm9kKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmNvbXB1dGVMb29rYWhlYWRGdW5jKGN1cnJSdWxlLCBjdXJyUHJvZC5pZHgsIE1BTllfU0VQX0lEWCwgUFJPRF9UWVBFLlJFUEVUSVRJT05fV0lUSF9TRVBBUkFUT1IsIGN1cnJQcm9kLm1heExvb2thaGVhZCwgZ2V0UHJvZHVjdGlvbkRzbE5hbWUoY3VyclByb2QpKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIExvb2tzQWhlYWQucHJvdG90eXBlLmNvbXB1dGVMb29rYWhlYWRGdW5jID0gZnVuY3Rpb24gKHJ1bGUsIHByb2RPY2N1cnJlbmNlLCBwcm9kS2V5LCBwcm9kVHlwZSwgcHJvZE1heExvb2thaGVhZCwgZHNsTWV0aG9kTmFtZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLlRSQUNFX0lOSVQoXCJcIiArIGRzbE1ldGhvZE5hbWUgKyAocHJvZE9jY3VycmVuY2UgPT09IDAgPyBcIlwiIDogcHJvZE9jY3VycmVuY2UpLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgbGFGdW5jID0gYnVpbGRMb29rYWhlYWRGdW5jRm9yT3B0aW9uYWxQcm9kKHByb2RPY2N1cnJlbmNlLCBydWxlLCBwcm9kTWF4TG9va2FoZWFkIHx8IF90aGlzLm1heExvb2thaGVhZCwgX3RoaXMuZHluYW1pY1Rva2Vuc0VuYWJsZWQsIHByb2RUeXBlLCBfdGhpcy5sb29rQWhlYWRCdWlsZGVyRm9yT3B0aW9uYWwpO1xuICAgICAgICAgICAgdmFyIGtleSA9IGdldEtleUZvckF1dG9tYXRpY0xvb2thaGVhZChfdGhpcy5mdWxsUnVsZU5hbWVUb1Nob3J0W3J1bGUubmFtZV0sIHByb2RLZXksIHByb2RPY2N1cnJlbmNlKTtcbiAgICAgICAgICAgIF90aGlzLnNldExhRnVuY0NhY2hlKGtleSwgbGFGdW5jKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBMb29rc0FoZWFkLnByb3RvdHlwZS5sb29rQWhlYWRCdWlsZGVyRm9yT3B0aW9uYWwgPSBmdW5jdGlvbiAoYWx0LCB0b2tlbk1hdGNoZXIsIGR5bmFtaWNUb2tlbnNFbmFibGVkKSB7XG4gICAgICAgIHJldHVybiBidWlsZFNpbmdsZUFsdGVybmF0aXZlTG9va2FoZWFkRnVuY3Rpb24oYWx0LCB0b2tlbk1hdGNoZXIsIGR5bmFtaWNUb2tlbnNFbmFibGVkKTtcbiAgICB9O1xuICAgIExvb2tzQWhlYWQucHJvdG90eXBlLmxvb2tBaGVhZEJ1aWxkZXJGb3JBbHRlcm5hdGl2ZXMgPSBmdW5jdGlvbiAoYWx0cywgaGFzUHJlZGljYXRlcywgdG9rZW5NYXRjaGVyLCBkeW5hbWljVG9rZW5zRW5hYmxlZCkge1xuICAgICAgICByZXR1cm4gYnVpbGRBbHRlcm5hdGl2ZXNMb29rQWhlYWRGdW5jKGFsdHMsIGhhc1ByZWRpY2F0ZXMsIHRva2VuTWF0Y2hlciwgZHluYW1pY1Rva2Vuc0VuYWJsZWQpO1xuICAgIH07XG4gICAgLy8gdGhpcyBhY3R1YWxseSByZXR1cm5zIGEgbnVtYmVyLCBidXQgaXQgaXMgYWx3YXlzIHVzZWQgYXMgYSBzdHJpbmcgKG9iamVjdCBwcm9wIGtleSlcbiAgICBMb29rc0FoZWFkLnByb3RvdHlwZS5nZXRLZXlGb3JBdXRvbWF0aWNMb29rYWhlYWQgPSBmdW5jdGlvbiAoZHNsTWV0aG9kSWR4LCBvY2N1cnJlbmNlKSB7XG4gICAgICAgIHZhciBjdXJyUnVsZVNob3J0TmFtZSA9IHRoaXMuZ2V0TGFzdEV4cGxpY2l0UnVsZVNob3J0TmFtZSgpO1xuICAgICAgICByZXR1cm4gZ2V0S2V5Rm9yQXV0b21hdGljTG9va2FoZWFkKGN1cnJSdWxlU2hvcnROYW1lLCBkc2xNZXRob2RJZHgsIG9jY3VycmVuY2UpO1xuICAgIH07XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBMb29rc0FoZWFkLnByb3RvdHlwZS5nZXRMYUZ1bmNGcm9tQ2FjaGUgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICBMb29rc0FoZWFkLnByb3RvdHlwZS5nZXRMYUZ1bmNGcm9tTWFwID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICByZXR1cm4gdGhpcy5sb29rQWhlYWRGdW5jc0NhY2hlLmdldChrZXkpO1xuICAgIH07XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgLSBVc2luZyBwbGFpbiBhcnJheSBhcyBkaWN0aW9uYXJ5IHdpbGwgYmUgdGVzdGVkIG9uIG9sZGVyIG5vZGUuanMgdmVyc2lvbnMgYW5kIElFMTEgKi9cbiAgICBMb29rc0FoZWFkLnByb3RvdHlwZS5nZXRMYUZ1bmNGcm9tT2JqID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICByZXR1cm4gdGhpcy5sb29rQWhlYWRGdW5jc0NhY2hlW2tleV07XG4gICAgfTtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIExvb2tzQWhlYWQucHJvdG90eXBlLnNldExhRnVuY0NhY2hlID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHsgfTtcbiAgICBMb29rc0FoZWFkLnByb3RvdHlwZS5zZXRMYUZ1bmNDYWNoZVVzaW5nTWFwID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy5sb29rQWhlYWRGdW5jc0NhY2hlLnNldChrZXksIHZhbHVlKTtcbiAgICB9O1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0IC0gVXNpbmcgcGxhaW4gYXJyYXkgYXMgZGljdGlvbmFyeSB3aWxsIGJlIHRlc3RlZCBvbiBvbGRlciBub2RlLmpzIHZlcnNpb25zIGFuZCBJRTExICovXG4gICAgTG9va3NBaGVhZC5wcm90b3R5cGUuc2V0TGFGdW5jVXNpbmdPYmogPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgICB0aGlzLmxvb2tBaGVhZEZ1bmNzQ2FjaGVba2V5XSA9IHZhbHVlO1xuICAgIH07XG4gICAgcmV0dXJuIExvb2tzQWhlYWQ7XG59KCkpO1xuZXhwb3J0IHsgTG9va3NBaGVhZCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bG9va3NhaGVhZC5qcy5tYXAiLCIvKipcbiAqIFRoaXMgbm9kZUxvY2F0aW9uIHRyYWNraW5nIGlzIG5vdCBlZmZpY2llbnQgYW5kIHNob3VsZCBvbmx5IGJlIHVzZWRcbiAqIHdoZW4gZXJyb3IgcmVjb3ZlcnkgaXMgZW5hYmxlZCBvciB0aGUgVG9rZW4gVmVjdG9yIGNvbnRhaW5zIHZpcnR1YWwgVG9rZW5zXG4gKiAoZS5nLCBQeXRob24gSW5kZW50L091dGRlbnQpXG4gKiBBcyBpdCBleGVjdXRlcyB0aGUgY2FsY3VsYXRpb24gZm9yIGV2ZXJ5IHNpbmdsZSB0ZXJtaW5hbC9ub25UZXJtaW5hbFxuICogYW5kIGRvZXMgbm90IHJlbHkgb24gdGhlIGZhY3QgdGhlIHRva2VuIHZlY3RvciBpcyAqKnNvcnRlZCoqXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXROb2RlTG9jYXRpb25Pbmx5T2Zmc2V0KGN1cnJOb2RlTG9jYXRpb24sIG5ld0xvY2F0aW9uSW5mbykge1xuICAgIC8vIEZpcnN0ICh2YWxpZCkgdXBkYXRlIGZvciB0aGlzIGNzdCBub2RlXG4gICAgaWYgKGlzTmFOKGN1cnJOb2RlTG9jYXRpb24uc3RhcnRPZmZzZXQpID09PSB0cnVlKSB7XG4gICAgICAgIC8vIGFzc3VtcHRpb24xOiBUb2tlbiBsb2NhdGlvbiBpbmZvcm1hdGlvbiBpcyBlaXRoZXIgTmFOIG9yIGEgdmFsaWQgbnVtYmVyXG4gICAgICAgIC8vIGFzc3VtcHRpb24yOiBUb2tlbiBsb2NhdGlvbiBpbmZvcm1hdGlvbiBpcyBmdWxseSB2YWxpZCBpZiBpdCBleGlzdFxuICAgICAgICAvLyAoYm90aCBzdGFydC9lbmQgb2Zmc2V0cyBleGlzdCBhbmQgYXJlIG51bWJlcnMpLlxuICAgICAgICBjdXJyTm9kZUxvY2F0aW9uLnN0YXJ0T2Zmc2V0ID0gbmV3TG9jYXRpb25JbmZvLnN0YXJ0T2Zmc2V0O1xuICAgICAgICBjdXJyTm9kZUxvY2F0aW9uLmVuZE9mZnNldCA9IG5ld0xvY2F0aW9uSW5mby5lbmRPZmZzZXQ7XG4gICAgfVxuICAgIC8vIE9uY2UgdGhlIHN0YXJ0T2Zmc2V0IGhhcyBiZWVuIHVwZGF0ZWQgd2l0aCBhIHZhbGlkIG51bWJlciBpdCBzaG91bGQgbmV2ZXIgcmVjZWl2ZVxuICAgIC8vIGFueSBmYXJ0aGVyIHVwZGF0ZXMgYXMgdGhlIFRva2VuIHZlY3RvciBpcyBzb3J0ZWQuXG4gICAgLy8gV2Ugc3RpbGwgaGF2ZSB0byBjaGVjayB0aGlzIHRoaXMgY29uZGl0aW9uIGZvciBldmVyeSBuZXcgcG9zc2libGUgbG9jYXRpb24gaW5mb1xuICAgIC8vIGJlY2F1c2Ugd2l0aCBlcnJvciByZWNvdmVyeSBlbmFibGVkIHdlIG1heSBlbmNvdW50ZXIgaW52YWxpZCB0b2tlbnMgKE5hTiBsb2NhdGlvbiBwcm9wcylcbiAgICBlbHNlIGlmIChjdXJyTm9kZUxvY2F0aW9uLmVuZE9mZnNldCA8IG5ld0xvY2F0aW9uSW5mby5lbmRPZmZzZXQgPT09IHRydWUpIHtcbiAgICAgICAgY3Vyck5vZGVMb2NhdGlvbi5lbmRPZmZzZXQgPSBuZXdMb2NhdGlvbkluZm8uZW5kT2Zmc2V0O1xuICAgIH1cbn1cbi8qKlxuICogVGhpcyBub2RlTG9jYXRpb24gdHJhY2tpbmcgaXMgbm90IGVmZmljaWVudCBhbmQgc2hvdWxkIG9ubHkgYmUgdXNlZFxuICogd2hlbiBlcnJvciByZWNvdmVyeSBpcyBlbmFibGVkIG9yIHRoZSBUb2tlbiBWZWN0b3IgY29udGFpbnMgdmlydHVhbCBUb2tlbnNcbiAqIChlLmcsIFB5dGhvbiBJbmRlbnQvT3V0ZGVudClcbiAqIEFzIGl0IGV4ZWN1dGVzIHRoZSBjYWxjdWxhdGlvbiBmb3IgZXZlcnkgc2luZ2xlIHRlcm1pbmFsL25vblRlcm1pbmFsXG4gKiBhbmQgZG9lcyBub3QgcmVseSBvbiB0aGUgZmFjdCB0aGUgdG9rZW4gdmVjdG9yIGlzICoqc29ydGVkKipcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldE5vZGVMb2NhdGlvbkZ1bGwoY3Vyck5vZGVMb2NhdGlvbiwgbmV3TG9jYXRpb25JbmZvKSB7XG4gICAgLy8gRmlyc3QgKHZhbGlkKSB1cGRhdGUgZm9yIHRoaXMgY3N0IG5vZGVcbiAgICBpZiAoaXNOYU4oY3Vyck5vZGVMb2NhdGlvbi5zdGFydE9mZnNldCkgPT09IHRydWUpIHtcbiAgICAgICAgLy8gYXNzdW1wdGlvbjE6IFRva2VuIGxvY2F0aW9uIGluZm9ybWF0aW9uIGlzIGVpdGhlciBOYU4gb3IgYSB2YWxpZCBudW1iZXJcbiAgICAgICAgLy8gYXNzdW1wdGlvbjI6IFRva2VuIGxvY2F0aW9uIGluZm9ybWF0aW9uIGlzIGZ1bGx5IHZhbGlkIGlmIGl0IGV4aXN0XG4gICAgICAgIC8vIChhbGwgc3RhcnQvZW5kIHByb3BzIGV4aXN0IGFuZCBhcmUgbnVtYmVycykuXG4gICAgICAgIGN1cnJOb2RlTG9jYXRpb24uc3RhcnRPZmZzZXQgPSBuZXdMb2NhdGlvbkluZm8uc3RhcnRPZmZzZXQ7XG4gICAgICAgIGN1cnJOb2RlTG9jYXRpb24uc3RhcnRDb2x1bW4gPSBuZXdMb2NhdGlvbkluZm8uc3RhcnRDb2x1bW47XG4gICAgICAgIGN1cnJOb2RlTG9jYXRpb24uc3RhcnRMaW5lID0gbmV3TG9jYXRpb25JbmZvLnN0YXJ0TGluZTtcbiAgICAgICAgY3Vyck5vZGVMb2NhdGlvbi5lbmRPZmZzZXQgPSBuZXdMb2NhdGlvbkluZm8uZW5kT2Zmc2V0O1xuICAgICAgICBjdXJyTm9kZUxvY2F0aW9uLmVuZENvbHVtbiA9IG5ld0xvY2F0aW9uSW5mby5lbmRDb2x1bW47XG4gICAgICAgIGN1cnJOb2RlTG9jYXRpb24uZW5kTGluZSA9IG5ld0xvY2F0aW9uSW5mby5lbmRMaW5lO1xuICAgIH1cbiAgICAvLyBPbmNlIHRoZSBzdGFydCBwcm9wcyBoYXMgYmVlbiB1cGRhdGVkIHdpdGggYSB2YWxpZCBudW1iZXIgaXQgc2hvdWxkIG5ldmVyIHJlY2VpdmVcbiAgICAvLyBhbnkgZmFydGhlciB1cGRhdGVzIGFzIHRoZSBUb2tlbiB2ZWN0b3IgaXMgc29ydGVkLlxuICAgIC8vIFdlIHN0aWxsIGhhdmUgdG8gY2hlY2sgdGhpcyB0aGlzIGNvbmRpdGlvbiBmb3IgZXZlcnkgbmV3IHBvc3NpYmxlIGxvY2F0aW9uIGluZm9cbiAgICAvLyBiZWNhdXNlIHdpdGggZXJyb3IgcmVjb3ZlcnkgZW5hYmxlZCB3ZSBtYXkgZW5jb3VudGVyIGludmFsaWQgdG9rZW5zIChOYU4gbG9jYXRpb24gcHJvcHMpXG4gICAgZWxzZSBpZiAoY3Vyck5vZGVMb2NhdGlvbi5lbmRPZmZzZXQgPCBuZXdMb2NhdGlvbkluZm8uZW5kT2Zmc2V0ID09PSB0cnVlKSB7XG4gICAgICAgIGN1cnJOb2RlTG9jYXRpb24uZW5kT2Zmc2V0ID0gbmV3TG9jYXRpb25JbmZvLmVuZE9mZnNldDtcbiAgICAgICAgY3Vyck5vZGVMb2NhdGlvbi5lbmRDb2x1bW4gPSBuZXdMb2NhdGlvbkluZm8uZW5kQ29sdW1uO1xuICAgICAgICBjdXJyTm9kZUxvY2F0aW9uLmVuZExpbmUgPSBuZXdMb2NhdGlvbkluZm8uZW5kTGluZTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gYWRkVGVybWluYWxUb0NzdChub2RlLCB0b2tlbiwgdG9rZW5UeXBlTmFtZSkge1xuICAgIGlmIChub2RlLmNoaWxkcmVuW3Rva2VuVHlwZU5hbWVdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbm9kZS5jaGlsZHJlblt0b2tlblR5cGVOYW1lXSA9IFt0b2tlbl07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBub2RlLmNoaWxkcmVuW3Rva2VuVHlwZU5hbWVdLnB1c2godG9rZW4pO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBhZGROb25lVGVybWluYWxUb0NzdChub2RlLCBydWxlTmFtZSwgcnVsZVJlc3VsdCkge1xuICAgIGlmIChub2RlLmNoaWxkcmVuW3J1bGVOYW1lXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG5vZGUuY2hpbGRyZW5bcnVsZU5hbWVdID0gW3J1bGVSZXN1bHRdO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbm9kZS5jaGlsZHJlbltydWxlTmFtZV0ucHVzaChydWxlUmVzdWx0KTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jc3QuanMubWFwIiwiaW1wb3J0IHsgaXNVbmRlZmluZWQgfSBmcm9tIFwiLi4vdXRpbHMvdXRpbHNcIjtcbmV4cG9ydCBmdW5jdGlvbiBjbGFzc05hbWVGcm9tSW5zdGFuY2UoaW5zdGFuY2UpIHtcbiAgICByZXR1cm4gZnVuY3Rpb25OYW1lKGluc3RhbmNlLmNvbnN0cnVjdG9yKTtcbn1cbnZhciBGVU5DX05BTUVfUkVHRVhQID0gL15cXHMqZnVuY3Rpb25cXHMqKFxcUyopXFxzKlxcKC87XG52YXIgTkFNRSA9IFwibmFtZVwiO1xuLyogaXN0YW5idWwgaWdub3JlIG5leHQgdG9vIG1hbnkgaGFja3MgZm9yIElFL29sZCB2ZXJzaW9ucyBvZiBub2RlLmpzIGhlcmUqL1xuZXhwb3J0IGZ1bmN0aW9uIGZ1bmN0aW9uTmFtZShmdW5jKSB7XG4gICAgLy8gRW5naW5lcyB0aGF0IHN1cHBvcnQgRnVuY3Rpb24ucHJvdG90eXBlLm5hbWUgT1IgdGhlIG50aCAobj4xKSB0aW1lIGFmdGVyXG4gICAgLy8gdGhlIG5hbWUgaGFzIGJlZW4gY29tcHV0ZWQgaW4gdGhlIGZvbGxvd2luZyBlbHNlIGJsb2NrLlxuICAgIHZhciBleGlzdGluZ05hbWVQcm9wID0gZnVuYy5uYW1lO1xuICAgIGlmIChleGlzdGluZ05hbWVQcm9wKSB7XG4gICAgICAgIHJldHVybiBleGlzdGluZ05hbWVQcm9wO1xuICAgIH1cbiAgICAvLyBoYWNrIGZvciBJRSBhbmQgZW5naW5lcyB0aGF0IGRvIG5vdCBzdXBwb3J0IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSBvbiBmdW5jdGlvbi5uYW1lIChOb2RlLmpzIDAuMTAgJiYgMC4xMilcbiAgICB2YXIgY29tcHV0ZWROYW1lID0gZnVuYy50b1N0cmluZygpLm1hdGNoKEZVTkNfTkFNRV9SRUdFWFApWzFdO1xuICAgIHJldHVybiBjb21wdXRlZE5hbWU7XG59XG4vKipcbiAqIEByZXR1cm5zIHtib29sZWFufSAtIGhhcyB0aGUgcHJvcGVydHkgYmVlbiBzdWNjZXNzZnVsbHkgZGVmaW5lZFxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVmaW5lTmFtZVByb3Aob2JqLCBuYW1lVmFsdWUpIHtcbiAgICB2YXIgbmFtZVByb3BEZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIE5BTUUpO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlIC0+IHdpbGwgb25seSBydW4gaW4gb2xkIHZlcnNpb25zIG9mIG5vZGUuanMgKi9cbiAgICBpZiAoaXNVbmRlZmluZWQobmFtZVByb3BEZXNjcmlwdG9yKSB8fCBuYW1lUHJvcERlc2NyaXB0b3IuY29uZmlndXJhYmxlKSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIE5BTUUsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgICAgICAgICAgdmFsdWU6IG5hbWVWYWx1ZVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0IC0+IHdpbGwgb25seSBydW4gaW4gb2xkIHZlcnNpb25zIG9mIG5vZGUuanMgKi9cbiAgICByZXR1cm4gZmFsc2U7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sYW5nX2V4dGVuc2lvbnMuanMubWFwIiwiaW1wb3J0IHsgY29tcGFjdCwgY29udGFpbnMsIGZvckVhY2gsIGlzQXJyYXksIGlzRW1wdHksIGlzRnVuY3Rpb24sIGlzVW5kZWZpbmVkLCBrZXlzLCBtYXAgfSBmcm9tIFwiLi4vLi4vdXRpbHMvdXRpbHNcIjtcbmltcG9ydCB7IGRlZmluZU5hbWVQcm9wLCBmdW5jdGlvbk5hbWUgfSBmcm9tIFwiLi4vLi4vbGFuZy9sYW5nX2V4dGVuc2lvbnNcIjtcbmltcG9ydCB7IHZhbGlkVGVybXNQYXR0ZXJuIH0gZnJvbSBcIi4uL2dyYW1tYXIvY2hlY2tzXCI7XG5leHBvcnQgZnVuY3Rpb24gZGVmYXVsdFZpc2l0KGN0eCwgcGFyYW0pIHtcbiAgICB2YXIgY2hpbGRyZW5OYW1lcyA9IGtleXMoY3R4KTtcbiAgICB2YXIgY2hpbGRyZW5OYW1lc0xlbmd0aCA9IGNoaWxkcmVuTmFtZXMubGVuZ3RoO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW5OYW1lc0xlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBjdXJyQ2hpbGROYW1lID0gY2hpbGRyZW5OYW1lc1tpXTtcbiAgICAgICAgdmFyIGN1cnJDaGlsZEFycmF5ID0gY3R4W2N1cnJDaGlsZE5hbWVdO1xuICAgICAgICB2YXIgY3VyckNoaWxkQXJyYXlMZW5ndGggPSBjdXJyQ2hpbGRBcnJheS5sZW5ndGg7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgY3VyckNoaWxkQXJyYXlMZW5ndGg7IGorKykge1xuICAgICAgICAgICAgdmFyIGN1cnJDaGlsZCA9IGN1cnJDaGlsZEFycmF5W2pdO1xuICAgICAgICAgICAgLy8gZGlzdGluY3Rpb24gYmV0d2VlbiBUb2tlbnMgQ2hpbGRyZW4gYW5kIENzdE5vZGUgY2hpbGRyZW5cbiAgICAgICAgICAgIGlmIChjdXJyQ2hpbGQudG9rZW5UeXBlSWR4ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzW2N1cnJDaGlsZC5uYW1lXShjdXJyQ2hpbGQuY2hpbGRyZW4sIHBhcmFtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBkZWZhdWx0VmlzaXQgZG9lcyBub3Qgc3VwcG9ydCBnZW5lcmljIG91dCBwYXJhbVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQmFzZVNlbWFudGljVmlzaXRvckNvbnN0cnVjdG9yKGdyYW1tYXJOYW1lLCBydWxlTmFtZXMpIHtcbiAgICB2YXIgZGVyaXZlZENvbnN0cnVjdG9yID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIC8vIGNhbiBiZSBvdmVyd3JpdHRlbiBhY2NvcmRpbmcgdG86XG4gICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvRnVuY3Rpb24vXG4gICAgLy8gbmFtZT9yZWRpcmVjdGxvY2FsZT1lbi1VUyZyZWRpcmVjdHNsdWc9SmF2YVNjcmlwdCUyRlJlZmVyZW5jZSUyRkdsb2JhbF9PYmplY3RzJTJGRnVuY3Rpb24lMkZuYW1lXG4gICAgZGVmaW5lTmFtZVByb3AoZGVyaXZlZENvbnN0cnVjdG9yLCBncmFtbWFyTmFtZSArIFwiQmFzZVNlbWFudGljc1wiKTtcbiAgICB2YXIgc2VtYW50aWNQcm90byA9IHtcbiAgICAgICAgdmlzaXQ6IGZ1bmN0aW9uIChjc3ROb2RlLCBwYXJhbSkge1xuICAgICAgICAgICAgLy8gZW5hYmxlcyB3cml0aW5nIG1vcmUgY29uY2lzZSB2aXNpdG9yIG1ldGhvZHMgd2hlbiBDc3ROb2RlIGhhcyBvbmx5IGEgc2luZ2xlIGNoaWxkXG4gICAgICAgICAgICBpZiAoaXNBcnJheShjc3ROb2RlKSkge1xuICAgICAgICAgICAgICAgIC8vIEEgQ1NUIE5vZGUncyBjaGlsZHJlbiBkaWN0aW9uYXJ5IGNhbiBuZXZlciBoYXZlIGVtcHR5IGFycmF5cyBhcyB2YWx1ZXNcbiAgICAgICAgICAgICAgICAvLyBJZiBhIGtleSBpcyBkZWZpbmVkIHRoZXJlIHdpbGwgYmUgYXQgbGVhc3Qgb25lIGVsZW1lbnQgaW4gdGhlIGNvcnJlc3BvbmRpbmcgdmFsdWUgYXJyYXkuXG4gICAgICAgICAgICAgICAgY3N0Tm9kZSA9IGNzdE5vZGVbMF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBlbmFibGVzIHBhc3Npbmcgb3B0aW9uYWwgQ3N0Tm9kZXMgY29uY2lzZWx5LlxuICAgICAgICAgICAgaWYgKGlzVW5kZWZpbmVkKGNzdE5vZGUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzW2NzdE5vZGUubmFtZV0oY3N0Tm9kZS5jaGlsZHJlbiwgcGFyYW0pO1xuICAgICAgICB9LFxuICAgICAgICB2YWxpZGF0ZVZpc2l0b3I6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBzZW1hbnRpY0RlZmluaXRpb25FcnJvcnMgPSB2YWxpZGF0ZVZpc2l0b3IodGhpcywgcnVsZU5hbWVzKTtcbiAgICAgICAgICAgIGlmICghaXNFbXB0eShzZW1hbnRpY0RlZmluaXRpb25FcnJvcnMpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGVycm9yTWVzc2FnZXMgPSBtYXAoc2VtYW50aWNEZWZpbml0aW9uRXJyb3JzLCBmdW5jdGlvbiAoY3VyckRlZkVycm9yKSB7IHJldHVybiBjdXJyRGVmRXJyb3IubXNnOyB9KTtcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIkVycm9ycyBEZXRlY3RlZCBpbiBDU1QgVmlzaXRvciA8XCIgKyBmdW5jdGlvbk5hbWUodGhpcy5jb25zdHJ1Y3RvcikgKyBcIj46XFxuXFx0XCIgKyAoXCJcIiArIGVycm9yTWVzc2FnZXMuam9pbihcIlxcblxcblwiKS5yZXBsYWNlKC9cXG4vZywgXCJcXG5cXHRcIikpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgZGVyaXZlZENvbnN0cnVjdG9yLnByb3RvdHlwZSA9IHNlbWFudGljUHJvdG87XG4gICAgZGVyaXZlZENvbnN0cnVjdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGRlcml2ZWRDb25zdHJ1Y3RvcjtcbiAgICBkZXJpdmVkQ29uc3RydWN0b3IuX1JVTEVfTkFNRVMgPSBydWxlTmFtZXM7XG4gICAgcmV0dXJuIGRlcml2ZWRDb25zdHJ1Y3Rvcjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVCYXNlVmlzaXRvckNvbnN0cnVjdG9yV2l0aERlZmF1bHRzKGdyYW1tYXJOYW1lLCBydWxlTmFtZXMsIGJhc2VDb25zdHJ1Y3Rvcikge1xuICAgIHZhciBkZXJpdmVkQ29uc3RydWN0b3IgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgLy8gY2FuIGJlIG92ZXJ3cml0dGVuIGFjY29yZGluZyB0bzpcbiAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9GdW5jdGlvbi9cbiAgICAvLyBuYW1lP3JlZGlyZWN0bG9jYWxlPWVuLVVTJnJlZGlyZWN0c2x1Zz1KYXZhU2NyaXB0JTJGUmVmZXJlbmNlJTJGR2xvYmFsX09iamVjdHMlMkZGdW5jdGlvbiUyRm5hbWVcbiAgICBkZWZpbmVOYW1lUHJvcChkZXJpdmVkQ29uc3RydWN0b3IsIGdyYW1tYXJOYW1lICsgXCJCYXNlU2VtYW50aWNzV2l0aERlZmF1bHRzXCIpO1xuICAgIHZhciB3aXRoRGVmYXVsdHNQcm90byA9IE9iamVjdC5jcmVhdGUoYmFzZUNvbnN0cnVjdG9yLnByb3RvdHlwZSk7XG4gICAgZm9yRWFjaChydWxlTmFtZXMsIGZ1bmN0aW9uIChydWxlTmFtZSkge1xuICAgICAgICB3aXRoRGVmYXVsdHNQcm90b1tydWxlTmFtZV0gPSBkZWZhdWx0VmlzaXQ7XG4gICAgfSk7XG4gICAgZGVyaXZlZENvbnN0cnVjdG9yLnByb3RvdHlwZSA9IHdpdGhEZWZhdWx0c1Byb3RvO1xuICAgIGRlcml2ZWRDb25zdHJ1Y3Rvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBkZXJpdmVkQ29uc3RydWN0b3I7XG4gICAgcmV0dXJuIGRlcml2ZWRDb25zdHJ1Y3Rvcjtcbn1cbmV4cG9ydCB2YXIgQ3N0VmlzaXRvckRlZmluaXRpb25FcnJvcjtcbihmdW5jdGlvbiAoQ3N0VmlzaXRvckRlZmluaXRpb25FcnJvcikge1xuICAgIENzdFZpc2l0b3JEZWZpbml0aW9uRXJyb3JbQ3N0VmlzaXRvckRlZmluaXRpb25FcnJvcltcIlJFRFVOREFOVF9NRVRIT0RcIl0gPSAwXSA9IFwiUkVEVU5EQU5UX01FVEhPRFwiO1xuICAgIENzdFZpc2l0b3JEZWZpbml0aW9uRXJyb3JbQ3N0VmlzaXRvckRlZmluaXRpb25FcnJvcltcIk1JU1NJTkdfTUVUSE9EXCJdID0gMV0gPSBcIk1JU1NJTkdfTUVUSE9EXCI7XG59KShDc3RWaXNpdG9yRGVmaW5pdGlvbkVycm9yIHx8IChDc3RWaXNpdG9yRGVmaW5pdGlvbkVycm9yID0ge30pKTtcbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZVZpc2l0b3IodmlzaXRvckluc3RhbmNlLCBydWxlTmFtZXMpIHtcbiAgICB2YXIgbWlzc2luZ0Vycm9ycyA9IHZhbGlkYXRlTWlzc2luZ0NzdE1ldGhvZHModmlzaXRvckluc3RhbmNlLCBydWxlTmFtZXMpO1xuICAgIHZhciByZWR1bmRhbnRFcnJvcnMgPSB2YWxpZGF0ZVJlZHVuZGFudE1ldGhvZHModmlzaXRvckluc3RhbmNlLCBydWxlTmFtZXMpO1xuICAgIHJldHVybiBtaXNzaW5nRXJyb3JzLmNvbmNhdChyZWR1bmRhbnRFcnJvcnMpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlTWlzc2luZ0NzdE1ldGhvZHModmlzaXRvckluc3RhbmNlLCBydWxlTmFtZXMpIHtcbiAgICB2YXIgZXJyb3JzID0gbWFwKHJ1bGVOYW1lcywgZnVuY3Rpb24gKGN1cnJSdWxlTmFtZSkge1xuICAgICAgICBpZiAoIWlzRnVuY3Rpb24odmlzaXRvckluc3RhbmNlW2N1cnJSdWxlTmFtZV0pKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1zZzogXCJNaXNzaW5nIHZpc2l0b3IgbWV0aG9kOiA8XCIgKyBjdXJyUnVsZU5hbWUgKyBcIj4gb24gXCIgKyBmdW5jdGlvbk5hbWUodmlzaXRvckluc3RhbmNlLmNvbnN0cnVjdG9yKSArIFwiIENTVCBWaXNpdG9yLlwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IENzdFZpc2l0b3JEZWZpbml0aW9uRXJyb3IuTUlTU0lOR19NRVRIT0QsXG4gICAgICAgICAgICAgICAgbWV0aG9kTmFtZTogY3VyclJ1bGVOYW1lXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbXBhY3QoZXJyb3JzKTtcbn1cbnZhciBWQUxJRF9QUk9QX05BTUVTID0gW1wiY29uc3RydWN0b3JcIiwgXCJ2aXNpdFwiLCBcInZhbGlkYXRlVmlzaXRvclwiXTtcbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZVJlZHVuZGFudE1ldGhvZHModmlzaXRvckluc3RhbmNlLCBydWxlTmFtZXMpIHtcbiAgICB2YXIgZXJyb3JzID0gW107XG4gICAgZm9yICh2YXIgcHJvcCBpbiB2aXNpdG9ySW5zdGFuY2UpIHtcbiAgICAgICAgaWYgKHZhbGlkVGVybXNQYXR0ZXJuLnRlc3QocHJvcCkgJiZcbiAgICAgICAgICAgIGlzRnVuY3Rpb24odmlzaXRvckluc3RhbmNlW3Byb3BdKSAmJlxuICAgICAgICAgICAgIWNvbnRhaW5zKFZBTElEX1BST1BfTkFNRVMsIHByb3ApICYmXG4gICAgICAgICAgICAhY29udGFpbnMocnVsZU5hbWVzLCBwcm9wKSkge1xuICAgICAgICAgICAgZXJyb3JzLnB1c2goe1xuICAgICAgICAgICAgICAgIG1zZzogXCJSZWR1bmRhbnQgdmlzaXRvciBtZXRob2Q6IDxcIiArIHByb3AgKyBcIj4gb24gXCIgKyBmdW5jdGlvbk5hbWUodmlzaXRvckluc3RhbmNlLmNvbnN0cnVjdG9yKSArIFwiIENTVCBWaXNpdG9yXFxuXCIgK1xuICAgICAgICAgICAgICAgICAgICBcIlRoZXJlIGlzIG5vIEdyYW1tYXIgUnVsZSBjb3JyZXNwb25kaW5nIHRvIHRoaXMgbWV0aG9kJ3MgbmFtZS5cXG5cIiArXG4gICAgICAgICAgICAgICAgICAgIChcIkZvciB1dGlsaXR5IG1ldGhvZHMgb24gdmlzaXRvciBjbGFzc2VzIHVzZSBtZXRob2RzIG5hbWVzIHRoYXQgZG8gbm90IG1hdGNoIC9cIiArIHZhbGlkVGVybXNQYXR0ZXJuLnNvdXJjZSArIFwiLy5cIiksXG4gICAgICAgICAgICAgICAgdHlwZTogQ3N0VmlzaXRvckRlZmluaXRpb25FcnJvci5SRURVTkRBTlRfTUVUSE9ELFxuICAgICAgICAgICAgICAgIG1ldGhvZE5hbWU6IHByb3BcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBlcnJvcnM7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jc3RfdmlzaXRvci5qcy5tYXAiLCJpbXBvcnQgeyBhZGROb25lVGVybWluYWxUb0NzdCwgYWRkVGVybWluYWxUb0NzdCwgc2V0Tm9kZUxvY2F0aW9uRnVsbCwgc2V0Tm9kZUxvY2F0aW9uT25seU9mZnNldCB9IGZyb20gXCIuLi8uLi9jc3QvY3N0XCI7XG5pbXBvcnQgeyBoYXMsIGlzVW5kZWZpbmVkLCBrZXlzLCBOT09QIH0gZnJvbSBcIi4uLy4uLy4uL3V0aWxzL3V0aWxzXCI7XG5pbXBvcnQgeyBjcmVhdGVCYXNlU2VtYW50aWNWaXNpdG9yQ29uc3RydWN0b3IsIGNyZWF0ZUJhc2VWaXNpdG9yQ29uc3RydWN0b3JXaXRoRGVmYXVsdHMgfSBmcm9tIFwiLi4vLi4vY3N0L2NzdF92aXNpdG9yXCI7XG5pbXBvcnQgeyBERUZBVUxUX1BBUlNFUl9DT05GSUcgfSBmcm9tIFwiLi4vcGFyc2VyXCI7XG4vKipcbiAqIFRoaXMgdHJhaXQgaXMgcmVzcG9uc2libGUgZm9yIHRoZSBDU1QgYnVpbGRpbmcgbG9naWMuXG4gKi9cbnZhciBUcmVlQnVpbGRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUcmVlQnVpbGRlcigpIHtcbiAgICB9XG4gICAgVHJlZUJ1aWxkZXIucHJvdG90eXBlLmluaXRUcmVlQnVpbGRlciA9IGZ1bmN0aW9uIChjb25maWcpIHtcbiAgICAgICAgdGhpcy5DU1RfU1RBQ0sgPSBbXTtcbiAgICAgICAgLy8gb3V0cHV0Q3N0IGlzIG5vIGxvbmdlciBleHBvc2VkL2RlZmluZWQgaW4gdGhlIHB1YmljIEFQSVxuICAgICAgICB0aGlzLm91dHB1dENzdCA9IGNvbmZpZy5vdXRwdXRDc3Q7XG4gICAgICAgIHRoaXMubm9kZUxvY2F0aW9uVHJhY2tpbmcgPSBoYXMoY29uZmlnLCBcIm5vZGVMb2NhdGlvblRyYWNraW5nXCIpXG4gICAgICAgICAgICA/IGNvbmZpZy5ub2RlTG9jYXRpb25UcmFja2luZ1xuICAgICAgICAgICAgOiBERUZBVUxUX1BBUlNFUl9DT05GSUcubm9kZUxvY2F0aW9uVHJhY2tpbmc7XG4gICAgICAgIGlmICghdGhpcy5vdXRwdXRDc3QpIHtcbiAgICAgICAgICAgIHRoaXMuY3N0SW52b2NhdGlvblN0YXRlVXBkYXRlID0gTk9PUDtcbiAgICAgICAgICAgIHRoaXMuY3N0RmluYWxseVN0YXRlVXBkYXRlID0gTk9PUDtcbiAgICAgICAgICAgIHRoaXMuY3N0UG9zdFRlcm1pbmFsID0gTk9PUDtcbiAgICAgICAgICAgIHRoaXMuY3N0UG9zdE5vblRlcm1pbmFsID0gTk9PUDtcbiAgICAgICAgICAgIHRoaXMuY3N0UG9zdFJ1bGUgPSBOT09QO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKC9mdWxsL2kudGVzdCh0aGlzLm5vZGVMb2NhdGlvblRyYWNraW5nKSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlY292ZXJ5RW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldE5vZGVMb2NhdGlvbkZyb21Ub2tlbiA9IHNldE5vZGVMb2NhdGlvbkZ1bGw7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0Tm9kZUxvY2F0aW9uRnJvbU5vZGUgPSBzZXROb2RlTG9jYXRpb25GdWxsO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNzdFBvc3RSdWxlID0gTk9PUDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRJbml0aWFsTm9kZUxvY2F0aW9uID0gdGhpcy5zZXRJbml0aWFsTm9kZUxvY2F0aW9uRnVsbFJlY292ZXJ5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXROb2RlTG9jYXRpb25Gcm9tVG9rZW4gPSBOT09QO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldE5vZGVMb2NhdGlvbkZyb21Ob2RlID0gTk9PUDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jc3RQb3N0UnVsZSA9IHRoaXMuY3N0UG9zdFJ1bGVGdWxsO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEluaXRpYWxOb2RlTG9jYXRpb24gPSB0aGlzLnNldEluaXRpYWxOb2RlTG9jYXRpb25GdWxsUmVndWxhcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICgvb25seU9mZnNldC9pLnRlc3QodGhpcy5ub2RlTG9jYXRpb25UcmFja2luZykpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yZWNvdmVyeUVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXROb2RlTG9jYXRpb25Gcm9tVG9rZW4gPSBzZXROb2RlTG9jYXRpb25Pbmx5T2Zmc2V0O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldE5vZGVMb2NhdGlvbkZyb21Ob2RlID0gc2V0Tm9kZUxvY2F0aW9uT25seU9mZnNldDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jc3RQb3N0UnVsZSA9IE5PT1A7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0SW5pdGlhbE5vZGVMb2NhdGlvbiA9IHRoaXMuc2V0SW5pdGlhbE5vZGVMb2NhdGlvbk9ubHlPZmZzZXRSZWNvdmVyeTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0Tm9kZUxvY2F0aW9uRnJvbVRva2VuID0gTk9PUDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXROb2RlTG9jYXRpb25Gcm9tTm9kZSA9IE5PT1A7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3N0UG9zdFJ1bGUgPSB0aGlzLmNzdFBvc3RSdWxlT25seU9mZnNldDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRJbml0aWFsTm9kZUxvY2F0aW9uID0gdGhpcy5zZXRJbml0aWFsTm9kZUxvY2F0aW9uT25seU9mZnNldFJlZ3VsYXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoL25vbmUvaS50ZXN0KHRoaXMubm9kZUxvY2F0aW9uVHJhY2tpbmcpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXROb2RlTG9jYXRpb25Gcm9tVG9rZW4gPSBOT09QO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0Tm9kZUxvY2F0aW9uRnJvbU5vZGUgPSBOT09QO1xuICAgICAgICAgICAgICAgIHRoaXMuY3N0UG9zdFJ1bGUgPSBOT09QO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0SW5pdGlhbE5vZGVMb2NhdGlvbiA9IE5PT1A7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIkludmFsaWQgPG5vZGVMb2NhdGlvblRyYWNraW5nPiBjb25maWcgb3B0aW9uOiBcXFwiXCIgKyBjb25maWcubm9kZUxvY2F0aW9uVHJhY2tpbmcgKyBcIlxcXCJcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFRyZWVCdWlsZGVyLnByb3RvdHlwZS5zZXRJbml0aWFsTm9kZUxvY2F0aW9uT25seU9mZnNldFJlY292ZXJ5ID0gZnVuY3Rpb24gKGNzdE5vZGUpIHtcbiAgICAgICAgY3N0Tm9kZS5sb2NhdGlvbiA9IHtcbiAgICAgICAgICAgIHN0YXJ0T2Zmc2V0OiBOYU4sXG4gICAgICAgICAgICBlbmRPZmZzZXQ6IE5hTlxuICAgICAgICB9O1xuICAgIH07XG4gICAgVHJlZUJ1aWxkZXIucHJvdG90eXBlLnNldEluaXRpYWxOb2RlTG9jYXRpb25Pbmx5T2Zmc2V0UmVndWxhciA9IGZ1bmN0aW9uIChjc3ROb2RlKSB7XG4gICAgICAgIGNzdE5vZGUubG9jYXRpb24gPSB7XG4gICAgICAgICAgICAvLyB3aXRob3V0IGVycm9yIHJlY292ZXJ5IHRoZSBzdGFydGluZyBMb2NhdGlvbiBvZiBhIG5ldyBDc3ROb2RlIGlzIGd1YXJhbnRlZWRcbiAgICAgICAgICAgIC8vIFRvIGJlIHRoZSBuZXh0IFRva2VuJ3Mgc3RhcnRPZmZzZXQgKGZvciB2YWxpZCBpbnB1dHMpLlxuICAgICAgICAgICAgLy8gRm9yIGludmFsaWQgaW5wdXRzIHRoZXJlIHdvbid0IGJlIGFueSBDU1RPdXRwdXQgc28gdGhpcyBwb3RlbnRpYWxcbiAgICAgICAgICAgIC8vIGluYWNjdXJhY3kgZG9lcyBub3QgbWF0dGVyXG4gICAgICAgICAgICBzdGFydE9mZnNldDogdGhpcy5MQSgxKS5zdGFydE9mZnNldCxcbiAgICAgICAgICAgIGVuZE9mZnNldDogTmFOXG4gICAgICAgIH07XG4gICAgfTtcbiAgICBUcmVlQnVpbGRlci5wcm90b3R5cGUuc2V0SW5pdGlhbE5vZGVMb2NhdGlvbkZ1bGxSZWNvdmVyeSA9IGZ1bmN0aW9uIChjc3ROb2RlKSB7XG4gICAgICAgIGNzdE5vZGUubG9jYXRpb24gPSB7XG4gICAgICAgICAgICBzdGFydE9mZnNldDogTmFOLFxuICAgICAgICAgICAgc3RhcnRMaW5lOiBOYU4sXG4gICAgICAgICAgICBzdGFydENvbHVtbjogTmFOLFxuICAgICAgICAgICAgZW5kT2Zmc2V0OiBOYU4sXG4gICAgICAgICAgICBlbmRMaW5lOiBOYU4sXG4gICAgICAgICAgICBlbmRDb2x1bW46IE5hTlxuICAgICAgICB9O1xuICAgIH07XG4gICAgLyoqXG4gICAgICAgKiAgQHNlZSBzZXRJbml0aWFsTm9kZUxvY2F0aW9uT25seU9mZnNldFJlZ3VsYXIgZm9yIGV4cGxhbmF0aW9uIHdoeSB0aGlzIHdvcmtcbiAgXG4gICAgICAgKiBAcGFyYW0gY3N0Tm9kZVxuICAgICAgICovXG4gICAgVHJlZUJ1aWxkZXIucHJvdG90eXBlLnNldEluaXRpYWxOb2RlTG9jYXRpb25GdWxsUmVndWxhciA9IGZ1bmN0aW9uIChjc3ROb2RlKSB7XG4gICAgICAgIHZhciBuZXh0VG9rZW4gPSB0aGlzLkxBKDEpO1xuICAgICAgICBjc3ROb2RlLmxvY2F0aW9uID0ge1xuICAgICAgICAgICAgc3RhcnRPZmZzZXQ6IG5leHRUb2tlbi5zdGFydE9mZnNldCxcbiAgICAgICAgICAgIHN0YXJ0TGluZTogbmV4dFRva2VuLnN0YXJ0TGluZSxcbiAgICAgICAgICAgIHN0YXJ0Q29sdW1uOiBuZXh0VG9rZW4uc3RhcnRDb2x1bW4sXG4gICAgICAgICAgICBlbmRPZmZzZXQ6IE5hTixcbiAgICAgICAgICAgIGVuZExpbmU6IE5hTixcbiAgICAgICAgICAgIGVuZENvbHVtbjogTmFOXG4gICAgICAgIH07XG4gICAgfTtcbiAgICBUcmVlQnVpbGRlci5wcm90b3R5cGUuY3N0SW52b2NhdGlvblN0YXRlVXBkYXRlID0gZnVuY3Rpb24gKGZ1bGxSdWxlTmFtZSwgc2hvcnROYW1lKSB7XG4gICAgICAgIHZhciBjc3ROb2RlID0ge1xuICAgICAgICAgICAgbmFtZTogZnVsbFJ1bGVOYW1lLFxuICAgICAgICAgICAgY2hpbGRyZW46IHt9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2V0SW5pdGlhbE5vZGVMb2NhdGlvbihjc3ROb2RlKTtcbiAgICAgICAgdGhpcy5DU1RfU1RBQ0sucHVzaChjc3ROb2RlKTtcbiAgICB9O1xuICAgIFRyZWVCdWlsZGVyLnByb3RvdHlwZS5jc3RGaW5hbGx5U3RhdGVVcGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuQ1NUX1NUQUNLLnBvcCgpO1xuICAgIH07XG4gICAgVHJlZUJ1aWxkZXIucHJvdG90eXBlLmNzdFBvc3RSdWxlRnVsbCA9IGZ1bmN0aW9uIChydWxlQ3N0Tm9kZSkge1xuICAgICAgICB2YXIgcHJldlRva2VuID0gdGhpcy5MQSgwKTtcbiAgICAgICAgdmFyIGxvYyA9IHJ1bGVDc3ROb2RlLmxvY2F0aW9uO1xuICAgICAgICAvLyBJZiB0aGlzIGNvbmRpdGlvbiBpcyB0cnVlIGl0IG1lYW5zIHdlIGNvbnN1bWVkIGF0IGxlYXN0IG9uZSBUb2tlblxuICAgICAgICAvLyBJbiB0aGlzIENzdE5vZGUuXG4gICAgICAgIGlmIChsb2Muc3RhcnRPZmZzZXQgPD0gcHJldlRva2VuLnN0YXJ0T2Zmc2V0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICBsb2MuZW5kT2Zmc2V0ID0gcHJldlRva2VuLmVuZE9mZnNldDtcbiAgICAgICAgICAgIGxvYy5lbmRMaW5lID0gcHJldlRva2VuLmVuZExpbmU7XG4gICAgICAgICAgICBsb2MuZW5kQ29sdW1uID0gcHJldlRva2VuLmVuZENvbHVtbjtcbiAgICAgICAgfVxuICAgICAgICAvLyBcImVtcHR5XCIgQ3N0Tm9kZSBlZGdlIGNhc2VcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsb2Muc3RhcnRPZmZzZXQgPSBOYU47XG4gICAgICAgICAgICBsb2Muc3RhcnRMaW5lID0gTmFOO1xuICAgICAgICAgICAgbG9jLnN0YXJ0Q29sdW1uID0gTmFOO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBUcmVlQnVpbGRlci5wcm90b3R5cGUuY3N0UG9zdFJ1bGVPbmx5T2Zmc2V0ID0gZnVuY3Rpb24gKHJ1bGVDc3ROb2RlKSB7XG4gICAgICAgIHZhciBwcmV2VG9rZW4gPSB0aGlzLkxBKDApO1xuICAgICAgICB2YXIgbG9jID0gcnVsZUNzdE5vZGUubG9jYXRpb247XG4gICAgICAgIC8vIElmIHRoaXMgY29uZGl0aW9uIGlzIHRydWUgaXQgbWVhbnMgd2UgY29uc3VtZWQgYXQgbGVhc3Qgb25lIFRva2VuXG4gICAgICAgIC8vIEluIHRoaXMgQ3N0Tm9kZS5cbiAgICAgICAgaWYgKGxvYy5zdGFydE9mZnNldCA8PSBwcmV2VG9rZW4uc3RhcnRPZmZzZXQgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGxvYy5lbmRPZmZzZXQgPSBwcmV2VG9rZW4uZW5kT2Zmc2V0O1xuICAgICAgICB9XG4gICAgICAgIC8vIFwiZW1wdHlcIiBDc3ROb2RlIGVkZ2UgY2FzZVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxvYy5zdGFydE9mZnNldCA9IE5hTjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVHJlZUJ1aWxkZXIucHJvdG90eXBlLmNzdFBvc3RUZXJtaW5hbCA9IGZ1bmN0aW9uIChrZXksIGNvbnN1bWVkVG9rZW4pIHtcbiAgICAgICAgdmFyIHJvb3RDc3QgPSB0aGlzLkNTVF9TVEFDS1t0aGlzLkNTVF9TVEFDSy5sZW5ndGggLSAxXTtcbiAgICAgICAgYWRkVGVybWluYWxUb0NzdChyb290Q3N0LCBjb25zdW1lZFRva2VuLCBrZXkpO1xuICAgICAgICAvLyBUaGlzIGlzIG9ubHkgdXNlZCB3aGVuICoqYm90aCoqIGVycm9yIHJlY292ZXJ5IGFuZCBDU1QgT3V0cHV0IGFyZSBlbmFibGVkLlxuICAgICAgICB0aGlzLnNldE5vZGVMb2NhdGlvbkZyb21Ub2tlbihyb290Q3N0LmxvY2F0aW9uLCBjb25zdW1lZFRva2VuKTtcbiAgICB9O1xuICAgIFRyZWVCdWlsZGVyLnByb3RvdHlwZS5jc3RQb3N0Tm9uVGVybWluYWwgPSBmdW5jdGlvbiAocnVsZUNzdFJlc3VsdCwgcnVsZU5hbWUpIHtcbiAgICAgICAgdmFyIHByZUNzdE5vZGUgPSB0aGlzLkNTVF9TVEFDS1t0aGlzLkNTVF9TVEFDSy5sZW5ndGggLSAxXTtcbiAgICAgICAgYWRkTm9uZVRlcm1pbmFsVG9Dc3QocHJlQ3N0Tm9kZSwgcnVsZU5hbWUsIHJ1bGVDc3RSZXN1bHQpO1xuICAgICAgICAvLyBUaGlzIGlzIG9ubHkgdXNlZCB3aGVuICoqYm90aCoqIGVycm9yIHJlY292ZXJ5IGFuZCBDU1QgT3V0cHV0IGFyZSBlbmFibGVkLlxuICAgICAgICB0aGlzLnNldE5vZGVMb2NhdGlvbkZyb21Ob2RlKHByZUNzdE5vZGUubG9jYXRpb24sIHJ1bGVDc3RSZXN1bHQubG9jYXRpb24pO1xuICAgIH07XG4gICAgVHJlZUJ1aWxkZXIucHJvdG90eXBlLmdldEJhc2VDc3RWaXNpdG9yQ29uc3RydWN0b3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChpc1VuZGVmaW5lZCh0aGlzLmJhc2VDc3RWaXNpdG9yQ29uc3RydWN0b3IpKSB7XG4gICAgICAgICAgICB2YXIgbmV3QmFzZUNzdFZpc2l0b3JDb25zdHJ1Y3RvciA9IGNyZWF0ZUJhc2VTZW1hbnRpY1Zpc2l0b3JDb25zdHJ1Y3Rvcih0aGlzLmNsYXNzTmFtZSwga2V5cyh0aGlzLmdhc3RQcm9kdWN0aW9uc0NhY2hlKSk7XG4gICAgICAgICAgICB0aGlzLmJhc2VDc3RWaXNpdG9yQ29uc3RydWN0b3IgPSBuZXdCYXNlQ3N0VmlzaXRvckNvbnN0cnVjdG9yO1xuICAgICAgICAgICAgcmV0dXJuIG5ld0Jhc2VDc3RWaXNpdG9yQ29uc3RydWN0b3I7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuYmFzZUNzdFZpc2l0b3JDb25zdHJ1Y3RvcjtcbiAgICB9O1xuICAgIFRyZWVCdWlsZGVyLnByb3RvdHlwZS5nZXRCYXNlQ3N0VmlzaXRvckNvbnN0cnVjdG9yV2l0aERlZmF1bHRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoaXNVbmRlZmluZWQodGhpcy5iYXNlQ3N0VmlzaXRvcldpdGhEZWZhdWx0c0NvbnN0cnVjdG9yKSkge1xuICAgICAgICAgICAgdmFyIG5ld0NvbnN0cnVjdG9yID0gY3JlYXRlQmFzZVZpc2l0b3JDb25zdHJ1Y3RvcldpdGhEZWZhdWx0cyh0aGlzLmNsYXNzTmFtZSwga2V5cyh0aGlzLmdhc3RQcm9kdWN0aW9uc0NhY2hlKSwgdGhpcy5nZXRCYXNlQ3N0VmlzaXRvckNvbnN0cnVjdG9yKCkpO1xuICAgICAgICAgICAgdGhpcy5iYXNlQ3N0VmlzaXRvcldpdGhEZWZhdWx0c0NvbnN0cnVjdG9yID0gbmV3Q29uc3RydWN0b3I7XG4gICAgICAgICAgICByZXR1cm4gbmV3Q29uc3RydWN0b3I7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuYmFzZUNzdFZpc2l0b3JXaXRoRGVmYXVsdHNDb25zdHJ1Y3RvcjtcbiAgICB9O1xuICAgIFRyZWVCdWlsZGVyLnByb3RvdHlwZS5nZXRMYXN0RXhwbGljaXRSdWxlU2hvcnROYW1lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcnVsZVN0YWNrID0gdGhpcy5SVUxFX1NUQUNLO1xuICAgICAgICByZXR1cm4gcnVsZVN0YWNrW3J1bGVTdGFjay5sZW5ndGggLSAxXTtcbiAgICB9O1xuICAgIFRyZWVCdWlsZGVyLnByb3RvdHlwZS5nZXRQcmV2aW91c0V4cGxpY2l0UnVsZVNob3J0TmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHJ1bGVTdGFjayA9IHRoaXMuUlVMRV9TVEFDSztcbiAgICAgICAgcmV0dXJuIHJ1bGVTdGFja1tydWxlU3RhY2subGVuZ3RoIC0gMl07XG4gICAgfTtcbiAgICBUcmVlQnVpbGRlci5wcm90b3R5cGUuZ2V0TGFzdEV4cGxpY2l0UnVsZU9jY3VycmVuY2VJbmRleCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG9jY3VycmVuY2VTdGFjayA9IHRoaXMuUlVMRV9PQ0NVUlJFTkNFX1NUQUNLO1xuICAgICAgICByZXR1cm4gb2NjdXJyZW5jZVN0YWNrW29jY3VycmVuY2VTdGFjay5sZW5ndGggLSAxXTtcbiAgICB9O1xuICAgIHJldHVybiBUcmVlQnVpbGRlcjtcbn0oKSk7XG5leHBvcnQgeyBUcmVlQnVpbGRlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHJlZV9idWlsZGVyLmpzLm1hcCIsImltcG9ydCB7IEVORF9PRl9GSUxFIH0gZnJvbSBcIi4uL3BhcnNlclwiO1xuLyoqXG4gKiBUcmFpdCByZXNwb25zaWJsZSBhYnN0cmFjdGluZyBvdmVyIHRoZSBpbnRlcmFjdGlvbiB3aXRoIExleGVyIG91dHB1dCAoVG9rZW4gdmVjdG9yKS5cbiAqXG4gKiBUaGlzIGNvdWxkIGJlIGdlbmVyYWxpemVkIHRvIHN1cHBvcnQgb3RoZXIga2luZHMgb2YgbGV4ZXJzLCBlLmcuXG4gKiAtIEp1c3QgaW4gVGltZSBMZXhpbmcgLyBMZXhlci1MZXNzIHBhcnNpbmcuXG4gKiAtIFN0cmVhbWluZyBMZXhlci5cbiAqL1xudmFyIExleGVyQWRhcHRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBMZXhlckFkYXB0ZXIoKSB7XG4gICAgfVxuICAgIExleGVyQWRhcHRlci5wcm90b3R5cGUuaW5pdExleGVyQWRhcHRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy50b2tWZWN0b3IgPSBbXTtcbiAgICAgICAgdGhpcy50b2tWZWN0b3JMZW5ndGggPSAwO1xuICAgICAgICB0aGlzLmN1cnJJZHggPSAtMTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShMZXhlckFkYXB0ZXIucHJvdG90eXBlLCBcImlucHV0XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50b2tWZWN0b3I7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKG5ld0lucHV0KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zZWxmQW5hbHlzaXNEb25lICE9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJNaXNzaW5nIDxwZXJmb3JtU2VsZkFuYWx5c2lzPiBpbnZvY2F0aW9uIGF0IHRoZSBlbmQgb2YgdGhlIFBhcnNlcidzIGNvbnN0cnVjdG9yLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgICAgIHRoaXMudG9rVmVjdG9yID0gbmV3SW5wdXQ7XG4gICAgICAgICAgICB0aGlzLnRva1ZlY3Rvckxlbmd0aCA9IG5ld0lucHV0Lmxlbmd0aDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLy8gc2tpcHMgYSB0b2tlbiBhbmQgcmV0dXJucyB0aGUgbmV4dCB0b2tlblxuICAgIExleGVyQWRhcHRlci5wcm90b3R5cGUuU0tJUF9UT0tFTiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycklkeCA8PSB0aGlzLnRva1ZlY3Rvci5sZW5ndGggLSAyKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnN1bWVUb2tlbigpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuTEEoMSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gRU5EX09GX0ZJTEU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8vIExleGVyIChhY2Nlc3NpbmcgVG9rZW4gdmVjdG9yKSByZWxhdGVkIG1ldGhvZHMgd2hpY2ggY2FuIGJlIG92ZXJyaWRkZW4gdG8gaW1wbGVtZW50IGxhenkgbGV4ZXJzXG4gICAgLy8gb3IgbGV4ZXJzIGRlcGVuZGVudCBvbiBwYXJzZXIgY29udGV4dC5cbiAgICBMZXhlckFkYXB0ZXIucHJvdG90eXBlLkxBID0gZnVuY3Rpb24gKGhvd011Y2gpIHtcbiAgICAgICAgdmFyIHNvdWdodElkeCA9IHRoaXMuY3VycklkeCArIGhvd011Y2g7XG4gICAgICAgIGlmIChzb3VnaHRJZHggPCAwIHx8IHRoaXMudG9rVmVjdG9yTGVuZ3RoIDw9IHNvdWdodElkeCkge1xuICAgICAgICAgICAgcmV0dXJuIEVORF9PRl9GSUxFO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudG9rVmVjdG9yW3NvdWdodElkeF07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIExleGVyQWRhcHRlci5wcm90b3R5cGUuY29uc3VtZVRva2VuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmN1cnJJZHgrKztcbiAgICB9O1xuICAgIExleGVyQWRhcHRlci5wcm90b3R5cGUuZXhwb3J0TGV4ZXJTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3VycklkeDtcbiAgICB9O1xuICAgIExleGVyQWRhcHRlci5wcm90b3R5cGUuaW1wb3J0TGV4ZXJTdGF0ZSA9IGZ1bmN0aW9uIChuZXdTdGF0ZSkge1xuICAgICAgICB0aGlzLmN1cnJJZHggPSBuZXdTdGF0ZTtcbiAgICB9O1xuICAgIExleGVyQWRhcHRlci5wcm90b3R5cGUucmVzZXRMZXhlclN0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmN1cnJJZHggPSAtMTtcbiAgICB9O1xuICAgIExleGVyQWRhcHRlci5wcm90b3R5cGUubW92ZVRvVGVybWluYXRlZFN0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmN1cnJJZHggPSB0aGlzLnRva1ZlY3Rvci5sZW5ndGggLSAxO1xuICAgIH07XG4gICAgTGV4ZXJBZGFwdGVyLnByb3RvdHlwZS5nZXRMZXhlclBvc2l0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5leHBvcnRMZXhlclN0YXRlKCk7XG4gICAgfTtcbiAgICByZXR1cm4gTGV4ZXJBZGFwdGVyO1xufSgpKTtcbmV4cG9ydCB7IExleGVyQWRhcHRlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGV4ZXJfYWRhcHRlci5qcy5tYXAiLCJpbXBvcnQgeyBjb250YWlucywgdmFsdWVzIH0gZnJvbSBcIi4uLy4uLy4uL3V0aWxzL3V0aWxzXCI7XG5pbXBvcnQgeyBpc1JlY29nbml0aW9uRXhjZXB0aW9uIH0gZnJvbSBcIi4uLy4uL2V4Y2VwdGlvbnNfcHVibGljXCI7XG5pbXBvcnQgeyBERUZBVUxUX1JVTEVfQ09ORklHLCBQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlIH0gZnJvbSBcIi4uL3BhcnNlclwiO1xuaW1wb3J0IHsgZGVmYXVsdEdyYW1tYXJWYWxpZGF0b3JFcnJvclByb3ZpZGVyIH0gZnJvbSBcIi4uLy4uL2Vycm9yc19wdWJsaWNcIjtcbmltcG9ydCB7IHZhbGlkYXRlUnVsZUlzT3ZlcnJpZGRlbiB9IGZyb20gXCIuLi8uLi9ncmFtbWFyL2NoZWNrc1wiO1xuaW1wb3J0IHsgc2VyaWFsaXplR3JhbW1hciB9IGZyb20gXCIuLi8uLi9ncmFtbWFyL2dhc3QvZ2FzdF9wdWJsaWNcIjtcbi8qKlxuICogVGhpcyB0cmFpdCBpcyByZXNwb25zaWJsZSBmb3IgaW1wbGVtZW50aW5nIHRoZSBwdWJsaWMgQVBJXG4gKiBmb3IgZGVmaW5pbmcgQ2hldnJvdGFpbiBwYXJzZXJzLCBpLmU6XG4gKiAtIENPTlNVTUVcbiAqIC0gUlVMRVxuICogLSBPUFRJT05cbiAqIC0gLi4uXG4gKi9cbnZhciBSZWNvZ25pemVyQXBpID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlY29nbml6ZXJBcGkoKSB7XG4gICAgfVxuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLkFDVElPTiA9IGZ1bmN0aW9uIChpbXBsKSB7XG4gICAgICAgIHJldHVybiBpbXBsLmNhbGwodGhpcyk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5jb25zdW1lID0gZnVuY3Rpb24gKGlkeCwgdG9rVHlwZSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25zdW1lSW50ZXJuYWwodG9rVHlwZSwgaWR4LCBvcHRpb25zKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLnN1YnJ1bGUgPSBmdW5jdGlvbiAoaWR4LCBydWxlVG9DYWxsLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN1YnJ1bGVJbnRlcm5hbChydWxlVG9DYWxsLCBpZHgsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUub3B0aW9uID0gZnVuY3Rpb24gKGlkeCwgYWN0aW9uT1JNZXRob2REZWYpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9uSW50ZXJuYWwoYWN0aW9uT1JNZXRob2REZWYsIGlkeCk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5vciA9IGZ1bmN0aW9uIChpZHgsIGFsdHNPck9wdHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3JJbnRlcm5hbChhbHRzT3JPcHRzLCBpZHgpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUubWFueSA9IGZ1bmN0aW9uIChpZHgsIGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hbnlJbnRlcm5hbChpZHgsIGFjdGlvbk9STWV0aG9kRGVmKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLmF0TGVhc3RPbmUgPSBmdW5jdGlvbiAoaWR4LCBhY3Rpb25PUk1ldGhvZERlZikge1xuICAgICAgICByZXR1cm4gdGhpcy5hdExlYXN0T25lSW50ZXJuYWwoaWR4LCBhY3Rpb25PUk1ldGhvZERlZik7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5DT05TVU1FID0gZnVuY3Rpb24gKHRva1R5cGUsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uc3VtZUludGVybmFsKHRva1R5cGUsIDAsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuQ09OU1VNRTEgPSBmdW5jdGlvbiAodG9rVHlwZSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25zdW1lSW50ZXJuYWwodG9rVHlwZSwgMSwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5DT05TVU1FMiA9IGZ1bmN0aW9uICh0b2tUeXBlLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnN1bWVJbnRlcm5hbCh0b2tUeXBlLCAyLCBvcHRpb25zKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLkNPTlNVTUUzID0gZnVuY3Rpb24gKHRva1R5cGUsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uc3VtZUludGVybmFsKHRva1R5cGUsIDMsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuQ09OU1VNRTQgPSBmdW5jdGlvbiAodG9rVHlwZSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25zdW1lSW50ZXJuYWwodG9rVHlwZSwgNCwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5DT05TVU1FNSA9IGZ1bmN0aW9uICh0b2tUeXBlLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnN1bWVJbnRlcm5hbCh0b2tUeXBlLCA1LCBvcHRpb25zKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLkNPTlNVTUU2ID0gZnVuY3Rpb24gKHRva1R5cGUsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uc3VtZUludGVybmFsKHRva1R5cGUsIDYsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuQ09OU1VNRTcgPSBmdW5jdGlvbiAodG9rVHlwZSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25zdW1lSW50ZXJuYWwodG9rVHlwZSwgNywgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5DT05TVU1FOCA9IGZ1bmN0aW9uICh0b2tUeXBlLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnN1bWVJbnRlcm5hbCh0b2tUeXBlLCA4LCBvcHRpb25zKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLkNPTlNVTUU5ID0gZnVuY3Rpb24gKHRva1R5cGUsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uc3VtZUludGVybmFsKHRva1R5cGUsIDksIG9wdGlvbnMpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuU1VCUlVMRSA9IGZ1bmN0aW9uIChydWxlVG9DYWxsLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN1YnJ1bGVJbnRlcm5hbChydWxlVG9DYWxsLCAwLCBvcHRpb25zKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLlNVQlJVTEUxID0gZnVuY3Rpb24gKHJ1bGVUb0NhbGwsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3VicnVsZUludGVybmFsKHJ1bGVUb0NhbGwsIDEsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuU1VCUlVMRTIgPSBmdW5jdGlvbiAocnVsZVRvQ2FsbCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5zdWJydWxlSW50ZXJuYWwocnVsZVRvQ2FsbCwgMiwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5TVUJSVUxFMyA9IGZ1bmN0aW9uIChydWxlVG9DYWxsLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN1YnJ1bGVJbnRlcm5hbChydWxlVG9DYWxsLCAzLCBvcHRpb25zKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLlNVQlJVTEU0ID0gZnVuY3Rpb24gKHJ1bGVUb0NhbGwsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3VicnVsZUludGVybmFsKHJ1bGVUb0NhbGwsIDQsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuU1VCUlVMRTUgPSBmdW5jdGlvbiAocnVsZVRvQ2FsbCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5zdWJydWxlSW50ZXJuYWwocnVsZVRvQ2FsbCwgNSwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5TVUJSVUxFNiA9IGZ1bmN0aW9uIChydWxlVG9DYWxsLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN1YnJ1bGVJbnRlcm5hbChydWxlVG9DYWxsLCA2LCBvcHRpb25zKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLlNVQlJVTEU3ID0gZnVuY3Rpb24gKHJ1bGVUb0NhbGwsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3VicnVsZUludGVybmFsKHJ1bGVUb0NhbGwsIDcsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuU1VCUlVMRTggPSBmdW5jdGlvbiAocnVsZVRvQ2FsbCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5zdWJydWxlSW50ZXJuYWwocnVsZVRvQ2FsbCwgOCwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5TVUJSVUxFOSA9IGZ1bmN0aW9uIChydWxlVG9DYWxsLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN1YnJ1bGVJbnRlcm5hbChydWxlVG9DYWxsLCA5LCBvcHRpb25zKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLk9QVElPTiA9IGZ1bmN0aW9uIChhY3Rpb25PUk1ldGhvZERlZikge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25JbnRlcm5hbChhY3Rpb25PUk1ldGhvZERlZiwgMCk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5PUFRJT04xID0gZnVuY3Rpb24gKGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbkludGVybmFsKGFjdGlvbk9STWV0aG9kRGVmLCAxKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLk9QVElPTjIgPSBmdW5jdGlvbiAoYWN0aW9uT1JNZXRob2REZWYpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9uSW50ZXJuYWwoYWN0aW9uT1JNZXRob2REZWYsIDIpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuT1BUSU9OMyA9IGZ1bmN0aW9uIChhY3Rpb25PUk1ldGhvZERlZikge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25JbnRlcm5hbChhY3Rpb25PUk1ldGhvZERlZiwgMyk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5PUFRJT040ID0gZnVuY3Rpb24gKGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbkludGVybmFsKGFjdGlvbk9STWV0aG9kRGVmLCA0KTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLk9QVElPTjUgPSBmdW5jdGlvbiAoYWN0aW9uT1JNZXRob2REZWYpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9uSW50ZXJuYWwoYWN0aW9uT1JNZXRob2REZWYsIDUpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuT1BUSU9ONiA9IGZ1bmN0aW9uIChhY3Rpb25PUk1ldGhvZERlZikge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25JbnRlcm5hbChhY3Rpb25PUk1ldGhvZERlZiwgNik7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5PUFRJT043ID0gZnVuY3Rpb24gKGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbkludGVybmFsKGFjdGlvbk9STWV0aG9kRGVmLCA3KTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLk9QVElPTjggPSBmdW5jdGlvbiAoYWN0aW9uT1JNZXRob2REZWYpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9uSW50ZXJuYWwoYWN0aW9uT1JNZXRob2REZWYsIDgpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuT1BUSU9OOSA9IGZ1bmN0aW9uIChhY3Rpb25PUk1ldGhvZERlZikge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25JbnRlcm5hbChhY3Rpb25PUk1ldGhvZERlZiwgOSk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5PUiA9IGZ1bmN0aW9uIChhbHRzT3JPcHRzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9ySW50ZXJuYWwoYWx0c09yT3B0cywgMCk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5PUjEgPSBmdW5jdGlvbiAoYWx0c09yT3B0cykge1xuICAgICAgICByZXR1cm4gdGhpcy5vckludGVybmFsKGFsdHNPck9wdHMsIDEpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuT1IyID0gZnVuY3Rpb24gKGFsdHNPck9wdHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3JJbnRlcm5hbChhbHRzT3JPcHRzLCAyKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLk9SMyA9IGZ1bmN0aW9uIChhbHRzT3JPcHRzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9ySW50ZXJuYWwoYWx0c09yT3B0cywgMyk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5PUjQgPSBmdW5jdGlvbiAoYWx0c09yT3B0cykge1xuICAgICAgICByZXR1cm4gdGhpcy5vckludGVybmFsKGFsdHNPck9wdHMsIDQpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuT1I1ID0gZnVuY3Rpb24gKGFsdHNPck9wdHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3JJbnRlcm5hbChhbHRzT3JPcHRzLCA1KTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLk9SNiA9IGZ1bmN0aW9uIChhbHRzT3JPcHRzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9ySW50ZXJuYWwoYWx0c09yT3B0cywgNik7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5PUjcgPSBmdW5jdGlvbiAoYWx0c09yT3B0cykge1xuICAgICAgICByZXR1cm4gdGhpcy5vckludGVybmFsKGFsdHNPck9wdHMsIDcpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuT1I4ID0gZnVuY3Rpb24gKGFsdHNPck9wdHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3JJbnRlcm5hbChhbHRzT3JPcHRzLCA4KTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLk9SOSA9IGZ1bmN0aW9uIChhbHRzT3JPcHRzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9ySW50ZXJuYWwoYWx0c09yT3B0cywgOSk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5NQU5ZID0gZnVuY3Rpb24gKGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHRoaXMubWFueUludGVybmFsKDAsIGFjdGlvbk9STWV0aG9kRGVmKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLk1BTlkxID0gZnVuY3Rpb24gKGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHRoaXMubWFueUludGVybmFsKDEsIGFjdGlvbk9STWV0aG9kRGVmKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLk1BTlkyID0gZnVuY3Rpb24gKGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHRoaXMubWFueUludGVybmFsKDIsIGFjdGlvbk9STWV0aG9kRGVmKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLk1BTlkzID0gZnVuY3Rpb24gKGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHRoaXMubWFueUludGVybmFsKDMsIGFjdGlvbk9STWV0aG9kRGVmKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLk1BTlk0ID0gZnVuY3Rpb24gKGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHRoaXMubWFueUludGVybmFsKDQsIGFjdGlvbk9STWV0aG9kRGVmKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLk1BTlk1ID0gZnVuY3Rpb24gKGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHRoaXMubWFueUludGVybmFsKDUsIGFjdGlvbk9STWV0aG9kRGVmKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLk1BTlk2ID0gZnVuY3Rpb24gKGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHRoaXMubWFueUludGVybmFsKDYsIGFjdGlvbk9STWV0aG9kRGVmKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLk1BTlk3ID0gZnVuY3Rpb24gKGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHRoaXMubWFueUludGVybmFsKDcsIGFjdGlvbk9STWV0aG9kRGVmKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLk1BTlk4ID0gZnVuY3Rpb24gKGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHRoaXMubWFueUludGVybmFsKDgsIGFjdGlvbk9STWV0aG9kRGVmKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLk1BTlk5ID0gZnVuY3Rpb24gKGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHRoaXMubWFueUludGVybmFsKDksIGFjdGlvbk9STWV0aG9kRGVmKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLk1BTllfU0VQID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5tYW55U2VwRmlyc3RJbnRlcm5hbCgwLCBvcHRpb25zKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLk1BTllfU0VQMSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHRoaXMubWFueVNlcEZpcnN0SW50ZXJuYWwoMSwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5NQU5ZX1NFUDIgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB0aGlzLm1hbnlTZXBGaXJzdEludGVybmFsKDIsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuTUFOWV9TRVAzID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5tYW55U2VwRmlyc3RJbnRlcm5hbCgzLCBvcHRpb25zKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLk1BTllfU0VQNCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHRoaXMubWFueVNlcEZpcnN0SW50ZXJuYWwoNCwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5NQU5ZX1NFUDUgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB0aGlzLm1hbnlTZXBGaXJzdEludGVybmFsKDUsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuTUFOWV9TRVA2ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5tYW55U2VwRmlyc3RJbnRlcm5hbCg2LCBvcHRpb25zKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLk1BTllfU0VQNyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHRoaXMubWFueVNlcEZpcnN0SW50ZXJuYWwoNywgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5NQU5ZX1NFUDggPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB0aGlzLm1hbnlTZXBGaXJzdEludGVybmFsKDgsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuTUFOWV9TRVA5ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5tYW55U2VwRmlyc3RJbnRlcm5hbCg5LCBvcHRpb25zKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLkFUX0xFQVNUX09ORSA9IGZ1bmN0aW9uIChhY3Rpb25PUk1ldGhvZERlZikge1xuICAgICAgICB0aGlzLmF0TGVhc3RPbmVJbnRlcm5hbCgwLCBhY3Rpb25PUk1ldGhvZERlZik7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5BVF9MRUFTVF9PTkUxID0gZnVuY3Rpb24gKGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmF0TGVhc3RPbmVJbnRlcm5hbCgxLCBhY3Rpb25PUk1ldGhvZERlZik7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5BVF9MRUFTVF9PTkUyID0gZnVuY3Rpb24gKGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHRoaXMuYXRMZWFzdE9uZUludGVybmFsKDIsIGFjdGlvbk9STWV0aG9kRGVmKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLkFUX0xFQVNUX09ORTMgPSBmdW5jdGlvbiAoYWN0aW9uT1JNZXRob2REZWYpIHtcbiAgICAgICAgdGhpcy5hdExlYXN0T25lSW50ZXJuYWwoMywgYWN0aW9uT1JNZXRob2REZWYpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuQVRfTEVBU1RfT05FNCA9IGZ1bmN0aW9uIChhY3Rpb25PUk1ldGhvZERlZikge1xuICAgICAgICB0aGlzLmF0TGVhc3RPbmVJbnRlcm5hbCg0LCBhY3Rpb25PUk1ldGhvZERlZik7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5BVF9MRUFTVF9PTkU1ID0gZnVuY3Rpb24gKGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHRoaXMuYXRMZWFzdE9uZUludGVybmFsKDUsIGFjdGlvbk9STWV0aG9kRGVmKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLkFUX0xFQVNUX09ORTYgPSBmdW5jdGlvbiAoYWN0aW9uT1JNZXRob2REZWYpIHtcbiAgICAgICAgdGhpcy5hdExlYXN0T25lSW50ZXJuYWwoNiwgYWN0aW9uT1JNZXRob2REZWYpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuQVRfTEVBU1RfT05FNyA9IGZ1bmN0aW9uIChhY3Rpb25PUk1ldGhvZERlZikge1xuICAgICAgICB0aGlzLmF0TGVhc3RPbmVJbnRlcm5hbCg3LCBhY3Rpb25PUk1ldGhvZERlZik7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5BVF9MRUFTVF9PTkU4ID0gZnVuY3Rpb24gKGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHRoaXMuYXRMZWFzdE9uZUludGVybmFsKDgsIGFjdGlvbk9STWV0aG9kRGVmKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLkFUX0xFQVNUX09ORTkgPSBmdW5jdGlvbiAoYWN0aW9uT1JNZXRob2REZWYpIHtcbiAgICAgICAgdGhpcy5hdExlYXN0T25lSW50ZXJuYWwoOSwgYWN0aW9uT1JNZXRob2REZWYpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuQVRfTEVBU1RfT05FX1NFUCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuYXRMZWFzdE9uZVNlcEZpcnN0SW50ZXJuYWwoMCwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5BVF9MRUFTVF9PTkVfU0VQMSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuYXRMZWFzdE9uZVNlcEZpcnN0SW50ZXJuYWwoMSwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5BVF9MRUFTVF9PTkVfU0VQMiA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuYXRMZWFzdE9uZVNlcEZpcnN0SW50ZXJuYWwoMiwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5BVF9MRUFTVF9PTkVfU0VQMyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuYXRMZWFzdE9uZVNlcEZpcnN0SW50ZXJuYWwoMywgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5BVF9MRUFTVF9PTkVfU0VQNCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuYXRMZWFzdE9uZVNlcEZpcnN0SW50ZXJuYWwoNCwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5BVF9MRUFTVF9PTkVfU0VQNSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuYXRMZWFzdE9uZVNlcEZpcnN0SW50ZXJuYWwoNSwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5BVF9MRUFTVF9PTkVfU0VQNiA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuYXRMZWFzdE9uZVNlcEZpcnN0SW50ZXJuYWwoNiwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5BVF9MRUFTVF9PTkVfU0VQNyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuYXRMZWFzdE9uZVNlcEZpcnN0SW50ZXJuYWwoNywgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5BVF9MRUFTVF9PTkVfU0VQOCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuYXRMZWFzdE9uZVNlcEZpcnN0SW50ZXJuYWwoOCwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5BVF9MRUFTVF9PTkVfU0VQOSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuYXRMZWFzdE9uZVNlcEZpcnN0SW50ZXJuYWwoOSwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5SVUxFID0gZnVuY3Rpb24gKG5hbWUsIGltcGxlbWVudGF0aW9uLCBjb25maWcpIHtcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IERFRkFVTFRfUlVMRV9DT05GSUc7IH1cbiAgICAgICAgaWYgKGNvbnRhaW5zKHRoaXMuZGVmaW5lZFJ1bGVzTmFtZXMsIG5hbWUpKSB7XG4gICAgICAgICAgICB2YXIgZXJyTXNnID0gZGVmYXVsdEdyYW1tYXJWYWxpZGF0b3JFcnJvclByb3ZpZGVyLmJ1aWxkRHVwbGljYXRlUnVsZU5hbWVFcnJvcih7XG4gICAgICAgICAgICAgICAgdG9wTGV2ZWxSdWxlOiBuYW1lLFxuICAgICAgICAgICAgICAgIGdyYW1tYXJOYW1lOiB0aGlzLmNsYXNzTmFtZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgZXJyb3IgPSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogZXJyTXNnLFxuICAgICAgICAgICAgICAgIHR5cGU6IFBhcnNlckRlZmluaXRpb25FcnJvclR5cGUuRFVQTElDQVRFX1JVTEVfTkFNRSxcbiAgICAgICAgICAgICAgICBydWxlTmFtZTogbmFtZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuZGVmaW5pdGlvbkVycm9ycy5wdXNoKGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlZmluZWRSdWxlc05hbWVzLnB1c2gobmFtZSk7XG4gICAgICAgIHZhciBydWxlSW1wbGVtZW50YXRpb24gPSB0aGlzLmRlZmluZVJ1bGUobmFtZSwgaW1wbGVtZW50YXRpb24sIGNvbmZpZyk7XG4gICAgICAgIHRoaXNbbmFtZV0gPSBydWxlSW1wbGVtZW50YXRpb247XG4gICAgICAgIHJldHVybiBydWxlSW1wbGVtZW50YXRpb247XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5PVkVSUklERV9SVUxFID0gZnVuY3Rpb24gKG5hbWUsIGltcGwsIGNvbmZpZykge1xuICAgICAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0gREVGQVVMVF9SVUxFX0NPTkZJRzsgfVxuICAgICAgICB2YXIgcnVsZUVycm9ycyA9IFtdO1xuICAgICAgICBydWxlRXJyb3JzID0gcnVsZUVycm9ycy5jb25jYXQodmFsaWRhdGVSdWxlSXNPdmVycmlkZGVuKG5hbWUsIHRoaXMuZGVmaW5lZFJ1bGVzTmFtZXMsIHRoaXMuY2xhc3NOYW1lKSk7XG4gICAgICAgIHRoaXMuZGVmaW5pdGlvbkVycm9ycy5wdXNoLmFwcGx5KHRoaXMuZGVmaW5pdGlvbkVycm9ycywgcnVsZUVycm9ycyk7IC8vIG11dGFiaWxpdHkgZm9yIHRoZSB3aW5cbiAgICAgICAgdmFyIHJ1bGVJbXBsZW1lbnRhdGlvbiA9IHRoaXMuZGVmaW5lUnVsZShuYW1lLCBpbXBsLCBjb25maWcpO1xuICAgICAgICB0aGlzW25hbWVdID0gcnVsZUltcGxlbWVudGF0aW9uO1xuICAgICAgICByZXR1cm4gcnVsZUltcGxlbWVudGF0aW9uO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuQkFDS1RSQUNLID0gZnVuY3Rpb24gKGdyYW1tYXJSdWxlLCBhcmdzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyBzYXZlIG9yZyBzdGF0ZVxuICAgICAgICAgICAgdGhpcy5pc0JhY2tUcmFja2luZ1N0YWNrLnB1c2goMSk7XG4gICAgICAgICAgICB2YXIgb3JnU3RhdGUgPSB0aGlzLnNhdmVSZWNvZ1N0YXRlKCk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGdyYW1tYXJSdWxlLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICAgICAgICAgIC8vIGlmIG5vIGV4Y2VwdGlvbiB3YXMgdGhyb3duIHdlIGhhdmUgc3VjY2VlZCBwYXJzaW5nIHRoZSBydWxlLlxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNSZWNvZ25pdGlvbkV4Y2VwdGlvbihlKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVsb2FkUmVjb2dTdGF0ZShvcmdTdGF0ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5pc0JhY2tUcmFja2luZ1N0YWNrLnBvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH07XG4gICAgLy8gR0FTVCBleHBvcnQgQVBJc1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLmdldEdBc3RQcm9kdWN0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2FzdFByb2R1Y3Rpb25zQ2FjaGU7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5nZXRTZXJpYWxpemVkR2FzdFByb2R1Y3Rpb25zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gc2VyaWFsaXplR3JhbW1hcih2YWx1ZXModGhpcy5nYXN0UHJvZHVjdGlvbnNDYWNoZSkpO1xuICAgIH07XG4gICAgcmV0dXJuIFJlY29nbml6ZXJBcGk7XG59KCkpO1xuZXhwb3J0IHsgUmVjb2duaXplckFwaSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVjb2duaXplcl9hcGkuanMubWFwIiwiaW1wb3J0IHsgY2xvbmVBcnIsIGNsb25lT2JqLCBldmVyeSwgZmxhdHRlbiwgaGFzLCBpc0FycmF5LCBpc0VtcHR5LCBpc09iamVjdCwgcmVkdWNlLCB1bmlxLCB2YWx1ZXMgfSBmcm9tIFwiLi4vLi4vLi4vdXRpbHMvdXRpbHNcIjtcbmltcG9ydCB7IEFUX0xFQVNUX09ORV9JRFgsIEFUX0xFQVNUX09ORV9TRVBfSURYLCBCSVRTX0ZPUl9NRVRIT0RfVFlQRSwgQklUU19GT1JfT0NDVVJSRU5DRV9JRFgsIE1BTllfSURYLCBNQU5ZX1NFUF9JRFgsIE9QVElPTl9JRFgsIE9SX0lEWCB9IGZyb20gXCIuLi8uLi9ncmFtbWFyL2tleXNcIjtcbmltcG9ydCB7IGlzUmVjb2duaXRpb25FeGNlcHRpb24sIE1pc21hdGNoZWRUb2tlbkV4Y2VwdGlvbiwgTm90QWxsSW5wdXRQYXJzZWRFeGNlcHRpb24gfSBmcm9tIFwiLi4vLi4vZXhjZXB0aW9uc19wdWJsaWNcIjtcbmltcG9ydCB7IFBST0RfVFlQRSB9IGZyb20gXCIuLi8uLi9ncmFtbWFyL2xvb2thaGVhZFwiO1xuaW1wb3J0IHsgTmV4dFRlcm1pbmFsQWZ0ZXJBdExlYXN0T25lU2VwV2Fsa2VyLCBOZXh0VGVybWluYWxBZnRlckF0TGVhc3RPbmVXYWxrZXIsIE5leHRUZXJtaW5hbEFmdGVyTWFueVNlcFdhbGtlciwgTmV4dFRlcm1pbmFsQWZ0ZXJNYW55V2Fsa2VyIH0gZnJvbSBcIi4uLy4uL2dyYW1tYXIvaW50ZXJwcmV0ZXJcIjtcbmltcG9ydCB7IERFRkFVTFRfUlVMRV9DT05GSUcgfSBmcm9tIFwiLi4vcGFyc2VyXCI7XG5pbXBvcnQgeyBJTl9SVUxFX1JFQ09WRVJZX0VYQ0VQVElPTiB9IGZyb20gXCIuL3JlY292ZXJhYmxlXCI7XG5pbXBvcnQgeyBFT0YgfSBmcm9tIFwiLi4vLi4vLi4vc2Nhbi90b2tlbnNfcHVibGljXCI7XG5pbXBvcnQgeyBhdWdtZW50VG9rZW5UeXBlcywgaXNUb2tlblR5cGUsIHRva2VuU3RydWN0dXJlZE1hdGNoZXIsIHRva2VuU3RydWN0dXJlZE1hdGNoZXJOb0NhdGVnb3JpZXMgfSBmcm9tIFwiLi4vLi4vLi4vc2Nhbi90b2tlbnNcIjtcbmltcG9ydCB7IGNsYXNzTmFtZUZyb21JbnN0YW5jZSB9IGZyb20gXCIuLi8uLi8uLi9sYW5nL2xhbmdfZXh0ZW5zaW9uc1wiO1xuLyoqXG4gKiBUaGlzIHRyYWl0IGlzIHJlc3BvbnNpYmxlIGZvciB0aGUgcnVudGltZSBwYXJzaW5nIGVuZ2luZVxuICogVXNlZCBieSB0aGUgb2ZmaWNpYWwgQVBJIChyZWNvZ25pemVyX2FwaS50cylcbiAqL1xudmFyIFJlY29nbml6ZXJFbmdpbmUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVjb2duaXplckVuZ2luZSgpIHtcbiAgICB9XG4gICAgUmVjb2duaXplckVuZ2luZS5wcm90b3R5cGUuaW5pdFJlY29nbml6ZXJFbmdpbmUgPSBmdW5jdGlvbiAodG9rZW5Wb2NhYnVsYXJ5LCBjb25maWcpIHtcbiAgICAgICAgdGhpcy5jbGFzc05hbWUgPSBjbGFzc05hbWVGcm9tSW5zdGFuY2UodGhpcyk7XG4gICAgICAgIC8vIFRPRE86IHdvdWxkIHVzaW5nIGFuIEVTNiBNYXAgb3IgcGxhaW4gb2JqZWN0IGJlIGZhc3RlciAoQ1NUIGJ1aWxkaW5nIHNjZW5hcmlvKVxuICAgICAgICB0aGlzLnNob3J0UnVsZU5hbWVUb0Z1bGwgPSB7fTtcbiAgICAgICAgdGhpcy5mdWxsUnVsZU5hbWVUb1Nob3J0ID0ge307XG4gICAgICAgIHRoaXMucnVsZVNob3J0TmFtZUlkeCA9IDI1NjtcbiAgICAgICAgdGhpcy50b2tlbk1hdGNoZXIgPSB0b2tlblN0cnVjdHVyZWRNYXRjaGVyTm9DYXRlZ29yaWVzO1xuICAgICAgICB0aGlzLmRlZmluZWRSdWxlc05hbWVzID0gW107XG4gICAgICAgIHRoaXMudG9rZW5zTWFwID0ge307XG4gICAgICAgIHRoaXMuaXNCYWNrVHJhY2tpbmdTdGFjayA9IFtdO1xuICAgICAgICB0aGlzLlJVTEVfU1RBQ0sgPSBbXTtcbiAgICAgICAgdGhpcy5SVUxFX09DQ1VSUkVOQ0VfU1RBQ0sgPSBbXTtcbiAgICAgICAgdGhpcy5nYXN0UHJvZHVjdGlvbnNDYWNoZSA9IHt9O1xuICAgICAgICBpZiAoaGFzKGNvbmZpZywgXCJzZXJpYWxpemVkR3JhbW1hclwiKSkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJUaGUgUGFyc2VyJ3MgY29uZmlndXJhdGlvbiBjYW4gbm8gbG9uZ2VyIGNvbnRhaW4gYSA8c2VyaWFsaXplZEdyYW1tYXI+IHByb3BlcnR5LlxcblwiICtcbiAgICAgICAgICAgICAgICBcIlxcdFNlZTogaHR0cHM6Ly9zYXAuZ2l0aHViLmlvL2NoZXZyb3RhaW4vZG9jcy9jaGFuZ2VzL0JSRUFLSU5HX0NIQU5HRVMuaHRtbCNfNi0wLTBcXG5cIiArXG4gICAgICAgICAgICAgICAgXCJcXHRGb3IgRnVydGhlciBkZXRhaWxzLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNBcnJheSh0b2tlblZvY2FidWxhcnkpKSB7XG4gICAgICAgICAgICAvLyBUaGlzIG9ubHkgY2hlY2tzIGZvciBUb2tlbiB2b2NhYnVsYXJpZXMgcHJvdmlkZWQgYXMgYXJyYXlzLlxuICAgICAgICAgICAgLy8gVGhhdCBpcyBnb29kIGVub3VnaCBiZWNhdXNlIHRoZSBtYWluIG9iamVjdGl2ZSBpcyB0byBkZXRlY3QgdXNlcnMgb2YgcHJlLVY0LjAgQVBJc1xuICAgICAgICAgICAgLy8gcmF0aGVyIHRoYW4gYWxsIGVkZ2UgY2FzZXMgb2YgZW1wdHkgVG9rZW4gdm9jYWJ1bGFyaWVzLlxuICAgICAgICAgICAgaWYgKGlzRW1wdHkodG9rZW5Wb2NhYnVsYXJ5KSkge1xuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwiQSBUb2tlbiBWb2NhYnVsYXJ5IGNhbm5vdCBiZSBlbXB0eS5cXG5cIiArXG4gICAgICAgICAgICAgICAgICAgIFwiXFx0Tm90ZSB0aGF0IHRoZSBmaXJzdCBhcmd1bWVudCBmb3IgdGhlIHBhcnNlciBjb25zdHJ1Y3RvclxcblwiICtcbiAgICAgICAgICAgICAgICAgICAgXCJcXHRpcyBubyBsb25nZXIgYSBUb2tlbiB2ZWN0b3IgKHNpbmNlIHY0LjApLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgdG9rZW5Wb2NhYnVsYXJ5WzBdLnN0YXJ0T2Zmc2V0ID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJUaGUgUGFyc2VyIGNvbnN0cnVjdG9yIG5vIGxvbmdlciBhY2NlcHRzIGEgdG9rZW4gdmVjdG9yIGFzIHRoZSBmaXJzdCBhcmd1bWVudC5cXG5cIiArXG4gICAgICAgICAgICAgICAgICAgIFwiXFx0U2VlOiBodHRwczovL3NhcC5naXRodWIuaW8vY2hldnJvdGFpbi9kb2NzL2NoYW5nZXMvQlJFQUtJTkdfQ0hBTkdFUy5odG1sI180LTAtMFxcblwiICtcbiAgICAgICAgICAgICAgICAgICAgXCJcXHRGb3IgRnVydGhlciBkZXRhaWxzLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNBcnJheSh0b2tlblZvY2FidWxhcnkpKSB7XG4gICAgICAgICAgICB0aGlzLnRva2Vuc01hcCA9IHJlZHVjZSh0b2tlblZvY2FidWxhcnksIGZ1bmN0aW9uIChhY2MsIHRva1R5cGUpIHtcbiAgICAgICAgICAgICAgICBhY2NbdG9rVHlwZS5uYW1lXSA9IHRva1R5cGU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgICAgIH0sIHt9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChoYXModG9rZW5Wb2NhYnVsYXJ5LCBcIm1vZGVzXCIpICYmXG4gICAgICAgICAgICBldmVyeShmbGF0dGVuKHZhbHVlcyh0b2tlblZvY2FidWxhcnkubW9kZXMpKSwgaXNUb2tlblR5cGUpKSB7XG4gICAgICAgICAgICB2YXIgYWxsVG9rZW5UeXBlcyA9IGZsYXR0ZW4odmFsdWVzKHRva2VuVm9jYWJ1bGFyeS5tb2RlcykpO1xuICAgICAgICAgICAgdmFyIHVuaXF1ZVRva2VucyA9IHVuaXEoYWxsVG9rZW5UeXBlcyk7XG4gICAgICAgICAgICB0aGlzLnRva2Vuc01hcCA9IHJlZHVjZSh1bmlxdWVUb2tlbnMsIGZ1bmN0aW9uIChhY2MsIHRva1R5cGUpIHtcbiAgICAgICAgICAgICAgICBhY2NbdG9rVHlwZS5uYW1lXSA9IHRva1R5cGU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgICAgIH0sIHt9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc09iamVjdCh0b2tlblZvY2FidWxhcnkpKSB7XG4gICAgICAgICAgICB0aGlzLnRva2Vuc01hcCA9IGNsb25lT2JqKHRva2VuVm9jYWJ1bGFyeSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCI8dG9rZW5zRGljdGlvbmFyeT4gYXJndW1lbnQgbXVzdCBiZSBBbiBBcnJheSBvZiBUb2tlbiBjb25zdHJ1Y3RvcnMsXCIgK1xuICAgICAgICAgICAgICAgIFwiIEEgZGljdGlvbmFyeSBvZiBUb2tlbiBjb25zdHJ1Y3RvcnMgb3IgYW4gSU11bHRpTW9kZUxleGVyRGVmaW5pdGlvblwiKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBhbHdheXMgYWRkIEVPRiB0byB0aGUgdG9rZW5OYW1lcyAtPiBjb25zdHJ1Y3RvcnMgbWFwLiBpdCBpcyB1c2VmdWwgdG8gYXNzdXJlIGFsbCB0aGUgaW5wdXQgaGFzIGJlZW5cbiAgICAgICAgLy8gcGFyc2VkIHdpdGggYSBjbGVhciBlcnJvciBtZXNzYWdlIChcImV4cGVjdGluZyBFT0YgYnV0IGZvdW5kIC4uLlwiKVxuICAgICAgICAvKiB0c2xpbnQ6ZGlzYWJsZSAqL1xuICAgICAgICB0aGlzLnRva2Vuc01hcFtcIkVPRlwiXSA9IEVPRjtcbiAgICAgICAgLy8gVE9ETzogVGhpcyBjaGVjayBtYXkgbm90IGJlIGFjY3VyYXRlIGZvciBtdWx0aSBtb2RlIGxleGVyc1xuICAgICAgICB2YXIgbm9Ub2tlbkNhdGVnb3JpZXNVc2VkID0gZXZlcnkodmFsdWVzKHRva2VuVm9jYWJ1bGFyeSksIGZ1bmN0aW9uICh0b2tlbkNvbnN0cnVjdG9yKSB7IHJldHVybiBpc0VtcHR5KHRva2VuQ29uc3RydWN0b3IuY2F0ZWdvcnlNYXRjaGVzKTsgfSk7XG4gICAgICAgIHRoaXMudG9rZW5NYXRjaGVyID0gbm9Ub2tlbkNhdGVnb3JpZXNVc2VkXG4gICAgICAgICAgICA/IHRva2VuU3RydWN0dXJlZE1hdGNoZXJOb0NhdGVnb3JpZXNcbiAgICAgICAgICAgIDogdG9rZW5TdHJ1Y3R1cmVkTWF0Y2hlcjtcbiAgICAgICAgLy8gQmVjYXVzZSBFUzIwMTUrIHN5bnRheCBzaG91bGQgYmUgc3VwcG9ydGVkIGZvciBjcmVhdGluZyBUb2tlbiBjbGFzc2VzXG4gICAgICAgIC8vIFdlIGNhbm5vdCBhc3N1bWUgdGhhdCB0aGUgVG9rZW4gY2xhc3NlcyB3ZXJlIGNyZWF0ZWQgdXNpbmcgdGhlIFwiZXh0ZW5kVG9rZW5cIiB1dGlsaXRpZXNcbiAgICAgICAgLy8gVGhlcmVmb3JlIHdlIG11c3QgYXVnbWVudCB0aGUgVG9rZW4gY2xhc3NlcyBib3RoIG9uIExleGVyIGluaXRpYWxpemF0aW9uIGFuZCBvbiBQYXJzZXIgaW5pdGlhbGl6YXRpb25cbiAgICAgICAgYXVnbWVudFRva2VuVHlwZXModmFsdWVzKHRoaXMudG9rZW5zTWFwKSk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyRW5naW5lLnByb3RvdHlwZS5kZWZpbmVSdWxlID0gZnVuY3Rpb24gKHJ1bGVOYW1lLCBpbXBsLCBjb25maWcpIHtcbiAgICAgICAgaWYgKHRoaXMuc2VsZkFuYWx5c2lzRG9uZSkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJHcmFtbWFyIHJ1bGUgPFwiICsgcnVsZU5hbWUgKyBcIj4gbWF5IG5vdCBiZSBkZWZpbmVkIGFmdGVyIHRoZSAncGVyZm9ybVNlbGZBbmFseXNpcycgbWV0aG9kIGhhcyBiZWVuIGNhbGxlZCdcXG5cIiArXG4gICAgICAgICAgICAgICAgXCJNYWtlIHN1cmUgdGhhdCBhbGwgZ3JhbW1hciBydWxlIGRlZmluaXRpb25zIGFyZSBkb25lIGJlZm9yZSAncGVyZm9ybVNlbGZBbmFseXNpcycgaXMgY2FsbGVkLlwiKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVzeW5jRW5hYmxlZCA9IGhhcyhjb25maWcsIFwicmVzeW5jRW5hYmxlZFwiKVxuICAgICAgICAgICAgPyBjb25maWcucmVzeW5jRW5hYmxlZFxuICAgICAgICAgICAgOiBERUZBVUxUX1JVTEVfQ09ORklHLnJlc3luY0VuYWJsZWQ7XG4gICAgICAgIHZhciByZWNvdmVyeVZhbHVlRnVuYyA9IGhhcyhjb25maWcsIFwicmVjb3ZlcnlWYWx1ZUZ1bmNcIilcbiAgICAgICAgICAgID8gY29uZmlnLnJlY292ZXJ5VmFsdWVGdW5jXG4gICAgICAgICAgICA6IERFRkFVTFRfUlVMRV9DT05GSUcucmVjb3ZlcnlWYWx1ZUZ1bmM7XG4gICAgICAgIC8vIHBlcmZvcm1hbmNlIG9wdGltaXphdGlvbjogVXNlIHNtYWxsIGludGVnZXJzIGFzIGtleXMgZm9yIHRoZSBsb25nZXIgaHVtYW4gcmVhZGFibGUgXCJmdWxsXCIgcnVsZSBuYW1lcy5cbiAgICAgICAgLy8gdGhpcyBncmVhdGx5IGltcHJvdmVzIE1hcCBhY2Nlc3MgdGltZSAoYXMgbXVjaCBhcyA4JSBmb3Igc29tZSBwZXJmb3JtYW5jZSBiZW5jaG1hcmtzKS5cbiAgICAgICAgLyogdHNsaW50OmRpc2FibGUgKi9cbiAgICAgICAgdmFyIHNob3J0TmFtZSA9IHRoaXMucnVsZVNob3J0TmFtZUlkeCA8PCAoQklUU19GT1JfTUVUSE9EX1RZUEUgKyBCSVRTX0ZPUl9PQ0NVUlJFTkNFX0lEWCk7XG4gICAgICAgIC8qIHRzbGludDplbmFibGUgKi9cbiAgICAgICAgdGhpcy5ydWxlU2hvcnROYW1lSWR4Kys7XG4gICAgICAgIHRoaXMuc2hvcnRSdWxlTmFtZVRvRnVsbFtzaG9ydE5hbWVdID0gcnVsZU5hbWU7XG4gICAgICAgIHRoaXMuZnVsbFJ1bGVOYW1lVG9TaG9ydFtydWxlTmFtZV0gPSBzaG9ydE5hbWU7XG4gICAgICAgIGZ1bmN0aW9uIGludm9rZVJ1bGVXaXRoVHJ5KGFyZ3MpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3V0cHV0Q3N0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGltcGwuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjc3QgPSB0aGlzLkNTVF9TVEFDS1t0aGlzLkNTVF9TVEFDSy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jc3RQb3N0UnVsZShjc3QpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3N0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGltcGwuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5pbnZva2VSdWxlQ2F0Y2goZSwgcmVzeW5jRW5hYmxlZCwgcmVjb3ZlcnlWYWx1ZUZ1bmMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ydWxlRmluYWxseVN0YXRlVXBkYXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHdyYXBwZWRHcmFtbWFyUnVsZTtcbiAgICAgICAgd3JhcHBlZEdyYW1tYXJSdWxlID0gZnVuY3Rpb24gKGlkeEluQ2FsbGluZ1J1bGUsIGFyZ3MpIHtcbiAgICAgICAgICAgIGlmIChpZHhJbkNhbGxpbmdSdWxlID09PSB2b2lkIDApIHsgaWR4SW5DYWxsaW5nUnVsZSA9IDA7IH1cbiAgICAgICAgICAgIHRoaXMucnVsZUludm9jYXRpb25TdGF0ZVVwZGF0ZShzaG9ydE5hbWUsIHJ1bGVOYW1lLCBpZHhJbkNhbGxpbmdSdWxlKTtcbiAgICAgICAgICAgIHJldHVybiBpbnZva2VSdWxlV2l0aFRyeS5jYWxsKHRoaXMsIGFyZ3MpO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgcnVsZU5hbWVQcm9wTmFtZSA9IFwicnVsZU5hbWVcIjtcbiAgICAgICAgd3JhcHBlZEdyYW1tYXJSdWxlW3J1bGVOYW1lUHJvcE5hbWVdID0gcnVsZU5hbWU7XG4gICAgICAgIHdyYXBwZWRHcmFtbWFyUnVsZVtcIm9yaWdpbmFsR3JhbW1hckFjdGlvblwiXSA9IGltcGw7XG4gICAgICAgIHJldHVybiB3cmFwcGVkR3JhbW1hclJ1bGU7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyRW5naW5lLnByb3RvdHlwZS5pbnZva2VSdWxlQ2F0Y2ggPSBmdW5jdGlvbiAoZSwgcmVzeW5jRW5hYmxlZENvbmZpZywgcmVjb3ZlcnlWYWx1ZUZ1bmMpIHtcbiAgICAgICAgdmFyIGlzRmlyc3RJbnZva2VkUnVsZSA9IHRoaXMuUlVMRV9TVEFDSy5sZW5ndGggPT09IDE7XG4gICAgICAgIC8vIG5vdGUgdGhlIHJlU3luYyBpcyBhbHdheXMgZW5hYmxlZCBmb3IgdGhlIGZpcnN0IHJ1bGUgaW52b2NhdGlvbiwgYmVjYXVzZSB3ZSBtdXN0IGFsd2F5cyBiZSBhYmxlIHRvXG4gICAgICAgIC8vIHJlU3luYyB3aXRoIEVPRiBhbmQganVzdCBvdXRwdXQgc29tZSBJTlZBTElEIFBhcnNlVHJlZVxuICAgICAgICAvLyBkdXJpbmcgYmFja3RyYWNraW5nIHJlU3luYyByZWNvdmVyeSBpcyBkaXNhYmxlZCwgb3RoZXJ3aXNlIHdlIGNhbid0IGJlIGNlcnRhaW4gdGhlIGJhY2t0cmFja2luZ1xuICAgICAgICAvLyBwYXRoIGlzIHJlYWxseSB0aGUgbW9zdCB2YWxpZCBvbmVcbiAgICAgICAgdmFyIHJlU3luY0VuYWJsZWQgPSByZXN5bmNFbmFibGVkQ29uZmlnICYmICF0aGlzLmlzQmFja1RyYWNraW5nKCkgJiYgdGhpcy5yZWNvdmVyeUVuYWJsZWQ7XG4gICAgICAgIGlmIChpc1JlY29nbml0aW9uRXhjZXB0aW9uKGUpKSB7XG4gICAgICAgICAgICB2YXIgcmVjb2dFcnJvciA9IGU7XG4gICAgICAgICAgICBpZiAocmVTeW5jRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIHZhciByZVN5bmNUb2tUeXBlID0gdGhpcy5maW5kUmVTeW5jVG9rZW5UeXBlKCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNJbkN1cnJlbnRSdWxlUmVTeW5jU2V0KHJlU3luY1Rva1R5cGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlY29nRXJyb3IucmVzeW5jZWRUb2tlbnMgPSB0aGlzLnJlU3luY1RvKHJlU3luY1Rva1R5cGUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5vdXRwdXRDc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYXJ0aWFsQ3N0UmVzdWx0ID0gdGhpcy5DU1RfU1RBQ0tbdGhpcy5DU1RfU1RBQ0subGVuZ3RoIC0gMV07XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJ0aWFsQ3N0UmVzdWx0LnJlY292ZXJlZE5vZGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcnRpYWxDc3RSZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVjb3ZlcnlWYWx1ZUZ1bmMoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMub3V0cHV0Q3N0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGFydGlhbENzdFJlc3VsdCA9IHRoaXMuQ1NUX1NUQUNLW3RoaXMuQ1NUX1NUQUNLLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFydGlhbENzdFJlc3VsdC5yZWNvdmVyZWROb2RlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlY29nRXJyb3IucGFydGlhbENzdFJlc3VsdCA9IHBhcnRpYWxDc3RSZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gdG8gYmUgaGFuZGxlZCBGdXJ0aGVyIHVwIHRoZSBjYWxsIHN0YWNrXG4gICAgICAgICAgICAgICAgICAgIHRocm93IHJlY29nRXJyb3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNGaXJzdEludm9rZWRSdWxlKSB7XG4gICAgICAgICAgICAgICAgLy8gb3RoZXJ3aXNlIGEgUmVkdW5kYW50IGlucHV0IGVycm9yIHdpbGwgYmUgY3JlYXRlZCBhcyB3ZWxsIGFuZCB3ZSBjYW5ub3QgZ3VhcmFudGVlIHRoYXQgdGhpcyBpcyBpbmRlZWQgdGhlIGNhc2VcbiAgICAgICAgICAgICAgICB0aGlzLm1vdmVUb1Rlcm1pbmF0ZWRTdGF0ZSgpO1xuICAgICAgICAgICAgICAgIC8vIHRoZSBwYXJzZXIgc2hvdWxkIG5ldmVyIHRocm93IG9uZSBvZiBpdHMgb3duIGVycm9ycyBvdXRzaWRlIGl0cyBmbG93LlxuICAgICAgICAgICAgICAgIC8vIGV2ZW4gaWYgZXJyb3IgcmVjb3ZlcnkgaXMgZGlzYWJsZWRcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVjb3ZlcnlWYWx1ZUZ1bmMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIHRvIGJlIHJlY292ZXJlZCBGdXJ0aGVyIHVwIHRoZSBjYWxsIHN0YWNrXG4gICAgICAgICAgICAgICAgdGhyb3cgcmVjb2dFcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIHNvbWUgb3RoZXIgRXJyb3IgdHlwZSB3aGljaCB3ZSBkb24ndCBrbm93IGhvdyB0byBoYW5kbGUgKGZvciBleGFtcGxlIGEgYnVpbHQgaW4gSmF2YVNjcmlwdCBFcnJvcilcbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8vIEltcGxlbWVudGF0aW9uIG9mIHBhcnNpbmcgRFNMXG4gICAgUmVjb2duaXplckVuZ2luZS5wcm90b3R5cGUub3B0aW9uSW50ZXJuYWwgPSBmdW5jdGlvbiAoYWN0aW9uT1JNZXRob2REZWYsIG9jY3VycmVuY2UpIHtcbiAgICAgICAgdmFyIGtleSA9IHRoaXMuZ2V0S2V5Rm9yQXV0b21hdGljTG9va2FoZWFkKE9QVElPTl9JRFgsIG9jY3VycmVuY2UpO1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25JbnRlcm5hbExvZ2ljKGFjdGlvbk9STWV0aG9kRGVmLCBvY2N1cnJlbmNlLCBrZXkpO1xuICAgIH07XG4gICAgUmVjb2duaXplckVuZ2luZS5wcm90b3R5cGUub3B0aW9uSW50ZXJuYWxMb2dpYyA9IGZ1bmN0aW9uIChhY3Rpb25PUk1ldGhvZERlZiwgb2NjdXJyZW5jZSwga2V5KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBsb29rQWhlYWRGdW5jID0gdGhpcy5nZXRMYUZ1bmNGcm9tQ2FjaGUoa2V5KTtcbiAgICAgICAgdmFyIGFjdGlvbjtcbiAgICAgICAgdmFyIHByZWRpY2F0ZTtcbiAgICAgICAgaWYgKGFjdGlvbk9STWV0aG9kRGVmLkRFRiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBhY3Rpb24gPSBhY3Rpb25PUk1ldGhvZERlZi5ERUY7XG4gICAgICAgICAgICBwcmVkaWNhdGUgPSBhY3Rpb25PUk1ldGhvZERlZi5HQVRFO1xuICAgICAgICAgICAgLy8gcHJlZGljYXRlIHByZXNlbnRcbiAgICAgICAgICAgIGlmIChwcmVkaWNhdGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHZhciBvcmdMb29rYWhlYWRGdW5jdGlvbl8xID0gbG9va0FoZWFkRnVuYztcbiAgICAgICAgICAgICAgICBsb29rQWhlYWRGdW5jID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJlZGljYXRlLmNhbGwoX3RoaXMpICYmIG9yZ0xvb2thaGVhZEZ1bmN0aW9uXzEuY2FsbChfdGhpcyk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGFjdGlvbiA9IGFjdGlvbk9STWV0aG9kRGVmO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsb29rQWhlYWRGdW5jLmNhbGwodGhpcykgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHJldHVybiBhY3Rpb24uY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgUmVjb2duaXplckVuZ2luZS5wcm90b3R5cGUuYXRMZWFzdE9uZUludGVybmFsID0gZnVuY3Rpb24gKHByb2RPY2N1cnJlbmNlLCBhY3Rpb25PUk1ldGhvZERlZikge1xuICAgICAgICB2YXIgbGFLZXkgPSB0aGlzLmdldEtleUZvckF1dG9tYXRpY0xvb2thaGVhZChBVF9MRUFTVF9PTkVfSURYLCBwcm9kT2NjdXJyZW5jZSk7XG4gICAgICAgIHJldHVybiB0aGlzLmF0TGVhc3RPbmVJbnRlcm5hbExvZ2ljKHByb2RPY2N1cnJlbmNlLCBhY3Rpb25PUk1ldGhvZERlZiwgbGFLZXkpO1xuICAgIH07XG4gICAgUmVjb2duaXplckVuZ2luZS5wcm90b3R5cGUuYXRMZWFzdE9uZUludGVybmFsTG9naWMgPSBmdW5jdGlvbiAocHJvZE9jY3VycmVuY2UsIGFjdGlvbk9STWV0aG9kRGVmLCBrZXkpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGxvb2tBaGVhZEZ1bmMgPSB0aGlzLmdldExhRnVuY0Zyb21DYWNoZShrZXkpO1xuICAgICAgICB2YXIgYWN0aW9uO1xuICAgICAgICB2YXIgcHJlZGljYXRlO1xuICAgICAgICBpZiAoYWN0aW9uT1JNZXRob2REZWYuREVGICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGFjdGlvbiA9IGFjdGlvbk9STWV0aG9kRGVmLkRFRjtcbiAgICAgICAgICAgIHByZWRpY2F0ZSA9IGFjdGlvbk9STWV0aG9kRGVmLkdBVEU7XG4gICAgICAgICAgICAvLyBwcmVkaWNhdGUgcHJlc2VudFxuICAgICAgICAgICAgaWYgKHByZWRpY2F0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdmFyIG9yZ0xvb2thaGVhZEZ1bmN0aW9uXzIgPSBsb29rQWhlYWRGdW5jO1xuICAgICAgICAgICAgICAgIGxvb2tBaGVhZEZ1bmMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmVkaWNhdGUuY2FsbChfdGhpcykgJiYgb3JnTG9va2FoZWFkRnVuY3Rpb25fMi5jYWxsKF90aGlzKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYWN0aW9uID0gYWN0aW9uT1JNZXRob2REZWY7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxvb2tBaGVhZEZ1bmMuY2FsbCh0aGlzKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgdmFyIG5vdFN0dWNrID0gdGhpcy5kb1NpbmdsZVJlcGV0aXRpb24oYWN0aW9uKTtcbiAgICAgICAgICAgIHdoaWxlIChsb29rQWhlYWRGdW5jLmNhbGwodGhpcykgPT09IHRydWUgJiZcbiAgICAgICAgICAgICAgICBub3RTdHVjayA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIG5vdFN0dWNrID0gdGhpcy5kb1NpbmdsZVJlcGV0aXRpb24oYWN0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IHRoaXMucmFpc2VFYXJseUV4aXRFeGNlcHRpb24ocHJvZE9jY3VycmVuY2UsIFBST0RfVFlQRS5SRVBFVElUSU9OX01BTkRBVE9SWSwgYWN0aW9uT1JNZXRob2REZWYuRVJSX01TRyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbm90ZSB0aGF0IHdoaWxlIGl0IG1heSBzZWVtIHRoYXQgdGhpcyBjYW4gY2F1c2UgYW4gZXJyb3IgYmVjYXVzZSBieSB1c2luZyBhIHJlY3Vyc2l2ZSBjYWxsIHRvXG4gICAgICAgIC8vIEFUX0xFQVNUX09ORSB3ZSBjaGFuZ2UgdGhlIGdyYW1tYXIgdG8gQVRfTEVBU1RfVFdPLCBBVF9MRUFTVF9USFJFRSAuLi4gLCB0aGUgcG9zc2libGUgcmVjdXJzaXZlIGNhbGxcbiAgICAgICAgLy8gZnJvbSB0aGUgdHJ5SW5SZXBldGl0aW9uUmVjb3ZlcnkoLi4uKSB3aWxsIG9ubHkgaGFwcGVuIElGRiB0aGVyZSByZWFsbHkgYXJlIFRXTy9USFJFRS8uLi4uIGl0ZW1zLlxuICAgICAgICAvLyBQZXJmb3JtYW5jZSBvcHRpbWl6YXRpb246IFwiYXR0ZW1wdEluUmVwZXRpdGlvblJlY292ZXJ5XCIgd2lsbCBiZSBkZWZpbmVkIGFzIE5PT1AgdW5sZXNzIHJlY292ZXJ5IGlzIGVuYWJsZWRcbiAgICAgICAgdGhpcy5hdHRlbXB0SW5SZXBldGl0aW9uUmVjb3ZlcnkodGhpcy5hdExlYXN0T25lSW50ZXJuYWwsIFtwcm9kT2NjdXJyZW5jZSwgYWN0aW9uT1JNZXRob2REZWZdLCBsb29rQWhlYWRGdW5jLCBBVF9MRUFTVF9PTkVfSURYLCBwcm9kT2NjdXJyZW5jZSwgTmV4dFRlcm1pbmFsQWZ0ZXJBdExlYXN0T25lV2Fsa2VyKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJFbmdpbmUucHJvdG90eXBlLmF0TGVhc3RPbmVTZXBGaXJzdEludGVybmFsID0gZnVuY3Rpb24gKHByb2RPY2N1cnJlbmNlLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBsYUtleSA9IHRoaXMuZ2V0S2V5Rm9yQXV0b21hdGljTG9va2FoZWFkKEFUX0xFQVNUX09ORV9TRVBfSURYLCBwcm9kT2NjdXJyZW5jZSk7XG4gICAgICAgIHRoaXMuYXRMZWFzdE9uZVNlcEZpcnN0SW50ZXJuYWxMb2dpYyhwcm9kT2NjdXJyZW5jZSwgb3B0aW9ucywgbGFLZXkpO1xuICAgIH07XG4gICAgUmVjb2duaXplckVuZ2luZS5wcm90b3R5cGUuYXRMZWFzdE9uZVNlcEZpcnN0SW50ZXJuYWxMb2dpYyA9IGZ1bmN0aW9uIChwcm9kT2NjdXJyZW5jZSwgb3B0aW9ucywga2V5KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBhY3Rpb24gPSBvcHRpb25zLkRFRjtcbiAgICAgICAgdmFyIHNlcGFyYXRvciA9IG9wdGlvbnMuU0VQO1xuICAgICAgICB2YXIgZmlyc3RJdGVyYXRpb25Mb29rYWhlYWRGdW5jID0gdGhpcy5nZXRMYUZ1bmNGcm9tQ2FjaGUoa2V5KTtcbiAgICAgICAgLy8gMXN0IGl0ZXJhdGlvblxuICAgICAgICBpZiAoZmlyc3RJdGVyYXRpb25Mb29rYWhlYWRGdW5jLmNhbGwodGhpcykgPT09IHRydWUpIHtcbiAgICAgICAgICAgIDtcbiAgICAgICAgICAgIGFjdGlvbi5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgLy8gIFRPRE86IE9wdGltaXphdGlvbiBjYW4gbW92ZSB0aGlzIGZ1bmN0aW9uIGNvbnN0cnVjdGlvbiBpbnRvIFwiYXR0ZW1wdEluUmVwZXRpdGlvblJlY292ZXJ5XCJcbiAgICAgICAgICAgIC8vICBiZWNhdXNlIGl0IGlzIG9ubHkgbmVlZGVkIGluIGVycm9yIHJlY292ZXJ5IHNjZW5hcmlvcy5cbiAgICAgICAgICAgIHZhciBzZXBhcmF0b3JMb29rQWhlYWRGdW5jID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy50b2tlbk1hdGNoZXIoX3RoaXMuTEEoMSksIHNlcGFyYXRvcik7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gMm5kLi5udGggaXRlcmF0aW9uc1xuICAgICAgICAgICAgd2hpbGUgKHRoaXMudG9rZW5NYXRjaGVyKHRoaXMuTEEoMSksIHNlcGFyYXRvcikgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAvLyBub3RlIHRoYXQgdGhpcyBDT05TVU1FIHdpbGwgbmV2ZXIgZW50ZXIgcmVjb3ZlcnkgYmVjYXVzZVxuICAgICAgICAgICAgICAgIC8vIHRoZSBzZXBhcmF0b3JMb29rQWhlYWRGdW5jIGNoZWNrcyB0aGF0IHRoZSBzZXBhcmF0b3IgcmVhbGx5IGRvZXMgZXhpc3QuXG4gICAgICAgICAgICAgICAgdGhpcy5DT05TVU1FKHNlcGFyYXRvcik7XG4gICAgICAgICAgICAgICAgYWN0aW9uLmNhbGwodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBQZXJmb3JtYW5jZSBvcHRpbWl6YXRpb246IFwiYXR0ZW1wdEluUmVwZXRpdGlvblJlY292ZXJ5XCIgd2lsbCBiZSBkZWZpbmVkIGFzIE5PT1AgdW5sZXNzIHJlY292ZXJ5IGlzIGVuYWJsZWRcbiAgICAgICAgICAgIHRoaXMuYXR0ZW1wdEluUmVwZXRpdGlvblJlY292ZXJ5KHRoaXMucmVwZXRpdGlvblNlcFNlY29uZEludGVybmFsLCBbXG4gICAgICAgICAgICAgICAgcHJvZE9jY3VycmVuY2UsXG4gICAgICAgICAgICAgICAgc2VwYXJhdG9yLFxuICAgICAgICAgICAgICAgIHNlcGFyYXRvckxvb2tBaGVhZEZ1bmMsXG4gICAgICAgICAgICAgICAgYWN0aW9uLFxuICAgICAgICAgICAgICAgIE5leHRUZXJtaW5hbEFmdGVyQXRMZWFzdE9uZVNlcFdhbGtlclxuICAgICAgICAgICAgXSwgc2VwYXJhdG9yTG9va0FoZWFkRnVuYywgQVRfTEVBU1RfT05FX1NFUF9JRFgsIHByb2RPY2N1cnJlbmNlLCBOZXh0VGVybWluYWxBZnRlckF0TGVhc3RPbmVTZXBXYWxrZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgdGhpcy5yYWlzZUVhcmx5RXhpdEV4Y2VwdGlvbihwcm9kT2NjdXJyZW5jZSwgUFJPRF9UWVBFLlJFUEVUSVRJT05fTUFOREFUT1JZX1dJVEhfU0VQQVJBVE9SLCBvcHRpb25zLkVSUl9NU0cpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBSZWNvZ25pemVyRW5naW5lLnByb3RvdHlwZS5tYW55SW50ZXJuYWwgPSBmdW5jdGlvbiAocHJvZE9jY3VycmVuY2UsIGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHZhciBsYUtleSA9IHRoaXMuZ2V0S2V5Rm9yQXV0b21hdGljTG9va2FoZWFkKE1BTllfSURYLCBwcm9kT2NjdXJyZW5jZSk7XG4gICAgICAgIHJldHVybiB0aGlzLm1hbnlJbnRlcm5hbExvZ2ljKHByb2RPY2N1cnJlbmNlLCBhY3Rpb25PUk1ldGhvZERlZiwgbGFLZXkpO1xuICAgIH07XG4gICAgUmVjb2duaXplckVuZ2luZS5wcm90b3R5cGUubWFueUludGVybmFsTG9naWMgPSBmdW5jdGlvbiAocHJvZE9jY3VycmVuY2UsIGFjdGlvbk9STWV0aG9kRGVmLCBrZXkpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGxvb2thaGVhZEZ1bmN0aW9uID0gdGhpcy5nZXRMYUZ1bmNGcm9tQ2FjaGUoa2V5KTtcbiAgICAgICAgdmFyIGFjdGlvbjtcbiAgICAgICAgdmFyIHByZWRpY2F0ZTtcbiAgICAgICAgaWYgKGFjdGlvbk9STWV0aG9kRGVmLkRFRiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBhY3Rpb24gPSBhY3Rpb25PUk1ldGhvZERlZi5ERUY7XG4gICAgICAgICAgICBwcmVkaWNhdGUgPSBhY3Rpb25PUk1ldGhvZERlZi5HQVRFO1xuICAgICAgICAgICAgLy8gcHJlZGljYXRlIHByZXNlbnRcbiAgICAgICAgICAgIGlmIChwcmVkaWNhdGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHZhciBvcmdMb29rYWhlYWRGdW5jdGlvbl8zID0gbG9va2FoZWFkRnVuY3Rpb247XG4gICAgICAgICAgICAgICAgbG9va2FoZWFkRnVuY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmVkaWNhdGUuY2FsbChfdGhpcykgJiYgb3JnTG9va2FoZWFkRnVuY3Rpb25fMy5jYWxsKF90aGlzKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYWN0aW9uID0gYWN0aW9uT1JNZXRob2REZWY7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG5vdFN0dWNrID0gdHJ1ZTtcbiAgICAgICAgd2hpbGUgKGxvb2thaGVhZEZ1bmN0aW9uLmNhbGwodGhpcykgPT09IHRydWUgJiYgbm90U3R1Y2sgPT09IHRydWUpIHtcbiAgICAgICAgICAgIG5vdFN0dWNrID0gdGhpcy5kb1NpbmdsZVJlcGV0aXRpb24oYWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBQZXJmb3JtYW5jZSBvcHRpbWl6YXRpb246IFwiYXR0ZW1wdEluUmVwZXRpdGlvblJlY292ZXJ5XCIgd2lsbCBiZSBkZWZpbmVkIGFzIE5PT1AgdW5sZXNzIHJlY292ZXJ5IGlzIGVuYWJsZWRcbiAgICAgICAgdGhpcy5hdHRlbXB0SW5SZXBldGl0aW9uUmVjb3ZlcnkodGhpcy5tYW55SW50ZXJuYWwsIFtwcm9kT2NjdXJyZW5jZSwgYWN0aW9uT1JNZXRob2REZWZdLCBsb29rYWhlYWRGdW5jdGlvbiwgTUFOWV9JRFgsIHByb2RPY2N1cnJlbmNlLCBOZXh0VGVybWluYWxBZnRlck1hbnlXYWxrZXIsIFxuICAgICAgICAvLyBUaGUgbm90U3R1Y2sgcGFyYW1ldGVyIGlzIG9ubHkgcmVsZXZhbnQgd2hlbiBcImF0dGVtcHRJblJlcGV0aXRpb25SZWNvdmVyeVwiXG4gICAgICAgIC8vIGlzIGludm9rZWQgZnJvbSBtYW55SW50ZXJuYWwsIGluIHRoZSBNQU5ZX1NFUCBjYXNlIGFuZCBBVF9MRUFTVF9PTkVbX1NFUF1cbiAgICAgICAgLy8gQW4gaW5maW5pdGUgbG9vcCBjYW5ub3Qgb2NjdXIgYXM6XG4gICAgICAgIC8vIC0gRWl0aGVyIHRoZSBsb29rYWhlYWQgaXMgZ3VhcmFudGVlZCB0byBjb25zdW1lIHNvbWV0aGluZyAoU2luZ2xlIFRva2VuIFNlcGFyYXRvcilcbiAgICAgICAgLy8gLSBBVF9MRUFTVF9PTkUgYnkgZGVmaW5pdGlvbiBpcyBndWFyYW50ZWVkIHRvIGNvbnN1bWUgc29tZXRoaW5nIChvciBlcnJvciBvdXQpLlxuICAgICAgICBub3RTdHVjayk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyRW5naW5lLnByb3RvdHlwZS5tYW55U2VwRmlyc3RJbnRlcm5hbCA9IGZ1bmN0aW9uIChwcm9kT2NjdXJyZW5jZSwgb3B0aW9ucykge1xuICAgICAgICB2YXIgbGFLZXkgPSB0aGlzLmdldEtleUZvckF1dG9tYXRpY0xvb2thaGVhZChNQU5ZX1NFUF9JRFgsIHByb2RPY2N1cnJlbmNlKTtcbiAgICAgICAgdGhpcy5tYW55U2VwRmlyc3RJbnRlcm5hbExvZ2ljKHByb2RPY2N1cnJlbmNlLCBvcHRpb25zLCBsYUtleSk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyRW5naW5lLnByb3RvdHlwZS5tYW55U2VwRmlyc3RJbnRlcm5hbExvZ2ljID0gZnVuY3Rpb24gKHByb2RPY2N1cnJlbmNlLCBvcHRpb25zLCBrZXkpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGFjdGlvbiA9IG9wdGlvbnMuREVGO1xuICAgICAgICB2YXIgc2VwYXJhdG9yID0gb3B0aW9ucy5TRVA7XG4gICAgICAgIHZhciBmaXJzdEl0ZXJhdGlvbkxhRnVuYyA9IHRoaXMuZ2V0TGFGdW5jRnJvbUNhY2hlKGtleSk7XG4gICAgICAgIC8vIDFzdCBpdGVyYXRpb25cbiAgICAgICAgaWYgKGZpcnN0SXRlcmF0aW9uTGFGdW5jLmNhbGwodGhpcykgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGFjdGlvbi5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgdmFyIHNlcGFyYXRvckxvb2tBaGVhZEZ1bmMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnRva2VuTWF0Y2hlcihfdGhpcy5MQSgxKSwgc2VwYXJhdG9yKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyAybmQuLm50aCBpdGVyYXRpb25zXG4gICAgICAgICAgICB3aGlsZSAodGhpcy50b2tlbk1hdGNoZXIodGhpcy5MQSgxKSwgc2VwYXJhdG9yKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIC8vIG5vdGUgdGhhdCB0aGlzIENPTlNVTUUgd2lsbCBuZXZlciBlbnRlciByZWNvdmVyeSBiZWNhdXNlXG4gICAgICAgICAgICAgICAgLy8gdGhlIHNlcGFyYXRvckxvb2tBaGVhZEZ1bmMgY2hlY2tzIHRoYXQgdGhlIHNlcGFyYXRvciByZWFsbHkgZG9lcyBleGlzdC5cbiAgICAgICAgICAgICAgICB0aGlzLkNPTlNVTUUoc2VwYXJhdG9yKTtcbiAgICAgICAgICAgICAgICAvLyBObyBuZWVkIGZvciBjaGVja2luZyBpbmZpbml0ZSBsb29wIGhlcmUgZHVlIHRvIGNvbnN1bWluZyB0aGUgc2VwYXJhdG9yLlxuICAgICAgICAgICAgICAgIGFjdGlvbi5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUGVyZm9ybWFuY2Ugb3B0aW1pemF0aW9uOiBcImF0dGVtcHRJblJlcGV0aXRpb25SZWNvdmVyeVwiIHdpbGwgYmUgZGVmaW5lZCBhcyBOT09QIHVubGVzcyByZWNvdmVyeSBpcyBlbmFibGVkXG4gICAgICAgICAgICB0aGlzLmF0dGVtcHRJblJlcGV0aXRpb25SZWNvdmVyeSh0aGlzLnJlcGV0aXRpb25TZXBTZWNvbmRJbnRlcm5hbCwgW1xuICAgICAgICAgICAgICAgIHByb2RPY2N1cnJlbmNlLFxuICAgICAgICAgICAgICAgIHNlcGFyYXRvcixcbiAgICAgICAgICAgICAgICBzZXBhcmF0b3JMb29rQWhlYWRGdW5jLFxuICAgICAgICAgICAgICAgIGFjdGlvbixcbiAgICAgICAgICAgICAgICBOZXh0VGVybWluYWxBZnRlck1hbnlTZXBXYWxrZXJcbiAgICAgICAgICAgIF0sIHNlcGFyYXRvckxvb2tBaGVhZEZ1bmMsIE1BTllfU0VQX0lEWCwgcHJvZE9jY3VycmVuY2UsIE5leHRUZXJtaW5hbEFmdGVyTWFueVNlcFdhbGtlcik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJlY29nbml6ZXJFbmdpbmUucHJvdG90eXBlLnJlcGV0aXRpb25TZXBTZWNvbmRJbnRlcm5hbCA9IGZ1bmN0aW9uIChwcm9kT2NjdXJyZW5jZSwgc2VwYXJhdG9yLCBzZXBhcmF0b3JMb29rQWhlYWRGdW5jLCBhY3Rpb24sIG5leHRUZXJtaW5hbEFmdGVyV2Fsa2VyKSB7XG4gICAgICAgIHdoaWxlIChzZXBhcmF0b3JMb29rQWhlYWRGdW5jKCkpIHtcbiAgICAgICAgICAgIC8vIG5vdGUgdGhhdCB0aGlzIENPTlNVTUUgd2lsbCBuZXZlciBlbnRlciByZWNvdmVyeSBiZWNhdXNlXG4gICAgICAgICAgICAvLyB0aGUgc2VwYXJhdG9yTG9va0FoZWFkRnVuYyBjaGVja3MgdGhhdCB0aGUgc2VwYXJhdG9yIHJlYWxseSBkb2VzIGV4aXN0LlxuICAgICAgICAgICAgdGhpcy5DT05TVU1FKHNlcGFyYXRvcik7XG4gICAgICAgICAgICBhY3Rpb24uY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB3ZSBjYW4gb25seSBhcnJpdmUgdG8gdGhpcyBmdW5jdGlvbiBhZnRlciBhbiBlcnJvclxuICAgICAgICAvLyBoYXMgb2NjdXJyZWQgKGhlbmNlIHRoZSBuYW1lICdzZWNvbmQnKSBzbyB0aGUgZm9sbG93aW5nXG4gICAgICAgIC8vIElGIHdpbGwgYWx3YXlzIGJlIGVudGVyZWQsIGl0cyBwb3NzaWJsZSB0byByZW1vdmUgaXQuLi5cbiAgICAgICAgLy8gaG93ZXZlciBpdCBpcyBrZXB0IHRvIGF2b2lkIGNvbmZ1c2lvbiBhbmQgYmUgY29uc2lzdGVudC5cbiAgICAgICAgLy8gUGVyZm9ybWFuY2Ugb3B0aW1pemF0aW9uOiBcImF0dGVtcHRJblJlcGV0aXRpb25SZWNvdmVyeVwiIHdpbGwgYmUgZGVmaW5lZCBhcyBOT09QIHVubGVzcyByZWNvdmVyeSBpcyBlbmFibGVkXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgIHRoaXMuYXR0ZW1wdEluUmVwZXRpdGlvblJlY292ZXJ5KHRoaXMucmVwZXRpdGlvblNlcFNlY29uZEludGVybmFsLCBbXG4gICAgICAgICAgICBwcm9kT2NjdXJyZW5jZSxcbiAgICAgICAgICAgIHNlcGFyYXRvcixcbiAgICAgICAgICAgIHNlcGFyYXRvckxvb2tBaGVhZEZ1bmMsXG4gICAgICAgICAgICBhY3Rpb24sXG4gICAgICAgICAgICBuZXh0VGVybWluYWxBZnRlcldhbGtlclxuICAgICAgICBdLCBzZXBhcmF0b3JMb29rQWhlYWRGdW5jLCBBVF9MRUFTVF9PTkVfU0VQX0lEWCwgcHJvZE9jY3VycmVuY2UsIG5leHRUZXJtaW5hbEFmdGVyV2Fsa2VyKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJFbmdpbmUucHJvdG90eXBlLmRvU2luZ2xlUmVwZXRpdGlvbiA9IGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICAgICAgdmFyIGJlZm9yZUl0ZXJhdGlvbiA9IHRoaXMuZ2V0TGV4ZXJQb3NpdGlvbigpO1xuICAgICAgICBhY3Rpb24uY2FsbCh0aGlzKTtcbiAgICAgICAgdmFyIGFmdGVySXRlcmF0aW9uID0gdGhpcy5nZXRMZXhlclBvc2l0aW9uKCk7XG4gICAgICAgIC8vIFRoaXMgYm9vbGVhbiB3aWxsIGluZGljYXRlIGlmIHRoaXMgcmVwZXRpdGlvbiBwcm9ncmVzc2VkXG4gICAgICAgIC8vIG9yIGlmIHdlIGFyZSBcInN0dWNrXCIgKHBvdGVudGlhbCBpbmZpbml0ZSBsb29wIGluIHRoZSByZXBldGl0aW9uKS5cbiAgICAgICAgcmV0dXJuIGFmdGVySXRlcmF0aW9uID4gYmVmb3JlSXRlcmF0aW9uO1xuICAgIH07XG4gICAgUmVjb2duaXplckVuZ2luZS5wcm90b3R5cGUub3JJbnRlcm5hbCA9IGZ1bmN0aW9uIChhbHRzT3JPcHRzLCBvY2N1cnJlbmNlKSB7XG4gICAgICAgIHZhciBsYUtleSA9IHRoaXMuZ2V0S2V5Rm9yQXV0b21hdGljTG9va2FoZWFkKE9SX0lEWCwgb2NjdXJyZW5jZSk7XG4gICAgICAgIHZhciBhbHRzID0gaXNBcnJheShhbHRzT3JPcHRzKVxuICAgICAgICAgICAgPyBhbHRzT3JPcHRzXG4gICAgICAgICAgICA6IGFsdHNPck9wdHMuREVGO1xuICAgICAgICB2YXIgbGFGdW5jID0gdGhpcy5nZXRMYUZ1bmNGcm9tQ2FjaGUobGFLZXkpO1xuICAgICAgICB2YXIgYWx0SWR4VG9UYWtlID0gbGFGdW5jLmNhbGwodGhpcywgYWx0cyk7XG4gICAgICAgIGlmIChhbHRJZHhUb1Rha2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdmFyIGNob3NlbkFsdGVybmF0aXZlID0gYWx0c1thbHRJZHhUb1Rha2VdO1xuICAgICAgICAgICAgcmV0dXJuIGNob3NlbkFsdGVybmF0aXZlLkFMVC5jYWxsKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmFpc2VOb0FsdEV4Y2VwdGlvbihvY2N1cnJlbmNlLCBhbHRzT3JPcHRzLkVSUl9NU0cpO1xuICAgIH07XG4gICAgUmVjb2duaXplckVuZ2luZS5wcm90b3R5cGUucnVsZUZpbmFsbHlTdGF0ZVVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5SVUxFX1NUQUNLLnBvcCgpO1xuICAgICAgICB0aGlzLlJVTEVfT0NDVVJSRU5DRV9TVEFDSy5wb3AoKTtcbiAgICAgICAgLy8gTk9PUCB3aGVuIGNzdCBpcyBkaXNhYmxlZFxuICAgICAgICB0aGlzLmNzdEZpbmFsbHlTdGF0ZVVwZGF0ZSgpO1xuICAgICAgICBpZiAodGhpcy5SVUxFX1NUQUNLLmxlbmd0aCA9PT0gMCAmJiB0aGlzLmlzQXRFbmRPZklucHV0KCkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB2YXIgZmlyc3RSZWR1bmRhbnRUb2sgPSB0aGlzLkxBKDEpO1xuICAgICAgICAgICAgdmFyIGVyck1zZyA9IHRoaXMuZXJyb3JNZXNzYWdlUHJvdmlkZXIuYnVpbGROb3RBbGxJbnB1dFBhcnNlZE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgIGZpcnN0UmVkdW5kYW50OiBmaXJzdFJlZHVuZGFudFRvayxcbiAgICAgICAgICAgICAgICBydWxlTmFtZTogdGhpcy5nZXRDdXJyUnVsZUZ1bGxOYW1lKClcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5TQVZFX0VSUk9SKG5ldyBOb3RBbGxJbnB1dFBhcnNlZEV4Y2VwdGlvbihlcnJNc2csIGZpcnN0UmVkdW5kYW50VG9rKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJlY29nbml6ZXJFbmdpbmUucHJvdG90eXBlLnN1YnJ1bGVJbnRlcm5hbCA9IGZ1bmN0aW9uIChydWxlVG9DYWxsLCBpZHgsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIHJ1bGVSZXN1bHQ7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgYXJncyA9IG9wdGlvbnMgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuQVJHUyA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHJ1bGVSZXN1bHQgPSBydWxlVG9DYWxsLmNhbGwodGhpcywgaWR4LCBhcmdzKTtcbiAgICAgICAgICAgIHRoaXMuY3N0UG9zdE5vblRlcm1pbmFsKHJ1bGVSZXN1bHQsIG9wdGlvbnMgIT09IHVuZGVmaW5lZCAmJiBvcHRpb25zLkxBQkVMICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IG9wdGlvbnMuTEFCRUxcbiAgICAgICAgICAgICAgICA6IHJ1bGVUb0NhbGwucnVsZU5hbWUpO1xuICAgICAgICAgICAgcmV0dXJuIHJ1bGVSZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRoaXMuc3VicnVsZUludGVybmFsRXJyb3IoZSwgb3B0aW9ucywgcnVsZVRvQ2FsbC5ydWxlTmFtZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJlY29nbml6ZXJFbmdpbmUucHJvdG90eXBlLnN1YnJ1bGVJbnRlcm5hbEVycm9yID0gZnVuY3Rpb24gKGUsIG9wdGlvbnMsIHJ1bGVOYW1lKSB7XG4gICAgICAgIGlmIChpc1JlY29nbml0aW9uRXhjZXB0aW9uKGUpICYmIGUucGFydGlhbENzdFJlc3VsdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmNzdFBvc3ROb25UZXJtaW5hbChlLnBhcnRpYWxDc3RSZXN1bHQsIG9wdGlvbnMgIT09IHVuZGVmaW5lZCAmJiBvcHRpb25zLkxBQkVMICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IG9wdGlvbnMuTEFCRUxcbiAgICAgICAgICAgICAgICA6IHJ1bGVOYW1lKTtcbiAgICAgICAgICAgIGRlbGV0ZSBlLnBhcnRpYWxDc3RSZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgZTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJFbmdpbmUucHJvdG90eXBlLmNvbnN1bWVJbnRlcm5hbCA9IGZ1bmN0aW9uICh0b2tUeXBlLCBpZHgsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGNvbnN1bWVkVG9rZW47XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgbmV4dFRva2VuID0gdGhpcy5MQSgxKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnRva2VuTWF0Y2hlcihuZXh0VG9rZW4sIHRva1R5cGUpID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb25zdW1lVG9rZW4oKTtcbiAgICAgICAgICAgICAgICBjb25zdW1lZFRva2VuID0gbmV4dFRva2VuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb25zdW1lSW50ZXJuYWxFcnJvcih0b2tUeXBlLCBuZXh0VG9rZW4sIG9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlRnJvbUNvbnN1bXB0aW9uKSB7XG4gICAgICAgICAgICBjb25zdW1lZFRva2VuID0gdGhpcy5jb25zdW1lSW50ZXJuYWxSZWNvdmVyeSh0b2tUeXBlLCBpZHgsIGVGcm9tQ29uc3VtcHRpb24pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3N0UG9zdFRlcm1pbmFsKG9wdGlvbnMgIT09IHVuZGVmaW5lZCAmJiBvcHRpb25zLkxBQkVMICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgID8gb3B0aW9ucy5MQUJFTFxuICAgICAgICAgICAgOiB0b2tUeXBlLm5hbWUsIGNvbnN1bWVkVG9rZW4pO1xuICAgICAgICByZXR1cm4gY29uc3VtZWRUb2tlbjtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJFbmdpbmUucHJvdG90eXBlLmNvbnN1bWVJbnRlcm5hbEVycm9yID0gZnVuY3Rpb24gKHRva1R5cGUsIG5leHRUb2tlbiwgb3B0aW9ucykge1xuICAgICAgICB2YXIgbXNnO1xuICAgICAgICB2YXIgcHJldmlvdXNUb2tlbiA9IHRoaXMuTEEoMCk7XG4gICAgICAgIGlmIChvcHRpb25zICE9PSB1bmRlZmluZWQgJiYgb3B0aW9ucy5FUlJfTVNHKSB7XG4gICAgICAgICAgICBtc2cgPSBvcHRpb25zLkVSUl9NU0c7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBtc2cgPSB0aGlzLmVycm9yTWVzc2FnZVByb3ZpZGVyLmJ1aWxkTWlzbWF0Y2hUb2tlbk1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiB0b2tUeXBlLFxuICAgICAgICAgICAgICAgIGFjdHVhbDogbmV4dFRva2VuLFxuICAgICAgICAgICAgICAgIHByZXZpb3VzOiBwcmV2aW91c1Rva2VuLFxuICAgICAgICAgICAgICAgIHJ1bGVOYW1lOiB0aGlzLmdldEN1cnJSdWxlRnVsbE5hbWUoKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgdGhpcy5TQVZFX0VSUk9SKG5ldyBNaXNtYXRjaGVkVG9rZW5FeGNlcHRpb24obXNnLCBuZXh0VG9rZW4sIHByZXZpb3VzVG9rZW4pKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJFbmdpbmUucHJvdG90eXBlLmNvbnN1bWVJbnRlcm5hbFJlY292ZXJ5ID0gZnVuY3Rpb24gKHRva1R5cGUsIGlkeCwgZUZyb21Db25zdW1wdGlvbikge1xuICAgICAgICAvLyBubyByZWNvdmVyeSBhbGxvd2VkIGR1cmluZyBiYWNrdHJhY2tpbmcsIG90aGVyd2lzZSBiYWNrdHJhY2tpbmcgbWF5IHJlY292ZXIgaW52YWxpZCBzeW50YXggYW5kIGFjY2VwdCBpdFxuICAgICAgICAvLyBidXQgdGhlIG9yaWdpbmFsIHN5bnRheCBjb3VsZCBoYXZlIGJlZW4gcGFyc2VkIHN1Y2Nlc3NmdWxseSB3aXRob3V0IGFueSBiYWNrdHJhY2tpbmcgKyByZWNvdmVyeVxuICAgICAgICBpZiAodGhpcy5yZWNvdmVyeUVuYWJsZWQgJiZcbiAgICAgICAgICAgIC8vIFRPRE86IG1vcmUgcm9idXN0IGNoZWNraW5nIG9mIHRoZSBleGNlcHRpb24gdHlwZS4gUGVyaGFwcyBUeXBlc2NyaXB0IGV4dGVuZGluZyBleHByZXNzaW9ucz9cbiAgICAgICAgICAgIGVGcm9tQ29uc3VtcHRpb24ubmFtZSA9PT0gXCJNaXNtYXRjaGVkVG9rZW5FeGNlcHRpb25cIiAmJlxuICAgICAgICAgICAgIXRoaXMuaXNCYWNrVHJhY2tpbmcoKSkge1xuICAgICAgICAgICAgdmFyIGZvbGxvd3MgPSB0aGlzLmdldEZvbGxvd3NGb3JJblJ1bGVSZWNvdmVyeSh0b2tUeXBlLCBpZHgpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy50cnlJblJ1bGVSZWNvdmVyeSh0b2tUeXBlLCBmb2xsb3dzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlRnJvbUluUnVsZVJlY292ZXJ5KSB7XG4gICAgICAgICAgICAgICAgaWYgKGVGcm9tSW5SdWxlUmVjb3ZlcnkubmFtZSA9PT0gSU5fUlVMRV9SRUNPVkVSWV9FWENFUFRJT04pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZmFpbGVkIGluIFJ1bGVSZWNvdmVyeS5cbiAgICAgICAgICAgICAgICAgICAgLy8gdGhyb3cgdGhlIG9yaWdpbmFsIGVycm9yIGluIG9yZGVyIHRvIHRyaWdnZXIgcmVTeW5jIGVycm9yIHJlY292ZXJ5XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVGcm9tQ29uc3VtcHRpb247XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlRnJvbUluUnVsZVJlY292ZXJ5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IGVGcm9tQ29uc3VtcHRpb247XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJlY29nbml6ZXJFbmdpbmUucHJvdG90eXBlLnNhdmVSZWNvZ1N0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBlcnJvcnMgaXMgYSBnZXR0ZXIgd2hpY2ggd2lsbCBjbG9uZSB0aGUgZXJyb3JzIGFycmF5XG4gICAgICAgIHZhciBzYXZlZEVycm9ycyA9IHRoaXMuZXJyb3JzO1xuICAgICAgICB2YXIgc2F2ZWRSdWxlU3RhY2sgPSBjbG9uZUFycih0aGlzLlJVTEVfU1RBQ0spO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZXJyb3JzOiBzYXZlZEVycm9ycyxcbiAgICAgICAgICAgIGxleGVyU3RhdGU6IHRoaXMuZXhwb3J0TGV4ZXJTdGF0ZSgpLFxuICAgICAgICAgICAgUlVMRV9TVEFDSzogc2F2ZWRSdWxlU3RhY2ssXG4gICAgICAgICAgICBDU1RfU1RBQ0s6IHRoaXMuQ1NUX1NUQUNLXG4gICAgICAgIH07XG4gICAgfTtcbiAgICBSZWNvZ25pemVyRW5naW5lLnByb3RvdHlwZS5yZWxvYWRSZWNvZ1N0YXRlID0gZnVuY3Rpb24gKG5ld1N0YXRlKSB7XG4gICAgICAgIHRoaXMuZXJyb3JzID0gbmV3U3RhdGUuZXJyb3JzO1xuICAgICAgICB0aGlzLmltcG9ydExleGVyU3RhdGUobmV3U3RhdGUubGV4ZXJTdGF0ZSk7XG4gICAgICAgIHRoaXMuUlVMRV9TVEFDSyA9IG5ld1N0YXRlLlJVTEVfU1RBQ0s7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyRW5naW5lLnByb3RvdHlwZS5ydWxlSW52b2NhdGlvblN0YXRlVXBkYXRlID0gZnVuY3Rpb24gKHNob3J0TmFtZSwgZnVsbE5hbWUsIGlkeEluQ2FsbGluZ1J1bGUpIHtcbiAgICAgICAgdGhpcy5SVUxFX09DQ1VSUkVOQ0VfU1RBQ0sucHVzaChpZHhJbkNhbGxpbmdSdWxlKTtcbiAgICAgICAgdGhpcy5SVUxFX1NUQUNLLnB1c2goc2hvcnROYW1lKTtcbiAgICAgICAgLy8gTk9PUCB3aGVuIGNzdCBpcyBkaXNhYmxlZFxuICAgICAgICB0aGlzLmNzdEludm9jYXRpb25TdGF0ZVVwZGF0ZShmdWxsTmFtZSwgc2hvcnROYW1lKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJFbmdpbmUucHJvdG90eXBlLmlzQmFja1RyYWNraW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pc0JhY2tUcmFja2luZ1N0YWNrLmxlbmd0aCAhPT0gMDtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJFbmdpbmUucHJvdG90eXBlLmdldEN1cnJSdWxlRnVsbE5hbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzaG9ydE5hbWUgPSB0aGlzLmdldExhc3RFeHBsaWNpdFJ1bGVTaG9ydE5hbWUoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2hvcnRSdWxlTmFtZVRvRnVsbFtzaG9ydE5hbWVdO1xuICAgIH07XG4gICAgUmVjb2duaXplckVuZ2luZS5wcm90b3R5cGUuc2hvcnRSdWxlTmFtZVRvRnVsbE5hbWUgPSBmdW5jdGlvbiAoc2hvcnROYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNob3J0UnVsZU5hbWVUb0Z1bGxbc2hvcnROYW1lXTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJFbmdpbmUucHJvdG90eXBlLmlzQXRFbmRPZklucHV0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50b2tlbk1hdGNoZXIodGhpcy5MQSgxKSwgRU9GKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJFbmdpbmUucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJlc2V0TGV4ZXJTdGF0ZSgpO1xuICAgICAgICB0aGlzLmlzQmFja1RyYWNraW5nU3RhY2sgPSBbXTtcbiAgICAgICAgdGhpcy5lcnJvcnMgPSBbXTtcbiAgICAgICAgdGhpcy5SVUxFX1NUQUNLID0gW107XG4gICAgICAgIC8vIFRPRE86IGV4dHJhY3QgYSBzcGVjaWZpYyByZXNldCBmb3IgVHJlZUJ1aWxkZXIgdHJhaXRcbiAgICAgICAgdGhpcy5DU1RfU1RBQ0sgPSBbXTtcbiAgICAgICAgdGhpcy5SVUxFX09DQ1VSUkVOQ0VfU1RBQ0sgPSBbXTtcbiAgICB9O1xuICAgIHJldHVybiBSZWNvZ25pemVyRW5naW5lO1xufSgpKTtcbmV4cG9ydCB7IFJlY29nbml6ZXJFbmdpbmUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlY29nbml6ZXJfZW5naW5lLmpzLm1hcCIsImltcG9ydCB7IEVhcmx5RXhpdEV4Y2VwdGlvbiwgaXNSZWNvZ25pdGlvbkV4Y2VwdGlvbiwgTm9WaWFibGVBbHRFeGNlcHRpb24gfSBmcm9tIFwiLi4vLi4vZXhjZXB0aW9uc19wdWJsaWNcIjtcbmltcG9ydCB7IGNsb25lQXJyLCBoYXMgfSBmcm9tIFwiLi4vLi4vLi4vdXRpbHMvdXRpbHNcIjtcbmltcG9ydCB7IGdldExvb2thaGVhZFBhdGhzRm9yT3B0aW9uYWxQcm9kLCBnZXRMb29rYWhlYWRQYXRoc0Zvck9yIH0gZnJvbSBcIi4uLy4uL2dyYW1tYXIvbG9va2FoZWFkXCI7XG5pbXBvcnQgeyBERUZBVUxUX1BBUlNFUl9DT05GSUcgfSBmcm9tIFwiLi4vcGFyc2VyXCI7XG4vKipcbiAqIFRyYWl0IHJlc3BvbnNpYmxlIGZvciBydW50aW1lIHBhcnNpbmcgZXJyb3JzLlxuICovXG52YXIgRXJyb3JIYW5kbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEVycm9ySGFuZGxlcigpIHtcbiAgICB9XG4gICAgRXJyb3JIYW5kbGVyLnByb3RvdHlwZS5pbml0RXJyb3JIYW5kbGVyID0gZnVuY3Rpb24gKGNvbmZpZykge1xuICAgICAgICB0aGlzLl9lcnJvcnMgPSBbXTtcbiAgICAgICAgdGhpcy5lcnJvck1lc3NhZ2VQcm92aWRlciA9IGhhcyhjb25maWcsIFwiZXJyb3JNZXNzYWdlUHJvdmlkZXJcIilcbiAgICAgICAgICAgID8gY29uZmlnLmVycm9yTWVzc2FnZVByb3ZpZGVyXG4gICAgICAgICAgICA6IERFRkFVTFRfUEFSU0VSX0NPTkZJRy5lcnJvck1lc3NhZ2VQcm92aWRlcjtcbiAgICB9O1xuICAgIEVycm9ySGFuZGxlci5wcm90b3R5cGUuU0FWRV9FUlJPUiA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICBpZiAoaXNSZWNvZ25pdGlvbkV4Y2VwdGlvbihlcnJvcikpIHtcbiAgICAgICAgICAgIGVycm9yLmNvbnRleHQgPSB7XG4gICAgICAgICAgICAgICAgcnVsZVN0YWNrOiB0aGlzLmdldEh1bWFuUmVhZGFibGVSdWxlU3RhY2soKSxcbiAgICAgICAgICAgICAgICBydWxlT2NjdXJyZW5jZVN0YWNrOiBjbG9uZUFycih0aGlzLlJVTEVfT0NDVVJSRU5DRV9TVEFDSylcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLl9lcnJvcnMucHVzaChlcnJvcik7XG4gICAgICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcIlRyeWluZyB0byBzYXZlIGFuIEVycm9yIHdoaWNoIGlzIG5vdCBhIFJlY29nbml0aW9uRXhjZXB0aW9uXCIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRXJyb3JIYW5kbGVyLnByb3RvdHlwZSwgXCJlcnJvcnNcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBjbG9uZUFycih0aGlzLl9lcnJvcnMpO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChuZXdFcnJvcnMpIHtcbiAgICAgICAgICAgIHRoaXMuX2Vycm9ycyA9IG5ld0Vycm9ycztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLy8gVE9ETzogY29uc2lkZXIgY2FjaGluZyB0aGUgZXJyb3IgbWVzc2FnZSBjb21wdXRlZCBpbmZvcm1hdGlvblxuICAgIEVycm9ySGFuZGxlci5wcm90b3R5cGUucmFpc2VFYXJseUV4aXRFeGNlcHRpb24gPSBmdW5jdGlvbiAob2NjdXJyZW5jZSwgcHJvZFR5cGUsIHVzZXJEZWZpbmVkRXJyTXNnKSB7XG4gICAgICAgIHZhciBydWxlTmFtZSA9IHRoaXMuZ2V0Q3VyclJ1bGVGdWxsTmFtZSgpO1xuICAgICAgICB2YXIgcnVsZUdyYW1tYXIgPSB0aGlzLmdldEdBc3RQcm9kdWN0aW9ucygpW3J1bGVOYW1lXTtcbiAgICAgICAgdmFyIGxvb2tBaGVhZFBhdGhzUGVyQWx0ZXJuYXRpdmUgPSBnZXRMb29rYWhlYWRQYXRoc0Zvck9wdGlvbmFsUHJvZChvY2N1cnJlbmNlLCBydWxlR3JhbW1hciwgcHJvZFR5cGUsIHRoaXMubWF4TG9va2FoZWFkKTtcbiAgICAgICAgdmFyIGluc2lkZVByb2RQYXRocyA9IGxvb2tBaGVhZFBhdGhzUGVyQWx0ZXJuYXRpdmVbMF07XG4gICAgICAgIHZhciBhY3R1YWxUb2tlbnMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPD0gdGhpcy5tYXhMb29rYWhlYWQ7IGkrKykge1xuICAgICAgICAgICAgYWN0dWFsVG9rZW5zLnB1c2godGhpcy5MQShpKSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG1zZyA9IHRoaXMuZXJyb3JNZXNzYWdlUHJvdmlkZXIuYnVpbGRFYXJseUV4aXRNZXNzYWdlKHtcbiAgICAgICAgICAgIGV4cGVjdGVkSXRlcmF0aW9uUGF0aHM6IGluc2lkZVByb2RQYXRocyxcbiAgICAgICAgICAgIGFjdHVhbDogYWN0dWFsVG9rZW5zLFxuICAgICAgICAgICAgcHJldmlvdXM6IHRoaXMuTEEoMCksXG4gICAgICAgICAgICBjdXN0b21Vc2VyRGVzY3JpcHRpb246IHVzZXJEZWZpbmVkRXJyTXNnLFxuICAgICAgICAgICAgcnVsZU5hbWU6IHJ1bGVOYW1lXG4gICAgICAgIH0pO1xuICAgICAgICB0aHJvdyB0aGlzLlNBVkVfRVJST1IobmV3IEVhcmx5RXhpdEV4Y2VwdGlvbihtc2csIHRoaXMuTEEoMSksIHRoaXMuTEEoMCkpKTtcbiAgICB9O1xuICAgIC8vIFRPRE86IGNvbnNpZGVyIGNhY2hpbmcgdGhlIGVycm9yIG1lc3NhZ2UgY29tcHV0ZWQgaW5mb3JtYXRpb25cbiAgICBFcnJvckhhbmRsZXIucHJvdG90eXBlLnJhaXNlTm9BbHRFeGNlcHRpb24gPSBmdW5jdGlvbiAob2NjdXJyZW5jZSwgZXJyTXNnVHlwZXMpIHtcbiAgICAgICAgdmFyIHJ1bGVOYW1lID0gdGhpcy5nZXRDdXJyUnVsZUZ1bGxOYW1lKCk7XG4gICAgICAgIHZhciBydWxlR3JhbW1hciA9IHRoaXMuZ2V0R0FzdFByb2R1Y3Rpb25zKClbcnVsZU5hbWVdO1xuICAgICAgICAvLyBUT0RPOiBnZXRMb29rYWhlYWRQYXRoc0Zvck9yIGNhbiBiZSBzbG93IGZvciBsYXJnZSBlbm91Z2ggbWF4TG9va2FoZWFkIGFuZCBjZXJ0YWluIGdyYW1tYXJzLCBjb25zaWRlciBjYWNoaW5nID9cbiAgICAgICAgdmFyIGxvb2tBaGVhZFBhdGhzUGVyQWx0ZXJuYXRpdmUgPSBnZXRMb29rYWhlYWRQYXRoc0Zvck9yKG9jY3VycmVuY2UsIHJ1bGVHcmFtbWFyLCB0aGlzLm1heExvb2thaGVhZCk7XG4gICAgICAgIHZhciBhY3R1YWxUb2tlbnMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPD0gdGhpcy5tYXhMb29rYWhlYWQ7IGkrKykge1xuICAgICAgICAgICAgYWN0dWFsVG9rZW5zLnB1c2godGhpcy5MQShpKSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHByZXZpb3VzVG9rZW4gPSB0aGlzLkxBKDApO1xuICAgICAgICB2YXIgZXJyTXNnID0gdGhpcy5lcnJvck1lc3NhZ2VQcm92aWRlci5idWlsZE5vVmlhYmxlQWx0TWVzc2FnZSh7XG4gICAgICAgICAgICBleHBlY3RlZFBhdGhzUGVyQWx0OiBsb29rQWhlYWRQYXRoc1BlckFsdGVybmF0aXZlLFxuICAgICAgICAgICAgYWN0dWFsOiBhY3R1YWxUb2tlbnMsXG4gICAgICAgICAgICBwcmV2aW91czogcHJldmlvdXNUb2tlbixcbiAgICAgICAgICAgIGN1c3RvbVVzZXJEZXNjcmlwdGlvbjogZXJyTXNnVHlwZXMsXG4gICAgICAgICAgICBydWxlTmFtZTogdGhpcy5nZXRDdXJyUnVsZUZ1bGxOYW1lKClcbiAgICAgICAgfSk7XG4gICAgICAgIHRocm93IHRoaXMuU0FWRV9FUlJPUihuZXcgTm9WaWFibGVBbHRFeGNlcHRpb24oZXJyTXNnLCB0aGlzLkxBKDEpLCBwcmV2aW91c1Rva2VuKSk7XG4gICAgfTtcbiAgICByZXR1cm4gRXJyb3JIYW5kbGVyO1xufSgpKTtcbmV4cG9ydCB7IEVycm9ySGFuZGxlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXJyb3JfaGFuZGxlci5qcy5tYXAiLCJpbXBvcnQgeyBOZXh0QWZ0ZXJUb2tlbldhbGtlciwgbmV4dFBvc3NpYmxlVG9rZW5zQWZ0ZXIgfSBmcm9tIFwiLi4vLi4vZ3JhbW1hci9pbnRlcnByZXRlclwiO1xuaW1wb3J0IHsgZmlyc3QsIGlzVW5kZWZpbmVkIH0gZnJvbSBcIi4uLy4uLy4uL3V0aWxzL3V0aWxzXCI7XG52YXIgQ29udGVudEFzc2lzdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDb250ZW50QXNzaXN0KCkge1xuICAgIH1cbiAgICBDb250ZW50QXNzaXN0LnByb3RvdHlwZS5pbml0Q29udGVudEFzc2lzdCA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICBDb250ZW50QXNzaXN0LnByb3RvdHlwZS5jb21wdXRlQ29udGVudEFzc2lzdCA9IGZ1bmN0aW9uIChzdGFydFJ1bGVOYW1lLCBwcmVjZWRpbmdJbnB1dCkge1xuICAgICAgICB2YXIgc3RhcnRSdWxlR2FzdCA9IHRoaXMuZ2FzdFByb2R1Y3Rpb25zQ2FjaGVbc3RhcnRSdWxlTmFtZV07XG4gICAgICAgIGlmIChpc1VuZGVmaW5lZChzdGFydFJ1bGVHYXN0KSkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJSdWxlIC0+XCIgKyBzdGFydFJ1bGVOYW1lICsgXCI8LSBkb2VzIG5vdCBleGlzdCBpbiB0aGlzIGdyYW1tYXIuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXh0UG9zc2libGVUb2tlbnNBZnRlcihbc3RhcnRSdWxlR2FzdF0sIHByZWNlZGluZ0lucHV0LCB0aGlzLnRva2VuTWF0Y2hlciwgdGhpcy5tYXhMb29rYWhlYWQpO1xuICAgIH07XG4gICAgLy8gVE9ETzogc2hvdWxkIHRoaXMgYmUgYSBtZW1iZXIgbWV0aG9kIG9yIGEgdXRpbGl0eT8gaXQgZG9lcyBub3QgaGF2ZSBhbnkgc3RhdGUgb3IgdXNhZ2Ugb2YgJ3RoaXMnLi4uXG4gICAgLy8gVE9ETzogc2hvdWxkIHRoaXMgYmUgbW9yZSBleHBsaWNpdGx5IHBhcnQgb2YgdGhlIHB1YmxpYyBBUEk/XG4gICAgQ29udGVudEFzc2lzdC5wcm90b3R5cGUuZ2V0TmV4dFBvc3NpYmxlVG9rZW5UeXBlcyA9IGZ1bmN0aW9uIChncmFtbWFyUGF0aCkge1xuICAgICAgICB2YXIgdG9wUnVsZU5hbWUgPSBmaXJzdChncmFtbWFyUGF0aC5ydWxlU3RhY2spO1xuICAgICAgICB2YXIgZ2FzdFByb2R1Y3Rpb25zID0gdGhpcy5nZXRHQXN0UHJvZHVjdGlvbnMoKTtcbiAgICAgICAgdmFyIHRvcFByb2R1Y3Rpb24gPSBnYXN0UHJvZHVjdGlvbnNbdG9wUnVsZU5hbWVdO1xuICAgICAgICB2YXIgbmV4dFBvc3NpYmxlVG9rZW5UeXBlcyA9IG5ldyBOZXh0QWZ0ZXJUb2tlbldhbGtlcih0b3BQcm9kdWN0aW9uLCBncmFtbWFyUGF0aCkuc3RhcnRXYWxraW5nKCk7XG4gICAgICAgIHJldHVybiBuZXh0UG9zc2libGVUb2tlblR5cGVzO1xuICAgIH07XG4gICAgcmV0dXJuIENvbnRlbnRBc3Npc3Q7XG59KCkpO1xuZXhwb3J0IHsgQ29udGVudEFzc2lzdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29udGV4dF9hc3Npc3QuanMubWFwIiwiaW1wb3J0IHsgZm9yRWFjaCwgaGFzLCBpc0FycmF5LCBpc0Z1bmN0aW9uLCBwZWVrLCBzb21lIH0gZnJvbSBcIi4uLy4uLy4uL3V0aWxzL3V0aWxzXCI7XG5pbXBvcnQgeyBBbHRlcm5hdGlvbiwgQWx0ZXJuYXRpdmUsIE5vblRlcm1pbmFsLCBPcHRpb24sIFJlcGV0aXRpb24sIFJlcGV0aXRpb25NYW5kYXRvcnksIFJlcGV0aXRpb25NYW5kYXRvcnlXaXRoU2VwYXJhdG9yLCBSZXBldGl0aW9uV2l0aFNlcGFyYXRvciwgUnVsZSwgVGVybWluYWwgfSBmcm9tIFwiLi4vLi4vZ3JhbW1hci9nYXN0L2dhc3RfcHVibGljXCI7XG5pbXBvcnQgeyBMZXhlciB9IGZyb20gXCIuLi8uLi8uLi9zY2FuL2xleGVyX3B1YmxpY1wiO1xuaW1wb3J0IHsgYXVnbWVudFRva2VuVHlwZXMsIGhhc1Nob3J0S2V5UHJvcGVydHkgfSBmcm9tIFwiLi4vLi4vLi4vc2Nhbi90b2tlbnNcIjtcbmltcG9ydCB7IGNyZWF0ZVRva2VuLCBjcmVhdGVUb2tlbkluc3RhbmNlIH0gZnJvbSBcIi4uLy4uLy4uL3NjYW4vdG9rZW5zX3B1YmxpY1wiO1xuaW1wb3J0IHsgRU5EX09GX0ZJTEUgfSBmcm9tIFwiLi4vcGFyc2VyXCI7XG5pbXBvcnQgeyBCSVRTX0ZPUl9PQ0NVUlJFTkNFX0lEWCB9IGZyb20gXCIuLi8uLi9ncmFtbWFyL2tleXNcIjtcbnZhciBSRUNPUkRJTkdfTlVMTF9PQkpFQ1QgPSB7XG4gICAgZGVzY3JpcHRpb246IFwiVGhpcyBPYmplY3QgaW5kaWNhdGVzIHRoZSBQYXJzZXIgaXMgZHVyaW5nIFJlY29yZGluZyBQaGFzZVwiXG59O1xuT2JqZWN0LmZyZWV6ZShSRUNPUkRJTkdfTlVMTF9PQkpFQ1QpO1xudmFyIEhBTkRMRV9TRVBBUkFUT1IgPSB0cnVlO1xudmFyIE1BWF9NRVRIT0RfSURYID0gTWF0aC5wb3coMiwgQklUU19GT1JfT0NDVVJSRU5DRV9JRFgpIC0gMTtcbnZhciBSRlQgPSBjcmVhdGVUb2tlbih7IG5hbWU6IFwiUkVDT1JESU5HX1BIQVNFX1RPS0VOXCIsIHBhdHRlcm46IExleGVyLk5BIH0pO1xuYXVnbWVudFRva2VuVHlwZXMoW1JGVF0pO1xudmFyIFJFQ09SRElOR19QSEFTRV9UT0tFTiA9IGNyZWF0ZVRva2VuSW5zdGFuY2UoUkZULCBcIlRoaXMgSVRva2VuIGluZGljYXRlcyB0aGUgUGFyc2VyIGlzIGluIFJlY29yZGluZyBQaGFzZVxcblxcdFwiICtcbiAgICBcIlwiICtcbiAgICBcIlNlZTogaHR0cHM6Ly9zYXAuZ2l0aHViLmlvL2NoZXZyb3RhaW4vZG9jcy9ndWlkZS9pbnRlcm5hbHMuaHRtbCNncmFtbWFyLXJlY29yZGluZyBmb3IgZGV0YWlsc1wiLCBcbi8vIFVzaW5nIFwiLTFcIiBpbnN0ZWFkIG9mIE5hTiAoYXMgaW4gRU9GKSBiZWNhdXNlIGFuIGFjdHVhbCBudW1iZXIgaXMgbGVzcyBsaWtlbHkgdG9cbi8vIGNhdXNlIGVycm9ycyBpZiB0aGUgb3V0cHV0IG9mIExBIG9yIENPTlNVTUUgd291bGQgYmUgKGluY29ycmVjdGx5KSB1c2VkIGR1cmluZyB0aGUgcmVjb3JkaW5nIHBoYXNlLlxuLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSk7XG5PYmplY3QuZnJlZXplKFJFQ09SRElOR19QSEFTRV9UT0tFTik7XG52YXIgUkVDT1JESU5HX1BIQVNFX0NTVE5PREUgPSB7XG4gICAgbmFtZTogXCJUaGlzIENTVE5vZGUgaW5kaWNhdGVzIHRoZSBQYXJzZXIgaXMgaW4gUmVjb3JkaW5nIFBoYXNlXFxuXFx0XCIgK1xuICAgICAgICBcIlNlZTogaHR0cHM6Ly9zYXAuZ2l0aHViLmlvL2NoZXZyb3RhaW4vZG9jcy9ndWlkZS9pbnRlcm5hbHMuaHRtbCNncmFtbWFyLXJlY29yZGluZyBmb3IgZGV0YWlsc1wiLFxuICAgIGNoaWxkcmVuOiB7fVxufTtcbi8qKlxuICogVGhpcyB0cmFpdCBoYW5kbGVzIHRoZSBjcmVhdGlvbiBvZiB0aGUgR0FTVCBzdHJ1Y3R1cmUgZm9yIENoZXZyb3RhaW4gR3JhbW1hcnNcbiAqL1xudmFyIEdhc3RSZWNvcmRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBHYXN0UmVjb3JkZXIoKSB7XG4gICAgfVxuICAgIEdhc3RSZWNvcmRlci5wcm90b3R5cGUuaW5pdEdhc3RSZWNvcmRlciA9IGZ1bmN0aW9uIChjb25maWcpIHtcbiAgICAgICAgdGhpcy5yZWNvcmRpbmdQcm9kU3RhY2sgPSBbXTtcbiAgICAgICAgdGhpcy5SRUNPUkRJTkdfUEhBU0UgPSBmYWxzZTtcbiAgICB9O1xuICAgIEdhc3RSZWNvcmRlci5wcm90b3R5cGUuZW5hYmxlUmVjb3JkaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLlJFQ09SRElOR19QSEFTRSA9IHRydWU7XG4gICAgICAgIHRoaXMuVFJBQ0VfSU5JVChcIkVuYWJsZSBSZWNvcmRpbmdcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF9sb29wXzEgPSBmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgICAgIHZhciBpZHggPSBpID4gMCA/IGkgOiBcIlwiO1xuICAgICAgICAgICAgICAgIF90aGlzW1wiQ09OU1VNRVwiICsgaWR4XSA9IGZ1bmN0aW9uIChhcmcxLCBhcmcyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnN1bWVJbnRlcm5hbFJlY29yZChhcmcxLCBpLCBhcmcyKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIF90aGlzW1wiU1VCUlVMRVwiICsgaWR4XSA9IGZ1bmN0aW9uIChhcmcxLCBhcmcyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnN1YnJ1bGVJbnRlcm5hbFJlY29yZChhcmcxLCBpLCBhcmcyKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIF90aGlzW1wiT1BUSU9OXCIgKyBpZHhdID0gZnVuY3Rpb24gKGFyZzEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9uSW50ZXJuYWxSZWNvcmQoYXJnMSwgaSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBfdGhpc1tcIk9SXCIgKyBpZHhdID0gZnVuY3Rpb24gKGFyZzEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMub3JJbnRlcm5hbFJlY29yZChhcmcxLCBpKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIF90aGlzW1wiTUFOWVwiICsgaWR4XSA9IGZ1bmN0aW9uIChhcmcxKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWFueUludGVybmFsUmVjb3JkKGksIGFyZzEpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgX3RoaXNbXCJNQU5ZX1NFUFwiICsgaWR4XSA9IGZ1bmN0aW9uIChhcmcxKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWFueVNlcEZpcnN0SW50ZXJuYWxSZWNvcmQoaSwgYXJnMSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBfdGhpc1tcIkFUX0xFQVNUX09ORVwiICsgaWR4XSA9IGZ1bmN0aW9uIChhcmcxKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXRMZWFzdE9uZUludGVybmFsUmVjb3JkKGksIGFyZzEpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgX3RoaXNbXCJBVF9MRUFTVF9PTkVfU0VQXCIgKyBpZHhdID0gZnVuY3Rpb24gKGFyZzEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdExlYXN0T25lU2VwRmlyc3RJbnRlcm5hbFJlY29yZChpLCBhcmcxKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogV2FybmluZyBEYXJrIFZvb2RvbyBNYWdpYyB1cGNvbWluZyFcbiAgICAgICAgICAgICAqIFdlIGFyZSBcInJlcGxhY2luZ1wiIHRoZSBwdWJsaWMgcGFyc2luZyBEU0wgbWV0aG9kcyBBUElcbiAgICAgICAgICAgICAqIFdpdGggKipuZXcqKiBhbHRlcm5hdGl2ZSBpbXBsZW1lbnRhdGlvbnMgb24gdGhlIFBhcnNlciAqKmluc3RhbmNlKipcbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBTbyBmYXIgdGhpcyBpcyB0aGUgb25seSB3YXkgSSd2ZSBmb3VuZCB0byBhdm9pZCBwZXJmb3JtYW5jZSByZWdyZXNzaW9ucyBkdXJpbmcgcGFyc2luZyB0aW1lLlxuICAgICAgICAgICAgICogLSBBcHByb3ggMzAlIHBlcmZvcm1hbmNlIHJlZ3Jlc3Npb24gd2FzIG1lYXN1cmVkIG9uIENocm9tZSA3NSBDYW5hcnkgd2hlbiBhdHRlbXB0aW5nIHRvIHJlcGxhY2UgdGhlIFwiaW50ZXJuYWxcIlxuICAgICAgICAgICAgICogICBpbXBsZW1lbnRhdGlvbnMgZGlyZWN0bHkgaW5zdGVhZC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgX2xvb3BfMShpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIERTTCBtZXRob2RzIHdpdGggdGhlIGlkeChzdWZmaXgpIGFzIGFuIGFyZ3VtZW50XG4gICAgICAgICAgICBfdGhpc1tcImNvbnN1bWVcIl0gPSBmdW5jdGlvbiAoaWR4LCBhcmcxLCBhcmcyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29uc3VtZUludGVybmFsUmVjb3JkKGFyZzEsIGlkeCwgYXJnMik7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgX3RoaXNbXCJzdWJydWxlXCJdID0gZnVuY3Rpb24gKGlkeCwgYXJnMSwgYXJnMikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnN1YnJ1bGVJbnRlcm5hbFJlY29yZChhcmcxLCBpZHgsIGFyZzIpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIF90aGlzW1wib3B0aW9uXCJdID0gZnVuY3Rpb24gKGlkeCwgYXJnMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm9wdGlvbkludGVybmFsUmVjb3JkKGFyZzEsIGlkeCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgX3RoaXNbXCJvclwiXSA9IGZ1bmN0aW9uIChpZHgsIGFyZzEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5vckludGVybmFsUmVjb3JkKGFyZzEsIGlkeCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgX3RoaXNbXCJtYW55XCJdID0gZnVuY3Rpb24gKGlkeCwgYXJnMSkge1xuICAgICAgICAgICAgICAgIHRoaXMubWFueUludGVybmFsUmVjb3JkKGlkeCwgYXJnMSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgX3RoaXNbXCJhdExlYXN0T25lXCJdID0gZnVuY3Rpb24gKGlkeCwgYXJnMSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYXRMZWFzdE9uZUludGVybmFsUmVjb3JkKGlkeCwgYXJnMSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgX3RoaXMuQUNUSU9OID0gX3RoaXMuQUNUSU9OX1JFQ09SRDtcbiAgICAgICAgICAgIF90aGlzLkJBQ0tUUkFDSyA9IF90aGlzLkJBQ0tUUkFDS19SRUNPUkQ7XG4gICAgICAgICAgICBfdGhpcy5MQSA9IF90aGlzLkxBX1JFQ09SRDtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBHYXN0UmVjb3JkZXIucHJvdG90eXBlLmRpc2FibGVSZWNvcmRpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuUkVDT1JESU5HX1BIQVNFID0gZmFsc2U7XG4gICAgICAgIC8vIEJ5IGRlbGV0aW5nIHRoZXNlICoqaW5zdGFuY2UqKiBwcm9wZXJ0aWVzLCBhbnkgZnV0dXJlIGludm9jYXRpb25cbiAgICAgICAgLy8gd2lsbCBiZSBkZWZlcnJlZCB0byB0aGUgb3JpZ2luYWwgbWV0aG9kcyBvbiB0aGUgKipwcm90b3R5cGUqKiBvYmplY3RcbiAgICAgICAgLy8gVGhpcyBzZWVtcyB0byBnZXQgcmlkIG9mIGFueSBpbmNvcnJlY3Qgb3B0aW1pemF0aW9ucyB0aGF0IFY4IG1heVxuICAgICAgICAvLyBkbyBkdXJpbmcgdGhlIHJlY29yZGluZyBwaGFzZS5cbiAgICAgICAgdGhpcy5UUkFDRV9JTklUKFwiRGVsZXRpbmcgUmVjb3JkaW5nIG1ldGhvZHNcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGlkeCA9IGkgPiAwID8gaSA6IFwiXCI7XG4gICAgICAgICAgICAgICAgZGVsZXRlIF90aGlzW1wiQ09OU1VNRVwiICsgaWR4XTtcbiAgICAgICAgICAgICAgICBkZWxldGUgX3RoaXNbXCJTVUJSVUxFXCIgKyBpZHhdO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBfdGhpc1tcIk9QVElPTlwiICsgaWR4XTtcbiAgICAgICAgICAgICAgICBkZWxldGUgX3RoaXNbXCJPUlwiICsgaWR4XTtcbiAgICAgICAgICAgICAgICBkZWxldGUgX3RoaXNbXCJNQU5ZXCIgKyBpZHhdO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBfdGhpc1tcIk1BTllfU0VQXCIgKyBpZHhdO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBfdGhpc1tcIkFUX0xFQVNUX09ORVwiICsgaWR4XTtcbiAgICAgICAgICAgICAgICBkZWxldGUgX3RoaXNbXCJBVF9MRUFTVF9PTkVfU0VQXCIgKyBpZHhdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVsZXRlIF90aGlzW1wiY29uc3VtZVwiXTtcbiAgICAgICAgICAgIGRlbGV0ZSBfdGhpc1tcInN1YnJ1bGVcIl07XG4gICAgICAgICAgICBkZWxldGUgX3RoaXNbXCJvcHRpb25cIl07XG4gICAgICAgICAgICBkZWxldGUgX3RoaXNbXCJvclwiXTtcbiAgICAgICAgICAgIGRlbGV0ZSBfdGhpc1tcIm1hbnlcIl07XG4gICAgICAgICAgICBkZWxldGUgX3RoaXNbXCJhdExlYXN0T25lXCJdO1xuICAgICAgICAgICAgZGVsZXRlIF90aGlzLkFDVElPTjtcbiAgICAgICAgICAgIGRlbGV0ZSBfdGhpcy5CQUNLVFJBQ0s7XG4gICAgICAgICAgICBkZWxldGUgX3RoaXMuTEE7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLy8gVE9ETzogaXMgdGhlcmUgYW55IHdheSB0byB1c2UgdGhpcyBtZXRob2QgdG8gY2hlY2sgbm9cbiAgICAvLyAgIFBhcnNlciBtZXRob2RzIGFyZSBjYWxsZWQgaW5zaWRlIGFuIEFDVElPTj9cbiAgICAvLyAgIE1heWJlIHRyeS9jYXRjaC9maW5hbGx5IG9uIEFDVElPTlMgd2hpbGUgZGlzYWJsaW5nIHRoZSByZWNvcmRlcnMgc3RhdGUgY2hhbmdlcz9cbiAgICBHYXN0UmVjb3JkZXIucHJvdG90eXBlLkFDVElPTl9SRUNPUkQgPSBmdW5jdGlvbiAoaW1wbCkge1xuICAgICAgICAvLyBOTy1PUCBkdXJpbmcgcmVjb3JkaW5nXG4gICAgICAgIHJldHVybjtcbiAgICB9O1xuICAgIC8vIEV4ZWN1dGluZyBiYWNrdHJhY2tpbmcgbG9naWMgd2lsbCBicmVhayBvdXIgcmVjb3JkaW5nIGxvZ2ljIGFzc3VtcHRpb25zXG4gICAgR2FzdFJlY29yZGVyLnByb3RvdHlwZS5CQUNLVFJBQ0tfUkVDT1JEID0gZnVuY3Rpb24gKGdyYW1tYXJSdWxlLCBhcmdzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7IHJldHVybiB0cnVlOyB9O1xuICAgIH07XG4gICAgLy8gTEEgaXMgcGFydCBvZiB0aGUgb2ZmaWNpYWwgQVBJIGFuZCBtYXkgYmUgdXNlZCBmb3IgY3VzdG9tIGxvb2thaGVhZCBsb2dpY1xuICAgIC8vIGJ5IGVuZCB1c2VycyB3aG8gbWF5IGZvcmdldCB0byB3cmFwIGl0IGluIEFDVElPTiBvciBpbnNpZGUgYSBHQVRFXG4gICAgR2FzdFJlY29yZGVyLnByb3RvdHlwZS5MQV9SRUNPUkQgPSBmdW5jdGlvbiAoaG93TXVjaCkge1xuICAgICAgICAvLyBXZSBjYW5ub3QgdXNlIHRoZSBSRUNPUkRfUEhBU0VfVE9LRU4gaGVyZSBiZWNhdXNlIHNvbWVvbmUgbWF5IGRlcGVuZFxuICAgICAgICAvLyBPbiBMQSByZXR1cm4gRU9GIGF0IHRoZSBlbmQgb2YgdGhlIGlucHV0IHNvIGFuIGluZmluaXRlIGxvb3AgbWF5IG9jY3VyLlxuICAgICAgICByZXR1cm4gRU5EX09GX0ZJTEU7XG4gICAgfTtcbiAgICBHYXN0UmVjb3JkZXIucHJvdG90eXBlLnRvcExldmVsUnVsZVJlY29yZCA9IGZ1bmN0aW9uIChuYW1lLCBkZWYpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBuZXdUb3BMZXZlbFJ1bGUgPSBuZXcgUnVsZSh7IGRlZmluaXRpb246IFtdLCBuYW1lOiBuYW1lIH0pO1xuICAgICAgICAgICAgbmV3VG9wTGV2ZWxSdWxlLm5hbWUgPSBuYW1lO1xuICAgICAgICAgICAgdGhpcy5yZWNvcmRpbmdQcm9kU3RhY2sucHVzaChuZXdUb3BMZXZlbFJ1bGUpO1xuICAgICAgICAgICAgZGVmLmNhbGwodGhpcyk7XG4gICAgICAgICAgICB0aGlzLnJlY29yZGluZ1Byb2RTdGFjay5wb3AoKTtcbiAgICAgICAgICAgIHJldHVybiBuZXdUb3BMZXZlbFJ1bGU7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKG9yaWdpbmFsRXJyb3IpIHtcbiAgICAgICAgICAgIGlmIChvcmlnaW5hbEVycm9yLktOT1dOX1JFQ09SREVSX0VSUk9SICE9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxFcnJvci5tZXNzYWdlID1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsRXJyb3IubWVzc2FnZSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1xcblxcdCBUaGlzIGVycm9yIHdhcyB0aHJvd24gZHVyaW5nIHRoZSBcImdyYW1tYXIgcmVjb3JkaW5nIHBoYXNlXCIgRm9yIG1vcmUgaW5mbyBzZWU6XFxuXFx0JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJodHRwczovL3NhcC5naXRodWIuaW8vY2hldnJvdGFpbi9kb2NzL2d1aWRlL2ludGVybmFscy5odG1sI2dyYW1tYXItcmVjb3JkaW5nXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChtdXRhYmlsaXR5RXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgbWF5IG5vdCBiZSBhYmxlIHRvIG1vZGlmeSB0aGUgb3JpZ2luYWwgZXJyb3Igb2JqZWN0XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG9yaWdpbmFsRXJyb3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgb3JpZ2luYWxFcnJvcjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLy8gSW1wbGVtZW50YXRpb24gb2YgcGFyc2luZyBEU0xcbiAgICBHYXN0UmVjb3JkZXIucHJvdG90eXBlLm9wdGlvbkludGVybmFsUmVjb3JkID0gZnVuY3Rpb24gKGFjdGlvbk9STWV0aG9kRGVmLCBvY2N1cnJlbmNlKSB7XG4gICAgICAgIHJldHVybiByZWNvcmRQcm9kLmNhbGwodGhpcywgT3B0aW9uLCBhY3Rpb25PUk1ldGhvZERlZiwgb2NjdXJyZW5jZSk7XG4gICAgfTtcbiAgICBHYXN0UmVjb3JkZXIucHJvdG90eXBlLmF0TGVhc3RPbmVJbnRlcm5hbFJlY29yZCA9IGZ1bmN0aW9uIChvY2N1cnJlbmNlLCBhY3Rpb25PUk1ldGhvZERlZikge1xuICAgICAgICByZWNvcmRQcm9kLmNhbGwodGhpcywgUmVwZXRpdGlvbk1hbmRhdG9yeSwgYWN0aW9uT1JNZXRob2REZWYsIG9jY3VycmVuY2UpO1xuICAgIH07XG4gICAgR2FzdFJlY29yZGVyLnByb3RvdHlwZS5hdExlYXN0T25lU2VwRmlyc3RJbnRlcm5hbFJlY29yZCA9IGZ1bmN0aW9uIChvY2N1cnJlbmNlLCBvcHRpb25zKSB7XG4gICAgICAgIHJlY29yZFByb2QuY2FsbCh0aGlzLCBSZXBldGl0aW9uTWFuZGF0b3J5V2l0aFNlcGFyYXRvciwgb3B0aW9ucywgb2NjdXJyZW5jZSwgSEFORExFX1NFUEFSQVRPUik7XG4gICAgfTtcbiAgICBHYXN0UmVjb3JkZXIucHJvdG90eXBlLm1hbnlJbnRlcm5hbFJlY29yZCA9IGZ1bmN0aW9uIChvY2N1cnJlbmNlLCBhY3Rpb25PUk1ldGhvZERlZikge1xuICAgICAgICByZWNvcmRQcm9kLmNhbGwodGhpcywgUmVwZXRpdGlvbiwgYWN0aW9uT1JNZXRob2REZWYsIG9jY3VycmVuY2UpO1xuICAgIH07XG4gICAgR2FzdFJlY29yZGVyLnByb3RvdHlwZS5tYW55U2VwRmlyc3RJbnRlcm5hbFJlY29yZCA9IGZ1bmN0aW9uIChvY2N1cnJlbmNlLCBvcHRpb25zKSB7XG4gICAgICAgIHJlY29yZFByb2QuY2FsbCh0aGlzLCBSZXBldGl0aW9uV2l0aFNlcGFyYXRvciwgb3B0aW9ucywgb2NjdXJyZW5jZSwgSEFORExFX1NFUEFSQVRPUik7XG4gICAgfTtcbiAgICBHYXN0UmVjb3JkZXIucHJvdG90eXBlLm9ySW50ZXJuYWxSZWNvcmQgPSBmdW5jdGlvbiAoYWx0c09yT3B0cywgb2NjdXJyZW5jZSkge1xuICAgICAgICByZXR1cm4gcmVjb3JkT3JQcm9kLmNhbGwodGhpcywgYWx0c09yT3B0cywgb2NjdXJyZW5jZSk7XG4gICAgfTtcbiAgICBHYXN0UmVjb3JkZXIucHJvdG90eXBlLnN1YnJ1bGVJbnRlcm5hbFJlY29yZCA9IGZ1bmN0aW9uIChydWxlVG9DYWxsLCBvY2N1cnJlbmNlLCBvcHRpb25zKSB7XG4gICAgICAgIGFzc2VydE1ldGhvZElkeElzVmFsaWQob2NjdXJyZW5jZSk7XG4gICAgICAgIGlmICghcnVsZVRvQ2FsbCB8fCBoYXMocnVsZVRvQ2FsbCwgXCJydWxlTmFtZVwiKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHZhciBlcnJvciA9IG5ldyBFcnJvcihcIjxTVUJSVUxFXCIgKyBnZXRJZHhTdWZmaXgob2NjdXJyZW5jZSkgKyBcIj4gYXJndW1lbnQgaXMgaW52YWxpZFwiICtcbiAgICAgICAgICAgICAgICAoXCIgZXhwZWN0aW5nIGEgUGFyc2VyIG1ldGhvZCByZWZlcmVuY2UgYnV0IGdvdDogPFwiICsgSlNPTi5zdHJpbmdpZnkocnVsZVRvQ2FsbCkgKyBcIj5cIikgK1xuICAgICAgICAgICAgICAgIChcIlxcbiBpbnNpZGUgdG9wIGxldmVsIHJ1bGU6IDxcIiArIHRoaXMucmVjb3JkaW5nUHJvZFN0YWNrWzBdLm5hbWUgKyBcIj5cIikpO1xuICAgICAgICAgICAgZXJyb3IuS05PV05fUkVDT1JERVJfRVJST1IgPSB0cnVlO1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHByZXZQcm9kID0gcGVlayh0aGlzLnJlY29yZGluZ1Byb2RTdGFjayk7XG4gICAgICAgIHZhciBydWxlTmFtZSA9IHJ1bGVUb0NhbGxbXCJydWxlTmFtZVwiXTtcbiAgICAgICAgdmFyIG5ld05vbmVUZXJtaW5hbCA9IG5ldyBOb25UZXJtaW5hbCh7XG4gICAgICAgICAgICBpZHg6IG9jY3VycmVuY2UsXG4gICAgICAgICAgICBub25UZXJtaW5hbE5hbWU6IHJ1bGVOYW1lLFxuICAgICAgICAgICAgLy8gVGhlIHJlc29sdmluZyBvZiB0aGUgYHJlZmVyZW5jZWRSdWxlYCBwcm9wZXJ0eSB3aWxsIGJlIGRvbmUgb25jZSBhbGwgdGhlIFJ1bGUncyBHQVNUcyBoYXZlIGJlZW4gY3JlYXRlZFxuICAgICAgICAgICAgcmVmZXJlbmNlZFJ1bGU6IHVuZGVmaW5lZFxuICAgICAgICB9KTtcbiAgICAgICAgcHJldlByb2QuZGVmaW5pdGlvbi5wdXNoKG5ld05vbmVUZXJtaW5hbCk7XG4gICAgICAgIHJldHVybiB0aGlzLm91dHB1dENzdCA/IFJFQ09SRElOR19QSEFTRV9DU1ROT0RFIDogUkVDT1JESU5HX05VTExfT0JKRUNUO1xuICAgIH07XG4gICAgR2FzdFJlY29yZGVyLnByb3RvdHlwZS5jb25zdW1lSW50ZXJuYWxSZWNvcmQgPSBmdW5jdGlvbiAodG9rVHlwZSwgb2NjdXJyZW5jZSwgb3B0aW9ucykge1xuICAgICAgICBhc3NlcnRNZXRob2RJZHhJc1ZhbGlkKG9jY3VycmVuY2UpO1xuICAgICAgICBpZiAoIWhhc1Nob3J0S2V5UHJvcGVydHkodG9rVHlwZSkpIHtcbiAgICAgICAgICAgIHZhciBlcnJvciA9IG5ldyBFcnJvcihcIjxDT05TVU1FXCIgKyBnZXRJZHhTdWZmaXgob2NjdXJyZW5jZSkgKyBcIj4gYXJndW1lbnQgaXMgaW52YWxpZFwiICtcbiAgICAgICAgICAgICAgICAoXCIgZXhwZWN0aW5nIGEgVG9rZW5UeXBlIHJlZmVyZW5jZSBidXQgZ290OiA8XCIgKyBKU09OLnN0cmluZ2lmeSh0b2tUeXBlKSArIFwiPlwiKSArXG4gICAgICAgICAgICAgICAgKFwiXFxuIGluc2lkZSB0b3AgbGV2ZWwgcnVsZTogPFwiICsgdGhpcy5yZWNvcmRpbmdQcm9kU3RhY2tbMF0ubmFtZSArIFwiPlwiKSk7XG4gICAgICAgICAgICBlcnJvci5LTk9XTl9SRUNPUkRFUl9FUlJPUiA9IHRydWU7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcHJldlByb2QgPSBwZWVrKHRoaXMucmVjb3JkaW5nUHJvZFN0YWNrKTtcbiAgICAgICAgdmFyIG5ld05vbmVUZXJtaW5hbCA9IG5ldyBUZXJtaW5hbCh7XG4gICAgICAgICAgICBpZHg6IG9jY3VycmVuY2UsXG4gICAgICAgICAgICB0ZXJtaW5hbFR5cGU6IHRva1R5cGVcbiAgICAgICAgfSk7XG4gICAgICAgIHByZXZQcm9kLmRlZmluaXRpb24ucHVzaChuZXdOb25lVGVybWluYWwpO1xuICAgICAgICByZXR1cm4gUkVDT1JESU5HX1BIQVNFX1RPS0VOO1xuICAgIH07XG4gICAgcmV0dXJuIEdhc3RSZWNvcmRlcjtcbn0oKSk7XG5leHBvcnQgeyBHYXN0UmVjb3JkZXIgfTtcbmZ1bmN0aW9uIHJlY29yZFByb2QocHJvZENvbnN0cnVjdG9yLCBtYWluUHJvZEFyZywgb2NjdXJyZW5jZSwgaGFuZGxlU2VwKSB7XG4gICAgaWYgKGhhbmRsZVNlcCA9PT0gdm9pZCAwKSB7IGhhbmRsZVNlcCA9IGZhbHNlOyB9XG4gICAgYXNzZXJ0TWV0aG9kSWR4SXNWYWxpZChvY2N1cnJlbmNlKTtcbiAgICB2YXIgcHJldlByb2QgPSBwZWVrKHRoaXMucmVjb3JkaW5nUHJvZFN0YWNrKTtcbiAgICB2YXIgZ3JhbW1hckFjdGlvbiA9IGlzRnVuY3Rpb24obWFpblByb2RBcmcpID8gbWFpblByb2RBcmcgOiBtYWluUHJvZEFyZy5ERUY7XG4gICAgdmFyIG5ld1Byb2QgPSBuZXcgcHJvZENvbnN0cnVjdG9yKHsgZGVmaW5pdGlvbjogW10sIGlkeDogb2NjdXJyZW5jZSB9KTtcbiAgICBpZiAoaGFuZGxlU2VwKSB7XG4gICAgICAgIG5ld1Byb2Quc2VwYXJhdG9yID0gbWFpblByb2RBcmcuU0VQO1xuICAgIH1cbiAgICBpZiAoaGFzKG1haW5Qcm9kQXJnLCBcIk1BWF9MT09LQUhFQURcIikpIHtcbiAgICAgICAgbmV3UHJvZC5tYXhMb29rYWhlYWQgPSBtYWluUHJvZEFyZy5NQVhfTE9PS0FIRUFEO1xuICAgIH1cbiAgICB0aGlzLnJlY29yZGluZ1Byb2RTdGFjay5wdXNoKG5ld1Byb2QpO1xuICAgIGdyYW1tYXJBY3Rpb24uY2FsbCh0aGlzKTtcbiAgICBwcmV2UHJvZC5kZWZpbml0aW9uLnB1c2gobmV3UHJvZCk7XG4gICAgdGhpcy5yZWNvcmRpbmdQcm9kU3RhY2sucG9wKCk7XG4gICAgcmV0dXJuIFJFQ09SRElOR19OVUxMX09CSkVDVDtcbn1cbmZ1bmN0aW9uIHJlY29yZE9yUHJvZChtYWluUHJvZEFyZywgb2NjdXJyZW5jZSkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgYXNzZXJ0TWV0aG9kSWR4SXNWYWxpZChvY2N1cnJlbmNlKTtcbiAgICB2YXIgcHJldlByb2QgPSBwZWVrKHRoaXMucmVjb3JkaW5nUHJvZFN0YWNrKTtcbiAgICAvLyBPbmx5IGFuIGFycmF5IG9mIGFsdGVybmF0aXZlc1xuICAgIHZhciBoYXNPcHRpb25zID0gaXNBcnJheShtYWluUHJvZEFyZykgPT09IGZhbHNlO1xuICAgIHZhciBhbHRzID0gaGFzT3B0aW9ucyA9PT0gZmFsc2UgPyBtYWluUHJvZEFyZyA6IG1haW5Qcm9kQXJnLkRFRjtcbiAgICB2YXIgbmV3T3JQcm9kID0gbmV3IEFsdGVybmF0aW9uKHtcbiAgICAgICAgZGVmaW5pdGlvbjogW10sXG4gICAgICAgIGlkeDogb2NjdXJyZW5jZSxcbiAgICAgICAgaWdub3JlQW1iaWd1aXRpZXM6IGhhc09wdGlvbnMgJiYgbWFpblByb2RBcmcuSUdOT1JFX0FNQklHVUlUSUVTID09PSB0cnVlXG4gICAgfSk7XG4gICAgaWYgKGhhcyhtYWluUHJvZEFyZywgXCJNQVhfTE9PS0FIRUFEXCIpKSB7XG4gICAgICAgIG5ld09yUHJvZC5tYXhMb29rYWhlYWQgPSBtYWluUHJvZEFyZy5NQVhfTE9PS0FIRUFEO1xuICAgIH1cbiAgICB2YXIgaGFzUHJlZGljYXRlcyA9IHNvbWUoYWx0cywgZnVuY3Rpb24gKGN1cnJBbHQpIHsgcmV0dXJuIGlzRnVuY3Rpb24oY3VyckFsdC5HQVRFKTsgfSk7XG4gICAgbmV3T3JQcm9kLmhhc1ByZWRpY2F0ZXMgPSBoYXNQcmVkaWNhdGVzO1xuICAgIHByZXZQcm9kLmRlZmluaXRpb24ucHVzaChuZXdPclByb2QpO1xuICAgIGZvckVhY2goYWx0cywgZnVuY3Rpb24gKGN1cnJBbHQpIHtcbiAgICAgICAgdmFyIGN1cnJBbHRGbGF0ID0gbmV3IEFsdGVybmF0aXZlKHsgZGVmaW5pdGlvbjogW10gfSk7XG4gICAgICAgIG5ld09yUHJvZC5kZWZpbml0aW9uLnB1c2goY3VyckFsdEZsYXQpO1xuICAgICAgICBpZiAoaGFzKGN1cnJBbHQsIFwiSUdOT1JFX0FNQklHVUlUSUVTXCIpKSB7XG4gICAgICAgICAgICBjdXJyQWx0RmxhdC5pZ25vcmVBbWJpZ3VpdGllcyA9IGN1cnJBbHQuSUdOT1JFX0FNQklHVUlUSUVTO1xuICAgICAgICB9XG4gICAgICAgIC8vICoqaW1wbGljaXQqKiBpZ25vcmVBbWJpZ3VpdGllcyBkdWUgdG8gdXNhZ2Ugb2YgZ2F0ZVxuICAgICAgICBlbHNlIGlmIChoYXMoY3VyckFsdCwgXCJHQVRFXCIpKSB7XG4gICAgICAgICAgICBjdXJyQWx0RmxhdC5pZ25vcmVBbWJpZ3VpdGllcyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMucmVjb3JkaW5nUHJvZFN0YWNrLnB1c2goY3VyckFsdEZsYXQpO1xuICAgICAgICBjdXJyQWx0LkFMVC5jYWxsKF90aGlzKTtcbiAgICAgICAgX3RoaXMucmVjb3JkaW5nUHJvZFN0YWNrLnBvcCgpO1xuICAgIH0pO1xuICAgIHJldHVybiBSRUNPUkRJTkdfTlVMTF9PQkpFQ1Q7XG59XG5mdW5jdGlvbiBnZXRJZHhTdWZmaXgoaWR4KSB7XG4gICAgcmV0dXJuIGlkeCA9PT0gMCA/IFwiXCIgOiBcIlwiICsgaWR4O1xufVxuZnVuY3Rpb24gYXNzZXJ0TWV0aG9kSWR4SXNWYWxpZChpZHgpIHtcbiAgICBpZiAoaWR4IDwgMCB8fCBpZHggPiBNQVhfTUVUSE9EX0lEWCkge1xuICAgICAgICB2YXIgZXJyb3IgPSBuZXcgRXJyb3IoXG4gICAgICAgIC8vIFRoZSBzdGFjayB0cmFjZSB3aWxsIGNvbnRhaW4gYWxsIHRoZSBuZWVkZWQgZGV0YWlsc1xuICAgICAgICBcIkludmFsaWQgRFNMIE1ldGhvZCBpZHggdmFsdWU6IDxcIiArIGlkeCArIFwiPlxcblxcdFwiICtcbiAgICAgICAgICAgIChcIklkeCB2YWx1ZSBtdXN0IGJlIGEgbm9uZSBuZWdhdGl2ZSB2YWx1ZSBzbWFsbGVyIHRoYW4gXCIgKyAoTUFYX01FVEhPRF9JRFggKyAxKSkpO1xuICAgICAgICBlcnJvci5LTk9XTl9SRUNPUkRFUl9FUlJPUiA9IHRydWU7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdhc3RfcmVjb3JkZXIuanMubWFwIiwiaW1wb3J0IHsgaGFzLCB0aW1lciB9IGZyb20gXCIuLi8uLi8uLi91dGlscy91dGlsc1wiO1xuaW1wb3J0IHsgREVGQVVMVF9QQVJTRVJfQ09ORklHIH0gZnJvbSBcIi4uL3BhcnNlclwiO1xuLyoqXG4gKiBUcmFpdCByZXNwb25zaWJsZSBmb3IgcnVudGltZSBwYXJzaW5nIGVycm9ycy5cbiAqL1xudmFyIFBlcmZvcm1hbmNlVHJhY2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFBlcmZvcm1hbmNlVHJhY2VyKCkge1xuICAgIH1cbiAgICBQZXJmb3JtYW5jZVRyYWNlci5wcm90b3R5cGUuaW5pdFBlcmZvcm1hbmNlVHJhY2VyID0gZnVuY3Rpb24gKGNvbmZpZykge1xuICAgICAgICBpZiAoaGFzKGNvbmZpZywgXCJ0cmFjZUluaXRQZXJmXCIpKSB7XG4gICAgICAgICAgICB2YXIgdXNlclRyYWNlSW5pdFBlcmYgPSBjb25maWcudHJhY2VJbml0UGVyZjtcbiAgICAgICAgICAgIHZhciB0cmFjZUlzTnVtYmVyID0gdHlwZW9mIHVzZXJUcmFjZUluaXRQZXJmID09PSBcIm51bWJlclwiO1xuICAgICAgICAgICAgdGhpcy50cmFjZUluaXRNYXhJZGVudCA9IHRyYWNlSXNOdW1iZXJcbiAgICAgICAgICAgICAgICA/IHVzZXJUcmFjZUluaXRQZXJmXG4gICAgICAgICAgICAgICAgOiBJbmZpbml0eTtcbiAgICAgICAgICAgIHRoaXMudHJhY2VJbml0UGVyZiA9IHRyYWNlSXNOdW1iZXJcbiAgICAgICAgICAgICAgICA/IHVzZXJUcmFjZUluaXRQZXJmID4gMFxuICAgICAgICAgICAgICAgIDogdXNlclRyYWNlSW5pdFBlcmY7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnRyYWNlSW5pdE1heElkZW50ID0gMDtcbiAgICAgICAgICAgIHRoaXMudHJhY2VJbml0UGVyZiA9IERFRkFVTFRfUEFSU0VSX0NPTkZJRy50cmFjZUluaXRQZXJmO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudHJhY2VJbml0SW5kZW50ID0gLTE7XG4gICAgfTtcbiAgICBQZXJmb3JtYW5jZVRyYWNlci5wcm90b3R5cGUuVFJBQ0VfSU5JVCA9IGZ1bmN0aW9uIChwaGFzZURlc2MsIHBoYXNlSW1wbCkge1xuICAgICAgICAvLyBObyBuZWVkIHRvIG9wdGltaXplIHRoaXMgdXNpbmcgTk9PUCBwYXR0ZXJuIGJlY2F1c2VcbiAgICAgICAgLy8gSXQgaXMgbm90IGNhbGxlZCBpbiBhIGhvdCBzcG90Li4uXG4gICAgICAgIGlmICh0aGlzLnRyYWNlSW5pdFBlcmYgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHRoaXMudHJhY2VJbml0SW5kZW50Kys7XG4gICAgICAgICAgICB2YXIgaW5kZW50ID0gbmV3IEFycmF5KHRoaXMudHJhY2VJbml0SW5kZW50ICsgMSkuam9pbihcIlxcdFwiKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnRyYWNlSW5pdEluZGVudCA8IHRoaXMudHJhY2VJbml0TWF4SWRlbnQpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhpbmRlbnQgKyBcIi0tPiA8XCIgKyBwaGFzZURlc2MgKyBcIj5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgX2EgPSB0aW1lcihwaGFzZUltcGwpLCB0aW1lID0gX2EudGltZSwgdmFsdWUgPSBfYS52YWx1ZTtcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0IC0gRGlmZmljdWx0IHRvIHJlcHJvZHVjZSBzcGVjaWZpYyBwZXJmb3JtYW5jZSBiZWhhdmlvciAoPjEwbXMpIGluIHRlc3RzICovXG4gICAgICAgICAgICB2YXIgdHJhY2VNZXRob2QgPSB0aW1lID4gMTAgPyBjb25zb2xlLndhcm4gOiBjb25zb2xlLmxvZztcbiAgICAgICAgICAgIGlmICh0aGlzLnRyYWNlSW5pdEluZGVudCA8IHRoaXMudHJhY2VJbml0TWF4SWRlbnQpIHtcbiAgICAgICAgICAgICAgICB0cmFjZU1ldGhvZChpbmRlbnQgKyBcIjwtLSA8XCIgKyBwaGFzZURlc2MgKyBcIj4gdGltZTogXCIgKyB0aW1lICsgXCJtc1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudHJhY2VJbml0SW5kZW50LS07XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gcGhhc2VJbXBsKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBQZXJmb3JtYW5jZVRyYWNlcjtcbn0oKSk7XG5leHBvcnQgeyBQZXJmb3JtYW5jZVRyYWNlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGVyZl90cmFjZXIuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5pbXBvcnQgeyBhcHBseU1peGlucywgY2xvbmVPYmosIGZvckVhY2gsIGhhcywgaXNFbXB0eSwgbWFwLCB0b0Zhc3RQcm9wZXJ0aWVzLCB2YWx1ZXMgfSBmcm9tIFwiLi4vLi4vdXRpbHMvdXRpbHNcIjtcbmltcG9ydCB7IGNvbXB1dGVBbGxQcm9kc0ZvbGxvd3MgfSBmcm9tIFwiLi4vZ3JhbW1hci9mb2xsb3dcIjtcbmltcG9ydCB7IGNyZWF0ZVRva2VuSW5zdGFuY2UsIEVPRiB9IGZyb20gXCIuLi8uLi9zY2FuL3Rva2Vuc19wdWJsaWNcIjtcbmltcG9ydCB7IGRlZmF1bHRHcmFtbWFyVmFsaWRhdG9yRXJyb3JQcm92aWRlciwgZGVmYXVsdFBhcnNlckVycm9yUHJvdmlkZXIgfSBmcm9tIFwiLi4vZXJyb3JzX3B1YmxpY1wiO1xuaW1wb3J0IHsgcmVzb2x2ZUdyYW1tYXIsIHZhbGlkYXRlR3JhbW1hciB9IGZyb20gXCIuLi9ncmFtbWFyL2dhc3QvZ2FzdF9yZXNvbHZlcl9wdWJsaWNcIjtcbmltcG9ydCB7IFJlY292ZXJhYmxlIH0gZnJvbSBcIi4vdHJhaXRzL3JlY292ZXJhYmxlXCI7XG5pbXBvcnQgeyBMb29rc0FoZWFkIH0gZnJvbSBcIi4vdHJhaXRzL2xvb2tzYWhlYWRcIjtcbmltcG9ydCB7IFRyZWVCdWlsZGVyIH0gZnJvbSBcIi4vdHJhaXRzL3RyZWVfYnVpbGRlclwiO1xuaW1wb3J0IHsgTGV4ZXJBZGFwdGVyIH0gZnJvbSBcIi4vdHJhaXRzL2xleGVyX2FkYXB0ZXJcIjtcbmltcG9ydCB7IFJlY29nbml6ZXJBcGkgfSBmcm9tIFwiLi90cmFpdHMvcmVjb2duaXplcl9hcGlcIjtcbmltcG9ydCB7IFJlY29nbml6ZXJFbmdpbmUgfSBmcm9tIFwiLi90cmFpdHMvcmVjb2duaXplcl9lbmdpbmVcIjtcbmltcG9ydCB7IEVycm9ySGFuZGxlciB9IGZyb20gXCIuL3RyYWl0cy9lcnJvcl9oYW5kbGVyXCI7XG5pbXBvcnQgeyBDb250ZW50QXNzaXN0IH0gZnJvbSBcIi4vdHJhaXRzL2NvbnRleHRfYXNzaXN0XCI7XG5pbXBvcnQgeyBHYXN0UmVjb3JkZXIgfSBmcm9tIFwiLi90cmFpdHMvZ2FzdF9yZWNvcmRlclwiO1xuaW1wb3J0IHsgUGVyZm9ybWFuY2VUcmFjZXIgfSBmcm9tIFwiLi90cmFpdHMvcGVyZl90cmFjZXJcIjtcbmV4cG9ydCB2YXIgRU5EX09GX0ZJTEUgPSBjcmVhdGVUb2tlbkluc3RhbmNlKEVPRiwgXCJcIiwgTmFOLCBOYU4sIE5hTiwgTmFOLCBOYU4sIE5hTik7XG5PYmplY3QuZnJlZXplKEVORF9PRl9GSUxFKTtcbmV4cG9ydCB2YXIgREVGQVVMVF9QQVJTRVJfQ09ORklHID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgcmVjb3ZlcnlFbmFibGVkOiBmYWxzZSxcbiAgICBtYXhMb29rYWhlYWQ6IDMsXG4gICAgZHluYW1pY1Rva2Vuc0VuYWJsZWQ6IGZhbHNlLFxuICAgIG91dHB1dENzdDogdHJ1ZSxcbiAgICBlcnJvck1lc3NhZ2VQcm92aWRlcjogZGVmYXVsdFBhcnNlckVycm9yUHJvdmlkZXIsXG4gICAgbm9kZUxvY2F0aW9uVHJhY2tpbmc6IFwibm9uZVwiLFxuICAgIHRyYWNlSW5pdFBlcmY6IGZhbHNlLFxuICAgIHNraXBWYWxpZGF0aW9uczogZmFsc2Vcbn0pO1xuZXhwb3J0IHZhciBERUZBVUxUX1JVTEVfQ09ORklHID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgcmVjb3ZlcnlWYWx1ZUZ1bmM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSxcbiAgICByZXN5bmNFbmFibGVkOiB0cnVlXG59KTtcbmV4cG9ydCB2YXIgUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZTtcbihmdW5jdGlvbiAoUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZSkge1xuICAgIFBhcnNlckRlZmluaXRpb25FcnJvclR5cGVbUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZVtcIklOVkFMSURfUlVMRV9OQU1FXCJdID0gMF0gPSBcIklOVkFMSURfUlVMRV9OQU1FXCI7XG4gICAgUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZVtQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlW1wiRFVQTElDQVRFX1JVTEVfTkFNRVwiXSA9IDFdID0gXCJEVVBMSUNBVEVfUlVMRV9OQU1FXCI7XG4gICAgUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZVtQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlW1wiSU5WQUxJRF9SVUxFX09WRVJSSURFXCJdID0gMl0gPSBcIklOVkFMSURfUlVMRV9PVkVSUklERVwiO1xuICAgIFBhcnNlckRlZmluaXRpb25FcnJvclR5cGVbUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZVtcIkRVUExJQ0FURV9QUk9EVUNUSU9OU1wiXSA9IDNdID0gXCJEVVBMSUNBVEVfUFJPRFVDVElPTlNcIjtcbiAgICBQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlW1BhcnNlckRlZmluaXRpb25FcnJvclR5cGVbXCJVTlJFU09MVkVEX1NVQlJVTEVfUkVGXCJdID0gNF0gPSBcIlVOUkVTT0xWRURfU1VCUlVMRV9SRUZcIjtcbiAgICBQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlW1BhcnNlckRlZmluaXRpb25FcnJvclR5cGVbXCJMRUZUX1JFQ1VSU0lPTlwiXSA9IDVdID0gXCJMRUZUX1JFQ1VSU0lPTlwiO1xuICAgIFBhcnNlckRlZmluaXRpb25FcnJvclR5cGVbUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZVtcIk5PTkVfTEFTVF9FTVBUWV9BTFRcIl0gPSA2XSA9IFwiTk9ORV9MQVNUX0VNUFRZX0FMVFwiO1xuICAgIFBhcnNlckRlZmluaXRpb25FcnJvclR5cGVbUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZVtcIkFNQklHVU9VU19BTFRTXCJdID0gN10gPSBcIkFNQklHVU9VU19BTFRTXCI7XG4gICAgUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZVtQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlW1wiQ09ORkxJQ1RfVE9LRU5TX1JVTEVTX05BTUVTUEFDRVwiXSA9IDhdID0gXCJDT05GTElDVF9UT0tFTlNfUlVMRVNfTkFNRVNQQUNFXCI7XG4gICAgUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZVtQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlW1wiSU5WQUxJRF9UT0tFTl9OQU1FXCJdID0gOV0gPSBcIklOVkFMSURfVE9LRU5fTkFNRVwiO1xuICAgIFBhcnNlckRlZmluaXRpb25FcnJvclR5cGVbUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZVtcIk5PX05PTl9FTVBUWV9MT09LQUhFQURcIl0gPSAxMF0gPSBcIk5PX05PTl9FTVBUWV9MT09LQUhFQURcIjtcbiAgICBQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlW1BhcnNlckRlZmluaXRpb25FcnJvclR5cGVbXCJBTUJJR1VPVVNfUFJFRklYX0FMVFNcIl0gPSAxMV0gPSBcIkFNQklHVU9VU19QUkVGSVhfQUxUU1wiO1xuICAgIFBhcnNlckRlZmluaXRpb25FcnJvclR5cGVbUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZVtcIlRPT19NQU5ZX0FMVFNcIl0gPSAxMl0gPSBcIlRPT19NQU5ZX0FMVFNcIjtcbn0pKFBhcnNlckRlZmluaXRpb25FcnJvclR5cGUgfHwgKFBhcnNlckRlZmluaXRpb25FcnJvclR5cGUgPSB7fSkpO1xuZXhwb3J0IGZ1bmN0aW9uIEVNUFRZX0FMVCh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PT0gdm9pZCAwKSB7IHZhbHVlID0gdW5kZWZpbmVkOyB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH07XG59XG52YXIgUGFyc2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFBhcnNlcih0b2tlblZvY2FidWxhcnksIGNvbmZpZykge1xuICAgICAgICB0aGlzLmRlZmluaXRpb25FcnJvcnMgPSBbXTtcbiAgICAgICAgdGhpcy5zZWxmQW5hbHlzaXNEb25lID0gZmFsc2U7XG4gICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgdGhhdC5pbml0RXJyb3JIYW5kbGVyKGNvbmZpZyk7XG4gICAgICAgIHRoYXQuaW5pdExleGVyQWRhcHRlcigpO1xuICAgICAgICB0aGF0LmluaXRMb29rc0FoZWFkKGNvbmZpZyk7XG4gICAgICAgIHRoYXQuaW5pdFJlY29nbml6ZXJFbmdpbmUodG9rZW5Wb2NhYnVsYXJ5LCBjb25maWcpO1xuICAgICAgICB0aGF0LmluaXRSZWNvdmVyYWJsZShjb25maWcpO1xuICAgICAgICB0aGF0LmluaXRUcmVlQnVpbGRlcihjb25maWcpO1xuICAgICAgICB0aGF0LmluaXRDb250ZW50QXNzaXN0KCk7XG4gICAgICAgIHRoYXQuaW5pdEdhc3RSZWNvcmRlcihjb25maWcpO1xuICAgICAgICB0aGF0LmluaXRQZXJmb3JtYW5jZVRyYWNlcihjb25maWcpO1xuICAgICAgICBpZiAoaGFzKGNvbmZpZywgXCJpZ25vcmVkSXNzdWVzXCIpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgPGlnbm9yZWRJc3N1ZXM+IElQYXJzZXJDb25maWcgcHJvcGVydHkgaGFzIGJlZW4gZGVwcmVjYXRlZC5cXG5cXHRcIiArXG4gICAgICAgICAgICAgICAgXCJQbGVhc2UgdXNlIHRoZSA8SUdOT1JFX0FNQklHVUlUSUVTPiBmbGFnIG9uIHRoZSByZWxldmFudCBEU0wgbWV0aG9kIGluc3RlYWQuXFxuXFx0XCIgK1xuICAgICAgICAgICAgICAgIFwiU2VlOiBodHRwczovL3NhcC5naXRodWIuaW8vY2hldnJvdGFpbi9kb2NzL2d1aWRlL3Jlc29sdmluZ19ncmFtbWFyX2Vycm9ycy5odG1sI0lHTk9SSU5HX0FNQklHVUlUSUVTXFxuXFx0XCIgK1xuICAgICAgICAgICAgICAgIFwiRm9yIGZ1cnRoZXIgZGV0YWlscy5cIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5za2lwVmFsaWRhdGlvbnMgPSBoYXMoY29uZmlnLCBcInNraXBWYWxpZGF0aW9uc1wiKVxuICAgICAgICAgICAgPyBjb25maWcuc2tpcFZhbGlkYXRpb25zXG4gICAgICAgICAgICA6IERFRkFVTFRfUEFSU0VSX0NPTkZJRy5za2lwVmFsaWRhdGlvbnM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqICBAZGVwcmVjYXRlZCB1c2UgdGhlICoqaW5zdGFuY2UqKiBtZXRob2Qgd2l0aCB0aGUgc2FtZSBuYW1lIGluc3RlYWRcbiAgICAgKi9cbiAgICBQYXJzZXIucGVyZm9ybVNlbGZBbmFseXNpcyA9IGZ1bmN0aW9uIChwYXJzZXJJbnN0YW5jZSkge1xuICAgICAgICB0aHJvdyBFcnJvcihcIlRoZSAqKnN0YXRpYyoqIGBwZXJmb3JtU2VsZkFuYWx5c2lzYCBtZXRob2QgaGFzIGJlZW4gZGVwcmVjYXRlZC5cIiArXG4gICAgICAgICAgICBcIlxcdFxcblVzZSB0aGUgKippbnN0YW5jZSoqIG1ldGhvZCB3aXRoIHRoZSBzYW1lIG5hbWUgaW5zdGVhZC5cIik7XG4gICAgfTtcbiAgICBQYXJzZXIucHJvdG90eXBlLnBlcmZvcm1TZWxmQW5hbHlzaXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuVFJBQ0VfSU5JVChcInBlcmZvcm1TZWxmQW5hbHlzaXNcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGRlZkVycm9yc01zZ3M7XG4gICAgICAgICAgICBfdGhpcy5zZWxmQW5hbHlzaXNEb25lID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciBjbGFzc05hbWUgPSBfdGhpcy5jbGFzc05hbWU7XG4gICAgICAgICAgICBfdGhpcy5UUkFDRV9JTklUKFwidG9GYXN0UHJvcHNcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIC8vIFdpdGhvdXQgdGhpcyB2b29kb28gbWFnaWMgdGhlIHBhcnNlciB3b3VsZCBiZSB4My14NCBzbG93ZXJcbiAgICAgICAgICAgICAgICAvLyBJdCBzZWVtcyBpdCBpcyBiZXR0ZXIgdG8gaW52b2tlIGB0b0Zhc3RQcm9wZXJ0aWVzYCAqKmJlZm9yZSoqXG4gICAgICAgICAgICAgICAgLy8gQW55IG1hbmlwdWxhdGlvbnMgb2YgdGhlIGB0aGlzYCBvYmplY3QgZG9uZSBkdXJpbmcgdGhlIHJlY29yZGluZyBwaGFzZS5cbiAgICAgICAgICAgICAgICB0b0Zhc3RQcm9wZXJ0aWVzKF90aGlzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgX3RoaXMuVFJBQ0VfSU5JVChcIkdyYW1tYXIgUmVjb3JkaW5nXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5lbmFibGVSZWNvcmRpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gQnVpbGRpbmcgdGhlIEdBU1RcbiAgICAgICAgICAgICAgICAgICAgZm9yRWFjaChfdGhpcy5kZWZpbmVkUnVsZXNOYW1lcywgZnVuY3Rpb24gKGN1cnJSdWxlTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHdyYXBwZWRSdWxlID0gX3RoaXNbY3VyclJ1bGVOYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvcmlnaW5hbEdyYW1tYXJBY3Rpb24gPSB3cmFwcGVkUnVsZVtcIm9yaWdpbmFsR3JhbW1hckFjdGlvblwiXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZWNvcmRlZFJ1bGVHYXN0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuVFJBQ0VfSU5JVChjdXJyUnVsZU5hbWUgKyBcIiBSdWxlXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWNvcmRlZFJ1bGVHYXN0ID0gX3RoaXMudG9wTGV2ZWxSdWxlUmVjb3JkKGN1cnJSdWxlTmFtZSwgb3JpZ2luYWxHcmFtbWFyQWN0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZ2FzdFByb2R1Y3Rpb25zQ2FjaGVbY3VyclJ1bGVOYW1lXSA9IHJlY29yZGVkUnVsZUdhc3Q7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGlzYWJsZVJlY29yZGluZygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIHJlc29sdmVyRXJyb3JzID0gW107XG4gICAgICAgICAgICBfdGhpcy5UUkFDRV9JTklUKFwiR3JhbW1hciBSZXNvbHZpbmdcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJlc29sdmVyRXJyb3JzID0gcmVzb2x2ZUdyYW1tYXIoe1xuICAgICAgICAgICAgICAgICAgICBydWxlczogdmFsdWVzKF90aGlzLmdhc3RQcm9kdWN0aW9uc0NhY2hlKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIF90aGlzLmRlZmluaXRpb25FcnJvcnMucHVzaC5hcHBseShfdGhpcy5kZWZpbml0aW9uRXJyb3JzLCByZXNvbHZlckVycm9ycyk7IC8vIG11dGFiaWxpdHkgZm9yIHRoZSB3aW4/XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIF90aGlzLlRSQUNFX0lOSVQoXCJHcmFtbWFyIFZhbGlkYXRpb25zXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAvLyBvbmx5IHBlcmZvcm0gYWRkaXRpb25hbCBncmFtbWFyIHZhbGlkYXRpb25zIElGRiBubyByZXNvbHZpbmcgZXJyb3JzIGhhdmUgb2NjdXJyZWQuXG4gICAgICAgICAgICAgICAgLy8gYXMgdW5yZXNvbHZlZCBncmFtbWFyIG1heSBsZWFkIHRvIHVuaGFuZGxlZCBydW50aW1lIGV4Y2VwdGlvbnMgaW4gdGhlIGZvbGxvdyB1cCB2YWxpZGF0aW9ucy5cbiAgICAgICAgICAgICAgICBpZiAoaXNFbXB0eShyZXNvbHZlckVycm9ycykgJiYgX3RoaXMuc2tpcFZhbGlkYXRpb25zID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsaWRhdGlvbkVycm9ycyA9IHZhbGlkYXRlR3JhbW1hcih7XG4gICAgICAgICAgICAgICAgICAgICAgICBydWxlczogdmFsdWVzKF90aGlzLmdhc3RQcm9kdWN0aW9uc0NhY2hlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heExvb2thaGVhZDogX3RoaXMubWF4TG9va2FoZWFkLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW5UeXBlczogdmFsdWVzKF90aGlzLnRva2Vuc01hcCksXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJNc2dQcm92aWRlcjogZGVmYXVsdEdyYW1tYXJWYWxpZGF0b3JFcnJvclByb3ZpZGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgZ3JhbW1hck5hbWU6IGNsYXNzTmFtZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGVmaW5pdGlvbkVycm9ycy5wdXNoLmFwcGx5KF90aGlzLmRlZmluaXRpb25FcnJvcnMsIHZhbGlkYXRpb25FcnJvcnMpOyAvLyBtdXRhYmlsaXR5IGZvciB0aGUgd2luP1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gdGhpcyBhbmFseXNpcyBtYXkgZmFpbCBpZiB0aGUgZ3JhbW1hciBpcyBub3QgcGVyZmVjdGx5IHZhbGlkXG4gICAgICAgICAgICBpZiAoaXNFbXB0eShfdGhpcy5kZWZpbml0aW9uRXJyb3JzKSkge1xuICAgICAgICAgICAgICAgIC8vIFRoZSByZXN1bHRzIG9mIHRoZXNlIGNvbXB1dGF0aW9ucyBhcmUgbm90IG5lZWRlZCB1bmxlc3MgZXJyb3IgcmVjb3ZlcnkgaXMgZW5hYmxlZC5cbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMucmVjb3ZlcnlFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLlRSQUNFX0lOSVQoXCJjb21wdXRlQWxsUHJvZHNGb2xsb3dzXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhbGxGb2xsb3dzID0gY29tcHV0ZUFsbFByb2RzRm9sbG93cyh2YWx1ZXMoX3RoaXMuZ2FzdFByb2R1Y3Rpb25zQ2FjaGUpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnJlc3luY0ZvbGxvd3MgPSBhbGxGb2xsb3dzO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgX3RoaXMuVFJBQ0VfSU5JVChcIkNvbXB1dGVMb29rYWhlYWRGdW5jdGlvbnNcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5wcmVDb21wdXRlTG9va2FoZWFkRnVuY3Rpb25zKHZhbHVlcyhfdGhpcy5nYXN0UHJvZHVjdGlvbnNDYWNoZSkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFQYXJzZXIuREVGRVJfREVGSU5JVElPTl9FUlJPUlNfSEFORExJTkcgJiZcbiAgICAgICAgICAgICAgICAhaXNFbXB0eShfdGhpcy5kZWZpbml0aW9uRXJyb3JzKSkge1xuICAgICAgICAgICAgICAgIGRlZkVycm9yc01zZ3MgPSBtYXAoX3RoaXMuZGVmaW5pdGlvbkVycm9ycywgZnVuY3Rpb24gKGRlZkVycm9yKSB7IHJldHVybiBkZWZFcnJvci5tZXNzYWdlOyB9KTtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJQYXJzZXIgRGVmaW5pdGlvbiBFcnJvcnMgZGV0ZWN0ZWQ6XFxuIFwiICsgZGVmRXJyb3JzTXNncy5qb2luKFwiXFxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxcblwiKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLy8gU2V0IHRoaXMgZmxhZyB0byB0cnVlIGlmIHlvdSBkb24ndCB3YW50IHRoZSBQYXJzZXIgdG8gdGhyb3cgZXJyb3Igd2hlbiBwcm9ibGVtcyBpbiBpdCdzIGRlZmluaXRpb24gYXJlIGRldGVjdGVkLlxuICAgIC8vIChub3JtYWxseSBkdXJpbmcgdGhlIHBhcnNlcidzIGNvbnN0cnVjdG9yKS5cbiAgICAvLyBUaGlzIGlzIGEgZGVzaWduIHRpbWUgZmxhZywgaXQgd2lsbCBub3QgYWZmZWN0IHRoZSBydW50aW1lIGVycm9yIGhhbmRsaW5nIG9mIHRoZSBwYXJzZXIsIGp1c3QgZGVzaWduIHRpbWUgZXJyb3JzLFxuICAgIC8vIGZvciBleGFtcGxlOiBkdXBsaWNhdGUgcnVsZSBuYW1lcywgcmVmZXJlbmNpbmcgYW4gdW5yZXNvbHZlZCBzdWJydWxlLCBlY3QuLi5cbiAgICAvLyBUaGlzIGZsYWcgc2hvdWxkIG5vdCBiZSBlbmFibGVkIGR1cmluZyBub3JtYWwgdXNhZ2UsIGl0IGlzIHVzZWQgaW4gc3BlY2lhbCBzaXR1YXRpb25zLCBmb3IgZXhhbXBsZSB3aGVuXG4gICAgLy8gbmVlZGluZyB0byBkaXNwbGF5IHRoZSBwYXJzZXIgZGVmaW5pdGlvbiBlcnJvcnMgaW4gc29tZSBHVUkob25saW5lIHBsYXlncm91bmQpLlxuICAgIFBhcnNlci5ERUZFUl9ERUZJTklUSU9OX0VSUk9SU19IQU5ETElORyA9IGZhbHNlO1xuICAgIHJldHVybiBQYXJzZXI7XG59KCkpO1xuZXhwb3J0IHsgUGFyc2VyIH07XG5hcHBseU1peGlucyhQYXJzZXIsIFtcbiAgICBSZWNvdmVyYWJsZSxcbiAgICBMb29rc0FoZWFkLFxuICAgIFRyZWVCdWlsZGVyLFxuICAgIExleGVyQWRhcHRlcixcbiAgICBSZWNvZ25pemVyRW5naW5lLFxuICAgIFJlY29nbml6ZXJBcGksXG4gICAgRXJyb3JIYW5kbGVyLFxuICAgIENvbnRlbnRBc3Npc3QsXG4gICAgR2FzdFJlY29yZGVyLFxuICAgIFBlcmZvcm1hbmNlVHJhY2VyXG5dKTtcbnZhciBDc3RQYXJzZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKENzdFBhcnNlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBDc3RQYXJzZXIodG9rZW5Wb2NhYnVsYXJ5LCBjb25maWcpIHtcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IERFRkFVTFRfUEFSU0VSX0NPTkZJRzsgfVxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgY29uZmlnQ2xvbmUgPSBjbG9uZU9iaihjb25maWcpO1xuICAgICAgICBjb25maWdDbG9uZS5vdXRwdXRDc3QgPSB0cnVlO1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHRva2VuVm9jYWJ1bGFyeSwgY29uZmlnQ2xvbmUpIHx8IHRoaXM7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIENzdFBhcnNlcjtcbn0oUGFyc2VyKSk7XG5leHBvcnQgeyBDc3RQYXJzZXIgfTtcbnZhciBFbWJlZGRlZEFjdGlvbnNQYXJzZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEVtYmVkZGVkQWN0aW9uc1BhcnNlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBFbWJlZGRlZEFjdGlvbnNQYXJzZXIodG9rZW5Wb2NhYnVsYXJ5LCBjb25maWcpIHtcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IERFRkFVTFRfUEFSU0VSX0NPTkZJRzsgfVxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgY29uZmlnQ2xvbmUgPSBjbG9uZU9iaihjb25maWcpO1xuICAgICAgICBjb25maWdDbG9uZS5vdXRwdXRDc3QgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB0b2tlblZvY2FidWxhcnksIGNvbmZpZ0Nsb25lKSB8fCB0aGlzO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIHJldHVybiBFbWJlZGRlZEFjdGlvbnNQYXJzZXI7XG59KFBhcnNlcikpO1xuZXhwb3J0IHsgRW1iZWRkZWRBY3Rpb25zUGFyc2VyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYXJzZXIuanMubWFwIiwiaW1wb3J0IHsgVkVSU0lPTiB9IGZyb20gXCIuLi92ZXJzaW9uXCI7XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU3ludGF4RGlhZ3JhbXNDb2RlKGdyYW1tYXIsIF9hKSB7XG4gICAgdmFyIF9iID0gX2EgPT09IHZvaWQgMCA/IHt9IDogX2EsIF9jID0gX2IucmVzb3VyY2VCYXNlLCByZXNvdXJjZUJhc2UgPSBfYyA9PT0gdm9pZCAwID8gXCJodHRwczovL3VucGtnLmNvbS9jaGV2cm90YWluQFwiICsgVkVSU0lPTiArIFwiL2RpYWdyYW1zL1wiIDogX2MsIF9kID0gX2IuY3NzLCBjc3MgPSBfZCA9PT0gdm9pZCAwID8gXCJodHRwczovL3VucGtnLmNvbS9jaGV2cm90YWluQFwiICsgVkVSU0lPTiArIFwiL2RpYWdyYW1zL2RpYWdyYW1zLmNzc1wiIDogX2Q7XG4gICAgdmFyIGhlYWRlciA9IFwiXFxuPCEtLSBUaGlzIGlzIGEgZ2VuZXJhdGVkIGZpbGUgLS0+XFxuPCFET0NUWVBFIGh0bWw+XFxuPG1ldGEgY2hhcnNldD1cXFwidXRmLThcXFwiPlxcbjxzdHlsZT5cXG4gIGJvZHkge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBoc2woMzAsIDIwJSwgOTUlKVxcbiAgfVxcbjwvc3R5bGU+XFxuXFxuXCI7XG4gICAgdmFyIGNzc0h0bWwgPSBcIlxcbjxsaW5rIHJlbD0nc3R5bGVzaGVldCcgaHJlZj0nXCIgKyBjc3MgKyBcIic+XFxuXCI7XG4gICAgdmFyIHNjcmlwdHMgPSBcIlxcbjxzY3JpcHQgc3JjPSdcIiArIHJlc291cmNlQmFzZSArIFwidmVuZG9yL3JhaWxyb2FkLWRpYWdyYW1zLmpzJz48L3NjcmlwdD5cXG48c2NyaXB0IHNyYz0nXCIgKyByZXNvdXJjZUJhc2UgKyBcInNyYy9kaWFncmFtc19idWlsZGVyLmpzJz48L3NjcmlwdD5cXG48c2NyaXB0IHNyYz0nXCIgKyByZXNvdXJjZUJhc2UgKyBcInNyYy9kaWFncmFtc19iZWhhdmlvci5qcyc+PC9zY3JpcHQ+XFxuPHNjcmlwdCBzcmM9J1wiICsgcmVzb3VyY2VCYXNlICsgXCJzcmMvbWFpbi5qcyc+PC9zY3JpcHQ+XFxuXCI7XG4gICAgdmFyIGRpYWdyYW1zRGl2ID0gXCJcXG48ZGl2IGlkPVxcXCJkaWFncmFtc1xcXCIgYWxpZ249XFxcImNlbnRlclxcXCI+PC9kaXY+ICAgIFxcblwiO1xuICAgIHZhciBzZXJpYWxpemVkR3JhbW1hciA9IFwiXFxuPHNjcmlwdD5cXG4gICAgd2luZG93LnNlcmlhbGl6ZWRHcmFtbWFyID0gXCIgKyBKU09OLnN0cmluZ2lmeShncmFtbWFyLCBudWxsLCBcIiAgXCIpICsgXCI7XFxuPC9zY3JpcHQ+XFxuXCI7XG4gICAgdmFyIGluaXRMb2dpYyA9IFwiXFxuPHNjcmlwdD5cXG4gICAgdmFyIGRpYWdyYW1zRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXFxcImRpYWdyYW1zXFxcIik7XFxuICAgIG1haW4uZHJhd0RpYWdyYW1zRnJvbVNlcmlhbGl6ZWRHcmFtbWFyKHNlcmlhbGl6ZWRHcmFtbWFyLCBkaWFncmFtc0Rpdik7XFxuPC9zY3JpcHQ+XFxuXCI7XG4gICAgcmV0dXJuIChoZWFkZXIgKyBjc3NIdG1sICsgc2NyaXB0cyArIGRpYWdyYW1zRGl2ICsgc2VyaWFsaXplZEdyYW1tYXIgKyBpbml0TG9naWMpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVuZGVyX3B1YmxpYy5qcy5tYXAiLCJpbXBvcnQgeyBmb3JFYWNoLCBtYXAgfSBmcm9tIFwiLi4vdXRpbHMvdXRpbHNcIjtcbmltcG9ydCB7IFJlcGV0aXRpb25NYW5kYXRvcnksIE9wdGlvbiwgUmVwZXRpdGlvbk1hbmRhdG9yeVdpdGhTZXBhcmF0b3IsIFJlcGV0aXRpb25XaXRoU2VwYXJhdG9yLCBUZXJtaW5hbCwgTm9uVGVybWluYWwsIEFsdGVybmF0aW9uLCBBbHRlcm5hdGl2ZSwgUmVwZXRpdGlvbiB9IGZyb20gXCIuLi9wYXJzZS9ncmFtbWFyL2dhc3QvZ2FzdF9wdWJsaWNcIjtcbi8qKlxuICogTWlzc2luZyBmZWF0dXJlc1xuICogMS4gUnVsZSBhcmd1bWVudHNcbiAqIDIuIEdhdGVzXG4gKiAzLiBlbWJlZGRlZCBhY3Rpb25zXG4gKi9cbnZhciBOTCA9IFwiXFxuXCI7XG5leHBvcnQgZnVuY3Rpb24gZ2VuVW1kTW9kdWxlKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gXCJcXG4oZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHtcXG4gICAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xcbiAgICAgICAgLy8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxcbiAgICAgICAgZGVmaW5lKFsnY2hldnJvdGFpbiddLCBmYWN0b3J5KTtcXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cykge1xcbiAgICAgICAgLy8gTm9kZS4gRG9lcyBub3Qgd29yayB3aXRoIHN0cmljdCBDb21tb25KUywgYnV0XFxuICAgICAgICAvLyBvbmx5IENvbW1vbkpTLWxpa2UgZW52aXJvbm1lbnRzIHRoYXQgc3VwcG9ydCBtb2R1bGUuZXhwb3J0cyxcXG4gICAgICAgIC8vIGxpa2UgTm9kZS5cXG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKCdjaGV2cm90YWluJykpO1xcbiAgICB9IGVsc2Uge1xcbiAgICAgICAgLy8gQnJvd3NlciBnbG9iYWxzIChyb290IGlzIHdpbmRvdylcXG4gICAgICAgIHJvb3QucmV0dXJuRXhwb3J0cyA9IGZhY3Rvcnkocm9vdC5iKTtcXG4gICAgfVxcbn0odHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHRoaXMsIGZ1bmN0aW9uIChjaGV2cm90YWluKSB7XFxuXFxuXCIgKyBnZW5DbGFzcyhvcHRpb25zKSArIFwiXFxuICAgIFxcbnJldHVybiB7XFxuICAgIFwiICsgb3B0aW9ucy5uYW1lICsgXCI6IFwiICsgb3B0aW9ucy5uYW1lICsgXCIgXFxufVxcbn0pKTtcXG5cIjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZW5XcmFwcGVyRnVuY3Rpb24ob3B0aW9ucykge1xuICAgIHJldHVybiBcIiAgICBcXG5cIiArIGdlbkNsYXNzKG9wdGlvbnMpICsgXCJcXG5yZXR1cm4gbmV3IFwiICsgb3B0aW9ucy5uYW1lICsgXCIodG9rZW5Wb2NhYnVsYXJ5LCBjb25maWcpICAgIFxcblwiO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdlbkNsYXNzKG9wdGlvbnMpIHtcbiAgICAvLyBUT0RPOiBob3cgdG8gcGFzcyB0aGUgdG9rZW4gdm9jYWJ1bGFyeT8gQ29uc3RydWN0b3I/IG90aGVyP1xuICAgIHZhciByZXN1bHQgPSBcIlxcbmZ1bmN0aW9uIFwiICsgb3B0aW9ucy5uYW1lICsgXCIodG9rZW5Wb2NhYnVsYXJ5LCBjb25maWcpIHtcXG4gICAgLy8gaW52b2tlIHN1cGVyIGNvbnN0cnVjdG9yXFxuICAgIC8vIE5vIHN1cHBvcnQgZm9yIGVtYmVkZGVkIGFjdGlvbnMgY3VycmVudGx5LCBzbyB3ZSBjYW4gJ2hhcmRjb2RlJ1xcbiAgICAvLyBUaGUgdXNlIG9mIENzdFBhcnNlci5cXG4gICAgY2hldnJvdGFpbi5Dc3RQYXJzZXIuY2FsbCh0aGlzLCB0b2tlblZvY2FidWxhcnksIGNvbmZpZylcXG5cXG4gICAgY29uc3QgJCA9IHRoaXNcXG5cXG4gICAgXCIgKyBnZW5BbGxSdWxlcyhvcHRpb25zLnJ1bGVzKSArIFwiXFxuXFxuICAgIC8vIHZlcnkgaW1wb3J0YW50IHRvIGNhbGwgdGhpcyBhZnRlciBhbGwgdGhlIHJ1bGVzIGhhdmUgYmVlbiBkZWZpbmVkLlxcbiAgICAvLyBvdGhlcndpc2UgdGhlIHBhcnNlciBtYXkgbm90IHdvcmsgY29ycmVjdGx5IGFzIGl0IHdpbGwgbGFjayBpbmZvcm1hdGlvblxcbiAgICAvLyBkZXJpdmVkIGR1cmluZyB0aGUgc2VsZiBhbmFseXNpcyBwaGFzZS5cXG4gICAgdGhpcy5wZXJmb3JtU2VsZkFuYWx5c2lzKHRoaXMpXFxufVxcblxcbi8vIGluaGVyaXRhbmNlIGFzIGltcGxlbWVudGVkIGluIGphdmFzY3JpcHQgaW4gdGhlIHByZXZpb3VzIGRlY2FkZS4uLiA6KFxcblwiICsgb3B0aW9ucy5uYW1lICsgXCIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShjaGV2cm90YWluLkNzdFBhcnNlci5wcm90b3R5cGUpXFxuXCIgKyBvcHRpb25zLm5hbWUgKyBcIi5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBcIiArIG9wdGlvbnMubmFtZSArIFwiICAgIFxcbiAgICBcIjtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdlbkFsbFJ1bGVzKHJ1bGVzKSB7XG4gICAgdmFyIHJ1bGVzVGV4dCA9IG1hcChydWxlcywgZnVuY3Rpb24gKGN1cnJSdWxlKSB7XG4gICAgICAgIHJldHVybiBnZW5SdWxlKGN1cnJSdWxlLCAxKTtcbiAgICB9KTtcbiAgICByZXR1cm4gcnVsZXNUZXh0LmpvaW4oXCJcXG5cIik7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2VuUnVsZShwcm9kLCBuKSB7XG4gICAgdmFyIHJlc3VsdCA9IGluZGVudChuLCBcIiQuUlVMRShcXFwiXCIgKyBwcm9kLm5hbWUgKyBcIlxcXCIsIGZ1bmN0aW9uKCkge1wiKSArIE5MO1xuICAgIHJlc3VsdCArPSBnZW5EZWZpbml0aW9uKHByb2QuZGVmaW5pdGlvbiwgbiArIDEpO1xuICAgIHJlc3VsdCArPSBpbmRlbnQobiArIDEsIFwifSlcIikgKyBOTDtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdlblRlcm1pbmFsKHByb2QsIG4pIHtcbiAgICB2YXIgbmFtZSA9IHByb2QudGVybWluYWxUeXBlLm5hbWU7XG4gICAgLy8gVE9ETzogcG90ZW50aWFsIHBlcmZvcm1hbmNlIG9wdGltaXphdGlvbiwgYXZvaWQgdG9rZW5NYXAgRGljdGlvbmFyeSBhY2Nlc3NcbiAgICByZXR1cm4gaW5kZW50KG4sIFwiJC5DT05TVU1FXCIgKyBwcm9kLmlkeCArIFwiKHRoaXMudG9rZW5zTWFwLlwiICsgbmFtZSArIFwiKVwiICsgTkwpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdlbk5vblRlcm1pbmFsKHByb2QsIG4pIHtcbiAgICByZXR1cm4gaW5kZW50KG4sIFwiJC5TVUJSVUxFXCIgKyBwcm9kLmlkeCArIFwiKCQuXCIgKyBwcm9kLm5vblRlcm1pbmFsTmFtZSArIFwiKVwiICsgTkwpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdlbkFsdGVybmF0aW9uKHByb2QsIG4pIHtcbiAgICB2YXIgcmVzdWx0ID0gaW5kZW50KG4sIFwiJC5PUlwiICsgcHJvZC5pZHggKyBcIihbXCIpICsgTkw7XG4gICAgdmFyIGFsdHMgPSBtYXAocHJvZC5kZWZpbml0aW9uLCBmdW5jdGlvbiAoYWx0RGVmKSB7IHJldHVybiBnZW5TaW5nbGVBbHQoYWx0RGVmLCBuICsgMSk7IH0pO1xuICAgIHJlc3VsdCArPSBhbHRzLmpvaW4oXCIsXCIgKyBOTCk7XG4gICAgcmVzdWx0ICs9IE5MICsgaW5kZW50KG4sIFwiXSlcIiArIE5MKTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdlblNpbmdsZUFsdChwcm9kLCBuKSB7XG4gICAgdmFyIHJlc3VsdCA9IGluZGVudChuLCBcIntcIikgKyBOTDtcbiAgICByZXN1bHQgKz0gaW5kZW50KG4gKyAxLCBcIkFMVDogZnVuY3Rpb24oKSB7XCIpICsgTkw7XG4gICAgcmVzdWx0ICs9IGdlbkRlZmluaXRpb24ocHJvZC5kZWZpbml0aW9uLCBuICsgMSk7XG4gICAgcmVzdWx0ICs9IGluZGVudChuICsgMSwgXCJ9XCIpICsgTkw7XG4gICAgcmVzdWx0ICs9IGluZGVudChuLCBcIn1cIik7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGdlblByb2QocHJvZCwgbikge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgaWYgKHByb2QgaW5zdGFuY2VvZiBOb25UZXJtaW5hbCkge1xuICAgICAgICByZXR1cm4gZ2VuTm9uVGVybWluYWwocHJvZCwgbik7XG4gICAgfVxuICAgIGVsc2UgaWYgKHByb2QgaW5zdGFuY2VvZiBPcHRpb24pIHtcbiAgICAgICAgcmV0dXJuIGdlbkRTTFJ1bGUoXCJPUFRJT05cIiwgcHJvZCwgbik7XG4gICAgfVxuICAgIGVsc2UgaWYgKHByb2QgaW5zdGFuY2VvZiBSZXBldGl0aW9uTWFuZGF0b3J5KSB7XG4gICAgICAgIHJldHVybiBnZW5EU0xSdWxlKFwiQVRfTEVBU1RfT05FXCIsIHByb2QsIG4pO1xuICAgIH1cbiAgICBlbHNlIGlmIChwcm9kIGluc3RhbmNlb2YgUmVwZXRpdGlvbk1hbmRhdG9yeVdpdGhTZXBhcmF0b3IpIHtcbiAgICAgICAgcmV0dXJuIGdlbkRTTFJ1bGUoXCJBVF9MRUFTVF9PTkVfU0VQXCIsIHByb2QsIG4pO1xuICAgIH1cbiAgICBlbHNlIGlmIChwcm9kIGluc3RhbmNlb2YgUmVwZXRpdGlvbldpdGhTZXBhcmF0b3IpIHtcbiAgICAgICAgcmV0dXJuIGdlbkRTTFJ1bGUoXCJNQU5ZX1NFUFwiLCBwcm9kLCBuKTtcbiAgICB9XG4gICAgZWxzZSBpZiAocHJvZCBpbnN0YW5jZW9mIFJlcGV0aXRpb24pIHtcbiAgICAgICAgcmV0dXJuIGdlbkRTTFJ1bGUoXCJNQU5ZXCIsIHByb2QsIG4pO1xuICAgIH1cbiAgICBlbHNlIGlmIChwcm9kIGluc3RhbmNlb2YgQWx0ZXJuYXRpb24pIHtcbiAgICAgICAgcmV0dXJuIGdlbkFsdGVybmF0aW9uKHByb2QsIG4pO1xuICAgIH1cbiAgICBlbHNlIGlmIChwcm9kIGluc3RhbmNlb2YgVGVybWluYWwpIHtcbiAgICAgICAgcmV0dXJuIGdlblRlcm1pbmFsKHByb2QsIG4pO1xuICAgIH1cbiAgICBlbHNlIGlmIChwcm9kIGluc3RhbmNlb2YgQWx0ZXJuYXRpdmUpIHtcbiAgICAgICAgcmV0dXJuIGdlbkRlZmluaXRpb24ocHJvZC5kZWZpbml0aW9uLCBuKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IEVycm9yKFwibm9uIGV4aGF1c3RpdmUgbWF0Y2hcIik7XG4gICAgfVxufVxuZnVuY3Rpb24gZ2VuRFNMUnVsZShkc2xOYW1lLCBwcm9kLCBuKSB7XG4gICAgdmFyIHJlc3VsdCA9IGluZGVudChuLCBcIiQuXCIgKyAoZHNsTmFtZSArIHByb2QuaWR4KSArIFwiKFwiKTtcbiAgICBpZiAocHJvZC5zZXBhcmF0b3IpIHtcbiAgICAgICAgcmVzdWx0ICs9IFwie1wiICsgTkw7XG4gICAgICAgIHJlc3VsdCArPVxuICAgICAgICAgICAgaW5kZW50KG4gKyAxLCBcIlNFUDogdGhpcy50b2tlbnNNYXAuXCIgKyBwcm9kLnNlcGFyYXRvci5uYW1lKSArIFwiLFwiICsgTkw7XG4gICAgICAgIHJlc3VsdCArPSBcIkRFRjogXCIgKyBnZW5EZWZGdW5jdGlvbihwcm9kLmRlZmluaXRpb24sIG4gKyAyKSArIE5MO1xuICAgICAgICByZXN1bHQgKz0gaW5kZW50KG4sIFwifVwiKSArIE5MO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmVzdWx0ICs9IGdlbkRlZkZ1bmN0aW9uKHByb2QuZGVmaW5pdGlvbiwgbiArIDEpO1xuICAgIH1cbiAgICByZXN1bHQgKz0gaW5kZW50KG4sIFwiKVwiKSArIE5MO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBnZW5EZWZGdW5jdGlvbihkZWZpbml0aW9uLCBuKSB7XG4gICAgdmFyIGRlZiA9IFwiZnVuY3Rpb24oKSB7XCIgKyBOTDtcbiAgICBkZWYgKz0gZ2VuRGVmaW5pdGlvbihkZWZpbml0aW9uLCBuKTtcbiAgICBkZWYgKz0gaW5kZW50KG4sIFwifVwiKSArIE5MO1xuICAgIHJldHVybiBkZWY7XG59XG5mdW5jdGlvbiBnZW5EZWZpbml0aW9uKGRlZiwgbikge1xuICAgIHZhciByZXN1bHQgPSBcIlwiO1xuICAgIGZvckVhY2goZGVmLCBmdW5jdGlvbiAocHJvZCkge1xuICAgICAgICByZXN1bHQgKz0gZ2VuUHJvZChwcm9kLCBuICsgMSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGluZGVudChob3dNdWNoLCB0ZXh0KSB7XG4gICAgdmFyIHNwYWNlcyA9IEFycmF5KGhvd011Y2ggKiA0ICsgMSkuam9pbihcIiBcIik7XG4gICAgcmV0dXJuIHNwYWNlcyArIHRleHQ7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZW5lcmF0ZS5qcy5tYXAiLCJpbXBvcnQgeyBnZW5VbWRNb2R1bGUsIGdlbldyYXBwZXJGdW5jdGlvbiB9IGZyb20gXCIuL2dlbmVyYXRlXCI7XG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVQYXJzZXJGYWN0b3J5KG9wdGlvbnMpIHtcbiAgICB2YXIgd3JhcHBlclRleHQgPSBnZW5XcmFwcGVyRnVuY3Rpb24oe1xuICAgICAgICBuYW1lOiBvcHRpb25zLm5hbWUsXG4gICAgICAgIHJ1bGVzOiBvcHRpb25zLnJ1bGVzXG4gICAgfSk7XG4gICAgdmFyIGNvbnN0cnVjdG9yV3JhcHBlciA9IG5ldyBGdW5jdGlvbihcInRva2VuVm9jYWJ1bGFyeVwiLCBcImNvbmZpZ1wiLCBcImNoZXZyb3RhaW5cIiwgd3JhcHBlclRleHQpO1xuICAgIHJldHVybiBmdW5jdGlvbiAoY29uZmlnKSB7XG4gICAgICAgIHJldHVybiBjb25zdHJ1Y3RvcldyYXBwZXIob3B0aW9ucy50b2tlblZvY2FidWxhcnksIGNvbmZpZywgXG4gICAgICAgIC8vIFRPRE86IGNoZWNrIGhvdyB0aGUgcmVxdWlyZSBpcyB0cmFuc3BpbGVkL3dlYnBhY2tlZFxuICAgICAgICByZXF1aXJlKFwiLi4vYXBpXCIpKTtcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlUGFyc2VyTW9kdWxlKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gZ2VuVW1kTW9kdWxlKHsgbmFtZTogb3B0aW9ucy5uYW1lLCBydWxlczogb3B0aW9ucy5ydWxlcyB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdlbmVyYXRlX3B1YmxpYy5qcy5tYXAiLCIvLyBzZW1hbnRpYyB2ZXJzaW9uXG5leHBvcnQgeyBWRVJTSU9OIH0gZnJvbSBcIi4vdmVyc2lvblwiO1xuZXhwb3J0IHsgQ3N0UGFyc2VyLCBFbWJlZGRlZEFjdGlvbnNQYXJzZXIsIFBhcnNlckRlZmluaXRpb25FcnJvclR5cGUsIEVNUFRZX0FMVCB9IGZyb20gXCIuL3BhcnNlL3BhcnNlci9wYXJzZXJcIjtcbmV4cG9ydCB7IExleGVyLCBMZXhlckRlZmluaXRpb25FcnJvclR5cGUgfSBmcm9tIFwiLi9zY2FuL2xleGVyX3B1YmxpY1wiO1xuLy8gVG9rZW5zIHV0aWxpdGllc1xuZXhwb3J0IHsgY3JlYXRlVG9rZW4sIGNyZWF0ZVRva2VuSW5zdGFuY2UsIEVPRiwgdG9rZW5MYWJlbCwgdG9rZW5NYXRjaGVyLCB0b2tlbk5hbWUgfSBmcm9tIFwiLi9zY2FuL3Rva2Vuc19wdWJsaWNcIjtcbi8vIE90aGVyIFV0aWxpdGllc1xuZXhwb3J0IHsgZGVmYXVsdEdyYW1tYXJSZXNvbHZlckVycm9yUHJvdmlkZXIsIGRlZmF1bHRHcmFtbWFyVmFsaWRhdG9yRXJyb3JQcm92aWRlciwgZGVmYXVsdFBhcnNlckVycm9yUHJvdmlkZXIgfSBmcm9tIFwiLi9wYXJzZS9lcnJvcnNfcHVibGljXCI7XG5leHBvcnQgeyBFYXJseUV4aXRFeGNlcHRpb24sIGlzUmVjb2duaXRpb25FeGNlcHRpb24sIE1pc21hdGNoZWRUb2tlbkV4Y2VwdGlvbiwgTm90QWxsSW5wdXRQYXJzZWRFeGNlcHRpb24sIE5vVmlhYmxlQWx0RXhjZXB0aW9uIH0gZnJvbSBcIi4vcGFyc2UvZXhjZXB0aW9uc19wdWJsaWNcIjtcbmV4cG9ydCB7IGRlZmF1bHRMZXhlckVycm9yUHJvdmlkZXIgfSBmcm9tIFwiLi9zY2FuL2xleGVyX2Vycm9yc19wdWJsaWNcIjtcbi8vIGdyYW1tYXIgcmVmbGVjdGlvbiBBUElcbmV4cG9ydCB7IEFsdGVybmF0aW9uLCBBbHRlcm5hdGl2ZSwgTm9uVGVybWluYWwsIE9wdGlvbiwgUmVwZXRpdGlvbiwgUmVwZXRpdGlvbk1hbmRhdG9yeSwgUmVwZXRpdGlvbk1hbmRhdG9yeVdpdGhTZXBhcmF0b3IsIFJlcGV0aXRpb25XaXRoU2VwYXJhdG9yLCBSdWxlLCBUZXJtaW5hbCB9IGZyb20gXCIuL3BhcnNlL2dyYW1tYXIvZ2FzdC9nYXN0X3B1YmxpY1wiO1xuLy8gR0FTVCBVdGlsaXRpZXNcbmV4cG9ydCB7IHNlcmlhbGl6ZUdyYW1tYXIsIHNlcmlhbGl6ZVByb2R1Y3Rpb24gfSBmcm9tIFwiLi9wYXJzZS9ncmFtbWFyL2dhc3QvZ2FzdF9wdWJsaWNcIjtcbmV4cG9ydCB7IEdBc3RWaXNpdG9yIH0gZnJvbSBcIi4vcGFyc2UvZ3JhbW1hci9nYXN0L2dhc3RfdmlzaXRvcl9wdWJsaWNcIjtcbmV4cG9ydCB7IGFzc2lnbk9jY3VycmVuY2VJbmRpY2VzLCByZXNvbHZlR3JhbW1hciwgdmFsaWRhdGVHcmFtbWFyIH0gZnJvbSBcIi4vcGFyc2UvZ3JhbW1hci9nYXN0L2dhc3RfcmVzb2x2ZXJfcHVibGljXCI7XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyQ2FjaGUoKSB7XG4gICAgY29uc29sZS53YXJuKFwiVGhlIGNsZWFyQ2FjaGUgZnVuY3Rpb24gd2FzICdzb2Z0JyByZW1vdmVkIGZyb20gdGhlIENoZXZyb3RhaW4gQVBJLlwiICtcbiAgICAgICAgXCJcXG5cXHQgSXQgcGVyZm9ybXMgbm8gYWN0aW9uIG90aGVyIHRoYW4gcHJpbnRpbmcgdGhpcyBtZXNzYWdlLlwiICtcbiAgICAgICAgXCJcXG5cXHQgUGxlYXNlIGF2b2lkIHVzaW5nIGl0IGFzIGl0IHdpbGwgYmUgY29tcGxldGVseSByZW1vdmVkIGluIHRoZSBmdXR1cmVcIik7XG59XG5leHBvcnQgeyBjcmVhdGVTeW50YXhEaWFncmFtc0NvZGUgfSBmcm9tIFwiLi9kaWFncmFtcy9yZW5kZXJfcHVibGljXCI7XG5leHBvcnQgeyBnZW5lcmF0ZVBhcnNlckZhY3RvcnksIGdlbmVyYXRlUGFyc2VyTW9kdWxlIH0gZnJvbSBcIi4vZ2VuZXJhdGUvZ2VuZXJhdGVfcHVibGljXCI7XG52YXIgUGFyc2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFBhcnNlcigpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIFBhcnNlciBjbGFzcyBoYXMgYmVlbiBkZXByZWNhdGVkLCB1c2UgQ3N0UGFyc2VyIG9yIEVtYmVkZGVkQWN0aW9uc1BhcnNlciBpbnN0ZWFkLlxcdFxcblwiICtcbiAgICAgICAgICAgIFwiU2VlOiBodHRwczovL3NhcC5naXRodWIuaW8vY2hldnJvdGFpbi9kb2NzL2NoYW5nZXMvQlJFQUtJTkdfQ0hBTkdFUy5odG1sI183LTAtMFwiKTtcbiAgICB9XG4gICAgcmV0dXJuIFBhcnNlcjtcbn0oKSk7XG5leHBvcnQgeyBQYXJzZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwaS5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBMb2Rhc2ggPGh0dHBzOi8vbG9kYXNoLmNvbS8+XG4gKiBDb3B5cmlnaHQgT3BlbkpTIEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyA8aHR0cHM6Ly9vcGVuanNmLm9yZy8+XG4gKiBSZWxlYXNlZCB1bmRlciBNSVQgbGljZW5zZSA8aHR0cHM6Ly9sb2Rhc2guY29tL2xpY2Vuc2U+XG4gKiBCYXNlZCBvbiBVbmRlcnNjb3JlLmpzIDEuOC4zIDxodHRwOi8vdW5kZXJzY29yZWpzLm9yZy9MSUNFTlNFPlxuICogQ29weXJpZ2h0IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gKi9cbjsoZnVuY3Rpb24oKSB7XG5cbiAgLyoqIFVzZWQgYXMgYSBzYWZlIHJlZmVyZW5jZSBmb3IgYHVuZGVmaW5lZGAgaW4gcHJlLUVTNSBlbnZpcm9ubWVudHMuICovXG4gIHZhciB1bmRlZmluZWQ7XG5cbiAgLyoqIFVzZWQgYXMgdGhlIHNlbWFudGljIHZlcnNpb24gbnVtYmVyLiAqL1xuICB2YXIgVkVSU0lPTiA9ICc0LjE3LjE1JztcblxuICAvKiogVXNlZCBhcyB0aGUgc2l6ZSB0byBlbmFibGUgbGFyZ2UgYXJyYXkgb3B0aW1pemF0aW9ucy4gKi9cbiAgdmFyIExBUkdFX0FSUkFZX1NJWkUgPSAyMDA7XG5cbiAgLyoqIEVycm9yIG1lc3NhZ2UgY29uc3RhbnRzLiAqL1xuICB2YXIgQ09SRV9FUlJPUl9URVhUID0gJ1Vuc3VwcG9ydGVkIGNvcmUtanMgdXNlLiBUcnkgaHR0cHM6Ly9ucG1zLmlvL3NlYXJjaD9xPXBvbnlmaWxsLicsXG4gICAgICBGVU5DX0VSUk9SX1RFWFQgPSAnRXhwZWN0ZWQgYSBmdW5jdGlvbic7XG5cbiAgLyoqIFVzZWQgdG8gc3RhbmQtaW4gZm9yIGB1bmRlZmluZWRgIGhhc2ggdmFsdWVzLiAqL1xuICB2YXIgSEFTSF9VTkRFRklORUQgPSAnX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfXyc7XG5cbiAgLyoqIFVzZWQgYXMgdGhlIG1heGltdW0gbWVtb2l6ZSBjYWNoZSBzaXplLiAqL1xuICB2YXIgTUFYX01FTU9JWkVfU0laRSA9IDUwMDtcblxuICAvKiogVXNlZCBhcyB0aGUgaW50ZXJuYWwgYXJndW1lbnQgcGxhY2Vob2xkZXIuICovXG4gIHZhciBQTEFDRUhPTERFUiA9ICdfX2xvZGFzaF9wbGFjZWhvbGRlcl9fJztcblxuICAvKiogVXNlZCB0byBjb21wb3NlIGJpdG1hc2tzIGZvciBjbG9uaW5nLiAqL1xuICB2YXIgQ0xPTkVfREVFUF9GTEFHID0gMSxcbiAgICAgIENMT05FX0ZMQVRfRkxBRyA9IDIsXG4gICAgICBDTE9ORV9TWU1CT0xTX0ZMQUcgPSA0O1xuXG4gIC8qKiBVc2VkIHRvIGNvbXBvc2UgYml0bWFza3MgZm9yIHZhbHVlIGNvbXBhcmlzb25zLiAqL1xuICB2YXIgQ09NUEFSRV9QQVJUSUFMX0ZMQUcgPSAxLFxuICAgICAgQ09NUEFSRV9VTk9SREVSRURfRkxBRyA9IDI7XG5cbiAgLyoqIFVzZWQgdG8gY29tcG9zZSBiaXRtYXNrcyBmb3IgZnVuY3Rpb24gbWV0YWRhdGEuICovXG4gIHZhciBXUkFQX0JJTkRfRkxBRyA9IDEsXG4gICAgICBXUkFQX0JJTkRfS0VZX0ZMQUcgPSAyLFxuICAgICAgV1JBUF9DVVJSWV9CT1VORF9GTEFHID0gNCxcbiAgICAgIFdSQVBfQ1VSUllfRkxBRyA9IDgsXG4gICAgICBXUkFQX0NVUlJZX1JJR0hUX0ZMQUcgPSAxNixcbiAgICAgIFdSQVBfUEFSVElBTF9GTEFHID0gMzIsXG4gICAgICBXUkFQX1BBUlRJQUxfUklHSFRfRkxBRyA9IDY0LFxuICAgICAgV1JBUF9BUllfRkxBRyA9IDEyOCxcbiAgICAgIFdSQVBfUkVBUkdfRkxBRyA9IDI1NixcbiAgICAgIFdSQVBfRkxJUF9GTEFHID0gNTEyO1xuXG4gIC8qKiBVc2VkIGFzIGRlZmF1bHQgb3B0aW9ucyBmb3IgYF8udHJ1bmNhdGVgLiAqL1xuICB2YXIgREVGQVVMVF9UUlVOQ19MRU5HVEggPSAzMCxcbiAgICAgIERFRkFVTFRfVFJVTkNfT01JU1NJT04gPSAnLi4uJztcblxuICAvKiogVXNlZCB0byBkZXRlY3QgaG90IGZ1bmN0aW9ucyBieSBudW1iZXIgb2YgY2FsbHMgd2l0aGluIGEgc3BhbiBvZiBtaWxsaXNlY29uZHMuICovXG4gIHZhciBIT1RfQ09VTlQgPSA4MDAsXG4gICAgICBIT1RfU1BBTiA9IDE2O1xuXG4gIC8qKiBVc2VkIHRvIGluZGljYXRlIHRoZSB0eXBlIG9mIGxhenkgaXRlcmF0ZWVzLiAqL1xuICB2YXIgTEFaWV9GSUxURVJfRkxBRyA9IDEsXG4gICAgICBMQVpZX01BUF9GTEFHID0gMixcbiAgICAgIExBWllfV0hJTEVfRkxBRyA9IDM7XG5cbiAgLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG4gIHZhciBJTkZJTklUWSA9IDEgLyAwLFxuICAgICAgTUFYX1NBRkVfSU5URUdFUiA9IDkwMDcxOTkyNTQ3NDA5OTEsXG4gICAgICBNQVhfSU5URUdFUiA9IDEuNzk3NjkzMTM0ODYyMzE1N2UrMzA4LFxuICAgICAgTkFOID0gMCAvIDA7XG5cbiAgLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdGhlIG1heGltdW0gbGVuZ3RoIGFuZCBpbmRleCBvZiBhbiBhcnJheS4gKi9cbiAgdmFyIE1BWF9BUlJBWV9MRU5HVEggPSA0Mjk0OTY3Mjk1LFxuICAgICAgTUFYX0FSUkFZX0lOREVYID0gTUFYX0FSUkFZX0xFTkdUSCAtIDEsXG4gICAgICBIQUxGX01BWF9BUlJBWV9MRU5HVEggPSBNQVhfQVJSQVlfTEVOR1RIID4+PiAxO1xuXG4gIC8qKiBVc2VkIHRvIGFzc29jaWF0ZSB3cmFwIG1ldGhvZHMgd2l0aCB0aGVpciBiaXQgZmxhZ3MuICovXG4gIHZhciB3cmFwRmxhZ3MgPSBbXG4gICAgWydhcnknLCBXUkFQX0FSWV9GTEFHXSxcbiAgICBbJ2JpbmQnLCBXUkFQX0JJTkRfRkxBR10sXG4gICAgWydiaW5kS2V5JywgV1JBUF9CSU5EX0tFWV9GTEFHXSxcbiAgICBbJ2N1cnJ5JywgV1JBUF9DVVJSWV9GTEFHXSxcbiAgICBbJ2N1cnJ5UmlnaHQnLCBXUkFQX0NVUlJZX1JJR0hUX0ZMQUddLFxuICAgIFsnZmxpcCcsIFdSQVBfRkxJUF9GTEFHXSxcbiAgICBbJ3BhcnRpYWwnLCBXUkFQX1BBUlRJQUxfRkxBR10sXG4gICAgWydwYXJ0aWFsUmlnaHQnLCBXUkFQX1BBUlRJQUxfUklHSFRfRkxBR10sXG4gICAgWydyZWFyZycsIFdSQVBfUkVBUkdfRkxBR11cbiAgXTtcblxuICAvKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG4gIHZhciBhcmdzVGFnID0gJ1tvYmplY3QgQXJndW1lbnRzXScsXG4gICAgICBhcnJheVRhZyA9ICdbb2JqZWN0IEFycmF5XScsXG4gICAgICBhc3luY1RhZyA9ICdbb2JqZWN0IEFzeW5jRnVuY3Rpb25dJyxcbiAgICAgIGJvb2xUYWcgPSAnW29iamVjdCBCb29sZWFuXScsXG4gICAgICBkYXRlVGFnID0gJ1tvYmplY3QgRGF0ZV0nLFxuICAgICAgZG9tRXhjVGFnID0gJ1tvYmplY3QgRE9NRXhjZXB0aW9uXScsXG4gICAgICBlcnJvclRhZyA9ICdbb2JqZWN0IEVycm9yXScsXG4gICAgICBmdW5jVGFnID0gJ1tvYmplY3QgRnVuY3Rpb25dJyxcbiAgICAgIGdlblRhZyA9ICdbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXScsXG4gICAgICBtYXBUYWcgPSAnW29iamVjdCBNYXBdJyxcbiAgICAgIG51bWJlclRhZyA9ICdbb2JqZWN0IE51bWJlcl0nLFxuICAgICAgbnVsbFRhZyA9ICdbb2JqZWN0IE51bGxdJyxcbiAgICAgIG9iamVjdFRhZyA9ICdbb2JqZWN0IE9iamVjdF0nLFxuICAgICAgcHJvbWlzZVRhZyA9ICdbb2JqZWN0IFByb21pc2VdJyxcbiAgICAgIHByb3h5VGFnID0gJ1tvYmplY3QgUHJveHldJyxcbiAgICAgIHJlZ2V4cFRhZyA9ICdbb2JqZWN0IFJlZ0V4cF0nLFxuICAgICAgc2V0VGFnID0gJ1tvYmplY3QgU2V0XScsXG4gICAgICBzdHJpbmdUYWcgPSAnW29iamVjdCBTdHJpbmddJyxcbiAgICAgIHN5bWJvbFRhZyA9ICdbb2JqZWN0IFN5bWJvbF0nLFxuICAgICAgdW5kZWZpbmVkVGFnID0gJ1tvYmplY3QgVW5kZWZpbmVkXScsXG4gICAgICB3ZWFrTWFwVGFnID0gJ1tvYmplY3QgV2Vha01hcF0nLFxuICAgICAgd2Vha1NldFRhZyA9ICdbb2JqZWN0IFdlYWtTZXRdJztcblxuICB2YXIgYXJyYXlCdWZmZXJUYWcgPSAnW29iamVjdCBBcnJheUJ1ZmZlcl0nLFxuICAgICAgZGF0YVZpZXdUYWcgPSAnW29iamVjdCBEYXRhVmlld10nLFxuICAgICAgZmxvYXQzMlRhZyA9ICdbb2JqZWN0IEZsb2F0MzJBcnJheV0nLFxuICAgICAgZmxvYXQ2NFRhZyA9ICdbb2JqZWN0IEZsb2F0NjRBcnJheV0nLFxuICAgICAgaW50OFRhZyA9ICdbb2JqZWN0IEludDhBcnJheV0nLFxuICAgICAgaW50MTZUYWcgPSAnW29iamVjdCBJbnQxNkFycmF5XScsXG4gICAgICBpbnQzMlRhZyA9ICdbb2JqZWN0IEludDMyQXJyYXldJyxcbiAgICAgIHVpbnQ4VGFnID0gJ1tvYmplY3QgVWludDhBcnJheV0nLFxuICAgICAgdWludDhDbGFtcGVkVGFnID0gJ1tvYmplY3QgVWludDhDbGFtcGVkQXJyYXldJyxcbiAgICAgIHVpbnQxNlRhZyA9ICdbb2JqZWN0IFVpbnQxNkFycmF5XScsXG4gICAgICB1aW50MzJUYWcgPSAnW29iamVjdCBVaW50MzJBcnJheV0nO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIGVtcHR5IHN0cmluZyBsaXRlcmFscyBpbiBjb21waWxlZCB0ZW1wbGF0ZSBzb3VyY2UuICovXG4gIHZhciByZUVtcHR5U3RyaW5nTGVhZGluZyA9IC9cXGJfX3AgXFwrPSAnJzsvZyxcbiAgICAgIHJlRW1wdHlTdHJpbmdNaWRkbGUgPSAvXFxiKF9fcCBcXCs9KSAnJyBcXCsvZyxcbiAgICAgIHJlRW1wdHlTdHJpbmdUcmFpbGluZyA9IC8oX19lXFwoLio/XFwpfFxcYl9fdFxcKSkgXFwrXFxuJyc7L2c7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggSFRNTCBlbnRpdGllcyBhbmQgSFRNTCBjaGFyYWN0ZXJzLiAqL1xuICB2YXIgcmVFc2NhcGVkSHRtbCA9IC8mKD86YW1wfGx0fGd0fHF1b3R8IzM5KTsvZyxcbiAgICAgIHJlVW5lc2NhcGVkSHRtbCA9IC9bJjw+XCInXS9nLFxuICAgICAgcmVIYXNFc2NhcGVkSHRtbCA9IFJlZ0V4cChyZUVzY2FwZWRIdG1sLnNvdXJjZSksXG4gICAgICByZUhhc1VuZXNjYXBlZEh0bWwgPSBSZWdFeHAocmVVbmVzY2FwZWRIdG1sLnNvdXJjZSk7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggdGVtcGxhdGUgZGVsaW1pdGVycy4gKi9cbiAgdmFyIHJlRXNjYXBlID0gLzwlLShbXFxzXFxTXSs/KSU+L2csXG4gICAgICByZUV2YWx1YXRlID0gLzwlKFtcXHNcXFNdKz8pJT4vZyxcbiAgICAgIHJlSW50ZXJwb2xhdGUgPSAvPCU9KFtcXHNcXFNdKz8pJT4vZztcblxuICAvKiogVXNlZCB0byBtYXRjaCBwcm9wZXJ0eSBuYW1lcyB3aXRoaW4gcHJvcGVydHkgcGF0aHMuICovXG4gIHZhciByZUlzRGVlcFByb3AgPSAvXFwufFxcWyg/OlteW1xcXV0qfChbXCInXSkoPzooPyFcXDEpW15cXFxcXXxcXFxcLikqP1xcMSlcXF0vLFxuICAgICAgcmVJc1BsYWluUHJvcCA9IC9eXFx3KiQvLFxuICAgICAgcmVQcm9wTmFtZSA9IC9bXi5bXFxdXSt8XFxbKD86KC0/XFxkKyg/OlxcLlxcZCspPyl8KFtcIiddKSgoPzooPyFcXDIpW15cXFxcXXxcXFxcLikqPylcXDIpXFxdfCg/PSg/OlxcLnxcXFtcXF0pKD86XFwufFxcW1xcXXwkKSkvZztcblxuICAvKipcbiAgICogVXNlZCB0byBtYXRjaCBgUmVnRXhwYFxuICAgKiBbc3ludGF4IGNoYXJhY3RlcnNdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXBhdHRlcm5zKS5cbiAgICovXG4gIHZhciByZVJlZ0V4cENoYXIgPSAvW1xcXFxeJC4qKz8oKVtcXF17fXxdL2csXG4gICAgICByZUhhc1JlZ0V4cENoYXIgPSBSZWdFeHAocmVSZWdFeHBDaGFyLnNvdXJjZSk7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggbGVhZGluZyBhbmQgdHJhaWxpbmcgd2hpdGVzcGFjZS4gKi9cbiAgdmFyIHJlVHJpbSA9IC9eXFxzK3xcXHMrJC9nLFxuICAgICAgcmVUcmltU3RhcnQgPSAvXlxccysvLFxuICAgICAgcmVUcmltRW5kID0gL1xccyskLztcblxuICAvKiogVXNlZCB0byBtYXRjaCB3cmFwIGRldGFpbCBjb21tZW50cy4gKi9cbiAgdmFyIHJlV3JhcENvbW1lbnQgPSAvXFx7KD86XFxuXFwvXFwqIFxcW3dyYXBwZWQgd2l0aCAuK1xcXSBcXCpcXC8pP1xcbj8vLFxuICAgICAgcmVXcmFwRGV0YWlscyA9IC9cXHtcXG5cXC9cXCogXFxbd3JhcHBlZCB3aXRoICguKylcXF0gXFwqLyxcbiAgICAgIHJlU3BsaXREZXRhaWxzID0gLyw/ICYgLztcblxuICAvKiogVXNlZCB0byBtYXRjaCB3b3JkcyBjb21wb3NlZCBvZiBhbHBoYW51bWVyaWMgY2hhcmFjdGVycy4gKi9cbiAgdmFyIHJlQXNjaWlXb3JkID0gL1teXFx4MDAtXFx4MmZcXHgzYS1cXHg0MFxceDViLVxceDYwXFx4N2ItXFx4N2ZdKy9nO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIGJhY2tzbGFzaGVzIGluIHByb3BlcnR5IHBhdGhzLiAqL1xuICB2YXIgcmVFc2NhcGVDaGFyID0gL1xcXFwoXFxcXCk/L2c7XG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gbWF0Y2hcbiAgICogW0VTIHRlbXBsYXRlIGRlbGltaXRlcnNdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRlbXBsYXRlLWxpdGVyYWwtbGV4aWNhbC1jb21wb25lbnRzKS5cbiAgICovXG4gIHZhciByZUVzVGVtcGxhdGUgPSAvXFwkXFx7KFteXFxcXH1dKig/OlxcXFwuW15cXFxcfV0qKSopXFx9L2c7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggYFJlZ0V4cGAgZmxhZ3MgZnJvbSB0aGVpciBjb2VyY2VkIHN0cmluZyB2YWx1ZXMuICovXG4gIHZhciByZUZsYWdzID0gL1xcdyokLztcblxuICAvKiogVXNlZCB0byBkZXRlY3QgYmFkIHNpZ25lZCBoZXhhZGVjaW1hbCBzdHJpbmcgdmFsdWVzLiAqL1xuICB2YXIgcmVJc0JhZEhleCA9IC9eWy0rXTB4WzAtOWEtZl0rJC9pO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBiaW5hcnkgc3RyaW5nIHZhbHVlcy4gKi9cbiAgdmFyIHJlSXNCaW5hcnkgPSAvXjBiWzAxXSskL2k7XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IGhvc3QgY29uc3RydWN0b3JzIChTYWZhcmkpLiAqL1xuICB2YXIgcmVJc0hvc3RDdG9yID0gL15cXFtvYmplY3QgLis/Q29uc3RydWN0b3JcXF0kLztcblxuICAvKiogVXNlZCB0byBkZXRlY3Qgb2N0YWwgc3RyaW5nIHZhbHVlcy4gKi9cbiAgdmFyIHJlSXNPY3RhbCA9IC9eMG9bMC03XSskL2k7XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IHVuc2lnbmVkIGludGVnZXIgdmFsdWVzLiAqL1xuICB2YXIgcmVJc1VpbnQgPSAvXig/OjB8WzEtOV1cXGQqKSQvO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIExhdGluIFVuaWNvZGUgbGV0dGVycyAoZXhjbHVkaW5nIG1hdGhlbWF0aWNhbCBvcGVyYXRvcnMpLiAqL1xuICB2YXIgcmVMYXRpbiA9IC9bXFx4YzAtXFx4ZDZcXHhkOC1cXHhmNlxceGY4LVxceGZmXFx1MDEwMC1cXHUwMTdmXS9nO1xuXG4gIC8qKiBVc2VkIHRvIGVuc3VyZSBjYXB0dXJpbmcgb3JkZXIgb2YgdGVtcGxhdGUgZGVsaW1pdGVycy4gKi9cbiAgdmFyIHJlTm9NYXRjaCA9IC8oJF4pLztcblxuICAvKiogVXNlZCB0byBtYXRjaCB1bmVzY2FwZWQgY2hhcmFjdGVycyBpbiBjb21waWxlZCBzdHJpbmcgbGl0ZXJhbHMuICovXG4gIHZhciByZVVuZXNjYXBlZFN0cmluZyA9IC9bJ1xcblxcclxcdTIwMjhcXHUyMDI5XFxcXF0vZztcblxuICAvKiogVXNlZCB0byBjb21wb3NlIHVuaWNvZGUgY2hhcmFjdGVyIGNsYXNzZXMuICovXG4gIHZhciByc0FzdHJhbFJhbmdlID0gJ1xcXFx1ZDgwMC1cXFxcdWRmZmYnLFxuICAgICAgcnNDb21ib01hcmtzUmFuZ2UgPSAnXFxcXHUwMzAwLVxcXFx1MDM2ZicsXG4gICAgICByZUNvbWJvSGFsZk1hcmtzUmFuZ2UgPSAnXFxcXHVmZTIwLVxcXFx1ZmUyZicsXG4gICAgICByc0NvbWJvU3ltYm9sc1JhbmdlID0gJ1xcXFx1MjBkMC1cXFxcdTIwZmYnLFxuICAgICAgcnNDb21ib1JhbmdlID0gcnNDb21ib01hcmtzUmFuZ2UgKyByZUNvbWJvSGFsZk1hcmtzUmFuZ2UgKyByc0NvbWJvU3ltYm9sc1JhbmdlLFxuICAgICAgcnNEaW5nYmF0UmFuZ2UgPSAnXFxcXHUyNzAwLVxcXFx1MjdiZicsXG4gICAgICByc0xvd2VyUmFuZ2UgPSAnYS16XFxcXHhkZi1cXFxceGY2XFxcXHhmOC1cXFxceGZmJyxcbiAgICAgIHJzTWF0aE9wUmFuZ2UgPSAnXFxcXHhhY1xcXFx4YjFcXFxceGQ3XFxcXHhmNycsXG4gICAgICByc05vbkNoYXJSYW5nZSA9ICdcXFxceDAwLVxcXFx4MmZcXFxceDNhLVxcXFx4NDBcXFxceDViLVxcXFx4NjBcXFxceDdiLVxcXFx4YmYnLFxuICAgICAgcnNQdW5jdHVhdGlvblJhbmdlID0gJ1xcXFx1MjAwMC1cXFxcdTIwNmYnLFxuICAgICAgcnNTcGFjZVJhbmdlID0gJyBcXFxcdFxcXFx4MGJcXFxcZlxcXFx4YTBcXFxcdWZlZmZcXFxcblxcXFxyXFxcXHUyMDI4XFxcXHUyMDI5XFxcXHUxNjgwXFxcXHUxODBlXFxcXHUyMDAwXFxcXHUyMDAxXFxcXHUyMDAyXFxcXHUyMDAzXFxcXHUyMDA0XFxcXHUyMDA1XFxcXHUyMDA2XFxcXHUyMDA3XFxcXHUyMDA4XFxcXHUyMDA5XFxcXHUyMDBhXFxcXHUyMDJmXFxcXHUyMDVmXFxcXHUzMDAwJyxcbiAgICAgIHJzVXBwZXJSYW5nZSA9ICdBLVpcXFxceGMwLVxcXFx4ZDZcXFxceGQ4LVxcXFx4ZGUnLFxuICAgICAgcnNWYXJSYW5nZSA9ICdcXFxcdWZlMGVcXFxcdWZlMGYnLFxuICAgICAgcnNCcmVha1JhbmdlID0gcnNNYXRoT3BSYW5nZSArIHJzTm9uQ2hhclJhbmdlICsgcnNQdW5jdHVhdGlvblJhbmdlICsgcnNTcGFjZVJhbmdlO1xuXG4gIC8qKiBVc2VkIHRvIGNvbXBvc2UgdW5pY29kZSBjYXB0dXJlIGdyb3Vwcy4gKi9cbiAgdmFyIHJzQXBvcyA9IFwiWydcXHUyMDE5XVwiLFxuICAgICAgcnNBc3RyYWwgPSAnWycgKyByc0FzdHJhbFJhbmdlICsgJ10nLFxuICAgICAgcnNCcmVhayA9ICdbJyArIHJzQnJlYWtSYW5nZSArICddJyxcbiAgICAgIHJzQ29tYm8gPSAnWycgKyByc0NvbWJvUmFuZ2UgKyAnXScsXG4gICAgICByc0RpZ2l0cyA9ICdcXFxcZCsnLFxuICAgICAgcnNEaW5nYmF0ID0gJ1snICsgcnNEaW5nYmF0UmFuZ2UgKyAnXScsXG4gICAgICByc0xvd2VyID0gJ1snICsgcnNMb3dlclJhbmdlICsgJ10nLFxuICAgICAgcnNNaXNjID0gJ1teJyArIHJzQXN0cmFsUmFuZ2UgKyByc0JyZWFrUmFuZ2UgKyByc0RpZ2l0cyArIHJzRGluZ2JhdFJhbmdlICsgcnNMb3dlclJhbmdlICsgcnNVcHBlclJhbmdlICsgJ10nLFxuICAgICAgcnNGaXR6ID0gJ1xcXFx1ZDgzY1tcXFxcdWRmZmItXFxcXHVkZmZmXScsXG4gICAgICByc01vZGlmaWVyID0gJyg/OicgKyByc0NvbWJvICsgJ3wnICsgcnNGaXR6ICsgJyknLFxuICAgICAgcnNOb25Bc3RyYWwgPSAnW14nICsgcnNBc3RyYWxSYW5nZSArICddJyxcbiAgICAgIHJzUmVnaW9uYWwgPSAnKD86XFxcXHVkODNjW1xcXFx1ZGRlNi1cXFxcdWRkZmZdKXsyfScsXG4gICAgICByc1N1cnJQYWlyID0gJ1tcXFxcdWQ4MDAtXFxcXHVkYmZmXVtcXFxcdWRjMDAtXFxcXHVkZmZmXScsXG4gICAgICByc1VwcGVyID0gJ1snICsgcnNVcHBlclJhbmdlICsgJ10nLFxuICAgICAgcnNaV0ogPSAnXFxcXHUyMDBkJztcblxuICAvKiogVXNlZCB0byBjb21wb3NlIHVuaWNvZGUgcmVnZXhlcy4gKi9cbiAgdmFyIHJzTWlzY0xvd2VyID0gJyg/OicgKyByc0xvd2VyICsgJ3wnICsgcnNNaXNjICsgJyknLFxuICAgICAgcnNNaXNjVXBwZXIgPSAnKD86JyArIHJzVXBwZXIgKyAnfCcgKyByc01pc2MgKyAnKScsXG4gICAgICByc09wdENvbnRyTG93ZXIgPSAnKD86JyArIHJzQXBvcyArICcoPzpkfGxsfG18cmV8c3x0fHZlKSk/JyxcbiAgICAgIHJzT3B0Q29udHJVcHBlciA9ICcoPzonICsgcnNBcG9zICsgJyg/OkR8TEx8TXxSRXxTfFR8VkUpKT8nLFxuICAgICAgcmVPcHRNb2QgPSByc01vZGlmaWVyICsgJz8nLFxuICAgICAgcnNPcHRWYXIgPSAnWycgKyByc1ZhclJhbmdlICsgJ10/JyxcbiAgICAgIHJzT3B0Sm9pbiA9ICcoPzonICsgcnNaV0ogKyAnKD86JyArIFtyc05vbkFzdHJhbCwgcnNSZWdpb25hbCwgcnNTdXJyUGFpcl0uam9pbignfCcpICsgJyknICsgcnNPcHRWYXIgKyByZU9wdE1vZCArICcpKicsXG4gICAgICByc09yZExvd2VyID0gJ1xcXFxkKig/OjFzdHwybmR8M3JkfCg/IVsxMjNdKVxcXFxkdGgpKD89XFxcXGJ8W0EtWl9dKScsXG4gICAgICByc09yZFVwcGVyID0gJ1xcXFxkKig/OjFTVHwyTkR8M1JEfCg/IVsxMjNdKVxcXFxkVEgpKD89XFxcXGJ8W2Etel9dKScsXG4gICAgICByc1NlcSA9IHJzT3B0VmFyICsgcmVPcHRNb2QgKyByc09wdEpvaW4sXG4gICAgICByc0Vtb2ppID0gJyg/OicgKyBbcnNEaW5nYmF0LCByc1JlZ2lvbmFsLCByc1N1cnJQYWlyXS5qb2luKCd8JykgKyAnKScgKyByc1NlcSxcbiAgICAgIHJzU3ltYm9sID0gJyg/OicgKyBbcnNOb25Bc3RyYWwgKyByc0NvbWJvICsgJz8nLCByc0NvbWJvLCByc1JlZ2lvbmFsLCByc1N1cnJQYWlyLCByc0FzdHJhbF0uam9pbignfCcpICsgJyknO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIGFwb3N0cm9waGVzLiAqL1xuICB2YXIgcmVBcG9zID0gUmVnRXhwKHJzQXBvcywgJ2cnKTtcblxuICAvKipcbiAgICogVXNlZCB0byBtYXRjaCBbY29tYmluaW5nIGRpYWNyaXRpY2FsIG1hcmtzXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Db21iaW5pbmdfRGlhY3JpdGljYWxfTWFya3MpIGFuZFxuICAgKiBbY29tYmluaW5nIGRpYWNyaXRpY2FsIG1hcmtzIGZvciBzeW1ib2xzXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Db21iaW5pbmdfRGlhY3JpdGljYWxfTWFya3NfZm9yX1N5bWJvbHMpLlxuICAgKi9cbiAgdmFyIHJlQ29tYm9NYXJrID0gUmVnRXhwKHJzQ29tYm8sICdnJyk7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggW3N0cmluZyBzeW1ib2xzXShodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvamF2YXNjcmlwdC11bmljb2RlKS4gKi9cbiAgdmFyIHJlVW5pY29kZSA9IFJlZ0V4cChyc0ZpdHogKyAnKD89JyArIHJzRml0eiArICcpfCcgKyByc1N5bWJvbCArIHJzU2VxLCAnZycpO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIGNvbXBsZXggb3IgY29tcG91bmQgd29yZHMuICovXG4gIHZhciByZVVuaWNvZGVXb3JkID0gUmVnRXhwKFtcbiAgICByc1VwcGVyICsgJz8nICsgcnNMb3dlciArICcrJyArIHJzT3B0Q29udHJMb3dlciArICcoPz0nICsgW3JzQnJlYWssIHJzVXBwZXIsICckJ10uam9pbignfCcpICsgJyknLFxuICAgIHJzTWlzY1VwcGVyICsgJysnICsgcnNPcHRDb250clVwcGVyICsgJyg/PScgKyBbcnNCcmVhaywgcnNVcHBlciArIHJzTWlzY0xvd2VyLCAnJCddLmpvaW4oJ3wnKSArICcpJyxcbiAgICByc1VwcGVyICsgJz8nICsgcnNNaXNjTG93ZXIgKyAnKycgKyByc09wdENvbnRyTG93ZXIsXG4gICAgcnNVcHBlciArICcrJyArIHJzT3B0Q29udHJVcHBlcixcbiAgICByc09yZFVwcGVyLFxuICAgIHJzT3JkTG93ZXIsXG4gICAgcnNEaWdpdHMsXG4gICAgcnNFbW9qaVxuICBdLmpvaW4oJ3wnKSwgJ2cnKTtcblxuICAvKiogVXNlZCB0byBkZXRlY3Qgc3RyaW5ncyB3aXRoIFt6ZXJvLXdpZHRoIGpvaW5lcnMgb3IgY29kZSBwb2ludHMgZnJvbSB0aGUgYXN0cmFsIHBsYW5lc10oaHR0cDovL2Vldi5lZS9ibG9nLzIwMTUvMDkvMTIvZGFyay1jb3JuZXJzLW9mLXVuaWNvZGUvKS4gKi9cbiAgdmFyIHJlSGFzVW5pY29kZSA9IFJlZ0V4cCgnWycgKyByc1pXSiArIHJzQXN0cmFsUmFuZ2UgICsgcnNDb21ib1JhbmdlICsgcnNWYXJSYW5nZSArICddJyk7XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IHN0cmluZ3MgdGhhdCBuZWVkIGEgbW9yZSByb2J1c3QgcmVnZXhwIHRvIG1hdGNoIHdvcmRzLiAqL1xuICB2YXIgcmVIYXNVbmljb2RlV29yZCA9IC9bYS16XVtBLVpdfFtBLVpdezJ9W2Etel18WzAtOV1bYS16QS1aXXxbYS16QS1aXVswLTldfFteYS16QS1aMC05IF0vO1xuXG4gIC8qKiBVc2VkIHRvIGFzc2lnbiBkZWZhdWx0IGBjb250ZXh0YCBvYmplY3QgcHJvcGVydGllcy4gKi9cbiAgdmFyIGNvbnRleHRQcm9wcyA9IFtcbiAgICAnQXJyYXknLCAnQnVmZmVyJywgJ0RhdGFWaWV3JywgJ0RhdGUnLCAnRXJyb3InLCAnRmxvYXQzMkFycmF5JywgJ0Zsb2F0NjRBcnJheScsXG4gICAgJ0Z1bmN0aW9uJywgJ0ludDhBcnJheScsICdJbnQxNkFycmF5JywgJ0ludDMyQXJyYXknLCAnTWFwJywgJ01hdGgnLCAnT2JqZWN0JyxcbiAgICAnUHJvbWlzZScsICdSZWdFeHAnLCAnU2V0JywgJ1N0cmluZycsICdTeW1ib2wnLCAnVHlwZUVycm9yJywgJ1VpbnQ4QXJyYXknLFxuICAgICdVaW50OENsYW1wZWRBcnJheScsICdVaW50MTZBcnJheScsICdVaW50MzJBcnJheScsICdXZWFrTWFwJyxcbiAgICAnXycsICdjbGVhclRpbWVvdXQnLCAnaXNGaW5pdGUnLCAncGFyc2VJbnQnLCAnc2V0VGltZW91dCdcbiAgXTtcblxuICAvKiogVXNlZCB0byBtYWtlIHRlbXBsYXRlIHNvdXJjZVVSTHMgZWFzaWVyIHRvIGlkZW50aWZ5LiAqL1xuICB2YXIgdGVtcGxhdGVDb3VudGVyID0gLTE7XG5cbiAgLyoqIFVzZWQgdG8gaWRlbnRpZnkgYHRvU3RyaW5nVGFnYCB2YWx1ZXMgb2YgdHlwZWQgYXJyYXlzLiAqL1xuICB2YXIgdHlwZWRBcnJheVRhZ3MgPSB7fTtcbiAgdHlwZWRBcnJheVRhZ3NbZmxvYXQzMlRhZ10gPSB0eXBlZEFycmF5VGFnc1tmbG9hdDY0VGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW2ludDhUYWddID0gdHlwZWRBcnJheVRhZ3NbaW50MTZUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbaW50MzJUYWddID0gdHlwZWRBcnJheVRhZ3NbdWludDhUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbdWludDhDbGFtcGVkVGFnXSA9IHR5cGVkQXJyYXlUYWdzW3VpbnQxNlRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1t1aW50MzJUYWddID0gdHJ1ZTtcbiAgdHlwZWRBcnJheVRhZ3NbYXJnc1RhZ10gPSB0eXBlZEFycmF5VGFnc1thcnJheVRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1thcnJheUJ1ZmZlclRhZ10gPSB0eXBlZEFycmF5VGFnc1tib29sVGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW2RhdGFWaWV3VGFnXSA9IHR5cGVkQXJyYXlUYWdzW2RhdGVUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbZXJyb3JUYWddID0gdHlwZWRBcnJheVRhZ3NbZnVuY1RhZ10gPVxuICB0eXBlZEFycmF5VGFnc1ttYXBUYWddID0gdHlwZWRBcnJheVRhZ3NbbnVtYmVyVGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW29iamVjdFRhZ10gPSB0eXBlZEFycmF5VGFnc1tyZWdleHBUYWddID1cbiAgdHlwZWRBcnJheVRhZ3Nbc2V0VGFnXSA9IHR5cGVkQXJyYXlUYWdzW3N0cmluZ1RhZ10gPVxuICB0eXBlZEFycmF5VGFnc1t3ZWFrTWFwVGFnXSA9IGZhbHNlO1xuXG4gIC8qKiBVc2VkIHRvIGlkZW50aWZ5IGB0b1N0cmluZ1RhZ2AgdmFsdWVzIHN1cHBvcnRlZCBieSBgXy5jbG9uZWAuICovXG4gIHZhciBjbG9uZWFibGVUYWdzID0ge307XG4gIGNsb25lYWJsZVRhZ3NbYXJnc1RhZ10gPSBjbG9uZWFibGVUYWdzW2FycmF5VGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbYXJyYXlCdWZmZXJUYWddID0gY2xvbmVhYmxlVGFnc1tkYXRhVmlld1RhZ10gPVxuICBjbG9uZWFibGVUYWdzW2Jvb2xUYWddID0gY2xvbmVhYmxlVGFnc1tkYXRlVGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbZmxvYXQzMlRhZ10gPSBjbG9uZWFibGVUYWdzW2Zsb2F0NjRUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tpbnQ4VGFnXSA9IGNsb25lYWJsZVRhZ3NbaW50MTZUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tpbnQzMlRhZ10gPSBjbG9uZWFibGVUYWdzW21hcFRhZ10gPVxuICBjbG9uZWFibGVUYWdzW251bWJlclRhZ10gPSBjbG9uZWFibGVUYWdzW29iamVjdFRhZ10gPVxuICBjbG9uZWFibGVUYWdzW3JlZ2V4cFRhZ10gPSBjbG9uZWFibGVUYWdzW3NldFRhZ10gPVxuICBjbG9uZWFibGVUYWdzW3N0cmluZ1RhZ10gPSBjbG9uZWFibGVUYWdzW3N5bWJvbFRhZ10gPVxuICBjbG9uZWFibGVUYWdzW3VpbnQ4VGFnXSA9IGNsb25lYWJsZVRhZ3NbdWludDhDbGFtcGVkVGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbdWludDE2VGFnXSA9IGNsb25lYWJsZVRhZ3NbdWludDMyVGFnXSA9IHRydWU7XG4gIGNsb25lYWJsZVRhZ3NbZXJyb3JUYWddID0gY2xvbmVhYmxlVGFnc1tmdW5jVGFnXSA9XG4gIGNsb25lYWJsZVRhZ3Nbd2Vha01hcFRhZ10gPSBmYWxzZTtcblxuICAvKiogVXNlZCB0byBtYXAgTGF0aW4gVW5pY29kZSBsZXR0ZXJzIHRvIGJhc2ljIExhdGluIGxldHRlcnMuICovXG4gIHZhciBkZWJ1cnJlZExldHRlcnMgPSB7XG4gICAgLy8gTGF0aW4tMSBTdXBwbGVtZW50IGJsb2NrLlxuICAgICdcXHhjMCc6ICdBJywgICdcXHhjMSc6ICdBJywgJ1xceGMyJzogJ0EnLCAnXFx4YzMnOiAnQScsICdcXHhjNCc6ICdBJywgJ1xceGM1JzogJ0EnLFxuICAgICdcXHhlMCc6ICdhJywgICdcXHhlMSc6ICdhJywgJ1xceGUyJzogJ2EnLCAnXFx4ZTMnOiAnYScsICdcXHhlNCc6ICdhJywgJ1xceGU1JzogJ2EnLFxuICAgICdcXHhjNyc6ICdDJywgICdcXHhlNyc6ICdjJyxcbiAgICAnXFx4ZDAnOiAnRCcsICAnXFx4ZjAnOiAnZCcsXG4gICAgJ1xceGM4JzogJ0UnLCAgJ1xceGM5JzogJ0UnLCAnXFx4Y2EnOiAnRScsICdcXHhjYic6ICdFJyxcbiAgICAnXFx4ZTgnOiAnZScsICAnXFx4ZTknOiAnZScsICdcXHhlYSc6ICdlJywgJ1xceGViJzogJ2UnLFxuICAgICdcXHhjYyc6ICdJJywgICdcXHhjZCc6ICdJJywgJ1xceGNlJzogJ0knLCAnXFx4Y2YnOiAnSScsXG4gICAgJ1xceGVjJzogJ2knLCAgJ1xceGVkJzogJ2knLCAnXFx4ZWUnOiAnaScsICdcXHhlZic6ICdpJyxcbiAgICAnXFx4ZDEnOiAnTicsICAnXFx4ZjEnOiAnbicsXG4gICAgJ1xceGQyJzogJ08nLCAgJ1xceGQzJzogJ08nLCAnXFx4ZDQnOiAnTycsICdcXHhkNSc6ICdPJywgJ1xceGQ2JzogJ08nLCAnXFx4ZDgnOiAnTycsXG4gICAgJ1xceGYyJzogJ28nLCAgJ1xceGYzJzogJ28nLCAnXFx4ZjQnOiAnbycsICdcXHhmNSc6ICdvJywgJ1xceGY2JzogJ28nLCAnXFx4ZjgnOiAnbycsXG4gICAgJ1xceGQ5JzogJ1UnLCAgJ1xceGRhJzogJ1UnLCAnXFx4ZGInOiAnVScsICdcXHhkYyc6ICdVJyxcbiAgICAnXFx4ZjknOiAndScsICAnXFx4ZmEnOiAndScsICdcXHhmYic6ICd1JywgJ1xceGZjJzogJ3UnLFxuICAgICdcXHhkZCc6ICdZJywgICdcXHhmZCc6ICd5JywgJ1xceGZmJzogJ3knLFxuICAgICdcXHhjNic6ICdBZScsICdcXHhlNic6ICdhZScsXG4gICAgJ1xceGRlJzogJ1RoJywgJ1xceGZlJzogJ3RoJyxcbiAgICAnXFx4ZGYnOiAnc3MnLFxuICAgIC8vIExhdGluIEV4dGVuZGVkLUEgYmxvY2suXG4gICAgJ1xcdTAxMDAnOiAnQScsICAnXFx1MDEwMic6ICdBJywgJ1xcdTAxMDQnOiAnQScsXG4gICAgJ1xcdTAxMDEnOiAnYScsICAnXFx1MDEwMyc6ICdhJywgJ1xcdTAxMDUnOiAnYScsXG4gICAgJ1xcdTAxMDYnOiAnQycsICAnXFx1MDEwOCc6ICdDJywgJ1xcdTAxMGEnOiAnQycsICdcXHUwMTBjJzogJ0MnLFxuICAgICdcXHUwMTA3JzogJ2MnLCAgJ1xcdTAxMDknOiAnYycsICdcXHUwMTBiJzogJ2MnLCAnXFx1MDEwZCc6ICdjJyxcbiAgICAnXFx1MDEwZSc6ICdEJywgICdcXHUwMTEwJzogJ0QnLCAnXFx1MDEwZic6ICdkJywgJ1xcdTAxMTEnOiAnZCcsXG4gICAgJ1xcdTAxMTInOiAnRScsICAnXFx1MDExNCc6ICdFJywgJ1xcdTAxMTYnOiAnRScsICdcXHUwMTE4JzogJ0UnLCAnXFx1MDExYSc6ICdFJyxcbiAgICAnXFx1MDExMyc6ICdlJywgICdcXHUwMTE1JzogJ2UnLCAnXFx1MDExNyc6ICdlJywgJ1xcdTAxMTknOiAnZScsICdcXHUwMTFiJzogJ2UnLFxuICAgICdcXHUwMTFjJzogJ0cnLCAgJ1xcdTAxMWUnOiAnRycsICdcXHUwMTIwJzogJ0cnLCAnXFx1MDEyMic6ICdHJyxcbiAgICAnXFx1MDExZCc6ICdnJywgICdcXHUwMTFmJzogJ2cnLCAnXFx1MDEyMSc6ICdnJywgJ1xcdTAxMjMnOiAnZycsXG4gICAgJ1xcdTAxMjQnOiAnSCcsICAnXFx1MDEyNic6ICdIJywgJ1xcdTAxMjUnOiAnaCcsICdcXHUwMTI3JzogJ2gnLFxuICAgICdcXHUwMTI4JzogJ0knLCAgJ1xcdTAxMmEnOiAnSScsICdcXHUwMTJjJzogJ0knLCAnXFx1MDEyZSc6ICdJJywgJ1xcdTAxMzAnOiAnSScsXG4gICAgJ1xcdTAxMjknOiAnaScsICAnXFx1MDEyYic6ICdpJywgJ1xcdTAxMmQnOiAnaScsICdcXHUwMTJmJzogJ2knLCAnXFx1MDEzMSc6ICdpJyxcbiAgICAnXFx1MDEzNCc6ICdKJywgICdcXHUwMTM1JzogJ2onLFxuICAgICdcXHUwMTM2JzogJ0snLCAgJ1xcdTAxMzcnOiAnaycsICdcXHUwMTM4JzogJ2snLFxuICAgICdcXHUwMTM5JzogJ0wnLCAgJ1xcdTAxM2InOiAnTCcsICdcXHUwMTNkJzogJ0wnLCAnXFx1MDEzZic6ICdMJywgJ1xcdTAxNDEnOiAnTCcsXG4gICAgJ1xcdTAxM2EnOiAnbCcsICAnXFx1MDEzYyc6ICdsJywgJ1xcdTAxM2UnOiAnbCcsICdcXHUwMTQwJzogJ2wnLCAnXFx1MDE0Mic6ICdsJyxcbiAgICAnXFx1MDE0Myc6ICdOJywgICdcXHUwMTQ1JzogJ04nLCAnXFx1MDE0Nyc6ICdOJywgJ1xcdTAxNGEnOiAnTicsXG4gICAgJ1xcdTAxNDQnOiAnbicsICAnXFx1MDE0Nic6ICduJywgJ1xcdTAxNDgnOiAnbicsICdcXHUwMTRiJzogJ24nLFxuICAgICdcXHUwMTRjJzogJ08nLCAgJ1xcdTAxNGUnOiAnTycsICdcXHUwMTUwJzogJ08nLFxuICAgICdcXHUwMTRkJzogJ28nLCAgJ1xcdTAxNGYnOiAnbycsICdcXHUwMTUxJzogJ28nLFxuICAgICdcXHUwMTU0JzogJ1InLCAgJ1xcdTAxNTYnOiAnUicsICdcXHUwMTU4JzogJ1InLFxuICAgICdcXHUwMTU1JzogJ3InLCAgJ1xcdTAxNTcnOiAncicsICdcXHUwMTU5JzogJ3InLFxuICAgICdcXHUwMTVhJzogJ1MnLCAgJ1xcdTAxNWMnOiAnUycsICdcXHUwMTVlJzogJ1MnLCAnXFx1MDE2MCc6ICdTJyxcbiAgICAnXFx1MDE1Yic6ICdzJywgICdcXHUwMTVkJzogJ3MnLCAnXFx1MDE1Zic6ICdzJywgJ1xcdTAxNjEnOiAncycsXG4gICAgJ1xcdTAxNjInOiAnVCcsICAnXFx1MDE2NCc6ICdUJywgJ1xcdTAxNjYnOiAnVCcsXG4gICAgJ1xcdTAxNjMnOiAndCcsICAnXFx1MDE2NSc6ICd0JywgJ1xcdTAxNjcnOiAndCcsXG4gICAgJ1xcdTAxNjgnOiAnVScsICAnXFx1MDE2YSc6ICdVJywgJ1xcdTAxNmMnOiAnVScsICdcXHUwMTZlJzogJ1UnLCAnXFx1MDE3MCc6ICdVJywgJ1xcdTAxNzInOiAnVScsXG4gICAgJ1xcdTAxNjknOiAndScsICAnXFx1MDE2Yic6ICd1JywgJ1xcdTAxNmQnOiAndScsICdcXHUwMTZmJzogJ3UnLCAnXFx1MDE3MSc6ICd1JywgJ1xcdTAxNzMnOiAndScsXG4gICAgJ1xcdTAxNzQnOiAnVycsICAnXFx1MDE3NSc6ICd3JyxcbiAgICAnXFx1MDE3Nic6ICdZJywgICdcXHUwMTc3JzogJ3knLCAnXFx1MDE3OCc6ICdZJyxcbiAgICAnXFx1MDE3OSc6ICdaJywgICdcXHUwMTdiJzogJ1onLCAnXFx1MDE3ZCc6ICdaJyxcbiAgICAnXFx1MDE3YSc6ICd6JywgICdcXHUwMTdjJzogJ3onLCAnXFx1MDE3ZSc6ICd6JyxcbiAgICAnXFx1MDEzMic6ICdJSicsICdcXHUwMTMzJzogJ2lqJyxcbiAgICAnXFx1MDE1Mic6ICdPZScsICdcXHUwMTUzJzogJ29lJyxcbiAgICAnXFx1MDE0OSc6IFwiJ25cIiwgJ1xcdTAxN2YnOiAncydcbiAgfTtcblxuICAvKiogVXNlZCB0byBtYXAgY2hhcmFjdGVycyB0byBIVE1MIGVudGl0aWVzLiAqL1xuICB2YXIgaHRtbEVzY2FwZXMgPSB7XG4gICAgJyYnOiAnJmFtcDsnLFxuICAgICc8JzogJyZsdDsnLFxuICAgICc+JzogJyZndDsnLFxuICAgICdcIic6ICcmcXVvdDsnLFxuICAgIFwiJ1wiOiAnJiMzOTsnXG4gIH07XG5cbiAgLyoqIFVzZWQgdG8gbWFwIEhUTUwgZW50aXRpZXMgdG8gY2hhcmFjdGVycy4gKi9cbiAgdmFyIGh0bWxVbmVzY2FwZXMgPSB7XG4gICAgJyZhbXA7JzogJyYnLFxuICAgICcmbHQ7JzogJzwnLFxuICAgICcmZ3Q7JzogJz4nLFxuICAgICcmcXVvdDsnOiAnXCInLFxuICAgICcmIzM5Oyc6IFwiJ1wiXG4gIH07XG5cbiAgLyoqIFVzZWQgdG8gZXNjYXBlIGNoYXJhY3RlcnMgZm9yIGluY2x1c2lvbiBpbiBjb21waWxlZCBzdHJpbmcgbGl0ZXJhbHMuICovXG4gIHZhciBzdHJpbmdFc2NhcGVzID0ge1xuICAgICdcXFxcJzogJ1xcXFwnLFxuICAgIFwiJ1wiOiBcIidcIixcbiAgICAnXFxuJzogJ24nLFxuICAgICdcXHInOiAncicsXG4gICAgJ1xcdTIwMjgnOiAndTIwMjgnLFxuICAgICdcXHUyMDI5JzogJ3UyMDI5J1xuICB9O1xuXG4gIC8qKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyB3aXRob3V0IGEgZGVwZW5kZW5jeSBvbiBgcm9vdGAuICovXG4gIHZhciBmcmVlUGFyc2VGbG9hdCA9IHBhcnNlRmxvYXQsXG4gICAgICBmcmVlUGFyc2VJbnQgPSBwYXJzZUludDtcblxuICAvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGdsb2JhbGAgZnJvbSBOb2RlLmpzLiAqL1xuICB2YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsICYmIGdsb2JhbC5PYmplY3QgPT09IE9iamVjdCAmJiBnbG9iYWw7XG5cbiAgLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBzZWxmYC4gKi9cbiAgdmFyIGZyZWVTZWxmID0gdHlwZW9mIHNlbGYgPT0gJ29iamVjdCcgJiYgc2VsZiAmJiBzZWxmLk9iamVjdCA9PT0gT2JqZWN0ICYmIHNlbGY7XG5cbiAgLyoqIFVzZWQgYXMgYSByZWZlcmVuY2UgdG8gdGhlIGdsb2JhbCBvYmplY3QuICovXG4gIHZhciByb290ID0gZnJlZUdsb2JhbCB8fCBmcmVlU2VsZiB8fCBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXG4gIC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZXhwb3J0c2AuICovXG4gIHZhciBmcmVlRXhwb3J0cyA9IHR5cGVvZiBleHBvcnRzID09ICdvYmplY3QnICYmIGV4cG9ydHMgJiYgIWV4cG9ydHMubm9kZVR5cGUgJiYgZXhwb3J0cztcblxuICAvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYG1vZHVsZWAuICovXG4gIHZhciBmcmVlTW9kdWxlID0gZnJlZUV4cG9ydHMgJiYgdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUgJiYgIW1vZHVsZS5ub2RlVHlwZSAmJiBtb2R1bGU7XG5cbiAgLyoqIERldGVjdCB0aGUgcG9wdWxhciBDb21tb25KUyBleHRlbnNpb24gYG1vZHVsZS5leHBvcnRzYC4gKi9cbiAgdmFyIG1vZHVsZUV4cG9ydHMgPSBmcmVlTW9kdWxlICYmIGZyZWVNb2R1bGUuZXhwb3J0cyA9PT0gZnJlZUV4cG9ydHM7XG5cbiAgLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBwcm9jZXNzYCBmcm9tIE5vZGUuanMuICovXG4gIHZhciBmcmVlUHJvY2VzcyA9IG1vZHVsZUV4cG9ydHMgJiYgZnJlZUdsb2JhbC5wcm9jZXNzO1xuXG4gIC8qKiBVc2VkIHRvIGFjY2VzcyBmYXN0ZXIgTm9kZS5qcyBoZWxwZXJzLiAqL1xuICB2YXIgbm9kZVV0aWwgPSAoZnVuY3Rpb24oKSB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIFVzZSBgdXRpbC50eXBlc2AgZm9yIE5vZGUuanMgMTArLlxuICAgICAgdmFyIHR5cGVzID0gZnJlZU1vZHVsZSAmJiBmcmVlTW9kdWxlLnJlcXVpcmUgJiYgZnJlZU1vZHVsZS5yZXF1aXJlKCd1dGlsJykudHlwZXM7XG5cbiAgICAgIGlmICh0eXBlcykge1xuICAgICAgICByZXR1cm4gdHlwZXM7XG4gICAgICB9XG5cbiAgICAgIC8vIExlZ2FjeSBgcHJvY2Vzcy5iaW5kaW5nKCd1dGlsJylgIGZvciBOb2RlLmpzIDwgMTAuXG4gICAgICByZXR1cm4gZnJlZVByb2Nlc3MgJiYgZnJlZVByb2Nlc3MuYmluZGluZyAmJiBmcmVlUHJvY2Vzcy5iaW5kaW5nKCd1dGlsJyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgfSgpKTtcblxuICAvKiBOb2RlLmpzIGhlbHBlciByZWZlcmVuY2VzLiAqL1xuICB2YXIgbm9kZUlzQXJyYXlCdWZmZXIgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc0FycmF5QnVmZmVyLFxuICAgICAgbm9kZUlzRGF0ZSA9IG5vZGVVdGlsICYmIG5vZGVVdGlsLmlzRGF0ZSxcbiAgICAgIG5vZGVJc01hcCA9IG5vZGVVdGlsICYmIG5vZGVVdGlsLmlzTWFwLFxuICAgICAgbm9kZUlzUmVnRXhwID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNSZWdFeHAsXG4gICAgICBub2RlSXNTZXQgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc1NldCxcbiAgICAgIG5vZGVJc1R5cGVkQXJyYXkgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc1R5cGVkQXJyYXk7XG5cbiAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgLyoqXG4gICAqIEEgZmFzdGVyIGFsdGVybmF0aXZlIHRvIGBGdW5jdGlvbiNhcHBseWAsIHRoaXMgZnVuY3Rpb24gaW52b2tlcyBgZnVuY2BcbiAgICogd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgYHRoaXNBcmdgIGFuZCB0aGUgYXJndW1lbnRzIG9mIGBhcmdzYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaW52b2tlLlxuICAgKiBAcGFyYW0geyp9IHRoaXNBcmcgVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAgICogQHBhcmFtIHtBcnJheX0gYXJncyBUaGUgYXJndW1lbnRzIHRvIGludm9rZSBgZnVuY2Agd2l0aC5cbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc3VsdCBvZiBgZnVuY2AuXG4gICAqL1xuICBmdW5jdGlvbiBhcHBseShmdW5jLCB0aGlzQXJnLCBhcmdzKSB7XG4gICAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuICAgICAgY2FzZSAwOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcpO1xuICAgICAgY2FzZSAxOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIGFyZ3NbMF0pO1xuICAgICAgY2FzZSAyOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICAgICAgY2FzZSAzOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgIH1cbiAgICByZXR1cm4gZnVuYy5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VBZ2dyZWdhdG9yYCBmb3IgYXJyYXlzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHNldHRlciBUaGUgZnVuY3Rpb24gdG8gc2V0IGBhY2N1bXVsYXRvcmAgdmFsdWVzLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgaXRlcmF0ZWUgdG8gdHJhbnNmb3JtIGtleXMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhY2N1bXVsYXRvciBUaGUgaW5pdGlhbCBhZ2dyZWdhdGVkIG9iamVjdC5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBhY2N1bXVsYXRvcmAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheUFnZ3JlZ2F0b3IoYXJyYXksIHNldHRlciwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICAgIHNldHRlcihhY2N1bXVsYXRvciwgdmFsdWUsIGl0ZXJhdGVlKHZhbHVlKSwgYXJyYXkpO1xuICAgIH1cbiAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmZvckVhY2hgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlFYWNoKGFycmF5LCBpdGVyYXRlZSkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBpZiAoaXRlcmF0ZWUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpID09PSBmYWxzZSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFycmF5O1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5mb3JFYWNoUmlnaHRgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlFYWNoUmlnaHQoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICBpZiAoaXRlcmF0ZWUoYXJyYXlbbGVuZ3RoXSwgbGVuZ3RoLCBhcnJheSkgPT09IGZhbHNlKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXJyYXk7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmV2ZXJ5YCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFsbCBlbGVtZW50cyBwYXNzIHRoZSBwcmVkaWNhdGUgY2hlY2ssXG4gICAqICBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheUV2ZXJ5KGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgaWYgKCFwcmVkaWNhdGUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmZpbHRlcmAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZpbHRlcmVkIGFycmF5LlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlGaWx0ZXIoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgcmVzSW5kZXggPSAwLFxuICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgICBpZiAocHJlZGljYXRlKHZhbHVlLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICAgIHJlc3VsdFtyZXNJbmRleCsrXSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5pbmNsdWRlc2AgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIHNwZWNpZnlpbmcgYW4gaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7Kn0gdGFyZ2V0IFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHRhcmdldGAgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5SW5jbHVkZXMoYXJyYXksIHZhbHVlKSB7XG4gICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgIHJldHVybiAhIWxlbmd0aCAmJiBiYXNlSW5kZXhPZihhcnJheSwgdmFsdWUsIDApID4gLTE7XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBmdW5jdGlvbiBpcyBsaWtlIGBhcnJheUluY2x1ZGVzYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGEgY29tcGFyYXRvci5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHsqfSB0YXJnZXQgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbXBhcmF0b3IgVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB0YXJnZXRgIGlzIGZvdW5kLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheUluY2x1ZGVzV2l0aChhcnJheSwgdmFsdWUsIGNvbXBhcmF0b3IpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgaWYgKGNvbXBhcmF0b3IodmFsdWUsIGFycmF5W2luZGV4XSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8ubWFwYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWVcbiAgICogc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBtYXBwZWQgYXJyYXkuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheU1hcChhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGgsXG4gICAgICAgIHJlc3VsdCA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgcmVzdWx0W2luZGV4XSA9IGl0ZXJhdGVlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBlbmRzIHRoZSBlbGVtZW50cyBvZiBgdmFsdWVzYCB0byBgYXJyYXlgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byBhcHBlbmQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlQdXNoKGFycmF5LCB2YWx1ZXMpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gdmFsdWVzLmxlbmd0aCxcbiAgICAgICAgb2Zmc2V0ID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGFycmF5W29mZnNldCArIGluZGV4XSA9IHZhbHVlc1tpbmRleF07XG4gICAgfVxuICAgIHJldHVybiBhcnJheTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8ucmVkdWNlYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcGFyYW0geyp9IFthY2N1bXVsYXRvcl0gVGhlIGluaXRpYWwgdmFsdWUuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2luaXRBY2N1bV0gU3BlY2lmeSB1c2luZyB0aGUgZmlyc3QgZWxlbWVudCBvZiBgYXJyYXlgIGFzXG4gICAqICB0aGUgaW5pdGlhbCB2YWx1ZS5cbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGFjY3VtdWxhdGVkIHZhbHVlLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlSZWR1Y2UoYXJyYXksIGl0ZXJhdGVlLCBhY2N1bXVsYXRvciwgaW5pdEFjY3VtKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gICAgaWYgKGluaXRBY2N1bSAmJiBsZW5ndGgpIHtcbiAgICAgIGFjY3VtdWxhdG9yID0gYXJyYXlbKytpbmRleF07XG4gICAgfVxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBhY2N1bXVsYXRvciA9IGl0ZXJhdGVlKGFjY3VtdWxhdG9yLCBhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSk7XG4gICAgfVxuICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8ucmVkdWNlUmlnaHRgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEBwYXJhbSB7Kn0gW2FjY3VtdWxhdG9yXSBUaGUgaW5pdGlhbCB2YWx1ZS5cbiAgICogQHBhcmFtIHtib29sZWFufSBbaW5pdEFjY3VtXSBTcGVjaWZ5IHVzaW5nIHRoZSBsYXN0IGVsZW1lbnQgb2YgYGFycmF5YCBhc1xuICAgKiAgdGhlIGluaXRpYWwgdmFsdWUuXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBhY2N1bXVsYXRlZCB2YWx1ZS5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5UmVkdWNlUmlnaHQoYXJyYXksIGl0ZXJhdGVlLCBhY2N1bXVsYXRvciwgaW5pdEFjY3VtKSB7XG4gICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgIGlmIChpbml0QWNjdW0gJiYgbGVuZ3RoKSB7XG4gICAgICBhY2N1bXVsYXRvciA9IGFycmF5Wy0tbGVuZ3RoXTtcbiAgICB9XG4gICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICBhY2N1bXVsYXRvciA9IGl0ZXJhdGVlKGFjY3VtdWxhdG9yLCBhcnJheVtsZW5ndGhdLCBsZW5ndGgsIGFycmF5KTtcbiAgICB9XG4gICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5zb21lYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWVcbiAgICogc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFueSBlbGVtZW50IHBhc3NlcyB0aGUgcHJlZGljYXRlIGNoZWNrLFxuICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlTb21lKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgaWYgKHByZWRpY2F0ZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBzaXplIG9mIGFuIEFTQ0lJIGBzdHJpbmdgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgaW5zcGVjdC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc3RyaW5nIHNpemUuXG4gICAqL1xuICB2YXIgYXNjaWlTaXplID0gYmFzZVByb3BlcnR5KCdsZW5ndGgnKTtcblxuICAvKipcbiAgICogQ29udmVydHMgYW4gQVNDSUkgYHN0cmluZ2AgdG8gYW4gYXJyYXkuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBhcnJheS5cbiAgICovXG4gIGZ1bmN0aW9uIGFzY2lpVG9BcnJheShzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nLnNwbGl0KCcnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTcGxpdHMgYW4gQVNDSUkgYHN0cmluZ2AgaW50byBhbiBhcnJheSBvZiBpdHMgd29yZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgd29yZHMgb2YgYHN0cmluZ2AuXG4gICAqL1xuICBmdW5jdGlvbiBhc2NpaVdvcmRzKHN0cmluZykge1xuICAgIHJldHVybiBzdHJpbmcubWF0Y2gocmVBc2NpaVdvcmQpIHx8IFtdO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIG1ldGhvZHMgbGlrZSBgXy5maW5kS2V5YCBhbmQgYF8uZmluZExhc3RLZXlgLFxuICAgKiB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMsIHdoaWNoIGl0ZXJhdGVzIG92ZXIgYGNvbGxlY3Rpb25gXG4gICAqIHVzaW5nIGBlYWNoRnVuY2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlYWNoRnVuYyBUaGUgZnVuY3Rpb24gdG8gaXRlcmF0ZSBvdmVyIGBjb2xsZWN0aW9uYC5cbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGZvdW5kIGVsZW1lbnQgb3IgaXRzIGtleSwgZWxzZSBgdW5kZWZpbmVkYC5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VGaW5kS2V5KGNvbGxlY3Rpb24sIHByZWRpY2F0ZSwgZWFjaEZ1bmMpIHtcbiAgICB2YXIgcmVzdWx0O1xuICAgIGVhY2hGdW5jKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pIHtcbiAgICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIGtleSwgY29sbGVjdGlvbikpIHtcbiAgICAgICAgcmVzdWx0ID0ga2V5O1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5maW5kSW5kZXhgIGFuZCBgXy5maW5kTGFzdEluZGV4YCB3aXRob3V0XG4gICAqIHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21JbmRleCBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZUZpbmRJbmRleChhcnJheSwgcHJlZGljYXRlLCBmcm9tSW5kZXgsIGZyb21SaWdodCkge1xuICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgIGluZGV4ID0gZnJvbUluZGV4ICsgKGZyb21SaWdodCA/IDEgOiAtMSk7XG5cbiAgICB3aGlsZSAoKGZyb21SaWdodCA/IGluZGV4LS0gOiArK2luZGV4IDwgbGVuZ3RoKSkge1xuICAgICAgaWYgKHByZWRpY2F0ZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkpIHtcbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaW5kZXhPZmAgd2l0aG91dCBgZnJvbUluZGV4YCBib3VuZHMgY2hlY2tzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21JbmRleCBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlSW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleCkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gdmFsdWVcbiAgICAgID8gc3RyaWN0SW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleClcbiAgICAgIDogYmFzZUZpbmRJbmRleChhcnJheSwgYmFzZUlzTmFOLCBmcm9tSW5kZXgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZSBgYmFzZUluZGV4T2ZgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYSBjb21wYXJhdG9yLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21JbmRleCBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbXBhcmF0b3IgVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VJbmRleE9mV2l0aChhcnJheSwgdmFsdWUsIGZyb21JbmRleCwgY29tcGFyYXRvcikge1xuICAgIHZhciBpbmRleCA9IGZyb21JbmRleCAtIDEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBpZiAoY29tcGFyYXRvcihhcnJheVtpbmRleF0sIHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc05hTmAgd2l0aG91dCBzdXBwb3J0IGZvciBudW1iZXIgb2JqZWN0cy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGBOYU5gLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlSXNOYU4odmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgIT09IHZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm1lYW5gIGFuZCBgXy5tZWFuQnlgIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgbWVhbi5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VNZWFuKGFycmF5LCBpdGVyYXRlZSkge1xuICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICByZXR1cm4gbGVuZ3RoID8gKGJhc2VTdW0oYXJyYXksIGl0ZXJhdGVlKSAvIGxlbmd0aCkgOiBOQU47XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucHJvcGVydHlgIHdpdGhvdXQgc3VwcG9ydCBmb3IgZGVlcCBwYXRocy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFjY2Vzc29yIGZ1bmN0aW9uLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVByb3BlcnR5KGtleSkge1xuICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFtrZXldO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucHJvcGVydHlPZmAgd2l0aG91dCBzdXBwb3J0IGZvciBkZWVwIHBhdGhzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFjY2Vzc29yIGZ1bmN0aW9uLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVByb3BlcnR5T2Yob2JqZWN0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGtleSkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yZWR1Y2VgIGFuZCBgXy5yZWR1Y2VSaWdodGAsIHdpdGhvdXQgc3VwcG9ydFxuICAgKiBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcywgd2hpY2ggaXRlcmF0ZXMgb3ZlciBgY29sbGVjdGlvbmAgdXNpbmcgYGVhY2hGdW5jYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcGFyYW0geyp9IGFjY3VtdWxhdG9yIFRoZSBpbml0aWFsIHZhbHVlLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGluaXRBY2N1bSBTcGVjaWZ5IHVzaW5nIHRoZSBmaXJzdCBvciBsYXN0IGVsZW1lbnQgb2ZcbiAgICogIGBjb2xsZWN0aW9uYCBhcyB0aGUgaW5pdGlhbCB2YWx1ZS5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZWFjaEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGl0ZXJhdGUgb3ZlciBgY29sbGVjdGlvbmAuXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBhY2N1bXVsYXRlZCB2YWx1ZS5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VSZWR1Y2UoY29sbGVjdGlvbiwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yLCBpbml0QWNjdW0sIGVhY2hGdW5jKSB7XG4gICAgZWFjaEZ1bmMoY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICBhY2N1bXVsYXRvciA9IGluaXRBY2N1bVxuICAgICAgICA/IChpbml0QWNjdW0gPSBmYWxzZSwgdmFsdWUpXG4gICAgICAgIDogaXRlcmF0ZWUoYWNjdW11bGF0b3IsIHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbik7XG4gICAgfSk7XG4gICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNvcnRCeWAgd2hpY2ggdXNlcyBgY29tcGFyZXJgIHRvIGRlZmluZSB0aGVcbiAgICogc29ydCBvcmRlciBvZiBgYXJyYXlgIGFuZCByZXBsYWNlcyBjcml0ZXJpYSBvYmplY3RzIHdpdGggdGhlaXIgY29ycmVzcG9uZGluZ1xuICAgKiB2YWx1ZXMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBzb3J0LlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb21wYXJlciBUaGUgZnVuY3Rpb24gdG8gZGVmaW5lIHNvcnQgb3JkZXIuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVNvcnRCeShhcnJheSwgY29tcGFyZXIpIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgYXJyYXkuc29ydChjb21wYXJlcik7XG4gICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICBhcnJheVtsZW5ndGhdID0gYXJyYXlbbGVuZ3RoXS52YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGFycmF5O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnN1bWAgYW5kIGBfLnN1bUJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHN1bS5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VTdW0oYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgdmFyIHJlc3VsdCxcbiAgICAgICAgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIHZhciBjdXJyZW50ID0gaXRlcmF0ZWUoYXJyYXlbaW5kZXhdKTtcbiAgICAgIGlmIChjdXJyZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0ID09PSB1bmRlZmluZWQgPyBjdXJyZW50IDogKHJlc3VsdCArIGN1cnJlbnQpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRpbWVzYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHNcbiAgICogb3IgbWF4IGFycmF5IGxlbmd0aCBjaGVja3MuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gaW52b2tlIGBpdGVyYXRlZWAuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcmVzdWx0cy5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VUaW1lcyhuLCBpdGVyYXRlZSkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICByZXN1bHQgPSBBcnJheShuKTtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbikge1xuICAgICAgcmVzdWx0W2luZGV4XSA9IGl0ZXJhdGVlKGluZGV4KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50b1BhaXJzYCBhbmQgYF8udG9QYWlyc0luYCB3aGljaCBjcmVhdGVzIGFuIGFycmF5XG4gICAqIG9mIGtleS12YWx1ZSBwYWlycyBmb3IgYG9iamVjdGAgY29ycmVzcG9uZGluZyB0byB0aGUgcHJvcGVydHkgbmFtZXMgb2YgYHByb3BzYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgKiBAcGFyYW0ge0FycmF5fSBwcm9wcyBUaGUgcHJvcGVydHkgbmFtZXMgdG8gZ2V0IHZhbHVlcyBmb3IuXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGtleS12YWx1ZSBwYWlycy5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VUb1BhaXJzKG9iamVjdCwgcHJvcHMpIHtcbiAgICByZXR1cm4gYXJyYXlNYXAocHJvcHMsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgcmV0dXJuIFtrZXksIG9iamVjdFtrZXldXTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy51bmFyeWAgd2l0aG91dCBzdXBwb3J0IGZvciBzdG9yaW5nIG1ldGFkYXRhLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjYXAgYXJndW1lbnRzIGZvci5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY2FwcGVkIGZ1bmN0aW9uLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVVuYXJ5KGZ1bmMpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiBmdW5jKHZhbHVlKTtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnZhbHVlc2AgYW5kIGBfLnZhbHVlc0luYCB3aGljaCBjcmVhdGVzIGFuXG4gICAqIGFycmF5IG9mIGBvYmplY3RgIHByb3BlcnR5IHZhbHVlcyBjb3JyZXNwb25kaW5nIHRvIHRoZSBwcm9wZXJ0eSBuYW1lc1xuICAgKiBvZiBgcHJvcHNgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAqIEBwYXJhbSB7QXJyYXl9IHByb3BzIFRoZSBwcm9wZXJ0eSBuYW1lcyB0byBnZXQgdmFsdWVzIGZvci5cbiAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgdmFsdWVzLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVZhbHVlcyhvYmplY3QsIHByb3BzKSB7XG4gICAgcmV0dXJuIGFycmF5TWFwKHByb3BzLCBmdW5jdGlvbihrZXkpIHtcbiAgICAgIHJldHVybiBvYmplY3Rba2V5XTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYSBgY2FjaGVgIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBjYWNoZSBUaGUgY2FjaGUgdG8gcXVlcnkuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBjYWNoZUhhcyhjYWNoZSwga2V5KSB7XG4gICAgcmV0dXJuIGNhY2hlLmhhcyhrZXkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYF8udHJpbWAgYW5kIGBfLnRyaW1TdGFydGAgdG8gZ2V0IHRoZSBpbmRleCBvZiB0aGUgZmlyc3Qgc3RyaW5nIHN5bWJvbFxuICAgKiB0aGF0IGlzIG5vdCBmb3VuZCBpbiB0aGUgY2hhcmFjdGVyIHN5bWJvbHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IHN0clN5bWJvbHMgVGhlIHN0cmluZyBzeW1ib2xzIHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7QXJyYXl9IGNoclN5bWJvbHMgVGhlIGNoYXJhY3RlciBzeW1ib2xzIHRvIGZpbmQuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBmaXJzdCB1bm1hdGNoZWQgc3RyaW5nIHN5bWJvbC5cbiAgICovXG4gIGZ1bmN0aW9uIGNoYXJzU3RhcnRJbmRleChzdHJTeW1ib2xzLCBjaHJTeW1ib2xzKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IHN0clN5bWJvbHMubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGggJiYgYmFzZUluZGV4T2YoY2hyU3ltYm9scywgc3RyU3ltYm9sc1tpbmRleF0sIDApID4gLTEpIHt9XG4gICAgcmV0dXJuIGluZGV4O1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYF8udHJpbWAgYW5kIGBfLnRyaW1FbmRgIHRvIGdldCB0aGUgaW5kZXggb2YgdGhlIGxhc3Qgc3RyaW5nIHN5bWJvbFxuICAgKiB0aGF0IGlzIG5vdCBmb3VuZCBpbiB0aGUgY2hhcmFjdGVyIHN5bWJvbHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IHN0clN5bWJvbHMgVGhlIHN0cmluZyBzeW1ib2xzIHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7QXJyYXl9IGNoclN5bWJvbHMgVGhlIGNoYXJhY3RlciBzeW1ib2xzIHRvIGZpbmQuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBsYXN0IHVubWF0Y2hlZCBzdHJpbmcgc3ltYm9sLlxuICAgKi9cbiAgZnVuY3Rpb24gY2hhcnNFbmRJbmRleChzdHJTeW1ib2xzLCBjaHJTeW1ib2xzKSB7XG4gICAgdmFyIGluZGV4ID0gc3RyU3ltYm9scy5sZW5ndGg7XG5cbiAgICB3aGlsZSAoaW5kZXgtLSAmJiBiYXNlSW5kZXhPZihjaHJTeW1ib2xzLCBzdHJTeW1ib2xzW2luZGV4XSwgMCkgPiAtMSkge31cbiAgICByZXR1cm4gaW5kZXg7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgbnVtYmVyIG9mIGBwbGFjZWhvbGRlcmAgb2NjdXJyZW5jZXMgaW4gYGFycmF5YC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7Kn0gcGxhY2Vob2xkZXIgVGhlIHBsYWNlaG9sZGVyIHRvIHNlYXJjaCBmb3IuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHBsYWNlaG9sZGVyIGNvdW50LlxuICAgKi9cbiAgZnVuY3Rpb24gY291bnRIb2xkZXJzKGFycmF5LCBwbGFjZWhvbGRlcikge1xuICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgIHJlc3VsdCA9IDA7XG5cbiAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgIGlmIChhcnJheVtsZW5ndGhdID09PSBwbGFjZWhvbGRlcikge1xuICAgICAgICArK3Jlc3VsdDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VkIGJ5IGBfLmRlYnVycmAgdG8gY29udmVydCBMYXRpbi0xIFN1cHBsZW1lbnQgYW5kIExhdGluIEV4dGVuZGVkLUFcbiAgICogbGV0dGVycyB0byBiYXNpYyBMYXRpbiBsZXR0ZXJzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gbGV0dGVyIFRoZSBtYXRjaGVkIGxldHRlciB0byBkZWJ1cnIuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGRlYnVycmVkIGxldHRlci5cbiAgICovXG4gIHZhciBkZWJ1cnJMZXR0ZXIgPSBiYXNlUHJvcGVydHlPZihkZWJ1cnJlZExldHRlcnMpO1xuXG4gIC8qKlxuICAgKiBVc2VkIGJ5IGBfLmVzY2FwZWAgdG8gY29udmVydCBjaGFyYWN0ZXJzIHRvIEhUTUwgZW50aXRpZXMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjaHIgVGhlIG1hdGNoZWQgY2hhcmFjdGVyIHRvIGVzY2FwZS5cbiAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZXNjYXBlZCBjaGFyYWN0ZXIuXG4gICAqL1xuICB2YXIgZXNjYXBlSHRtbENoYXIgPSBiYXNlUHJvcGVydHlPZihodG1sRXNjYXBlcyk7XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYF8udGVtcGxhdGVgIHRvIGVzY2FwZSBjaGFyYWN0ZXJzIGZvciBpbmNsdXNpb24gaW4gY29tcGlsZWQgc3RyaW5nIGxpdGVyYWxzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gY2hyIFRoZSBtYXRjaGVkIGNoYXJhY3RlciB0byBlc2NhcGUuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGVzY2FwZWQgY2hhcmFjdGVyLlxuICAgKi9cbiAgZnVuY3Rpb24gZXNjYXBlU3RyaW5nQ2hhcihjaHIpIHtcbiAgICByZXR1cm4gJ1xcXFwnICsgc3RyaW5nRXNjYXBlc1tjaHJdO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHZhbHVlIGF0IGBrZXlgIG9mIGBvYmplY3RgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSB2YWx1ZS5cbiAgICovXG4gIGZ1bmN0aW9uIGdldFZhbHVlKG9iamVjdCwga2V5KSB7XG4gICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGBzdHJpbmdgIGNvbnRhaW5zIFVuaWNvZGUgc3ltYm9scy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhIHN5bWJvbCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gaGFzVW5pY29kZShzdHJpbmcpIHtcbiAgICByZXR1cm4gcmVIYXNVbmljb2RlLnRlc3Qoc3RyaW5nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYHN0cmluZ2AgY29udGFpbnMgYSB3b3JkIGNvbXBvc2VkIG9mIFVuaWNvZGUgc3ltYm9scy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhIHdvcmQgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGhhc1VuaWNvZGVXb3JkKHN0cmluZykge1xuICAgIHJldHVybiByZUhhc1VuaWNvZGVXb3JkLnRlc3Qoc3RyaW5nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBgaXRlcmF0b3JgIHRvIGFuIGFycmF5LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gaXRlcmF0b3IgVGhlIGl0ZXJhdG9yIHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY29udmVydGVkIGFycmF5LlxuICAgKi9cbiAgZnVuY3Rpb24gaXRlcmF0b3JUb0FycmF5KGl0ZXJhdG9yKSB7XG4gICAgdmFyIGRhdGEsXG4gICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgd2hpbGUgKCEoZGF0YSA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuICAgICAgcmVzdWx0LnB1c2goZGF0YS52YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgYG1hcGAgdG8gaXRzIGtleS12YWx1ZSBwYWlycy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IG1hcCBUaGUgbWFwIHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUga2V5LXZhbHVlIHBhaXJzLlxuICAgKi9cbiAgZnVuY3Rpb24gbWFwVG9BcnJheShtYXApIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgcmVzdWx0ID0gQXJyYXkobWFwLnNpemUpO1xuXG4gICAgbWFwLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgcmVzdWx0WysraW5kZXhdID0gW2tleSwgdmFsdWVdO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIHVuYXJ5IGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBpdHMgYXJndW1lbnQgdHJhbnNmb3JtZWQuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBUaGUgYXJndW1lbnQgdHJhbnNmb3JtLlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICovXG4gIGZ1bmN0aW9uIG92ZXJBcmcoZnVuYywgdHJhbnNmb3JtKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGFyZykge1xuICAgICAgcmV0dXJuIGZ1bmModHJhbnNmb3JtKGFyZykpO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogUmVwbGFjZXMgYWxsIGBwbGFjZWhvbGRlcmAgZWxlbWVudHMgaW4gYGFycmF5YCB3aXRoIGFuIGludGVybmFsIHBsYWNlaG9sZGVyXG4gICAqIGFuZCByZXR1cm5zIGFuIGFycmF5IG9mIHRoZWlyIGluZGV4ZXMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAqIEBwYXJhbSB7Kn0gcGxhY2Vob2xkZXIgVGhlIHBsYWNlaG9sZGVyIHRvIHJlcGxhY2UuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHBsYWNlaG9sZGVyIGluZGV4ZXMuXG4gICAqL1xuICBmdW5jdGlvbiByZXBsYWNlSG9sZGVycyhhcnJheSwgcGxhY2Vob2xkZXIpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICByZXNJbmRleCA9IDAsXG4gICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICAgIGlmICh2YWx1ZSA9PT0gcGxhY2Vob2xkZXIgfHwgdmFsdWUgPT09IFBMQUNFSE9MREVSKSB7XG4gICAgICAgIGFycmF5W2luZGV4XSA9IFBMQUNFSE9MREVSO1xuICAgICAgICByZXN1bHRbcmVzSW5kZXgrK10gPSBpbmRleDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBgc2V0YCB0byBhbiBhcnJheSBvZiBpdHMgdmFsdWVzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gc2V0IFRoZSBzZXQgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB2YWx1ZXMuXG4gICAqL1xuICBmdW5jdGlvbiBzZXRUb0FycmF5KHNldCkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICByZXN1bHQgPSBBcnJheShzZXQuc2l6ZSk7XG5cbiAgICBzZXQuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmVzdWx0WysraW5kZXhdID0gdmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBgc2V0YCB0byBpdHMgdmFsdWUtdmFsdWUgcGFpcnMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBzZXQgVGhlIHNldCB0byBjb252ZXJ0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHZhbHVlLXZhbHVlIHBhaXJzLlxuICAgKi9cbiAgZnVuY3Rpb24gc2V0VG9QYWlycyhzZXQpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgcmVzdWx0ID0gQXJyYXkoc2V0LnNpemUpO1xuXG4gICAgc2V0LmZvckVhY2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJlc3VsdFsrK2luZGV4XSA9IFt2YWx1ZSwgdmFsdWVdO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmluZGV4T2ZgIHdoaWNoIHBlcmZvcm1zIHN0cmljdCBlcXVhbGl0eVxuICAgKiBjb21wYXJpc29ucyBvZiB2YWx1ZXMsIGkuZS4gYD09PWAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICovXG4gIGZ1bmN0aW9uIHN0cmljdEluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpIHtcbiAgICB2YXIgaW5kZXggPSBmcm9tSW5kZXggLSAxLFxuICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgaWYgKGFycmF5W2luZGV4XSA9PT0gdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmxhc3RJbmRleE9mYCB3aGljaCBwZXJmb3JtcyBzdHJpY3QgZXF1YWxpdHlcbiAgICogY29tcGFyaXNvbnMgb2YgdmFsdWVzLCBpLmUuIGA9PT1gLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21JbmRleCBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAqL1xuICBmdW5jdGlvbiBzdHJpY3RMYXN0SW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleCkge1xuICAgIHZhciBpbmRleCA9IGZyb21JbmRleCArIDE7XG4gICAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICAgIGlmIChhcnJheVtpbmRleF0gPT09IHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGluZGV4O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIG51bWJlciBvZiBzeW1ib2xzIGluIGBzdHJpbmdgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc3RyaW5nIHNpemUuXG4gICAqL1xuICBmdW5jdGlvbiBzdHJpbmdTaXplKHN0cmluZykge1xuICAgIHJldHVybiBoYXNVbmljb2RlKHN0cmluZylcbiAgICAgID8gdW5pY29kZVNpemUoc3RyaW5nKVxuICAgICAgOiBhc2NpaVNpemUoc3RyaW5nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0byBhbiBhcnJheS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY29udmVydGVkIGFycmF5LlxuICAgKi9cbiAgZnVuY3Rpb24gc3RyaW5nVG9BcnJheShzdHJpbmcpIHtcbiAgICByZXR1cm4gaGFzVW5pY29kZShzdHJpbmcpXG4gICAgICA/IHVuaWNvZGVUb0FycmF5KHN0cmluZylcbiAgICAgIDogYXNjaWlUb0FycmF5KHN0cmluZyk7XG4gIH1cblxuICAvKipcbiAgICogVXNlZCBieSBgXy51bmVzY2FwZWAgdG8gY29udmVydCBIVE1MIGVudGl0aWVzIHRvIGNoYXJhY3RlcnMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjaHIgVGhlIG1hdGNoZWQgY2hhcmFjdGVyIHRvIHVuZXNjYXBlLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB1bmVzY2FwZWQgY2hhcmFjdGVyLlxuICAgKi9cbiAgdmFyIHVuZXNjYXBlSHRtbENoYXIgPSBiYXNlUHJvcGVydHlPZihodG1sVW5lc2NhcGVzKTtcblxuICAvKipcbiAgICogR2V0cyB0aGUgc2l6ZSBvZiBhIFVuaWNvZGUgYHN0cmluZ2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzdHJpbmcgc2l6ZS5cbiAgICovXG4gIGZ1bmN0aW9uIHVuaWNvZGVTaXplKHN0cmluZykge1xuICAgIHZhciByZXN1bHQgPSByZVVuaWNvZGUubGFzdEluZGV4ID0gMDtcbiAgICB3aGlsZSAocmVVbmljb2RlLnRlc3Qoc3RyaW5nKSkge1xuICAgICAgKytyZXN1bHQ7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgYSBVbmljb2RlIGBzdHJpbmdgIHRvIGFuIGFycmF5LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgYXJyYXkuXG4gICAqL1xuICBmdW5jdGlvbiB1bmljb2RlVG9BcnJheShzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nLm1hdGNoKHJlVW5pY29kZSkgfHwgW107XG4gIH1cblxuICAvKipcbiAgICogU3BsaXRzIGEgVW5pY29kZSBgc3RyaW5nYCBpbnRvIGFuIGFycmF5IG9mIGl0cyB3b3Jkcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB3b3JkcyBvZiBgc3RyaW5nYC5cbiAgICovXG4gIGZ1bmN0aW9uIHVuaWNvZGVXb3JkcyhzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nLm1hdGNoKHJlVW5pY29kZVdvcmQpIHx8IFtdO1xuICB9XG5cbiAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBwcmlzdGluZSBgbG9kYXNoYCBmdW5jdGlvbiB1c2luZyB0aGUgYGNvbnRleHRgIG9iamVjdC5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAc2luY2UgMS4xLjBcbiAgICogQGNhdGVnb3J5IFV0aWxcbiAgICogQHBhcmFtIHtPYmplY3R9IFtjb250ZXh0PXJvb3RdIFRoZSBjb250ZXh0IG9iamVjdC5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGEgbmV3IGBsb2Rhc2hgIGZ1bmN0aW9uLlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiBfLm1peGluKHsgJ2Zvbyc6IF8uY29uc3RhbnQoJ2ZvbycpIH0pO1xuICAgKlxuICAgKiB2YXIgbG9kYXNoID0gXy5ydW5JbkNvbnRleHQoKTtcbiAgICogbG9kYXNoLm1peGluKHsgJ2Jhcic6IGxvZGFzaC5jb25zdGFudCgnYmFyJykgfSk7XG4gICAqXG4gICAqIF8uaXNGdW5jdGlvbihfLmZvbyk7XG4gICAqIC8vID0+IHRydWVcbiAgICogXy5pc0Z1bmN0aW9uKF8uYmFyKTtcbiAgICogLy8gPT4gZmFsc2VcbiAgICpcbiAgICogbG9kYXNoLmlzRnVuY3Rpb24obG9kYXNoLmZvbyk7XG4gICAqIC8vID0+IGZhbHNlXG4gICAqIGxvZGFzaC5pc0Z1bmN0aW9uKGxvZGFzaC5iYXIpO1xuICAgKiAvLyA9PiB0cnVlXG4gICAqXG4gICAqIC8vIENyZWF0ZSBhIHN1cGVkLXVwIGBkZWZlcmAgaW4gTm9kZS5qcy5cbiAgICogdmFyIGRlZmVyID0gXy5ydW5JbkNvbnRleHQoeyAnc2V0VGltZW91dCc6IHNldEltbWVkaWF0ZSB9KS5kZWZlcjtcbiAgICovXG4gIHZhciBydW5JbkNvbnRleHQgPSAoZnVuY3Rpb24gcnVuSW5Db250ZXh0KGNvbnRleHQpIHtcbiAgICBjb250ZXh0ID0gY29udGV4dCA9PSBudWxsID8gcm9vdCA6IF8uZGVmYXVsdHMocm9vdC5PYmplY3QoKSwgY29udGV4dCwgXy5waWNrKHJvb3QsIGNvbnRleHRQcm9wcykpO1xuXG4gICAgLyoqIEJ1aWx0LWluIGNvbnN0cnVjdG9yIHJlZmVyZW5jZXMuICovXG4gICAgdmFyIEFycmF5ID0gY29udGV4dC5BcnJheSxcbiAgICAgICAgRGF0ZSA9IGNvbnRleHQuRGF0ZSxcbiAgICAgICAgRXJyb3IgPSBjb250ZXh0LkVycm9yLFxuICAgICAgICBGdW5jdGlvbiA9IGNvbnRleHQuRnVuY3Rpb24sXG4gICAgICAgIE1hdGggPSBjb250ZXh0Lk1hdGgsXG4gICAgICAgIE9iamVjdCA9IGNvbnRleHQuT2JqZWN0LFxuICAgICAgICBSZWdFeHAgPSBjb250ZXh0LlJlZ0V4cCxcbiAgICAgICAgU3RyaW5nID0gY29udGV4dC5TdHJpbmcsXG4gICAgICAgIFR5cGVFcnJvciA9IGNvbnRleHQuVHlwZUVycm9yO1xuXG4gICAgLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xuICAgIHZhciBhcnJheVByb3RvID0gQXJyYXkucHJvdG90eXBlLFxuICAgICAgICBmdW5jUHJvdG8gPSBGdW5jdGlvbi5wcm90b3R5cGUsXG4gICAgICAgIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuICAgIC8qKiBVc2VkIHRvIGRldGVjdCBvdmVycmVhY2hpbmcgY29yZS1qcyBzaGltcy4gKi9cbiAgICB2YXIgY29yZUpzRGF0YSA9IGNvbnRleHRbJ19fY29yZS1qc19zaGFyZWRfXyddO1xuXG4gICAgLyoqIFVzZWQgdG8gcmVzb2x2ZSB0aGUgZGVjb21waWxlZCBzb3VyY2Ugb2YgZnVuY3Rpb25zLiAqL1xuICAgIHZhciBmdW5jVG9TdHJpbmcgPSBmdW5jUHJvdG8udG9TdHJpbmc7XG5cbiAgICAvKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbiAgICB2YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuICAgIC8qKiBVc2VkIHRvIGdlbmVyYXRlIHVuaXF1ZSBJRHMuICovXG4gICAgdmFyIGlkQ291bnRlciA9IDA7XG5cbiAgICAvKiogVXNlZCB0byBkZXRlY3QgbWV0aG9kcyBtYXNxdWVyYWRpbmcgYXMgbmF0aXZlLiAqL1xuICAgIHZhciBtYXNrU3JjS2V5ID0gKGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHVpZCA9IC9bXi5dKyQvLmV4ZWMoY29yZUpzRGF0YSAmJiBjb3JlSnNEYXRhLmtleXMgJiYgY29yZUpzRGF0YS5rZXlzLklFX1BST1RPIHx8ICcnKTtcbiAgICAgIHJldHVybiB1aWQgPyAoJ1N5bWJvbChzcmMpXzEuJyArIHVpZCkgOiAnJztcbiAgICB9KCkpO1xuXG4gICAgLyoqXG4gICAgICogVXNlZCB0byByZXNvbHZlIHRoZVxuICAgICAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICAgICAqIG9mIHZhbHVlcy5cbiAgICAgKi9cbiAgICB2YXIgbmF0aXZlT2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuICAgIC8qKiBVc2VkIHRvIGluZmVyIHRoZSBgT2JqZWN0YCBjb25zdHJ1Y3Rvci4gKi9cbiAgICB2YXIgb2JqZWN0Q3RvclN0cmluZyA9IGZ1bmNUb1N0cmluZy5jYWxsKE9iamVjdCk7XG5cbiAgICAvKiogVXNlZCB0byByZXN0b3JlIHRoZSBvcmlnaW5hbCBgX2AgcmVmZXJlbmNlIGluIGBfLm5vQ29uZmxpY3RgLiAqL1xuICAgIHZhciBvbGREYXNoID0gcm9vdC5fO1xuXG4gICAgLyoqIFVzZWQgdG8gZGV0ZWN0IGlmIGEgbWV0aG9kIGlzIG5hdGl2ZS4gKi9cbiAgICB2YXIgcmVJc05hdGl2ZSA9IFJlZ0V4cCgnXicgK1xuICAgICAgZnVuY1RvU3RyaW5nLmNhbGwoaGFzT3duUHJvcGVydHkpLnJlcGxhY2UocmVSZWdFeHBDaGFyLCAnXFxcXCQmJylcbiAgICAgIC5yZXBsYWNlKC9oYXNPd25Qcm9wZXJ0eXwoZnVuY3Rpb24pLio/KD89XFxcXFxcKCl8IGZvciAuKz8oPz1cXFxcXFxdKS9nLCAnJDEuKj8nKSArICckJ1xuICAgICk7XG5cbiAgICAvKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbiAgICB2YXIgQnVmZmVyID0gbW9kdWxlRXhwb3J0cyA/IGNvbnRleHQuQnVmZmVyIDogdW5kZWZpbmVkLFxuICAgICAgICBTeW1ib2wgPSBjb250ZXh0LlN5bWJvbCxcbiAgICAgICAgVWludDhBcnJheSA9IGNvbnRleHQuVWludDhBcnJheSxcbiAgICAgICAgYWxsb2NVbnNhZmUgPSBCdWZmZXIgPyBCdWZmZXIuYWxsb2NVbnNhZmUgOiB1bmRlZmluZWQsXG4gICAgICAgIGdldFByb3RvdHlwZSA9IG92ZXJBcmcoT2JqZWN0LmdldFByb3RvdHlwZU9mLCBPYmplY3QpLFxuICAgICAgICBvYmplY3RDcmVhdGUgPSBPYmplY3QuY3JlYXRlLFxuICAgICAgICBwcm9wZXJ0eUlzRW51bWVyYWJsZSA9IG9iamVjdFByb3RvLnByb3BlcnR5SXNFbnVtZXJhYmxlLFxuICAgICAgICBzcGxpY2UgPSBhcnJheVByb3RvLnNwbGljZSxcbiAgICAgICAgc3ByZWFkYWJsZVN5bWJvbCA9IFN5bWJvbCA/IFN5bWJvbC5pc0NvbmNhdFNwcmVhZGFibGUgOiB1bmRlZmluZWQsXG4gICAgICAgIHN5bUl0ZXJhdG9yID0gU3ltYm9sID8gU3ltYm9sLml0ZXJhdG9yIDogdW5kZWZpbmVkLFxuICAgICAgICBzeW1Ub1N0cmluZ1RhZyA9IFN5bWJvbCA/IFN5bWJvbC50b1N0cmluZ1RhZyA6IHVuZGVmaW5lZDtcblxuICAgIHZhciBkZWZpbmVQcm9wZXJ0eSA9IChmdW5jdGlvbigpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciBmdW5jID0gZ2V0TmF0aXZlKE9iamVjdCwgJ2RlZmluZVByb3BlcnR5Jyk7XG4gICAgICAgIGZ1bmMoe30sICcnLCB7fSk7XG4gICAgICAgIHJldHVybiBmdW5jO1xuICAgICAgfSBjYXRjaCAoZSkge31cbiAgICB9KCkpO1xuXG4gICAgLyoqIE1vY2tlZCBidWlsdC1pbnMuICovXG4gICAgdmFyIGN0eENsZWFyVGltZW91dCA9IGNvbnRleHQuY2xlYXJUaW1lb3V0ICE9PSByb290LmNsZWFyVGltZW91dCAmJiBjb250ZXh0LmNsZWFyVGltZW91dCxcbiAgICAgICAgY3R4Tm93ID0gRGF0ZSAmJiBEYXRlLm5vdyAhPT0gcm9vdC5EYXRlLm5vdyAmJiBEYXRlLm5vdyxcbiAgICAgICAgY3R4U2V0VGltZW91dCA9IGNvbnRleHQuc2V0VGltZW91dCAhPT0gcm9vdC5zZXRUaW1lb3V0ICYmIGNvbnRleHQuc2V0VGltZW91dDtcblxuICAgIC8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cbiAgICB2YXIgbmF0aXZlQ2VpbCA9IE1hdGguY2VpbCxcbiAgICAgICAgbmF0aXZlRmxvb3IgPSBNYXRoLmZsb29yLFxuICAgICAgICBuYXRpdmVHZXRTeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxcbiAgICAgICAgbmF0aXZlSXNCdWZmZXIgPSBCdWZmZXIgPyBCdWZmZXIuaXNCdWZmZXIgOiB1bmRlZmluZWQsXG4gICAgICAgIG5hdGl2ZUlzRmluaXRlID0gY29udGV4dC5pc0Zpbml0ZSxcbiAgICAgICAgbmF0aXZlSm9pbiA9IGFycmF5UHJvdG8uam9pbixcbiAgICAgICAgbmF0aXZlS2V5cyA9IG92ZXJBcmcoT2JqZWN0LmtleXMsIE9iamVjdCksXG4gICAgICAgIG5hdGl2ZU1heCA9IE1hdGgubWF4LFxuICAgICAgICBuYXRpdmVNaW4gPSBNYXRoLm1pbixcbiAgICAgICAgbmF0aXZlTm93ID0gRGF0ZS5ub3csXG4gICAgICAgIG5hdGl2ZVBhcnNlSW50ID0gY29udGV4dC5wYXJzZUludCxcbiAgICAgICAgbmF0aXZlUmFuZG9tID0gTWF0aC5yYW5kb20sXG4gICAgICAgIG5hdGl2ZVJldmVyc2UgPSBhcnJheVByb3RvLnJldmVyc2U7XG5cbiAgICAvKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyB0aGF0IGFyZSB2ZXJpZmllZCB0byBiZSBuYXRpdmUuICovXG4gICAgdmFyIERhdGFWaWV3ID0gZ2V0TmF0aXZlKGNvbnRleHQsICdEYXRhVmlldycpLFxuICAgICAgICBNYXAgPSBnZXROYXRpdmUoY29udGV4dCwgJ01hcCcpLFxuICAgICAgICBQcm9taXNlID0gZ2V0TmF0aXZlKGNvbnRleHQsICdQcm9taXNlJyksXG4gICAgICAgIFNldCA9IGdldE5hdGl2ZShjb250ZXh0LCAnU2V0JyksXG4gICAgICAgIFdlYWtNYXAgPSBnZXROYXRpdmUoY29udGV4dCwgJ1dlYWtNYXAnKSxcbiAgICAgICAgbmF0aXZlQ3JlYXRlID0gZ2V0TmF0aXZlKE9iamVjdCwgJ2NyZWF0ZScpO1xuXG4gICAgLyoqIFVzZWQgdG8gc3RvcmUgZnVuY3Rpb24gbWV0YWRhdGEuICovXG4gICAgdmFyIG1ldGFNYXAgPSBXZWFrTWFwICYmIG5ldyBXZWFrTWFwO1xuXG4gICAgLyoqIFVzZWQgdG8gbG9va3VwIHVubWluaWZpZWQgZnVuY3Rpb24gbmFtZXMuICovXG4gICAgdmFyIHJlYWxOYW1lcyA9IHt9O1xuXG4gICAgLyoqIFVzZWQgdG8gZGV0ZWN0IG1hcHMsIHNldHMsIGFuZCB3ZWFrbWFwcy4gKi9cbiAgICB2YXIgZGF0YVZpZXdDdG9yU3RyaW5nID0gdG9Tb3VyY2UoRGF0YVZpZXcpLFxuICAgICAgICBtYXBDdG9yU3RyaW5nID0gdG9Tb3VyY2UoTWFwKSxcbiAgICAgICAgcHJvbWlzZUN0b3JTdHJpbmcgPSB0b1NvdXJjZShQcm9taXNlKSxcbiAgICAgICAgc2V0Q3RvclN0cmluZyA9IHRvU291cmNlKFNldCksXG4gICAgICAgIHdlYWtNYXBDdG9yU3RyaW5nID0gdG9Tb3VyY2UoV2Vha01hcCk7XG5cbiAgICAvKiogVXNlZCB0byBjb252ZXJ0IHN5bWJvbHMgdG8gcHJpbWl0aXZlcyBhbmQgc3RyaW5ncy4gKi9cbiAgICB2YXIgc3ltYm9sUHJvdG8gPSBTeW1ib2wgPyBTeW1ib2wucHJvdG90eXBlIDogdW5kZWZpbmVkLFxuICAgICAgICBzeW1ib2xWYWx1ZU9mID0gc3ltYm9sUHJvdG8gPyBzeW1ib2xQcm90by52YWx1ZU9mIDogdW5kZWZpbmVkLFxuICAgICAgICBzeW1ib2xUb1N0cmluZyA9IHN5bWJvbFByb3RvID8gc3ltYm9sUHJvdG8udG9TdHJpbmcgOiB1bmRlZmluZWQ7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYGxvZGFzaGAgb2JqZWN0IHdoaWNoIHdyYXBzIGB2YWx1ZWAgdG8gZW5hYmxlIGltcGxpY2l0IG1ldGhvZFxuICAgICAqIGNoYWluIHNlcXVlbmNlcy4gTWV0aG9kcyB0aGF0IG9wZXJhdGUgb24gYW5kIHJldHVybiBhcnJheXMsIGNvbGxlY3Rpb25zLFxuICAgICAqIGFuZCBmdW5jdGlvbnMgY2FuIGJlIGNoYWluZWQgdG9nZXRoZXIuIE1ldGhvZHMgdGhhdCByZXRyaWV2ZSBhIHNpbmdsZSB2YWx1ZVxuICAgICAqIG9yIG1heSByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUgd2lsbCBhdXRvbWF0aWNhbGx5IGVuZCB0aGUgY2hhaW4gc2VxdWVuY2VcbiAgICAgKiBhbmQgcmV0dXJuIHRoZSB1bndyYXBwZWQgdmFsdWUuIE90aGVyd2lzZSwgdGhlIHZhbHVlIG11c3QgYmUgdW53cmFwcGVkXG4gICAgICogd2l0aCBgXyN2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBFeHBsaWNpdCBjaGFpbiBzZXF1ZW5jZXMsIHdoaWNoIG11c3QgYmUgdW53cmFwcGVkIHdpdGggYF8jdmFsdWVgLCBtYXkgYmVcbiAgICAgKiBlbmFibGVkIHVzaW5nIGBfLmNoYWluYC5cbiAgICAgKlxuICAgICAqIFRoZSBleGVjdXRpb24gb2YgY2hhaW5lZCBtZXRob2RzIGlzIGxhenksIHRoYXQgaXMsIGl0J3MgZGVmZXJyZWQgdW50aWxcbiAgICAgKiBgXyN2YWx1ZWAgaXMgaW1wbGljaXRseSBvciBleHBsaWNpdGx5IGNhbGxlZC5cbiAgICAgKlxuICAgICAqIExhenkgZXZhbHVhdGlvbiBhbGxvd3Mgc2V2ZXJhbCBtZXRob2RzIHRvIHN1cHBvcnQgc2hvcnRjdXQgZnVzaW9uLlxuICAgICAqIFNob3J0Y3V0IGZ1c2lvbiBpcyBhbiBvcHRpbWl6YXRpb24gdG8gbWVyZ2UgaXRlcmF0ZWUgY2FsbHM7IHRoaXMgYXZvaWRzXG4gICAgICogdGhlIGNyZWF0aW9uIG9mIGludGVybWVkaWF0ZSBhcnJheXMgYW5kIGNhbiBncmVhdGx5IHJlZHVjZSB0aGUgbnVtYmVyIG9mXG4gICAgICogaXRlcmF0ZWUgZXhlY3V0aW9ucy4gU2VjdGlvbnMgb2YgYSBjaGFpbiBzZXF1ZW5jZSBxdWFsaWZ5IGZvciBzaG9ydGN1dFxuICAgICAqIGZ1c2lvbiBpZiB0aGUgc2VjdGlvbiBpcyBhcHBsaWVkIHRvIGFuIGFycmF5IGFuZCBpdGVyYXRlZXMgYWNjZXB0IG9ubHlcbiAgICAgKiBvbmUgYXJndW1lbnQuIFRoZSBoZXVyaXN0aWMgZm9yIHdoZXRoZXIgYSBzZWN0aW9uIHF1YWxpZmllcyBmb3Igc2hvcnRjdXRcbiAgICAgKiBmdXNpb24gaXMgc3ViamVjdCB0byBjaGFuZ2UuXG4gICAgICpcbiAgICAgKiBDaGFpbmluZyBpcyBzdXBwb3J0ZWQgaW4gY3VzdG9tIGJ1aWxkcyBhcyBsb25nIGFzIHRoZSBgXyN2YWx1ZWAgbWV0aG9kIGlzXG4gICAgICogZGlyZWN0bHkgb3IgaW5kaXJlY3RseSBpbmNsdWRlZCBpbiB0aGUgYnVpbGQuXG4gICAgICpcbiAgICAgKiBJbiBhZGRpdGlvbiB0byBsb2Rhc2ggbWV0aG9kcywgd3JhcHBlcnMgaGF2ZSBgQXJyYXlgIGFuZCBgU3RyaW5nYCBtZXRob2RzLlxuICAgICAqXG4gICAgICogVGhlIHdyYXBwZXIgYEFycmF5YCBtZXRob2RzIGFyZTpcbiAgICAgKiBgY29uY2F0YCwgYGpvaW5gLCBgcG9wYCwgYHB1c2hgLCBgc2hpZnRgLCBgc29ydGAsIGBzcGxpY2VgLCBhbmQgYHVuc2hpZnRgXG4gICAgICpcbiAgICAgKiBUaGUgd3JhcHBlciBgU3RyaW5nYCBtZXRob2RzIGFyZTpcbiAgICAgKiBgcmVwbGFjZWAgYW5kIGBzcGxpdGBcbiAgICAgKlxuICAgICAqIFRoZSB3cmFwcGVyIG1ldGhvZHMgdGhhdCBzdXBwb3J0IHNob3J0Y3V0IGZ1c2lvbiBhcmU6XG4gICAgICogYGF0YCwgYGNvbXBhY3RgLCBgZHJvcGAsIGBkcm9wUmlnaHRgLCBgZHJvcFdoaWxlYCwgYGZpbHRlcmAsIGBmaW5kYCxcbiAgICAgKiBgZmluZExhc3RgLCBgaGVhZGAsIGBpbml0aWFsYCwgYGxhc3RgLCBgbWFwYCwgYHJlamVjdGAsIGByZXZlcnNlYCwgYHNsaWNlYCxcbiAgICAgKiBgdGFpbGAsIGB0YWtlYCwgYHRha2VSaWdodGAsIGB0YWtlUmlnaHRXaGlsZWAsIGB0YWtlV2hpbGVgLCBhbmQgYHRvQXJyYXlgXG4gICAgICpcbiAgICAgKiBUaGUgY2hhaW5hYmxlIHdyYXBwZXIgbWV0aG9kcyBhcmU6XG4gICAgICogYGFmdGVyYCwgYGFyeWAsIGBhc3NpZ25gLCBgYXNzaWduSW5gLCBgYXNzaWduSW5XaXRoYCwgYGFzc2lnbldpdGhgLCBgYXRgLFxuICAgICAqIGBiZWZvcmVgLCBgYmluZGAsIGBiaW5kQWxsYCwgYGJpbmRLZXlgLCBgY2FzdEFycmF5YCwgYGNoYWluYCwgYGNodW5rYCxcbiAgICAgKiBgY29tbWl0YCwgYGNvbXBhY3RgLCBgY29uY2F0YCwgYGNvbmZvcm1zYCwgYGNvbnN0YW50YCwgYGNvdW50QnlgLCBgY3JlYXRlYCxcbiAgICAgKiBgY3VycnlgLCBgZGVib3VuY2VgLCBgZGVmYXVsdHNgLCBgZGVmYXVsdHNEZWVwYCwgYGRlZmVyYCwgYGRlbGF5YCxcbiAgICAgKiBgZGlmZmVyZW5jZWAsIGBkaWZmZXJlbmNlQnlgLCBgZGlmZmVyZW5jZVdpdGhgLCBgZHJvcGAsIGBkcm9wUmlnaHRgLFxuICAgICAqIGBkcm9wUmlnaHRXaGlsZWAsIGBkcm9wV2hpbGVgLCBgZXh0ZW5kYCwgYGV4dGVuZFdpdGhgLCBgZmlsbGAsIGBmaWx0ZXJgLFxuICAgICAqIGBmbGF0TWFwYCwgYGZsYXRNYXBEZWVwYCwgYGZsYXRNYXBEZXB0aGAsIGBmbGF0dGVuYCwgYGZsYXR0ZW5EZWVwYCxcbiAgICAgKiBgZmxhdHRlbkRlcHRoYCwgYGZsaXBgLCBgZmxvd2AsIGBmbG93UmlnaHRgLCBgZnJvbVBhaXJzYCwgYGZ1bmN0aW9uc2AsXG4gICAgICogYGZ1bmN0aW9uc0luYCwgYGdyb3VwQnlgLCBgaW5pdGlhbGAsIGBpbnRlcnNlY3Rpb25gLCBgaW50ZXJzZWN0aW9uQnlgLFxuICAgICAqIGBpbnRlcnNlY3Rpb25XaXRoYCwgYGludmVydGAsIGBpbnZlcnRCeWAsIGBpbnZva2VNYXBgLCBgaXRlcmF0ZWVgLCBga2V5QnlgLFxuICAgICAqIGBrZXlzYCwgYGtleXNJbmAsIGBtYXBgLCBgbWFwS2V5c2AsIGBtYXBWYWx1ZXNgLCBgbWF0Y2hlc2AsIGBtYXRjaGVzUHJvcGVydHlgLFxuICAgICAqIGBtZW1vaXplYCwgYG1lcmdlYCwgYG1lcmdlV2l0aGAsIGBtZXRob2RgLCBgbWV0aG9kT2ZgLCBgbWl4aW5gLCBgbmVnYXRlYCxcbiAgICAgKiBgbnRoQXJnYCwgYG9taXRgLCBgb21pdEJ5YCwgYG9uY2VgLCBgb3JkZXJCeWAsIGBvdmVyYCwgYG92ZXJBcmdzYCxcbiAgICAgKiBgb3ZlckV2ZXJ5YCwgYG92ZXJTb21lYCwgYHBhcnRpYWxgLCBgcGFydGlhbFJpZ2h0YCwgYHBhcnRpdGlvbmAsIGBwaWNrYCxcbiAgICAgKiBgcGlja0J5YCwgYHBsYW50YCwgYHByb3BlcnR5YCwgYHByb3BlcnR5T2ZgLCBgcHVsbGAsIGBwdWxsQWxsYCwgYHB1bGxBbGxCeWAsXG4gICAgICogYHB1bGxBbGxXaXRoYCwgYHB1bGxBdGAsIGBwdXNoYCwgYHJhbmdlYCwgYHJhbmdlUmlnaHRgLCBgcmVhcmdgLCBgcmVqZWN0YCxcbiAgICAgKiBgcmVtb3ZlYCwgYHJlc3RgLCBgcmV2ZXJzZWAsIGBzYW1wbGVTaXplYCwgYHNldGAsIGBzZXRXaXRoYCwgYHNodWZmbGVgLFxuICAgICAqIGBzbGljZWAsIGBzb3J0YCwgYHNvcnRCeWAsIGBzcGxpY2VgLCBgc3ByZWFkYCwgYHRhaWxgLCBgdGFrZWAsIGB0YWtlUmlnaHRgLFxuICAgICAqIGB0YWtlUmlnaHRXaGlsZWAsIGB0YWtlV2hpbGVgLCBgdGFwYCwgYHRocm90dGxlYCwgYHRocnVgLCBgdG9BcnJheWAsXG4gICAgICogYHRvUGFpcnNgLCBgdG9QYWlyc0luYCwgYHRvUGF0aGAsIGB0b1BsYWluT2JqZWN0YCwgYHRyYW5zZm9ybWAsIGB1bmFyeWAsXG4gICAgICogYHVuaW9uYCwgYHVuaW9uQnlgLCBgdW5pb25XaXRoYCwgYHVuaXFgLCBgdW5pcUJ5YCwgYHVuaXFXaXRoYCwgYHVuc2V0YCxcbiAgICAgKiBgdW5zaGlmdGAsIGB1bnppcGAsIGB1bnppcFdpdGhgLCBgdXBkYXRlYCwgYHVwZGF0ZVdpdGhgLCBgdmFsdWVzYCxcbiAgICAgKiBgdmFsdWVzSW5gLCBgd2l0aG91dGAsIGB3cmFwYCwgYHhvcmAsIGB4b3JCeWAsIGB4b3JXaXRoYCwgYHppcGAsXG4gICAgICogYHppcE9iamVjdGAsIGB6aXBPYmplY3REZWVwYCwgYW5kIGB6aXBXaXRoYFxuICAgICAqXG4gICAgICogVGhlIHdyYXBwZXIgbWV0aG9kcyB0aGF0IGFyZSAqKm5vdCoqIGNoYWluYWJsZSBieSBkZWZhdWx0IGFyZTpcbiAgICAgKiBgYWRkYCwgYGF0dGVtcHRgLCBgY2FtZWxDYXNlYCwgYGNhcGl0YWxpemVgLCBgY2VpbGAsIGBjbGFtcGAsIGBjbG9uZWAsXG4gICAgICogYGNsb25lRGVlcGAsIGBjbG9uZURlZXBXaXRoYCwgYGNsb25lV2l0aGAsIGBjb25mb3Jtc1RvYCwgYGRlYnVycmAsXG4gICAgICogYGRlZmF1bHRUb2AsIGBkaXZpZGVgLCBgZWFjaGAsIGBlYWNoUmlnaHRgLCBgZW5kc1dpdGhgLCBgZXFgLCBgZXNjYXBlYCxcbiAgICAgKiBgZXNjYXBlUmVnRXhwYCwgYGV2ZXJ5YCwgYGZpbmRgLCBgZmluZEluZGV4YCwgYGZpbmRLZXlgLCBgZmluZExhc3RgLFxuICAgICAqIGBmaW5kTGFzdEluZGV4YCwgYGZpbmRMYXN0S2V5YCwgYGZpcnN0YCwgYGZsb29yYCwgYGZvckVhY2hgLCBgZm9yRWFjaFJpZ2h0YCxcbiAgICAgKiBgZm9ySW5gLCBgZm9ySW5SaWdodGAsIGBmb3JPd25gLCBgZm9yT3duUmlnaHRgLCBgZ2V0YCwgYGd0YCwgYGd0ZWAsIGBoYXNgLFxuICAgICAqIGBoYXNJbmAsIGBoZWFkYCwgYGlkZW50aXR5YCwgYGluY2x1ZGVzYCwgYGluZGV4T2ZgLCBgaW5SYW5nZWAsIGBpbnZva2VgLFxuICAgICAqIGBpc0FyZ3VtZW50c2AsIGBpc0FycmF5YCwgYGlzQXJyYXlCdWZmZXJgLCBgaXNBcnJheUxpa2VgLCBgaXNBcnJheUxpa2VPYmplY3RgLFxuICAgICAqIGBpc0Jvb2xlYW5gLCBgaXNCdWZmZXJgLCBgaXNEYXRlYCwgYGlzRWxlbWVudGAsIGBpc0VtcHR5YCwgYGlzRXF1YWxgLFxuICAgICAqIGBpc0VxdWFsV2l0aGAsIGBpc0Vycm9yYCwgYGlzRmluaXRlYCwgYGlzRnVuY3Rpb25gLCBgaXNJbnRlZ2VyYCwgYGlzTGVuZ3RoYCxcbiAgICAgKiBgaXNNYXBgLCBgaXNNYXRjaGAsIGBpc01hdGNoV2l0aGAsIGBpc05hTmAsIGBpc05hdGl2ZWAsIGBpc05pbGAsIGBpc051bGxgLFxuICAgICAqIGBpc051bWJlcmAsIGBpc09iamVjdGAsIGBpc09iamVjdExpa2VgLCBgaXNQbGFpbk9iamVjdGAsIGBpc1JlZ0V4cGAsXG4gICAgICogYGlzU2FmZUludGVnZXJgLCBgaXNTZXRgLCBgaXNTdHJpbmdgLCBgaXNVbmRlZmluZWRgLCBgaXNUeXBlZEFycmF5YCxcbiAgICAgKiBgaXNXZWFrTWFwYCwgYGlzV2Vha1NldGAsIGBqb2luYCwgYGtlYmFiQ2FzZWAsIGBsYXN0YCwgYGxhc3RJbmRleE9mYCxcbiAgICAgKiBgbG93ZXJDYXNlYCwgYGxvd2VyRmlyc3RgLCBgbHRgLCBgbHRlYCwgYG1heGAsIGBtYXhCeWAsIGBtZWFuYCwgYG1lYW5CeWAsXG4gICAgICogYG1pbmAsIGBtaW5CeWAsIGBtdWx0aXBseWAsIGBub0NvbmZsaWN0YCwgYG5vb3BgLCBgbm93YCwgYG50aGAsIGBwYWRgLFxuICAgICAqIGBwYWRFbmRgLCBgcGFkU3RhcnRgLCBgcGFyc2VJbnRgLCBgcG9wYCwgYHJhbmRvbWAsIGByZWR1Y2VgLCBgcmVkdWNlUmlnaHRgLFxuICAgICAqIGByZXBlYXRgLCBgcmVzdWx0YCwgYHJvdW5kYCwgYHJ1bkluQ29udGV4dGAsIGBzYW1wbGVgLCBgc2hpZnRgLCBgc2l6ZWAsXG4gICAgICogYHNuYWtlQ2FzZWAsIGBzb21lYCwgYHNvcnRlZEluZGV4YCwgYHNvcnRlZEluZGV4QnlgLCBgc29ydGVkTGFzdEluZGV4YCxcbiAgICAgKiBgc29ydGVkTGFzdEluZGV4QnlgLCBgc3RhcnRDYXNlYCwgYHN0YXJ0c1dpdGhgLCBgc3R1YkFycmF5YCwgYHN0dWJGYWxzZWAsXG4gICAgICogYHN0dWJPYmplY3RgLCBgc3R1YlN0cmluZ2AsIGBzdHViVHJ1ZWAsIGBzdWJ0cmFjdGAsIGBzdW1gLCBgc3VtQnlgLFxuICAgICAqIGB0ZW1wbGF0ZWAsIGB0aW1lc2AsIGB0b0Zpbml0ZWAsIGB0b0ludGVnZXJgLCBgdG9KU09OYCwgYHRvTGVuZ3RoYCxcbiAgICAgKiBgdG9Mb3dlcmAsIGB0b051bWJlcmAsIGB0b1NhZmVJbnRlZ2VyYCwgYHRvU3RyaW5nYCwgYHRvVXBwZXJgLCBgdHJpbWAsXG4gICAgICogYHRyaW1FbmRgLCBgdHJpbVN0YXJ0YCwgYHRydW5jYXRlYCwgYHVuZXNjYXBlYCwgYHVuaXF1ZUlkYCwgYHVwcGVyQ2FzZWAsXG4gICAgICogYHVwcGVyRmlyc3RgLCBgdmFsdWVgLCBhbmQgYHdvcmRzYFxuICAgICAqXG4gICAgICogQG5hbWUgX1xuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byB3cmFwIGluIGEgYGxvZGFzaGAgaW5zdGFuY2UuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIHNxdWFyZShuKSB7XG4gICAgICogICByZXR1cm4gbiAqIG47XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIHdyYXBwZWQgPSBfKFsxLCAyLCAzXSk7XG4gICAgICpcbiAgICAgKiAvLyBSZXR1cm5zIGFuIHVud3JhcHBlZCB2YWx1ZS5cbiAgICAgKiB3cmFwcGVkLnJlZHVjZShfLmFkZCk7XG4gICAgICogLy8gPT4gNlxuICAgICAqXG4gICAgICogLy8gUmV0dXJucyBhIHdyYXBwZWQgdmFsdWUuXG4gICAgICogdmFyIHNxdWFyZXMgPSB3cmFwcGVkLm1hcChzcXVhcmUpO1xuICAgICAqXG4gICAgICogXy5pc0FycmF5KHNxdWFyZXMpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXkoc3F1YXJlcy52YWx1ZSgpKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gbG9kYXNoKHZhbHVlKSB7XG4gICAgICBpZiAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiAhaXNBcnJheSh2YWx1ZSkgJiYgISh2YWx1ZSBpbnN0YW5jZW9mIExhenlXcmFwcGVyKSkge1xuICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBMb2Rhc2hXcmFwcGVyKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCAnX193cmFwcGVkX18nKSkge1xuICAgICAgICAgIHJldHVybiB3cmFwcGVyQ2xvbmUodmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IExvZGFzaFdyYXBwZXIodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNyZWF0ZWAgd2l0aG91dCBzdXBwb3J0IGZvciBhc3NpZ25pbmdcbiAgICAgKiBwcm9wZXJ0aWVzIHRvIHRoZSBjcmVhdGVkIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHByb3RvIFRoZSBvYmplY3QgdG8gaW5oZXJpdCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICovXG4gICAgdmFyIGJhc2VDcmVhdGUgPSAoZnVuY3Rpb24oKSB7XG4gICAgICBmdW5jdGlvbiBvYmplY3QoKSB7fVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHByb3RvKSB7XG4gICAgICAgIGlmICghaXNPYmplY3QocHJvdG8pKSB7XG4gICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChvYmplY3RDcmVhdGUpIHtcbiAgICAgICAgICByZXR1cm4gb2JqZWN0Q3JlYXRlKHByb3RvKTtcbiAgICAgICAgfVxuICAgICAgICBvYmplY3QucHJvdG90eXBlID0gcHJvdG87XG4gICAgICAgIHZhciByZXN1bHQgPSBuZXcgb2JqZWN0O1xuICAgICAgICBvYmplY3QucHJvdG90eXBlID0gdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICB9KCkpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGZ1bmN0aW9uIHdob3NlIHByb3RvdHlwZSBjaGFpbiBzZXF1ZW5jZSB3cmFwcGVycyBpbmhlcml0IGZyb20uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VMb2Rhc2goKSB7XG4gICAgICAvLyBObyBvcGVyYXRpb24gcGVyZm9ybWVkLlxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGNvbnN0cnVjdG9yIGZvciBjcmVhdGluZyBgbG9kYXNoYCB3cmFwcGVyIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY2hhaW5BbGxdIEVuYWJsZSBleHBsaWNpdCBtZXRob2QgY2hhaW4gc2VxdWVuY2VzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIExvZGFzaFdyYXBwZXIodmFsdWUsIGNoYWluQWxsKSB7XG4gICAgICB0aGlzLl9fd3JhcHBlZF9fID0gdmFsdWU7XG4gICAgICB0aGlzLl9fYWN0aW9uc19fID0gW107XG4gICAgICB0aGlzLl9fY2hhaW5fXyA9ICEhY2hhaW5BbGw7XG4gICAgICB0aGlzLl9faW5kZXhfXyA9IDA7XG4gICAgICB0aGlzLl9fdmFsdWVzX18gPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQnkgZGVmYXVsdCwgdGhlIHRlbXBsYXRlIGRlbGltaXRlcnMgdXNlZCBieSBsb2Rhc2ggYXJlIGxpa2UgdGhvc2UgaW5cbiAgICAgKiBlbWJlZGRlZCBSdWJ5IChFUkIpIGFzIHdlbGwgYXMgRVMyMDE1IHRlbXBsYXRlIHN0cmluZ3MuIENoYW5nZSB0aGVcbiAgICAgKiBmb2xsb3dpbmcgdGVtcGxhdGUgc2V0dGluZ3MgdG8gdXNlIGFsdGVybmF0aXZlIGRlbGltaXRlcnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqL1xuICAgIGxvZGFzaC50ZW1wbGF0ZVNldHRpbmdzID0ge1xuXG4gICAgICAvKipcbiAgICAgICAqIFVzZWQgdG8gZGV0ZWN0IGBkYXRhYCBwcm9wZXJ0eSB2YWx1ZXMgdG8gYmUgSFRNTC1lc2NhcGVkLlxuICAgICAgICpcbiAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICAgICAqIEB0eXBlIHtSZWdFeHB9XG4gICAgICAgKi9cbiAgICAgICdlc2NhcGUnOiByZUVzY2FwZSxcblxuICAgICAgLyoqXG4gICAgICAgKiBVc2VkIHRvIGRldGVjdCBjb2RlIHRvIGJlIGV2YWx1YXRlZC5cbiAgICAgICAqXG4gICAgICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzXG4gICAgICAgKiBAdHlwZSB7UmVnRXhwfVxuICAgICAgICovXG4gICAgICAnZXZhbHVhdGUnOiByZUV2YWx1YXRlLFxuXG4gICAgICAvKipcbiAgICAgICAqIFVzZWQgdG8gZGV0ZWN0IGBkYXRhYCBwcm9wZXJ0eSB2YWx1ZXMgdG8gaW5qZWN0LlxuICAgICAgICpcbiAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICAgICAqIEB0eXBlIHtSZWdFeHB9XG4gICAgICAgKi9cbiAgICAgICdpbnRlcnBvbGF0ZSc6IHJlSW50ZXJwb2xhdGUsXG5cbiAgICAgIC8qKlxuICAgICAgICogVXNlZCB0byByZWZlcmVuY2UgdGhlIGRhdGEgb2JqZWN0IGluIHRoZSB0ZW1wbGF0ZSB0ZXh0LlxuICAgICAgICpcbiAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgKi9cbiAgICAgICd2YXJpYWJsZSc6ICcnLFxuXG4gICAgICAvKipcbiAgICAgICAqIFVzZWQgdG8gaW1wb3J0IHZhcmlhYmxlcyBpbnRvIHRoZSBjb21waWxlZCB0ZW1wbGF0ZS5cbiAgICAgICAqXG4gICAgICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzXG4gICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICovXG4gICAgICAnaW1wb3J0cyc6IHtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQSByZWZlcmVuY2UgdG8gdGhlIGBsb2Rhc2hgIGZ1bmN0aW9uLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzLmltcG9ydHNcbiAgICAgICAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgJ18nOiBsb2Rhc2hcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gRW5zdXJlIHdyYXBwZXJzIGFyZSBpbnN0YW5jZXMgb2YgYGJhc2VMb2Rhc2hgLlxuICAgIGxvZGFzaC5wcm90b3R5cGUgPSBiYXNlTG9kYXNoLnByb3RvdHlwZTtcbiAgICBsb2Rhc2gucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gbG9kYXNoO1xuXG4gICAgTG9kYXNoV3JhcHBlci5wcm90b3R5cGUgPSBiYXNlQ3JlYXRlKGJhc2VMb2Rhc2gucHJvdG90eXBlKTtcbiAgICBMb2Rhc2hXcmFwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IExvZGFzaFdyYXBwZXI7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbGF6eSB3cmFwcGVyIG9iamVjdCB3aGljaCB3cmFwcyBgdmFsdWVgIHRvIGVuYWJsZSBsYXp5IGV2YWx1YXRpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHdyYXAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTGF6eVdyYXBwZXIodmFsdWUpIHtcbiAgICAgIHRoaXMuX193cmFwcGVkX18gPSB2YWx1ZTtcbiAgICAgIHRoaXMuX19hY3Rpb25zX18gPSBbXTtcbiAgICAgIHRoaXMuX19kaXJfXyA9IDE7XG4gICAgICB0aGlzLl9fZmlsdGVyZWRfXyA9IGZhbHNlO1xuICAgICAgdGhpcy5fX2l0ZXJhdGVlc19fID0gW107XG4gICAgICB0aGlzLl9fdGFrZUNvdW50X18gPSBNQVhfQVJSQVlfTEVOR1RIO1xuICAgICAgdGhpcy5fX3ZpZXdzX18gPSBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhlIGxhenkgd3JhcHBlciBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGNsb25lXG4gICAgICogQG1lbWJlck9mIExhenlXcmFwcGVyXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIGBMYXp5V3JhcHBlcmAgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxhenlDbG9uZSgpIHtcbiAgICAgIHZhciByZXN1bHQgPSBuZXcgTGF6eVdyYXBwZXIodGhpcy5fX3dyYXBwZWRfXyk7XG4gICAgICByZXN1bHQuX19hY3Rpb25zX18gPSBjb3B5QXJyYXkodGhpcy5fX2FjdGlvbnNfXyk7XG4gICAgICByZXN1bHQuX19kaXJfXyA9IHRoaXMuX19kaXJfXztcbiAgICAgIHJlc3VsdC5fX2ZpbHRlcmVkX18gPSB0aGlzLl9fZmlsdGVyZWRfXztcbiAgICAgIHJlc3VsdC5fX2l0ZXJhdGVlc19fID0gY29weUFycmF5KHRoaXMuX19pdGVyYXRlZXNfXyk7XG4gICAgICByZXN1bHQuX190YWtlQ291bnRfXyA9IHRoaXMuX190YWtlQ291bnRfXztcbiAgICAgIHJlc3VsdC5fX3ZpZXdzX18gPSBjb3B5QXJyYXkodGhpcy5fX3ZpZXdzX18pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXZlcnNlcyB0aGUgZGlyZWN0aW9uIG9mIGxhenkgaXRlcmF0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSByZXZlcnNlXG4gICAgICogQG1lbWJlck9mIExhenlXcmFwcGVyXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IHJldmVyc2VkIGBMYXp5V3JhcHBlcmAgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxhenlSZXZlcnNlKCkge1xuICAgICAgaWYgKHRoaXMuX19maWx0ZXJlZF9fKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBuZXcgTGF6eVdyYXBwZXIodGhpcyk7XG4gICAgICAgIHJlc3VsdC5fX2Rpcl9fID0gLTE7XG4gICAgICAgIHJlc3VsdC5fX2ZpbHRlcmVkX18gPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gdGhpcy5jbG9uZSgpO1xuICAgICAgICByZXN1bHQuX19kaXJfXyAqPSAtMTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXh0cmFjdHMgdGhlIHVud3JhcHBlZCB2YWx1ZSBmcm9tIGl0cyBsYXp5IHdyYXBwZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIHZhbHVlXG4gICAgICogQG1lbWJlck9mIExhenlXcmFwcGVyXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHVud3JhcHBlZCB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsYXp5VmFsdWUoKSB7XG4gICAgICB2YXIgYXJyYXkgPSB0aGlzLl9fd3JhcHBlZF9fLnZhbHVlKCksXG4gICAgICAgICAgZGlyID0gdGhpcy5fX2Rpcl9fLFxuICAgICAgICAgIGlzQXJyID0gaXNBcnJheShhcnJheSksXG4gICAgICAgICAgaXNSaWdodCA9IGRpciA8IDAsXG4gICAgICAgICAgYXJyTGVuZ3RoID0gaXNBcnIgPyBhcnJheS5sZW5ndGggOiAwLFxuICAgICAgICAgIHZpZXcgPSBnZXRWaWV3KDAsIGFyckxlbmd0aCwgdGhpcy5fX3ZpZXdzX18pLFxuICAgICAgICAgIHN0YXJ0ID0gdmlldy5zdGFydCxcbiAgICAgICAgICBlbmQgPSB2aWV3LmVuZCxcbiAgICAgICAgICBsZW5ndGggPSBlbmQgLSBzdGFydCxcbiAgICAgICAgICBpbmRleCA9IGlzUmlnaHQgPyBlbmQgOiAoc3RhcnQgLSAxKSxcbiAgICAgICAgICBpdGVyYXRlZXMgPSB0aGlzLl9faXRlcmF0ZWVzX18sXG4gICAgICAgICAgaXRlckxlbmd0aCA9IGl0ZXJhdGVlcy5sZW5ndGgsXG4gICAgICAgICAgcmVzSW5kZXggPSAwLFxuICAgICAgICAgIHRha2VDb3VudCA9IG5hdGl2ZU1pbihsZW5ndGgsIHRoaXMuX190YWtlQ291bnRfXyk7XG5cbiAgICAgIGlmICghaXNBcnIgfHwgKCFpc1JpZ2h0ICYmIGFyckxlbmd0aCA9PSBsZW5ndGggJiYgdGFrZUNvdW50ID09IGxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VXcmFwcGVyVmFsdWUoYXJyYXksIHRoaXMuX19hY3Rpb25zX18pO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuXG4gICAgICBvdXRlcjpcbiAgICAgIHdoaWxlIChsZW5ndGgtLSAmJiByZXNJbmRleCA8IHRha2VDb3VudCkge1xuICAgICAgICBpbmRleCArPSBkaXI7XG5cbiAgICAgICAgdmFyIGl0ZXJJbmRleCA9IC0xLFxuICAgICAgICAgICAgdmFsdWUgPSBhcnJheVtpbmRleF07XG5cbiAgICAgICAgd2hpbGUgKCsraXRlckluZGV4IDwgaXRlckxlbmd0aCkge1xuICAgICAgICAgIHZhciBkYXRhID0gaXRlcmF0ZWVzW2l0ZXJJbmRleF0sXG4gICAgICAgICAgICAgIGl0ZXJhdGVlID0gZGF0YS5pdGVyYXRlZSxcbiAgICAgICAgICAgICAgdHlwZSA9IGRhdGEudHlwZSxcbiAgICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSh2YWx1ZSk7XG5cbiAgICAgICAgICBpZiAodHlwZSA9PSBMQVpZX01BUF9GTEFHKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGNvbXB1dGVkO1xuICAgICAgICAgIH0gZWxzZSBpZiAoIWNvbXB1dGVkKSB7XG4gICAgICAgICAgICBpZiAodHlwZSA9PSBMQVpZX0ZJTFRFUl9GTEFHKSB7XG4gICAgICAgICAgICAgIGNvbnRpbnVlIG91dGVyO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgYnJlYWsgb3V0ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJlc3VsdFtyZXNJbmRleCsrXSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvLyBFbnN1cmUgYExhenlXcmFwcGVyYCBpcyBhbiBpbnN0YW5jZSBvZiBgYmFzZUxvZGFzaGAuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlID0gYmFzZUNyZWF0ZShiYXNlTG9kYXNoLnByb3RvdHlwZSk7XG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTGF6eVdyYXBwZXI7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgaGFzaCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEhhc2goZW50cmllcykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gZW50cmllcyA9PSBudWxsID8gMCA6IGVudHJpZXMubGVuZ3RoO1xuXG4gICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICAgICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBoYXNoLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBjbGVhclxuICAgICAqIEBtZW1iZXJPZiBIYXNoXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzaENsZWFyKCkge1xuICAgICAgdGhpcy5fX2RhdGFfXyA9IG5hdGl2ZUNyZWF0ZSA/IG5hdGl2ZUNyZWF0ZShudWxsKSA6IHt9O1xuICAgICAgdGhpcy5zaXplID0gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgaGFzaC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZGVsZXRlXG4gICAgICogQG1lbWJlck9mIEhhc2hcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaGFzaCBUaGUgaGFzaCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhc2hEZWxldGUoa2V5KSB7XG4gICAgICB2YXIgcmVzdWx0ID0gdGhpcy5oYXMoa2V5KSAmJiBkZWxldGUgdGhpcy5fX2RhdGFfX1trZXldO1xuICAgICAgdGhpcy5zaXplIC09IHJlc3VsdCA/IDEgOiAwO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBoYXNoIHZhbHVlIGZvciBga2V5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZ2V0XG4gICAgICogQG1lbWJlck9mIEhhc2hcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzaEdldChrZXkpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgICAgIGlmIChuYXRpdmVDcmVhdGUpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGRhdGFba2V5XTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdCA9PT0gSEFTSF9VTkRFRklORUQgPyB1bmRlZmluZWQgOiByZXN1bHQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpID8gZGF0YVtrZXldIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhIGhhc2ggdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgaGFzXG4gICAgICogQG1lbWJlck9mIEhhc2hcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzaEhhcyhrZXkpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgICAgIHJldHVybiBuYXRpdmVDcmVhdGUgPyAoZGF0YVtrZXldICE9PSB1bmRlZmluZWQpIDogaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGhhc2ggYGtleWAgdG8gYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgc2V0XG4gICAgICogQG1lbWJlck9mIEhhc2hcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgaGFzaCBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXNoU2V0KGtleSwgdmFsdWUpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgICAgIHRoaXMuc2l6ZSArPSB0aGlzLmhhcyhrZXkpID8gMCA6IDE7XG4gICAgICBkYXRhW2tleV0gPSAobmF0aXZlQ3JlYXRlICYmIHZhbHVlID09PSB1bmRlZmluZWQpID8gSEFTSF9VTkRFRklORUQgOiB2YWx1ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vIEFkZCBtZXRob2RzIHRvIGBIYXNoYC5cbiAgICBIYXNoLnByb3RvdHlwZS5jbGVhciA9IGhhc2hDbGVhcjtcbiAgICBIYXNoLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBoYXNoRGVsZXRlO1xuICAgIEhhc2gucHJvdG90eXBlLmdldCA9IGhhc2hHZXQ7XG4gICAgSGFzaC5wcm90b3R5cGUuaGFzID0gaGFzaEhhcztcbiAgICBIYXNoLnByb3RvdHlwZS5zZXQgPSBoYXNoU2V0O1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBsaXN0IGNhY2hlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTGlzdENhY2hlKGVudHJpZXMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGVudHJpZXMgPT0gbnVsbCA/IDAgOiBlbnRyaWVzLmxlbmd0aDtcblxuICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgbGlzdCBjYWNoZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgY2xlYXJcbiAgICAgKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGlzdENhY2hlQ2xlYXIoKSB7XG4gICAgICB0aGlzLl9fZGF0YV9fID0gW107XG4gICAgICB0aGlzLnNpemUgPSAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBsaXN0IGNhY2hlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBkZWxldGVcbiAgICAgKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxpc3RDYWNoZURlbGV0ZShrZXkpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBsYXN0SW5kZXggPSBkYXRhLmxlbmd0aCAtIDE7XG4gICAgICBpZiAoaW5kZXggPT0gbGFzdEluZGV4KSB7XG4gICAgICAgIGRhdGEucG9wKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzcGxpY2UuY2FsbChkYXRhLCBpbmRleCwgMSk7XG4gICAgICB9XG4gICAgICAtLXRoaXMuc2l6ZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGxpc3QgY2FjaGUgdmFsdWUgZm9yIGBrZXlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBnZXRcbiAgICAgKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxpc3RDYWNoZUdldChrZXkpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gICAgICByZXR1cm4gaW5kZXggPCAwID8gdW5kZWZpbmVkIDogZGF0YVtpbmRleF1bMV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGEgbGlzdCBjYWNoZSB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBoYXNcbiAgICAgKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxpc3RDYWNoZUhhcyhrZXkpIHtcbiAgICAgIHJldHVybiBhc3NvY0luZGV4T2YodGhpcy5fX2RhdGFfXywga2V5KSA+IC0xO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGxpc3QgY2FjaGUgYGtleWAgdG8gYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgc2V0XG4gICAgICogQG1lbWJlck9mIExpc3RDYWNoZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBsaXN0IGNhY2hlIGluc3RhbmNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxpc3RDYWNoZVNldChrZXksIHZhbHVlKSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICArK3RoaXMuc2l6ZTtcbiAgICAgICAgZGF0YS5wdXNoKFtrZXksIHZhbHVlXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkYXRhW2luZGV4XVsxXSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gQWRkIG1ldGhvZHMgdG8gYExpc3RDYWNoZWAuXG4gICAgTGlzdENhY2hlLnByb3RvdHlwZS5jbGVhciA9IGxpc3RDYWNoZUNsZWFyO1xuICAgIExpc3RDYWNoZS5wcm90b3R5cGVbJ2RlbGV0ZSddID0gbGlzdENhY2hlRGVsZXRlO1xuICAgIExpc3RDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbGlzdENhY2hlR2V0O1xuICAgIExpc3RDYWNoZS5wcm90b3R5cGUuaGFzID0gbGlzdENhY2hlSGFzO1xuICAgIExpc3RDYWNoZS5wcm90b3R5cGUuc2V0ID0gbGlzdENhY2hlU2V0O1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG1hcCBjYWNoZSBvYmplY3QgdG8gc3RvcmUga2V5LXZhbHVlIHBhaXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBNYXBDYWNoZShlbnRyaWVzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG5cbiAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgICAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIG1hcC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgY2xlYXJcbiAgICAgKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXBDYWNoZUNsZWFyKCkge1xuICAgICAgdGhpcy5zaXplID0gMDtcbiAgICAgIHRoaXMuX19kYXRhX18gPSB7XG4gICAgICAgICdoYXNoJzogbmV3IEhhc2gsXG4gICAgICAgICdtYXAnOiBuZXcgKE1hcCB8fCBMaXN0Q2FjaGUpLFxuICAgICAgICAnc3RyaW5nJzogbmV3IEhhc2hcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIG1hcC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZGVsZXRlXG4gICAgICogQG1lbWJlck9mIE1hcENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcENhY2hlRGVsZXRlKGtleSkge1xuICAgICAgdmFyIHJlc3VsdCA9IGdldE1hcERhdGEodGhpcywga2V5KVsnZGVsZXRlJ10oa2V5KTtcbiAgICAgIHRoaXMuc2l6ZSAtPSByZXN1bHQgPyAxIDogMDtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbWFwIHZhbHVlIGZvciBga2V5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZ2V0XG4gICAgICogQG1lbWJlck9mIE1hcENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcENhY2hlR2V0KGtleSkge1xuICAgICAgcmV0dXJuIGdldE1hcERhdGEodGhpcywga2V5KS5nZXQoa2V5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYSBtYXAgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgaGFzXG4gICAgICogQG1lbWJlck9mIE1hcENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcENhY2hlSGFzKGtleSkge1xuICAgICAgcmV0dXJuIGdldE1hcERhdGEodGhpcywga2V5KS5oYXMoa2V5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBtYXAgYGtleWAgdG8gYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgc2V0XG4gICAgICogQG1lbWJlck9mIE1hcENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG1hcCBjYWNoZSBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXBDYWNoZVNldChrZXksIHZhbHVlKSB7XG4gICAgICB2YXIgZGF0YSA9IGdldE1hcERhdGEodGhpcywga2V5KSxcbiAgICAgICAgICBzaXplID0gZGF0YS5zaXplO1xuXG4gICAgICBkYXRhLnNldChrZXksIHZhbHVlKTtcbiAgICAgIHRoaXMuc2l6ZSArPSBkYXRhLnNpemUgPT0gc2l6ZSA/IDAgOiAxO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gQWRkIG1ldGhvZHMgdG8gYE1hcENhY2hlYC5cbiAgICBNYXBDYWNoZS5wcm90b3R5cGUuY2xlYXIgPSBtYXBDYWNoZUNsZWFyO1xuICAgIE1hcENhY2hlLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBtYXBDYWNoZURlbGV0ZTtcbiAgICBNYXBDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbWFwQ2FjaGVHZXQ7XG4gICAgTWFwQ2FjaGUucHJvdG90eXBlLmhhcyA9IG1hcENhY2hlSGFzO1xuICAgIE1hcENhY2hlLnByb3RvdHlwZS5zZXQgPSBtYXBDYWNoZVNldDtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBjYWNoZSBvYmplY3QgdG8gc3RvcmUgdW5pcXVlIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBjYWNoZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTZXRDYWNoZSh2YWx1ZXMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHZhbHVlcyA9PSBudWxsID8gMCA6IHZhbHVlcy5sZW5ndGg7XG5cbiAgICAgIHRoaXMuX19kYXRhX18gPSBuZXcgTWFwQ2FjaGU7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB0aGlzLmFkZCh2YWx1ZXNbaW5kZXhdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGB2YWx1ZWAgdG8gdGhlIGFycmF5IGNhY2hlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBhZGRcbiAgICAgKiBAbWVtYmVyT2YgU2V0Q2FjaGVcbiAgICAgKiBAYWxpYXMgcHVzaFxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNhY2hlLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNhY2hlIGluc3RhbmNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldENhY2hlQWRkKHZhbHVlKSB7XG4gICAgICB0aGlzLl9fZGF0YV9fLnNldCh2YWx1ZSwgSEFTSF9VTkRFRklORUQpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgaW4gdGhlIGFycmF5IGNhY2hlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBoYXNcbiAgICAgKiBAbWVtYmVyT2YgU2V0Q2FjaGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZXRDYWNoZUhhcyh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuX19kYXRhX18uaGFzKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0byBgU2V0Q2FjaGVgLlxuICAgIFNldENhY2hlLnByb3RvdHlwZS5hZGQgPSBTZXRDYWNoZS5wcm90b3R5cGUucHVzaCA9IHNldENhY2hlQWRkO1xuICAgIFNldENhY2hlLnByb3RvdHlwZS5oYXMgPSBzZXRDYWNoZUhhcztcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzdGFjayBjYWNoZSBvYmplY3QgdG8gc3RvcmUga2V5LXZhbHVlIHBhaXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTdGFjayhlbnRyaWVzKSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18gPSBuZXcgTGlzdENhY2hlKGVudHJpZXMpO1xuICAgICAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIHN0YWNrLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBjbGVhclxuICAgICAqIEBtZW1iZXJPZiBTdGFja1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0YWNrQ2xlYXIoKSB7XG4gICAgICB0aGlzLl9fZGF0YV9fID0gbmV3IExpc3RDYWNoZTtcbiAgICAgIHRoaXMuc2l6ZSA9IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIHN0YWNrLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBkZWxldGVcbiAgICAgKiBAbWVtYmVyT2YgU3RhY2tcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3RhY2tEZWxldGUoa2V5KSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICAgICAgcmVzdWx0ID0gZGF0YVsnZGVsZXRlJ10oa2V5KTtcblxuICAgICAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBzdGFjayB2YWx1ZSBmb3IgYGtleWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGdldFxuICAgICAqIEBtZW1iZXJPZiBTdGFja1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdGFja0dldChrZXkpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fZGF0YV9fLmdldChrZXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhIHN0YWNrIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGhhc1xuICAgICAqIEBtZW1iZXJPZiBTdGFja1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdGFja0hhcyhrZXkpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fZGF0YV9fLmhhcyhrZXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHN0YWNrIGBrZXlgIHRvIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIHNldFxuICAgICAqIEBtZW1iZXJPZiBTdGFja1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBzdGFjayBjYWNoZSBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdGFja1NldChrZXksIHZhbHVlKSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gICAgICBpZiAoZGF0YSBpbnN0YW5jZW9mIExpc3RDYWNoZSkge1xuICAgICAgICB2YXIgcGFpcnMgPSBkYXRhLl9fZGF0YV9fO1xuICAgICAgICBpZiAoIU1hcCB8fCAocGFpcnMubGVuZ3RoIDwgTEFSR0VfQVJSQVlfU0laRSAtIDEpKSB7XG4gICAgICAgICAgcGFpcnMucHVzaChba2V5LCB2YWx1ZV0pO1xuICAgICAgICAgIHRoaXMuc2l6ZSA9ICsrZGF0YS5zaXplO1xuICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGRhdGEgPSB0aGlzLl9fZGF0YV9fID0gbmV3IE1hcENhY2hlKHBhaXJzKTtcbiAgICAgIH1cbiAgICAgIGRhdGEuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gQWRkIG1ldGhvZHMgdG8gYFN0YWNrYC5cbiAgICBTdGFjay5wcm90b3R5cGUuY2xlYXIgPSBzdGFja0NsZWFyO1xuICAgIFN0YWNrLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBzdGFja0RlbGV0ZTtcbiAgICBTdGFjay5wcm90b3R5cGUuZ2V0ID0gc3RhY2tHZXQ7XG4gICAgU3RhY2sucHJvdG90eXBlLmhhcyA9IHN0YWNrSGFzO1xuICAgIFN0YWNrLnByb3RvdHlwZS5zZXQgPSBzdGFja1NldDtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgdGhlIGFycmF5LWxpa2UgYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBpbmhlcml0ZWQgU3BlY2lmeSByZXR1cm5pbmcgaW5oZXJpdGVkIHByb3BlcnR5IG5hbWVzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXJyYXlMaWtlS2V5cyh2YWx1ZSwgaW5oZXJpdGVkKSB7XG4gICAgICB2YXIgaXNBcnIgPSBpc0FycmF5KHZhbHVlKSxcbiAgICAgICAgICBpc0FyZyA9ICFpc0FyciAmJiBpc0FyZ3VtZW50cyh2YWx1ZSksXG4gICAgICAgICAgaXNCdWZmID0gIWlzQXJyICYmICFpc0FyZyAmJiBpc0J1ZmZlcih2YWx1ZSksXG4gICAgICAgICAgaXNUeXBlID0gIWlzQXJyICYmICFpc0FyZyAmJiAhaXNCdWZmICYmIGlzVHlwZWRBcnJheSh2YWx1ZSksXG4gICAgICAgICAgc2tpcEluZGV4ZXMgPSBpc0FyciB8fCBpc0FyZyB8fCBpc0J1ZmYgfHwgaXNUeXBlLFxuICAgICAgICAgIHJlc3VsdCA9IHNraXBJbmRleGVzID8gYmFzZVRpbWVzKHZhbHVlLmxlbmd0aCwgU3RyaW5nKSA6IFtdLFxuICAgICAgICAgIGxlbmd0aCA9IHJlc3VsdC5sZW5ndGg7XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiB2YWx1ZSkge1xuICAgICAgICBpZiAoKGluaGVyaXRlZCB8fCBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBrZXkpKSAmJlxuICAgICAgICAgICAgIShza2lwSW5kZXhlcyAmJiAoXG4gICAgICAgICAgICAgICAvLyBTYWZhcmkgOSBoYXMgZW51bWVyYWJsZSBgYXJndW1lbnRzLmxlbmd0aGAgaW4gc3RyaWN0IG1vZGUuXG4gICAgICAgICAgICAgICBrZXkgPT0gJ2xlbmd0aCcgfHxcbiAgICAgICAgICAgICAgIC8vIE5vZGUuanMgMC4xMCBoYXMgZW51bWVyYWJsZSBub24taW5kZXggcHJvcGVydGllcyBvbiBidWZmZXJzLlxuICAgICAgICAgICAgICAgKGlzQnVmZiAmJiAoa2V5ID09ICdvZmZzZXQnIHx8IGtleSA9PSAncGFyZW50JykpIHx8XG4gICAgICAgICAgICAgICAvLyBQaGFudG9tSlMgMiBoYXMgZW51bWVyYWJsZSBub24taW5kZXggcHJvcGVydGllcyBvbiB0eXBlZCBhcnJheXMuXG4gICAgICAgICAgICAgICAoaXNUeXBlICYmIChrZXkgPT0gJ2J1ZmZlcicgfHwga2V5ID09ICdieXRlTGVuZ3RoJyB8fCBrZXkgPT0gJ2J5dGVPZmZzZXQnKSkgfHxcbiAgICAgICAgICAgICAgIC8vIFNraXAgaW5kZXggcHJvcGVydGllcy5cbiAgICAgICAgICAgICAgIGlzSW5kZXgoa2V5LCBsZW5ndGgpXG4gICAgICAgICAgICApKSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnNhbXBsZWAgZm9yIGFycmF5cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNhbXBsZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmFuZG9tIGVsZW1lbnQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXJyYXlTYW1wbGUoYXJyYXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gICAgICByZXR1cm4gbGVuZ3RoID8gYXJyYXlbYmFzZVJhbmRvbSgwLCBsZW5ndGggLSAxKV0gOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnNhbXBsZVNpemVgIGZvciBhcnJheXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBzYW1wbGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byBzYW1wbGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSByYW5kb20gZWxlbWVudHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXJyYXlTYW1wbGVTaXplKGFycmF5LCBuKSB7XG4gICAgICByZXR1cm4gc2h1ZmZsZVNlbGYoY29weUFycmF5KGFycmF5KSwgYmFzZUNsYW1wKG4sIDAsIGFycmF5Lmxlbmd0aCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5zaHVmZmxlYCBmb3IgYXJyYXlzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2h1ZmZsZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzaHVmZmxlZCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhcnJheVNodWZmbGUoYXJyYXkpIHtcbiAgICAgIHJldHVybiBzaHVmZmxlU2VsZihjb3B5QXJyYXkoYXJyYXkpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2UgYGFzc2lnblZhbHVlYCBleGNlcHQgdGhhdCBpdCBkb2Vzbid0IGFzc2lnblxuICAgICAqIGB1bmRlZmluZWRgIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGFzc2lnbi5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgICAgIGlmICgodmFsdWUgIT09IHVuZGVmaW5lZCAmJiAhZXEob2JqZWN0W2tleV0sIHZhbHVlKSkgfHxcbiAgICAgICAgICAodmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhKGtleSBpbiBvYmplY3QpKSkge1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBc3NpZ25zIGB2YWx1ZWAgdG8gYGtleWAgb2YgYG9iamVjdGAgaWYgdGhlIGV4aXN0aW5nIHZhbHVlIGlzIG5vdCBlcXVpdmFsZW50XG4gICAgICogdXNpbmcgW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBhc3NpZ24uXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gYXNzaWduLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICAgICAgdmFyIG9ialZhbHVlID0gb2JqZWN0W2tleV07XG4gICAgICBpZiAoIShoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSAmJiBlcShvYmpWYWx1ZSwgdmFsdWUpKSB8fFxuICAgICAgICAgICh2YWx1ZSA9PT0gdW5kZWZpbmVkICYmICEoa2V5IGluIG9iamVjdCkpKSB7XG4gICAgICAgIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGluZGV4IGF0IHdoaWNoIHRoZSBga2V5YCBpcyBmb3VuZCBpbiBgYXJyYXlgIG9mIGtleS12YWx1ZSBwYWlycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSBrZXkgVGhlIGtleSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXNzb2NJbmRleE9mKGFycmF5LCBrZXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgaWYgKGVxKGFycmF5W2xlbmd0aF1bMF0sIGtleSkpIHtcbiAgICAgICAgICByZXR1cm4gbGVuZ3RoO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWdncmVnYXRlcyBlbGVtZW50cyBvZiBgY29sbGVjdGlvbmAgb24gYGFjY3VtdWxhdG9yYCB3aXRoIGtleXMgdHJhbnNmb3JtZWRcbiAgICAgKiBieSBgaXRlcmF0ZWVgIGFuZCB2YWx1ZXMgc2V0IGJ5IGBzZXR0ZXJgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc2V0dGVyIFRoZSBmdW5jdGlvbiB0byBzZXQgYGFjY3VtdWxhdG9yYCB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGl0ZXJhdGVlIHRvIHRyYW5zZm9ybSBrZXlzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBhY2N1bXVsYXRvciBUaGUgaW5pdGlhbCBhZ2dyZWdhdGVkIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGFjY3VtdWxhdG9yYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQWdncmVnYXRvcihjb2xsZWN0aW9uLCBzZXR0ZXIsIGl0ZXJhdGVlLCBhY2N1bXVsYXRvcikge1xuICAgICAgYmFzZUVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGtleSwgY29sbGVjdGlvbikge1xuICAgICAgICBzZXR0ZXIoYWNjdW11bGF0b3IsIHZhbHVlLCBpdGVyYXRlZSh2YWx1ZSksIGNvbGxlY3Rpb24pO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uYXNzaWduYCB3aXRob3V0IHN1cHBvcnQgZm9yIG11bHRpcGxlIHNvdXJjZXNcbiAgICAgKiBvciBgY3VzdG9taXplcmAgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VBc3NpZ24ob2JqZWN0LCBzb3VyY2UpIHtcbiAgICAgIHJldHVybiBvYmplY3QgJiYgY29weU9iamVjdChzb3VyY2UsIGtleXMoc291cmNlKSwgb2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5hc3NpZ25JbmAgd2l0aG91dCBzdXBwb3J0IGZvciBtdWx0aXBsZSBzb3VyY2VzXG4gICAgICogb3IgYGN1c3RvbWl6ZXJgIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQXNzaWduSW4ob2JqZWN0LCBzb3VyY2UpIHtcbiAgICAgIHJldHVybiBvYmplY3QgJiYgY29weU9iamVjdChzb3VyY2UsIGtleXNJbihzb3VyY2UpLCBvYmplY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBhc3NpZ25WYWx1ZWAgYW5kIGBhc3NpZ25NZXJnZVZhbHVlYCB3aXRob3V0XG4gICAgICogdmFsdWUgY2hlY2tzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gYXNzaWduLlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGFzc2lnbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gICAgICBpZiAoa2V5ID09ICdfX3Byb3RvX18nICYmIGRlZmluZVByb3BlcnR5KSB7XG4gICAgICAgIGRlZmluZVByb3BlcnR5KG9iamVjdCwga2V5LCB7XG4gICAgICAgICAgJ2NvbmZpZ3VyYWJsZSc6IHRydWUsXG4gICAgICAgICAgJ2VudW1lcmFibGUnOiB0cnVlLFxuICAgICAgICAgICd2YWx1ZSc6IHZhbHVlLFxuICAgICAgICAgICd3cml0YWJsZSc6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvYmplY3Rba2V5XSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmF0YCB3aXRob3V0IHN1cHBvcnQgZm9yIGluZGl2aWR1YWwgcGF0aHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gcGF0aHMgVGhlIHByb3BlcnR5IHBhdGhzIHRvIHBpY2suXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBwaWNrZWQgZWxlbWVudHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUF0KG9iamVjdCwgcGF0aHMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHBhdGhzLmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpLFxuICAgICAgICAgIHNraXAgPSBvYmplY3QgPT0gbnVsbDtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0W2luZGV4XSA9IHNraXAgPyB1bmRlZmluZWQgOiBnZXQob2JqZWN0LCBwYXRoc1tpbmRleF0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5jbGFtcGAgd2hpY2ggZG9lc24ndCBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gY2xhbXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsb3dlcl0gVGhlIGxvd2VyIGJvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB1cHBlciBUaGUgdXBwZXIgYm91bmQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY2xhbXBlZCBudW1iZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUNsYW1wKG51bWJlciwgbG93ZXIsIHVwcGVyKSB7XG4gICAgICBpZiAobnVtYmVyID09PSBudW1iZXIpIHtcbiAgICAgICAgaWYgKHVwcGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBudW1iZXIgPSBudW1iZXIgPD0gdXBwZXIgPyBudW1iZXIgOiB1cHBlcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobG93ZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIG51bWJlciA9IG51bWJlciA+PSBsb3dlciA/IG51bWJlciA6IGxvd2VyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVtYmVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNsb25lYCBhbmQgYF8uY2xvbmVEZWVwYCB3aGljaCB0cmFja3NcbiAgICAgKiB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLlxuICAgICAqICAxIC0gRGVlcCBjbG9uZVxuICAgICAqICAyIC0gRmxhdHRlbiBpbmhlcml0ZWQgcHJvcGVydGllc1xuICAgICAqICA0IC0gQ2xvbmUgc3ltYm9sc1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNsb25pbmcuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtrZXldIFRoZSBrZXkgb2YgYHZhbHVlYC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIHBhcmVudCBvYmplY3Qgb2YgYHZhbHVlYC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIG9iamVjdHMgYW5kIHRoZWlyIGNsb25lIGNvdW50ZXJwYXJ0cy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgY2xvbmVkIHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VDbG9uZSh2YWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwga2V5LCBvYmplY3QsIHN0YWNrKSB7XG4gICAgICB2YXIgcmVzdWx0LFxuICAgICAgICAgIGlzRGVlcCA9IGJpdG1hc2sgJiBDTE9ORV9ERUVQX0ZMQUcsXG4gICAgICAgICAgaXNGbGF0ID0gYml0bWFzayAmIENMT05FX0ZMQVRfRkxBRyxcbiAgICAgICAgICBpc0Z1bGwgPSBiaXRtYXNrICYgQ0xPTkVfU1lNQk9MU19GTEFHO1xuXG4gICAgICBpZiAoY3VzdG9taXplcikge1xuICAgICAgICByZXN1bHQgPSBvYmplY3QgPyBjdXN0b21pemVyKHZhbHVlLCBrZXksIG9iamVjdCwgc3RhY2spIDogY3VzdG9taXplcih2YWx1ZSk7XG4gICAgICB9XG4gICAgICBpZiAocmVzdWx0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIGlmICghaXNPYmplY3QodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHZhciBpc0FyciA9IGlzQXJyYXkodmFsdWUpO1xuICAgICAgaWYgKGlzQXJyKSB7XG4gICAgICAgIHJlc3VsdCA9IGluaXRDbG9uZUFycmF5KHZhbHVlKTtcbiAgICAgICAgaWYgKCFpc0RlZXApIHtcbiAgICAgICAgICByZXR1cm4gY29weUFycmF5KHZhbHVlLCByZXN1bHQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgdGFnID0gZ2V0VGFnKHZhbHVlKSxcbiAgICAgICAgICAgIGlzRnVuYyA9IHRhZyA9PSBmdW5jVGFnIHx8IHRhZyA9PSBnZW5UYWc7XG5cbiAgICAgICAgaWYgKGlzQnVmZmVyKHZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiBjbG9uZUJ1ZmZlcih2YWx1ZSwgaXNEZWVwKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGFnID09IG9iamVjdFRhZyB8fCB0YWcgPT0gYXJnc1RhZyB8fCAoaXNGdW5jICYmICFvYmplY3QpKSB7XG4gICAgICAgICAgcmVzdWx0ID0gKGlzRmxhdCB8fCBpc0Z1bmMpID8ge30gOiBpbml0Q2xvbmVPYmplY3QodmFsdWUpO1xuICAgICAgICAgIGlmICghaXNEZWVwKSB7XG4gICAgICAgICAgICByZXR1cm4gaXNGbGF0XG4gICAgICAgICAgICAgID8gY29weVN5bWJvbHNJbih2YWx1ZSwgYmFzZUFzc2lnbkluKHJlc3VsdCwgdmFsdWUpKVxuICAgICAgICAgICAgICA6IGNvcHlTeW1ib2xzKHZhbHVlLCBiYXNlQXNzaWduKHJlc3VsdCwgdmFsdWUpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKCFjbG9uZWFibGVUYWdzW3RhZ10pIHtcbiAgICAgICAgICAgIHJldHVybiBvYmplY3QgPyB2YWx1ZSA6IHt9O1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQgPSBpbml0Q2xvbmVCeVRhZyh2YWx1ZSwgdGFnLCBpc0RlZXApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBDaGVjayBmb3IgY2lyY3VsYXIgcmVmZXJlbmNlcyBhbmQgcmV0dXJuIGl0cyBjb3JyZXNwb25kaW5nIGNsb25lLlxuICAgICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICAgIHZhciBzdGFja2VkID0gc3RhY2suZ2V0KHZhbHVlKTtcbiAgICAgIGlmIChzdGFja2VkKSB7XG4gICAgICAgIHJldHVybiBzdGFja2VkO1xuICAgICAgfVxuICAgICAgc3RhY2suc2V0KHZhbHVlLCByZXN1bHQpO1xuXG4gICAgICBpZiAoaXNTZXQodmFsdWUpKSB7XG4gICAgICAgIHZhbHVlLmZvckVhY2goZnVuY3Rpb24oc3ViVmFsdWUpIHtcbiAgICAgICAgICByZXN1bHQuYWRkKGJhc2VDbG9uZShzdWJWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwgc3ViVmFsdWUsIHZhbHVlLCBzdGFjaykpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAoaXNNYXAodmFsdWUpKSB7XG4gICAgICAgIHZhbHVlLmZvckVhY2goZnVuY3Rpb24oc3ViVmFsdWUsIGtleSkge1xuICAgICAgICAgIHJlc3VsdC5zZXQoa2V5LCBiYXNlQ2xvbmUoc3ViVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGtleSwgdmFsdWUsIHN0YWNrKSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICB2YXIga2V5c0Z1bmMgPSBpc0Z1bGxcbiAgICAgICAgPyAoaXNGbGF0ID8gZ2V0QWxsS2V5c0luIDogZ2V0QWxsS2V5cylcbiAgICAgICAgOiAoaXNGbGF0ID8ga2V5c0luIDoga2V5cyk7XG5cbiAgICAgIHZhciBwcm9wcyA9IGlzQXJyID8gdW5kZWZpbmVkIDoga2V5c0Z1bmModmFsdWUpO1xuICAgICAgYXJyYXlFYWNoKHByb3BzIHx8IHZhbHVlLCBmdW5jdGlvbihzdWJWYWx1ZSwga2V5KSB7XG4gICAgICAgIGlmIChwcm9wcykge1xuICAgICAgICAgIGtleSA9IHN1YlZhbHVlO1xuICAgICAgICAgIHN1YlZhbHVlID0gdmFsdWVba2V5XTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZWN1cnNpdmVseSBwb3B1bGF0ZSBjbG9uZSAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgICBhc3NpZ25WYWx1ZShyZXN1bHQsIGtleSwgYmFzZUNsb25lKHN1YlZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBrZXksIHZhbHVlLCBzdGFjaykpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNvbmZvcm1zYCB3aGljaCBkb2Vzbid0IGNsb25lIGBzb3VyY2VgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgcHJlZGljYXRlcyB0byBjb25mb3JtIHRvLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUNvbmZvcm1zKHNvdXJjZSkge1xuICAgICAgdmFyIHByb3BzID0ga2V5cyhzb3VyY2UpO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICByZXR1cm4gYmFzZUNvbmZvcm1zVG8ob2JqZWN0LCBzb3VyY2UsIHByb3BzKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uY29uZm9ybXNUb2Agd2hpY2ggYWNjZXB0cyBgcHJvcHNgIHRvIGNoZWNrLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgcHJlZGljYXRlcyB0byBjb25mb3JtIHRvLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgb2JqZWN0YCBjb25mb3JtcywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VDb25mb3Jtc1RvKG9iamVjdCwgc291cmNlLCBwcm9wcykge1xuICAgICAgdmFyIGxlbmd0aCA9IHByb3BzLmxlbmd0aDtcbiAgICAgIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gIWxlbmd0aDtcbiAgICAgIH1cbiAgICAgIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIHZhciBrZXkgPSBwcm9wc1tsZW5ndGhdLFxuICAgICAgICAgICAgcHJlZGljYXRlID0gc291cmNlW2tleV0sXG4gICAgICAgICAgICB2YWx1ZSA9IG9iamVjdFtrZXldO1xuXG4gICAgICAgIGlmICgodmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhKGtleSBpbiBvYmplY3QpKSB8fCAhcHJlZGljYXRlKHZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZGVsYXlgIGFuZCBgXy5kZWZlcmAgd2hpY2ggYWNjZXB0cyBgYXJnc2BcbiAgICAgKiB0byBwcm92aWRlIHRvIGBmdW5jYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZGVsYXkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdhaXQgVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gZGVsYXkgaW52b2NhdGlvbi5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcmdzIFRoZSBhcmd1bWVudHMgdG8gcHJvdmlkZSB0byBgZnVuY2AuXG4gICAgICogQHJldHVybnMge251bWJlcnxPYmplY3R9IFJldHVybnMgdGhlIHRpbWVyIGlkIG9yIHRpbWVvdXQgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VEZWxheShmdW5jLCB3YWl0LCBhcmdzKSB7XG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpIHsgZnVuYy5hcHBseSh1bmRlZmluZWQsIGFyZ3MpOyB9LCB3YWl0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBtZXRob2RzIGxpa2UgYF8uZGlmZmVyZW5jZWAgd2l0aG91dCBzdXBwb3J0XG4gICAgICogZm9yIGV4Y2x1ZGluZyBtdWx0aXBsZSBhcnJheXMgb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gZXhjbHVkZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWVdIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRGlmZmVyZW5jZShhcnJheSwgdmFsdWVzLCBpdGVyYXRlZSwgY29tcGFyYXRvcikge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgaW5jbHVkZXMgPSBhcnJheUluY2x1ZGVzLFxuICAgICAgICAgIGlzQ29tbW9uID0gdHJ1ZSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0gW10sXG4gICAgICAgICAgdmFsdWVzTGVuZ3RoID0gdmFsdWVzLmxlbmd0aDtcblxuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVyYXRlZSkge1xuICAgICAgICB2YWx1ZXMgPSBhcnJheU1hcCh2YWx1ZXMsIGJhc2VVbmFyeShpdGVyYXRlZSkpO1xuICAgICAgfVxuICAgICAgaWYgKGNvbXBhcmF0b3IpIHtcbiAgICAgICAgaW5jbHVkZXMgPSBhcnJheUluY2x1ZGVzV2l0aDtcbiAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHZhbHVlcy5sZW5ndGggPj0gTEFSR0VfQVJSQVlfU0laRSkge1xuICAgICAgICBpbmNsdWRlcyA9IGNhY2hlSGFzO1xuICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICB2YWx1ZXMgPSBuZXcgU2V0Q2FjaGUodmFsdWVzKTtcbiAgICAgIH1cbiAgICAgIG91dGVyOlxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdLFxuICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA9PSBudWxsID8gdmFsdWUgOiBpdGVyYXRlZSh2YWx1ZSk7XG5cbiAgICAgICAgdmFsdWUgPSAoY29tcGFyYXRvciB8fCB2YWx1ZSAhPT0gMCkgPyB2YWx1ZSA6IDA7XG4gICAgICAgIGlmIChpc0NvbW1vbiAmJiBjb21wdXRlZCA9PT0gY29tcHV0ZWQpIHtcbiAgICAgICAgICB2YXIgdmFsdWVzSW5kZXggPSB2YWx1ZXNMZW5ndGg7XG4gICAgICAgICAgd2hpbGUgKHZhbHVlc0luZGV4LS0pIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZXNbdmFsdWVzSW5kZXhdID09PSBjb21wdXRlZCkge1xuICAgICAgICAgICAgICBjb250aW51ZSBvdXRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFpbmNsdWRlcyh2YWx1ZXMsIGNvbXB1dGVkLCBjb21wYXJhdG9yKSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5mb3JFYWNoYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheXxPYmplY3R9IFJldHVybnMgYGNvbGxlY3Rpb25gLlxuICAgICAqL1xuICAgIHZhciBiYXNlRWFjaCA9IGNyZWF0ZUJhc2VFYWNoKGJhc2VGb3JPd24pO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZm9yRWFjaFJpZ2h0YCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheXxPYmplY3R9IFJldHVybnMgYGNvbGxlY3Rpb25gLlxuICAgICAqL1xuICAgIHZhciBiYXNlRWFjaFJpZ2h0ID0gY3JlYXRlQmFzZUVhY2goYmFzZUZvck93blJpZ2h0LCB0cnVlKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmV2ZXJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYWxsIGVsZW1lbnRzIHBhc3MgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAgICAgKiAgZWxzZSBgZmFsc2VgXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUV2ZXJ5KGNvbGxlY3Rpb24sIHByZWRpY2F0ZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IHRydWU7XG4gICAgICBiYXNlRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgcmVzdWx0ID0gISFwcmVkaWNhdGUodmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBtZXRob2RzIGxpa2UgYF8ubWF4YCBhbmQgYF8ubWluYCB3aGljaCBhY2NlcHRzIGFcbiAgICAgKiBgY29tcGFyYXRvcmAgdG8gZGV0ZXJtaW5lIHRoZSBleHRyZW11bSB2YWx1ZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbXBhcmF0b3IgVGhlIGNvbXBhcmF0b3IgdXNlZCB0byBjb21wYXJlIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZXh0cmVtdW0gdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUV4dHJlbXVtKGFycmF5LCBpdGVyYXRlZSwgY29tcGFyYXRvcikge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF0sXG4gICAgICAgICAgICBjdXJyZW50ID0gaXRlcmF0ZWUodmFsdWUpO1xuXG4gICAgICAgIGlmIChjdXJyZW50ICE9IG51bGwgJiYgKGNvbXB1dGVkID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgPyAoY3VycmVudCA9PT0gY3VycmVudCAmJiAhaXNTeW1ib2woY3VycmVudCkpXG4gICAgICAgICAgICAgIDogY29tcGFyYXRvcihjdXJyZW50LCBjb21wdXRlZClcbiAgICAgICAgICAgICkpIHtcbiAgICAgICAgICB2YXIgY29tcHV0ZWQgPSBjdXJyZW50LFxuICAgICAgICAgICAgICByZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5maWxsYCB3aXRob3V0IGFuIGl0ZXJhdGVlIGNhbGwgZ3VhcmQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBmaWxsLlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGZpbGwgYGFycmF5YCB3aXRoLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kPWFycmF5Lmxlbmd0aF0gVGhlIGVuZCBwb3NpdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRmlsbChhcnJheSwgdmFsdWUsIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICAgIHN0YXJ0ID0gdG9JbnRlZ2VyKHN0YXJ0KTtcbiAgICAgIGlmIChzdGFydCA8IDApIHtcbiAgICAgICAgc3RhcnQgPSAtc3RhcnQgPiBsZW5ndGggPyAwIDogKGxlbmd0aCArIHN0YXJ0KTtcbiAgICAgIH1cbiAgICAgIGVuZCA9IChlbmQgPT09IHVuZGVmaW5lZCB8fCBlbmQgPiBsZW5ndGgpID8gbGVuZ3RoIDogdG9JbnRlZ2VyKGVuZCk7XG4gICAgICBpZiAoZW5kIDwgMCkge1xuICAgICAgICBlbmQgKz0gbGVuZ3RoO1xuICAgICAgfVxuICAgICAgZW5kID0gc3RhcnQgPiBlbmQgPyAwIDogdG9MZW5ndGgoZW5kKTtcbiAgICAgIHdoaWxlIChzdGFydCA8IGVuZCkge1xuICAgICAgICBhcnJheVtzdGFydCsrXSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZpbHRlcmAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmlsdGVyZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUZpbHRlcihjb2xsZWN0aW9uLCBwcmVkaWNhdGUpIHtcbiAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgIGJhc2VFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgICBpZiAocHJlZGljYXRlKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikpIHtcbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5mbGF0dGVuYCB3aXRoIHN1cHBvcnQgZm9yIHJlc3RyaWN0aW5nIGZsYXR0ZW5pbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBmbGF0dGVuLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZXB0aCBUaGUgbWF4aW11bSByZWN1cnNpb24gZGVwdGguXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcHJlZGljYXRlPWlzRmxhdHRlbmFibGVdIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNTdHJpY3RdIFJlc3RyaWN0IHRvIHZhbHVlcyB0aGF0IHBhc3MgYHByZWRpY2F0ZWAgY2hlY2tzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtyZXN1bHQ9W11dIFRoZSBpbml0aWFsIHJlc3VsdCB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUZsYXR0ZW4oYXJyYXksIGRlcHRoLCBwcmVkaWNhdGUsIGlzU3RyaWN0LCByZXN1bHQpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgICAgcHJlZGljYXRlIHx8IChwcmVkaWNhdGUgPSBpc0ZsYXR0ZW5hYmxlKTtcbiAgICAgIHJlc3VsdCB8fCAocmVzdWx0ID0gW10pO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgICAgIGlmIChkZXB0aCA+IDAgJiYgcHJlZGljYXRlKHZhbHVlKSkge1xuICAgICAgICAgIGlmIChkZXB0aCA+IDEpIHtcbiAgICAgICAgICAgIC8vIFJlY3Vyc2l2ZWx5IGZsYXR0ZW4gYXJyYXlzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgICAgICBiYXNlRmxhdHRlbih2YWx1ZSwgZGVwdGggLSAxLCBwcmVkaWNhdGUsIGlzU3RyaWN0LCByZXN1bHQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhcnJheVB1c2gocmVzdWx0LCB2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKCFpc1N0cmljdCkge1xuICAgICAgICAgIHJlc3VsdFtyZXN1bHQubGVuZ3RoXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBiYXNlRm9yT3duYCB3aGljaCBpdGVyYXRlcyBvdmVyIGBvYmplY3RgXG4gICAgICogcHJvcGVydGllcyByZXR1cm5lZCBieSBga2V5c0Z1bmNgIGFuZCBpbnZva2VzIGBpdGVyYXRlZWAgZm9yIGVhY2ggcHJvcGVydHkuXG4gICAgICogSXRlcmF0ZWUgZnVuY3Rpb25zIG1heSBleGl0IGl0ZXJhdGlvbiBlYXJseSBieSBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0ga2V5c0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUga2V5cyBvZiBgb2JqZWN0YC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIHZhciBiYXNlRm9yID0gY3JlYXRlQmFzZUZvcigpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBpcyBsaWtlIGBiYXNlRm9yYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIHByb3BlcnRpZXNcbiAgICAgKiBpbiB0aGUgb3Bwb3NpdGUgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBrZXlzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBrZXlzIG9mIGBvYmplY3RgLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgdmFyIGJhc2VGb3JSaWdodCA9IGNyZWF0ZUJhc2VGb3IodHJ1ZSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5mb3JPd25gIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUZvck93bihvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICYmIGJhc2VGb3Iob2JqZWN0LCBpdGVyYXRlZSwga2V5cyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZm9yT3duUmlnaHRgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUZvck93blJpZ2h0KG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgJiYgYmFzZUZvclJpZ2h0KG9iamVjdCwgaXRlcmF0ZWUsIGtleXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZ1bmN0aW9uc2Agd2hpY2ggY3JlYXRlcyBhbiBhcnJheSBvZlxuICAgICAqIGBvYmplY3RgIGZ1bmN0aW9uIHByb3BlcnR5IG5hbWVzIGZpbHRlcmVkIGZyb20gYHByb3BzYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IG5hbWVzIHRvIGZpbHRlci5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGZ1bmN0aW9uIG5hbWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VGdW5jdGlvbnMob2JqZWN0LCBwcm9wcykge1xuICAgICAgcmV0dXJuIGFycmF5RmlsdGVyKHByb3BzLCBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgcmV0dXJuIGlzRnVuY3Rpb24ob2JqZWN0W2tleV0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZ2V0YCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZmF1bHQgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUdldChvYmplY3QsIHBhdGgpIHtcbiAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuXG4gICAgICB2YXIgaW5kZXggPSAwLFxuICAgICAgICAgIGxlbmd0aCA9IHBhdGgubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAob2JqZWN0ICE9IG51bGwgJiYgaW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgb2JqZWN0ID0gb2JqZWN0W3RvS2V5KHBhdGhbaW5kZXgrK10pXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAoaW5kZXggJiYgaW5kZXggPT0gbGVuZ3RoKSA/IG9iamVjdCA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgZ2V0QWxsS2V5c2AgYW5kIGBnZXRBbGxLZXlzSW5gIHdoaWNoIHVzZXNcbiAgICAgKiBga2V5c0Z1bmNgIGFuZCBgc3ltYm9sc0Z1bmNgIHRvIGdldCB0aGUgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBhbmRcbiAgICAgKiBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0ga2V5c0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUga2V5cyBvZiBgb2JqZWN0YC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzeW1ib2xzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUdldEFsbEtleXMob2JqZWN0LCBrZXlzRnVuYywgc3ltYm9sc0Z1bmMpIHtcbiAgICAgIHZhciByZXN1bHQgPSBrZXlzRnVuYyhvYmplY3QpO1xuICAgICAgcmV0dXJuIGlzQXJyYXkob2JqZWN0KSA/IHJlc3VsdCA6IGFycmF5UHVzaChyZXN1bHQsIHN5bWJvbHNGdW5jKG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBnZXRUYWdgIHdpdGhvdXQgZmFsbGJhY2tzIGZvciBidWdneSBlbnZpcm9ubWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGB0b1N0cmluZ1RhZ2AuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUdldFRhZyh2YWx1ZSkge1xuICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgPyB1bmRlZmluZWRUYWcgOiBudWxsVGFnO1xuICAgICAgfVxuICAgICAgcmV0dXJuIChzeW1Ub1N0cmluZ1RhZyAmJiBzeW1Ub1N0cmluZ1RhZyBpbiBPYmplY3QodmFsdWUpKVxuICAgICAgICA/IGdldFJhd1RhZyh2YWx1ZSlcbiAgICAgICAgOiBvYmplY3RUb1N0cmluZyh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZ3RgIHdoaWNoIGRvZXNuJ3QgY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGdyZWF0ZXIgdGhhbiBgb3RoZXJgLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUd0KHZhbHVlLCBvdGhlcikge1xuICAgICAgcmV0dXJuIHZhbHVlID4gb3RoZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaGFzYCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZXAgcGF0aHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBrZXkgVGhlIGtleSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUhhcyhvYmplY3QsIGtleSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAhPSBudWxsICYmIGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmhhc0luYCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZXAgcGF0aHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBrZXkgVGhlIGtleSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUhhc0luKG9iamVjdCwga2V5KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICE9IG51bGwgJiYga2V5IGluIE9iamVjdChvYmplY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmluUmFuZ2VgIHdoaWNoIGRvZXNuJ3QgY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIGNoZWNrLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCBUaGUgc3RhcnQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgVGhlIGVuZCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBudW1iZXJgIGlzIGluIHRoZSByYW5nZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJblJhbmdlKG51bWJlciwgc3RhcnQsIGVuZCkge1xuICAgICAgcmV0dXJuIG51bWJlciA+PSBuYXRpdmVNaW4oc3RhcnQsIGVuZCkgJiYgbnVtYmVyIDwgbmF0aXZlTWF4KHN0YXJ0LCBlbmQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIG1ldGhvZHMgbGlrZSBgXy5pbnRlcnNlY3Rpb25gLCB3aXRob3V0IHN1cHBvcnRcbiAgICAgKiBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcywgdGhhdCBhY2NlcHRzIGFuIGFycmF5IG9mIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheXMgVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2Ygc2hhcmVkIHZhbHVlcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSW50ZXJzZWN0aW9uKGFycmF5cywgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHZhciBpbmNsdWRlcyA9IGNvbXBhcmF0b3IgPyBhcnJheUluY2x1ZGVzV2l0aCA6IGFycmF5SW5jbHVkZXMsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXlzWzBdLmxlbmd0aCxcbiAgICAgICAgICBvdGhMZW5ndGggPSBhcnJheXMubGVuZ3RoLFxuICAgICAgICAgIG90aEluZGV4ID0gb3RoTGVuZ3RoLFxuICAgICAgICAgIGNhY2hlcyA9IEFycmF5KG90aExlbmd0aCksXG4gICAgICAgICAgbWF4TGVuZ3RoID0gSW5maW5pdHksXG4gICAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICAgIHdoaWxlIChvdGhJbmRleC0tKSB7XG4gICAgICAgIHZhciBhcnJheSA9IGFycmF5c1tvdGhJbmRleF07XG4gICAgICAgIGlmIChvdGhJbmRleCAmJiBpdGVyYXRlZSkge1xuICAgICAgICAgIGFycmF5ID0gYXJyYXlNYXAoYXJyYXksIGJhc2VVbmFyeShpdGVyYXRlZSkpO1xuICAgICAgICB9XG4gICAgICAgIG1heExlbmd0aCA9IG5hdGl2ZU1pbihhcnJheS5sZW5ndGgsIG1heExlbmd0aCk7XG4gICAgICAgIGNhY2hlc1tvdGhJbmRleF0gPSAhY29tcGFyYXRvciAmJiAoaXRlcmF0ZWUgfHwgKGxlbmd0aCA+PSAxMjAgJiYgYXJyYXkubGVuZ3RoID49IDEyMCkpXG4gICAgICAgICAgPyBuZXcgU2V0Q2FjaGUob3RoSW5kZXggJiYgYXJyYXkpXG4gICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBhcnJheSA9IGFycmF5c1swXTtcblxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgc2VlbiA9IGNhY2hlc1swXTtcblxuICAgICAgb3V0ZXI6XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCAmJiByZXN1bHQubGVuZ3RoIDwgbWF4TGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUgPyBpdGVyYXRlZSh2YWx1ZSkgOiB2YWx1ZTtcblxuICAgICAgICB2YWx1ZSA9IChjb21wYXJhdG9yIHx8IHZhbHVlICE9PSAwKSA/IHZhbHVlIDogMDtcbiAgICAgICAgaWYgKCEoc2VlblxuICAgICAgICAgICAgICA/IGNhY2hlSGFzKHNlZW4sIGNvbXB1dGVkKVxuICAgICAgICAgICAgICA6IGluY2x1ZGVzKHJlc3VsdCwgY29tcHV0ZWQsIGNvbXBhcmF0b3IpXG4gICAgICAgICAgICApKSB7XG4gICAgICAgICAgb3RoSW5kZXggPSBvdGhMZW5ndGg7XG4gICAgICAgICAgd2hpbGUgKC0tb3RoSW5kZXgpIHtcbiAgICAgICAgICAgIHZhciBjYWNoZSA9IGNhY2hlc1tvdGhJbmRleF07XG4gICAgICAgICAgICBpZiAoIShjYWNoZVxuICAgICAgICAgICAgICAgICAgPyBjYWNoZUhhcyhjYWNoZSwgY29tcHV0ZWQpXG4gICAgICAgICAgICAgICAgICA6IGluY2x1ZGVzKGFycmF5c1tvdGhJbmRleF0sIGNvbXB1dGVkLCBjb21wYXJhdG9yKSlcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgY29udGludWUgb3V0ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzZWVuKSB7XG4gICAgICAgICAgICBzZWVuLnB1c2goY29tcHV0ZWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaW52ZXJ0YCBhbmQgYF8uaW52ZXJ0QnlgIHdoaWNoIGludmVydHNcbiAgICAgKiBgb2JqZWN0YCB3aXRoIHZhbHVlcyB0cmFuc2Zvcm1lZCBieSBgaXRlcmF0ZWVgIGFuZCBzZXQgYnkgYHNldHRlcmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc2V0dGVyIFRoZSBmdW5jdGlvbiB0byBzZXQgYGFjY3VtdWxhdG9yYCB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGl0ZXJhdGVlIHRvIHRyYW5zZm9ybSB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGFjY3VtdWxhdG9yIFRoZSBpbml0aWFsIGludmVydGVkIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGFjY3VtdWxhdG9yYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSW52ZXJ0ZXIob2JqZWN0LCBzZXR0ZXIsIGl0ZXJhdGVlLCBhY2N1bXVsYXRvcikge1xuICAgICAgYmFzZUZvck93bihvYmplY3QsIGZ1bmN0aW9uKHZhbHVlLCBrZXksIG9iamVjdCkge1xuICAgICAgICBzZXR0ZXIoYWNjdW11bGF0b3IsIGl0ZXJhdGVlKHZhbHVlKSwga2V5LCBvYmplY3QpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaW52b2tlYCB3aXRob3V0IHN1cHBvcnQgZm9yIGluZGl2aWR1YWxcbiAgICAgKiBtZXRob2QgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIG1ldGhvZCB0byBpbnZva2UuXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJncyBUaGUgYXJndW1lbnRzIHRvIGludm9rZSB0aGUgbWV0aG9kIHdpdGguXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc3VsdCBvZiB0aGUgaW52b2tlZCBtZXRob2QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUludm9rZShvYmplY3QsIHBhdGgsIGFyZ3MpIHtcbiAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuICAgICAgb2JqZWN0ID0gcGFyZW50KG9iamVjdCwgcGF0aCk7XG4gICAgICB2YXIgZnVuYyA9IG9iamVjdCA9PSBudWxsID8gb2JqZWN0IDogb2JqZWN0W3RvS2V5KGxhc3QocGF0aCkpXTtcbiAgICAgIHJldHVybiBmdW5jID09IG51bGwgPyB1bmRlZmluZWQgOiBhcHBseShmdW5jLCBvYmplY3QsIGFyZ3MpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzQXJndW1lbnRzYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc0FyZ3VtZW50cyh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gYXJnc1RhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc0FycmF5QnVmZmVyYCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXkgYnVmZmVyLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzQXJyYXlCdWZmZXIodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IGFycmF5QnVmZmVyVGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzRGF0ZWAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgZGF0ZSBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNEYXRlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBkYXRlVGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzRXF1YWxgIHdoaWNoIHN1cHBvcnRzIHBhcnRpYWwgY29tcGFyaXNvbnNcbiAgICAgKiBhbmQgdHJhY2tzIHRyYXZlcnNlZCBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLlxuICAgICAqICAxIC0gVW5vcmRlcmVkIGNvbXBhcmlzb25cbiAgICAgKiAgMiAtIFBhcnRpYWwgY29tcGFyaXNvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgYHZhbHVlYCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzRXF1YWwodmFsdWUsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjaykge1xuICAgICAgaWYgKHZhbHVlID09PSBvdGhlcikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IG90aGVyID09IG51bGwgfHwgKCFpc09iamVjdExpa2UodmFsdWUpICYmICFpc09iamVjdExpa2Uob3RoZXIpKSkge1xuICAgICAgICByZXR1cm4gdmFsdWUgIT09IHZhbHVlICYmIG90aGVyICE9PSBvdGhlcjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlSXNFcXVhbERlZXAodmFsdWUsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBiYXNlSXNFcXVhbCwgc3RhY2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxgIGZvciBhcnJheXMgYW5kIG9iamVjdHMgd2hpY2ggcGVyZm9ybXNcbiAgICAgKiBkZWVwIGNvbXBhcmlzb25zIGFuZCB0cmFja3MgdHJhdmVyc2VkIG9iamVjdHMgZW5hYmxpbmcgb2JqZWN0cyB3aXRoIGNpcmN1bGFyXG4gICAgICogcmVmZXJlbmNlcyB0byBiZSBjb21wYXJlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgYG9iamVjdGAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG9iamVjdHMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNFcXVhbERlZXAob2JqZWN0LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaykge1xuICAgICAgdmFyIG9iaklzQXJyID0gaXNBcnJheShvYmplY3QpLFxuICAgICAgICAgIG90aElzQXJyID0gaXNBcnJheShvdGhlciksXG4gICAgICAgICAgb2JqVGFnID0gb2JqSXNBcnIgPyBhcnJheVRhZyA6IGdldFRhZyhvYmplY3QpLFxuICAgICAgICAgIG90aFRhZyA9IG90aElzQXJyID8gYXJyYXlUYWcgOiBnZXRUYWcob3RoZXIpO1xuXG4gICAgICBvYmpUYWcgPSBvYmpUYWcgPT0gYXJnc1RhZyA/IG9iamVjdFRhZyA6IG9ialRhZztcbiAgICAgIG90aFRhZyA9IG90aFRhZyA9PSBhcmdzVGFnID8gb2JqZWN0VGFnIDogb3RoVGFnO1xuXG4gICAgICB2YXIgb2JqSXNPYmogPSBvYmpUYWcgPT0gb2JqZWN0VGFnLFxuICAgICAgICAgIG90aElzT2JqID0gb3RoVGFnID09IG9iamVjdFRhZyxcbiAgICAgICAgICBpc1NhbWVUYWcgPSBvYmpUYWcgPT0gb3RoVGFnO1xuXG4gICAgICBpZiAoaXNTYW1lVGFnICYmIGlzQnVmZmVyKG9iamVjdCkpIHtcbiAgICAgICAgaWYgKCFpc0J1ZmZlcihvdGhlcikpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgb2JqSXNBcnIgPSB0cnVlO1xuICAgICAgICBvYmpJc09iaiA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKGlzU2FtZVRhZyAmJiAhb2JqSXNPYmopIHtcbiAgICAgICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICAgICAgcmV0dXJuIChvYmpJc0FyciB8fCBpc1R5cGVkQXJyYXkob2JqZWN0KSlcbiAgICAgICAgICA/IGVxdWFsQXJyYXlzKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spXG4gICAgICAgICAgOiBlcXVhbEJ5VGFnKG9iamVjdCwgb3RoZXIsIG9ialRhZywgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjayk7XG4gICAgICB9XG4gICAgICBpZiAoIShiaXRtYXNrICYgQ09NUEFSRV9QQVJUSUFMX0ZMQUcpKSB7XG4gICAgICAgIHZhciBvYmpJc1dyYXBwZWQgPSBvYmpJc09iaiAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgJ19fd3JhcHBlZF9fJyksXG4gICAgICAgICAgICBvdGhJc1dyYXBwZWQgPSBvdGhJc09iaiAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG90aGVyLCAnX193cmFwcGVkX18nKTtcblxuICAgICAgICBpZiAob2JqSXNXcmFwcGVkIHx8IG90aElzV3JhcHBlZCkge1xuICAgICAgICAgIHZhciBvYmpVbndyYXBwZWQgPSBvYmpJc1dyYXBwZWQgPyBvYmplY3QudmFsdWUoKSA6IG9iamVjdCxcbiAgICAgICAgICAgICAgb3RoVW53cmFwcGVkID0gb3RoSXNXcmFwcGVkID8gb3RoZXIudmFsdWUoKSA6IG90aGVyO1xuXG4gICAgICAgICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICAgICAgICByZXR1cm4gZXF1YWxGdW5jKG9ialVud3JhcHBlZCwgb3RoVW53cmFwcGVkLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjayk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghaXNTYW1lVGFnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gICAgICByZXR1cm4gZXF1YWxPYmplY3RzKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTWFwYCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBtYXAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNNYXAodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGdldFRhZyh2YWx1ZSkgPT0gbWFwVGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTWF0Y2hgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHZhbHVlcyB0byBtYXRjaC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBtYXRjaERhdGEgVGhlIHByb3BlcnR5IG5hbWVzLCB2YWx1ZXMsIGFuZCBjb21wYXJlIGZsYWdzIHRvIG1hdGNoLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgb2JqZWN0YCBpcyBhIG1hdGNoLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzTWF0Y2gob2JqZWN0LCBzb3VyY2UsIG1hdGNoRGF0YSwgY3VzdG9taXplcikge1xuICAgICAgdmFyIGluZGV4ID0gbWF0Y2hEYXRhLmxlbmd0aCxcbiAgICAgICAgICBsZW5ndGggPSBpbmRleCxcbiAgICAgICAgICBub0N1c3RvbWl6ZXIgPSAhY3VzdG9taXplcjtcblxuICAgICAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiAhbGVuZ3RoO1xuICAgICAgfVxuICAgICAgb2JqZWN0ID0gT2JqZWN0KG9iamVjdCk7XG4gICAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgICB2YXIgZGF0YSA9IG1hdGNoRGF0YVtpbmRleF07XG4gICAgICAgIGlmICgobm9DdXN0b21pemVyICYmIGRhdGFbMl0pXG4gICAgICAgICAgICAgID8gZGF0YVsxXSAhPT0gb2JqZWN0W2RhdGFbMF1dXG4gICAgICAgICAgICAgIDogIShkYXRhWzBdIGluIG9iamVjdClcbiAgICAgICAgICAgICkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgZGF0YSA9IG1hdGNoRGF0YVtpbmRleF07XG4gICAgICAgIHZhciBrZXkgPSBkYXRhWzBdLFxuICAgICAgICAgICAgb2JqVmFsdWUgPSBvYmplY3Rba2V5XSxcbiAgICAgICAgICAgIHNyY1ZhbHVlID0gZGF0YVsxXTtcblxuICAgICAgICBpZiAobm9DdXN0b21pemVyICYmIGRhdGFbMl0pIHtcbiAgICAgICAgICBpZiAob2JqVmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhKGtleSBpbiBvYmplY3QpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBzdGFjayA9IG5ldyBTdGFjaztcbiAgICAgICAgICBpZiAoY3VzdG9taXplcikge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGN1c3RvbWl6ZXIob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCwgc291cmNlLCBzdGFjayk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghKHJlc3VsdCA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgPyBiYXNlSXNFcXVhbChzcmNWYWx1ZSwgb2JqVmFsdWUsIENPTVBBUkVfUEFSVElBTF9GTEFHIHwgQ09NUEFSRV9VTk9SREVSRURfRkxBRywgY3VzdG9taXplciwgc3RhY2spXG4gICAgICAgICAgICAgICAgOiByZXN1bHRcbiAgICAgICAgICAgICAgKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNOYXRpdmVgIHdpdGhvdXQgYmFkIHNoaW0gY2hlY2tzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG5hdGl2ZSBmdW5jdGlvbixcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc05hdGl2ZSh2YWx1ZSkge1xuICAgICAgaWYgKCFpc09iamVjdCh2YWx1ZSkgfHwgaXNNYXNrZWQodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBwYXR0ZXJuID0gaXNGdW5jdGlvbih2YWx1ZSkgPyByZUlzTmF0aXZlIDogcmVJc0hvc3RDdG9yO1xuICAgICAgcmV0dXJuIHBhdHRlcm4udGVzdCh0b1NvdXJjZSh2YWx1ZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzUmVnRXhwYCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSByZWdleHAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNSZWdFeHAodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IHJlZ2V4cFRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc1NldGAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc2V0LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzU2V0KHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBnZXRUYWcodmFsdWUpID09IHNldFRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc1R5cGVkQXJyYXlgIHdpdGhvdXQgTm9kZS5qcyBvcHRpbWl6YXRpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHR5cGVkIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzVHlwZWRBcnJheSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiZcbiAgICAgICAgaXNMZW5ndGgodmFsdWUubGVuZ3RoKSAmJiAhIXR5cGVkQXJyYXlUYWdzW2Jhc2VHZXRUYWcodmFsdWUpXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pdGVyYXRlZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gW3ZhbHVlPV8uaWRlbnRpdHldIFRoZSB2YWx1ZSB0byBjb252ZXJ0IHRvIGFuIGl0ZXJhdGVlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgaXRlcmF0ZWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUl0ZXJhdGVlKHZhbHVlKSB7XG4gICAgICAvLyBEb24ndCBzdG9yZSB0aGUgYHR5cGVvZmAgcmVzdWx0IGluIGEgdmFyaWFibGUgdG8gYXZvaWQgYSBKSVQgYnVnIGluIFNhZmFyaSA5LlxuICAgICAgLy8gU2VlIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xNTYwMzQgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gaWRlbnRpdHk7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiBpc0FycmF5KHZhbHVlKVxuICAgICAgICAgID8gYmFzZU1hdGNoZXNQcm9wZXJ0eSh2YWx1ZVswXSwgdmFsdWVbMV0pXG4gICAgICAgICAgOiBiYXNlTWF0Y2hlcyh2YWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcHJvcGVydHkodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmtleXNgIHdoaWNoIGRvZXNuJ3QgdHJlYXQgc3BhcnNlIGFycmF5cyBhcyBkZW5zZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUtleXMob2JqZWN0KSB7XG4gICAgICBpZiAoIWlzUHJvdG90eXBlKG9iamVjdCkpIHtcbiAgICAgICAgcmV0dXJuIG5hdGl2ZUtleXMob2JqZWN0KTtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgIGZvciAodmFyIGtleSBpbiBPYmplY3Qob2JqZWN0KSkge1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkgJiYga2V5ICE9ICdjb25zdHJ1Y3RvcicpIHtcbiAgICAgICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmtleXNJbmAgd2hpY2ggZG9lc24ndCB0cmVhdCBzcGFyc2UgYXJyYXlzIGFzIGRlbnNlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlS2V5c0luKG9iamVjdCkge1xuICAgICAgaWYgKCFpc09iamVjdChvYmplY3QpKSB7XG4gICAgICAgIHJldHVybiBuYXRpdmVLZXlzSW4ob2JqZWN0KTtcbiAgICAgIH1cbiAgICAgIHZhciBpc1Byb3RvID0gaXNQcm90b3R5cGUob2JqZWN0KSxcbiAgICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgICAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xuICAgICAgICBpZiAoIShrZXkgPT0gJ2NvbnN0cnVjdG9yJyAmJiAoaXNQcm90byB8fCAhaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkpKSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubHRgIHdoaWNoIGRvZXNuJ3QgY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGxlc3MgdGhhbiBgb3RoZXJgLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUx0KHZhbHVlLCBvdGhlcikge1xuICAgICAgcmV0dXJuIHZhbHVlIDwgb3RoZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubWFwYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IG1hcHBlZCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTWFwKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICByZXN1bHQgPSBpc0FycmF5TGlrZShjb2xsZWN0aW9uKSA/IEFycmF5KGNvbGxlY3Rpb24ubGVuZ3RoKSA6IFtdO1xuXG4gICAgICBiYXNlRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHJlc3VsdFsrK2luZGV4XSA9IGl0ZXJhdGVlKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm1hdGNoZXNgIHdoaWNoIGRvZXNuJ3QgY2xvbmUgYHNvdXJjZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSB2YWx1ZXMgdG8gbWF0Y2guXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTWF0Y2hlcyhzb3VyY2UpIHtcbiAgICAgIHZhciBtYXRjaERhdGEgPSBnZXRNYXRjaERhdGEoc291cmNlKTtcbiAgICAgIGlmIChtYXRjaERhdGEubGVuZ3RoID09IDEgJiYgbWF0Y2hEYXRhWzBdWzJdKSB7XG4gICAgICAgIHJldHVybiBtYXRjaGVzU3RyaWN0Q29tcGFyYWJsZShtYXRjaERhdGFbMF1bMF0sIG1hdGNoRGF0YVswXVsxXSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBvYmplY3QgPT09IHNvdXJjZSB8fCBiYXNlSXNNYXRjaChvYmplY3QsIHNvdXJjZSwgbWF0Y2hEYXRhKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubWF0Y2hlc1Byb3BlcnR5YCB3aGljaCBkb2Vzbid0IGNsb25lIGBzcmNWYWx1ZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHBhcmFtIHsqfSBzcmNWYWx1ZSBUaGUgdmFsdWUgdG8gbWF0Y2guXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTWF0Y2hlc1Byb3BlcnR5KHBhdGgsIHNyY1ZhbHVlKSB7XG4gICAgICBpZiAoaXNLZXkocGF0aCkgJiYgaXNTdHJpY3RDb21wYXJhYmxlKHNyY1ZhbHVlKSkge1xuICAgICAgICByZXR1cm4gbWF0Y2hlc1N0cmljdENvbXBhcmFibGUodG9LZXkocGF0aCksIHNyY1ZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgdmFyIG9ialZhbHVlID0gZ2V0KG9iamVjdCwgcGF0aCk7XG4gICAgICAgIHJldHVybiAob2JqVmFsdWUgPT09IHVuZGVmaW5lZCAmJiBvYmpWYWx1ZSA9PT0gc3JjVmFsdWUpXG4gICAgICAgICAgPyBoYXNJbihvYmplY3QsIHBhdGgpXG4gICAgICAgICAgOiBiYXNlSXNFcXVhbChzcmNWYWx1ZSwgb2JqVmFsdWUsIENPTVBBUkVfUEFSVElBTF9GTEFHIHwgQ09NUEFSRV9VTk9SREVSRURfRkxBRyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm1lcmdlYCB3aXRob3V0IHN1cHBvcnQgZm9yIG11bHRpcGxlIHNvdXJjZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzcmNJbmRleCBUaGUgaW5kZXggb2YgYHNvdXJjZWAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgbWVyZ2VkIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIHNvdXJjZSB2YWx1ZXMgYW5kIHRoZWlyIG1lcmdlZFxuICAgICAqICBjb3VudGVycGFydHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZU1lcmdlKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCwgY3VzdG9taXplciwgc3RhY2spIHtcbiAgICAgIGlmIChvYmplY3QgPT09IHNvdXJjZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBiYXNlRm9yKHNvdXJjZSwgZnVuY3Rpb24oc3JjVmFsdWUsIGtleSkge1xuICAgICAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICAgICAgICBpZiAoaXNPYmplY3Qoc3JjVmFsdWUpKSB7XG4gICAgICAgICAgYmFzZU1lcmdlRGVlcChvYmplY3QsIHNvdXJjZSwga2V5LCBzcmNJbmRleCwgYmFzZU1lcmdlLCBjdXN0b21pemVyLCBzdGFjayk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgdmFyIG5ld1ZhbHVlID0gY3VzdG9taXplclxuICAgICAgICAgICAgPyBjdXN0b21pemVyKHNhZmVHZXQob2JqZWN0LCBrZXkpLCBzcmNWYWx1ZSwgKGtleSArICcnKSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKVxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgICBpZiAobmV3VmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBzcmNWYWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9LCBrZXlzSW4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZU1lcmdlYCBmb3IgYXJyYXlzIGFuZCBvYmplY3RzIHdoaWNoIHBlcmZvcm1zXG4gICAgICogZGVlcCBtZXJnZXMgYW5kIHRyYWNrcyB0cmF2ZXJzZWQgb2JqZWN0cyBlbmFibGluZyBvYmplY3RzIHdpdGggY2lyY3VsYXJcbiAgICAgKiByZWZlcmVuY2VzIHRvIGJlIG1lcmdlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBtZXJnZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3JjSW5kZXggVGhlIGluZGV4IG9mIGBzb3VyY2VgLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IG1lcmdlRnVuYyBUaGUgZnVuY3Rpb24gdG8gbWVyZ2UgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmVkIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIHNvdXJjZSB2YWx1ZXMgYW5kIHRoZWlyIG1lcmdlZFxuICAgICAqICBjb3VudGVycGFydHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZU1lcmdlRGVlcChvYmplY3QsIHNvdXJjZSwga2V5LCBzcmNJbmRleCwgbWVyZ2VGdW5jLCBjdXN0b21pemVyLCBzdGFjaykge1xuICAgICAgdmFyIG9ialZhbHVlID0gc2FmZUdldChvYmplY3QsIGtleSksXG4gICAgICAgICAgc3JjVmFsdWUgPSBzYWZlR2V0KHNvdXJjZSwga2V5KSxcbiAgICAgICAgICBzdGFja2VkID0gc3RhY2suZ2V0KHNyY1ZhbHVlKTtcblxuICAgICAgaWYgKHN0YWNrZWQpIHtcbiAgICAgICAgYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgc3RhY2tlZCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBuZXdWYWx1ZSA9IGN1c3RvbWl6ZXJcbiAgICAgICAgPyBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSwgKGtleSArICcnKSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKVxuICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgdmFyIGlzQ29tbW9uID0gbmV3VmFsdWUgPT09IHVuZGVmaW5lZDtcblxuICAgICAgaWYgKGlzQ29tbW9uKSB7XG4gICAgICAgIHZhciBpc0FyciA9IGlzQXJyYXkoc3JjVmFsdWUpLFxuICAgICAgICAgICAgaXNCdWZmID0gIWlzQXJyICYmIGlzQnVmZmVyKHNyY1ZhbHVlKSxcbiAgICAgICAgICAgIGlzVHlwZWQgPSAhaXNBcnIgJiYgIWlzQnVmZiAmJiBpc1R5cGVkQXJyYXkoc3JjVmFsdWUpO1xuXG4gICAgICAgIG5ld1ZhbHVlID0gc3JjVmFsdWU7XG4gICAgICAgIGlmIChpc0FyciB8fCBpc0J1ZmYgfHwgaXNUeXBlZCkge1xuICAgICAgICAgIGlmIChpc0FycmF5KG9ialZhbHVlKSkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBvYmpWYWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAoaXNBcnJheUxpa2VPYmplY3Qob2JqVmFsdWUpKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IGNvcHlBcnJheShvYmpWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKGlzQnVmZikge1xuICAgICAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gY2xvbmVCdWZmZXIoc3JjVmFsdWUsIHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmIChpc1R5cGVkKSB7XG4gICAgICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBjbG9uZVR5cGVkQXJyYXkoc3JjVmFsdWUsIHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gW107XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzUGxhaW5PYmplY3Qoc3JjVmFsdWUpIHx8IGlzQXJndW1lbnRzKHNyY1ZhbHVlKSkge1xuICAgICAgICAgIG5ld1ZhbHVlID0gb2JqVmFsdWU7XG4gICAgICAgICAgaWYgKGlzQXJndW1lbnRzKG9ialZhbHVlKSkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSB0b1BsYWluT2JqZWN0KG9ialZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAoIWlzT2JqZWN0KG9ialZhbHVlKSB8fCBpc0Z1bmN0aW9uKG9ialZhbHVlKSkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBpbml0Q2xvbmVPYmplY3Qoc3JjVmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoaXNDb21tb24pIHtcbiAgICAgICAgLy8gUmVjdXJzaXZlbHkgbWVyZ2Ugb2JqZWN0cyBhbmQgYXJyYXlzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgIHN0YWNrLnNldChzcmNWYWx1ZSwgbmV3VmFsdWUpO1xuICAgICAgICBtZXJnZUZ1bmMobmV3VmFsdWUsIHNyY1ZhbHVlLCBzcmNJbmRleCwgY3VzdG9taXplciwgc3RhY2spO1xuICAgICAgICBzdGFja1snZGVsZXRlJ10oc3JjVmFsdWUpO1xuICAgICAgfVxuICAgICAgYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm50aGAgd2hpY2ggZG9lc24ndCBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIGluZGV4IG9mIHRoZSBlbGVtZW50IHRvIHJldHVybi5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbnRoIGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTnRoKGFycmF5LCBuKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbiArPSBuIDwgMCA/IGxlbmd0aCA6IDA7XG4gICAgICByZXR1cm4gaXNJbmRleChuLCBsZW5ndGgpID8gYXJyYXlbbl0gOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ub3JkZXJCeWAgd2l0aG91dCBwYXJhbSBndWFyZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9uW118T2JqZWN0W118c3RyaW5nW119IGl0ZXJhdGVlcyBUaGUgaXRlcmF0ZWVzIHRvIHNvcnQgYnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gb3JkZXJzIFRoZSBzb3J0IG9yZGVycyBvZiBgaXRlcmF0ZWVzYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzb3J0ZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZU9yZGVyQnkoY29sbGVjdGlvbiwgaXRlcmF0ZWVzLCBvcmRlcnMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xO1xuICAgICAgaXRlcmF0ZWVzID0gYXJyYXlNYXAoaXRlcmF0ZWVzLmxlbmd0aCA/IGl0ZXJhdGVlcyA6IFtpZGVudGl0eV0sIGJhc2VVbmFyeShnZXRJdGVyYXRlZSgpKSk7XG5cbiAgICAgIHZhciByZXN1bHQgPSBiYXNlTWFwKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgdmFyIGNyaXRlcmlhID0gYXJyYXlNYXAoaXRlcmF0ZWVzLCBmdW5jdGlvbihpdGVyYXRlZSkge1xuICAgICAgICAgIHJldHVybiBpdGVyYXRlZSh2YWx1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4geyAnY3JpdGVyaWEnOiBjcml0ZXJpYSwgJ2luZGV4JzogKytpbmRleCwgJ3ZhbHVlJzogdmFsdWUgfTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gYmFzZVNvcnRCeShyZXN1bHQsIGZ1bmN0aW9uKG9iamVjdCwgb3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIGNvbXBhcmVNdWx0aXBsZShvYmplY3QsIG90aGVyLCBvcmRlcnMpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucGlja2Agd2l0aG91dCBzdXBwb3J0IGZvciBpbmRpdmlkdWFsXG4gICAgICogcHJvcGVydHkgaWRlbnRpZmllcnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gcGF0aHMgVGhlIHByb3BlcnR5IHBhdGhzIHRvIHBpY2suXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUGljayhvYmplY3QsIHBhdGhzKSB7XG4gICAgICByZXR1cm4gYmFzZVBpY2tCeShvYmplY3QsIHBhdGhzLCBmdW5jdGlvbih2YWx1ZSwgcGF0aCkge1xuICAgICAgICByZXR1cm4gaGFzSW4ob2JqZWN0LCBwYXRoKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mICBgXy5waWNrQnlgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBwYXRocyBUaGUgcHJvcGVydHkgcGF0aHMgdG8gcGljay5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIHByb3BlcnR5LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVBpY2tCeShvYmplY3QsIHBhdGhzLCBwcmVkaWNhdGUpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHBhdGhzLmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSB7fTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHBhdGggPSBwYXRoc1tpbmRleF0sXG4gICAgICAgICAgICB2YWx1ZSA9IGJhc2VHZXQob2JqZWN0LCBwYXRoKTtcblxuICAgICAgICBpZiAocHJlZGljYXRlKHZhbHVlLCBwYXRoKSkge1xuICAgICAgICAgIGJhc2VTZXQocmVzdWx0LCBjYXN0UGF0aChwYXRoLCBvYmplY3QpLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlUHJvcGVydHlgIHdoaWNoIHN1cHBvcnRzIGRlZXAgcGF0aHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWNjZXNzb3IgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVByb3BlcnR5RGVlcChwYXRoKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBiYXNlR2V0KG9iamVjdCwgcGF0aCk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnB1bGxBbGxCeWAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZVxuICAgICAqIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gcmVtb3ZlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVB1bGxBbGwoYXJyYXksIHZhbHVlcywgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHZhciBpbmRleE9mID0gY29tcGFyYXRvciA/IGJhc2VJbmRleE9mV2l0aCA6IGJhc2VJbmRleE9mLFxuICAgICAgICAgIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gdmFsdWVzLmxlbmd0aCxcbiAgICAgICAgICBzZWVuID0gYXJyYXk7XG5cbiAgICAgIGlmIChhcnJheSA9PT0gdmFsdWVzKSB7XG4gICAgICAgIHZhbHVlcyA9IGNvcHlBcnJheSh2YWx1ZXMpO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZXJhdGVlKSB7XG4gICAgICAgIHNlZW4gPSBhcnJheU1hcChhcnJheSwgYmFzZVVuYXJ5KGl0ZXJhdGVlKSk7XG4gICAgICB9XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgZnJvbUluZGV4ID0gMCxcbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWVzW2luZGV4XSxcbiAgICAgICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUgPyBpdGVyYXRlZSh2YWx1ZSkgOiB2YWx1ZTtcblxuICAgICAgICB3aGlsZSAoKGZyb21JbmRleCA9IGluZGV4T2Yoc2VlbiwgY29tcHV0ZWQsIGZyb21JbmRleCwgY29tcGFyYXRvcikpID4gLTEpIHtcbiAgICAgICAgICBpZiAoc2VlbiAhPT0gYXJyYXkpIHtcbiAgICAgICAgICAgIHNwbGljZS5jYWxsKHNlZW4sIGZyb21JbmRleCwgMSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNwbGljZS5jYWxsKGFycmF5LCBmcm9tSW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucHVsbEF0YCB3aXRob3V0IHN1cHBvcnQgZm9yIGluZGl2aWR1YWxcbiAgICAgKiBpbmRleGVzIG9yIGNhcHR1cmluZyB0aGUgcmVtb3ZlZCBlbGVtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBpbmRleGVzIFRoZSBpbmRleGVzIG9mIGVsZW1lbnRzIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUHVsbEF0KGFycmF5LCBpbmRleGVzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPyBpbmRleGVzLmxlbmd0aCA6IDAsXG4gICAgICAgICAgbGFzdEluZGV4ID0gbGVuZ3RoIC0gMTtcblxuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGluZGV4ZXNbbGVuZ3RoXTtcbiAgICAgICAgaWYgKGxlbmd0aCA9PSBsYXN0SW5kZXggfHwgaW5kZXggIT09IHByZXZpb3VzKSB7XG4gICAgICAgICAgdmFyIHByZXZpb3VzID0gaW5kZXg7XG4gICAgICAgICAgaWYgKGlzSW5kZXgoaW5kZXgpKSB7XG4gICAgICAgICAgICBzcGxpY2UuY2FsbChhcnJheSwgaW5kZXgsIDEpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBiYXNlVW5zZXQoYXJyYXksIGluZGV4KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yYW5kb21gIHdpdGhvdXQgc3VwcG9ydCBmb3IgcmV0dXJuaW5nXG4gICAgICogZmxvYXRpbmctcG9pbnQgbnVtYmVycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGxvd2VyIFRoZSBsb3dlciBib3VuZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdXBwZXIgVGhlIHVwcGVyIGJvdW5kLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHJhbmRvbSBudW1iZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVJhbmRvbShsb3dlciwgdXBwZXIpIHtcbiAgICAgIHJldHVybiBsb3dlciArIG5hdGl2ZUZsb29yKG5hdGl2ZVJhbmRvbSgpICogKHVwcGVyIC0gbG93ZXIgKyAxKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucmFuZ2VgIGFuZCBgXy5yYW5nZVJpZ2h0YCB3aGljaCBkb2Vzbid0XG4gICAgICogY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0IFRoZSBzdGFydCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBUaGUgZW5kIG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RlcCBUaGUgdmFsdWUgdG8gaW5jcmVtZW50IG9yIGRlY3JlbWVudCBieS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHJhbmdlIG9mIG51bWJlcnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVJhbmdlKHN0YXJ0LCBlbmQsIHN0ZXAsIGZyb21SaWdodCkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWF4KG5hdGl2ZUNlaWwoKGVuZCAtIHN0YXJ0KSAvIChzdGVwIHx8IDEpKSwgMCksXG4gICAgICAgICAgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKTtcblxuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIHJlc3VsdFtmcm9tUmlnaHQgPyBsZW5ndGggOiArK2luZGV4XSA9IHN0YXJ0O1xuICAgICAgICBzdGFydCArPSBzdGVwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yZXBlYXRgIHdoaWNoIGRvZXNuJ3QgY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIHJlcGVhdC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIHRpbWVzIHRvIHJlcGVhdCB0aGUgc3RyaW5nLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHJlcGVhdGVkIHN0cmluZy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUmVwZWF0KHN0cmluZywgbikge1xuICAgICAgdmFyIHJlc3VsdCA9ICcnO1xuICAgICAgaWYgKCFzdHJpbmcgfHwgbiA8IDEgfHwgbiA+IE1BWF9TQUZFX0lOVEVHRVIpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIC8vIExldmVyYWdlIHRoZSBleHBvbmVudGlhdGlvbiBieSBzcXVhcmluZyBhbGdvcml0aG0gZm9yIGEgZmFzdGVyIHJlcGVhdC5cbiAgICAgIC8vIFNlZSBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9FeHBvbmVudGlhdGlvbl9ieV9zcXVhcmluZyBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgZG8ge1xuICAgICAgICBpZiAobiAlIDIpIHtcbiAgICAgICAgICByZXN1bHQgKz0gc3RyaW5nO1xuICAgICAgICB9XG4gICAgICAgIG4gPSBuYXRpdmVGbG9vcihuIC8gMik7XG4gICAgICAgIGlmIChuKSB7XG4gICAgICAgICAgc3RyaW5nICs9IHN0cmluZztcbiAgICAgICAgfVxuICAgICAgfSB3aGlsZSAobik7XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucmVzdGAgd2hpY2ggZG9lc24ndCB2YWxpZGF0ZSBvciBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhcHBseSBhIHJlc3QgcGFyYW1ldGVyIHRvLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9ZnVuYy5sZW5ndGgtMV0gVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSByZXN0IHBhcmFtZXRlci5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUmVzdChmdW5jLCBzdGFydCkge1xuICAgICAgcmV0dXJuIHNldFRvU3RyaW5nKG92ZXJSZXN0KGZ1bmMsIHN0YXJ0LCBpZGVudGl0eSksIGZ1bmMgKyAnJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc2FtcGxlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2FtcGxlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByYW5kb20gZWxlbWVudC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU2FtcGxlKGNvbGxlY3Rpb24pIHtcbiAgICAgIHJldHVybiBhcnJheVNhbXBsZSh2YWx1ZXMoY29sbGVjdGlvbikpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNhbXBsZVNpemVgIHdpdGhvdXQgcGFyYW0gZ3VhcmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBzYW1wbGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byBzYW1wbGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSByYW5kb20gZWxlbWVudHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNhbXBsZVNpemUoY29sbGVjdGlvbiwgbikge1xuICAgICAgdmFyIGFycmF5ID0gdmFsdWVzKGNvbGxlY3Rpb24pO1xuICAgICAgcmV0dXJuIHNodWZmbGVTZWxmKGFycmF5LCBiYXNlQ2xhbXAobiwgMCwgYXJyYXkubGVuZ3RoKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc2V0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBwYXRoIGNyZWF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNldChvYmplY3QsIHBhdGgsIHZhbHVlLCBjdXN0b21pemVyKSB7XG4gICAgICBpZiAoIWlzT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgIH1cbiAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuXG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBwYXRoLmxlbmd0aCxcbiAgICAgICAgICBsYXN0SW5kZXggPSBsZW5ndGggLSAxLFxuICAgICAgICAgIG5lc3RlZCA9IG9iamVjdDtcblxuICAgICAgd2hpbGUgKG5lc3RlZCAhPSBudWxsICYmICsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGtleSA9IHRvS2V5KHBhdGhbaW5kZXhdKSxcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gdmFsdWU7XG5cbiAgICAgICAgaWYgKGluZGV4ICE9IGxhc3RJbmRleCkge1xuICAgICAgICAgIHZhciBvYmpWYWx1ZSA9IG5lc3RlZFtrZXldO1xuICAgICAgICAgIG5ld1ZhbHVlID0gY3VzdG9taXplciA/IGN1c3RvbWl6ZXIob2JqVmFsdWUsIGtleSwgbmVzdGVkKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICBpZiAobmV3VmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBpc09iamVjdChvYmpWYWx1ZSlcbiAgICAgICAgICAgICAgPyBvYmpWYWx1ZVxuICAgICAgICAgICAgICA6IChpc0luZGV4KHBhdGhbaW5kZXggKyAxXSkgPyBbXSA6IHt9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYXNzaWduVmFsdWUobmVzdGVkLCBrZXksIG5ld1ZhbHVlKTtcbiAgICAgICAgbmVzdGVkID0gbmVzdGVkW2tleV07XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBzZXREYXRhYCB3aXRob3V0IHN1cHBvcnQgZm9yIGhvdCBsb29wIHNob3J0aW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhc3NvY2lhdGUgbWV0YWRhdGEgd2l0aC5cbiAgICAgKiBAcGFyYW0geyp9IGRhdGEgVGhlIG1ldGFkYXRhLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgZnVuY2AuXG4gICAgICovXG4gICAgdmFyIGJhc2VTZXREYXRhID0gIW1ldGFNYXAgPyBpZGVudGl0eSA6IGZ1bmN0aW9uKGZ1bmMsIGRhdGEpIHtcbiAgICAgIG1ldGFNYXAuc2V0KGZ1bmMsIGRhdGEpO1xuICAgICAgcmV0dXJuIGZ1bmM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBzZXRUb1N0cmluZ2Agd2l0aG91dCBzdXBwb3J0IGZvciBob3QgbG9vcCBzaG9ydGluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHN0cmluZyBUaGUgYHRvU3RyaW5nYCByZXN1bHQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBmdW5jYC5cbiAgICAgKi9cbiAgICB2YXIgYmFzZVNldFRvU3RyaW5nID0gIWRlZmluZVByb3BlcnR5ID8gaWRlbnRpdHkgOiBmdW5jdGlvbihmdW5jLCBzdHJpbmcpIHtcbiAgICAgIHJldHVybiBkZWZpbmVQcm9wZXJ0eShmdW5jLCAndG9TdHJpbmcnLCB7XG4gICAgICAgICdjb25maWd1cmFibGUnOiB0cnVlLFxuICAgICAgICAnZW51bWVyYWJsZSc6IGZhbHNlLFxuICAgICAgICAndmFsdWUnOiBjb25zdGFudChzdHJpbmcpLFxuICAgICAgICAnd3JpdGFibGUnOiB0cnVlXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc2h1ZmZsZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIHNodWZmbGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgc2h1ZmZsZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNodWZmbGUoY29sbGVjdGlvbikge1xuICAgICAgcmV0dXJuIHNodWZmbGVTZWxmKHZhbHVlcyhjb2xsZWN0aW9uKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc2xpY2VgIHdpdGhvdXQgYW4gaXRlcmF0ZWUgY2FsbCBndWFyZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNsaWNlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kPWFycmF5Lmxlbmd0aF0gVGhlIGVuZCBwb3NpdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNsaWNlKGFycmF5LCBzdGFydCwgZW5kKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICAgIGlmIChzdGFydCA8IDApIHtcbiAgICAgICAgc3RhcnQgPSAtc3RhcnQgPiBsZW5ndGggPyAwIDogKGxlbmd0aCArIHN0YXJ0KTtcbiAgICAgIH1cbiAgICAgIGVuZCA9IGVuZCA+IGxlbmd0aCA/IGxlbmd0aCA6IGVuZDtcbiAgICAgIGlmIChlbmQgPCAwKSB7XG4gICAgICAgIGVuZCArPSBsZW5ndGg7XG4gICAgICB9XG4gICAgICBsZW5ndGggPSBzdGFydCA+IGVuZCA/IDAgOiAoKGVuZCAtIHN0YXJ0KSA+Pj4gMCk7XG4gICAgICBzdGFydCA+Pj49IDA7XG5cbiAgICAgIHZhciByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0W2luZGV4XSA9IGFycmF5W2luZGV4ICsgc3RhcnRdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zb21lYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW55IGVsZW1lbnQgcGFzc2VzIHRoZSBwcmVkaWNhdGUgY2hlY2ssXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU29tZShjb2xsZWN0aW9uLCBwcmVkaWNhdGUpIHtcbiAgICAgIHZhciByZXN1bHQ7XG5cbiAgICAgIGJhc2VFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgICByZXN1bHQgPSBwcmVkaWNhdGUodmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKTtcbiAgICAgICAgcmV0dXJuICFyZXN1bHQ7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiAhIXJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zb3J0ZWRJbmRleGAgYW5kIGBfLnNvcnRlZExhc3RJbmRleGAgd2hpY2hcbiAgICAgKiBwZXJmb3JtcyBhIGJpbmFyeSBzZWFyY2ggb2YgYGFycmF5YCB0byBkZXRlcm1pbmUgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWBcbiAgICAgKiBzaG91bGQgYmUgaW5zZXJ0ZWQgaW50byBgYXJyYXlgIGluIG9yZGVyIHRvIG1haW50YWluIGl0cyBzb3J0IG9yZGVyLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgc29ydGVkIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZXZhbHVhdGUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcmV0SGlnaGVzdF0gU3BlY2lmeSByZXR1cm5pbmcgdGhlIGhpZ2hlc3QgcXVhbGlmaWVkIGluZGV4LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkXG4gICAgICogIGludG8gYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU29ydGVkSW5kZXgoYXJyYXksIHZhbHVlLCByZXRIaWdoZXN0KSB7XG4gICAgICB2YXIgbG93ID0gMCxcbiAgICAgICAgICBoaWdoID0gYXJyYXkgPT0gbnVsbCA/IGxvdyA6IGFycmF5Lmxlbmd0aDtcblxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyAmJiB2YWx1ZSA9PT0gdmFsdWUgJiYgaGlnaCA8PSBIQUxGX01BWF9BUlJBWV9MRU5HVEgpIHtcbiAgICAgICAgd2hpbGUgKGxvdyA8IGhpZ2gpIHtcbiAgICAgICAgICB2YXIgbWlkID0gKGxvdyArIGhpZ2gpID4+PiAxLFxuICAgICAgICAgICAgICBjb21wdXRlZCA9IGFycmF5W21pZF07XG5cbiAgICAgICAgICBpZiAoY29tcHV0ZWQgIT09IG51bGwgJiYgIWlzU3ltYm9sKGNvbXB1dGVkKSAmJlxuICAgICAgICAgICAgICAocmV0SGlnaGVzdCA/IChjb21wdXRlZCA8PSB2YWx1ZSkgOiAoY29tcHV0ZWQgPCB2YWx1ZSkpKSB7XG4gICAgICAgICAgICBsb3cgPSBtaWQgKyAxO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBoaWdoID0gbWlkO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGlnaDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlU29ydGVkSW5kZXhCeShhcnJheSwgdmFsdWUsIGlkZW50aXR5LCByZXRIaWdoZXN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zb3J0ZWRJbmRleEJ5YCBhbmQgYF8uc29ydGVkTGFzdEluZGV4QnlgXG4gICAgICogd2hpY2ggaW52b2tlcyBgaXRlcmF0ZWVgIGZvciBgdmFsdWVgIGFuZCBlYWNoIGVsZW1lbnQgb2YgYGFycmF5YCB0byBjb21wdXRlXG4gICAgICogdGhlaXIgc29ydCByYW5raW5nLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDsgKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIHNvcnRlZCBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGV2YWx1YXRlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3JldEhpZ2hlc3RdIFNwZWNpZnkgcmV0dXJuaW5nIHRoZSBoaWdoZXN0IHF1YWxpZmllZCBpbmRleC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBhdCB3aGljaCBgdmFsdWVgIHNob3VsZCBiZSBpbnNlcnRlZFxuICAgICAqICBpbnRvIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNvcnRlZEluZGV4QnkoYXJyYXksIHZhbHVlLCBpdGVyYXRlZSwgcmV0SGlnaGVzdCkge1xuICAgICAgdmFsdWUgPSBpdGVyYXRlZSh2YWx1ZSk7XG5cbiAgICAgIHZhciBsb3cgPSAwLFxuICAgICAgICAgIGhpZ2ggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICB2YWxJc05hTiA9IHZhbHVlICE9PSB2YWx1ZSxcbiAgICAgICAgICB2YWxJc051bGwgPSB2YWx1ZSA9PT0gbnVsbCxcbiAgICAgICAgICB2YWxJc1N5bWJvbCA9IGlzU3ltYm9sKHZhbHVlKSxcbiAgICAgICAgICB2YWxJc1VuZGVmaW5lZCA9IHZhbHVlID09PSB1bmRlZmluZWQ7XG5cbiAgICAgIHdoaWxlIChsb3cgPCBoaWdoKSB7XG4gICAgICAgIHZhciBtaWQgPSBuYXRpdmVGbG9vcigobG93ICsgaGlnaCkgLyAyKSxcbiAgICAgICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUoYXJyYXlbbWlkXSksXG4gICAgICAgICAgICBvdGhJc0RlZmluZWQgPSBjb21wdXRlZCAhPT0gdW5kZWZpbmVkLFxuICAgICAgICAgICAgb3RoSXNOdWxsID0gY29tcHV0ZWQgPT09IG51bGwsXG4gICAgICAgICAgICBvdGhJc1JlZmxleGl2ZSA9IGNvbXB1dGVkID09PSBjb21wdXRlZCxcbiAgICAgICAgICAgIG90aElzU3ltYm9sID0gaXNTeW1ib2woY29tcHV0ZWQpO1xuXG4gICAgICAgIGlmICh2YWxJc05hTikge1xuICAgICAgICAgIHZhciBzZXRMb3cgPSByZXRIaWdoZXN0IHx8IG90aElzUmVmbGV4aXZlO1xuICAgICAgICB9IGVsc2UgaWYgKHZhbElzVW5kZWZpbmVkKSB7XG4gICAgICAgICAgc2V0TG93ID0gb3RoSXNSZWZsZXhpdmUgJiYgKHJldEhpZ2hlc3QgfHwgb3RoSXNEZWZpbmVkKTtcbiAgICAgICAgfSBlbHNlIGlmICh2YWxJc051bGwpIHtcbiAgICAgICAgICBzZXRMb3cgPSBvdGhJc1JlZmxleGl2ZSAmJiBvdGhJc0RlZmluZWQgJiYgKHJldEhpZ2hlc3QgfHwgIW90aElzTnVsbCk7XG4gICAgICAgIH0gZWxzZSBpZiAodmFsSXNTeW1ib2wpIHtcbiAgICAgICAgICBzZXRMb3cgPSBvdGhJc1JlZmxleGl2ZSAmJiBvdGhJc0RlZmluZWQgJiYgIW90aElzTnVsbCAmJiAocmV0SGlnaGVzdCB8fCAhb3RoSXNTeW1ib2wpO1xuICAgICAgICB9IGVsc2UgaWYgKG90aElzTnVsbCB8fCBvdGhJc1N5bWJvbCkge1xuICAgICAgICAgIHNldExvdyA9IGZhbHNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNldExvdyA9IHJldEhpZ2hlc3QgPyAoY29tcHV0ZWQgPD0gdmFsdWUpIDogKGNvbXB1dGVkIDwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzZXRMb3cpIHtcbiAgICAgICAgICBsb3cgPSBtaWQgKyAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGhpZ2ggPSBtaWQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBuYXRpdmVNaW4oaGlnaCwgTUFYX0FSUkFZX0lOREVYKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zb3J0ZWRVbmlxYCBhbmQgYF8uc29ydGVkVW5pcUJ5YCB3aXRob3V0XG4gICAgICogc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU29ydGVkVW5pcShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICByZXNJbmRleCA9IDAsXG4gICAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUgPyBpdGVyYXRlZSh2YWx1ZSkgOiB2YWx1ZTtcblxuICAgICAgICBpZiAoIWluZGV4IHx8ICFlcShjb21wdXRlZCwgc2VlbikpIHtcbiAgICAgICAgICB2YXIgc2VlbiA9IGNvbXB1dGVkO1xuICAgICAgICAgIHJlc3VsdFtyZXNJbmRleCsrXSA9IHZhbHVlID09PSAwID8gMCA6IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRvTnVtYmVyYCB3aGljaCBkb2Vzbid0IGVuc3VyZSBjb3JyZWN0XG4gICAgICogY29udmVyc2lvbnMgb2YgYmluYXJ5LCBoZXhhZGVjaW1hbCwgb3Igb2N0YWwgc3RyaW5nIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBudW1iZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVRvTnVtYmVyKHZhbHVlKSB7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdudW1iZXInKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIE5BTjtcbiAgICAgIH1cbiAgICAgIHJldHVybiArdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udG9TdHJpbmdgIHdoaWNoIGRvZXNuJ3QgY29udmVydCBudWxsaXNoXG4gICAgICogdmFsdWVzIHRvIGVtcHR5IHN0cmluZ3MuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc3RyaW5nLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VUb1N0cmluZyh2YWx1ZSkge1xuICAgICAgLy8gRXhpdCBlYXJseSBmb3Igc3RyaW5ncyB0byBhdm9pZCBhIHBlcmZvcm1hbmNlIGhpdCBpbiBzb21lIGVudmlyb25tZW50cy5cbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbnZlcnQgdmFsdWVzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgIHJldHVybiBhcnJheU1hcCh2YWx1ZSwgYmFzZVRvU3RyaW5nKSArICcnO1xuICAgICAgfVxuICAgICAgaWYgKGlzU3ltYm9sKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gc3ltYm9sVG9TdHJpbmcgPyBzeW1ib2xUb1N0cmluZy5jYWxsKHZhbHVlKSA6ICcnO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9ICh2YWx1ZSArICcnKTtcbiAgICAgIHJldHVybiAocmVzdWx0ID09ICcwJyAmJiAoMSAvIHZhbHVlKSA9PSAtSU5GSU5JVFkpID8gJy0wJyA6IHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy51bmlxQnlgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlVW5pcShhcnJheSwgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGluY2x1ZGVzID0gYXJyYXlJbmNsdWRlcyxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgaXNDb21tb24gPSB0cnVlLFxuICAgICAgICAgIHJlc3VsdCA9IFtdLFxuICAgICAgICAgIHNlZW4gPSByZXN1bHQ7XG5cbiAgICAgIGlmIChjb21wYXJhdG9yKSB7XG4gICAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgICAgIGluY2x1ZGVzID0gYXJyYXlJbmNsdWRlc1dpdGg7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChsZW5ndGggPj0gTEFSR0VfQVJSQVlfU0laRSkge1xuICAgICAgICB2YXIgc2V0ID0gaXRlcmF0ZWUgPyBudWxsIDogY3JlYXRlU2V0KGFycmF5KTtcbiAgICAgICAgaWYgKHNldCkge1xuICAgICAgICAgIHJldHVybiBzZXRUb0FycmF5KHNldCk7XG4gICAgICAgIH1cbiAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgICAgaW5jbHVkZXMgPSBjYWNoZUhhcztcbiAgICAgICAgc2VlbiA9IG5ldyBTZXRDYWNoZTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBzZWVuID0gaXRlcmF0ZWUgPyBbXSA6IHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIG91dGVyOlxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdLFxuICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA/IGl0ZXJhdGVlKHZhbHVlKSA6IHZhbHVlO1xuXG4gICAgICAgIHZhbHVlID0gKGNvbXBhcmF0b3IgfHwgdmFsdWUgIT09IDApID8gdmFsdWUgOiAwO1xuICAgICAgICBpZiAoaXNDb21tb24gJiYgY29tcHV0ZWQgPT09IGNvbXB1dGVkKSB7XG4gICAgICAgICAgdmFyIHNlZW5JbmRleCA9IHNlZW4ubGVuZ3RoO1xuICAgICAgICAgIHdoaWxlIChzZWVuSW5kZXgtLSkge1xuICAgICAgICAgICAgaWYgKHNlZW5bc2VlbkluZGV4XSA9PT0gY29tcHV0ZWQpIHtcbiAgICAgICAgICAgICAgY29udGludWUgb3V0ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpdGVyYXRlZSkge1xuICAgICAgICAgICAgc2Vlbi5wdXNoKGNvbXB1dGVkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFpbmNsdWRlcyhzZWVuLCBjb21wdXRlZCwgY29tcGFyYXRvcikpIHtcbiAgICAgICAgICBpZiAoc2VlbiAhPT0gcmVzdWx0KSB7XG4gICAgICAgICAgICBzZWVuLnB1c2goY29tcHV0ZWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udW5zZXRgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwcm9wZXJ0eSBwYXRoIHRvIHVuc2V0LlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgcHJvcGVydHkgaXMgZGVsZXRlZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VVbnNldChvYmplY3QsIHBhdGgpIHtcbiAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuICAgICAgb2JqZWN0ID0gcGFyZW50KG9iamVjdCwgcGF0aCk7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgfHwgZGVsZXRlIG9iamVjdFt0b0tleShsYXN0KHBhdGgpKV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udXBkYXRlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gdXBkYXRlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHVwZGF0ZXIgVGhlIGZ1bmN0aW9uIHRvIHByb2R1Y2UgdGhlIHVwZGF0ZWQgdmFsdWUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgcGF0aCBjcmVhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VVcGRhdGUob2JqZWN0LCBwYXRoLCB1cGRhdGVyLCBjdXN0b21pemVyKSB7XG4gICAgICByZXR1cm4gYmFzZVNldChvYmplY3QsIHBhdGgsIHVwZGF0ZXIoYmFzZUdldChvYmplY3QsIHBhdGgpKSwgY3VzdG9taXplcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgbWV0aG9kcyBsaWtlIGBfLmRyb3BXaGlsZWAgYW5kIGBfLnRha2VXaGlsZWBcbiAgICAgKiB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0Ryb3BdIFNwZWNpZnkgZHJvcHBpbmcgZWxlbWVudHMgaW5zdGVhZCBvZiB0YWtpbmcgdGhlbS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVdoaWxlKGFycmF5LCBwcmVkaWNhdGUsIGlzRHJvcCwgZnJvbVJpZ2h0KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIGluZGV4ID0gZnJvbVJpZ2h0ID8gbGVuZ3RoIDogLTE7XG5cbiAgICAgIHdoaWxlICgoZnJvbVJpZ2h0ID8gaW5kZXgtLSA6ICsraW5kZXggPCBsZW5ndGgpICYmXG4gICAgICAgIHByZWRpY2F0ZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkpIHt9XG5cbiAgICAgIHJldHVybiBpc0Ryb3BcbiAgICAgICAgPyBiYXNlU2xpY2UoYXJyYXksIChmcm9tUmlnaHQgPyAwIDogaW5kZXgpLCAoZnJvbVJpZ2h0ID8gaW5kZXggKyAxIDogbGVuZ3RoKSlcbiAgICAgICAgOiBiYXNlU2xpY2UoYXJyYXksIChmcm9tUmlnaHQgPyBpbmRleCArIDEgOiAwKSwgKGZyb21SaWdodCA/IGxlbmd0aCA6IGluZGV4KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYHdyYXBwZXJWYWx1ZWAgd2hpY2ggcmV0dXJucyB0aGUgcmVzdWx0IG9mXG4gICAgICogcGVyZm9ybWluZyBhIHNlcXVlbmNlIG9mIGFjdGlvbnMgb24gdGhlIHVud3JhcHBlZCBgdmFsdWVgLCB3aGVyZSBlYWNoXG4gICAgICogc3VjY2Vzc2l2ZSBhY3Rpb24gaXMgc3VwcGxpZWQgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgcHJldmlvdXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHVud3JhcHBlZCB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhY3Rpb25zIEFjdGlvbnMgdG8gcGVyZm9ybSB0byByZXNvbHZlIHRoZSB1bndyYXBwZWQgdmFsdWUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VXcmFwcGVyVmFsdWUodmFsdWUsIGFjdGlvbnMpIHtcbiAgICAgIHZhciByZXN1bHQgPSB2YWx1ZTtcbiAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBMYXp5V3JhcHBlcikge1xuICAgICAgICByZXN1bHQgPSByZXN1bHQudmFsdWUoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheVJlZHVjZShhY3Rpb25zLCBmdW5jdGlvbihyZXN1bHQsIGFjdGlvbikge1xuICAgICAgICByZXR1cm4gYWN0aW9uLmZ1bmMuYXBwbHkoYWN0aW9uLnRoaXNBcmcsIGFycmF5UHVzaChbcmVzdWx0XSwgYWN0aW9uLmFyZ3MpKTtcbiAgICAgIH0sIHJlc3VsdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgbWV0aG9kcyBsaWtlIGBfLnhvcmAsIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLCB0aGF0IGFjY2VwdHMgYW4gYXJyYXkgb2YgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5cyBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiB2YWx1ZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVhvcihhcnJheXMsIGl0ZXJhdGVlLCBjb21wYXJhdG9yKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXlzLmxlbmd0aDtcbiAgICAgIGlmIChsZW5ndGggPCAyKSB7XG4gICAgICAgIHJldHVybiBsZW5ndGggPyBiYXNlVW5pcShhcnJheXNbMF0pIDogW107XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgYXJyYXkgPSBhcnJheXNbaW5kZXhdLFxuICAgICAgICAgICAgb3RoSW5kZXggPSAtMTtcblxuICAgICAgICB3aGlsZSAoKytvdGhJbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIGlmIChvdGhJbmRleCAhPSBpbmRleCkge1xuICAgICAgICAgICAgcmVzdWx0W2luZGV4XSA9IGJhc2VEaWZmZXJlbmNlKHJlc3VsdFtpbmRleF0gfHwgYXJyYXksIGFycmF5c1tvdGhJbmRleF0sIGl0ZXJhdGVlLCBjb21wYXJhdG9yKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlVW5pcShiYXNlRmxhdHRlbihyZXN1bHQsIDEpLCBpdGVyYXRlZSwgY29tcGFyYXRvcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnppcE9iamVjdGAgd2hpY2ggYXNzaWducyB2YWx1ZXMgdXNpbmcgYGFzc2lnbkZ1bmNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwcm9wcyBUaGUgcHJvcGVydHkgaWRlbnRpZmllcnMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gYXNzaWduRnVuYyBUaGUgZnVuY3Rpb24gdG8gYXNzaWduIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VaaXBPYmplY3QocHJvcHMsIHZhbHVlcywgYXNzaWduRnVuYykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcHJvcHMubGVuZ3RoLFxuICAgICAgICAgIHZhbHNMZW5ndGggPSB2YWx1ZXMubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IHt9O1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBpbmRleCA8IHZhbHNMZW5ndGggPyB2YWx1ZXNbaW5kZXhdIDogdW5kZWZpbmVkO1xuICAgICAgICBhc3NpZ25GdW5jKHJlc3VsdCwgcHJvcHNbaW5kZXhdLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhc3RzIGB2YWx1ZWAgdG8gYW4gZW1wdHkgYXJyYXkgaWYgaXQncyBub3QgYW4gYXJyYXkgbGlrZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fE9iamVjdH0gUmV0dXJucyB0aGUgY2FzdCBhcnJheS1saWtlIG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjYXN0QXJyYXlMaWtlT2JqZWN0KHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNBcnJheUxpa2VPYmplY3QodmFsdWUpID8gdmFsdWUgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYXN0cyBgdmFsdWVgIHRvIGBpZGVudGl0eWAgaWYgaXQncyBub3QgYSBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgY2FzdCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjYXN0RnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ2Z1bmN0aW9uJyA/IHZhbHVlIDogaWRlbnRpdHk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FzdHMgYHZhbHVlYCB0byBhIHBhdGggYXJyYXkgaWYgaXQncyBub3Qgb25lLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5IGtleXMgb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjYXN0IHByb3BlcnR5IHBhdGggYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2FzdFBhdGgodmFsdWUsIG9iamVjdCkge1xuICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpc0tleSh2YWx1ZSwgb2JqZWN0KSA/IFt2YWx1ZV0gOiBzdHJpbmdUb1BhdGgodG9TdHJpbmcodmFsdWUpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIGBiYXNlUmVzdGAgYWxpYXMgd2hpY2ggY2FuIGJlIHJlcGxhY2VkIHdpdGggYGlkZW50aXR5YCBieSBtb2R1bGVcbiAgICAgKiByZXBsYWNlbWVudCBwbHVnaW5zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7RnVuY3Rpb259XG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICB2YXIgY2FzdFJlc3QgPSBiYXNlUmVzdDtcblxuICAgIC8qKlxuICAgICAqIENhc3RzIGBhcnJheWAgdG8gYSBzbGljZSBpZiBpdCdzIG5lZWRlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0IFRoZSBzdGFydCBwb3NpdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2VuZD1hcnJheS5sZW5ndGhdIFRoZSBlbmQgcG9zaXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjYXN0IHNsaWNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNhc3RTbGljZShhcnJheSwgc3RhcnQsIGVuZCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgICAgIGVuZCA9IGVuZCA9PT0gdW5kZWZpbmVkID8gbGVuZ3RoIDogZW5kO1xuICAgICAgcmV0dXJuICghc3RhcnQgJiYgZW5kID49IGxlbmd0aCkgPyBhcnJheSA6IGJhc2VTbGljZShhcnJheSwgc3RhcnQsIGVuZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzaW1wbGUgd3JhcHBlciBhcm91bmQgdGhlIGdsb2JhbCBbYGNsZWFyVGltZW91dGBdKGh0dHBzOi8vbWRuLmlvL2NsZWFyVGltZW91dCkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfE9iamVjdH0gaWQgVGhlIHRpbWVyIGlkIG9yIHRpbWVvdXQgb2JqZWN0IG9mIHRoZSB0aW1lciB0byBjbGVhci5cbiAgICAgKi9cbiAgICB2YXIgY2xlYXJUaW1lb3V0ID0gY3R4Q2xlYXJUaW1lb3V0IHx8IGZ1bmN0aW9uKGlkKSB7XG4gICAgICByZXR1cm4gcm9vdC5jbGVhclRpbWVvdXQoaWQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgIGBidWZmZXJgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0J1ZmZlcn0gYnVmZmVyIFRoZSBidWZmZXIgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNEZWVwXSBTcGVjaWZ5IGEgZGVlcCBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7QnVmZmVyfSBSZXR1cm5zIHRoZSBjbG9uZWQgYnVmZmVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lQnVmZmVyKGJ1ZmZlciwgaXNEZWVwKSB7XG4gICAgICBpZiAoaXNEZWVwKSB7XG4gICAgICAgIHJldHVybiBidWZmZXIuc2xpY2UoKTtcbiAgICAgIH1cbiAgICAgIHZhciBsZW5ndGggPSBidWZmZXIubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IGFsbG9jVW5zYWZlID8gYWxsb2NVbnNhZmUobGVuZ3RoKSA6IG5ldyBidWZmZXIuY29uc3RydWN0b3IobGVuZ3RoKTtcblxuICAgICAgYnVmZmVyLmNvcHkocmVzdWx0KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIGBhcnJheUJ1ZmZlcmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXlCdWZmZXJ9IGFycmF5QnVmZmVyIFRoZSBhcnJheSBidWZmZXIgdG8gY2xvbmUuXG4gICAgICogQHJldHVybnMge0FycmF5QnVmZmVyfSBSZXR1cm5zIHRoZSBjbG9uZWQgYXJyYXkgYnVmZmVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lQXJyYXlCdWZmZXIoYXJyYXlCdWZmZXIpIHtcbiAgICAgIHZhciByZXN1bHQgPSBuZXcgYXJyYXlCdWZmZXIuY29uc3RydWN0b3IoYXJyYXlCdWZmZXIuYnl0ZUxlbmd0aCk7XG4gICAgICBuZXcgVWludDhBcnJheShyZXN1bHQpLnNldChuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlcikpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgYGRhdGFWaWV3YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGFWaWV3IFRoZSBkYXRhIHZpZXcgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNEZWVwXSBTcGVjaWZ5IGEgZGVlcCBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgZGF0YSB2aWV3LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lRGF0YVZpZXcoZGF0YVZpZXcsIGlzRGVlcCkge1xuICAgICAgdmFyIGJ1ZmZlciA9IGlzRGVlcCA/IGNsb25lQXJyYXlCdWZmZXIoZGF0YVZpZXcuYnVmZmVyKSA6IGRhdGFWaWV3LmJ1ZmZlcjtcbiAgICAgIHJldHVybiBuZXcgZGF0YVZpZXcuY29uc3RydWN0b3IoYnVmZmVyLCBkYXRhVmlldy5ieXRlT2Zmc2V0LCBkYXRhVmlldy5ieXRlTGVuZ3RoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgYHJlZ2V4cGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSByZWdleHAgVGhlIHJlZ2V4cCB0byBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgcmVnZXhwLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lUmVnRXhwKHJlZ2V4cCkge1xuICAgICAgdmFyIHJlc3VsdCA9IG5ldyByZWdleHAuY29uc3RydWN0b3IocmVnZXhwLnNvdXJjZSwgcmVGbGFncy5leGVjKHJlZ2V4cCkpO1xuICAgICAgcmVzdWx0Lmxhc3RJbmRleCA9IHJlZ2V4cC5sYXN0SW5kZXg7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGUgYHN5bWJvbGAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3ltYm9sIFRoZSBzeW1ib2wgb2JqZWN0IHRvIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNsb25lZCBzeW1ib2wgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lU3ltYm9sKHN5bWJvbCkge1xuICAgICAgcmV0dXJuIHN5bWJvbFZhbHVlT2YgPyBPYmplY3Qoc3ltYm9sVmFsdWVPZi5jYWxsKHN5bWJvbCkpIDoge307XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIGB0eXBlZEFycmF5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHR5cGVkQXJyYXkgVGhlIHR5cGVkIGFycmF5IHRvIGNsb25lLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRGVlcF0gU3BlY2lmeSBhIGRlZXAgY2xvbmUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIHR5cGVkIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lVHlwZWRBcnJheSh0eXBlZEFycmF5LCBpc0RlZXApIHtcbiAgICAgIHZhciBidWZmZXIgPSBpc0RlZXAgPyBjbG9uZUFycmF5QnVmZmVyKHR5cGVkQXJyYXkuYnVmZmVyKSA6IHR5cGVkQXJyYXkuYnVmZmVyO1xuICAgICAgcmV0dXJuIG5ldyB0eXBlZEFycmF5LmNvbnN0cnVjdG9yKGJ1ZmZlciwgdHlwZWRBcnJheS5ieXRlT2Zmc2V0LCB0eXBlZEFycmF5Lmxlbmd0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tcGFyZXMgdmFsdWVzIHRvIHNvcnQgdGhlbSBpbiBhc2NlbmRpbmcgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzb3J0IG9yZGVyIGluZGljYXRvciBmb3IgYHZhbHVlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21wYXJlQXNjZW5kaW5nKHZhbHVlLCBvdGhlcikge1xuICAgICAgaWYgKHZhbHVlICE9PSBvdGhlcikge1xuICAgICAgICB2YXIgdmFsSXNEZWZpbmVkID0gdmFsdWUgIT09IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHZhbElzTnVsbCA9IHZhbHVlID09PSBudWxsLFxuICAgICAgICAgICAgdmFsSXNSZWZsZXhpdmUgPSB2YWx1ZSA9PT0gdmFsdWUsXG4gICAgICAgICAgICB2YWxJc1N5bWJvbCA9IGlzU3ltYm9sKHZhbHVlKTtcblxuICAgICAgICB2YXIgb3RoSXNEZWZpbmVkID0gb3RoZXIgIT09IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIG90aElzTnVsbCA9IG90aGVyID09PSBudWxsLFxuICAgICAgICAgICAgb3RoSXNSZWZsZXhpdmUgPSBvdGhlciA9PT0gb3RoZXIsXG4gICAgICAgICAgICBvdGhJc1N5bWJvbCA9IGlzU3ltYm9sKG90aGVyKTtcblxuICAgICAgICBpZiAoKCFvdGhJc051bGwgJiYgIW90aElzU3ltYm9sICYmICF2YWxJc1N5bWJvbCAmJiB2YWx1ZSA+IG90aGVyKSB8fFxuICAgICAgICAgICAgKHZhbElzU3ltYm9sICYmIG90aElzRGVmaW5lZCAmJiBvdGhJc1JlZmxleGl2ZSAmJiAhb3RoSXNOdWxsICYmICFvdGhJc1N5bWJvbCkgfHxcbiAgICAgICAgICAgICh2YWxJc051bGwgJiYgb3RoSXNEZWZpbmVkICYmIG90aElzUmVmbGV4aXZlKSB8fFxuICAgICAgICAgICAgKCF2YWxJc0RlZmluZWQgJiYgb3RoSXNSZWZsZXhpdmUpIHx8XG4gICAgICAgICAgICAhdmFsSXNSZWZsZXhpdmUpIHtcbiAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKCF2YWxJc051bGwgJiYgIXZhbElzU3ltYm9sICYmICFvdGhJc1N5bWJvbCAmJiB2YWx1ZSA8IG90aGVyKSB8fFxuICAgICAgICAgICAgKG90aElzU3ltYm9sICYmIHZhbElzRGVmaW5lZCAmJiB2YWxJc1JlZmxleGl2ZSAmJiAhdmFsSXNOdWxsICYmICF2YWxJc1N5bWJvbCkgfHxcbiAgICAgICAgICAgIChvdGhJc051bGwgJiYgdmFsSXNEZWZpbmVkICYmIHZhbElzUmVmbGV4aXZlKSB8fFxuICAgICAgICAgICAgKCFvdGhJc0RlZmluZWQgJiYgdmFsSXNSZWZsZXhpdmUpIHx8XG4gICAgICAgICAgICAhb3RoSXNSZWZsZXhpdmUpIHtcbiAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZWQgYnkgYF8ub3JkZXJCeWAgdG8gY29tcGFyZSBtdWx0aXBsZSBwcm9wZXJ0aWVzIG9mIGEgdmFsdWUgdG8gYW5vdGhlclxuICAgICAqIGFuZCBzdGFibGUgc29ydCB0aGVtLlxuICAgICAqXG4gICAgICogSWYgYG9yZGVyc2AgaXMgdW5zcGVjaWZpZWQsIGFsbCB2YWx1ZXMgYXJlIHNvcnRlZCBpbiBhc2NlbmRpbmcgb3JkZXIuIE90aGVyd2lzZSxcbiAgICAgKiBzcGVjaWZ5IGFuIG9yZGVyIG9mIFwiZGVzY1wiIGZvciBkZXNjZW5kaW5nIG9yIFwiYXNjXCIgZm9yIGFzY2VuZGluZyBzb3J0IG9yZGVyXG4gICAgICogb2YgY29ycmVzcG9uZGluZyB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtib29sZWFuW118c3RyaW5nW119IG9yZGVycyBUaGUgb3JkZXIgdG8gc29ydCBieSBmb3IgZWFjaCBwcm9wZXJ0eS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzb3J0IG9yZGVyIGluZGljYXRvciBmb3IgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29tcGFyZU11bHRpcGxlKG9iamVjdCwgb3RoZXIsIG9yZGVycykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgb2JqQ3JpdGVyaWEgPSBvYmplY3QuY3JpdGVyaWEsXG4gICAgICAgICAgb3RoQ3JpdGVyaWEgPSBvdGhlci5jcml0ZXJpYSxcbiAgICAgICAgICBsZW5ndGggPSBvYmpDcml0ZXJpYS5sZW5ndGgsXG4gICAgICAgICAgb3JkZXJzTGVuZ3RoID0gb3JkZXJzLmxlbmd0aDtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGNvbXBhcmVBc2NlbmRpbmcob2JqQ3JpdGVyaWFbaW5kZXhdLCBvdGhDcml0ZXJpYVtpbmRleF0pO1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgaWYgKGluZGV4ID49IG9yZGVyc0xlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIG9yZGVyID0gb3JkZXJzW2luZGV4XTtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0ICogKG9yZGVyID09ICdkZXNjJyA/IC0xIDogMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIEZpeGVzIGFuIGBBcnJheSNzb3J0YCBidWcgaW4gdGhlIEpTIGVuZ2luZSBlbWJlZGRlZCBpbiBBZG9iZSBhcHBsaWNhdGlvbnNcbiAgICAgIC8vIHRoYXQgY2F1c2VzIGl0LCB1bmRlciBjZXJ0YWluIGNpcmN1bXN0YW5jZXMsIHRvIHByb3ZpZGUgdGhlIHNhbWUgdmFsdWUgZm9yXG4gICAgICAvLyBgb2JqZWN0YCBhbmQgYG90aGVyYC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9qYXNoa2VuYXMvdW5kZXJzY29yZS9wdWxsLzEyNDdcbiAgICAgIC8vIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICAvL1xuICAgICAgLy8gVGhpcyBhbHNvIGVuc3VyZXMgYSBzdGFibGUgc29ydCBpbiBWOCBhbmQgb3RoZXIgZW5naW5lcy5cbiAgICAgIC8vIFNlZSBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD05MCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgcmV0dXJuIG9iamVjdC5pbmRleCAtIG90aGVyLmluZGV4O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgdGhhdCBpcyB0aGUgY29tcG9zaXRpb24gb2YgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzLFxuICAgICAqIHBsYWNlaG9sZGVycywgYW5kIHByb3ZpZGVkIGFyZ3VtZW50cyBpbnRvIGEgc2luZ2xlIGFycmF5IG9mIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJncyBUaGUgcHJvdmlkZWQgYXJndW1lbnRzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhcnRpYWxzIFRoZSBhcmd1bWVudHMgdG8gcHJlcGVuZCB0byB0aG9zZSBwcm92aWRlZC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBob2xkZXJzIFRoZSBgcGFydGlhbHNgIHBsYWNlaG9sZGVyIGluZGV4ZXMuXG4gICAgICogQHBhcmFtcyB7Ym9vbGVhbn0gW2lzQ3VycmllZF0gU3BlY2lmeSBjb21wb3NpbmcgZm9yIGEgY3VycmllZCBmdW5jdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBjb21wb3NlZCBhcmd1bWVudHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29tcG9zZUFyZ3MoYXJncywgcGFydGlhbHMsIGhvbGRlcnMsIGlzQ3VycmllZCkge1xuICAgICAgdmFyIGFyZ3NJbmRleCA9IC0xLFxuICAgICAgICAgIGFyZ3NMZW5ndGggPSBhcmdzLmxlbmd0aCxcbiAgICAgICAgICBob2xkZXJzTGVuZ3RoID0gaG9sZGVycy5sZW5ndGgsXG4gICAgICAgICAgbGVmdEluZGV4ID0gLTEsXG4gICAgICAgICAgbGVmdExlbmd0aCA9IHBhcnRpYWxzLmxlbmd0aCxcbiAgICAgICAgICByYW5nZUxlbmd0aCA9IG5hdGl2ZU1heChhcmdzTGVuZ3RoIC0gaG9sZGVyc0xlbmd0aCwgMCksXG4gICAgICAgICAgcmVzdWx0ID0gQXJyYXkobGVmdExlbmd0aCArIHJhbmdlTGVuZ3RoKSxcbiAgICAgICAgICBpc1VuY3VycmllZCA9ICFpc0N1cnJpZWQ7XG5cbiAgICAgIHdoaWxlICgrK2xlZnRJbmRleCA8IGxlZnRMZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0W2xlZnRJbmRleF0gPSBwYXJ0aWFsc1tsZWZ0SW5kZXhdO1xuICAgICAgfVxuICAgICAgd2hpbGUgKCsrYXJnc0luZGV4IDwgaG9sZGVyc0xlbmd0aCkge1xuICAgICAgICBpZiAoaXNVbmN1cnJpZWQgfHwgYXJnc0luZGV4IDwgYXJnc0xlbmd0aCkge1xuICAgICAgICAgIHJlc3VsdFtob2xkZXJzW2FyZ3NJbmRleF1dID0gYXJnc1thcmdzSW5kZXhdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB3aGlsZSAocmFuZ2VMZW5ndGgtLSkge1xuICAgICAgICByZXN1bHRbbGVmdEluZGV4KytdID0gYXJnc1thcmdzSW5kZXgrK107XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZSBgY29tcG9zZUFyZ3NgIGV4Y2VwdCB0aGF0IHRoZSBhcmd1bWVudHMgY29tcG9zaXRpb25cbiAgICAgKiBpcyB0YWlsb3JlZCBmb3IgYF8ucGFydGlhbFJpZ2h0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJncyBUaGUgcHJvdmlkZWQgYXJndW1lbnRzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhcnRpYWxzIFRoZSBhcmd1bWVudHMgdG8gYXBwZW5kIHRvIHRob3NlIHByb3ZpZGVkLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGhvbGRlcnMgVGhlIGBwYXJ0aWFsc2AgcGxhY2Vob2xkZXIgaW5kZXhlcy5cbiAgICAgKiBAcGFyYW1zIHtib29sZWFufSBbaXNDdXJyaWVkXSBTcGVjaWZ5IGNvbXBvc2luZyBmb3IgYSBjdXJyaWVkIGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGNvbXBvc2VkIGFyZ3VtZW50cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21wb3NlQXJnc1JpZ2h0KGFyZ3MsIHBhcnRpYWxzLCBob2xkZXJzLCBpc0N1cnJpZWQpIHtcbiAgICAgIHZhciBhcmdzSW5kZXggPSAtMSxcbiAgICAgICAgICBhcmdzTGVuZ3RoID0gYXJncy5sZW5ndGgsXG4gICAgICAgICAgaG9sZGVyc0luZGV4ID0gLTEsXG4gICAgICAgICAgaG9sZGVyc0xlbmd0aCA9IGhvbGRlcnMubGVuZ3RoLFxuICAgICAgICAgIHJpZ2h0SW5kZXggPSAtMSxcbiAgICAgICAgICByaWdodExlbmd0aCA9IHBhcnRpYWxzLmxlbmd0aCxcbiAgICAgICAgICByYW5nZUxlbmd0aCA9IG5hdGl2ZU1heChhcmdzTGVuZ3RoIC0gaG9sZGVyc0xlbmd0aCwgMCksXG4gICAgICAgICAgcmVzdWx0ID0gQXJyYXkocmFuZ2VMZW5ndGggKyByaWdodExlbmd0aCksXG4gICAgICAgICAgaXNVbmN1cnJpZWQgPSAhaXNDdXJyaWVkO1xuXG4gICAgICB3aGlsZSAoKythcmdzSW5kZXggPCByYW5nZUxlbmd0aCkge1xuICAgICAgICByZXN1bHRbYXJnc0luZGV4XSA9IGFyZ3NbYXJnc0luZGV4XTtcbiAgICAgIH1cbiAgICAgIHZhciBvZmZzZXQgPSBhcmdzSW5kZXg7XG4gICAgICB3aGlsZSAoKytyaWdodEluZGV4IDwgcmlnaHRMZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0W29mZnNldCArIHJpZ2h0SW5kZXhdID0gcGFydGlhbHNbcmlnaHRJbmRleF07XG4gICAgICB9XG4gICAgICB3aGlsZSAoKytob2xkZXJzSW5kZXggPCBob2xkZXJzTGVuZ3RoKSB7XG4gICAgICAgIGlmIChpc1VuY3VycmllZCB8fCBhcmdzSW5kZXggPCBhcmdzTGVuZ3RoKSB7XG4gICAgICAgICAgcmVzdWx0W29mZnNldCArIGhvbGRlcnNbaG9sZGVyc0luZGV4XV0gPSBhcmdzW2FyZ3NJbmRleCsrXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb3BpZXMgdGhlIHZhbHVlcyBvZiBgc291cmNlYCB0byBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBzb3VyY2UgVGhlIGFycmF5IHRvIGNvcHkgdmFsdWVzIGZyb20uXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5PVtdXSBUaGUgYXJyYXkgdG8gY29weSB2YWx1ZXMgdG8uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29weUFycmF5KHNvdXJjZSwgYXJyYXkpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHNvdXJjZS5sZW5ndGg7XG5cbiAgICAgIGFycmF5IHx8IChhcnJheSA9IEFycmF5KGxlbmd0aCkpO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgYXJyYXlbaW5kZXhdID0gc291cmNlW2luZGV4XTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb3BpZXMgcHJvcGVydGllcyBvZiBgc291cmNlYCB0byBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyBmcm9tLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHByb3BzIFRoZSBwcm9wZXJ0eSBpZGVudGlmaWVycyB0byBjb3B5LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0PXt9XSBUaGUgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyB0by5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb3BpZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29weU9iamVjdChzb3VyY2UsIHByb3BzLCBvYmplY3QsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIHZhciBpc05ldyA9ICFvYmplY3Q7XG4gICAgICBvYmplY3QgfHwgKG9iamVjdCA9IHt9KTtcblxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIga2V5ID0gcHJvcHNbaW5kZXhdO1xuXG4gICAgICAgIHZhciBuZXdWYWx1ZSA9IGN1c3RvbWl6ZXJcbiAgICAgICAgICA/IGN1c3RvbWl6ZXIob2JqZWN0W2tleV0sIHNvdXJjZVtrZXldLCBrZXksIG9iamVjdCwgc291cmNlKVxuICAgICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgICAgIGlmIChuZXdWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgbmV3VmFsdWUgPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNOZXcpIHtcbiAgICAgICAgICBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIG5ld1ZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvcGllcyBvd24gc3ltYm9scyBvZiBgc291cmNlYCB0byBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IHRvIGNvcHkgc3ltYm9scyBmcm9tLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0PXt9XSBUaGUgb2JqZWN0IHRvIGNvcHkgc3ltYm9scyB0by5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvcHlTeW1ib2xzKHNvdXJjZSwgb2JqZWN0KSB7XG4gICAgICByZXR1cm4gY29weU9iamVjdChzb3VyY2UsIGdldFN5bWJvbHMoc291cmNlKSwgb2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb3BpZXMgb3duIGFuZCBpbmhlcml0ZWQgc3ltYm9scyBvZiBgc291cmNlYCB0byBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IHRvIGNvcHkgc3ltYm9scyBmcm9tLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0PXt9XSBUaGUgb2JqZWN0IHRvIGNvcHkgc3ltYm9scyB0by5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvcHlTeW1ib2xzSW4oc291cmNlLCBvYmplY3QpIHtcbiAgICAgIHJldHVybiBjb3B5T2JqZWN0KHNvdXJjZSwgZ2V0U3ltYm9sc0luKHNvdXJjZSksIG9iamVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8uZ3JvdXBCeWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHNldHRlciBUaGUgZnVuY3Rpb24gdG8gc2V0IGFjY3VtdWxhdG9yIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaW5pdGlhbGl6ZXJdIFRoZSBhY2N1bXVsYXRvciBvYmplY3QgaW5pdGlhbGl6ZXIuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWdncmVnYXRvciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVBZ2dyZWdhdG9yKHNldHRlciwgaW5pdGlhbGl6ZXIpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheUFnZ3JlZ2F0b3IgOiBiYXNlQWdncmVnYXRvcixcbiAgICAgICAgICAgIGFjY3VtdWxhdG9yID0gaW5pdGlhbGl6ZXIgPyBpbml0aWFsaXplcigpIDoge307XG5cbiAgICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgc2V0dGVyLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMiksIGFjY3VtdWxhdG9yKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8uYXNzaWduYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gYXNzaWduZXIgVGhlIGZ1bmN0aW9uIHRvIGFzc2lnbiB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYXNzaWduZXIgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQXNzaWduZXIoYXNzaWduZXIpIHtcbiAgICAgIHJldHVybiBiYXNlUmVzdChmdW5jdGlvbihvYmplY3QsIHNvdXJjZXMpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgICBsZW5ndGggPSBzb3VyY2VzLmxlbmd0aCxcbiAgICAgICAgICAgIGN1c3RvbWl6ZXIgPSBsZW5ndGggPiAxID8gc291cmNlc1tsZW5ndGggLSAxXSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGd1YXJkID0gbGVuZ3RoID4gMiA/IHNvdXJjZXNbMl0gOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgY3VzdG9taXplciA9IChhc3NpZ25lci5sZW5ndGggPiAzICYmIHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicpXG4gICAgICAgICAgPyAobGVuZ3RoLS0sIGN1c3RvbWl6ZXIpXG4gICAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgaWYgKGd1YXJkICYmIGlzSXRlcmF0ZWVDYWxsKHNvdXJjZXNbMF0sIHNvdXJjZXNbMV0sIGd1YXJkKSkge1xuICAgICAgICAgIGN1c3RvbWl6ZXIgPSBsZW5ndGggPCAzID8gdW5kZWZpbmVkIDogY3VzdG9taXplcjtcbiAgICAgICAgICBsZW5ndGggPSAxO1xuICAgICAgICB9XG4gICAgICAgIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIHZhciBzb3VyY2UgPSBzb3VyY2VzW2luZGV4XTtcbiAgICAgICAgICBpZiAoc291cmNlKSB7XG4gICAgICAgICAgICBhc3NpZ25lcihvYmplY3QsIHNvdXJjZSwgaW5kZXgsIGN1c3RvbWl6ZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBiYXNlRWFjaGAgb3IgYGJhc2VFYWNoUmlnaHRgIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlYWNoRnVuYyBUaGUgZnVuY3Rpb24gdG8gaXRlcmF0ZSBvdmVyIGEgY29sbGVjdGlvbi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBiYXNlIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUJhc2VFYWNoKGVhY2hGdW5jLCBmcm9tUmlnaHQpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgICBpZiAoY29sbGVjdGlvbiA9PSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIGNvbGxlY3Rpb247XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0FycmF5TGlrZShjb2xsZWN0aW9uKSkge1xuICAgICAgICAgIHJldHVybiBlYWNoRnVuYyhjb2xsZWN0aW9uLCBpdGVyYXRlZSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxlbmd0aCA9IGNvbGxlY3Rpb24ubGVuZ3RoLFxuICAgICAgICAgICAgaW5kZXggPSBmcm9tUmlnaHQgPyBsZW5ndGggOiAtMSxcbiAgICAgICAgICAgIGl0ZXJhYmxlID0gT2JqZWN0KGNvbGxlY3Rpb24pO1xuXG4gICAgICAgIHdoaWxlICgoZnJvbVJpZ2h0ID8gaW5kZXgtLSA6ICsraW5kZXggPCBsZW5ndGgpKSB7XG4gICAgICAgICAgaWYgKGl0ZXJhdGVlKGl0ZXJhYmxlW2luZGV4XSwgaW5kZXgsIGl0ZXJhYmxlKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29sbGVjdGlvbjtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGJhc2UgZnVuY3Rpb24gZm9yIG1ldGhvZHMgbGlrZSBgXy5mb3JJbmAgYW5kIGBfLmZvck93bmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGJhc2UgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQmFzZUZvcihmcm9tUmlnaHQpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QsIGl0ZXJhdGVlLCBrZXlzRnVuYykge1xuICAgICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICAgIGl0ZXJhYmxlID0gT2JqZWN0KG9iamVjdCksXG4gICAgICAgICAgICBwcm9wcyA9IGtleXNGdW5jKG9iamVjdCksXG4gICAgICAgICAgICBsZW5ndGggPSBwcm9wcy5sZW5ndGg7XG5cbiAgICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgICAgdmFyIGtleSA9IHByb3BzW2Zyb21SaWdodCA/IGxlbmd0aCA6ICsraW5kZXhdO1xuICAgICAgICAgIGlmIChpdGVyYXRlZShpdGVyYWJsZVtrZXldLCBrZXksIGl0ZXJhYmxlKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCB3cmFwcyBgZnVuY2AgdG8gaW52b2tlIGl0IHdpdGggdGhlIG9wdGlvbmFsIGB0aGlzYFxuICAgICAqIGJpbmRpbmcgb2YgYHRoaXNBcmdgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB3cmFwcGVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUJpbmQoZnVuYywgYml0bWFzaywgdGhpc0FyZykge1xuICAgICAgdmFyIGlzQmluZCA9IGJpdG1hc2sgJiBXUkFQX0JJTkRfRkxBRyxcbiAgICAgICAgICBDdG9yID0gY3JlYXRlQ3RvcihmdW5jKTtcblxuICAgICAgZnVuY3Rpb24gd3JhcHBlcigpIHtcbiAgICAgICAgdmFyIGZuID0gKHRoaXMgJiYgdGhpcyAhPT0gcm9vdCAmJiB0aGlzIGluc3RhbmNlb2Ygd3JhcHBlcikgPyBDdG9yIDogZnVuYztcbiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KGlzQmluZCA/IHRoaXNBcmcgOiB0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHdyYXBwZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8ubG93ZXJGaXJzdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2ROYW1lIFRoZSBuYW1lIG9mIHRoZSBgU3RyaW5nYCBjYXNlIG1ldGhvZCB0byB1c2UuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY2FzZSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVDYXNlRmlyc3QobWV0aG9kTmFtZSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHN0cmluZykge1xuICAgICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuXG4gICAgICAgIHZhciBzdHJTeW1ib2xzID0gaGFzVW5pY29kZShzdHJpbmcpXG4gICAgICAgICAgPyBzdHJpbmdUb0FycmF5KHN0cmluZylcbiAgICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgICB2YXIgY2hyID0gc3RyU3ltYm9sc1xuICAgICAgICAgID8gc3RyU3ltYm9sc1swXVxuICAgICAgICAgIDogc3RyaW5nLmNoYXJBdCgwKTtcblxuICAgICAgICB2YXIgdHJhaWxpbmcgPSBzdHJTeW1ib2xzXG4gICAgICAgICAgPyBjYXN0U2xpY2Uoc3RyU3ltYm9scywgMSkuam9pbignJylcbiAgICAgICAgICA6IHN0cmluZy5zbGljZSgxKTtcblxuICAgICAgICByZXR1cm4gY2hyW21ldGhvZE5hbWVdKCkgKyB0cmFpbGluZztcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8uY2FtZWxDYXNlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGZ1bmN0aW9uIHRvIGNvbWJpbmUgZWFjaCB3b3JkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbXBvdW5kZXIgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQ29tcG91bmRlcihjYWxsYmFjaykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHN0cmluZykge1xuICAgICAgICByZXR1cm4gYXJyYXlSZWR1Y2Uod29yZHMoZGVidXJyKHN0cmluZykucmVwbGFjZShyZUFwb3MsICcnKSksIGNhbGxiYWNrLCAnJyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHByb2R1Y2VzIGFuIGluc3RhbmNlIG9mIGBDdG9yYCByZWdhcmRsZXNzIG9mXG4gICAgICogd2hldGhlciBpdCB3YXMgaW52b2tlZCBhcyBwYXJ0IG9mIGEgYG5ld2AgZXhwcmVzc2lvbiBvciBieSBgY2FsbGAgb3IgYGFwcGx5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gQ3RvciBUaGUgY29uc3RydWN0b3IgdG8gd3JhcC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB3cmFwcGVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUN0b3IoQ3Rvcikge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBVc2UgYSBgc3dpdGNoYCBzdGF0ZW1lbnQgdG8gd29yayB3aXRoIGNsYXNzIGNvbnN0cnVjdG9ycy4gU2VlXG4gICAgICAgIC8vIGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLWVjbWFzY3JpcHQtZnVuY3Rpb24tb2JqZWN0cy1jYWxsLXRoaXNhcmd1bWVudC1hcmd1bWVudHNsaXN0XG4gICAgICAgIC8vIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgICBzd2l0Y2ggKGFyZ3MubGVuZ3RoKSB7XG4gICAgICAgICAgY2FzZSAwOiByZXR1cm4gbmV3IEN0b3I7XG4gICAgICAgICAgY2FzZSAxOiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSk7XG4gICAgICAgICAgY2FzZSAyOiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSwgYXJnc1sxXSk7XG4gICAgICAgICAgY2FzZSAzOiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgICAgICAgY2FzZSA0OiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSk7XG4gICAgICAgICAgY2FzZSA1OiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSwgYXJnc1s0XSk7XG4gICAgICAgICAgY2FzZSA2OiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSwgYXJnc1s0XSwgYXJnc1s1XSk7XG4gICAgICAgICAgY2FzZSA3OiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSwgYXJnc1s0XSwgYXJnc1s1XSwgYXJnc1s2XSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRoaXNCaW5kaW5nID0gYmFzZUNyZWF0ZShDdG9yLnByb3RvdHlwZSksXG4gICAgICAgICAgICByZXN1bHQgPSBDdG9yLmFwcGx5KHRoaXNCaW5kaW5nLCBhcmdzKTtcblxuICAgICAgICAvLyBNaW1pYyB0aGUgY29uc3RydWN0b3IncyBgcmV0dXJuYCBiZWhhdmlvci5cbiAgICAgICAgLy8gU2VlIGh0dHBzOi8vZXM1LmdpdGh1Yi5pby8jeDEzLjIuMiBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgICByZXR1cm4gaXNPYmplY3QocmVzdWx0KSA/IHJlc3VsdCA6IHRoaXNCaW5kaW5nO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCB3cmFwcyBgZnVuY2AgdG8gZW5hYmxlIGN1cnJ5aW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFyaXR5IFRoZSBhcml0eSBvZiBgZnVuY2AuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgd3JhcHBlZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVDdXJyeShmdW5jLCBiaXRtYXNrLCBhcml0eSkge1xuICAgICAgdmFyIEN0b3IgPSBjcmVhdGVDdG9yKGZ1bmMpO1xuXG4gICAgICBmdW5jdGlvbiB3cmFwcGVyKCkge1xuICAgICAgICB2YXIgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCxcbiAgICAgICAgICAgIGFyZ3MgPSBBcnJheShsZW5ndGgpLFxuICAgICAgICAgICAgaW5kZXggPSBsZW5ndGgsXG4gICAgICAgICAgICBwbGFjZWhvbGRlciA9IGdldEhvbGRlcih3cmFwcGVyKTtcblxuICAgICAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgICAgIGFyZ3NbaW5kZXhdID0gYXJndW1lbnRzW2luZGV4XTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaG9sZGVycyA9IChsZW5ndGggPCAzICYmIGFyZ3NbMF0gIT09IHBsYWNlaG9sZGVyICYmIGFyZ3NbbGVuZ3RoIC0gMV0gIT09IHBsYWNlaG9sZGVyKVxuICAgICAgICAgID8gW11cbiAgICAgICAgICA6IHJlcGxhY2VIb2xkZXJzKGFyZ3MsIHBsYWNlaG9sZGVyKTtcblxuICAgICAgICBsZW5ndGggLT0gaG9sZGVycy5sZW5ndGg7XG4gICAgICAgIGlmIChsZW5ndGggPCBhcml0eSkge1xuICAgICAgICAgIHJldHVybiBjcmVhdGVSZWN1cnJ5KFxuICAgICAgICAgICAgZnVuYywgYml0bWFzaywgY3JlYXRlSHlicmlkLCB3cmFwcGVyLnBsYWNlaG9sZGVyLCB1bmRlZmluZWQsXG4gICAgICAgICAgICBhcmdzLCBob2xkZXJzLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYXJpdHkgLSBsZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBmbiA9ICh0aGlzICYmIHRoaXMgIT09IHJvb3QgJiYgdGhpcyBpbnN0YW5jZW9mIHdyYXBwZXIpID8gQ3RvciA6IGZ1bmM7XG4gICAgICAgIHJldHVybiBhcHBseShmbiwgdGhpcywgYXJncyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gd3JhcHBlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYF8uZmluZGAgb3IgYF8uZmluZExhc3RgIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmaW5kSW5kZXhGdW5jIFRoZSBmdW5jdGlvbiB0byBmaW5kIHRoZSBjb2xsZWN0aW9uIGluZGV4LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZpbmQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlRmluZChmaW5kSW5kZXhGdW5jKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oY29sbGVjdGlvbiwgcHJlZGljYXRlLCBmcm9tSW5kZXgpIHtcbiAgICAgICAgdmFyIGl0ZXJhYmxlID0gT2JqZWN0KGNvbGxlY3Rpb24pO1xuICAgICAgICBpZiAoIWlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pKSB7XG4gICAgICAgICAgdmFyIGl0ZXJhdGVlID0gZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKTtcbiAgICAgICAgICBjb2xsZWN0aW9uID0ga2V5cyhjb2xsZWN0aW9uKTtcbiAgICAgICAgICBwcmVkaWNhdGUgPSBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIGl0ZXJhdGVlKGl0ZXJhYmxlW2tleV0sIGtleSwgaXRlcmFibGUpOyB9O1xuICAgICAgICB9XG4gICAgICAgIHZhciBpbmRleCA9IGZpbmRJbmRleEZ1bmMoY29sbGVjdGlvbiwgcHJlZGljYXRlLCBmcm9tSW5kZXgpO1xuICAgICAgICByZXR1cm4gaW5kZXggPiAtMSA/IGl0ZXJhYmxlW2l0ZXJhdGVlID8gY29sbGVjdGlvbltpbmRleF0gOiBpbmRleF0gOiB1bmRlZmluZWQ7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgXy5mbG93YCBvciBgXy5mbG93UmlnaHRgIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmbG93IGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUZsb3coZnJvbVJpZ2h0KSB7XG4gICAgICByZXR1cm4gZmxhdFJlc3QoZnVuY3Rpb24oZnVuY3MpIHtcbiAgICAgICAgdmFyIGxlbmd0aCA9IGZ1bmNzLmxlbmd0aCxcbiAgICAgICAgICAgIGluZGV4ID0gbGVuZ3RoLFxuICAgICAgICAgICAgcHJlcmVxID0gTG9kYXNoV3JhcHBlci5wcm90b3R5cGUudGhydTtcblxuICAgICAgICBpZiAoZnJvbVJpZ2h0KSB7XG4gICAgICAgICAgZnVuY3MucmV2ZXJzZSgpO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChpbmRleC0tKSB7XG4gICAgICAgICAgdmFyIGZ1bmMgPSBmdW5jc1tpbmRleF07XG4gICAgICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHByZXJlcSAmJiAhd3JhcHBlciAmJiBnZXRGdW5jTmFtZShmdW5jKSA9PSAnd3JhcHBlcicpIHtcbiAgICAgICAgICAgIHZhciB3cmFwcGVyID0gbmV3IExvZGFzaFdyYXBwZXIoW10sIHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpbmRleCA9IHdyYXBwZXIgPyBpbmRleCA6IGxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICBmdW5jID0gZnVuY3NbaW5kZXhdO1xuXG4gICAgICAgICAgdmFyIGZ1bmNOYW1lID0gZ2V0RnVuY05hbWUoZnVuYyksXG4gICAgICAgICAgICAgIGRhdGEgPSBmdW5jTmFtZSA9PSAnd3JhcHBlcicgPyBnZXREYXRhKGZ1bmMpIDogdW5kZWZpbmVkO1xuXG4gICAgICAgICAgaWYgKGRhdGEgJiYgaXNMYXppYWJsZShkYXRhWzBdKSAmJlxuICAgICAgICAgICAgICAgIGRhdGFbMV0gPT0gKFdSQVBfQVJZX0ZMQUcgfCBXUkFQX0NVUlJZX0ZMQUcgfCBXUkFQX1BBUlRJQUxfRkxBRyB8IFdSQVBfUkVBUkdfRkxBRykgJiZcbiAgICAgICAgICAgICAgICAhZGF0YVs0XS5sZW5ndGggJiYgZGF0YVs5XSA9PSAxXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgd3JhcHBlciA9IHdyYXBwZXJbZ2V0RnVuY05hbWUoZGF0YVswXSldLmFwcGx5KHdyYXBwZXIsIGRhdGFbM10pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3cmFwcGVyID0gKGZ1bmMubGVuZ3RoID09IDEgJiYgaXNMYXppYWJsZShmdW5jKSlcbiAgICAgICAgICAgICAgPyB3cmFwcGVyW2Z1bmNOYW1lXSgpXG4gICAgICAgICAgICAgIDogd3JhcHBlci50aHJ1KGZ1bmMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsXG4gICAgICAgICAgICAgIHZhbHVlID0gYXJnc1swXTtcblxuICAgICAgICAgIGlmICh3cmFwcGVyICYmIGFyZ3MubGVuZ3RoID09IDEgJiYgaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB3cmFwcGVyLnBsYW50KHZhbHVlKS52YWx1ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgaW5kZXggPSAwLFxuICAgICAgICAgICAgICByZXN1bHQgPSBsZW5ndGggPyBmdW5jc1tpbmRleF0uYXBwbHkodGhpcywgYXJncykgOiB2YWx1ZTtcblxuICAgICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBmdW5jc1tpbmRleF0uY2FsbCh0aGlzLCByZXN1bHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgd3JhcHMgYGZ1bmNgIHRvIGludm9rZSBpdCB3aXRoIG9wdGlvbmFsIGB0aGlzYFxuICAgICAqIGJpbmRpbmcgb2YgYHRoaXNBcmdgLCBwYXJ0aWFsIGFwcGxpY2F0aW9uLCBhbmQgY3VycnlpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258c3RyaW5nfSBmdW5jIFRoZSBmdW5jdGlvbiBvciBtZXRob2QgbmFtZSB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gcHJlcGVuZCB0byB0aG9zZSBwcm92aWRlZCB0b1xuICAgICAqICB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtob2xkZXJzXSBUaGUgYHBhcnRpYWxzYCBwbGFjZWhvbGRlciBpbmRleGVzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwYXJ0aWFsc1JpZ2h0XSBUaGUgYXJndW1lbnRzIHRvIGFwcGVuZCB0byB0aG9zZSBwcm92aWRlZFxuICAgICAqICB0byB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtob2xkZXJzUmlnaHRdIFRoZSBgcGFydGlhbHNSaWdodGAgcGxhY2Vob2xkZXIgaW5kZXhlcy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbYXJnUG9zXSBUaGUgYXJndW1lbnQgcG9zaXRpb25zIG9mIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcnldIFRoZSBhcml0eSBjYXAgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJpdHldIFRoZSBhcml0eSBvZiBgZnVuY2AuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgd3JhcHBlZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVIeWJyaWQoZnVuYywgYml0bWFzaywgdGhpc0FyZywgcGFydGlhbHMsIGhvbGRlcnMsIHBhcnRpYWxzUmlnaHQsIGhvbGRlcnNSaWdodCwgYXJnUG9zLCBhcnksIGFyaXR5KSB7XG4gICAgICB2YXIgaXNBcnkgPSBiaXRtYXNrICYgV1JBUF9BUllfRkxBRyxcbiAgICAgICAgICBpc0JpbmQgPSBiaXRtYXNrICYgV1JBUF9CSU5EX0ZMQUcsXG4gICAgICAgICAgaXNCaW5kS2V5ID0gYml0bWFzayAmIFdSQVBfQklORF9LRVlfRkxBRyxcbiAgICAgICAgICBpc0N1cnJpZWQgPSBiaXRtYXNrICYgKFdSQVBfQ1VSUllfRkxBRyB8IFdSQVBfQ1VSUllfUklHSFRfRkxBRyksXG4gICAgICAgICAgaXNGbGlwID0gYml0bWFzayAmIFdSQVBfRkxJUF9GTEFHLFxuICAgICAgICAgIEN0b3IgPSBpc0JpbmRLZXkgPyB1bmRlZmluZWQgOiBjcmVhdGVDdG9yKGZ1bmMpO1xuXG4gICAgICBmdW5jdGlvbiB3cmFwcGVyKCkge1xuICAgICAgICB2YXIgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCxcbiAgICAgICAgICAgIGFyZ3MgPSBBcnJheShsZW5ndGgpLFxuICAgICAgICAgICAgaW5kZXggPSBsZW5ndGg7XG5cbiAgICAgICAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICAgICAgICBhcmdzW2luZGV4XSA9IGFyZ3VtZW50c1tpbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQ3VycmllZCkge1xuICAgICAgICAgIHZhciBwbGFjZWhvbGRlciA9IGdldEhvbGRlcih3cmFwcGVyKSxcbiAgICAgICAgICAgICAgaG9sZGVyc0NvdW50ID0gY291bnRIb2xkZXJzKGFyZ3MsIHBsYWNlaG9sZGVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFydGlhbHMpIHtcbiAgICAgICAgICBhcmdzID0gY29tcG9zZUFyZ3MoYXJncywgcGFydGlhbHMsIGhvbGRlcnMsIGlzQ3VycmllZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcnRpYWxzUmlnaHQpIHtcbiAgICAgICAgICBhcmdzID0gY29tcG9zZUFyZ3NSaWdodChhcmdzLCBwYXJ0aWFsc1JpZ2h0LCBob2xkZXJzUmlnaHQsIGlzQ3VycmllZCk7XG4gICAgICAgIH1cbiAgICAgICAgbGVuZ3RoIC09IGhvbGRlcnNDb3VudDtcbiAgICAgICAgaWYgKGlzQ3VycmllZCAmJiBsZW5ndGggPCBhcml0eSkge1xuICAgICAgICAgIHZhciBuZXdIb2xkZXJzID0gcmVwbGFjZUhvbGRlcnMoYXJncywgcGxhY2Vob2xkZXIpO1xuICAgICAgICAgIHJldHVybiBjcmVhdGVSZWN1cnJ5KFxuICAgICAgICAgICAgZnVuYywgYml0bWFzaywgY3JlYXRlSHlicmlkLCB3cmFwcGVyLnBsYWNlaG9sZGVyLCB0aGlzQXJnLFxuICAgICAgICAgICAgYXJncywgbmV3SG9sZGVycywgYXJnUG9zLCBhcnksIGFyaXR5IC0gbGVuZ3RoXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdGhpc0JpbmRpbmcgPSBpc0JpbmQgPyB0aGlzQXJnIDogdGhpcyxcbiAgICAgICAgICAgIGZuID0gaXNCaW5kS2V5ID8gdGhpc0JpbmRpbmdbZnVuY10gOiBmdW5jO1xuXG4gICAgICAgIGxlbmd0aCA9IGFyZ3MubGVuZ3RoO1xuICAgICAgICBpZiAoYXJnUG9zKSB7XG4gICAgICAgICAgYXJncyA9IHJlb3JkZXIoYXJncywgYXJnUG9zKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0ZsaXAgJiYgbGVuZ3RoID4gMSkge1xuICAgICAgICAgIGFyZ3MucmV2ZXJzZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0FyeSAmJiBhcnkgPCBsZW5ndGgpIHtcbiAgICAgICAgICBhcmdzLmxlbmd0aCA9IGFyeTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcyAmJiB0aGlzICE9PSByb290ICYmIHRoaXMgaW5zdGFuY2VvZiB3cmFwcGVyKSB7XG4gICAgICAgICAgZm4gPSBDdG9yIHx8IGNyZWF0ZUN0b3IoZm4pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmbi5hcHBseSh0aGlzQmluZGluZywgYXJncyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gd3JhcHBlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5pbnZlcnRCeWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHNldHRlciBUaGUgZnVuY3Rpb24gdG8gc2V0IGFjY3VtdWxhdG9yIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB0b0l0ZXJhdGVlIFRoZSBmdW5jdGlvbiB0byByZXNvbHZlIGl0ZXJhdGVlcy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBpbnZlcnRlciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVJbnZlcnRlcihzZXR0ZXIsIHRvSXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICAgIHJldHVybiBiYXNlSW52ZXJ0ZXIob2JqZWN0LCBzZXR0ZXIsIHRvSXRlcmF0ZWUoaXRlcmF0ZWUpLCB7fSk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHBlcmZvcm1zIGEgbWF0aGVtYXRpY2FsIG9wZXJhdGlvbiBvbiB0d28gdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvcGVyYXRvciBUaGUgZnVuY3Rpb24gdG8gcGVyZm9ybSB0aGUgb3BlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZGVmYXVsdFZhbHVlXSBUaGUgdmFsdWUgdXNlZCBmb3IgYHVuZGVmaW5lZGAgYXJndW1lbnRzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IG1hdGhlbWF0aWNhbCBvcGVyYXRpb24gZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlTWF0aE9wZXJhdGlvbihvcGVyYXRvciwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24odmFsdWUsIG90aGVyKSB7XG4gICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkICYmIG90aGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG90aGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBpZiAocmVzdWx0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBvdGhlcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJyB8fCB0eXBlb2Ygb3RoZXIgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHZhbHVlID0gYmFzZVRvU3RyaW5nKHZhbHVlKTtcbiAgICAgICAgICAgIG90aGVyID0gYmFzZVRvU3RyaW5nKG90aGVyKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFsdWUgPSBiYXNlVG9OdW1iZXIodmFsdWUpO1xuICAgICAgICAgICAgb3RoZXIgPSBiYXNlVG9OdW1iZXIob3RoZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQgPSBvcGVyYXRvcih2YWx1ZSwgb3RoZXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLm92ZXJgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBhcnJheUZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGl0ZXJhdGUgb3ZlciBpdGVyYXRlZXMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgb3ZlciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVPdmVyKGFycmF5RnVuYykge1xuICAgICAgcmV0dXJuIGZsYXRSZXN0KGZ1bmN0aW9uKGl0ZXJhdGVlcykge1xuICAgICAgICBpdGVyYXRlZXMgPSBhcnJheU1hcChpdGVyYXRlZXMsIGJhc2VVbmFyeShnZXRJdGVyYXRlZSgpKSk7XG4gICAgICAgIHJldHVybiBiYXNlUmVzdChmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgICAgdmFyIHRoaXNBcmcgPSB0aGlzO1xuICAgICAgICAgIHJldHVybiBhcnJheUZ1bmMoaXRlcmF0ZWVzLCBmdW5jdGlvbihpdGVyYXRlZSkge1xuICAgICAgICAgICAgcmV0dXJuIGFwcGx5KGl0ZXJhdGVlLCB0aGlzQXJnLCBhcmdzKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIHRoZSBwYWRkaW5nIGZvciBgc3RyaW5nYCBiYXNlZCBvbiBgbGVuZ3RoYC4gVGhlIGBjaGFyc2Agc3RyaW5nXG4gICAgICogaXMgdHJ1bmNhdGVkIGlmIHRoZSBudW1iZXIgb2YgY2hhcmFjdGVycyBleGNlZWRzIGBsZW5ndGhgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbGVuZ3RoIFRoZSBwYWRkaW5nIGxlbmd0aC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPScgJ10gVGhlIHN0cmluZyB1c2VkIGFzIHBhZGRpbmcuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcGFkZGluZyBmb3IgYHN0cmluZ2AuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlUGFkZGluZyhsZW5ndGgsIGNoYXJzKSB7XG4gICAgICBjaGFycyA9IGNoYXJzID09PSB1bmRlZmluZWQgPyAnICcgOiBiYXNlVG9TdHJpbmcoY2hhcnMpO1xuXG4gICAgICB2YXIgY2hhcnNMZW5ndGggPSBjaGFycy5sZW5ndGg7XG4gICAgICBpZiAoY2hhcnNMZW5ndGggPCAyKSB7XG4gICAgICAgIHJldHVybiBjaGFyc0xlbmd0aCA/IGJhc2VSZXBlYXQoY2hhcnMsIGxlbmd0aCkgOiBjaGFycztcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSBiYXNlUmVwZWF0KGNoYXJzLCBuYXRpdmVDZWlsKGxlbmd0aCAvIHN0cmluZ1NpemUoY2hhcnMpKSk7XG4gICAgICByZXR1cm4gaGFzVW5pY29kZShjaGFycylcbiAgICAgICAgPyBjYXN0U2xpY2Uoc3RyaW5nVG9BcnJheShyZXN1bHQpLCAwLCBsZW5ndGgpLmpvaW4oJycpXG4gICAgICAgIDogcmVzdWx0LnNsaWNlKDAsIGxlbmd0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgd3JhcHMgYGZ1bmNgIHRvIGludm9rZSBpdCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZ1xuICAgICAqIG9mIGB0aGlzQXJnYCBhbmQgYHBhcnRpYWxzYCBwcmVwZW5kZWQgdG8gdGhlIGFyZ3VtZW50cyBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBjcmVhdGVXcmFwYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7Kn0gdGhpc0FyZyBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhcnRpYWxzIFRoZSBhcmd1bWVudHMgdG8gcHJlcGVuZCB0byB0aG9zZSBwcm92aWRlZCB0b1xuICAgICAqICB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHdyYXBwZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlUGFydGlhbChmdW5jLCBiaXRtYXNrLCB0aGlzQXJnLCBwYXJ0aWFscykge1xuICAgICAgdmFyIGlzQmluZCA9IGJpdG1hc2sgJiBXUkFQX0JJTkRfRkxBRyxcbiAgICAgICAgICBDdG9yID0gY3JlYXRlQ3RvcihmdW5jKTtcblxuICAgICAgZnVuY3Rpb24gd3JhcHBlcigpIHtcbiAgICAgICAgdmFyIGFyZ3NJbmRleCA9IC0xLFxuICAgICAgICAgICAgYXJnc0xlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGgsXG4gICAgICAgICAgICBsZWZ0SW5kZXggPSAtMSxcbiAgICAgICAgICAgIGxlZnRMZW5ndGggPSBwYXJ0aWFscy5sZW5ndGgsXG4gICAgICAgICAgICBhcmdzID0gQXJyYXkobGVmdExlbmd0aCArIGFyZ3NMZW5ndGgpLFxuICAgICAgICAgICAgZm4gPSAodGhpcyAmJiB0aGlzICE9PSByb290ICYmIHRoaXMgaW5zdGFuY2VvZiB3cmFwcGVyKSA/IEN0b3IgOiBmdW5jO1xuXG4gICAgICAgIHdoaWxlICgrK2xlZnRJbmRleCA8IGxlZnRMZW5ndGgpIHtcbiAgICAgICAgICBhcmdzW2xlZnRJbmRleF0gPSBwYXJ0aWFsc1tsZWZ0SW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChhcmdzTGVuZ3RoLS0pIHtcbiAgICAgICAgICBhcmdzW2xlZnRJbmRleCsrXSA9IGFyZ3VtZW50c1srK2FyZ3NJbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFwcGx5KGZuLCBpc0JpbmQgPyB0aGlzQXJnIDogdGhpcywgYXJncyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gd3JhcHBlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYF8ucmFuZ2VgIG9yIGBfLnJhbmdlUmlnaHRgIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyByYW5nZSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVSYW5nZShmcm9tUmlnaHQpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihzdGFydCwgZW5kLCBzdGVwKSB7XG4gICAgICAgIGlmIChzdGVwICYmIHR5cGVvZiBzdGVwICE9ICdudW1iZXInICYmIGlzSXRlcmF0ZWVDYWxsKHN0YXJ0LCBlbmQsIHN0ZXApKSB7XG4gICAgICAgICAgZW5kID0gc3RlcCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICAvLyBFbnN1cmUgdGhlIHNpZ24gb2YgYC0wYCBpcyBwcmVzZXJ2ZWQuXG4gICAgICAgIHN0YXJ0ID0gdG9GaW5pdGUoc3RhcnQpO1xuICAgICAgICBpZiAoZW5kID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBlbmQgPSBzdGFydDtcbiAgICAgICAgICBzdGFydCA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZW5kID0gdG9GaW5pdGUoZW5kKTtcbiAgICAgICAgfVxuICAgICAgICBzdGVwID0gc3RlcCA9PT0gdW5kZWZpbmVkID8gKHN0YXJ0IDwgZW5kID8gMSA6IC0xKSA6IHRvRmluaXRlKHN0ZXApO1xuICAgICAgICByZXR1cm4gYmFzZVJhbmdlKHN0YXJ0LCBlbmQsIHN0ZXAsIGZyb21SaWdodCk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHBlcmZvcm1zIGEgcmVsYXRpb25hbCBvcGVyYXRpb24gb24gdHdvIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gb3BlcmF0b3IgVGhlIGZ1bmN0aW9uIHRvIHBlcmZvcm0gdGhlIG9wZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyByZWxhdGlvbmFsIG9wZXJhdGlvbiBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVSZWxhdGlvbmFsT3BlcmF0aW9uKG9wZXJhdG9yKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24odmFsdWUsIG90aGVyKSB7XG4gICAgICAgIGlmICghKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJyAmJiB0eXBlb2Ygb3RoZXIgPT0gJ3N0cmluZycpKSB7XG4gICAgICAgICAgdmFsdWUgPSB0b051bWJlcih2YWx1ZSk7XG4gICAgICAgICAgb3RoZXIgPSB0b051bWJlcihvdGhlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9wZXJhdG9yKHZhbHVlLCBvdGhlcik7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHdyYXBzIGBmdW5jYCB0byBjb250aW51ZSBjdXJyeWluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBjcmVhdGVXcmFwYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHdyYXBGdW5jIFRoZSBmdW5jdGlvbiB0byBjcmVhdGUgdGhlIGBmdW5jYCB3cmFwcGVyLlxuICAgICAqIEBwYXJhbSB7Kn0gcGxhY2Vob2xkZXIgVGhlIHBsYWNlaG9sZGVyIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3BhcnRpYWxzXSBUaGUgYXJndW1lbnRzIHRvIHByZXBlbmQgdG8gdGhvc2UgcHJvdmlkZWQgdG9cbiAgICAgKiAgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbaG9sZGVyc10gVGhlIGBwYXJ0aWFsc2AgcGxhY2Vob2xkZXIgaW5kZXhlcy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbYXJnUG9zXSBUaGUgYXJndW1lbnQgcG9zaXRpb25zIG9mIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcnldIFRoZSBhcml0eSBjYXAgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJpdHldIFRoZSBhcml0eSBvZiBgZnVuY2AuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgd3JhcHBlZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVSZWN1cnJ5KGZ1bmMsIGJpdG1hc2ssIHdyYXBGdW5jLCBwbGFjZWhvbGRlciwgdGhpc0FyZywgcGFydGlhbHMsIGhvbGRlcnMsIGFyZ1BvcywgYXJ5LCBhcml0eSkge1xuICAgICAgdmFyIGlzQ3VycnkgPSBiaXRtYXNrICYgV1JBUF9DVVJSWV9GTEFHLFxuICAgICAgICAgIG5ld0hvbGRlcnMgPSBpc0N1cnJ5ID8gaG9sZGVycyA6IHVuZGVmaW5lZCxcbiAgICAgICAgICBuZXdIb2xkZXJzUmlnaHQgPSBpc0N1cnJ5ID8gdW5kZWZpbmVkIDogaG9sZGVycyxcbiAgICAgICAgICBuZXdQYXJ0aWFscyA9IGlzQ3VycnkgPyBwYXJ0aWFscyA6IHVuZGVmaW5lZCxcbiAgICAgICAgICBuZXdQYXJ0aWFsc1JpZ2h0ID0gaXNDdXJyeSA/IHVuZGVmaW5lZCA6IHBhcnRpYWxzO1xuXG4gICAgICBiaXRtYXNrIHw9IChpc0N1cnJ5ID8gV1JBUF9QQVJUSUFMX0ZMQUcgOiBXUkFQX1BBUlRJQUxfUklHSFRfRkxBRyk7XG4gICAgICBiaXRtYXNrICY9IH4oaXNDdXJyeSA/IFdSQVBfUEFSVElBTF9SSUdIVF9GTEFHIDogV1JBUF9QQVJUSUFMX0ZMQUcpO1xuXG4gICAgICBpZiAoIShiaXRtYXNrICYgV1JBUF9DVVJSWV9CT1VORF9GTEFHKSkge1xuICAgICAgICBiaXRtYXNrICY9IH4oV1JBUF9CSU5EX0ZMQUcgfCBXUkFQX0JJTkRfS0VZX0ZMQUcpO1xuICAgICAgfVxuICAgICAgdmFyIG5ld0RhdGEgPSBbXG4gICAgICAgIGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIG5ld1BhcnRpYWxzLCBuZXdIb2xkZXJzLCBuZXdQYXJ0aWFsc1JpZ2h0LFxuICAgICAgICBuZXdIb2xkZXJzUmlnaHQsIGFyZ1BvcywgYXJ5LCBhcml0eVxuICAgICAgXTtcblxuICAgICAgdmFyIHJlc3VsdCA9IHdyYXBGdW5jLmFwcGx5KHVuZGVmaW5lZCwgbmV3RGF0YSk7XG4gICAgICBpZiAoaXNMYXppYWJsZShmdW5jKSkge1xuICAgICAgICBzZXREYXRhKHJlc3VsdCwgbmV3RGF0YSk7XG4gICAgICB9XG4gICAgICByZXN1bHQucGxhY2Vob2xkZXIgPSBwbGFjZWhvbGRlcjtcbiAgICAgIHJldHVybiBzZXRXcmFwVG9TdHJpbmcocmVzdWx0LCBmdW5jLCBiaXRtYXNrKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5yb3VuZGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2ROYW1lIFRoZSBuYW1lIG9mIHRoZSBgTWF0aGAgbWV0aG9kIHRvIHVzZSB3aGVuIHJvdW5kaW5nLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHJvdW5kIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVJvdW5kKG1ldGhvZE5hbWUpIHtcbiAgICAgIHZhciBmdW5jID0gTWF0aFttZXRob2ROYW1lXTtcbiAgICAgIHJldHVybiBmdW5jdGlvbihudW1iZXIsIHByZWNpc2lvbikge1xuICAgICAgICBudW1iZXIgPSB0b051bWJlcihudW1iZXIpO1xuICAgICAgICBwcmVjaXNpb24gPSBwcmVjaXNpb24gPT0gbnVsbCA/IDAgOiBuYXRpdmVNaW4odG9JbnRlZ2VyKHByZWNpc2lvbiksIDI5Mik7XG4gICAgICAgIGlmIChwcmVjaXNpb24gJiYgbmF0aXZlSXNGaW5pdGUobnVtYmVyKSkge1xuICAgICAgICAgIC8vIFNoaWZ0IHdpdGggZXhwb25lbnRpYWwgbm90YXRpb24gdG8gYXZvaWQgZmxvYXRpbmctcG9pbnQgaXNzdWVzLlxuICAgICAgICAgIC8vIFNlZSBbTUROXShodHRwczovL21kbi5pby9yb3VuZCNFeGFtcGxlcykgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgICAgICB2YXIgcGFpciA9ICh0b1N0cmluZyhudW1iZXIpICsgJ2UnKS5zcGxpdCgnZScpLFxuICAgICAgICAgICAgICB2YWx1ZSA9IGZ1bmMocGFpclswXSArICdlJyArICgrcGFpclsxXSArIHByZWNpc2lvbikpO1xuXG4gICAgICAgICAgcGFpciA9ICh0b1N0cmluZyh2YWx1ZSkgKyAnZScpLnNwbGl0KCdlJyk7XG4gICAgICAgICAgcmV0dXJuICsocGFpclswXSArICdlJyArICgrcGFpclsxXSAtIHByZWNpc2lvbikpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmdW5jKG51bWJlcik7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzZXQgb2JqZWN0IG9mIGB2YWx1ZXNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byBhZGQgdG8gdGhlIHNldC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgc2V0LlxuICAgICAqL1xuICAgIHZhciBjcmVhdGVTZXQgPSAhKFNldCAmJiAoMSAvIHNldFRvQXJyYXkobmV3IFNldChbLC0wXSkpWzFdKSA9PSBJTkZJTklUWSkgPyBub29wIDogZnVuY3Rpb24odmFsdWVzKSB7XG4gICAgICByZXR1cm4gbmV3IFNldCh2YWx1ZXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYF8udG9QYWlyc2Agb3IgYF8udG9QYWlyc0luYCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0ga2V5c0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUga2V5cyBvZiBhIGdpdmVuIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBwYWlycyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVUb1BhaXJzKGtleXNGdW5jKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIHZhciB0YWcgPSBnZXRUYWcob2JqZWN0KTtcbiAgICAgICAgaWYgKHRhZyA9PSBtYXBUYWcpIHtcbiAgICAgICAgICByZXR1cm4gbWFwVG9BcnJheShvYmplY3QpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0YWcgPT0gc2V0VGFnKSB7XG4gICAgICAgICAgcmV0dXJuIHNldFRvUGFpcnMob2JqZWN0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYmFzZVRvUGFpcnMob2JqZWN0LCBrZXlzRnVuYyhvYmplY3QpKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgZWl0aGVyIGN1cnJpZXMgb3IgaW52b2tlcyBgZnVuY2Agd2l0aCBvcHRpb25hbFxuICAgICAqIGB0aGlzYCBiaW5kaW5nIGFuZCBwYXJ0aWFsbHkgYXBwbGllZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258c3RyaW5nfSBmdW5jIFRoZSBmdW5jdGlvbiBvciBtZXRob2QgbmFtZSB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLlxuICAgICAqICAgIDEgLSBgXy5iaW5kYFxuICAgICAqICAgIDIgLSBgXy5iaW5kS2V5YFxuICAgICAqICAgIDQgLSBgXy5jdXJyeWAgb3IgYF8uY3VycnlSaWdodGAgb2YgYSBib3VuZCBmdW5jdGlvblxuICAgICAqICAgIDggLSBgXy5jdXJyeWBcbiAgICAgKiAgIDE2IC0gYF8uY3VycnlSaWdodGBcbiAgICAgKiAgIDMyIC0gYF8ucGFydGlhbGBcbiAgICAgKiAgIDY0IC0gYF8ucGFydGlhbFJpZ2h0YFxuICAgICAqICAxMjggLSBgXy5yZWFyZ2BcbiAgICAgKiAgMjU2IC0gYF8uYXJ5YFxuICAgICAqICA1MTIgLSBgXy5mbGlwYFxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3BhcnRpYWxzXSBUaGUgYXJndW1lbnRzIHRvIGJlIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtob2xkZXJzXSBUaGUgYHBhcnRpYWxzYCBwbGFjZWhvbGRlciBpbmRleGVzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFthcmdQb3NdIFRoZSBhcmd1bWVudCBwb3NpdGlvbnMgb2YgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyeV0gVGhlIGFyaXR5IGNhcCBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcml0eV0gVGhlIGFyaXR5IG9mIGBmdW5jYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB3cmFwcGVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVdyYXAoZnVuYywgYml0bWFzaywgdGhpc0FyZywgcGFydGlhbHMsIGhvbGRlcnMsIGFyZ1BvcywgYXJ5LCBhcml0eSkge1xuICAgICAgdmFyIGlzQmluZEtleSA9IGJpdG1hc2sgJiBXUkFQX0JJTkRfS0VZX0ZMQUc7XG4gICAgICBpZiAoIWlzQmluZEtleSAmJiB0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHZhciBsZW5ndGggPSBwYXJ0aWFscyA/IHBhcnRpYWxzLmxlbmd0aCA6IDA7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICBiaXRtYXNrICY9IH4oV1JBUF9QQVJUSUFMX0ZMQUcgfCBXUkFQX1BBUlRJQUxfUklHSFRfRkxBRyk7XG4gICAgICAgIHBhcnRpYWxzID0gaG9sZGVycyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIGFyeSA9IGFyeSA9PT0gdW5kZWZpbmVkID8gYXJ5IDogbmF0aXZlTWF4KHRvSW50ZWdlcihhcnkpLCAwKTtcbiAgICAgIGFyaXR5ID0gYXJpdHkgPT09IHVuZGVmaW5lZCA/IGFyaXR5IDogdG9JbnRlZ2VyKGFyaXR5KTtcbiAgICAgIGxlbmd0aCAtPSBob2xkZXJzID8gaG9sZGVycy5sZW5ndGggOiAwO1xuXG4gICAgICBpZiAoYml0bWFzayAmIFdSQVBfUEFSVElBTF9SSUdIVF9GTEFHKSB7XG4gICAgICAgIHZhciBwYXJ0aWFsc1JpZ2h0ID0gcGFydGlhbHMsXG4gICAgICAgICAgICBob2xkZXJzUmlnaHQgPSBob2xkZXJzO1xuXG4gICAgICAgIHBhcnRpYWxzID0gaG9sZGVycyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHZhciBkYXRhID0gaXNCaW5kS2V5ID8gdW5kZWZpbmVkIDogZ2V0RGF0YShmdW5jKTtcblxuICAgICAgdmFyIG5ld0RhdGEgPSBbXG4gICAgICAgIGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIHBhcnRpYWxzLCBob2xkZXJzLCBwYXJ0aWFsc1JpZ2h0LCBob2xkZXJzUmlnaHQsXG4gICAgICAgIGFyZ1BvcywgYXJ5LCBhcml0eVxuICAgICAgXTtcblxuICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgbWVyZ2VEYXRhKG5ld0RhdGEsIGRhdGEpO1xuICAgICAgfVxuICAgICAgZnVuYyA9IG5ld0RhdGFbMF07XG4gICAgICBiaXRtYXNrID0gbmV3RGF0YVsxXTtcbiAgICAgIHRoaXNBcmcgPSBuZXdEYXRhWzJdO1xuICAgICAgcGFydGlhbHMgPSBuZXdEYXRhWzNdO1xuICAgICAgaG9sZGVycyA9IG5ld0RhdGFbNF07XG4gICAgICBhcml0eSA9IG5ld0RhdGFbOV0gPSBuZXdEYXRhWzldID09PSB1bmRlZmluZWRcbiAgICAgICAgPyAoaXNCaW5kS2V5ID8gMCA6IGZ1bmMubGVuZ3RoKVxuICAgICAgICA6IG5hdGl2ZU1heChuZXdEYXRhWzldIC0gbGVuZ3RoLCAwKTtcblxuICAgICAgaWYgKCFhcml0eSAmJiBiaXRtYXNrICYgKFdSQVBfQ1VSUllfRkxBRyB8IFdSQVBfQ1VSUllfUklHSFRfRkxBRykpIHtcbiAgICAgICAgYml0bWFzayAmPSB+KFdSQVBfQ1VSUllfRkxBRyB8IFdSQVBfQ1VSUllfUklHSFRfRkxBRyk7XG4gICAgICB9XG4gICAgICBpZiAoIWJpdG1hc2sgfHwgYml0bWFzayA9PSBXUkFQX0JJTkRfRkxBRykge1xuICAgICAgICB2YXIgcmVzdWx0ID0gY3JlYXRlQmluZChmdW5jLCBiaXRtYXNrLCB0aGlzQXJnKTtcbiAgICAgIH0gZWxzZSBpZiAoYml0bWFzayA9PSBXUkFQX0NVUlJZX0ZMQUcgfHwgYml0bWFzayA9PSBXUkFQX0NVUlJZX1JJR0hUX0ZMQUcpIHtcbiAgICAgICAgcmVzdWx0ID0gY3JlYXRlQ3VycnkoZnVuYywgYml0bWFzaywgYXJpdHkpO1xuICAgICAgfSBlbHNlIGlmICgoYml0bWFzayA9PSBXUkFQX1BBUlRJQUxfRkxBRyB8fCBiaXRtYXNrID09IChXUkFQX0JJTkRfRkxBRyB8IFdSQVBfUEFSVElBTF9GTEFHKSkgJiYgIWhvbGRlcnMubGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdCA9IGNyZWF0ZVBhcnRpYWwoZnVuYywgYml0bWFzaywgdGhpc0FyZywgcGFydGlhbHMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gY3JlYXRlSHlicmlkLmFwcGx5KHVuZGVmaW5lZCwgbmV3RGF0YSk7XG4gICAgICB9XG4gICAgICB2YXIgc2V0dGVyID0gZGF0YSA/IGJhc2VTZXREYXRhIDogc2V0RGF0YTtcbiAgICAgIHJldHVybiBzZXRXcmFwVG9TdHJpbmcoc2V0dGVyKHJlc3VsdCwgbmV3RGF0YSksIGZ1bmMsIGJpdG1hc2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZWQgYnkgYF8uZGVmYXVsdHNgIHRvIGN1c3RvbWl6ZSBpdHMgYF8uYXNzaWduSW5gIHVzZSB0byBhc3NpZ24gcHJvcGVydGllc1xuICAgICAqIG9mIHNvdXJjZSBvYmplY3RzIHRvIHRoZSBkZXN0aW5hdGlvbiBvYmplY3QgZm9yIGFsbCBkZXN0aW5hdGlvbiBwcm9wZXJ0aWVzXG4gICAgICogdGhhdCByZXNvbHZlIHRvIGB1bmRlZmluZWRgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IG9ialZhbHVlIFRoZSBkZXN0aW5hdGlvbiB2YWx1ZS5cbiAgICAgKiBAcGFyYW0geyp9IHNyY1ZhbHVlIFRoZSBzb3VyY2UgdmFsdWUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBhc3NpZ24uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgcGFyZW50IG9iamVjdCBvZiBgb2JqVmFsdWVgLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3VzdG9tRGVmYXVsdHNBc3NpZ25JbihvYmpWYWx1ZSwgc3JjVmFsdWUsIGtleSwgb2JqZWN0KSB7XG4gICAgICBpZiAob2JqVmFsdWUgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgIChlcShvYmpWYWx1ZSwgb2JqZWN0UHJvdG9ba2V5XSkgJiYgIWhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpKSkge1xuICAgICAgICByZXR1cm4gc3JjVmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqVmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXNlZCBieSBgXy5kZWZhdWx0c0RlZXBgIHRvIGN1c3RvbWl6ZSBpdHMgYF8ubWVyZ2VgIHVzZSB0byBtZXJnZSBzb3VyY2VcbiAgICAgKiBvYmplY3RzIGludG8gZGVzdGluYXRpb24gb2JqZWN0cyB0aGF0IGFyZSBwYXNzZWQgdGhydS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSBvYmpWYWx1ZSBUaGUgZGVzdGluYXRpb24gdmFsdWUuXG4gICAgICogQHBhcmFtIHsqfSBzcmNWYWx1ZSBUaGUgc291cmNlIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gbWVyZ2UuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgcGFyZW50IG9iamVjdCBvZiBgb2JqVmFsdWVgLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIHBhcmVudCBvYmplY3Qgb2YgYHNyY1ZhbHVlYC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIHNvdXJjZSB2YWx1ZXMgYW5kIHRoZWlyIG1lcmdlZFxuICAgICAqICBjb3VudGVycGFydHMuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHZhbHVlIHRvIGFzc2lnbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjdXN0b21EZWZhdWx0c01lcmdlKG9ialZhbHVlLCBzcmNWYWx1ZSwga2V5LCBvYmplY3QsIHNvdXJjZSwgc3RhY2spIHtcbiAgICAgIGlmIChpc09iamVjdChvYmpWYWx1ZSkgJiYgaXNPYmplY3Qoc3JjVmFsdWUpKSB7XG4gICAgICAgIC8vIFJlY3Vyc2l2ZWx5IG1lcmdlIG9iamVjdHMgYW5kIGFycmF5cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgICBzdGFjay5zZXQoc3JjVmFsdWUsIG9ialZhbHVlKTtcbiAgICAgICAgYmFzZU1lcmdlKG9ialZhbHVlLCBzcmNWYWx1ZSwgdW5kZWZpbmVkLCBjdXN0b21EZWZhdWx0c01lcmdlLCBzdGFjayk7XG4gICAgICAgIHN0YWNrWydkZWxldGUnXShzcmNWYWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqVmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXNlZCBieSBgXy5vbWl0YCB0byBjdXN0b21pemUgaXRzIGBfLmNsb25lRGVlcGAgdXNlIHRvIG9ubHkgY2xvbmUgcGxhaW5cbiAgICAgKiBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgdW5jbG9uZWQgdmFsdWUgb3IgYHVuZGVmaW5lZGAgdG8gZGVmZXIgY2xvbmluZyB0byBgXy5jbG9uZURlZXBgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGN1c3RvbU9taXRDbG9uZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzUGxhaW5PYmplY3QodmFsdWUpID8gdW5kZWZpbmVkIDogdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbERlZXBgIGZvciBhcnJheXMgd2l0aCBzdXBwb3J0IGZvclxuICAgICAqIHBhcnRpYWwgZGVlcCBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtBcnJheX0gb3RoZXIgVGhlIG90aGVyIGFycmF5IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3RhY2sgVHJhY2tzIHRyYXZlcnNlZCBgYXJyYXlgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBhcnJheXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlcXVhbEFycmF5cyhhcnJheSwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgICAgIHZhciBpc1BhcnRpYWwgPSBiaXRtYXNrICYgQ09NUEFSRV9QQVJUSUFMX0ZMQUcsXG4gICAgICAgICAgYXJyTGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIG90aExlbmd0aCA9IG90aGVyLmxlbmd0aDtcblxuICAgICAgaWYgKGFyckxlbmd0aCAhPSBvdGhMZW5ndGggJiYgIShpc1BhcnRpYWwgJiYgb3RoTGVuZ3RoID4gYXJyTGVuZ3RoKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICAvLyBBc3N1bWUgY3ljbGljIHZhbHVlcyBhcmUgZXF1YWwuXG4gICAgICB2YXIgc3RhY2tlZCA9IHN0YWNrLmdldChhcnJheSk7XG4gICAgICBpZiAoc3RhY2tlZCAmJiBzdGFjay5nZXQob3RoZXIpKSB7XG4gICAgICAgIHJldHVybiBzdGFja2VkID09IG90aGVyO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgcmVzdWx0ID0gdHJ1ZSxcbiAgICAgICAgICBzZWVuID0gKGJpdG1hc2sgJiBDT01QQVJFX1VOT1JERVJFRF9GTEFHKSA/IG5ldyBTZXRDYWNoZSA6IHVuZGVmaW5lZDtcblxuICAgICAgc3RhY2suc2V0KGFycmF5LCBvdGhlcik7XG4gICAgICBzdGFjay5zZXQob3RoZXIsIGFycmF5KTtcblxuICAgICAgLy8gSWdub3JlIG5vbi1pbmRleCBwcm9wZXJ0aWVzLlxuICAgICAgd2hpbGUgKCsraW5kZXggPCBhcnJMZW5ndGgpIHtcbiAgICAgICAgdmFyIGFyclZhbHVlID0gYXJyYXlbaW5kZXhdLFxuICAgICAgICAgICAgb3RoVmFsdWUgPSBvdGhlcltpbmRleF07XG5cbiAgICAgICAgaWYgKGN1c3RvbWl6ZXIpIHtcbiAgICAgICAgICB2YXIgY29tcGFyZWQgPSBpc1BhcnRpYWxcbiAgICAgICAgICAgID8gY3VzdG9taXplcihvdGhWYWx1ZSwgYXJyVmFsdWUsIGluZGV4LCBvdGhlciwgYXJyYXksIHN0YWNrKVxuICAgICAgICAgICAgOiBjdXN0b21pemVyKGFyclZhbHVlLCBvdGhWYWx1ZSwgaW5kZXgsIGFycmF5LCBvdGhlciwgc3RhY2spO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb21wYXJlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaWYgKGNvbXBhcmVkKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVjdXJzaXZlbHkgY29tcGFyZSBhcnJheXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgaWYgKHNlZW4pIHtcbiAgICAgICAgICBpZiAoIWFycmF5U29tZShvdGhlciwgZnVuY3Rpb24ob3RoVmFsdWUsIG90aEluZGV4KSB7XG4gICAgICAgICAgICAgICAgaWYgKCFjYWNoZUhhcyhzZWVuLCBvdGhJbmRleCkgJiZcbiAgICAgICAgICAgICAgICAgICAgKGFyclZhbHVlID09PSBvdGhWYWx1ZSB8fCBlcXVhbEZ1bmMoYXJyVmFsdWUsIG90aFZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjaykpKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gc2Vlbi5wdXNoKG90aEluZGV4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICghKFxuICAgICAgICAgICAgICBhcnJWYWx1ZSA9PT0gb3RoVmFsdWUgfHxcbiAgICAgICAgICAgICAgICBlcXVhbEZ1bmMoYXJyVmFsdWUsIG90aFZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjaylcbiAgICAgICAgICAgICkpIHtcbiAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgc3RhY2tbJ2RlbGV0ZSddKGFycmF5KTtcbiAgICAgIHN0YWNrWydkZWxldGUnXShvdGhlcik7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxEZWVwYCBmb3IgY29tcGFyaW5nIG9iamVjdHMgb2ZcbiAgICAgKiB0aGUgc2FtZSBgdG9TdHJpbmdUYWdgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgZnVuY3Rpb24gb25seSBzdXBwb3J0cyBjb21wYXJpbmcgdmFsdWVzIHdpdGggdGFncyBvZlxuICAgICAqIGBCb29sZWFuYCwgYERhdGVgLCBgRXJyb3JgLCBgTnVtYmVyYCwgYFJlZ0V4cGAsIG9yIGBTdHJpbmdgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3RoZXIgVGhlIG90aGVyIG9iamVjdCB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0YWcgVGhlIGB0b1N0cmluZ1RhZ2Agb2YgdGhlIG9iamVjdHMgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzdGFjayBUcmFja3MgdHJhdmVyc2VkIGBvYmplY3RgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBvYmplY3RzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXF1YWxCeVRhZyhvYmplY3QsIG90aGVyLCB0YWcsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgICAgIHN3aXRjaCAodGFnKSB7XG4gICAgICAgIGNhc2UgZGF0YVZpZXdUYWc6XG4gICAgICAgICAgaWYgKChvYmplY3QuYnl0ZUxlbmd0aCAhPSBvdGhlci5ieXRlTGVuZ3RoKSB8fFxuICAgICAgICAgICAgICAob2JqZWN0LmJ5dGVPZmZzZXQgIT0gb3RoZXIuYnl0ZU9mZnNldCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgb2JqZWN0ID0gb2JqZWN0LmJ1ZmZlcjtcbiAgICAgICAgICBvdGhlciA9IG90aGVyLmJ1ZmZlcjtcblxuICAgICAgICBjYXNlIGFycmF5QnVmZmVyVGFnOlxuICAgICAgICAgIGlmICgob2JqZWN0LmJ5dGVMZW5ndGggIT0gb3RoZXIuYnl0ZUxlbmd0aCkgfHxcbiAgICAgICAgICAgICAgIWVxdWFsRnVuYyhuZXcgVWludDhBcnJheShvYmplY3QpLCBuZXcgVWludDhBcnJheShvdGhlcikpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgICAgIGNhc2UgYm9vbFRhZzpcbiAgICAgICAgY2FzZSBkYXRlVGFnOlxuICAgICAgICBjYXNlIG51bWJlclRhZzpcbiAgICAgICAgICAvLyBDb2VyY2UgYm9vbGVhbnMgdG8gYDFgIG9yIGAwYCBhbmQgZGF0ZXMgdG8gbWlsbGlzZWNvbmRzLlxuICAgICAgICAgIC8vIEludmFsaWQgZGF0ZXMgYXJlIGNvZXJjZWQgdG8gYE5hTmAuXG4gICAgICAgICAgcmV0dXJuIGVxKCtvYmplY3QsICtvdGhlcik7XG5cbiAgICAgICAgY2FzZSBlcnJvclRhZzpcbiAgICAgICAgICByZXR1cm4gb2JqZWN0Lm5hbWUgPT0gb3RoZXIubmFtZSAmJiBvYmplY3QubWVzc2FnZSA9PSBvdGhlci5tZXNzYWdlO1xuXG4gICAgICAgIGNhc2UgcmVnZXhwVGFnOlxuICAgICAgICBjYXNlIHN0cmluZ1RhZzpcbiAgICAgICAgICAvLyBDb2VyY2UgcmVnZXhlcyB0byBzdHJpbmdzIGFuZCB0cmVhdCBzdHJpbmdzLCBwcmltaXRpdmVzIGFuZCBvYmplY3RzLFxuICAgICAgICAgIC8vIGFzIGVxdWFsLiBTZWUgaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXJlZ2V4cC5wcm90b3R5cGUudG9zdHJpbmdcbiAgICAgICAgICAvLyBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgICAgIHJldHVybiBvYmplY3QgPT0gKG90aGVyICsgJycpO1xuXG4gICAgICAgIGNhc2UgbWFwVGFnOlxuICAgICAgICAgIHZhciBjb252ZXJ0ID0gbWFwVG9BcnJheTtcblxuICAgICAgICBjYXNlIHNldFRhZzpcbiAgICAgICAgICB2YXIgaXNQYXJ0aWFsID0gYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHO1xuICAgICAgICAgIGNvbnZlcnQgfHwgKGNvbnZlcnQgPSBzZXRUb0FycmF5KTtcblxuICAgICAgICAgIGlmIChvYmplY3Quc2l6ZSAhPSBvdGhlci5zaXplICYmICFpc1BhcnRpYWwpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gQXNzdW1lIGN5Y2xpYyB2YWx1ZXMgYXJlIGVxdWFsLlxuICAgICAgICAgIHZhciBzdGFja2VkID0gc3RhY2suZ2V0KG9iamVjdCk7XG4gICAgICAgICAgaWYgKHN0YWNrZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBzdGFja2VkID09IG90aGVyO1xuICAgICAgICAgIH1cbiAgICAgICAgICBiaXRtYXNrIHw9IENPTVBBUkVfVU5PUkRFUkVEX0ZMQUc7XG5cbiAgICAgICAgICAvLyBSZWN1cnNpdmVseSBjb21wYXJlIG9iamVjdHMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgICBzdGFjay5zZXQob2JqZWN0LCBvdGhlcik7XG4gICAgICAgICAgdmFyIHJlc3VsdCA9IGVxdWFsQXJyYXlzKGNvbnZlcnQob2JqZWN0KSwgY29udmVydChvdGhlciksIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spO1xuICAgICAgICAgIHN0YWNrWydkZWxldGUnXShvYmplY3QpO1xuICAgICAgICAgIHJldHVybiByZXN1bHQ7XG5cbiAgICAgICAgY2FzZSBzeW1ib2xUYWc6XG4gICAgICAgICAgaWYgKHN5bWJvbFZhbHVlT2YpIHtcbiAgICAgICAgICAgIHJldHVybiBzeW1ib2xWYWx1ZU9mLmNhbGwob2JqZWN0KSA9PSBzeW1ib2xWYWx1ZU9mLmNhbGwob3RoZXIpO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsRGVlcGAgZm9yIG9iamVjdHMgd2l0aCBzdXBwb3J0IGZvclxuICAgICAqIHBhcnRpYWwgZGVlcCBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzdGFjayBUcmFja3MgdHJhdmVyc2VkIGBvYmplY3RgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBvYmplY3RzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXF1YWxPYmplY3RzKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgICAgIHZhciBpc1BhcnRpYWwgPSBiaXRtYXNrICYgQ09NUEFSRV9QQVJUSUFMX0ZMQUcsXG4gICAgICAgICAgb2JqUHJvcHMgPSBnZXRBbGxLZXlzKG9iamVjdCksXG4gICAgICAgICAgb2JqTGVuZ3RoID0gb2JqUHJvcHMubGVuZ3RoLFxuICAgICAgICAgIG90aFByb3BzID0gZ2V0QWxsS2V5cyhvdGhlciksXG4gICAgICAgICAgb3RoTGVuZ3RoID0gb3RoUHJvcHMubGVuZ3RoO1xuXG4gICAgICBpZiAob2JqTGVuZ3RoICE9IG90aExlbmd0aCAmJiAhaXNQYXJ0aWFsKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IG9iakxlbmd0aDtcbiAgICAgIHdoaWxlIChpbmRleC0tKSB7XG4gICAgICAgIHZhciBrZXkgPSBvYmpQcm9wc1tpbmRleF07XG4gICAgICAgIGlmICghKGlzUGFydGlhbCA/IGtleSBpbiBvdGhlciA6IGhhc093blByb3BlcnR5LmNhbGwob3RoZXIsIGtleSkpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBBc3N1bWUgY3ljbGljIHZhbHVlcyBhcmUgZXF1YWwuXG4gICAgICB2YXIgc3RhY2tlZCA9IHN0YWNrLmdldChvYmplY3QpO1xuICAgICAgaWYgKHN0YWNrZWQgJiYgc3RhY2suZ2V0KG90aGVyKSkge1xuICAgICAgICByZXR1cm4gc3RhY2tlZCA9PSBvdGhlcjtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSB0cnVlO1xuICAgICAgc3RhY2suc2V0KG9iamVjdCwgb3RoZXIpO1xuICAgICAgc3RhY2suc2V0KG90aGVyLCBvYmplY3QpO1xuXG4gICAgICB2YXIgc2tpcEN0b3IgPSBpc1BhcnRpYWw7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IG9iakxlbmd0aCkge1xuICAgICAgICBrZXkgPSBvYmpQcm9wc1tpbmRleF07XG4gICAgICAgIHZhciBvYmpWYWx1ZSA9IG9iamVjdFtrZXldLFxuICAgICAgICAgICAgb3RoVmFsdWUgPSBvdGhlcltrZXldO1xuXG4gICAgICAgIGlmIChjdXN0b21pemVyKSB7XG4gICAgICAgICAgdmFyIGNvbXBhcmVkID0gaXNQYXJ0aWFsXG4gICAgICAgICAgICA/IGN1c3RvbWl6ZXIob3RoVmFsdWUsIG9ialZhbHVlLCBrZXksIG90aGVyLCBvYmplY3QsIHN0YWNrKVxuICAgICAgICAgICAgOiBjdXN0b21pemVyKG9ialZhbHVlLCBvdGhWYWx1ZSwga2V5LCBvYmplY3QsIG90aGVyLCBzdGFjayk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVjdXJzaXZlbHkgY29tcGFyZSBvYmplY3RzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgIGlmICghKGNvbXBhcmVkID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgPyAob2JqVmFsdWUgPT09IG90aFZhbHVlIHx8IGVxdWFsRnVuYyhvYmpWYWx1ZSwgb3RoVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKSlcbiAgICAgICAgICAgICAgOiBjb21wYXJlZFxuICAgICAgICAgICAgKSkge1xuICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHNraXBDdG9yIHx8IChza2lwQ3RvciA9IGtleSA9PSAnY29uc3RydWN0b3InKTtcbiAgICAgIH1cbiAgICAgIGlmIChyZXN1bHQgJiYgIXNraXBDdG9yKSB7XG4gICAgICAgIHZhciBvYmpDdG9yID0gb2JqZWN0LmNvbnN0cnVjdG9yLFxuICAgICAgICAgICAgb3RoQ3RvciA9IG90aGVyLmNvbnN0cnVjdG9yO1xuXG4gICAgICAgIC8vIE5vbiBgT2JqZWN0YCBvYmplY3QgaW5zdGFuY2VzIHdpdGggZGlmZmVyZW50IGNvbnN0cnVjdG9ycyBhcmUgbm90IGVxdWFsLlxuICAgICAgICBpZiAob2JqQ3RvciAhPSBvdGhDdG9yICYmXG4gICAgICAgICAgICAoJ2NvbnN0cnVjdG9yJyBpbiBvYmplY3QgJiYgJ2NvbnN0cnVjdG9yJyBpbiBvdGhlcikgJiZcbiAgICAgICAgICAgICEodHlwZW9mIG9iakN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBvYmpDdG9yIGluc3RhbmNlb2Ygb2JqQ3RvciAmJlxuICAgICAgICAgICAgICB0eXBlb2Ygb3RoQ3RvciA9PSAnZnVuY3Rpb24nICYmIG90aEN0b3IgaW5zdGFuY2VvZiBvdGhDdG9yKSkge1xuICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzdGFja1snZGVsZXRlJ10ob2JqZWN0KTtcbiAgICAgIHN0YWNrWydkZWxldGUnXShvdGhlcik7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZVJlc3RgIHdoaWNoIGZsYXR0ZW5zIHRoZSByZXN0IGFycmF5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhcHBseSBhIHJlc3QgcGFyYW1ldGVyIHRvLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsYXRSZXN0KGZ1bmMpIHtcbiAgICAgIHJldHVybiBzZXRUb1N0cmluZyhvdmVyUmVzdChmdW5jLCB1bmRlZmluZWQsIGZsYXR0ZW4pLCBmdW5jICsgJycpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2Ygb3duIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzIGFuZCBzeW1ib2xzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEFsbEtleXMob2JqZWN0KSB7XG4gICAgICByZXR1cm4gYmFzZUdldEFsbEtleXMob2JqZWN0LCBrZXlzLCBnZXRTeW1ib2xzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgYW5kXG4gICAgICogc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0QWxsS2V5c0luKG9iamVjdCkge1xuICAgICAgcmV0dXJuIGJhc2VHZXRBbGxLZXlzKG9iamVjdCwga2V5c0luLCBnZXRTeW1ib2xzSW4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgbWV0YWRhdGEgZm9yIGBmdW5jYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1ldGFkYXRhIGZvciBgZnVuY2AuXG4gICAgICovXG4gICAgdmFyIGdldERhdGEgPSAhbWV0YU1hcCA/IG5vb3AgOiBmdW5jdGlvbihmdW5jKSB7XG4gICAgICByZXR1cm4gbWV0YU1hcC5nZXQoZnVuYyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIG5hbWUgb2YgYGZ1bmNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBuYW1lLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEZ1bmNOYW1lKGZ1bmMpIHtcbiAgICAgIHZhciByZXN1bHQgPSAoZnVuYy5uYW1lICsgJycpLFxuICAgICAgICAgIGFycmF5ID0gcmVhbE5hbWVzW3Jlc3VsdF0sXG4gICAgICAgICAgbGVuZ3RoID0gaGFzT3duUHJvcGVydHkuY2FsbChyZWFsTmFtZXMsIHJlc3VsdCkgPyBhcnJheS5sZW5ndGggOiAwO1xuXG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgdmFyIGRhdGEgPSBhcnJheVtsZW5ndGhdLFxuICAgICAgICAgICAgb3RoZXJGdW5jID0gZGF0YS5mdW5jO1xuICAgICAgICBpZiAob3RoZXJGdW5jID09IG51bGwgfHwgb3RoZXJGdW5jID09IGZ1bmMpIHtcbiAgICAgICAgICByZXR1cm4gZGF0YS5uYW1lO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGFyZ3VtZW50IHBsYWNlaG9sZGVyIHZhbHVlIGZvciBgZnVuY2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHBsYWNlaG9sZGVyIHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEhvbGRlcihmdW5jKSB7XG4gICAgICB2YXIgb2JqZWN0ID0gaGFzT3duUHJvcGVydHkuY2FsbChsb2Rhc2gsICdwbGFjZWhvbGRlcicpID8gbG9kYXNoIDogZnVuYztcbiAgICAgIHJldHVybiBvYmplY3QucGxhY2Vob2xkZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgYXBwcm9wcmlhdGUgXCJpdGVyYXRlZVwiIGZ1bmN0aW9uLiBJZiBgXy5pdGVyYXRlZWAgaXMgY3VzdG9taXplZCxcbiAgICAgKiB0aGlzIGZ1bmN0aW9uIHJldHVybnMgdGhlIGN1c3RvbSBtZXRob2QsIG90aGVyd2lzZSBpdCByZXR1cm5zIGBiYXNlSXRlcmF0ZWVgLlxuICAgICAqIElmIGFyZ3VtZW50cyBhcmUgcHJvdmlkZWQsIHRoZSBjaG9zZW4gZnVuY3Rpb24gaXMgaW52b2tlZCB3aXRoIHRoZW0gYW5kXG4gICAgICogaXRzIHJlc3VsdCBpcyByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSBbdmFsdWVdIFRoZSB2YWx1ZSB0byBjb252ZXJ0IHRvIGFuIGl0ZXJhdGVlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJpdHldIFRoZSBhcml0eSBvZiB0aGUgY3JlYXRlZCBpdGVyYXRlZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIGNob3NlbiBmdW5jdGlvbiBvciBpdHMgcmVzdWx0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEl0ZXJhdGVlKCkge1xuICAgICAgdmFyIHJlc3VsdCA9IGxvZGFzaC5pdGVyYXRlZSB8fCBpdGVyYXRlZTtcbiAgICAgIHJlc3VsdCA9IHJlc3VsdCA9PT0gaXRlcmF0ZWUgPyBiYXNlSXRlcmF0ZWUgOiByZXN1bHQ7XG4gICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IHJlc3VsdChhcmd1bWVudHNbMF0sIGFyZ3VtZW50c1sxXSkgOiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgZGF0YSBmb3IgYG1hcGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBtYXAgVGhlIG1hcCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSByZWZlcmVuY2Uga2V5LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtYXAgZGF0YS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRNYXBEYXRhKG1hcCwga2V5KSB7XG4gICAgICB2YXIgZGF0YSA9IG1hcC5fX2RhdGFfXztcbiAgICAgIHJldHVybiBpc0tleWFibGUoa2V5KVxuICAgICAgICA/IGRhdGFbdHlwZW9mIGtleSA9PSAnc3RyaW5nJyA/ICdzdHJpbmcnIDogJ2hhc2gnXVxuICAgICAgICA6IGRhdGEubWFwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHByb3BlcnR5IG5hbWVzLCB2YWx1ZXMsIGFuZCBjb21wYXJlIGZsYWdzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBtYXRjaCBkYXRhIG9mIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldE1hdGNoRGF0YShvYmplY3QpIHtcbiAgICAgIHZhciByZXN1bHQgPSBrZXlzKG9iamVjdCksXG4gICAgICAgICAgbGVuZ3RoID0gcmVzdWx0Lmxlbmd0aDtcblxuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIHZhciBrZXkgPSByZXN1bHRbbGVuZ3RoXSxcbiAgICAgICAgICAgIHZhbHVlID0gb2JqZWN0W2tleV07XG5cbiAgICAgICAgcmVzdWx0W2xlbmd0aF0gPSBba2V5LCB2YWx1ZSwgaXNTdHJpY3RDb21wYXJhYmxlKHZhbHVlKV07XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIG5hdGl2ZSBmdW5jdGlvbiBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgbWV0aG9kIHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZnVuY3Rpb24gaWYgaXQncyBuYXRpdmUsIGVsc2UgYHVuZGVmaW5lZGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0TmF0aXZlKG9iamVjdCwga2V5KSB7XG4gICAgICB2YXIgdmFsdWUgPSBnZXRWYWx1ZShvYmplY3QsIGtleSk7XG4gICAgICByZXR1cm4gYmFzZUlzTmF0aXZlKHZhbHVlKSA/IHZhbHVlIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUdldFRhZ2Agd2hpY2ggaWdub3JlcyBgU3ltYm9sLnRvU3RyaW5nVGFnYCB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHJhdyBgdG9TdHJpbmdUYWdgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldFJhd1RhZyh2YWx1ZSkge1xuICAgICAgdmFyIGlzT3duID0gaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgc3ltVG9TdHJpbmdUYWcpLFxuICAgICAgICAgIHRhZyA9IHZhbHVlW3N5bVRvU3RyaW5nVGFnXTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdW5kZWZpbmVkO1xuICAgICAgICB2YXIgdW5tYXNrZWQgPSB0cnVlO1xuICAgICAgfSBjYXRjaCAoZSkge31cblxuICAgICAgdmFyIHJlc3VsdCA9IG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICAgICAgaWYgKHVubWFza2VkKSB7XG4gICAgICAgIGlmIChpc093bikge1xuICAgICAgICAgIHZhbHVlW3N5bVRvU3RyaW5nVGFnXSA9IHRhZztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZWxldGUgdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBlbnVtZXJhYmxlIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHN5bWJvbHMuXG4gICAgICovXG4gICAgdmFyIGdldFN5bWJvbHMgPSAhbmF0aXZlR2V0U3ltYm9scyA/IHN0dWJBcnJheSA6IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuICAgICAgcmV0dXJuIGFycmF5RmlsdGVyKG5hdGl2ZUdldFN5bWJvbHMob2JqZWN0KSwgZnVuY3Rpb24oc3ltYm9sKSB7XG4gICAgICAgIHJldHVybiBwcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKG9iamVjdCwgc3ltYm9sKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHN5bWJvbHMuXG4gICAgICovXG4gICAgdmFyIGdldFN5bWJvbHNJbiA9ICFuYXRpdmVHZXRTeW1ib2xzID8gc3R1YkFycmF5IDogZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICB3aGlsZSAob2JqZWN0KSB7XG4gICAgICAgIGFycmF5UHVzaChyZXN1bHQsIGdldFN5bWJvbHMob2JqZWN0KSk7XG4gICAgICAgIG9iamVjdCA9IGdldFByb3RvdHlwZShvYmplY3QpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgYHRvU3RyaW5nVGFnYCBvZiBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBgdG9TdHJpbmdUYWdgLlxuICAgICAqL1xuICAgIHZhciBnZXRUYWcgPSBiYXNlR2V0VGFnO1xuXG4gICAgLy8gRmFsbGJhY2sgZm9yIGRhdGEgdmlld3MsIG1hcHMsIHNldHMsIGFuZCB3ZWFrIG1hcHMgaW4gSUUgMTEgYW5kIHByb21pc2VzIGluIE5vZGUuanMgPCA2LlxuICAgIGlmICgoRGF0YVZpZXcgJiYgZ2V0VGFnKG5ldyBEYXRhVmlldyhuZXcgQXJyYXlCdWZmZXIoMSkpKSAhPSBkYXRhVmlld1RhZykgfHxcbiAgICAgICAgKE1hcCAmJiBnZXRUYWcobmV3IE1hcCkgIT0gbWFwVGFnKSB8fFxuICAgICAgICAoUHJvbWlzZSAmJiBnZXRUYWcoUHJvbWlzZS5yZXNvbHZlKCkpICE9IHByb21pc2VUYWcpIHx8XG4gICAgICAgIChTZXQgJiYgZ2V0VGFnKG5ldyBTZXQpICE9IHNldFRhZykgfHxcbiAgICAgICAgKFdlYWtNYXAgJiYgZ2V0VGFnKG5ldyBXZWFrTWFwKSAhPSB3ZWFrTWFwVGFnKSkge1xuICAgICAgZ2V0VGFnID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGJhc2VHZXRUYWcodmFsdWUpLFxuICAgICAgICAgICAgQ3RvciA9IHJlc3VsdCA9PSBvYmplY3RUYWcgPyB2YWx1ZS5jb25zdHJ1Y3RvciA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGN0b3JTdHJpbmcgPSBDdG9yID8gdG9Tb3VyY2UoQ3RvcikgOiAnJztcblxuICAgICAgICBpZiAoY3RvclN0cmluZykge1xuICAgICAgICAgIHN3aXRjaCAoY3RvclN0cmluZykge1xuICAgICAgICAgICAgY2FzZSBkYXRhVmlld0N0b3JTdHJpbmc6IHJldHVybiBkYXRhVmlld1RhZztcbiAgICAgICAgICAgIGNhc2UgbWFwQ3RvclN0cmluZzogcmV0dXJuIG1hcFRhZztcbiAgICAgICAgICAgIGNhc2UgcHJvbWlzZUN0b3JTdHJpbmc6IHJldHVybiBwcm9taXNlVGFnO1xuICAgICAgICAgICAgY2FzZSBzZXRDdG9yU3RyaW5nOiByZXR1cm4gc2V0VGFnO1xuICAgICAgICAgICAgY2FzZSB3ZWFrTWFwQ3RvclN0cmluZzogcmV0dXJuIHdlYWtNYXBUYWc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHZpZXcsIGFwcGx5aW5nIGFueSBgdHJhbnNmb3Jtc2AgdG8gdGhlIGBzdGFydGAgYW5kIGBlbmRgIHBvc2l0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0IFRoZSBzdGFydCBvZiB0aGUgdmlldy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIFRoZSBlbmQgb2YgdGhlIHZpZXcuXG4gICAgICogQHBhcmFtIHtBcnJheX0gdHJhbnNmb3JtcyBUaGUgdHJhbnNmb3JtYXRpb25zIHRvIGFwcGx5IHRvIHRoZSB2aWV3LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGBzdGFydGAgYW5kIGBlbmRgXG4gICAgICogIHBvc2l0aW9ucyBvZiB0aGUgdmlldy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRWaWV3KHN0YXJ0LCBlbmQsIHRyYW5zZm9ybXMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHRyYW5zZm9ybXMubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgZGF0YSA9IHRyYW5zZm9ybXNbaW5kZXhdLFxuICAgICAgICAgICAgc2l6ZSA9IGRhdGEuc2l6ZTtcblxuICAgICAgICBzd2l0Y2ggKGRhdGEudHlwZSkge1xuICAgICAgICAgIGNhc2UgJ2Ryb3AnOiAgICAgIHN0YXJ0ICs9IHNpemU7IGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ2Ryb3BSaWdodCc6IGVuZCAtPSBzaXplOyBicmVhaztcbiAgICAgICAgICBjYXNlICd0YWtlJzogICAgICBlbmQgPSBuYXRpdmVNaW4oZW5kLCBzdGFydCArIHNpemUpOyBicmVhaztcbiAgICAgICAgICBjYXNlICd0YWtlUmlnaHQnOiBzdGFydCA9IG5hdGl2ZU1heChzdGFydCwgZW5kIC0gc2l6ZSk7IGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4geyAnc3RhcnQnOiBzdGFydCwgJ2VuZCc6IGVuZCB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4dHJhY3RzIHdyYXBwZXIgZGV0YWlscyBmcm9tIHRoZSBgc291cmNlYCBib2R5IGNvbW1lbnQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzb3VyY2UgVGhlIHNvdXJjZSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgd3JhcHBlciBkZXRhaWxzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldFdyYXBEZXRhaWxzKHNvdXJjZSkge1xuICAgICAgdmFyIG1hdGNoID0gc291cmNlLm1hdGNoKHJlV3JhcERldGFpbHMpO1xuICAgICAgcmV0dXJuIG1hdGNoID8gbWF0Y2hbMV0uc3BsaXQocmVTcGxpdERldGFpbHMpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBwYXRoYCBleGlzdHMgb24gYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCB0byBjaGVjay5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYXNGdW5jIFRoZSBmdW5jdGlvbiB0byBjaGVjayBwcm9wZXJ0aWVzLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgcGF0aGAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzUGF0aChvYmplY3QsIHBhdGgsIGhhc0Z1bmMpIHtcbiAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuXG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBwYXRoLmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGtleSA9IHRvS2V5KHBhdGhbaW5kZXhdKTtcbiAgICAgICAgaWYgKCEocmVzdWx0ID0gb2JqZWN0ICE9IG51bGwgJiYgaGFzRnVuYyhvYmplY3QsIGtleSkpKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgb2JqZWN0ID0gb2JqZWN0W2tleV07XG4gICAgICB9XG4gICAgICBpZiAocmVzdWx0IHx8ICsraW5kZXggIT0gbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICBsZW5ndGggPSBvYmplY3QgPT0gbnVsbCA/IDAgOiBvYmplY3QubGVuZ3RoO1xuICAgICAgcmV0dXJuICEhbGVuZ3RoICYmIGlzTGVuZ3RoKGxlbmd0aCkgJiYgaXNJbmRleChrZXksIGxlbmd0aCkgJiZcbiAgICAgICAgKGlzQXJyYXkob2JqZWN0KSB8fCBpc0FyZ3VtZW50cyhvYmplY3QpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyBhbiBhcnJheSBjbG9uZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgaW5pdGlhbGl6ZWQgY2xvbmUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5pdENsb25lQXJyYXkoYXJyYXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0gbmV3IGFycmF5LmNvbnN0cnVjdG9yKGxlbmd0aCk7XG5cbiAgICAgIC8vIEFkZCBwcm9wZXJ0aWVzIGFzc2lnbmVkIGJ5IGBSZWdFeHAjZXhlY2AuXG4gICAgICBpZiAobGVuZ3RoICYmIHR5cGVvZiBhcnJheVswXSA9PSAnc3RyaW5nJyAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGFycmF5LCAnaW5kZXgnKSkge1xuICAgICAgICByZXN1bHQuaW5kZXggPSBhcnJheS5pbmRleDtcbiAgICAgICAgcmVzdWx0LmlucHV0ID0gYXJyYXkuaW5wdXQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIGFuIG9iamVjdCBjbG9uZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGluaXRpYWxpemVkIGNsb25lLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluaXRDbG9uZU9iamVjdChvYmplY3QpIHtcbiAgICAgIHJldHVybiAodHlwZW9mIG9iamVjdC5jb25zdHJ1Y3RvciA9PSAnZnVuY3Rpb24nICYmICFpc1Byb3RvdHlwZShvYmplY3QpKVxuICAgICAgICA/IGJhc2VDcmVhdGUoZ2V0UHJvdG90eXBlKG9iamVjdCkpXG4gICAgICAgIDoge307XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgYW4gb2JqZWN0IGNsb25lIGJhc2VkIG9uIGl0cyBgdG9TdHJpbmdUYWdgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgZnVuY3Rpb24gb25seSBzdXBwb3J0cyBjbG9uaW5nIHZhbHVlcyB3aXRoIHRhZ3Mgb2ZcbiAgICAgKiBgQm9vbGVhbmAsIGBEYXRlYCwgYEVycm9yYCwgYE1hcGAsIGBOdW1iZXJgLCBgUmVnRXhwYCwgYFNldGAsIG9yIGBTdHJpbmdgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRhZyBUaGUgYHRvU3RyaW5nVGFnYCBvZiB0aGUgb2JqZWN0IHRvIGNsb25lLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRGVlcF0gU3BlY2lmeSBhIGRlZXAgY2xvbmUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgaW5pdGlhbGl6ZWQgY2xvbmUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5pdENsb25lQnlUYWcob2JqZWN0LCB0YWcsIGlzRGVlcCkge1xuICAgICAgdmFyIEN0b3IgPSBvYmplY3QuY29uc3RydWN0b3I7XG4gICAgICBzd2l0Y2ggKHRhZykge1xuICAgICAgICBjYXNlIGFycmF5QnVmZmVyVGFnOlxuICAgICAgICAgIHJldHVybiBjbG9uZUFycmF5QnVmZmVyKG9iamVjdCk7XG5cbiAgICAgICAgY2FzZSBib29sVGFnOlxuICAgICAgICBjYXNlIGRhdGVUYWc6XG4gICAgICAgICAgcmV0dXJuIG5ldyBDdG9yKCtvYmplY3QpO1xuXG4gICAgICAgIGNhc2UgZGF0YVZpZXdUYWc6XG4gICAgICAgICAgcmV0dXJuIGNsb25lRGF0YVZpZXcob2JqZWN0LCBpc0RlZXApO1xuXG4gICAgICAgIGNhc2UgZmxvYXQzMlRhZzogY2FzZSBmbG9hdDY0VGFnOlxuICAgICAgICBjYXNlIGludDhUYWc6IGNhc2UgaW50MTZUYWc6IGNhc2UgaW50MzJUYWc6XG4gICAgICAgIGNhc2UgdWludDhUYWc6IGNhc2UgdWludDhDbGFtcGVkVGFnOiBjYXNlIHVpbnQxNlRhZzogY2FzZSB1aW50MzJUYWc6XG4gICAgICAgICAgcmV0dXJuIGNsb25lVHlwZWRBcnJheShvYmplY3QsIGlzRGVlcCk7XG5cbiAgICAgICAgY2FzZSBtYXBUYWc6XG4gICAgICAgICAgcmV0dXJuIG5ldyBDdG9yO1xuXG4gICAgICAgIGNhc2UgbnVtYmVyVGFnOlxuICAgICAgICBjYXNlIHN0cmluZ1RhZzpcbiAgICAgICAgICByZXR1cm4gbmV3IEN0b3Iob2JqZWN0KTtcblxuICAgICAgICBjYXNlIHJlZ2V4cFRhZzpcbiAgICAgICAgICByZXR1cm4gY2xvbmVSZWdFeHAob2JqZWN0KTtcblxuICAgICAgICBjYXNlIHNldFRhZzpcbiAgICAgICAgICByZXR1cm4gbmV3IEN0b3I7XG5cbiAgICAgICAgY2FzZSBzeW1ib2xUYWc6XG4gICAgICAgICAgcmV0dXJuIGNsb25lU3ltYm9sKG9iamVjdCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5zZXJ0cyB3cmFwcGVyIGBkZXRhaWxzYCBpbiBhIGNvbW1lbnQgYXQgdGhlIHRvcCBvZiB0aGUgYHNvdXJjZWAgYm9keS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNvdXJjZSBUaGUgc291cmNlIHRvIG1vZGlmeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IGRldGFpbHMgVGhlIGRldGFpbHMgdG8gaW5zZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIG1vZGlmaWVkIHNvdXJjZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbnNlcnRXcmFwRGV0YWlscyhzb3VyY2UsIGRldGFpbHMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBkZXRhaWxzLmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2U7XG4gICAgICB9XG4gICAgICB2YXIgbGFzdEluZGV4ID0gbGVuZ3RoIC0gMTtcbiAgICAgIGRldGFpbHNbbGFzdEluZGV4XSA9IChsZW5ndGggPiAxID8gJyYgJyA6ICcnKSArIGRldGFpbHNbbGFzdEluZGV4XTtcbiAgICAgIGRldGFpbHMgPSBkZXRhaWxzLmpvaW4obGVuZ3RoID4gMiA/ICcsICcgOiAnICcpO1xuICAgICAgcmV0dXJuIHNvdXJjZS5yZXBsYWNlKHJlV3JhcENvbW1lbnQsICd7XFxuLyogW3dyYXBwZWQgd2l0aCAnICsgZGV0YWlscyArICddICovXFxuJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBmbGF0dGVuYWJsZSBgYXJndW1lbnRzYCBvYmplY3Qgb3IgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGZsYXR0ZW5hYmxlLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNGbGF0dGVuYWJsZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzQXJyYXkodmFsdWUpIHx8IGlzQXJndW1lbnRzKHZhbHVlKSB8fFxuICAgICAgICAhIShzcHJlYWRhYmxlU3ltYm9sICYmIHZhbHVlICYmIHZhbHVlW3NwcmVhZGFibGVTeW1ib2xdKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGFycmF5LWxpa2UgaW5kZXguXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPU1BWF9TQUZFX0lOVEVHRVJdIFRoZSB1cHBlciBib3VuZHMgb2YgYSB2YWxpZCBpbmRleC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGluZGV4LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNJbmRleCh2YWx1ZSwgbGVuZ3RoKSB7XG4gICAgICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgICAgIGxlbmd0aCA9IGxlbmd0aCA9PSBudWxsID8gTUFYX1NBRkVfSU5URUdFUiA6IGxlbmd0aDtcblxuICAgICAgcmV0dXJuICEhbGVuZ3RoICYmXG4gICAgICAgICh0eXBlID09ICdudW1iZXInIHx8XG4gICAgICAgICAgKHR5cGUgIT0gJ3N5bWJvbCcgJiYgcmVJc1VpbnQudGVzdCh2YWx1ZSkpKSAmJlxuICAgICAgICAgICAgKHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPCBsZW5ndGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiB0aGUgZ2l2ZW4gYXJndW1lbnRzIGFyZSBmcm9tIGFuIGl0ZXJhdGVlIGNhbGwuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHBvdGVudGlhbCBpdGVyYXRlZSB2YWx1ZSBhcmd1bWVudC5cbiAgICAgKiBAcGFyYW0geyp9IGluZGV4IFRoZSBwb3RlbnRpYWwgaXRlcmF0ZWUgaW5kZXggb3Iga2V5IGFyZ3VtZW50LlxuICAgICAqIEBwYXJhbSB7Kn0gb2JqZWN0IFRoZSBwb3RlbnRpYWwgaXRlcmF0ZWUgb2JqZWN0IGFyZ3VtZW50LlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYXJndW1lbnRzIGFyZSBmcm9tIGFuIGl0ZXJhdGVlIGNhbGwsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0l0ZXJhdGVlQ2FsbCh2YWx1ZSwgaW5kZXgsIG9iamVjdCkge1xuICAgICAgaWYgKCFpc09iamVjdChvYmplY3QpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciB0eXBlID0gdHlwZW9mIGluZGV4O1xuICAgICAgaWYgKHR5cGUgPT0gJ251bWJlcidcbiAgICAgICAgICAgID8gKGlzQXJyYXlMaWtlKG9iamVjdCkgJiYgaXNJbmRleChpbmRleCwgb2JqZWN0Lmxlbmd0aCkpXG4gICAgICAgICAgICA6ICh0eXBlID09ICdzdHJpbmcnICYmIGluZGV4IGluIG9iamVjdClcbiAgICAgICAgICApIHtcbiAgICAgICAgcmV0dXJuIGVxKG9iamVjdFtpbmRleF0sIHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHByb3BlcnR5IG5hbWUgYW5kIG5vdCBhIHByb3BlcnR5IHBhdGguXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5IGtleXMgb24uXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwcm9wZXJ0eSBuYW1lLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNLZXkodmFsdWUsIG9iamVjdCkge1xuICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICAgICAgaWYgKHR5cGUgPT0gJ251bWJlcicgfHwgdHlwZSA9PSAnc3ltYm9sJyB8fCB0eXBlID09ICdib29sZWFuJyB8fFxuICAgICAgICAgIHZhbHVlID09IG51bGwgfHwgaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlSXNQbGFpblByb3AudGVzdCh2YWx1ZSkgfHwgIXJlSXNEZWVwUHJvcC50ZXN0KHZhbHVlKSB8fFxuICAgICAgICAob2JqZWN0ICE9IG51bGwgJiYgdmFsdWUgaW4gT2JqZWN0KG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlIGZvciB1c2UgYXMgdW5pcXVlIG9iamVjdCBrZXkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNLZXlhYmxlKHZhbHVlKSB7XG4gICAgICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgICAgIHJldHVybiAodHlwZSA9PSAnc3RyaW5nJyB8fCB0eXBlID09ICdudW1iZXInIHx8IHR5cGUgPT0gJ3N5bWJvbCcgfHwgdHlwZSA9PSAnYm9vbGVhbicpXG4gICAgICAgID8gKHZhbHVlICE9PSAnX19wcm90b19fJylcbiAgICAgICAgOiAodmFsdWUgPT09IG51bGwpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgZnVuY2AgaGFzIGEgbGF6eSBjb3VudGVycGFydC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBmdW5jYCBoYXMgYSBsYXp5IGNvdW50ZXJwYXJ0LFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNMYXppYWJsZShmdW5jKSB7XG4gICAgICB2YXIgZnVuY05hbWUgPSBnZXRGdW5jTmFtZShmdW5jKSxcbiAgICAgICAgICBvdGhlciA9IGxvZGFzaFtmdW5jTmFtZV07XG5cbiAgICAgIGlmICh0eXBlb2Ygb3RoZXIgIT0gJ2Z1bmN0aW9uJyB8fCAhKGZ1bmNOYW1lIGluIExhenlXcmFwcGVyLnByb3RvdHlwZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKGZ1bmMgPT09IG90aGVyKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgdmFyIGRhdGEgPSBnZXREYXRhKG90aGVyKTtcbiAgICAgIHJldHVybiAhIWRhdGEgJiYgZnVuYyA9PT0gZGF0YVswXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYGZ1bmNgIGhhcyBpdHMgc291cmNlIG1hc2tlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBmdW5jYCBpcyBtYXNrZWQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc01hc2tlZChmdW5jKSB7XG4gICAgICByZXR1cm4gISFtYXNrU3JjS2V5ICYmIChtYXNrU3JjS2V5IGluIGZ1bmMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgZnVuY2AgaXMgY2FwYWJsZSBvZiBiZWluZyBtYXNrZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgZnVuY2AgaXMgbWFza2FibGUsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICB2YXIgaXNNYXNrYWJsZSA9IGNvcmVKc0RhdGEgPyBpc0Z1bmN0aW9uIDogc3R1YkZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGEgcHJvdG90eXBlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwcm90b3R5cGUsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1Byb3RvdHlwZSh2YWx1ZSkge1xuICAgICAgdmFyIEN0b3IgPSB2YWx1ZSAmJiB2YWx1ZS5jb25zdHJ1Y3RvcixcbiAgICAgICAgICBwcm90byA9ICh0eXBlb2YgQ3RvciA9PSAnZnVuY3Rpb24nICYmIEN0b3IucHJvdG90eXBlKSB8fCBvYmplY3RQcm90bztcblxuICAgICAgcmV0dXJuIHZhbHVlID09PSBwcm90bztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSBmb3Igc3RyaWN0IGVxdWFsaXR5IGNvbXBhcmlzb25zLCBpLmUuIGA9PT1gLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpZiBzdWl0YWJsZSBmb3Igc3RyaWN0XG4gICAgICogIGVxdWFsaXR5IGNvbXBhcmlzb25zLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNTdHJpY3RDb21wYXJhYmxlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT09IHZhbHVlICYmICFpc09iamVjdCh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBtYXRjaGVzUHJvcGVydHlgIGZvciBzb3VyY2UgdmFsdWVzIHN1aXRhYmxlXG4gICAgICogZm9yIHN0cmljdCBlcXVhbGl0eSBjb21wYXJpc29ucywgaS5lLiBgPT09YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHBhcmFtIHsqfSBzcmNWYWx1ZSBUaGUgdmFsdWUgdG8gbWF0Y2guXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXRjaGVzU3RyaWN0Q29tcGFyYWJsZShrZXksIHNyY1ZhbHVlKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqZWN0W2tleV0gPT09IHNyY1ZhbHVlICYmXG4gICAgICAgICAgKHNyY1ZhbHVlICE9PSB1bmRlZmluZWQgfHwgKGtleSBpbiBPYmplY3Qob2JqZWN0KSkpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8ubWVtb2l6ZWAgd2hpY2ggY2xlYXJzIHRoZSBtZW1vaXplZCBmdW5jdGlvbidzXG4gICAgICogY2FjaGUgd2hlbiBpdCBleGNlZWRzIGBNQVhfTUVNT0laRV9TSVpFYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaGF2ZSBpdHMgb3V0cHV0IG1lbW9pemVkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IG1lbW9pemVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1lbW9pemVDYXBwZWQoZnVuYykge1xuICAgICAgdmFyIHJlc3VsdCA9IG1lbW9pemUoZnVuYywgZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIGlmIChjYWNoZS5zaXplID09PSBNQVhfTUVNT0laRV9TSVpFKSB7XG4gICAgICAgICAgY2FjaGUuY2xlYXIoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ga2V5O1xuICAgICAgfSk7XG5cbiAgICAgIHZhciBjYWNoZSA9IHJlc3VsdC5jYWNoZTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTWVyZ2VzIHRoZSBmdW5jdGlvbiBtZXRhZGF0YSBvZiBgc291cmNlYCBpbnRvIGBkYXRhYC5cbiAgICAgKlxuICAgICAqIE1lcmdpbmcgbWV0YWRhdGEgcmVkdWNlcyB0aGUgbnVtYmVyIG9mIHdyYXBwZXJzIHVzZWQgdG8gaW52b2tlIGEgZnVuY3Rpb24uXG4gICAgICogVGhpcyBpcyBwb3NzaWJsZSBiZWNhdXNlIG1ldGhvZHMgbGlrZSBgXy5iaW5kYCwgYF8uY3VycnlgLCBhbmQgYF8ucGFydGlhbGBcbiAgICAgKiBtYXkgYmUgYXBwbGllZCByZWdhcmRsZXNzIG9mIGV4ZWN1dGlvbiBvcmRlci4gTWV0aG9kcyBsaWtlIGBfLmFyeWAgYW5kXG4gICAgICogYF8ucmVhcmdgIG1vZGlmeSBmdW5jdGlvbiBhcmd1bWVudHMsIG1ha2luZyB0aGUgb3JkZXIgaW4gd2hpY2ggdGhleSBhcmVcbiAgICAgKiBleGVjdXRlZCBpbXBvcnRhbnQsIHByZXZlbnRpbmcgdGhlIG1lcmdpbmcgb2YgbWV0YWRhdGEuIEhvd2V2ZXIsIHdlIG1ha2VcbiAgICAgKiBhbiBleGNlcHRpb24gZm9yIGEgc2FmZSBjb21iaW5lZCBjYXNlIHdoZXJlIGN1cnJpZWQgZnVuY3Rpb25zIGhhdmUgYF8uYXJ5YFxuICAgICAqIGFuZCBvciBgXy5yZWFyZ2AgYXBwbGllZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gZGF0YSBUaGUgZGVzdGluYXRpb24gbWV0YWRhdGEuXG4gICAgICogQHBhcmFtIHtBcnJheX0gc291cmNlIFRoZSBzb3VyY2UgbWV0YWRhdGEuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBkYXRhYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtZXJnZURhdGEoZGF0YSwgc291cmNlKSB7XG4gICAgICB2YXIgYml0bWFzayA9IGRhdGFbMV0sXG4gICAgICAgICAgc3JjQml0bWFzayA9IHNvdXJjZVsxXSxcbiAgICAgICAgICBuZXdCaXRtYXNrID0gYml0bWFzayB8IHNyY0JpdG1hc2ssXG4gICAgICAgICAgaXNDb21tb24gPSBuZXdCaXRtYXNrIDwgKFdSQVBfQklORF9GTEFHIHwgV1JBUF9CSU5EX0tFWV9GTEFHIHwgV1JBUF9BUllfRkxBRyk7XG5cbiAgICAgIHZhciBpc0NvbWJvID1cbiAgICAgICAgKChzcmNCaXRtYXNrID09IFdSQVBfQVJZX0ZMQUcpICYmIChiaXRtYXNrID09IFdSQVBfQ1VSUllfRkxBRykpIHx8XG4gICAgICAgICgoc3JjQml0bWFzayA9PSBXUkFQX0FSWV9GTEFHKSAmJiAoYml0bWFzayA9PSBXUkFQX1JFQVJHX0ZMQUcpICYmIChkYXRhWzddLmxlbmd0aCA8PSBzb3VyY2VbOF0pKSB8fFxuICAgICAgICAoKHNyY0JpdG1hc2sgPT0gKFdSQVBfQVJZX0ZMQUcgfCBXUkFQX1JFQVJHX0ZMQUcpKSAmJiAoc291cmNlWzddLmxlbmd0aCA8PSBzb3VyY2VbOF0pICYmIChiaXRtYXNrID09IFdSQVBfQ1VSUllfRkxBRykpO1xuXG4gICAgICAvLyBFeGl0IGVhcmx5IGlmIG1ldGFkYXRhIGNhbid0IGJlIG1lcmdlZC5cbiAgICAgIGlmICghKGlzQ29tbW9uIHx8IGlzQ29tYm8pKSB7XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgfVxuICAgICAgLy8gVXNlIHNvdXJjZSBgdGhpc0FyZ2AgaWYgYXZhaWxhYmxlLlxuICAgICAgaWYgKHNyY0JpdG1hc2sgJiBXUkFQX0JJTkRfRkxBRykge1xuICAgICAgICBkYXRhWzJdID0gc291cmNlWzJdO1xuICAgICAgICAvLyBTZXQgd2hlbiBjdXJyeWluZyBhIGJvdW5kIGZ1bmN0aW9uLlxuICAgICAgICBuZXdCaXRtYXNrIHw9IGJpdG1hc2sgJiBXUkFQX0JJTkRfRkxBRyA/IDAgOiBXUkFQX0NVUlJZX0JPVU5EX0ZMQUc7XG4gICAgICB9XG4gICAgICAvLyBDb21wb3NlIHBhcnRpYWwgYXJndW1lbnRzLlxuICAgICAgdmFyIHZhbHVlID0gc291cmNlWzNdO1xuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIHZhciBwYXJ0aWFscyA9IGRhdGFbM107XG4gICAgICAgIGRhdGFbM10gPSBwYXJ0aWFscyA/IGNvbXBvc2VBcmdzKHBhcnRpYWxzLCB2YWx1ZSwgc291cmNlWzRdKSA6IHZhbHVlO1xuICAgICAgICBkYXRhWzRdID0gcGFydGlhbHMgPyByZXBsYWNlSG9sZGVycyhkYXRhWzNdLCBQTEFDRUhPTERFUikgOiBzb3VyY2VbNF07XG4gICAgICB9XG4gICAgICAvLyBDb21wb3NlIHBhcnRpYWwgcmlnaHQgYXJndW1lbnRzLlxuICAgICAgdmFsdWUgPSBzb3VyY2VbNV07XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgcGFydGlhbHMgPSBkYXRhWzVdO1xuICAgICAgICBkYXRhWzVdID0gcGFydGlhbHMgPyBjb21wb3NlQXJnc1JpZ2h0KHBhcnRpYWxzLCB2YWx1ZSwgc291cmNlWzZdKSA6IHZhbHVlO1xuICAgICAgICBkYXRhWzZdID0gcGFydGlhbHMgPyByZXBsYWNlSG9sZGVycyhkYXRhWzVdLCBQTEFDRUhPTERFUikgOiBzb3VyY2VbNl07XG4gICAgICB9XG4gICAgICAvLyBVc2Ugc291cmNlIGBhcmdQb3NgIGlmIGF2YWlsYWJsZS5cbiAgICAgIHZhbHVlID0gc291cmNlWzddO1xuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIGRhdGFbN10gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIC8vIFVzZSBzb3VyY2UgYGFyeWAgaWYgaXQncyBzbWFsbGVyLlxuICAgICAgaWYgKHNyY0JpdG1hc2sgJiBXUkFQX0FSWV9GTEFHKSB7XG4gICAgICAgIGRhdGFbOF0gPSBkYXRhWzhdID09IG51bGwgPyBzb3VyY2VbOF0gOiBuYXRpdmVNaW4oZGF0YVs4XSwgc291cmNlWzhdKTtcbiAgICAgIH1cbiAgICAgIC8vIFVzZSBzb3VyY2UgYGFyaXR5YCBpZiBvbmUgaXMgbm90IHByb3ZpZGVkLlxuICAgICAgaWYgKGRhdGFbOV0gPT0gbnVsbCkge1xuICAgICAgICBkYXRhWzldID0gc291cmNlWzldO1xuICAgICAgfVxuICAgICAgLy8gVXNlIHNvdXJjZSBgZnVuY2AgYW5kIG1lcmdlIGJpdG1hc2tzLlxuICAgICAgZGF0YVswXSA9IHNvdXJjZVswXTtcbiAgICAgIGRhdGFbMV0gPSBuZXdCaXRtYXNrO1xuXG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2VcbiAgICAgKiBbYE9iamVjdC5rZXlzYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LmtleXMpXG4gICAgICogZXhjZXB0IHRoYXQgaXQgaW5jbHVkZXMgaW5oZXJpdGVkIGVudW1lcmFibGUgcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbmF0aXZlS2V5c0luKG9iamVjdCkge1xuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgaWYgKG9iamVjdCAhPSBudWxsKSB7XG4gICAgICAgIGZvciAodmFyIGtleSBpbiBPYmplY3Qob2JqZWN0KSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZyB1c2luZyBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY29udmVydGVkIHN0cmluZy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvYmplY3RUb1N0cmluZyh2YWx1ZSkge1xuICAgICAgcmV0dXJuIG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZVJlc3RgIHdoaWNoIHRyYW5zZm9ybXMgdGhlIHJlc3QgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD1mdW5jLmxlbmd0aC0xXSBUaGUgc3RhcnQgcG9zaXRpb24gb2YgdGhlIHJlc3QgcGFyYW1ldGVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBUaGUgcmVzdCBhcnJheSB0cmFuc2Zvcm0uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gb3ZlclJlc3QoZnVuYywgc3RhcnQsIHRyYW5zZm9ybSkge1xuICAgICAgc3RhcnQgPSBuYXRpdmVNYXgoc3RhcnQgPT09IHVuZGVmaW5lZCA/IChmdW5jLmxlbmd0aCAtIDEpIDogc3RhcnQsIDApO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgICAgIGluZGV4ID0gLTEsXG4gICAgICAgICAgICBsZW5ndGggPSBuYXRpdmVNYXgoYXJncy5sZW5ndGggLSBzdGFydCwgMCksXG4gICAgICAgICAgICBhcnJheSA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICBhcnJheVtpbmRleF0gPSBhcmdzW3N0YXJ0ICsgaW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIGluZGV4ID0gLTE7XG4gICAgICAgIHZhciBvdGhlckFyZ3MgPSBBcnJheShzdGFydCArIDEpO1xuICAgICAgICB3aGlsZSAoKytpbmRleCA8IHN0YXJ0KSB7XG4gICAgICAgICAgb3RoZXJBcmdzW2luZGV4XSA9IGFyZ3NbaW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIG90aGVyQXJnc1tzdGFydF0gPSB0cmFuc2Zvcm0oYXJyYXkpO1xuICAgICAgICByZXR1cm4gYXBwbHkoZnVuYywgdGhpcywgb3RoZXJBcmdzKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgcGFyZW50IHZhbHVlIGF0IGBwYXRoYCBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhdGggVGhlIHBhdGggdG8gZ2V0IHRoZSBwYXJlbnQgdmFsdWUgb2YuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHBhcmVudCB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwYXJlbnQob2JqZWN0LCBwYXRoKSB7XG4gICAgICByZXR1cm4gcGF0aC5sZW5ndGggPCAyID8gb2JqZWN0IDogYmFzZUdldChvYmplY3QsIGJhc2VTbGljZShwYXRoLCAwLCAtMSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlb3JkZXIgYGFycmF5YCBhY2NvcmRpbmcgdG8gdGhlIHNwZWNpZmllZCBpbmRleGVzIHdoZXJlIHRoZSBlbGVtZW50IGF0XG4gICAgICogdGhlIGZpcnN0IGluZGV4IGlzIGFzc2lnbmVkIGFzIHRoZSBmaXJzdCBlbGVtZW50LCB0aGUgZWxlbWVudCBhdFxuICAgICAqIHRoZSBzZWNvbmQgaW5kZXggaXMgYXNzaWduZWQgYXMgdGhlIHNlY29uZCBlbGVtZW50LCBhbmQgc28gb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byByZW9yZGVyLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGluZGV4ZXMgVGhlIGFycmFuZ2VkIGFycmF5IGluZGV4ZXMuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVvcmRlcihhcnJheSwgaW5kZXhlcykge1xuICAgICAgdmFyIGFyckxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICBsZW5ndGggPSBuYXRpdmVNaW4oaW5kZXhlcy5sZW5ndGgsIGFyckxlbmd0aCksXG4gICAgICAgICAgb2xkQXJyYXkgPSBjb3B5QXJyYXkoYXJyYXkpO1xuXG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgdmFyIGluZGV4ID0gaW5kZXhlc1tsZW5ndGhdO1xuICAgICAgICBhcnJheVtsZW5ndGhdID0gaXNJbmRleChpbmRleCwgYXJyTGVuZ3RoKSA/IG9sZEFycmF5W2luZGV4XSA6IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSB2YWx1ZSBhdCBga2V5YCwgdW5sZXNzIGBrZXlgIGlzIFwiX19wcm90b19fXCIgb3IgXCJjb25zdHJ1Y3RvclwiLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHByb3BlcnR5IHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNhZmVHZXQob2JqZWN0LCBrZXkpIHtcbiAgICAgIGlmIChrZXkgPT09ICdjb25zdHJ1Y3RvcicgJiYgdHlwZW9mIG9iamVjdFtrZXldID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGtleSA9PSAnX19wcm90b19fJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvYmplY3Rba2V5XTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIG1ldGFkYXRhIGZvciBgZnVuY2AuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogSWYgdGhpcyBmdW5jdGlvbiBiZWNvbWVzIGhvdCwgaS5lLiBpcyBpbnZva2VkIGEgbG90IGluIGEgc2hvcnRcbiAgICAgKiBwZXJpb2Qgb2YgdGltZSwgaXQgd2lsbCB0cmlwIGl0cyBicmVha2VyIGFuZCB0cmFuc2l0aW9uIHRvIGFuIGlkZW50aXR5XG4gICAgICogZnVuY3Rpb24gdG8gYXZvaWQgZ2FyYmFnZSBjb2xsZWN0aW9uIHBhdXNlcyBpbiBWOC4gU2VlXG4gICAgICogW1Y4IGlzc3VlIDIwNzBdKGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTIwNzApXG4gICAgICogZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXNzb2NpYXRlIG1ldGFkYXRhIHdpdGguXG4gICAgICogQHBhcmFtIHsqfSBkYXRhIFRoZSBtZXRhZGF0YS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGZ1bmNgLlxuICAgICAqL1xuICAgIHZhciBzZXREYXRhID0gc2hvcnRPdXQoYmFzZVNldERhdGEpO1xuXG4gICAgLyoqXG4gICAgICogQSBzaW1wbGUgd3JhcHBlciBhcm91bmQgdGhlIGdsb2JhbCBbYHNldFRpbWVvdXRgXShodHRwczovL21kbi5pby9zZXRUaW1lb3V0KS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZGVsYXkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdhaXQgVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gZGVsYXkgaW52b2NhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfE9iamVjdH0gUmV0dXJucyB0aGUgdGltZXIgaWQgb3IgdGltZW91dCBvYmplY3QuXG4gICAgICovXG4gICAgdmFyIHNldFRpbWVvdXQgPSBjdHhTZXRUaW1lb3V0IHx8IGZ1bmN0aW9uKGZ1bmMsIHdhaXQpIHtcbiAgICAgIHJldHVybiByb290LnNldFRpbWVvdXQoZnVuYywgd2FpdCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGB0b1N0cmluZ2AgbWV0aG9kIG9mIGBmdW5jYCB0byByZXR1cm4gYHN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzdHJpbmcgVGhlIGB0b1N0cmluZ2AgcmVzdWx0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgZnVuY2AuXG4gICAgICovXG4gICAgdmFyIHNldFRvU3RyaW5nID0gc2hvcnRPdXQoYmFzZVNldFRvU3RyaW5nKTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGB0b1N0cmluZ2AgbWV0aG9kIG9mIGB3cmFwcGVyYCB0byBtaW1pYyB0aGUgc291cmNlIG9mIGByZWZlcmVuY2VgXG4gICAgICogd2l0aCB3cmFwcGVyIGRldGFpbHMgaW4gYSBjb21tZW50IGF0IHRoZSB0b3Agb2YgdGhlIHNvdXJjZSBib2R5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB3cmFwcGVyIFRoZSBmdW5jdGlvbiB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcmVmZXJlbmNlIFRoZSByZWZlcmVuY2UgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgY3JlYXRlV3JhcGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYHdyYXBwZXJgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldFdyYXBUb1N0cmluZyh3cmFwcGVyLCByZWZlcmVuY2UsIGJpdG1hc2spIHtcbiAgICAgIHZhciBzb3VyY2UgPSAocmVmZXJlbmNlICsgJycpO1xuICAgICAgcmV0dXJuIHNldFRvU3RyaW5nKHdyYXBwZXIsIGluc2VydFdyYXBEZXRhaWxzKHNvdXJjZSwgdXBkYXRlV3JhcERldGFpbHMoZ2V0V3JhcERldGFpbHMoc291cmNlKSwgYml0bWFzaykpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCdsbCBzaG9ydCBvdXQgYW5kIGludm9rZSBgaWRlbnRpdHlgIGluc3RlYWRcbiAgICAgKiBvZiBgZnVuY2Agd2hlbiBpdCdzIGNhbGxlZCBgSE9UX0NPVU5UYCBvciBtb3JlIHRpbWVzIGluIGBIT1RfU1BBTmBcbiAgICAgKiBtaWxsaXNlY29uZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHJlc3RyaWN0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNob3J0YWJsZSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzaG9ydE91dChmdW5jKSB7XG4gICAgICB2YXIgY291bnQgPSAwLFxuICAgICAgICAgIGxhc3RDYWxsZWQgPSAwO1xuXG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBzdGFtcCA9IG5hdGl2ZU5vdygpLFxuICAgICAgICAgICAgcmVtYWluaW5nID0gSE9UX1NQQU4gLSAoc3RhbXAgLSBsYXN0Q2FsbGVkKTtcblxuICAgICAgICBsYXN0Q2FsbGVkID0gc3RhbXA7XG4gICAgICAgIGlmIChyZW1haW5pbmcgPiAwKSB7XG4gICAgICAgICAgaWYgKCsrY291bnQgPj0gSE9UX0NPVU5UKSB7XG4gICAgICAgICAgICByZXR1cm4gYXJndW1lbnRzWzBdO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb3VudCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkodW5kZWZpbmVkLCBhcmd1bWVudHMpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uc2h1ZmZsZWAgd2hpY2ggbXV0YXRlcyBhbmQgc2V0cyB0aGUgc2l6ZSBvZiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2h1ZmZsZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NpemU9YXJyYXkubGVuZ3RoXSBUaGUgc2l6ZSBvZiBgYXJyYXlgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNodWZmbGVTZWxmKGFycmF5LCBzaXplKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgbGFzdEluZGV4ID0gbGVuZ3RoIC0gMTtcblxuICAgICAgc2l6ZSA9IHNpemUgPT09IHVuZGVmaW5lZCA/IGxlbmd0aCA6IHNpemU7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IHNpemUpIHtcbiAgICAgICAgdmFyIHJhbmQgPSBiYXNlUmFuZG9tKGluZGV4LCBsYXN0SW5kZXgpLFxuICAgICAgICAgICAgdmFsdWUgPSBhcnJheVtyYW5kXTtcblxuICAgICAgICBhcnJheVtyYW5kXSA9IGFycmF5W2luZGV4XTtcbiAgICAgICAgYXJyYXlbaW5kZXhdID0gdmFsdWU7XG4gICAgICB9XG4gICAgICBhcnJheS5sZW5ndGggPSBzaXplO1xuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgIHRvIGEgcHJvcGVydHkgcGF0aCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICAgICAqL1xuICAgIHZhciBzdHJpbmdUb1BhdGggPSBtZW1vaXplQ2FwcGVkKGZ1bmN0aW9uKHN0cmluZykge1xuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgaWYgKHN0cmluZy5jaGFyQ29kZUF0KDApID09PSA0NiAvKiAuICovKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKCcnKTtcbiAgICAgIH1cbiAgICAgIHN0cmluZy5yZXBsYWNlKHJlUHJvcE5hbWUsIGZ1bmN0aW9uKG1hdGNoLCBudW1iZXIsIHF1b3RlLCBzdWJTdHJpbmcpIHtcbiAgICAgICAgcmVzdWx0LnB1c2gocXVvdGUgPyBzdWJTdHJpbmcucmVwbGFjZShyZUVzY2FwZUNoYXIsICckMScpIDogKG51bWJlciB8fCBtYXRjaCkpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZyBrZXkgaWYgaXQncyBub3QgYSBzdHJpbmcgb3Igc3ltYm9sLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd8c3ltYm9sfSBSZXR1cm5zIHRoZSBrZXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9LZXkodmFsdWUpIHtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycgfHwgaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSAodmFsdWUgKyAnJyk7XG4gICAgICByZXR1cm4gKHJlc3VsdCA9PSAnMCcgJiYgKDEgLyB2YWx1ZSkgPT0gLUlORklOSVRZKSA/ICctMCcgOiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYGZ1bmNgIHRvIGl0cyBzb3VyY2UgY29kZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzb3VyY2UgY29kZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b1NvdXJjZShmdW5jKSB7XG4gICAgICBpZiAoZnVuYyAhPSBudWxsKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmNUb1N0cmluZy5jYWxsKGZ1bmMpO1xuICAgICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiAoZnVuYyArICcnKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgIH1cbiAgICAgIHJldHVybiAnJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHdyYXBwZXIgYGRldGFpbHNgIGJhc2VkIG9uIGBiaXRtYXNrYCBmbGFncy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybnMge0FycmF5fSBkZXRhaWxzIFRoZSBkZXRhaWxzIHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBjcmVhdGVXcmFwYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgZGV0YWlsc2AuXG4gICAgICovXG4gICAgZnVuY3Rpb24gdXBkYXRlV3JhcERldGFpbHMoZGV0YWlscywgYml0bWFzaykge1xuICAgICAgYXJyYXlFYWNoKHdyYXBGbGFncywgZnVuY3Rpb24ocGFpcikge1xuICAgICAgICB2YXIgdmFsdWUgPSAnXy4nICsgcGFpclswXTtcbiAgICAgICAgaWYgKChiaXRtYXNrICYgcGFpclsxXSkgJiYgIWFycmF5SW5jbHVkZXMoZGV0YWlscywgdmFsdWUpKSB7XG4gICAgICAgICAgZGV0YWlscy5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gZGV0YWlscy5zb3J0KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIGB3cmFwcGVyYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHdyYXBwZXIgVGhlIHdyYXBwZXIgdG8gY2xvbmUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIHdyYXBwZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlckNsb25lKHdyYXBwZXIpIHtcbiAgICAgIGlmICh3cmFwcGVyIGluc3RhbmNlb2YgTGF6eVdyYXBwZXIpIHtcbiAgICAgICAgcmV0dXJuIHdyYXBwZXIuY2xvbmUoKTtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSBuZXcgTG9kYXNoV3JhcHBlcih3cmFwcGVyLl9fd3JhcHBlZF9fLCB3cmFwcGVyLl9fY2hhaW5fXyk7XG4gICAgICByZXN1bHQuX19hY3Rpb25zX18gPSBjb3B5QXJyYXkod3JhcHBlci5fX2FjdGlvbnNfXyk7XG4gICAgICByZXN1bHQuX19pbmRleF9fICA9IHdyYXBwZXIuX19pbmRleF9fO1xuICAgICAgcmVzdWx0Ll9fdmFsdWVzX18gPSB3cmFwcGVyLl9fdmFsdWVzX187XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgZWxlbWVudHMgc3BsaXQgaW50byBncm91cHMgdGhlIGxlbmd0aCBvZiBgc2l6ZWAuXG4gICAgICogSWYgYGFycmF5YCBjYW4ndCBiZSBzcGxpdCBldmVubHksIHRoZSBmaW5hbCBjaHVuayB3aWxsIGJlIHRoZSByZW1haW5pbmdcbiAgICAgKiBlbGVtZW50cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBwcm9jZXNzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2l6ZT0xXSBUaGUgbGVuZ3RoIG9mIGVhY2ggY2h1bmtcbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGNodW5rcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5jaHVuayhbJ2EnLCAnYicsICdjJywgJ2QnXSwgMik7XG4gICAgICogLy8gPT4gW1snYScsICdiJ10sIFsnYycsICdkJ11dXG4gICAgICpcbiAgICAgKiBfLmNodW5rKFsnYScsICdiJywgJ2MnLCAnZCddLCAzKTtcbiAgICAgKiAvLyA9PiBbWydhJywgJ2InLCAnYyddLCBbJ2QnXV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjaHVuayhhcnJheSwgc2l6ZSwgZ3VhcmQpIHtcbiAgICAgIGlmICgoZ3VhcmQgPyBpc0l0ZXJhdGVlQ2FsbChhcnJheSwgc2l6ZSwgZ3VhcmQpIDogc2l6ZSA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICBzaXplID0gMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNpemUgPSBuYXRpdmVNYXgodG9JbnRlZ2VyKHNpemUpLCAwKTtcbiAgICAgIH1cbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoIHx8IHNpemUgPCAxKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IDAsXG4gICAgICAgICAgcmVzSW5kZXggPSAwLFxuICAgICAgICAgIHJlc3VsdCA9IEFycmF5KG5hdGl2ZUNlaWwobGVuZ3RoIC8gc2l6ZSkpO1xuXG4gICAgICB3aGlsZSAoaW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0W3Jlc0luZGV4KytdID0gYmFzZVNsaWNlKGFycmF5LCBpbmRleCwgKGluZGV4ICs9IHNpemUpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSB3aXRoIGFsbCBmYWxzZXkgdmFsdWVzIHJlbW92ZWQuIFRoZSB2YWx1ZXMgYGZhbHNlYCwgYG51bGxgLFxuICAgICAqIGAwYCwgYFwiXCJgLCBgdW5kZWZpbmVkYCwgYW5kIGBOYU5gIGFyZSBmYWxzZXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gY29tcGFjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY29tcGFjdChbMCwgMSwgZmFsc2UsIDIsICcnLCAzXSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29tcGFjdChhcnJheSkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgcmVzSW5kZXggPSAwLFxuICAgICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgIHJlc3VsdFtyZXNJbmRleCsrXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgYXJyYXkgY29uY2F0ZW5hdGluZyBgYXJyYXlgIHdpdGggYW55IGFkZGl0aW9uYWwgYXJyYXlzXG4gICAgICogYW5kL29yIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBjb25jYXRlbmF0ZS5cbiAgICAgKiBAcGFyYW0gey4uLip9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gY29uY2F0ZW5hdGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgY29uY2F0ZW5hdGVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMV07XG4gICAgICogdmFyIG90aGVyID0gXy5jb25jYXQoYXJyYXksIDIsIFszXSwgW1s0XV0pO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2cob3RoZXIpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzLCBbNF1dXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29uY2F0KCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgYXJncyA9IEFycmF5KGxlbmd0aCAtIDEpLFxuICAgICAgICAgIGFycmF5ID0gYXJndW1lbnRzWzBdLFxuICAgICAgICAgIGluZGV4ID0gbGVuZ3RoO1xuXG4gICAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgICBhcmdzW2luZGV4IC0gMV0gPSBhcmd1bWVudHNbaW5kZXhdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5UHVzaChpc0FycmF5KGFycmF5KSA/IGNvcHlBcnJheShhcnJheSkgOiBbYXJyYXldLCBiYXNlRmxhdHRlbihhcmdzLCAxKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBgYXJyYXlgIHZhbHVlcyBub3QgaW5jbHVkZWQgaW4gdGhlIG90aGVyIGdpdmVuIGFycmF5c1xuICAgICAqIHVzaW5nIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLiBUaGUgb3JkZXIgYW5kIHJlZmVyZW5jZXMgb2YgcmVzdWx0IHZhbHVlcyBhcmVcbiAgICAgKiBkZXRlcm1pbmVkIGJ5IHRoZSBmaXJzdCBhcnJheS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8ucHVsbEFsbGAsIHRoaXMgbWV0aG9kIHJldHVybnMgYSBuZXcgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIGV4Y2x1ZGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBzZWUgXy53aXRob3V0LCBfLnhvclxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRpZmZlcmVuY2UoWzIsIDFdLCBbMiwgM10pO1xuICAgICAqIC8vID0+IFsxXVxuICAgICAqL1xuICAgIHZhciBkaWZmZXJlbmNlID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXksIHZhbHVlcykge1xuICAgICAgcmV0dXJuIGlzQXJyYXlMaWtlT2JqZWN0KGFycmF5KVxuICAgICAgICA/IGJhc2VEaWZmZXJlbmNlKGFycmF5LCBiYXNlRmxhdHRlbih2YWx1ZXMsIDEsIGlzQXJyYXlMaWtlT2JqZWN0LCB0cnVlKSlcbiAgICAgICAgOiBbXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZGlmZmVyZW5jZWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IG9mIGBhcnJheWAgYW5kIGB2YWx1ZXNgIHRvIGdlbmVyYXRlIHRoZSBjcml0ZXJpb25cbiAgICAgKiBieSB3aGljaCB0aGV5J3JlIGNvbXBhcmVkLiBUaGUgb3JkZXIgYW5kIHJlZmVyZW5jZXMgb2YgcmVzdWx0IHZhbHVlcyBhcmVcbiAgICAgKiBkZXRlcm1pbmVkIGJ5IHRoZSBmaXJzdCBhcnJheS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6XG4gICAgICogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8ucHVsbEFsbEJ5YCwgdGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gZXhjbHVkZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRpZmZlcmVuY2VCeShbMi4xLCAxLjJdLCBbMi4zLCAzLjRdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiBbMS4yXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5kaWZmZXJlbmNlQnkoW3sgJ3gnOiAyIH0sIHsgJ3gnOiAxIH1dLCBbeyAneCc6IDEgfV0sICd4Jyk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAyIH1dXG4gICAgICovXG4gICAgdmFyIGRpZmZlcmVuY2VCeSA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5LCB2YWx1ZXMpIHtcbiAgICAgIHZhciBpdGVyYXRlZSA9IGxhc3QodmFsdWVzKTtcbiAgICAgIGlmIChpc0FycmF5TGlrZU9iamVjdChpdGVyYXRlZSkpIHtcbiAgICAgICAgaXRlcmF0ZWUgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXNBcnJheUxpa2VPYmplY3QoYXJyYXkpXG4gICAgICAgID8gYmFzZURpZmZlcmVuY2UoYXJyYXksIGJhc2VGbGF0dGVuKHZhbHVlcywgMSwgaXNBcnJheUxpa2VPYmplY3QsIHRydWUpLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpXG4gICAgICAgIDogW107XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmRpZmZlcmVuY2VgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGNvbXBhcmF0b3JgXG4gICAgICogd2hpY2ggaXMgaW52b2tlZCB0byBjb21wYXJlIGVsZW1lbnRzIG9mIGBhcnJheWAgdG8gYHZhbHVlc2AuIFRoZSBvcmRlciBhbmRcbiAgICAgKiByZWZlcmVuY2VzIG9mIHJlc3VsdCB2YWx1ZXMgYXJlIGRldGVybWluZWQgYnkgdGhlIGZpcnN0IGFycmF5LiBUaGUgY29tcGFyYXRvclxuICAgICAqIGlzIGludm9rZWQgd2l0aCB0d28gYXJndW1lbnRzOiAoYXJyVmFsLCBvdGhWYWwpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5wdWxsQWxsV2l0aGAsIHRoaXMgbWV0aG9kIHJldHVybnMgYSBuZXcgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIGV4Y2x1ZGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAyLCAneSc6IDEgfV07XG4gICAgICpcbiAgICAgKiBfLmRpZmZlcmVuY2VXaXRoKG9iamVjdHMsIFt7ICd4JzogMSwgJ3knOiAyIH1dLCBfLmlzRXF1YWwpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMiwgJ3knOiAxIH1dXG4gICAgICovXG4gICAgdmFyIGRpZmZlcmVuY2VXaXRoID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXksIHZhbHVlcykge1xuICAgICAgdmFyIGNvbXBhcmF0b3IgPSBsYXN0KHZhbHVlcyk7XG4gICAgICBpZiAoaXNBcnJheUxpa2VPYmplY3QoY29tcGFyYXRvcikpIHtcbiAgICAgICAgY29tcGFyYXRvciA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpc0FycmF5TGlrZU9iamVjdChhcnJheSlcbiAgICAgICAgPyBiYXNlRGlmZmVyZW5jZShhcnJheSwgYmFzZUZsYXR0ZW4odmFsdWVzLCAxLCBpc0FycmF5TGlrZU9iamVjdCwgdHJ1ZSksIHVuZGVmaW5lZCwgY29tcGFyYXRvcilcbiAgICAgICAgOiBbXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIHdpdGggYG5gIGVsZW1lbnRzIGRyb3BwZWQgZnJvbSB0aGUgYmVnaW5uaW5nLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuNS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0xXSBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIGRyb3AuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZHJvcChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IFsyLCAzXVxuICAgICAqXG4gICAgICogXy5kcm9wKFsxLCAyLCAzXSwgMik7XG4gICAgICogLy8gPT4gWzNdXG4gICAgICpcbiAgICAgKiBfLmRyb3AoWzEsIDIsIDNdLCA1KTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqXG4gICAgICogXy5kcm9wKFsxLCAyLCAzXSwgMCk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZHJvcChhcnJheSwgbiwgZ3VhcmQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIG4gPSAoZ3VhcmQgfHwgbiA9PT0gdW5kZWZpbmVkKSA/IDEgOiB0b0ludGVnZXIobik7XG4gICAgICByZXR1cm4gYmFzZVNsaWNlKGFycmF5LCBuIDwgMCA/IDAgOiBuLCBsZW5ndGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIHdpdGggYG5gIGVsZW1lbnRzIGRyb3BwZWQgZnJvbSB0aGUgZW5kLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0xXSBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIGRyb3AuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZHJvcFJpZ2h0KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICpcbiAgICAgKiBfLmRyb3BSaWdodChbMSwgMiwgM10sIDIpO1xuICAgICAqIC8vID0+IFsxXVxuICAgICAqXG4gICAgICogXy5kcm9wUmlnaHQoWzEsIDIsIDNdLCA1KTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqXG4gICAgICogXy5kcm9wUmlnaHQoWzEsIDIsIDNdLCAwKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkcm9wUmlnaHQoYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBuID0gKGd1YXJkIHx8IG4gPT09IHVuZGVmaW5lZCkgPyAxIDogdG9JbnRlZ2VyKG4pO1xuICAgICAgbiA9IGxlbmd0aCAtIG47XG4gICAgICByZXR1cm4gYmFzZVNsaWNlKGFycmF5LCAwLCBuIDwgMCA/IDAgOiBuKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCBleGNsdWRpbmcgZWxlbWVudHMgZHJvcHBlZCBmcm9tIHRoZSBlbmQuXG4gICAgICogRWxlbWVudHMgYXJlIGRyb3BwZWQgdW50aWwgYHByZWRpY2F0ZWAgcmV0dXJucyBmYWxzZXkuIFRoZSBwcmVkaWNhdGUgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4LCBhcnJheSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5kcm9wUmlnaHRXaGlsZSh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gIW8uYWN0aXZlOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leSddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZHJvcFJpZ2h0V2hpbGUodXNlcnMsIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leScsICdmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmRyb3BSaWdodFdoaWxlKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5kcm9wUmlnaHRXaGlsZSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5JywgJ2ZyZWQnLCAncGViYmxlcyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gZHJvcFJpZ2h0V2hpbGUoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVdoaWxlKGFycmF5LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCB0cnVlLCB0cnVlKVxuICAgICAgICA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIGV4Y2x1ZGluZyBlbGVtZW50cyBkcm9wcGVkIGZyb20gdGhlIGJlZ2lubmluZy5cbiAgICAgKiBFbGVtZW50cyBhcmUgZHJvcHBlZCB1bnRpbCBgcHJlZGljYXRlYCByZXR1cm5zIGZhbHNleS4gVGhlIHByZWRpY2F0ZSBpc1xuICAgICAqIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXgsIGFycmF5KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmRyb3BXaGlsZSh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gIW8uYWN0aXZlOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ3BlYmJsZXMnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmRyb3BXaGlsZSh1c2VycywgeyAndXNlcic6ICdiYXJuZXknLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJywgJ3BlYmJsZXMnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZHJvcFdoaWxlKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydwZWJibGVzJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZHJvcFdoaWxlKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknLCAnZnJlZCcsICdwZWJibGVzJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkcm9wV2hpbGUoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVdoaWxlKGFycmF5LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCB0cnVlKVxuICAgICAgICA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZpbGxzIGVsZW1lbnRzIG9mIGBhcnJheWAgd2l0aCBgdmFsdWVgIGZyb20gYHN0YXJ0YCB1cCB0bywgYnV0IG5vdFxuICAgICAqIGluY2x1ZGluZywgYGVuZGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMi4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGZpbGwuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZmlsbCBgYXJyYXlgIHdpdGguXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlbmQ9YXJyYXkubGVuZ3RoXSBUaGUgZW5kIHBvc2l0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMSwgMiwgM107XG4gICAgICpcbiAgICAgKiBfLmZpbGwoYXJyYXksICdhJyk7XG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsnYScsICdhJywgJ2EnXVxuICAgICAqXG4gICAgICogXy5maWxsKEFycmF5KDMpLCAyKTtcbiAgICAgKiAvLyA9PiBbMiwgMiwgMl1cbiAgICAgKlxuICAgICAqIF8uZmlsbChbNCwgNiwgOCwgMTBdLCAnKicsIDEsIDMpO1xuICAgICAqIC8vID0+IFs0LCAnKicsICcqJywgMTBdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmlsbChhcnJheSwgdmFsdWUsIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIGlmIChzdGFydCAmJiB0eXBlb2Ygc3RhcnQgIT0gJ251bWJlcicgJiYgaXNJdGVyYXRlZUNhbGwoYXJyYXksIHZhbHVlLCBzdGFydCkpIHtcbiAgICAgICAgc3RhcnQgPSAwO1xuICAgICAgICBlbmQgPSBsZW5ndGg7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZUZpbGwoYXJyYXksIHZhbHVlLCBzdGFydCwgZW5kKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZpbmRgIGV4Y2VwdCB0aGF0IGl0IHJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBmaXJzdFxuICAgICAqIGVsZW1lbnQgYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yIGluc3RlYWQgb2YgdGhlIGVsZW1lbnQgaXRzZWxmLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PTBdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgZm91bmQgZWxlbWVudCwgZWxzZSBgLTFgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbmRJbmRleCh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby51c2VyID09ICdiYXJuZXknOyB9KTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZEluZGV4KHVzZXJzLCB7ICd1c2VyJzogJ2ZyZWQnLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gMVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZEluZGV4KHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kSW5kZXgodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZEluZGV4KGFycmF5LCBwcmVkaWNhdGUsIGZyb21JbmRleCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gZnJvbUluZGV4ID09IG51bGwgPyAwIDogdG9JbnRlZ2VyKGZyb21JbmRleCk7XG4gICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgIGluZGV4ID0gbmF0aXZlTWF4KGxlbmd0aCArIGluZGV4LCAwKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlRmluZEluZGV4KGFycmF5LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCBpbmRleCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5maW5kSW5kZXhgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgZWxlbWVudHNcbiAgICAgKiBvZiBgY29sbGVjdGlvbmAgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PWFycmF5Lmxlbmd0aC0xXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGZvdW5kIGVsZW1lbnQsIGVsc2UgYC0xYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5maW5kTGFzdEluZGV4KHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLnVzZXIgPT0gJ3BlYmJsZXMnOyB9KTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZExhc3RJbmRleCh1c2VycywgeyAndXNlcic6ICdiYXJuZXknLCAnYWN0aXZlJzogdHJ1ZSB9KTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kTGFzdEluZGV4KHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gMlxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kTGFzdEluZGV4KHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmRMYXN0SW5kZXgoYXJyYXksIHByZWRpY2F0ZSwgZnJvbUluZGV4KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSBsZW5ndGggLSAxO1xuICAgICAgaWYgKGZyb21JbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGluZGV4ID0gdG9JbnRlZ2VyKGZyb21JbmRleCk7XG4gICAgICAgIGluZGV4ID0gZnJvbUluZGV4IDwgMFxuICAgICAgICAgID8gbmF0aXZlTWF4KGxlbmd0aCArIGluZGV4LCAwKVxuICAgICAgICAgIDogbmF0aXZlTWluKGluZGV4LCBsZW5ndGggLSAxKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlRmluZEluZGV4KGFycmF5LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCBpbmRleCwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmxhdHRlbnMgYGFycmF5YCBhIHNpbmdsZSBsZXZlbCBkZWVwLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGZsYXR0ZW4uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZsYXR0ZW4oWzEsIFsyLCBbMywgWzRdXSwgNV1dKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgWzMsIFs0XV0sIDVdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdHRlbihhcnJheSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgcmV0dXJuIGxlbmd0aCA/IGJhc2VGbGF0dGVuKGFycmF5LCAxKSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlY3Vyc2l2ZWx5IGZsYXR0ZW5zIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gZmxhdHRlbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZmxhdHRlbkRlZXAoWzEsIFsyLCBbMywgWzRdXSwgNV1dKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgMywgNCwgNV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGF0dGVuRGVlcChhcnJheSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgcmV0dXJuIGxlbmd0aCA/IGJhc2VGbGF0dGVuKGFycmF5LCBJTkZJTklUWSkgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWN1cnNpdmVseSBmbGF0dGVuIGBhcnJheWAgdXAgdG8gYGRlcHRoYCB0aW1lcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjQuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBmbGF0dGVuLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZGVwdGg9MV0gVGhlIG1heGltdW0gcmVjdXJzaW9uIGRlcHRoLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZsYXR0ZW5lZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzEsIFsyLCBbMywgWzRdXSwgNV1dO1xuICAgICAqXG4gICAgICogXy5mbGF0dGVuRGVwdGgoYXJyYXksIDEpO1xuICAgICAqIC8vID0+IFsxLCAyLCBbMywgWzRdXSwgNV1cbiAgICAgKlxuICAgICAqIF8uZmxhdHRlbkRlcHRoKGFycmF5LCAyKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgMywgWzRdLCA1XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsYXR0ZW5EZXB0aChhcnJheSwgZGVwdGgpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIGRlcHRoID0gZGVwdGggPT09IHVuZGVmaW5lZCA/IDEgOiB0b0ludGVnZXIoZGVwdGgpO1xuICAgICAgcmV0dXJuIGJhc2VGbGF0dGVuKGFycmF5LCBkZXB0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGludmVyc2Ugb2YgYF8udG9QYWlyc2A7IHRoaXMgbWV0aG9kIHJldHVybnMgYW4gb2JqZWN0IGNvbXBvc2VkXG4gICAgICogZnJvbSBrZXktdmFsdWUgYHBhaXJzYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhaXJzIFRoZSBrZXktdmFsdWUgcGFpcnMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mcm9tUGFpcnMoW1snYScsIDFdLCBbJ2InLCAyXV0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZyb21QYWlycyhwYWlycykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcGFpcnMgPT0gbnVsbCA/IDAgOiBwYWlycy5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0ge307XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBwYWlyID0gcGFpcnNbaW5kZXhdO1xuICAgICAgICByZXN1bHRbcGFpclswXV0gPSBwYWlyWzFdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBmaXJzdCBlbGVtZW50IG9mIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAYWxpYXMgZmlyc3RcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGZpcnN0IGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5oZWFkKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gMVxuICAgICAqXG4gICAgICogXy5oZWFkKFtdKTtcbiAgICAgKiAvLyA9PiB1bmRlZmluZWRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoZWFkKGFycmF5KSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkgPyBhcnJheVswXSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBpbmRleCBhdCB3aGljaCB0aGUgZmlyc3Qgb2NjdXJyZW5jZSBvZiBgdmFsdWVgIGlzIGZvdW5kIGluIGBhcnJheWBcbiAgICAgKiB1c2luZyBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy4gSWYgYGZyb21JbmRleGAgaXMgbmVnYXRpdmUsIGl0J3MgdXNlZCBhcyB0aGVcbiAgICAgKiBvZmZzZXQgZnJvbSB0aGUgZW5kIG9mIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PTBdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmluZGV4T2YoWzEsIDIsIDEsIDJdLCAyKTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICpcbiAgICAgKiAvLyBTZWFyY2ggZnJvbSB0aGUgYGZyb21JbmRleGAuXG4gICAgICogXy5pbmRleE9mKFsxLCAyLCAxLCAyXSwgMiwgMik7XG4gICAgICogLy8gPT4gM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IGZyb21JbmRleCA9PSBudWxsID8gMCA6IHRvSW50ZWdlcihmcm9tSW5kZXgpO1xuICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICBpbmRleCA9IG5hdGl2ZU1heChsZW5ndGggKyBpbmRleCwgMCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZUluZGV4T2YoYXJyYXksIHZhbHVlLCBpbmRleCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhbGwgYnV0IHRoZSBsYXN0IGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW5pdGlhbChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluaXRpYWwoYXJyYXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIHJldHVybiBsZW5ndGggPyBiYXNlU2xpY2UoYXJyYXksIDAsIC0xKSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdW5pcXVlIHZhbHVlcyB0aGF0IGFyZSBpbmNsdWRlZCBpbiBhbGwgZ2l2ZW4gYXJyYXlzXG4gICAgICogdXNpbmcgW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuIFRoZSBvcmRlciBhbmQgcmVmZXJlbmNlcyBvZiByZXN1bHQgdmFsdWVzIGFyZVxuICAgICAqIGRldGVybWluZWQgYnkgdGhlIGZpcnN0IGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGludGVyc2VjdGluZyB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW50ZXJzZWN0aW9uKFsyLCAxXSwgWzIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMl1cbiAgICAgKi9cbiAgICB2YXIgaW50ZXJzZWN0aW9uID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgbWFwcGVkID0gYXJyYXlNYXAoYXJyYXlzLCBjYXN0QXJyYXlMaWtlT2JqZWN0KTtcbiAgICAgIHJldHVybiAobWFwcGVkLmxlbmd0aCAmJiBtYXBwZWRbMF0gPT09IGFycmF5c1swXSlcbiAgICAgICAgPyBiYXNlSW50ZXJzZWN0aW9uKG1hcHBlZClcbiAgICAgICAgOiBbXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaW50ZXJzZWN0aW9uYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWBcbiAgICAgKiB3aGljaCBpcyBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgb2YgZWFjaCBgYXJyYXlzYCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uXG4gICAgICogYnkgd2hpY2ggdGhleSdyZSBjb21wYXJlZC4gVGhlIG9yZGVyIGFuZCByZWZlcmVuY2VzIG9mIHJlc3VsdCB2YWx1ZXMgYXJlXG4gICAgICogZGV0ZXJtaW5lZCBieSB0aGUgZmlyc3QgYXJyYXkuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OlxuICAgICAqICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGludGVyc2VjdGluZyB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW50ZXJzZWN0aW9uQnkoWzIuMSwgMS4yXSwgWzIuMywgMy40XSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4gWzIuMV1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uaW50ZXJzZWN0aW9uQnkoW3sgJ3gnOiAxIH1dLCBbeyAneCc6IDIgfSwgeyAneCc6IDEgfV0sICd4Jyk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAxIH1dXG4gICAgICovXG4gICAgdmFyIGludGVyc2VjdGlvbkJ5ID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgaXRlcmF0ZWUgPSBsYXN0KGFycmF5cyksXG4gICAgICAgICAgbWFwcGVkID0gYXJyYXlNYXAoYXJyYXlzLCBjYXN0QXJyYXlMaWtlT2JqZWN0KTtcblxuICAgICAgaWYgKGl0ZXJhdGVlID09PSBsYXN0KG1hcHBlZCkpIHtcbiAgICAgICAgaXRlcmF0ZWUgPSB1bmRlZmluZWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtYXBwZWQucG9wKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gKG1hcHBlZC5sZW5ndGggJiYgbWFwcGVkWzBdID09PSBhcnJheXNbMF0pXG4gICAgICAgID8gYmFzZUludGVyc2VjdGlvbihtYXBwZWQsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSlcbiAgICAgICAgOiBbXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaW50ZXJzZWN0aW9uYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjb21wYXJhdG9yYFxuICAgICAqIHdoaWNoIGlzIGludm9rZWQgdG8gY29tcGFyZSBlbGVtZW50cyBvZiBgYXJyYXlzYC4gVGhlIG9yZGVyIGFuZCByZWZlcmVuY2VzXG4gICAgICogb2YgcmVzdWx0IHZhbHVlcyBhcmUgZGV0ZXJtaW5lZCBieSB0aGUgZmlyc3QgYXJyYXkuIFRoZSBjb21wYXJhdG9yIGlzXG4gICAgICogaW52b2tlZCB3aXRoIHR3byBhcmd1bWVudHM6IChhcnJWYWwsIG90aFZhbCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgaW50ZXJzZWN0aW5nIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMiwgJ3knOiAxIH1dO1xuICAgICAqIHZhciBvdGhlcnMgPSBbeyAneCc6IDEsICd5JzogMSB9LCB7ICd4JzogMSwgJ3knOiAyIH1dO1xuICAgICAqXG4gICAgICogXy5pbnRlcnNlY3Rpb25XaXRoKG9iamVjdHMsIG90aGVycywgXy5pc0VxdWFsKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDEsICd5JzogMiB9XVxuICAgICAqL1xuICAgIHZhciBpbnRlcnNlY3Rpb25XaXRoID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgY29tcGFyYXRvciA9IGxhc3QoYXJyYXlzKSxcbiAgICAgICAgICBtYXBwZWQgPSBhcnJheU1hcChhcnJheXMsIGNhc3RBcnJheUxpa2VPYmplY3QpO1xuXG4gICAgICBjb21wYXJhdG9yID0gdHlwZW9mIGNvbXBhcmF0b3IgPT0gJ2Z1bmN0aW9uJyA/IGNvbXBhcmF0b3IgOiB1bmRlZmluZWQ7XG4gICAgICBpZiAoY29tcGFyYXRvcikge1xuICAgICAgICBtYXBwZWQucG9wKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gKG1hcHBlZC5sZW5ndGggJiYgbWFwcGVkWzBdID09PSBhcnJheXNbMF0pXG4gICAgICAgID8gYmFzZUludGVyc2VjdGlvbihtYXBwZWQsIHVuZGVmaW5lZCwgY29tcGFyYXRvcilcbiAgICAgICAgOiBbXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGFsbCBlbGVtZW50cyBpbiBgYXJyYXlgIGludG8gYSBzdHJpbmcgc2VwYXJhdGVkIGJ5IGBzZXBhcmF0b3JgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGNvbnZlcnQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzZXBhcmF0b3I9JywnXSBUaGUgZWxlbWVudCBzZXBhcmF0b3IuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgam9pbmVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5qb2luKFsnYScsICdiJywgJ2MnXSwgJ34nKTtcbiAgICAgKiAvLyA9PiAnYX5ifmMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gam9pbihhcnJheSwgc2VwYXJhdG9yKSB7XG4gICAgICByZXR1cm4gYXJyYXkgPT0gbnVsbCA/ICcnIDogbmF0aXZlSm9pbi5jYWxsKGFycmF5LCBzZXBhcmF0b3IpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGxhc3QgZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBsYXN0IGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5sYXN0KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxhc3QoYXJyYXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIHJldHVybiBsZW5ndGggPyBhcnJheVtsZW5ndGggLSAxXSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmluZGV4T2ZgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2ZcbiAgICAgKiBgYXJyYXlgIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9YXJyYXkubGVuZ3RoLTFdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmxhc3RJbmRleE9mKFsxLCAyLCAxLCAyXSwgMik7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogLy8gU2VhcmNoIGZyb20gdGhlIGBmcm9tSW5kZXhgLlxuICAgICAqIF8ubGFzdEluZGV4T2YoWzEsIDIsIDEsIDJdLCAyLCAyKTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGFzdEluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IGxlbmd0aDtcbiAgICAgIGlmIChmcm9tSW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpbmRleCA9IHRvSW50ZWdlcihmcm9tSW5kZXgpO1xuICAgICAgICBpbmRleCA9IGluZGV4IDwgMCA/IG5hdGl2ZU1heChsZW5ndGggKyBpbmRleCwgMCkgOiBuYXRpdmVNaW4oaW5kZXgsIGxlbmd0aCAtIDEpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlID09PSB2YWx1ZVxuICAgICAgICA/IHN0cmljdExhc3RJbmRleE9mKGFycmF5LCB2YWx1ZSwgaW5kZXgpXG4gICAgICAgIDogYmFzZUZpbmRJbmRleChhcnJheSwgYmFzZUlzTmFOLCBpbmRleCwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgZWxlbWVudCBhdCBpbmRleCBgbmAgb2YgYGFycmF5YC4gSWYgYG5gIGlzIG5lZ2F0aXZlLCB0aGUgbnRoXG4gICAgICogZWxlbWVudCBmcm9tIHRoZSBlbmQgaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0wXSBUaGUgaW5kZXggb2YgdGhlIGVsZW1lbnQgdG8gcmV0dXJuLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBudGggZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbJ2EnLCAnYicsICdjJywgJ2QnXTtcbiAgICAgKlxuICAgICAqIF8ubnRoKGFycmF5LCAxKTtcbiAgICAgKiAvLyA9PiAnYidcbiAgICAgKlxuICAgICAqIF8ubnRoKGFycmF5LCAtMik7XG4gICAgICogLy8gPT4gJ2MnO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG50aChhcnJheSwgbikge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpID8gYmFzZU50aChhcnJheSwgdG9JbnRlZ2VyKG4pKSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBnaXZlbiB2YWx1ZXMgZnJvbSBgYXJyYXlgIHVzaW5nXG4gICAgICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLndpdGhvdXRgLCB0aGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuIFVzZSBgXy5yZW1vdmVgXG4gICAgICogdG8gcmVtb3ZlIGVsZW1lbnRzIGZyb20gYW4gYXJyYXkgYnkgcHJlZGljYXRlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0gey4uLip9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbJ2EnLCAnYicsICdjJywgJ2EnLCAnYicsICdjJ107XG4gICAgICpcbiAgICAgKiBfLnB1bGwoYXJyYXksICdhJywgJ2MnKTtcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWydiJywgJ2InXVxuICAgICAqL1xuICAgIHZhciBwdWxsID0gYmFzZVJlc3QocHVsbEFsbCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnB1bGxgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYW4gYXJyYXkgb2YgdmFsdWVzIHRvIHJlbW92ZS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8uZGlmZmVyZW5jZWAsIHRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbJ2EnLCAnYicsICdjJywgJ2EnLCAnYicsICdjJ107XG4gICAgICpcbiAgICAgKiBfLnB1bGxBbGwoYXJyYXksIFsnYScsICdjJ10pO1xuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbJ2InLCAnYiddXG4gICAgICovXG4gICAgZnVuY3Rpb24gcHVsbEFsbChhcnJheSwgdmFsdWVzKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCAmJiB2YWx1ZXMgJiYgdmFsdWVzLmxlbmd0aClcbiAgICAgICAgPyBiYXNlUHVsbEFsbChhcnJheSwgdmFsdWVzKVxuICAgICAgICA6IGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ucHVsbEFsbGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IG9mIGBhcnJheWAgYW5kIGB2YWx1ZXNgIHRvIGdlbmVyYXRlIHRoZSBjcml0ZXJpb25cbiAgICAgKiBieSB3aGljaCB0aGV5J3JlIGNvbXBhcmVkLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8uZGlmZmVyZW5jZUJ5YCwgdGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byByZW1vdmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbeyAneCc6IDEgfSwgeyAneCc6IDIgfSwgeyAneCc6IDMgfSwgeyAneCc6IDEgfV07XG4gICAgICpcbiAgICAgKiBfLnB1bGxBbGxCeShhcnJheSwgW3sgJ3gnOiAxIH0sIHsgJ3gnOiAzIH1dLCAneCcpO1xuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDIgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwdWxsQWxsQnkoYXJyYXksIHZhbHVlcywgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoICYmIHZhbHVlcyAmJiB2YWx1ZXMubGVuZ3RoKVxuICAgICAgICA/IGJhc2VQdWxsQWxsKGFycmF5LCB2YWx1ZXMsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSlcbiAgICAgICAgOiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnB1bGxBbGxgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGNvbXBhcmF0b3JgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCB0byBjb21wYXJlIGVsZW1lbnRzIG9mIGBhcnJheWAgdG8gYHZhbHVlc2AuIFRoZSBjb21wYXJhdG9yIGlzXG4gICAgICogaW52b2tlZCB3aXRoIHR3byBhcmd1bWVudHM6IChhcnJWYWwsIG90aFZhbCkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLmRpZmZlcmVuY2VXaXRoYCwgdGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNi4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byByZW1vdmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAzLCAneSc6IDQgfSwgeyAneCc6IDUsICd5JzogNiB9XTtcbiAgICAgKlxuICAgICAqIF8ucHVsbEFsbFdpdGgoYXJyYXksIFt7ICd4JzogMywgJ3knOiA0IH1dLCBfLmlzRXF1YWwpO1xuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogNSwgJ3knOiA2IH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gcHVsbEFsbFdpdGgoYXJyYXksIHZhbHVlcywgY29tcGFyYXRvcikge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGggJiYgdmFsdWVzICYmIHZhbHVlcy5sZW5ndGgpXG4gICAgICAgID8gYmFzZVB1bGxBbGwoYXJyYXksIHZhbHVlcywgdW5kZWZpbmVkLCBjb21wYXJhdG9yKVxuICAgICAgICA6IGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgZWxlbWVudHMgZnJvbSBgYXJyYXlgIGNvcnJlc3BvbmRpbmcgdG8gYGluZGV4ZXNgIGFuZCByZXR1cm5zIGFuXG4gICAgICogYXJyYXkgb2YgcmVtb3ZlZCBlbGVtZW50cy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8uYXRgLCB0aGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7Li4uKG51bWJlcnxudW1iZXJbXSl9IFtpbmRleGVzXSBUaGUgaW5kZXhlcyBvZiBlbGVtZW50cyB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgcmVtb3ZlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWydhJywgJ2InLCAnYycsICdkJ107XG4gICAgICogdmFyIHB1bGxlZCA9IF8ucHVsbEF0KGFycmF5LCBbMSwgM10pO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsnYScsICdjJ11cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKHB1bGxlZCk7XG4gICAgICogLy8gPT4gWydiJywgJ2QnXVxuICAgICAqL1xuICAgIHZhciBwdWxsQXQgPSBmbGF0UmVzdChmdW5jdGlvbihhcnJheSwgaW5kZXhlcykge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IGJhc2VBdChhcnJheSwgaW5kZXhlcyk7XG5cbiAgICAgIGJhc2VQdWxsQXQoYXJyYXksIGFycmF5TWFwKGluZGV4ZXMsIGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICAgIHJldHVybiBpc0luZGV4KGluZGV4LCBsZW5ndGgpID8gK2luZGV4IDogaW5kZXg7XG4gICAgICB9KS5zb3J0KGNvbXBhcmVBc2NlbmRpbmcpKTtcblxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGVsZW1lbnRzIGZyb20gYGFycmF5YCB0aGF0IGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvclxuICAgICAqIGFuZCByZXR1cm5zIGFuIGFycmF5IG9mIHRoZSByZW1vdmVkIGVsZW1lbnRzLiBUaGUgcHJlZGljYXRlIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleCwgYXJyYXkpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5maWx0ZXJgLCB0aGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuIFVzZSBgXy5wdWxsYFxuICAgICAqIHRvIHB1bGwgZWxlbWVudHMgZnJvbSBhbiBhcnJheSBieSB2YWx1ZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHJlbW92ZWQgZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxLCAyLCAzLCA0XTtcbiAgICAgKiB2YXIgZXZlbnMgPSBfLnJlbW92ZShhcnJheSwgZnVuY3Rpb24obikge1xuICAgICAqICAgcmV0dXJuIG4gJSAyID09IDA7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzEsIDNdXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhldmVucyk7XG4gICAgICogLy8gPT4gWzIsIDRdXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVtb3ZlKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgIGlmICghKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGluZGV4ZXMgPSBbXSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICAgIHByZWRpY2F0ZSA9IGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIGluZGV4LCBhcnJheSkpIHtcbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgaW5kZXhlcy5wdXNoKGluZGV4KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYmFzZVB1bGxBdChhcnJheSwgaW5kZXhlcyk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldmVyc2VzIGBhcnJheWAgc28gdGhhdCB0aGUgZmlyc3QgZWxlbWVudCBiZWNvbWVzIHRoZSBsYXN0LCB0aGUgc2Vjb25kXG4gICAgICogZWxlbWVudCBiZWNvbWVzIHRoZSBzZWNvbmQgdG8gbGFzdCwgYW5kIHNvIG9uLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YCBhbmQgaXMgYmFzZWQgb25cbiAgICAgKiBbYEFycmF5I3JldmVyc2VgXShodHRwczovL21kbi5pby9BcnJheS9yZXZlcnNlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxLCAyLCAzXTtcbiAgICAgKlxuICAgICAqIF8ucmV2ZXJzZShhcnJheSk7XG4gICAgICogLy8gPT4gWzMsIDIsIDFdXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzMsIDIsIDFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmV2ZXJzZShhcnJheSkge1xuICAgICAgcmV0dXJuIGFycmF5ID09IG51bGwgPyBhcnJheSA6IG5hdGl2ZVJldmVyc2UuY2FsbChhcnJheSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgZnJvbSBgc3RhcnRgIHVwIHRvLCBidXQgbm90IGluY2x1ZGluZywgYGVuZGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgdXNlZCBpbnN0ZWFkIG9mXG4gICAgICogW2BBcnJheSNzbGljZWBdKGh0dHBzOi8vbWRuLmlvL0FycmF5L3NsaWNlKSB0byBlbnN1cmUgZGVuc2UgYXJyYXlzIGFyZVxuICAgICAqIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNsaWNlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kPWFycmF5Lmxlbmd0aF0gVGhlIGVuZCBwb3NpdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2xpY2UoYXJyYXksIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIGlmIChlbmQgJiYgdHlwZW9mIGVuZCAhPSAnbnVtYmVyJyAmJiBpc0l0ZXJhdGVlQ2FsbChhcnJheSwgc3RhcnQsIGVuZCkpIHtcbiAgICAgICAgc3RhcnQgPSAwO1xuICAgICAgICBlbmQgPSBsZW5ndGg7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgc3RhcnQgPSBzdGFydCA9PSBudWxsID8gMCA6IHRvSW50ZWdlcihzdGFydCk7XG4gICAgICAgIGVuZCA9IGVuZCA9PT0gdW5kZWZpbmVkID8gbGVuZ3RoIDogdG9JbnRlZ2VyKGVuZCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZVNsaWNlKGFycmF5LCBzdGFydCwgZW5kKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2VzIGEgYmluYXJ5IHNlYXJjaCB0byBkZXRlcm1pbmUgdGhlIGxvd2VzdCBpbmRleCBhdCB3aGljaCBgdmFsdWVgXG4gICAgICogc2hvdWxkIGJlIGluc2VydGVkIGludG8gYGFycmF5YCBpbiBvcmRlciB0byBtYWludGFpbiBpdHMgc29ydCBvcmRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBzb3J0ZWQgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBldmFsdWF0ZS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBhdCB3aGljaCBgdmFsdWVgIHNob3VsZCBiZSBpbnNlcnRlZFxuICAgICAqICBpbnRvIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc29ydGVkSW5kZXgoWzMwLCA1MF0sIDQwKTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkSW5kZXgoYXJyYXksIHZhbHVlKSB7XG4gICAgICByZXR1cm4gYmFzZVNvcnRlZEluZGV4KGFycmF5LCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5zb3J0ZWRJbmRleGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgXG4gICAgICogd2hpY2ggaXMgaW52b2tlZCBmb3IgYHZhbHVlYCBhbmQgZWFjaCBlbGVtZW50IG9mIGBhcnJheWAgdG8gY29tcHV0ZSB0aGVpclxuICAgICAqIHNvcnQgcmFua2luZy4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgc29ydGVkIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZXZhbHVhdGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkXG4gICAgICogIGludG8gYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAneCc6IDQgfSwgeyAneCc6IDUgfV07XG4gICAgICpcbiAgICAgKiBfLnNvcnRlZEluZGV4Qnkob2JqZWN0cywgeyAneCc6IDQgfSwgZnVuY3Rpb24obykgeyByZXR1cm4gby54OyB9KTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnNvcnRlZEluZGV4Qnkob2JqZWN0cywgeyAneCc6IDQgfSwgJ3gnKTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkSW5kZXhCeShhcnJheSwgdmFsdWUsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gYmFzZVNvcnRlZEluZGV4QnkoYXJyYXksIHZhbHVlLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaW5kZXhPZmAgZXhjZXB0IHRoYXQgaXQgcGVyZm9ybXMgYSBiaW5hcnlcbiAgICAgKiBzZWFyY2ggb24gYSBzb3J0ZWQgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zb3J0ZWRJbmRleE9mKFs0LCA1LCA1LCA1LCA2XSwgNSk7XG4gICAgICogLy8gPT4gMVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZEluZGV4T2YoYXJyYXksIHZhbHVlKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAobGVuZ3RoKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGJhc2VTb3J0ZWRJbmRleChhcnJheSwgdmFsdWUpO1xuICAgICAgICBpZiAoaW5kZXggPCBsZW5ndGggJiYgZXEoYXJyYXlbaW5kZXhdLCB2YWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnNvcnRlZEluZGV4YCBleGNlcHQgdGhhdCBpdCByZXR1cm5zIHRoZSBoaWdoZXN0XG4gICAgICogaW5kZXggYXQgd2hpY2ggYHZhbHVlYCBzaG91bGQgYmUgaW5zZXJ0ZWQgaW50byBgYXJyYXlgIGluIG9yZGVyIHRvXG4gICAgICogbWFpbnRhaW4gaXRzIHNvcnQgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgc29ydGVkIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZXZhbHVhdGUuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggYXQgd2hpY2ggYHZhbHVlYCBzaG91bGQgYmUgaW5zZXJ0ZWRcbiAgICAgKiAgaW50byBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvcnRlZExhc3RJbmRleChbNCwgNSwgNSwgNSwgNl0sIDUpO1xuICAgICAqIC8vID0+IDRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRMYXN0SW5kZXgoYXJyYXksIHZhbHVlKSB7XG4gICAgICByZXR1cm4gYmFzZVNvcnRlZEluZGV4KGFycmF5LCB2YWx1ZSwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5zb3J0ZWRMYXN0SW5kZXhgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYFxuICAgICAqIHdoaWNoIGlzIGludm9rZWQgZm9yIGB2YWx1ZWAgYW5kIGVhY2ggZWxlbWVudCBvZiBgYXJyYXlgIHRvIGNvbXB1dGUgdGhlaXJcbiAgICAgKiBzb3J0IHJhbmtpbmcuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIHNvcnRlZCBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGV2YWx1YXRlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBhdCB3aGljaCBgdmFsdWVgIHNob3VsZCBiZSBpbnNlcnRlZFxuICAgICAqICBpbnRvIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ3gnOiA0IH0sIHsgJ3gnOiA1IH1dO1xuICAgICAqXG4gICAgICogXy5zb3J0ZWRMYXN0SW5kZXhCeShvYmplY3RzLCB7ICd4JzogNCB9LCBmdW5jdGlvbihvKSB7IHJldHVybiBvLng7IH0pO1xuICAgICAqIC8vID0+IDFcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uc29ydGVkTGFzdEluZGV4Qnkob2JqZWN0cywgeyAneCc6IDQgfSwgJ3gnKTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkTGFzdEluZGV4QnkoYXJyYXksIHZhbHVlLCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIGJhc2VTb3J0ZWRJbmRleEJ5KGFycmF5LCB2YWx1ZSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpLCB0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmxhc3RJbmRleE9mYCBleGNlcHQgdGhhdCBpdCBwZXJmb3JtcyBhIGJpbmFyeVxuICAgICAqIHNlYXJjaCBvbiBhIHNvcnRlZCBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvcnRlZExhc3RJbmRleE9mKFs0LCA1LCA1LCA1LCA2XSwgNSk7XG4gICAgICogLy8gPT4gM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZExhc3RJbmRleE9mKGFycmF5LCB2YWx1ZSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKGxlbmd0aCkge1xuICAgICAgICB2YXIgaW5kZXggPSBiYXNlU29ydGVkSW5kZXgoYXJyYXksIHZhbHVlLCB0cnVlKSAtIDE7XG4gICAgICAgIGlmIChlcShhcnJheVtpbmRleF0sIHZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udW5pcWAgZXhjZXB0IHRoYXQgaXQncyBkZXNpZ25lZCBhbmQgb3B0aW1pemVkXG4gICAgICogZm9yIHNvcnRlZCBhcnJheXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zb3J0ZWRVbmlxKFsxLCAxLCAyXSk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkVW5pcShhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVNvcnRlZFVuaXEoYXJyYXkpXG4gICAgICAgIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51bmlxQnlgIGV4Y2VwdCB0aGF0IGl0J3MgZGVzaWduZWQgYW5kIG9wdGltaXplZFxuICAgICAqIGZvciBzb3J0ZWQgYXJyYXlzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zb3J0ZWRVbmlxQnkoWzEuMSwgMS4yLCAyLjMsIDIuNF0sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IFsxLjEsIDIuM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRVbmlxQnkoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlU29ydGVkVW5pcShhcnJheSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKVxuICAgICAgICA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgYWxsIGJ1dCB0aGUgZmlyc3QgZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50YWlsKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gWzIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGFpbChhcnJheSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgcmV0dXJuIGxlbmd0aCA/IGJhc2VTbGljZShhcnJheSwgMSwgbGVuZ3RoKSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIHdpdGggYG5gIGVsZW1lbnRzIHRha2VuIGZyb20gdGhlIGJlZ2lubmluZy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249MV0gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byB0YWtlLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRha2UoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMV1cbiAgICAgKlxuICAgICAqIF8udGFrZShbMSwgMiwgM10sIDIpO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqXG4gICAgICogXy50YWtlKFsxLCAyLCAzXSwgNSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiBfLnRha2UoWzEsIDIsIDNdLCAwKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRha2UoYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgICBpZiAoIShhcnJheSAmJiBhcnJheS5sZW5ndGgpKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIG4gPSAoZ3VhcmQgfHwgbiA9PT0gdW5kZWZpbmVkKSA/IDEgOiB0b0ludGVnZXIobik7XG4gICAgICByZXR1cm4gYmFzZVNsaWNlKGFycmF5LCAwLCBuIDwgMCA/IDAgOiBuKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCB3aXRoIGBuYCBlbGVtZW50cyB0YWtlbiBmcm9tIHRoZSBlbmQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTFdIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gdGFrZS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50YWtlUmlnaHQoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBbM11cbiAgICAgKlxuICAgICAqIF8udGFrZVJpZ2h0KFsxLCAyLCAzXSwgMik7XG4gICAgICogLy8gPT4gWzIsIDNdXG4gICAgICpcbiAgICAgKiBfLnRha2VSaWdodChbMSwgMiwgM10sIDUpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogXy50YWtlUmlnaHQoWzEsIDIsIDNdLCAwKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRha2VSaWdodChhcnJheSwgbiwgZ3VhcmQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIG4gPSAoZ3VhcmQgfHwgbiA9PT0gdW5kZWZpbmVkKSA/IDEgOiB0b0ludGVnZXIobik7XG4gICAgICBuID0gbGVuZ3RoIC0gbjtcbiAgICAgIHJldHVybiBiYXNlU2xpY2UoYXJyYXksIG4gPCAwID8gMCA6IG4sIGxlbmd0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgd2l0aCBlbGVtZW50cyB0YWtlbiBmcm9tIHRoZSBlbmQuIEVsZW1lbnRzIGFyZVxuICAgICAqIHRha2VuIHVudGlsIGBwcmVkaWNhdGVgIHJldHVybnMgZmFsc2V5LiBUaGUgcHJlZGljYXRlIGlzIGludm9rZWQgd2l0aFxuICAgICAqIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleCwgYXJyYXkpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8udGFrZVJpZ2h0V2hpbGUodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuICFvLmFjdGl2ZTsgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJywgJ3BlYmJsZXMnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnRha2VSaWdodFdoaWxlKHVzZXJzLCB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydwZWJibGVzJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnRha2VSaWdodFdoaWxlKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJywgJ3BlYmJsZXMnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy50YWtlUmlnaHRXaGlsZSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IFtdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGFrZVJpZ2h0V2hpbGUoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVdoaWxlKGFycmF5LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCBmYWxzZSwgdHJ1ZSlcbiAgICAgICAgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCB3aXRoIGVsZW1lbnRzIHRha2VuIGZyb20gdGhlIGJlZ2lubmluZy4gRWxlbWVudHNcbiAgICAgKiBhcmUgdGFrZW4gdW50aWwgYHByZWRpY2F0ZWAgcmV0dXJucyBmYWxzZXkuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZCB3aXRoXG4gICAgICogdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4LCBhcnJheSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiB0cnVlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy50YWtlV2hpbGUodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuICFvLmFjdGl2ZTsgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknLCAnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udGFrZVdoaWxlKHVzZXJzLCB7ICd1c2VyJzogJ2Jhcm5leScsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leSddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy50YWtlV2hpbGUodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leScsICdmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udGFrZVdoaWxlKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0YWtlV2hpbGUoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVdoaWxlKGFycmF5LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpKVxuICAgICAgICA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdW5pcXVlIHZhbHVlcywgaW4gb3JkZXIsIGZyb20gYWxsIGdpdmVuIGFycmF5cyB1c2luZ1xuICAgICAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGNvbWJpbmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51bmlvbihbMl0sIFsxLCAyXSk7XG4gICAgICogLy8gPT4gWzIsIDFdXG4gICAgICovXG4gICAgdmFyIHVuaW9uID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICByZXR1cm4gYmFzZVVuaXEoYmFzZUZsYXR0ZW4oYXJyYXlzLCAxLCBpc0FycmF5TGlrZU9iamVjdCwgdHJ1ZSkpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51bmlvbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IG9mIGVhY2ggYGFycmF5c2AgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvbiBieVxuICAgICAqIHdoaWNoIHVuaXF1ZW5lc3MgaXMgY29tcHV0ZWQuIFJlc3VsdCB2YWx1ZXMgYXJlIGNob3NlbiBmcm9tIHRoZSBmaXJzdFxuICAgICAqIGFycmF5IGluIHdoaWNoIHRoZSB2YWx1ZSBvY2N1cnMuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OlxuICAgICAqICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGNvbWJpbmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51bmlvbkJ5KFsyLjFdLCBbMS4yLCAyLjNdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiBbMi4xLCAxLjJdXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnVuaW9uQnkoW3sgJ3gnOiAxIH1dLCBbeyAneCc6IDIgfSwgeyAneCc6IDEgfV0sICd4Jyk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAxIH0sIHsgJ3gnOiAyIH1dXG4gICAgICovXG4gICAgdmFyIHVuaW9uQnkgPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBpdGVyYXRlZSA9IGxhc3QoYXJyYXlzKTtcbiAgICAgIGlmIChpc0FycmF5TGlrZU9iamVjdChpdGVyYXRlZSkpIHtcbiAgICAgICAgaXRlcmF0ZWUgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZVVuaXEoYmFzZUZsYXR0ZW4oYXJyYXlzLCAxLCBpc0FycmF5TGlrZU9iamVjdCwgdHJ1ZSksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVuaW9uYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjb21wYXJhdG9yYCB3aGljaFxuICAgICAqIGlzIGludm9rZWQgdG8gY29tcGFyZSBlbGVtZW50cyBvZiBgYXJyYXlzYC4gUmVzdWx0IHZhbHVlcyBhcmUgY2hvc2VuIGZyb21cbiAgICAgKiB0aGUgZmlyc3QgYXJyYXkgaW4gd2hpY2ggdGhlIHZhbHVlIG9jY3Vycy4gVGhlIGNvbXBhcmF0b3IgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdHdvIGFyZ3VtZW50czogKGFyclZhbCwgb3RoVmFsKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBjb21iaW5lZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDIsICd5JzogMSB9XTtcbiAgICAgKiB2YXIgb3RoZXJzID0gW3sgJ3gnOiAxLCAneSc6IDEgfSwgeyAneCc6IDEsICd5JzogMiB9XTtcbiAgICAgKlxuICAgICAqIF8udW5pb25XaXRoKG9iamVjdHMsIG90aGVycywgXy5pc0VxdWFsKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMiwgJ3knOiAxIH0sIHsgJ3gnOiAxLCAneSc6IDEgfV1cbiAgICAgKi9cbiAgICB2YXIgdW5pb25XaXRoID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgY29tcGFyYXRvciA9IGxhc3QoYXJyYXlzKTtcbiAgICAgIGNvbXBhcmF0b3IgPSB0eXBlb2YgY29tcGFyYXRvciA9PSAnZnVuY3Rpb24nID8gY29tcGFyYXRvciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBiYXNlVW5pcShiYXNlRmxhdHRlbihhcnJheXMsIDEsIGlzQXJyYXlMaWtlT2JqZWN0LCB0cnVlKSwgdW5kZWZpbmVkLCBjb21wYXJhdG9yKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBkdXBsaWNhdGUtZnJlZSB2ZXJzaW9uIG9mIGFuIGFycmF5LCB1c2luZ1xuICAgICAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLCBpbiB3aGljaCBvbmx5IHRoZSBmaXJzdCBvY2N1cnJlbmNlIG9mIGVhY2ggZWxlbWVudFxuICAgICAqIGlzIGtlcHQuIFRoZSBvcmRlciBvZiByZXN1bHQgdmFsdWVzIGlzIGRldGVybWluZWQgYnkgdGhlIG9yZGVyIHRoZXkgb2NjdXJcbiAgICAgKiBpbiB0aGUgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51bmlxKFsyLCAxLCAyXSk7XG4gICAgICogLy8gPT4gWzIsIDFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5pcShhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpID8gYmFzZVVuaXEoYXJyYXkpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51bmlxYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgaW4gYGFycmF5YCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uIGJ5IHdoaWNoXG4gICAgICogdW5pcXVlbmVzcyBpcyBjb21wdXRlZC4gVGhlIG9yZGVyIG9mIHJlc3VsdCB2YWx1ZXMgaXMgZGV0ZXJtaW5lZCBieSB0aGVcbiAgICAgKiBvcmRlciB0aGV5IG9jY3VyIGluIHRoZSBhcnJheS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6XG4gICAgICogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51bmlxQnkoWzIuMSwgMS4yLCAyLjNdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiBbMi4xLCAxLjJdXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnVuaXFCeShbeyAneCc6IDEgfSwgeyAneCc6IDIgfSwgeyAneCc6IDEgfV0sICd4Jyk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAxIH0sIHsgJ3gnOiAyIH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5pcUJ5KGFycmF5LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpID8gYmFzZVVuaXEoYXJyYXksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSkgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVuaXFgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGNvbXBhcmF0b3JgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCB0byBjb21wYXJlIGVsZW1lbnRzIG9mIGBhcnJheWAuIFRoZSBvcmRlciBvZiByZXN1bHQgdmFsdWVzIGlzXG4gICAgICogZGV0ZXJtaW5lZCBieSB0aGUgb3JkZXIgdGhleSBvY2N1ciBpbiB0aGUgYXJyYXkuVGhlIGNvbXBhcmF0b3IgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdHdvIGFyZ3VtZW50czogKGFyclZhbCwgb3RoVmFsKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGR1cGxpY2F0ZSBmcmVlIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAyLCAneSc6IDEgfSwgeyAneCc6IDEsICd5JzogMiB9XTtcbiAgICAgKlxuICAgICAqIF8udW5pcVdpdGgob2JqZWN0cywgXy5pc0VxdWFsKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMiwgJ3knOiAxIH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5pcVdpdGgoYXJyYXksIGNvbXBhcmF0b3IpIHtcbiAgICAgIGNvbXBhcmF0b3IgPSB0eXBlb2YgY29tcGFyYXRvciA9PSAnZnVuY3Rpb24nID8gY29tcGFyYXRvciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSA/IGJhc2VVbmlxKGFycmF5LCB1bmRlZmluZWQsIGNvbXBhcmF0b3IpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy56aXBgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYW4gYXJyYXkgb2YgZ3JvdXBlZFxuICAgICAqIGVsZW1lbnRzIGFuZCBjcmVhdGVzIGFuIGFycmF5IHJlZ3JvdXBpbmcgdGhlIGVsZW1lbnRzIHRvIHRoZWlyIHByZS16aXBcbiAgICAgKiBjb25maWd1cmF0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMi4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IG9mIGdyb3VwZWQgZWxlbWVudHMgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiByZWdyb3VwZWQgZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB6aXBwZWQgPSBfLnppcChbJ2EnLCAnYiddLCBbMSwgMl0sIFt0cnVlLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IFtbJ2EnLCAxLCB0cnVlXSwgWydiJywgMiwgZmFsc2VdXVxuICAgICAqXG4gICAgICogXy51bnppcCh6aXBwZWQpO1xuICAgICAqIC8vID0+IFtbJ2EnLCAnYiddLCBbMSwgMl0sIFt0cnVlLCBmYWxzZV1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW56aXAoYXJyYXkpIHtcbiAgICAgIGlmICghKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgdmFyIGxlbmd0aCA9IDA7XG4gICAgICBhcnJheSA9IGFycmF5RmlsdGVyKGFycmF5LCBmdW5jdGlvbihncm91cCkge1xuICAgICAgICBpZiAoaXNBcnJheUxpa2VPYmplY3QoZ3JvdXApKSB7XG4gICAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWF4KGdyb3VwLmxlbmd0aCwgbGVuZ3RoKTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gYmFzZVRpbWVzKGxlbmd0aCwgZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGFycmF5TWFwKGFycmF5LCBiYXNlUHJvcGVydHkoaW5kZXgpKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udW56aXBgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB0byBzcGVjaWZ5XG4gICAgICogaG93IHJlZ3JvdXBlZCB2YWx1ZXMgc2hvdWxkIGJlIGNvbWJpbmVkLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIHRoZVxuICAgICAqIGVsZW1lbnRzIG9mIGVhY2ggZ3JvdXA6ICguLi5ncm91cCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy44LjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgb2YgZ3JvdXBlZCBlbGVtZW50cyB0byBwcm9jZXNzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gdG8gY29tYmluZVxuICAgICAqICByZWdyb3VwZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHJlZ3JvdXBlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHppcHBlZCA9IF8uemlwKFsxLCAyXSwgWzEwLCAyMF0sIFsxMDAsIDIwMF0pO1xuICAgICAqIC8vID0+IFtbMSwgMTAsIDEwMF0sIFsyLCAyMCwgMjAwXV1cbiAgICAgKlxuICAgICAqIF8udW56aXBXaXRoKHppcHBlZCwgXy5hZGQpO1xuICAgICAqIC8vID0+IFszLCAzMCwgMzAwXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuemlwV2l0aChhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIGlmICghKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IHVuemlwKGFycmF5KTtcbiAgICAgIGlmIChpdGVyYXRlZSA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXlNYXAocmVzdWx0LCBmdW5jdGlvbihncm91cCkge1xuICAgICAgICByZXR1cm4gYXBwbHkoaXRlcmF0ZWUsIHVuZGVmaW5lZCwgZ3JvdXApO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBleGNsdWRpbmcgYWxsIGdpdmVuIHZhbHVlcyB1c2luZ1xuICAgICAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5wdWxsYCwgdGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBleGNsdWRlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAc2VlIF8uZGlmZmVyZW5jZSwgXy54b3JcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy53aXRob3V0KFsyLCAxLCAyLCAzXSwgMSwgMik7XG4gICAgICogLy8gPT4gWzNdXG4gICAgICovXG4gICAgdmFyIHdpdGhvdXQgPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheSwgdmFsdWVzKSB7XG4gICAgICByZXR1cm4gaXNBcnJheUxpa2VPYmplY3QoYXJyYXkpXG4gICAgICAgID8gYmFzZURpZmZlcmVuY2UoYXJyYXksIHZhbHVlcylcbiAgICAgICAgOiBbXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdW5pcXVlIHZhbHVlcyB0aGF0IGlzIHRoZVxuICAgICAqIFtzeW1tZXRyaWMgZGlmZmVyZW5jZV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvU3ltbWV0cmljX2RpZmZlcmVuY2UpXG4gICAgICogb2YgdGhlIGdpdmVuIGFycmF5cy4gVGhlIG9yZGVyIG9mIHJlc3VsdCB2YWx1ZXMgaXMgZGV0ZXJtaW5lZCBieSB0aGUgb3JkZXJcbiAgICAgKiB0aGV5IG9jY3VyIGluIHRoZSBhcnJheXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi40LjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBzZWUgXy5kaWZmZXJlbmNlLCBfLndpdGhvdXRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy54b3IoWzIsIDFdLCBbMiwgM10pO1xuICAgICAqIC8vID0+IFsxLCAzXVxuICAgICAqL1xuICAgIHZhciB4b3IgPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHJldHVybiBiYXNlWG9yKGFycmF5RmlsdGVyKGFycmF5cywgaXNBcnJheUxpa2VPYmplY3QpKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ueG9yYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgb2YgZWFjaCBgYXJyYXlzYCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uIGJ5XG4gICAgICogd2hpY2ggYnkgd2hpY2ggdGhleSdyZSBjb21wYXJlZC4gVGhlIG9yZGVyIG9mIHJlc3VsdCB2YWx1ZXMgaXMgZGV0ZXJtaW5lZFxuICAgICAqIGJ5IHRoZSBvcmRlciB0aGV5IG9jY3VyIGluIHRoZSBhcnJheXMuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lXG4gICAgICogYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy54b3JCeShbMi4xLCAxLjJdLCBbMi4zLCAzLjRdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiBbMS4yLCAzLjRdXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnhvckJ5KFt7ICd4JzogMSB9XSwgW3sgJ3gnOiAyIH0sIHsgJ3gnOiAxIH1dLCAneCcpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMiB9XVxuICAgICAqL1xuICAgIHZhciB4b3JCeSA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgdmFyIGl0ZXJhdGVlID0gbGFzdChhcnJheXMpO1xuICAgICAgaWYgKGlzQXJyYXlMaWtlT2JqZWN0KGl0ZXJhdGVlKSkge1xuICAgICAgICBpdGVyYXRlZSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlWG9yKGFycmF5RmlsdGVyKGFycmF5cywgaXNBcnJheUxpa2VPYmplY3QpLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy54b3JgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGNvbXBhcmF0b3JgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCB0byBjb21wYXJlIGVsZW1lbnRzIG9mIGBhcnJheXNgLiBUaGUgb3JkZXIgb2YgcmVzdWx0IHZhbHVlcyBpc1xuICAgICAqIGRldGVybWluZWQgYnkgdGhlIG9yZGVyIHRoZXkgb2NjdXIgaW4gdGhlIGFycmF5cy4gVGhlIGNvbXBhcmF0b3IgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdHdvIGFyZ3VtZW50czogKGFyclZhbCwgb3RoVmFsKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDIsICd5JzogMSB9XTtcbiAgICAgKiB2YXIgb3RoZXJzID0gW3sgJ3gnOiAxLCAneSc6IDEgfSwgeyAneCc6IDEsICd5JzogMiB9XTtcbiAgICAgKlxuICAgICAqIF8ueG9yV2l0aChvYmplY3RzLCBvdGhlcnMsIF8uaXNFcXVhbCk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAyLCAneSc6IDEgfSwgeyAneCc6IDEsICd5JzogMSB9XVxuICAgICAqL1xuICAgIHZhciB4b3JXaXRoID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgY29tcGFyYXRvciA9IGxhc3QoYXJyYXlzKTtcbiAgICAgIGNvbXBhcmF0b3IgPSB0eXBlb2YgY29tcGFyYXRvciA9PSAnZnVuY3Rpb24nID8gY29tcGFyYXRvciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBiYXNlWG9yKGFycmF5RmlsdGVyKGFycmF5cywgaXNBcnJheUxpa2VPYmplY3QpLCB1bmRlZmluZWQsIGNvbXBhcmF0b3IpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBncm91cGVkIGVsZW1lbnRzLCB0aGUgZmlyc3Qgb2Ygd2hpY2ggY29udGFpbnMgdGhlXG4gICAgICogZmlyc3QgZWxlbWVudHMgb2YgdGhlIGdpdmVuIGFycmF5cywgdGhlIHNlY29uZCBvZiB3aGljaCBjb250YWlucyB0aGVcbiAgICAgKiBzZWNvbmQgZWxlbWVudHMgb2YgdGhlIGdpdmVuIGFycmF5cywgYW5kIHNvIG9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBwcm9jZXNzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGdyb3VwZWQgZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uemlwKFsnYScsICdiJ10sIFsxLCAyXSwgW3RydWUsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gW1snYScsIDEsIHRydWVdLCBbJ2InLCAyLCBmYWxzZV1dXG4gICAgICovXG4gICAgdmFyIHppcCA9IGJhc2VSZXN0KHVuemlwKTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZnJvbVBhaXJzYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIHR3byBhcnJheXMsXG4gICAgICogb25lIG9mIHByb3BlcnR5IGlkZW50aWZpZXJzIGFuZCBvbmUgb2YgY29ycmVzcG9uZGluZyB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC40LjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcHJvcHM9W11dIFRoZSBwcm9wZXJ0eSBpZGVudGlmaWVycy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbdmFsdWVzPVtdXSBUaGUgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uemlwT2JqZWN0KFsnYScsICdiJ10sIFsxLCAyXSk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gemlwT2JqZWN0KHByb3BzLCB2YWx1ZXMpIHtcbiAgICAgIHJldHVybiBiYXNlWmlwT2JqZWN0KHByb3BzIHx8IFtdLCB2YWx1ZXMgfHwgW10sIGFzc2lnblZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnppcE9iamVjdGAgZXhjZXB0IHRoYXQgaXQgc3VwcG9ydHMgcHJvcGVydHkgcGF0aHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcHJvcHM9W11dIFRoZSBwcm9wZXJ0eSBpZGVudGlmaWVycy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbdmFsdWVzPVtdXSBUaGUgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uemlwT2JqZWN0RGVlcChbJ2EuYlswXS5jJywgJ2EuYlsxXS5kJ10sIFsxLCAyXSk7XG4gICAgICogLy8gPT4geyAnYSc6IHsgJ2InOiBbeyAnYyc6IDEgfSwgeyAnZCc6IDIgfV0gfSB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gemlwT2JqZWN0RGVlcChwcm9wcywgdmFsdWVzKSB7XG4gICAgICByZXR1cm4gYmFzZVppcE9iamVjdChwcm9wcyB8fCBbXSwgdmFsdWVzIHx8IFtdLCBiYXNlU2V0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnppcGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHRvIHNwZWNpZnlcbiAgICAgKiBob3cgZ3JvdXBlZCB2YWx1ZXMgc2hvdWxkIGJlIGNvbWJpbmVkLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIHRoZVxuICAgICAqIGVsZW1lbnRzIG9mIGVhY2ggZ3JvdXA6ICguLi5ncm91cCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy44LjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIHByb2Nlc3MuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiB0byBjb21iaW5lXG4gICAgICogIGdyb3VwZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGdyb3VwZWQgZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uemlwV2l0aChbMSwgMl0sIFsxMCwgMjBdLCBbMTAwLCAyMDBdLCBmdW5jdGlvbihhLCBiLCBjKSB7XG4gICAgICogICByZXR1cm4gYSArIGIgKyBjO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IFsxMTEsIDIyMl1cbiAgICAgKi9cbiAgICB2YXIgemlwV2l0aCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5cy5sZW5ndGgsXG4gICAgICAgICAgaXRlcmF0ZWUgPSBsZW5ndGggPiAxID8gYXJyYXlzW2xlbmd0aCAtIDFdIDogdW5kZWZpbmVkO1xuXG4gICAgICBpdGVyYXRlZSA9IHR5cGVvZiBpdGVyYXRlZSA9PSAnZnVuY3Rpb24nID8gKGFycmF5cy5wb3AoKSwgaXRlcmF0ZWUpIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIHVuemlwV2l0aChhcnJheXMsIGl0ZXJhdGVlKTtcbiAgICB9KTtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlIHRoYXQgd3JhcHMgYHZhbHVlYCB3aXRoIGV4cGxpY2l0IG1ldGhvZFxuICAgICAqIGNoYWluIHNlcXVlbmNlcyBlbmFibGVkLiBUaGUgcmVzdWx0IG9mIHN1Y2ggc2VxdWVuY2VzIG11c3QgYmUgdW53cmFwcGVkXG4gICAgICogd2l0aCBgXyN2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gd3JhcC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FnZSc6IDM2IH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWdlJzogNDAgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhZ2UnOiAxIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogdmFyIHlvdW5nZXN0ID0gX1xuICAgICAqICAgLmNoYWluKHVzZXJzKVxuICAgICAqICAgLnNvcnRCeSgnYWdlJylcbiAgICAgKiAgIC5tYXAoZnVuY3Rpb24obykge1xuICAgICAqICAgICByZXR1cm4gby51c2VyICsgJyBpcyAnICsgby5hZ2U7XG4gICAgICogICB9KVxuICAgICAqICAgLmhlYWQoKVxuICAgICAqICAgLnZhbHVlKCk7XG4gICAgICogLy8gPT4gJ3BlYmJsZXMgaXMgMSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjaGFpbih2YWx1ZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IGxvZGFzaCh2YWx1ZSk7XG4gICAgICByZXN1bHQuX19jaGFpbl9fID0gdHJ1ZTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaW52b2tlcyBgaW50ZXJjZXB0b3JgIGFuZCByZXR1cm5zIGB2YWx1ZWAuIFRoZSBpbnRlcmNlcHRvclxuICAgICAqIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ7ICh2YWx1ZSkuIFRoZSBwdXJwb3NlIG9mIHRoaXMgbWV0aG9kIGlzIHRvXG4gICAgICogXCJ0YXAgaW50b1wiIGEgbWV0aG9kIGNoYWluIHNlcXVlbmNlIGluIG9yZGVyIHRvIG1vZGlmeSBpbnRlcm1lZGlhdGUgcmVzdWx0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm92aWRlIHRvIGBpbnRlcmNlcHRvcmAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaW50ZXJjZXB0b3IgVGhlIGZ1bmN0aW9uIHRvIGludm9rZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyBgdmFsdWVgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfKFsxLCAyLCAzXSlcbiAgICAgKiAgLnRhcChmdW5jdGlvbihhcnJheSkge1xuICAgICAqICAgIC8vIE11dGF0ZSBpbnB1dCBhcnJheS5cbiAgICAgKiAgICBhcnJheS5wb3AoKTtcbiAgICAgKiAgfSlcbiAgICAgKiAgLnJldmVyc2UoKVxuICAgICAqICAudmFsdWUoKTtcbiAgICAgKiAvLyA9PiBbMiwgMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0YXAodmFsdWUsIGludGVyY2VwdG9yKSB7XG4gICAgICBpbnRlcmNlcHRvcih2YWx1ZSk7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy50YXBgIGV4Y2VwdCB0aGF0IGl0IHJldHVybnMgdGhlIHJlc3VsdCBvZiBgaW50ZXJjZXB0b3JgLlxuICAgICAqIFRoZSBwdXJwb3NlIG9mIHRoaXMgbWV0aG9kIGlzIHRvIFwicGFzcyB0aHJ1XCIgdmFsdWVzIHJlcGxhY2luZyBpbnRlcm1lZGlhdGVcbiAgICAgKiByZXN1bHRzIGluIGEgbWV0aG9kIGNoYWluIHNlcXVlbmNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb3ZpZGUgdG8gYGludGVyY2VwdG9yYC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpbnRlcmNlcHRvciBUaGUgZnVuY3Rpb24gdG8gaW52b2tlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXN1bHQgb2YgYGludGVyY2VwdG9yYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXygnICBhYmMgICcpXG4gICAgICogIC5jaGFpbigpXG4gICAgICogIC50cmltKClcbiAgICAgKiAgLnRocnUoZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgKiAgICByZXR1cm4gW3ZhbHVlXTtcbiAgICAgKiAgfSlcbiAgICAgKiAgLnZhbHVlKCk7XG4gICAgICogLy8gPT4gWydhYmMnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRocnUodmFsdWUsIGludGVyY2VwdG9yKSB7XG4gICAgICByZXR1cm4gaW50ZXJjZXB0b3IodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIHRoZSB3cmFwcGVyIHZlcnNpb24gb2YgYF8uYXRgLlxuICAgICAqXG4gICAgICogQG5hbWUgYXRcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcGFyYW0gey4uLihzdHJpbmd8c3RyaW5nW10pfSBbcGF0aHNdIFRoZSBwcm9wZXJ0eSBwYXRocyB0byBwaWNrLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IDMgfSB9LCA0XSB9O1xuICAgICAqXG4gICAgICogXyhvYmplY3QpLmF0KFsnYVswXS5iLmMnLCAnYVsxXSddKS52YWx1ZSgpO1xuICAgICAqIC8vID0+IFszLCA0XVxuICAgICAqL1xuICAgIHZhciB3cmFwcGVyQXQgPSBmbGF0UmVzdChmdW5jdGlvbihwYXRocykge1xuICAgICAgdmFyIGxlbmd0aCA9IHBhdGhzLmxlbmd0aCxcbiAgICAgICAgICBzdGFydCA9IGxlbmd0aCA/IHBhdGhzWzBdIDogMCxcbiAgICAgICAgICB2YWx1ZSA9IHRoaXMuX193cmFwcGVkX18sXG4gICAgICAgICAgaW50ZXJjZXB0b3IgPSBmdW5jdGlvbihvYmplY3QpIHsgcmV0dXJuIGJhc2VBdChvYmplY3QsIHBhdGhzKTsgfTtcblxuICAgICAgaWYgKGxlbmd0aCA+IDEgfHwgdGhpcy5fX2FjdGlvbnNfXy5sZW5ndGggfHxcbiAgICAgICAgICAhKHZhbHVlIGluc3RhbmNlb2YgTGF6eVdyYXBwZXIpIHx8ICFpc0luZGV4KHN0YXJ0KSkge1xuICAgICAgICByZXR1cm4gdGhpcy50aHJ1KGludGVyY2VwdG9yKTtcbiAgICAgIH1cbiAgICAgIHZhbHVlID0gdmFsdWUuc2xpY2Uoc3RhcnQsICtzdGFydCArIChsZW5ndGggPyAxIDogMCkpO1xuICAgICAgdmFsdWUuX19hY3Rpb25zX18ucHVzaCh7XG4gICAgICAgICdmdW5jJzogdGhydSxcbiAgICAgICAgJ2FyZ3MnOiBbaW50ZXJjZXB0b3JdLFxuICAgICAgICAndGhpc0FyZyc6IHVuZGVmaW5lZFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gbmV3IExvZGFzaFdyYXBwZXIodmFsdWUsIHRoaXMuX19jaGFpbl9fKS50aHJ1KGZ1bmN0aW9uKGFycmF5KSB7XG4gICAgICAgIGlmIChsZW5ndGggJiYgIWFycmF5Lmxlbmd0aCkge1xuICAgICAgICAgIGFycmF5LnB1c2godW5kZWZpbmVkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXJyYXk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlIHdpdGggZXhwbGljaXQgbWV0aG9kIGNoYWluIHNlcXVlbmNlcyBlbmFibGVkLlxuICAgICAqXG4gICAgICogQG5hbWUgY2hhaW5cbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzYgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQwIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gQSBzZXF1ZW5jZSB3aXRob3V0IGV4cGxpY2l0IGNoYWluaW5nLlxuICAgICAqIF8odXNlcnMpLmhlYWQoKTtcbiAgICAgKiAvLyA9PiB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9XG4gICAgICpcbiAgICAgKiAvLyBBIHNlcXVlbmNlIHdpdGggZXhwbGljaXQgY2hhaW5pbmcuXG4gICAgICogXyh1c2VycylcbiAgICAgKiAgIC5jaGFpbigpXG4gICAgICogICAuaGVhZCgpXG4gICAgICogICAucGljaygndXNlcicpXG4gICAgICogICAudmFsdWUoKTtcbiAgICAgKiAvLyA9PiB7ICd1c2VyJzogJ2Jhcm5leScgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJDaGFpbigpIHtcbiAgICAgIHJldHVybiBjaGFpbih0aGlzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeGVjdXRlcyB0aGUgY2hhaW4gc2VxdWVuY2UgYW5kIHJldHVybnMgdGhlIHdyYXBwZWQgcmVzdWx0LlxuICAgICAqXG4gICAgICogQG5hbWUgY29tbWl0XG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxLCAyXTtcbiAgICAgKiB2YXIgd3JhcHBlZCA9IF8oYXJyYXkpLnB1c2goMyk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICpcbiAgICAgKiB3cmFwcGVkID0gd3JhcHBlZC5jb21taXQoKTtcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiB3cmFwcGVkLmxhc3QoKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlckNvbW1pdCgpIHtcbiAgICAgIHJldHVybiBuZXcgTG9kYXNoV3JhcHBlcih0aGlzLnZhbHVlKCksIHRoaXMuX19jaGFpbl9fKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBuZXh0IHZhbHVlIG9uIGEgd3JhcHBlZCBvYmplY3QgZm9sbG93aW5nIHRoZVxuICAgICAqIFtpdGVyYXRvciBwcm90b2NvbF0oaHR0cHM6Ly9tZG4uaW8vaXRlcmF0aW9uX3Byb3RvY29scyNpdGVyYXRvcikuXG4gICAgICpcbiAgICAgKiBAbmFtZSBuZXh0XG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV4dCBpdGVyYXRvciB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHdyYXBwZWQgPSBfKFsxLCAyXSk7XG4gICAgICpcbiAgICAgKiB3cmFwcGVkLm5leHQoKTtcbiAgICAgKiAvLyA9PiB7ICdkb25lJzogZmFsc2UsICd2YWx1ZSc6IDEgfVxuICAgICAqXG4gICAgICogd3JhcHBlZC5uZXh0KCk7XG4gICAgICogLy8gPT4geyAnZG9uZSc6IGZhbHNlLCAndmFsdWUnOiAyIH1cbiAgICAgKlxuICAgICAqIHdyYXBwZWQubmV4dCgpO1xuICAgICAqIC8vID0+IHsgJ2RvbmUnOiB0cnVlLCAndmFsdWUnOiB1bmRlZmluZWQgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJOZXh0KCkge1xuICAgICAgaWYgKHRoaXMuX192YWx1ZXNfXyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuX192YWx1ZXNfXyA9IHRvQXJyYXkodGhpcy52YWx1ZSgpKTtcbiAgICAgIH1cbiAgICAgIHZhciBkb25lID0gdGhpcy5fX2luZGV4X18gPj0gdGhpcy5fX3ZhbHVlc19fLmxlbmd0aCxcbiAgICAgICAgICB2YWx1ZSA9IGRvbmUgPyB1bmRlZmluZWQgOiB0aGlzLl9fdmFsdWVzX19bdGhpcy5fX2luZGV4X18rK107XG5cbiAgICAgIHJldHVybiB7ICdkb25lJzogZG9uZSwgJ3ZhbHVlJzogdmFsdWUgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbmFibGVzIHRoZSB3cmFwcGVyIHRvIGJlIGl0ZXJhYmxlLlxuICAgICAqXG4gICAgICogQG5hbWUgU3ltYm9sLml0ZXJhdG9yXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgd3JhcHBlciBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB3cmFwcGVkID0gXyhbMSwgMl0pO1xuICAgICAqXG4gICAgICogd3JhcHBlZFtTeW1ib2wuaXRlcmF0b3JdKCkgPT09IHdyYXBwZWQ7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogQXJyYXkuZnJvbSh3cmFwcGVkKTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyVG9JdGVyYXRvcigpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGUgY2hhaW4gc2VxdWVuY2UgcGxhbnRpbmcgYHZhbHVlYCBhcyB0aGUgd3JhcHBlZCB2YWx1ZS5cbiAgICAgKlxuICAgICAqIEBuYW1lIHBsYW50XG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcGxhbnQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIHNxdWFyZShuKSB7XG4gICAgICogICByZXR1cm4gbiAqIG47XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIHdyYXBwZWQgPSBfKFsxLCAyXSkubWFwKHNxdWFyZSk7XG4gICAgICogdmFyIG90aGVyID0gd3JhcHBlZC5wbGFudChbMywgNF0pO1xuICAgICAqXG4gICAgICogb3RoZXIudmFsdWUoKTtcbiAgICAgKiAvLyA9PiBbOSwgMTZdXG4gICAgICpcbiAgICAgKiB3cmFwcGVkLnZhbHVlKCk7XG4gICAgICogLy8gPT4gWzEsIDRdXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlclBsYW50KHZhbHVlKSB7XG4gICAgICB2YXIgcmVzdWx0LFxuICAgICAgICAgIHBhcmVudCA9IHRoaXM7XG5cbiAgICAgIHdoaWxlIChwYXJlbnQgaW5zdGFuY2VvZiBiYXNlTG9kYXNoKSB7XG4gICAgICAgIHZhciBjbG9uZSA9IHdyYXBwZXJDbG9uZShwYXJlbnQpO1xuICAgICAgICBjbG9uZS5fX2luZGV4X18gPSAwO1xuICAgICAgICBjbG9uZS5fX3ZhbHVlc19fID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgcHJldmlvdXMuX193cmFwcGVkX18gPSBjbG9uZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN1bHQgPSBjbG9uZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcHJldmlvdXMgPSBjbG9uZTtcbiAgICAgICAgcGFyZW50ID0gcGFyZW50Ll9fd3JhcHBlZF9fO1xuICAgICAgfVxuICAgICAgcHJldmlvdXMuX193cmFwcGVkX18gPSB2YWx1ZTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgdGhlIHdyYXBwZXIgdmVyc2lvbiBvZiBgXy5yZXZlcnNlYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIHRoZSB3cmFwcGVkIGFycmF5LlxuICAgICAqXG4gICAgICogQG5hbWUgcmV2ZXJzZVxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMSwgMiwgM107XG4gICAgICpcbiAgICAgKiBfKGFycmF5KS5yZXZlcnNlKCkudmFsdWUoKVxuICAgICAqIC8vID0+IFszLCAyLCAxXVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFszLCAyLCAxXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJSZXZlcnNlKCkge1xuICAgICAgdmFyIHZhbHVlID0gdGhpcy5fX3dyYXBwZWRfXztcbiAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIExhenlXcmFwcGVyKSB7XG4gICAgICAgIHZhciB3cmFwcGVkID0gdmFsdWU7XG4gICAgICAgIGlmICh0aGlzLl9fYWN0aW9uc19fLmxlbmd0aCkge1xuICAgICAgICAgIHdyYXBwZWQgPSBuZXcgTGF6eVdyYXBwZXIodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgd3JhcHBlZCA9IHdyYXBwZWQucmV2ZXJzZSgpO1xuICAgICAgICB3cmFwcGVkLl9fYWN0aW9uc19fLnB1c2goe1xuICAgICAgICAgICdmdW5jJzogdGhydSxcbiAgICAgICAgICAnYXJncyc6IFtyZXZlcnNlXSxcbiAgICAgICAgICAndGhpc0FyZyc6IHVuZGVmaW5lZFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG5ldyBMb2Rhc2hXcmFwcGVyKHdyYXBwZWQsIHRoaXMuX19jaGFpbl9fKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLnRocnUocmV2ZXJzZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXhlY3V0ZXMgdGhlIGNoYWluIHNlcXVlbmNlIHRvIHJlc29sdmUgdGhlIHVud3JhcHBlZCB2YWx1ZS5cbiAgICAgKlxuICAgICAqIEBuYW1lIHZhbHVlXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAYWxpYXMgdG9KU09OLCB2YWx1ZU9mXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXNvbHZlZCB1bndyYXBwZWQgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8oWzEsIDIsIDNdKS52YWx1ZSgpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJWYWx1ZSgpIHtcbiAgICAgIHJldHVybiBiYXNlV3JhcHBlclZhbHVlKHRoaXMuX193cmFwcGVkX18sIHRoaXMuX19hY3Rpb25zX18pO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIGtleXMgZ2VuZXJhdGVkIGZyb20gdGhlIHJlc3VsdHMgb2YgcnVubmluZ1xuICAgICAqIGVhY2ggZWxlbWVudCBvZiBgY29sbGVjdGlvbmAgdGhydSBgaXRlcmF0ZWVgLiBUaGUgY29ycmVzcG9uZGluZyB2YWx1ZSBvZlxuICAgICAqIGVhY2gga2V5IGlzIHRoZSBudW1iZXIgb2YgdGltZXMgdGhlIGtleSB3YXMgcmV0dXJuZWQgYnkgYGl0ZXJhdGVlYC4gVGhlXG4gICAgICogaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjUuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgdG8gdHJhbnNmb3JtIGtleXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY29tcG9zZWQgYWdncmVnYXRlIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5jb3VudEJ5KFs2LjEsIDQuMiwgNi4zXSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4geyAnNCc6IDEsICc2JzogMiB9XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmNvdW50QnkoWydvbmUnLCAndHdvJywgJ3RocmVlJ10sICdsZW5ndGgnKTtcbiAgICAgKiAvLyA9PiB7ICczJzogMiwgJzUnOiAxIH1cbiAgICAgKi9cbiAgICB2YXIgY291bnRCeSA9IGNyZWF0ZUFnZ3JlZ2F0b3IoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChyZXN1bHQsIGtleSkpIHtcbiAgICAgICAgKytyZXN1bHRba2V5XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJhc2VBc3NpZ25WYWx1ZShyZXN1bHQsIGtleSwgMSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yICoqYWxsKiogZWxlbWVudHMgb2YgYGNvbGxlY3Rpb25gLlxuICAgICAqIEl0ZXJhdGlvbiBpcyBzdG9wcGVkIG9uY2UgYHByZWRpY2F0ZWAgcmV0dXJucyBmYWxzZXkuIFRoZSBwcmVkaWNhdGUgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgcmV0dXJucyBgdHJ1ZWAgZm9yXG4gICAgICogW2VtcHR5IGNvbGxlY3Rpb25zXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9FbXB0eV9zZXQpIGJlY2F1c2VcbiAgICAgKiBbZXZlcnl0aGluZyBpcyB0cnVlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9WYWN1b3VzX3RydXRoKSBvZlxuICAgICAqIGVsZW1lbnRzIG9mIGVtcHR5IGNvbGxlY3Rpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFsbCBlbGVtZW50cyBwYXNzIHRoZSBwcmVkaWNhdGUgY2hlY2ssXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5ldmVyeShbdHJ1ZSwgMSwgbnVsbCwgJ3llcyddLCBCb29sZWFuKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzYsICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDAsICdhY3RpdmUnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5ldmVyeSh1c2VycywgeyAndXNlcic6ICdiYXJuZXknLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmV2ZXJ5KHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5ldmVyeSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXZlcnkoY29sbGVjdGlvbiwgcHJlZGljYXRlLCBndWFyZCkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlFdmVyeSA6IGJhc2VFdmVyeTtcbiAgICAgIGlmIChndWFyZCAmJiBpc0l0ZXJhdGVlQ2FsbChjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGd1YXJkKSkge1xuICAgICAgICBwcmVkaWNhdGUgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mIGBjb2xsZWN0aW9uYCwgcmV0dXJuaW5nIGFuIGFycmF5IG9mIGFsbCBlbGVtZW50c1xuICAgICAqIGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvci4gVGhlIHByZWRpY2F0ZSBpcyBpbnZva2VkIHdpdGggdGhyZWVcbiAgICAgKiBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8ucmVtb3ZlYCwgdGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmaWx0ZXJlZCBhcnJheS5cbiAgICAgKiBAc2VlIF8ucmVqZWN0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDAsICdhY3RpdmUnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiAhby5hY3RpdmU7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCB7ICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbHRlcihjb2xsZWN0aW9uLCBwcmVkaWNhdGUpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5RmlsdGVyIDogYmFzZUZpbHRlcjtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2YgYGNvbGxlY3Rpb25gLCByZXR1cm5pbmcgdGhlIGZpcnN0IGVsZW1lbnRcbiAgICAgKiBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3IuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZCB3aXRoIHRocmVlXG4gICAgICogYXJndW1lbnRzOiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PTBdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWF0Y2hlZCBlbGVtZW50LCBlbHNlIGB1bmRlZmluZWRgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWdlJzogMzYsICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWdlJzogNDAsICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FnZSc6IDEsICAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZmluZCh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby5hZ2UgPCA0MDsgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0IGZvciAnYmFybmV5J1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmQodXNlcnMsIHsgJ2FnZSc6IDEsICdhY3RpdmUnOiB0cnVlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdCBmb3IgJ3BlYmJsZXMnXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0IGZvciAnZnJlZCdcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZCh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IG9iamVjdCBmb3IgJ2Jhcm5leSdcbiAgICAgKi9cbiAgICB2YXIgZmluZCA9IGNyZWF0ZUZpbmQoZmluZEluZGV4KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZmluZGAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZlxuICAgICAqIGBjb2xsZWN0aW9uYCBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PWNvbGxlY3Rpb24ubGVuZ3RoLTFdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWF0Y2hlZCBlbGVtZW50LCBlbHNlIGB1bmRlZmluZWRgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZpbmRMYXN0KFsxLCAyLCAzLCA0XSwgZnVuY3Rpb24obikge1xuICAgICAqICAgcmV0dXJuIG4gJSAyID09IDE7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gM1xuICAgICAqL1xuICAgIHZhciBmaW5kTGFzdCA9IGNyZWF0ZUZpbmQoZmluZExhc3RJbmRleCk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZmxhdHRlbmVkIGFycmF5IG9mIHZhbHVlcyBieSBydW5uaW5nIGVhY2ggZWxlbWVudCBpbiBgY29sbGVjdGlvbmBcbiAgICAgKiB0aHJ1IGBpdGVyYXRlZWAgYW5kIGZsYXR0ZW5pbmcgdGhlIG1hcHBlZCByZXN1bHRzLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGR1cGxpY2F0ZShuKSB7XG4gICAgICogICByZXR1cm4gW24sIG5dO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIF8uZmxhdE1hcChbMSwgMl0sIGR1cGxpY2F0ZSk7XG4gICAgICogLy8gPT4gWzEsIDEsIDIsIDJdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdE1hcChjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIGJhc2VGbGF0dGVuKG1hcChjb2xsZWN0aW9uLCBpdGVyYXRlZSksIDEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZmxhdE1hcGAgZXhjZXB0IHRoYXQgaXQgcmVjdXJzaXZlbHkgZmxhdHRlbnMgdGhlXG4gICAgICogbWFwcGVkIHJlc3VsdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGR1cGxpY2F0ZShuKSB7XG4gICAgICogICByZXR1cm4gW1tbbiwgbl1dXTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLmZsYXRNYXBEZWVwKFsxLCAyXSwgZHVwbGljYXRlKTtcbiAgICAgKiAvLyA9PiBbMSwgMSwgMiwgMl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGF0TWFwRGVlcChjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIGJhc2VGbGF0dGVuKG1hcChjb2xsZWN0aW9uLCBpdGVyYXRlZSksIElORklOSVRZKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZsYXRNYXBgIGV4Y2VwdCB0aGF0IGl0IHJlY3Vyc2l2ZWx5IGZsYXR0ZW5zIHRoZVxuICAgICAqIG1hcHBlZCByZXN1bHRzIHVwIHRvIGBkZXB0aGAgdGltZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2RlcHRoPTFdIFRoZSBtYXhpbXVtIHJlY3Vyc2lvbiBkZXB0aC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGR1cGxpY2F0ZShuKSB7XG4gICAgICogICByZXR1cm4gW1tbbiwgbl1dXTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLmZsYXRNYXBEZXB0aChbMSwgMl0sIGR1cGxpY2F0ZSwgMik7XG4gICAgICogLy8gPT4gW1sxLCAxXSwgWzIsIDJdXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsYXRNYXBEZXB0aChjb2xsZWN0aW9uLCBpdGVyYXRlZSwgZGVwdGgpIHtcbiAgICAgIGRlcHRoID0gZGVwdGggPT09IHVuZGVmaW5lZCA/IDEgOiB0b0ludGVnZXIoZGVwdGgpO1xuICAgICAgcmV0dXJuIGJhc2VGbGF0dGVuKG1hcChjb2xsZWN0aW9uLCBpdGVyYXRlZSksIGRlcHRoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mIGBjb2xsZWN0aW9uYCBhbmQgaW52b2tlcyBgaXRlcmF0ZWVgIGZvciBlYWNoIGVsZW1lbnQuXG4gICAgICogVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKiBJdGVyYXRlZSBmdW5jdGlvbnMgbWF5IGV4aXQgaXRlcmF0aW9uIGVhcmx5IGJ5IGV4cGxpY2l0bHkgcmV0dXJuaW5nIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogQXMgd2l0aCBvdGhlciBcIkNvbGxlY3Rpb25zXCIgbWV0aG9kcywgb2JqZWN0cyB3aXRoIGEgXCJsZW5ndGhcIlxuICAgICAqIHByb3BlcnR5IGFyZSBpdGVyYXRlZCBsaWtlIGFycmF5cy4gVG8gYXZvaWQgdGhpcyBiZWhhdmlvciB1c2UgYF8uZm9ySW5gXG4gICAgICogb3IgYF8uZm9yT3duYCBmb3Igb2JqZWN0IGl0ZXJhdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBhbGlhcyBlYWNoXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fE9iamVjdH0gUmV0dXJucyBgY29sbGVjdGlvbmAuXG4gICAgICogQHNlZSBfLmZvckVhY2hSaWdodFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZvckVhY2goWzEsIDJdLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAqICAgY29uc29sZS5sb2codmFsdWUpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgYDFgIHRoZW4gYDJgLlxuICAgICAqXG4gICAgICogXy5mb3JFYWNoKHsgJ2EnOiAxLCAnYic6IDIgfSwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAqICAgY29uc29sZS5sb2coa2V5KTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBMb2dzICdhJyB0aGVuICdiJyAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmb3JFYWNoKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheUVhY2ggOiBiYXNlRWFjaDtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mb3JFYWNoYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mXG4gICAgICogYGNvbGxlY3Rpb25gIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBhbGlhcyBlYWNoUmlnaHRcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl8T2JqZWN0fSBSZXR1cm5zIGBjb2xsZWN0aW9uYC5cbiAgICAgKiBAc2VlIF8uZm9yRWFjaFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZvckVhY2hSaWdodChbMSwgMl0sIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICogICBjb25zb2xlLmxvZyh2YWx1ZSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyBgMmAgdGhlbiBgMWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9yRWFjaFJpZ2h0KGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheUVhY2hSaWdodCA6IGJhc2VFYWNoUmlnaHQ7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIGtleXMgZ2VuZXJhdGVkIGZyb20gdGhlIHJlc3VsdHMgb2YgcnVubmluZ1xuICAgICAqIGVhY2ggZWxlbWVudCBvZiBgY29sbGVjdGlvbmAgdGhydSBgaXRlcmF0ZWVgLiBUaGUgb3JkZXIgb2YgZ3JvdXBlZCB2YWx1ZXNcbiAgICAgKiBpcyBkZXRlcm1pbmVkIGJ5IHRoZSBvcmRlciB0aGV5IG9jY3VyIGluIGBjb2xsZWN0aW9uYC4gVGhlIGNvcnJlc3BvbmRpbmdcbiAgICAgKiB2YWx1ZSBvZiBlYWNoIGtleSBpcyBhbiBhcnJheSBvZiBlbGVtZW50cyByZXNwb25zaWJsZSBmb3IgZ2VuZXJhdGluZyB0aGVcbiAgICAgKiBrZXkuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSB0byB0cmFuc2Zvcm0ga2V5cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjb21wb3NlZCBhZ2dyZWdhdGUgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmdyb3VwQnkoWzYuMSwgNC4yLCA2LjNdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiB7ICc0JzogWzQuMl0sICc2JzogWzYuMSwgNi4zXSB9XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmdyb3VwQnkoWydvbmUnLCAndHdvJywgJ3RocmVlJ10sICdsZW5ndGgnKTtcbiAgICAgKiAvLyA9PiB7ICczJzogWydvbmUnLCAndHdvJ10sICc1JzogWyd0aHJlZSddIH1cbiAgICAgKi9cbiAgICB2YXIgZ3JvdXBCeSA9IGNyZWF0ZUFnZ3JlZ2F0b3IoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChyZXN1bHQsIGtleSkpIHtcbiAgICAgICAgcmVzdWx0W2tleV0ucHVzaCh2YWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUocmVzdWx0LCBrZXksIFt2YWx1ZV0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgaW4gYGNvbGxlY3Rpb25gLiBJZiBgY29sbGVjdGlvbmAgaXMgYSBzdHJpbmcsIGl0J3NcbiAgICAgKiBjaGVja2VkIGZvciBhIHN1YnN0cmluZyBvZiBgdmFsdWVgLCBvdGhlcndpc2VcbiAgICAgKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGlzIHVzZWQgZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLiBJZiBgZnJvbUluZGV4YCBpcyBuZWdhdGl2ZSwgaXQncyB1c2VkIGFzXG4gICAgICogdGhlIG9mZnNldCBmcm9tIHRoZSBlbmQgb2YgYGNvbGxlY3Rpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PTBdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5yZWR1Y2VgLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGZvdW5kLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW5jbHVkZXMoWzEsIDIsIDNdLCAxKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmluY2x1ZGVzKFsxLCAyLCAzXSwgMSwgMik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaW5jbHVkZXMoeyAnYSc6IDEsICdiJzogMiB9LCAxKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmluY2x1ZGVzKCdhYmNkJywgJ2JjJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluY2x1ZGVzKGNvbGxlY3Rpb24sIHZhbHVlLCBmcm9tSW5kZXgsIGd1YXJkKSB7XG4gICAgICBjb2xsZWN0aW9uID0gaXNBcnJheUxpa2UoY29sbGVjdGlvbikgPyBjb2xsZWN0aW9uIDogdmFsdWVzKGNvbGxlY3Rpb24pO1xuICAgICAgZnJvbUluZGV4ID0gKGZyb21JbmRleCAmJiAhZ3VhcmQpID8gdG9JbnRlZ2VyKGZyb21JbmRleCkgOiAwO1xuXG4gICAgICB2YXIgbGVuZ3RoID0gY29sbGVjdGlvbi5sZW5ndGg7XG4gICAgICBpZiAoZnJvbUluZGV4IDwgMCkge1xuICAgICAgICBmcm9tSW5kZXggPSBuYXRpdmVNYXgobGVuZ3RoICsgZnJvbUluZGV4LCAwKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpc1N0cmluZyhjb2xsZWN0aW9uKVxuICAgICAgICA/IChmcm9tSW5kZXggPD0gbGVuZ3RoICYmIGNvbGxlY3Rpb24uaW5kZXhPZih2YWx1ZSwgZnJvbUluZGV4KSA+IC0xKVxuICAgICAgICA6ICghIWxlbmd0aCAmJiBiYXNlSW5kZXhPZihjb2xsZWN0aW9uLCB2YWx1ZSwgZnJvbUluZGV4KSA+IC0xKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnZva2VzIHRoZSBtZXRob2QgYXQgYHBhdGhgIG9mIGVhY2ggZWxlbWVudCBpbiBgY29sbGVjdGlvbmAsIHJldHVybmluZ1xuICAgICAqIGFuIGFycmF5IG9mIHRoZSByZXN1bHRzIG9mIGVhY2ggaW52b2tlZCBtZXRob2QuIEFueSBhZGRpdGlvbmFsIGFyZ3VtZW50c1xuICAgICAqIGFyZSBwcm92aWRlZCB0byBlYWNoIGludm9rZWQgbWV0aG9kLiBJZiBgcGF0aGAgaXMgYSBmdW5jdGlvbiwgaXQncyBpbnZva2VkXG4gICAgICogZm9yLCBhbmQgYHRoaXNgIGJvdW5kIHRvLCBlYWNoIGVsZW1lbnQgaW4gYGNvbGxlY3Rpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtBcnJheXxGdW5jdGlvbnxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIG1ldGhvZCB0byBpbnZva2Ugb3JcbiAgICAgKiAgdGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSBlYWNoIG1ldGhvZCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcmVzdWx0cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pbnZva2VNYXAoW1s1LCAxLCA3XSwgWzMsIDIsIDFdXSwgJ3NvcnQnKTtcbiAgICAgKiAvLyA9PiBbWzEsIDUsIDddLCBbMSwgMiwgM11dXG4gICAgICpcbiAgICAgKiBfLmludm9rZU1hcChbMTIzLCA0NTZdLCBTdHJpbmcucHJvdG90eXBlLnNwbGl0LCAnJyk7XG4gICAgICogLy8gPT4gW1snMScsICcyJywgJzMnXSwgWyc0JywgJzUnLCAnNiddXVxuICAgICAqL1xuICAgIHZhciBpbnZva2VNYXAgPSBiYXNlUmVzdChmdW5jdGlvbihjb2xsZWN0aW9uLCBwYXRoLCBhcmdzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBpc0Z1bmMgPSB0eXBlb2YgcGF0aCA9PSAnZnVuY3Rpb24nLFxuICAgICAgICAgIHJlc3VsdCA9IGlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pID8gQXJyYXkoY29sbGVjdGlvbi5sZW5ndGgpIDogW107XG5cbiAgICAgIGJhc2VFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJlc3VsdFsrK2luZGV4XSA9IGlzRnVuYyA/IGFwcGx5KHBhdGgsIHZhbHVlLCBhcmdzKSA6IGJhc2VJbnZva2UodmFsdWUsIHBhdGgsIGFyZ3MpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2Yga2V5cyBnZW5lcmF0ZWQgZnJvbSB0aGUgcmVzdWx0cyBvZiBydW5uaW5nXG4gICAgICogZWFjaCBlbGVtZW50IG9mIGBjb2xsZWN0aW9uYCB0aHJ1IGBpdGVyYXRlZWAuIFRoZSBjb3JyZXNwb25kaW5nIHZhbHVlIG9mXG4gICAgICogZWFjaCBrZXkgaXMgdGhlIGxhc3QgZWxlbWVudCByZXNwb25zaWJsZSBmb3IgZ2VuZXJhdGluZyB0aGUga2V5LiBUaGVcbiAgICAgKiBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSB0byB0cmFuc2Zvcm0ga2V5cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjb21wb3NlZCBhZ2dyZWdhdGUgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbXG4gICAgICogICB7ICdkaXInOiAnbGVmdCcsICdjb2RlJzogOTcgfSxcbiAgICAgKiAgIHsgJ2Rpcic6ICdyaWdodCcsICdjb2RlJzogMTAwIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5rZXlCeShhcnJheSwgZnVuY3Rpb24obykge1xuICAgICAqICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoby5jb2RlKTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogeyAnZGlyJzogJ2xlZnQnLCAnY29kZSc6IDk3IH0sICdkJzogeyAnZGlyJzogJ3JpZ2h0JywgJ2NvZGUnOiAxMDAgfSB9XG4gICAgICpcbiAgICAgKiBfLmtleUJ5KGFycmF5LCAnZGlyJyk7XG4gICAgICogLy8gPT4geyAnbGVmdCc6IHsgJ2Rpcic6ICdsZWZ0JywgJ2NvZGUnOiA5NyB9LCAncmlnaHQnOiB7ICdkaXInOiAncmlnaHQnLCAnY29kZSc6IDEwMCB9IH1cbiAgICAgKi9cbiAgICB2YXIga2V5QnkgPSBjcmVhdGVBZ2dyZWdhdG9yKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAgYmFzZUFzc2lnblZhbHVlKHJlc3VsdCwga2V5LCB2YWx1ZSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHZhbHVlcyBieSBydW5uaW5nIGVhY2ggZWxlbWVudCBpbiBgY29sbGVjdGlvbmAgdGhydVxuICAgICAqIGBpdGVyYXRlZWAuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOlxuICAgICAqICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqIE1hbnkgbG9kYXNoIG1ldGhvZHMgYXJlIGd1YXJkZWQgdG8gd29yayBhcyBpdGVyYXRlZXMgZm9yIG1ldGhvZHMgbGlrZVxuICAgICAqIGBfLmV2ZXJ5YCwgYF8uZmlsdGVyYCwgYF8ubWFwYCwgYF8ubWFwVmFsdWVzYCwgYF8ucmVqZWN0YCwgYW5kIGBfLnNvbWVgLlxuICAgICAqXG4gICAgICogVGhlIGd1YXJkZWQgbWV0aG9kcyBhcmU6XG4gICAgICogYGFyeWAsIGBjaHVua2AsIGBjdXJyeWAsIGBjdXJyeVJpZ2h0YCwgYGRyb3BgLCBgZHJvcFJpZ2h0YCwgYGV2ZXJ5YCxcbiAgICAgKiBgZmlsbGAsIGBpbnZlcnRgLCBgcGFyc2VJbnRgLCBgcmFuZG9tYCwgYHJhbmdlYCwgYHJhbmdlUmlnaHRgLCBgcmVwZWF0YCxcbiAgICAgKiBgc2FtcGxlU2l6ZWAsIGBzbGljZWAsIGBzb21lYCwgYHNvcnRCeWAsIGBzcGxpdGAsIGB0YWtlYCwgYHRha2VSaWdodGAsXG4gICAgICogYHRlbXBsYXRlYCwgYHRyaW1gLCBgdHJpbUVuZGAsIGB0cmltU3RhcnRgLCBhbmQgYHdvcmRzYFxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgbWFwcGVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBzcXVhcmUobikge1xuICAgICAqICAgcmV0dXJuIG4gKiBuO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIF8ubWFwKFs0LCA4XSwgc3F1YXJlKTtcbiAgICAgKiAvLyA9PiBbMTYsIDY0XVxuICAgICAqXG4gICAgICogXy5tYXAoeyAnYSc6IDQsICdiJzogOCB9LCBzcXVhcmUpO1xuICAgICAqIC8vID0+IFsxNiwgNjRdIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLm1hcCh1c2VycywgJ3VzZXInKTtcbiAgICAgKiAvLyA9PiBbJ2Jhcm5leScsICdmcmVkJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5TWFwIDogYmFzZU1hcDtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5zb3J0QnlgIGV4Y2VwdCB0aGF0IGl0IGFsbG93cyBzcGVjaWZ5aW5nIHRoZSBzb3J0XG4gICAgICogb3JkZXJzIG9mIHRoZSBpdGVyYXRlZXMgdG8gc29ydCBieS4gSWYgYG9yZGVyc2AgaXMgdW5zcGVjaWZpZWQsIGFsbCB2YWx1ZXNcbiAgICAgKiBhcmUgc29ydGVkIGluIGFzY2VuZGluZyBvcmRlci4gT3RoZXJ3aXNlLCBzcGVjaWZ5IGFuIG9yZGVyIG9mIFwiZGVzY1wiIGZvclxuICAgICAqIGRlc2NlbmRpbmcgb3IgXCJhc2NcIiBmb3IgYXNjZW5kaW5nIHNvcnQgb3JkZXIgb2YgY29ycmVzcG9uZGluZyB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0FycmF5W118RnVuY3Rpb25bXXxPYmplY3RbXXxzdHJpbmdbXX0gW2l0ZXJhdGVlcz1bXy5pZGVudGl0eV1dXG4gICAgICogIFRoZSBpdGVyYXRlZXMgdG8gc29ydCBieS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBbb3JkZXJzXSBUaGUgc29ydCBvcmRlcnMgb2YgYGl0ZXJhdGVlc2AuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ucmVkdWNlYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzb3J0ZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQ4IH0sXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNCB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDAgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2IH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gU29ydCBieSBgdXNlcmAgaW4gYXNjZW5kaW5nIG9yZGVyIGFuZCBieSBgYWdlYCBpbiBkZXNjZW5kaW5nIG9yZGVyLlxuICAgICAqIF8ub3JkZXJCeSh1c2VycywgWyd1c2VyJywgJ2FnZSddLCBbJ2FzYycsICdkZXNjJ10pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ2Jhcm5leScsIDM2XSwgWydiYXJuZXknLCAzNF0sIFsnZnJlZCcsIDQ4XSwgWydmcmVkJywgNDBdXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9yZGVyQnkoY29sbGVjdGlvbiwgaXRlcmF0ZWVzLCBvcmRlcnMsIGd1YXJkKSB7XG4gICAgICBpZiAoY29sbGVjdGlvbiA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIGlmICghaXNBcnJheShpdGVyYXRlZXMpKSB7XG4gICAgICAgIGl0ZXJhdGVlcyA9IGl0ZXJhdGVlcyA9PSBudWxsID8gW10gOiBbaXRlcmF0ZWVzXTtcbiAgICAgIH1cbiAgICAgIG9yZGVycyA9IGd1YXJkID8gdW5kZWZpbmVkIDogb3JkZXJzO1xuICAgICAgaWYgKCFpc0FycmF5KG9yZGVycykpIHtcbiAgICAgICAgb3JkZXJzID0gb3JkZXJzID09IG51bGwgPyBbXSA6IFtvcmRlcnNdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VPcmRlckJ5KGNvbGxlY3Rpb24sIGl0ZXJhdGVlcywgb3JkZXJzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGVsZW1lbnRzIHNwbGl0IGludG8gdHdvIGdyb3VwcywgdGhlIGZpcnN0IG9mIHdoaWNoXG4gICAgICogY29udGFpbnMgZWxlbWVudHMgYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yLCB0aGUgc2Vjb25kIG9mIHdoaWNoXG4gICAgICogY29udGFpbnMgZWxlbWVudHMgYHByZWRpY2F0ZWAgcmV0dXJucyBmYWxzZXkgZm9yLiBUaGUgcHJlZGljYXRlIGlzXG4gICAgICogaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIGdyb3VwZWQgZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWdlJzogNDAsICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWdlJzogMSwgICdhY3RpdmUnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8ucGFydGl0aW9uKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLmFjdGl2ZTsgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgW1snZnJlZCddLCBbJ2Jhcm5leScsICdwZWJibGVzJ11dXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ucGFydGl0aW9uKHVzZXJzLCB7ICdhZ2UnOiAxLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgW1sncGViYmxlcyddLCBbJ2Jhcm5leScsICdmcmVkJ11dXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5wYXJ0aXRpb24odXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbWydiYXJuZXknLCAncGViYmxlcyddLCBbJ2ZyZWQnXV1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ucGFydGl0aW9uKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgW1snZnJlZCddLCBbJ2Jhcm5leScsICdwZWJibGVzJ11dXG4gICAgICovXG4gICAgdmFyIHBhcnRpdGlvbiA9IGNyZWF0ZUFnZ3JlZ2F0b3IoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICByZXN1bHRba2V5ID8gMCA6IDFdLnB1c2godmFsdWUpO1xuICAgIH0sIGZ1bmN0aW9uKCkgeyByZXR1cm4gW1tdLCBbXV07IH0pO1xuXG4gICAgLyoqXG4gICAgICogUmVkdWNlcyBgY29sbGVjdGlvbmAgdG8gYSB2YWx1ZSB3aGljaCBpcyB0aGUgYWNjdW11bGF0ZWQgcmVzdWx0IG9mIHJ1bm5pbmdcbiAgICAgKiBlYWNoIGVsZW1lbnQgaW4gYGNvbGxlY3Rpb25gIHRocnUgYGl0ZXJhdGVlYCwgd2hlcmUgZWFjaCBzdWNjZXNzaXZlXG4gICAgICogaW52b2NhdGlvbiBpcyBzdXBwbGllZCB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBwcmV2aW91cy4gSWYgYGFjY3VtdWxhdG9yYFxuICAgICAqIGlzIG5vdCBnaXZlbiwgdGhlIGZpcnN0IGVsZW1lbnQgb2YgYGNvbGxlY3Rpb25gIGlzIHVzZWQgYXMgdGhlIGluaXRpYWxcbiAgICAgKiB2YWx1ZS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBmb3VyIGFyZ3VtZW50czpcbiAgICAgKiAoYWNjdW11bGF0b3IsIHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogTWFueSBsb2Rhc2ggbWV0aG9kcyBhcmUgZ3VhcmRlZCB0byB3b3JrIGFzIGl0ZXJhdGVlcyBmb3IgbWV0aG9kcyBsaWtlXG4gICAgICogYF8ucmVkdWNlYCwgYF8ucmVkdWNlUmlnaHRgLCBhbmQgYF8udHJhbnNmb3JtYC5cbiAgICAgKlxuICAgICAqIFRoZSBndWFyZGVkIG1ldGhvZHMgYXJlOlxuICAgICAqIGBhc3NpZ25gLCBgZGVmYXVsdHNgLCBgZGVmYXVsdHNEZWVwYCwgYGluY2x1ZGVzYCwgYG1lcmdlYCwgYG9yZGVyQnlgLFxuICAgICAqIGFuZCBgc29ydEJ5YFxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHsqfSBbYWNjdW11bGF0b3JdIFRoZSBpbml0aWFsIHZhbHVlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBhY2N1bXVsYXRlZCB2YWx1ZS5cbiAgICAgKiBAc2VlIF8ucmVkdWNlUmlnaHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5yZWR1Y2UoWzEsIDJdLCBmdW5jdGlvbihzdW0sIG4pIHtcbiAgICAgKiAgIHJldHVybiBzdW0gKyBuO1xuICAgICAqIH0sIDApO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIF8ucmVkdWNlKHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMSB9LCBmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIChyZXN1bHRbdmFsdWVdIHx8IChyZXN1bHRbdmFsdWVdID0gW10pKS5wdXNoKGtleSk7XG4gICAgICogICByZXR1cm4gcmVzdWx0O1xuICAgICAqIH0sIHt9KTtcbiAgICAgKiAvLyA9PiB7ICcxJzogWydhJywgJ2MnXSwgJzInOiBbJ2InXSB9IChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVkdWNlKGNvbGxlY3Rpb24sIGl0ZXJhdGVlLCBhY2N1bXVsYXRvcikge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlSZWR1Y2UgOiBiYXNlUmVkdWNlLFxuICAgICAgICAgIGluaXRBY2N1bSA9IGFyZ3VtZW50cy5sZW5ndGggPCAzO1xuXG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgNCksIGFjY3VtdWxhdG9yLCBpbml0QWNjdW0sIGJhc2VFYWNoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnJlZHVjZWAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZlxuICAgICAqIGBjb2xsZWN0aW9uYCBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0geyp9IFthY2N1bXVsYXRvcl0gVGhlIGluaXRpYWwgdmFsdWUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGFjY3VtdWxhdGVkIHZhbHVlLlxuICAgICAqIEBzZWUgXy5yZWR1Y2VcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gW1swLCAxXSwgWzIsIDNdLCBbNCwgNV1dO1xuICAgICAqXG4gICAgICogXy5yZWR1Y2VSaWdodChhcnJheSwgZnVuY3Rpb24oZmxhdHRlbmVkLCBvdGhlcikge1xuICAgICAqICAgcmV0dXJuIGZsYXR0ZW5lZC5jb25jYXQob3RoZXIpO1xuICAgICAqIH0sIFtdKTtcbiAgICAgKiAvLyA9PiBbNCwgNSwgMiwgMywgMCwgMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZWR1Y2VSaWdodChjb2xsZWN0aW9uLCBpdGVyYXRlZSwgYWNjdW11bGF0b3IpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5UmVkdWNlUmlnaHQgOiBiYXNlUmVkdWNlLFxuICAgICAgICAgIGluaXRBY2N1bSA9IGFyZ3VtZW50cy5sZW5ndGggPCAzO1xuXG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgNCksIGFjY3VtdWxhdG9yLCBpbml0QWNjdW0sIGJhc2VFYWNoUmlnaHQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBvcHBvc2l0ZSBvZiBgXy5maWx0ZXJgOyB0aGlzIG1ldGhvZCByZXR1cm5zIHRoZSBlbGVtZW50cyBvZiBgY29sbGVjdGlvbmBcbiAgICAgKiB0aGF0IGBwcmVkaWNhdGVgIGRvZXMgKipub3QqKiByZXR1cm4gdHJ1dGh5IGZvci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmaWx0ZXJlZCBhcnJheS5cbiAgICAgKiBAc2VlIF8uZmlsdGVyXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2LCAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQwLCAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8ucmVqZWN0KHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiAhby5hY3RpdmU7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ucmVqZWN0KHVzZXJzLCB7ICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IHRydWUgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ucmVqZWN0KHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ucmVqZWN0KHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlamVjdChjb2xsZWN0aW9uLCBwcmVkaWNhdGUpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5RmlsdGVyIDogYmFzZUZpbHRlcjtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIG5lZ2F0ZShnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhIHJhbmRvbSBlbGVtZW50IGZyb20gYGNvbGxlY3Rpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBzYW1wbGUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJhbmRvbSBlbGVtZW50LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNhbXBsZShbMSwgMiwgMywgNF0pO1xuICAgICAqIC8vID0+IDJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzYW1wbGUoY29sbGVjdGlvbikge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlTYW1wbGUgOiBiYXNlU2FtcGxlO1xuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBgbmAgcmFuZG9tIGVsZW1lbnRzIGF0IHVuaXF1ZSBrZXlzIGZyb20gYGNvbGxlY3Rpb25gIHVwIHRvIHRoZVxuICAgICAqIHNpemUgb2YgYGNvbGxlY3Rpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBzYW1wbGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTFdIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gc2FtcGxlLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSByYW5kb20gZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc2FtcGxlU2l6ZShbMSwgMiwgM10sIDIpO1xuICAgICAqIC8vID0+IFszLCAxXVxuICAgICAqXG4gICAgICogXy5zYW1wbGVTaXplKFsxLCAyLCAzXSwgNCk7XG4gICAgICogLy8gPT4gWzIsIDMsIDFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2FtcGxlU2l6ZShjb2xsZWN0aW9uLCBuLCBndWFyZCkge1xuICAgICAgaWYgKChndWFyZCA/IGlzSXRlcmF0ZWVDYWxsKGNvbGxlY3Rpb24sIG4sIGd1YXJkKSA6IG4gPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgbiA9IDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuID0gdG9JbnRlZ2VyKG4pO1xuICAgICAgfVxuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlTYW1wbGVTaXplIDogYmFzZVNhbXBsZVNpemU7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBuKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHNodWZmbGVkIHZhbHVlcywgdXNpbmcgYSB2ZXJzaW9uIG9mIHRoZVxuICAgICAqIFtGaXNoZXItWWF0ZXMgc2h1ZmZsZV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRmlzaGVyLVlhdGVzX3NodWZmbGUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBzaHVmZmxlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IHNodWZmbGVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNodWZmbGUoWzEsIDIsIDMsIDRdKTtcbiAgICAgKiAvLyA9PiBbNCwgMSwgMywgMl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzaHVmZmxlKGNvbGxlY3Rpb24pIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5U2h1ZmZsZSA6IGJhc2VTaHVmZmxlO1xuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgc2l6ZSBvZiBgY29sbGVjdGlvbmAgYnkgcmV0dXJuaW5nIGl0cyBsZW5ndGggZm9yIGFycmF5LWxpa2VcbiAgICAgKiB2YWx1ZXMgb3IgdGhlIG51bWJlciBvZiBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBmb3Igb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29sbGVjdGlvbiBzaXplLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNpemUoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLnNpemUoeyAnYSc6IDEsICdiJzogMiB9KTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICpcbiAgICAgKiBfLnNpemUoJ3BlYmJsZXMnKTtcbiAgICAgKiAvLyA9PiA3XG4gICAgICovXG4gICAgZnVuY3Rpb24gc2l6ZShjb2xsZWN0aW9uKSB7XG4gICAgICBpZiAoY29sbGVjdGlvbiA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfVxuICAgICAgaWYgKGlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pKSB7XG4gICAgICAgIHJldHVybiBpc1N0cmluZyhjb2xsZWN0aW9uKSA/IHN0cmluZ1NpemUoY29sbGVjdGlvbikgOiBjb2xsZWN0aW9uLmxlbmd0aDtcbiAgICAgIH1cbiAgICAgIHZhciB0YWcgPSBnZXRUYWcoY29sbGVjdGlvbik7XG4gICAgICBpZiAodGFnID09IG1hcFRhZyB8fCB0YWcgPT0gc2V0VGFnKSB7XG4gICAgICAgIHJldHVybiBjb2xsZWN0aW9uLnNpemU7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZUtleXMoY29sbGVjdGlvbikubGVuZ3RoO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3IgKiphbnkqKiBlbGVtZW50IG9mIGBjb2xsZWN0aW9uYC5cbiAgICAgKiBJdGVyYXRpb24gaXMgc3RvcHBlZCBvbmNlIGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5LiBUaGUgcHJlZGljYXRlIGlzXG4gICAgICogaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFueSBlbGVtZW50IHBhc3NlcyB0aGUgcHJlZGljYXRlIGNoZWNrLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc29tZShbbnVsbCwgMCwgJ3llcycsIGZhbHNlXSwgQm9vbGVhbik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uc29tZSh1c2VycywgeyAndXNlcic6ICdiYXJuZXknLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnNvbWUodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnNvbWUodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29tZShjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGd1YXJkKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheVNvbWUgOiBiYXNlU29tZTtcbiAgICAgIGlmIChndWFyZCAmJiBpc0l0ZXJhdGVlQ2FsbChjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGd1YXJkKSkge1xuICAgICAgICBwcmVkaWNhdGUgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGVsZW1lbnRzLCBzb3J0ZWQgaW4gYXNjZW5kaW5nIG9yZGVyIGJ5IHRoZSByZXN1bHRzIG9mXG4gICAgICogcnVubmluZyBlYWNoIGVsZW1lbnQgaW4gYSBjb2xsZWN0aW9uIHRocnUgZWFjaCBpdGVyYXRlZS4gVGhpcyBtZXRob2RcbiAgICAgKiBwZXJmb3JtcyBhIHN0YWJsZSBzb3J0LCB0aGF0IGlzLCBpdCBwcmVzZXJ2ZXMgdGhlIG9yaWdpbmFsIHNvcnQgb3JkZXIgb2ZcbiAgICAgKiBlcXVhbCBlbGVtZW50cy4gVGhlIGl0ZXJhdGVlcyBhcmUgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbaXRlcmF0ZWVzPVtfLmlkZW50aXR5XV1cbiAgICAgKiAgVGhlIGl0ZXJhdGVlcyB0byBzb3J0IGJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IHNvcnRlZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDggfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2IH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCB9LFxuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzQgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLnNvcnRCeSh1c2VycywgW2Z1bmN0aW9uKG8pIHsgcmV0dXJuIG8udXNlcjsgfV0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ2Jhcm5leScsIDM2XSwgWydiYXJuZXknLCAzNF0sIFsnZnJlZCcsIDQ4XSwgWydmcmVkJywgNDBdXVxuICAgICAqXG4gICAgICogXy5zb3J0QnkodXNlcnMsIFsndXNlcicsICdhZ2UnXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgW1snYmFybmV5JywgMzRdLCBbJ2Jhcm5leScsIDM2XSwgWydmcmVkJywgNDBdLCBbJ2ZyZWQnLCA0OF1dXG4gICAgICovXG4gICAgdmFyIHNvcnRCeSA9IGJhc2VSZXN0KGZ1bmN0aW9uKGNvbGxlY3Rpb24sIGl0ZXJhdGVlcykge1xuICAgICAgaWYgKGNvbGxlY3Rpb24gPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgbGVuZ3RoID0gaXRlcmF0ZWVzLmxlbmd0aDtcbiAgICAgIGlmIChsZW5ndGggPiAxICYmIGlzSXRlcmF0ZWVDYWxsKGNvbGxlY3Rpb24sIGl0ZXJhdGVlc1swXSwgaXRlcmF0ZWVzWzFdKSkge1xuICAgICAgICBpdGVyYXRlZXMgPSBbXTtcbiAgICAgIH0gZWxzZSBpZiAobGVuZ3RoID4gMiAmJiBpc0l0ZXJhdGVlQ2FsbChpdGVyYXRlZXNbMF0sIGl0ZXJhdGVlc1sxXSwgaXRlcmF0ZWVzWzJdKSkge1xuICAgICAgICBpdGVyYXRlZXMgPSBbaXRlcmF0ZWVzWzBdXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlT3JkZXJCeShjb2xsZWN0aW9uLCBiYXNlRmxhdHRlbihpdGVyYXRlZXMsIDEpLCBbXSk7XG4gICAgfSk7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSB0aW1lc3RhbXAgb2YgdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdGhhdCBoYXZlIGVsYXBzZWQgc2luY2VcbiAgICAgKiB0aGUgVW5peCBlcG9jaCAoMSBKYW51YXJ5IDE5NzAgMDA6MDA6MDAgVVRDKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjQuMFxuICAgICAqIEBjYXRlZ29yeSBEYXRlXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdGltZXN0YW1wLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlZmVyKGZ1bmN0aW9uKHN0YW1wKSB7XG4gICAgICogICBjb25zb2xlLmxvZyhfLm5vdygpIC0gc3RhbXApO1xuICAgICAqIH0sIF8ubm93KCkpO1xuICAgICAqIC8vID0+IExvZ3MgdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgaXQgdG9vayBmb3IgdGhlIGRlZmVycmVkIGludm9jYXRpb24uXG4gICAgICovXG4gICAgdmFyIG5vdyA9IGN0eE5vdyB8fCBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiByb290LkRhdGUubm93KCk7XG4gICAgfTtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIFRoZSBvcHBvc2l0ZSBvZiBgXy5iZWZvcmVgOyB0aGlzIG1ldGhvZCBjcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzXG4gICAgICogYGZ1bmNgIG9uY2UgaXQncyBjYWxsZWQgYG5gIG9yIG1vcmUgdGltZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIGNhbGxzIGJlZm9yZSBgZnVuY2AgaXMgaW52b2tlZC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byByZXN0cmljdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyByZXN0cmljdGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgc2F2ZXMgPSBbJ3Byb2ZpbGUnLCAnc2V0dGluZ3MnXTtcbiAgICAgKlxuICAgICAqIHZhciBkb25lID0gXy5hZnRlcihzYXZlcy5sZW5ndGgsIGZ1bmN0aW9uKCkge1xuICAgICAqICAgY29uc29sZS5sb2coJ2RvbmUgc2F2aW5nIScpO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogXy5mb3JFYWNoKHNhdmVzLCBmdW5jdGlvbih0eXBlKSB7XG4gICAgICogICBhc3luY1NhdmUoeyAndHlwZSc6IHR5cGUsICdjb21wbGV0ZSc6IGRvbmUgfSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyAnZG9uZSBzYXZpbmchJyBhZnRlciB0aGUgdHdvIGFzeW5jIHNhdmVzIGhhdmUgY29tcGxldGVkLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFmdGVyKG4sIGZ1bmMpIHtcbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIG4gPSB0b0ludGVnZXIobik7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICgtLW4gPCAxKSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCwgd2l0aCB1cCB0byBgbmAgYXJndW1lbnRzLFxuICAgICAqIGlnbm9yaW5nIGFueSBhZGRpdGlvbmFsIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNhcCBhcmd1bWVudHMgZm9yLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj1mdW5jLmxlbmd0aF0gVGhlIGFyaXR5IGNhcC5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNhcHBlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5tYXAoWyc2JywgJzgnLCAnMTAnXSwgXy5hcnkocGFyc2VJbnQsIDEpKTtcbiAgICAgKiAvLyA9PiBbNiwgOCwgMTBdXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXJ5KGZ1bmMsIG4sIGd1YXJkKSB7XG4gICAgICBuID0gZ3VhcmQgPyB1bmRlZmluZWQgOiBuO1xuICAgICAgbiA9IChmdW5jICYmIG4gPT0gbnVsbCkgPyBmdW5jLmxlbmd0aCA6IG47XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcChmdW5jLCBXUkFQX0FSWV9GTEFHLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIG4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgLCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBhbmQgYXJndW1lbnRzXG4gICAgICogb2YgdGhlIGNyZWF0ZWQgZnVuY3Rpb24sIHdoaWxlIGl0J3MgY2FsbGVkIGxlc3MgdGhhbiBgbmAgdGltZXMuIFN1YnNlcXVlbnRcbiAgICAgKiBjYWxscyB0byB0aGUgY3JlYXRlZCBmdW5jdGlvbiByZXR1cm4gdGhlIHJlc3VsdCBvZiB0aGUgbGFzdCBgZnVuY2AgaW52b2NhdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgY2FsbHMgYXQgd2hpY2ggYGZ1bmNgIGlzIG5vIGxvbmdlciBpbnZva2VkLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHJlc3RyaWN0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHJlc3RyaWN0ZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGpRdWVyeShlbGVtZW50KS5vbignY2xpY2snLCBfLmJlZm9yZSg1LCBhZGRDb250YWN0VG9MaXN0KSk7XG4gICAgICogLy8gPT4gQWxsb3dzIGFkZGluZyB1cCB0byA0IGNvbnRhY3RzIHRvIHRoZSBsaXN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJlZm9yZShuLCBmdW5jKSB7XG4gICAgICB2YXIgcmVzdWx0O1xuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgbiA9IHRvSW50ZWdlcihuKTtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKC0tbiA+IDApIHtcbiAgICAgICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG4gPD0gMSkge1xuICAgICAgICAgIGZ1bmMgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgYHRoaXNBcmdgXG4gICAgICogYW5kIGBwYXJ0aWFsc2AgcHJlcGVuZGVkIHRvIHRoZSBhcmd1bWVudHMgaXQgcmVjZWl2ZXMuXG4gICAgICpcbiAgICAgKiBUaGUgYF8uYmluZC5wbGFjZWhvbGRlcmAgdmFsdWUsIHdoaWNoIGRlZmF1bHRzIHRvIGBfYCBpbiBtb25vbGl0aGljIGJ1aWxkcyxcbiAgICAgKiBtYXkgYmUgdXNlZCBhcyBhIHBsYWNlaG9sZGVyIGZvciBwYXJ0aWFsbHkgYXBwbGllZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIG5hdGl2ZSBgRnVuY3Rpb24jYmluZGAsIHRoaXMgbWV0aG9kIGRvZXNuJ3Qgc2V0IHRoZSBcImxlbmd0aFwiXG4gICAgICogcHJvcGVydHkgb2YgYm91bmQgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYmluZC5cbiAgICAgKiBAcGFyYW0geyp9IHRoaXNBcmcgVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0gey4uLip9IFtwYXJ0aWFsc10gVGhlIGFyZ3VtZW50cyB0byBiZSBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBib3VuZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gZ3JlZXQoZ3JlZXRpbmcsIHB1bmN0dWF0aW9uKSB7XG4gICAgICogICByZXR1cm4gZ3JlZXRpbmcgKyAnICcgKyB0aGlzLnVzZXIgKyBwdW5jdHVhdGlvbjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAndXNlcic6ICdmcmVkJyB9O1xuICAgICAqXG4gICAgICogdmFyIGJvdW5kID0gXy5iaW5kKGdyZWV0LCBvYmplY3QsICdoaScpO1xuICAgICAqIGJvdW5kKCchJyk7XG4gICAgICogLy8gPT4gJ2hpIGZyZWQhJ1xuICAgICAqXG4gICAgICogLy8gQm91bmQgd2l0aCBwbGFjZWhvbGRlcnMuXG4gICAgICogdmFyIGJvdW5kID0gXy5iaW5kKGdyZWV0LCBvYmplY3QsIF8sICchJyk7XG4gICAgICogYm91bmQoJ2hpJyk7XG4gICAgICogLy8gPT4gJ2hpIGZyZWQhJ1xuICAgICAqL1xuICAgIHZhciBiaW5kID0gYmFzZVJlc3QoZnVuY3Rpb24oZnVuYywgdGhpc0FyZywgcGFydGlhbHMpIHtcbiAgICAgIHZhciBiaXRtYXNrID0gV1JBUF9CSU5EX0ZMQUc7XG4gICAgICBpZiAocGFydGlhbHMubGVuZ3RoKSB7XG4gICAgICAgIHZhciBob2xkZXJzID0gcmVwbGFjZUhvbGRlcnMocGFydGlhbHMsIGdldEhvbGRlcihiaW5kKSk7XG4gICAgICAgIGJpdG1hc2sgfD0gV1JBUF9QQVJUSUFMX0ZMQUc7XG4gICAgICB9XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcChmdW5jLCBiaXRtYXNrLCB0aGlzQXJnLCBwYXJ0aWFscywgaG9sZGVycyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIHRoZSBtZXRob2QgYXQgYG9iamVjdFtrZXldYCB3aXRoIGBwYXJ0aWFsc2BcbiAgICAgKiBwcmVwZW5kZWQgdG8gdGhlIGFyZ3VtZW50cyBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIGRpZmZlcnMgZnJvbSBgXy5iaW5kYCBieSBhbGxvd2luZyBib3VuZCBmdW5jdGlvbnMgdG8gcmVmZXJlbmNlXG4gICAgICogbWV0aG9kcyB0aGF0IG1heSBiZSByZWRlZmluZWQgb3IgZG9uJ3QgeWV0IGV4aXN0LiBTZWVcbiAgICAgKiBbUGV0ZXIgTWljaGF1eCdzIGFydGljbGVdKGh0dHA6Ly9wZXRlci5taWNoYXV4LmNhL2FydGljbGVzL2xhenktZnVuY3Rpb24tZGVmaW5pdGlvbi1wYXR0ZXJuKVxuICAgICAqIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICpcbiAgICAgKiBUaGUgYF8uYmluZEtleS5wbGFjZWhvbGRlcmAgdmFsdWUsIHdoaWNoIGRlZmF1bHRzIHRvIGBfYCBpbiBtb25vbGl0aGljXG4gICAgICogYnVpbGRzLCBtYXkgYmUgdXNlZCBhcyBhIHBsYWNlaG9sZGVyIGZvciBwYXJ0aWFsbHkgYXBwbGllZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGludm9rZSB0aGUgbWV0aG9kIG9uLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgbWV0aG9kLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW3BhcnRpYWxzXSBUaGUgYXJndW1lbnRzIHRvIGJlIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGJvdW5kIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0ge1xuICAgICAqICAgJ3VzZXInOiAnZnJlZCcsXG4gICAgICogICAnZ3JlZXQnOiBmdW5jdGlvbihncmVldGluZywgcHVuY3R1YXRpb24pIHtcbiAgICAgKiAgICAgcmV0dXJuIGdyZWV0aW5nICsgJyAnICsgdGhpcy51c2VyICsgcHVuY3R1YXRpb247XG4gICAgICogICB9XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIHZhciBib3VuZCA9IF8uYmluZEtleShvYmplY3QsICdncmVldCcsICdoaScpO1xuICAgICAqIGJvdW5kKCchJyk7XG4gICAgICogLy8gPT4gJ2hpIGZyZWQhJ1xuICAgICAqXG4gICAgICogb2JqZWN0LmdyZWV0ID0gZnVuY3Rpb24oZ3JlZXRpbmcsIHB1bmN0dWF0aW9uKSB7XG4gICAgICogICByZXR1cm4gZ3JlZXRpbmcgKyAneWEgJyArIHRoaXMudXNlciArIHB1bmN0dWF0aW9uO1xuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBib3VuZCgnIScpO1xuICAgICAqIC8vID0+ICdoaXlhIGZyZWQhJ1xuICAgICAqXG4gICAgICogLy8gQm91bmQgd2l0aCBwbGFjZWhvbGRlcnMuXG4gICAgICogdmFyIGJvdW5kID0gXy5iaW5kS2V5KG9iamVjdCwgJ2dyZWV0JywgXywgJyEnKTtcbiAgICAgKiBib3VuZCgnaGknKTtcbiAgICAgKiAvLyA9PiAnaGl5YSBmcmVkISdcbiAgICAgKi9cbiAgICB2YXIgYmluZEtleSA9IGJhc2VSZXN0KGZ1bmN0aW9uKG9iamVjdCwga2V5LCBwYXJ0aWFscykge1xuICAgICAgdmFyIGJpdG1hc2sgPSBXUkFQX0JJTkRfRkxBRyB8IFdSQVBfQklORF9LRVlfRkxBRztcbiAgICAgIGlmIChwYXJ0aWFscy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGhvbGRlcnMgPSByZXBsYWNlSG9sZGVycyhwYXJ0aWFscywgZ2V0SG9sZGVyKGJpbmRLZXkpKTtcbiAgICAgICAgYml0bWFzayB8PSBXUkFQX1BBUlRJQUxfRkxBRztcbiAgICAgIH1cbiAgICAgIHJldHVybiBjcmVhdGVXcmFwKGtleSwgYml0bWFzaywgb2JqZWN0LCBwYXJ0aWFscywgaG9sZGVycyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBhY2NlcHRzIGFyZ3VtZW50cyBvZiBgZnVuY2AgYW5kIGVpdGhlciBpbnZva2VzXG4gICAgICogYGZ1bmNgIHJldHVybmluZyBpdHMgcmVzdWx0LCBpZiBhdCBsZWFzdCBgYXJpdHlgIG51bWJlciBvZiBhcmd1bWVudHMgaGF2ZVxuICAgICAqIGJlZW4gcHJvdmlkZWQsIG9yIHJldHVybnMgYSBmdW5jdGlvbiB0aGF0IGFjY2VwdHMgdGhlIHJlbWFpbmluZyBgZnVuY2BcbiAgICAgKiBhcmd1bWVudHMsIGFuZCBzbyBvbi4gVGhlIGFyaXR5IG9mIGBmdW5jYCBtYXkgYmUgc3BlY2lmaWVkIGlmIGBmdW5jLmxlbmd0aGBcbiAgICAgKiBpcyBub3Qgc3VmZmljaWVudC5cbiAgICAgKlxuICAgICAqIFRoZSBgXy5jdXJyeS5wbGFjZWhvbGRlcmAgdmFsdWUsIHdoaWNoIGRlZmF1bHRzIHRvIGBfYCBpbiBtb25vbGl0aGljIGJ1aWxkcyxcbiAgICAgKiBtYXkgYmUgdXNlZCBhcyBhIHBsYWNlaG9sZGVyIGZvciBwcm92aWRlZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgZG9lc24ndCBzZXQgdGhlIFwibGVuZ3RoXCIgcHJvcGVydHkgb2YgY3VycmllZCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjdXJyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyaXR5PWZ1bmMubGVuZ3RoXSBUaGUgYXJpdHkgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY3VycmllZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFiYyA9IGZ1bmN0aW9uKGEsIGIsIGMpIHtcbiAgICAgKiAgIHJldHVybiBbYSwgYiwgY107XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIHZhciBjdXJyaWVkID0gXy5jdXJyeShhYmMpO1xuICAgICAqXG4gICAgICogY3VycmllZCgxKSgyKSgzKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIGN1cnJpZWQoMSwgMikoMyk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiBjdXJyaWVkKDEsIDIsIDMpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogLy8gQ3VycmllZCB3aXRoIHBsYWNlaG9sZGVycy5cbiAgICAgKiBjdXJyaWVkKDEpKF8sIDMpKDIpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGN1cnJ5KGZ1bmMsIGFyaXR5LCBndWFyZCkge1xuICAgICAgYXJpdHkgPSBndWFyZCA/IHVuZGVmaW5lZCA6IGFyaXR5O1xuICAgICAgdmFyIHJlc3VsdCA9IGNyZWF0ZVdyYXAoZnVuYywgV1JBUF9DVVJSWV9GTEFHLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYXJpdHkpO1xuICAgICAgcmVzdWx0LnBsYWNlaG9sZGVyID0gY3VycnkucGxhY2Vob2xkZXI7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uY3VycnlgIGV4Y2VwdCB0aGF0IGFyZ3VtZW50cyBhcmUgYXBwbGllZCB0byBgZnVuY2BcbiAgICAgKiBpbiB0aGUgbWFubmVyIG9mIGBfLnBhcnRpYWxSaWdodGAgaW5zdGVhZCBvZiBgXy5wYXJ0aWFsYC5cbiAgICAgKlxuICAgICAqIFRoZSBgXy5jdXJyeVJpZ2h0LnBsYWNlaG9sZGVyYCB2YWx1ZSwgd2hpY2ggZGVmYXVsdHMgdG8gYF9gIGluIG1vbm9saXRoaWNcbiAgICAgKiBidWlsZHMsIG1heSBiZSB1c2VkIGFzIGEgcGxhY2Vob2xkZXIgZm9yIHByb3ZpZGVkIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBkb2Vzbid0IHNldCB0aGUgXCJsZW5ndGhcIiBwcm9wZXJ0eSBvZiBjdXJyaWVkIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGN1cnJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJpdHk9ZnVuYy5sZW5ndGhdIFRoZSBhcml0eSBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjdXJyaWVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYWJjID0gZnVuY3Rpb24oYSwgYiwgYykge1xuICAgICAqICAgcmV0dXJuIFthLCBiLCBjXTtcbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogdmFyIGN1cnJpZWQgPSBfLmN1cnJ5UmlnaHQoYWJjKTtcbiAgICAgKlxuICAgICAqIGN1cnJpZWQoMykoMikoMSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiBjdXJyaWVkKDIsIDMpKDEpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogY3VycmllZCgxLCAyLCAzKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIC8vIEN1cnJpZWQgd2l0aCBwbGFjZWhvbGRlcnMuXG4gICAgICogY3VycmllZCgzKSgxLCBfKSgyKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjdXJyeVJpZ2h0KGZ1bmMsIGFyaXR5LCBndWFyZCkge1xuICAgICAgYXJpdHkgPSBndWFyZCA/IHVuZGVmaW5lZCA6IGFyaXR5O1xuICAgICAgdmFyIHJlc3VsdCA9IGNyZWF0ZVdyYXAoZnVuYywgV1JBUF9DVVJSWV9SSUdIVF9GTEFHLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYXJpdHkpO1xuICAgICAgcmVzdWx0LnBsYWNlaG9sZGVyID0gY3VycnlSaWdodC5wbGFjZWhvbGRlcjtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGRlYm91bmNlZCBmdW5jdGlvbiB0aGF0IGRlbGF5cyBpbnZva2luZyBgZnVuY2AgdW50aWwgYWZ0ZXIgYHdhaXRgXG4gICAgICogbWlsbGlzZWNvbmRzIGhhdmUgZWxhcHNlZCBzaW5jZSB0aGUgbGFzdCB0aW1lIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gd2FzXG4gICAgICogaW52b2tlZC4gVGhlIGRlYm91bmNlZCBmdW5jdGlvbiBjb21lcyB3aXRoIGEgYGNhbmNlbGAgbWV0aG9kIHRvIGNhbmNlbFxuICAgICAqIGRlbGF5ZWQgYGZ1bmNgIGludm9jYXRpb25zIGFuZCBhIGBmbHVzaGAgbWV0aG9kIHRvIGltbWVkaWF0ZWx5IGludm9rZSB0aGVtLlxuICAgICAqIFByb3ZpZGUgYG9wdGlvbnNgIHRvIGluZGljYXRlIHdoZXRoZXIgYGZ1bmNgIHNob3VsZCBiZSBpbnZva2VkIG9uIHRoZVxuICAgICAqIGxlYWRpbmcgYW5kL29yIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIGB3YWl0YCB0aW1lb3V0LiBUaGUgYGZ1bmNgIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHRoZSBsYXN0IGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uLiBTdWJzZXF1ZW50XG4gICAgICogY2FsbHMgdG8gdGhlIGRlYm91bmNlZCBmdW5jdGlvbiByZXR1cm4gdGhlIHJlc3VsdCBvZiB0aGUgbGFzdCBgZnVuY2BcbiAgICAgKiBpbnZvY2F0aW9uLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIElmIGBsZWFkaW5nYCBhbmQgYHRyYWlsaW5nYCBvcHRpb25zIGFyZSBgdHJ1ZWAsIGBmdW5jYCBpc1xuICAgICAqIGludm9rZWQgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQgb25seSBpZiB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uXG4gICAgICogaXMgaW52b2tlZCBtb3JlIHRoYW4gb25jZSBkdXJpbmcgdGhlIGB3YWl0YCB0aW1lb3V0LlxuICAgICAqXG4gICAgICogSWYgYHdhaXRgIGlzIGAwYCBhbmQgYGxlYWRpbmdgIGlzIGBmYWxzZWAsIGBmdW5jYCBpbnZvY2F0aW9uIGlzIGRlZmVycmVkXG4gICAgICogdW50aWwgdG8gdGhlIG5leHQgdGljaywgc2ltaWxhciB0byBgc2V0VGltZW91dGAgd2l0aCBhIHRpbWVvdXQgb2YgYDBgLlxuICAgICAqXG4gICAgICogU2VlIFtEYXZpZCBDb3JiYWNobydzIGFydGljbGVdKGh0dHBzOi8vY3NzLXRyaWNrcy5jb20vZGVib3VuY2luZy10aHJvdHRsaW5nLWV4cGxhaW5lZC1leGFtcGxlcy8pXG4gICAgICogZm9yIGRldGFpbHMgb3ZlciB0aGUgZGlmZmVyZW5jZXMgYmV0d2VlbiBgXy5kZWJvdW5jZWAgYW5kIGBfLnRocm90dGxlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRlYm91bmNlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbd2FpdD0wXSBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byBkZWxheS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmxlYWRpbmc9ZmFsc2VdXG4gICAgICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIGxlYWRpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWF4V2FpdF1cbiAgICAgKiAgVGhlIG1heGltdW0gdGltZSBgZnVuY2AgaXMgYWxsb3dlZCB0byBiZSBkZWxheWVkIGJlZm9yZSBpdCdzIGludm9rZWQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFpbGluZz10cnVlXVxuICAgICAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGRlYm91bmNlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogLy8gQXZvaWQgY29zdGx5IGNhbGN1bGF0aW9ucyB3aGlsZSB0aGUgd2luZG93IHNpemUgaXMgaW4gZmx1eC5cbiAgICAgKiBqUXVlcnkod2luZG93KS5vbigncmVzaXplJywgXy5kZWJvdW5jZShjYWxjdWxhdGVMYXlvdXQsIDE1MCkpO1xuICAgICAqXG4gICAgICogLy8gSW52b2tlIGBzZW5kTWFpbGAgd2hlbiBjbGlja2VkLCBkZWJvdW5jaW5nIHN1YnNlcXVlbnQgY2FsbHMuXG4gICAgICogalF1ZXJ5KGVsZW1lbnQpLm9uKCdjbGljaycsIF8uZGVib3VuY2Uoc2VuZE1haWwsIDMwMCwge1xuICAgICAqICAgJ2xlYWRpbmcnOiB0cnVlLFxuICAgICAqICAgJ3RyYWlsaW5nJzogZmFsc2VcbiAgICAgKiB9KSk7XG4gICAgICpcbiAgICAgKiAvLyBFbnN1cmUgYGJhdGNoTG9nYCBpcyBpbnZva2VkIG9uY2UgYWZ0ZXIgMSBzZWNvbmQgb2YgZGVib3VuY2VkIGNhbGxzLlxuICAgICAqIHZhciBkZWJvdW5jZWQgPSBfLmRlYm91bmNlKGJhdGNoTG9nLCAyNTAsIHsgJ21heFdhaXQnOiAxMDAwIH0pO1xuICAgICAqIHZhciBzb3VyY2UgPSBuZXcgRXZlbnRTb3VyY2UoJy9zdHJlYW0nKTtcbiAgICAgKiBqUXVlcnkoc291cmNlKS5vbignbWVzc2FnZScsIGRlYm91bmNlZCk7XG4gICAgICpcbiAgICAgKiAvLyBDYW5jZWwgdGhlIHRyYWlsaW5nIGRlYm91bmNlZCBpbnZvY2F0aW9uLlxuICAgICAqIGpRdWVyeSh3aW5kb3cpLm9uKCdwb3BzdGF0ZScsIGRlYm91bmNlZC5jYW5jZWwpO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRlYm91bmNlKGZ1bmMsIHdhaXQsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBsYXN0QXJncyxcbiAgICAgICAgICBsYXN0VGhpcyxcbiAgICAgICAgICBtYXhXYWl0LFxuICAgICAgICAgIHJlc3VsdCxcbiAgICAgICAgICB0aW1lcklkLFxuICAgICAgICAgIGxhc3RDYWxsVGltZSxcbiAgICAgICAgICBsYXN0SW52b2tlVGltZSA9IDAsXG4gICAgICAgICAgbGVhZGluZyA9IGZhbHNlLFxuICAgICAgICAgIG1heGluZyA9IGZhbHNlLFxuICAgICAgICAgIHRyYWlsaW5nID0gdHJ1ZTtcblxuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgd2FpdCA9IHRvTnVtYmVyKHdhaXQpIHx8IDA7XG4gICAgICBpZiAoaXNPYmplY3Qob3B0aW9ucykpIHtcbiAgICAgICAgbGVhZGluZyA9ICEhb3B0aW9ucy5sZWFkaW5nO1xuICAgICAgICBtYXhpbmcgPSAnbWF4V2FpdCcgaW4gb3B0aW9ucztcbiAgICAgICAgbWF4V2FpdCA9IG1heGluZyA/IG5hdGl2ZU1heCh0b051bWJlcihvcHRpb25zLm1heFdhaXQpIHx8IDAsIHdhaXQpIDogbWF4V2FpdDtcbiAgICAgICAgdHJhaWxpbmcgPSAndHJhaWxpbmcnIGluIG9wdGlvbnMgPyAhIW9wdGlvbnMudHJhaWxpbmcgOiB0cmFpbGluZztcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gaW52b2tlRnVuYyh0aW1lKSB7XG4gICAgICAgIHZhciBhcmdzID0gbGFzdEFyZ3MsXG4gICAgICAgICAgICB0aGlzQXJnID0gbGFzdFRoaXM7XG5cbiAgICAgICAgbGFzdEFyZ3MgPSBsYXN0VGhpcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgbGFzdEludm9rZVRpbWUgPSB0aW1lO1xuICAgICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KHRoaXNBcmcsIGFyZ3MpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBsZWFkaW5nRWRnZSh0aW1lKSB7XG4gICAgICAgIC8vIFJlc2V0IGFueSBgbWF4V2FpdGAgdGltZXIuXG4gICAgICAgIGxhc3RJbnZva2VUaW1lID0gdGltZTtcbiAgICAgICAgLy8gU3RhcnQgdGhlIHRpbWVyIGZvciB0aGUgdHJhaWxpbmcgZWRnZS5cbiAgICAgICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCB3YWl0KTtcbiAgICAgICAgLy8gSW52b2tlIHRoZSBsZWFkaW5nIGVkZ2UuXG4gICAgICAgIHJldHVybiBsZWFkaW5nID8gaW52b2tlRnVuYyh0aW1lKSA6IHJlc3VsdDtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gcmVtYWluaW5nV2FpdCh0aW1lKSB7XG4gICAgICAgIHZhciB0aW1lU2luY2VMYXN0Q2FsbCA9IHRpbWUgLSBsYXN0Q2FsbFRpbWUsXG4gICAgICAgICAgICB0aW1lU2luY2VMYXN0SW52b2tlID0gdGltZSAtIGxhc3RJbnZva2VUaW1lLFxuICAgICAgICAgICAgdGltZVdhaXRpbmcgPSB3YWl0IC0gdGltZVNpbmNlTGFzdENhbGw7XG5cbiAgICAgICAgcmV0dXJuIG1heGluZ1xuICAgICAgICAgID8gbmF0aXZlTWluKHRpbWVXYWl0aW5nLCBtYXhXYWl0IC0gdGltZVNpbmNlTGFzdEludm9rZSlcbiAgICAgICAgICA6IHRpbWVXYWl0aW5nO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBzaG91bGRJbnZva2UodGltZSkge1xuICAgICAgICB2YXIgdGltZVNpbmNlTGFzdENhbGwgPSB0aW1lIC0gbGFzdENhbGxUaW1lLFxuICAgICAgICAgICAgdGltZVNpbmNlTGFzdEludm9rZSA9IHRpbWUgLSBsYXN0SW52b2tlVGltZTtcblxuICAgICAgICAvLyBFaXRoZXIgdGhpcyBpcyB0aGUgZmlyc3QgY2FsbCwgYWN0aXZpdHkgaGFzIHN0b3BwZWQgYW5kIHdlJ3JlIGF0IHRoZVxuICAgICAgICAvLyB0cmFpbGluZyBlZGdlLCB0aGUgc3lzdGVtIHRpbWUgaGFzIGdvbmUgYmFja3dhcmRzIGFuZCB3ZSdyZSB0cmVhdGluZ1xuICAgICAgICAvLyBpdCBhcyB0aGUgdHJhaWxpbmcgZWRnZSwgb3Igd2UndmUgaGl0IHRoZSBgbWF4V2FpdGAgbGltaXQuXG4gICAgICAgIHJldHVybiAobGFzdENhbGxUaW1lID09PSB1bmRlZmluZWQgfHwgKHRpbWVTaW5jZUxhc3RDYWxsID49IHdhaXQpIHx8XG4gICAgICAgICAgKHRpbWVTaW5jZUxhc3RDYWxsIDwgMCkgfHwgKG1heGluZyAmJiB0aW1lU2luY2VMYXN0SW52b2tlID49IG1heFdhaXQpKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gdGltZXJFeHBpcmVkKCkge1xuICAgICAgICB2YXIgdGltZSA9IG5vdygpO1xuICAgICAgICBpZiAoc2hvdWxkSW52b2tlKHRpbWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHRyYWlsaW5nRWRnZSh0aW1lKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZXN0YXJ0IHRoZSB0aW1lci5cbiAgICAgICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCByZW1haW5pbmdXYWl0KHRpbWUpKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gdHJhaWxpbmdFZGdlKHRpbWUpIHtcbiAgICAgICAgdGltZXJJZCA9IHVuZGVmaW5lZDtcblxuICAgICAgICAvLyBPbmx5IGludm9rZSBpZiB3ZSBoYXZlIGBsYXN0QXJnc2Agd2hpY2ggbWVhbnMgYGZ1bmNgIGhhcyBiZWVuXG4gICAgICAgIC8vIGRlYm91bmNlZCBhdCBsZWFzdCBvbmNlLlxuICAgICAgICBpZiAodHJhaWxpbmcgJiYgbGFzdEFyZ3MpIHtcbiAgICAgICAgICByZXR1cm4gaW52b2tlRnVuYyh0aW1lKTtcbiAgICAgICAgfVxuICAgICAgICBsYXN0QXJncyA9IGxhc3RUaGlzID0gdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBjYW5jZWwoKSB7XG4gICAgICAgIGlmICh0aW1lcklkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQodGltZXJJZCk7XG4gICAgICAgIH1cbiAgICAgICAgbGFzdEludm9rZVRpbWUgPSAwO1xuICAgICAgICBsYXN0QXJncyA9IGxhc3RDYWxsVGltZSA9IGxhc3RUaGlzID0gdGltZXJJZCA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZmx1c2goKSB7XG4gICAgICAgIHJldHVybiB0aW1lcklkID09PSB1bmRlZmluZWQgPyByZXN1bHQgOiB0cmFpbGluZ0VkZ2Uobm93KCkpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBkZWJvdW5jZWQoKSB7XG4gICAgICAgIHZhciB0aW1lID0gbm93KCksXG4gICAgICAgICAgICBpc0ludm9raW5nID0gc2hvdWxkSW52b2tlKHRpbWUpO1xuXG4gICAgICAgIGxhc3RBcmdzID0gYXJndW1lbnRzO1xuICAgICAgICBsYXN0VGhpcyA9IHRoaXM7XG4gICAgICAgIGxhc3RDYWxsVGltZSA9IHRpbWU7XG5cbiAgICAgICAgaWYgKGlzSW52b2tpbmcpIHtcbiAgICAgICAgICBpZiAodGltZXJJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gbGVhZGluZ0VkZ2UobGFzdENhbGxUaW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG1heGluZykge1xuICAgICAgICAgICAgLy8gSGFuZGxlIGludm9jYXRpb25zIGluIGEgdGlnaHQgbG9vcC5cbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lcklkKTtcbiAgICAgICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgICAgICAgICByZXR1cm4gaW52b2tlRnVuYyhsYXN0Q2FsbFRpbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGltZXJJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCB3YWl0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgZGVib3VuY2VkLmNhbmNlbCA9IGNhbmNlbDtcbiAgICAgIGRlYm91bmNlZC5mbHVzaCA9IGZsdXNoO1xuICAgICAgcmV0dXJuIGRlYm91bmNlZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWZlcnMgaW52b2tpbmcgdGhlIGBmdW5jYCB1bnRpbCB0aGUgY3VycmVudCBjYWxsIHN0YWNrIGhhcyBjbGVhcmVkLiBBbnlcbiAgICAgKiBhZGRpdGlvbmFsIGFyZ3VtZW50cyBhcmUgcHJvdmlkZWQgdG8gYGZ1bmNgIHdoZW4gaXQncyBpbnZva2VkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZGVmZXIuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbYXJnc10gVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgYGZ1bmNgIHdpdGguXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdGltZXIgaWQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGVmZXIoZnVuY3Rpb24odGV4dCkge1xuICAgICAqICAgY29uc29sZS5sb2codGV4dCk7XG4gICAgICogfSwgJ2RlZmVycmVkJyk7XG4gICAgICogLy8gPT4gTG9ncyAnZGVmZXJyZWQnIGFmdGVyIG9uZSBtaWxsaXNlY29uZC5cbiAgICAgKi9cbiAgICB2YXIgZGVmZXIgPSBiYXNlUmVzdChmdW5jdGlvbihmdW5jLCBhcmdzKSB7XG4gICAgICByZXR1cm4gYmFzZURlbGF5KGZ1bmMsIDEsIGFyZ3MpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogSW52b2tlcyBgZnVuY2AgYWZ0ZXIgYHdhaXRgIG1pbGxpc2Vjb25kcy4gQW55IGFkZGl0aW9uYWwgYXJndW1lbnRzIGFyZVxuICAgICAqIHByb3ZpZGVkIHRvIGBmdW5jYCB3aGVuIGl0J3MgaW52b2tlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRlbGF5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3YWl0IFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIGRlbGF5IGludm9jYXRpb24uXG4gICAgICogQHBhcmFtIHsuLi4qfSBbYXJnc10gVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgYGZ1bmNgIHdpdGguXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdGltZXIgaWQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGVsYXkoZnVuY3Rpb24odGV4dCkge1xuICAgICAqICAgY29uc29sZS5sb2codGV4dCk7XG4gICAgICogfSwgMTAwMCwgJ2xhdGVyJyk7XG4gICAgICogLy8gPT4gTG9ncyAnbGF0ZXInIGFmdGVyIG9uZSBzZWNvbmQuXG4gICAgICovXG4gICAgdmFyIGRlbGF5ID0gYmFzZVJlc3QoZnVuY3Rpb24oZnVuYywgd2FpdCwgYXJncykge1xuICAgICAgcmV0dXJuIGJhc2VEZWxheShmdW5jLCB0b051bWJlcih3YWl0KSB8fCAwLCBhcmdzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggYXJndW1lbnRzIHJldmVyc2VkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZmxpcCBhcmd1bWVudHMgZm9yLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZsaXBwZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBmbGlwcGVkID0gXy5mbGlwKGZ1bmN0aW9uKCkge1xuICAgICAqICAgcmV0dXJuIF8udG9BcnJheShhcmd1bWVudHMpO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogZmxpcHBlZCgnYScsICdiJywgJ2MnLCAnZCcpO1xuICAgICAqIC8vID0+IFsnZCcsICdjJywgJ2InLCAnYSddXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxpcChmdW5jKSB7XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcChmdW5jLCBXUkFQX0ZMSVBfRkxBRyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgbWVtb2l6ZXMgdGhlIHJlc3VsdCBvZiBgZnVuY2AuIElmIGByZXNvbHZlcmAgaXNcbiAgICAgKiBwcm92aWRlZCwgaXQgZGV0ZXJtaW5lcyB0aGUgY2FjaGUga2V5IGZvciBzdG9yaW5nIHRoZSByZXN1bHQgYmFzZWQgb24gdGhlXG4gICAgICogYXJndW1lbnRzIHByb3ZpZGVkIHRvIHRoZSBtZW1vaXplZCBmdW5jdGlvbi4gQnkgZGVmYXVsdCwgdGhlIGZpcnN0IGFyZ3VtZW50XG4gICAgICogcHJvdmlkZWQgdG8gdGhlIG1lbW9pemVkIGZ1bmN0aW9uIGlzIHVzZWQgYXMgdGhlIG1hcCBjYWNoZSBrZXkuIFRoZSBgZnVuY2BcbiAgICAgKiBpcyBpbnZva2VkIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIHRoZSBtZW1vaXplZCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGUgY2FjaGUgaXMgZXhwb3NlZCBhcyB0aGUgYGNhY2hlYCBwcm9wZXJ0eSBvbiB0aGUgbWVtb2l6ZWRcbiAgICAgKiBmdW5jdGlvbi4gSXRzIGNyZWF0aW9uIG1heSBiZSBjdXN0b21pemVkIGJ5IHJlcGxhY2luZyB0aGUgYF8ubWVtb2l6ZS5DYWNoZWBcbiAgICAgKiBjb25zdHJ1Y3RvciB3aXRoIG9uZSB3aG9zZSBpbnN0YW5jZXMgaW1wbGVtZW50IHRoZVxuICAgICAqIFtgTWFwYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcHJvcGVydGllcy1vZi10aGUtbWFwLXByb3RvdHlwZS1vYmplY3QpXG4gICAgICogbWV0aG9kIGludGVyZmFjZSBvZiBgY2xlYXJgLCBgZGVsZXRlYCwgYGdldGAsIGBoYXNgLCBhbmQgYHNldGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBoYXZlIGl0cyBvdXRwdXQgbWVtb2l6ZWQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3Jlc29sdmVyXSBUaGUgZnVuY3Rpb24gdG8gcmVzb2x2ZSB0aGUgY2FjaGUga2V5LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IG1lbW9pemVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogMiB9O1xuICAgICAqIHZhciBvdGhlciA9IHsgJ2MnOiAzLCAnZCc6IDQgfTtcbiAgICAgKlxuICAgICAqIHZhciB2YWx1ZXMgPSBfLm1lbW9pemUoXy52YWx1ZXMpO1xuICAgICAqIHZhbHVlcyhvYmplY3QpO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqXG4gICAgICogdmFsdWVzKG90aGVyKTtcbiAgICAgKiAvLyA9PiBbMywgNF1cbiAgICAgKlxuICAgICAqIG9iamVjdC5hID0gMjtcbiAgICAgKiB2YWx1ZXMob2JqZWN0KTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKlxuICAgICAqIC8vIE1vZGlmeSB0aGUgcmVzdWx0IGNhY2hlLlxuICAgICAqIHZhbHVlcy5jYWNoZS5zZXQob2JqZWN0LCBbJ2EnLCAnYiddKTtcbiAgICAgKiB2YWx1ZXMob2JqZWN0KTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYiddXG4gICAgICpcbiAgICAgKiAvLyBSZXBsYWNlIGBfLm1lbW9pemUuQ2FjaGVgLlxuICAgICAqIF8ubWVtb2l6ZS5DYWNoZSA9IFdlYWtNYXA7XG4gICAgICovXG4gICAgZnVuY3Rpb24gbWVtb2l6ZShmdW5jLCByZXNvbHZlcikge1xuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicgfHwgKHJlc29sdmVyICE9IG51bGwgJiYgdHlwZW9mIHJlc29sdmVyICE9ICdmdW5jdGlvbicpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHZhciBtZW1vaXplZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgICAgIGtleSA9IHJlc29sdmVyID8gcmVzb2x2ZXIuYXBwbHkodGhpcywgYXJncykgOiBhcmdzWzBdLFxuICAgICAgICAgICAgY2FjaGUgPSBtZW1vaXplZC5jYWNoZTtcblxuICAgICAgICBpZiAoY2FjaGUuaGFzKGtleSkpIHtcbiAgICAgICAgICByZXR1cm4gY2FjaGUuZ2V0KGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgIG1lbW9pemVkLmNhY2hlID0gY2FjaGUuc2V0KGtleSwgcmVzdWx0KSB8fCBjYWNoZTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG4gICAgICBtZW1vaXplZC5jYWNoZSA9IG5ldyAobWVtb2l6ZS5DYWNoZSB8fCBNYXBDYWNoZSk7XG4gICAgICByZXR1cm4gbWVtb2l6ZWQ7XG4gICAgfVxuXG4gICAgLy8gRXhwb3NlIGBNYXBDYWNoZWAuXG4gICAgbWVtb2l6ZS5DYWNoZSA9IE1hcENhY2hlO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgbmVnYXRlcyB0aGUgcmVzdWx0IG9mIHRoZSBwcmVkaWNhdGUgYGZ1bmNgLiBUaGVcbiAgICAgKiBgZnVuY2AgcHJlZGljYXRlIGlzIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgYW5kIGFyZ3VtZW50cyBvZiB0aGVcbiAgICAgKiBjcmVhdGVkIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBwcmVkaWNhdGUgdG8gbmVnYXRlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IG5lZ2F0ZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGlzRXZlbihuKSB7XG4gICAgICogICByZXR1cm4gbiAlIDIgPT0gMDtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLmZpbHRlcihbMSwgMiwgMywgNCwgNSwgNl0sIF8ubmVnYXRlKGlzRXZlbikpO1xuICAgICAqIC8vID0+IFsxLCAzLCA1XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG5lZ2F0ZShwcmVkaWNhdGUpIHtcbiAgICAgIGlmICh0eXBlb2YgcHJlZGljYXRlICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuICAgICAgICAgIGNhc2UgMDogcmV0dXJuICFwcmVkaWNhdGUuY2FsbCh0aGlzKTtcbiAgICAgICAgICBjYXNlIDE6IHJldHVybiAhcHJlZGljYXRlLmNhbGwodGhpcywgYXJnc1swXSk7XG4gICAgICAgICAgY2FzZSAyOiByZXR1cm4gIXByZWRpY2F0ZS5jYWxsKHRoaXMsIGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICAgICAgICAgIGNhc2UgMzogcmV0dXJuICFwcmVkaWNhdGUuY2FsbCh0aGlzLCBhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gIXByZWRpY2F0ZS5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaXMgcmVzdHJpY3RlZCB0byBpbnZva2luZyBgZnVuY2Agb25jZS4gUmVwZWF0IGNhbGxzXG4gICAgICogdG8gdGhlIGZ1bmN0aW9uIHJldHVybiB0aGUgdmFsdWUgb2YgdGhlIGZpcnN0IGludm9jYXRpb24uIFRoZSBgZnVuY2AgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIGFuZCBhcmd1bWVudHMgb2YgdGhlIGNyZWF0ZWQgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byByZXN0cmljdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyByZXN0cmljdGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgaW5pdGlhbGl6ZSA9IF8ub25jZShjcmVhdGVBcHBsaWNhdGlvbik7XG4gICAgICogaW5pdGlhbGl6ZSgpO1xuICAgICAqIGluaXRpYWxpemUoKTtcbiAgICAgKiAvLyA9PiBgY3JlYXRlQXBwbGljYXRpb25gIGlzIGludm9rZWQgb25jZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9uY2UoZnVuYykge1xuICAgICAgcmV0dXJuIGJlZm9yZSgyLCBmdW5jKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGl0cyBhcmd1bWVudHMgdHJhbnNmb3JtZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbdHJhbnNmb3Jtcz1bXy5pZGVudGl0eV1dXG4gICAgICogIFRoZSBhcmd1bWVudCB0cmFuc2Zvcm1zLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBkb3VibGVkKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICogMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBzcXVhcmUobikge1xuICAgICAqICAgcmV0dXJuIG4gKiBuO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBmdW5jID0gXy5vdmVyQXJncyhmdW5jdGlvbih4LCB5KSB7XG4gICAgICogICByZXR1cm4gW3gsIHldO1xuICAgICAqIH0sIFtzcXVhcmUsIGRvdWJsZWRdKTtcbiAgICAgKlxuICAgICAqIGZ1bmMoOSwgMyk7XG4gICAgICogLy8gPT4gWzgxLCA2XVxuICAgICAqXG4gICAgICogZnVuYygxMCwgNSk7XG4gICAgICogLy8gPT4gWzEwMCwgMTBdXG4gICAgICovXG4gICAgdmFyIG92ZXJBcmdzID0gY2FzdFJlc3QoZnVuY3Rpb24oZnVuYywgdHJhbnNmb3Jtcykge1xuICAgICAgdHJhbnNmb3JtcyA9ICh0cmFuc2Zvcm1zLmxlbmd0aCA9PSAxICYmIGlzQXJyYXkodHJhbnNmb3Jtc1swXSkpXG4gICAgICAgID8gYXJyYXlNYXAodHJhbnNmb3Jtc1swXSwgYmFzZVVuYXJ5KGdldEl0ZXJhdGVlKCkpKVxuICAgICAgICA6IGFycmF5TWFwKGJhc2VGbGF0dGVuKHRyYW5zZm9ybXMsIDEpLCBiYXNlVW5hcnkoZ2V0SXRlcmF0ZWUoKSkpO1xuXG4gICAgICB2YXIgZnVuY3NMZW5ndGggPSB0cmFuc2Zvcm1zLmxlbmd0aDtcbiAgICAgIHJldHVybiBiYXNlUmVzdChmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWluKGFyZ3MubGVuZ3RoLCBmdW5jc0xlbmd0aCk7XG5cbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICBhcmdzW2luZGV4XSA9IHRyYW5zZm9ybXNbaW5kZXhdLmNhbGwodGhpcywgYXJnc1tpbmRleF0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcHBseShmdW5jLCB0aGlzLCBhcmdzKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBgcGFydGlhbHNgIHByZXBlbmRlZCB0byB0aGVcbiAgICAgKiBhcmd1bWVudHMgaXQgcmVjZWl2ZXMuIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uYmluZGAgZXhjZXB0IGl0IGRvZXMgKipub3QqKlxuICAgICAqIGFsdGVyIHRoZSBgdGhpc2AgYmluZGluZy5cbiAgICAgKlxuICAgICAqIFRoZSBgXy5wYXJ0aWFsLnBsYWNlaG9sZGVyYCB2YWx1ZSwgd2hpY2ggZGVmYXVsdHMgdG8gYF9gIGluIG1vbm9saXRoaWNcbiAgICAgKiBidWlsZHMsIG1heSBiZSB1c2VkIGFzIGEgcGxhY2Vob2xkZXIgZm9yIHBhcnRpYWxseSBhcHBsaWVkIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBkb2Vzbid0IHNldCB0aGUgXCJsZW5ndGhcIiBwcm9wZXJ0eSBvZiBwYXJ0aWFsbHlcbiAgICAgKiBhcHBsaWVkIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjIuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHBhcnRpYWxseSBhcHBseSBhcmd1bWVudHMgdG8uXG4gICAgICogQHBhcmFtIHsuLi4qfSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gYmUgcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcGFydGlhbGx5IGFwcGxpZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGdyZWV0KGdyZWV0aW5nLCBuYW1lKSB7XG4gICAgICogICByZXR1cm4gZ3JlZXRpbmcgKyAnICcgKyBuYW1lO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBzYXlIZWxsb1RvID0gXy5wYXJ0aWFsKGdyZWV0LCAnaGVsbG8nKTtcbiAgICAgKiBzYXlIZWxsb1RvKCdmcmVkJyk7XG4gICAgICogLy8gPT4gJ2hlbGxvIGZyZWQnXG4gICAgICpcbiAgICAgKiAvLyBQYXJ0aWFsbHkgYXBwbGllZCB3aXRoIHBsYWNlaG9sZGVycy5cbiAgICAgKiB2YXIgZ3JlZXRGcmVkID0gXy5wYXJ0aWFsKGdyZWV0LCBfLCAnZnJlZCcpO1xuICAgICAqIGdyZWV0RnJlZCgnaGknKTtcbiAgICAgKiAvLyA9PiAnaGkgZnJlZCdcbiAgICAgKi9cbiAgICB2YXIgcGFydGlhbCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGZ1bmMsIHBhcnRpYWxzKSB7XG4gICAgICB2YXIgaG9sZGVycyA9IHJlcGxhY2VIb2xkZXJzKHBhcnRpYWxzLCBnZXRIb2xkZXIocGFydGlhbCkpO1xuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoZnVuYywgV1JBUF9QQVJUSUFMX0ZMQUcsIHVuZGVmaW5lZCwgcGFydGlhbHMsIGhvbGRlcnMpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5wYXJ0aWFsYCBleGNlcHQgdGhhdCBwYXJ0aWFsbHkgYXBwbGllZCBhcmd1bWVudHNcbiAgICAgKiBhcmUgYXBwZW5kZWQgdG8gdGhlIGFyZ3VtZW50cyBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIFRoZSBgXy5wYXJ0aWFsUmlnaHQucGxhY2Vob2xkZXJgIHZhbHVlLCB3aGljaCBkZWZhdWx0cyB0byBgX2AgaW4gbW9ub2xpdGhpY1xuICAgICAqIGJ1aWxkcywgbWF5IGJlIHVzZWQgYXMgYSBwbGFjZWhvbGRlciBmb3IgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGRvZXNuJ3Qgc2V0IHRoZSBcImxlbmd0aFwiIHByb3BlcnR5IG9mIHBhcnRpYWxseVxuICAgICAqIGFwcGxpZWQgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcGFydGlhbGx5IGFwcGx5IGFyZ3VtZW50cyB0by5cbiAgICAgKiBAcGFyYW0gey4uLip9IFtwYXJ0aWFsc10gVGhlIGFyZ3VtZW50cyB0byBiZSBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBwYXJ0aWFsbHkgYXBwbGllZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gZ3JlZXQoZ3JlZXRpbmcsIG5hbWUpIHtcbiAgICAgKiAgIHJldHVybiBncmVldGluZyArICcgJyArIG5hbWU7XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGdyZWV0RnJlZCA9IF8ucGFydGlhbFJpZ2h0KGdyZWV0LCAnZnJlZCcpO1xuICAgICAqIGdyZWV0RnJlZCgnaGknKTtcbiAgICAgKiAvLyA9PiAnaGkgZnJlZCdcbiAgICAgKlxuICAgICAqIC8vIFBhcnRpYWxseSBhcHBsaWVkIHdpdGggcGxhY2Vob2xkZXJzLlxuICAgICAqIHZhciBzYXlIZWxsb1RvID0gXy5wYXJ0aWFsUmlnaHQoZ3JlZXQsICdoZWxsbycsIF8pO1xuICAgICAqIHNheUhlbGxvVG8oJ2ZyZWQnKTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gZnJlZCdcbiAgICAgKi9cbiAgICB2YXIgcGFydGlhbFJpZ2h0ID0gYmFzZVJlc3QoZnVuY3Rpb24oZnVuYywgcGFydGlhbHMpIHtcbiAgICAgIHZhciBob2xkZXJzID0gcmVwbGFjZUhvbGRlcnMocGFydGlhbHMsIGdldEhvbGRlcihwYXJ0aWFsUmlnaHQpKTtcbiAgICAgIHJldHVybiBjcmVhdGVXcmFwKGZ1bmMsIFdSQVBfUEFSVElBTF9SSUdIVF9GTEFHLCB1bmRlZmluZWQsIHBhcnRpYWxzLCBob2xkZXJzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggYXJndW1lbnRzIGFycmFuZ2VkIGFjY29yZGluZ1xuICAgICAqIHRvIHRoZSBzcGVjaWZpZWQgYGluZGV4ZXNgIHdoZXJlIHRoZSBhcmd1bWVudCB2YWx1ZSBhdCB0aGUgZmlyc3QgaW5kZXggaXNcbiAgICAgKiBwcm92aWRlZCBhcyB0aGUgZmlyc3QgYXJndW1lbnQsIHRoZSBhcmd1bWVudCB2YWx1ZSBhdCB0aGUgc2Vjb25kIGluZGV4IGlzXG4gICAgICogcHJvdmlkZWQgYXMgdGhlIHNlY29uZCBhcmd1bWVudCwgYW5kIHNvIG9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcmVhcnJhbmdlIGFyZ3VtZW50cyBmb3IuXG4gICAgICogQHBhcmFtIHsuLi4obnVtYmVyfG51bWJlcltdKX0gaW5kZXhlcyBUaGUgYXJyYW5nZWQgYXJndW1lbnQgaW5kZXhlcy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHJlYXJnZWQgPSBfLnJlYXJnKGZ1bmN0aW9uKGEsIGIsIGMpIHtcbiAgICAgKiAgIHJldHVybiBbYSwgYiwgY107XG4gICAgICogfSwgWzIsIDAsIDFdKTtcbiAgICAgKlxuICAgICAqIHJlYXJnZWQoJ2InLCAnYycsICdhJylcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYicsICdjJ11cbiAgICAgKi9cbiAgICB2YXIgcmVhcmcgPSBmbGF0UmVzdChmdW5jdGlvbihmdW5jLCBpbmRleGVzKSB7XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcChmdW5jLCBXUkFQX1JFQVJHX0ZMQUcsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGluZGV4ZXMpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgdGhlXG4gICAgICogY3JlYXRlZCBmdW5jdGlvbiBhbmQgYXJndW1lbnRzIGZyb20gYHN0YXJ0YCBhbmQgYmV5b25kIHByb3ZpZGVkIGFzXG4gICAgICogYW4gYXJyYXkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb24gdGhlXG4gICAgICogW3Jlc3QgcGFyYW1ldGVyXShodHRwczovL21kbi5pby9yZXN0X3BhcmFtZXRlcnMpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PWZ1bmMubGVuZ3RoLTFdIFRoZSBzdGFydCBwb3NpdGlvbiBvZiB0aGUgcmVzdCBwYXJhbWV0ZXIuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBzYXkgPSBfLnJlc3QoZnVuY3Rpb24od2hhdCwgbmFtZXMpIHtcbiAgICAgKiAgIHJldHVybiB3aGF0ICsgJyAnICsgXy5pbml0aWFsKG5hbWVzKS5qb2luKCcsICcpICtcbiAgICAgKiAgICAgKF8uc2l6ZShuYW1lcykgPiAxID8gJywgJiAnIDogJycpICsgXy5sYXN0KG5hbWVzKTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIHNheSgnaGVsbG8nLCAnZnJlZCcsICdiYXJuZXknLCAncGViYmxlcycpO1xuICAgICAqIC8vID0+ICdoZWxsbyBmcmVkLCBiYXJuZXksICYgcGViYmxlcydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZXN0KGZ1bmMsIHN0YXJ0KSB7XG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICBzdGFydCA9IHN0YXJ0ID09PSB1bmRlZmluZWQgPyBzdGFydCA6IHRvSW50ZWdlcihzdGFydCk7XG4gICAgICByZXR1cm4gYmFzZVJlc3QoZnVuYywgc3RhcnQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIHRoZVxuICAgICAqIGNyZWF0ZSBmdW5jdGlvbiBhbmQgYW4gYXJyYXkgb2YgYXJndW1lbnRzIG11Y2ggbGlrZVxuICAgICAqIFtgRnVuY3Rpb24jYXBwbHlgXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5KS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvbiB0aGVcbiAgICAgKiBbc3ByZWFkIG9wZXJhdG9yXShodHRwczovL21kbi5pby9zcHJlYWRfb3BlcmF0b3IpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMi4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gc3ByZWFkIGFyZ3VtZW50cyBvdmVyLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSBzcHJlYWQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBzYXkgPSBfLnNwcmVhZChmdW5jdGlvbih3aG8sIHdoYXQpIHtcbiAgICAgKiAgIHJldHVybiB3aG8gKyAnIHNheXMgJyArIHdoYXQ7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBzYXkoWydmcmVkJywgJ2hlbGxvJ10pO1xuICAgICAqIC8vID0+ICdmcmVkIHNheXMgaGVsbG8nXG4gICAgICpcbiAgICAgKiB2YXIgbnVtYmVycyA9IFByb21pc2UuYWxsKFtcbiAgICAgKiAgIFByb21pc2UucmVzb2x2ZSg0MCksXG4gICAgICogICBQcm9taXNlLnJlc29sdmUoMzYpXG4gICAgICogXSk7XG4gICAgICpcbiAgICAgKiBudW1iZXJzLnRoZW4oXy5zcHJlYWQoZnVuY3Rpb24oeCwgeSkge1xuICAgICAqICAgcmV0dXJuIHggKyB5O1xuICAgICAqIH0pKTtcbiAgICAgKiAvLyA9PiBhIFByb21pc2Ugb2YgNzZcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzcHJlYWQoZnVuYywgc3RhcnQpIHtcbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHN0YXJ0ID0gc3RhcnQgPT0gbnVsbCA/IDAgOiBuYXRpdmVNYXgodG9JbnRlZ2VyKHN0YXJ0KSwgMCk7XG4gICAgICByZXR1cm4gYmFzZVJlc3QoZnVuY3Rpb24oYXJncykge1xuICAgICAgICB2YXIgYXJyYXkgPSBhcmdzW3N0YXJ0XSxcbiAgICAgICAgICAgIG90aGVyQXJncyA9IGNhc3RTbGljZShhcmdzLCAwLCBzdGFydCk7XG5cbiAgICAgICAgaWYgKGFycmF5KSB7XG4gICAgICAgICAgYXJyYXlQdXNoKG90aGVyQXJncywgYXJyYXkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcHBseShmdW5jLCB0aGlzLCBvdGhlckFyZ3MpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHRocm90dGxlZCBmdW5jdGlvbiB0aGF0IG9ubHkgaW52b2tlcyBgZnVuY2AgYXQgbW9zdCBvbmNlIHBlclxuICAgICAqIGV2ZXJ5IGB3YWl0YCBtaWxsaXNlY29uZHMuIFRoZSB0aHJvdHRsZWQgZnVuY3Rpb24gY29tZXMgd2l0aCBhIGBjYW5jZWxgXG4gICAgICogbWV0aG9kIHRvIGNhbmNlbCBkZWxheWVkIGBmdW5jYCBpbnZvY2F0aW9ucyBhbmQgYSBgZmx1c2hgIG1ldGhvZCB0b1xuICAgICAqIGltbWVkaWF0ZWx5IGludm9rZSB0aGVtLiBQcm92aWRlIGBvcHRpb25zYCB0byBpbmRpY2F0ZSB3aGV0aGVyIGBmdW5jYFxuICAgICAqIHNob3VsZCBiZSBpbnZva2VkIG9uIHRoZSBsZWFkaW5nIGFuZC9vciB0cmFpbGluZyBlZGdlIG9mIHRoZSBgd2FpdGBcbiAgICAgKiB0aW1lb3V0LiBUaGUgYGZ1bmNgIGlzIGludm9rZWQgd2l0aCB0aGUgbGFzdCBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlXG4gICAgICogdGhyb3R0bGVkIGZ1bmN0aW9uLiBTdWJzZXF1ZW50IGNhbGxzIHRvIHRoZSB0aHJvdHRsZWQgZnVuY3Rpb24gcmV0dXJuIHRoZVxuICAgICAqIHJlc3VsdCBvZiB0aGUgbGFzdCBgZnVuY2AgaW52b2NhdGlvbi5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBJZiBgbGVhZGluZ2AgYW5kIGB0cmFpbGluZ2Agb3B0aW9ucyBhcmUgYHRydWVgLCBgZnVuY2AgaXNcbiAgICAgKiBpbnZva2VkIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0IG9ubHkgaWYgdGhlIHRocm90dGxlZCBmdW5jdGlvblxuICAgICAqIGlzIGludm9rZWQgbW9yZSB0aGFuIG9uY2UgZHVyaW5nIHRoZSBgd2FpdGAgdGltZW91dC5cbiAgICAgKlxuICAgICAqIElmIGB3YWl0YCBpcyBgMGAgYW5kIGBsZWFkaW5nYCBpcyBgZmFsc2VgLCBgZnVuY2AgaW52b2NhdGlvbiBpcyBkZWZlcnJlZFxuICAgICAqIHVudGlsIHRvIHRoZSBuZXh0IHRpY2ssIHNpbWlsYXIgdG8gYHNldFRpbWVvdXRgIHdpdGggYSB0aW1lb3V0IG9mIGAwYC5cbiAgICAgKlxuICAgICAqIFNlZSBbRGF2aWQgQ29yYmFjaG8ncyBhcnRpY2xlXShodHRwczovL2Nzcy10cmlja3MuY29tL2RlYm91bmNpbmctdGhyb3R0bGluZy1leHBsYWluZWQtZXhhbXBsZXMvKVxuICAgICAqIGZvciBkZXRhaWxzIG92ZXIgdGhlIGRpZmZlcmVuY2VzIGJldHdlZW4gYF8udGhyb3R0bGVgIGFuZCBgXy5kZWJvdW5jZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB0aHJvdHRsZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3dhaXQ9MF0gVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gdGhyb3R0bGUgaW52b2NhdGlvbnMgdG8uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5sZWFkaW5nPXRydWVdXG4gICAgICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIGxlYWRpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRyYWlsaW5nPXRydWVdXG4gICAgICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgdGhyb3R0bGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAvLyBBdm9pZCBleGNlc3NpdmVseSB1cGRhdGluZyB0aGUgcG9zaXRpb24gd2hpbGUgc2Nyb2xsaW5nLlxuICAgICAqIGpRdWVyeSh3aW5kb3cpLm9uKCdzY3JvbGwnLCBfLnRocm90dGxlKHVwZGF0ZVBvc2l0aW9uLCAxMDApKTtcbiAgICAgKlxuICAgICAqIC8vIEludm9rZSBgcmVuZXdUb2tlbmAgd2hlbiB0aGUgY2xpY2sgZXZlbnQgaXMgZmlyZWQsIGJ1dCBub3QgbW9yZSB0aGFuIG9uY2UgZXZlcnkgNSBtaW51dGVzLlxuICAgICAqIHZhciB0aHJvdHRsZWQgPSBfLnRocm90dGxlKHJlbmV3VG9rZW4sIDMwMDAwMCwgeyAndHJhaWxpbmcnOiBmYWxzZSB9KTtcbiAgICAgKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgdGhyb3R0bGVkKTtcbiAgICAgKlxuICAgICAqIC8vIENhbmNlbCB0aGUgdHJhaWxpbmcgdGhyb3R0bGVkIGludm9jYXRpb24uXG4gICAgICogalF1ZXJ5KHdpbmRvdykub24oJ3BvcHN0YXRlJywgdGhyb3R0bGVkLmNhbmNlbCk7XG4gICAgICovXG4gICAgZnVuY3Rpb24gdGhyb3R0bGUoZnVuYywgd2FpdCwgb3B0aW9ucykge1xuICAgICAgdmFyIGxlYWRpbmcgPSB0cnVlLFxuICAgICAgICAgIHRyYWlsaW5nID0gdHJ1ZTtcblxuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgaWYgKGlzT2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgICAgIGxlYWRpbmcgPSAnbGVhZGluZycgaW4gb3B0aW9ucyA/ICEhb3B0aW9ucy5sZWFkaW5nIDogbGVhZGluZztcbiAgICAgICAgdHJhaWxpbmcgPSAndHJhaWxpbmcnIGluIG9wdGlvbnMgPyAhIW9wdGlvbnMudHJhaWxpbmcgOiB0cmFpbGluZztcbiAgICAgIH1cbiAgICAgIHJldHVybiBkZWJvdW5jZShmdW5jLCB3YWl0LCB7XG4gICAgICAgICdsZWFkaW5nJzogbGVhZGluZyxcbiAgICAgICAgJ21heFdhaXQnOiB3YWl0LFxuICAgICAgICAndHJhaWxpbmcnOiB0cmFpbGluZ1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgYWNjZXB0cyB1cCB0byBvbmUgYXJndW1lbnQsIGlnbm9yaW5nIGFueVxuICAgICAqIGFkZGl0aW9uYWwgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2FwIGFyZ3VtZW50cyBmb3IuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY2FwcGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLm1hcChbJzYnLCAnOCcsICcxMCddLCBfLnVuYXJ5KHBhcnNlSW50KSk7XG4gICAgICogLy8gPT4gWzYsIDgsIDEwXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuYXJ5KGZ1bmMpIHtcbiAgICAgIHJldHVybiBhcnkoZnVuYywgMSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcHJvdmlkZXMgYHZhbHVlYCB0byBgd3JhcHBlcmAgYXMgaXRzIGZpcnN0XG4gICAgICogYXJndW1lbnQuIEFueSBhZGRpdGlvbmFsIGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGUgZnVuY3Rpb24gYXJlIGFwcGVuZGVkXG4gICAgICogdG8gdGhvc2UgcHJvdmlkZWQgdG8gdGhlIGB3cmFwcGVyYC4gVGhlIHdyYXBwZXIgaXMgaW52b2tlZCB3aXRoIHRoZSBgdGhpc2BcbiAgICAgKiBiaW5kaW5nIG9mIHRoZSBjcmVhdGVkIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbd3JhcHBlcj1pZGVudGl0eV0gVGhlIHdyYXBwZXIgZnVuY3Rpb24uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBwID0gXy53cmFwKF8uZXNjYXBlLCBmdW5jdGlvbihmdW5jLCB0ZXh0KSB7XG4gICAgICogICByZXR1cm4gJzxwPicgKyBmdW5jKHRleHQpICsgJzwvcD4nO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogcCgnZnJlZCwgYmFybmV5LCAmIHBlYmJsZXMnKTtcbiAgICAgKiAvLyA9PiAnPHA+ZnJlZCwgYmFybmV5LCAmYW1wOyBwZWJibGVzPC9wPidcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwKHZhbHVlLCB3cmFwcGVyKSB7XG4gICAgICByZXR1cm4gcGFydGlhbChjYXN0RnVuY3Rpb24od3JhcHBlciksIHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDYXN0cyBgdmFsdWVgIGFzIGFuIGFycmF5IGlmIGl0J3Mgbm90IG9uZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjQuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNhc3QgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY2FzdEFycmF5KDEpO1xuICAgICAqIC8vID0+IFsxXVxuICAgICAqXG4gICAgICogXy5jYXN0QXJyYXkoeyAnYSc6IDEgfSk7XG4gICAgICogLy8gPT4gW3sgJ2EnOiAxIH1dXG4gICAgICpcbiAgICAgKiBfLmNhc3RBcnJheSgnYWJjJyk7XG4gICAgICogLy8gPT4gWydhYmMnXVxuICAgICAqXG4gICAgICogXy5jYXN0QXJyYXkobnVsbCk7XG4gICAgICogLy8gPT4gW251bGxdXG4gICAgICpcbiAgICAgKiBfLmNhc3RBcnJheSh1bmRlZmluZWQpO1xuICAgICAqIC8vID0+IFt1bmRlZmluZWRdXG4gICAgICpcbiAgICAgKiBfLmNhc3RBcnJheSgpO1xuICAgICAqIC8vID0+IFtdXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMSwgMiwgM107XG4gICAgICogY29uc29sZS5sb2coXy5jYXN0QXJyYXkoYXJyYXkpID09PSBhcnJheSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNhc3RBcnJheSgpIHtcbiAgICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgdmFsdWUgPSBhcmd1bWVudHNbMF07XG4gICAgICByZXR1cm4gaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZSA6IFt2YWx1ZV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNoYWxsb3cgY2xvbmUgb2YgYHZhbHVlYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBsb29zZWx5IGJhc2VkIG9uIHRoZVxuICAgICAqIFtzdHJ1Y3R1cmVkIGNsb25lIGFsZ29yaXRobV0oaHR0cHM6Ly9tZG4uaW8vU3RydWN0dXJlZF9jbG9uZV9hbGdvcml0aG0pXG4gICAgICogYW5kIHN1cHBvcnRzIGNsb25pbmcgYXJyYXlzLCBhcnJheSBidWZmZXJzLCBib29sZWFucywgZGF0ZSBvYmplY3RzLCBtYXBzLFxuICAgICAqIG51bWJlcnMsIGBPYmplY3RgIG9iamVjdHMsIHJlZ2V4ZXMsIHNldHMsIHN0cmluZ3MsIHN5bWJvbHMsIGFuZCB0eXBlZFxuICAgICAqIGFycmF5cy4gVGhlIG93biBlbnVtZXJhYmxlIHByb3BlcnRpZXMgb2YgYGFyZ3VtZW50c2Agb2JqZWN0cyBhcmUgY2xvbmVkXG4gICAgICogYXMgcGxhaW4gb2JqZWN0cy4gQW4gZW1wdHkgb2JqZWN0IGlzIHJldHVybmVkIGZvciB1bmNsb25lYWJsZSB2YWx1ZXMgc3VjaFxuICAgICAqIGFzIGVycm9yIG9iamVjdHMsIGZ1bmN0aW9ucywgRE9NIG5vZGVzLCBhbmQgV2Vha01hcHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBjbG9uZWQgdmFsdWUuXG4gICAgICogQHNlZSBfLmNsb25lRGVlcFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICdhJzogMSB9LCB7ICdiJzogMiB9XTtcbiAgICAgKlxuICAgICAqIHZhciBzaGFsbG93ID0gXy5jbG9uZShvYmplY3RzKTtcbiAgICAgKiBjb25zb2xlLmxvZyhzaGFsbG93WzBdID09PSBvYmplY3RzWzBdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmUodmFsdWUpIHtcbiAgICAgIHJldHVybiBiYXNlQ2xvbmUodmFsdWUsIENMT05FX1NZTUJPTFNfRkxBRyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5jbG9uZWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIHRvIHByb2R1Y2UgdGhlIGNsb25lZCB2YWx1ZS4gSWYgYGN1c3RvbWl6ZXJgIHJldHVybnMgYHVuZGVmaW5lZGAsXG4gICAgICogY2xvbmluZyBpcyBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYCBpcyBpbnZva2VkIHdpdGhcbiAgICAgKiB1cCB0byBmb3VyIGFyZ3VtZW50czsgKHZhbHVlIFssIGluZGV4fGtleSwgb2JqZWN0LCBzdGFja10pLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjbG9uaW5nLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBjbG9uZWQgdmFsdWUuXG4gICAgICogQHNlZSBfLmNsb25lRGVlcFdpdGhcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gY3VzdG9taXplcih2YWx1ZSkge1xuICAgICAqICAgaWYgKF8uaXNFbGVtZW50KHZhbHVlKSkge1xuICAgICAqICAgICByZXR1cm4gdmFsdWUuY2xvbmVOb2RlKGZhbHNlKTtcbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgZWwgPSBfLmNsb25lV2l0aChkb2N1bWVudC5ib2R5LCBjdXN0b21pemVyKTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGVsID09PSBkb2N1bWVudC5ib2R5KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqIGNvbnNvbGUubG9nKGVsLm5vZGVOYW1lKTtcbiAgICAgKiAvLyA9PiAnQk9EWSdcbiAgICAgKiBjb25zb2xlLmxvZyhlbC5jaGlsZE5vZGVzLmxlbmd0aCk7XG4gICAgICogLy8gPT4gMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lV2l0aCh2YWx1ZSwgY3VzdG9taXplcikge1xuICAgICAgY3VzdG9taXplciA9IHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicgPyBjdXN0b21pemVyIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIGJhc2VDbG9uZSh2YWx1ZSwgQ0xPTkVfU1lNQk9MU19GTEFHLCBjdXN0b21pemVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmNsb25lYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBjbG9uZXMgYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcmVjdXJzaXZlbHkgY2xvbmUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGRlZXAgY2xvbmVkIHZhbHVlLlxuICAgICAqIEBzZWUgXy5jbG9uZVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICdhJzogMSB9LCB7ICdiJzogMiB9XTtcbiAgICAgKlxuICAgICAqIHZhciBkZWVwID0gXy5jbG9uZURlZXAob2JqZWN0cyk7XG4gICAgICogY29uc29sZS5sb2coZGVlcFswXSA9PT0gb2JqZWN0c1swXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZURlZXAodmFsdWUpIHtcbiAgICAgIHJldHVybiBiYXNlQ2xvbmUodmFsdWUsIENMT05FX0RFRVBfRkxBRyB8IENMT05FX1NZTUJPTFNfRkxBRyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5jbG9uZVdpdGhgIGV4Y2VwdCB0aGF0IGl0IHJlY3Vyc2l2ZWx5IGNsb25lcyBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byByZWN1cnNpdmVseSBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjbG9uaW5nLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBkZWVwIGNsb25lZCB2YWx1ZS5cbiAgICAgKiBAc2VlIF8uY2xvbmVXaXRoXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGN1c3RvbWl6ZXIodmFsdWUpIHtcbiAgICAgKiAgIGlmIChfLmlzRWxlbWVudCh2YWx1ZSkpIHtcbiAgICAgKiAgICAgcmV0dXJuIHZhbHVlLmNsb25lTm9kZSh0cnVlKTtcbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgZWwgPSBfLmNsb25lRGVlcFdpdGgoZG9jdW1lbnQuYm9keSwgY3VzdG9taXplcik7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhlbCA9PT0gZG9jdW1lbnQuYm9keSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKiBjb25zb2xlLmxvZyhlbC5ub2RlTmFtZSk7XG4gICAgICogLy8gPT4gJ0JPRFknXG4gICAgICogY29uc29sZS5sb2coZWwuY2hpbGROb2Rlcy5sZW5ndGgpO1xuICAgICAqIC8vID0+IDIwXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVEZWVwV2l0aCh2YWx1ZSwgY3VzdG9taXplcikge1xuICAgICAgY3VzdG9taXplciA9IHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicgPyBjdXN0b21pemVyIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIGJhc2VDbG9uZSh2YWx1ZSwgQ0xPTkVfREVFUF9GTEFHIHwgQ0xPTkVfU1lNQk9MU19GTEFHLCBjdXN0b21pemVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYG9iamVjdGAgY29uZm9ybXMgdG8gYHNvdXJjZWAgYnkgaW52b2tpbmcgdGhlIHByZWRpY2F0ZVxuICAgICAqIHByb3BlcnRpZXMgb2YgYHNvdXJjZWAgd2l0aCB0aGUgY29ycmVzcG9uZGluZyBwcm9wZXJ0eSB2YWx1ZXMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgZXF1aXZhbGVudCB0byBgXy5jb25mb3Jtc2Agd2hlbiBgc291cmNlYCBpc1xuICAgICAqIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTQuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHByZWRpY2F0ZXMgdG8gY29uZm9ybSB0by5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG9iamVjdGAgY29uZm9ybXMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6IDIgfTtcbiAgICAgKlxuICAgICAqIF8uY29uZm9ybXNUbyhvYmplY3QsIHsgJ2InOiBmdW5jdGlvbihuKSB7IHJldHVybiBuID4gMTsgfSB9KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmNvbmZvcm1zVG8ob2JqZWN0LCB7ICdiJzogZnVuY3Rpb24obikgeyByZXR1cm4gbiA+IDI7IH0gfSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb25mb3Jtc1RvKG9iamVjdCwgc291cmNlKSB7XG4gICAgICByZXR1cm4gc291cmNlID09IG51bGwgfHwgYmFzZUNvbmZvcm1zVG8ob2JqZWN0LCBzb3VyY2UsIGtleXMoc291cmNlKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgYVxuICAgICAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogY29tcGFyaXNvbiBiZXR3ZWVuIHR3byB2YWx1ZXMgdG8gZGV0ZXJtaW5lIGlmIHRoZXkgYXJlIGVxdWl2YWxlbnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEgfTtcbiAgICAgKiB2YXIgb3RoZXIgPSB7ICdhJzogMSB9O1xuICAgICAqXG4gICAgICogXy5lcShvYmplY3QsIG9iamVjdCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5lcShvYmplY3QsIG90aGVyKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5lcSgnYScsICdhJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5lcSgnYScsIE9iamVjdCgnYScpKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5lcShOYU4sIE5hTik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVxKHZhbHVlLCBvdGhlcikge1xuICAgICAgcmV0dXJuIHZhbHVlID09PSBvdGhlciB8fCAodmFsdWUgIT09IHZhbHVlICYmIG90aGVyICE9PSBvdGhlcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgZ3JlYXRlciB0aGFuIGBvdGhlcmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy45LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBncmVhdGVyIHRoYW4gYG90aGVyYCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBzZWUgXy5sdFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmd0KDMsIDEpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uZ3QoMywgMyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uZ3QoMSwgMyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgZ3QgPSBjcmVhdGVSZWxhdGlvbmFsT3BlcmF0aW9uKGJhc2VHdCk7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gYG90aGVyYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjkuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0b1xuICAgICAqICBgb3RoZXJgLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQHNlZSBfLmx0ZVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmd0ZSgzLCAxKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmd0ZSgzLCAzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmd0ZSgxLCAzKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBndGUgPSBjcmVhdGVSZWxhdGlvbmFsT3BlcmF0aW9uKGZ1bmN0aW9uKHZhbHVlLCBvdGhlcikge1xuICAgICAgcmV0dXJuIHZhbHVlID49IG90aGVyO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGFuIGBhcmd1bWVudHNgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNBcmd1bWVudHMoZnVuY3Rpb24oKSB7IHJldHVybiBhcmd1bWVudHM7IH0oKSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FyZ3VtZW50cyhbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzQXJndW1lbnRzID0gYmFzZUlzQXJndW1lbnRzKGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpID8gYmFzZUlzQXJndW1lbnRzIDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsICdjYWxsZWUnKSAmJlxuICAgICAgICAhcHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh2YWx1ZSwgJ2NhbGxlZScpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGFuIGBBcnJheWAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXkoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXkoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheSgnYWJjJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheShfLm5vb3ApO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhbiBgQXJyYXlCdWZmZXJgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjMuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXkgYnVmZmVyLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUJ1ZmZlcihuZXcgQXJyYXlCdWZmZXIoMikpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUJ1ZmZlcihuZXcgQXJyYXkoMikpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzQXJyYXlCdWZmZXIgPSBub2RlSXNBcnJheUJ1ZmZlciA/IGJhc2VVbmFyeShub2RlSXNBcnJheUJ1ZmZlcikgOiBiYXNlSXNBcnJheUJ1ZmZlcjtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UuIEEgdmFsdWUgaXMgY29uc2lkZXJlZCBhcnJheS1saWtlIGlmIGl0J3NcbiAgICAgKiBub3QgYSBmdW5jdGlvbiBhbmQgaGFzIGEgYHZhbHVlLmxlbmd0aGAgdGhhdCdzIGFuIGludGVnZXIgZ3JlYXRlciB0aGFuIG9yXG4gICAgICogZXF1YWwgdG8gYDBgIGFuZCBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gYE51bWJlci5NQVhfU0FGRV9JTlRFR0VSYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYXJyYXktbGlrZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZShkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlKCdhYmMnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlKF8ubm9vcCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0FycmF5TGlrZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgaXNMZW5ndGgodmFsdWUubGVuZ3RoKSAmJiAhaXNGdW5jdGlvbih2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pc0FycmF5TGlrZWAgZXhjZXB0IHRoYXQgaXQgYWxzbyBjaGVja3MgaWYgYHZhbHVlYFxuICAgICAqIGlzIGFuIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXktbGlrZSBvYmplY3QsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZU9iamVjdChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2VPYmplY3QoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZU9iamVjdCgnYWJjJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2VPYmplY3QoXy5ub29wKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzQXJyYXlMaWtlT2JqZWN0KHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBpc0FycmF5TGlrZSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGJvb2xlYW4gcHJpbWl0aXZlIG9yIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBib29sZWFuLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNCb29sZWFuKGZhbHNlKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQm9vbGVhbihudWxsKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzQm9vbGVhbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID09PSB0cnVlIHx8IHZhbHVlID09PSBmYWxzZSB8fFxuICAgICAgICAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBib29sVGFnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIGJ1ZmZlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjMuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBidWZmZXIsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0J1ZmZlcihuZXcgQnVmZmVyKDIpKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQnVmZmVyKG5ldyBVaW50OEFycmF5KDIpKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc0J1ZmZlciA9IG5hdGl2ZUlzQnVmZmVyIHx8IHN0dWJGYWxzZTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgRGF0ZWAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGRhdGUgb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNEYXRlKG5ldyBEYXRlKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRGF0ZSgnTW9uIEFwcmlsIDIzIDIwMTInKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc0RhdGUgPSBub2RlSXNEYXRlID8gYmFzZVVuYXJ5KG5vZGVJc0RhdGUpIDogYmFzZUlzRGF0ZTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxpa2VseSBhIERPTSBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIERPTSBlbGVtZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNFbGVtZW50KGRvY3VtZW50LmJvZHkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNFbGVtZW50KCc8Ym9keT4nKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRWxlbWVudCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgdmFsdWUubm9kZVR5cGUgPT09IDEgJiYgIWlzUGxhaW5PYmplY3QodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGFuIGVtcHR5IG9iamVjdCwgY29sbGVjdGlvbiwgbWFwLCBvciBzZXQuXG4gICAgICpcbiAgICAgKiBPYmplY3RzIGFyZSBjb25zaWRlcmVkIGVtcHR5IGlmIHRoZXkgaGF2ZSBubyBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWRcbiAgICAgKiBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogQXJyYXktbGlrZSB2YWx1ZXMgc3VjaCBhcyBgYXJndW1lbnRzYCBvYmplY3RzLCBhcnJheXMsIGJ1ZmZlcnMsIHN0cmluZ3MsIG9yXG4gICAgICogalF1ZXJ5LWxpa2UgY29sbGVjdGlvbnMgYXJlIGNvbnNpZGVyZWQgZW1wdHkgaWYgdGhleSBoYXZlIGEgYGxlbmd0aGAgb2YgYDBgLlxuICAgICAqIFNpbWlsYXJseSwgbWFwcyBhbmQgc2V0cyBhcmUgY29uc2lkZXJlZCBlbXB0eSBpZiB0aGV5IGhhdmUgYSBgc2l6ZWAgb2YgYDBgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBlbXB0eSwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzRW1wdHkobnVsbCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0VtcHR5KHRydWUpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNFbXB0eSgxKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRW1wdHkoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0VtcHR5KHsgJ2EnOiAxIH0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNFbXB0eSh2YWx1ZSkge1xuICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoaXNBcnJheUxpa2UodmFsdWUpICYmXG4gICAgICAgICAgKGlzQXJyYXkodmFsdWUpIHx8IHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJyB8fCB0eXBlb2YgdmFsdWUuc3BsaWNlID09ICdmdW5jdGlvbicgfHxcbiAgICAgICAgICAgIGlzQnVmZmVyKHZhbHVlKSB8fCBpc1R5cGVkQXJyYXkodmFsdWUpIHx8IGlzQXJndW1lbnRzKHZhbHVlKSkpIHtcbiAgICAgICAgcmV0dXJuICF2YWx1ZS5sZW5ndGg7XG4gICAgICB9XG4gICAgICB2YXIgdGFnID0gZ2V0VGFnKHZhbHVlKTtcbiAgICAgIGlmICh0YWcgPT0gbWFwVGFnIHx8IHRhZyA9PSBzZXRUYWcpIHtcbiAgICAgICAgcmV0dXJuICF2YWx1ZS5zaXplO1xuICAgICAgfVxuICAgICAgaWYgKGlzUHJvdG90eXBlKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gIWJhc2VLZXlzKHZhbHVlKS5sZW5ndGg7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBrZXkgaW4gdmFsdWUpIHtcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIGtleSkpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIGEgZGVlcCBjb21wYXJpc29uIGJldHdlZW4gdHdvIHZhbHVlcyB0byBkZXRlcm1pbmUgaWYgdGhleSBhcmVcbiAgICAgKiBlcXVpdmFsZW50LlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIHN1cHBvcnRzIGNvbXBhcmluZyBhcnJheXMsIGFycmF5IGJ1ZmZlcnMsIGJvb2xlYW5zLFxuICAgICAqIGRhdGUgb2JqZWN0cywgZXJyb3Igb2JqZWN0cywgbWFwcywgbnVtYmVycywgYE9iamVjdGAgb2JqZWN0cywgcmVnZXhlcyxcbiAgICAgKiBzZXRzLCBzdHJpbmdzLCBzeW1ib2xzLCBhbmQgdHlwZWQgYXJyYXlzLiBgT2JqZWN0YCBvYmplY3RzIGFyZSBjb21wYXJlZFxuICAgICAqIGJ5IHRoZWlyIG93biwgbm90IGluaGVyaXRlZCwgZW51bWVyYWJsZSBwcm9wZXJ0aWVzLiBGdW5jdGlvbnMgYW5kIERPTVxuICAgICAqIG5vZGVzIGFyZSBjb21wYXJlZCBieSBzdHJpY3QgZXF1YWxpdHksIGkuZS4gYD09PWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEgfTtcbiAgICAgKiB2YXIgb3RoZXIgPSB7ICdhJzogMSB9O1xuICAgICAqXG4gICAgICogXy5pc0VxdWFsKG9iamVjdCwgb3RoZXIpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIG9iamVjdCA9PT0gb3RoZXI7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0VxdWFsKHZhbHVlLCBvdGhlcikge1xuICAgICAgcmV0dXJuIGJhc2VJc0VxdWFsKHZhbHVlLCBvdGhlcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pc0VxdWFsYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYCB3aGljaFxuICAgICAqIGlzIGludm9rZWQgdG8gY29tcGFyZSB2YWx1ZXMuIElmIGBjdXN0b21pemVyYCByZXR1cm5zIGB1bmRlZmluZWRgLCBjb21wYXJpc29uc1xuICAgICAqIGFyZSBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYCBpcyBpbnZva2VkIHdpdGggdXAgdG9cbiAgICAgKiBzaXggYXJndW1lbnRzOiAob2JqVmFsdWUsIG90aFZhbHVlIFssIGluZGV4fGtleSwgb2JqZWN0LCBvdGhlciwgc3RhY2tdKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGlzR3JlZXRpbmcodmFsdWUpIHtcbiAgICAgKiAgIHJldHVybiAvXmgoPzppfGVsbG8pJC8udGVzdCh2YWx1ZSk7XG4gICAgICogfVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gY3VzdG9taXplcihvYmpWYWx1ZSwgb3RoVmFsdWUpIHtcbiAgICAgKiAgIGlmIChpc0dyZWV0aW5nKG9ialZhbHVlKSAmJiBpc0dyZWV0aW5nKG90aFZhbHVlKSkge1xuICAgICAqICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbJ2hlbGxvJywgJ2dvb2RieWUnXTtcbiAgICAgKiB2YXIgb3RoZXIgPSBbJ2hpJywgJ2dvb2RieWUnXTtcbiAgICAgKlxuICAgICAqIF8uaXNFcXVhbFdpdGgoYXJyYXksIG90aGVyLCBjdXN0b21pemVyKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNFcXVhbFdpdGgodmFsdWUsIG90aGVyLCBjdXN0b21pemVyKSB7XG4gICAgICBjdXN0b21pemVyID0gdHlwZW9mIGN1c3RvbWl6ZXIgPT0gJ2Z1bmN0aW9uJyA/IGN1c3RvbWl6ZXIgOiB1bmRlZmluZWQ7XG4gICAgICB2YXIgcmVzdWx0ID0gY3VzdG9taXplciA/IGN1c3RvbWl6ZXIodmFsdWUsIG90aGVyKSA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiByZXN1bHQgPT09IHVuZGVmaW5lZCA/IGJhc2VJc0VxdWFsKHZhbHVlLCBvdGhlciwgdW5kZWZpbmVkLCBjdXN0b21pemVyKSA6ICEhcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGFuIGBFcnJvcmAsIGBFdmFsRXJyb3JgLCBgUmFuZ2VFcnJvcmAsIGBSZWZlcmVuY2VFcnJvcmAsXG4gICAgICogYFN5bnRheEVycm9yYCwgYFR5cGVFcnJvcmAsIG9yIGBVUklFcnJvcmAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBlcnJvciBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0Vycm9yKG5ldyBFcnJvcik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0Vycm9yKEVycm9yKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRXJyb3IodmFsdWUpIHtcbiAgICAgIGlmICghaXNPYmplY3RMaWtlKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgdGFnID0gYmFzZUdldFRhZyh2YWx1ZSk7XG4gICAgICByZXR1cm4gdGFnID09IGVycm9yVGFnIHx8IHRhZyA9PSBkb21FeGNUYWcgfHxcbiAgICAgICAgKHR5cGVvZiB2YWx1ZS5tZXNzYWdlID09ICdzdHJpbmcnICYmIHR5cGVvZiB2YWx1ZS5uYW1lID09ICdzdHJpbmcnICYmICFpc1BsYWluT2JqZWN0KHZhbHVlKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBmaW5pdGUgcHJpbWl0aXZlIG51bWJlci5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgTnVtYmVyLmlzRmluaXRlYF0oaHR0cHM6Ly9tZG4uaW8vTnVtYmVyL2lzRmluaXRlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBmaW5pdGUgbnVtYmVyLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNGaW5pdGUoMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0Zpbml0ZShOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRmluaXRlKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0Zpbml0ZSgnMycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNGaW5pdGUodmFsdWUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgJiYgbmF0aXZlSXNGaW5pdGUodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgRnVuY3Rpb25gIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBmdW5jdGlvbiwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzRnVuY3Rpb24oXyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0Z1bmN0aW9uKC9hYmMvKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIGlmICghaXNPYmplY3QodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIC8vIFRoZSB1c2Ugb2YgYE9iamVjdCN0b1N0cmluZ2AgYXZvaWRzIGlzc3VlcyB3aXRoIHRoZSBgdHlwZW9mYCBvcGVyYXRvclxuICAgICAgLy8gaW4gU2FmYXJpIDkgd2hpY2ggcmV0dXJucyAnb2JqZWN0JyBmb3IgdHlwZWQgYXJyYXlzIGFuZCBvdGhlciBjb25zdHJ1Y3RvcnMuXG4gICAgICB2YXIgdGFnID0gYmFzZUdldFRhZyh2YWx1ZSk7XG4gICAgICByZXR1cm4gdGFnID09IGZ1bmNUYWcgfHwgdGFnID09IGdlblRhZyB8fCB0YWcgPT0gYXN5bmNUYWcgfHwgdGFnID09IHByb3h5VGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGFuIGludGVnZXIuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb25cbiAgICAgKiBbYE51bWJlci5pc0ludGVnZXJgXShodHRwczovL21kbi5pby9OdW1iZXIvaXNJbnRlZ2VyKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gaW50ZWdlciwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzSW50ZWdlcigzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzSW50ZWdlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0ludGVnZXIoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzSW50ZWdlcignMycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNJbnRlZ2VyKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmIHZhbHVlID09IHRvSW50ZWdlcih2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGxlbmd0aC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBsb29zZWx5IGJhc2VkIG9uXG4gICAgICogW2BUb0xlbmd0aGBdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRvbGVuZ3RoKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBsZW5ndGgsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0xlbmd0aCgzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTGVuZ3RoKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzTGVuZ3RoKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0xlbmd0aCgnMycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNMZW5ndGgodmFsdWUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgJiZcbiAgICAgICAgdmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8PSBNQVhfU0FGRV9JTlRFR0VSO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHRoZVxuICAgICAqIFtsYW5ndWFnZSB0eXBlXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZWNtYXNjcmlwdC1sYW5ndWFnZS10eXBlcylcbiAgICAgKiBvZiBgT2JqZWN0YC4gKGUuZy4gYXJyYXlzLCBmdW5jdGlvbnMsIG9iamVjdHMsIHJlZ2V4ZXMsIGBuZXcgTnVtYmVyKDApYCwgYW5kIGBuZXcgU3RyaW5nKCcnKWApXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0KHt9KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdChfLm5vb3ApO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3QobnVsbCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICAgICAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gICAgICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiAodHlwZSA9PSAnb2JqZWN0JyB8fCB0eXBlID09ICdmdW5jdGlvbicpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLiBBIHZhbHVlIGlzIG9iamVjdC1saWtlIGlmIGl0J3Mgbm90IGBudWxsYFxuICAgICAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdExpa2Uoe30pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3RMaWtlKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdExpa2UoXy5ub29wKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdExpa2UobnVsbCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0JztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYE1hcGAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMy4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG1hcCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzTWFwKG5ldyBNYXApO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNNYXAobmV3IFdlYWtNYXApO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzTWFwID0gbm9kZUlzTWFwID8gYmFzZVVuYXJ5KG5vZGVJc01hcCkgOiBiYXNlSXNNYXA7XG5cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyBhIHBhcnRpYWwgZGVlcCBjb21wYXJpc29uIGJldHdlZW4gYG9iamVjdGAgYW5kIGBzb3VyY2VgIHRvXG4gICAgICogZGV0ZXJtaW5lIGlmIGBvYmplY3RgIGNvbnRhaW5zIGVxdWl2YWxlbnQgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGVxdWl2YWxlbnQgdG8gYF8ubWF0Y2hlc2Agd2hlbiBgc291cmNlYCBpc1xuICAgICAqIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqXG4gICAgICogUGFydGlhbCBjb21wYXJpc29ucyB3aWxsIG1hdGNoIGVtcHR5IGFycmF5IGFuZCBlbXB0eSBvYmplY3QgYHNvdXJjZWBcbiAgICAgKiB2YWx1ZXMgYWdhaW5zdCBhbnkgYXJyYXkgb3Igb2JqZWN0IHZhbHVlLCByZXNwZWN0aXZlbHkuIFNlZSBgXy5pc0VxdWFsYFxuICAgICAqIGZvciBhIGxpc3Qgb2Ygc3VwcG9ydGVkIHZhbHVlIGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgdmFsdWVzIHRvIG1hdGNoLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgb2JqZWN0YCBpcyBhIG1hdGNoLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAyIH07XG4gICAgICpcbiAgICAgKiBfLmlzTWF0Y2gob2JqZWN0LCB7ICdiJzogMiB9KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTWF0Y2gob2JqZWN0LCB7ICdiJzogMSB9KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTWF0Y2gob2JqZWN0LCBzb3VyY2UpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT09IHNvdXJjZSB8fCBiYXNlSXNNYXRjaChvYmplY3QsIHNvdXJjZSwgZ2V0TWF0Y2hEYXRhKHNvdXJjZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaXNNYXRjaGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIHRvIGNvbXBhcmUgdmFsdWVzLiBJZiBgY3VzdG9taXplcmAgcmV0dXJucyBgdW5kZWZpbmVkYCwgY29tcGFyaXNvbnNcbiAgICAgKiBhcmUgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmAgaXMgaW52b2tlZCB3aXRoIGZpdmVcbiAgICAgKiBhcmd1bWVudHM6IChvYmpWYWx1ZSwgc3JjVmFsdWUsIGluZGV4fGtleSwgb2JqZWN0LCBzb3VyY2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgdmFsdWVzIHRvIG1hdGNoLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgb2JqZWN0YCBpcyBhIG1hdGNoLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGlzR3JlZXRpbmcodmFsdWUpIHtcbiAgICAgKiAgIHJldHVybiAvXmgoPzppfGVsbG8pJC8udGVzdCh2YWx1ZSk7XG4gICAgICogfVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gY3VzdG9taXplcihvYmpWYWx1ZSwgc3JjVmFsdWUpIHtcbiAgICAgKiAgIGlmIChpc0dyZWV0aW5nKG9ialZhbHVlKSAmJiBpc0dyZWV0aW5nKHNyY1ZhbHVlKSkge1xuICAgICAqICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnZ3JlZXRpbmcnOiAnaGVsbG8nIH07XG4gICAgICogdmFyIHNvdXJjZSA9IHsgJ2dyZWV0aW5nJzogJ2hpJyB9O1xuICAgICAqXG4gICAgICogXy5pc01hdGNoV2l0aChvYmplY3QsIHNvdXJjZSwgY3VzdG9taXplcik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTWF0Y2hXaXRoKG9iamVjdCwgc291cmNlLCBjdXN0b21pemVyKSB7XG4gICAgICBjdXN0b21pemVyID0gdHlwZW9mIGN1c3RvbWl6ZXIgPT0gJ2Z1bmN0aW9uJyA/IGN1c3RvbWl6ZXIgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gYmFzZUlzTWF0Y2gob2JqZWN0LCBzb3VyY2UsIGdldE1hdGNoRGF0YShzb3VyY2UpLCBjdXN0b21pemVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBgTmFOYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgTnVtYmVyLmlzTmFOYF0oaHR0cHM6Ly9tZG4uaW8vTnVtYmVyL2lzTmFOKSBhbmQgaXMgbm90IHRoZSBzYW1lIGFzXG4gICAgICogZ2xvYmFsIFtgaXNOYU5gXShodHRwczovL21kbi5pby9pc05hTikgd2hpY2ggcmV0dXJucyBgdHJ1ZWAgZm9yXG4gICAgICogYHVuZGVmaW5lZGAgYW5kIG90aGVyIG5vbi1udW1iZXIgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBgTmFOYCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzTmFOKE5hTik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc05hTihuZXcgTnVtYmVyKE5hTikpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIGlzTmFOKHVuZGVmaW5lZCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc05hTih1bmRlZmluZWQpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNOYU4odmFsdWUpIHtcbiAgICAgIC8vIEFuIGBOYU5gIHByaW1pdGl2ZSBpcyB0aGUgb25seSB2YWx1ZSB0aGF0IGlzIG5vdCBlcXVhbCB0byBpdHNlbGYuXG4gICAgICAvLyBQZXJmb3JtIHRoZSBgdG9TdHJpbmdUYWdgIGNoZWNrIGZpcnN0IHRvIGF2b2lkIGVycm9ycyB3aXRoIHNvbWVcbiAgICAgIC8vIEFjdGl2ZVggb2JqZWN0cyBpbiBJRS5cbiAgICAgIHJldHVybiBpc051bWJlcih2YWx1ZSkgJiYgdmFsdWUgIT0gK3ZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgcHJpc3RpbmUgbmF0aXZlIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGNhbid0IHJlbGlhYmx5IGRldGVjdCBuYXRpdmUgZnVuY3Rpb25zIGluIHRoZSBwcmVzZW5jZVxuICAgICAqIG9mIHRoZSBjb3JlLWpzIHBhY2thZ2UgYmVjYXVzZSBjb3JlLWpzIGNpcmN1bXZlbnRzIHRoaXMga2luZCBvZiBkZXRlY3Rpb24uXG4gICAgICogRGVzcGl0ZSBtdWx0aXBsZSByZXF1ZXN0cywgdGhlIGNvcmUtanMgbWFpbnRhaW5lciBoYXMgbWFkZSBpdCBjbGVhcjogYW55XG4gICAgICogYXR0ZW1wdCB0byBmaXggdGhlIGRldGVjdGlvbiB3aWxsIGJlIG9ic3RydWN0ZWQuIEFzIGEgcmVzdWx0LCB3ZSdyZSBsZWZ0XG4gICAgICogd2l0aCBsaXR0bGUgY2hvaWNlIGJ1dCB0byB0aHJvdyBhbiBlcnJvci4gVW5mb3J0dW5hdGVseSwgdGhpcyBhbHNvIGFmZmVjdHNcbiAgICAgKiBwYWNrYWdlcywgbGlrZSBbYmFiZWwtcG9seWZpbGxdKGh0dHBzOi8vd3d3Lm5wbWpzLmNvbS9wYWNrYWdlL2JhYmVsLXBvbHlmaWxsKSxcbiAgICAgKiB3aGljaCByZWx5IG9uIGNvcmUtanMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbmF0aXZlIGZ1bmN0aW9uLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNOYXRpdmUoQXJyYXkucHJvdG90eXBlLnB1c2gpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOYXRpdmUoXyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc05hdGl2ZSh2YWx1ZSkge1xuICAgICAgaWYgKGlzTWFza2FibGUodmFsdWUpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihDT1JFX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VJc05hdGl2ZSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYG51bGxgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBgbnVsbGAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc051bGwobnVsbCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc051bGwodm9pZCAwKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTnVsbCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID09PSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGBudWxsYCBvciBgdW5kZWZpbmVkYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgbnVsbGlzaCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzTmlsKG51bGwpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOaWwodm9pZCAwKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTmlsKE5hTik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc05pbCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID09IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBOdW1iZXJgIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVG8gZXhjbHVkZSBgSW5maW5pdHlgLCBgLUluZmluaXR5YCwgYW5kIGBOYU5gLCB3aGljaCBhcmVcbiAgICAgKiBjbGFzc2lmaWVkIGFzIG51bWJlcnMsIHVzZSB0aGUgYF8uaXNGaW5pdGVgIG1ldGhvZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBudW1iZXIsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc051bWJlcigzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTnVtYmVyKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOdW1iZXIoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOdW1iZXIoJzMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTnVtYmVyKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInIHx8XG4gICAgICAgIChpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IG51bWJlclRhZyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBwbGFpbiBvYmplY3QsIHRoYXQgaXMsIGFuIG9iamVjdCBjcmVhdGVkIGJ5IHRoZVxuICAgICAqIGBPYmplY3RgIGNvbnN0cnVjdG9yIG9yIG9uZSB3aXRoIGEgYFtbUHJvdG90eXBlXV1gIG9mIGBudWxsYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjguMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwbGFpbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLmlzUGxhaW5PYmplY3QobmV3IEZvbyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNQbGFpbk9iamVjdChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzUGxhaW5PYmplY3QoeyAneCc6IDAsICd5JzogMCB9KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzUGxhaW5PYmplY3QoT2JqZWN0LmNyZWF0ZShudWxsKSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzUGxhaW5PYmplY3QodmFsdWUpIHtcbiAgICAgIGlmICghaXNPYmplY3RMaWtlKHZhbHVlKSB8fCBiYXNlR2V0VGFnKHZhbHVlKSAhPSBvYmplY3RUYWcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIHByb3RvID0gZ2V0UHJvdG90eXBlKHZhbHVlKTtcbiAgICAgIGlmIChwcm90byA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHZhciBDdG9yID0gaGFzT3duUHJvcGVydHkuY2FsbChwcm90bywgJ2NvbnN0cnVjdG9yJykgJiYgcHJvdG8uY29uc3RydWN0b3I7XG4gICAgICByZXR1cm4gdHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBDdG9yIGluc3RhbmNlb2YgQ3RvciAmJlxuICAgICAgICBmdW5jVG9TdHJpbmcuY2FsbChDdG9yKSA9PSBvYmplY3RDdG9yU3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgUmVnRXhwYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcmVnZXhwLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNSZWdFeHAoL2FiYy8pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNSZWdFeHAoJy9hYmMvJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNSZWdFeHAgPSBub2RlSXNSZWdFeHAgPyBiYXNlVW5hcnkobm9kZUlzUmVnRXhwKSA6IGJhc2VJc1JlZ0V4cDtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgc2FmZSBpbnRlZ2VyLiBBbiBpbnRlZ2VyIGlzIHNhZmUgaWYgaXQncyBhbiBJRUVFLTc1NFxuICAgICAqIGRvdWJsZSBwcmVjaXNpb24gbnVtYmVyIHdoaWNoIGlzbid0IHRoZSByZXN1bHQgb2YgYSByb3VuZGVkIHVuc2FmZSBpbnRlZ2VyLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uXG4gICAgICogW2BOdW1iZXIuaXNTYWZlSW50ZWdlcmBdKGh0dHBzOi8vbWRuLmlvL051bWJlci9pc1NhZmVJbnRlZ2VyKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzYWZlIGludGVnZXIsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1NhZmVJbnRlZ2VyKDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNTYWZlSW50ZWdlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc1NhZmVJbnRlZ2VyKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc1NhZmVJbnRlZ2VyKCczJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1NhZmVJbnRlZ2VyKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNJbnRlZ2VyKHZhbHVlKSAmJiB2YWx1ZSA+PSAtTUFYX1NBRkVfSU5URUdFUiAmJiB2YWx1ZSA8PSBNQVhfU0FGRV9JTlRFR0VSO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgU2V0YCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc2V0LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNTZXQobmV3IFNldCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1NldChuZXcgV2Vha1NldCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNTZXQgPSBub2RlSXNTZXQgPyBiYXNlVW5hcnkobm9kZUlzU2V0KSA6IGJhc2VJc1NldDtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgU3RyaW5nYCBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHN0cmluZywgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzU3RyaW5nKCdhYmMnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzU3RyaW5nKDEpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNTdHJpbmcodmFsdWUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycgfHxcbiAgICAgICAgKCFpc0FycmF5KHZhbHVlKSAmJiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IHN0cmluZ1RhZyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBTeW1ib2xgIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc3ltYm9sLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNTeW1ib2woU3ltYm9sLml0ZXJhdG9yKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzU3ltYm9sKCdhYmMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzU3ltYm9sKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdzeW1ib2wnIHx8XG4gICAgICAgIChpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IHN5bWJvbFRhZyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIHR5cGVkIGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHR5cGVkIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNUeXBlZEFycmF5KG5ldyBVaW50OEFycmF5KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzVHlwZWRBcnJheShbXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNUeXBlZEFycmF5ID0gbm9kZUlzVHlwZWRBcnJheSA/IGJhc2VVbmFyeShub2RlSXNUeXBlZEFycmF5KSA6IGJhc2VJc1R5cGVkQXJyYXk7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBgdW5kZWZpbmVkYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYHVuZGVmaW5lZGAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1VuZGVmaW5lZCh2b2lkIDApO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNVbmRlZmluZWQobnVsbCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1VuZGVmaW5lZCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBXZWFrTWFwYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgd2VhayBtYXAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1dlYWtNYXAobmV3IFdlYWtNYXApO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNXZWFrTWFwKG5ldyBNYXApO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNXZWFrTWFwKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBnZXRUYWcodmFsdWUpID09IHdlYWtNYXBUYWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBXZWFrU2V0YCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgd2VhayBzZXQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1dlYWtTZXQobmV3IFdlYWtTZXQpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNXZWFrU2V0KG5ldyBTZXQpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNXZWFrU2V0KHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSB3ZWFrU2V0VGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxlc3MgdGhhbiBgb3RoZXJgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuOS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgbGVzcyB0aGFuIGBvdGhlcmAsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAc2VlIF8uZ3RcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5sdCgxLCAzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmx0KDMsIDMpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmx0KDMsIDEpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGx0ID0gY3JlYXRlUmVsYXRpb25hbE9wZXJhdGlvbihiYXNlTHQpO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIGBvdGhlcmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy45LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBsZXNzIHRoYW4gb3IgZXF1YWwgdG9cbiAgICAgKiAgYG90aGVyYCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBzZWUgXy5ndGVcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5sdGUoMSwgMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5sdGUoMywgMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5sdGUoMywgMSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgbHRlID0gY3JlYXRlUmVsYXRpb25hbE9wZXJhdGlvbihmdW5jdGlvbih2YWx1ZSwgb3RoZXIpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA8PSBvdGhlcjtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYW4gYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9BcnJheSh7ICdhJzogMSwgJ2InOiAyIH0pO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqXG4gICAgICogXy50b0FycmF5KCdhYmMnKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYicsICdjJ11cbiAgICAgKlxuICAgICAqIF8udG9BcnJheSgxKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqXG4gICAgICogXy50b0FycmF5KG51bGwpO1xuICAgICAqIC8vID0+IFtdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9BcnJheSh2YWx1ZSkge1xuICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBpZiAoaXNBcnJheUxpa2UodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBpc1N0cmluZyh2YWx1ZSkgPyBzdHJpbmdUb0FycmF5KHZhbHVlKSA6IGNvcHlBcnJheSh2YWx1ZSk7XG4gICAgICB9XG4gICAgICBpZiAoc3ltSXRlcmF0b3IgJiYgdmFsdWVbc3ltSXRlcmF0b3JdKSB7XG4gICAgICAgIHJldHVybiBpdGVyYXRvclRvQXJyYXkodmFsdWVbc3ltSXRlcmF0b3JdKCkpO1xuICAgICAgfVxuICAgICAgdmFyIHRhZyA9IGdldFRhZyh2YWx1ZSksXG4gICAgICAgICAgZnVuYyA9IHRhZyA9PSBtYXBUYWcgPyBtYXBUb0FycmF5IDogKHRhZyA9PSBzZXRUYWcgPyBzZXRUb0FycmF5IDogdmFsdWVzKTtcblxuICAgICAgcmV0dXJuIGZ1bmModmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBmaW5pdGUgbnVtYmVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTIuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgbnVtYmVyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvRmluaXRlKDMuMik7XG4gICAgICogLy8gPT4gMy4yXG4gICAgICpcbiAgICAgKiBfLnRvRmluaXRlKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IDVlLTMyNFxuICAgICAqXG4gICAgICogXy50b0Zpbml0ZShJbmZpbml0eSk7XG4gICAgICogLy8gPT4gMS43OTc2OTMxMzQ4NjIzMTU3ZSszMDhcbiAgICAgKlxuICAgICAqIF8udG9GaW5pdGUoJzMuMicpO1xuICAgICAqIC8vID0+IDMuMlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvRmluaXRlKHZhbHVlKSB7XG4gICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSA9PT0gMCA/IHZhbHVlIDogMDtcbiAgICAgIH1cbiAgICAgIHZhbHVlID0gdG9OdW1iZXIodmFsdWUpO1xuICAgICAgaWYgKHZhbHVlID09PSBJTkZJTklUWSB8fCB2YWx1ZSA9PT0gLUlORklOSVRZKSB7XG4gICAgICAgIHZhciBzaWduID0gKHZhbHVlIDwgMCA/IC0xIDogMSk7XG4gICAgICAgIHJldHVybiBzaWduICogTUFYX0lOVEVHRVI7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWUgPT09IHZhbHVlID8gdmFsdWUgOiAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYW4gaW50ZWdlci5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBsb29zZWx5IGJhc2VkIG9uXG4gICAgICogW2BUb0ludGVnZXJgXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtdG9pbnRlZ2VyKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgaW50ZWdlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b0ludGVnZXIoMy4yKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLnRvSW50ZWdlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICpcbiAgICAgKiBfLnRvSW50ZWdlcihJbmZpbml0eSk7XG4gICAgICogLy8gPT4gMS43OTc2OTMxMzQ4NjIzMTU3ZSszMDhcbiAgICAgKlxuICAgICAqIF8udG9JbnRlZ2VyKCczLjInKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9JbnRlZ2VyKHZhbHVlKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gdG9GaW5pdGUodmFsdWUpLFxuICAgICAgICAgIHJlbWFpbmRlciA9IHJlc3VsdCAlIDE7XG5cbiAgICAgIHJldHVybiByZXN1bHQgPT09IHJlc3VsdCA/IChyZW1haW5kZXIgPyByZXN1bHQgLSByZW1haW5kZXIgOiByZXN1bHQpIDogMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGFuIGludGVnZXIgc3VpdGFibGUgZm9yIHVzZSBhcyB0aGUgbGVuZ3RoIG9mIGFuXG4gICAgICogYXJyYXktbGlrZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb25cbiAgICAgKiBbYFRvTGVuZ3RoYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtdG9sZW5ndGgpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBpbnRlZ2VyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvTGVuZ3RoKDMuMik7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy50b0xlbmd0aChOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICpcbiAgICAgKiBfLnRvTGVuZ3RoKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiA0Mjk0OTY3Mjk1XG4gICAgICpcbiAgICAgKiBfLnRvTGVuZ3RoKCczLjInKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9MZW5ndGgodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA/IGJhc2VDbGFtcCh0b0ludGVnZXIodmFsdWUpLCAwLCBNQVhfQVJSQVlfTEVOR1RIKSA6IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIG51bWJlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9OdW1iZXIoMy4yKTtcbiAgICAgKiAvLyA9PiAzLjJcbiAgICAgKlxuICAgICAqIF8udG9OdW1iZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gNWUtMzI0XG4gICAgICpcbiAgICAgKiBfLnRvTnVtYmVyKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiBJbmZpbml0eVxuICAgICAqXG4gICAgICogXy50b051bWJlcignMy4yJyk7XG4gICAgICogLy8gPT4gMy4yXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9OdW1iZXIodmFsdWUpIHtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKGlzU3ltYm9sKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gTkFOO1xuICAgICAgfVxuICAgICAgaWYgKGlzT2JqZWN0KHZhbHVlKSkge1xuICAgICAgICB2YXIgb3RoZXIgPSB0eXBlb2YgdmFsdWUudmFsdWVPZiA9PSAnZnVuY3Rpb24nID8gdmFsdWUudmFsdWVPZigpIDogdmFsdWU7XG4gICAgICAgIHZhbHVlID0gaXNPYmplY3Qob3RoZXIpID8gKG90aGVyICsgJycpIDogb3RoZXI7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSA9PT0gMCA/IHZhbHVlIDogK3ZhbHVlO1xuICAgICAgfVxuICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKHJlVHJpbSwgJycpO1xuICAgICAgdmFyIGlzQmluYXJ5ID0gcmVJc0JpbmFyeS50ZXN0KHZhbHVlKTtcbiAgICAgIHJldHVybiAoaXNCaW5hcnkgfHwgcmVJc09jdGFsLnRlc3QodmFsdWUpKVxuICAgICAgICA/IGZyZWVQYXJzZUludCh2YWx1ZS5zbGljZSgyKSwgaXNCaW5hcnkgPyAyIDogOClcbiAgICAgICAgOiAocmVJc0JhZEhleC50ZXN0KHZhbHVlKSA/IE5BTiA6ICt2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIHBsYWluIG9iamVjdCBmbGF0dGVuaW5nIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZ1xuICAgICAqIGtleWVkIHByb3BlcnRpZXMgb2YgYHZhbHVlYCB0byBvd24gcHJvcGVydGllcyBvZiB0aGUgcGxhaW4gb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBwbGFpbiBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8uYXNzaWduKHsgJ2EnOiAxIH0sIG5ldyBGb28pO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIgfVxuICAgICAqXG4gICAgICogXy5hc3NpZ24oeyAnYSc6IDEgfSwgXy50b1BsYWluT2JqZWN0KG5ldyBGb28pKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDMgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvUGxhaW5PYmplY3QodmFsdWUpIHtcbiAgICAgIHJldHVybiBjb3B5T2JqZWN0KHZhbHVlLCBrZXlzSW4odmFsdWUpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc2FmZSBpbnRlZ2VyLiBBIHNhZmUgaW50ZWdlciBjYW4gYmUgY29tcGFyZWQgYW5kXG4gICAgICogcmVwcmVzZW50ZWQgY29ycmVjdGx5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBpbnRlZ2VyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvU2FmZUludGVnZXIoMy4yKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLnRvU2FmZUludGVnZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogXy50b1NhZmVJbnRlZ2VyKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiA5MDA3MTk5MjU0NzQwOTkxXG4gICAgICpcbiAgICAgKiBfLnRvU2FmZUludGVnZXIoJzMuMicpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b1NhZmVJbnRlZ2VyKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWVcbiAgICAgICAgPyBiYXNlQ2xhbXAodG9JbnRlZ2VyKHZhbHVlKSwgLU1BWF9TQUZFX0lOVEVHRVIsIE1BWF9TQUZFX0lOVEVHRVIpXG4gICAgICAgIDogKHZhbHVlID09PSAwID8gdmFsdWUgOiAwKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nLiBBbiBlbXB0eSBzdHJpbmcgaXMgcmV0dXJuZWQgZm9yIGBudWxsYFxuICAgICAqIGFuZCBgdW5kZWZpbmVkYCB2YWx1ZXMuIFRoZSBzaWduIG9mIGAtMGAgaXMgcHJlc2VydmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9TdHJpbmcobnVsbCk7XG4gICAgICogLy8gPT4gJydcbiAgICAgKlxuICAgICAqIF8udG9TdHJpbmcoLTApO1xuICAgICAqIC8vID0+ICctMCdcbiAgICAgKlxuICAgICAqIF8udG9TdHJpbmcoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiAnMSwyLDMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9TdHJpbmcodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PSBudWxsID8gJycgOiBiYXNlVG9TdHJpbmcodmFsdWUpO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIEFzc2lnbnMgb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgb2Ygc291cmNlIG9iamVjdHMgdG8gdGhlXG4gICAgICogZGVzdGluYXRpb24gb2JqZWN0LiBTb3VyY2Ugb2JqZWN0cyBhcmUgYXBwbGllZCBmcm9tIGxlZnQgdG8gcmlnaHQuXG4gICAgICogU3Vic2VxdWVudCBzb3VyY2VzIG92ZXJ3cml0ZSBwcm9wZXJ0eSBhc3NpZ25tZW50cyBvZiBwcmV2aW91cyBzb3VyY2VzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAgYW5kIGlzIGxvb3NlbHkgYmFzZWQgb25cbiAgICAgKiBbYE9iamVjdC5hc3NpZ25gXShodHRwczovL21kbi5pby9PYmplY3QvYXNzaWduKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEwLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBbc291cmNlc10gVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmFzc2lnbkluXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogfVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gQmFyKCkge1xuICAgICAqICAgdGhpcy5jID0gMztcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmIgPSAyO1xuICAgICAqIEJhci5wcm90b3R5cGUuZCA9IDQ7XG4gICAgICpcbiAgICAgKiBfLmFzc2lnbih7ICdhJzogMCB9LCBuZXcgRm9vLCBuZXcgQmFyKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2MnOiAzIH1cbiAgICAgKi9cbiAgICB2YXIgYXNzaWduID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UpIHtcbiAgICAgIGlmIChpc1Byb3RvdHlwZShzb3VyY2UpIHx8IGlzQXJyYXlMaWtlKHNvdXJjZSkpIHtcbiAgICAgICAgY29weU9iamVjdChzb3VyY2UsIGtleXMoc291cmNlKSwgb2JqZWN0KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICBhc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgc291cmNlW2tleV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmFzc2lnbmAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBvd24gYW5kXG4gICAgICogaW5oZXJpdGVkIHNvdXJjZSBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAYWxpYXMgZXh0ZW5kXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZXNdIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5hc3NpZ25cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBCYXIoKSB7XG4gICAgICogICB0aGlzLmMgPSAzO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYiA9IDI7XG4gICAgICogQmFyLnByb3RvdHlwZS5kID0gNDtcbiAgICAgKlxuICAgICAqIF8uYXNzaWduSW4oeyAnYSc6IDAgfSwgbmV3IEZvbywgbmV3IEJhcik7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiwgJ2MnOiAzLCAnZCc6IDQgfVxuICAgICAqL1xuICAgIHZhciBhc3NpZ25JbiA9IGNyZWF0ZUFzc2lnbmVyKGZ1bmN0aW9uKG9iamVjdCwgc291cmNlKSB7XG4gICAgICBjb3B5T2JqZWN0KHNvdXJjZSwga2V5c0luKHNvdXJjZSksIG9iamVjdCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmFzc2lnbkluYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYFxuICAgICAqIHdoaWNoIGlzIGludm9rZWQgdG8gcHJvZHVjZSB0aGUgYXNzaWduZWQgdmFsdWVzLiBJZiBgY3VzdG9taXplcmAgcmV0dXJuc1xuICAgICAqIGB1bmRlZmluZWRgLCBhc3NpZ25tZW50IGlzIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgXG4gICAgICogaXMgaW52b2tlZCB3aXRoIGZpdmUgYXJndW1lbnRzOiAob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCwgc291cmNlKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGFsaWFzIGV4dGVuZFdpdGhcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBzb3VyY2VzIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25lZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uYXNzaWduV2l0aFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSkge1xuICAgICAqICAgcmV0dXJuIF8uaXNVbmRlZmluZWQob2JqVmFsdWUpID8gc3JjVmFsdWUgOiBvYmpWYWx1ZTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgZGVmYXVsdHMgPSBfLnBhcnRpYWxSaWdodChfLmFzc2lnbkluV2l0aCwgY3VzdG9taXplcik7XG4gICAgICpcbiAgICAgKiBkZWZhdWx0cyh7ICdhJzogMSB9LCB7ICdiJzogMiB9LCB7ICdhJzogMyB9KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKi9cbiAgICB2YXIgYXNzaWduSW5XaXRoID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4LCBjdXN0b21pemVyKSB7XG4gICAgICBjb3B5T2JqZWN0KHNvdXJjZSwga2V5c0luKHNvdXJjZSksIG9iamVjdCwgY3VzdG9taXplcik7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmFzc2lnbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmBcbiAgICAgKiB3aGljaCBpcyBpbnZva2VkIHRvIHByb2R1Y2UgdGhlIGFzc2lnbmVkIHZhbHVlcy4gSWYgYGN1c3RvbWl6ZXJgIHJldHVybnNcbiAgICAgKiBgdW5kZWZpbmVkYCwgYXNzaWdubWVudCBpcyBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYFxuICAgICAqIGlzIGludm9rZWQgd2l0aCBmaXZlIGFyZ3VtZW50czogKG9ialZhbHVlLCBzcmNWYWx1ZSwga2V5LCBvYmplY3QsIHNvdXJjZSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi5PYmplY3R9IHNvdXJjZXMgVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5hc3NpZ25JbldpdGhcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gY3VzdG9taXplcihvYmpWYWx1ZSwgc3JjVmFsdWUpIHtcbiAgICAgKiAgIHJldHVybiBfLmlzVW5kZWZpbmVkKG9ialZhbHVlKSA/IHNyY1ZhbHVlIDogb2JqVmFsdWU7XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGRlZmF1bHRzID0gXy5wYXJ0aWFsUmlnaHQoXy5hc3NpZ25XaXRoLCBjdXN0b21pemVyKTtcbiAgICAgKlxuICAgICAqIGRlZmF1bHRzKHsgJ2EnOiAxIH0sIHsgJ2InOiAyIH0sIHsgJ2EnOiAzIH0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIgfVxuICAgICAqL1xuICAgIHZhciBhc3NpZ25XaXRoID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4LCBjdXN0b21pemVyKSB7XG4gICAgICBjb3B5T2JqZWN0KHNvdXJjZSwga2V5cyhzb3VyY2UpLCBvYmplY3QsIGN1c3RvbWl6ZXIpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB2YWx1ZXMgY29ycmVzcG9uZGluZyB0byBgcGF0aHNgIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHsuLi4oc3RyaW5nfHN0cmluZ1tdKX0gW3BhdGhzXSBUaGUgcHJvcGVydHkgcGF0aHMgdG8gcGljay5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHBpY2tlZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogMyB9IH0sIDRdIH07XG4gICAgICpcbiAgICAgKiBfLmF0KG9iamVjdCwgWydhWzBdLmIuYycsICdhWzFdJ10pO1xuICAgICAqIC8vID0+IFszLCA0XVxuICAgICAqL1xuICAgIHZhciBhdCA9IGZsYXRSZXN0KGJhc2VBdCk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCB0aGF0IGluaGVyaXRzIGZyb20gdGhlIGBwcm90b3R5cGVgIG9iamVjdC4gSWYgYVxuICAgICAqIGBwcm9wZXJ0aWVzYCBvYmplY3QgaXMgZ2l2ZW4sIGl0cyBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllc1xuICAgICAqIGFyZSBhc3NpZ25lZCB0byB0aGUgY3JlYXRlZCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IHByb3RvdHlwZSBUaGUgb2JqZWN0IHRvIGluaGVyaXQgZnJvbS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3Byb3BlcnRpZXNdIFRoZSBwcm9wZXJ0aWVzIHRvIGFzc2lnbiB0byB0aGUgb2JqZWN0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIFNoYXBlKCkge1xuICAgICAqICAgdGhpcy54ID0gMDtcbiAgICAgKiAgIHRoaXMueSA9IDA7XG4gICAgICogfVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gQ2lyY2xlKCkge1xuICAgICAqICAgU2hhcGUuY2FsbCh0aGlzKTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBDaXJjbGUucHJvdG90eXBlID0gXy5jcmVhdGUoU2hhcGUucHJvdG90eXBlLCB7XG4gICAgICogICAnY29uc3RydWN0b3InOiBDaXJjbGVcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIHZhciBjaXJjbGUgPSBuZXcgQ2lyY2xlO1xuICAgICAqIGNpcmNsZSBpbnN0YW5jZW9mIENpcmNsZTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBjaXJjbGUgaW5zdGFuY2VvZiBTaGFwZTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlKHByb3RvdHlwZSwgcHJvcGVydGllcykge1xuICAgICAgdmFyIHJlc3VsdCA9IGJhc2VDcmVhdGUocHJvdG90eXBlKTtcbiAgICAgIHJldHVybiBwcm9wZXJ0aWVzID09IG51bGwgPyByZXN1bHQgOiBiYXNlQXNzaWduKHJlc3VsdCwgcHJvcGVydGllcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXNzaWducyBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIG9mIHNvdXJjZVxuICAgICAqIG9iamVjdHMgdG8gdGhlIGRlc3RpbmF0aW9uIG9iamVjdCBmb3IgYWxsIGRlc3RpbmF0aW9uIHByb3BlcnRpZXMgdGhhdFxuICAgICAqIHJlc29sdmUgdG8gYHVuZGVmaW5lZGAuIFNvdXJjZSBvYmplY3RzIGFyZSBhcHBsaWVkIGZyb20gbGVmdCB0byByaWdodC5cbiAgICAgKiBPbmNlIGEgcHJvcGVydHkgaXMgc2V0LCBhZGRpdGlvbmFsIHZhbHVlcyBvZiB0aGUgc2FtZSBwcm9wZXJ0eSBhcmUgaWdub3JlZC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZXNdIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5kZWZhdWx0c0RlZXBcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kZWZhdWx0cyh7ICdhJzogMSB9LCB7ICdiJzogMiB9LCB7ICdhJzogMyB9KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKi9cbiAgICB2YXIgZGVmYXVsdHMgPSBiYXNlUmVzdChmdW5jdGlvbihvYmplY3QsIHNvdXJjZXMpIHtcbiAgICAgIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuXG4gICAgICB2YXIgaW5kZXggPSAtMTtcbiAgICAgIHZhciBsZW5ndGggPSBzb3VyY2VzLmxlbmd0aDtcbiAgICAgIHZhciBndWFyZCA9IGxlbmd0aCA+IDIgPyBzb3VyY2VzWzJdIDogdW5kZWZpbmVkO1xuXG4gICAgICBpZiAoZ3VhcmQgJiYgaXNJdGVyYXRlZUNhbGwoc291cmNlc1swXSwgc291cmNlc1sxXSwgZ3VhcmQpKSB7XG4gICAgICAgIGxlbmd0aCA9IDE7XG4gICAgICB9XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBzb3VyY2UgPSBzb3VyY2VzW2luZGV4XTtcbiAgICAgICAgdmFyIHByb3BzID0ga2V5c0luKHNvdXJjZSk7XG4gICAgICAgIHZhciBwcm9wc0luZGV4ID0gLTE7XG4gICAgICAgIHZhciBwcm9wc0xlbmd0aCA9IHByb3BzLmxlbmd0aDtcblxuICAgICAgICB3aGlsZSAoKytwcm9wc0luZGV4IDwgcHJvcHNMZW5ndGgpIHtcbiAgICAgICAgICB2YXIga2V5ID0gcHJvcHNbcHJvcHNJbmRleF07XG4gICAgICAgICAgdmFyIHZhbHVlID0gb2JqZWN0W2tleV07XG5cbiAgICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgICAoZXEodmFsdWUsIG9iamVjdFByb3RvW2tleV0pICYmICFoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkpIHtcbiAgICAgICAgICAgIG9iamVjdFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmRlZmF1bHRzYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBhc3NpZ25zXG4gICAgICogZGVmYXVsdCBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4xMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZXNdIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5kZWZhdWx0c1xuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlZmF1bHRzRGVlcCh7ICdhJzogeyAnYic6IDIgfSB9LCB7ICdhJzogeyAnYic6IDEsICdjJzogMyB9IH0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiB7ICdiJzogMiwgJ2MnOiAzIH0gfVxuICAgICAqL1xuICAgIHZhciBkZWZhdWx0c0RlZXAgPSBiYXNlUmVzdChmdW5jdGlvbihhcmdzKSB7XG4gICAgICBhcmdzLnB1c2godW5kZWZpbmVkLCBjdXN0b21EZWZhdWx0c01lcmdlKTtcbiAgICAgIHJldHVybiBhcHBseShtZXJnZVdpdGgsIHVuZGVmaW5lZCwgYXJncyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZpbmRgIGV4Y2VwdCB0aGF0IGl0IHJldHVybnMgdGhlIGtleSBvZiB0aGUgZmlyc3RcbiAgICAgKiBlbGVtZW50IGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvciBpbnN0ZWFkIG9mIHRoZSBlbGVtZW50IGl0c2VsZi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjEuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge3N0cmluZ3x1bmRlZmluZWR9IFJldHVybnMgdGhlIGtleSBvZiB0aGUgbWF0Y2hlZCBlbGVtZW50LFxuICAgICAqICBlbHNlIGB1bmRlZmluZWRgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSB7XG4gICAgICogICAnYmFybmV5JzogIHsgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgJ2ZyZWQnOiAgICB7ICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICAncGViYmxlcyc6IHsgJ2FnZSc6IDEsICAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIF8uZmluZEtleSh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby5hZ2UgPCA0MDsgfSk7XG4gICAgICogLy8gPT4gJ2Jhcm5leScgKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kS2V5KHVzZXJzLCB7ICdhZ2UnOiAxLCAnYWN0aXZlJzogdHJ1ZSB9KTtcbiAgICAgKiAvLyA9PiAncGViYmxlcydcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRLZXkodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiAnZnJlZCdcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZEtleSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+ICdiYXJuZXknXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZEtleShvYmplY3QsIHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIGJhc2VGaW5kS2V5KG9iamVjdCwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSwgYmFzZUZvck93bik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5maW5kS2V5YCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mXG4gICAgICogYSBjb2xsZWN0aW9uIGluIHRoZSBvcHBvc2l0ZSBvcmRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge3N0cmluZ3x1bmRlZmluZWR9IFJldHVybnMgdGhlIGtleSBvZiB0aGUgbWF0Y2hlZCBlbGVtZW50LFxuICAgICAqICBlbHNlIGB1bmRlZmluZWRgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSB7XG4gICAgICogICAnYmFybmV5JzogIHsgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgJ2ZyZWQnOiAgICB7ICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICAncGViYmxlcyc6IHsgJ2FnZSc6IDEsICAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIF8uZmluZExhc3RLZXkodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8uYWdlIDwgNDA7IH0pO1xuICAgICAqIC8vID0+IHJldHVybnMgJ3BlYmJsZXMnIGFzc3VtaW5nIGBfLmZpbmRLZXlgIHJldHVybnMgJ2Jhcm5leSdcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kTGFzdEtleSh1c2VycywgeyAnYWdlJzogMzYsICdhY3RpdmUnOiB0cnVlIH0pO1xuICAgICAqIC8vID0+ICdiYXJuZXknXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kTGFzdEtleSh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+ICdmcmVkJ1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kTGFzdEtleSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+ICdwZWJibGVzJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmRMYXN0S2V5KG9iamVjdCwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gYmFzZUZpbmRLZXkob2JqZWN0LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCBiYXNlRm9yT3duUmlnaHQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIG92ZXIgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBvZiBhblxuICAgICAqIG9iamVjdCBhbmQgaW52b2tlcyBgaXRlcmF0ZWVgIGZvciBlYWNoIHByb3BlcnR5LiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGtleSwgb2JqZWN0KS4gSXRlcmF0ZWUgZnVuY3Rpb25zIG1heSBleGl0XG4gICAgICogaXRlcmF0aW9uIGVhcmx5IGJ5IGV4cGxpY2l0bHkgcmV0dXJuaW5nIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5mb3JJblJpZ2h0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLmZvckluKG5ldyBGb28sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyAnYScsICdiJywgdGhlbiAnYycgKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZCkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9ySW4ob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsXG4gICAgICAgID8gb2JqZWN0XG4gICAgICAgIDogYmFzZUZvcihvYmplY3QsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSwga2V5c0luKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZvckluYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIHByb3BlcnRpZXMgb2ZcbiAgICAgKiBgb2JqZWN0YCBpbiB0aGUgb3Bwb3NpdGUgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5mb3JJblxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy5mb3JJblJpZ2h0KG5ldyBGb28sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyAnYycsICdiJywgdGhlbiAnYScgYXNzdW1pbmcgYF8uZm9ySW5gIGxvZ3MgJ2EnLCAnYicsIHRoZW4gJ2MnLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvckluUmlnaHQob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsXG4gICAgICAgID8gb2JqZWN0XG4gICAgICAgIDogYmFzZUZvclJpZ2h0KG9iamVjdCwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpLCBrZXlzSW4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIG92ZXIgb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgb2YgYW4gb2JqZWN0IGFuZFxuICAgICAqIGludm9rZXMgYGl0ZXJhdGVlYCBmb3IgZWFjaCBwcm9wZXJ0eS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCB0aHJlZVxuICAgICAqIGFyZ3VtZW50czogKHZhbHVlLCBrZXksIG9iamVjdCkuIEl0ZXJhdGVlIGZ1bmN0aW9ucyBtYXkgZXhpdCBpdGVyYXRpb25cbiAgICAgKiBlYXJseSBieSBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMy4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uZm9yT3duUmlnaHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8uZm9yT3duKG5ldyBGb28sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyAnYScgdGhlbiAnYicgKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZCkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9yT3duKG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgJiYgYmFzZUZvck93bihvYmplY3QsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mb3JPd25gIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgcHJvcGVydGllcyBvZlxuICAgICAqIGBvYmplY3RgIGluIHRoZSBvcHBvc2l0ZSBvcmRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmZvck93blxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy5mb3JPd25SaWdodChuZXcgRm9vLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICogICBjb25zb2xlLmxvZyhrZXkpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgJ2InIHRoZW4gJ2EnIGFzc3VtaW5nIGBfLmZvck93bmAgbG9ncyAnYScgdGhlbiAnYicuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9yT3duUmlnaHQob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAmJiBiYXNlRm9yT3duUmlnaHQob2JqZWN0LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgZnVuY3Rpb24gcHJvcGVydHkgbmFtZXMgZnJvbSBvd24gZW51bWVyYWJsZSBwcm9wZXJ0aWVzXG4gICAgICogb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBuYW1lcy5cbiAgICAgKiBAc2VlIF8uZnVuY3Rpb25zSW5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gXy5jb25zdGFudCgnYScpO1xuICAgICAqICAgdGhpcy5iID0gXy5jb25zdGFudCgnYicpO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IF8uY29uc3RhbnQoJ2MnKTtcbiAgICAgKlxuICAgICAqIF8uZnVuY3Rpb25zKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFsnYScsICdiJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmdW5jdGlvbnMob2JqZWN0KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBbXSA6IGJhc2VGdW5jdGlvbnMob2JqZWN0LCBrZXlzKG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgZnVuY3Rpb24gcHJvcGVydHkgbmFtZXMgZnJvbSBvd24gYW5kIGluaGVyaXRlZFxuICAgICAqIGVudW1lcmFibGUgcHJvcGVydGllcyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGZ1bmN0aW9uIG5hbWVzLlxuICAgICAqIEBzZWUgXy5mdW5jdGlvbnNcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gXy5jb25zdGFudCgnYScpO1xuICAgICAqICAgdGhpcy5iID0gXy5jb25zdGFudCgnYicpO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IF8uY29uc3RhbnQoJ2MnKTtcbiAgICAgKlxuICAgICAqIF8uZnVuY3Rpb25zSW4obmV3IEZvbyk7XG4gICAgICogLy8gPT4gWydhJywgJ2InLCAnYyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gZnVuY3Rpb25zSW4ob2JqZWN0KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBbXSA6IGJhc2VGdW5jdGlvbnMob2JqZWN0LCBrZXlzSW4ob2JqZWN0KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgdmFsdWUgYXQgYHBhdGhgIG9mIGBvYmplY3RgLiBJZiB0aGUgcmVzb2x2ZWQgdmFsdWUgaXNcbiAgICAgKiBgdW5kZWZpbmVkYCwgdGhlIGBkZWZhdWx0VmFsdWVgIGlzIHJldHVybmVkIGluIGl0cyBwbGFjZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjcuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcGFyYW0geyp9IFtkZWZhdWx0VmFsdWVdIFRoZSB2YWx1ZSByZXR1cm5lZCBmb3IgYHVuZGVmaW5lZGAgcmVzb2x2ZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXNvbHZlZCB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MnOiAzIH0gfV0gfTtcbiAgICAgKlxuICAgICAqIF8uZ2V0KG9iamVjdCwgJ2FbMF0uYi5jJyk7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy5nZXQob2JqZWN0LCBbJ2EnLCAnMCcsICdiJywgJ2MnXSk7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy5nZXQob2JqZWN0LCAnYS5iLmMnLCAnZGVmYXVsdCcpO1xuICAgICAqIC8vID0+ICdkZWZhdWx0J1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldChvYmplY3QsIHBhdGgsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogYmFzZUdldChvYmplY3QsIHBhdGgpO1xuICAgICAgcmV0dXJuIHJlc3VsdCA9PT0gdW5kZWZpbmVkID8gZGVmYXVsdFZhbHVlIDogcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgcGF0aGAgaXMgYSBkaXJlY3QgcHJvcGVydHkgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgcGF0aGAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogeyAnYic6IDIgfSB9O1xuICAgICAqIHZhciBvdGhlciA9IF8uY3JlYXRlKHsgJ2EnOiBfLmNyZWF0ZSh7ICdiJzogMiB9KSB9KTtcbiAgICAgKlxuICAgICAqIF8uaGFzKG9iamVjdCwgJ2EnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmhhcyhvYmplY3QsICdhLmInKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmhhcyhvYmplY3QsIFsnYScsICdiJ10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaGFzKG90aGVyLCAnYScpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzKG9iamVjdCwgcGF0aCkge1xuICAgICAgcmV0dXJuIG9iamVjdCAhPSBudWxsICYmIGhhc1BhdGgob2JqZWN0LCBwYXRoLCBiYXNlSGFzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHBhdGhgIGlzIGEgZGlyZWN0IG9yIGluaGVyaXRlZCBwcm9wZXJ0eSBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBwYXRoYCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IF8uY3JlYXRlKHsgJ2EnOiBfLmNyZWF0ZSh7ICdiJzogMiB9KSB9KTtcbiAgICAgKlxuICAgICAqIF8uaGFzSW4ob2JqZWN0LCAnYScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaGFzSW4ob2JqZWN0LCAnYS5iJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5oYXNJbihvYmplY3QsIFsnYScsICdiJ10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaGFzSW4ob2JqZWN0LCAnYicpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzSW4ob2JqZWN0LCBwYXRoKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICE9IG51bGwgJiYgaGFzUGF0aChvYmplY3QsIHBhdGgsIGJhc2VIYXNJbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2YgdGhlIGludmVydGVkIGtleXMgYW5kIHZhbHVlcyBvZiBgb2JqZWN0YC5cbiAgICAgKiBJZiBgb2JqZWN0YCBjb250YWlucyBkdXBsaWNhdGUgdmFsdWVzLCBzdWJzZXF1ZW50IHZhbHVlcyBvdmVyd3JpdGVcbiAgICAgKiBwcm9wZXJ0eSBhc3NpZ25tZW50cyBvZiBwcmV2aW91cyB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGludmVydC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgaW52ZXJ0ZWQgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogMiwgJ2MnOiAxIH07XG4gICAgICpcbiAgICAgKiBfLmludmVydChvYmplY3QpO1xuICAgICAqIC8vID0+IHsgJzEnOiAnYycsICcyJzogJ2InIH1cbiAgICAgKi9cbiAgICB2YXIgaW52ZXJ0ID0gY3JlYXRlSW52ZXJ0ZXIoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICBpZiAodmFsdWUgIT0gbnVsbCAmJlxuICAgICAgICAgIHR5cGVvZiB2YWx1ZS50b1N0cmluZyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZhbHVlID0gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIHJlc3VsdFt2YWx1ZV0gPSBrZXk7XG4gICAgfSwgY29uc3RhbnQoaWRlbnRpdHkpKTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaW52ZXJ0YCBleGNlcHQgdGhhdCB0aGUgaW52ZXJ0ZWQgb2JqZWN0IGlzIGdlbmVyYXRlZFxuICAgICAqIGZyb20gdGhlIHJlc3VsdHMgb2YgcnVubmluZyBlYWNoIGVsZW1lbnQgb2YgYG9iamVjdGAgdGhydSBgaXRlcmF0ZWVgLiBUaGVcbiAgICAgKiBjb3JyZXNwb25kaW5nIGludmVydGVkIHZhbHVlIG9mIGVhY2ggaW52ZXJ0ZWQga2V5IGlzIGFuIGFycmF5IG9mIGtleXNcbiAgICAgKiByZXNwb25zaWJsZSBmb3IgZ2VuZXJhdGluZyB0aGUgaW52ZXJ0ZWQgdmFsdWUuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkXG4gICAgICogd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGludmVydC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGludmVydGVkIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMSB9O1xuICAgICAqXG4gICAgICogXy5pbnZlcnRCeShvYmplY3QpO1xuICAgICAqIC8vID0+IHsgJzEnOiBbJ2EnLCAnYyddLCAnMic6IFsnYiddIH1cbiAgICAgKlxuICAgICAqIF8uaW52ZXJ0Qnkob2JqZWN0LCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAqICAgcmV0dXJuICdncm91cCcgKyB2YWx1ZTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiB7ICdncm91cDEnOiBbJ2EnLCAnYyddLCAnZ3JvdXAyJzogWydiJ10gfVxuICAgICAqL1xuICAgIHZhciBpbnZlcnRCeSA9IGNyZWF0ZUludmVydGVyKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAgaWYgKHZhbHVlICE9IG51bGwgJiZcbiAgICAgICAgICB0eXBlb2YgdmFsdWUudG9TdHJpbmcgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB2YWx1ZSA9IG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICAgICAgfVxuXG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChyZXN1bHQsIHZhbHVlKSkge1xuICAgICAgICByZXN1bHRbdmFsdWVdLnB1c2goa2V5KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdFt2YWx1ZV0gPSBba2V5XTtcbiAgICAgIH1cbiAgICB9LCBnZXRJdGVyYXRlZSk7XG5cbiAgICAvKipcbiAgICAgKiBJbnZva2VzIHRoZSBtZXRob2QgYXQgYHBhdGhgIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgbWV0aG9kIHRvIGludm9rZS5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSB0aGUgbWV0aG9kIHdpdGguXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc3VsdCBvZiB0aGUgaW52b2tlZCBtZXRob2QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogWzEsIDIsIDMsIDRdIH0gfV0gfTtcbiAgICAgKlxuICAgICAqIF8uaW52b2tlKG9iamVjdCwgJ2FbMF0uYi5jLnNsaWNlJywgMSwgMyk7XG4gICAgICogLy8gPT4gWzIsIDNdXG4gICAgICovXG4gICAgdmFyIGludm9rZSA9IGJhc2VSZXN0KGJhc2VJbnZva2UpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogTm9uLW9iamVjdCB2YWx1ZXMgYXJlIGNvZXJjZWQgdG8gb2JqZWN0cy4gU2VlIHRoZVxuICAgICAqIFtFUyBzcGVjXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3Qua2V5cylcbiAgICAgKiBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy5rZXlzKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFsnYScsICdiJ10gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKlxuICAgICAqIF8ua2V5cygnaGknKTtcbiAgICAgKiAvLyA9PiBbJzAnLCAnMSddXG4gICAgICovXG4gICAgZnVuY3Rpb24ga2V5cyhvYmplY3QpIHtcbiAgICAgIHJldHVybiBpc0FycmF5TGlrZShvYmplY3QpID8gYXJyYXlMaWtlS2V5cyhvYmplY3QpIDogYmFzZUtleXMob2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE5vbi1vYmplY3QgdmFsdWVzIGFyZSBjb2VyY2VkIHRvIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLmtleXNJbihuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYicsICdjJ10gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBrZXlzSW4ob2JqZWN0KSB7XG4gICAgICByZXR1cm4gaXNBcnJheUxpa2Uob2JqZWN0KSA/IGFycmF5TGlrZUtleXMob2JqZWN0LCB0cnVlKSA6IGJhc2VLZXlzSW4ob2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8ubWFwVmFsdWVzYDsgdGhpcyBtZXRob2QgY3JlYXRlcyBhbiBvYmplY3Qgd2l0aCB0aGVcbiAgICAgKiBzYW1lIHZhbHVlcyBhcyBgb2JqZWN0YCBhbmQga2V5cyBnZW5lcmF0ZWQgYnkgcnVubmluZyBlYWNoIG93biBlbnVtZXJhYmxlXG4gICAgICogc3RyaW5nIGtleWVkIHByb3BlcnR5IG9mIGBvYmplY3RgIHRocnUgYGl0ZXJhdGVlYC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBrZXksIG9iamVjdCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy44LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgbWFwcGVkIG9iamVjdC5cbiAgICAgKiBAc2VlIF8ubWFwVmFsdWVzXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWFwS2V5cyh7ICdhJzogMSwgJ2InOiAyIH0sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIHJldHVybiBrZXkgKyB2YWx1ZTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiB7ICdhMSc6IDEsICdiMic6IDIgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcEtleXMob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgICAgaXRlcmF0ZWUgPSBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMyk7XG5cbiAgICAgIGJhc2VGb3JPd24ob2JqZWN0LCBmdW5jdGlvbih2YWx1ZSwga2V5LCBvYmplY3QpIHtcbiAgICAgICAgYmFzZUFzc2lnblZhbHVlKHJlc3VsdCwgaXRlcmF0ZWUodmFsdWUsIGtleSwgb2JqZWN0KSwgdmFsdWUpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IHdpdGggdGhlIHNhbWUga2V5cyBhcyBgb2JqZWN0YCBhbmQgdmFsdWVzIGdlbmVyYXRlZFxuICAgICAqIGJ5IHJ1bm5pbmcgZWFjaCBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydHkgb2YgYG9iamVjdGAgdGhydVxuICAgICAqIGBpdGVyYXRlZWAuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOlxuICAgICAqICh2YWx1ZSwga2V5LCBvYmplY3QpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuNC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG1hcHBlZCBvYmplY3QuXG4gICAgICogQHNlZSBfLm1hcEtleXNcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0ge1xuICAgICAqICAgJ2ZyZWQnOiAgICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWdlJzogNDAgfSxcbiAgICAgKiAgICdwZWJibGVzJzogeyAndXNlcic6ICdwZWJibGVzJywgJ2FnZSc6IDEgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBfLm1hcFZhbHVlcyh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby5hZ2U7IH0pO1xuICAgICAqIC8vID0+IHsgJ2ZyZWQnOiA0MCwgJ3BlYmJsZXMnOiAxIH0gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ubWFwVmFsdWVzKHVzZXJzLCAnYWdlJyk7XG4gICAgICogLy8gPT4geyAnZnJlZCc6IDQwLCAncGViYmxlcyc6IDEgfSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcFZhbHVlcyhvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgICBpdGVyYXRlZSA9IGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKTtcblxuICAgICAgYmFzZUZvck93bihvYmplY3QsIGZ1bmN0aW9uKHZhbHVlLCBrZXksIG9iamVjdCkge1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUocmVzdWx0LCBrZXksIGl0ZXJhdGVlKHZhbHVlLCBrZXksIG9iamVjdCkpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uYXNzaWduYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBtZXJnZXMgb3duIGFuZFxuICAgICAqIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIG9mIHNvdXJjZSBvYmplY3RzIGludG8gdGhlXG4gICAgICogZGVzdGluYXRpb24gb2JqZWN0LiBTb3VyY2UgcHJvcGVydGllcyB0aGF0IHJlc29sdmUgdG8gYHVuZGVmaW5lZGAgYXJlXG4gICAgICogc2tpcHBlZCBpZiBhIGRlc3RpbmF0aW9uIHZhbHVlIGV4aXN0cy4gQXJyYXkgYW5kIHBsYWluIG9iamVjdCBwcm9wZXJ0aWVzXG4gICAgICogYXJlIG1lcmdlZCByZWN1cnNpdmVseS4gT3RoZXIgb2JqZWN0cyBhbmQgdmFsdWUgdHlwZXMgYXJlIG92ZXJyaWRkZW4gYnlcbiAgICAgKiBhc3NpZ25tZW50LiBTb3VyY2Ugb2JqZWN0cyBhcmUgYXBwbGllZCBmcm9tIGxlZnQgdG8gcmlnaHQuIFN1YnNlcXVlbnRcbiAgICAgKiBzb3VyY2VzIG92ZXJ3cml0ZSBwcm9wZXJ0eSBhc3NpZ25tZW50cyBvZiBwcmV2aW91cyBzb3VyY2VzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC41LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBbc291cmNlc10gVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7XG4gICAgICogICAnYSc6IFt7ICdiJzogMiB9LCB7ICdkJzogNCB9XVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiB2YXIgb3RoZXIgPSB7XG4gICAgICogICAnYSc6IFt7ICdjJzogMyB9LCB7ICdlJzogNSB9XVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBfLm1lcmdlKG9iamVjdCwgb3RoZXIpO1xuICAgICAqIC8vID0+IHsgJ2EnOiBbeyAnYic6IDIsICdjJzogMyB9LCB7ICdkJzogNCwgJ2UnOiA1IH1dIH1cbiAgICAgKi9cbiAgICB2YXIgbWVyZ2UgPSBjcmVhdGVBc3NpZ25lcihmdW5jdGlvbihvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgpIHtcbiAgICAgIGJhc2VNZXJnZShvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5tZXJnZWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIHRvIHByb2R1Y2UgdGhlIG1lcmdlZCB2YWx1ZXMgb2YgdGhlIGRlc3RpbmF0aW9uIGFuZCBzb3VyY2VcbiAgICAgKiBwcm9wZXJ0aWVzLiBJZiBgY3VzdG9taXplcmAgcmV0dXJucyBgdW5kZWZpbmVkYCwgbWVyZ2luZyBpcyBoYW5kbGVkIGJ5IHRoZVxuICAgICAqIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgIGlzIGludm9rZWQgd2l0aCBzaXggYXJndW1lbnRzOlxuICAgICAqIChvYmpWYWx1ZSwgc3JjVmFsdWUsIGtleSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gc291cmNlcyBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSkge1xuICAgICAqICAgaWYgKF8uaXNBcnJheShvYmpWYWx1ZSkpIHtcbiAgICAgKiAgICAgcmV0dXJuIG9ialZhbHVlLmNvbmNhdChzcmNWYWx1ZSk7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbMV0sICdiJzogWzJdIH07XG4gICAgICogdmFyIG90aGVyID0geyAnYSc6IFszXSwgJ2InOiBbNF0gfTtcbiAgICAgKlxuICAgICAqIF8ubWVyZ2VXaXRoKG9iamVjdCwgb3RoZXIsIGN1c3RvbWl6ZXIpO1xuICAgICAqIC8vID0+IHsgJ2EnOiBbMSwgM10sICdiJzogWzIsIDRdIH1cbiAgICAgKi9cbiAgICB2YXIgbWVyZ2VXaXRoID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4LCBjdXN0b21pemVyKSB7XG4gICAgICBiYXNlTWVyZ2Uob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4LCBjdXN0b21pemVyKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBvcHBvc2l0ZSBvZiBgXy5waWNrYDsgdGhpcyBtZXRob2QgY3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2YgdGhlXG4gICAgICogb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBwcm9wZXJ0eSBwYXRocyBvZiBgb2JqZWN0YCB0aGF0IGFyZSBub3Qgb21pdHRlZC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBjb25zaWRlcmFibHkgc2xvd2VyIHRoYW4gYF8ucGlja2AuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLihzdHJpbmd8c3RyaW5nW10pfSBbcGF0aHNdIFRoZSBwcm9wZXJ0eSBwYXRocyB0byBvbWl0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAnMicsICdjJzogMyB9O1xuICAgICAqXG4gICAgICogXy5vbWl0KG9iamVjdCwgWydhJywgJ2MnXSk7XG4gICAgICogLy8gPT4geyAnYic6ICcyJyB9XG4gICAgICovXG4gICAgdmFyIG9taXQgPSBmbGF0UmVzdChmdW5jdGlvbihvYmplY3QsIHBhdGhzKSB7XG4gICAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIHZhciBpc0RlZXAgPSBmYWxzZTtcbiAgICAgIHBhdGhzID0gYXJyYXlNYXAocGF0aHMsIGZ1bmN0aW9uKHBhdGgpIHtcbiAgICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG4gICAgICAgIGlzRGVlcCB8fCAoaXNEZWVwID0gcGF0aC5sZW5ndGggPiAxKTtcbiAgICAgICAgcmV0dXJuIHBhdGg7XG4gICAgICB9KTtcbiAgICAgIGNvcHlPYmplY3Qob2JqZWN0LCBnZXRBbGxLZXlzSW4ob2JqZWN0KSwgcmVzdWx0KTtcbiAgICAgIGlmIChpc0RlZXApIHtcbiAgICAgICAgcmVzdWx0ID0gYmFzZUNsb25lKHJlc3VsdCwgQ0xPTkVfREVFUF9GTEFHIHwgQ0xPTkVfRkxBVF9GTEFHIHwgQ0xPTkVfU1lNQk9MU19GTEFHLCBjdXN0b21PbWl0Q2xvbmUpO1xuICAgICAgfVxuICAgICAgdmFyIGxlbmd0aCA9IHBhdGhzLmxlbmd0aDtcbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICBiYXNlVW5zZXQocmVzdWx0LCBwYXRoc1tsZW5ndGhdKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8ucGlja0J5YDsgdGhpcyBtZXRob2QgY3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2ZcbiAgICAgKiB0aGUgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBvZiBgb2JqZWN0YCB0aGF0XG4gICAgICogYHByZWRpY2F0ZWAgZG9lc24ndCByZXR1cm4gdHJ1dGh5IGZvci4gVGhlIHByZWRpY2F0ZSBpcyBpbnZva2VkIHdpdGggdHdvXG4gICAgICogYXJndW1lbnRzOiAodmFsdWUsIGtleSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBwcm9wZXJ0eS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogJzInLCAnYyc6IDMgfTtcbiAgICAgKlxuICAgICAqIF8ub21pdEJ5KG9iamVjdCwgXy5pc051bWJlcik7XG4gICAgICogLy8gPT4geyAnYic6ICcyJyB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gb21pdEJ5KG9iamVjdCwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gcGlja0J5KG9iamVjdCwgbmVnYXRlKGdldEl0ZXJhdGVlKHByZWRpY2F0ZSkpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZiB0aGUgcGlja2VkIGBvYmplY3RgIHByb3BlcnRpZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLihzdHJpbmd8c3RyaW5nW10pfSBbcGF0aHNdIFRoZSBwcm9wZXJ0eSBwYXRocyB0byBwaWNrLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAnMicsICdjJzogMyB9O1xuICAgICAqXG4gICAgICogXy5waWNrKG9iamVjdCwgWydhJywgJ2MnXSk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdjJzogMyB9XG4gICAgICovXG4gICAgdmFyIHBpY2sgPSBmbGF0UmVzdChmdW5jdGlvbihvYmplY3QsIHBhdGhzKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB7fSA6IGJhc2VQaWNrKG9iamVjdCwgcGF0aHMpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2YgdGhlIGBvYmplY3RgIHByb3BlcnRpZXMgYHByZWRpY2F0ZWAgcmV0dXJuc1xuICAgICAqIHRydXRoeSBmb3IuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZCB3aXRoIHR3byBhcmd1bWVudHM6ICh2YWx1ZSwga2V5KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIHByb3BlcnR5LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAnMicsICdjJzogMyB9O1xuICAgICAqXG4gICAgICogXy5waWNrQnkob2JqZWN0LCBfLmlzTnVtYmVyKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2MnOiAzIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwaWNrQnkob2JqZWN0LCBwcmVkaWNhdGUpIHtcbiAgICAgIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgICB9XG4gICAgICB2YXIgcHJvcHMgPSBhcnJheU1hcChnZXRBbGxLZXlzSW4ob2JqZWN0KSwgZnVuY3Rpb24ocHJvcCkge1xuICAgICAgICByZXR1cm4gW3Byb3BdO1xuICAgICAgfSk7XG4gICAgICBwcmVkaWNhdGUgPSBnZXRJdGVyYXRlZShwcmVkaWNhdGUpO1xuICAgICAgcmV0dXJuIGJhc2VQaWNrQnkob2JqZWN0LCBwcm9wcywgZnVuY3Rpb24odmFsdWUsIHBhdGgpIHtcbiAgICAgICAgcmV0dXJuIHByZWRpY2F0ZSh2YWx1ZSwgcGF0aFswXSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmdldGAgZXhjZXB0IHRoYXQgaWYgdGhlIHJlc29sdmVkIHZhbHVlIGlzIGFcbiAgICAgKiBmdW5jdGlvbiBpdCdzIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgaXRzIHBhcmVudCBvYmplY3QgYW5kXG4gICAgICogaXRzIHJlc3VsdCBpcyByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHJlc29sdmUuXG4gICAgICogQHBhcmFtIHsqfSBbZGVmYXVsdFZhbHVlXSBUaGUgdmFsdWUgcmV0dXJuZWQgZm9yIGB1bmRlZmluZWRgIHJlc29sdmVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjMSc6IDMsICdjMic6IF8uY29uc3RhbnQoNCkgfSB9XSB9O1xuICAgICAqXG4gICAgICogXy5yZXN1bHQob2JqZWN0LCAnYVswXS5iLmMxJyk7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy5yZXN1bHQob2JqZWN0LCAnYVswXS5iLmMyJyk7XG4gICAgICogLy8gPT4gNFxuICAgICAqXG4gICAgICogXy5yZXN1bHQob2JqZWN0LCAnYVswXS5iLmMzJywgJ2RlZmF1bHQnKTtcbiAgICAgKiAvLyA9PiAnZGVmYXVsdCdcbiAgICAgKlxuICAgICAqIF8ucmVzdWx0KG9iamVjdCwgJ2FbMF0uYi5jMycsIF8uY29uc3RhbnQoJ2RlZmF1bHQnKSk7XG4gICAgICogLy8gPT4gJ2RlZmF1bHQnXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVzdWx0KG9iamVjdCwgcGF0aCwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICBwYXRoID0gY2FzdFBhdGgocGF0aCwgb2JqZWN0KTtcblxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcGF0aC5sZW5ndGg7XG5cbiAgICAgIC8vIEVuc3VyZSB0aGUgbG9vcCBpcyBlbnRlcmVkIHdoZW4gcGF0aCBpcyBlbXB0eS5cbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIGxlbmd0aCA9IDE7XG4gICAgICAgIG9iamVjdCA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W3RvS2V5KHBhdGhbaW5kZXhdKV07XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaW5kZXggPSBsZW5ndGg7XG4gICAgICAgICAgdmFsdWUgPSBkZWZhdWx0VmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgb2JqZWN0ID0gaXNGdW5jdGlvbih2YWx1ZSkgPyB2YWx1ZS5jYWxsKG9iamVjdCkgOiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgdmFsdWUgYXQgYHBhdGhgIG9mIGBvYmplY3RgLiBJZiBhIHBvcnRpb24gb2YgYHBhdGhgIGRvZXNuJ3QgZXhpc3QsXG4gICAgICogaXQncyBjcmVhdGVkLiBBcnJheXMgYXJlIGNyZWF0ZWQgZm9yIG1pc3NpbmcgaW5kZXggcHJvcGVydGllcyB3aGlsZSBvYmplY3RzXG4gICAgICogYXJlIGNyZWF0ZWQgZm9yIGFsbCBvdGhlciBtaXNzaW5nIHByb3BlcnRpZXMuIFVzZSBgXy5zZXRXaXRoYCB0byBjdXN0b21pemVcbiAgICAgKiBgcGF0aGAgY3JlYXRpb24uXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjcuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogMyB9IH1dIH07XG4gICAgICpcbiAgICAgKiBfLnNldChvYmplY3QsICdhWzBdLmIuYycsIDQpO1xuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdC5hWzBdLmIuYyk7XG4gICAgICogLy8gPT4gNFxuICAgICAqXG4gICAgICogXy5zZXQob2JqZWN0LCBbJ3gnLCAnMCcsICd5JywgJ3onXSwgNSk7XG4gICAgICogY29uc29sZS5sb2cob2JqZWN0LnhbMF0ueS56KTtcbiAgICAgKiAvLyA9PiA1XG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0KG9iamVjdCwgcGF0aCwgdmFsdWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IG9iamVjdCA6IGJhc2VTZXQob2JqZWN0LCBwYXRoLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5zZXRgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCB0byBwcm9kdWNlIHRoZSBvYmplY3RzIG9mIGBwYXRoYC4gIElmIGBjdXN0b21pemVyYCByZXR1cm5zIGB1bmRlZmluZWRgXG4gICAgICogcGF0aCBjcmVhdGlvbiBpcyBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYCBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0aHJlZSBhcmd1bWVudHM6IChuc1ZhbHVlLCBrZXksIG5zT2JqZWN0KS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHNldC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgYXNzaWduZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7fTtcbiAgICAgKlxuICAgICAqIF8uc2V0V2l0aChvYmplY3QsICdbMF1bMV0nLCAnYScsIE9iamVjdCk7XG4gICAgICogLy8gPT4geyAnMCc6IHsgJzEnOiAnYScgfSB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0V2l0aChvYmplY3QsIHBhdGgsIHZhbHVlLCBjdXN0b21pemVyKSB7XG4gICAgICBjdXN0b21pemVyID0gdHlwZW9mIGN1c3RvbWl6ZXIgPT0gJ2Z1bmN0aW9uJyA/IGN1c3RvbWl6ZXIgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBvYmplY3QgOiBiYXNlU2V0KG9iamVjdCwgcGF0aCwgdmFsdWUsIGN1c3RvbWl6ZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2Ygb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkLXZhbHVlIHBhaXJzIGZvciBgb2JqZWN0YFxuICAgICAqIHdoaWNoIGNhbiBiZSBjb25zdW1lZCBieSBgXy5mcm9tUGFpcnNgLiBJZiBgb2JqZWN0YCBpcyBhIG1hcCBvciBzZXQsIGl0c1xuICAgICAqIGVudHJpZXMgYXJlIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGFsaWFzIGVudHJpZXNcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUga2V5LXZhbHVlIHBhaXJzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy50b1BhaXJzKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFtbJ2EnLCAxXSwgWydiJywgMl1dIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICovXG4gICAgdmFyIHRvUGFpcnMgPSBjcmVhdGVUb1BhaXJzKGtleXMpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZyBrZXllZC12YWx1ZSBwYWlyc1xuICAgICAqIGZvciBgb2JqZWN0YCB3aGljaCBjYW4gYmUgY29uc3VtZWQgYnkgYF8uZnJvbVBhaXJzYC4gSWYgYG9iamVjdGAgaXMgYSBtYXBcbiAgICAgKiBvciBzZXQsIGl0cyBlbnRyaWVzIGFyZSByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBhbGlhcyBlbnRyaWVzSW5cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUga2V5LXZhbHVlIHBhaXJzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy50b1BhaXJzSW4obmV3IEZvbyk7XG4gICAgICogLy8gPT4gW1snYScsIDFdLCBbJ2InLCAyXSwgWydjJywgM11dIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICovXG4gICAgdmFyIHRvUGFpcnNJbiA9IGNyZWF0ZVRvUGFpcnMoa2V5c0luKTtcblxuICAgIC8qKlxuICAgICAqIEFuIGFsdGVybmF0aXZlIHRvIGBfLnJlZHVjZWA7IHRoaXMgbWV0aG9kIHRyYW5zZm9ybXMgYG9iamVjdGAgdG8gYSBuZXdcbiAgICAgKiBgYWNjdW11bGF0b3JgIG9iamVjdCB3aGljaCBpcyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgZWFjaCBvZiBpdHMgb3duXG4gICAgICogZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyB0aHJ1IGBpdGVyYXRlZWAsIHdpdGggZWFjaCBpbnZvY2F0aW9uXG4gICAgICogcG90ZW50aWFsbHkgbXV0YXRpbmcgdGhlIGBhY2N1bXVsYXRvcmAgb2JqZWN0LiBJZiBgYWNjdW11bGF0b3JgIGlzIG5vdFxuICAgICAqIHByb3ZpZGVkLCBhIG5ldyBvYmplY3Qgd2l0aCB0aGUgc2FtZSBgW1tQcm90b3R5cGVdXWAgd2lsbCBiZSB1c2VkLiBUaGVcbiAgICAgKiBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggZm91ciBhcmd1bWVudHM6IChhY2N1bXVsYXRvciwgdmFsdWUsIGtleSwgb2JqZWN0KS5cbiAgICAgKiBJdGVyYXRlZSBmdW5jdGlvbnMgbWF5IGV4aXQgaXRlcmF0aW9uIGVhcmx5IGJ5IGV4cGxpY2l0bHkgcmV0dXJuaW5nIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0geyp9IFthY2N1bXVsYXRvcl0gVGhlIGN1c3RvbSBhY2N1bXVsYXRvciB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udHJhbnNmb3JtKFsyLCAzLCA0XSwgZnVuY3Rpb24ocmVzdWx0LCBuKSB7XG4gICAgICogICByZXN1bHQucHVzaChuICo9IG4pO1xuICAgICAqICAgcmV0dXJuIG4gJSAyID09IDA7XG4gICAgICogfSwgW10pO1xuICAgICAqIC8vID0+IFs0LCA5XVxuICAgICAqXG4gICAgICogXy50cmFuc2Zvcm0oeyAnYSc6IDEsICdiJzogMiwgJ2MnOiAxIH0sIGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAqICAgKHJlc3VsdFt2YWx1ZV0gfHwgKHJlc3VsdFt2YWx1ZV0gPSBbXSkpLnB1c2goa2V5KTtcbiAgICAgKiB9LCB7fSk7XG4gICAgICogLy8gPT4geyAnMSc6IFsnYScsICdjJ10sICcyJzogWydiJ10gfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRyYW5zZm9ybShvYmplY3QsIGl0ZXJhdGVlLCBhY2N1bXVsYXRvcikge1xuICAgICAgdmFyIGlzQXJyID0gaXNBcnJheShvYmplY3QpLFxuICAgICAgICAgIGlzQXJyTGlrZSA9IGlzQXJyIHx8IGlzQnVmZmVyKG9iamVjdCkgfHwgaXNUeXBlZEFycmF5KG9iamVjdCk7XG5cbiAgICAgIGl0ZXJhdGVlID0gZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDQpO1xuICAgICAgaWYgKGFjY3VtdWxhdG9yID09IG51bGwpIHtcbiAgICAgICAgdmFyIEN0b3IgPSBvYmplY3QgJiYgb2JqZWN0LmNvbnN0cnVjdG9yO1xuICAgICAgICBpZiAoaXNBcnJMaWtlKSB7XG4gICAgICAgICAgYWNjdW11bGF0b3IgPSBpc0FyciA/IG5ldyBDdG9yIDogW107XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNPYmplY3Qob2JqZWN0KSkge1xuICAgICAgICAgIGFjY3VtdWxhdG9yID0gaXNGdW5jdGlvbihDdG9yKSA/IGJhc2VDcmVhdGUoZ2V0UHJvdG90eXBlKG9iamVjdCkpIDoge307XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgYWNjdW11bGF0b3IgPSB7fTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgKGlzQXJyTGlrZSA/IGFycmF5RWFjaCA6IGJhc2VGb3JPd24pKG9iamVjdCwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhdGVlKGFjY3VtdWxhdG9yLCB2YWx1ZSwgaW5kZXgsIG9iamVjdCk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBwcm9wZXJ0eSBhdCBgcGF0aGAgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byB1bnNldC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHByb3BlcnR5IGlzIGRlbGV0ZWQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MnOiA3IH0gfV0gfTtcbiAgICAgKiBfLnVuc2V0KG9iamVjdCwgJ2FbMF0uYi5jJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2cob2JqZWN0KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogW3sgJ2InOiB7fSB9XSB9O1xuICAgICAqXG4gICAgICogXy51bnNldChvYmplY3QsIFsnYScsICcwJywgJ2InLCAnYyddKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3QpO1xuICAgICAqIC8vID0+IHsgJ2EnOiBbeyAnYic6IHt9IH1dIH07XG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5zZXQob2JqZWN0LCBwYXRoKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB0cnVlIDogYmFzZVVuc2V0KG9iamVjdCwgcGF0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5zZXRgIGV4Y2VwdCB0aGF0IGFjY2VwdHMgYHVwZGF0ZXJgIHRvIHByb2R1Y2UgdGhlXG4gICAgICogdmFsdWUgdG8gc2V0LiBVc2UgYF8udXBkYXRlV2l0aGAgdG8gY3VzdG9taXplIGBwYXRoYCBjcmVhdGlvbi4gVGhlIGB1cGRhdGVyYFxuICAgICAqIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjYuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gdXBkYXRlciBUaGUgZnVuY3Rpb24gdG8gcHJvZHVjZSB0aGUgdXBkYXRlZCB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IDMgfSB9XSB9O1xuICAgICAqXG4gICAgICogXy51cGRhdGUob2JqZWN0LCAnYVswXS5iLmMnLCBmdW5jdGlvbihuKSB7IHJldHVybiBuICogbjsgfSk7XG4gICAgICogY29uc29sZS5sb2cob2JqZWN0LmFbMF0uYi5jKTtcbiAgICAgKiAvLyA9PiA5XG4gICAgICpcbiAgICAgKiBfLnVwZGF0ZShvYmplY3QsICd4WzBdLnkueicsIGZ1bmN0aW9uKG4pIHsgcmV0dXJuIG4gPyBuICsgMSA6IDA7IH0pO1xuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdC54WzBdLnkueik7XG4gICAgICogLy8gPT4gMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVwZGF0ZShvYmplY3QsIHBhdGgsIHVwZGF0ZXIpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IG9iamVjdCA6IGJhc2VVcGRhdGUob2JqZWN0LCBwYXRoLCBjYXN0RnVuY3Rpb24odXBkYXRlcikpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udXBkYXRlYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgdG8gcHJvZHVjZSB0aGUgb2JqZWN0cyBvZiBgcGF0aGAuICBJZiBgY3VzdG9taXplcmAgcmV0dXJucyBgdW5kZWZpbmVkYFxuICAgICAqIHBhdGggY3JlYXRpb24gaXMgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmAgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdGhyZWUgYXJndW1lbnRzOiAobnNWYWx1ZSwga2V5LCBuc09iamVjdCkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjYuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gdXBkYXRlciBUaGUgZnVuY3Rpb24gdG8gcHJvZHVjZSB0aGUgdXBkYXRlZCB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25lZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHt9O1xuICAgICAqXG4gICAgICogXy51cGRhdGVXaXRoKG9iamVjdCwgJ1swXVsxXScsIF8uY29uc3RhbnQoJ2EnKSwgT2JqZWN0KTtcbiAgICAgKiAvLyA9PiB7ICcwJzogeyAnMSc6ICdhJyB9IH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1cGRhdGVXaXRoKG9iamVjdCwgcGF0aCwgdXBkYXRlciwgY3VzdG9taXplcikge1xuICAgICAgY3VzdG9taXplciA9IHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicgPyBjdXN0b21pemVyIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gb2JqZWN0IDogYmFzZVVwZGF0ZShvYmplY3QsIHBhdGgsIGNhc3RGdW5jdGlvbih1cGRhdGVyKSwgY3VzdG9taXplcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnR5IHZhbHVlcyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBOb24tb2JqZWN0IHZhbHVlcyBhcmUgY29lcmNlZCB0byBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8udmFsdWVzKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFsxLCAyXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqXG4gICAgICogXy52YWx1ZXMoJ2hpJyk7XG4gICAgICogLy8gPT4gWydoJywgJ2knXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHZhbHVlcyhvYmplY3QpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IFtdIDogYmFzZVZhbHVlcyhvYmplY3QsIGtleXMob2JqZWN0KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydHlcbiAgICAgKiB2YWx1ZXMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogTm9uLW9iamVjdCB2YWx1ZXMgYXJlIGNvZXJjZWQgdG8gb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLnZhbHVlc0luKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHZhbHVlc0luKG9iamVjdCkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gW10gOiBiYXNlVmFsdWVzKG9iamVjdCwga2V5c0luKG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENsYW1wcyBgbnVtYmVyYCB3aXRoaW4gdGhlIGluY2x1c2l2ZSBgbG93ZXJgIGFuZCBgdXBwZXJgIGJvdW5kcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBOdW1iZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gY2xhbXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsb3dlcl0gVGhlIGxvd2VyIGJvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB1cHBlciBUaGUgdXBwZXIgYm91bmQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY2xhbXBlZCBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY2xhbXAoLTEwLCAtNSwgNSk7XG4gICAgICogLy8gPT4gLTVcbiAgICAgKlxuICAgICAqIF8uY2xhbXAoMTAsIC01LCA1KTtcbiAgICAgKiAvLyA9PiA1XG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xhbXAobnVtYmVyLCBsb3dlciwgdXBwZXIpIHtcbiAgICAgIGlmICh1cHBlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHVwcGVyID0gbG93ZXI7XG4gICAgICAgIGxvd2VyID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgaWYgKHVwcGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdXBwZXIgPSB0b051bWJlcih1cHBlcik7XG4gICAgICAgIHVwcGVyID0gdXBwZXIgPT09IHVwcGVyID8gdXBwZXIgOiAwO1xuICAgICAgfVxuICAgICAgaWYgKGxvd2VyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbG93ZXIgPSB0b051bWJlcihsb3dlcik7XG4gICAgICAgIGxvd2VyID0gbG93ZXIgPT09IGxvd2VyID8gbG93ZXIgOiAwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VDbGFtcCh0b051bWJlcihudW1iZXIpLCBsb3dlciwgdXBwZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgbmAgaXMgYmV0d2VlbiBgc3RhcnRgIGFuZCB1cCB0bywgYnV0IG5vdCBpbmNsdWRpbmcsIGBlbmRgLiBJZlxuICAgICAqIGBlbmRgIGlzIG5vdCBzcGVjaWZpZWQsIGl0J3Mgc2V0IHRvIGBzdGFydGAgd2l0aCBgc3RhcnRgIHRoZW4gc2V0IHRvIGAwYC5cbiAgICAgKiBJZiBgc3RhcnRgIGlzIGdyZWF0ZXIgdGhhbiBgZW5kYCB0aGUgcGFyYW1zIGFyZSBzd2FwcGVkIHRvIHN1cHBvcnRcbiAgICAgKiBuZWdhdGl2ZSByYW5nZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTnVtYmVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIGNoZWNrLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIFRoZSBlbmQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgbnVtYmVyYCBpcyBpbiB0aGUgcmFuZ2UsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAc2VlIF8ucmFuZ2UsIF8ucmFuZ2VSaWdodFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmluUmFuZ2UoMywgMiwgNCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKDQsIDgpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaW5SYW5nZSg0LCAyKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKDIsIDIpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmluUmFuZ2UoMS4yLCAyKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmluUmFuZ2UoNS4yLCA0KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKC0zLCAtMiwgLTYpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpblJhbmdlKG51bWJlciwgc3RhcnQsIGVuZCkge1xuICAgICAgc3RhcnQgPSB0b0Zpbml0ZShzdGFydCk7XG4gICAgICBpZiAoZW5kID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZW5kID0gc3RhcnQ7XG4gICAgICAgIHN0YXJ0ID0gMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVuZCA9IHRvRmluaXRlKGVuZCk7XG4gICAgICB9XG4gICAgICBudW1iZXIgPSB0b051bWJlcihudW1iZXIpO1xuICAgICAgcmV0dXJuIGJhc2VJblJhbmdlKG51bWJlciwgc3RhcnQsIGVuZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJvZHVjZXMgYSByYW5kb20gbnVtYmVyIGJldHdlZW4gdGhlIGluY2x1c2l2ZSBgbG93ZXJgIGFuZCBgdXBwZXJgIGJvdW5kcy5cbiAgICAgKiBJZiBvbmx5IG9uZSBhcmd1bWVudCBpcyBwcm92aWRlZCBhIG51bWJlciBiZXR3ZWVuIGAwYCBhbmQgdGhlIGdpdmVuIG51bWJlclxuICAgICAqIGlzIHJldHVybmVkLiBJZiBgZmxvYXRpbmdgIGlzIGB0cnVlYCwgb3IgZWl0aGVyIGBsb3dlcmAgb3IgYHVwcGVyYCBhcmVcbiAgICAgKiBmbG9hdHMsIGEgZmxvYXRpbmctcG9pbnQgbnVtYmVyIGlzIHJldHVybmVkIGluc3RlYWQgb2YgYW4gaW50ZWdlci5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBKYXZhU2NyaXB0IGZvbGxvd3MgdGhlIElFRUUtNzU0IHN0YW5kYXJkIGZvciByZXNvbHZpbmdcbiAgICAgKiBmbG9hdGluZy1wb2ludCB2YWx1ZXMgd2hpY2ggY2FuIHByb2R1Y2UgdW5leHBlY3RlZCByZXN1bHRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuNy4wXG4gICAgICogQGNhdGVnb3J5IE51bWJlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbG93ZXI9MF0gVGhlIGxvd2VyIGJvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbdXBwZXI9MV0gVGhlIHVwcGVyIGJvdW5kLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zsb2F0aW5nXSBTcGVjaWZ5IHJldHVybmluZyBhIGZsb2F0aW5nLXBvaW50IG51bWJlci5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSByYW5kb20gbnVtYmVyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJhbmRvbSgwLCA1KTtcbiAgICAgKiAvLyA9PiBhbiBpbnRlZ2VyIGJldHdlZW4gMCBhbmQgNVxuICAgICAqXG4gICAgICogXy5yYW5kb20oNSk7XG4gICAgICogLy8gPT4gYWxzbyBhbiBpbnRlZ2VyIGJldHdlZW4gMCBhbmQgNVxuICAgICAqXG4gICAgICogXy5yYW5kb20oNSwgdHJ1ZSk7XG4gICAgICogLy8gPT4gYSBmbG9hdGluZy1wb2ludCBudW1iZXIgYmV0d2VlbiAwIGFuZCA1XG4gICAgICpcbiAgICAgKiBfLnJhbmRvbSgxLjIsIDUuMik7XG4gICAgICogLy8gPT4gYSBmbG9hdGluZy1wb2ludCBudW1iZXIgYmV0d2VlbiAxLjIgYW5kIDUuMlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJhbmRvbShsb3dlciwgdXBwZXIsIGZsb2F0aW5nKSB7XG4gICAgICBpZiAoZmxvYXRpbmcgJiYgdHlwZW9mIGZsb2F0aW5nICE9ICdib29sZWFuJyAmJiBpc0l0ZXJhdGVlQ2FsbChsb3dlciwgdXBwZXIsIGZsb2F0aW5nKSkge1xuICAgICAgICB1cHBlciA9IGZsb2F0aW5nID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgaWYgKGZsb2F0aW5nID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB1cHBlciA9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICBmbG9hdGluZyA9IHVwcGVyO1xuICAgICAgICAgIHVwcGVyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBsb3dlciA9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICBmbG9hdGluZyA9IGxvd2VyO1xuICAgICAgICAgIGxvd2VyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobG93ZXIgPT09IHVuZGVmaW5lZCAmJiB1cHBlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGxvd2VyID0gMDtcbiAgICAgICAgdXBwZXIgPSAxO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGxvd2VyID0gdG9GaW5pdGUobG93ZXIpO1xuICAgICAgICBpZiAodXBwZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHVwcGVyID0gbG93ZXI7XG4gICAgICAgICAgbG93ZXIgPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHVwcGVyID0gdG9GaW5pdGUodXBwZXIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobG93ZXIgPiB1cHBlcikge1xuICAgICAgICB2YXIgdGVtcCA9IGxvd2VyO1xuICAgICAgICBsb3dlciA9IHVwcGVyO1xuICAgICAgICB1cHBlciA9IHRlbXA7XG4gICAgICB9XG4gICAgICBpZiAoZmxvYXRpbmcgfHwgbG93ZXIgJSAxIHx8IHVwcGVyICUgMSkge1xuICAgICAgICB2YXIgcmFuZCA9IG5hdGl2ZVJhbmRvbSgpO1xuICAgICAgICByZXR1cm4gbmF0aXZlTWluKGxvd2VyICsgKHJhbmQgKiAodXBwZXIgLSBsb3dlciArIGZyZWVQYXJzZUZsb2F0KCcxZS0nICsgKChyYW5kICsgJycpLmxlbmd0aCAtIDEpKSkpLCB1cHBlcik7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZVJhbmRvbShsb3dlciwgdXBwZXIpO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgIHRvIFtjYW1lbCBjYXNlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9DYW1lbENhc2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY2FtZWwgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNhbWVsQ2FzZSgnRm9vIEJhcicpO1xuICAgICAqIC8vID0+ICdmb29CYXInXG4gICAgICpcbiAgICAgKiBfLmNhbWVsQ2FzZSgnLS1mb28tYmFyLS0nKTtcbiAgICAgKiAvLyA9PiAnZm9vQmFyJ1xuICAgICAqXG4gICAgICogXy5jYW1lbENhc2UoJ19fRk9PX0JBUl9fJyk7XG4gICAgICogLy8gPT4gJ2Zvb0JhcidcbiAgICAgKi9cbiAgICB2YXIgY2FtZWxDYXNlID0gY3JlYXRlQ29tcG91bmRlcihmdW5jdGlvbihyZXN1bHQsIHdvcmQsIGluZGV4KSB7XG4gICAgICB3b3JkID0gd29yZC50b0xvd2VyQ2FzZSgpO1xuICAgICAgcmV0dXJuIHJlc3VsdCArIChpbmRleCA/IGNhcGl0YWxpemUod29yZCkgOiB3b3JkKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIHRoZSBmaXJzdCBjaGFyYWN0ZXIgb2YgYHN0cmluZ2AgdG8gdXBwZXIgY2FzZSBhbmQgdGhlIHJlbWFpbmluZ1xuICAgICAqIHRvIGxvd2VyIGNhc2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY2FwaXRhbGl6ZS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjYXBpdGFsaXplZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY2FwaXRhbGl6ZSgnRlJFRCcpO1xuICAgICAqIC8vID0+ICdGcmVkJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNhcGl0YWxpemUoc3RyaW5nKSB7XG4gICAgICByZXR1cm4gdXBwZXJGaXJzdCh0b1N0cmluZyhzdHJpbmcpLnRvTG93ZXJDYXNlKCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlYnVycnMgYHN0cmluZ2AgYnkgY29udmVydGluZ1xuICAgICAqIFtMYXRpbi0xIFN1cHBsZW1lbnRdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xhdGluLTFfU3VwcGxlbWVudF8oVW5pY29kZV9ibG9jaykjQ2hhcmFjdGVyX3RhYmxlKVxuICAgICAqIGFuZCBbTGF0aW4gRXh0ZW5kZWQtQV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGF0aW5fRXh0ZW5kZWQtQSlcbiAgICAgKiBsZXR0ZXJzIHRvIGJhc2ljIExhdGluIGxldHRlcnMgYW5kIHJlbW92aW5nXG4gICAgICogW2NvbWJpbmluZyBkaWFjcml0aWNhbCBtYXJrc10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29tYmluaW5nX0RpYWNyaXRpY2FsX01hcmtzKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBkZWJ1cnIuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZGVidXJyZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlYnVycignZMOpasOgIHZ1Jyk7XG4gICAgICogLy8gPT4gJ2RlamEgdnUnXG4gICAgICovXG4gICAgZnVuY3Rpb24gZGVidXJyKHN0cmluZykge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHJldHVybiBzdHJpbmcgJiYgc3RyaW5nLnJlcGxhY2UocmVMYXRpbiwgZGVidXJyTGV0dGVyKS5yZXBsYWNlKHJlQ29tYm9NYXJrLCAnJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBzdHJpbmdgIGVuZHMgd2l0aCB0aGUgZ2l2ZW4gdGFyZ2V0IHN0cmluZy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdGFyZ2V0XSBUaGUgc3RyaW5nIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwb3NpdGlvbj1zdHJpbmcubGVuZ3RoXSBUaGUgcG9zaXRpb24gdG8gc2VhcmNoIHVwIHRvLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgc3RyaW5nYCBlbmRzIHdpdGggYHRhcmdldGAsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5lbmRzV2l0aCgnYWJjJywgJ2MnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmVuZHNXaXRoKCdhYmMnLCAnYicpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmVuZHNXaXRoKCdhYmMnLCAnYicsIDIpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlbmRzV2l0aChzdHJpbmcsIHRhcmdldCwgcG9zaXRpb24pIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICB0YXJnZXQgPSBiYXNlVG9TdHJpbmcodGFyZ2V0KTtcblxuICAgICAgdmFyIGxlbmd0aCA9IHN0cmluZy5sZW5ndGg7XG4gICAgICBwb3NpdGlvbiA9IHBvc2l0aW9uID09PSB1bmRlZmluZWRcbiAgICAgICAgPyBsZW5ndGhcbiAgICAgICAgOiBiYXNlQ2xhbXAodG9JbnRlZ2VyKHBvc2l0aW9uKSwgMCwgbGVuZ3RoKTtcblxuICAgICAgdmFyIGVuZCA9IHBvc2l0aW9uO1xuICAgICAgcG9zaXRpb24gLT0gdGFyZ2V0Lmxlbmd0aDtcbiAgICAgIHJldHVybiBwb3NpdGlvbiA+PSAwICYmIHN0cmluZy5zbGljZShwb3NpdGlvbiwgZW5kKSA9PSB0YXJnZXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgdGhlIGNoYXJhY3RlcnMgXCImXCIsIFwiPFwiLCBcIj5cIiwgJ1wiJywgYW5kIFwiJ1wiIGluIGBzdHJpbmdgIHRvIHRoZWlyXG4gICAgICogY29ycmVzcG9uZGluZyBIVE1MIGVudGl0aWVzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE5vIG90aGVyIGNoYXJhY3RlcnMgYXJlIGVzY2FwZWQuIFRvIGVzY2FwZSBhZGRpdGlvbmFsXG4gICAgICogY2hhcmFjdGVycyB1c2UgYSB0aGlyZC1wYXJ0eSBsaWJyYXJ5IGxpa2UgW19oZV9dKGh0dHBzOi8vbXRocy5iZS9oZSkuXG4gICAgICpcbiAgICAgKiBUaG91Z2ggdGhlIFwiPlwiIGNoYXJhY3RlciBpcyBlc2NhcGVkIGZvciBzeW1tZXRyeSwgY2hhcmFjdGVycyBsaWtlXG4gICAgICogXCI+XCIgYW5kIFwiL1wiIGRvbid0IG5lZWQgZXNjYXBpbmcgaW4gSFRNTCBhbmQgaGF2ZSBubyBzcGVjaWFsIG1lYW5pbmdcbiAgICAgKiB1bmxlc3MgdGhleSdyZSBwYXJ0IG9mIGEgdGFnIG9yIHVucXVvdGVkIGF0dHJpYnV0ZSB2YWx1ZS4gU2VlXG4gICAgICogW01hdGhpYXMgQnluZW5zJ3MgYXJ0aWNsZV0oaHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2FtYmlndW91cy1hbXBlcnNhbmRzKVxuICAgICAqICh1bmRlciBcInNlbWktcmVsYXRlZCBmdW4gZmFjdFwiKSBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqXG4gICAgICogV2hlbiB3b3JraW5nIHdpdGggSFRNTCB5b3Ugc2hvdWxkIGFsd2F5c1xuICAgICAqIFtxdW90ZSBhdHRyaWJ1dGUgdmFsdWVzXShodHRwOi8vd29ua28uY29tL3Bvc3QvaHRtbC1lc2NhcGluZykgdG8gcmVkdWNlXG4gICAgICogWFNTIHZlY3RvcnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gZXNjYXBlLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGVzY2FwZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmVzY2FwZSgnZnJlZCwgYmFybmV5LCAmIHBlYmJsZXMnKTtcbiAgICAgKiAvLyA9PiAnZnJlZCwgYmFybmV5LCAmYW1wOyBwZWJibGVzJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVzY2FwZShzdHJpbmcpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICByZXR1cm4gKHN0cmluZyAmJiByZUhhc1VuZXNjYXBlZEh0bWwudGVzdChzdHJpbmcpKVxuICAgICAgICA/IHN0cmluZy5yZXBsYWNlKHJlVW5lc2NhcGVkSHRtbCwgZXNjYXBlSHRtbENoYXIpXG4gICAgICAgIDogc3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVzY2FwZXMgdGhlIGBSZWdFeHBgIHNwZWNpYWwgY2hhcmFjdGVycyBcIl5cIiwgXCIkXCIsIFwiXFxcIiwgXCIuXCIsIFwiKlwiLCBcIitcIixcbiAgICAgKiBcIj9cIiwgXCIoXCIsIFwiKVwiLCBcIltcIiwgXCJdXCIsIFwie1wiLCBcIn1cIiwgYW5kIFwifFwiIGluIGBzdHJpbmdgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGVzY2FwZS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlc2NhcGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5lc2NhcGVSZWdFeHAoJ1tsb2Rhc2hdKGh0dHBzOi8vbG9kYXNoLmNvbS8pJyk7XG4gICAgICogLy8gPT4gJ1xcW2xvZGFzaFxcXVxcKGh0dHBzOi8vbG9kYXNoXFwuY29tL1xcKSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlc2NhcGVSZWdFeHAoc3RyaW5nKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgcmV0dXJuIChzdHJpbmcgJiYgcmVIYXNSZWdFeHBDaGFyLnRlc3Qoc3RyaW5nKSlcbiAgICAgICAgPyBzdHJpbmcucmVwbGFjZShyZVJlZ0V4cENoYXIsICdcXFxcJCYnKVxuICAgICAgICA6IHN0cmluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0b1xuICAgICAqIFtrZWJhYiBjYXNlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MZXR0ZXJfY2FzZSNTcGVjaWFsX2Nhc2Vfc3R5bGVzKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGtlYmFiIGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5rZWJhYkNhc2UoJ0ZvbyBCYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vLWJhcidcbiAgICAgKlxuICAgICAqIF8ua2ViYWJDYXNlKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vLWJhcidcbiAgICAgKlxuICAgICAqIF8ua2ViYWJDYXNlKCdfX0ZPT19CQVJfXycpO1xuICAgICAqIC8vID0+ICdmb28tYmFyJ1xuICAgICAqL1xuICAgIHZhciBrZWJhYkNhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyAnLScgOiAnJykgKyB3b3JkLnRvTG93ZXJDYXNlKCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCwgYXMgc3BhY2Ugc2VwYXJhdGVkIHdvcmRzLCB0byBsb3dlciBjYXNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgbG93ZXIgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmxvd2VyQ2FzZSgnLS1Gb28tQmFyLS0nKTtcbiAgICAgKiAvLyA9PiAnZm9vIGJhcidcbiAgICAgKlxuICAgICAqIF8ubG93ZXJDYXNlKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vIGJhcidcbiAgICAgKlxuICAgICAqIF8ubG93ZXJDYXNlKCdfX0ZPT19CQVJfXycpO1xuICAgICAqIC8vID0+ICdmb28gYmFyJ1xuICAgICAqL1xuICAgIHZhciBsb3dlckNhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyAnICcgOiAnJykgKyB3b3JkLnRvTG93ZXJDYXNlKCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgZmlyc3QgY2hhcmFjdGVyIG9mIGBzdHJpbmdgIHRvIGxvd2VyIGNhc2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmxvd2VyRmlyc3QoJ0ZyZWQnKTtcbiAgICAgKiAvLyA9PiAnZnJlZCdcbiAgICAgKlxuICAgICAqIF8ubG93ZXJGaXJzdCgnRlJFRCcpO1xuICAgICAqIC8vID0+ICdmUkVEJ1xuICAgICAqL1xuICAgIHZhciBsb3dlckZpcnN0ID0gY3JlYXRlQ2FzZUZpcnN0KCd0b0xvd2VyQ2FzZScpO1xuXG4gICAgLyoqXG4gICAgICogUGFkcyBgc3RyaW5nYCBvbiB0aGUgbGVmdCBhbmQgcmlnaHQgc2lkZXMgaWYgaXQncyBzaG9ydGVyIHRoYW4gYGxlbmd0aGAuXG4gICAgICogUGFkZGluZyBjaGFyYWN0ZXJzIGFyZSB0cnVuY2F0ZWQgaWYgdGhleSBjYW4ndCBiZSBldmVubHkgZGl2aWRlZCBieSBgbGVuZ3RoYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBwYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9MF0gVGhlIHBhZGRpbmcgbGVuZ3RoLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9JyAnXSBUaGUgc3RyaW5nIHVzZWQgYXMgcGFkZGluZy5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBwYWRkZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnBhZCgnYWJjJywgOCk7XG4gICAgICogLy8gPT4gJyAgYWJjICAgJ1xuICAgICAqXG4gICAgICogXy5wYWQoJ2FiYycsIDgsICdfLScpO1xuICAgICAqIC8vID0+ICdfLWFiY18tXydcbiAgICAgKlxuICAgICAqIF8ucGFkKCdhYmMnLCAzKTtcbiAgICAgKiAvLyA9PiAnYWJjJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBhZChzdHJpbmcsIGxlbmd0aCwgY2hhcnMpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBsZW5ndGggPSB0b0ludGVnZXIobGVuZ3RoKTtcblxuICAgICAgdmFyIHN0ckxlbmd0aCA9IGxlbmd0aCA/IHN0cmluZ1NpemUoc3RyaW5nKSA6IDA7XG4gICAgICBpZiAoIWxlbmd0aCB8fCBzdHJMZW5ndGggPj0gbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmc7XG4gICAgICB9XG4gICAgICB2YXIgbWlkID0gKGxlbmd0aCAtIHN0ckxlbmd0aCkgLyAyO1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgY3JlYXRlUGFkZGluZyhuYXRpdmVGbG9vcihtaWQpLCBjaGFycykgK1xuICAgICAgICBzdHJpbmcgK1xuICAgICAgICBjcmVhdGVQYWRkaW5nKG5hdGl2ZUNlaWwobWlkKSwgY2hhcnMpXG4gICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBhZHMgYHN0cmluZ2Agb24gdGhlIHJpZ2h0IHNpZGUgaWYgaXQncyBzaG9ydGVyIHRoYW4gYGxlbmd0aGAuIFBhZGRpbmdcbiAgICAgKiBjaGFyYWN0ZXJzIGFyZSB0cnVuY2F0ZWQgaWYgdGhleSBleGNlZWQgYGxlbmd0aGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gcGFkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPTBdIFRoZSBwYWRkaW5nIGxlbmd0aC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPScgJ10gVGhlIHN0cmluZyB1c2VkIGFzIHBhZGRpbmcuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcGFkZGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5wYWRFbmQoJ2FiYycsIDYpO1xuICAgICAqIC8vID0+ICdhYmMgICAnXG4gICAgICpcbiAgICAgKiBfLnBhZEVuZCgnYWJjJywgNiwgJ18tJyk7XG4gICAgICogLy8gPT4gJ2FiY18tXydcbiAgICAgKlxuICAgICAqIF8ucGFkRW5kKCdhYmMnLCAzKTtcbiAgICAgKiAvLyA9PiAnYWJjJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBhZEVuZChzdHJpbmcsIGxlbmd0aCwgY2hhcnMpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBsZW5ndGggPSB0b0ludGVnZXIobGVuZ3RoKTtcblxuICAgICAgdmFyIHN0ckxlbmd0aCA9IGxlbmd0aCA/IHN0cmluZ1NpemUoc3RyaW5nKSA6IDA7XG4gICAgICByZXR1cm4gKGxlbmd0aCAmJiBzdHJMZW5ndGggPCBsZW5ndGgpXG4gICAgICAgID8gKHN0cmluZyArIGNyZWF0ZVBhZGRpbmcobGVuZ3RoIC0gc3RyTGVuZ3RoLCBjaGFycykpXG4gICAgICAgIDogc3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBhZHMgYHN0cmluZ2Agb24gdGhlIGxlZnQgc2lkZSBpZiBpdCdzIHNob3J0ZXIgdGhhbiBgbGVuZ3RoYC4gUGFkZGluZ1xuICAgICAqIGNoYXJhY3RlcnMgYXJlIHRydW5jYXRlZCBpZiB0aGV5IGV4Y2VlZCBgbGVuZ3RoYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBwYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9MF0gVGhlIHBhZGRpbmcgbGVuZ3RoLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9JyAnXSBUaGUgc3RyaW5nIHVzZWQgYXMgcGFkZGluZy5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBwYWRkZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnBhZFN0YXJ0KCdhYmMnLCA2KTtcbiAgICAgKiAvLyA9PiAnICAgYWJjJ1xuICAgICAqXG4gICAgICogXy5wYWRTdGFydCgnYWJjJywgNiwgJ18tJyk7XG4gICAgICogLy8gPT4gJ18tX2FiYydcbiAgICAgKlxuICAgICAqIF8ucGFkU3RhcnQoJ2FiYycsIDMpO1xuICAgICAqIC8vID0+ICdhYmMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gcGFkU3RhcnQoc3RyaW5nLCBsZW5ndGgsIGNoYXJzKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgbGVuZ3RoID0gdG9JbnRlZ2VyKGxlbmd0aCk7XG5cbiAgICAgIHZhciBzdHJMZW5ndGggPSBsZW5ndGggPyBzdHJpbmdTaXplKHN0cmluZykgOiAwO1xuICAgICAgcmV0dXJuIChsZW5ndGggJiYgc3RyTGVuZ3RoIDwgbGVuZ3RoKVxuICAgICAgICA/IChjcmVhdGVQYWRkaW5nKGxlbmd0aCAtIHN0ckxlbmd0aCwgY2hhcnMpICsgc3RyaW5nKVxuICAgICAgICA6IHN0cmluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0byBhbiBpbnRlZ2VyIG9mIHRoZSBzcGVjaWZpZWQgcmFkaXguIElmIGByYWRpeGAgaXNcbiAgICAgKiBgdW5kZWZpbmVkYCBvciBgMGAsIGEgYHJhZGl4YCBvZiBgMTBgIGlzIHVzZWQgdW5sZXNzIGB2YWx1ZWAgaXMgYVxuICAgICAqIGhleGFkZWNpbWFsLCBpbiB3aGljaCBjYXNlIGEgYHJhZGl4YCBvZiBgMTZgIGlzIHVzZWQuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgYWxpZ25zIHdpdGggdGhlXG4gICAgICogW0VTNSBpbXBsZW1lbnRhdGlvbl0oaHR0cHM6Ly9lczUuZ2l0aHViLmlvLyN4MTUuMS4yLjIpIG9mIGBwYXJzZUludGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyYWRpeD0xMF0gVGhlIHJhZGl4IHRvIGludGVycHJldCBgdmFsdWVgIGJ5LlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29udmVydGVkIGludGVnZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucGFyc2VJbnQoJzA4Jyk7XG4gICAgICogLy8gPT4gOFxuICAgICAqXG4gICAgICogXy5tYXAoWyc2JywgJzA4JywgJzEwJ10sIF8ucGFyc2VJbnQpO1xuICAgICAqIC8vID0+IFs2LCA4LCAxMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwYXJzZUludChzdHJpbmcsIHJhZGl4LCBndWFyZCkge1xuICAgICAgaWYgKGd1YXJkIHx8IHJhZGl4ID09IG51bGwpIHtcbiAgICAgICAgcmFkaXggPSAwO1xuICAgICAgfSBlbHNlIGlmIChyYWRpeCkge1xuICAgICAgICByYWRpeCA9ICtyYWRpeDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuYXRpdmVQYXJzZUludCh0b1N0cmluZyhzdHJpbmcpLnJlcGxhY2UocmVUcmltU3RhcnQsICcnKSwgcmFkaXggfHwgMCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVwZWF0cyB0aGUgZ2l2ZW4gc3RyaW5nIGBuYCB0aW1lcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byByZXBlYXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTFdIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gcmVwZWF0IHRoZSBzdHJpbmcuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSByZXBlYXRlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucmVwZWF0KCcqJywgMyk7XG4gICAgICogLy8gPT4gJyoqKidcbiAgICAgKlxuICAgICAqIF8ucmVwZWF0KCdhYmMnLCAyKTtcbiAgICAgKiAvLyA9PiAnYWJjYWJjJ1xuICAgICAqXG4gICAgICogXy5yZXBlYXQoJ2FiYycsIDApO1xuICAgICAqIC8vID0+ICcnXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVwZWF0KHN0cmluZywgbiwgZ3VhcmQpIHtcbiAgICAgIGlmICgoZ3VhcmQgPyBpc0l0ZXJhdGVlQ2FsbChzdHJpbmcsIG4sIGd1YXJkKSA6IG4gPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgbiA9IDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuID0gdG9JbnRlZ2VyKG4pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VSZXBlYXQodG9TdHJpbmcoc3RyaW5nKSwgbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVwbGFjZXMgbWF0Y2hlcyBmb3IgYHBhdHRlcm5gIGluIGBzdHJpbmdgIHdpdGggYHJlcGxhY2VtZW50YC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgU3RyaW5nI3JlcGxhY2VgXShodHRwczovL21kbi5pby9TdHJpbmcvcmVwbGFjZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfHN0cmluZ30gcGF0dGVybiBUaGUgcGF0dGVybiB0byByZXBsYWNlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258c3RyaW5nfSByZXBsYWNlbWVudCBUaGUgbWF0Y2ggcmVwbGFjZW1lbnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgbW9kaWZpZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJlcGxhY2UoJ0hpIEZyZWQnLCAnRnJlZCcsICdCYXJuZXknKTtcbiAgICAgKiAvLyA9PiAnSGkgQmFybmV5J1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlcGxhY2UoKSB7XG4gICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgICBzdHJpbmcgPSB0b1N0cmluZyhhcmdzWzBdKTtcblxuICAgICAgcmV0dXJuIGFyZ3MubGVuZ3RoIDwgMyA/IHN0cmluZyA6IHN0cmluZy5yZXBsYWNlKGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgIHRvXG4gICAgICogW3NuYWtlIGNhc2VdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1NuYWtlX2Nhc2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc25ha2UgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNuYWtlQ2FzZSgnRm9vIEJhcicpO1xuICAgICAqIC8vID0+ICdmb29fYmFyJ1xuICAgICAqXG4gICAgICogXy5zbmFrZUNhc2UoJ2Zvb0JhcicpO1xuICAgICAqIC8vID0+ICdmb29fYmFyJ1xuICAgICAqXG4gICAgICogXy5zbmFrZUNhc2UoJy0tRk9PLUJBUi0tJyk7XG4gICAgICogLy8gPT4gJ2Zvb19iYXInXG4gICAgICovXG4gICAgdmFyIHNuYWtlQ2FzZSA9IGNyZWF0ZUNvbXBvdW5kZXIoZnVuY3Rpb24ocmVzdWx0LCB3b3JkLCBpbmRleCkge1xuICAgICAgcmV0dXJuIHJlc3VsdCArIChpbmRleCA/ICdfJyA6ICcnKSArIHdvcmQudG9Mb3dlckNhc2UoKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFNwbGl0cyBgc3RyaW5nYCBieSBgc2VwYXJhdG9yYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgU3RyaW5nI3NwbGl0YF0oaHR0cHM6Ly9tZG4uaW8vU3RyaW5nL3NwbGl0KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBzcGxpdC5cbiAgICAgKiBAcGFyYW0ge1JlZ0V4cHxzdHJpbmd9IHNlcGFyYXRvciBUaGUgc2VwYXJhdG9yIHBhdHRlcm4gdG8gc3BsaXQgYnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsaW1pdF0gVGhlIGxlbmd0aCB0byB0cnVuY2F0ZSByZXN1bHRzIHRvLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc3RyaW5nIHNlZ21lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNwbGl0KCdhLWItYycsICctJywgMik7XG4gICAgICogLy8gPT4gWydhJywgJ2InXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNwbGl0KHN0cmluZywgc2VwYXJhdG9yLCBsaW1pdCkge1xuICAgICAgaWYgKGxpbWl0ICYmIHR5cGVvZiBsaW1pdCAhPSAnbnVtYmVyJyAmJiBpc0l0ZXJhdGVlQ2FsbChzdHJpbmcsIHNlcGFyYXRvciwgbGltaXQpKSB7XG4gICAgICAgIHNlcGFyYXRvciA9IGxpbWl0ID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgbGltaXQgPSBsaW1pdCA9PT0gdW5kZWZpbmVkID8gTUFYX0FSUkFZX0xFTkdUSCA6IGxpbWl0ID4+PiAwO1xuICAgICAgaWYgKCFsaW1pdCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgaWYgKHN0cmluZyAmJiAoXG4gICAgICAgICAgICB0eXBlb2Ygc2VwYXJhdG9yID09ICdzdHJpbmcnIHx8XG4gICAgICAgICAgICAoc2VwYXJhdG9yICE9IG51bGwgJiYgIWlzUmVnRXhwKHNlcGFyYXRvcikpXG4gICAgICAgICAgKSkge1xuICAgICAgICBzZXBhcmF0b3IgPSBiYXNlVG9TdHJpbmcoc2VwYXJhdG9yKTtcbiAgICAgICAgaWYgKCFzZXBhcmF0b3IgJiYgaGFzVW5pY29kZShzdHJpbmcpKSB7XG4gICAgICAgICAgcmV0dXJuIGNhc3RTbGljZShzdHJpbmdUb0FycmF5KHN0cmluZyksIDAsIGxpbWl0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHN0cmluZy5zcGxpdChzZXBhcmF0b3IsIGxpbWl0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0b1xuICAgICAqIFtzdGFydCBjYXNlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MZXR0ZXJfY2FzZSNTdHlsaXN0aWNfb3Jfc3BlY2lhbGlzZWRfdXNhZ2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMS4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc3RhcnQgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnN0YXJ0Q2FzZSgnLS1mb28tYmFyLS0nKTtcbiAgICAgKiAvLyA9PiAnRm9vIEJhcidcbiAgICAgKlxuICAgICAqIF8uc3RhcnRDYXNlKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnRm9vIEJhcidcbiAgICAgKlxuICAgICAqIF8uc3RhcnRDYXNlKCdfX0ZPT19CQVJfXycpO1xuICAgICAqIC8vID0+ICdGT08gQkFSJ1xuICAgICAqL1xuICAgIHZhciBzdGFydENhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyAnICcgOiAnJykgKyB1cHBlckZpcnN0KHdvcmQpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBzdHJpbmdgIHN0YXJ0cyB3aXRoIHRoZSBnaXZlbiB0YXJnZXQgc3RyaW5nLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFt0YXJnZXRdIFRoZSBzdHJpbmcgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Bvc2l0aW9uPTBdIFRoZSBwb3NpdGlvbiB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHN0cmluZ2Agc3RhcnRzIHdpdGggYHRhcmdldGAsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zdGFydHNXaXRoKCdhYmMnLCAnYScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uc3RhcnRzV2l0aCgnYWJjJywgJ2InKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5zdGFydHNXaXRoKCdhYmMnLCAnYicsIDEpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdGFydHNXaXRoKHN0cmluZywgdGFyZ2V0LCBwb3NpdGlvbikge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHBvc2l0aW9uID0gcG9zaXRpb24gPT0gbnVsbFxuICAgICAgICA/IDBcbiAgICAgICAgOiBiYXNlQ2xhbXAodG9JbnRlZ2VyKHBvc2l0aW9uKSwgMCwgc3RyaW5nLmxlbmd0aCk7XG5cbiAgICAgIHRhcmdldCA9IGJhc2VUb1N0cmluZyh0YXJnZXQpO1xuICAgICAgcmV0dXJuIHN0cmluZy5zbGljZShwb3NpdGlvbiwgcG9zaXRpb24gKyB0YXJnZXQubGVuZ3RoKSA9PSB0YXJnZXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNvbXBpbGVkIHRlbXBsYXRlIGZ1bmN0aW9uIHRoYXQgY2FuIGludGVycG9sYXRlIGRhdGEgcHJvcGVydGllc1xuICAgICAqIGluIFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXJzLCBIVE1MLWVzY2FwZSBpbnRlcnBvbGF0ZWQgZGF0YSBwcm9wZXJ0aWVzIGluXG4gICAgICogXCJlc2NhcGVcIiBkZWxpbWl0ZXJzLCBhbmQgZXhlY3V0ZSBKYXZhU2NyaXB0IGluIFwiZXZhbHVhdGVcIiBkZWxpbWl0ZXJzLiBEYXRhXG4gICAgICogcHJvcGVydGllcyBtYXkgYmUgYWNjZXNzZWQgYXMgZnJlZSB2YXJpYWJsZXMgaW4gdGhlIHRlbXBsYXRlLiBJZiBhIHNldHRpbmdcbiAgICAgKiBvYmplY3QgaXMgZ2l2ZW4sIGl0IHRha2VzIHByZWNlZGVuY2Ugb3ZlciBgXy50ZW1wbGF0ZVNldHRpbmdzYCB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogSW4gdGhlIGRldmVsb3BtZW50IGJ1aWxkIGBfLnRlbXBsYXRlYCB1dGlsaXplc1xuICAgICAqIFtzb3VyY2VVUkxzXShodHRwOi8vd3d3Lmh0bWw1cm9ja3MuY29tL2VuL3R1dG9yaWFscy9kZXZlbG9wZXJ0b29scy9zb3VyY2VtYXBzLyN0b2Mtc291cmNldXJsKVxuICAgICAqIGZvciBlYXNpZXIgZGVidWdnaW5nLlxuICAgICAqXG4gICAgICogRm9yIG1vcmUgaW5mb3JtYXRpb24gb24gcHJlY29tcGlsaW5nIHRlbXBsYXRlcyBzZWVcbiAgICAgKiBbbG9kYXNoJ3MgY3VzdG9tIGJ1aWxkcyBkb2N1bWVudGF0aW9uXShodHRwczovL2xvZGFzaC5jb20vY3VzdG9tLWJ1aWxkcykuXG4gICAgICpcbiAgICAgKiBGb3IgbW9yZSBpbmZvcm1hdGlvbiBvbiBDaHJvbWUgZXh0ZW5zaW9uIHNhbmRib3hlcyBzZWVcbiAgICAgKiBbQ2hyb21lJ3MgZXh0ZW5zaW9ucyBkb2N1bWVudGF0aW9uXShodHRwczovL2RldmVsb3Blci5jaHJvbWUuY29tL2V4dGVuc2lvbnMvc2FuZGJveGluZ0V2YWwpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgdGVtcGxhdGUgc3RyaW5nLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfSBbb3B0aW9ucy5lc2NhcGU9Xy50ZW1wbGF0ZVNldHRpbmdzLmVzY2FwZV1cbiAgICAgKiAgVGhlIEhUTUwgXCJlc2NhcGVcIiBkZWxpbWl0ZXIuXG4gICAgICogQHBhcmFtIHtSZWdFeHB9IFtvcHRpb25zLmV2YWx1YXRlPV8udGVtcGxhdGVTZXR0aW5ncy5ldmFsdWF0ZV1cbiAgICAgKiAgVGhlIFwiZXZhbHVhdGVcIiBkZWxpbWl0ZXIuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLmltcG9ydHM9Xy50ZW1wbGF0ZVNldHRpbmdzLmltcG9ydHNdXG4gICAgICogIEFuIG9iamVjdCB0byBpbXBvcnQgaW50byB0aGUgdGVtcGxhdGUgYXMgZnJlZSB2YXJpYWJsZXMuXG4gICAgICogQHBhcmFtIHtSZWdFeHB9IFtvcHRpb25zLmludGVycG9sYXRlPV8udGVtcGxhdGVTZXR0aW5ncy5pbnRlcnBvbGF0ZV1cbiAgICAgKiAgVGhlIFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXIuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnNvdXJjZVVSTD0nbG9kYXNoLnRlbXBsYXRlU291cmNlc1tuXSddXG4gICAgICogIFRoZSBzb3VyY2VVUkwgb2YgdGhlIGNvbXBpbGVkIHRlbXBsYXRlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy52YXJpYWJsZT0nb2JqJ11cbiAgICAgKiAgVGhlIGRhdGEgb2JqZWN0IHZhcmlhYmxlIG5hbWUuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIGNvbXBpbGVkIHRlbXBsYXRlIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXIgdG8gY3JlYXRlIGEgY29tcGlsZWQgdGVtcGxhdGUuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnaGVsbG8gPCU9IHVzZXIgJT4hJyk7XG4gICAgICogY29tcGlsZWQoeyAndXNlcic6ICdmcmVkJyB9KTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gZnJlZCEnXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIEhUTUwgXCJlc2NhcGVcIiBkZWxpbWl0ZXIgdG8gZXNjYXBlIGRhdGEgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJzxiPjwlLSB2YWx1ZSAlPjwvYj4nKTtcbiAgICAgKiBjb21waWxlZCh7ICd2YWx1ZSc6ICc8c2NyaXB0PicgfSk7XG4gICAgICogLy8gPT4gJzxiPiZsdDtzY3JpcHQmZ3Q7PC9iPidcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgXCJldmFsdWF0ZVwiIGRlbGltaXRlciB0byBleGVjdXRlIEphdmFTY3JpcHQgYW5kIGdlbmVyYXRlIEhUTUwuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnPCUgXy5mb3JFYWNoKHVzZXJzLCBmdW5jdGlvbih1c2VyKSB7ICU+PGxpPjwlLSB1c2VyICU+PC9saT48JSB9KTsgJT4nKTtcbiAgICAgKiBjb21waWxlZCh7ICd1c2Vycyc6IFsnZnJlZCcsICdiYXJuZXknXSB9KTtcbiAgICAgKiAvLyA9PiAnPGxpPmZyZWQ8L2xpPjxsaT5iYXJuZXk8L2xpPidcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgaW50ZXJuYWwgYHByaW50YCBmdW5jdGlvbiBpbiBcImV2YWx1YXRlXCIgZGVsaW1pdGVycy5cbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCc8JSBwcmludChcImhlbGxvIFwiICsgdXNlcik7ICU+IScpO1xuICAgICAqIGNvbXBpbGVkKHsgJ3VzZXInOiAnYmFybmV5JyB9KTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gYmFybmV5ISdcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgRVMgdGVtcGxhdGUgbGl0ZXJhbCBkZWxpbWl0ZXIgYXMgYW4gXCJpbnRlcnBvbGF0ZVwiIGRlbGltaXRlci5cbiAgICAgKiAvLyBEaXNhYmxlIHN1cHBvcnQgYnkgcmVwbGFjaW5nIHRoZSBcImludGVycG9sYXRlXCIgZGVsaW1pdGVyLlxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJ2hlbGxvICR7IHVzZXIgfSEnKTtcbiAgICAgKiBjb21waWxlZCh7ICd1c2VyJzogJ3BlYmJsZXMnIH0pO1xuICAgICAqIC8vID0+ICdoZWxsbyBwZWJibGVzISdcbiAgICAgKlxuICAgICAqIC8vIFVzZSBiYWNrc2xhc2hlcyB0byB0cmVhdCBkZWxpbWl0ZXJzIGFzIHBsYWluIHRleHQuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnPCU9IFwiXFxcXDwlLSB2YWx1ZSAlXFxcXD5cIiAlPicpO1xuICAgICAqIGNvbXBpbGVkKHsgJ3ZhbHVlJzogJ2lnbm9yZWQnIH0pO1xuICAgICAqIC8vID0+ICc8JS0gdmFsdWUgJT4nXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIGBpbXBvcnRzYCBvcHRpb24gdG8gaW1wb3J0IGBqUXVlcnlgIGFzIGBqcWAuXG4gICAgICogdmFyIHRleHQgPSAnPCUganEuZWFjaCh1c2VycywgZnVuY3Rpb24odXNlcikgeyAlPjxsaT48JS0gdXNlciAlPjwvbGk+PCUgfSk7ICU+JztcbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKHRleHQsIHsgJ2ltcG9ydHMnOiB7ICdqcSc6IGpRdWVyeSB9IH0pO1xuICAgICAqIGNvbXBpbGVkKHsgJ3VzZXJzJzogWydmcmVkJywgJ2Jhcm5leSddIH0pO1xuICAgICAqIC8vID0+ICc8bGk+ZnJlZDwvbGk+PGxpPmJhcm5leTwvbGk+J1xuICAgICAqXG4gICAgICogLy8gVXNlIHRoZSBgc291cmNlVVJMYCBvcHRpb24gdG8gc3BlY2lmeSBhIGN1c3RvbSBzb3VyY2VVUkwgZm9yIHRoZSB0ZW1wbGF0ZS5cbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCdoZWxsbyA8JT0gdXNlciAlPiEnLCB7ICdzb3VyY2VVUkwnOiAnL2Jhc2ljL2dyZWV0aW5nLmpzdCcgfSk7XG4gICAgICogY29tcGlsZWQoZGF0YSk7XG4gICAgICogLy8gPT4gRmluZCB0aGUgc291cmNlIG9mIFwiZ3JlZXRpbmcuanN0XCIgdW5kZXIgdGhlIFNvdXJjZXMgdGFiIG9yIFJlc291cmNlcyBwYW5lbCBvZiB0aGUgd2ViIGluc3BlY3Rvci5cbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgYHZhcmlhYmxlYCBvcHRpb24gdG8gZW5zdXJlIGEgd2l0aC1zdGF0ZW1lbnQgaXNuJ3QgdXNlZCBpbiB0aGUgY29tcGlsZWQgdGVtcGxhdGUuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnaGkgPCU9IGRhdGEudXNlciAlPiEnLCB7ICd2YXJpYWJsZSc6ICdkYXRhJyB9KTtcbiAgICAgKiBjb21waWxlZC5zb3VyY2U7XG4gICAgICogLy8gPT4gZnVuY3Rpb24oZGF0YSkge1xuICAgICAqIC8vICAgdmFyIF9fdCwgX19wID0gJyc7XG4gICAgICogLy8gICBfX3AgKz0gJ2hpICcgKyAoKF9fdCA9ICggZGF0YS51c2VyICkpID09IG51bGwgPyAnJyA6IF9fdCkgKyAnISc7XG4gICAgICogLy8gICByZXR1cm4gX19wO1xuICAgICAqIC8vIH1cbiAgICAgKlxuICAgICAqIC8vIFVzZSBjdXN0b20gdGVtcGxhdGUgZGVsaW1pdGVycy5cbiAgICAgKiBfLnRlbXBsYXRlU2V0dGluZ3MuaW50ZXJwb2xhdGUgPSAve3soW1xcc1xcU10rPyl9fS9nO1xuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJ2hlbGxvIHt7IHVzZXIgfX0hJyk7XG4gICAgICogY29tcGlsZWQoeyAndXNlcic6ICdtdXN0YWNoZScgfSk7XG4gICAgICogLy8gPT4gJ2hlbGxvIG11c3RhY2hlISdcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgYHNvdXJjZWAgcHJvcGVydHkgdG8gaW5saW5lIGNvbXBpbGVkIHRlbXBsYXRlcyBmb3IgbWVhbmluZ2Z1bFxuICAgICAqIC8vIGxpbmUgbnVtYmVycyBpbiBlcnJvciBtZXNzYWdlcyBhbmQgc3RhY2sgdHJhY2VzLlxuICAgICAqIGZzLndyaXRlRmlsZVN5bmMocGF0aC5qb2luKHByb2Nlc3MuY3dkKCksICdqc3QuanMnKSwgJ1xcXG4gICAgICogICB2YXIgSlNUID0ge1xcXG4gICAgICogICAgIFwibWFpblwiOiAnICsgXy50ZW1wbGF0ZShtYWluVGV4dCkuc291cmNlICsgJ1xcXG4gICAgICogICB9O1xcXG4gICAgICogJyk7XG4gICAgICovXG4gICAgZnVuY3Rpb24gdGVtcGxhdGUoc3RyaW5nLCBvcHRpb25zLCBndWFyZCkge1xuICAgICAgLy8gQmFzZWQgb24gSm9obiBSZXNpZydzIGB0bXBsYCBpbXBsZW1lbnRhdGlvblxuICAgICAgLy8gKGh0dHA6Ly9lam9obi5vcmcvYmxvZy9qYXZhc2NyaXB0LW1pY3JvLXRlbXBsYXRpbmcvKVxuICAgICAgLy8gYW5kIExhdXJhIERva3Rvcm92YSdzIGRvVC5qcyAoaHR0cHM6Ly9naXRodWIuY29tL29sYWRvL2RvVCkuXG4gICAgICB2YXIgc2V0dGluZ3MgPSBsb2Rhc2gudGVtcGxhdGVTZXR0aW5ncztcblxuICAgICAgaWYgKGd1YXJkICYmIGlzSXRlcmF0ZWVDYWxsKHN0cmluZywgb3B0aW9ucywgZ3VhcmQpKSB7XG4gICAgICAgIG9wdGlvbnMgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgb3B0aW9ucyA9IGFzc2lnbkluV2l0aCh7fSwgb3B0aW9ucywgc2V0dGluZ3MsIGN1c3RvbURlZmF1bHRzQXNzaWduSW4pO1xuXG4gICAgICB2YXIgaW1wb3J0cyA9IGFzc2lnbkluV2l0aCh7fSwgb3B0aW9ucy5pbXBvcnRzLCBzZXR0aW5ncy5pbXBvcnRzLCBjdXN0b21EZWZhdWx0c0Fzc2lnbkluKSxcbiAgICAgICAgICBpbXBvcnRzS2V5cyA9IGtleXMoaW1wb3J0cyksXG4gICAgICAgICAgaW1wb3J0c1ZhbHVlcyA9IGJhc2VWYWx1ZXMoaW1wb3J0cywgaW1wb3J0c0tleXMpO1xuXG4gICAgICB2YXIgaXNFc2NhcGluZyxcbiAgICAgICAgICBpc0V2YWx1YXRpbmcsXG4gICAgICAgICAgaW5kZXggPSAwLFxuICAgICAgICAgIGludGVycG9sYXRlID0gb3B0aW9ucy5pbnRlcnBvbGF0ZSB8fCByZU5vTWF0Y2gsXG4gICAgICAgICAgc291cmNlID0gXCJfX3AgKz0gJ1wiO1xuXG4gICAgICAvLyBDb21waWxlIHRoZSByZWdleHAgdG8gbWF0Y2ggZWFjaCBkZWxpbWl0ZXIuXG4gICAgICB2YXIgcmVEZWxpbWl0ZXJzID0gUmVnRXhwKFxuICAgICAgICAob3B0aW9ucy5lc2NhcGUgfHwgcmVOb01hdGNoKS5zb3VyY2UgKyAnfCcgK1xuICAgICAgICBpbnRlcnBvbGF0ZS5zb3VyY2UgKyAnfCcgK1xuICAgICAgICAoaW50ZXJwb2xhdGUgPT09IHJlSW50ZXJwb2xhdGUgPyByZUVzVGVtcGxhdGUgOiByZU5vTWF0Y2gpLnNvdXJjZSArICd8JyArXG4gICAgICAgIChvcHRpb25zLmV2YWx1YXRlIHx8IHJlTm9NYXRjaCkuc291cmNlICsgJ3wkJ1xuICAgICAgLCAnZycpO1xuXG4gICAgICAvLyBVc2UgYSBzb3VyY2VVUkwgZm9yIGVhc2llciBkZWJ1Z2dpbmcuXG4gICAgICAvLyBUaGUgc291cmNlVVJMIGdldHMgaW5qZWN0ZWQgaW50byB0aGUgc291cmNlIHRoYXQncyBldmFsLWVkLCBzbyBiZSBjYXJlZnVsXG4gICAgICAvLyB3aXRoIGxvb2t1cCAoaW4gY2FzZSBvZiBlLmcuIHByb3RvdHlwZSBwb2xsdXRpb24pLCBhbmQgc3RyaXAgbmV3bGluZXMgaWYgYW55LlxuICAgICAgLy8gQSBuZXdsaW5lIHdvdWxkbid0IGJlIGEgdmFsaWQgc291cmNlVVJMIGFueXdheSwgYW5kIGl0J2QgZW5hYmxlIGNvZGUgaW5qZWN0aW9uLlxuICAgICAgdmFyIHNvdXJjZVVSTCA9ICcvLyMgc291cmNlVVJMPScgK1xuICAgICAgICAoaGFzT3duUHJvcGVydHkuY2FsbChvcHRpb25zLCAnc291cmNlVVJMJylcbiAgICAgICAgICA/IChvcHRpb25zLnNvdXJjZVVSTCArICcnKS5yZXBsYWNlKC9bXFxyXFxuXS9nLCAnICcpXG4gICAgICAgICAgOiAoJ2xvZGFzaC50ZW1wbGF0ZVNvdXJjZXNbJyArICgrK3RlbXBsYXRlQ291bnRlcikgKyAnXScpXG4gICAgICAgICkgKyAnXFxuJztcblxuICAgICAgc3RyaW5nLnJlcGxhY2UocmVEZWxpbWl0ZXJzLCBmdW5jdGlvbihtYXRjaCwgZXNjYXBlVmFsdWUsIGludGVycG9sYXRlVmFsdWUsIGVzVGVtcGxhdGVWYWx1ZSwgZXZhbHVhdGVWYWx1ZSwgb2Zmc2V0KSB7XG4gICAgICAgIGludGVycG9sYXRlVmFsdWUgfHwgKGludGVycG9sYXRlVmFsdWUgPSBlc1RlbXBsYXRlVmFsdWUpO1xuXG4gICAgICAgIC8vIEVzY2FwZSBjaGFyYWN0ZXJzIHRoYXQgY2FuJ3QgYmUgaW5jbHVkZWQgaW4gc3RyaW5nIGxpdGVyYWxzLlxuICAgICAgICBzb3VyY2UgKz0gc3RyaW5nLnNsaWNlKGluZGV4LCBvZmZzZXQpLnJlcGxhY2UocmVVbmVzY2FwZWRTdHJpbmcsIGVzY2FwZVN0cmluZ0NoYXIpO1xuXG4gICAgICAgIC8vIFJlcGxhY2UgZGVsaW1pdGVycyB3aXRoIHNuaXBwZXRzLlxuICAgICAgICBpZiAoZXNjYXBlVmFsdWUpIHtcbiAgICAgICAgICBpc0VzY2FwaW5nID0gdHJ1ZTtcbiAgICAgICAgICBzb3VyY2UgKz0gXCInICtcXG5fX2UoXCIgKyBlc2NhcGVWYWx1ZSArIFwiKSArXFxuJ1wiO1xuICAgICAgICB9XG4gICAgICAgIGlmIChldmFsdWF0ZVZhbHVlKSB7XG4gICAgICAgICAgaXNFdmFsdWF0aW5nID0gdHJ1ZTtcbiAgICAgICAgICBzb3VyY2UgKz0gXCInO1xcblwiICsgZXZhbHVhdGVWYWx1ZSArIFwiO1xcbl9fcCArPSAnXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGludGVycG9sYXRlVmFsdWUpIHtcbiAgICAgICAgICBzb3VyY2UgKz0gXCInICtcXG4oKF9fdCA9IChcIiArIGludGVycG9sYXRlVmFsdWUgKyBcIikpID09IG51bGwgPyAnJyA6IF9fdCkgK1xcbidcIjtcbiAgICAgICAgfVxuICAgICAgICBpbmRleCA9IG9mZnNldCArIG1hdGNoLmxlbmd0aDtcblxuICAgICAgICAvLyBUaGUgSlMgZW5naW5lIGVtYmVkZGVkIGluIEFkb2JlIHByb2R1Y3RzIG5lZWRzIGBtYXRjaGAgcmV0dXJuZWQgaW5cbiAgICAgICAgLy8gb3JkZXIgdG8gcHJvZHVjZSB0aGUgY29ycmVjdCBgb2Zmc2V0YCB2YWx1ZS5cbiAgICAgICAgcmV0dXJuIG1hdGNoO1xuICAgICAgfSk7XG5cbiAgICAgIHNvdXJjZSArPSBcIic7XFxuXCI7XG5cbiAgICAgIC8vIElmIGB2YXJpYWJsZWAgaXMgbm90IHNwZWNpZmllZCB3cmFwIGEgd2l0aC1zdGF0ZW1lbnQgYXJvdW5kIHRoZSBnZW5lcmF0ZWRcbiAgICAgIC8vIGNvZGUgdG8gYWRkIHRoZSBkYXRhIG9iamVjdCB0byB0aGUgdG9wIG9mIHRoZSBzY29wZSBjaGFpbi5cbiAgICAgIC8vIExpa2Ugd2l0aCBzb3VyY2VVUkwsIHdlIHRha2UgY2FyZSB0byBub3QgY2hlY2sgdGhlIG9wdGlvbidzIHByb3RvdHlwZSxcbiAgICAgIC8vIGFzIHRoaXMgY29uZmlndXJhdGlvbiBpcyBhIGNvZGUgaW5qZWN0aW9uIHZlY3Rvci5cbiAgICAgIHZhciB2YXJpYWJsZSA9IGhhc093blByb3BlcnR5LmNhbGwob3B0aW9ucywgJ3ZhcmlhYmxlJykgJiYgb3B0aW9ucy52YXJpYWJsZTtcbiAgICAgIGlmICghdmFyaWFibGUpIHtcbiAgICAgICAgc291cmNlID0gJ3dpdGggKG9iaikge1xcbicgKyBzb3VyY2UgKyAnXFxufVxcbic7XG4gICAgICB9XG4gICAgICAvLyBDbGVhbnVwIGNvZGUgYnkgc3RyaXBwaW5nIGVtcHR5IHN0cmluZ3MuXG4gICAgICBzb3VyY2UgPSAoaXNFdmFsdWF0aW5nID8gc291cmNlLnJlcGxhY2UocmVFbXB0eVN0cmluZ0xlYWRpbmcsICcnKSA6IHNvdXJjZSlcbiAgICAgICAgLnJlcGxhY2UocmVFbXB0eVN0cmluZ01pZGRsZSwgJyQxJylcbiAgICAgICAgLnJlcGxhY2UocmVFbXB0eVN0cmluZ1RyYWlsaW5nLCAnJDE7Jyk7XG5cbiAgICAgIC8vIEZyYW1lIGNvZGUgYXMgdGhlIGZ1bmN0aW9uIGJvZHkuXG4gICAgICBzb3VyY2UgPSAnZnVuY3Rpb24oJyArICh2YXJpYWJsZSB8fCAnb2JqJykgKyAnKSB7XFxuJyArXG4gICAgICAgICh2YXJpYWJsZVxuICAgICAgICAgID8gJydcbiAgICAgICAgICA6ICdvYmogfHwgKG9iaiA9IHt9KTtcXG4nXG4gICAgICAgICkgK1xuICAgICAgICBcInZhciBfX3QsIF9fcCA9ICcnXCIgK1xuICAgICAgICAoaXNFc2NhcGluZ1xuICAgICAgICAgICA/ICcsIF9fZSA9IF8uZXNjYXBlJ1xuICAgICAgICAgICA6ICcnXG4gICAgICAgICkgK1xuICAgICAgICAoaXNFdmFsdWF0aW5nXG4gICAgICAgICAgPyAnLCBfX2ogPSBBcnJheS5wcm90b3R5cGUuam9pbjtcXG4nICtcbiAgICAgICAgICAgIFwiZnVuY3Rpb24gcHJpbnQoKSB7IF9fcCArPSBfX2ouY2FsbChhcmd1bWVudHMsICcnKSB9XFxuXCJcbiAgICAgICAgICA6ICc7XFxuJ1xuICAgICAgICApICtcbiAgICAgICAgc291cmNlICtcbiAgICAgICAgJ3JldHVybiBfX3BcXG59JztcblxuICAgICAgdmFyIHJlc3VsdCA9IGF0dGVtcHQoZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBGdW5jdGlvbihpbXBvcnRzS2V5cywgc291cmNlVVJMICsgJ3JldHVybiAnICsgc291cmNlKVxuICAgICAgICAgIC5hcHBseSh1bmRlZmluZWQsIGltcG9ydHNWYWx1ZXMpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFByb3ZpZGUgdGhlIGNvbXBpbGVkIGZ1bmN0aW9uJ3Mgc291cmNlIGJ5IGl0cyBgdG9TdHJpbmdgIG1ldGhvZCBvclxuICAgICAgLy8gdGhlIGBzb3VyY2VgIHByb3BlcnR5IGFzIGEgY29udmVuaWVuY2UgZm9yIGlubGluaW5nIGNvbXBpbGVkIHRlbXBsYXRlcy5cbiAgICAgIHJlc3VsdC5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICBpZiAoaXNFcnJvcihyZXN1bHQpKSB7XG4gICAgICAgIHRocm93IHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AsIGFzIGEgd2hvbGUsIHRvIGxvd2VyIGNhc2UganVzdCBsaWtlXG4gICAgICogW1N0cmluZyN0b0xvd2VyQ2FzZV0oaHR0cHM6Ly9tZG4uaW8vdG9Mb3dlckNhc2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgbG93ZXIgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvTG93ZXIoJy0tRm9vLUJhci0tJyk7XG4gICAgICogLy8gPT4gJy0tZm9vLWJhci0tJ1xuICAgICAqXG4gICAgICogXy50b0xvd2VyKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vYmFyJ1xuICAgICAqXG4gICAgICogXy50b0xvd2VyKCdfX0ZPT19CQVJfXycpO1xuICAgICAqIC8vID0+ICdfX2Zvb19iYXJfXydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0xvd2VyKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdG9TdHJpbmcodmFsdWUpLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AsIGFzIGEgd2hvbGUsIHRvIHVwcGVyIGNhc2UganVzdCBsaWtlXG4gICAgICogW1N0cmluZyN0b1VwcGVyQ2FzZV0oaHR0cHM6Ly9tZG4uaW8vdG9VcHBlckNhc2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdXBwZXIgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvVXBwZXIoJy0tZm9vLWJhci0tJyk7XG4gICAgICogLy8gPT4gJy0tRk9PLUJBUi0tJ1xuICAgICAqXG4gICAgICogXy50b1VwcGVyKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnRk9PQkFSJ1xuICAgICAqXG4gICAgICogXy50b1VwcGVyKCdfX2Zvb19iYXJfXycpO1xuICAgICAqIC8vID0+ICdfX0ZPT19CQVJfXydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b1VwcGVyKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdG9TdHJpbmcodmFsdWUpLnRvVXBwZXJDYXNlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBsZWFkaW5nIGFuZCB0cmFpbGluZyB3aGl0ZXNwYWNlIG9yIHNwZWNpZmllZCBjaGFyYWN0ZXJzIGZyb20gYHN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdHJpbS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPXdoaXRlc3BhY2VdIFRoZSBjaGFyYWN0ZXJzIHRvIHRyaW0uXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB0cmltbWVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50cmltKCcgIGFiYyAgJyk7XG4gICAgICogLy8gPT4gJ2FiYydcbiAgICAgKlxuICAgICAqIF8udHJpbSgnLV8tYWJjLV8tJywgJ18tJyk7XG4gICAgICogLy8gPT4gJ2FiYydcbiAgICAgKlxuICAgICAqIF8ubWFwKFsnICBmb28gICcsICcgIGJhciAgJ10sIF8udHJpbSk7XG4gICAgICogLy8gPT4gWydmb28nLCAnYmFyJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cmltKHN0cmluZywgY2hhcnMsIGd1YXJkKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgaWYgKHN0cmluZyAmJiAoZ3VhcmQgfHwgY2hhcnMgPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKHJlVHJpbSwgJycpO1xuICAgICAgfVxuICAgICAgaWYgKCFzdHJpbmcgfHwgIShjaGFycyA9IGJhc2VUb1N0cmluZyhjaGFycykpKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmc7XG4gICAgICB9XG4gICAgICB2YXIgc3RyU3ltYm9scyA9IHN0cmluZ1RvQXJyYXkoc3RyaW5nKSxcbiAgICAgICAgICBjaHJTeW1ib2xzID0gc3RyaW5nVG9BcnJheShjaGFycyksXG4gICAgICAgICAgc3RhcnQgPSBjaGFyc1N0YXJ0SW5kZXgoc3RyU3ltYm9scywgY2hyU3ltYm9scyksXG4gICAgICAgICAgZW5kID0gY2hhcnNFbmRJbmRleChzdHJTeW1ib2xzLCBjaHJTeW1ib2xzKSArIDE7XG5cbiAgICAgIHJldHVybiBjYXN0U2xpY2Uoc3RyU3ltYm9scywgc3RhcnQsIGVuZCkuam9pbignJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0cmFpbGluZyB3aGl0ZXNwYWNlIG9yIHNwZWNpZmllZCBjaGFyYWN0ZXJzIGZyb20gYHN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdHJpbS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPXdoaXRlc3BhY2VdIFRoZSBjaGFyYWN0ZXJzIHRvIHRyaW0uXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB0cmltbWVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50cmltRW5kKCcgIGFiYyAgJyk7XG4gICAgICogLy8gPT4gJyAgYWJjJ1xuICAgICAqXG4gICAgICogXy50cmltRW5kKCctXy1hYmMtXy0nLCAnXy0nKTtcbiAgICAgKiAvLyA9PiAnLV8tYWJjJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRyaW1FbmQoc3RyaW5nLCBjaGFycywgZ3VhcmQpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBpZiAoc3RyaW5nICYmIChndWFyZCB8fCBjaGFycyA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UocmVUcmltRW5kLCAnJyk7XG4gICAgICB9XG4gICAgICBpZiAoIXN0cmluZyB8fCAhKGNoYXJzID0gYmFzZVRvU3RyaW5nKGNoYXJzKSkpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZztcbiAgICAgIH1cbiAgICAgIHZhciBzdHJTeW1ib2xzID0gc3RyaW5nVG9BcnJheShzdHJpbmcpLFxuICAgICAgICAgIGVuZCA9IGNoYXJzRW5kSW5kZXgoc3RyU3ltYm9scywgc3RyaW5nVG9BcnJheShjaGFycykpICsgMTtcblxuICAgICAgcmV0dXJuIGNhc3RTbGljZShzdHJTeW1ib2xzLCAwLCBlbmQpLmpvaW4oJycpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgbGVhZGluZyB3aGl0ZXNwYWNlIG9yIHNwZWNpZmllZCBjaGFyYWN0ZXJzIGZyb20gYHN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdHJpbS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPXdoaXRlc3BhY2VdIFRoZSBjaGFyYWN0ZXJzIHRvIHRyaW0uXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB0cmltbWVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50cmltU3RhcnQoJyAgYWJjICAnKTtcbiAgICAgKiAvLyA9PiAnYWJjICAnXG4gICAgICpcbiAgICAgKiBfLnRyaW1TdGFydCgnLV8tYWJjLV8tJywgJ18tJyk7XG4gICAgICogLy8gPT4gJ2FiYy1fLSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cmltU3RhcnQoc3RyaW5nLCBjaGFycywgZ3VhcmQpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBpZiAoc3RyaW5nICYmIChndWFyZCB8fCBjaGFycyA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UocmVUcmltU3RhcnQsICcnKTtcbiAgICAgIH1cbiAgICAgIGlmICghc3RyaW5nIHx8ICEoY2hhcnMgPSBiYXNlVG9TdHJpbmcoY2hhcnMpKSkge1xuICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgICAgfVxuICAgICAgdmFyIHN0clN5bWJvbHMgPSBzdHJpbmdUb0FycmF5KHN0cmluZyksXG4gICAgICAgICAgc3RhcnQgPSBjaGFyc1N0YXJ0SW5kZXgoc3RyU3ltYm9scywgc3RyaW5nVG9BcnJheShjaGFycykpO1xuXG4gICAgICByZXR1cm4gY2FzdFNsaWNlKHN0clN5bWJvbHMsIHN0YXJ0KS5qb2luKCcnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUcnVuY2F0ZXMgYHN0cmluZ2AgaWYgaXQncyBsb25nZXIgdGhhbiB0aGUgZ2l2ZW4gbWF4aW11bSBzdHJpbmcgbGVuZ3RoLlxuICAgICAqIFRoZSBsYXN0IGNoYXJhY3RlcnMgb2YgdGhlIHRydW5jYXRlZCBzdHJpbmcgYXJlIHJlcGxhY2VkIHdpdGggdGhlIG9taXNzaW9uXG4gICAgICogc3RyaW5nIHdoaWNoIGRlZmF1bHRzIHRvIFwiLi4uXCIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdHJ1bmNhdGUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmxlbmd0aD0zMF0gVGhlIG1heGltdW0gc3RyaW5nIGxlbmd0aC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMub21pc3Npb249Jy4uLiddIFRoZSBzdHJpbmcgdG8gaW5kaWNhdGUgdGV4dCBpcyBvbWl0dGVkLlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfHN0cmluZ30gW29wdGlvbnMuc2VwYXJhdG9yXSBUaGUgc2VwYXJhdG9yIHBhdHRlcm4gdG8gdHJ1bmNhdGUgdG8uXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdHJ1bmNhdGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50cnVuY2F0ZSgnaGktZGlkZGx5LWhvIHRoZXJlLCBuZWlnaGJvcmlubycpO1xuICAgICAqIC8vID0+ICdoaS1kaWRkbHktaG8gdGhlcmUsIG5laWdoYm8uLi4nXG4gICAgICpcbiAgICAgKiBfLnRydW5jYXRlKCdoaS1kaWRkbHktaG8gdGhlcmUsIG5laWdoYm9yaW5vJywge1xuICAgICAqICAgJ2xlbmd0aCc6IDI0LFxuICAgICAqICAgJ3NlcGFyYXRvcic6ICcgJ1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+ICdoaS1kaWRkbHktaG8gdGhlcmUsLi4uJ1xuICAgICAqXG4gICAgICogXy50cnVuY2F0ZSgnaGktZGlkZGx5LWhvIHRoZXJlLCBuZWlnaGJvcmlubycsIHtcbiAgICAgKiAgICdsZW5ndGgnOiAyNCxcbiAgICAgKiAgICdzZXBhcmF0b3InOiAvLD8gKy9cbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiAnaGktZGlkZGx5LWhvIHRoZXJlLi4uJ1xuICAgICAqXG4gICAgICogXy50cnVuY2F0ZSgnaGktZGlkZGx5LWhvIHRoZXJlLCBuZWlnaGJvcmlubycsIHtcbiAgICAgKiAgICdvbWlzc2lvbic6ICcgWy4uLl0nXG4gICAgICogfSk7XG4gICAgICogLy8gPT4gJ2hpLWRpZGRseS1obyB0aGVyZSwgbmVpZyBbLi4uXSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cnVuY2F0ZShzdHJpbmcsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBERUZBVUxUX1RSVU5DX0xFTkdUSCxcbiAgICAgICAgICBvbWlzc2lvbiA9IERFRkFVTFRfVFJVTkNfT01JU1NJT047XG5cbiAgICAgIGlmIChpc09iamVjdChvcHRpb25zKSkge1xuICAgICAgICB2YXIgc2VwYXJhdG9yID0gJ3NlcGFyYXRvcicgaW4gb3B0aW9ucyA/IG9wdGlvbnMuc2VwYXJhdG9yIDogc2VwYXJhdG9yO1xuICAgICAgICBsZW5ndGggPSAnbGVuZ3RoJyBpbiBvcHRpb25zID8gdG9JbnRlZ2VyKG9wdGlvbnMubGVuZ3RoKSA6IGxlbmd0aDtcbiAgICAgICAgb21pc3Npb24gPSAnb21pc3Npb24nIGluIG9wdGlvbnMgPyBiYXNlVG9TdHJpbmcob3B0aW9ucy5vbWlzc2lvbikgOiBvbWlzc2lvbjtcbiAgICAgIH1cbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG5cbiAgICAgIHZhciBzdHJMZW5ndGggPSBzdHJpbmcubGVuZ3RoO1xuICAgICAgaWYgKGhhc1VuaWNvZGUoc3RyaW5nKSkge1xuICAgICAgICB2YXIgc3RyU3ltYm9scyA9IHN0cmluZ1RvQXJyYXkoc3RyaW5nKTtcbiAgICAgICAgc3RyTGVuZ3RoID0gc3RyU3ltYm9scy5sZW5ndGg7XG4gICAgICB9XG4gICAgICBpZiAobGVuZ3RoID49IHN0ckxlbmd0aCkge1xuICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgICAgfVxuICAgICAgdmFyIGVuZCA9IGxlbmd0aCAtIHN0cmluZ1NpemUob21pc3Npb24pO1xuICAgICAgaWYgKGVuZCA8IDEpIHtcbiAgICAgICAgcmV0dXJuIG9taXNzaW9uO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IHN0clN5bWJvbHNcbiAgICAgICAgPyBjYXN0U2xpY2Uoc3RyU3ltYm9scywgMCwgZW5kKS5qb2luKCcnKVxuICAgICAgICA6IHN0cmluZy5zbGljZSgwLCBlbmQpO1xuXG4gICAgICBpZiAoc2VwYXJhdG9yID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdCArIG9taXNzaW9uO1xuICAgICAgfVxuICAgICAgaWYgKHN0clN5bWJvbHMpIHtcbiAgICAgICAgZW5kICs9IChyZXN1bHQubGVuZ3RoIC0gZW5kKTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1JlZ0V4cChzZXBhcmF0b3IpKSB7XG4gICAgICAgIGlmIChzdHJpbmcuc2xpY2UoZW5kKS5zZWFyY2goc2VwYXJhdG9yKSkge1xuICAgICAgICAgIHZhciBtYXRjaCxcbiAgICAgICAgICAgICAgc3Vic3RyaW5nID0gcmVzdWx0O1xuXG4gICAgICAgICAgaWYgKCFzZXBhcmF0b3IuZ2xvYmFsKSB7XG4gICAgICAgICAgICBzZXBhcmF0b3IgPSBSZWdFeHAoc2VwYXJhdG9yLnNvdXJjZSwgdG9TdHJpbmcocmVGbGFncy5leGVjKHNlcGFyYXRvcikpICsgJ2cnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2VwYXJhdG9yLmxhc3RJbmRleCA9IDA7XG4gICAgICAgICAgd2hpbGUgKChtYXRjaCA9IHNlcGFyYXRvci5leGVjKHN1YnN0cmluZykpKSB7XG4gICAgICAgICAgICB2YXIgbmV3RW5kID0gbWF0Y2guaW5kZXg7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5zbGljZSgwLCBuZXdFbmQgPT09IHVuZGVmaW5lZCA/IGVuZCA6IG5ld0VuZCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoc3RyaW5nLmluZGV4T2YoYmFzZVRvU3RyaW5nKHNlcGFyYXRvciksIGVuZCkgIT0gZW5kKSB7XG4gICAgICAgIHZhciBpbmRleCA9IHJlc3VsdC5sYXN0SW5kZXhPZihzZXBhcmF0b3IpO1xuICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5zbGljZSgwLCBpbmRleCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQgKyBvbWlzc2lvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaW52ZXJzZSBvZiBgXy5lc2NhcGVgOyB0aGlzIG1ldGhvZCBjb252ZXJ0cyB0aGUgSFRNTCBlbnRpdGllc1xuICAgICAqIGAmYW1wO2AsIGAmbHQ7YCwgYCZndDtgLCBgJnF1b3Q7YCwgYW5kIGAmIzM5O2AgaW4gYHN0cmluZ2AgdG9cbiAgICAgKiB0aGVpciBjb3JyZXNwb25kaW5nIGNoYXJhY3RlcnMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogTm8gb3RoZXIgSFRNTCBlbnRpdGllcyBhcmUgdW5lc2NhcGVkLiBUbyB1bmVzY2FwZSBhZGRpdGlvbmFsXG4gICAgICogSFRNTCBlbnRpdGllcyB1c2UgYSB0aGlyZC1wYXJ0eSBsaWJyYXJ5IGxpa2UgW19oZV9dKGh0dHBzOi8vbXRocy5iZS9oZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC42LjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdW5lc2NhcGUuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdW5lc2NhcGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51bmVzY2FwZSgnZnJlZCwgYmFybmV5LCAmYW1wOyBwZWJibGVzJyk7XG4gICAgICogLy8gPT4gJ2ZyZWQsIGJhcm5leSwgJiBwZWJibGVzJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuZXNjYXBlKHN0cmluZykge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHJldHVybiAoc3RyaW5nICYmIHJlSGFzRXNjYXBlZEh0bWwudGVzdChzdHJpbmcpKVxuICAgICAgICA/IHN0cmluZy5yZXBsYWNlKHJlRXNjYXBlZEh0bWwsIHVuZXNjYXBlSHRtbENoYXIpXG4gICAgICAgIDogc3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgLCBhcyBzcGFjZSBzZXBhcmF0ZWQgd29yZHMsIHRvIHVwcGVyIGNhc2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB1cHBlciBjYXNlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udXBwZXJDYXNlKCctLWZvby1iYXInKTtcbiAgICAgKiAvLyA9PiAnRk9PIEJBUidcbiAgICAgKlxuICAgICAqIF8udXBwZXJDYXNlKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnRk9PIEJBUidcbiAgICAgKlxuICAgICAqIF8udXBwZXJDYXNlKCdfX2Zvb19iYXJfXycpO1xuICAgICAqIC8vID0+ICdGT08gQkFSJ1xuICAgICAqL1xuICAgIHZhciB1cHBlckNhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyAnICcgOiAnJykgKyB3b3JkLnRvVXBwZXJDYXNlKCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgZmlyc3QgY2hhcmFjdGVyIG9mIGBzdHJpbmdgIHRvIHVwcGVyIGNhc2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVwcGVyRmlyc3QoJ2ZyZWQnKTtcbiAgICAgKiAvLyA9PiAnRnJlZCdcbiAgICAgKlxuICAgICAqIF8udXBwZXJGaXJzdCgnRlJFRCcpO1xuICAgICAqIC8vID0+ICdGUkVEJ1xuICAgICAqL1xuICAgIHZhciB1cHBlckZpcnN0ID0gY3JlYXRlQ2FzZUZpcnN0KCd0b1VwcGVyQ2FzZScpO1xuXG4gICAgLyoqXG4gICAgICogU3BsaXRzIGBzdHJpbmdgIGludG8gYW4gYXJyYXkgb2YgaXRzIHdvcmRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtSZWdFeHB8c3RyaW5nfSBbcGF0dGVybl0gVGhlIHBhdHRlcm4gdG8gbWF0Y2ggd29yZHMuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHdvcmRzIG9mIGBzdHJpbmdgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLndvcmRzKCdmcmVkLCBiYXJuZXksICYgcGViYmxlcycpO1xuICAgICAqIC8vID0+IFsnZnJlZCcsICdiYXJuZXknLCAncGViYmxlcyddXG4gICAgICpcbiAgICAgKiBfLndvcmRzKCdmcmVkLCBiYXJuZXksICYgcGViYmxlcycsIC9bXiwgXSsvZyk7XG4gICAgICogLy8gPT4gWydmcmVkJywgJ2Jhcm5leScsICcmJywgJ3BlYmJsZXMnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdvcmRzKHN0cmluZywgcGF0dGVybiwgZ3VhcmQpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBwYXR0ZXJuID0gZ3VhcmQgPyB1bmRlZmluZWQgOiBwYXR0ZXJuO1xuXG4gICAgICBpZiAocGF0dGVybiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBoYXNVbmljb2RlV29yZChzdHJpbmcpID8gdW5pY29kZVdvcmRzKHN0cmluZykgOiBhc2NpaVdvcmRzKHN0cmluZyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gc3RyaW5nLm1hdGNoKHBhdHRlcm4pIHx8IFtdO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIEF0dGVtcHRzIHRvIGludm9rZSBgZnVuY2AsIHJldHVybmluZyBlaXRoZXIgdGhlIHJlc3VsdCBvciB0aGUgY2F1Z2h0IGVycm9yXG4gICAgICogb2JqZWN0LiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHMgYXJlIHByb3ZpZGVkIHRvIGBmdW5jYCB3aGVuIGl0J3MgaW52b2tlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXR0ZW1wdC5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSBgZnVuY2Agd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYGZ1bmNgIHJlc3VsdCBvciBlcnJvciBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIC8vIEF2b2lkIHRocm93aW5nIGVycm9ycyBmb3IgaW52YWxpZCBzZWxlY3RvcnMuXG4gICAgICogdmFyIGVsZW1lbnRzID0gXy5hdHRlbXB0KGZ1bmN0aW9uKHNlbGVjdG9yKSB7XG4gICAgICogICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG4gICAgICogfSwgJz5fPicpO1xuICAgICAqXG4gICAgICogaWYgKF8uaXNFcnJvcihlbGVtZW50cykpIHtcbiAgICAgKiAgIGVsZW1lbnRzID0gW107XG4gICAgICogfVxuICAgICAqL1xuICAgIHZhciBhdHRlbXB0ID0gYmFzZVJlc3QoZnVuY3Rpb24oZnVuYywgYXJncykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGFwcGx5KGZ1bmMsIHVuZGVmaW5lZCwgYXJncyk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBpc0Vycm9yKGUpID8gZSA6IG5ldyBFcnJvcihlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEJpbmRzIG1ldGhvZHMgb2YgYW4gb2JqZWN0IHRvIHRoZSBvYmplY3QgaXRzZWxmLCBvdmVyd3JpdGluZyB0aGUgZXhpc3RpbmdcbiAgICAgKiBtZXRob2QuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgZG9lc24ndCBzZXQgdGhlIFwibGVuZ3RoXCIgcHJvcGVydHkgb2YgYm91bmQgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gYmluZCBhbmQgYXNzaWduIHRoZSBib3VuZCBtZXRob2RzIHRvLlxuICAgICAqIEBwYXJhbSB7Li4uKHN0cmluZ3xzdHJpbmdbXSl9IG1ldGhvZE5hbWVzIFRoZSBvYmplY3QgbWV0aG9kIG5hbWVzIHRvIGJpbmQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHZpZXcgPSB7XG4gICAgICogICAnbGFiZWwnOiAnZG9jcycsXG4gICAgICogICAnY2xpY2snOiBmdW5jdGlvbigpIHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coJ2NsaWNrZWQgJyArIHRoaXMubGFiZWwpO1xuICAgICAqICAgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBfLmJpbmRBbGwodmlldywgWydjbGljayddKTtcbiAgICAgKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgdmlldy5jbGljayk7XG4gICAgICogLy8gPT4gTG9ncyAnY2xpY2tlZCBkb2NzJyB3aGVuIGNsaWNrZWQuXG4gICAgICovXG4gICAgdmFyIGJpbmRBbGwgPSBmbGF0UmVzdChmdW5jdGlvbihvYmplY3QsIG1ldGhvZE5hbWVzKSB7XG4gICAgICBhcnJheUVhY2gobWV0aG9kTmFtZXMsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgICBrZXkgPSB0b0tleShrZXkpO1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIGJpbmQob2JqZWN0W2tleV0sIG9iamVjdCkpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaXRlcmF0ZXMgb3ZlciBgcGFpcnNgIGFuZCBpbnZva2VzIHRoZSBjb3JyZXNwb25kaW5nXG4gICAgICogZnVuY3Rpb24gb2YgdGhlIGZpcnN0IHByZWRpY2F0ZSB0byByZXR1cm4gdHJ1dGh5LiBUaGUgcHJlZGljYXRlLWZ1bmN0aW9uXG4gICAgICogcGFpcnMgYXJlIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgYW5kIGFyZ3VtZW50cyBvZiB0aGUgY3JlYXRlZFxuICAgICAqIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwYWlycyBUaGUgcHJlZGljYXRlLWZ1bmN0aW9uIHBhaXJzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbXBvc2l0ZSBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGZ1bmMgPSBfLmNvbmQoW1xuICAgICAqICAgW18ubWF0Y2hlcyh7ICdhJzogMSB9KSwgICAgICAgICAgIF8uY29uc3RhbnQoJ21hdGNoZXMgQScpXSxcbiAgICAgKiAgIFtfLmNvbmZvcm1zKHsgJ2InOiBfLmlzTnVtYmVyIH0pLCBfLmNvbnN0YW50KCdtYXRjaGVzIEInKV0sXG4gICAgICogICBbXy5zdHViVHJ1ZSwgICAgICAgICAgICAgICAgICAgICAgXy5jb25zdGFudCgnbm8gbWF0Y2gnKV1cbiAgICAgKiBdKTtcbiAgICAgKlxuICAgICAqIGZ1bmMoeyAnYSc6IDEsICdiJzogMiB9KTtcbiAgICAgKiAvLyA9PiAnbWF0Y2hlcyBBJ1xuICAgICAqXG4gICAgICogZnVuYyh7ICdhJzogMCwgJ2InOiAxIH0pO1xuICAgICAqIC8vID0+ICdtYXRjaGVzIEInXG4gICAgICpcbiAgICAgKiBmdW5jKHsgJ2EnOiAnMScsICdiJzogJzInIH0pO1xuICAgICAqIC8vID0+ICdubyBtYXRjaCdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb25kKHBhaXJzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gcGFpcnMgPT0gbnVsbCA/IDAgOiBwYWlycy5sZW5ndGgsXG4gICAgICAgICAgdG9JdGVyYXRlZSA9IGdldEl0ZXJhdGVlKCk7XG5cbiAgICAgIHBhaXJzID0gIWxlbmd0aCA/IFtdIDogYXJyYXlNYXAocGFpcnMsIGZ1bmN0aW9uKHBhaXIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBwYWlyWzFdICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFt0b0l0ZXJhdGVlKHBhaXJbMF0pLCBwYWlyWzFdXTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gYmFzZVJlc3QoZnVuY3Rpb24oYXJncykge1xuICAgICAgICB2YXIgaW5kZXggPSAtMTtcbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICB2YXIgcGFpciA9IHBhaXJzW2luZGV4XTtcbiAgICAgICAgICBpZiAoYXBwbHkocGFpclswXSwgdGhpcywgYXJncykpIHtcbiAgICAgICAgICAgIHJldHVybiBhcHBseShwYWlyWzFdLCB0aGlzLCBhcmdzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgdGhlIHByZWRpY2F0ZSBwcm9wZXJ0aWVzIG9mIGBzb3VyY2VgIHdpdGhcbiAgICAgKiB0aGUgY29ycmVzcG9uZGluZyBwcm9wZXJ0eSB2YWx1ZXMgb2YgYSBnaXZlbiBvYmplY3QsIHJldHVybmluZyBgdHJ1ZWAgaWZcbiAgICAgKiBhbGwgcHJlZGljYXRlcyByZXR1cm4gdHJ1dGh5LCBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhlIGNyZWF0ZWQgZnVuY3Rpb24gaXMgZXF1aXZhbGVudCB0byBgXy5jb25mb3Jtc1RvYCB3aXRoXG4gICAgICogYHNvdXJjZWAgcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSBwcmVkaWNhdGVzIHRvIGNvbmZvcm0gdG8uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbXG4gICAgICogICB7ICdhJzogMiwgJ2InOiAxIH0sXG4gICAgICogICB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5maWx0ZXIob2JqZWN0cywgXy5jb25mb3Jtcyh7ICdiJzogZnVuY3Rpb24obikgeyByZXR1cm4gbiA+IDE7IH0gfSkpO1xuICAgICAqIC8vID0+IFt7ICdhJzogMSwgJ2InOiAyIH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29uZm9ybXMoc291cmNlKSB7XG4gICAgICByZXR1cm4gYmFzZUNvbmZvcm1zKGJhc2VDbG9uZShzb3VyY2UsIENMT05FX0RFRVBfRkxBRykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjQuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcmV0dXJuIGZyb20gdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjb25zdGFudCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBfLnRpbWVzKDIsIF8uY29uc3RhbnQoeyAnYSc6IDEgfSkpO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2cob2JqZWN0cyk7XG4gICAgICogLy8gPT4gW3sgJ2EnOiAxIH0sIHsgJ2EnOiAxIH1dXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3RzWzBdID09PSBvYmplY3RzWzFdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29uc3RhbnQodmFsdWUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgYHZhbHVlYCB0byBkZXRlcm1pbmUgd2hldGhlciBhIGRlZmF1bHQgdmFsdWUgc2hvdWxkIGJlIHJldHVybmVkIGluXG4gICAgICogaXRzIHBsYWNlLiBUaGUgYGRlZmF1bHRWYWx1ZWAgaXMgcmV0dXJuZWQgaWYgYHZhbHVlYCBpcyBgTmFOYCwgYG51bGxgLFxuICAgICAqIG9yIGB1bmRlZmluZWRgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTQuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHBhcmFtIHsqfSBkZWZhdWx0VmFsdWUgVGhlIGRlZmF1bHQgdmFsdWUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlZmF1bHRUbygxLCAxMCk7XG4gICAgICogLy8gPT4gMVxuICAgICAqXG4gICAgICogXy5kZWZhdWx0VG8odW5kZWZpbmVkLCAxMCk7XG4gICAgICogLy8gPT4gMTBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkZWZhdWx0VG8odmFsdWUsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgcmV0dXJuICh2YWx1ZSA9PSBudWxsIHx8IHZhbHVlICE9PSB2YWx1ZSkgPyBkZWZhdWx0VmFsdWUgOiB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSByZXN1bHQgb2YgaW52b2tpbmcgdGhlIGdpdmVuIGZ1bmN0aW9uc1xuICAgICAqIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIHRoZSBjcmVhdGVkIGZ1bmN0aW9uLCB3aGVyZSBlYWNoIHN1Y2Nlc3NpdmVcbiAgICAgKiBpbnZvY2F0aW9uIGlzIHN1cHBsaWVkIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIHByZXZpb3VzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0gey4uLihGdW5jdGlvbnxGdW5jdGlvbltdKX0gW2Z1bmNzXSBUaGUgZnVuY3Rpb25zIHRvIGludm9rZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjb21wb3NpdGUgZnVuY3Rpb24uXG4gICAgICogQHNlZSBfLmZsb3dSaWdodFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBzcXVhcmUobikge1xuICAgICAqICAgcmV0dXJuIG4gKiBuO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBhZGRTcXVhcmUgPSBfLmZsb3coW18uYWRkLCBzcXVhcmVdKTtcbiAgICAgKiBhZGRTcXVhcmUoMSwgMik7XG4gICAgICogLy8gPT4gOVxuICAgICAqL1xuICAgIHZhciBmbG93ID0gY3JlYXRlRmxvdygpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mbG93YCBleGNlcHQgdGhhdCBpdCBjcmVhdGVzIGEgZnVuY3Rpb24gdGhhdFxuICAgICAqIGludm9rZXMgdGhlIGdpdmVuIGZ1bmN0aW9ucyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbZnVuY3NdIFRoZSBmdW5jdGlvbnMgdG8gaW52b2tlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbXBvc2l0ZSBmdW5jdGlvbi5cbiAgICAgKiBAc2VlIF8uZmxvd1xuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBzcXVhcmUobikge1xuICAgICAqICAgcmV0dXJuIG4gKiBuO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBhZGRTcXVhcmUgPSBfLmZsb3dSaWdodChbc3F1YXJlLCBfLmFkZF0pO1xuICAgICAqIGFkZFNxdWFyZSgxLCAyKTtcbiAgICAgKiAvLyA9PiA5XG4gICAgICovXG4gICAgdmFyIGZsb3dSaWdodCA9IGNyZWF0ZUZsb3codHJ1ZSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIHRoZSBmaXJzdCBhcmd1bWVudCBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBBbnkgdmFsdWUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgYHZhbHVlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhfLmlkZW50aXR5KG9iamVjdCkgPT09IG9iamVjdCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlkZW50aXR5KHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCB0aGUgYXJndW1lbnRzIG9mIHRoZSBjcmVhdGVkXG4gICAgICogZnVuY3Rpb24uIElmIGBmdW5jYCBpcyBhIHByb3BlcnR5IG5hbWUsIHRoZSBjcmVhdGVkIGZ1bmN0aW9uIHJldHVybnMgdGhlXG4gICAgICogcHJvcGVydHkgdmFsdWUgZm9yIGEgZ2l2ZW4gZWxlbWVudC4gSWYgYGZ1bmNgIGlzIGFuIGFycmF5IG9yIG9iamVjdCwgdGhlXG4gICAgICogY3JlYXRlZCBmdW5jdGlvbiByZXR1cm5zIGB0cnVlYCBmb3IgZWxlbWVudHMgdGhhdCBjb250YWluIHRoZSBlcXVpdmFsZW50XG4gICAgICogc291cmNlIHByb3BlcnRpZXMsIG90aGVyd2lzZSBpdCByZXR1cm5zIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Kn0gW2Z1bmM9Xy5pZGVudGl0eV0gVGhlIHZhbHVlIHRvIGNvbnZlcnQgdG8gYSBjYWxsYmFjay5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIGNhbGxiYWNrLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQwLCAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCBfLml0ZXJhdGVlKHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IHRydWUgfSkpO1xuICAgICAqIC8vID0+IFt7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfV1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbHRlcih1c2VycywgXy5pdGVyYXRlZShbJ3VzZXInLCAnZnJlZCddKSk7XG4gICAgICogLy8gPT4gW3sgJ3VzZXInOiAnZnJlZCcsICdhZ2UnOiA0MCB9XVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5tYXAodXNlcnMsIF8uaXRlcmF0ZWUoJ3VzZXInKSk7XG4gICAgICogLy8gPT4gWydiYXJuZXknLCAnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBDcmVhdGUgY3VzdG9tIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICogXy5pdGVyYXRlZSA9IF8ud3JhcChfLml0ZXJhdGVlLCBmdW5jdGlvbihpdGVyYXRlZSwgZnVuYykge1xuICAgICAqICAgcmV0dXJuICFfLmlzUmVnRXhwKGZ1bmMpID8gaXRlcmF0ZWUoZnVuYykgOiBmdW5jdGlvbihzdHJpbmcpIHtcbiAgICAgKiAgICAgcmV0dXJuIGZ1bmMudGVzdChzdHJpbmcpO1xuICAgICAqICAgfTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIF8uZmlsdGVyKFsnYWJjJywgJ2RlZiddLCAvZWYvKTtcbiAgICAgKiAvLyA9PiBbJ2RlZiddXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXRlcmF0ZWUoZnVuYykge1xuICAgICAgcmV0dXJuIGJhc2VJdGVyYXRlZSh0eXBlb2YgZnVuYyA9PSAnZnVuY3Rpb24nID8gZnVuYyA6IGJhc2VDbG9uZShmdW5jLCBDTE9ORV9ERUVQX0ZMQUcpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBwZXJmb3JtcyBhIHBhcnRpYWwgZGVlcCBjb21wYXJpc29uIGJldHdlZW4gYSBnaXZlblxuICAgICAqIG9iamVjdCBhbmQgYHNvdXJjZWAsIHJldHVybmluZyBgdHJ1ZWAgaWYgdGhlIGdpdmVuIG9iamVjdCBoYXMgZXF1aXZhbGVudFxuICAgICAqIHByb3BlcnR5IHZhbHVlcywgZWxzZSBgZmFsc2VgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoZSBjcmVhdGVkIGZ1bmN0aW9uIGlzIGVxdWl2YWxlbnQgdG8gYF8uaXNNYXRjaGAgd2l0aCBgc291cmNlYFxuICAgICAqIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqXG4gICAgICogUGFydGlhbCBjb21wYXJpc29ucyB3aWxsIG1hdGNoIGVtcHR5IGFycmF5IGFuZCBlbXB0eSBvYmplY3QgYHNvdXJjZWBcbiAgICAgKiB2YWx1ZXMgYWdhaW5zdCBhbnkgYXJyYXkgb3Igb2JqZWN0IHZhbHVlLCByZXNwZWN0aXZlbHkuIFNlZSBgXy5pc0VxdWFsYFxuICAgICAqIGZvciBhIGxpc3Qgb2Ygc3VwcG9ydGVkIHZhbHVlIGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgdmFsdWVzIHRvIG1hdGNoLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW1xuICAgICAqICAgeyAnYSc6IDEsICdiJzogMiwgJ2MnOiAzIH0sXG4gICAgICogICB7ICdhJzogNCwgJ2InOiA1LCAnYyc6IDYgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbHRlcihvYmplY3RzLCBfLm1hdGNoZXMoeyAnYSc6IDQsICdjJzogNiB9KSk7XG4gICAgICogLy8gPT4gW3sgJ2EnOiA0LCAnYic6IDUsICdjJzogNiB9XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hdGNoZXMoc291cmNlKSB7XG4gICAgICByZXR1cm4gYmFzZU1hdGNoZXMoYmFzZUNsb25lKHNvdXJjZSwgQ0xPTkVfREVFUF9GTEFHKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcGVyZm9ybXMgYSBwYXJ0aWFsIGRlZXAgY29tcGFyaXNvbiBiZXR3ZWVuIHRoZVxuICAgICAqIHZhbHVlIGF0IGBwYXRoYCBvZiBhIGdpdmVuIG9iamVjdCB0byBgc3JjVmFsdWVgLCByZXR1cm5pbmcgYHRydWVgIGlmIHRoZVxuICAgICAqIG9iamVjdCB2YWx1ZSBpcyBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogUGFydGlhbCBjb21wYXJpc29ucyB3aWxsIG1hdGNoIGVtcHR5IGFycmF5IGFuZCBlbXB0eSBvYmplY3RcbiAgICAgKiBgc3JjVmFsdWVgIHZhbHVlcyBhZ2FpbnN0IGFueSBhcnJheSBvciBvYmplY3QgdmFsdWUsIHJlc3BlY3RpdmVseS4gU2VlXG4gICAgICogYF8uaXNFcXVhbGAgZm9yIGEgbGlzdCBvZiBzdXBwb3J0ZWQgdmFsdWUgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHBhcmFtIHsqfSBzcmNWYWx1ZSBUaGUgdmFsdWUgdG8gbWF0Y2guXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbXG4gICAgICogICB7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDMgfSxcbiAgICAgKiAgIHsgJ2EnOiA0LCAnYic6IDUsICdjJzogNiB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZmluZChvYmplY3RzLCBfLm1hdGNoZXNQcm9wZXJ0eSgnYScsIDQpKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogNCwgJ2InOiA1LCAnYyc6IDYgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hdGNoZXNQcm9wZXJ0eShwYXRoLCBzcmNWYWx1ZSkge1xuICAgICAgcmV0dXJuIGJhc2VNYXRjaGVzUHJvcGVydHkocGF0aCwgYmFzZUNsb25lKHNyY1ZhbHVlLCBDTE9ORV9ERUVQX0ZMQUcpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIHRoZSBtZXRob2QgYXQgYHBhdGhgIG9mIGEgZ2l2ZW4gb2JqZWN0LlxuICAgICAqIEFueSBhZGRpdGlvbmFsIGFyZ3VtZW50cyBhcmUgcHJvdmlkZWQgdG8gdGhlIGludm9rZWQgbWV0aG9kLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuNy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgbWV0aG9kIHRvIGludm9rZS5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSB0aGUgbWV0aG9kIHdpdGguXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgaW52b2tlciBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbXG4gICAgICogICB7ICdhJzogeyAnYic6IF8uY29uc3RhbnQoMikgfSB9LFxuICAgICAqICAgeyAnYSc6IHsgJ2InOiBfLmNvbnN0YW50KDEpIH0gfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLm1hcChvYmplY3RzLCBfLm1ldGhvZCgnYS5iJykpO1xuICAgICAqIC8vID0+IFsyLCAxXVxuICAgICAqXG4gICAgICogXy5tYXAob2JqZWN0cywgXy5tZXRob2QoWydhJywgJ2InXSkpO1xuICAgICAqIC8vID0+IFsyLCAxXVxuICAgICAqL1xuICAgIHZhciBtZXRob2QgPSBiYXNlUmVzdChmdW5jdGlvbihwYXRoLCBhcmdzKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBiYXNlSW52b2tlKG9iamVjdCwgcGF0aCwgYXJncyk7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG9wcG9zaXRlIG9mIGBfLm1ldGhvZGA7IHRoaXMgbWV0aG9kIGNyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXNcbiAgICAgKiB0aGUgbWV0aG9kIGF0IGEgZ2l2ZW4gcGF0aCBvZiBgb2JqZWN0YC4gQW55IGFkZGl0aW9uYWwgYXJndW1lbnRzIGFyZVxuICAgICAqIHByb3ZpZGVkIHRvIHRoZSBpbnZva2VkIG1ldGhvZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjcuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ3NdIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIHRoZSBtZXRob2Qgd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBpbnZva2VyIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBfLnRpbWVzKDMsIF8uY29uc3RhbnQpLFxuICAgICAqICAgICBvYmplY3QgPSB7ICdhJzogYXJyYXksICdiJzogYXJyYXksICdjJzogYXJyYXkgfTtcbiAgICAgKlxuICAgICAqIF8ubWFwKFsnYVsyXScsICdjWzBdJ10sIF8ubWV0aG9kT2Yob2JqZWN0KSk7XG4gICAgICogLy8gPT4gWzIsIDBdXG4gICAgICpcbiAgICAgKiBfLm1hcChbWydhJywgJzInXSwgWydjJywgJzAnXV0sIF8ubWV0aG9kT2Yob2JqZWN0KSk7XG4gICAgICogLy8gPT4gWzIsIDBdXG4gICAgICovXG4gICAgdmFyIG1ldGhvZE9mID0gYmFzZVJlc3QoZnVuY3Rpb24ob2JqZWN0LCBhcmdzKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ocGF0aCkge1xuICAgICAgICByZXR1cm4gYmFzZUludm9rZShvYmplY3QsIHBhdGgsIGFyZ3MpO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEFkZHMgYWxsIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBmdW5jdGlvbiBwcm9wZXJ0aWVzIG9mIGEgc291cmNlXG4gICAgICogb2JqZWN0IHRvIHRoZSBkZXN0aW5hdGlvbiBvYmplY3QuIElmIGBvYmplY3RgIGlzIGEgZnVuY3Rpb24sIHRoZW4gbWV0aG9kc1xuICAgICAqIGFyZSBhZGRlZCB0byBpdHMgcHJvdG90eXBlIGFzIHdlbGwuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVXNlIGBfLnJ1bkluQ29udGV4dGAgdG8gY3JlYXRlIGEgcHJpc3RpbmUgYGxvZGFzaGAgZnVuY3Rpb24gdG9cbiAgICAgKiBhdm9pZCBjb25mbGljdHMgY2F1c2VkIGJ5IG1vZGlmeWluZyB0aGUgb3JpZ2luYWwuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fSBbb2JqZWN0PWxvZGFzaF0gVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgZnVuY3Rpb25zIHRvIGFkZC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoYWluPXRydWVdIFNwZWNpZnkgd2hldGhlciBtaXhpbnMgYXJlIGNoYWluYWJsZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb258T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiB2b3dlbHMoc3RyaW5nKSB7XG4gICAgICogICByZXR1cm4gXy5maWx0ZXIoc3RyaW5nLCBmdW5jdGlvbih2KSB7XG4gICAgICogICAgIHJldHVybiAvW2FlaW91XS9pLnRlc3Qodik7XG4gICAgICogICB9KTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLm1peGluKHsgJ3Zvd2Vscyc6IHZvd2VscyB9KTtcbiAgICAgKiBfLnZvd2VscygnZnJlZCcpO1xuICAgICAqIC8vID0+IFsnZSddXG4gICAgICpcbiAgICAgKiBfKCdmcmVkJykudm93ZWxzKCkudmFsdWUoKTtcbiAgICAgKiAvLyA9PiBbJ2UnXVxuICAgICAqXG4gICAgICogXy5taXhpbih7ICd2b3dlbHMnOiB2b3dlbHMgfSwgeyAnY2hhaW4nOiBmYWxzZSB9KTtcbiAgICAgKiBfKCdmcmVkJykudm93ZWxzKCk7XG4gICAgICogLy8gPT4gWydlJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtaXhpbihvYmplY3QsIHNvdXJjZSwgb3B0aW9ucykge1xuICAgICAgdmFyIHByb3BzID0ga2V5cyhzb3VyY2UpLFxuICAgICAgICAgIG1ldGhvZE5hbWVzID0gYmFzZUZ1bmN0aW9ucyhzb3VyY2UsIHByb3BzKTtcblxuICAgICAgaWYgKG9wdGlvbnMgPT0gbnVsbCAmJlxuICAgICAgICAgICEoaXNPYmplY3Qoc291cmNlKSAmJiAobWV0aG9kTmFtZXMubGVuZ3RoIHx8ICFwcm9wcy5sZW5ndGgpKSkge1xuICAgICAgICBvcHRpb25zID0gc291cmNlO1xuICAgICAgICBzb3VyY2UgPSBvYmplY3Q7XG4gICAgICAgIG9iamVjdCA9IHRoaXM7XG4gICAgICAgIG1ldGhvZE5hbWVzID0gYmFzZUZ1bmN0aW9ucyhzb3VyY2UsIGtleXMoc291cmNlKSk7XG4gICAgICB9XG4gICAgICB2YXIgY2hhaW4gPSAhKGlzT2JqZWN0KG9wdGlvbnMpICYmICdjaGFpbicgaW4gb3B0aW9ucykgfHwgISFvcHRpb25zLmNoYWluLFxuICAgICAgICAgIGlzRnVuYyA9IGlzRnVuY3Rpb24ob2JqZWN0KTtcblxuICAgICAgYXJyYXlFYWNoKG1ldGhvZE5hbWVzLCBmdW5jdGlvbihtZXRob2ROYW1lKSB7XG4gICAgICAgIHZhciBmdW5jID0gc291cmNlW21ldGhvZE5hbWVdO1xuICAgICAgICBvYmplY3RbbWV0aG9kTmFtZV0gPSBmdW5jO1xuICAgICAgICBpZiAoaXNGdW5jKSB7XG4gICAgICAgICAgb2JqZWN0LnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGNoYWluQWxsID0gdGhpcy5fX2NoYWluX187XG4gICAgICAgICAgICBpZiAoY2hhaW4gfHwgY2hhaW5BbGwpIHtcbiAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IG9iamVjdCh0aGlzLl9fd3JhcHBlZF9fKSxcbiAgICAgICAgICAgICAgICAgIGFjdGlvbnMgPSByZXN1bHQuX19hY3Rpb25zX18gPSBjb3B5QXJyYXkodGhpcy5fX2FjdGlvbnNfXyk7XG5cbiAgICAgICAgICAgICAgYWN0aW9ucy5wdXNoKHsgJ2Z1bmMnOiBmdW5jLCAnYXJncyc6IGFyZ3VtZW50cywgJ3RoaXNBcmcnOiBvYmplY3QgfSk7XG4gICAgICAgICAgICAgIHJlc3VsdC5fX2NoYWluX18gPSBjaGFpbkFsbDtcbiAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KG9iamVjdCwgYXJyYXlQdXNoKFt0aGlzLnZhbHVlKCldLCBhcmd1bWVudHMpKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXZlcnRzIHRoZSBgX2AgdmFyaWFibGUgdG8gaXRzIHByZXZpb3VzIHZhbHVlIGFuZCByZXR1cm5zIGEgcmVmZXJlbmNlIHRvXG4gICAgICogdGhlIGBsb2Rhc2hgIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIGBsb2Rhc2hgIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgbG9kYXNoID0gXy5ub0NvbmZsaWN0KCk7XG4gICAgICovXG4gICAgZnVuY3Rpb24gbm9Db25mbGljdCgpIHtcbiAgICAgIGlmIChyb290Ll8gPT09IHRoaXMpIHtcbiAgICAgICAgcm9vdC5fID0gb2xkRGFzaDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHJldHVybnMgYHVuZGVmaW5lZGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRpbWVzKDIsIF8ubm9vcCk7XG4gICAgICogLy8gPT4gW3VuZGVmaW5lZCwgdW5kZWZpbmVkXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG5vb3AoKSB7XG4gICAgICAvLyBObyBvcGVyYXRpb24gcGVyZm9ybWVkLlxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGdldHMgdGhlIGFyZ3VtZW50IGF0IGluZGV4IGBuYC4gSWYgYG5gIGlzIG5lZ2F0aXZlLFxuICAgICAqIHRoZSBudGggYXJndW1lbnQgZnJvbSB0aGUgZW5kIGlzIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249MF0gVGhlIGluZGV4IG9mIHRoZSBhcmd1bWVudCB0byByZXR1cm4uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcGFzcy10aHJ1IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ubnRoQXJnKDEpO1xuICAgICAqIGZ1bmMoJ2EnLCAnYicsICdjJywgJ2QnKTtcbiAgICAgKiAvLyA9PiAnYidcbiAgICAgKlxuICAgICAqIHZhciBmdW5jID0gXy5udGhBcmcoLTIpO1xuICAgICAqIGZ1bmMoJ2EnLCAnYicsICdjJywgJ2QnKTtcbiAgICAgKiAvLyA9PiAnYydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBudGhBcmcobikge1xuICAgICAgbiA9IHRvSW50ZWdlcihuKTtcbiAgICAgIHJldHVybiBiYXNlUmVzdChmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgIHJldHVybiBiYXNlTnRoKGFyZ3MsIG4pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgaXRlcmF0ZWVzYCB3aXRoIHRoZSBhcmd1bWVudHMgaXQgcmVjZWl2ZXNcbiAgICAgKiBhbmQgcmV0dXJucyB0aGVpciByZXN1bHRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0gey4uLihGdW5jdGlvbnxGdW5jdGlvbltdKX0gW2l0ZXJhdGVlcz1bXy5pZGVudGl0eV1dXG4gICAgICogIFRoZSBpdGVyYXRlZXMgdG8gaW52b2tlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ub3ZlcihbTWF0aC5tYXgsIE1hdGgubWluXSk7XG4gICAgICpcbiAgICAgKiBmdW5jKDEsIDIsIDMsIDQpO1xuICAgICAqIC8vID0+IFs0LCAxXVxuICAgICAqL1xuICAgIHZhciBvdmVyID0gY3JlYXRlT3ZlcihhcnJheU1hcCk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBjaGVja3MgaWYgKiphbGwqKiBvZiB0aGUgYHByZWRpY2F0ZXNgIHJldHVyblxuICAgICAqIHRydXRoeSB3aGVuIGludm9rZWQgd2l0aCB0aGUgYXJndW1lbnRzIGl0IHJlY2VpdmVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0gey4uLihGdW5jdGlvbnxGdW5jdGlvbltdKX0gW3ByZWRpY2F0ZXM9W18uaWRlbnRpdHldXVxuICAgICAqICBUaGUgcHJlZGljYXRlcyB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGZ1bmMgPSBfLm92ZXJFdmVyeShbQm9vbGVhbiwgaXNGaW5pdGVdKTtcbiAgICAgKlxuICAgICAqIGZ1bmMoJzEnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBmdW5jKG51bGwpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBmdW5jKE5hTik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgb3ZlckV2ZXJ5ID0gY3JlYXRlT3ZlcihhcnJheUV2ZXJ5KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGNoZWNrcyBpZiAqKmFueSoqIG9mIHRoZSBgcHJlZGljYXRlc2AgcmV0dXJuXG4gICAgICogdHJ1dGh5IHdoZW4gaW52b2tlZCB3aXRoIHRoZSBhcmd1bWVudHMgaXQgcmVjZWl2ZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbcHJlZGljYXRlcz1bXy5pZGVudGl0eV1dXG4gICAgICogIFRoZSBwcmVkaWNhdGVzIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ub3ZlclNvbWUoW0Jvb2xlYW4sIGlzRmluaXRlXSk7XG4gICAgICpcbiAgICAgKiBmdW5jKCcxJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogZnVuYyhudWxsKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBmdW5jKE5hTik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgb3ZlclNvbWUgPSBjcmVhdGVPdmVyKGFycmF5U29tZSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSB2YWx1ZSBhdCBgcGF0aGAgb2YgYSBnaXZlbiBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi40LjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWNjZXNzb3IgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW1xuICAgICAqICAgeyAnYSc6IHsgJ2InOiAyIH0gfSxcbiAgICAgKiAgIHsgJ2EnOiB7ICdiJzogMSB9IH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5tYXAob2JqZWN0cywgXy5wcm9wZXJ0eSgnYS5iJykpO1xuICAgICAqIC8vID0+IFsyLCAxXVxuICAgICAqXG4gICAgICogXy5tYXAoXy5zb3J0Qnkob2JqZWN0cywgXy5wcm9wZXJ0eShbJ2EnLCAnYiddKSksICdhLmInKTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwcm9wZXJ0eShwYXRoKSB7XG4gICAgICByZXR1cm4gaXNLZXkocGF0aCkgPyBiYXNlUHJvcGVydHkodG9LZXkocGF0aCkpIDogYmFzZVByb3BlcnR5RGVlcChwYXRoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8ucHJvcGVydHlgOyB0aGlzIG1ldGhvZCBjcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zXG4gICAgICogdGhlIHZhbHVlIGF0IGEgZ2l2ZW4gcGF0aCBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFjY2Vzc29yIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMCwgMSwgMl0sXG4gICAgICogICAgIG9iamVjdCA9IHsgJ2EnOiBhcnJheSwgJ2InOiBhcnJheSwgJ2MnOiBhcnJheSB9O1xuICAgICAqXG4gICAgICogXy5tYXAoWydhWzJdJywgJ2NbMF0nXSwgXy5wcm9wZXJ0eU9mKG9iamVjdCkpO1xuICAgICAqIC8vID0+IFsyLCAwXVxuICAgICAqXG4gICAgICogXy5tYXAoW1snYScsICcyJ10sIFsnYycsICcwJ11dLCBfLnByb3BlcnR5T2Yob2JqZWN0KSk7XG4gICAgICogLy8gPT4gWzIsIDBdXG4gICAgICovXG4gICAgZnVuY3Rpb24gcHJvcGVydHlPZihvYmplY3QpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihwYXRoKSB7XG4gICAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IGJhc2VHZXQob2JqZWN0LCBwYXRoKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBudW1iZXJzIChwb3NpdGl2ZSBhbmQvb3IgbmVnYXRpdmUpIHByb2dyZXNzaW5nIGZyb21cbiAgICAgKiBgc3RhcnRgIHVwIHRvLCBidXQgbm90IGluY2x1ZGluZywgYGVuZGAuIEEgc3RlcCBvZiBgLTFgIGlzIHVzZWQgaWYgYSBuZWdhdGl2ZVxuICAgICAqIGBzdGFydGAgaXMgc3BlY2lmaWVkIHdpdGhvdXQgYW4gYGVuZGAgb3IgYHN0ZXBgLiBJZiBgZW5kYCBpcyBub3Qgc3BlY2lmaWVkLFxuICAgICAqIGl0J3Mgc2V0IHRvIGBzdGFydGAgd2l0aCBgc3RhcnRgIHRoZW4gc2V0IHRvIGAwYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBKYXZhU2NyaXB0IGZvbGxvd3MgdGhlIElFRUUtNzU0IHN0YW5kYXJkIGZvciByZXNvbHZpbmdcbiAgICAgKiBmbG9hdGluZy1wb2ludCB2YWx1ZXMgd2hpY2ggY2FuIHByb2R1Y2UgdW5leHBlY3RlZCByZXN1bHRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBUaGUgZW5kIG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0ZXA9MV0gVGhlIHZhbHVlIHRvIGluY3JlbWVudCBvciBkZWNyZW1lbnQgYnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSByYW5nZSBvZiBudW1iZXJzLlxuICAgICAqIEBzZWUgXy5pblJhbmdlLCBfLnJhbmdlUmlnaHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5yYW5nZSg0KTtcbiAgICAgKiAvLyA9PiBbMCwgMSwgMiwgM11cbiAgICAgKlxuICAgICAqIF8ucmFuZ2UoLTQpO1xuICAgICAqIC8vID0+IFswLCAtMSwgLTIsIC0zXVxuICAgICAqXG4gICAgICogXy5yYW5nZSgxLCA1KTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgMywgNF1cbiAgICAgKlxuICAgICAqIF8ucmFuZ2UoMCwgMjAsIDUpO1xuICAgICAqIC8vID0+IFswLCA1LCAxMCwgMTVdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDAsIC00LCAtMSk7XG4gICAgICogLy8gPT4gWzAsIC0xLCAtMiwgLTNdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDEsIDQsIDApO1xuICAgICAqIC8vID0+IFsxLCAxLCAxXVxuICAgICAqXG4gICAgICogXy5yYW5nZSgwKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIHZhciByYW5nZSA9IGNyZWF0ZVJhbmdlKCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnJhbmdlYCBleGNlcHQgdGhhdCBpdCBwb3B1bGF0ZXMgdmFsdWVzIGluXG4gICAgICogZGVzY2VuZGluZyBvcmRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgVGhlIGVuZCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGVwPTFdIFRoZSB2YWx1ZSB0byBpbmNyZW1lbnQgb3IgZGVjcmVtZW50IGJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcmFuZ2Ugb2YgbnVtYmVycy5cbiAgICAgKiBAc2VlIF8uaW5SYW5nZSwgXy5yYW5nZVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoNCk7XG4gICAgICogLy8gPT4gWzMsIDIsIDEsIDBdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoLTQpO1xuICAgICAqIC8vID0+IFstMywgLTIsIC0xLCAwXVxuICAgICAqXG4gICAgICogXy5yYW5nZVJpZ2h0KDEsIDUpO1xuICAgICAqIC8vID0+IFs0LCAzLCAyLCAxXVxuICAgICAqXG4gICAgICogXy5yYW5nZVJpZ2h0KDAsIDIwLCA1KTtcbiAgICAgKiAvLyA9PiBbMTUsIDEwLCA1LCAwXVxuICAgICAqXG4gICAgICogXy5yYW5nZVJpZ2h0KDAsIC00LCAtMSk7XG4gICAgICogLy8gPT4gWy0zLCAtMiwgLTEsIDBdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoMSwgNCwgMCk7XG4gICAgICogLy8gPT4gWzEsIDEsIDFdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoMCk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKi9cbiAgICB2YXIgcmFuZ2VSaWdodCA9IGNyZWF0ZVJhbmdlKHRydWUpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBlbXB0eSBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEzLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGVtcHR5IGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXlzID0gXy50aW1lcygyLCBfLnN0dWJBcnJheSk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheXMpO1xuICAgICAqIC8vID0+IFtbXSwgW11dXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheXNbMF0gPT09IGFycmF5c1sxXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdHViQXJyYXkoKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTMuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50aW1lcygyLCBfLnN0dWJGYWxzZSk7XG4gICAgICogLy8gPT4gW2ZhbHNlLCBmYWxzZV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdHViRmFsc2UoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBlbXB0eSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgZW1wdHkgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IF8udGltZXMoMiwgXy5zdHViT2JqZWN0KTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdHMpO1xuICAgICAqIC8vID0+IFt7fSwge31dXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3RzWzBdID09PSBvYmplY3RzWzFdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0dWJPYmplY3QoKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBhbiBlbXB0eSBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlbXB0eSBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGltZXMoMiwgXy5zdHViU3RyaW5nKTtcbiAgICAgKiAvLyA9PiBbJycsICcnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0dWJTdHJpbmcoKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBgdHJ1ZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGltZXMoMiwgXy5zdHViVHJ1ZSk7XG4gICAgICogLy8gPT4gW3RydWUsIHRydWVdXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3R1YlRydWUoKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnZva2VzIHRoZSBpdGVyYXRlZSBgbmAgdGltZXMsIHJldHVybmluZyBhbiBhcnJheSBvZiB0aGUgcmVzdWx0cyBvZlxuICAgICAqIGVhY2ggaW52b2NhdGlvbi4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ7IChpbmRleCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gaW52b2tlIGBpdGVyYXRlZWAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiByZXN1bHRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRpbWVzKDMsIFN0cmluZyk7XG4gICAgICogLy8gPT4gWycwJywgJzEnLCAnMiddXG4gICAgICpcbiAgICAgKiAgXy50aW1lcyg0LCBfLmNvbnN0YW50KDApKTtcbiAgICAgKiAvLyA9PiBbMCwgMCwgMCwgMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0aW1lcyhuLCBpdGVyYXRlZSkge1xuICAgICAgbiA9IHRvSW50ZWdlcihuKTtcbiAgICAgIGlmIChuIDwgMSB8fCBuID4gTUFYX1NBRkVfSU5URUdFUikge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSBNQVhfQVJSQVlfTEVOR1RILFxuICAgICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1pbihuLCBNQVhfQVJSQVlfTEVOR1RIKTtcblxuICAgICAgaXRlcmF0ZWUgPSBnZXRJdGVyYXRlZShpdGVyYXRlZSk7XG4gICAgICBuIC09IE1BWF9BUlJBWV9MRU5HVEg7XG5cbiAgICAgIHZhciByZXN1bHQgPSBiYXNlVGltZXMobGVuZ3RoLCBpdGVyYXRlZSk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IG4pIHtcbiAgICAgICAgaXRlcmF0ZWUoaW5kZXgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgcHJvcGVydHkgcGF0aCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvUGF0aCgnYS5iLmMnKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYicsICdjJ11cbiAgICAgKlxuICAgICAqIF8udG9QYXRoKCdhWzBdLmIuYycpO1xuICAgICAqIC8vID0+IFsnYScsICcwJywgJ2InLCAnYyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9QYXRoKHZhbHVlKSB7XG4gICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGFycmF5TWFwKHZhbHVlLCB0b0tleSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXNTeW1ib2wodmFsdWUpID8gW3ZhbHVlXSA6IGNvcHlBcnJheShzdHJpbmdUb1BhdGgodG9TdHJpbmcodmFsdWUpKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGEgdW5pcXVlIElELiBJZiBgcHJlZml4YCBpcyBnaXZlbiwgdGhlIElEIGlzIGFwcGVuZGVkIHRvIGl0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3ByZWZpeD0nJ10gVGhlIHZhbHVlIHRvIHByZWZpeCB0aGUgSUQgd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB1bmlxdWUgSUQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udW5pcXVlSWQoJ2NvbnRhY3RfJyk7XG4gICAgICogLy8gPT4gJ2NvbnRhY3RfMTA0J1xuICAgICAqXG4gICAgICogXy51bmlxdWVJZCgpO1xuICAgICAqIC8vID0+ICcxMDUnXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5pcXVlSWQocHJlZml4KSB7XG4gICAgICB2YXIgaWQgPSArK2lkQ291bnRlcjtcbiAgICAgIHJldHVybiB0b1N0cmluZyhwcmVmaXgpICsgaWQ7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQWRkcyB0d28gbnVtYmVycy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjQuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGF1Z2VuZCBUaGUgZmlyc3QgbnVtYmVyIGluIGFuIGFkZGl0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhZGRlbmQgVGhlIHNlY29uZCBudW1iZXIgaW4gYW4gYWRkaXRpb24uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdG90YWwuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uYWRkKDYsIDQpO1xuICAgICAqIC8vID0+IDEwXG4gICAgICovXG4gICAgdmFyIGFkZCA9IGNyZWF0ZU1hdGhPcGVyYXRpb24oZnVuY3Rpb24oYXVnZW5kLCBhZGRlbmQpIHtcbiAgICAgIHJldHVybiBhdWdlbmQgKyBhZGRlbmQ7XG4gICAgfSwgMCk7XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBgbnVtYmVyYCByb3VuZGVkIHVwIHRvIGBwcmVjaXNpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMTAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIHJvdW5kIHVwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcHJlY2lzaW9uPTBdIFRoZSBwcmVjaXNpb24gdG8gcm91bmQgdXAgdG8uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcm91bmRlZCB1cCBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY2VpbCg0LjAwNik7XG4gICAgICogLy8gPT4gNVxuICAgICAqXG4gICAgICogXy5jZWlsKDYuMDA0LCAyKTtcbiAgICAgKiAvLyA9PiA2LjAxXG4gICAgICpcbiAgICAgKiBfLmNlaWwoNjA0MCwgLTIpO1xuICAgICAqIC8vID0+IDYxMDBcbiAgICAgKi9cbiAgICB2YXIgY2VpbCA9IGNyZWF0ZVJvdW5kKCdjZWlsJyk7XG5cbiAgICAvKipcbiAgICAgKiBEaXZpZGUgdHdvIG51bWJlcnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkaXZpZGVuZCBUaGUgZmlyc3QgbnVtYmVyIGluIGEgZGl2aXNpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRpdmlzb3IgVGhlIHNlY29uZCBudW1iZXIgaW4gYSBkaXZpc2lvbi5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBxdW90aWVudC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kaXZpZGUoNiwgNCk7XG4gICAgICogLy8gPT4gMS41XG4gICAgICovXG4gICAgdmFyIGRpdmlkZSA9IGNyZWF0ZU1hdGhPcGVyYXRpb24oZnVuY3Rpb24oZGl2aWRlbmQsIGRpdmlzb3IpIHtcbiAgICAgIHJldHVybiBkaXZpZGVuZCAvIGRpdmlzb3I7XG4gICAgfSwgMSk7XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBgbnVtYmVyYCByb3VuZGVkIGRvd24gdG8gYHByZWNpc2lvbmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4xMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gcm91bmQgZG93bi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3ByZWNpc2lvbj0wXSBUaGUgcHJlY2lzaW9uIHRvIHJvdW5kIGRvd24gdG8uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcm91bmRlZCBkb3duIG51bWJlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mbG9vcig0LjAwNik7XG4gICAgICogLy8gPT4gNFxuICAgICAqXG4gICAgICogXy5mbG9vcigwLjA0NiwgMik7XG4gICAgICogLy8gPT4gMC4wNFxuICAgICAqXG4gICAgICogXy5mbG9vcig0MDYwLCAtMik7XG4gICAgICogLy8gPT4gNDAwMFxuICAgICAqL1xuICAgIHZhciBmbG9vciA9IGNyZWF0ZVJvdW5kKCdmbG9vcicpO1xuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgdGhlIG1heGltdW0gdmFsdWUgb2YgYGFycmF5YC4gSWYgYGFycmF5YCBpcyBlbXB0eSBvciBmYWxzZXksXG4gICAgICogYHVuZGVmaW5lZGAgaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1heGltdW0gdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWF4KFs0LCAyLCA4LCA2XSk7XG4gICAgICogLy8gPT4gOFxuICAgICAqXG4gICAgICogXy5tYXgoW10pO1xuICAgICAqIC8vID0+IHVuZGVmaW5lZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1heChhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZUV4dHJlbXVtKGFycmF5LCBpZGVudGl0eSwgYmFzZUd0KVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLm1heGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IGluIGBhcnJheWAgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvbiBieSB3aGljaFxuICAgICAqIHRoZSB2YWx1ZSBpcyByYW5rZWQuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWF4aW11bSB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAnbic6IDEgfSwgeyAnbic6IDIgfV07XG4gICAgICpcbiAgICAgKiBfLm1heEJ5KG9iamVjdHMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8ubjsgfSk7XG4gICAgICogLy8gPT4geyAnbic6IDIgfVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5tYXhCeShvYmplY3RzLCAnbicpO1xuICAgICAqIC8vID0+IHsgJ24nOiAyIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXhCeShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VFeHRyZW11bShhcnJheSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpLCBiYXNlR3QpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIHRoZSBtZWFuIG9mIHRoZSB2YWx1ZXMgaW4gYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBtZWFuLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLm1lYW4oWzQsIDIsIDgsIDZdKTtcbiAgICAgKiAvLyA9PiA1XG4gICAgICovXG4gICAgZnVuY3Rpb24gbWVhbihhcnJheSkge1xuICAgICAgcmV0dXJuIGJhc2VNZWFuKGFycmF5LCBpZGVudGl0eSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5tZWFuYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgaW4gYGFycmF5YCB0byBnZW5lcmF0ZSB0aGUgdmFsdWUgdG8gYmUgYXZlcmFnZWQuXG4gICAgICogVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG1lYW4uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ24nOiA0IH0sIHsgJ24nOiAyIH0sIHsgJ24nOiA4IH0sIHsgJ24nOiA2IH1dO1xuICAgICAqXG4gICAgICogXy5tZWFuQnkob2JqZWN0cywgZnVuY3Rpb24obykgeyByZXR1cm4gby5uOyB9KTtcbiAgICAgKiAvLyA9PiA1XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLm1lYW5CeShvYmplY3RzLCAnbicpO1xuICAgICAqIC8vID0+IDVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtZWFuQnkoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gYmFzZU1lYW4oYXJyYXksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgdGhlIG1pbmltdW0gdmFsdWUgb2YgYGFycmF5YC4gSWYgYGFycmF5YCBpcyBlbXB0eSBvciBmYWxzZXksXG4gICAgICogYHVuZGVmaW5lZGAgaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1pbmltdW0gdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWluKFs0LCAyLCA4LCA2XSk7XG4gICAgICogLy8gPT4gMlxuICAgICAqXG4gICAgICogXy5taW4oW10pO1xuICAgICAqIC8vID0+IHVuZGVmaW5lZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1pbihhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZUV4dHJlbXVtKGFycmF5LCBpZGVudGl0eSwgYmFzZUx0KVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLm1pbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IGluIGBhcnJheWAgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvbiBieSB3aGljaFxuICAgICAqIHRoZSB2YWx1ZSBpcyByYW5rZWQuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWluaW11bSB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAnbic6IDEgfSwgeyAnbic6IDIgfV07XG4gICAgICpcbiAgICAgKiBfLm1pbkJ5KG9iamVjdHMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8ubjsgfSk7XG4gICAgICogLy8gPT4geyAnbic6IDEgfVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5taW5CeShvYmplY3RzLCAnbicpO1xuICAgICAqIC8vID0+IHsgJ24nOiAxIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtaW5CeShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VFeHRyZW11bShhcnJheSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpLCBiYXNlTHQpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE11bHRpcGx5IHR3byBudW1iZXJzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNy4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbXVsdGlwbGllciBUaGUgZmlyc3QgbnVtYmVyIGluIGEgbXVsdGlwbGljYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG11bHRpcGxpY2FuZCBUaGUgc2Vjb25kIG51bWJlciBpbiBhIG11bHRpcGxpY2F0aW9uLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHByb2R1Y3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubXVsdGlwbHkoNiwgNCk7XG4gICAgICogLy8gPT4gMjRcbiAgICAgKi9cbiAgICB2YXIgbXVsdGlwbHkgPSBjcmVhdGVNYXRoT3BlcmF0aW9uKGZ1bmN0aW9uKG11bHRpcGxpZXIsIG11bHRpcGxpY2FuZCkge1xuICAgICAgcmV0dXJuIG11bHRpcGxpZXIgKiBtdWx0aXBsaWNhbmQ7XG4gICAgfSwgMSk7XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBgbnVtYmVyYCByb3VuZGVkIHRvIGBwcmVjaXNpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMTAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIHJvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcHJlY2lzaW9uPTBdIFRoZSBwcmVjaXNpb24gdG8gcm91bmQgdG8uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcm91bmRlZCBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucm91bmQoNC4wMDYpO1xuICAgICAqIC8vID0+IDRcbiAgICAgKlxuICAgICAqIF8ucm91bmQoNC4wMDYsIDIpO1xuICAgICAqIC8vID0+IDQuMDFcbiAgICAgKlxuICAgICAqIF8ucm91bmQoNDA2MCwgLTIpO1xuICAgICAqIC8vID0+IDQxMDBcbiAgICAgKi9cbiAgICB2YXIgcm91bmQgPSBjcmVhdGVSb3VuZCgncm91bmQnKTtcblxuICAgIC8qKlxuICAgICAqIFN1YnRyYWN0IHR3byBudW1iZXJzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWludWVuZCBUaGUgZmlyc3QgbnVtYmVyIGluIGEgc3VidHJhY3Rpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN1YnRyYWhlbmQgVGhlIHNlY29uZCBudW1iZXIgaW4gYSBzdWJ0cmFjdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBkaWZmZXJlbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnN1YnRyYWN0KDYsIDQpO1xuICAgICAqIC8vID0+IDJcbiAgICAgKi9cbiAgICB2YXIgc3VidHJhY3QgPSBjcmVhdGVNYXRoT3BlcmF0aW9uKGZ1bmN0aW9uKG1pbnVlbmQsIHN1YnRyYWhlbmQpIHtcbiAgICAgIHJldHVybiBtaW51ZW5kIC0gc3VidHJhaGVuZDtcbiAgICB9LCAwKTtcblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIHRoZSBzdW0gb2YgdGhlIHZhbHVlcyBpbiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuNC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHN1bS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zdW0oWzQsIDIsIDgsIDZdKTtcbiAgICAgKiAvLyA9PiAyMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN1bShhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVN1bShhcnJheSwgaWRlbnRpdHkpXG4gICAgICAgIDogMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnN1bWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IGluIGBhcnJheWAgdG8gZ2VuZXJhdGUgdGhlIHZhbHVlIHRvIGJlIHN1bW1lZC5cbiAgICAgKiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc3VtLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICduJzogNCB9LCB7ICduJzogMiB9LCB7ICduJzogOCB9LCB7ICduJzogNiB9XTtcbiAgICAgKlxuICAgICAqIF8uc3VtQnkob2JqZWN0cywgZnVuY3Rpb24obykgeyByZXR1cm4gby5uOyB9KTtcbiAgICAgKiAvLyA9PiAyMFxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5zdW1CeShvYmplY3RzLCAnbicpO1xuICAgICAqIC8vID0+IDIwXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3VtQnkoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlU3VtKGFycmF5LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpXG4gICAgICAgIDogMDtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0aGF0IHJldHVybiB3cmFwcGVkIHZhbHVlcyBpbiBjaGFpbiBzZXF1ZW5jZXMuXG4gICAgbG9kYXNoLmFmdGVyID0gYWZ0ZXI7XG4gICAgbG9kYXNoLmFyeSA9IGFyeTtcbiAgICBsb2Rhc2guYXNzaWduID0gYXNzaWduO1xuICAgIGxvZGFzaC5hc3NpZ25JbiA9IGFzc2lnbkluO1xuICAgIGxvZGFzaC5hc3NpZ25JbldpdGggPSBhc3NpZ25JbldpdGg7XG4gICAgbG9kYXNoLmFzc2lnbldpdGggPSBhc3NpZ25XaXRoO1xuICAgIGxvZGFzaC5hdCA9IGF0O1xuICAgIGxvZGFzaC5iZWZvcmUgPSBiZWZvcmU7XG4gICAgbG9kYXNoLmJpbmQgPSBiaW5kO1xuICAgIGxvZGFzaC5iaW5kQWxsID0gYmluZEFsbDtcbiAgICBsb2Rhc2guYmluZEtleSA9IGJpbmRLZXk7XG4gICAgbG9kYXNoLmNhc3RBcnJheSA9IGNhc3RBcnJheTtcbiAgICBsb2Rhc2guY2hhaW4gPSBjaGFpbjtcbiAgICBsb2Rhc2guY2h1bmsgPSBjaHVuaztcbiAgICBsb2Rhc2guY29tcGFjdCA9IGNvbXBhY3Q7XG4gICAgbG9kYXNoLmNvbmNhdCA9IGNvbmNhdDtcbiAgICBsb2Rhc2guY29uZCA9IGNvbmQ7XG4gICAgbG9kYXNoLmNvbmZvcm1zID0gY29uZm9ybXM7XG4gICAgbG9kYXNoLmNvbnN0YW50ID0gY29uc3RhbnQ7XG4gICAgbG9kYXNoLmNvdW50QnkgPSBjb3VudEJ5O1xuICAgIGxvZGFzaC5jcmVhdGUgPSBjcmVhdGU7XG4gICAgbG9kYXNoLmN1cnJ5ID0gY3Vycnk7XG4gICAgbG9kYXNoLmN1cnJ5UmlnaHQgPSBjdXJyeVJpZ2h0O1xuICAgIGxvZGFzaC5kZWJvdW5jZSA9IGRlYm91bmNlO1xuICAgIGxvZGFzaC5kZWZhdWx0cyA9IGRlZmF1bHRzO1xuICAgIGxvZGFzaC5kZWZhdWx0c0RlZXAgPSBkZWZhdWx0c0RlZXA7XG4gICAgbG9kYXNoLmRlZmVyID0gZGVmZXI7XG4gICAgbG9kYXNoLmRlbGF5ID0gZGVsYXk7XG4gICAgbG9kYXNoLmRpZmZlcmVuY2UgPSBkaWZmZXJlbmNlO1xuICAgIGxvZGFzaC5kaWZmZXJlbmNlQnkgPSBkaWZmZXJlbmNlQnk7XG4gICAgbG9kYXNoLmRpZmZlcmVuY2VXaXRoID0gZGlmZmVyZW5jZVdpdGg7XG4gICAgbG9kYXNoLmRyb3AgPSBkcm9wO1xuICAgIGxvZGFzaC5kcm9wUmlnaHQgPSBkcm9wUmlnaHQ7XG4gICAgbG9kYXNoLmRyb3BSaWdodFdoaWxlID0gZHJvcFJpZ2h0V2hpbGU7XG4gICAgbG9kYXNoLmRyb3BXaGlsZSA9IGRyb3BXaGlsZTtcbiAgICBsb2Rhc2guZmlsbCA9IGZpbGw7XG4gICAgbG9kYXNoLmZpbHRlciA9IGZpbHRlcjtcbiAgICBsb2Rhc2guZmxhdE1hcCA9IGZsYXRNYXA7XG4gICAgbG9kYXNoLmZsYXRNYXBEZWVwID0gZmxhdE1hcERlZXA7XG4gICAgbG9kYXNoLmZsYXRNYXBEZXB0aCA9IGZsYXRNYXBEZXB0aDtcbiAgICBsb2Rhc2guZmxhdHRlbiA9IGZsYXR0ZW47XG4gICAgbG9kYXNoLmZsYXR0ZW5EZWVwID0gZmxhdHRlbkRlZXA7XG4gICAgbG9kYXNoLmZsYXR0ZW5EZXB0aCA9IGZsYXR0ZW5EZXB0aDtcbiAgICBsb2Rhc2guZmxpcCA9IGZsaXA7XG4gICAgbG9kYXNoLmZsb3cgPSBmbG93O1xuICAgIGxvZGFzaC5mbG93UmlnaHQgPSBmbG93UmlnaHQ7XG4gICAgbG9kYXNoLmZyb21QYWlycyA9IGZyb21QYWlycztcbiAgICBsb2Rhc2guZnVuY3Rpb25zID0gZnVuY3Rpb25zO1xuICAgIGxvZGFzaC5mdW5jdGlvbnNJbiA9IGZ1bmN0aW9uc0luO1xuICAgIGxvZGFzaC5ncm91cEJ5ID0gZ3JvdXBCeTtcbiAgICBsb2Rhc2guaW5pdGlhbCA9IGluaXRpYWw7XG4gICAgbG9kYXNoLmludGVyc2VjdGlvbiA9IGludGVyc2VjdGlvbjtcbiAgICBsb2Rhc2guaW50ZXJzZWN0aW9uQnkgPSBpbnRlcnNlY3Rpb25CeTtcbiAgICBsb2Rhc2guaW50ZXJzZWN0aW9uV2l0aCA9IGludGVyc2VjdGlvbldpdGg7XG4gICAgbG9kYXNoLmludmVydCA9IGludmVydDtcbiAgICBsb2Rhc2guaW52ZXJ0QnkgPSBpbnZlcnRCeTtcbiAgICBsb2Rhc2guaW52b2tlTWFwID0gaW52b2tlTWFwO1xuICAgIGxvZGFzaC5pdGVyYXRlZSA9IGl0ZXJhdGVlO1xuICAgIGxvZGFzaC5rZXlCeSA9IGtleUJ5O1xuICAgIGxvZGFzaC5rZXlzID0ga2V5cztcbiAgICBsb2Rhc2gua2V5c0luID0ga2V5c0luO1xuICAgIGxvZGFzaC5tYXAgPSBtYXA7XG4gICAgbG9kYXNoLm1hcEtleXMgPSBtYXBLZXlzO1xuICAgIGxvZGFzaC5tYXBWYWx1ZXMgPSBtYXBWYWx1ZXM7XG4gICAgbG9kYXNoLm1hdGNoZXMgPSBtYXRjaGVzO1xuICAgIGxvZGFzaC5tYXRjaGVzUHJvcGVydHkgPSBtYXRjaGVzUHJvcGVydHk7XG4gICAgbG9kYXNoLm1lbW9pemUgPSBtZW1vaXplO1xuICAgIGxvZGFzaC5tZXJnZSA9IG1lcmdlO1xuICAgIGxvZGFzaC5tZXJnZVdpdGggPSBtZXJnZVdpdGg7XG4gICAgbG9kYXNoLm1ldGhvZCA9IG1ldGhvZDtcbiAgICBsb2Rhc2gubWV0aG9kT2YgPSBtZXRob2RPZjtcbiAgICBsb2Rhc2gubWl4aW4gPSBtaXhpbjtcbiAgICBsb2Rhc2gubmVnYXRlID0gbmVnYXRlO1xuICAgIGxvZGFzaC5udGhBcmcgPSBudGhBcmc7XG4gICAgbG9kYXNoLm9taXQgPSBvbWl0O1xuICAgIGxvZGFzaC5vbWl0QnkgPSBvbWl0Qnk7XG4gICAgbG9kYXNoLm9uY2UgPSBvbmNlO1xuICAgIGxvZGFzaC5vcmRlckJ5ID0gb3JkZXJCeTtcbiAgICBsb2Rhc2gub3ZlciA9IG92ZXI7XG4gICAgbG9kYXNoLm92ZXJBcmdzID0gb3ZlckFyZ3M7XG4gICAgbG9kYXNoLm92ZXJFdmVyeSA9IG92ZXJFdmVyeTtcbiAgICBsb2Rhc2gub3ZlclNvbWUgPSBvdmVyU29tZTtcbiAgICBsb2Rhc2gucGFydGlhbCA9IHBhcnRpYWw7XG4gICAgbG9kYXNoLnBhcnRpYWxSaWdodCA9IHBhcnRpYWxSaWdodDtcbiAgICBsb2Rhc2gucGFydGl0aW9uID0gcGFydGl0aW9uO1xuICAgIGxvZGFzaC5waWNrID0gcGljaztcbiAgICBsb2Rhc2gucGlja0J5ID0gcGlja0J5O1xuICAgIGxvZGFzaC5wcm9wZXJ0eSA9IHByb3BlcnR5O1xuICAgIGxvZGFzaC5wcm9wZXJ0eU9mID0gcHJvcGVydHlPZjtcbiAgICBsb2Rhc2gucHVsbCA9IHB1bGw7XG4gICAgbG9kYXNoLnB1bGxBbGwgPSBwdWxsQWxsO1xuICAgIGxvZGFzaC5wdWxsQWxsQnkgPSBwdWxsQWxsQnk7XG4gICAgbG9kYXNoLnB1bGxBbGxXaXRoID0gcHVsbEFsbFdpdGg7XG4gICAgbG9kYXNoLnB1bGxBdCA9IHB1bGxBdDtcbiAgICBsb2Rhc2gucmFuZ2UgPSByYW5nZTtcbiAgICBsb2Rhc2gucmFuZ2VSaWdodCA9IHJhbmdlUmlnaHQ7XG4gICAgbG9kYXNoLnJlYXJnID0gcmVhcmc7XG4gICAgbG9kYXNoLnJlamVjdCA9IHJlamVjdDtcbiAgICBsb2Rhc2gucmVtb3ZlID0gcmVtb3ZlO1xuICAgIGxvZGFzaC5yZXN0ID0gcmVzdDtcbiAgICBsb2Rhc2gucmV2ZXJzZSA9IHJldmVyc2U7XG4gICAgbG9kYXNoLnNhbXBsZVNpemUgPSBzYW1wbGVTaXplO1xuICAgIGxvZGFzaC5zZXQgPSBzZXQ7XG4gICAgbG9kYXNoLnNldFdpdGggPSBzZXRXaXRoO1xuICAgIGxvZGFzaC5zaHVmZmxlID0gc2h1ZmZsZTtcbiAgICBsb2Rhc2guc2xpY2UgPSBzbGljZTtcbiAgICBsb2Rhc2guc29ydEJ5ID0gc29ydEJ5O1xuICAgIGxvZGFzaC5zb3J0ZWRVbmlxID0gc29ydGVkVW5pcTtcbiAgICBsb2Rhc2guc29ydGVkVW5pcUJ5ID0gc29ydGVkVW5pcUJ5O1xuICAgIGxvZGFzaC5zcGxpdCA9IHNwbGl0O1xuICAgIGxvZGFzaC5zcHJlYWQgPSBzcHJlYWQ7XG4gICAgbG9kYXNoLnRhaWwgPSB0YWlsO1xuICAgIGxvZGFzaC50YWtlID0gdGFrZTtcbiAgICBsb2Rhc2gudGFrZVJpZ2h0ID0gdGFrZVJpZ2h0O1xuICAgIGxvZGFzaC50YWtlUmlnaHRXaGlsZSA9IHRha2VSaWdodFdoaWxlO1xuICAgIGxvZGFzaC50YWtlV2hpbGUgPSB0YWtlV2hpbGU7XG4gICAgbG9kYXNoLnRhcCA9IHRhcDtcbiAgICBsb2Rhc2gudGhyb3R0bGUgPSB0aHJvdHRsZTtcbiAgICBsb2Rhc2gudGhydSA9IHRocnU7XG4gICAgbG9kYXNoLnRvQXJyYXkgPSB0b0FycmF5O1xuICAgIGxvZGFzaC50b1BhaXJzID0gdG9QYWlycztcbiAgICBsb2Rhc2gudG9QYWlyc0luID0gdG9QYWlyc0luO1xuICAgIGxvZGFzaC50b1BhdGggPSB0b1BhdGg7XG4gICAgbG9kYXNoLnRvUGxhaW5PYmplY3QgPSB0b1BsYWluT2JqZWN0O1xuICAgIGxvZGFzaC50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgbG9kYXNoLnVuYXJ5ID0gdW5hcnk7XG4gICAgbG9kYXNoLnVuaW9uID0gdW5pb247XG4gICAgbG9kYXNoLnVuaW9uQnkgPSB1bmlvbkJ5O1xuICAgIGxvZGFzaC51bmlvbldpdGggPSB1bmlvbldpdGg7XG4gICAgbG9kYXNoLnVuaXEgPSB1bmlxO1xuICAgIGxvZGFzaC51bmlxQnkgPSB1bmlxQnk7XG4gICAgbG9kYXNoLnVuaXFXaXRoID0gdW5pcVdpdGg7XG4gICAgbG9kYXNoLnVuc2V0ID0gdW5zZXQ7XG4gICAgbG9kYXNoLnVuemlwID0gdW56aXA7XG4gICAgbG9kYXNoLnVuemlwV2l0aCA9IHVuemlwV2l0aDtcbiAgICBsb2Rhc2gudXBkYXRlID0gdXBkYXRlO1xuICAgIGxvZGFzaC51cGRhdGVXaXRoID0gdXBkYXRlV2l0aDtcbiAgICBsb2Rhc2gudmFsdWVzID0gdmFsdWVzO1xuICAgIGxvZGFzaC52YWx1ZXNJbiA9IHZhbHVlc0luO1xuICAgIGxvZGFzaC53aXRob3V0ID0gd2l0aG91dDtcbiAgICBsb2Rhc2gud29yZHMgPSB3b3JkcztcbiAgICBsb2Rhc2gud3JhcCA9IHdyYXA7XG4gICAgbG9kYXNoLnhvciA9IHhvcjtcbiAgICBsb2Rhc2gueG9yQnkgPSB4b3JCeTtcbiAgICBsb2Rhc2gueG9yV2l0aCA9IHhvcldpdGg7XG4gICAgbG9kYXNoLnppcCA9IHppcDtcbiAgICBsb2Rhc2guemlwT2JqZWN0ID0gemlwT2JqZWN0O1xuICAgIGxvZGFzaC56aXBPYmplY3REZWVwID0gemlwT2JqZWN0RGVlcDtcbiAgICBsb2Rhc2guemlwV2l0aCA9IHppcFdpdGg7XG5cbiAgICAvLyBBZGQgYWxpYXNlcy5cbiAgICBsb2Rhc2guZW50cmllcyA9IHRvUGFpcnM7XG4gICAgbG9kYXNoLmVudHJpZXNJbiA9IHRvUGFpcnNJbjtcbiAgICBsb2Rhc2guZXh0ZW5kID0gYXNzaWduSW47XG4gICAgbG9kYXNoLmV4dGVuZFdpdGggPSBhc3NpZ25JbldpdGg7XG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0byBgbG9kYXNoLnByb3RvdHlwZWAuXG4gICAgbWl4aW4obG9kYXNoLCBsb2Rhc2gpO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLy8gQWRkIG1ldGhvZHMgdGhhdCByZXR1cm4gdW53cmFwcGVkIHZhbHVlcyBpbiBjaGFpbiBzZXF1ZW5jZXMuXG4gICAgbG9kYXNoLmFkZCA9IGFkZDtcbiAgICBsb2Rhc2guYXR0ZW1wdCA9IGF0dGVtcHQ7XG4gICAgbG9kYXNoLmNhbWVsQ2FzZSA9IGNhbWVsQ2FzZTtcbiAgICBsb2Rhc2guY2FwaXRhbGl6ZSA9IGNhcGl0YWxpemU7XG4gICAgbG9kYXNoLmNlaWwgPSBjZWlsO1xuICAgIGxvZGFzaC5jbGFtcCA9IGNsYW1wO1xuICAgIGxvZGFzaC5jbG9uZSA9IGNsb25lO1xuICAgIGxvZGFzaC5jbG9uZURlZXAgPSBjbG9uZURlZXA7XG4gICAgbG9kYXNoLmNsb25lRGVlcFdpdGggPSBjbG9uZURlZXBXaXRoO1xuICAgIGxvZGFzaC5jbG9uZVdpdGggPSBjbG9uZVdpdGg7XG4gICAgbG9kYXNoLmNvbmZvcm1zVG8gPSBjb25mb3Jtc1RvO1xuICAgIGxvZGFzaC5kZWJ1cnIgPSBkZWJ1cnI7XG4gICAgbG9kYXNoLmRlZmF1bHRUbyA9IGRlZmF1bHRUbztcbiAgICBsb2Rhc2guZGl2aWRlID0gZGl2aWRlO1xuICAgIGxvZGFzaC5lbmRzV2l0aCA9IGVuZHNXaXRoO1xuICAgIGxvZGFzaC5lcSA9IGVxO1xuICAgIGxvZGFzaC5lc2NhcGUgPSBlc2NhcGU7XG4gICAgbG9kYXNoLmVzY2FwZVJlZ0V4cCA9IGVzY2FwZVJlZ0V4cDtcbiAgICBsb2Rhc2guZXZlcnkgPSBldmVyeTtcbiAgICBsb2Rhc2guZmluZCA9IGZpbmQ7XG4gICAgbG9kYXNoLmZpbmRJbmRleCA9IGZpbmRJbmRleDtcbiAgICBsb2Rhc2guZmluZEtleSA9IGZpbmRLZXk7XG4gICAgbG9kYXNoLmZpbmRMYXN0ID0gZmluZExhc3Q7XG4gICAgbG9kYXNoLmZpbmRMYXN0SW5kZXggPSBmaW5kTGFzdEluZGV4O1xuICAgIGxvZGFzaC5maW5kTGFzdEtleSA9IGZpbmRMYXN0S2V5O1xuICAgIGxvZGFzaC5mbG9vciA9IGZsb29yO1xuICAgIGxvZGFzaC5mb3JFYWNoID0gZm9yRWFjaDtcbiAgICBsb2Rhc2guZm9yRWFjaFJpZ2h0ID0gZm9yRWFjaFJpZ2h0O1xuICAgIGxvZGFzaC5mb3JJbiA9IGZvckluO1xuICAgIGxvZGFzaC5mb3JJblJpZ2h0ID0gZm9ySW5SaWdodDtcbiAgICBsb2Rhc2guZm9yT3duID0gZm9yT3duO1xuICAgIGxvZGFzaC5mb3JPd25SaWdodCA9IGZvck93blJpZ2h0O1xuICAgIGxvZGFzaC5nZXQgPSBnZXQ7XG4gICAgbG9kYXNoLmd0ID0gZ3Q7XG4gICAgbG9kYXNoLmd0ZSA9IGd0ZTtcbiAgICBsb2Rhc2guaGFzID0gaGFzO1xuICAgIGxvZGFzaC5oYXNJbiA9IGhhc0luO1xuICAgIGxvZGFzaC5oZWFkID0gaGVhZDtcbiAgICBsb2Rhc2guaWRlbnRpdHkgPSBpZGVudGl0eTtcbiAgICBsb2Rhc2guaW5jbHVkZXMgPSBpbmNsdWRlcztcbiAgICBsb2Rhc2guaW5kZXhPZiA9IGluZGV4T2Y7XG4gICAgbG9kYXNoLmluUmFuZ2UgPSBpblJhbmdlO1xuICAgIGxvZGFzaC5pbnZva2UgPSBpbnZva2U7XG4gICAgbG9kYXNoLmlzQXJndW1lbnRzID0gaXNBcmd1bWVudHM7XG4gICAgbG9kYXNoLmlzQXJyYXkgPSBpc0FycmF5O1xuICAgIGxvZGFzaC5pc0FycmF5QnVmZmVyID0gaXNBcnJheUJ1ZmZlcjtcbiAgICBsb2Rhc2guaXNBcnJheUxpa2UgPSBpc0FycmF5TGlrZTtcbiAgICBsb2Rhc2guaXNBcnJheUxpa2VPYmplY3QgPSBpc0FycmF5TGlrZU9iamVjdDtcbiAgICBsb2Rhc2guaXNCb29sZWFuID0gaXNCb29sZWFuO1xuICAgIGxvZGFzaC5pc0J1ZmZlciA9IGlzQnVmZmVyO1xuICAgIGxvZGFzaC5pc0RhdGUgPSBpc0RhdGU7XG4gICAgbG9kYXNoLmlzRWxlbWVudCA9IGlzRWxlbWVudDtcbiAgICBsb2Rhc2guaXNFbXB0eSA9IGlzRW1wdHk7XG4gICAgbG9kYXNoLmlzRXF1YWwgPSBpc0VxdWFsO1xuICAgIGxvZGFzaC5pc0VxdWFsV2l0aCA9IGlzRXF1YWxXaXRoO1xuICAgIGxvZGFzaC5pc0Vycm9yID0gaXNFcnJvcjtcbiAgICBsb2Rhc2guaXNGaW5pdGUgPSBpc0Zpbml0ZTtcbiAgICBsb2Rhc2guaXNGdW5jdGlvbiA9IGlzRnVuY3Rpb247XG4gICAgbG9kYXNoLmlzSW50ZWdlciA9IGlzSW50ZWdlcjtcbiAgICBsb2Rhc2guaXNMZW5ndGggPSBpc0xlbmd0aDtcbiAgICBsb2Rhc2guaXNNYXAgPSBpc01hcDtcbiAgICBsb2Rhc2guaXNNYXRjaCA9IGlzTWF0Y2g7XG4gICAgbG9kYXNoLmlzTWF0Y2hXaXRoID0gaXNNYXRjaFdpdGg7XG4gICAgbG9kYXNoLmlzTmFOID0gaXNOYU47XG4gICAgbG9kYXNoLmlzTmF0aXZlID0gaXNOYXRpdmU7XG4gICAgbG9kYXNoLmlzTmlsID0gaXNOaWw7XG4gICAgbG9kYXNoLmlzTnVsbCA9IGlzTnVsbDtcbiAgICBsb2Rhc2guaXNOdW1iZXIgPSBpc051bWJlcjtcbiAgICBsb2Rhc2guaXNPYmplY3QgPSBpc09iamVjdDtcbiAgICBsb2Rhc2guaXNPYmplY3RMaWtlID0gaXNPYmplY3RMaWtlO1xuICAgIGxvZGFzaC5pc1BsYWluT2JqZWN0ID0gaXNQbGFpbk9iamVjdDtcbiAgICBsb2Rhc2guaXNSZWdFeHAgPSBpc1JlZ0V4cDtcbiAgICBsb2Rhc2guaXNTYWZlSW50ZWdlciA9IGlzU2FmZUludGVnZXI7XG4gICAgbG9kYXNoLmlzU2V0ID0gaXNTZXQ7XG4gICAgbG9kYXNoLmlzU3RyaW5nID0gaXNTdHJpbmc7XG4gICAgbG9kYXNoLmlzU3ltYm9sID0gaXNTeW1ib2w7XG4gICAgbG9kYXNoLmlzVHlwZWRBcnJheSA9IGlzVHlwZWRBcnJheTtcbiAgICBsb2Rhc2guaXNVbmRlZmluZWQgPSBpc1VuZGVmaW5lZDtcbiAgICBsb2Rhc2guaXNXZWFrTWFwID0gaXNXZWFrTWFwO1xuICAgIGxvZGFzaC5pc1dlYWtTZXQgPSBpc1dlYWtTZXQ7XG4gICAgbG9kYXNoLmpvaW4gPSBqb2luO1xuICAgIGxvZGFzaC5rZWJhYkNhc2UgPSBrZWJhYkNhc2U7XG4gICAgbG9kYXNoLmxhc3QgPSBsYXN0O1xuICAgIGxvZGFzaC5sYXN0SW5kZXhPZiA9IGxhc3RJbmRleE9mO1xuICAgIGxvZGFzaC5sb3dlckNhc2UgPSBsb3dlckNhc2U7XG4gICAgbG9kYXNoLmxvd2VyRmlyc3QgPSBsb3dlckZpcnN0O1xuICAgIGxvZGFzaC5sdCA9IGx0O1xuICAgIGxvZGFzaC5sdGUgPSBsdGU7XG4gICAgbG9kYXNoLm1heCA9IG1heDtcbiAgICBsb2Rhc2gubWF4QnkgPSBtYXhCeTtcbiAgICBsb2Rhc2gubWVhbiA9IG1lYW47XG4gICAgbG9kYXNoLm1lYW5CeSA9IG1lYW5CeTtcbiAgICBsb2Rhc2gubWluID0gbWluO1xuICAgIGxvZGFzaC5taW5CeSA9IG1pbkJ5O1xuICAgIGxvZGFzaC5zdHViQXJyYXkgPSBzdHViQXJyYXk7XG4gICAgbG9kYXNoLnN0dWJGYWxzZSA9IHN0dWJGYWxzZTtcbiAgICBsb2Rhc2guc3R1Yk9iamVjdCA9IHN0dWJPYmplY3Q7XG4gICAgbG9kYXNoLnN0dWJTdHJpbmcgPSBzdHViU3RyaW5nO1xuICAgIGxvZGFzaC5zdHViVHJ1ZSA9IHN0dWJUcnVlO1xuICAgIGxvZGFzaC5tdWx0aXBseSA9IG11bHRpcGx5O1xuICAgIGxvZGFzaC5udGggPSBudGg7XG4gICAgbG9kYXNoLm5vQ29uZmxpY3QgPSBub0NvbmZsaWN0O1xuICAgIGxvZGFzaC5ub29wID0gbm9vcDtcbiAgICBsb2Rhc2gubm93ID0gbm93O1xuICAgIGxvZGFzaC5wYWQgPSBwYWQ7XG4gICAgbG9kYXNoLnBhZEVuZCA9IHBhZEVuZDtcbiAgICBsb2Rhc2gucGFkU3RhcnQgPSBwYWRTdGFydDtcbiAgICBsb2Rhc2gucGFyc2VJbnQgPSBwYXJzZUludDtcbiAgICBsb2Rhc2gucmFuZG9tID0gcmFuZG9tO1xuICAgIGxvZGFzaC5yZWR1Y2UgPSByZWR1Y2U7XG4gICAgbG9kYXNoLnJlZHVjZVJpZ2h0ID0gcmVkdWNlUmlnaHQ7XG4gICAgbG9kYXNoLnJlcGVhdCA9IHJlcGVhdDtcbiAgICBsb2Rhc2gucmVwbGFjZSA9IHJlcGxhY2U7XG4gICAgbG9kYXNoLnJlc3VsdCA9IHJlc3VsdDtcbiAgICBsb2Rhc2gucm91bmQgPSByb3VuZDtcbiAgICBsb2Rhc2gucnVuSW5Db250ZXh0ID0gcnVuSW5Db250ZXh0O1xuICAgIGxvZGFzaC5zYW1wbGUgPSBzYW1wbGU7XG4gICAgbG9kYXNoLnNpemUgPSBzaXplO1xuICAgIGxvZGFzaC5zbmFrZUNhc2UgPSBzbmFrZUNhc2U7XG4gICAgbG9kYXNoLnNvbWUgPSBzb21lO1xuICAgIGxvZGFzaC5zb3J0ZWRJbmRleCA9IHNvcnRlZEluZGV4O1xuICAgIGxvZGFzaC5zb3J0ZWRJbmRleEJ5ID0gc29ydGVkSW5kZXhCeTtcbiAgICBsb2Rhc2guc29ydGVkSW5kZXhPZiA9IHNvcnRlZEluZGV4T2Y7XG4gICAgbG9kYXNoLnNvcnRlZExhc3RJbmRleCA9IHNvcnRlZExhc3RJbmRleDtcbiAgICBsb2Rhc2guc29ydGVkTGFzdEluZGV4QnkgPSBzb3J0ZWRMYXN0SW5kZXhCeTtcbiAgICBsb2Rhc2guc29ydGVkTGFzdEluZGV4T2YgPSBzb3J0ZWRMYXN0SW5kZXhPZjtcbiAgICBsb2Rhc2guc3RhcnRDYXNlID0gc3RhcnRDYXNlO1xuICAgIGxvZGFzaC5zdGFydHNXaXRoID0gc3RhcnRzV2l0aDtcbiAgICBsb2Rhc2guc3VidHJhY3QgPSBzdWJ0cmFjdDtcbiAgICBsb2Rhc2guc3VtID0gc3VtO1xuICAgIGxvZGFzaC5zdW1CeSA9IHN1bUJ5O1xuICAgIGxvZGFzaC50ZW1wbGF0ZSA9IHRlbXBsYXRlO1xuICAgIGxvZGFzaC50aW1lcyA9IHRpbWVzO1xuICAgIGxvZGFzaC50b0Zpbml0ZSA9IHRvRmluaXRlO1xuICAgIGxvZGFzaC50b0ludGVnZXIgPSB0b0ludGVnZXI7XG4gICAgbG9kYXNoLnRvTGVuZ3RoID0gdG9MZW5ndGg7XG4gICAgbG9kYXNoLnRvTG93ZXIgPSB0b0xvd2VyO1xuICAgIGxvZGFzaC50b051bWJlciA9IHRvTnVtYmVyO1xuICAgIGxvZGFzaC50b1NhZmVJbnRlZ2VyID0gdG9TYWZlSW50ZWdlcjtcbiAgICBsb2Rhc2gudG9TdHJpbmcgPSB0b1N0cmluZztcbiAgICBsb2Rhc2gudG9VcHBlciA9IHRvVXBwZXI7XG4gICAgbG9kYXNoLnRyaW0gPSB0cmltO1xuICAgIGxvZGFzaC50cmltRW5kID0gdHJpbUVuZDtcbiAgICBsb2Rhc2gudHJpbVN0YXJ0ID0gdHJpbVN0YXJ0O1xuICAgIGxvZGFzaC50cnVuY2F0ZSA9IHRydW5jYXRlO1xuICAgIGxvZGFzaC51bmVzY2FwZSA9IHVuZXNjYXBlO1xuICAgIGxvZGFzaC51bmlxdWVJZCA9IHVuaXF1ZUlkO1xuICAgIGxvZGFzaC51cHBlckNhc2UgPSB1cHBlckNhc2U7XG4gICAgbG9kYXNoLnVwcGVyRmlyc3QgPSB1cHBlckZpcnN0O1xuXG4gICAgLy8gQWRkIGFsaWFzZXMuXG4gICAgbG9kYXNoLmVhY2ggPSBmb3JFYWNoO1xuICAgIGxvZGFzaC5lYWNoUmlnaHQgPSBmb3JFYWNoUmlnaHQ7XG4gICAgbG9kYXNoLmZpcnN0ID0gaGVhZDtcblxuICAgIG1peGluKGxvZGFzaCwgKGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNvdXJjZSA9IHt9O1xuICAgICAgYmFzZUZvck93bihsb2Rhc2gsIGZ1bmN0aW9uKGZ1bmMsIG1ldGhvZE5hbWUpIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wZXJ0eS5jYWxsKGxvZGFzaC5wcm90b3R5cGUsIG1ldGhvZE5hbWUpKSB7XG4gICAgICAgICAgc291cmNlW21ldGhvZE5hbWVdID0gZnVuYztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gc291cmNlO1xuICAgIH0oKSksIHsgJ2NoYWluJzogZmFsc2UgfSk7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2VtYW50aWMgdmVyc2lvbiBudW1iZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIGxvZGFzaC5WRVJTSU9OID0gVkVSU0lPTjtcblxuICAgIC8vIEFzc2lnbiBkZWZhdWx0IHBsYWNlaG9sZGVycy5cbiAgICBhcnJheUVhY2goWydiaW5kJywgJ2JpbmRLZXknLCAnY3VycnknLCAnY3VycnlSaWdodCcsICdwYXJ0aWFsJywgJ3BhcnRpYWxSaWdodCddLCBmdW5jdGlvbihtZXRob2ROYW1lKSB7XG4gICAgICBsb2Rhc2hbbWV0aG9kTmFtZV0ucGxhY2Vob2xkZXIgPSBsb2Rhc2g7XG4gICAgfSk7XG5cbiAgICAvLyBBZGQgYExhenlXcmFwcGVyYCBtZXRob2RzIGZvciBgXy5kcm9wYCBhbmQgYF8udGFrZWAgdmFyaWFudHMuXG4gICAgYXJyYXlFYWNoKFsnZHJvcCcsICd0YWtlJ10sIGZ1bmN0aW9uKG1ldGhvZE5hbWUsIGluZGV4KSB7XG4gICAgICBMYXp5V3JhcHBlci5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbihuKSB7XG4gICAgICAgIG4gPSBuID09PSB1bmRlZmluZWQgPyAxIDogbmF0aXZlTWF4KHRvSW50ZWdlcihuKSwgMCk7XG5cbiAgICAgICAgdmFyIHJlc3VsdCA9ICh0aGlzLl9fZmlsdGVyZWRfXyAmJiAhaW5kZXgpXG4gICAgICAgICAgPyBuZXcgTGF6eVdyYXBwZXIodGhpcylcbiAgICAgICAgICA6IHRoaXMuY2xvbmUoKTtcblxuICAgICAgICBpZiAocmVzdWx0Ll9fZmlsdGVyZWRfXykge1xuICAgICAgICAgIHJlc3VsdC5fX3Rha2VDb3VudF9fID0gbmF0aXZlTWluKG4sIHJlc3VsdC5fX3Rha2VDb3VudF9fKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN1bHQuX192aWV3c19fLnB1c2goe1xuICAgICAgICAgICAgJ3NpemUnOiBuYXRpdmVNaW4obiwgTUFYX0FSUkFZX0xFTkdUSCksXG4gICAgICAgICAgICAndHlwZSc6IG1ldGhvZE5hbWUgKyAocmVzdWx0Ll9fZGlyX18gPCAwID8gJ1JpZ2h0JyA6ICcnKVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuXG4gICAgICBMYXp5V3JhcHBlci5wcm90b3R5cGVbbWV0aG9kTmFtZSArICdSaWdodCddID0gZnVuY3Rpb24obikge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXZlcnNlKClbbWV0aG9kTmFtZV0obikucmV2ZXJzZSgpO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBgTGF6eVdyYXBwZXJgIG1ldGhvZHMgdGhhdCBhY2NlcHQgYW4gYGl0ZXJhdGVlYCB2YWx1ZS5cbiAgICBhcnJheUVhY2goWydmaWx0ZXInLCAnbWFwJywgJ3Rha2VXaGlsZSddLCBmdW5jdGlvbihtZXRob2ROYW1lLCBpbmRleCkge1xuICAgICAgdmFyIHR5cGUgPSBpbmRleCArIDEsXG4gICAgICAgICAgaXNGaWx0ZXIgPSB0eXBlID09IExBWllfRklMVEVSX0ZMQUcgfHwgdHlwZSA9PSBMQVpZX1dISUxFX0ZMQUc7XG5cbiAgICAgIExhenlXcmFwcGVyLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKGl0ZXJhdGVlKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSB0aGlzLmNsb25lKCk7XG4gICAgICAgIHJlc3VsdC5fX2l0ZXJhdGVlc19fLnB1c2goe1xuICAgICAgICAgICdpdGVyYXRlZSc6IGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSxcbiAgICAgICAgICAndHlwZSc6IHR5cGVcbiAgICAgICAgfSk7XG4gICAgICAgIHJlc3VsdC5fX2ZpbHRlcmVkX18gPSByZXN1bHQuX19maWx0ZXJlZF9fIHx8IGlzRmlsdGVyO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBgTGF6eVdyYXBwZXJgIG1ldGhvZHMgZm9yIGBfLmhlYWRgIGFuZCBgXy5sYXN0YC5cbiAgICBhcnJheUVhY2goWydoZWFkJywgJ2xhc3QnXSwgZnVuY3Rpb24obWV0aG9kTmFtZSwgaW5kZXgpIHtcbiAgICAgIHZhciB0YWtlTmFtZSA9ICd0YWtlJyArIChpbmRleCA/ICdSaWdodCcgOiAnJyk7XG5cbiAgICAgIExhenlXcmFwcGVyLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpc1t0YWtlTmFtZV0oMSkudmFsdWUoKVswXTtcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICAvLyBBZGQgYExhenlXcmFwcGVyYCBtZXRob2RzIGZvciBgXy5pbml0aWFsYCBhbmQgYF8udGFpbGAuXG4gICAgYXJyYXlFYWNoKFsnaW5pdGlhbCcsICd0YWlsJ10sIGZ1bmN0aW9uKG1ldGhvZE5hbWUsIGluZGV4KSB7XG4gICAgICB2YXIgZHJvcE5hbWUgPSAnZHJvcCcgKyAoaW5kZXggPyAnJyA6ICdSaWdodCcpO1xuXG4gICAgICBMYXp5V3JhcHBlci5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX19maWx0ZXJlZF9fID8gbmV3IExhenlXcmFwcGVyKHRoaXMpIDogdGhpc1tkcm9wTmFtZV0oMSk7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmNvbXBhY3QgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmZpbHRlcihpZGVudGl0eSk7XG4gICAgfTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24ocHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gdGhpcy5maWx0ZXIocHJlZGljYXRlKS5oZWFkKCk7XG4gICAgfTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5maW5kTGFzdCA9IGZ1bmN0aW9uKHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIHRoaXMucmV2ZXJzZSgpLmZpbmQocHJlZGljYXRlKTtcbiAgICB9O1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmludm9rZU1hcCA9IGJhc2VSZXN0KGZ1bmN0aW9uKHBhdGgsIGFyZ3MpIHtcbiAgICAgIGlmICh0eXBlb2YgcGF0aCA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBuZXcgTGF6eVdyYXBwZXIodGhpcyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VJbnZva2UodmFsdWUsIHBhdGgsIGFyZ3MpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUucmVqZWN0ID0gZnVuY3Rpb24ocHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gdGhpcy5maWx0ZXIobmVnYXRlKGdldEl0ZXJhdGVlKHByZWRpY2F0ZSkpKTtcbiAgICB9O1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLnNsaWNlID0gZnVuY3Rpb24oc3RhcnQsIGVuZCkge1xuICAgICAgc3RhcnQgPSB0b0ludGVnZXIoc3RhcnQpO1xuXG4gICAgICB2YXIgcmVzdWx0ID0gdGhpcztcbiAgICAgIGlmIChyZXN1bHQuX19maWx0ZXJlZF9fICYmIChzdGFydCA+IDAgfHwgZW5kIDwgMCkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBMYXp5V3JhcHBlcihyZXN1bHQpO1xuICAgICAgfVxuICAgICAgaWYgKHN0YXJ0IDwgMCkge1xuICAgICAgICByZXN1bHQgPSByZXN1bHQudGFrZVJpZ2h0KC1zdGFydCk7XG4gICAgICB9IGVsc2UgaWYgKHN0YXJ0KSB7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC5kcm9wKHN0YXJ0KTtcbiAgICAgIH1cbiAgICAgIGlmIChlbmQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBlbmQgPSB0b0ludGVnZXIoZW5kKTtcbiAgICAgICAgcmVzdWx0ID0gZW5kIDwgMCA/IHJlc3VsdC5kcm9wUmlnaHQoLWVuZCkgOiByZXN1bHQudGFrZShlbmQgLSBzdGFydCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUudGFrZVJpZ2h0V2hpbGUgPSBmdW5jdGlvbihwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiB0aGlzLnJldmVyc2UoKS50YWtlV2hpbGUocHJlZGljYXRlKS5yZXZlcnNlKCk7XG4gICAgfTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS50b0FycmF5ID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy50YWtlKE1BWF9BUlJBWV9MRU5HVEgpO1xuICAgIH07XG5cbiAgICAvLyBBZGQgYExhenlXcmFwcGVyYCBtZXRob2RzIHRvIGBsb2Rhc2gucHJvdG90eXBlYC5cbiAgICBiYXNlRm9yT3duKExhenlXcmFwcGVyLnByb3RvdHlwZSwgZnVuY3Rpb24oZnVuYywgbWV0aG9kTmFtZSkge1xuICAgICAgdmFyIGNoZWNrSXRlcmF0ZWUgPSAvXig/OmZpbHRlcnxmaW5kfG1hcHxyZWplY3QpfFdoaWxlJC8udGVzdChtZXRob2ROYW1lKSxcbiAgICAgICAgICBpc1Rha2VyID0gL14oPzpoZWFkfGxhc3QpJC8udGVzdChtZXRob2ROYW1lKSxcbiAgICAgICAgICBsb2Rhc2hGdW5jID0gbG9kYXNoW2lzVGFrZXIgPyAoJ3Rha2UnICsgKG1ldGhvZE5hbWUgPT0gJ2xhc3QnID8gJ1JpZ2h0JyA6ICcnKSkgOiBtZXRob2ROYW1lXSxcbiAgICAgICAgICByZXRVbndyYXBwZWQgPSBpc1Rha2VyIHx8IC9eZmluZC8udGVzdChtZXRob2ROYW1lKTtcblxuICAgICAgaWYgKCFsb2Rhc2hGdW5jKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGxvZGFzaC5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gdGhpcy5fX3dyYXBwZWRfXyxcbiAgICAgICAgICAgIGFyZ3MgPSBpc1Rha2VyID8gWzFdIDogYXJndW1lbnRzLFxuICAgICAgICAgICAgaXNMYXp5ID0gdmFsdWUgaW5zdGFuY2VvZiBMYXp5V3JhcHBlcixcbiAgICAgICAgICAgIGl0ZXJhdGVlID0gYXJnc1swXSxcbiAgICAgICAgICAgIHVzZUxhenkgPSBpc0xhenkgfHwgaXNBcnJheSh2YWx1ZSk7XG5cbiAgICAgICAgdmFyIGludGVyY2VwdG9yID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICB2YXIgcmVzdWx0ID0gbG9kYXNoRnVuYy5hcHBseShsb2Rhc2gsIGFycmF5UHVzaChbdmFsdWVdLCBhcmdzKSk7XG4gICAgICAgICAgcmV0dXJuIChpc1Rha2VyICYmIGNoYWluQWxsKSA/IHJlc3VsdFswXSA6IHJlc3VsdDtcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAodXNlTGF6eSAmJiBjaGVja0l0ZXJhdGVlICYmIHR5cGVvZiBpdGVyYXRlZSA9PSAnZnVuY3Rpb24nICYmIGl0ZXJhdGVlLmxlbmd0aCAhPSAxKSB7XG4gICAgICAgICAgLy8gQXZvaWQgbGF6eSB1c2UgaWYgdGhlIGl0ZXJhdGVlIGhhcyBhIFwibGVuZ3RoXCIgdmFsdWUgb3RoZXIgdGhhbiBgMWAuXG4gICAgICAgICAgaXNMYXp5ID0gdXNlTGF6eSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjaGFpbkFsbCA9IHRoaXMuX19jaGFpbl9fLFxuICAgICAgICAgICAgaXNIeWJyaWQgPSAhIXRoaXMuX19hY3Rpb25zX18ubGVuZ3RoLFxuICAgICAgICAgICAgaXNVbndyYXBwZWQgPSByZXRVbndyYXBwZWQgJiYgIWNoYWluQWxsLFxuICAgICAgICAgICAgb25seUxhenkgPSBpc0xhenkgJiYgIWlzSHlicmlkO1xuXG4gICAgICAgIGlmICghcmV0VW53cmFwcGVkICYmIHVzZUxhenkpIHtcbiAgICAgICAgICB2YWx1ZSA9IG9ubHlMYXp5ID8gdmFsdWUgOiBuZXcgTGF6eVdyYXBwZXIodGhpcyk7XG4gICAgICAgICAgdmFyIHJlc3VsdCA9IGZ1bmMuYXBwbHkodmFsdWUsIGFyZ3MpO1xuICAgICAgICAgIHJlc3VsdC5fX2FjdGlvbnNfXy5wdXNoKHsgJ2Z1bmMnOiB0aHJ1LCAnYXJncyc6IFtpbnRlcmNlcHRvcl0sICd0aGlzQXJnJzogdW5kZWZpbmVkIH0pO1xuICAgICAgICAgIHJldHVybiBuZXcgTG9kYXNoV3JhcHBlcihyZXN1bHQsIGNoYWluQWxsKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNVbndyYXBwZWQgJiYgb25seUxhenkpIHtcbiAgICAgICAgICByZXR1cm4gZnVuYy5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQgPSB0aGlzLnRocnUoaW50ZXJjZXB0b3IpO1xuICAgICAgICByZXR1cm4gaXNVbndyYXBwZWQgPyAoaXNUYWtlciA/IHJlc3VsdC52YWx1ZSgpWzBdIDogcmVzdWx0LnZhbHVlKCkpIDogcmVzdWx0O1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBgQXJyYXlgIG1ldGhvZHMgdG8gYGxvZGFzaC5wcm90b3R5cGVgLlxuICAgIGFycmF5RWFjaChbJ3BvcCcsICdwdXNoJywgJ3NoaWZ0JywgJ3NvcnQnLCAnc3BsaWNlJywgJ3Vuc2hpZnQnXSwgZnVuY3Rpb24obWV0aG9kTmFtZSkge1xuICAgICAgdmFyIGZ1bmMgPSBhcnJheVByb3RvW21ldGhvZE5hbWVdLFxuICAgICAgICAgIGNoYWluTmFtZSA9IC9eKD86cHVzaHxzb3J0fHVuc2hpZnQpJC8udGVzdChtZXRob2ROYW1lKSA/ICd0YXAnIDogJ3RocnUnLFxuICAgICAgICAgIHJldFVud3JhcHBlZCA9IC9eKD86cG9wfHNoaWZ0KSQvLnRlc3QobWV0aG9kTmFtZSk7XG5cbiAgICAgIGxvZGFzaC5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgIGlmIChyZXRVbndyYXBwZWQgJiYgIXRoaXMuX19jaGFpbl9fKSB7XG4gICAgICAgICAgdmFyIHZhbHVlID0gdGhpcy52YWx1ZSgpO1xuICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KGlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbXSwgYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXNbY2hhaW5OYW1lXShmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KGlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbXSwgYXJncyk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIE1hcCBtaW5pZmllZCBtZXRob2QgbmFtZXMgdG8gdGhlaXIgcmVhbCBuYW1lcy5cbiAgICBiYXNlRm9yT3duKExhenlXcmFwcGVyLnByb3RvdHlwZSwgZnVuY3Rpb24oZnVuYywgbWV0aG9kTmFtZSkge1xuICAgICAgdmFyIGxvZGFzaEZ1bmMgPSBsb2Rhc2hbbWV0aG9kTmFtZV07XG4gICAgICBpZiAobG9kYXNoRnVuYykge1xuICAgICAgICB2YXIga2V5ID0gbG9kYXNoRnVuYy5uYW1lICsgJyc7XG4gICAgICAgIGlmICghaGFzT3duUHJvcGVydHkuY2FsbChyZWFsTmFtZXMsIGtleSkpIHtcbiAgICAgICAgICByZWFsTmFtZXNba2V5XSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHJlYWxOYW1lc1trZXldLnB1c2goeyAnbmFtZSc6IG1ldGhvZE5hbWUsICdmdW5jJzogbG9kYXNoRnVuYyB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJlYWxOYW1lc1tjcmVhdGVIeWJyaWQodW5kZWZpbmVkLCBXUkFQX0JJTkRfS0VZX0ZMQUcpLm5hbWVdID0gW3tcbiAgICAgICduYW1lJzogJ3dyYXBwZXInLFxuICAgICAgJ2Z1bmMnOiB1bmRlZmluZWRcbiAgICB9XTtcblxuICAgIC8vIEFkZCBtZXRob2RzIHRvIGBMYXp5V3JhcHBlcmAuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmNsb25lID0gbGF6eUNsb25lO1xuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5yZXZlcnNlID0gbGF6eVJldmVyc2U7XG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLnZhbHVlID0gbGF6eVZhbHVlO1xuXG4gICAgLy8gQWRkIGNoYWluIHNlcXVlbmNlIG1ldGhvZHMgdG8gdGhlIGBsb2Rhc2hgIHdyYXBwZXIuXG4gICAgbG9kYXNoLnByb3RvdHlwZS5hdCA9IHdyYXBwZXJBdDtcbiAgICBsb2Rhc2gucHJvdG90eXBlLmNoYWluID0gd3JhcHBlckNoYWluO1xuICAgIGxvZGFzaC5wcm90b3R5cGUuY29tbWl0ID0gd3JhcHBlckNvbW1pdDtcbiAgICBsb2Rhc2gucHJvdG90eXBlLm5leHQgPSB3cmFwcGVyTmV4dDtcbiAgICBsb2Rhc2gucHJvdG90eXBlLnBsYW50ID0gd3JhcHBlclBsYW50O1xuICAgIGxvZGFzaC5wcm90b3R5cGUucmV2ZXJzZSA9IHdyYXBwZXJSZXZlcnNlO1xuICAgIGxvZGFzaC5wcm90b3R5cGUudG9KU09OID0gbG9kYXNoLnByb3RvdHlwZS52YWx1ZU9mID0gbG9kYXNoLnByb3RvdHlwZS52YWx1ZSA9IHdyYXBwZXJWYWx1ZTtcblxuICAgIC8vIEFkZCBsYXp5IGFsaWFzZXMuXG4gICAgbG9kYXNoLnByb3RvdHlwZS5maXJzdCA9IGxvZGFzaC5wcm90b3R5cGUuaGVhZDtcblxuICAgIGlmIChzeW1JdGVyYXRvcikge1xuICAgICAgbG9kYXNoLnByb3RvdHlwZVtzeW1JdGVyYXRvcl0gPSB3cmFwcGVyVG9JdGVyYXRvcjtcbiAgICB9XG4gICAgcmV0dXJuIGxvZGFzaDtcbiAgfSk7XG5cbiAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgLy8gRXhwb3J0IGxvZGFzaC5cbiAgdmFyIF8gPSBydW5JbkNvbnRleHQoKTtcblxuICAvLyBTb21lIEFNRCBidWlsZCBvcHRpbWl6ZXJzLCBsaWtlIHIuanMsIGNoZWNrIGZvciBjb25kaXRpb24gcGF0dGVybnMgbGlrZTpcbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZGVmaW5lLmFtZCA9PSAnb2JqZWN0JyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgLy8gRXhwb3NlIExvZGFzaCBvbiB0aGUgZ2xvYmFsIG9iamVjdCB0byBwcmV2ZW50IGVycm9ycyB3aGVuIExvZGFzaCBpc1xuICAgIC8vIGxvYWRlZCBieSBhIHNjcmlwdCB0YWcgaW4gdGhlIHByZXNlbmNlIG9mIGFuIEFNRCBsb2FkZXIuXG4gICAgLy8gU2VlIGh0dHA6Ly9yZXF1aXJlanMub3JnL2RvY3MvZXJyb3JzLmh0bWwjbWlzbWF0Y2ggZm9yIG1vcmUgZGV0YWlscy5cbiAgICAvLyBVc2UgYF8ubm9Db25mbGljdGAgdG8gcmVtb3ZlIExvZGFzaCBmcm9tIHRoZSBnbG9iYWwgb2JqZWN0LlxuICAgIHJvb3QuXyA9IF87XG5cbiAgICAvLyBEZWZpbmUgYXMgYW4gYW5vbnltb3VzIG1vZHVsZSBzbywgdGhyb3VnaCBwYXRoIG1hcHBpbmcsIGl0IGNhbiBiZVxuICAgIC8vIHJlZmVyZW5jZWQgYXMgdGhlIFwidW5kZXJzY29yZVwiIG1vZHVsZS5cbiAgICBkZWZpbmUoZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gXztcbiAgICB9KTtcbiAgfVxuICAvLyBDaGVjayBmb3IgYGV4cG9ydHNgIGFmdGVyIGBkZWZpbmVgIGluIGNhc2UgYSBidWlsZCBvcHRpbWl6ZXIgYWRkcyBpdC5cbiAgZWxzZSBpZiAoZnJlZU1vZHVsZSkge1xuICAgIC8vIEV4cG9ydCBmb3IgTm9kZS5qcy5cbiAgICAoZnJlZU1vZHVsZS5leHBvcnRzID0gXykuXyA9IF87XG4gICAgLy8gRXhwb3J0IGZvciBDb21tb25KUyBzdXBwb3J0LlxuICAgIGZyZWVFeHBvcnRzLl8gPSBfO1xuICB9XG4gIGVsc2Uge1xuICAgIC8vIEV4cG9ydCB0byB0aGUgZ2xvYmFsIG9iamVjdC5cbiAgICByb290Ll8gPSBfO1xuICB9XG59LmNhbGwodGhpcykpO1xuIiwiOyhmdW5jdGlvbihyb290LCBmYWN0b3J5KSB7XG4gICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICBpZiAodHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIHtcbiAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgZGVmaW5lKFtdLCBmYWN0b3J5KVxuICAgIH0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSA9PT0gXCJvYmplY3RcIiAmJiBtb2R1bGUuZXhwb3J0cykge1xuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKVxuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgIHJvb3QucmVnZXhwVG9Bc3QgPSBmYWN0b3J5KClcbiAgICB9XG59KShcbiAgICB0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICA/IC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgICAgc2VsZlxuICAgICAgICA6IHRoaXMsXG4gICAgZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIHJlZmVyZW5jZXNcbiAgICAgICAgLy8gaHR0cHM6Ly9oYWNrZXJub29uLmNvbS90aGUtbWFkbmVzcy1vZi1wYXJzaW5nLXJlYWwtd29ybGQtamF2YXNjcmlwdC1yZWdleHBzLWQ5ZWUzMzZkZjk4M1xuICAgICAgICAvLyBodHRwczovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzguMC9pbmRleC5odG1sI3Byb2QtUGF0dGVyblxuICAgICAgICBmdW5jdGlvbiBSZWdFeHBQYXJzZXIoKSB7fVxuXG4gICAgICAgIFJlZ0V4cFBhcnNlci5wcm90b3R5cGUuc2F2ZVN0YXRlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGlkeDogdGhpcy5pZHgsXG4gICAgICAgICAgICAgICAgaW5wdXQ6IHRoaXMuaW5wdXQsXG4gICAgICAgICAgICAgICAgZ3JvdXBJZHg6IHRoaXMuZ3JvdXBJZHhcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIFJlZ0V4cFBhcnNlci5wcm90b3R5cGUucmVzdG9yZVN0YXRlID0gZnVuY3Rpb24obmV3U3RhdGUpIHtcbiAgICAgICAgICAgIHRoaXMuaWR4ID0gbmV3U3RhdGUuaWR4XG4gICAgICAgICAgICB0aGlzLmlucHV0ID0gbmV3U3RhdGUuaW5wdXRcbiAgICAgICAgICAgIHRoaXMuZ3JvdXBJZHggPSBuZXdTdGF0ZS5ncm91cElkeFxuICAgICAgICB9XG5cbiAgICAgICAgUmVnRXhwUGFyc2VyLnByb3RvdHlwZS5wYXR0ZXJuID0gZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgICAgIC8vIHBhcnNlciBzdGF0ZVxuICAgICAgICAgICAgdGhpcy5pZHggPSAwXG4gICAgICAgICAgICB0aGlzLmlucHV0ID0gaW5wdXRcbiAgICAgICAgICAgIHRoaXMuZ3JvdXBJZHggPSAwXG5cbiAgICAgICAgICAgIHRoaXMuY29uc3VtZUNoYXIoXCIvXCIpXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLmRpc2p1bmN0aW9uKClcbiAgICAgICAgICAgIHRoaXMuY29uc3VtZUNoYXIoXCIvXCIpXG5cbiAgICAgICAgICAgIHZhciBmbGFncyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcIkZsYWdzXCIsXG4gICAgICAgICAgICAgICAgbG9jOiB7IGJlZ2luOiB0aGlzLmlkeCwgZW5kOiBpbnB1dC5sZW5ndGggfSxcbiAgICAgICAgICAgICAgICBnbG9iYWw6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGlnbm9yZUNhc2U6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG11bHRpTGluZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgdW5pY29kZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgc3RpY2t5OiBmYWxzZVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB3aGlsZSAodGhpcy5pc1JlZ0V4cEZsYWcoKSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAodGhpcy5wb3BDaGFyKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImdcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZEZsYWcoZmxhZ3MsIFwiZ2xvYmFsXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiaVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkRmxhZyhmbGFncywgXCJpZ25vcmVDYXNlXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwibVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkRmxhZyhmbGFncywgXCJtdWx0aUxpbmVcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ1XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRGbGFnKGZsYWdzLCBcInVuaWNvZGVcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ5XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRGbGFnKGZsYWdzLCBcInN0aWNreVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmlkeCAhPT0gdGhpcy5pbnB1dC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgXCJSZWR1bmRhbnQgaW5wdXQ6IFwiICsgdGhpcy5pbnB1dC5zdWJzdHJpbmcodGhpcy5pZHgpXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcIlBhdHRlcm5cIixcbiAgICAgICAgICAgICAgICBmbGFnczogZmxhZ3MsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgICAgIGxvYzogdGhpcy5sb2MoMClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIFJlZ0V4cFBhcnNlci5wcm90b3R5cGUuZGlzanVuY3Rpb24gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBhbHRzID0gW11cbiAgICAgICAgICAgIHZhciBiZWdpbiA9IHRoaXMuaWR4XG5cbiAgICAgICAgICAgIGFsdHMucHVzaCh0aGlzLmFsdGVybmF0aXZlKCkpXG5cbiAgICAgICAgICAgIHdoaWxlICh0aGlzLnBlZWtDaGFyKCkgPT09IFwifFwiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb25zdW1lQ2hhcihcInxcIilcbiAgICAgICAgICAgICAgICBhbHRzLnB1c2godGhpcy5hbHRlcm5hdGl2ZSgpKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4geyB0eXBlOiBcIkRpc2p1bmN0aW9uXCIsIHZhbHVlOiBhbHRzLCBsb2M6IHRoaXMubG9jKGJlZ2luKSB9XG4gICAgICAgIH1cblxuICAgICAgICBSZWdFeHBQYXJzZXIucHJvdG90eXBlLmFsdGVybmF0aXZlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgdGVybXMgPSBbXVxuICAgICAgICAgICAgdmFyIGJlZ2luID0gdGhpcy5pZHhcblxuICAgICAgICAgICAgd2hpbGUgKHRoaXMuaXNUZXJtKCkpIHtcbiAgICAgICAgICAgICAgICB0ZXJtcy5wdXNoKHRoaXMudGVybSgpKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4geyB0eXBlOiBcIkFsdGVybmF0aXZlXCIsIHZhbHVlOiB0ZXJtcywgbG9jOiB0aGlzLmxvYyhiZWdpbikgfVxuICAgICAgICB9XG5cbiAgICAgICAgUmVnRXhwUGFyc2VyLnByb3RvdHlwZS50ZXJtID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc0Fzc2VydGlvbigpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXNzZXJ0aW9uKClcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXRvbSgpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBSZWdFeHBQYXJzZXIucHJvdG90eXBlLmFzc2VydGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGJlZ2luID0gdGhpcy5pZHhcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5wb3BDaGFyKCkpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiXlwiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJTdGFydEFuY2hvclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbG9jOiB0aGlzLmxvYyhiZWdpbilcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgXCIkXCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHR5cGU6IFwiRW5kQW5jaG9yXCIsIGxvYzogdGhpcy5sb2MoYmVnaW4pIH1cbiAgICAgICAgICAgICAgICAvLyAnXFxiJyBvciAnXFxCJ1xuICAgICAgICAgICAgICAgIGNhc2UgXCJcXFxcXCI6XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodGhpcy5wb3BDaGFyKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJiXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJXb3JkQm91bmRhcnlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jOiB0aGlzLmxvYyhiZWdpbilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiQlwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiTm9uV29yZEJvdW5kYXJ5XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYzogdGhpcy5sb2MoYmVnaW4pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwiSW52YWxpZCBBc3NlcnRpb24gRXNjYXBlXCIpXG4gICAgICAgICAgICAgICAgLy8gJyg/PScgb3IgJyg/ISdcbiAgICAgICAgICAgICAgICBjYXNlIFwiKFwiOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnN1bWVDaGFyKFwiP1wiKVxuXG4gICAgICAgICAgICAgICAgICAgIHZhciB0eXBlXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodGhpcy5wb3BDaGFyKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCI9XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSA9IFwiTG9va2FoZWFkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIiFcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlID0gXCJOZWdhdGl2ZUxvb2thaGVhZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBBU1NFUlRfRVhJU1RTKHR5cGUpXG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGRpc2p1bmN0aW9uID0gdGhpcy5kaXNqdW5jdGlvbigpXG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25zdW1lQ2hhcihcIilcIilcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBkaXNqdW5jdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYzogdGhpcy5sb2MoYmVnaW4pXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgICAgICBBU1NFUlRfTkVWRVJfUkVBQ0hfSEVSRSgpXG4gICAgICAgIH1cblxuICAgICAgICBSZWdFeHBQYXJzZXIucHJvdG90eXBlLnF1YW50aWZpZXIgPSBmdW5jdGlvbihpc0JhY2t0cmFja2luZykge1xuICAgICAgICAgICAgdmFyIHJhbmdlXG4gICAgICAgICAgICB2YXIgYmVnaW4gPSB0aGlzLmlkeFxuICAgICAgICAgICAgc3dpdGNoICh0aGlzLnBvcENoYXIoKSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCIqXCI6XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXRMZWFzdDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0TW9zdDogSW5maW5pdHlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgXCIrXCI6XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXRMZWFzdDogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0TW9zdDogSW5maW5pdHlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgXCI/XCI6XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXRMZWFzdDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0TW9zdDogMVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSBcIntcIjpcbiAgICAgICAgICAgICAgICAgICAgdmFyIGF0TGVhc3QgPSB0aGlzLmludGVnZXJJbmNsdWRpbmdaZXJvKClcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0aGlzLnBvcENoYXIoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIn1cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5nZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXRMZWFzdDogYXRMZWFzdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXRNb3N0OiBhdExlYXN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiLFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhdE1vc3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0RpZ2l0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXRNb3N0ID0gdGhpcy5pbnRlZ2VySW5jbHVkaW5nWmVybygpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXRMZWFzdDogYXRMZWFzdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0TW9zdDogYXRNb3N0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5nZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0TGVhc3Q6IGF0TGVhc3QsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdE1vc3Q6IEluZmluaXR5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25zdW1lQ2hhcihcIn1cIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIHRocm93aW5nIGV4Y2VwdGlvbnMgZnJvbSBcIkFTU0VSVF9FWElTVFNcIiBkdXJpbmcgYmFja3RyYWNraW5nXG4gICAgICAgICAgICAgICAgICAgIC8vIGNhdXNlcyBzZXZlcmUgcGVyZm9ybWFuY2UgZGVncmFkYXRpb25zXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0JhY2t0cmFja2luZyA9PT0gdHJ1ZSAmJiByYW5nZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgQVNTRVJUX0VYSVNUUyhyYW5nZSlcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gdGhyb3dpbmcgZXhjZXB0aW9ucyBmcm9tIFwiQVNTRVJUX0VYSVNUU1wiIGR1cmluZyBiYWNrdHJhY2tpbmdcbiAgICAgICAgICAgIC8vIGNhdXNlcyBzZXZlcmUgcGVyZm9ybWFuY2UgZGVncmFkYXRpb25zXG4gICAgICAgICAgICBpZiAoaXNCYWNrdHJhY2tpbmcgPT09IHRydWUgJiYgcmFuZ2UgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgQVNTRVJUX0VYSVNUUyhyYW5nZSlcblxuICAgICAgICAgICAgaWYgKHRoaXMucGVla0NoYXIoMCkgPT09IFwiP1wiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb25zdW1lQ2hhcihcIj9cIilcbiAgICAgICAgICAgICAgICByYW5nZS5ncmVlZHkgPSBmYWxzZVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByYW5nZS5ncmVlZHkgPSB0cnVlXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJhbmdlLnR5cGUgPSBcIlF1YW50aWZpZXJcIlxuICAgICAgICAgICAgcmFuZ2UubG9jID0gdGhpcy5sb2MoYmVnaW4pXG4gICAgICAgICAgICByZXR1cm4gcmFuZ2VcbiAgICAgICAgfVxuXG4gICAgICAgIFJlZ0V4cFBhcnNlci5wcm90b3R5cGUuYXRvbSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGF0b21cbiAgICAgICAgICAgIHZhciBiZWdpbiA9IHRoaXMuaWR4XG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMucGVla0NoYXIoKSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCIuXCI6XG4gICAgICAgICAgICAgICAgICAgIGF0b20gPSB0aGlzLmRvdEFsbCgpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSBcIlxcXFxcIjpcbiAgICAgICAgICAgICAgICAgICAgYXRvbSA9IHRoaXMuYXRvbUVzY2FwZSgpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSBcIltcIjpcbiAgICAgICAgICAgICAgICAgICAgYXRvbSA9IHRoaXMuY2hhcmFjdGVyQ2xhc3MoKVxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgXCIoXCI6XG4gICAgICAgICAgICAgICAgICAgIGF0b20gPSB0aGlzLmdyb3VwKClcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGF0b20gPT09IHVuZGVmaW5lZCAmJiB0aGlzLmlzUGF0dGVybkNoYXJhY3RlcigpKSB7XG4gICAgICAgICAgICAgICAgYXRvbSA9IHRoaXMucGF0dGVybkNoYXJhY3RlcigpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIEFTU0VSVF9FWElTVFMoYXRvbSlcblxuICAgICAgICAgICAgYXRvbS5sb2MgPSB0aGlzLmxvYyhiZWdpbilcblxuICAgICAgICAgICAgaWYgKHRoaXMuaXNRdWFudGlmaWVyKCkpIHtcbiAgICAgICAgICAgICAgICBhdG9tLnF1YW50aWZpZXIgPSB0aGlzLnF1YW50aWZpZXIoKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gYXRvbVxuICAgICAgICB9XG5cbiAgICAgICAgUmVnRXhwUGFyc2VyLnByb3RvdHlwZS5kb3RBbGwgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMuY29uc3VtZUNoYXIoXCIuXCIpXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwiU2V0XCIsXG4gICAgICAgICAgICAgICAgY29tcGxlbWVudDogdHJ1ZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogW2NjKFwiXFxuXCIpLCBjYyhcIlxcclwiKSwgY2MoXCJcXHUyMDI4XCIpLCBjYyhcIlxcdTIwMjlcIildXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBSZWdFeHBQYXJzZXIucHJvdG90eXBlLmF0b21Fc2NhcGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMuY29uc3VtZUNoYXIoXCJcXFxcXCIpXG5cbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5wZWVrQ2hhcigpKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcIjFcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiMlwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCIzXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIjRcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiNVwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCI2XCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIjdcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiOFwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCI5XCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRlY2ltYWxFc2NhcGVBdG9tKClcbiAgICAgICAgICAgICAgICBjYXNlIFwiZFwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJEXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcInNcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiU1wiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJ3XCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIldcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hhcmFjdGVyQ2xhc3NFc2NhcGUoKVxuICAgICAgICAgICAgICAgIGNhc2UgXCJmXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIm5cIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiclwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJ0XCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcInZcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29udHJvbEVzY2FwZUF0b20oKVxuICAgICAgICAgICAgICAgIGNhc2UgXCJjXCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnRyb2xMZXR0ZXJFc2NhcGVBdG9tKClcbiAgICAgICAgICAgICAgICBjYXNlIFwiMFwiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5udWxDaGFyYWN0ZXJBdG9tKClcbiAgICAgICAgICAgICAgICBjYXNlIFwieFwiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5oZXhFc2NhcGVTZXF1ZW5jZUF0b20oKVxuICAgICAgICAgICAgICAgIGNhc2UgXCJ1XCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlZ0V4cFVuaWNvZGVFc2NhcGVTZXF1ZW5jZUF0b20oKVxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmlkZW50aXR5RXNjYXBlQXRvbSgpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBSZWdFeHBQYXJzZXIucHJvdG90eXBlLmRlY2ltYWxFc2NhcGVBdG9tID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLnBvc2l0aXZlSW50ZWdlcigpXG5cbiAgICAgICAgICAgIHJldHVybiB7IHR5cGU6IFwiR3JvdXBCYWNrUmVmZXJlbmNlXCIsIHZhbHVlOiB2YWx1ZSB9XG4gICAgICAgIH1cblxuICAgICAgICBSZWdFeHBQYXJzZXIucHJvdG90eXBlLmNoYXJhY3RlckNsYXNzRXNjYXBlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgc2V0XG4gICAgICAgICAgICB2YXIgY29tcGxlbWVudCA9IGZhbHNlXG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMucG9wQ2hhcigpKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcImRcIjpcbiAgICAgICAgICAgICAgICAgICAgc2V0ID0gZGlnaXRzQ2hhckNvZGVzXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSBcIkRcIjpcbiAgICAgICAgICAgICAgICAgICAgc2V0ID0gZGlnaXRzQ2hhckNvZGVzXG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZW1lbnQgPSB0cnVlXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSBcInNcIjpcbiAgICAgICAgICAgICAgICAgICAgc2V0ID0gd2hpdGVzcGFjZUNvZGVzXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSBcIlNcIjpcbiAgICAgICAgICAgICAgICAgICAgc2V0ID0gd2hpdGVzcGFjZUNvZGVzXG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZW1lbnQgPSB0cnVlXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSBcIndcIjpcbiAgICAgICAgICAgICAgICAgICAgc2V0ID0gd29yZENoYXJDb2Rlc1xuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgXCJXXCI6XG4gICAgICAgICAgICAgICAgICAgIHNldCA9IHdvcmRDaGFyQ29kZXNcbiAgICAgICAgICAgICAgICAgICAgY29tcGxlbWVudCA9IHRydWVcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgQVNTRVJUX0VYSVNUUyhzZXQpXG5cbiAgICAgICAgICAgIHJldHVybiB7IHR5cGU6IFwiU2V0XCIsIHZhbHVlOiBzZXQsIGNvbXBsZW1lbnQ6IGNvbXBsZW1lbnQgfVxuICAgICAgICB9XG5cbiAgICAgICAgUmVnRXhwUGFyc2VyLnByb3RvdHlwZS5jb250cm9sRXNjYXBlQXRvbSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGVzY2FwZUNvZGVcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5wb3BDaGFyKCkpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiZlwiOlxuICAgICAgICAgICAgICAgICAgICBlc2NhcGVDb2RlID0gY2MoXCJcXGZcIilcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlIFwiblwiOlxuICAgICAgICAgICAgICAgICAgICBlc2NhcGVDb2RlID0gY2MoXCJcXG5cIilcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlIFwiclwiOlxuICAgICAgICAgICAgICAgICAgICBlc2NhcGVDb2RlID0gY2MoXCJcXHJcIilcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlIFwidFwiOlxuICAgICAgICAgICAgICAgICAgICBlc2NhcGVDb2RlID0gY2MoXCJcXHRcIilcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlIFwidlwiOlxuICAgICAgICAgICAgICAgICAgICBlc2NhcGVDb2RlID0gY2MoXCJcXHZcIilcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIEFTU0VSVF9FWElTVFMoZXNjYXBlQ29kZSlcblxuICAgICAgICAgICAgcmV0dXJuIHsgdHlwZTogXCJDaGFyYWN0ZXJcIiwgdmFsdWU6IGVzY2FwZUNvZGUgfVxuICAgICAgICB9XG5cbiAgICAgICAgUmVnRXhwUGFyc2VyLnByb3RvdHlwZS5jb250cm9sTGV0dGVyRXNjYXBlQXRvbSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5jb25zdW1lQ2hhcihcImNcIilcbiAgICAgICAgICAgIHZhciBsZXR0ZXIgPSB0aGlzLnBvcENoYXIoKVxuICAgICAgICAgICAgaWYgKC9bYS16QS1aXS8udGVzdChsZXR0ZXIpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwiSW52YWxpZCBcIilcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGxldHRlckNvZGUgPSBsZXR0ZXIudG9VcHBlckNhc2UoKS5jaGFyQ29kZUF0KDApIC0gNjRcbiAgICAgICAgICAgIHJldHVybiB7IHR5cGU6IFwiQ2hhcmFjdGVyXCIsIHZhbHVlOiBsZXR0ZXJDb2RlIH1cbiAgICAgICAgfVxuXG4gICAgICAgIFJlZ0V4cFBhcnNlci5wcm90b3R5cGUubnVsQ2hhcmFjdGVyQXRvbSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgLy8gVE9ETyBpbXBsZW1lbnQgJ1tsb29rYWhlYWQg4oiJIERlY2ltYWxEaWdpdF0nXG4gICAgICAgICAgICAvLyBUT0RPOiBmb3IgdGhlIGRlcHJlY2F0ZWQgb2N0YWwgZXNjYXBlIHNlcXVlbmNlXG4gICAgICAgICAgICB0aGlzLmNvbnN1bWVDaGFyKFwiMFwiKVxuICAgICAgICAgICAgcmV0dXJuIHsgdHlwZTogXCJDaGFyYWN0ZXJcIiwgdmFsdWU6IGNjKFwiXFwwXCIpIH1cbiAgICAgICAgfVxuXG4gICAgICAgIFJlZ0V4cFBhcnNlci5wcm90b3R5cGUuaGV4RXNjYXBlU2VxdWVuY2VBdG9tID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnN1bWVDaGFyKFwieFwiKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VIZXhEaWdpdHMoMilcbiAgICAgICAgfVxuXG4gICAgICAgIFJlZ0V4cFBhcnNlci5wcm90b3R5cGUucmVnRXhwVW5pY29kZUVzY2FwZVNlcXVlbmNlQXRvbSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5jb25zdW1lQ2hhcihcInVcIilcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcnNlSGV4RGlnaXRzKDQpXG4gICAgICAgIH1cblxuICAgICAgICBSZWdFeHBQYXJzZXIucHJvdG90eXBlLmlkZW50aXR5RXNjYXBlQXRvbSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgLy8gVE9ETzogaW1wbGVtZW50IFwiU291cmNlQ2hhcmFjdGVyIGJ1dCBub3QgVW5pY29kZUlEQ29udGludWVcIlxuICAgICAgICAgICAgLy8gLy8gaHR0cDovL3VuaWNvZGUub3JnL3JlcG9ydHMvdHIzMS8jU3BlY2lmaWNfQ2hhcmFjdGVyX0FkanVzdG1lbnRzXG4gICAgICAgICAgICB2YXIgZXNjYXBlZENoYXIgPSB0aGlzLnBvcENoYXIoKVxuICAgICAgICAgICAgcmV0dXJuIHsgdHlwZTogXCJDaGFyYWN0ZXJcIiwgdmFsdWU6IGNjKGVzY2FwZWRDaGFyKSB9XG4gICAgICAgIH1cblxuICAgICAgICBSZWdFeHBQYXJzZXIucHJvdG90eXBlLmNsYXNzUGF0dGVybkNoYXJhY3RlckF0b20gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5wZWVrQ2hhcigpKSB7XG4gICAgICAgICAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgICAgICAgICBjYXNlIFwiXFxuXCI6XG4gICAgICAgICAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgICAgICAgICBjYXNlIFwiXFxyXCI6XG4gICAgICAgICAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgICAgICAgICBjYXNlIFwiXFx1MjAyOFwiOlxuICAgICAgICAgICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgICAgICAgICAgY2FzZSBcIlxcdTIwMjlcIjpcbiAgICAgICAgICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICAgICAgICAgIGNhc2UgXCJcXFxcXCI6XG4gICAgICAgICAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgICAgICAgICBjYXNlIFwiXVwiOlxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIlRCRFwiKVxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXh0Q2hhciA9IHRoaXMucG9wQ2hhcigpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHR5cGU6IFwiQ2hhcmFjdGVyXCIsIHZhbHVlOiBjYyhuZXh0Q2hhcikgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgUmVnRXhwUGFyc2VyLnByb3RvdHlwZS5jaGFyYWN0ZXJDbGFzcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHNldCA9IFtdXG4gICAgICAgICAgICB2YXIgY29tcGxlbWVudCA9IGZhbHNlXG4gICAgICAgICAgICB0aGlzLmNvbnN1bWVDaGFyKFwiW1wiKVxuICAgICAgICAgICAgaWYgKHRoaXMucGVla0NoYXIoMCkgPT09IFwiXlwiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb25zdW1lQ2hhcihcIl5cIilcbiAgICAgICAgICAgICAgICBjb21wbGVtZW50ID0gdHJ1ZVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB3aGlsZSAodGhpcy5pc0NsYXNzQXRvbSgpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZyb20gPSB0aGlzLmNsYXNzQXRvbSgpXG4gICAgICAgICAgICAgICAgdmFyIGlzRnJvbVNpbmdsZUNoYXIgPSBmcm9tLnR5cGUgPT09IFwiQ2hhcmFjdGVyXCJcbiAgICAgICAgICAgICAgICBpZiAoaXNGcm9tU2luZ2xlQ2hhciAmJiB0aGlzLmlzUmFuZ2VEYXNoKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25zdW1lQ2hhcihcIi1cIilcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRvID0gdGhpcy5jbGFzc0F0b20oKVxuICAgICAgICAgICAgICAgICAgICB2YXIgaXNUb1NpbmdsZUNoYXIgPSB0by50eXBlID09PSBcIkNoYXJhY3RlclwiXG5cbiAgICAgICAgICAgICAgICAgICAgLy8gYSByYW5nZSBjYW4gb25seSBiZSB1c2VkIHdoZW4gYm90aCBzaWRlcyBhcmUgc2luZ2xlIGNoYXJhY3RlcnNcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzVG9TaW5nbGVDaGFyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodG8udmFsdWUgPCBmcm9tLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJSYW5nZSBvdXQgb2Ygb3JkZXIgaW4gY2hhcmFjdGVyIGNsYXNzXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXQucHVzaCh7IGZyb206IGZyb20udmFsdWUsIHRvOiB0by52YWx1ZSB9KVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbGl0ZXJhbCBkYXNoXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnNlcnRUb1NldChmcm9tLnZhbHVlLCBzZXQpXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXQucHVzaChjYyhcIi1cIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnNlcnRUb1NldCh0by52YWx1ZSwgc2V0KVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0VG9TZXQoZnJvbS52YWx1ZSwgc2V0KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5jb25zdW1lQ2hhcihcIl1cIilcblxuICAgICAgICAgICAgcmV0dXJuIHsgdHlwZTogXCJTZXRcIiwgY29tcGxlbWVudDogY29tcGxlbWVudCwgdmFsdWU6IHNldCB9XG4gICAgICAgIH1cblxuICAgICAgICBSZWdFeHBQYXJzZXIucHJvdG90eXBlLmNsYXNzQXRvbSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc3dpdGNoICh0aGlzLnBlZWtDaGFyKCkpIHtcbiAgICAgICAgICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICAgICAgICAgIGNhc2UgXCJdXCI6XG4gICAgICAgICAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgICAgICAgICBjYXNlIFwiXFxuXCI6XG4gICAgICAgICAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgICAgICAgICBjYXNlIFwiXFxyXCI6XG4gICAgICAgICAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgICAgICAgICBjYXNlIFwiXFx1MjAyOFwiOlxuICAgICAgICAgICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgICAgICAgICAgY2FzZSBcIlxcdTIwMjlcIjpcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJUQkRcIilcbiAgICAgICAgICAgICAgICBjYXNlIFwiXFxcXFwiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jbGFzc0VzY2FwZSgpXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2xhc3NQYXR0ZXJuQ2hhcmFjdGVyQXRvbSgpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBSZWdFeHBQYXJzZXIucHJvdG90eXBlLmNsYXNzRXNjYXBlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnN1bWVDaGFyKFwiXFxcXFwiKVxuICAgICAgICAgICAgc3dpdGNoICh0aGlzLnBlZWtDaGFyKCkpIHtcbiAgICAgICAgICAgICAgICAvLyBNYXRjaGVzIGEgYmFja3NwYWNlLlxuICAgICAgICAgICAgICAgIC8vIChOb3QgdG8gYmUgY29uZnVzZWQgd2l0aCBcXGIgd29yZCBib3VuZGFyeSBvdXRzaWRlIGNoYXJhY3RlckNsYXNzKVxuICAgICAgICAgICAgICAgIGNhc2UgXCJiXCI6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29uc3VtZUNoYXIoXCJiXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHR5cGU6IFwiQ2hhcmFjdGVyXCIsIHZhbHVlOiBjYyhcIlxcdTAwMDhcIikgfVxuICAgICAgICAgICAgICAgIGNhc2UgXCJkXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIkRcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwic1wiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJTXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIndcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiV1wiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jaGFyYWN0ZXJDbGFzc0VzY2FwZSgpXG4gICAgICAgICAgICAgICAgY2FzZSBcImZcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiblwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJyXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcInRcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwidlwiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb250cm9sRXNjYXBlQXRvbSgpXG4gICAgICAgICAgICAgICAgY2FzZSBcImNcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29udHJvbExldHRlckVzY2FwZUF0b20oKVxuICAgICAgICAgICAgICAgIGNhc2UgXCIwXCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm51bENoYXJhY3RlckF0b20oKVxuICAgICAgICAgICAgICAgIGNhc2UgXCJ4XCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmhleEVzY2FwZVNlcXVlbmNlQXRvbSgpXG4gICAgICAgICAgICAgICAgY2FzZSBcInVcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVnRXhwVW5pY29kZUVzY2FwZVNlcXVlbmNlQXRvbSgpXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaWRlbnRpdHlFc2NhcGVBdG9tKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIFJlZ0V4cFBhcnNlci5wcm90b3R5cGUuZ3JvdXAgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBjYXB0dXJpbmcgPSB0cnVlXG4gICAgICAgICAgICB0aGlzLmNvbnN1bWVDaGFyKFwiKFwiKVxuICAgICAgICAgICAgc3dpdGNoICh0aGlzLnBlZWtDaGFyKDApKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcIj9cIjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25zdW1lQ2hhcihcIj9cIilcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25zdW1lQ2hhcihcIjpcIilcbiAgICAgICAgICAgICAgICAgICAgY2FwdHVyaW5nID0gZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdyb3VwSWR4KytcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuZGlzanVuY3Rpb24oKVxuICAgICAgICAgICAgdGhpcy5jb25zdW1lQ2hhcihcIilcIilcblxuICAgICAgICAgICAgdmFyIGdyb3VwQXN0ID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwiR3JvdXBcIixcbiAgICAgICAgICAgICAgICBjYXB0dXJpbmc6IGNhcHR1cmluZyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWVcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGNhcHR1cmluZykge1xuICAgICAgICAgICAgICAgIGdyb3VwQXN0LmlkeCA9IHRoaXMuZ3JvdXBJZHhcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGdyb3VwQXN0XG4gICAgICAgIH1cblxuICAgICAgICBSZWdFeHBQYXJzZXIucHJvdG90eXBlLnBvc2l0aXZlSW50ZWdlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIG51bWJlciA9IHRoaXMucG9wQ2hhcigpXG5cbiAgICAgICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0IC0gY2FuJ3QgZXZlciBnZXQgaGVyZSBkdWUgdG8gcHJldmlvdXMgbG9va2FoZWFkIGNoZWNrc1xuICAgICAgICAgICAgLy8gc3RpbGwgaW1wbGVtZW50aW5nIHRoaXMgZXJyb3IgY2hlY2tpbmcgaW4gY2FzZSB0aGlzIGV2ZXIgY2hhbmdlcy5cbiAgICAgICAgICAgIGlmIChkZWNpbWFsUGF0dGVybk5vWmVyby50ZXN0KG51bWJlcikgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJFeHBlY3RpbmcgYSBwb3NpdGl2ZSBpbnRlZ2VyXCIpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHdoaWxlIChkZWNpbWFsUGF0dGVybi50ZXN0KHRoaXMucGVla0NoYXIoMCkpKSB7XG4gICAgICAgICAgICAgICAgbnVtYmVyICs9IHRoaXMucG9wQ2hhcigpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBwYXJzZUludChudW1iZXIsIDEwKVxuICAgICAgICB9XG5cbiAgICAgICAgUmVnRXhwUGFyc2VyLnByb3RvdHlwZS5pbnRlZ2VySW5jbHVkaW5nWmVybyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIG51bWJlciA9IHRoaXMucG9wQ2hhcigpXG4gICAgICAgICAgICBpZiAoZGVjaW1hbFBhdHRlcm4udGVzdChudW1iZXIpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwiRXhwZWN0aW5nIGFuIGludGVnZXJcIilcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgd2hpbGUgKGRlY2ltYWxQYXR0ZXJuLnRlc3QodGhpcy5wZWVrQ2hhcigwKSkpIHtcbiAgICAgICAgICAgICAgICBudW1iZXIgKz0gdGhpcy5wb3BDaGFyKClcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KG51bWJlciwgMTApXG4gICAgICAgIH1cblxuICAgICAgICBSZWdFeHBQYXJzZXIucHJvdG90eXBlLnBhdHRlcm5DaGFyYWN0ZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBuZXh0Q2hhciA9IHRoaXMucG9wQ2hhcigpXG4gICAgICAgICAgICBzd2l0Y2ggKG5leHRDaGFyKSB7XG4gICAgICAgICAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgICAgICAgICBjYXNlIFwiXFxuXCI6XG4gICAgICAgICAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgICAgICAgICBjYXNlIFwiXFxyXCI6XG4gICAgICAgICAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgICAgICAgICBjYXNlIFwiXFx1MjAyOFwiOlxuICAgICAgICAgICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgICAgICAgICAgY2FzZSBcIlxcdTIwMjlcIjpcbiAgICAgICAgICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICAgICAgICAgIGNhc2UgXCJeXCI6XG4gICAgICAgICAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgICAgICAgICBjYXNlIFwiJFwiOlxuICAgICAgICAgICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgICAgICAgICAgY2FzZSBcIlxcXFxcIjpcbiAgICAgICAgICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICAgICAgICAgIGNhc2UgXCIuXCI6XG4gICAgICAgICAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgICAgICAgICBjYXNlIFwiKlwiOlxuICAgICAgICAgICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgICAgICAgICAgY2FzZSBcIitcIjpcbiAgICAgICAgICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICAgICAgICAgIGNhc2UgXCI/XCI6XG4gICAgICAgICAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgICAgICAgICBjYXNlIFwiKFwiOlxuICAgICAgICAgICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgICAgICAgICAgY2FzZSBcIilcIjpcbiAgICAgICAgICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICAgICAgICAgIGNhc2UgXCJbXCI6XG4gICAgICAgICAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgICAgICAgICBjYXNlIFwifFwiOlxuICAgICAgICAgICAgICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIlRCRFwiKVxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHR5cGU6IFwiQ2hhcmFjdGVyXCIsIHZhbHVlOiBjYyhuZXh0Q2hhcikgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFJlZ0V4cFBhcnNlci5wcm90b3R5cGUuaXNSZWdFeHBGbGFnID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMucGVla0NoYXIoMCkpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiZ1wiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJpXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIm1cIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwidVwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJ5XCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBSZWdFeHBQYXJzZXIucHJvdG90eXBlLmlzUmFuZ2VEYXNoID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wZWVrQ2hhcigpID09PSBcIi1cIiAmJiB0aGlzLmlzQ2xhc3NBdG9tKDEpXG4gICAgICAgIH1cblxuICAgICAgICBSZWdFeHBQYXJzZXIucHJvdG90eXBlLmlzRGlnaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBkZWNpbWFsUGF0dGVybi50ZXN0KHRoaXMucGVla0NoYXIoMCkpXG4gICAgICAgIH1cblxuICAgICAgICBSZWdFeHBQYXJzZXIucHJvdG90eXBlLmlzQ2xhc3NBdG9tID0gZnVuY3Rpb24oaG93TXVjaCkge1xuICAgICAgICAgICAgaWYgKGhvd011Y2ggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGhvd011Y2ggPSAwXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5wZWVrQ2hhcihob3dNdWNoKSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJdXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIlxcblwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJcXHJcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiXFx1MjAyOFwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJcXHUyMDI5XCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBSZWdFeHBQYXJzZXIucHJvdG90eXBlLmlzVGVybSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaXNBdG9tKCkgfHwgdGhpcy5pc0Fzc2VydGlvbigpXG4gICAgICAgIH1cblxuICAgICAgICBSZWdFeHBQYXJzZXIucHJvdG90eXBlLmlzQXRvbSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNQYXR0ZXJuQ2hhcmFjdGVyKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMucGVla0NoYXIoMCkpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiLlwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJcXFxcXCI6IC8vIGF0b21Fc2NhcGVcbiAgICAgICAgICAgICAgICBjYXNlIFwiW1wiOiAvLyBjaGFyYWN0ZXJDbGFzc1xuICAgICAgICAgICAgICAgIC8vIFRPRE86IGlzQXRvbSBtdXN0IGJlIGNhbGxlZCBiZWZvcmUgaXNBc3NlcnRpb24gLSBkaXNhbWJpZ3VhdGVcbiAgICAgICAgICAgICAgICBjYXNlIFwiKFwiOiAvLyBncm91cFxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgUmVnRXhwUGFyc2VyLnByb3RvdHlwZS5pc0Fzc2VydGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc3dpdGNoICh0aGlzLnBlZWtDaGFyKDApKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcIl5cIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiJFwiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICAgICAgICAgIC8vICdcXGInIG9yICdcXEInXG4gICAgICAgICAgICAgICAgY2FzZSBcIlxcXFxcIjpcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0aGlzLnBlZWtDaGFyKDEpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYlwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkJcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vICcoPz0nIG9yICcoPyEnXG4gICAgICAgICAgICAgICAgY2FzZSBcIihcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGVla0NoYXIoMSkgPT09IFwiP1wiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAodGhpcy5wZWVrQ2hhcigyKSA9PT0gXCI9XCIgfHwgdGhpcy5wZWVrQ2hhcigyKSA9PT0gXCIhXCIpXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIFJlZ0V4cFBhcnNlci5wcm90b3R5cGUuaXNRdWFudGlmaWVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgcHJldlN0YXRlID0gdGhpcy5zYXZlU3RhdGUoKVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5xdWFudGlmaWVyKHRydWUpICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXN0b3JlU3RhdGUocHJldlN0YXRlKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgUmVnRXhwUGFyc2VyLnByb3RvdHlwZS5pc1BhdHRlcm5DaGFyYWN0ZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5wZWVrQ2hhcigpKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcIl5cIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiJFwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJcXFxcXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIi5cIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiKlwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCIrXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIj9cIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiKFwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCIpXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIltcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwifFwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCIvXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIlxcblwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJcXHJcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiXFx1MjAyOFwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJcXHUyMDI5XCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBSZWdFeHBQYXJzZXIucHJvdG90eXBlLnBhcnNlSGV4RGlnaXRzID0gZnVuY3Rpb24oaG93TWFueSkge1xuICAgICAgICAgICAgdmFyIGhleFN0cmluZyA9IFwiXCJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaG93TWFueTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGhleENoYXIgPSB0aGlzLnBvcENoYXIoKVxuICAgICAgICAgICAgICAgIGlmIChoZXhEaWdpdFBhdHRlcm4udGVzdChoZXhDaGFyKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJFeHBlY3RpbmcgYSBIZXhEZWNpbWFsIGRpZ2l0c1wiKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBoZXhTdHJpbmcgKz0gaGV4Q2hhclxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGNoYXJDb2RlID0gcGFyc2VJbnQoaGV4U3RyaW5nLCAxNilcbiAgICAgICAgICAgIHJldHVybiB7IHR5cGU6IFwiQ2hhcmFjdGVyXCIsIHZhbHVlOiBjaGFyQ29kZSB9XG4gICAgICAgIH1cblxuICAgICAgICBSZWdFeHBQYXJzZXIucHJvdG90eXBlLnBlZWtDaGFyID0gZnVuY3Rpb24oaG93TXVjaCkge1xuICAgICAgICAgICAgaWYgKGhvd011Y2ggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGhvd011Y2ggPSAwXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pbnB1dFt0aGlzLmlkeCArIGhvd011Y2hdXG4gICAgICAgIH1cblxuICAgICAgICBSZWdFeHBQYXJzZXIucHJvdG90eXBlLnBvcENoYXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBuZXh0Q2hhciA9IHRoaXMucGVla0NoYXIoMClcbiAgICAgICAgICAgIHRoaXMuY29uc3VtZUNoYXIoKVxuICAgICAgICAgICAgcmV0dXJuIG5leHRDaGFyXG4gICAgICAgIH1cblxuICAgICAgICBSZWdFeHBQYXJzZXIucHJvdG90eXBlLmNvbnN1bWVDaGFyID0gZnVuY3Rpb24oY2hhcikge1xuICAgICAgICAgICAgaWYgKGNoYXIgIT09IHVuZGVmaW5lZCAmJiB0aGlzLmlucHV0W3RoaXMuaWR4XSAhPT0gY2hhcikge1xuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICAgICAgICBcIkV4cGVjdGVkOiAnXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hhciArXG4gICAgICAgICAgICAgICAgICAgICAgICBcIicgYnV0IGZvdW5kOiAnXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnB1dFt0aGlzLmlkeF0gK1xuICAgICAgICAgICAgICAgICAgICAgICAgXCInIGF0IG9mZnNldDogXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pZHhcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmlkeCA+PSB0aGlzLmlucHV0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwiVW5leHBlY3RlZCBlbmQgb2YgaW5wdXRcIilcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuaWR4KytcbiAgICAgICAgfVxuXG4gICAgICAgIFJlZ0V4cFBhcnNlci5wcm90b3R5cGUubG9jID0gZnVuY3Rpb24oYmVnaW4pIHtcbiAgICAgICAgICAgIHJldHVybiB7IGJlZ2luOiBiZWdpbiwgZW5kOiB0aGlzLmlkeCB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjb25zdHMgYW5kIHV0aWxpdGllc1xuICAgICAgICB2YXIgaGV4RGlnaXRQYXR0ZXJuID0gL1swLTlhLWZBLUZdL1xuICAgICAgICB2YXIgZGVjaW1hbFBhdHRlcm4gPSAvWzAtOV0vXG4gICAgICAgIHZhciBkZWNpbWFsUGF0dGVybk5vWmVybyA9IC9bMS05XS9cblxuICAgICAgICBmdW5jdGlvbiBjYyhjaGFyKSB7XG4gICAgICAgICAgICByZXR1cm4gY2hhci5jaGFyQ29kZUF0KDApXG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBpbnNlcnRUb1NldChpdGVtLCBzZXQpIHtcbiAgICAgICAgICAgIGlmIChpdGVtLmxlbmd0aCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgaXRlbS5mb3JFYWNoKGZ1bmN0aW9uKHN1Ykl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0LnB1c2goc3ViSXRlbSlcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZXQucHVzaChpdGVtKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gYWRkRmxhZyhmbGFnT2JqLCBmbGFnS2V5KSB7XG4gICAgICAgICAgICBpZiAoZmxhZ09ialtmbGFnS2V5XSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRocm93IFwiZHVwbGljYXRlIGZsYWcgXCIgKyBmbGFnS2V5XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZsYWdPYmpbZmxhZ0tleV0gPSB0cnVlXG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBBU1NFUlRfRVhJU1RTKG9iaikge1xuICAgICAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgICAgIGlmIChvYmogPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwiSW50ZXJuYWwgRXJyb3IgLSBTaG91bGQgbmV2ZXIgZ2V0IGhlcmUhXCIpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICBmdW5jdGlvbiBBU1NFUlRfTkVWRVJfUkVBQ0hfSEVSRSgpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKFwiSW50ZXJuYWwgRXJyb3IgLSBTaG91bGQgbmV2ZXIgZ2V0IGhlcmUhXCIpXG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaVxuICAgICAgICB2YXIgZGlnaXRzQ2hhckNvZGVzID0gW11cbiAgICAgICAgZm9yIChpID0gY2MoXCIwXCIpOyBpIDw9IGNjKFwiOVwiKTsgaSsrKSB7XG4gICAgICAgICAgICBkaWdpdHNDaGFyQ29kZXMucHVzaChpKVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHdvcmRDaGFyQ29kZXMgPSBbY2MoXCJfXCIpXS5jb25jYXQoZGlnaXRzQ2hhckNvZGVzKVxuICAgICAgICBmb3IgKGkgPSBjYyhcImFcIik7IGkgPD0gY2MoXCJ6XCIpOyBpKyspIHtcbiAgICAgICAgICAgIHdvcmRDaGFyQ29kZXMucHVzaChpKVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChpID0gY2MoXCJBXCIpOyBpIDw9IGNjKFwiWlwiKTsgaSsrKSB7XG4gICAgICAgICAgICB3b3JkQ2hhckNvZGVzLnB1c2goaSlcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1JlZ0V4cCNjaGFyYWN0ZXItY2xhc3Nlc1xuICAgICAgICB2YXIgd2hpdGVzcGFjZUNvZGVzID0gW1xuICAgICAgICAgICAgY2MoXCIgXCIpLFxuICAgICAgICAgICAgY2MoXCJcXGZcIiksXG4gICAgICAgICAgICBjYyhcIlxcblwiKSxcbiAgICAgICAgICAgIGNjKFwiXFxyXCIpLFxuICAgICAgICAgICAgY2MoXCJcXHRcIiksXG4gICAgICAgICAgICBjYyhcIlxcdlwiKSxcbiAgICAgICAgICAgIGNjKFwiXFx0XCIpLFxuICAgICAgICAgICAgY2MoXCJcXHUwMGEwXCIpLFxuICAgICAgICAgICAgY2MoXCJcXHUxNjgwXCIpLFxuICAgICAgICAgICAgY2MoXCJcXHUyMDAwXCIpLFxuICAgICAgICAgICAgY2MoXCJcXHUyMDAxXCIpLFxuICAgICAgICAgICAgY2MoXCJcXHUyMDAyXCIpLFxuICAgICAgICAgICAgY2MoXCJcXHUyMDAzXCIpLFxuICAgICAgICAgICAgY2MoXCJcXHUyMDA0XCIpLFxuICAgICAgICAgICAgY2MoXCJcXHUyMDA1XCIpLFxuICAgICAgICAgICAgY2MoXCJcXHUyMDA2XCIpLFxuICAgICAgICAgICAgY2MoXCJcXHUyMDA3XCIpLFxuICAgICAgICAgICAgY2MoXCJcXHUyMDA4XCIpLFxuICAgICAgICAgICAgY2MoXCJcXHUyMDA5XCIpLFxuICAgICAgICAgICAgY2MoXCJcXHUyMDBhXCIpLFxuICAgICAgICAgICAgY2MoXCJcXHUyMDI4XCIpLFxuICAgICAgICAgICAgY2MoXCJcXHUyMDI5XCIpLFxuICAgICAgICAgICAgY2MoXCJcXHUyMDJmXCIpLFxuICAgICAgICAgICAgY2MoXCJcXHUyMDVmXCIpLFxuICAgICAgICAgICAgY2MoXCJcXHUzMDAwXCIpLFxuICAgICAgICAgICAgY2MoXCJcXHVmZWZmXCIpXG4gICAgICAgIF1cblxuICAgICAgICBmdW5jdGlvbiBCYXNlUmVnRXhwVmlzaXRvcigpIHt9XG5cbiAgICAgICAgQmFzZVJlZ0V4cFZpc2l0b3IucHJvdG90eXBlLnZpc2l0Q2hpbGRyZW4gPSBmdW5jdGlvbihub2RlKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gbm9kZSkge1xuICAgICAgICAgICAgICAgIHZhciBjaGlsZCA9IG5vZGVba2V5XVxuICAgICAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgICAgICAgICAgaWYgKG5vZGUuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGQudHlwZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnZpc2l0KGNoaWxkKVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoY2hpbGQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGlsZC5mb3JFYWNoKGZ1bmN0aW9uKHN1YkNoaWxkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy52aXNpdChzdWJDaGlsZClcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHRoaXMpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBCYXNlUmVnRXhwVmlzaXRvci5wcm90b3R5cGUudmlzaXQgPSBmdW5jdGlvbihub2RlKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKG5vZGUudHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJQYXR0ZXJuXCI6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlzaXRQYXR0ZXJuKG5vZGUpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSBcIkZsYWdzXCI6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlzaXRGbGFncyhub2RlKVxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgXCJEaXNqdW5jdGlvblwiOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpc2l0RGlzanVuY3Rpb24obm9kZSlcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlIFwiQWx0ZXJuYXRpdmVcIjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aXNpdEFsdGVybmF0aXZlKG5vZGUpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSBcIlN0YXJ0QW5jaG9yXCI6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlzaXRTdGFydEFuY2hvcihub2RlKVxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgXCJFbmRBbmNob3JcIjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aXNpdEVuZEFuY2hvcihub2RlKVxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgXCJXb3JkQm91bmRhcnlcIjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aXNpdFdvcmRCb3VuZGFyeShub2RlKVxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgXCJOb25Xb3JkQm91bmRhcnlcIjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aXNpdE5vbldvcmRCb3VuZGFyeShub2RlKVxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgXCJMb29rYWhlYWRcIjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aXNpdExvb2thaGVhZChub2RlKVxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgXCJOZWdhdGl2ZUxvb2thaGVhZFwiOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpc2l0TmVnYXRpdmVMb29rYWhlYWQobm9kZSlcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlIFwiQ2hhcmFjdGVyXCI6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlzaXRDaGFyYWN0ZXIobm9kZSlcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlIFwiU2V0XCI6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlzaXRTZXQobm9kZSlcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlIFwiR3JvdXBcIjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aXNpdEdyb3VwKG5vZGUpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSBcIkdyb3VwQmFja1JlZmVyZW5jZVwiOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpc2l0R3JvdXBCYWNrUmVmZXJlbmNlKG5vZGUpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSBcIlF1YW50aWZpZXJcIjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aXNpdFF1YW50aWZpZXIobm9kZSlcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy52aXNpdENoaWxkcmVuKG5vZGUpXG4gICAgICAgIH1cblxuICAgICAgICBCYXNlUmVnRXhwVmlzaXRvci5wcm90b3R5cGUudmlzaXRQYXR0ZXJuID0gZnVuY3Rpb24obm9kZSkge31cblxuICAgICAgICBCYXNlUmVnRXhwVmlzaXRvci5wcm90b3R5cGUudmlzaXRGbGFncyA9IGZ1bmN0aW9uKG5vZGUpIHt9XG5cbiAgICAgICAgQmFzZVJlZ0V4cFZpc2l0b3IucHJvdG90eXBlLnZpc2l0RGlzanVuY3Rpb24gPSBmdW5jdGlvbihub2RlKSB7fVxuXG4gICAgICAgIEJhc2VSZWdFeHBWaXNpdG9yLnByb3RvdHlwZS52aXNpdEFsdGVybmF0aXZlID0gZnVuY3Rpb24obm9kZSkge31cblxuICAgICAgICAvLyBBc3NlcnRpb25cbiAgICAgICAgQmFzZVJlZ0V4cFZpc2l0b3IucHJvdG90eXBlLnZpc2l0U3RhcnRBbmNob3IgPSBmdW5jdGlvbihub2RlKSB7fVxuXG4gICAgICAgIEJhc2VSZWdFeHBWaXNpdG9yLnByb3RvdHlwZS52aXNpdEVuZEFuY2hvciA9IGZ1bmN0aW9uKG5vZGUpIHt9XG5cbiAgICAgICAgQmFzZVJlZ0V4cFZpc2l0b3IucHJvdG90eXBlLnZpc2l0V29yZEJvdW5kYXJ5ID0gZnVuY3Rpb24obm9kZSkge31cblxuICAgICAgICBCYXNlUmVnRXhwVmlzaXRvci5wcm90b3R5cGUudmlzaXROb25Xb3JkQm91bmRhcnkgPSBmdW5jdGlvbihub2RlKSB7fVxuXG4gICAgICAgIEJhc2VSZWdFeHBWaXNpdG9yLnByb3RvdHlwZS52aXNpdExvb2thaGVhZCA9IGZ1bmN0aW9uKG5vZGUpIHt9XG5cbiAgICAgICAgQmFzZVJlZ0V4cFZpc2l0b3IucHJvdG90eXBlLnZpc2l0TmVnYXRpdmVMb29rYWhlYWQgPSBmdW5jdGlvbihub2RlKSB7fVxuXG4gICAgICAgIC8vIGF0b21zXG4gICAgICAgIEJhc2VSZWdFeHBWaXNpdG9yLnByb3RvdHlwZS52aXNpdENoYXJhY3RlciA9IGZ1bmN0aW9uKG5vZGUpIHt9XG5cbiAgICAgICAgQmFzZVJlZ0V4cFZpc2l0b3IucHJvdG90eXBlLnZpc2l0U2V0ID0gZnVuY3Rpb24obm9kZSkge31cblxuICAgICAgICBCYXNlUmVnRXhwVmlzaXRvci5wcm90b3R5cGUudmlzaXRHcm91cCA9IGZ1bmN0aW9uKG5vZGUpIHt9XG5cbiAgICAgICAgQmFzZVJlZ0V4cFZpc2l0b3IucHJvdG90eXBlLnZpc2l0R3JvdXBCYWNrUmVmZXJlbmNlID0gZnVuY3Rpb24obm9kZSkge31cblxuICAgICAgICBCYXNlUmVnRXhwVmlzaXRvci5wcm90b3R5cGUudmlzaXRRdWFudGlmaWVyID0gZnVuY3Rpb24obm9kZSkge31cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgUmVnRXhwUGFyc2VyOiBSZWdFeHBQYXJzZXIsXG4gICAgICAgICAgICBCYXNlUmVnRXhwVmlzaXRvcjogQmFzZVJlZ0V4cFZpc2l0b3IsXG4gICAgICAgICAgICBWRVJTSU9OOiBcIjAuNS4wXCJcbiAgICAgICAgfVxuICAgIH1cbilcbiIsInZhciBnO1xuXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxuZyA9IChmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXM7XG59KSgpO1xuXG50cnkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcblx0ZyA9IGcgfHwgbmV3IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTtcbn0gY2F0Y2ggKGUpIHtcblx0Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcblx0aWYgKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpIGcgPSB3aW5kb3c7XG59XG5cbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cbi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XG5cbm1vZHVsZS5leHBvcnRzID0gZztcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obW9kdWxlKSB7XG5cdGlmICghbW9kdWxlLndlYnBhY2tQb2x5ZmlsbCkge1xuXHRcdG1vZHVsZS5kZXByZWNhdGUgPSBmdW5jdGlvbigpIHt9O1xuXHRcdG1vZHVsZS5wYXRocyA9IFtdO1xuXHRcdC8vIG1vZHVsZS5wYXJlbnQgPSB1bmRlZmluZWQgYnkgZGVmYXVsdFxuXHRcdGlmICghbW9kdWxlLmNoaWxkcmVuKSBtb2R1bGUuY2hpbGRyZW4gPSBbXTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImxvYWRlZFwiLCB7XG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIG1vZHVsZS5sO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsIFwiaWRcIiwge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBtb2R1bGUuaTtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRtb2R1bGUud2VicGFja1BvbHlmaWxsID0gMTtcblx0fVxuXHRyZXR1cm4gbW9kdWxlO1xufTtcbiIsInZhciBhcGkgPSByZXF1aXJlKFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiKTtcbiAgICAgICAgICAgIHZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9tYWluLmNzc1wiKTtcblxuICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQuX19lc01vZHVsZSA/IGNvbnRlbnQuZGVmYXVsdCA6IGNvbnRlbnQ7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuICAgICAgICAgICAgfVxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLmluc2VydCA9IFwiaGVhZFwiO1xub3B0aW9ucy5zaW5nbGV0b24gPSBmYWxzZTtcblxudmFyIHVwZGF0ZSA9IGFwaShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHMgfHwge307IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBpc09sZElFID0gZnVuY3Rpb24gaXNPbGRJRSgpIHtcbiAgdmFyIG1lbW87XG4gIHJldHVybiBmdW5jdGlvbiBtZW1vcml6ZSgpIHtcbiAgICBpZiAodHlwZW9mIG1lbW8gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBUZXN0IGZvciBJRSA8PSA5IGFzIHByb3Bvc2VkIGJ5IEJyb3dzZXJoYWNrc1xuICAgICAgLy8gQHNlZSBodHRwOi8vYnJvd3NlcmhhY2tzLmNvbS8jaGFjay1lNzFkODY5MmY2NTMzNDE3M2ZlZTcxNWMyMjJjYjgwNVxuICAgICAgLy8gVGVzdHMgZm9yIGV4aXN0ZW5jZSBvZiBzdGFuZGFyZCBnbG9iYWxzIGlzIHRvIGFsbG93IHN0eWxlLWxvYWRlclxuICAgICAgLy8gdG8gb3BlcmF0ZSBjb3JyZWN0bHkgaW50byBub24tc3RhbmRhcmQgZW52aXJvbm1lbnRzXG4gICAgICAvLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyL2lzc3Vlcy8xNzdcbiAgICAgIG1lbW8gPSBCb29sZWFuKHdpbmRvdyAmJiBkb2N1bWVudCAmJiBkb2N1bWVudC5hbGwgJiYgIXdpbmRvdy5hdG9iKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWVtbztcbiAgfTtcbn0oKTtcblxudmFyIGdldFRhcmdldCA9IGZ1bmN0aW9uIGdldFRhcmdldCgpIHtcbiAgdmFyIG1lbW8gPSB7fTtcbiAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9yaXplKHRhcmdldCkge1xuICAgIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdmFyIHN0eWxlVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpOyAvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuXG4gICAgICBpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcbiAgICAgICAgICAvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuICAgICAgICAgIHN0eWxlVGFyZ2V0ID0gc3R5bGVUYXJnZXQuY29udGVudERvY3VtZW50LmhlYWQ7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICAgIHN0eWxlVGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcbiAgICB9XG5cbiAgICByZXR1cm4gbWVtb1t0YXJnZXRdO1xuICB9O1xufSgpO1xuXG52YXIgc3R5bGVzSW5Eb20gPSBbXTtcblxuZnVuY3Rpb24gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcikge1xuICB2YXIgcmVzdWx0ID0gLTE7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXNJbkRvbS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChzdHlsZXNJbkRvbVtpXS5pZGVudGlmaWVyID09PSBpZGVudGlmaWVyKSB7XG4gICAgICByZXN1bHQgPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpIHtcbiAgdmFyIGlkQ291bnRNYXAgPSB7fTtcbiAgdmFyIGlkZW50aWZpZXJzID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBsaXN0W2ldO1xuICAgIHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuICAgIHZhciBjb3VudCA9IGlkQ291bnRNYXBbaWRdIHx8IDA7XG4gICAgdmFyIGlkZW50aWZpZXIgPSBcIlwiLmNvbmNhdChpZCwgXCIgXCIpLmNvbmNhdChjb3VudCk7XG4gICAgaWRDb3VudE1hcFtpZF0gPSBjb3VudCArIDE7XG4gICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgdmFyIG9iaiA9IHtcbiAgICAgIGNzczogaXRlbVsxXSxcbiAgICAgIG1lZGlhOiBpdGVtWzJdLFxuICAgICAgc291cmNlTWFwOiBpdGVtWzNdXG4gICAgfTtcblxuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS5yZWZlcmVuY2VzKys7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0udXBkYXRlcihvYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZXNJbkRvbS5wdXNoKHtcbiAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpZmllcixcbiAgICAgICAgdXBkYXRlcjogYWRkU3R5bGUob2JqLCBvcHRpb25zKSxcbiAgICAgICAgcmVmZXJlbmNlczogMVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWRlbnRpZmllcnMucHVzaChpZGVudGlmaWVyKTtcbiAgfVxuXG4gIHJldHVybiBpZGVudGlmaWVycztcbn1cblxuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgdmFyIGF0dHJpYnV0ZXMgPSBvcHRpb25zLmF0dHJpYnV0ZXMgfHwge307XG5cbiAgaWYgKHR5cGVvZiBhdHRyaWJ1dGVzLm5vbmNlID09PSAndW5kZWZpbmVkJykge1xuICAgIHZhciBub25jZSA9IHR5cGVvZiBfX3dlYnBhY2tfbm9uY2VfXyAhPT0gJ3VuZGVmaW5lZCcgPyBfX3dlYnBhY2tfbm9uY2VfXyA6IG51bGw7XG5cbiAgICBpZiAobm9uY2UpIHtcbiAgICAgIGF0dHJpYnV0ZXMubm9uY2UgPSBub25jZTtcbiAgICB9XG4gIH1cblxuICBPYmplY3Qua2V5cyhhdHRyaWJ1dGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoa2V5LCBhdHRyaWJ1dGVzW2tleV0pO1xuICB9KTtcblxuICBpZiAodHlwZW9mIG9wdGlvbnMuaW5zZXJ0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgb3B0aW9ucy5pbnNlcnQoc3R5bGUpO1xuICB9IGVsc2Uge1xuICAgIHZhciB0YXJnZXQgPSBnZXRUYXJnZXQob3B0aW9ucy5pbnNlcnQgfHwgJ2hlYWQnKTtcblxuICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydCcgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuICAgIH1cblxuICAgIHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gIH1cblxuICByZXR1cm4gc3R5bGU7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSkge1xuICAvLyBpc3RhbmJ1bCBpZ25vcmUgaWZcbiAgaWYgKHN0eWxlLnBhcmVudE5vZGUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBzdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlKTtcbn1cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuXG5cbnZhciByZXBsYWNlVGV4dCA9IGZ1bmN0aW9uIHJlcGxhY2VUZXh0KCkge1xuICB2YXIgdGV4dFN0b3JlID0gW107XG4gIHJldHVybiBmdW5jdGlvbiByZXBsYWNlKGluZGV4LCByZXBsYWNlbWVudCkge1xuICAgIHRleHRTdG9yZVtpbmRleF0gPSByZXBsYWNlbWVudDtcbiAgICByZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcbiAgfTtcbn0oKTtcblxuZnVuY3Rpb24gYXBwbHlUb1NpbmdsZXRvblRhZyhzdHlsZSwgaW5kZXgsIHJlbW92ZSwgb2JqKSB7XG4gIHZhciBjc3MgPSByZW1vdmUgPyAnJyA6IG9iai5tZWRpYSA/IFwiQG1lZGlhIFwiLmNvbmNhdChvYmoubWVkaWEsIFwiIHtcIikuY29uY2F0KG9iai5jc3MsIFwifVwiKSA6IG9iai5jc3M7IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cbiAgaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSByZXBsYWNlVGV4dChpbmRleCwgY3NzKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XG4gICAgdmFyIGNoaWxkTm9kZXMgPSBzdHlsZS5jaGlsZE5vZGVzO1xuXG4gICAgaWYgKGNoaWxkTm9kZXNbaW5kZXhdKSB7XG4gICAgICBzdHlsZS5yZW1vdmVDaGlsZChjaGlsZE5vZGVzW2luZGV4XSk7XG4gICAgfVxuXG4gICAgaWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XG4gICAgICBzdHlsZS5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZS5hcHBlbmRDaGlsZChjc3NOb2RlKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gYXBwbHlUb1RhZyhzdHlsZSwgb3B0aW9ucywgb2JqKSB7XG4gIHZhciBjc3MgPSBvYmouY3NzO1xuICB2YXIgbWVkaWEgPSBvYmoubWVkaWE7XG4gIHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuXG4gIGlmIChtZWRpYSkge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZSgnbWVkaWEnLCBtZWRpYSk7XG4gIH0gZWxzZSB7XG4gICAgc3R5bGUucmVtb3ZlQXR0cmlidXRlKCdtZWRpYScpO1xuICB9XG5cbiAgaWYgKHNvdXJjZU1hcCAmJiBidG9hKSB7XG4gICAgY3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIi5jb25jYXQoYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSwgXCIgKi9cIik7XG4gIH0gLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuXG4gIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChzdHlsZS5maXJzdENoaWxkKSB7XG4gICAgICBzdHlsZS5yZW1vdmVDaGlsZChzdHlsZS5maXJzdENoaWxkKTtcbiAgICB9XG5cbiAgICBzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgfVxufVxuXG52YXIgc2luZ2xldG9uID0gbnVsbDtcbnZhciBzaW5nbGV0b25Db3VudGVyID0gMDtcblxuZnVuY3Rpb24gYWRkU3R5bGUob2JqLCBvcHRpb25zKSB7XG4gIHZhciBzdHlsZTtcbiAgdmFyIHVwZGF0ZTtcbiAgdmFyIHJlbW92ZTtcblxuICBpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcbiAgICB2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcbiAgICBzdHlsZSA9IHNpbmdsZXRvbiB8fCAoc2luZ2xldG9uID0gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpKTtcbiAgICB1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIGZhbHNlKTtcbiAgICByZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIHRydWUpO1xuICB9IGVsc2Uge1xuICAgIHN0eWxlID0gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuICAgIHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZSwgb3B0aW9ucyk7XG5cbiAgICByZW1vdmUgPSBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuICAgIH07XG4gIH1cblxuICB1cGRhdGUob2JqKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlKG5ld09iaikge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB1cGRhdGUob2JqID0gbmV3T2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVtb3ZlKCk7XG4gICAgfVxuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChsaXN0LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9OyAvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cbiAgLy8gdGFncyBpdCB3aWxsIGFsbG93IG9uIGEgcGFnZVxuXG4gIGlmICghb3B0aW9ucy5zaW5nbGV0b24gJiYgdHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uICE9PSAnYm9vbGVhbicpIHtcbiAgICBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcbiAgfVxuXG4gIGxpc3QgPSBsaXN0IHx8IFtdO1xuICB2YXIgbGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICBuZXdMaXN0ID0gbmV3TGlzdCB8fCBbXTtcblxuICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobmV3TGlzdCkgIT09ICdbb2JqZWN0IEFycmF5XScpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGlkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbaV07XG4gICAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS5yZWZlcmVuY2VzLS07XG4gICAgfVxuXG4gICAgdmFyIG5ld0xhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShuZXdMaXN0LCBvcHRpb25zKTtcblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgX2lkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbX2ldO1xuXG4gICAgICB2YXIgX2luZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoX2lkZW50aWZpZXIpO1xuXG4gICAgICBpZiAoc3R5bGVzSW5Eb21bX2luZGV4XS5yZWZlcmVuY2VzID09PSAwKSB7XG4gICAgICAgIHN0eWxlc0luRG9tW19pbmRleF0udXBkYXRlcigpO1xuXG4gICAgICAgIHN0eWxlc0luRG9tLnNwbGljZShfaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxhc3RJZGVudGlmaWVycyA9IG5ld0xhc3RJZGVudGlmaWVycztcbiAgfTtcbn07IiwiLy8gSW1wb3J0c1xudmFyIF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyA9IHJlcXVpcmUoXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCIpO1xuZXhwb3J0cyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhmYWxzZSk7XG4vLyBNb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcImJvZHkge1xcbiAgY29sb3I6IGRhcmtzbGF0ZWdyZXk7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiBsaWdodGJsdWU7XFxufVxcblxcbi5jb2RlIHtcXG4gIHdoaXRlLXNwYWNlOiBwcmU7XFxuICBmb250LWZhbWlseTogbW9ub3NwYWNlO1xcbn1cXG5cXG4uaW5mbyB7XFxuICBjb2xvcjogZGFya3NsYXRlZ3JleTtcXG4gIGJhY2tncm91bmQtY29sb3I6IGxpZ2h0eWVsbG93O1xcbn1cXG5cXG4uc3VjY2VzcyB7XFxuICBjb2xvcjogZGFya3NsYXRlZ3JleTtcXG4gIGJhY2tncm91bmQtY29sb3I6IGxpZ2h0Z3JlZW47XFxufVxcblxcbi5lcnJvciB7XFxuICBjb2xvcjogcmVkO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogbGlnaHRwaW5rO1xcbn1cXG5cIiwgXCJcIl0pO1xuLy8gRXhwb3J0c1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG4gIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gIEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG4vLyBjc3MgYmFzZSBjb2RlLCBpbmplY3RlZCBieSB0aGUgY3NzLWxvYWRlclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHVzZVNvdXJjZU1hcCkge1xuICB2YXIgbGlzdCA9IFtdOyAvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG5cbiAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCk7XG5cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIHJldHVybiBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKS5jb25jYXQoY29udGVudCwgXCJ9XCIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY29udGVudDtcbiAgICB9KS5qb2luKCcnKTtcbiAgfTsgLy8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcblxuXG4gIGxpc3QuaSA9IGZ1bmN0aW9uIChtb2R1bGVzLCBtZWRpYVF1ZXJ5LCBkZWR1cGUpIHtcbiAgICBpZiAodHlwZW9mIG1vZHVsZXMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgIG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsICcnXV07XG4gICAgfVxuXG4gICAgdmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcblxuICAgIGlmIChkZWR1cGUpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWRlc3RydWN0dXJpbmdcbiAgICAgICAgdmFyIGlkID0gdGhpc1tpXVswXTtcblxuICAgICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICAgIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBtb2R1bGVzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIGl0ZW0gPSBbXS5jb25jYXQobW9kdWxlc1tfaV0pO1xuXG4gICAgICBpZiAoZGVkdXBlICYmIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnRpbnVlXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAobWVkaWFRdWVyeSkge1xuICAgICAgICBpZiAoIWl0ZW1bMl0pIHtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWFRdWVyeTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzJdID0gXCJcIi5jb25jYXQobWVkaWFRdWVyeSwgXCIgYW5kIFwiKS5jb25jYXQoaXRlbVsyXSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbGlzdC5wdXNoKGl0ZW0pO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gbGlzdDtcbn07XG5cbmZ1bmN0aW9uIGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKSB7XG4gIHZhciBjb250ZW50ID0gaXRlbVsxXSB8fCAnJzsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1kZXN0cnVjdHVyaW5nXG5cbiAgdmFyIGNzc01hcHBpbmcgPSBpdGVtWzNdO1xuXG4gIGlmICghY3NzTWFwcGluZykge1xuICAgIHJldHVybiBjb250ZW50O1xuICB9XG5cbiAgaWYgKHVzZVNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHZhciBzb3VyY2VNYXBwaW5nID0gdG9Db21tZW50KGNzc01hcHBpbmcpO1xuICAgIHZhciBzb3VyY2VVUkxzID0gY3NzTWFwcGluZy5zb3VyY2VzLm1hcChmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICByZXR1cm4gXCIvKiMgc291cmNlVVJMPVwiLmNvbmNhdChjc3NNYXBwaW5nLnNvdXJjZVJvb3QgfHwgJycpLmNvbmNhdChzb3VyY2UsIFwiICovXCIpO1xuICAgIH0pO1xuICAgIHJldHVybiBbY29udGVudF0uY29uY2F0KHNvdXJjZVVSTHMpLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oJ1xcbicpO1xuICB9XG5cbiAgcmV0dXJuIFtjb250ZW50XS5qb2luKCdcXG4nKTtcbn0gLy8gQWRhcHRlZCBmcm9tIGNvbnZlcnQtc291cmNlLW1hcCAoTUlUKVxuXG5cbmZ1bmN0aW9uIHRvQ29tbWVudChzb3VyY2VNYXApIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gIHZhciBiYXNlNjQgPSBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpO1xuICB2YXIgZGF0YSA9IFwic291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsXCIuY29uY2F0KGJhc2U2NCk7XG4gIHJldHVybiBcIi8qIyBcIi5jb25jYXQoZGF0YSwgXCIgKi9cIik7XG59IiwiaW1wb3J0IHsgTGV4ZXIsIGNyZWF0ZVRva2VuIH0gZnJvbSBcImNoZXZyb3RhaW5cIlxuXG5jb25zdCBXaGl0ZVNwYWNlID0gY3JlYXRlVG9rZW4oeyBuYW1lOiBcIldoaXRlU3BhY2VcIiwgcGF0dGVybjogL1xccysvLCBncm91cDogTGV4ZXIuU0tJUFBFRCB9KVxuZXhwb3J0IGNvbnN0IFZhciA9IGNyZWF0ZVRva2VuKHsgbmFtZTogXCJWYXJcIiwgcGF0dGVybjogL3Zhci8gfSlcbmV4cG9ydCBjb25zdCBQcmludCA9IGNyZWF0ZVRva2VuKHsgbmFtZTogXCJQcmludFwiLCBwYXR0ZXJuOiAvcHJpbnQvIH0pXG5leHBvcnQgY29uc3QgUHJpbnRsbiA9IGNyZWF0ZVRva2VuKHsgbmFtZTogXCJQcmludGxuXCIsIHBhdHRlcm46IC9wcmludGxuLyB9KVxuZXhwb3J0IGNvbnN0IElkZW50aWZpZXIgPSBjcmVhdGVUb2tlbih7IG5hbWU6IFwiSWRlbnRpZmllclwiLCBwYXR0ZXJuOiAvW2EtekEtWl1cXHcqLyB9KVxuZXhwb3J0IGNvbnN0IExpdGVyYWwgPSBjcmVhdGVUb2tlbih7IG5hbWU6IFwiTGl0ZXJhbFwiLCBwYXR0ZXJuOiAvXCIoOj9bXlxcXFxcIl0rfFxcXFwoOj9bYmZucnR2XCJcXFxcL118dVswLTlhLWZBLUZdezR9KSkqXCIvIH0pXG5leHBvcnQgY29uc3QgSW50ZWdlciA9IGNyZWF0ZVRva2VuKHsgbmFtZTogXCJJbnRlZ2VyXCIsIHBhdHRlcm46IC8wfFsxLTldXFxkKi8gfSlcblxuZXhwb3J0IGNvbnN0IFBhcmVudGhlc2VzT3BlbiA9IGNyZWF0ZVRva2VuKHsgbmFtZTogXCJQYXJlbnRoZXNlc09wZW5cIiwgcGF0dGVybjogL1xcKC8gfSlcbmV4cG9ydCBjb25zdCBQYXJlbnRoZXNlc0Nsb3NlID0gY3JlYXRlVG9rZW4oeyBuYW1lOiBcIlBhcmVudGhlc2VzQ2xvc2VcIiwgcGF0dGVybjogL1xcKS8gfSlcbmV4cG9ydCBjb25zdCBCbG9ja09wZW4gPSBjcmVhdGVUb2tlbih7IG5hbWU6IFwiQmxvY2tPcGVuXCIsIHBhdHRlcm46IC97LyB9KVxuZXhwb3J0IGNvbnN0IEJsb2NrQ2xvc2UgPSBjcmVhdGVUb2tlbih7IG5hbWU6IFwiQmxvY2tDbG9zZVwiLCBwYXR0ZXJuOiAvfS8gfSlcbmV4cG9ydCBjb25zdCBDb21tYSA9IGNyZWF0ZVRva2VuKHsgbmFtZTogXCJDb21tYVwiLCBwYXR0ZXJuOiAvLC8gfSlcbmV4cG9ydCBjb25zdCBTZW1pQ29sb24gPSBjcmVhdGVUb2tlbih7IG5hbWU6IFwiU2VtaUNvbG9uXCIsIHBhdHRlcm46IC87LyB9KVxuZXhwb3J0IGNvbnN0IEVxdWFscyA9IGNyZWF0ZVRva2VuKHsgbmFtZTogXCJFcXVhbHNcIiwgcGF0dGVybjogLz0vIH0pXG5leHBvcnQgY29uc3QgQWRkaXRpb25PcCA9IGNyZWF0ZVRva2VuKHsgbmFtZTogXCJBZGRpdGlvbk9wXCIsIHBhdHRlcm46IExleGVyLk5BIH0pXG5leHBvcnQgY29uc3QgTXVsdGlwbGljYXRpb25PcCA9IGNyZWF0ZVRva2VuKHsgbmFtZTogXCJNdWx0aXBsaWNhdGlvbk9wXCIsIHBhdHRlcm46IExleGVyLk5BIH0pXG5leHBvcnQgY29uc3QgUGx1cyA9IGNyZWF0ZVRva2VuKHsgbmFtZTogXCJQbHVzXCIsIHBhdHRlcm46IC9cXCsvLCBjYXRlZ29yaWVzOiBBZGRpdGlvbk9wIH0pXG5leHBvcnQgY29uc3QgTWludXMgPSBjcmVhdGVUb2tlbih7IG5hbWU6IFwiTWludXNcIiwgcGF0dGVybjogLy0vLCBjYXRlZ29yaWVzOiBBZGRpdGlvbk9wIH0pXG5leHBvcnQgY29uc3QgRGl2ID0gY3JlYXRlVG9rZW4oeyBuYW1lOiBcIkRpdlwiLCBwYXR0ZXJuOiAvXFwvLywgY2F0ZWdvcmllczogTXVsdGlwbGljYXRpb25PcCB9KVxuZXhwb3J0IGNvbnN0IE11bHQgPSBjcmVhdGVUb2tlbih7IG5hbWU6IFwiTXVsdFwiLCBwYXR0ZXJuOiAvXFwqLywgY2F0ZWdvcmllczogTXVsdGlwbGljYXRpb25PcCB9KVxuXG5leHBvcnQgY29uc3Qgdm9jYWJ1bGFyeSA9IFtcbiAgV2hpdGVTcGFjZSxcbiAgLy8ga2V5d29yZHNcbiAgVmFyLFxuICBQcmludGxuLFxuICBQcmludCxcbiAgLy8gaWRlbnRpZmllciwgbGl0ZXJhbCBhbmQgbnVtYmVyc1xuICBJZGVudGlmaWVyLFxuICBMaXRlcmFsLFxuICBJbnRlZ2VyLFxuICAvLyBzZXBhcmF0b3JzXG4gIFBhcmVudGhlc2VzT3BlbixcbiAgUGFyZW50aGVzZXNDbG9zZSxcbiAgQmxvY2tPcGVuLFxuICBCbG9ja0Nsb3NlLFxuICBDb21tYSxcbiAgU2VtaUNvbG9uLFxuICAvLyBvcGVyYXRvcnNcbiAgRXF1YWxzLFxuICBQbHVzLFxuICBNaW51cyxcbiAgRGl2LFxuICBNdWx0LFxuICBBZGRpdGlvbk9wLFxuICBNdWx0aXBsaWNhdGlvbk9wLFxuXVxuXG5leHBvcnQgY29uc3QgbWoxTGV4ZXIgPSBuZXcgTGV4ZXIodm9jYWJ1bGFyeSk7XG4iLCJpbXBvcnQgeyBDc3RQYXJzZXIgfSBmcm9tIFwiY2hldnJvdGFpblwiXG5pbXBvcnQge1xuICB2b2NhYnVsYXJ5LCBWYXIsIFByaW50bG4sIFByaW50LCBJZGVudGlmaWVyLCBMaXRlcmFsLCBJbnRlZ2VyLCBQYXJlbnRoZXNlc09wZW4sIFBhcmVudGhlc2VzQ2xvc2UsXG4gIEJsb2NrT3BlbiwgQmxvY2tDbG9zZSwgQ29tbWEsIFNlbWlDb2xvbiwgRXF1YWxzLCBNaW51cywgQWRkaXRpb25PcCwgTXVsdGlwbGljYXRpb25PcCxcbn0gZnJvbSBcIi4vbGV4ZXJcIlxuXG5jbGFzcyBNajFQYXJzZXIgZXh0ZW5kcyBDc3RQYXJzZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcih2b2NhYnVsYXJ5KVxuXG4gICAgY29uc3QgJCA9IHRoaXNcblxuICAgIC8vIHByb2dyYW0gLT4gbWV0aG9kXG4gICAgJC5SVUxFKFwicHJvZ3JhbVwiLCAoKSA9PiB7XG4gICAgICAkLlNVQlJVTEUoJC5tZXRob2QpXG4gICAgfSlcblxuICAgIC8vIG1ldGhvZCAtPiBpZGVudChpZGVudExpc3RvcHQpIHsgZGVjbGFyYXRpb25vcHQgc3RhdGVtZW50cmVwIH1cbiAgICAkLlJVTEUoXCJtZXRob2RcIiwgKCkgPT4ge1xuICAgICAgJC5DT05TVU1FKElkZW50aWZpZXIpXG4gICAgICAkLkNPTlNVTUUoUGFyZW50aGVzZXNPcGVuKVxuICAgICAgJC5PUFRJT04xKCgpID0+IHtcbiAgICAgICAgJC5TVUJSVUxFKCQuaWRlbnRMaXN0KVxuICAgICAgfSlcbiAgICAgICQuQ09OU1VNRShQYXJlbnRoZXNlc0Nsb3NlKVxuICAgICAgJC5DT05TVU1FKEJsb2NrT3BlbilcbiAgICAgICQuT1BUSU9OMigoKSA9PiB7XG4gICAgICAgICQuU1VCUlVMRSgkLmRlY2xhcmF0aW9uKVxuICAgICAgfSlcbiAgICAgICQuTUFOWSgoKSA9PiB7XG4gICAgICAgICQuU1VCUlVMRSgkLnN0YXRlbWVudClcbiAgICAgIH0pXG4gICAgICAkLkNPTlNVTUUoQmxvY2tDbG9zZSlcbiAgICB9KVxuXG4gICAgLy8gaWRlbnRMaXN0IC0+IGlkZW50IHwgaWRlbnRMaXN0LCBpZGVudFxuICAgICQuUlVMRShcImlkZW50TGlzdFwiLCAoKSA9PiB7XG4gICAgICAkLk1BTllfU0VQKHtcbiAgICAgICAgU0VQOiBDb21tYSxcbiAgICAgICAgREVGOiAoKSA9PiB7XG4gICAgICAgICAgJC5DT05TVU1FKElkZW50aWZpZXIpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSlcblxuICAgIC8vIGRlY2xhcmF0aW9uIC0+IHZhciBpZGVudExpc3Q7XG4gICAgJC5SVUxFKFwiZGVjbGFyYXRpb25cIiwgKCkgPT4ge1xuICAgICAgJC5DT05TVU1FKFZhcilcbiAgICAgICQuU1VCUlVMRSgkLmlkZW50TGlzdClcbiAgICAgICQuQ09OU1VNRShTZW1pQ29sb24pXG4gICAgfSlcblxuICAgIC8vIHN0YXRlbWVudCAtPiBhc3NpZ25tZW50IHwgcHJpbnRTdGF0XG4gICAgJC5SVUxFKFwic3RhdGVtZW50XCIsICgpID0+IHtcbiAgICAgICQuT1IoW1xuICAgICAgICB7IEFMVDogKCkgPT4gJC5TVUJSVUxFKCQuYXNzaWdubWVudCkgfSxcbiAgICAgICAgeyBBTFQ6ICgpID0+ICQuU1VCUlVMRSgkLnByaW50U3RhdCkgfVxuICAgICAgXSlcbiAgICB9KVxuXG4gICAgLy8gYXNzaWdubWVudCAtPiB2YXJpYWJsZSA9IGV4cHJlc3Npb247XG4gICAgJC5SVUxFKFwiYXNzaWdubWVudFwiLCAoKSA9PiB7XG4gICAgICAkLlNVQlJVTEUoJC52YXJpYWJsZSlcbiAgICAgICQuQ09OU1VNRShFcXVhbHMpXG4gICAgICAkLlNVQlJVTEUoJC5leHByZXNzaW9uKVxuICAgICAgJC5DT05TVU1FKFNlbWlDb2xvbilcbiAgICB9KVxuXG4gICAgLy8gZXhwcmVzc2lvbiAtPiAtb3B0IHRlcm0gfCBleHByZXNzaW9uICsgdGVybSB8IGV4cHJlc3Npb24g4oCTIHRlcm1cbiAgICAvLyB0ZXJtIC0+IGZhY3RvciB8IHRlcm0gKiBmYWN0b3IgfCB0ZXJtIC8gZmFjdG9yXG4gICAgJC5SVUxFKFwiZXhwcmVzc2lvblwiLCAoKSA9PiB7XG4gICAgICAkLk9QVElPTigoKSA9PiB7XG4gICAgICAgICQuQ09OU1VNRShNaW51cylcbiAgICAgIH0pXG4gICAgICAkLlNVQlJVTEUoJC5hZGRpdGlvbkV4cHJlc3Npb24pXG4gICAgfSlcblxuICAgICQuUlVMRShcImFkZGl0aW9uRXhwcmVzc2lvblwiLCAoKSA9PiB7XG4gICAgICAkLlNVQlJVTEUxKCQubXVsdGlwbGljYXRpb25FeHByZXNzaW9uLCB7IExBQkVMOiBcImxoc1wiIH0pXG4gICAgICAkLk1BTlkoKCkgPT4ge1xuICAgICAgICAkLkNPTlNVTUUoQWRkaXRpb25PcClcbiAgICAgICAgJC5TVUJSVUxFMigkLm11bHRpcGxpY2F0aW9uRXhwcmVzc2lvbiwgeyBMQUJFTDogXCJyaHNcIiB9KVxuICAgICAgfSlcbiAgICB9KVxuXG4gICAgJC5SVUxFKFwibXVsdGlwbGljYXRpb25FeHByZXNzaW9uXCIsICgpID0+IHtcbiAgICAgICQuU1VCUlVMRTEoJC5mYWN0b3IsIHsgTEFCRUw6IFwibGhzXCIgfSlcbiAgICAgICQuTUFOWSgoKSA9PiB7XG4gICAgICAgICQuQ09OU1VNRShNdWx0aXBsaWNhdGlvbk9wKVxuICAgICAgICAkLlNVQlJVTEUyKCQuZmFjdG9yLCB7IExBQkVMOiBcInJoc1wiIH0pXG4gICAgICB9KVxuICAgIH0pXG5cbiAgICAvLyBmYWN0b3IgLT4gbnVtYmVyIHwgdmFyaWFibGUgfCAoZXhwcmVzc2lvbilcbiAgICAkLlJVTEUoXCJmYWN0b3JcIiwgKCkgPT4ge1xuICAgICAgJC5PUihbXG4gICAgICAgIHsgQUxUOiAoKSA9PiAkLlNVQlJVTEUoJC5udW1iZXIpIH0sXG4gICAgICAgIHsgQUxUOiAoKSA9PiAkLlNVQlJVTEUoJC52YXJpYWJsZSkgfSxcbiAgICAgICAge1xuICAgICAgICAgIEFMVDogKCkgPT4ge1xuICAgICAgICAgICAgJC5DT05TVU1FKFBhcmVudGhlc2VzT3BlbilcbiAgICAgICAgICAgICQuU1VCUlVMRSgkLmV4cHJlc3Npb24pXG4gICAgICAgICAgICAkLkNPTlNVTUUoUGFyZW50aGVzZXNDbG9zZSlcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICBdKVxuICAgIH0pXG5cbiAgICAvLyB2YXJpYWJsZSAtPiBpZGVudFxuICAgICQuUlVMRShcInZhcmlhYmxlXCIsICgpID0+IHtcbiAgICAgICQuQ09OU1VNRShJZGVudGlmaWVyKVxuICAgIH0pXG5cbiAgICAvLyBudW1iZXIgLT4gaW50ZWdlclxuICAgICQuUlVMRShcIm51bWJlclwiLCAoKSA9PiB7XG4gICAgICAkLkNPTlNVTUUoSW50ZWdlcilcbiAgICB9KVxuXG4gICAgLy8gcHJpbnRTdGF0IC0+IHByaW50IGl0ZW1MaXN0OyB8IHByaW50bG4gaXRlbUxpc3Qgb3B0O1xuICAgICQuUlVMRShcInByaW50U3RhdFwiLCAoKSA9PiB7XG4gICAgICAkLk9SKFtcbiAgICAgICAge1xuICAgICAgICAgIEFMVDogKCkgPT4ge1xuICAgICAgICAgICAgJC5DT05TVU1FKFByaW50KVxuICAgICAgICAgICAgJC5TVUJSVUxFMSgkLml0ZW1MaXN0KVxuICAgICAgICAgICAgJC5DT05TVU1FMShTZW1pQ29sb24pXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgQUxUOiAoKSA9PiB7XG4gICAgICAgICAgICAkLkNPTlNVTUUoUHJpbnRsbilcbiAgICAgICAgICAgICQuT1BUSU9OKCgpID0+IHtcbiAgICAgICAgICAgICAgJC5TVUJSVUxFMigkLml0ZW1MaXN0KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICQuQ09OU1VNRTIoU2VtaUNvbG9uKVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgIF0pXG4gICAgfSlcblxuICAgIC8vIGl0ZW1MaXN0IC0+IHByaW50SXRlbSB8IGl0ZW1MaXN0LCBwcmludEl0ZW1cbiAgICAkLlJVTEUoXCJpdGVtTGlzdFwiLCAoKSA9PiB7XG4gICAgICAkLk1BTllfU0VQKHtcbiAgICAgICAgU0VQOiBDb21tYSxcbiAgICAgICAgREVGOiAoKSA9PiB7XG4gICAgICAgICAgJC5TVUJSVUxFKCQucHJpbnRJdGVtKVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH0pXG5cbiAgICAvLyBwcmludEl0ZW0gLT4gbGl0ZXJhbCB8IGV4cHJlc3Npb24gfCBleHByZXNzaW9uIDogZXhwcmVzc2lvblxuICAgICQuUlVMRShcInByaW50SXRlbVwiLCAoKSA9PiB7XG4gICAgICAkLk9SKFtcbiAgICAgICAgeyBBTFQ6ICgpID0+ICQuQ09OU1VNRShMaXRlcmFsKSB9LFxuICAgICAgICB7IEFMVDogKCkgPT4gJC5TVUJSVUxFKCQuZXhwcmVzc2lvbikgfSxcbiAgICAgIF0pXG4gICAgfSlcblxuICAgIHRoaXMucGVyZm9ybVNlbGZBbmFseXNpcygpXG5cbiAgfVxufVxuXG5leHBvcnQgY29uc3QgbWoxUGFyc2VyID0gbmV3IE1qMVBhcnNlcigpO1xuIiwiaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCB7IHRva2VuTWF0Y2hlciB9IGZyb20gXCJjaGV2cm90YWluXCJcbmltcG9ydCB7IG1qMVBhcnNlciBhcyBwYXJzZXIgfSBmcm9tIFwiLi9wYXJzZXJcIjtcbmltcG9ydCB7IE11bHQsIFBsdXMgfSBmcm9tIFwiLi9sZXhlclwiXG5cbmNvbnN0IEJhc2VDc3RWaXNpdG9yID0gcGFyc2VyLmdldEJhc2VDc3RWaXNpdG9yQ29uc3RydWN0b3IoKVxuXG5jbGFzcyBNajFJbnRlcnByZXRlciBleHRlbmRzIEJhc2VDc3RWaXNpdG9yIHtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpXG4gICAgdGhpcy52YWxpZGF0ZVZpc2l0b3IoKVxuICAgIHRoaXMuZnJhbWUgPSB7fVxuICAgIHRoaXMub3V0cHV0ID0gJydcbiAgfVxuXG4gIHByb2dyYW0oY3R4KSB7XG4gICAgdGhpcy52aXNpdChjdHgubWV0aG9kKVxuICAgIGNvbnNvbGUubG9nKHRoaXMub3V0cHV0KVxuICB9XG5cbiAgbWV0aG9kKGN0eCkge1xuICAgIHRoaXMuZnJhbWUgPSB0aGlzLnZpc2l0KGN0eC5pZGVudExpc3QpXG4gICAgaWYgKGN0eC5kZWNsYXJhdGlvbikge1xuICAgICAgY29uc3QgdmFycyA9IHRoaXMudmlzaXQoY3R4LmRlY2xhcmF0aW9uKVxuICAgICAgdGhpcy5mcmFtZSA9IF8uYXNzaWduKHRoaXMuZnJhbWUsIHZhcnMpXG4gICAgfVxuXG4gICAgaWYgKGN0eC5zdGF0ZW1lbnQpIHtcbiAgICAgIF8uY2hhaW4oY3R4LnN0YXRlbWVudClcbiAgICAgICAgLm1hcCgoc3RhdGVtZW50ID0+IHtcbiAgICAgICAgICB0aGlzLnZpc2l0KHN0YXRlbWVudClcbiAgICAgICAgfSkpXG4gICAgICAgIC52YWx1ZSgpXG4gICAgfVxuICB9XG5cbiAgaWRlbnRMaXN0KGN0eCkge1xuICAgIGlmIChjdHguSWRlbnRpZmllcikge1xuICAgICAgcmV0dXJuIF9cbiAgICAgICAgLmNoYWluKGN0eC5JZGVudGlmaWVyKVxuICAgICAgICAua2V5QnkoJ2ltYWdlJylcbiAgICAgICAgLm1hcFZhbHVlcygoKSA9PiBudWxsKVxuICAgICAgICAudmFsdWUoKVxuICAgIH1cbiAgICByZXR1cm4ge31cbiAgfVxuXG4gIGRlY2xhcmF0aW9uKGN0eCkge1xuICAgIHJldHVybiB0aGlzLnZpc2l0KGN0eC5pZGVudExpc3QpXG4gIH1cblxuICBzdGF0ZW1lbnQoY3R4KSB7XG4gICAgaWYgKGN0eC5wcmludFN0YXQpIHtcbiAgICAgIHRoaXMudmlzaXQoY3R4LnByaW50U3RhdClcbiAgICB9IGVsc2UgaWYgKGN0eC5hc3NpZ25tZW50KSB7XG4gICAgICB0aGlzLnZpc2l0KGN0eC5hc3NpZ25tZW50KVxuICAgIH1cbiAgfVxuXG4gIGFzc2lnbm1lbnQoY3R4KSB7XG4gICAgY29uc3QgbmFtZSA9IHRoaXMudmlzaXQoY3R4LnZhcmlhYmxlKVxuICAgIGNvbnN0IHZhbHVlID0gdGhpcy52aXNpdChjdHguZXhwcmVzc2lvbilcbiAgICB0aGlzLmZyYW1lW25hbWVdID0gdmFsdWVcbiAgfVxuXG4gIGV4cHJlc3Npb24oY3R4KSB7XG4gICAgY29uc3QgdmFsdWUgPSB0aGlzLnZpc2l0KGN0eC5hZGRpdGlvbkV4cHJlc3Npb24pXG4gICAgaWYgKGN0eC5NaW51cykge1xuICAgICAgcmV0dXJuIC12YWx1ZVxuICAgIH1cbiAgICByZXR1cm4gdmFsdWVcbiAgfVxuXG4gIGFkZGl0aW9uRXhwcmVzc2lvbihjdHgpIHtcbiAgICBsZXQgcmVzdWx0ID0gdGhpcy52aXNpdChjdHgubGhzKVxuXG4gICAgaWYgKGN0eC5yaHMpIHtcbiAgICAgIGN0eC5yaHMuZm9yRWFjaCgocmhzT3BlcmFuZCwgaWR4KSA9PiB7XG4gICAgICAgIGxldCByaHNWYWx1ZSA9IHRoaXMudmlzaXQocmhzT3BlcmFuZClcbiAgICAgICAgbGV0IG9wZXJhdG9yID0gY3R4LkFkZGl0aW9uT3BbaWR4XVxuXG4gICAgICAgIGlmICh0b2tlbk1hdGNoZXIob3BlcmF0b3IsIFBsdXMpKSB7XG4gICAgICAgICAgcmVzdWx0ICs9IHJoc1ZhbHVlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzdWx0IC09IHJoc1ZhbHVlXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG5cbiAgbXVsdGlwbGljYXRpb25FeHByZXNzaW9uKGN0eCkge1xuICAgIGxldCByZXN1bHQgPSB0aGlzLnZpc2l0KGN0eC5saHMpXG4gICAgaWYgKGN0eC5yaHMpIHtcbiAgICAgIGN0eC5yaHMuZm9yRWFjaCgocmhzT3BlcmFuZCwgaWR4KSA9PiB7XG4gICAgICAgIGxldCByaHNWYWx1ZSA9IHRoaXMudmlzaXQocmhzT3BlcmFuZClcbiAgICAgICAgbGV0IG9wZXJhdG9yID0gY3R4Lk11bHRpcGxpY2F0aW9uT3BbaWR4XVxuXG4gICAgICAgIGlmICh0b2tlbk1hdGNoZXIob3BlcmF0b3IsIE11bHQpKSB7XG4gICAgICAgICAgcmVzdWx0ICo9IHJoc1ZhbHVlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzdWx0IC89IHJoc1ZhbHVlXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG5cbiAgZmFjdG9yKGN0eCkge1xuICAgIGlmIChjdHgubnVtYmVyKSB7XG4gICAgICByZXR1cm4gdGhpcy52aXNpdChjdHgubnVtYmVyKVxuICAgIH0gZWxzZSBpZiAoY3R4LnZhcmlhYmxlKSB7XG4gICAgICBjb25zdCBuYW1lID0gdGhpcy52aXNpdChjdHgudmFyaWFibGUpXG4gICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuZnJhbWVbbmFtZV1cbiAgICAgIHJldHVybiB2YWx1ZVxuICAgIH0gZWxzZSBpZiAoY3R4LmV4cHJlc3Npb24pIHtcbiAgICAgIHJldHVybiB0aGlzLnZpc2l0KGN0eC5leHByZXNzaW9uKVxuICAgIH1cbiAgfVxuXG4gIHZhcmlhYmxlKGN0eCkge1xuICAgIHJldHVybiBjdHguSWRlbnRpZmllclswXS5pbWFnZVxuICB9XG5cbiAgbnVtYmVyKGN0eCkge1xuICAgIHJldHVybiBwYXJzZUludChjdHguSW50ZWdlclswXS5pbWFnZSwgMTApXG4gIH1cblxuICBwcmludFN0YXQoY3R4KSB7XG4gICAgY29uc3QgaXRlbXMgPSB0aGlzLnZpc2l0KGN0eC5pdGVtTGlzdClcbiAgICBpZiAoY3R4LlByaW50KSB7XG4gICAgICB0aGlzLmRvUHJpbnQoaXRlbXMpXG4gICAgfSBlbHNlIGlmIChjdHguUHJpbnRsbikge1xuICAgICAgdGhpcy5kb1ByaW50bG4oaXRlbXMpXG4gICAgfVxuICB9XG5cbiAgaXRlbUxpc3QoY3R4KSB7XG4gICAgaWYgKGN0eC5wcmludEl0ZW0pIHtcbiAgICAgIHJldHVybiBfXG4gICAgICAgIC5jaGFpbihjdHgucHJpbnRJdGVtKVxuICAgICAgICAubWFwKChwaSkgPT4ge1xuICAgICAgICAgIHJldHVybiB0aGlzLnZpc2l0KHBpKVxuICAgICAgICB9KVxuICAgICAgICAudmFsdWUoKVxuICAgIH1cbiAgICByZXR1cm4gW11cbiAgfVxuXG4gIHByaW50SXRlbShjdHgpIHtcbiAgICBpZiAoY3R4LkxpdGVyYWwpIHtcbiAgICAgIHJldHVybiBfLnRyaW0oY3R4LkxpdGVyYWxbMF0uaW1hZ2UsICdcIicpXG4gICAgfSBlbHNlIGlmIChjdHguZXhwcmVzc2lvbikge1xuICAgICAgcmV0dXJuIHRoaXMudmlzaXQoY3R4LmV4cHJlc3Npb24pXG4gICAgfVxuICB9XG5cbiAgZG9QcmludChpdGVtcykge1xuICAgIHRoaXMub3V0cHV0ICs9IF8uam9pbihpdGVtcywgJycpXG4gIH1cblxuICBkb1ByaW50bG4oaXRlbXMpIHtcbiAgICB0aGlzLm91dHB1dCArPSBfLmpvaW4oaXRlbXMsICcnKSArICdcXG4nXG4gIH1cblxufVxuXG5leHBvcnQgY29uc3QgbWoxSW50ZXJwcmV0ZXIgPSBuZXcgTWoxSW50ZXJwcmV0ZXIoKVxuIiwiaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcblxuaW1wb3J0ICcuL21haW4uY3NzJztcbmltcG9ydCB7IHBhcnNlIH0gZnJvbSBcIi4vbWoxXCI7XG5cbmZ1bmN0aW9uIGV2YWx1YXRlKHNvdXJjZSkge1xuICBjb25zdCByb290ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGNvbnN0IGNvZGVEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgY29uc3QgcmVzdWx0RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGNvbnN0IHRva2Vuc0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gIGNvZGVEaXYuaW5uZXJIVE1MID0gc291cmNlO1xuICBjb2RlRGl2LmNsYXNzTGlzdC5hZGQoJ2NvZGUnKTtcblxuICBjb25zdCByZXN1bHQgPSBwYXJzZShzb3VyY2UpO1xuICByZXN1bHREaXYuY2xhc3NMaXN0LmFkZCgnY29kZScpO1xuICB0b2tlbnNEaXYuY2xhc3NMaXN0LmFkZCgnY29kZScsICdpbmZvJyk7XG4gIGlmIChyZXN1bHQuZXJyb3JzLmxlbmd0aCA+IDApIHtcbiAgICByZXN1bHREaXYuY2xhc3NMaXN0LmFkZCgnZXJyb3InKTtcbiAgICByZXN1bHREaXYuaW5uZXJIVE1MID0gX1xuICAgICAgLmNoYWluKHJlc3VsdC5lcnJvcnMpXG4gICAgICAubWFwKChlKSA9PiBgTGluZSAke2UudG9rZW4uc3RhcnRMaW5lfTogJHtlLm1lc3NhZ2V9YClcbiAgICAgIC5qb2luKCdcXG4nKTtcbiAgfSBlbHNlIHtcbiAgICByZXN1bHREaXYuY2xhc3NMaXN0LmFkZCgnc3VjY2VzcycpO1xuICAgIHJlc3VsdERpdi5pbm5lckhUTUwgPSByZXN1bHQudmFsdWVcbiAgICB0b2tlbnNEaXYuaW5uZXJIVE1MID0gX1xuICAgICAgLmNoYWluKHJlc3VsdC50b2tlbnMpXG4gICAgICAubWFwKCh0b2spID0+IGAke3Rvay50b2tlblR5cGUubmFtZX0gJHt0b2suaW1hZ2V9YClcbiAgICAgIC5qb2luKCdcXG4nKTtcbiAgfVxuXG4gIHJvb3QuYXBwZW5kQ2hpbGQoY29kZURpdik7XG4gIHJvb3QuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaHInKSk7XG4gIHJvb3QuYXBwZW5kQ2hpbGQocmVzdWx0RGl2KTtcbiAgcm9vdC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdocicpKTtcbiAgcm9vdC5hcHBlbmRDaGlsZCh0b2tlbnNEaXYpO1xuICByZXR1cm4gcm9vdDtcbn1cblxuZnVuY3Rpb24gYWRkKHRleHQpIHtcbiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChldmFsdWF0ZSh0ZXh0KSk7XG59XG5cbmNvbnN0IHByb2cgPSBgXG4gIHRlc3QoKSB7XG4gICAgdmFyIGEsIGIsIGM7XG4gICAgcHJpbnRsbiBcIlNvbWUgZXhwcmVzc2lvbnNcIjtcbiAgICBhID0gLTQwIC8gKC0yICogNSk7XG4gICAgcHJpbnQgXCJhID0gXCIsIGEsIFwiICAgLTEvYSA9IFwiLCAtMSAvIGE7XG4gICAgcHJpbnRsbiBcIiAgIDIqYSA9IFwiLCAyICogYTtcbiAgICBwcmludGxuIFwiYSA9IDI7IGIgPSAzOyBjID0gNTtcIjtcbiAgICBhID0gMjsgYiA9IDM7IGMgPSA1O1xuICAgIHByaW50IFwiYio4LShjLWIpKjctKGEqYy1iKS8oYy8oYStiKSkgPSBcIjtcbiAgICBwcmludCAgYiAqIDggLSAoYyAtIGIpICogNyAtIChhICogYyAtIGIpIC8gKGMgLyAoYSArIGIpKTtcbiAgfVxuYDtcblxuYWRkKHByb2cpO1xuIiwiaW1wb3J0IHsgbWoxTGV4ZXIgYXMgbGV4ZXIgfSBmcm9tIFwiLi9sZXhlclwiO1xuaW1wb3J0IHsgbWoxUGFyc2VyIGFzIHBhcnNlciB9IGZyb20gXCIuL3BhcnNlclwiO1xuaW1wb3J0IHsgbWoxSW50ZXJwcmV0ZXIgYXMgaW50ZXJwcmV0ZXIgfSBmcm9tIFwiLi9pbnRlcnByZXRlclwiO1xuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2UoaW5wdXQpIHtcbiAgY29uc3QgbGV4ID0gbGV4ZXIudG9rZW5pemUoaW5wdXQpXG4gIHBhcnNlci5pbnB1dCA9IGxleC50b2tlbnNcbiAgY29uc3QgY3N0ID0gcGFyc2VyLnByb2dyYW0oKVxuICBpbnRlcnByZXRlci52aXNpdChjc3QpXG5cbiAgcmV0dXJuIHtcbiAgICB2YWx1ZTogaW50ZXJwcmV0ZXIub3V0cHV0LFxuICAgIHRva2VuczogbGV4LnRva2VucyxcbiAgICBsZXhFcnJvcnM6IGxleC5lcnJvcnMsXG4gICAgZXJyb3JzOiBwYXJzZXIuZXJyb3JzXG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=