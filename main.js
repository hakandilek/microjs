!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=12)}([function(t,e,n){"use strict";function r(t){return t&&0===t.length}function i(t){return null==t?[]:Object.keys(t)}function o(t){for(var e=[],n=Object.keys(t),r=0;r<n.length;r++)e.push(t[n[r]]);return e}function a(t,e){for(var n=[],r=i(t),o=0;o<r.length;o++){var a=r[o];n.push(e.call(null,t[a],a))}return n}function u(t,e){for(var n=[],r=0;r<t.length;r++)n.push(e.call(null,t[r],r));return n}function c(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];Array.isArray(r)?e=e.concat(c(r)):e.push(r)}return e}function s(t){return r(t)?void 0:t[0]}function f(t){var e=t&&t.length;return e?t[e-1]:void 0}function l(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e.call(null,t[n],n);else{if(!j(t))throw Error("non exhaustive match");var r=i(t);for(n=0;n<r.length;n++){var o=r[n],a=t[o];e.call(null,a,o)}}}function h(t){return"string"==typeof t}function p(t){return void 0===t}function v(t){return t instanceof Function}function d(t,e){return void 0===e&&(e=1),t.slice(e,t.length)}function y(t,e){return void 0===e&&(e=1),t.slice(0,t.length-e)}function m(t,e){var n=[];if(Array.isArray(t))for(var r=0;r<t.length;r++){var i=t[r];e.call(null,i)&&n.push(i)}return n}function g(t,e){return m(t,(function(t){return!e(t)}))}function b(t,e){for(var n=Object.keys(t),r={},i=0;i<n.length;i++){var o=n[i],a=t[o];e(a)&&(r[o]=a)}return r}function O(t,e){return!!j(t)&&t.hasOwnProperty(e)}function T(t,e){return void 0!==_(t,(function(t){return t===e}))}function E(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n]);return e}function R(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function _(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(e.call(null,r))return r}}function N(t,e){for(var n=[],r=0;r<t.length;r++){var i=t[r];e.call(null,i)&&n.push(i)}return n}function I(t,e,n){for(var r=Array.isArray(t),a=r?t:o(t),u=r?[]:i(t),c=n,s=0;s<a.length;s++)c=e.call(null,c,a[s],r?s:u[s]);return c}function A(t){return g(t,(function(t){return null==t}))}function L(t,e){void 0===e&&(e=function(t){return t});var n=[];return I(t,(function(t,r){var i=e(r);return T(n,i)?t:(n.push(i),t.concat(r))}),[])}function x(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=[null],i=r.concat(e);return Function.bind.apply(t,i)}function S(t){return Array.isArray(t)}function k(t){return t instanceof RegExp}function j(t){return t instanceof Object}function P(t,e){for(var n=0;n<t.length;n++)if(!e(t[n],n))return!1;return!0}function w(t,e){return g(t,(function(t){return T(e,t)}))}function C(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return!0;return!1}function M(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}function X(t,e){var n=E(t);return n.sort((function(t,n){return e(t)-e(n)})),n}function U(t,e){if(t.length!==e.length)throw Error("can't zipObject with different number of keys and values!");for(var n={},r=0;r<t.length;r++)n[t[r]]=e[r];return n}function D(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r++)for(var o=e[r],a=i(o),u=0;u<a.length;u++){var c=a[u];t[c]=o[c]}return t}function F(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r++)for(var o=e[r],a=i(o),u=0;u<a.length;u++){var c=a[u];O(t,c)||(t[c]=o[c])}return t}function z(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return F.apply(null,[{}].concat(t))}function G(t,e){var n={};return l(t,(function(t){var r=e(t),i=n[r];i?i.push(t):n[r]=[t]})),n}function B(t,e){for(var n=R(t),r=i(e),o=0;o<r.length;o++){var a=r[o],u=e[a];n[a]=u}return n}function H(){}function W(t){return t}function K(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];e.push(void 0!==r?r:void 0)}return e}function V(t){console&&console.error&&console.error("Error: "+t)}function Y(t){console&&console.warn&&console.warn("Warning: "+t)}function q(){return"function"==typeof Map}function Z(t,e){e.forEach((function(e){var n=e.prototype;Object.getOwnPropertyNames(n).forEach((function(r){if("constructor"!==r){var i=Object.getOwnPropertyDescriptor(n,r);i&&(i.get||i.set)?Object.defineProperty(t.prototype,r,i):t.prototype[r]=e.prototype[r]}}))}))}function J(t){function e(){}e.prototype=t;var n=new e;function r(){return typeof n.bar}return r(),r(),t}function Q(t){return t[t.length-1]}function $(t){var e=(new Date).getTime(),n=t();return{time:(new Date).getTime()-e,value:n}}n.d(e,"A",(function(){return r})),n.d(e,"G",(function(){return i})),n.d(e,"U",(function(){return o})),n.d(e,"J",(function(){return a})),n.d(e,"I",(function(){return u})),n.d(e,"t",(function(){return c})),n.d(e,"s",(function(){return s})),n.d(e,"H",(function(){return f})),n.d(e,"u",(function(){return l})),n.d(e,"E",(function(){return h})),n.d(e,"F",(function(){return p})),n.d(e,"B",(function(){return v})),n.d(e,"m",(function(){return d})),n.d(e,"n",(function(){return y})),n.d(e,"p",(function(){return m})),n.d(e,"P",(function(){return g})),n.d(e,"N",(function(){return b})),n.d(e,"w",(function(){return O})),n.d(e,"j",(function(){return T})),n.d(e,"g",(function(){return E})),n.d(e,"h",(function(){return R})),n.d(e,"q",(function(){return _})),n.d(e,"r",(function(){return N})),n.d(e,"O",(function(){return I})),n.d(e,"i",(function(){return A})),n.d(e,"T",(function(){return L})),n.d(e,"y",(function(){return S})),n.d(e,"D",(function(){return k})),n.d(e,"C",(function(){return j})),n.d(e,"o",(function(){return P})),n.d(e,"l",(function(){return w})),n.d(e,"Q",(function(){return C})),n.d(e,"x",(function(){return M})),n.d(e,"f",(function(){return D})),n.d(e,"k",(function(){return z})),n.d(e,"v",(function(){return G})),n.d(e,"K",(function(){return B})),n.d(e,"b",(function(){return H})),n.d(e,"a",(function(){return W})),n.d(e,"L",(function(){return K})),n.d(e,"c",(function(){return V})),n.d(e,"d",(function(){return Y})),n.d(e,"z",(function(){return q})),n.d(e,"e",(function(){return Z})),n.d(e,"S",(function(){return J})),n.d(e,"M",(function(){return Q})),n.d(e,"R",(function(){return $}))},function(t,e,n){"use strict";n.r(e),n.d(e,"VERSION",(function(){return r})),n.d(e,"CstParser",(function(){return rn})),n.d(e,"EmbeddedActionsParser",(function(){return on})),n.d(e,"ParserDefinitionErrorType",(function(){return Qe})),n.d(e,"EMPTY_ALT",(function(){return en})),n.d(e,"Lexer",(function(){return Y})),n.d(e,"LexerDefinitionErrorType",(function(){return W})),n.d(e,"createToken",(function(){return Q})),n.d(e,"createTokenInstance",(function(){return tt})),n.d(e,"EOF",(function(){return $})),n.d(e,"tokenLabel",(function(){return q})),n.d(e,"tokenMatcher",(function(){return et})),n.d(e,"tokenName",(function(){return Z})),n.d(e,"defaultGrammarResolverErrorProvider",(function(){return xt})),n.d(e,"defaultGrammarValidatorErrorProvider",(function(){return St})),n.d(e,"defaultParserErrorProvider",(function(){return Lt})),n.d(e,"EarlyExitException",(function(){return me})),n.d(e,"isRecognitionException",(function(){return pe})),n.d(e,"MismatchedTokenException",(function(){return ve})),n.d(e,"NotAllInputParsedException",(function(){return ye})),n.d(e,"NoViableAltException",(function(){return de})),n.d(e,"defaultLexerErrorProvider",(function(){return K})),n.d(e,"Alternation",(function(){return ht})),n.d(e,"Alternative",(function(){return at})),n.d(e,"NonTerminal",(function(){return it})),n.d(e,"Option",(function(){return ut})),n.d(e,"Repetition",(function(){return ft})),n.d(e,"RepetitionMandatory",(function(){return ct})),n.d(e,"RepetitionMandatoryWithSeparator",(function(){return st})),n.d(e,"RepetitionWithSeparator",(function(){return lt})),n.d(e,"Rule",(function(){return ot})),n.d(e,"Terminal",(function(){return pt})),n.d(e,"serializeGrammar",(function(){return vt})),n.d(e,"serializeProduction",(function(){return dt})),n.d(e,"GAstVisitor",(function(){return gt})),n.d(e,"assignOccurrenceIndices",(function(){return le})),n.d(e,"resolveGrammar",(function(){return se})),n.d(e,"validateGrammar",(function(){return fe})),n.d(e,"clearCache",(function(){return mn})),n.d(e,"createSyntaxDiagramsCode",(function(){return an})),n.d(e,"generateParserFactory",(function(){return dn})),n.d(e,"generateParserModule",(function(){return yn})),n.d(e,"Parser",(function(){return gn}));var r="7.0.1",i=n(0),o=n(3),a={},u=new o.RegExpParser;function c(t){var e=t.toString();if(a.hasOwnProperty(e))return a[e];var n=u.pattern(e);return a[e]=n,n}var s,f=(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l='Unable to use "first char" lexer optimizations:\n';function h(t,e){void 0===e&&(e=!1);try{var n=c(t);return function t(e,n,r){switch(e.type){case"Disjunction":for(var o=0;o<e.value.length;o++)t(e.value[o],n,r);break;case"Alternative":var a=e.value;for(o=0;o<a.length;o++){var u=a[o];switch(u.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}var c=u;switch(c.type){case"Character":p(c.value,n,r);break;case"Set":if(!0===c.complement)throw Error("Complement Sets are not supported for first char optimization");Object(i.u)(c.value,(function(t){if("number"==typeof t)p(t,n,r);else{var e=t;if(!0===r)for(var i=e.from;i<=e.to;i++)p(i,n,r);else{for(i=e.from;i<=e.to&&i<w;i++)p(i,n,r);if(e.to>=w)for(var o=e.from>=w?e.from:w,a=e.to,u=C(o),c=C(a),s=u;s<=c;s++)n[s]=s}}}));break;case"Group":t(c.value,n,r);break;default:throw Error("Non Exhaustive Match")}var s=void 0!==c.quantifier&&0===c.quantifier.atLeast;if("Group"===c.type&&!1===d(c)||"Group"!==c.type&&!1===s)break}break;default:throw Error("non exhaustive match!")}return Object(i.U)(n)}(n.value,{},n.flags.ignoreCase)}catch(n){if("Complement Sets are not supported for first char optimization"===n.message)e&&Object(i.d)(l+"\tUnable to optimize: < "+t.toString()+" >\n\tComplement Sets cannot be automatically optimized.\n\tThis will disable the lexer's first char optimizations.\n\tSee: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.");else{var r="";e&&(r="\n\tThis will disable the lexer's first char optimizations.\n\tSee: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details."),Object(i.c)(l+"\n\tFailed parsing: < "+t.toString()+" >\n\tUsing the regexp-to-ast library version: "+o.VERSION+"\n\tPlease open an issue at: https://github.com/bd82/regexp-to-ast/issues"+r)}}return[]}function p(t,e,n){var r=C(t);e[r]=r,!0===n&&function(t,e){var n=String.fromCharCode(t),r=n.toUpperCase();if(r!==n){var i=C(r.charCodeAt(0));e[i]=i}else{var o=n.toLowerCase();if(o!==n){i=C(o.charCodeAt(0));e[i]=i}}}(t,e)}function v(t,e){return Object(i.q)(t.value,(function(t){if("number"==typeof t)return Object(i.j)(e,t);var n=t;return void 0!==Object(i.q)(e,(function(t){return n.from<=t&&t<=n.to}))}))}function d(t){return!(!t.quantifier||0!==t.quantifier.atLeast)||!!t.value&&(Object(i.y)(t.value)?Object(i.o)(t.value,d):d(t.value))}var y=function(t){function e(e){var n=t.call(this)||this;return n.targetCharCodes=e,n.found=!1,n}return f(e,t),e.prototype.visitChildren=function(e){if(!0!==this.found){switch(e.type){case"Lookahead":return void this.visitLookahead(e);case"NegativeLookahead":return void this.visitNegativeLookahead(e)}t.prototype.visitChildren.call(this,e)}},e.prototype.visitCharacter=function(t){Object(i.j)(this.targetCharCodes,t.value)&&(this.found=!0)},e.prototype.visitSet=function(t){t.complement?void 0===v(t,this.targetCharCodes)&&(this.found=!0):void 0!==v(t,this.targetCharCodes)&&(this.found=!0)},e}(o.BaseRegExpVisitor);function m(t,e){if(e instanceof RegExp){var n=c(e),r=new y(t);return r.visit(n),r.found}return void 0!==Object(i.q)(e,(function(e){return Object(i.j)(t,e.charCodeAt(0))}))}var g=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),b="PATTERN",O="boolean"==typeof new RegExp("(?:)").sticky;function T(t,e){var n,r=(e=Object(i.k)(e,{useSticky:O,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r","\n"],tracer:function(t,e){return e()}})).tracer;r("initCharCodeToOptimizedIndexMap",(function(){!function(){if(Object(i.A)(M)){M=new Array(65536);for(var t=0;t<65536;t++)M[t]=t>255?255+~~(t/255):t}}()})),r("Reject Lexer.NA",(function(){n=Object(i.P)(t,(function(t){return t[b]===Y.NA}))}));var o,a,u,c,s,f,p,v,d,y,g,T=!1;r("Transform Patterns",(function(){T=!1,o=Object(i.I)(n,(function(t){var n=t[b];if(Object(i.D)(n)){var r=n.source;return 1!==r.length||"^"===r||"$"===r||"."===r||n.ignoreCase?2!==r.length||"\\"!==r[0]||Object(i.j)(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],r[1])?e.useSticky?I(n):N(n):r[1]:r}if(Object(i.B)(n))return T=!0,{exec:n};if(Object(i.w)(n,"exec"))return T=!0,n;if("string"==typeof n){if(1===n.length)return n;var o=n.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),a=new RegExp(o);return e.useSticky?I(a):N(a)}throw Error("non exhaustive match")}))})),r("misc mapping",(function(){a=Object(i.I)(n,(function(t){return t.tokenTypeIdx})),u=Object(i.I)(n,(function(t){var e=t.GROUP;if(e!==Y.SKIPPED){if(Object(i.E)(e))return e;if(Object(i.F)(e))return!1;throw Error("non exhaustive match")}})),c=Object(i.I)(n,(function(t){var e=t.LONGER_ALT;if(e)return Object(i.x)(n,e)})),s=Object(i.I)(n,(function(t){return t.PUSH_MODE})),f=Object(i.I)(n,(function(t){return Object(i.w)(t,"POP_MODE")}))})),r("Line Terminator Handling",(function(){var t=j(e.lineTerminatorCharacters);p=Object(i.I)(n,(function(t){return!1})),"onlyOffset"!==e.positionTracking&&(p=Object(i.I)(n,(function(e){return Object(i.w)(e,"LINE_BREAKS")?e.LINE_BREAKS:!1===k(e,t)?m(t,e.PATTERN):void 0})))})),r("Misc Mapping #2",(function(){v=Object(i.I)(n,L),d=Object(i.I)(o,x),y=Object(i.O)(n,(function(t,e){var n=e.GROUP;return Object(i.E)(n)&&n!==Y.SKIPPED&&(t[n]=[]),t}),{}),g=Object(i.I)(o,(function(t,e){return{pattern:o[e],longerAlt:c[e],canLineTerminator:p[e],isCustom:v[e],short:d[e],group:u[e],push:s[e],pop:f[e],tokenTypeIdx:a[e],tokenType:n[e]}}))}));var E=!0,R=[];return e.safeMode||r("First Char Optimization",(function(){R=Object(i.O)(n,(function(t,n,r){if("string"==typeof n.PATTERN){var o=C(n.PATTERN.charCodeAt(0));P(t,o,g[r])}else if(Object(i.y)(n.START_CHARS_HINT)){var a;Object(i.u)(n.START_CHARS_HINT,(function(e){var n=C("string"==typeof e?e.charCodeAt(0):e);a!==n&&(a=n,P(t,n,g[r]))}))}else if(Object(i.D)(n.PATTERN))if(n.PATTERN.unicode)E=!1,e.ensureOptimizations&&Object(i.c)(l+"\tUnable to analyze < "+n.PATTERN.toString()+" > pattern.\n\tThe regexp unicode flag is not currently supported by the regexp-to-ast library.\n\tThis will disable the lexer's first char optimizations.\n\tFor details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE");else{var u=h(n.PATTERN,e.ensureOptimizations);Object(i.A)(u)&&(E=!1),Object(i.u)(u,(function(e){P(t,e,g[r])}))}else e.ensureOptimizations&&Object(i.c)(l+"\tTokenType: <"+n.name+"> is using a custom token pattern without providing <start_chars_hint> parameter.\n\tThis will disable the lexer's first char optimizations.\n\tFor details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE"),E=!1;return t}),[])})),r("ArrayPacking",(function(){R=Object(i.L)(R)})),{emptyGroups:y,patternIdxToConfig:g,charCodeToPatternIdxToConfig:R,hasCustom:T,canBeOptimized:E}}function E(t,e){var n=[],r=function(t){var e=Object(i.p)(t,(function(t){return!Object(i.w)(t,b)})),n=Object(i.I)(e,(function(t){return{message:"Token Type: ->"+t.name+"<- missing static 'PATTERN' property",type:W.MISSING_PATTERN,tokenTypes:[t]}})),r=Object(i.l)(t,e);return{errors:n,valid:r}}(t);n=n.concat(r.errors);var a=function(t){var e=Object(i.p)(t,(function(t){var e=t[b];return!(Object(i.D)(e)||Object(i.B)(e)||Object(i.w)(e,"exec")||Object(i.E)(e))})),n=Object(i.I)(e,(function(t){return{message:"Token Type: ->"+t.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:W.INVALID_PATTERN,tokenTypes:[t]}})),r=Object(i.l)(t,e);return{errors:n,valid:r}}(r.valid),u=a.valid;return n=(n=(n=(n=(n=n.concat(a.errors)).concat(function(t){var e=[],n=Object(i.p)(t,(function(t){return Object(i.D)(t[b])}));return e=(e=(e=(e=(e=e.concat(function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.found=!1,e}return g(e,t),e.prototype.visitEndAnchor=function(t){this.found=!0},e}(o.BaseRegExpVisitor),n=Object(i.p)(t,(function(t){var n=t[b];try{var r=c(n),i=new e;return i.visit(r),i.found}catch(t){return R.test(n.source)}}));return Object(i.I)(n,(function(t){return{message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+t.name+"<- static 'PATTERN' cannot contain end of input anchor '$'\n\tSee sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#ANCHORS\tfor details.",type:W.EOI_ANCHOR_FOUND,tokenTypes:[t]}}))}(n))).concat(function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.found=!1,e}return g(e,t),e.prototype.visitStartAnchor=function(t){this.found=!0},e}(o.BaseRegExpVisitor),n=Object(i.p)(t,(function(t){var n=t[b];try{var r=c(n),i=new e;return i.visit(r),i.found}catch(t){return _.test(n.source)}}));return Object(i.I)(n,(function(t){return{message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+t.name+"<- static 'PATTERN' cannot contain start of input anchor '^'\n\tSee https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#ANCHORS\tfor details.",type:W.SOI_ANCHOR_FOUND,tokenTypes:[t]}}))}(n))).concat(function(t){var e=Object(i.p)(t,(function(t){var e=t[b];return e instanceof RegExp&&(e.multiline||e.global)}));return Object(i.I)(e,(function(t){return{message:"Token Type: ->"+t.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:W.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[t]}}))}(n))).concat(function(t){var e=[],n=Object(i.I)(t,(function(n){return Object(i.O)(t,(function(t,r){return n.PATTERN.source!==r.PATTERN.source||Object(i.j)(e,r)||r.PATTERN===Y.NA||(e.push(r),t.push(r)),t}),[])}));n=Object(i.i)(n);var r=Object(i.p)(n,(function(t){return t.length>1}));return Object(i.I)(r,(function(t){var e=Object(i.I)(t,(function(t){return t.name}));return{message:"The same RegExp pattern ->"+Object(i.s)(t).PATTERN+"<-has been used in all of the following Token Types: "+e.join(", ")+" <-",type:W.DUPLICATE_PATTERNS_FOUND,tokenTypes:t}}))}(n))).concat(function(t){var e=Object(i.p)(t,(function(t){return t[b].test("")}));return Object(i.I)(e,(function(t){return{message:"Token Type: ->"+t.name+"<- static 'PATTERN' must not match an empty string",type:W.EMPTY_MATCH_PATTERN,tokenTypes:[t]}}))}(n))}(u))).concat(function(t){var e=Object(i.p)(t,(function(t){if(!Object(i.w)(t,"GROUP"))return!1;var e=t.GROUP;return e!==Y.SKIPPED&&e!==Y.NA&&!Object(i.E)(e)}));return Object(i.I)(e,(function(t){return{message:"Token Type: ->"+t.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:W.INVALID_GROUP_TYPE_FOUND,tokenTypes:[t]}}))}(u))).concat(function(t,e){var n=Object(i.p)(t,(function(t){return void 0!==t.PUSH_MODE&&!Object(i.j)(e,t.PUSH_MODE)}));return Object(i.I)(n,(function(t){return{message:"Token Type: ->"+t.name+"<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->"+t.PUSH_MODE+"<-which does not exist",type:W.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[t]}}))}(u,e))).concat(function(t){var e=[],n=Object(i.O)(t,(function(t,e,n){var r,o=e.PATTERN;return o===Y.NA||(Object(i.E)(o)?t.push({str:o,idx:n,tokenType:e}):Object(i.D)(o)&&(r=o,void 0===Object(i.q)([".","\\","[","]","|","^","$","(",")","?","*","+","{"],(function(t){return-1!==r.source.indexOf(t)})))&&t.push({str:o.source,idx:n,tokenType:e})),t}),[]);return Object(i.u)(t,(function(t,r){Object(i.u)(n,(function(n){var o=n.str,a=n.idx,u=n.tokenType;if(r<a&&function(t,e){if(Object(i.D)(e)){var n=e.exec(t);return null!==n&&0===n.index}if(Object(i.B)(e))return e(t,0,[],{});if(Object(i.w)(e,"exec"))return e.exec(t,0,[],{});if("string"==typeof e)return e===t;throw Error("non exhaustive match")}(o,t.PATTERN)){var c="Token: ->"+u.name+"<- can never be matched.\nBecause it appears AFTER the Token Type ->"+t.name+"<-in the lexer's definition.\nSee https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#UNREACHABLE";e.push({message:c,type:W.UNREACHABLE_PATTERN,tokenTypes:[t,u]})}}))})),e}(u))}var R=/[^\\][\$]/;var _=/[^\\[][\^]|^\^/;function N(t){var e=t.ignoreCase?"i":"";return new RegExp("^(?:"+t.source+")",e)}function I(t){var e=t.ignoreCase?"iy":"y";return new RegExp(""+t.source,e)}function A(t,e,n){var r=[],o=!1,a=Object(i.i)(Object(i.t)(Object(i.J)(t.modes,(function(t){return t})))),u=Object(i.P)(a,(function(t){return t[b]===Y.NA})),c=j(n);return e&&Object(i.u)(u,(function(t){var e=k(t,c);if(!1!==e){var n={message:function(t,e){if(e.issue===W.IDENTIFY_TERMINATOR)return"Warning: unable to identify line terminator usage in pattern.\n\tThe problem is in the <"+t.name+"> Token Type\n\t Root cause: "+e.errMsg+".\n\tFor details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR";if(e.issue===W.CUSTOM_LINE_BREAK)return"Warning: A Custom Token Pattern should specify the <line_breaks> option.\n\tThe problem is in the <"+t.name+"> Token Type\n\tFor details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK";throw Error("non exhaustive match")}(t,e),type:e.issue,tokenType:t};r.push(n)}else Object(i.w)(t,"LINE_BREAKS")?!0===t.LINE_BREAKS&&(o=!0):m(c,t.PATTERN)&&(o=!0)})),e&&!o&&r.push({message:"Warning: No LINE_BREAKS Found.\n\tThis Lexer has been defined to track line and column information,\n\tBut none of the Token Types can be identified as matching a line terminator.\n\tSee https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#LINE_BREAKS \n\tfor details.",type:W.NO_LINE_BREAKS_FLAGS}),r}function L(t){var e=t.PATTERN;if(Object(i.D)(e))return!1;if(Object(i.B)(e))return!0;if(Object(i.w)(e,"exec"))return!0;if(Object(i.E)(e))return!1;throw Error("non exhaustive match")}function x(t){return!(!Object(i.E)(t)||1!==t.length)&&t.charCodeAt(0)}var S={test:function(t){for(var e=t.length,n=this.lastIndex;n<e;n++){var r=t.charCodeAt(n);if(10===r)return this.lastIndex=n+1,!0;if(13===r)return 10===t.charCodeAt(n+1)?this.lastIndex=n+2:this.lastIndex=n+1,!0}return!1},lastIndex:0};function k(t,e){if(Object(i.w)(t,"LINE_BREAKS"))return!1;if(Object(i.D)(t.PATTERN)){try{m(e,t.PATTERN)}catch(t){return{issue:W.IDENTIFY_TERMINATOR,errMsg:t.message}}return!1}if(Object(i.E)(t.PATTERN))return!1;if(L(t))return{issue:W.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}function j(t){return Object(i.I)(t,(function(t){return Object(i.E)(t)&&t.length>0?t.charCodeAt(0):t}))}function P(t,e,n){void 0===t[e]?t[e]=[n]:t[e].push(n)}var w=256;function C(t){return t<w?t:M[t]}var M=[];function X(t,e){var n=t.tokenTypeIdx;return n===e.tokenTypeIdx||!0===e.isParent&&!0===e.categoryMatchesMap[n]}function U(t,e){return t.tokenTypeIdx===e.tokenTypeIdx}var D=1,F={};function z(t){var e=function(t){var e=Object(i.g)(t),n=t,r=!0;for(;r;){n=Object(i.i)(Object(i.t)(Object(i.I)(n,(function(t){return t.CATEGORIES}))));var o=Object(i.l)(n,e);e=e.concat(o),Object(i.A)(o)?r=!1:n=o}return e}(t);!function(t){Object(i.u)(t,(function(t){var e;G(t)||(F[D]=t,t.tokenTypeIdx=D++),B(t)&&!Object(i.y)(t.CATEGORIES)&&(t.CATEGORIES=[t.CATEGORIES]),B(t)||(t.CATEGORIES=[]),e=t,Object(i.w)(e,"categoryMatches")||(t.categoryMatches=[]),function(t){return Object(i.w)(t,"categoryMatchesMap")}(t)||(t.categoryMatchesMap={})}))}(e),function(t){Object(i.u)(t,(function(t){!function t(e,n){Object(i.u)(e,(function(t){n.categoryMatchesMap[t.tokenTypeIdx]=!0})),Object(i.u)(n.CATEGORIES,(function(r){var o=e.concat(n);Object(i.j)(o,r)||t(o,r)}))}([],t)}))}(e),function(t){Object(i.u)(t,(function(t){t.categoryMatches=[],Object(i.u)(t.categoryMatchesMap,(function(e,n){t.categoryMatches.push(F[n].tokenTypeIdx)}))}))}(e),Object(i.u)(e,(function(t){t.isParent=t.categoryMatches.length>0}))}function G(t){return Object(i.w)(t,"tokenTypeIdx")}function B(t){return Object(i.w)(t,"CATEGORIES")}function H(t){return Object(i.w)(t,"tokenTypeIdx")}var W,K={buildUnableToPopLexerModeMessage:function(t){return"Unable to pop Lexer Mode after encountering Token ->"+t.image+"<- The Mode Stack is empty"},buildUnexpectedCharactersMessage:function(t,e,n,r,i){return"unexpected character: ->"+t.charAt(e)+"<- at offset: "+e+", skipped "+n+" characters."}};!function(t){t[t.MISSING_PATTERN=0]="MISSING_PATTERN",t[t.INVALID_PATTERN=1]="INVALID_PATTERN",t[t.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",t[t.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",t[t.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",t[t.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",t[t.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",t[t.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",t[t.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",t[t.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",t[t.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",t[t.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",t[t.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",t[t.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",t[t.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",t[t.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",t[t.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK"}(W||(W={}));var V={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:["\n","\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:K,traceInitPerf:!1,skipValidations:!1};Object.freeze(V);var Y=function(){function t(t,e){var n=this;if(void 0===e&&(e=V),this.lexerDefinition=t,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.config=void 0,this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},"boolean"==typeof e)throw Error("The second argument to the Lexer constructor is now an ILexerConfig Object.\na boolean 2nd argument is no longer supported");this.config=Object(i.K)(V,e);var r=this.config.traceInitPerf;!0===r?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):"number"==typeof r&&(this.traceInitMaxIdent=r,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",(function(){var r,o=!0;n.TRACE_INIT("Lexer Config handling",(function(){if(n.config.lineTerminatorsPattern===V.lineTerminatorsPattern)n.config.lineTerminatorsPattern=S;else if(n.config.lineTerminatorCharacters===V.lineTerminatorCharacters)throw Error("Error: Missing <lineTerminatorCharacters> property on the Lexer config.\n\tFor details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS");if(e.safeMode&&e.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');n.trackStartLines=/full|onlyStart/i.test(n.config.positionTracking),n.trackEndLines=/full/i.test(n.config.positionTracking),Object(i.y)(t)?((r={modes:{}}).modes.defaultMode=Object(i.g)(t),r.defaultMode="defaultMode"):(o=!1,r=Object(i.h)(t))})),!1===n.config.skipValidations&&(n.TRACE_INIT("performRuntimeChecks",(function(){n.lexerDefinitionErrors=n.lexerDefinitionErrors.concat(function(t,e,n){var r=[];return Object(i.w)(t,"defaultMode")||r.push({message:"A MultiMode Lexer cannot be initialized without a <defaultMode> property in its definition\n",type:W.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),Object(i.w)(t,"modes")||r.push({message:"A MultiMode Lexer cannot be initialized without a <modes> property in its definition\n",type:W.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),Object(i.w)(t,"modes")&&Object(i.w)(t,"defaultMode")&&!Object(i.w)(t.modes,t.defaultMode)&&r.push({message:"A MultiMode Lexer cannot be initialized with a defaultMode: <"+t.defaultMode+">which does not exist\n",type:W.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),Object(i.w)(t,"modes")&&Object(i.u)(t.modes,(function(t,e){Object(i.u)(t,(function(t,n){Object(i.F)(t)&&r.push({message:"A Lexer cannot be initialized using an undefined Token Type. Mode:<"+e+"> at index: <"+n+">\n",type:W.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED})}))})),r}(r,n.trackStartLines,n.config.lineTerminatorCharacters))})),n.TRACE_INIT("performWarningRuntimeChecks",(function(){n.lexerDefinitionWarning=n.lexerDefinitionWarning.concat(A(r,n.trackStartLines,n.config.lineTerminatorCharacters))}))),r.modes=r.modes?r.modes:{},Object(i.u)(r.modes,(function(t,e){r.modes[e]=Object(i.P)(t,(function(t){return Object(i.F)(t)}))}));var u=Object(i.G)(r.modes);if(Object(i.u)(r.modes,(function(t,r){n.TRACE_INIT("Mode: <"+r+"> processing",(function(){var o;(n.modes.push(r),!1===n.config.skipValidations&&n.TRACE_INIT("validatePatterns",(function(){n.lexerDefinitionErrors=n.lexerDefinitionErrors.concat(E(t,u))})),Object(i.A)(n.lexerDefinitionErrors))&&(z(t),n.TRACE_INIT("analyzeTokenTypes",(function(){o=T(t,{lineTerminatorCharacters:n.config.lineTerminatorCharacters,positionTracking:e.positionTracking,ensureOptimizations:e.ensureOptimizations,safeMode:e.safeMode,tracer:n.TRACE_INIT.bind(n)})})),n.patternIdxToConfig[r]=o.patternIdxToConfig,n.charCodeToPatternIdxToConfig[r]=o.charCodeToPatternIdxToConfig,n.emptyGroups=Object(i.K)(n.emptyGroups,o.emptyGroups),n.hasCustom=o.hasCustom||n.hasCustom,n.canModeBeOptimized[r]=o.canBeOptimized)}))})),n.defaultMode=r.defaultMode,!Object(i.A)(n.lexerDefinitionErrors)&&!n.config.deferDefinitionErrorsHandling){var c=Object(i.I)(n.lexerDefinitionErrors,(function(t){return t.message})).join("-----------------------\n");throw new Error("Errors detected in definition of Lexer:\n"+c)}Object(i.u)(n.lexerDefinitionWarning,(function(t){Object(i.d)(t.message)})),n.TRACE_INIT("Choosing sub-methods implementations",(function(){if(O?(n.chopInput=i.a,n.match=n.matchWithTest):(n.updateLastIndex=i.b,n.match=n.matchWithExec),o&&(n.handleModes=i.b),!1===n.trackStartLines&&(n.computeNewColumn=i.a),!1===n.trackEndLines&&(n.updateTokenEndLineColumnLocation=i.b),/full/i.test(n.config.positionTracking))n.createTokenInstance=n.createFullToken;else if(/onlyStart/i.test(n.config.positionTracking))n.createTokenInstance=n.createStartOnlyToken;else{if(!/onlyOffset/i.test(n.config.positionTracking))throw Error('Invalid <positionTracking> config option: "'+n.config.positionTracking+'"');n.createTokenInstance=n.createOffsetOnlyToken}n.hasCustom?(n.addToken=n.addTokenUsingPush,n.handlePayload=n.handlePayloadWithCustom):(n.addToken=n.addTokenUsingMemberAccess,n.handlePayload=n.handlePayloadNoCustom)})),n.TRACE_INIT("Failed Optimization Warnings",(function(){var t=Object(i.O)(n.canModeBeOptimized,(function(t,e,n){return!1===e&&t.push(n),t}),[]);if(e.ensureOptimizations&&!Object(i.A)(t))throw Error("Lexer Modes: < "+t.join(", ")+' > cannot be optimized.\n\t Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.\n\t Or inspect the console log for details on how to resolve these issues.')})),n.TRACE_INIT("clearRegExpParserCache",(function(){a={}})),n.TRACE_INIT("toFastProperties",(function(){Object(i.S)(n)}))}))}return t.prototype.tokenize=function(t,e){if(void 0===e&&(e=this.defaultMode),!Object(i.A)(this.lexerDefinitionErrors)){var n=Object(i.I)(this.lexerDefinitionErrors,(function(t){return t.message})).join("-----------------------\n");throw new Error("Unable to Tokenize because Errors detected in definition of Lexer:\n"+n)}return this.tokenizeInternal(t,e)},t.prototype.tokenizeInternal=function(t,e){var n,r,o,a,u,c,s,f,l,h,p,v,d,y,m,g,b,O=this,T=t,E=T.length,R=0,_=0,N=this.hasCustom?0:Math.floor(t.length/10),I=new Array(N),A=[],L=this.trackStartLines?1:void 0,x=this.trackStartLines?1:void 0,S=(m=this.emptyGroups,g={},b=Object(i.G)(m),Object(i.u)(b,(function(t){var e=m[t];if(!Object(i.y)(e))throw Error("non exhaustive match");g[t]=[]})),g),k=this.trackStartLines,j=this.config.lineTerminatorsPattern,P=0,w=[],M=[],X=[],U=[];Object.freeze(U);var D=void 0;function F(){return w}function z(t){var e=C(t),n=M[e];return void 0===n?U:n}var G,B=function(t){if(1===X.length&&void 0===t.tokenType.PUSH_MODE){var e=O.config.errorMessageProvider.buildUnableToPopLexerModeMessage(t);A.push({offset:t.startOffset,line:void 0!==t.startLine?t.startLine:void 0,column:void 0!==t.startColumn?t.startColumn:void 0,length:t.image.length,message:e})}else{X.pop();var n=Object(i.H)(X);w=O.patternIdxToConfig[n],M=O.charCodeToPatternIdxToConfig[n],P=w.length;var r=O.canModeBeOptimized[n]&&!1===O.config.safeMode;D=M&&r?z:F}};function H(t){X.push(t),M=this.charCodeToPatternIdxToConfig[t],w=this.patternIdxToConfig[t],P=w.length,P=w.length;var e=this.canModeBeOptimized[t]&&!1===this.config.safeMode;D=M&&e?z:F}for(H.call(this,e);R<E;){u=null;var W=T.charCodeAt(R),K=D(W),V=K.length;for(n=0;n<V;n++){var Y=(G=K[n]).pattern;if(c=null,!1!==(it=G.short)?W===it&&(u=Y):!0===G.isCustom?null!==(y=Y.exec(T,R,I,S))?(u=y[0],void 0!==y.payload&&(c=y.payload)):u=null:(this.updateLastIndex(Y,R),u=this.match(Y,t,R)),null!==u){if(void 0!==(a=G.longerAlt)){var q=w[a],Z=q.pattern;s=null,!0===q.isCustom?null!==(y=Z.exec(T,R,I,S))?(o=y[0],void 0!==y.payload&&(s=y.payload)):o=null:(this.updateLastIndex(Z,R),o=this.match(Z,t,R)),o&&o.length>u.length&&(u=o,c=s,G=q)}break}}if(null!==u){if(f=u.length,void 0!==(l=G.group)&&(h=G.tokenTypeIdx,p=this.createTokenInstance(u,R,h,G.tokenType,L,x,f),this.handlePayload(p,c),!1===l?_=this.addToken(I,_,p):S[l].push(p)),t=this.chopInput(t,f),R+=f,x=this.computeNewColumn(x,f),!0===k&&!0===G.canLineTerminator){var J=0,Q=void 0,$=void 0;j.lastIndex=0;do{!0===(Q=j.test(u))&&($=j.lastIndex-1,J++)}while(!0===Q);0!==J&&(L+=J,x=f-$,this.updateTokenEndLineColumnLocation(p,l,$,J,L,x,f))}this.handleModes(G,B,H,p)}else{for(var tt=R,et=L,nt=x,rt=!1;!rt&&R<E;)for(T.charCodeAt(R),t=this.chopInput(t,1),R++,r=0;r<P;r++){var it,ot=w[r];Y=ot.pattern;if(!1!==(it=ot.short)?T.charCodeAt(R)===it&&(rt=!0):!0===ot.isCustom?rt=null!==Y.exec(T,R,I,S):(this.updateLastIndex(Y,R),rt=null!==Y.exec(t)),!0===rt)break}v=R-tt,d=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(T,tt,v,et,nt),A.push({offset:tt,line:et,column:nt,length:v,message:d})}}return this.hasCustom||(I.length=_),{tokens:I,groups:S,errors:A}},t.prototype.handleModes=function(t,e,n,r){if(!0===t.pop){var i=t.push;e(r),void 0!==i&&n.call(this,i)}else void 0!==t.push&&n.call(this,t.push)},t.prototype.chopInput=function(t,e){return t.substring(e)},t.prototype.updateLastIndex=function(t,e){t.lastIndex=e},t.prototype.updateTokenEndLineColumnLocation=function(t,e,n,r,i,o,a){var u,c;void 0!==e&&(c=(u=n===a-1)?-1:0,1===r&&!0===u||(t.endLine=i+c,t.endColumn=o-1-c))},t.prototype.computeNewColumn=function(t,e){return t+e},t.prototype.createTokenInstance=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return null},t.prototype.createOffsetOnlyToken=function(t,e,n,r){return{image:t,startOffset:e,tokenTypeIdx:n,tokenType:r}},t.prototype.createStartOnlyToken=function(t,e,n,r,i,o){return{image:t,startOffset:e,startLine:i,startColumn:o,tokenTypeIdx:n,tokenType:r}},t.prototype.createFullToken=function(t,e,n,r,i,o,a){return{image:t,startOffset:e,endOffset:e+a-1,startLine:i,endLine:i,startColumn:o,endColumn:o+a-1,tokenTypeIdx:n,tokenType:r}},t.prototype.addToken=function(t,e,n){return 666},t.prototype.addTokenUsingPush=function(t,e,n){return t.push(n),e},t.prototype.addTokenUsingMemberAccess=function(t,e,n){return t[e]=n,++e},t.prototype.handlePayload=function(t,e){},t.prototype.handlePayloadNoCustom=function(t,e){},t.prototype.handlePayloadWithCustom=function(t,e){null!==e&&(t.payload=e)},t.prototype.match=function(t,e,n){return null},t.prototype.matchWithTest=function(t,e,n){return!0===t.test(e)?e.substring(n,t.lastIndex):null},t.prototype.matchWithExec=function(t,e){var n=t.exec(e);return null!==n?n[0]:n},t.prototype.TRACE_INIT=function(t,e){if(!0===this.traceInitPerf){this.traceInitIndent++;var n=new Array(this.traceInitIndent+1).join("\t");this.traceInitIndent<this.traceInitMaxIdent&&console.log(n+"--\x3e <"+t+">");var r=Object(i.R)(e),o=r.time,a=r.value,u=o>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&u(n+"<-- <"+t+"> time: "+o+"ms"),this.traceInitIndent--,a}return e()},t.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.",t.NA=/NOT_APPLICABLE/,t}();function q(t){return J(t)?t.LABEL:t.name}function Z(t){return t.name}function J(t){return Object(i.E)(t.LABEL)&&""!==t.LABEL}function Q(t){return function(t){var e=t.pattern,n={};n.name=t.name,Object(i.F)(e)||(n.PATTERN=e);if(Object(i.w)(t,"parent"))throw"The parent property is no longer supported.\nSee: https://github.com/SAP/chevrotain/issues/564#issuecomment-349062346 for details.";Object(i.w)(t,"categories")&&(n.CATEGORIES=t.categories);z([n]),Object(i.w)(t,"label")&&(n.LABEL=t.label);Object(i.w)(t,"group")&&(n.GROUP=t.group);Object(i.w)(t,"pop_mode")&&(n.POP_MODE=t.pop_mode);Object(i.w)(t,"push_mode")&&(n.PUSH_MODE=t.push_mode);Object(i.w)(t,"longer_alt")&&(n.LONGER_ALT=t.longer_alt);Object(i.w)(t,"line_breaks")&&(n.LINE_BREAKS=t.line_breaks);Object(i.w)(t,"start_chars_hint")&&(n.START_CHARS_HINT=t.start_chars_hint);return n}(t)}var $=Q({name:"EOF",pattern:Y.NA});function tt(t,e,n,r,i,o,a,u){return{image:e,startOffset:n,endOffset:r,startLine:i,endLine:o,startColumn:a,endColumn:u,tokenTypeIdx:t.tokenTypeIdx,tokenType:t}}function et(t,e){return X(t,e)}z([$]);var nt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),rt=function(){function t(t){this.definition=t}return t.prototype.accept=function(t){t.visit(this),Object(i.u)(this.definition,(function(e){e.accept(t)}))},t}(),it=function(t){function e(e){var n=t.call(this,[])||this;return n.idx=1,Object(i.f)(n,Object(i.N)(e,(function(t){return void 0!==t}))),n}return nt(e,t),Object.defineProperty(e.prototype,"definition",{get:function(){return void 0!==this.referencedRule?this.referencedRule.definition:[]},set:function(t){},enumerable:!0,configurable:!0}),e.prototype.accept=function(t){t.visit(this)},e}(rt),ot=function(t){function e(e){var n=t.call(this,e.definition)||this;return n.orgText="",Object(i.f)(n,Object(i.N)(e,(function(t){return void 0!==t}))),n}return nt(e,t),e}(rt),at=function(t){function e(e){var n=t.call(this,e.definition)||this;return n.ignoreAmbiguities=!1,Object(i.f)(n,Object(i.N)(e,(function(t){return void 0!==t}))),n}return nt(e,t),e}(rt),ut=function(t){function e(e){var n=t.call(this,e.definition)||this;return n.idx=1,Object(i.f)(n,Object(i.N)(e,(function(t){return void 0!==t}))),n}return nt(e,t),e}(rt),ct=function(t){function e(e){var n=t.call(this,e.definition)||this;return n.idx=1,Object(i.f)(n,Object(i.N)(e,(function(t){return void 0!==t}))),n}return nt(e,t),e}(rt),st=function(t){function e(e){var n=t.call(this,e.definition)||this;return n.idx=1,Object(i.f)(n,Object(i.N)(e,(function(t){return void 0!==t}))),n}return nt(e,t),e}(rt),ft=function(t){function e(e){var n=t.call(this,e.definition)||this;return n.idx=1,Object(i.f)(n,Object(i.N)(e,(function(t){return void 0!==t}))),n}return nt(e,t),e}(rt),lt=function(t){function e(e){var n=t.call(this,e.definition)||this;return n.idx=1,Object(i.f)(n,Object(i.N)(e,(function(t){return void 0!==t}))),n}return nt(e,t),e}(rt),ht=function(t){function e(e){var n=t.call(this,e.definition)||this;return n.idx=1,n.ignoreAmbiguities=!1,n.hasPredicates=!1,Object(i.f)(n,Object(i.N)(e,(function(t){return void 0!==t}))),n}return nt(e,t),e}(rt),pt=function(){function t(t){this.idx=1,Object(i.f)(this,Object(i.N)(t,(function(t){return void 0!==t})))}return t.prototype.accept=function(t){t.visit(this)},t}();function vt(t){return Object(i.I)(t,dt)}function dt(t){function e(t){return Object(i.I)(t,dt)}if(t instanceof it)return{type:"NonTerminal",name:t.nonTerminalName,idx:t.idx};if(t instanceof at)return{type:"Alternative",definition:e(t.definition)};if(t instanceof ut)return{type:"Option",idx:t.idx,definition:e(t.definition)};if(t instanceof ct)return{type:"RepetitionMandatory",idx:t.idx,definition:e(t.definition)};if(t instanceof st)return{type:"RepetitionMandatoryWithSeparator",idx:t.idx,separator:dt(new pt({terminalType:t.separator})),definition:e(t.definition)};if(t instanceof lt)return{type:"RepetitionWithSeparator",idx:t.idx,separator:dt(new pt({terminalType:t.separator})),definition:e(t.definition)};if(t instanceof ft)return{type:"Repetition",idx:t.idx,definition:e(t.definition)};if(t instanceof ht)return{type:"Alternation",idx:t.idx,definition:e(t.definition)};if(t instanceof pt){var n={type:"Terminal",name:t.terminalType.name,label:q(t.terminalType),idx:t.idx},r=t.terminalType.PATTERN;return t.terminalType.PATTERN&&(n.pattern=Object(i.D)(r)?r.source:r),n}if(t instanceof ot)return{type:"Rule",name:t.name,orgText:t.orgText,definition:e(t.definition)};throw Error("non exhaustive match")}var yt=function(){function t(){}return t.prototype.walk=function(t,e){var n=this;void 0===e&&(e=[]),Object(i.u)(t.definition,(function(r,o){var a=Object(i.m)(t.definition,o+1);if(r instanceof it)n.walkProdRef(r,a,e);else if(r instanceof pt)n.walkTerminal(r,a,e);else if(r instanceof at)n.walkFlat(r,a,e);else if(r instanceof ut)n.walkOption(r,a,e);else if(r instanceof ct)n.walkAtLeastOne(r,a,e);else if(r instanceof st)n.walkAtLeastOneSep(r,a,e);else if(r instanceof lt)n.walkManySep(r,a,e);else if(r instanceof ft)n.walkMany(r,a,e);else{if(!(r instanceof ht))throw Error("non exhaustive match");n.walkOr(r,a,e)}}))},t.prototype.walkTerminal=function(t,e,n){},t.prototype.walkProdRef=function(t,e,n){},t.prototype.walkFlat=function(t,e,n){var r=e.concat(n);this.walk(t,r)},t.prototype.walkOption=function(t,e,n){var r=e.concat(n);this.walk(t,r)},t.prototype.walkAtLeastOne=function(t,e,n){var r=[new ut({definition:t.definition})].concat(e,n);this.walk(t,r)},t.prototype.walkAtLeastOneSep=function(t,e,n){var r=mt(t,e,n);this.walk(t,r)},t.prototype.walkMany=function(t,e,n){var r=[new ut({definition:t.definition})].concat(e,n);this.walk(t,r)},t.prototype.walkManySep=function(t,e,n){var r=mt(t,e,n);this.walk(t,r)},t.prototype.walkOr=function(t,e,n){var r=this,o=e.concat(n);Object(i.u)(t.definition,(function(t){var e=new at({definition:[t]});r.walk(e,o)}))},t}();function mt(t,e,n){return[new ut({definition:[new pt({terminalType:t.separator})].concat(t.definition)})].concat(e,n)}var gt=function(){function t(){}return t.prototype.visit=function(t){var e=t;switch(e.constructor){case it:return this.visitNonTerminal(e);case at:return this.visitAlternative(e);case ut:return this.visitOption(e);case ct:return this.visitRepetitionMandatory(e);case st:return this.visitRepetitionMandatoryWithSeparator(e);case lt:return this.visitRepetitionWithSeparator(e);case ft:return this.visitRepetition(e);case ht:return this.visitAlternation(e);case pt:return this.visitTerminal(e);case ot:return this.visitRule(e);default:throw Error("non exhaustive match")}},t.prototype.visitNonTerminal=function(t){},t.prototype.visitAlternative=function(t){},t.prototype.visitOption=function(t){},t.prototype.visitRepetition=function(t){},t.prototype.visitRepetitionMandatory=function(t){},t.prototype.visitRepetitionMandatoryWithSeparator=function(t){},t.prototype.visitRepetitionWithSeparator=function(t){},t.prototype.visitAlternation=function(t){},t.prototype.visitTerminal=function(t){},t.prototype.visitRule=function(t){},t}(),bt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function Ot(t,e){return void 0===e&&(e=[]),!!(t instanceof ut||t instanceof ft||t instanceof lt)||(t instanceof ht?Object(i.Q)(t.definition,(function(t){return Ot(t,e)})):!(t instanceof it&&Object(i.j)(e,t))&&(t instanceof rt&&(t instanceof it&&e.push(t),Object(i.o)(t.definition,(function(t){return Ot(t,e)})))))}function Tt(t){if(t instanceof it)return"SUBRULE";if(t instanceof ut)return"OPTION";if(t instanceof ht)return"OR";if(t instanceof ct)return"AT_LEAST_ONE";if(t instanceof st)return"AT_LEAST_ONE_SEP";if(t instanceof lt)return"MANY_SEP";if(t instanceof ft)return"MANY";if(t instanceof pt)return"CONSUME";throw Error("non exhaustive match")}var Et=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.separator="-",e.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]},e}return bt(e,t),e.prototype.reset=function(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}},e.prototype.visitTerminal=function(t){var e=t.terminalType.name+this.separator+"Terminal";Object(i.w)(this.dslMethods,e)||(this.dslMethods[e]=[]),this.dslMethods[e].push(t)},e.prototype.visitNonTerminal=function(t){var e=t.nonTerminalName+this.separator+"Terminal";Object(i.w)(this.dslMethods,e)||(this.dslMethods[e]=[]),this.dslMethods[e].push(t)},e.prototype.visitOption=function(t){this.dslMethods.option.push(t)},e.prototype.visitRepetitionWithSeparator=function(t){this.dslMethods.repetitionWithSeparator.push(t)},e.prototype.visitRepetitionMandatory=function(t){this.dslMethods.repetitionMandatory.push(t)},e.prototype.visitRepetitionMandatoryWithSeparator=function(t){this.dslMethods.repetitionMandatoryWithSeparator.push(t)},e.prototype.visitRepetition=function(t){this.dslMethods.repetition.push(t)},e.prototype.visitAlternation=function(t){this.dslMethods.alternation.push(t)},e}(gt),Rt=new Et;function _t(t){if(t instanceof it)return _t(t.referencedRule);if(t instanceof pt)return[t.terminalType];if(function(t){return t instanceof at||t instanceof ut||t instanceof ft||t instanceof ct||t instanceof st||t instanceof lt||t instanceof pt||t instanceof ot}(t))return function(t){var e,n=[],r=t.definition,o=0,a=r.length>o,u=!0;for(;a&&u;)e=r[o],u=Ot(e),n=n.concat(_t(e)),o+=1,a=r.length>o;return Object(i.T)(n)}(t);if(function(t){return t instanceof ht}(t))return function(t){var e=Object(i.I)(t.definition,(function(t){return _t(t)}));return Object(i.T)(Object(i.t)(e))}(t);throw Error("non exhaustive match")}var Nt="_~IN~_",It=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),At=function(t){function e(e){var n=t.call(this)||this;return n.topProd=e,n.follows={},n}return It(e,t),e.prototype.startWalking=function(){return this.walk(this.topProd),this.follows},e.prototype.walkTerminal=function(t,e,n){},e.prototype.walkProdRef=function(t,e,n){var r,i,o=(r=t.referencedRule,i=t.idx,r.name+i+Nt+this.topProd.name),a=e.concat(n),u=_t(new at({definition:a}));this.follows[o]=u},e}(yt);var Lt={buildMismatchTokenMessage:function(t){var e=t.expected,n=t.actual;t.previous,t.ruleName;return"Expecting "+(J(e)?"--\x3e "+q(e)+" <--":"token of type --\x3e "+e.name+" <--")+" but found --\x3e '"+n.image+"' <--"},buildNotAllInputParsedMessage:function(t){var e=t.firstRedundant;t.ruleName;return"Redundant input, expecting EOF but found: "+e.image},buildNoViableAltMessage:function(t){var e=t.expectedPathsPerAlt,n=t.actual,r=(t.previous,t.customUserDescription),o=(t.ruleName,"\nbut found: '"+Object(i.s)(n).image+"'");if(r)return"Expecting: "+r+o;var a=Object(i.O)(e,(function(t,e){return t.concat(e)}),[]),u=Object(i.I)(a,(function(t){return"["+Object(i.I)(t,(function(t){return q(t)})).join(", ")+"]"}));return"Expecting: "+("one of these possible Token sequences:\n"+Object(i.I)(u,(function(t,e){return"  "+(e+1)+". "+t})).join("\n"))+o},buildEarlyExitMessage:function(t){var e=t.expectedIterationPaths,n=t.actual,r=t.customUserDescription,o=(t.ruleName,"\nbut found: '"+Object(i.s)(n).image+"'");return r?"Expecting: "+r+o:"Expecting: "+("expecting at least one iteration which starts with one of these possible Token sequences::\n  <"+Object(i.I)(e,(function(t){return"["+Object(i.I)(t,(function(t){return q(t)})).join(",")+"]"})).join(" ,")+">")+o}};Object.freeze(Lt);var xt={buildRuleNotFoundError:function(t,e){return"Invalid grammar, reference to a rule which is not defined: ->"+e.nonTerminalName+"<-\ninside top level rule: ->"+t.name+"<-"}},St={buildDuplicateFoundError:function(t,e){var n,r=t.name,o=Object(i.s)(e),a=o.idx,u=Tt(o),c=(n=o)instanceof pt?n.terminalType.name:n instanceof it?n.nonTerminalName:"",s="->"+u+(a>0?a:"")+"<- "+(c?"with argument: ->"+c+"<-":"")+"\n                  appears more than once ("+e.length+" times) in the top level rule: ->"+r+"<-.                  \n                  For further details see: https://sap.github.io/chevrotain/docs/FAQ.html#NUMERICAL_SUFFIXES \n                  ";return s=(s=s.replace(/[ \t]+/g," ")).replace(/\s\s+/g,"\n")},buildNamespaceConflictError:function(t){return"Namespace conflict found in grammar.\nThe grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <"+t.name+">.\nTo resolve this make sure each Terminal and Non-Terminal names are unique\nThis is easy to accomplish by using the convention that Terminal names start with an uppercase letter\nand Non-Terminal names start with a lower case letter."},buildAlternationPrefixAmbiguityError:function(t){var e=Object(i.I)(t.prefixPath,(function(t){return q(t)})).join(", "),n=0===t.alternation.idx?"":t.alternation.idx;return"Ambiguous alternatives: <"+t.ambiguityIndices.join(" ,")+"> due to common lookahead prefix\nin <OR"+n+"> inside <"+t.topLevelRule.name+"> Rule,\n<"+e+"> may appears as a prefix path in all these alternatives.\nSee: https://sap.github.io/chevrotain/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX\nFor Further details."},buildAlternationAmbiguityError:function(t){var e=Object(i.I)(t.prefixPath,(function(t){return q(t)})).join(", "),n=0===t.alternation.idx?"":t.alternation.idx,r="Ambiguous Alternatives Detected: <"+t.ambiguityIndices.join(" ,")+"> in <OR"+n+"> inside <"+t.topLevelRule.name+"> Rule,\n<"+e+"> may appears as a prefix path in all these alternatives.\n";return r+="See: https://sap.github.io/chevrotain/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES\nFor Further details."},buildEmptyRepetitionError:function(t){var e=Tt(t.repetition);return 0!==t.repetition.idx&&(e+=t.repetition.idx),"The repetition <"+e+"> within Rule <"+t.topLevelRule.name+"> can never consume any tokens.\nThis could lead to an infinite loop."},buildTokenNameError:function(t){return"Invalid Grammar Token name: ->"+t.tokenType.name+"<- it must match the pattern: ->"+t.expectedPattern.toString()+"<-"},buildEmptyAlternationError:function(t){return"Ambiguous empty alternative: <"+(t.emptyChoiceIdx+1)+"> in <OR"+t.alternation.idx+"> inside <"+t.topLevelRule.name+"> Rule.\nOnly the last alternative may be an empty alternative."},buildTooManyAlternativesError:function(t){return"An Alternation cannot have more than 256 alternatives:\n<OR"+t.alternation.idx+"> inside <"+t.topLevelRule.name+"> Rule.\n has "+(t.alternation.definition.length+1)+" alternatives."},buildLeftRecursionError:function(t){var e=t.topLevelRule.name;return"Left Recursion found in grammar.\nrule: <"+e+"> can be invoked from itself (directly or indirectly)\nwithout consuming any Tokens. The grammar path that causes this is: \n "+(e+" --\x3e "+i.I(t.leftRecursionPath,(function(t){return t.name})).concat([e]).join(" --\x3e "))+"\n To fix this refactor your grammar to remove the left recursion.\nsee: https://en.wikipedia.org/wiki/LL_parser#Left_Factoring."},buildInvalidRuleNameError:function(t){return"Invalid grammar rule name: ->"+t.topLevelRule.name+"<- it must match the pattern: ->"+t.expectedPattern.toString()+"<-"},buildDuplicateRuleNameError:function(t){return"Duplicate definition, rule: ->"+(t.topLevelRule instanceof ot?t.topLevelRule.name:t.topLevelRule)+"<- is already defined in the grammar: ->"+t.grammarName+"<-"}},kt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();var jt=function(t){function e(e,n){var r=t.call(this)||this;return r.nameToTopRule=e,r.errMsgProvider=n,r.errors=[],r}return kt(e,t),e.prototype.resolveRefs=function(){var t=this;Object(i.u)(Object(i.U)(this.nameToTopRule),(function(e){t.currTopLevel=e,e.accept(t)}))},e.prototype.visitNonTerminal=function(t){var e=this.nameToTopRule[t.nonTerminalName];if(e)t.referencedRule=e;else{var n=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,t);this.errors.push({message:n,type:Qe.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:t.nonTerminalName})}},e}(gt),Pt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),wt=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.path=n,r.nextTerminalName="",r.nextTerminalOccurrence=0,r.nextTerminalName=r.path.lastTok.name,r.nextTerminalOccurrence=r.path.lastTokOccurrence,r}return Pt(e,t),e.prototype.walkTerminal=function(t,e,n){if(this.isAtEndOfPath&&t.terminalType.name===this.nextTerminalName&&t.idx===this.nextTerminalOccurrence&&!this.found){var r=e.concat(n),i=new at({definition:r});this.possibleTokTypes=_t(i),this.found=!0}},e}(function(t){function e(e,n){var r=t.call(this)||this;return r.topProd=e,r.path=n,r.possibleTokTypes=[],r.nextProductionName="",r.nextProductionOccurrence=0,r.found=!1,r.isAtEndOfPath=!1,r}return Pt(e,t),e.prototype.startWalking=function(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=Object(i.g)(this.path.ruleStack).reverse(),this.occurrenceStack=Object(i.g)(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes},e.prototype.walk=function(e,n){void 0===n&&(n=[]),this.found||t.prototype.walk.call(this,e,n)},e.prototype.walkProdRef=function(t,e,n){if(t.referencedRule.name===this.nextProductionName&&t.idx===this.nextProductionOccurrence){var r=e.concat(n);this.updateExpectedNext(),this.walk(t.referencedRule,r)}},e.prototype.updateExpectedNext=function(){Object(i.A)(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())},e}(yt)),Ct=function(t){function e(e,n){var r=t.call(this)||this;return r.topRule=e,r.occurrence=n,r.result={token:void 0,occurrence:void 0,isEndOfRule:void 0},r}return Pt(e,t),e.prototype.startWalking=function(){return this.walk(this.topRule),this.result},e}(yt),Mt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Pt(e,t),e.prototype.walkMany=function(e,n,r){if(e.idx===this.occurrence){var o=Object(i.s)(n.concat(r));this.result.isEndOfRule=void 0===o,o instanceof pt&&(this.result.token=o.terminalType,this.result.occurrence=o.idx)}else t.prototype.walkMany.call(this,e,n,r)},e}(Ct),Xt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Pt(e,t),e.prototype.walkManySep=function(e,n,r){if(e.idx===this.occurrence){var o=Object(i.s)(n.concat(r));this.result.isEndOfRule=void 0===o,o instanceof pt&&(this.result.token=o.terminalType,this.result.occurrence=o.idx)}else t.prototype.walkManySep.call(this,e,n,r)},e}(Ct),Ut=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Pt(e,t),e.prototype.walkAtLeastOne=function(e,n,r){if(e.idx===this.occurrence){var o=Object(i.s)(n.concat(r));this.result.isEndOfRule=void 0===o,o instanceof pt&&(this.result.token=o.terminalType,this.result.occurrence=o.idx)}else t.prototype.walkAtLeastOne.call(this,e,n,r)},e}(Ct),Dt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Pt(e,t),e.prototype.walkAtLeastOneSep=function(e,n,r){if(e.idx===this.occurrence){var o=Object(i.s)(n.concat(r));this.result.isEndOfRule=void 0===o,o instanceof pt&&(this.result.token=o.terminalType,this.result.occurrence=o.idx)}else t.prototype.walkAtLeastOneSep.call(this,e,n,r)},e}(Ct);function Ft(t,e,n){void 0===n&&(n=[]),n=Object(i.g)(n);var r=[],o=0;function a(a){var u=Ft(a.concat(Object(i.m)(t,o+1)),e,n);return r.concat(u)}for(;n.length<e&&o<t.length;){var u=t[o];if(u instanceof at)return a(u.definition);if(u instanceof it)return a(u.definition);if(u instanceof ut)r=a(u.definition);else{if(u instanceof ct)return a(c=u.definition.concat([new ft({definition:u.definition})]));if(u instanceof st)return a(c=[new at({definition:u.definition}),new ft({definition:[new pt({terminalType:u.separator})].concat(u.definition)})]);if(u instanceof lt){var c=u.definition.concat([new ft({definition:[new pt({terminalType:u.separator})].concat(u.definition)})]);r=a(c)}else if(u instanceof ft){c=u.definition.concat([new ft({definition:u.definition})]);r=a(c)}else{if(u instanceof ht)return Object(i.u)(u.definition,(function(t){r=a(t.definition)})),r;if(!(u instanceof pt))throw Error("non exhaustive match");n.push(u.terminalType)}}o++}return r.push({partialPath:n,suffixDef:Object(i.m)(t,o)}),r}function zt(t,e,n,r){var o=["EXIT_NONE_TERMINAL"],a=!1,u=e.length,c=u-r-1,s=[],f=[];for(f.push({idx:-1,def:t,ruleStack:[],occurrenceStack:[]});!Object(i.A)(f);){var l=f.pop();if("EXIT_ALTERNATIVE"!==l){var h=l.def,p=l.idx,v=l.ruleStack,d=l.occurrenceStack;if(!Object(i.A)(h)){var y=h[0];if("EXIT_NONE_TERMINAL"===y){var m={idx:p,def:Object(i.m)(h),ruleStack:Object(i.n)(v),occurrenceStack:Object(i.n)(d)};f.push(m)}else if(y instanceof pt)if(p<u-1){var g=p+1;if(n(e[g],y.terminalType)){m={idx:g,def:Object(i.m)(h),ruleStack:v,occurrenceStack:d};f.push(m)}}else{if(p!==u-1)throw Error("non exhaustive match");s.push({nextTokenType:y.terminalType,nextTokenOccurrence:y.idx,ruleStack:v,occurrenceStack:d}),a=!0}else if(y instanceof it){var b=Object(i.g)(v);b.push(y.nonTerminalName);var O=Object(i.g)(d);O.push(y.idx);m={idx:p,def:y.definition.concat(o,Object(i.m)(h)),ruleStack:b,occurrenceStack:O};f.push(m)}else if(y instanceof ut){var T={idx:p,def:Object(i.m)(h),ruleStack:v,occurrenceStack:d};f.push(T),f.push("EXIT_ALTERNATIVE");var E={idx:p,def:y.definition.concat(Object(i.m)(h)),ruleStack:v,occurrenceStack:d};f.push(E)}else if(y instanceof ct){var R=new ft({definition:y.definition,idx:y.idx});m={idx:p,def:y.definition.concat([R],Object(i.m)(h)),ruleStack:v,occurrenceStack:d};f.push(m)}else if(y instanceof st){var _=new pt({terminalType:y.separator});R=new ft({definition:[_].concat(y.definition),idx:y.idx}),m={idx:p,def:y.definition.concat([R],Object(i.m)(h)),ruleStack:v,occurrenceStack:d};f.push(m)}else if(y instanceof lt){T={idx:p,def:Object(i.m)(h),ruleStack:v,occurrenceStack:d};f.push(T),f.push("EXIT_ALTERNATIVE");_=new pt({terminalType:y.separator});var N=new ft({definition:[_].concat(y.definition),idx:y.idx});E={idx:p,def:y.definition.concat([N],Object(i.m)(h)),ruleStack:v,occurrenceStack:d};f.push(E)}else if(y instanceof ft){T={idx:p,def:Object(i.m)(h),ruleStack:v,occurrenceStack:d};f.push(T),f.push("EXIT_ALTERNATIVE");N=new ft({definition:y.definition,idx:y.idx}),E={idx:p,def:y.definition.concat([N],Object(i.m)(h)),ruleStack:v,occurrenceStack:d};f.push(E)}else if(y instanceof ht)for(var I=y.definition.length-1;I>=0;I--){var A={idx:p,def:y.definition[I].definition.concat(Object(i.m)(h)),ruleStack:v,occurrenceStack:d};f.push(A),f.push("EXIT_ALTERNATIVE")}else if(y instanceof at)f.push({idx:p,def:y.definition.concat(Object(i.m)(h)),ruleStack:v,occurrenceStack:d});else{if(!(y instanceof ot))throw Error("non exhaustive match");f.push(Gt(y,p,v,d))}}}else a&&Object(i.H)(f).idx<=c&&f.pop()}return s}function Gt(t,e,n,r){var o=Object(i.g)(n);o.push(t.name);var a=Object(i.g)(r);return a.push(1),{idx:e,def:t.definition,ruleStack:o,occurrenceStack:a}}var Bt,Ht=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){t[t.OPTION=0]="OPTION",t[t.REPETITION=1]="REPETITION",t[t.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",t[t.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",t[t.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",t[t.ALTERNATION=5]="ALTERNATION"}(Bt||(Bt={}));var Wt=function(t){function e(e,n,r){var i=t.call(this)||this;return i.topProd=e,i.targetOccurrence=n,i.targetProdType=r,i}return Ht(e,t),e.prototype.startWalking=function(){return this.walk(this.topProd),this.restDef},e.prototype.checkIsTarget=function(t,e,n,r){return t.idx===this.targetOccurrence&&this.targetProdType===e&&(this.restDef=n.concat(r),!0)},e.prototype.walkOption=function(e,n,r){this.checkIsTarget(e,Bt.OPTION,n,r)||t.prototype.walkOption.call(this,e,n,r)},e.prototype.walkAtLeastOne=function(e,n,r){this.checkIsTarget(e,Bt.REPETITION_MANDATORY,n,r)||t.prototype.walkOption.call(this,e,n,r)},e.prototype.walkAtLeastOneSep=function(e,n,r){this.checkIsTarget(e,Bt.REPETITION_MANDATORY_WITH_SEPARATOR,n,r)||t.prototype.walkOption.call(this,e,n,r)},e.prototype.walkMany=function(e,n,r){this.checkIsTarget(e,Bt.REPETITION,n,r)||t.prototype.walkOption.call(this,e,n,r)},e.prototype.walkManySep=function(e,n,r){this.checkIsTarget(e,Bt.REPETITION_WITH_SEPARATOR,n,r)||t.prototype.walkOption.call(this,e,n,r)},e}(yt),Kt=function(t){function e(e,n,r){var i=t.call(this)||this;return i.targetOccurrence=e,i.targetProdType=n,i.targetRef=r,i.result=[],i}return Ht(e,t),e.prototype.checkIsTarget=function(t,e){t.idx!==this.targetOccurrence||this.targetProdType!==e||void 0!==this.targetRef&&t!==this.targetRef||(this.result=t.definition)},e.prototype.visitOption=function(t){this.checkIsTarget(t,Bt.OPTION)},e.prototype.visitRepetition=function(t){this.checkIsTarget(t,Bt.REPETITION)},e.prototype.visitRepetitionMandatory=function(t){this.checkIsTarget(t,Bt.REPETITION_MANDATORY)},e.prototype.visitRepetitionMandatoryWithSeparator=function(t){this.checkIsTarget(t,Bt.REPETITION_MANDATORY_WITH_SEPARATOR)},e.prototype.visitRepetitionWithSeparator=function(t){this.checkIsTarget(t,Bt.REPETITION_WITH_SEPARATOR)},e.prototype.visitAlternation=function(t){this.checkIsTarget(t,Bt.ALTERNATION)},e}(gt);function Vt(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=[];return e}function Yt(t){for(var e=[""],n=0;n<t.length;n++){for(var r=t[n],i=[],o=0;o<e.length;o++){var a=e[o];i.push(a+"_"+r.tokenTypeIdx);for(var u=0;u<r.categoryMatches.length;u++){var c="_"+r.categoryMatches[u];i.push(a+c)}}e=i}return e}function qt(t,e,n){for(var r=0;r<t.length;r++)if(r!==n)for(var i=t[r],o=0;o<e.length;o++){if(!0===i[e[o]])return!1}return!0}function Zt(t,e){for(var n=Object(i.I)(t,(function(t){return Ft([t],1)})),r=Vt(n.length),o=Object(i.I)(n,(function(t){var e={};return Object(i.u)(t,(function(t){var n=Yt(t.partialPath);Object(i.u)(n,(function(t){e[t]=!0}))})),e})),a=n,u=1;u<=e;u++){var c=a;a=Vt(c.length);for(var s=function(t){for(var n=c[t],s=0;s<n.length;s++){var f=n[s].partialPath,l=n[s].suffixDef,h=Yt(f);if(qt(o,h,t)||Object(i.A)(l)||f.length===e){var p=r[t];if(!1===$t(p,f)){p.push(f);for(var v=0;v<h.length;v++){var d=h[v];o[t][d]=!0}}}else{var y=Ft(l,u+1,f);a[t]=a[t].concat(y),Object(i.u)(y,(function(e){var n=Yt(e.partialPath);Object(i.u)(n,(function(e){o[t][e]=!0}))}))}}},f=0;f<c.length;f++)s(f)}return r}function Jt(t,e,n,r){var i=new Kt(t,Bt.ALTERNATION,r);return e.accept(i),Zt(i.result,n)}function Qt(t,e,n,r){var i=new Kt(t,n);e.accept(i);var o=i.result,a=new Wt(e,t,n).startWalking();return Zt([new at({definition:o}),new at({definition:a})],r)}function $t(t,e){t:for(var n=0;n<t.length;n++){var r=t[n];if(r.length===e.length){for(var i=0;i<r.length;i++){var o=e[i],a=r[i];if(!1===(o===a||void 0!==a.categoryMatchesMap[o.tokenTypeIdx]))continue t}return!0}}return!1}function te(t){return Object(i.o)(t,(function(t){return Object(i.o)(t,(function(t){return Object(i.o)(t,(function(t){return Object(i.A)(t.categoryMatches)}))}))}))}var ee=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function ne(t,e,n,r,o){var a=i.I(t,(function(t){return function(t,e){var n=new oe;t.accept(n);var r=n.allProductions,o=i.v(r,re),a=i.N(o,(function(t){return t.length>1}));return i.I(i.U(a),(function(n){var r=i.s(n),o=e.buildDuplicateFoundError(t,n),a=Tt(r),u={message:o,type:Qe.DUPLICATE_PRODUCTIONS,ruleName:t.name,dslName:a,occurrence:r.idx},c=ie(r);return c&&(u.parameter=c),u}))}(t,r)})),u=i.I(t,(function(t){return function t(e,n,r,o){void 0===o&&(o=[]);var a=[],u=function t(e){var n=[];if(i.A(e))return n;var r=i.s(e);if(r instanceof it)n.push(r.referencedRule);else if(r instanceof at||r instanceof ut||r instanceof ct||r instanceof st||r instanceof lt||r instanceof ft)n=n.concat(t(r.definition));else if(r instanceof ht)n=i.t(i.I(r.definition,(function(e){return t(e.definition)})));else if(!(r instanceof pt))throw Error("non exhaustive match");var o=Ot(r),a=e.length>1;if(o&&a){var u=i.m(e);return n.concat(t(u))}return n}(n.definition);if(i.A(u))return[];var c=e.name;i.j(u,e)&&a.push({message:r.buildLeftRecursionError({topLevelRule:e,leftRecursionPath:o}),type:Qe.LEFT_RECURSION,ruleName:c});var s=i.l(u,o.concat([e])),f=i.I(s,(function(n){var a=i.g(o);return a.push(n),t(e,n,r,a)}));return a.concat(i.t(f))}(t,t,r)})),c=[],s=[],f=[];Object(i.o)(u,i.A)&&(c=Object(i.I)(t,(function(t){return function(t,e){var n=new ue;t.accept(n);var r=n.alternations;return i.O(r,(function(n,r){var o=i.n(r.definition),a=i.I(o,(function(n,o){var a=zt([n],[],null,1);return i.A(a)?{message:e.buildEmptyAlternationError({topLevelRule:t,alternation:r,emptyChoiceIdx:o}),type:Qe.NONE_LAST_EMPTY_ALT,ruleName:t.name,occurrence:r.idx,alternative:o+1}:null}));return n.concat(i.i(a))}),[])}(t,r)})),s=Object(i.I)(t,(function(t){return function(t,e,n){var r=new ue;t.accept(r);var o=r.alternations;return o=Object(i.P)(o,(function(t){return!0===t.ignoreAmbiguities})),i.O(o,(function(r,o){var a=o.idx,u=o.maxLookahead||e,c=Jt(a,t,u,o),s=function(t,e,n,r){var o=[],a=Object(i.O)(t,(function(n,r,a){return!0===e.definition[a].ignoreAmbiguities||Object(i.u)(r,(function(r){var u=[a];Object(i.u)(t,(function(t,n){a!==n&&$t(t,r)&&!0!==e.definition[n].ignoreAmbiguities&&u.push(n)})),u.length>1&&!$t(o,r)&&(o.push(r),n.push({alts:u,path:r}))})),n}),[]);return i.I(a,(function(t){var o=Object(i.I)(t.alts,(function(t){return t+1}));return{message:r.buildAlternationAmbiguityError({topLevelRule:n,alternation:e,ambiguityIndices:o,prefixPath:t.path}),type:Qe.AMBIGUOUS_ALTS,ruleName:n.name,occurrence:e.idx,alternatives:[t.alts]}}))}(c,o,t,n),f=function(t,e,n,r){var o=[],a=Object(i.O)(t,(function(t,e,n){var r=Object(i.I)(e,(function(t){return{idx:n,path:t}}));return t.concat(r)}),[]);return Object(i.u)(a,(function(t){if(!0!==e.definition[t.idx].ignoreAmbiguities){var u=t.idx,c=t.path,s=Object(i.r)(a,(function(t){return!0!==e.definition[t.idx].ignoreAmbiguities&&t.idx<u&&(n=t.path,r=c,n.length<r.length&&Object(i.o)(n,(function(t,e){var n=r[e];return t===n||n.categoryMatchesMap[t.tokenTypeIdx]})));var n,r})),f=Object(i.I)(s,(function(t){var i=[t.idx+1,u+1],o=0===e.idx?"":e.idx;return{message:r.buildAlternationPrefixAmbiguityError({topLevelRule:n,alternation:e,ambiguityIndices:i,prefixPath:t.path}),type:Qe.AMBIGUOUS_PREFIX_ALTS,ruleName:n.name,occurrence:o,alternatives:i}}));o=o.concat(f)}})),o}(c,o,t,n);return r.concat(s,f)}),[])}(t,e,r)})),f=function(t,e,n){var r=[];return Object(i.u)(t,(function(t){var o=new ce;t.accept(o);var a=o.allProductions;Object(i.u)(a,(function(o){var a=function(t){if(t instanceof ut)return Bt.OPTION;if(t instanceof ft)return Bt.REPETITION;if(t instanceof ct)return Bt.REPETITION_MANDATORY;if(t instanceof st)return Bt.REPETITION_MANDATORY_WITH_SEPARATOR;if(t instanceof lt)return Bt.REPETITION_WITH_SEPARATOR;if(t instanceof ht)return Bt.ALTERNATION;throw Error("non exhaustive match")}(o),u=o.maxLookahead||e,c=Qt(o.idx,t,a,u)[0];if(Object(i.A)(Object(i.t)(c))){var s=n.buildEmptyRepetitionError({topLevelRule:t,repetition:o});r.push({message:s,type:Qe.NO_NON_EMPTY_LOOKAHEAD,ruleName:t.name})}}))})),r}(t,e,r));var l=function(t,e,n){var r=[],o=Object(i.I)(e,(function(t){return t.name}));return Object(i.u)(t,(function(t){var e=t.name;if(Object(i.j)(o,e)){var a=n.buildNamespaceConflictError(t);r.push({message:a,type:Qe.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:e})}})),r}(t,n,r),h=i.I(n,(function(t){return function(t,e){var n=[];t.name.match(ae)||n.push({message:e.buildTokenNameError({tokenType:t,expectedPattern:ae}),type:Qe.INVALID_TOKEN_NAME});return n}(t,r)})),p=Object(i.I)(t,(function(t){return function(t,e){var n=new ue;t.accept(n);var r=n.alternations;return i.O(r,(function(n,r){return r.definition.length>255&&n.push({message:e.buildTooManyAlternativesError({topLevelRule:t,alternation:r}),type:Qe.TOO_MANY_ALTS,ruleName:t.name,occurrence:r.idx}),n}),[])}(t,r)})),v=Object(i.I)(t,(function(t){return function(t,e){var n=[],r=t.name;r.match(ae)||n.push({message:e.buildInvalidRuleNameError({topLevelRule:t,expectedPattern:ae}),type:Qe.INVALID_RULE_NAME,ruleName:r});return n}(t,r)})),d=Object(i.I)(t,(function(e){return function(t,e,n,r){var o=[];if(Object(i.O)(e,(function(e,n){return n.name===t.name?e+1:e}),0)>1){var a=r.buildDuplicateRuleNameError({topLevelRule:t,grammarName:n});o.push({message:a,type:Qe.DUPLICATE_RULE_NAME,ruleName:t.name})}return o}(e,t,o,r)}));return i.t(a.concat(h,f,u,c,s,l,p,v,d))}function re(t){return Tt(t)+"_#_"+t.idx+"_#_"+ie(t)}function ie(t){return t instanceof pt?t.terminalType.name:t instanceof it?t.nonTerminalName:""}var oe=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.allProductions=[],e}return ee(e,t),e.prototype.visitNonTerminal=function(t){this.allProductions.push(t)},e.prototype.visitOption=function(t){this.allProductions.push(t)},e.prototype.visitRepetitionWithSeparator=function(t){this.allProductions.push(t)},e.prototype.visitRepetitionMandatory=function(t){this.allProductions.push(t)},e.prototype.visitRepetitionMandatoryWithSeparator=function(t){this.allProductions.push(t)},e.prototype.visitRepetition=function(t){this.allProductions.push(t)},e.prototype.visitAlternation=function(t){this.allProductions.push(t)},e.prototype.visitTerminal=function(t){this.allProductions.push(t)},e}(gt),ae=/^[a-zA-Z_]\w*$/;var ue=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.alternations=[],e}return ee(e,t),e.prototype.visitAlternation=function(t){this.alternations.push(t)},e}(gt);var ce=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.allProductions=[],e}return ee(e,t),e.prototype.visitRepetitionWithSeparator=function(t){this.allProductions.push(t)},e.prototype.visitRepetitionMandatory=function(t){this.allProductions.push(t)},e.prototype.visitRepetitionMandatoryWithSeparator=function(t){this.allProductions.push(t)},e.prototype.visitRepetition=function(t){this.allProductions.push(t)},e}(gt);function se(t){t=Object(i.k)(t,{errMsgProvider:xt});var e,n,r,o={};return Object(i.u)(t.rules,(function(t){o[t.name]=t})),e=o,n=t.errMsgProvider,(r=new jt(e,n)).resolveRefs(),r.errors}function fe(t){return ne((t=Object(i.k)(t,{errMsgProvider:St})).rules,t.maxLookahead,t.tokenTypes,t.errMsgProvider,t.grammarName)}function le(t){Object(i.u)(t.rules,(function(t){var e=new Et;t.accept(e),Object(i.u)(e.dslMethods,(function(t){Object(i.u)(t,(function(t,e){t.idx=e+1}))}))}))}var he=["MismatchedTokenException","NoViableAltException","EarlyExitException","NotAllInputParsedException"];function pe(t){return Object(i.j)(he,t.name)}function ve(t,e,n){this.name="MismatchedTokenException",this.message=t,this.token=e,this.previousToken=n,this.resyncedTokens=[]}function de(t,e,n){this.name="NoViableAltException",this.message=t,this.token=e,this.previousToken=n,this.resyncedTokens=[]}function ye(t,e){this.name="NotAllInputParsedException",this.message=t,this.token=e,this.resyncedTokens=[]}function me(t,e,n){this.name="EarlyExitException",this.message=t,this.token=e,this.previousToken=n,this.resyncedTokens=[]}Object.freeze(he),ve.prototype=Error.prototype,de.prototype=Error.prototype,ye.prototype=Error.prototype,me.prototype=Error.prototype;var ge={};function be(t){this.name="InRuleRecoveryException",this.message=t}be.prototype=Error.prototype;var Oe=function(){function t(){}return t.prototype.initRecoverable=function(t){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=Object(i.w)(t,"recoveryEnabled")?t.recoveryEnabled:$e.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=Te)},t.prototype.getTokenToInsert=function(t){var e=tt(t,"",NaN,NaN,NaN,NaN,NaN,NaN);return e.isInsertedInRecovery=!0,e},t.prototype.canTokenTypeBeInsertedInRecovery=function(t){return!0},t.prototype.tryInRepetitionRecovery=function(t,e,n,r){for(var o=this,a=this.findReSyncTokenType(),u=this.exportLexerState(),c=[],s=!1,f=this.LA(1),l=this.LA(1),h=function(){var t=o.LA(0),e=new ve(o.errorMessageProvider.buildMismatchTokenMessage({expected:r,actual:f,previous:t,ruleName:o.getCurrRuleFullName()}),f,o.LA(0));e.resyncedTokens=Object(i.n)(c),o.SAVE_ERROR(e)};!s;){if(this.tokenMatcher(l,r))return void h();if(n.call(this))return h(),void t.apply(this,e);this.tokenMatcher(l,a)?s=!0:(l=this.SKIP_TOKEN(),this.addToResyncTokens(l,c))}this.importLexerState(u)},t.prototype.shouldInRepetitionRecoveryBeTried=function(t,e,n){return!1!==n&&(void 0!==t&&void 0!==e&&(!this.tokenMatcher(this.LA(1),t)&&(!this.isBackTracking()&&!this.canPerformInRuleRecovery(t,this.getFollowsForInRuleRecovery(t,e)))))},t.prototype.getFollowsForInRuleRecovery=function(t,e){var n=this.getCurrentGrammarPath(t,e);return this.getNextPossibleTokenTypes(n)},t.prototype.tryInRuleRecovery=function(t,e){if(this.canRecoverWithSingleTokenInsertion(t,e))return this.getTokenToInsert(t);if(this.canRecoverWithSingleTokenDeletion(t)){var n=this.SKIP_TOKEN();return this.consumeToken(),n}throw new be("sad sad panda")},t.prototype.canPerformInRuleRecovery=function(t,e){return this.canRecoverWithSingleTokenInsertion(t,e)||this.canRecoverWithSingleTokenDeletion(t)},t.prototype.canRecoverWithSingleTokenInsertion=function(t,e){var n=this;if(!this.canTokenTypeBeInsertedInRecovery(t))return!1;if(Object(i.A)(e))return!1;var r=this.LA(1);return void 0!==Object(i.q)(e,(function(t){return n.tokenMatcher(r,t)}))},t.prototype.canRecoverWithSingleTokenDeletion=function(t){return this.tokenMatcher(this.LA(2),t)},t.prototype.isInCurrentRuleReSyncSet=function(t){var e=this.getCurrFollowKey(),n=this.getFollowSetFromFollowKey(e);return Object(i.j)(n,t)},t.prototype.findReSyncTokenType=function(){for(var t=this.flattenFollowSet(),e=this.LA(1),n=2;;){var r=e.tokenType;if(Object(i.j)(t,r))return r;e=this.LA(n),n++}},t.prototype.getCurrFollowKey=function(){if(1===this.RULE_STACK.length)return ge;var t=this.getLastExplicitRuleShortName(),e=this.getLastExplicitRuleOccurrenceIndex(),n=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(t),idxInCallingRule:e,inRule:this.shortRuleNameToFullName(n)}},t.prototype.buildFullFollowKeyStack=function(){var t=this,e=this.RULE_STACK,n=this.RULE_OCCURRENCE_STACK;return Object(i.I)(e,(function(r,i){return 0===i?ge:{ruleName:t.shortRuleNameToFullName(r),idxInCallingRule:n[i],inRule:t.shortRuleNameToFullName(e[i-1])}}))},t.prototype.flattenFollowSet=function(){var t=this,e=Object(i.I)(this.buildFullFollowKeyStack(),(function(e){return t.getFollowSetFromFollowKey(e)}));return Object(i.t)(e)},t.prototype.getFollowSetFromFollowKey=function(t){if(t===ge)return[$];var e=t.ruleName+t.idxInCallingRule+Nt+t.inRule;return this.resyncFollows[e]},t.prototype.addToResyncTokens=function(t,e){return this.tokenMatcher(t,$)||e.push(t),e},t.prototype.reSyncTo=function(t){for(var e=[],n=this.LA(1);!1===this.tokenMatcher(n,t);)n=this.SKIP_TOKEN(),this.addToResyncTokens(n,e);return Object(i.n)(e)},t.prototype.attemptInRepetitionRecovery=function(t,e,n,r,i,o,a){},t.prototype.getCurrentGrammarPath=function(t,e){return{ruleStack:this.getHumanReadableRuleStack(),occurrenceStack:Object(i.g)(this.RULE_OCCURRENCE_STACK),lastTok:t,lastTokOccurrence:e}},t.prototype.getHumanReadableRuleStack=function(){var t=this;return Object(i.I)(this.RULE_STACK,(function(e){return t.shortRuleNameToFullName(e)}))},t}();function Te(t,e,n,r,i,o,a){var u=this.getKeyForAutomaticLookahead(r,i),c=this.firstAfterRepMap[u];if(void 0===c){var s=this.getCurrRuleFullName();c=new o(this.getGAstProductions()[s],i).startWalking(),this.firstAfterRepMap[u]=c}var f=c.token,l=c.occurrence,h=c.isEndOfRule;1===this.RULE_STACK.length&&h&&void 0===f&&(f=$,l=1),this.shouldInRepetitionRecoveryBeTried(f,l,a)&&this.tryInRepetitionRecovery(t,e,n,f)}function Ee(t,e,n){return n|e|t}var Re=function(){function t(){}return t.prototype.initLooksAhead=function(t){this.dynamicTokensEnabled=Object(i.w)(t,"dynamicTokensEnabled")?t.dynamicTokensEnabled:$e.dynamicTokensEnabled,this.maxLookahead=Object(i.w)(t,"maxLookahead")?t.maxLookahead:$e.maxLookahead,this.lookAheadFuncsCache=Object(i.z)()?new Map:[],Object(i.z)()?(this.getLaFuncFromCache=this.getLaFuncFromMap,this.setLaFuncCache=this.setLaFuncCacheUsingMap):(this.getLaFuncFromCache=this.getLaFuncFromObj,this.setLaFuncCache=this.setLaFuncUsingObj)},t.prototype.preComputeLookaheadFunctions=function(t){var e=this;Object(i.u)(t,(function(t){e.TRACE_INIT(t.name+" Rule Lookahead",(function(){var n=function(t){Rt.reset(),t.accept(Rt);var e=Rt.dslMethods;return Rt.reset(),e}(t),r=n.alternation,o=n.repetition,a=n.option,u=n.repetitionMandatory,c=n.repetitionMandatoryWithSeparator,s=n.repetitionWithSeparator;Object(i.u)(r,(function(n){var r=0===n.idx?"":n.idx;e.TRACE_INIT(""+Tt(n)+r,(function(){var r,i,o,a,u,c,s,f=(r=n.idx,i=t,o=n.maxLookahead||e.maxLookahead,a=n.hasPredicates,u=e.dynamicTokensEnabled,c=e.lookAheadBuilderForAlternatives,s=Jt(r,i,o),c(s,a,te(s)?U:X,u)),l=Ee(e.fullRuleNameToShort[t.name],256,n.idx);e.setLaFuncCache(l,f)}))})),Object(i.u)(o,(function(n){e.computeLookaheadFunc(t,n.idx,768,Bt.REPETITION,n.maxLookahead,Tt(n))})),Object(i.u)(a,(function(n){e.computeLookaheadFunc(t,n.idx,512,Bt.OPTION,n.maxLookahead,Tt(n))})),Object(i.u)(u,(function(n){e.computeLookaheadFunc(t,n.idx,1024,Bt.REPETITION_MANDATORY,n.maxLookahead,Tt(n))})),Object(i.u)(c,(function(n){e.computeLookaheadFunc(t,n.idx,1536,Bt.REPETITION_MANDATORY_WITH_SEPARATOR,n.maxLookahead,Tt(n))})),Object(i.u)(s,(function(n){e.computeLookaheadFunc(t,n.idx,1280,Bt.REPETITION_WITH_SEPARATOR,n.maxLookahead,Tt(n))}))}))}))},t.prototype.computeLookaheadFunc=function(t,e,n,r,i,o){var a=this;this.TRACE_INIT(""+o+(0===e?"":e),(function(){var o=function(t,e,n,r,i,o){var a=Qt(t,e,i,n),u=te(a)?U:X;return o(a[0],u,r)}(e,t,i||a.maxLookahead,a.dynamicTokensEnabled,r,a.lookAheadBuilderForOptional),u=Ee(a.fullRuleNameToShort[t.name],n,e);a.setLaFuncCache(u,o)}))},t.prototype.lookAheadBuilderForOptional=function(t,e,n){return function(t,e,n){var r=Object(i.o)(t,(function(t){return 1===t.length})),o=t.length;if(r&&!n){var a=Object(i.t)(t);if(1===a.length&&Object(i.A)(a[0].categoryMatches)){var u=a[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===u}}var c=Object(i.O)(a,(function(t,e,n){return t[e.tokenTypeIdx]=!0,Object(i.u)(e.categoryMatches,(function(e){t[e]=!0})),t}),[]);return function(){var t=this.LA(1);return!0===c[t.tokenTypeIdx]}}return function(){t:for(var n=0;n<o;n++){for(var r=t[n],i=r.length,a=0;a<i;a++){var u=this.LA(a+1);if(!1===e(u,r[a]))continue t}return!0}return!1}}(t,e,n)},t.prototype.lookAheadBuilderForAlternatives=function(t,e,n,r){return function(t,e,n,r){var o=t.length,a=Object(i.o)(t,(function(t){return Object(i.o)(t,(function(t){return 1===t.length}))}));if(e)return function(e){for(var r=Object(i.I)(e,(function(t){return t.GATE})),a=0;a<o;a++){var u=t[a],c=u.length,s=r[a];if(void 0===s||!1!==s.call(this))t:for(var f=0;f<c;f++){for(var l=u[f],h=l.length,p=0;p<h;p++){var v=this.LA(p+1);if(!1===n(v,l[p]))continue t}return a}}};if(a&&!r){var u=Object(i.I)(t,(function(t){return Object(i.t)(t)})),c=Object(i.O)(u,(function(t,e,n){return Object(i.u)(e,(function(e){Object(i.w)(t,e.tokenTypeIdx)||(t[e.tokenTypeIdx]=n),Object(i.u)(e.categoryMatches,(function(e){Object(i.w)(t,e)||(t[e]=n)}))})),t}),[]);return function(){var t=this.LA(1);return c[t.tokenTypeIdx]}}return function(){for(var e=0;e<o;e++){var r=t[e],i=r.length;t:for(var a=0;a<i;a++){for(var u=r[a],c=u.length,s=0;s<c;s++){var f=this.LA(s+1);if(!1===n(f,u[s]))continue t}return e}}}}(t,e,n,r)},t.prototype.getKeyForAutomaticLookahead=function(t,e){return Ee(this.getLastExplicitRuleShortName(),t,e)},t.prototype.getLaFuncFromCache=function(t){},t.prototype.getLaFuncFromMap=function(t){return this.lookAheadFuncsCache.get(t)},t.prototype.getLaFuncFromObj=function(t){return this.lookAheadFuncsCache[t]},t.prototype.setLaFuncCache=function(t,e){},t.prototype.setLaFuncCacheUsingMap=function(t,e){this.lookAheadFuncsCache.set(t,e)},t.prototype.setLaFuncUsingObj=function(t,e){this.lookAheadFuncsCache[t]=e},t}();function _e(t,e){!0===isNaN(t.startOffset)?(t.startOffset=e.startOffset,t.endOffset=e.endOffset):t.endOffset<e.endOffset==!0&&(t.endOffset=e.endOffset)}function Ne(t,e){!0===isNaN(t.startOffset)?(t.startOffset=e.startOffset,t.startColumn=e.startColumn,t.startLine=e.startLine,t.endOffset=e.endOffset,t.endColumn=e.endColumn,t.endLine=e.endLine):t.endOffset<e.endOffset==!0&&(t.endOffset=e.endOffset,t.endColumn=e.endColumn,t.endLine=e.endLine)}var Ie,Ae=/^\s*function\s*(\S*)\s*\(/;function Le(t){var e=t.name;return e||t.toString().match(Ae)[1]}function xe(t,e){var n=Object.getOwnPropertyDescriptor(t,"name");return!(!Object(i.F)(n)&&!n.configurable)&&(Object.defineProperty(t,"name",{enumerable:!1,configurable:!0,writable:!1,value:e}),!0)}function Se(t,e){for(var n=Object(i.G)(t),r=n.length,o=0;o<r;o++)for(var a=t[n[o]],u=a.length,c=0;c<u;c++){var s=a[c];void 0===s.tokenTypeIdx&&this[s.name](s.children,e)}}function ke(t,e){var n=function(){};return xe(n,t+"BaseSemantics"),(n.prototype={visit:function(t,e){if(Object(i.y)(t)&&(t=t[0]),!Object(i.F)(t))return this[t.name](t.children,e)},validateVisitor:function(){var t=function(t,e){var n=function(t,e){var n=Object(i.I)(e,(function(e){if(!Object(i.B)(t[e]))return{msg:"Missing visitor method: <"+e+"> on "+Le(t.constructor)+" CST Visitor.",type:Ie.MISSING_METHOD,methodName:e}}));return Object(i.i)(n)}(t,e),r=function(t,e){var n=[];for(var r in t)ae.test(r)&&Object(i.B)(t[r])&&!Object(i.j)(je,r)&&!Object(i.j)(e,r)&&n.push({msg:"Redundant visitor method: <"+r+"> on "+Le(t.constructor)+" CST Visitor\nThere is no Grammar Rule corresponding to this method's name.\nFor utility methods on visitor classes use methods names that do not match /"+ae.source+"/.",type:Ie.REDUNDANT_METHOD,methodName:r});return n}(t,e);return n.concat(r)}(this,e);if(!Object(i.A)(t)){var n=Object(i.I)(t,(function(t){return t.msg}));throw Error("Errors Detected in CST Visitor <"+Le(this.constructor)+">:\n\t"+n.join("\n\n").replace(/\n/g,"\n\t"))}}}).constructor=n,n._RULE_NAMES=e,n}!function(t){t[t.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",t[t.MISSING_METHOD=1]="MISSING_METHOD"}(Ie||(Ie={}));var je=["constructor","visit","validateVisitor"];var Pe=function(){function t(){}return t.prototype.initTreeBuilder=function(t){if(this.CST_STACK=[],this.outputCst=t.outputCst,this.nodeLocationTracking=Object(i.w)(t,"nodeLocationTracking")?t.nodeLocationTracking:$e.nodeLocationTracking,this.outputCst)if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=Ne,this.setNodeLocationFromNode=Ne,this.cstPostRule=i.b,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=i.b,this.setNodeLocationFromNode=i.b,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=_e,this.setNodeLocationFromNode=_e,this.cstPostRule=i.b,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=i.b,this.setNodeLocationFromNode=i.b,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else{if(!/none/i.test(this.nodeLocationTracking))throw Error('Invalid <nodeLocationTracking> config option: "'+t.nodeLocationTracking+'"');this.setNodeLocationFromToken=i.b,this.setNodeLocationFromNode=i.b,this.cstPostRule=i.b,this.setInitialNodeLocation=i.b}else this.cstInvocationStateUpdate=i.b,this.cstFinallyStateUpdate=i.b,this.cstPostTerminal=i.b,this.cstPostNonTerminal=i.b,this.cstPostRule=i.b},t.prototype.setInitialNodeLocationOnlyOffsetRecovery=function(t){t.location={startOffset:NaN,endOffset:NaN}},t.prototype.setInitialNodeLocationOnlyOffsetRegular=function(t){t.location={startOffset:this.LA(1).startOffset,endOffset:NaN}},t.prototype.setInitialNodeLocationFullRecovery=function(t){t.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}},t.prototype.setInitialNodeLocationFullRegular=function(t){var e=this.LA(1);t.location={startOffset:e.startOffset,startLine:e.startLine,startColumn:e.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}},t.prototype.cstInvocationStateUpdate=function(t,e){var n={name:t,children:{}};this.setInitialNodeLocation(n),this.CST_STACK.push(n)},t.prototype.cstFinallyStateUpdate=function(){this.CST_STACK.pop()},t.prototype.cstPostRuleFull=function(t){var e=this.LA(0),n=t.location;n.startOffset<=e.startOffset==!0?(n.endOffset=e.endOffset,n.endLine=e.endLine,n.endColumn=e.endColumn):(n.startOffset=NaN,n.startLine=NaN,n.startColumn=NaN)},t.prototype.cstPostRuleOnlyOffset=function(t){var e=this.LA(0),n=t.location;n.startOffset<=e.startOffset==!0?n.endOffset=e.endOffset:n.startOffset=NaN},t.prototype.cstPostTerminal=function(t,e){var n,r,i,o=this.CST_STACK[this.CST_STACK.length-1];r=e,i=t,void 0===(n=o).children[i]?n.children[i]=[r]:n.children[i].push(r),this.setNodeLocationFromToken(o.location,e)},t.prototype.cstPostNonTerminal=function(t,e){var n=this.CST_STACK[this.CST_STACK.length-1];!function(t,e,n){void 0===t.children[e]?t.children[e]=[n]:t.children[e].push(n)}(n,e,t),this.setNodeLocationFromNode(n.location,t.location)},t.prototype.getBaseCstVisitorConstructor=function(){if(Object(i.F)(this.baseCstVisitorConstructor)){var t=ke(this.className,Object(i.G)(this.gastProductionsCache));return this.baseCstVisitorConstructor=t,t}return this.baseCstVisitorConstructor},t.prototype.getBaseCstVisitorConstructorWithDefaults=function(){if(Object(i.F)(this.baseCstVisitorWithDefaultsConstructor)){var t=function(t,e,n){var r=function(){};xe(r,t+"BaseSemanticsWithDefaults");var o=Object.create(n.prototype);return Object(i.u)(e,(function(t){o[t]=Se})),(r.prototype=o).constructor=r,r}(this.className,Object(i.G)(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=t,t}return this.baseCstVisitorWithDefaultsConstructor},t.prototype.getLastExplicitRuleShortName=function(){var t=this.RULE_STACK;return t[t.length-1]},t.prototype.getPreviousExplicitRuleShortName=function(){var t=this.RULE_STACK;return t[t.length-2]},t.prototype.getLastExplicitRuleOccurrenceIndex=function(){var t=this.RULE_OCCURRENCE_STACK;return t[t.length-1]},t}(),we=function(){function t(){}return t.prototype.initLexerAdapter=function(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1},Object.defineProperty(t.prototype,"input",{get:function(){return this.tokVector},set:function(t){if(!0!==this.selfAnalysisDone)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=t,this.tokVectorLength=t.length},enumerable:!0,configurable:!0}),t.prototype.SKIP_TOKEN=function(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):Je},t.prototype.LA=function(t){var e=this.currIdx+t;return e<0||this.tokVectorLength<=e?Je:this.tokVector[e]},t.prototype.consumeToken=function(){this.currIdx++},t.prototype.exportLexerState=function(){return this.currIdx},t.prototype.importLexerState=function(t){this.currIdx=t},t.prototype.resetLexerState=function(){this.currIdx=-1},t.prototype.moveToTerminatedState=function(){this.currIdx=this.tokVector.length-1},t.prototype.getLexerPosition=function(){return this.exportLexerState()},t}(),Ce=function(){function t(){}return t.prototype.ACTION=function(t){return t.call(this)},t.prototype.consume=function(t,e,n){return this.consumeInternal(e,t,n)},t.prototype.subrule=function(t,e,n){return this.subruleInternal(e,t,n)},t.prototype.option=function(t,e){return this.optionInternal(e,t)},t.prototype.or=function(t,e){return this.orInternal(e,t)},t.prototype.many=function(t,e){return this.manyInternal(t,e)},t.prototype.atLeastOne=function(t,e){return this.atLeastOneInternal(t,e)},t.prototype.CONSUME=function(t,e){return this.consumeInternal(t,0,e)},t.prototype.CONSUME1=function(t,e){return this.consumeInternal(t,1,e)},t.prototype.CONSUME2=function(t,e){return this.consumeInternal(t,2,e)},t.prototype.CONSUME3=function(t,e){return this.consumeInternal(t,3,e)},t.prototype.CONSUME4=function(t,e){return this.consumeInternal(t,4,e)},t.prototype.CONSUME5=function(t,e){return this.consumeInternal(t,5,e)},t.prototype.CONSUME6=function(t,e){return this.consumeInternal(t,6,e)},t.prototype.CONSUME7=function(t,e){return this.consumeInternal(t,7,e)},t.prototype.CONSUME8=function(t,e){return this.consumeInternal(t,8,e)},t.prototype.CONSUME9=function(t,e){return this.consumeInternal(t,9,e)},t.prototype.SUBRULE=function(t,e){return this.subruleInternal(t,0,e)},t.prototype.SUBRULE1=function(t,e){return this.subruleInternal(t,1,e)},t.prototype.SUBRULE2=function(t,e){return this.subruleInternal(t,2,e)},t.prototype.SUBRULE3=function(t,e){return this.subruleInternal(t,3,e)},t.prototype.SUBRULE4=function(t,e){return this.subruleInternal(t,4,e)},t.prototype.SUBRULE5=function(t,e){return this.subruleInternal(t,5,e)},t.prototype.SUBRULE6=function(t,e){return this.subruleInternal(t,6,e)},t.prototype.SUBRULE7=function(t,e){return this.subruleInternal(t,7,e)},t.prototype.SUBRULE8=function(t,e){return this.subruleInternal(t,8,e)},t.prototype.SUBRULE9=function(t,e){return this.subruleInternal(t,9,e)},t.prototype.OPTION=function(t){return this.optionInternal(t,0)},t.prototype.OPTION1=function(t){return this.optionInternal(t,1)},t.prototype.OPTION2=function(t){return this.optionInternal(t,2)},t.prototype.OPTION3=function(t){return this.optionInternal(t,3)},t.prototype.OPTION4=function(t){return this.optionInternal(t,4)},t.prototype.OPTION5=function(t){return this.optionInternal(t,5)},t.prototype.OPTION6=function(t){return this.optionInternal(t,6)},t.prototype.OPTION7=function(t){return this.optionInternal(t,7)},t.prototype.OPTION8=function(t){return this.optionInternal(t,8)},t.prototype.OPTION9=function(t){return this.optionInternal(t,9)},t.prototype.OR=function(t){return this.orInternal(t,0)},t.prototype.OR1=function(t){return this.orInternal(t,1)},t.prototype.OR2=function(t){return this.orInternal(t,2)},t.prototype.OR3=function(t){return this.orInternal(t,3)},t.prototype.OR4=function(t){return this.orInternal(t,4)},t.prototype.OR5=function(t){return this.orInternal(t,5)},t.prototype.OR6=function(t){return this.orInternal(t,6)},t.prototype.OR7=function(t){return this.orInternal(t,7)},t.prototype.OR8=function(t){return this.orInternal(t,8)},t.prototype.OR9=function(t){return this.orInternal(t,9)},t.prototype.MANY=function(t){this.manyInternal(0,t)},t.prototype.MANY1=function(t){this.manyInternal(1,t)},t.prototype.MANY2=function(t){this.manyInternal(2,t)},t.prototype.MANY3=function(t){this.manyInternal(3,t)},t.prototype.MANY4=function(t){this.manyInternal(4,t)},t.prototype.MANY5=function(t){this.manyInternal(5,t)},t.prototype.MANY6=function(t){this.manyInternal(6,t)},t.prototype.MANY7=function(t){this.manyInternal(7,t)},t.prototype.MANY8=function(t){this.manyInternal(8,t)},t.prototype.MANY9=function(t){this.manyInternal(9,t)},t.prototype.MANY_SEP=function(t){this.manySepFirstInternal(0,t)},t.prototype.MANY_SEP1=function(t){this.manySepFirstInternal(1,t)},t.prototype.MANY_SEP2=function(t){this.manySepFirstInternal(2,t)},t.prototype.MANY_SEP3=function(t){this.manySepFirstInternal(3,t)},t.prototype.MANY_SEP4=function(t){this.manySepFirstInternal(4,t)},t.prototype.MANY_SEP5=function(t){this.manySepFirstInternal(5,t)},t.prototype.MANY_SEP6=function(t){this.manySepFirstInternal(6,t)},t.prototype.MANY_SEP7=function(t){this.manySepFirstInternal(7,t)},t.prototype.MANY_SEP8=function(t){this.manySepFirstInternal(8,t)},t.prototype.MANY_SEP9=function(t){this.manySepFirstInternal(9,t)},t.prototype.AT_LEAST_ONE=function(t){this.atLeastOneInternal(0,t)},t.prototype.AT_LEAST_ONE1=function(t){return this.atLeastOneInternal(1,t)},t.prototype.AT_LEAST_ONE2=function(t){this.atLeastOneInternal(2,t)},t.prototype.AT_LEAST_ONE3=function(t){this.atLeastOneInternal(3,t)},t.prototype.AT_LEAST_ONE4=function(t){this.atLeastOneInternal(4,t)},t.prototype.AT_LEAST_ONE5=function(t){this.atLeastOneInternal(5,t)},t.prototype.AT_LEAST_ONE6=function(t){this.atLeastOneInternal(6,t)},t.prototype.AT_LEAST_ONE7=function(t){this.atLeastOneInternal(7,t)},t.prototype.AT_LEAST_ONE8=function(t){this.atLeastOneInternal(8,t)},t.prototype.AT_LEAST_ONE9=function(t){this.atLeastOneInternal(9,t)},t.prototype.AT_LEAST_ONE_SEP=function(t){this.atLeastOneSepFirstInternal(0,t)},t.prototype.AT_LEAST_ONE_SEP1=function(t){this.atLeastOneSepFirstInternal(1,t)},t.prototype.AT_LEAST_ONE_SEP2=function(t){this.atLeastOneSepFirstInternal(2,t)},t.prototype.AT_LEAST_ONE_SEP3=function(t){this.atLeastOneSepFirstInternal(3,t)},t.prototype.AT_LEAST_ONE_SEP4=function(t){this.atLeastOneSepFirstInternal(4,t)},t.prototype.AT_LEAST_ONE_SEP5=function(t){this.atLeastOneSepFirstInternal(5,t)},t.prototype.AT_LEAST_ONE_SEP6=function(t){this.atLeastOneSepFirstInternal(6,t)},t.prototype.AT_LEAST_ONE_SEP7=function(t){this.atLeastOneSepFirstInternal(7,t)},t.prototype.AT_LEAST_ONE_SEP8=function(t){this.atLeastOneSepFirstInternal(8,t)},t.prototype.AT_LEAST_ONE_SEP9=function(t){this.atLeastOneSepFirstInternal(9,t)},t.prototype.RULE=function(t,e,n){if(void 0===n&&(n=tn),Object(i.j)(this.definedRulesNames,t)){var r={message:St.buildDuplicateRuleNameError({topLevelRule:t,grammarName:this.className}),type:Qe.DUPLICATE_RULE_NAME,ruleName:t};this.definitionErrors.push(r)}this.definedRulesNames.push(t);var o=this.defineRule(t,e,n);return this[t]=o,o},t.prototype.OVERRIDE_RULE=function(t,e,n){void 0===n&&(n=tn);var r,o,a,u,c,s=[];s=s.concat((r=t,o=this.definedRulesNames,a=this.className,c=[],i.j(o,r)||(u="Invalid rule override, rule: ->"+r+"<- cannot be overridden in the grammar: ->"+a+"<-as it is not defined in any of the super grammars ",c.push({message:u,type:Qe.INVALID_RULE_OVERRIDE,ruleName:r})),c)),this.definitionErrors.push.apply(this.definitionErrors,s);var f=this.defineRule(t,e,n);return this[t]=f,f},t.prototype.BACKTRACK=function(t,e){return function(){this.isBackTrackingStack.push(1);var n=this.saveRecogState();try{return t.apply(this,e),!0}catch(t){if(pe(t))return!1;throw t}finally{this.reloadRecogState(n),this.isBackTrackingStack.pop()}}},t.prototype.getGAstProductions=function(){return this.gastProductionsCache},t.prototype.getSerializedGastProductions=function(){return vt(Object(i.U)(this.gastProductionsCache))},t}(),Me=function(){function t(){}return t.prototype.initRecognizerEngine=function(t,e){if(this.className=Le(this.constructor),this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=U,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},Object(i.w)(e,"serializedGrammar"))throw Error("The Parser's configuration can no longer contain a <serializedGrammar> property.\n\tSee: https://sap.github.io/chevrotain/docs/changes/BREAKING_CHANGES.html#_6-0-0\n\tFor Further details.");if(Object(i.y)(t)){if(Object(i.A)(t))throw Error("A Token Vocabulary cannot be empty.\n\tNote that the first argument for the parser constructor\n\tis no longer a Token vector (since v4.0).");if("number"==typeof t[0].startOffset)throw Error("The Parser constructor no longer accepts a token vector as the first argument.\n\tSee: https://sap.github.io/chevrotain/docs/changes/BREAKING_CHANGES.html#_4-0-0\n\tFor Further details.")}if(Object(i.y)(t))this.tokensMap=Object(i.O)(t,(function(t,e){return t[e.name]=e,t}),{});else if(Object(i.w)(t,"modes")&&Object(i.o)(Object(i.t)(Object(i.U)(t.modes)),H)){var n=Object(i.t)(Object(i.U)(t.modes)),r=Object(i.T)(n);this.tokensMap=Object(i.O)(r,(function(t,e){return t[e.name]=e,t}),{})}else{if(!Object(i.C)(t))throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap=Object(i.h)(t)}this.tokensMap.EOF=$;var o=Object(i.o)(Object(i.U)(t),(function(t){return Object(i.A)(t.categoryMatches)}));this.tokenMatcher=o?U:X,z(Object(i.U)(this.tokensMap))},t.prototype.defineRule=function(t,e,n){if(this.selfAnalysisDone)throw Error("Grammar rule <"+t+"> may not be defined after the 'performSelfAnalysis' method has been called'\nMake sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.");var r,o=Object(i.w)(n,"resyncEnabled")?n.resyncEnabled:tn.resyncEnabled,a=Object(i.w)(n,"recoveryValueFunc")?n.recoveryValueFunc:tn.recoveryValueFunc,u=this.ruleShortNameIdx<<12;function c(t){try{if(!0===this.outputCst){e.apply(this,t);var n=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(n),n}return e.apply(this,t)}catch(t){return this.invokeRuleCatch(t,o,a)}finally{this.ruleFinallyStateUpdate()}}this.ruleShortNameIdx++,this.shortRuleNameToFull[u]=t,this.fullRuleNameToShort[t]=u;return(r=function(e,n){return void 0===e&&(e=0),this.ruleInvocationStateUpdate(u,t,e),c.call(this,n)}).ruleName=t,r.originalGrammarAction=e,r},t.prototype.invokeRuleCatch=function(t,e,n){var r=1===this.RULE_STACK.length,i=e&&!this.isBackTracking()&&this.recoveryEnabled;if(pe(t)){var o=t;if(i){var a,u=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(u))return o.resyncedTokens=this.reSyncTo(u),this.outputCst?((a=this.CST_STACK[this.CST_STACK.length-1]).recoveredNode=!0,a):n();throw this.outputCst&&((a=this.CST_STACK[this.CST_STACK.length-1]).recoveredNode=!0,o.partialCstResult=a),o}if(r)return this.moveToTerminatedState(),n();throw o}throw t},t.prototype.optionInternal=function(t,e){var n=this.getKeyForAutomaticLookahead(512,e);return this.optionInternalLogic(t,e,n)},t.prototype.optionInternalLogic=function(t,e,n){var r,i,o=this,a=this.getLaFuncFromCache(n);if(void 0!==t.DEF){if(r=t.DEF,void 0!==(i=t.GATE)){var u=a;a=function(){return i.call(o)&&u.call(o)}}}else r=t;if(!0===a.call(this))return r.call(this)},t.prototype.atLeastOneInternal=function(t,e){var n=this.getKeyForAutomaticLookahead(1024,t);return this.atLeastOneInternalLogic(t,e,n)},t.prototype.atLeastOneInternalLogic=function(t,e,n){var r,i,o=this,a=this.getLaFuncFromCache(n);if(void 0!==e.DEF){if(r=e.DEF,void 0!==(i=e.GATE)){var u=a;a=function(){return i.call(o)&&u.call(o)}}}else r=e;if(!0!==a.call(this))throw this.raiseEarlyExitException(t,Bt.REPETITION_MANDATORY,e.ERR_MSG);for(var c=this.doSingleRepetition(r);!0===a.call(this)&&!0===c;)c=this.doSingleRepetition(r);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[t,e],a,1024,t,Ut)},t.prototype.atLeastOneSepFirstInternal=function(t,e){var n=this.getKeyForAutomaticLookahead(1536,t);this.atLeastOneSepFirstInternalLogic(t,e,n)},t.prototype.atLeastOneSepFirstInternalLogic=function(t,e,n){var r=this,i=e.DEF,o=e.SEP;if(!0!==this.getLaFuncFromCache(n).call(this))throw this.raiseEarlyExitException(t,Bt.REPETITION_MANDATORY_WITH_SEPARATOR,e.ERR_MSG);i.call(this);for(var a=function(){return r.tokenMatcher(r.LA(1),o)};!0===this.tokenMatcher(this.LA(1),o);)this.CONSUME(o),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,o,a,i,Dt],a,1536,t,Dt)},t.prototype.manyInternal=function(t,e){var n=this.getKeyForAutomaticLookahead(768,t);return this.manyInternalLogic(t,e,n)},t.prototype.manyInternalLogic=function(t,e,n){var r,i,o=this,a=this.getLaFuncFromCache(n);if(void 0!==e.DEF){if(r=e.DEF,void 0!==(i=e.GATE)){var u=a;a=function(){return i.call(o)&&u.call(o)}}}else r=e;for(var c=!0;!0===a.call(this)&&!0===c;)c=this.doSingleRepetition(r);this.attemptInRepetitionRecovery(this.manyInternal,[t,e],a,768,t,Mt,c)},t.prototype.manySepFirstInternal=function(t,e){var n=this.getKeyForAutomaticLookahead(1280,t);this.manySepFirstInternalLogic(t,e,n)},t.prototype.manySepFirstInternalLogic=function(t,e,n){var r=this,i=e.DEF,o=e.SEP;if(!0===this.getLaFuncFromCache(n).call(this)){i.call(this);for(var a=function(){return r.tokenMatcher(r.LA(1),o)};!0===this.tokenMatcher(this.LA(1),o);)this.CONSUME(o),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,o,a,i,Xt],a,1280,t,Xt)}},t.prototype.repetitionSepSecondInternal=function(t,e,n,r,i){for(;n();)this.CONSUME(e),r.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,e,n,r,i],n,1536,t,i)},t.prototype.doSingleRepetition=function(t){var e=this.getLexerPosition();return t.call(this),this.getLexerPosition()>e},t.prototype.orInternal=function(t,e){var n=this.getKeyForAutomaticLookahead(256,e),r=Object(i.y)(t)?t:t.DEF,o=this.getLaFuncFromCache(n).call(this,r);if(void 0!==o)return r[o].ALT.call(this);this.raiseNoAltException(e,t.ERR_MSG)},t.prototype.ruleFinallyStateUpdate=function(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),0===this.RULE_STACK.length&&!1===this.isAtEndOfInput()){var t=this.LA(1),e=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:t,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new ye(e,t))}},t.prototype.subruleInternal=function(t,e,n){var r;try{var i=void 0!==n?n.ARGS:void 0;return r=t.call(this,e,i),this.cstPostNonTerminal(r,void 0!==n&&void 0!==n.LABEL?n.LABEL:t.ruleName),r}catch(e){this.subruleInternalError(e,n,t.ruleName)}},t.prototype.subruleInternalError=function(t,e,n){throw pe(t)&&void 0!==t.partialCstResult&&(this.cstPostNonTerminal(t.partialCstResult,void 0!==e&&void 0!==e.LABEL?e.LABEL:n),delete t.partialCstResult),t},t.prototype.consumeInternal=function(t,e,n){var r;try{var i=this.LA(1);!0===this.tokenMatcher(i,t)?(this.consumeToken(),r=i):this.consumeInternalError(t,i,n)}catch(n){r=this.consumeInternalRecovery(t,e,n)}return this.cstPostTerminal(void 0!==n&&void 0!==n.LABEL?n.LABEL:t.name,r),r},t.prototype.consumeInternalError=function(t,e,n){var r,i=this.LA(0);throw r=void 0!==n&&n.ERR_MSG?n.ERR_MSG:this.errorMessageProvider.buildMismatchTokenMessage({expected:t,actual:e,previous:i,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new ve(r,e,i))},t.prototype.consumeInternalRecovery=function(t,e,n){if(!this.recoveryEnabled||"MismatchedTokenException"!==n.name||this.isBackTracking())throw n;var r=this.getFollowsForInRuleRecovery(t,e);try{return this.tryInRuleRecovery(t,r)}catch(t){throw"InRuleRecoveryException"===t.name?n:t}},t.prototype.saveRecogState=function(){var t=this.errors,e=Object(i.g)(this.RULE_STACK);return{errors:t,lexerState:this.exportLexerState(),RULE_STACK:e,CST_STACK:this.CST_STACK}},t.prototype.reloadRecogState=function(t){this.errors=t.errors,this.importLexerState(t.lexerState),this.RULE_STACK=t.RULE_STACK},t.prototype.ruleInvocationStateUpdate=function(t,e,n){this.RULE_OCCURRENCE_STACK.push(n),this.RULE_STACK.push(t),this.cstInvocationStateUpdate(e,t)},t.prototype.isBackTracking=function(){return 0!==this.isBackTrackingStack.length},t.prototype.getCurrRuleFullName=function(){var t=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[t]},t.prototype.shortRuleNameToFullName=function(t){return this.shortRuleNameToFull[t]},t.prototype.isAtEndOfInput=function(){return this.tokenMatcher(this.LA(1),$)},t.prototype.reset=function(){this.resetLexerState(),this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]},t}(),Xe=function(){function t(){}return t.prototype.initErrorHandler=function(t){this._errors=[],this.errorMessageProvider=Object(i.w)(t,"errorMessageProvider")?t.errorMessageProvider:$e.errorMessageProvider},t.prototype.SAVE_ERROR=function(t){if(pe(t))return t.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:Object(i.g)(this.RULE_OCCURRENCE_STACK)},this._errors.push(t),t;throw Error("Trying to save an Error which is not a RecognitionException")},Object.defineProperty(t.prototype,"errors",{get:function(){return Object(i.g)(this._errors)},set:function(t){this._errors=t},enumerable:!0,configurable:!0}),t.prototype.raiseEarlyExitException=function(t,e,n){for(var r=this.getCurrRuleFullName(),i=Qt(t,this.getGAstProductions()[r],e,this.maxLookahead)[0],o=[],a=1;a<=this.maxLookahead;a++)o.push(this.LA(a));var u=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:i,actual:o,previous:this.LA(0),customUserDescription:n,ruleName:r});throw this.SAVE_ERROR(new me(u,this.LA(1),this.LA(0)))},t.prototype.raiseNoAltException=function(t,e){for(var n=this.getCurrRuleFullName(),r=Jt(t,this.getGAstProductions()[n],this.maxLookahead),i=[],o=1;o<=this.maxLookahead;o++)i.push(this.LA(o));var a=this.LA(0),u=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:r,actual:i,previous:a,customUserDescription:e,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new de(u,this.LA(1),a))},t}(),Ue=function(){function t(){}return t.prototype.initContentAssist=function(){},t.prototype.computeContentAssist=function(t,e){var n=this.gastProductionsCache[t];if(Object(i.F)(n))throw Error("Rule ->"+t+"<- does not exist in this grammar.");return zt([n],e,this.tokenMatcher,this.maxLookahead)},t.prototype.getNextPossibleTokenTypes=function(t){var e=Object(i.s)(t.ruleStack),n=this.getGAstProductions()[e];return new wt(n,t).startWalking()},t}(),De={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(De);var Fe=Math.pow(2,8)-1,ze=Q({name:"RECORDING_PHASE_TOKEN",pattern:Y.NA});z([ze]);var Ge=tt(ze,"This IToken indicates the Parser is in Recording Phase\n\tSee: https://sap.github.io/chevrotain/docs/guide/internals.html#grammar-recording for details",-1,-1,-1,-1,-1,-1);Object.freeze(Ge);var Be={name:"This CSTNode indicates the Parser is in Recording Phase\n\tSee: https://sap.github.io/chevrotain/docs/guide/internals.html#grammar-recording for details",children:{}},He=function(){function t(){}return t.prototype.initGastRecorder=function(t){this.recordingProdStack=[],this.RECORDING_PHASE=!1},t.prototype.enableRecording=function(){var t=this;this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",(function(){for(var e=function(e){var n=e>0?e:"";t["CONSUME"+n]=function(t,n){return this.consumeInternalRecord(t,e,n)},t["SUBRULE"+n]=function(t,n){return this.subruleInternalRecord(t,e,n)},t["OPTION"+n]=function(t){return this.optionInternalRecord(t,e)},t["OR"+n]=function(t){return this.orInternalRecord(t,e)},t["MANY"+n]=function(t){this.manyInternalRecord(e,t)},t["MANY_SEP"+n]=function(t){this.manySepFirstInternalRecord(e,t)},t["AT_LEAST_ONE"+n]=function(t){this.atLeastOneInternalRecord(e,t)},t["AT_LEAST_ONE_SEP"+n]=function(t){this.atLeastOneSepFirstInternalRecord(e,t)}},n=0;n<10;n++)e(n);t.consume=function(t,e,n){return this.consumeInternalRecord(e,t,n)},t.subrule=function(t,e,n){return this.subruleInternalRecord(e,t,n)},t.option=function(t,e){return this.optionInternalRecord(e,t)},t.or=function(t,e){return this.orInternalRecord(e,t)},t.many=function(t,e){this.manyInternalRecord(t,e)},t.atLeastOne=function(t,e){this.atLeastOneInternalRecord(t,e)},t.ACTION=t.ACTION_RECORD,t.BACKTRACK=t.BACKTRACK_RECORD,t.LA=t.LA_RECORD}))},t.prototype.disableRecording=function(){var t=this;this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",(function(){for(var e=0;e<10;e++){var n=e>0?e:"";delete t["CONSUME"+n],delete t["SUBRULE"+n],delete t["OPTION"+n],delete t["OR"+n],delete t["MANY"+n],delete t["MANY_SEP"+n],delete t["AT_LEAST_ONE"+n],delete t["AT_LEAST_ONE_SEP"+n]}delete t.consume,delete t.subrule,delete t.option,delete t.or,delete t.many,delete t.atLeastOne,delete t.ACTION,delete t.BACKTRACK,delete t.LA}))},t.prototype.ACTION_RECORD=function(t){},t.prototype.BACKTRACK_RECORD=function(t,e){return function(){return!0}},t.prototype.LA_RECORD=function(t){return Je},t.prototype.topLevelRuleRecord=function(t,e){try{var n=new ot({definition:[],name:t});return n.name=t,this.recordingProdStack.push(n),e.call(this),this.recordingProdStack.pop(),n}catch(t){if(!0!==t.KNOWN_RECORDER_ERROR)try{t.message=t.message+'\n\t This error was thrown during the "grammar recording phase" For more info see:\n\thttps://sap.github.io/chevrotain/docs/guide/internals.html#grammar-recording'}catch(e){throw t}throw t}},t.prototype.optionInternalRecord=function(t,e){return We.call(this,ut,t,e)},t.prototype.atLeastOneInternalRecord=function(t,e){We.call(this,ct,e,t)},t.prototype.atLeastOneSepFirstInternalRecord=function(t,e){We.call(this,st,e,t,!0)},t.prototype.manyInternalRecord=function(t,e){We.call(this,ft,e,t)},t.prototype.manySepFirstInternalRecord=function(t,e){We.call(this,lt,e,t,!0)},t.prototype.orInternalRecord=function(t,e){return Ke.call(this,t,e)},t.prototype.subruleInternalRecord=function(t,e,n){if(Ye(e),!t||!1===Object(i.w)(t,"ruleName")){var r=new Error("<SUBRULE"+Ve(e)+"> argument is invalid expecting a Parser method reference but got: <"+JSON.stringify(t)+">\n inside top level rule: <"+this.recordingProdStack[0].name+">");throw r.KNOWN_RECORDER_ERROR=!0,r}var o=Object(i.M)(this.recordingProdStack),a=t.ruleName,u=new it({idx:e,nonTerminalName:a,referencedRule:void 0});return o.definition.push(u),this.outputCst?Be:De},t.prototype.consumeInternalRecord=function(t,e,n){if(Ye(e),!G(t)){var r=new Error("<CONSUME"+Ve(e)+"> argument is invalid expecting a TokenType reference but got: <"+JSON.stringify(t)+">\n inside top level rule: <"+this.recordingProdStack[0].name+">");throw r.KNOWN_RECORDER_ERROR=!0,r}var o=Object(i.M)(this.recordingProdStack),a=new pt({idx:e,terminalType:t});return o.definition.push(a),Ge},t}();function We(t,e,n,r){void 0===r&&(r=!1),Ye(n);var o=Object(i.M)(this.recordingProdStack),a=Object(i.B)(e)?e:e.DEF,u=new t({definition:[],idx:n});return r&&(u.separator=e.SEP),Object(i.w)(e,"MAX_LOOKAHEAD")&&(u.maxLookahead=e.MAX_LOOKAHEAD),this.recordingProdStack.push(u),a.call(this),o.definition.push(u),this.recordingProdStack.pop(),De}function Ke(t,e){var n=this;Ye(e);var r=Object(i.M)(this.recordingProdStack),o=!1===Object(i.y)(t),a=!1===o?t:t.DEF,u=new ht({definition:[],idx:e,ignoreAmbiguities:o&&!0===t.IGNORE_AMBIGUITIES});Object(i.w)(t,"MAX_LOOKAHEAD")&&(u.maxLookahead=t.MAX_LOOKAHEAD);var c=Object(i.Q)(a,(function(t){return Object(i.B)(t.GATE)}));return u.hasPredicates=c,r.definition.push(u),Object(i.u)(a,(function(t){var e=new at({definition:[]});u.definition.push(e),Object(i.w)(t,"IGNORE_AMBIGUITIES")?e.ignoreAmbiguities=t.IGNORE_AMBIGUITIES:Object(i.w)(t,"GATE")&&(e.ignoreAmbiguities=!0),n.recordingProdStack.push(e),t.ALT.call(n),n.recordingProdStack.pop()})),De}function Ve(t){return 0===t?"":""+t}function Ye(t){if(t<0||t>Fe){var e=new Error("Invalid DSL Method idx value: <"+t+">\n\tIdx value must be a none negative value smaller than "+(Fe+1));throw e.KNOWN_RECORDER_ERROR=!0,e}}var qe=function(){function t(){}return t.prototype.initPerformanceTracer=function(t){if(Object(i.w)(t,"traceInitPerf")){var e=t.traceInitPerf,n="number"==typeof e;this.traceInitMaxIdent=n?e:1/0,this.traceInitPerf=n?e>0:e}else this.traceInitMaxIdent=0,this.traceInitPerf=$e.traceInitPerf;this.traceInitIndent=-1},t.prototype.TRACE_INIT=function(t,e){if(!0===this.traceInitPerf){this.traceInitIndent++;var n=new Array(this.traceInitIndent+1).join("\t");this.traceInitIndent<this.traceInitMaxIdent&&console.log(n+"--\x3e <"+t+">");var r=Object(i.R)(e),o=r.time,a=r.value,u=o>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&u(n+"<-- <"+t+"> time: "+o+"ms"),this.traceInitIndent--,a}return e()},t}(),Ze=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Je=tt($,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(Je);var Qe,$e=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:Lt,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),tn=Object.freeze({recoveryValueFunc:function(){},resyncEnabled:!0});function en(t){return void 0===t&&(t=void 0),function(){return t}}!function(t){t[t.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",t[t.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",t[t.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",t[t.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",t[t.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",t[t.LEFT_RECURSION=5]="LEFT_RECURSION",t[t.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",t[t.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",t[t.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",t[t.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",t[t.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",t[t.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",t[t.TOO_MANY_ALTS=12]="TOO_MANY_ALTS"}(Qe||(Qe={}));var nn=function(){function t(t,e){this.definitionErrors=[],this.selfAnalysisDone=!1;if(this.initErrorHandler(e),this.initLexerAdapter(),this.initLooksAhead(e),this.initRecognizerEngine(t,e),this.initRecoverable(e),this.initTreeBuilder(e),this.initContentAssist(),this.initGastRecorder(e),this.initPerformanceTracer(e),Object(i.w)(e,"ignoredIssues"))throw new Error("The <ignoredIssues> IParserConfig property has been deprecated.\n\tPlease use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.\n\tSee: https://sap.github.io/chevrotain/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES\n\tFor further details.");this.skipValidations=Object(i.w)(e,"skipValidations")?e.skipValidations:$e.skipValidations}return t.performSelfAnalysis=function(t){throw Error("The **static** `performSelfAnalysis` method has been deprecated.\t\nUse the **instance** method with the same name instead.")},t.prototype.performSelfAnalysis=function(){var e=this;this.TRACE_INIT("performSelfAnalysis",(function(){var n;e.selfAnalysisDone=!0;var r=e.className;e.TRACE_INIT("toFastProps",(function(){Object(i.S)(e)})),e.TRACE_INIT("Grammar Recording",(function(){try{e.enableRecording(),Object(i.u)(e.definedRulesNames,(function(t){var n=e[t].originalGrammarAction,r=void 0;e.TRACE_INIT(t+" Rule",(function(){r=e.topLevelRuleRecord(t,n)})),e.gastProductionsCache[t]=r}))}finally{e.disableRecording()}}));var o=[];if(e.TRACE_INIT("Grammar Resolving",(function(){o=se({rules:Object(i.U)(e.gastProductionsCache)}),e.definitionErrors.push.apply(e.definitionErrors,o)})),e.TRACE_INIT("Grammar Validations",(function(){if(Object(i.A)(o)&&!1===e.skipValidations){var t=fe({rules:Object(i.U)(e.gastProductionsCache),maxLookahead:e.maxLookahead,tokenTypes:Object(i.U)(e.tokensMap),errMsgProvider:St,grammarName:r});e.definitionErrors.push.apply(e.definitionErrors,t)}})),Object(i.A)(e.definitionErrors)&&(e.recoveryEnabled&&e.TRACE_INIT("computeAllProdsFollows",(function(){var t,n,r=(t=Object(i.U)(e.gastProductionsCache),n={},Object(i.u)(t,(function(t){var e=new At(t).startWalking();Object(i.f)(n,e)})),n);e.resyncFollows=r})),e.TRACE_INIT("ComputeLookaheadFunctions",(function(){e.preComputeLookaheadFunctions(Object(i.U)(e.gastProductionsCache))}))),!t.DEFER_DEFINITION_ERRORS_HANDLING&&!Object(i.A)(e.definitionErrors))throw n=Object(i.I)(e.definitionErrors,(function(t){return t.message})),new Error("Parser Definition Errors detected:\n "+n.join("\n-------------------------------\n"))}))},t.DEFER_DEFINITION_ERRORS_HANDLING=!1,t}();Object(i.e)(nn,[Oe,Re,Pe,we,Me,Ce,Xe,Ue,He,qe]);var rn=function(t){function e(e,n){void 0===n&&(n=$e);var r=Object(i.h)(n);return r.outputCst=!0,t.call(this,e,r)||this}return Ze(e,t),e}(nn),on=function(t){function e(e,n){void 0===n&&(n=$e);var r=Object(i.h)(n);return r.outputCst=!1,t.call(this,e,r)||this}return Ze(e,t),e}(nn);function an(t,e){var n=void 0===e?{}:e,i=n.resourceBase,o=void 0===i?"https://unpkg.com/chevrotain@"+r+"/diagrams/":i,a=n.css;return'\n\x3c!-- This is a generated file --\x3e\n<!DOCTYPE html>\n<meta charset="utf-8">\n<style>\n  body {\n    background-color: hsl(30, 20%, 95%)\n  }\n</style>\n\n'+("\n<link rel='stylesheet' href='"+(void 0===a?"https://unpkg.com/chevrotain@"+r+"/diagrams/diagrams.css":a)+"'>\n")+("\n<script src='"+o+"vendor/railroad-diagrams.js'><\/script>\n<script src='"+o+"src/diagrams_builder.js'><\/script>\n<script src='"+o+"src/diagrams_behavior.js'><\/script>\n<script src='"+o+"src/main.js'><\/script>\n")+'\n<div id="diagrams" align="center"></div>    \n'+("\n<script>\n    window.serializedGrammar = "+JSON.stringify(t,null,"  ")+";\n<\/script>\n")+'\n<script>\n    var diagramsDiv = document.getElementById("diagrams");\n    main.drawDiagramsFromSerializedGrammar(serializedGrammar, diagramsDiv);\n<\/script>\n'}var un="\n";function cn(t){var e;return"\nfunction "+t.name+"(tokenVocabulary, config) {\n    // invoke super constructor\n    // No support for embedded actions currently, so we can 'hardcode'\n    // The use of CstParser.\n    chevrotain.CstParser.call(this, tokenVocabulary, config)\n\n    const $ = this\n\n    "+(e=t.rules,Object(i.I)(e,(function(t){return r=vn(n=1,'$.RULE("'+(e=t).name+'", function() {')+un,r+=pn(e.definition,n+1),r+=vn(n+1,"})")+un;var e,n,r})).join("\n")+"\n\n    // very important to call this after all the rules have been defined.\n    // otherwise the parser may not work correctly as it will lack information\n    // derived during the self analysis phase.\n    this.performSelfAnalysis(this)\n}\n\n// inheritance as implemented in javascript in the previous decade... :(\n")+t.name+".prototype = Object.create(chevrotain.CstParser.prototype)\n"+t.name+".prototype.constructor = "+t.name+"    \n    "}function sn(t,e){var n=vn(e,"$.OR"+t.idx+"([")+un,r=Object(i.I)(t.definition,(function(t){return function(t,e){var n=vn(e,"{")+un;return n+=vn(e+1,"ALT: function() {")+un,n+=pn(t.definition,e+1),n+=vn(e+1,"}")+un,n+=vn(e,"}")}(t,e+1)}));return n+=r.join(",\n"),n+=un+vn(e,"])\n")}function fn(t,e){if(t instanceof it)return function(t,e){return vn(e,"$.SUBRULE"+t.idx+"($."+t.nonTerminalName+")"+un)}(t,e);if(t instanceof ut)return ln("OPTION",t,e);if(t instanceof ct)return ln("AT_LEAST_ONE",t,e);if(t instanceof st)return ln("AT_LEAST_ONE_SEP",t,e);if(t instanceof lt)return ln("MANY_SEP",t,e);if(t instanceof ft)return ln("MANY",t,e);if(t instanceof ht)return sn(t,e);if(t instanceof pt)return function(t,e){var n=t.terminalType.name;return vn(e,"$.CONSUME"+t.idx+"(this.tokensMap."+n+")"+un)}(t,e);if(t instanceof at)return pn(t.definition,e);throw Error("non exhaustive match")}function ln(t,e,n){var r=vn(n,"$."+(t+e.idx)+"(");return e.separator?(r+="{\n",r+=vn(n+1,"SEP: this.tokensMap."+e.separator.name)+","+un,r+="DEF: "+hn(e.definition,n+2)+un,r+=vn(n,"}")+un):r+=hn(e.definition,n+1),r+=vn(n,")")+un}function hn(t,e){var n="function() {\n";return n+=pn(t,e),n+=vn(e,"}")+un}function pn(t,e){var n="";return Object(i.u)(t,(function(t){n+=fn(t,e+1)})),n}function vn(t,e){return Array(4*t+1).join(" ")+e}function dn(t){var e=function(t){return"    \n"+cn(t)+"\nreturn new "+t.name+"(tokenVocabulary, config)    \n"}({name:t.name,rules:t.rules}),r=new Function("tokenVocabulary","config","chevrotain",e);return function(e){return r(t.tokenVocabulary,e,n(1))}}function yn(t){return function(t){return"\n(function (root, factory) {\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define(['chevrotain'], factory);\n    } else if (typeof module === 'object' && module.exports) {\n        // Node. Does not work with strict CommonJS, but\n        // only CommonJS-like environments that support module.exports,\n        // like Node.\n        module.exports = factory(require('chevrotain'));\n    } else {\n        // Browser globals (root is window)\n        root.returnExports = factory(root.b);\n    }\n}(typeof self !== 'undefined' ? self : this, function (chevrotain) {\n\n"+cn(t)+"\n    \nreturn {\n    "+t.name+": "+t.name+" \n}\n}));\n"}({name:t.name,rules:t.rules})}function mn(){console.warn("The clearCache function was 'soft' removed from the Chevrotain API.\n\t It performs no action other than printing this message.\n\t Please avoid using it as it will be completely removed in the future")}var gn=function(){throw new Error("The Parser class has been deprecated, use CstParser or EmbeddedActionsParser instead.\t\nSee: https://sap.github.io/chevrotain/docs/changes/BREAKING_CHANGES.html#_7-0-0")}},function(t,e,n){(function(t,r){var i;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var o="Expected a function",a="__lodash_placeholder__",u=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],c="[object Arguments]",s="[object Array]",f="[object Boolean]",l="[object Date]",h="[object Error]",p="[object Function]",v="[object GeneratorFunction]",d="[object Map]",y="[object Number]",m="[object Object]",g="[object RegExp]",b="[object Set]",O="[object String]",T="[object Symbol]",E="[object WeakMap]",R="[object ArrayBuffer]",_="[object DataView]",N="[object Float32Array]",I="[object Float64Array]",A="[object Int8Array]",L="[object Int16Array]",x="[object Int32Array]",S="[object Uint8Array]",k="[object Uint16Array]",j="[object Uint32Array]",P=/\b__p \+= '';/g,w=/\b(__p \+=) '' \+/g,C=/(__e\(.*?\)|\b__t\)) \+\n'';/g,M=/&(?:amp|lt|gt|quot|#39);/g,X=/[&<>"']/g,U=RegExp(M.source),D=RegExp(X.source),F=/<%-([\s\S]+?)%>/g,z=/<%([\s\S]+?)%>/g,G=/<%=([\s\S]+?)%>/g,B=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,H=/^\w*$/,W=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,K=/[\\^$.*+?()[\]{}|]/g,V=RegExp(K.source),Y=/^\s+|\s+$/g,q=/^\s+/,Z=/\s+$/,J=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Q=/\{\n\/\* \[wrapped with (.+)\] \*/,$=/,? & /,tt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,et=/\\(\\)?/g,nt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,rt=/\w*$/,it=/^[-+]0x[0-9a-f]+$/i,ot=/^0b[01]+$/i,at=/^\[object .+?Constructor\]$/,ut=/^0o[0-7]+$/i,ct=/^(?:0|[1-9]\d*)$/,st=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ft=/($^)/,lt=/['\n\r\u2028\u2029\\]/g,ht="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",pt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",vt="[\\ud800-\\udfff]",dt="["+pt+"]",yt="["+ht+"]",mt="\\d+",gt="[\\u2700-\\u27bf]",bt="[a-z\\xdf-\\xf6\\xf8-\\xff]",Ot="[^\\ud800-\\udfff"+pt+mt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",Tt="\\ud83c[\\udffb-\\udfff]",Et="[^\\ud800-\\udfff]",Rt="(?:\\ud83c[\\udde6-\\uddff]){2}",_t="[\\ud800-\\udbff][\\udc00-\\udfff]",Nt="[A-Z\\xc0-\\xd6\\xd8-\\xde]",It="(?:"+bt+"|"+Ot+")",At="(?:"+Nt+"|"+Ot+")",Lt="(?:"+yt+"|"+Tt+")"+"?",xt="[\\ufe0e\\ufe0f]?"+Lt+("(?:\\u200d(?:"+[Et,Rt,_t].join("|")+")[\\ufe0e\\ufe0f]?"+Lt+")*"),St="(?:"+[gt,Rt,_t].join("|")+")"+xt,kt="(?:"+[Et+yt+"?",yt,Rt,_t,vt].join("|")+")",jt=RegExp("['’]","g"),Pt=RegExp(yt,"g"),wt=RegExp(Tt+"(?="+Tt+")|"+kt+xt,"g"),Ct=RegExp([Nt+"?"+bt+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[dt,Nt,"$"].join("|")+")",At+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[dt,Nt+It,"$"].join("|")+")",Nt+"?"+It+"+(?:['’](?:d|ll|m|re|s|t|ve))?",Nt+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",mt,St].join("|"),"g"),Mt=RegExp("[\\u200d\\ud800-\\udfff"+ht+"\\ufe0e\\ufe0f]"),Xt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ut=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Dt=-1,Ft={};Ft[N]=Ft[I]=Ft[A]=Ft[L]=Ft[x]=Ft[S]=Ft["[object Uint8ClampedArray]"]=Ft[k]=Ft[j]=!0,Ft[c]=Ft[s]=Ft[R]=Ft[f]=Ft[_]=Ft[l]=Ft[h]=Ft[p]=Ft[d]=Ft[y]=Ft[m]=Ft[g]=Ft[b]=Ft[O]=Ft[E]=!1;var zt={};zt[c]=zt[s]=zt[R]=zt[_]=zt[f]=zt[l]=zt[N]=zt[I]=zt[A]=zt[L]=zt[x]=zt[d]=zt[y]=zt[m]=zt[g]=zt[b]=zt[O]=zt[T]=zt[S]=zt["[object Uint8ClampedArray]"]=zt[k]=zt[j]=!0,zt[h]=zt[p]=zt[E]=!1;var Gt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Bt=parseFloat,Ht=parseInt,Wt="object"==typeof t&&t&&t.Object===Object&&t,Kt="object"==typeof self&&self&&self.Object===Object&&self,Vt=Wt||Kt||Function("return this")(),Yt=e&&!e.nodeType&&e,qt=Yt&&"object"==typeof r&&r&&!r.nodeType&&r,Zt=qt&&qt.exports===Yt,Jt=Zt&&Wt.process,Qt=function(){try{var t=qt&&qt.require&&qt.require("util").types;return t||Jt&&Jt.binding&&Jt.binding("util")}catch(t){}}(),$t=Qt&&Qt.isArrayBuffer,te=Qt&&Qt.isDate,ee=Qt&&Qt.isMap,ne=Qt&&Qt.isRegExp,re=Qt&&Qt.isSet,ie=Qt&&Qt.isTypedArray;function oe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function ae(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function ue(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function ce(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function se(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function fe(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function le(t,e){return!!(null==t?0:t.length)&&Te(t,e,0)>-1}function he(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function pe(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function ve(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function de(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function ye(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function me(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var ge=Ne("length");function be(t,e,n){var r;return n(t,(function(t,n,i){if(e(t,n,i))return r=n,!1})),r}function Oe(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function Te(t,e,n){return e==e?function(t,e,n){var r=n-1,i=t.length;for(;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):Oe(t,Re,n)}function Ee(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function Re(t){return t!=t}function _e(t,e){var n=null==t?0:t.length;return n?Le(t,e)/n:NaN}function Ne(t){return function(e){return null==e?void 0:e[t]}}function Ie(t){return function(e){return null==t?void 0:t[e]}}function Ae(t,e,n,r,i){return i(t,(function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)})),n}function Le(t,e){for(var n,r=-1,i=t.length;++r<i;){var o=e(t[r]);void 0!==o&&(n=void 0===n?o:n+o)}return n}function xe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function Se(t){return function(e){return t(e)}}function ke(t,e){return pe(e,(function(e){return t[e]}))}function je(t,e){return t.has(e)}function Pe(t,e){for(var n=-1,r=t.length;++n<r&&Te(e,t[n],0)>-1;);return n}function we(t,e){for(var n=t.length;n--&&Te(e,t[n],0)>-1;);return n}function Ce(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}var Me=Ie({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Xe=Ie({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Ue(t){return"\\"+Gt[t]}function De(t){return Mt.test(t)}function Fe(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function ze(t,e){return function(n){return t(e(n))}}function Ge(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var u=t[n];u!==e&&u!==a||(t[n]=a,o[i++]=n)}return o}function Be(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function He(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function We(t){return De(t)?function(t){var e=wt.lastIndex=0;for(;wt.test(t);)++e;return e}(t):ge(t)}function Ke(t){return De(t)?function(t){return t.match(wt)||[]}(t):function(t){return t.split("")}(t)}var Ve=Ie({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Ye=function t(e){var n,r=(e=null==e?Vt:Ye.defaults(Vt.Object(),e,Ye.pick(Vt,Ut))).Array,i=e.Date,ht=e.Error,pt=e.Function,vt=e.Math,dt=e.Object,yt=e.RegExp,mt=e.String,gt=e.TypeError,bt=r.prototype,Ot=pt.prototype,Tt=dt.prototype,Et=e["__core-js_shared__"],Rt=Ot.toString,_t=Tt.hasOwnProperty,Nt=0,It=(n=/[^.]+$/.exec(Et&&Et.keys&&Et.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",At=Tt.toString,Lt=Rt.call(dt),xt=Vt._,St=yt("^"+Rt.call(_t).replace(K,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),kt=Zt?e.Buffer:void 0,wt=e.Symbol,Mt=e.Uint8Array,Gt=kt?kt.allocUnsafe:void 0,Wt=ze(dt.getPrototypeOf,dt),Kt=dt.create,Yt=Tt.propertyIsEnumerable,qt=bt.splice,Jt=wt?wt.isConcatSpreadable:void 0,Qt=wt?wt.iterator:void 0,ge=wt?wt.toStringTag:void 0,Ie=function(){try{var t=$i(dt,"defineProperty");return t({},"",{}),t}catch(t){}}(),qe=e.clearTimeout!==Vt.clearTimeout&&e.clearTimeout,Ze=i&&i.now!==Vt.Date.now&&i.now,Je=e.setTimeout!==Vt.setTimeout&&e.setTimeout,Qe=vt.ceil,$e=vt.floor,tn=dt.getOwnPropertySymbols,en=kt?kt.isBuffer:void 0,nn=e.isFinite,rn=bt.join,on=ze(dt.keys,dt),an=vt.max,un=vt.min,cn=i.now,sn=e.parseInt,fn=vt.random,ln=bt.reverse,hn=$i(e,"DataView"),pn=$i(e,"Map"),vn=$i(e,"Promise"),dn=$i(e,"Set"),yn=$i(e,"WeakMap"),mn=$i(dt,"create"),gn=yn&&new yn,bn={},On=Ao(hn),Tn=Ao(pn),En=Ao(vn),Rn=Ao(dn),_n=Ao(yn),Nn=wt?wt.prototype:void 0,In=Nn?Nn.valueOf:void 0,An=Nn?Nn.toString:void 0;function Ln(t){if(Ha(t)&&!Pa(t)&&!(t instanceof jn)){if(t instanceof kn)return t;if(_t.call(t,"__wrapped__"))return Lo(t)}return new kn(t)}var xn=function(){function t(){}return function(e){if(!Ba(e))return{};if(Kt)return Kt(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function Sn(){}function kn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}function jn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Pn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function wn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Cn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Mn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Cn;++e<n;)this.add(t[e])}function Xn(t){var e=this.__data__=new wn(t);this.size=e.size}function Un(t,e){var n=Pa(t),r=!n&&ja(t),i=!n&&!r&&Xa(t),o=!n&&!r&&!i&&Qa(t),a=n||r||i||o,u=a?xe(t.length,mt):[],c=u.length;for(var s in t)!e&&!_t.call(t,s)||a&&("length"==s||i&&("offset"==s||"parent"==s)||o&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||ao(s,c))||u.push(s);return u}function Dn(t){var e=t.length;return e?t[Mr(0,e-1)]:void 0}function Fn(t,e){return _o(mi(t),qn(e,0,t.length))}function zn(t){return _o(mi(t))}function Gn(t,e,n){(void 0!==n&&!xa(t[e],n)||void 0===n&&!(e in t))&&Vn(t,e,n)}function Bn(t,e,n){var r=t[e];_t.call(t,e)&&xa(r,n)&&(void 0!==n||e in t)||Vn(t,e,n)}function Hn(t,e){for(var n=t.length;n--;)if(xa(t[n][0],e))return n;return-1}function Wn(t,e,n,r){return tr(t,(function(t,i,o){e(r,t,n(t),o)})),r}function Kn(t,e){return t&&gi(e,Ou(e),t)}function Vn(t,e,n){"__proto__"==e&&Ie?Ie(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Yn(t,e){for(var n=-1,i=e.length,o=r(i),a=null==t;++n<i;)o[n]=a?void 0:du(t,e[n]);return o}function qn(t,e,n){return t==t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t}function Zn(t,e,n,r,i,o){var a,u=1&e,s=2&e,h=4&e;if(n&&(a=i?n(t,r,i,o):n(t)),void 0!==a)return a;if(!Ba(t))return t;var E=Pa(t);if(E){if(a=function(t){var e=t.length,n=new t.constructor(e);e&&"string"==typeof t[0]&&_t.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!u)return mi(t,a)}else{var P=no(t),w=P==p||P==v;if(Xa(t))return li(t,u);if(P==m||P==c||w&&!i){if(a=s||w?{}:io(t),!u)return s?function(t,e){return gi(t,eo(t),e)}(t,function(t,e){return t&&gi(e,Tu(e),t)}(a,t)):function(t,e){return gi(t,to(t),e)}(t,Kn(a,t))}else{if(!zt[P])return i?t:{};a=function(t,e,n){var r=t.constructor;switch(e){case R:return hi(t);case f:case l:return new r(+t);case _:return function(t,e){var n=e?hi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case N:case I:case A:case L:case x:case S:case"[object Uint8ClampedArray]":case k:case j:return pi(t,n);case d:return new r;case y:case O:return new r(t);case g:return function(t){var e=new t.constructor(t.source,rt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case b:return new r;case T:return i=t,In?dt(In.call(i)):{}}var i}(t,P,u)}}o||(o=new Xn);var C=o.get(t);if(C)return C;o.set(t,a),qa(t)?t.forEach((function(r){a.add(Zn(r,e,n,r,t,o))})):Wa(t)&&t.forEach((function(r,i){a.set(i,Zn(r,e,n,i,t,o))}));var M=E?void 0:(h?s?Ki:Wi:s?Tu:Ou)(t);return ue(M||t,(function(r,i){M&&(r=t[i=r]),Bn(a,i,Zn(r,e,n,i,t,o))})),a}function Jn(t,e,n){var r=n.length;if(null==t)return!r;for(t=dt(t);r--;){var i=n[r],o=e[i],a=t[i];if(void 0===a&&!(i in t)||!o(a))return!1}return!0}function Qn(t,e,n){if("function"!=typeof t)throw new gt(o);return Oo((function(){t.apply(void 0,n)}),e)}function $n(t,e,n,r){var i=-1,o=le,a=!0,u=t.length,c=[],s=e.length;if(!u)return c;n&&(e=pe(e,Se(n))),r?(o=he,a=!1):e.length>=200&&(o=je,a=!1,e=new Mn(e));t:for(;++i<u;){var f=t[i],l=null==n?f:n(f);if(f=r||0!==f?f:0,a&&l==l){for(var h=s;h--;)if(e[h]===l)continue t;c.push(f)}else o(e,l,r)||c.push(f)}return c}Ln.templateSettings={escape:F,evaluate:z,interpolate:G,variable:"",imports:{_:Ln}},Ln.prototype=Sn.prototype,Ln.prototype.constructor=Ln,kn.prototype=xn(Sn.prototype),kn.prototype.constructor=kn,jn.prototype=xn(Sn.prototype),jn.prototype.constructor=jn,Pn.prototype.clear=function(){this.__data__=mn?mn(null):{},this.size=0},Pn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Pn.prototype.get=function(t){var e=this.__data__;if(mn){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return _t.call(e,t)?e[t]:void 0},Pn.prototype.has=function(t){var e=this.__data__;return mn?void 0!==e[t]:_t.call(e,t)},Pn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=mn&&void 0===e?"__lodash_hash_undefined__":e,this},wn.prototype.clear=function(){this.__data__=[],this.size=0},wn.prototype.delete=function(t){var e=this.__data__,n=Hn(e,t);return!(n<0)&&(n==e.length-1?e.pop():qt.call(e,n,1),--this.size,!0)},wn.prototype.get=function(t){var e=this.__data__,n=Hn(e,t);return n<0?void 0:e[n][1]},wn.prototype.has=function(t){return Hn(this.__data__,t)>-1},wn.prototype.set=function(t,e){var n=this.__data__,r=Hn(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Cn.prototype.clear=function(){this.size=0,this.__data__={hash:new Pn,map:new(pn||wn),string:new Pn}},Cn.prototype.delete=function(t){var e=Ji(this,t).delete(t);return this.size-=e?1:0,e},Cn.prototype.get=function(t){return Ji(this,t).get(t)},Cn.prototype.has=function(t){return Ji(this,t).has(t)},Cn.prototype.set=function(t,e){var n=Ji(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Mn.prototype.add=Mn.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Mn.prototype.has=function(t){return this.__data__.has(t)},Xn.prototype.clear=function(){this.__data__=new wn,this.size=0},Xn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Xn.prototype.get=function(t){return this.__data__.get(t)},Xn.prototype.has=function(t){return this.__data__.has(t)},Xn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof wn){var r=n.__data__;if(!pn||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Cn(r)}return n.set(t,e),this.size=n.size,this};var tr=Ti(cr),er=Ti(sr,!0);function nr(t,e){var n=!0;return tr(t,(function(t,r,i){return n=!!e(t,r,i)})),n}function rr(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(null!=a&&(void 0===u?a==a&&!Ja(a):n(a,u)))var u=a,c=o}return c}function ir(t,e){var n=[];return tr(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}function or(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=oo),i||(i=[]);++o<a;){var u=t[o];e>0&&n(u)?e>1?or(u,e-1,n,r,i):ve(i,u):r||(i[i.length]=u)}return i}var ar=Ei(),ur=Ei(!0);function cr(t,e){return t&&ar(t,e,Ou)}function sr(t,e){return t&&ur(t,e,Ou)}function fr(t,e){return fe(e,(function(e){return Fa(t[e])}))}function lr(t,e){for(var n=0,r=(e=ui(e,t)).length;null!=t&&n<r;)t=t[Io(e[n++])];return n&&n==r?t:void 0}function hr(t,e,n){var r=e(t);return Pa(t)?r:ve(r,n(t))}function pr(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":ge&&ge in dt(t)?function(t){var e=_t.call(t,ge),n=t[ge];try{t[ge]=void 0;var r=!0}catch(t){}var i=At.call(t);r&&(e?t[ge]=n:delete t[ge]);return i}(t):function(t){return At.call(t)}(t)}function vr(t,e){return t>e}function dr(t,e){return null!=t&&_t.call(t,e)}function yr(t,e){return null!=t&&e in dt(t)}function mr(t,e,n){for(var i=n?he:le,o=t[0].length,a=t.length,u=a,c=r(a),s=1/0,f=[];u--;){var l=t[u];u&&e&&(l=pe(l,Se(e))),s=un(l.length,s),c[u]=!n&&(e||o>=120&&l.length>=120)?new Mn(u&&l):void 0}l=t[0];var h=-1,p=c[0];t:for(;++h<o&&f.length<s;){var v=l[h],d=e?e(v):v;if(v=n||0!==v?v:0,!(p?je(p,d):i(f,d,n))){for(u=a;--u;){var y=c[u];if(!(y?je(y,d):i(t[u],d,n)))continue t}p&&p.push(d),f.push(v)}}return f}function gr(t,e,n){var r=null==(t=yo(t,e=ui(e,t)))?t:t[Io(Do(e))];return null==r?void 0:oe(r,t,n)}function br(t){return Ha(t)&&pr(t)==c}function Or(t,e,n,r,i){return t===e||(null==t||null==e||!Ha(t)&&!Ha(e)?t!=t&&e!=e:function(t,e,n,r,i,o){var a=Pa(t),u=Pa(e),p=a?s:no(t),v=u?s:no(e),E=(p=p==c?m:p)==m,N=(v=v==c?m:v)==m,I=p==v;if(I&&Xa(t)){if(!Xa(e))return!1;a=!0,E=!1}if(I&&!E)return o||(o=new Xn),a||Qa(t)?Bi(t,e,n,r,i,o):function(t,e,n,r,i,o,a){switch(n){case _:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case R:return!(t.byteLength!=e.byteLength||!o(new Mt(t),new Mt(e)));case f:case l:case y:return xa(+t,+e);case h:return t.name==e.name&&t.message==e.message;case g:case O:return t==e+"";case d:var u=Fe;case b:var c=1&r;if(u||(u=Be),t.size!=e.size&&!c)return!1;var s=a.get(t);if(s)return s==e;r|=2,a.set(t,e);var p=Bi(u(t),u(e),r,i,o,a);return a.delete(t),p;case T:if(In)return In.call(t)==In.call(e)}return!1}(t,e,p,n,r,i,o);if(!(1&n)){var A=E&&_t.call(t,"__wrapped__"),L=N&&_t.call(e,"__wrapped__");if(A||L){var x=A?t.value():t,S=L?e.value():e;return o||(o=new Xn),i(x,S,n,r,o)}}if(!I)return!1;return o||(o=new Xn),function(t,e,n,r,i,o){var a=1&n,u=Wi(t),c=u.length,s=Wi(e).length;if(c!=s&&!a)return!1;var f=c;for(;f--;){var l=u[f];if(!(a?l in e:_t.call(e,l)))return!1}var h=o.get(t);if(h&&o.get(e))return h==e;var p=!0;o.set(t,e),o.set(e,t);var v=a;for(;++f<c;){l=u[f];var d=t[l],y=e[l];if(r)var m=a?r(y,d,l,e,t,o):r(d,y,l,t,e,o);if(!(void 0===m?d===y||i(d,y,n,r,o):m)){p=!1;break}v||(v="constructor"==l)}if(p&&!v){var g=t.constructor,b=e.constructor;g==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof g&&g instanceof g&&"function"==typeof b&&b instanceof b||(p=!1)}return o.delete(t),o.delete(e),p}(t,e,n,r,i,o)}(t,e,n,r,Or,i))}function Tr(t,e,n,r){var i=n.length,o=i,a=!r;if(null==t)return!o;for(t=dt(t);i--;){var u=n[i];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++i<o;){var c=(u=n[i])[0],s=t[c],f=u[1];if(a&&u[2]){if(void 0===s&&!(c in t))return!1}else{var l=new Xn;if(r)var h=r(s,f,c,t,e,l);if(!(void 0===h?Or(f,s,3,r,l):h))return!1}}return!0}function Er(t){return!(!Ba(t)||(e=t,It&&It in e))&&(Fa(t)?St:at).test(Ao(t));var e}function Rr(t){return"function"==typeof t?t:null==t?Ku:"object"==typeof t?Pa(t)?xr(t[0],t[1]):Lr(t):ec(t)}function _r(t){if(!lo(t))return on(t);var e=[];for(var n in dt(t))_t.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Nr(t){if(!Ba(t))return function(t){var e=[];if(null!=t)for(var n in dt(t))e.push(n);return e}(t);var e=lo(t),n=[];for(var r in t)("constructor"!=r||!e&&_t.call(t,r))&&n.push(r);return n}function Ir(t,e){return t<e}function Ar(t,e){var n=-1,i=Ca(t)?r(t.length):[];return tr(t,(function(t,r,o){i[++n]=e(t,r,o)})),i}function Lr(t){var e=Qi(t);return 1==e.length&&e[0][2]?po(e[0][0],e[0][1]):function(n){return n===t||Tr(n,t,e)}}function xr(t,e){return co(t)&&ho(e)?po(Io(t),e):function(n){var r=du(n,t);return void 0===r&&r===e?yu(n,t):Or(e,r,3)}}function Sr(t,e,n,r,i){t!==e&&ar(e,(function(o,a){if(i||(i=new Xn),Ba(o))!function(t,e,n,r,i,o,a){var u=go(t,n),c=go(e,n),s=a.get(c);if(s)return void Gn(t,n,s);var f=o?o(u,c,n+"",t,e,a):void 0,l=void 0===f;if(l){var h=Pa(c),p=!h&&Xa(c),v=!h&&!p&&Qa(c);f=c,h||p||v?Pa(u)?f=u:Ma(u)?f=mi(u):p?(l=!1,f=li(c,!0)):v?(l=!1,f=pi(c,!0)):f=[]:Va(c)||ja(c)?(f=u,ja(u)?f=au(u):Ba(u)&&!Fa(u)||(f=io(c))):l=!1}l&&(a.set(c,f),i(f,c,r,o,a),a.delete(c));Gn(t,n,f)}(t,e,a,n,Sr,r,i);else{var u=r?r(go(t,a),o,a+"",t,e,i):void 0;void 0===u&&(u=o),Gn(t,a,u)}}),Tu)}function kr(t,e){var n=t.length;if(n)return ao(e+=e<0?n:0,n)?t[e]:void 0}function jr(t,e,n){var r=-1;return e=pe(e.length?e:[Ku],Se(Zi())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(Ar(t,(function(t,n,i){return{criteria:pe(e,(function(e){return e(t)})),index:++r,value:t}})),(function(t,e){return function(t,e,n){var r=-1,i=t.criteria,o=e.criteria,a=i.length,u=n.length;for(;++r<a;){var c=vi(i[r],o[r]);if(c){if(r>=u)return c;var s=n[r];return c*("desc"==s?-1:1)}}return t.index-e.index}(t,e,n)}))}function Pr(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],u=lr(t,a);n(u,a)&&zr(o,ui(a,t),u)}return o}function wr(t,e,n,r){var i=r?Ee:Te,o=-1,a=e.length,u=t;for(t===e&&(e=mi(e)),n&&(u=pe(t,Se(n)));++o<a;)for(var c=0,s=e[o],f=n?n(s):s;(c=i(u,f,c,r))>-1;)u!==t&&qt.call(u,c,1),qt.call(t,c,1);return t}function Cr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;ao(i)?qt.call(t,i,1):$r(t,i)}}return t}function Mr(t,e){return t+$e(fn()*(e-t+1))}function Xr(t,e){var n="";if(!t||e<1||e>9007199254740991)return n;do{e%2&&(n+=t),(e=$e(e/2))&&(t+=t)}while(e);return n}function Ur(t,e){return To(vo(t,e,Ku),t+"")}function Dr(t){return Dn(xu(t))}function Fr(t,e){var n=xu(t);return _o(n,qn(e,0,n.length))}function zr(t,e,n,r){if(!Ba(t))return t;for(var i=-1,o=(e=ui(e,t)).length,a=o-1,u=t;null!=u&&++i<o;){var c=Io(e[i]),s=n;if(i!=a){var f=u[c];void 0===(s=r?r(f,c,u):void 0)&&(s=Ba(f)?f:ao(e[i+1])?[]:{})}Bn(u,c,s),u=u[c]}return t}var Gr=gn?function(t,e){return gn.set(t,e),t}:Ku,Br=Ie?function(t,e){return Ie(t,"toString",{configurable:!0,enumerable:!1,value:Bu(e),writable:!0})}:Ku;function Hr(t){return _o(xu(t))}function Wr(t,e,n){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var a=r(o);++i<o;)a[i]=t[i+e];return a}function Kr(t,e){var n;return tr(t,(function(t,r,i){return!(n=e(t,r,i))})),!!n}function Vr(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!Ja(a)&&(n?a<=e:a<e)?r=o+1:i=o}return i}return Yr(t,e,Ku,n)}function Yr(t,e,n,r){e=n(e);for(var i=0,o=null==t?0:t.length,a=e!=e,u=null===e,c=Ja(e),s=void 0===e;i<o;){var f=$e((i+o)/2),l=n(t[f]),h=void 0!==l,p=null===l,v=l==l,d=Ja(l);if(a)var y=r||v;else y=s?v&&(r||h):u?v&&h&&(r||!p):c?v&&h&&!p&&(r||!d):!p&&!d&&(r?l<=e:l<e);y?i=f+1:o=f}return un(o,4294967294)}function qr(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n],u=e?e(a):a;if(!n||!xa(u,c)){var c=u;o[i++]=0===a?0:a}}return o}function Zr(t){return"number"==typeof t?t:Ja(t)?NaN:+t}function Jr(t){if("string"==typeof t)return t;if(Pa(t))return pe(t,Jr)+"";if(Ja(t))return An?An.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Qr(t,e,n){var r=-1,i=le,o=t.length,a=!0,u=[],c=u;if(n)a=!1,i=he;else if(o>=200){var s=e?null:Xi(t);if(s)return Be(s);a=!1,i=je,c=new Mn}else c=e?[]:u;t:for(;++r<o;){var f=t[r],l=e?e(f):f;if(f=n||0!==f?f:0,a&&l==l){for(var h=c.length;h--;)if(c[h]===l)continue t;e&&c.push(l),u.push(f)}else i(c,l,n)||(c!==u&&c.push(l),u.push(f))}return u}function $r(t,e){return null==(t=yo(t,e=ui(e,t)))||delete t[Io(Do(e))]}function ti(t,e,n,r){return zr(t,e,n(lr(t,e)),r)}function ei(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?Wr(t,r?0:o,r?o+1:i):Wr(t,r?o+1:0,r?i:o)}function ni(t,e){var n=t;return n instanceof jn&&(n=n.value()),de(e,(function(t,e){return e.func.apply(e.thisArg,ve([t],e.args))}),n)}function ri(t,e,n){var i=t.length;if(i<2)return i?Qr(t[0]):[];for(var o=-1,a=r(i);++o<i;)for(var u=t[o],c=-1;++c<i;)c!=o&&(a[o]=$n(a[o]||u,t[c],e,n));return Qr(or(a,1),e,n)}function ii(t,e,n){for(var r=-1,i=t.length,o=e.length,a={};++r<i;){var u=r<o?e[r]:void 0;n(a,t[r],u)}return a}function oi(t){return Ma(t)?t:[]}function ai(t){return"function"==typeof t?t:Ku}function ui(t,e){return Pa(t)?t:co(t,e)?[t]:No(uu(t))}var ci=Ur;function si(t,e,n){var r=t.length;return n=void 0===n?r:n,!e&&n>=r?t:Wr(t,e,n)}var fi=qe||function(t){return Vt.clearTimeout(t)};function li(t,e){if(e)return t.slice();var n=t.length,r=Gt?Gt(n):new t.constructor(n);return t.copy(r),r}function hi(t){var e=new t.constructor(t.byteLength);return new Mt(e).set(new Mt(t)),e}function pi(t,e){var n=e?hi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function vi(t,e){if(t!==e){var n=void 0!==t,r=null===t,i=t==t,o=Ja(t),a=void 0!==e,u=null===e,c=e==e,s=Ja(e);if(!u&&!s&&!o&&t>e||o&&a&&c&&!u&&!s||r&&a&&c||!n&&c||!i)return 1;if(!r&&!o&&!s&&t<e||s&&n&&i&&!r&&!o||u&&n&&i||!a&&i||!c)return-1}return 0}function di(t,e,n,i){for(var o=-1,a=t.length,u=n.length,c=-1,s=e.length,f=an(a-u,0),l=r(s+f),h=!i;++c<s;)l[c]=e[c];for(;++o<u;)(h||o<a)&&(l[n[o]]=t[o]);for(;f--;)l[c++]=t[o++];return l}function yi(t,e,n,i){for(var o=-1,a=t.length,u=-1,c=n.length,s=-1,f=e.length,l=an(a-c,0),h=r(l+f),p=!i;++o<l;)h[o]=t[o];for(var v=o;++s<f;)h[v+s]=e[s];for(;++u<c;)(p||o<a)&&(h[v+n[u]]=t[o++]);return h}function mi(t,e){var n=-1,i=t.length;for(e||(e=r(i));++n<i;)e[n]=t[n];return e}function gi(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var u=e[o],c=r?r(n[u],t[u],u,n,t):void 0;void 0===c&&(c=t[u]),i?Vn(n,u,c):Bn(n,u,c)}return n}function bi(t,e){return function(n,r){var i=Pa(n)?ae:Wn,o=e?e():{};return i(n,t,Zi(r,2),o)}}function Oi(t){return Ur((function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=t.length>3&&"function"==typeof o?(i--,o):void 0,a&&uo(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),e=dt(e);++r<i;){var u=n[r];u&&t(e,u,r,o)}return e}))}function Ti(t,e){return function(n,r){if(null==n)return n;if(!Ca(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=dt(n);(e?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function Ei(t){return function(e,n,r){for(var i=-1,o=dt(e),a=r(e),u=a.length;u--;){var c=a[t?u:++i];if(!1===n(o[c],c,o))break}return e}}function Ri(t){return function(e){var n=De(e=uu(e))?Ke(e):void 0,r=n?n[0]:e.charAt(0),i=n?si(n,1).join(""):e.slice(1);return r[t]()+i}}function _i(t){return function(e){return de(Fu(ju(e).replace(jt,"")),t,"")}}function Ni(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=xn(t.prototype),r=t.apply(n,e);return Ba(r)?r:n}}function Ii(t){return function(e,n,r){var i=dt(e);if(!Ca(e)){var o=Zi(n,3);e=Ou(e),n=function(t){return o(i[t],t,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}function Ai(t){return Hi((function(e){var n=e.length,r=n,i=kn.prototype.thru;for(t&&e.reverse();r--;){var a=e[r];if("function"!=typeof a)throw new gt(o);if(i&&!u&&"wrapper"==Yi(a))var u=new kn([],!0)}for(r=u?r:n;++r<n;){var c=Yi(a=e[r]),s="wrapper"==c?Vi(a):void 0;u=s&&so(s[0])&&424==s[1]&&!s[4].length&&1==s[9]?u[Yi(s[0])].apply(u,s[3]):1==a.length&&so(a)?u[c]():u.thru(a)}return function(){var t=arguments,r=t[0];if(u&&1==t.length&&Pa(r))return u.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}}))}function Li(t,e,n,i,o,a,u,c,s,f){var l=128&e,h=1&e,p=2&e,v=24&e,d=512&e,y=p?void 0:Ni(t);return function m(){for(var g=arguments.length,b=r(g),O=g;O--;)b[O]=arguments[O];if(v)var T=qi(m),E=Ce(b,T);if(i&&(b=di(b,i,o,v)),a&&(b=yi(b,a,u,v)),g-=E,v&&g<f){var R=Ge(b,T);return Ci(t,e,Li,m.placeholder,n,b,R,c,s,f-g)}var _=h?n:this,N=p?_[t]:t;return g=b.length,c?b=mo(b,c):d&&g>1&&b.reverse(),l&&s<g&&(b.length=s),this&&this!==Vt&&this instanceof m&&(N=y||Ni(N)),N.apply(_,b)}}function xi(t,e){return function(n,r){return function(t,e,n,r){return cr(t,(function(t,i,o){e(r,n(t),i,o)})),r}(n,t,e(r),{})}}function Si(t,e){return function(n,r){var i;if(void 0===n&&void 0===r)return e;if(void 0!==n&&(i=n),void 0!==r){if(void 0===i)return r;"string"==typeof n||"string"==typeof r?(n=Jr(n),r=Jr(r)):(n=Zr(n),r=Zr(r)),i=t(n,r)}return i}}function ki(t){return Hi((function(e){return e=pe(e,Se(Zi())),Ur((function(n){var r=this;return t(e,(function(t){return oe(t,r,n)}))}))}))}function ji(t,e){var n=(e=void 0===e?" ":Jr(e)).length;if(n<2)return n?Xr(e,t):e;var r=Xr(e,Qe(t/We(e)));return De(e)?si(Ke(r),0,t).join(""):r.slice(0,t)}function Pi(t){return function(e,n,i){return i&&"number"!=typeof i&&uo(e,n,i)&&(n=i=void 0),e=nu(e),void 0===n?(n=e,e=0):n=nu(n),function(t,e,n,i){for(var o=-1,a=an(Qe((e-t)/(n||1)),0),u=r(a);a--;)u[i?a:++o]=t,t+=n;return u}(e,n,i=void 0===i?e<n?1:-1:nu(i),t)}}function wi(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=ou(e),n=ou(n)),t(e,n)}}function Ci(t,e,n,r,i,o,a,u,c,s){var f=8&e;e|=f?32:64,4&(e&=~(f?64:32))||(e&=-4);var l=[t,e,i,f?o:void 0,f?a:void 0,f?void 0:o,f?void 0:a,u,c,s],h=n.apply(void 0,l);return so(t)&&bo(h,l),h.placeholder=r,Eo(h,t,e)}function Mi(t){var e=vt[t];return function(t,n){if(t=ou(t),(n=null==n?0:un(ru(n),292))&&nn(t)){var r=(uu(t)+"e").split("e");return+((r=(uu(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var Xi=dn&&1/Be(new dn([,-0]))[1]==1/0?function(t){return new dn(t)}:Ju;function Ui(t){return function(e){var n=no(e);return n==d?Fe(e):n==b?He(e):function(t,e){return pe(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Di(t,e,n,i,u,c,s,f){var l=2&e;if(!l&&"function"!=typeof t)throw new gt(o);var h=i?i.length:0;if(h||(e&=-97,i=u=void 0),s=void 0===s?s:an(ru(s),0),f=void 0===f?f:ru(f),h-=u?u.length:0,64&e){var p=i,v=u;i=u=void 0}var d=l?void 0:Vi(t),y=[t,e,n,i,u,p,v,c,s,f];if(d&&function(t,e){var n=t[1],r=e[1],i=n|r,o=i<131,u=128==r&&8==n||128==r&&256==n&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n;if(!o&&!u)return t;1&r&&(t[2]=e[2],i|=1&n?0:4);var c=e[3];if(c){var s=t[3];t[3]=s?di(s,c,e[4]):c,t[4]=s?Ge(t[3],a):e[4]}(c=e[5])&&(s=t[5],t[5]=s?yi(s,c,e[6]):c,t[6]=s?Ge(t[5],a):e[6]);(c=e[7])&&(t[7]=c);128&r&&(t[8]=null==t[8]?e[8]:un(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=i}(y,d),t=y[0],e=y[1],n=y[2],i=y[3],u=y[4],!(f=y[9]=void 0===y[9]?l?0:t.length:an(y[9]-h,0))&&24&e&&(e&=-25),e&&1!=e)m=8==e||16==e?function(t,e,n){var i=Ni(t);return function o(){for(var a=arguments.length,u=r(a),c=a,s=qi(o);c--;)u[c]=arguments[c];var f=a<3&&u[0]!==s&&u[a-1]!==s?[]:Ge(u,s);if((a-=f.length)<n)return Ci(t,e,Li,o.placeholder,void 0,u,f,void 0,void 0,n-a);var l=this&&this!==Vt&&this instanceof o?i:t;return oe(l,this,u)}}(t,e,f):32!=e&&33!=e||u.length?Li.apply(void 0,y):function(t,e,n,i){var o=1&e,a=Ni(t);return function e(){for(var u=-1,c=arguments.length,s=-1,f=i.length,l=r(f+c),h=this&&this!==Vt&&this instanceof e?a:t;++s<f;)l[s]=i[s];for(;c--;)l[s++]=arguments[++u];return oe(h,o?n:this,l)}}(t,e,n,i);else var m=function(t,e,n){var r=1&e,i=Ni(t);return function e(){var o=this&&this!==Vt&&this instanceof e?i:t;return o.apply(r?n:this,arguments)}}(t,e,n);return Eo((d?Gr:bo)(m,y),t,e)}function Fi(t,e,n,r){return void 0===t||xa(t,Tt[n])&&!_t.call(r,n)?e:t}function zi(t,e,n,r,i,o){return Ba(t)&&Ba(e)&&(o.set(e,t),Sr(t,e,void 0,zi,o),o.delete(e)),t}function Gi(t){return Va(t)?void 0:t}function Bi(t,e,n,r,i,o){var a=1&n,u=t.length,c=e.length;if(u!=c&&!(a&&c>u))return!1;var s=o.get(t);if(s&&o.get(e))return s==e;var f=-1,l=!0,h=2&n?new Mn:void 0;for(o.set(t,e),o.set(e,t);++f<u;){var p=t[f],v=e[f];if(r)var d=a?r(v,p,f,e,t,o):r(p,v,f,t,e,o);if(void 0!==d){if(d)continue;l=!1;break}if(h){if(!me(e,(function(t,e){if(!je(h,e)&&(p===t||i(p,t,n,r,o)))return h.push(e)}))){l=!1;break}}else if(p!==v&&!i(p,v,n,r,o)){l=!1;break}}return o.delete(t),o.delete(e),l}function Hi(t){return To(vo(t,void 0,wo),t+"")}function Wi(t){return hr(t,Ou,to)}function Ki(t){return hr(t,Tu,eo)}var Vi=gn?function(t){return gn.get(t)}:Ju;function Yi(t){for(var e=t.name+"",n=bn[e],r=_t.call(bn,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function qi(t){return(_t.call(Ln,"placeholder")?Ln:t).placeholder}function Zi(){var t=Ln.iteratee||Vu;return t=t===Vu?Rr:t,arguments.length?t(arguments[0],arguments[1]):t}function Ji(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function Qi(t){for(var e=Ou(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,ho(i)]}return e}function $i(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Er(n)?n:void 0}var to=tn?function(t){return null==t?[]:(t=dt(t),fe(tn(t),(function(e){return Yt.call(t,e)})))}:ic,eo=tn?function(t){for(var e=[];t;)ve(e,to(t)),t=Wt(t);return e}:ic,no=pr;function ro(t,e,n){for(var r=-1,i=(e=ui(e,t)).length,o=!1;++r<i;){var a=Io(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Ga(i)&&ao(a,i)&&(Pa(t)||ja(t))}function io(t){return"function"!=typeof t.constructor||lo(t)?{}:xn(Wt(t))}function oo(t){return Pa(t)||ja(t)||!!(Jt&&t&&t[Jt])}function ao(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&ct.test(t))&&t>-1&&t%1==0&&t<e}function uo(t,e,n){if(!Ba(n))return!1;var r=typeof e;return!!("number"==r?Ca(n)&&ao(e,n.length):"string"==r&&e in n)&&xa(n[e],t)}function co(t,e){if(Pa(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Ja(t))||(H.test(t)||!B.test(t)||null!=e&&t in dt(e))}function so(t){var e=Yi(t),n=Ln[e];if("function"!=typeof n||!(e in jn.prototype))return!1;if(t===n)return!0;var r=Vi(n);return!!r&&t===r[0]}(hn&&no(new hn(new ArrayBuffer(1)))!=_||pn&&no(new pn)!=d||vn&&"[object Promise]"!=no(vn.resolve())||dn&&no(new dn)!=b||yn&&no(new yn)!=E)&&(no=function(t){var e=pr(t),n=e==m?t.constructor:void 0,r=n?Ao(n):"";if(r)switch(r){case On:return _;case Tn:return d;case En:return"[object Promise]";case Rn:return b;case _n:return E}return e});var fo=Et?Fa:oc;function lo(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Tt)}function ho(t){return t==t&&!Ba(t)}function po(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in dt(n)))}}function vo(t,e,n){return e=an(void 0===e?t.length-1:e,0),function(){for(var i=arguments,o=-1,a=an(i.length-e,0),u=r(a);++o<a;)u[o]=i[e+o];o=-1;for(var c=r(e+1);++o<e;)c[o]=i[o];return c[e]=n(u),oe(t,this,c)}}function yo(t,e){return e.length<2?t:lr(t,Wr(e,0,-1))}function mo(t,e){for(var n=t.length,r=un(e.length,n),i=mi(t);r--;){var o=e[r];t[r]=ao(o,n)?i[o]:void 0}return t}function go(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var bo=Ro(Gr),Oo=Je||function(t,e){return Vt.setTimeout(t,e)},To=Ro(Br);function Eo(t,e,n){var r=e+"";return To(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(J,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return ue(u,(function(n){var r="_."+n[0];e&n[1]&&!le(t,r)&&t.push(r)})),t.sort()}(function(t){var e=t.match(Q);return e?e[1].split($):[]}(r),n)))}function Ro(t){var e=0,n=0;return function(){var r=cn(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function _o(t,e){var n=-1,r=t.length,i=r-1;for(e=void 0===e?r:e;++n<e;){var o=Mr(n,i),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t}var No=function(t){var e=Ra(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(W,(function(t,n,r,i){e.push(r?i.replace(et,"$1"):n||t)})),e}));function Io(t){if("string"==typeof t||Ja(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Ao(t){if(null!=t){try{return Rt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Lo(t){if(t instanceof jn)return t.clone();var e=new kn(t.__wrapped__,t.__chain__);return e.__actions__=mi(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var xo=Ur((function(t,e){return Ma(t)?$n(t,or(e,1,Ma,!0)):[]})),So=Ur((function(t,e){var n=Do(e);return Ma(n)&&(n=void 0),Ma(t)?$n(t,or(e,1,Ma,!0),Zi(n,2)):[]})),ko=Ur((function(t,e){var n=Do(e);return Ma(n)&&(n=void 0),Ma(t)?$n(t,or(e,1,Ma,!0),void 0,n):[]}));function jo(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:ru(n);return i<0&&(i=an(r+i,0)),Oe(t,Zi(e,3),i)}function Po(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return void 0!==n&&(i=ru(n),i=n<0?an(r+i,0):un(i,r-1)),Oe(t,Zi(e,3),i,!0)}function wo(t){return(null==t?0:t.length)?or(t,1):[]}function Co(t){return t&&t.length?t[0]:void 0}var Mo=Ur((function(t){var e=pe(t,oi);return e.length&&e[0]===t[0]?mr(e):[]})),Xo=Ur((function(t){var e=Do(t),n=pe(t,oi);return e===Do(n)?e=void 0:n.pop(),n.length&&n[0]===t[0]?mr(n,Zi(e,2)):[]})),Uo=Ur((function(t){var e=Do(t),n=pe(t,oi);return(e="function"==typeof e?e:void 0)&&n.pop(),n.length&&n[0]===t[0]?mr(n,void 0,e):[]}));function Do(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}var Fo=Ur(zo);function zo(t,e){return t&&t.length&&e&&e.length?wr(t,e):t}var Go=Hi((function(t,e){var n=null==t?0:t.length,r=Yn(t,e);return Cr(t,pe(e,(function(t){return ao(t,n)?+t:t})).sort(vi)),r}));function Bo(t){return null==t?t:ln.call(t)}var Ho=Ur((function(t){return Qr(or(t,1,Ma,!0))})),Wo=Ur((function(t){var e=Do(t);return Ma(e)&&(e=void 0),Qr(or(t,1,Ma,!0),Zi(e,2))})),Ko=Ur((function(t){var e=Do(t);return e="function"==typeof e?e:void 0,Qr(or(t,1,Ma,!0),void 0,e)}));function Vo(t){if(!t||!t.length)return[];var e=0;return t=fe(t,(function(t){if(Ma(t))return e=an(t.length,e),!0})),xe(e,(function(e){return pe(t,Ne(e))}))}function Yo(t,e){if(!t||!t.length)return[];var n=Vo(t);return null==e?n:pe(n,(function(t){return oe(e,void 0,t)}))}var qo=Ur((function(t,e){return Ma(t)?$n(t,e):[]})),Zo=Ur((function(t){return ri(fe(t,Ma))})),Jo=Ur((function(t){var e=Do(t);return Ma(e)&&(e=void 0),ri(fe(t,Ma),Zi(e,2))})),Qo=Ur((function(t){var e=Do(t);return e="function"==typeof e?e:void 0,ri(fe(t,Ma),void 0,e)})),$o=Ur(Vo);var ta=Ur((function(t){var e=t.length,n=e>1?t[e-1]:void 0;return n="function"==typeof n?(t.pop(),n):void 0,Yo(t,n)}));function ea(t){var e=Ln(t);return e.__chain__=!0,e}function na(t,e){return e(t)}var ra=Hi((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,i=function(e){return Yn(e,t)};return!(e>1||this.__actions__.length)&&r instanceof jn&&ao(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:na,args:[i],thisArg:void 0}),new kn(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(void 0),t}))):this.thru(i)}));var ia=bi((function(t,e,n){_t.call(t,n)?++t[n]:Vn(t,n,1)}));var oa=Ii(jo),aa=Ii(Po);function ua(t,e){return(Pa(t)?ue:tr)(t,Zi(e,3))}function ca(t,e){return(Pa(t)?ce:er)(t,Zi(e,3))}var sa=bi((function(t,e,n){_t.call(t,n)?t[n].push(e):Vn(t,n,[e])}));var fa=Ur((function(t,e,n){var i=-1,o="function"==typeof e,a=Ca(t)?r(t.length):[];return tr(t,(function(t){a[++i]=o?oe(e,t,n):gr(t,e,n)})),a})),la=bi((function(t,e,n){Vn(t,n,e)}));function ha(t,e){return(Pa(t)?pe:Ar)(t,Zi(e,3))}var pa=bi((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));var va=Ur((function(t,e){if(null==t)return[];var n=e.length;return n>1&&uo(t,e[0],e[1])?e=[]:n>2&&uo(e[0],e[1],e[2])&&(e=[e[0]]),jr(t,or(e,1),[])})),da=Ze||function(){return Vt.Date.now()};function ya(t,e,n){return e=n?void 0:e,Di(t,128,void 0,void 0,void 0,void 0,e=t&&null==e?t.length:e)}function ma(t,e){var n;if("function"!=typeof e)throw new gt(o);return t=ru(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}}var ga=Ur((function(t,e,n){var r=1;if(n.length){var i=Ge(n,qi(ga));r|=32}return Di(t,r,e,n,i)})),ba=Ur((function(t,e,n){var r=3;if(n.length){var i=Ge(n,qi(ba));r|=32}return Di(e,r,t,n,i)}));function Oa(t,e,n){var r,i,a,u,c,s,f=0,l=!1,h=!1,p=!0;if("function"!=typeof t)throw new gt(o);function v(e){var n=r,o=i;return r=i=void 0,f=e,u=t.apply(o,n)}function d(t){return f=t,c=Oo(m,e),l?v(t):u}function y(t){var n=t-s;return void 0===s||n>=e||n<0||h&&t-f>=a}function m(){var t=da();if(y(t))return g(t);c=Oo(m,function(t){var n=e-(t-s);return h?un(n,a-(t-f)):n}(t))}function g(t){return c=void 0,p&&r?v(t):(r=i=void 0,u)}function b(){var t=da(),n=y(t);if(r=arguments,i=this,s=t,n){if(void 0===c)return d(s);if(h)return fi(c),c=Oo(m,e),v(s)}return void 0===c&&(c=Oo(m,e)),u}return e=ou(e)||0,Ba(n)&&(l=!!n.leading,a=(h="maxWait"in n)?an(ou(n.maxWait)||0,e):a,p="trailing"in n?!!n.trailing:p),b.cancel=function(){void 0!==c&&fi(c),f=0,r=s=i=c=void 0},b.flush=function(){return void 0===c?u:g(da())},b}var Ta=Ur((function(t,e){return Qn(t,1,e)})),Ea=Ur((function(t,e,n){return Qn(t,ou(e)||0,n)}));function Ra(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new gt(o);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Ra.Cache||Cn),n}function _a(t){if("function"!=typeof t)throw new gt(o);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Ra.Cache=Cn;var Na=ci((function(t,e){var n=(e=1==e.length&&Pa(e[0])?pe(e[0],Se(Zi())):pe(or(e,1),Se(Zi()))).length;return Ur((function(r){for(var i=-1,o=un(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return oe(t,this,r)}))})),Ia=Ur((function(t,e){return Di(t,32,void 0,e,Ge(e,qi(Ia)))})),Aa=Ur((function(t,e){return Di(t,64,void 0,e,Ge(e,qi(Aa)))})),La=Hi((function(t,e){return Di(t,256,void 0,void 0,void 0,e)}));function xa(t,e){return t===e||t!=t&&e!=e}var Sa=wi(vr),ka=wi((function(t,e){return t>=e})),ja=br(function(){return arguments}())?br:function(t){return Ha(t)&&_t.call(t,"callee")&&!Yt.call(t,"callee")},Pa=r.isArray,wa=$t?Se($t):function(t){return Ha(t)&&pr(t)==R};function Ca(t){return null!=t&&Ga(t.length)&&!Fa(t)}function Ma(t){return Ha(t)&&Ca(t)}var Xa=en||oc,Ua=te?Se(te):function(t){return Ha(t)&&pr(t)==l};function Da(t){if(!Ha(t))return!1;var e=pr(t);return e==h||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!Va(t)}function Fa(t){if(!Ba(t))return!1;var e=pr(t);return e==p||e==v||"[object AsyncFunction]"==e||"[object Proxy]"==e}function za(t){return"number"==typeof t&&t==ru(t)}function Ga(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function Ba(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Ha(t){return null!=t&&"object"==typeof t}var Wa=ee?Se(ee):function(t){return Ha(t)&&no(t)==d};function Ka(t){return"number"==typeof t||Ha(t)&&pr(t)==y}function Va(t){if(!Ha(t)||pr(t)!=m)return!1;var e=Wt(t);if(null===e)return!0;var n=_t.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Rt.call(n)==Lt}var Ya=ne?Se(ne):function(t){return Ha(t)&&pr(t)==g};var qa=re?Se(re):function(t){return Ha(t)&&no(t)==b};function Za(t){return"string"==typeof t||!Pa(t)&&Ha(t)&&pr(t)==O}function Ja(t){return"symbol"==typeof t||Ha(t)&&pr(t)==T}var Qa=ie?Se(ie):function(t){return Ha(t)&&Ga(t.length)&&!!Ft[pr(t)]};var $a=wi(Ir),tu=wi((function(t,e){return t<=e}));function eu(t){if(!t)return[];if(Ca(t))return Za(t)?Ke(t):mi(t);if(Qt&&t[Qt])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Qt]());var e=no(t);return(e==d?Fe:e==b?Be:xu)(t)}function nu(t){return t?(t=ou(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function ru(t){var e=nu(t),n=e%1;return e==e?n?e-n:e:0}function iu(t){return t?qn(ru(t),0,4294967295):0}function ou(t){if("number"==typeof t)return t;if(Ja(t))return NaN;if(Ba(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Ba(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Y,"");var n=ot.test(t);return n||ut.test(t)?Ht(t.slice(2),n?2:8):it.test(t)?NaN:+t}function au(t){return gi(t,Tu(t))}function uu(t){return null==t?"":Jr(t)}var cu=Oi((function(t,e){if(lo(e)||Ca(e))gi(e,Ou(e),t);else for(var n in e)_t.call(e,n)&&Bn(t,n,e[n])})),su=Oi((function(t,e){gi(e,Tu(e),t)})),fu=Oi((function(t,e,n,r){gi(e,Tu(e),t,r)})),lu=Oi((function(t,e,n,r){gi(e,Ou(e),t,r)})),hu=Hi(Yn);var pu=Ur((function(t,e){t=dt(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&uo(e[0],e[1],i)&&(r=1);++n<r;)for(var o=e[n],a=Tu(o),u=-1,c=a.length;++u<c;){var s=a[u],f=t[s];(void 0===f||xa(f,Tt[s])&&!_t.call(t,s))&&(t[s]=o[s])}return t})),vu=Ur((function(t){return t.push(void 0,zi),oe(Ru,void 0,t)}));function du(t,e,n){var r=null==t?void 0:lr(t,e);return void 0===r?n:r}function yu(t,e){return null!=t&&ro(t,e,yr)}var mu=xi((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=At.call(e)),t[e]=n}),Bu(Ku)),gu=xi((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=At.call(e)),_t.call(t,e)?t[e].push(n):t[e]=[n]}),Zi),bu=Ur(gr);function Ou(t){return Ca(t)?Un(t):_r(t)}function Tu(t){return Ca(t)?Un(t,!0):Nr(t)}var Eu=Oi((function(t,e,n){Sr(t,e,n)})),Ru=Oi((function(t,e,n,r){Sr(t,e,n,r)})),_u=Hi((function(t,e){var n={};if(null==t)return n;var r=!1;e=pe(e,(function(e){return e=ui(e,t),r||(r=e.length>1),e})),gi(t,Ki(t),n),r&&(n=Zn(n,7,Gi));for(var i=e.length;i--;)$r(n,e[i]);return n}));var Nu=Hi((function(t,e){return null==t?{}:function(t,e){return Pr(t,e,(function(e,n){return yu(t,n)}))}(t,e)}));function Iu(t,e){if(null==t)return{};var n=pe(Ki(t),(function(t){return[t]}));return e=Zi(e),Pr(t,n,(function(t,n){return e(t,n[0])}))}var Au=Ui(Ou),Lu=Ui(Tu);function xu(t){return null==t?[]:ke(t,Ou(t))}var Su=_i((function(t,e,n){return e=e.toLowerCase(),t+(n?ku(e):e)}));function ku(t){return Du(uu(t).toLowerCase())}function ju(t){return(t=uu(t))&&t.replace(st,Me).replace(Pt,"")}var Pu=_i((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),wu=_i((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Cu=Ri("toLowerCase");var Mu=_i((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));var Xu=_i((function(t,e,n){return t+(n?" ":"")+Du(e)}));var Uu=_i((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Du=Ri("toUpperCase");function Fu(t,e,n){return t=uu(t),void 0===(e=n?void 0:e)?function(t){return Xt.test(t)}(t)?function(t){return t.match(Ct)||[]}(t):function(t){return t.match(tt)||[]}(t):t.match(e)||[]}var zu=Ur((function(t,e){try{return oe(t,void 0,e)}catch(t){return Da(t)?t:new ht(t)}})),Gu=Hi((function(t,e){return ue(e,(function(e){e=Io(e),Vn(t,e,ga(t[e],t))})),t}));function Bu(t){return function(){return t}}var Hu=Ai(),Wu=Ai(!0);function Ku(t){return t}function Vu(t){return Rr("function"==typeof t?t:Zn(t,1))}var Yu=Ur((function(t,e){return function(n){return gr(n,t,e)}})),qu=Ur((function(t,e){return function(n){return gr(t,n,e)}}));function Zu(t,e,n){var r=Ou(e),i=fr(e,r);null!=n||Ba(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=fr(e,Ou(e)));var o=!(Ba(n)&&"chain"in n&&!n.chain),a=Fa(t);return ue(i,(function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),i=n.__actions__=mi(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,ve([this.value()],arguments))})})),t}function Ju(){}var Qu=ki(pe),$u=ki(se),tc=ki(me);function ec(t){return co(t)?Ne(Io(t)):function(t){return function(e){return lr(e,t)}}(t)}var nc=Pi(),rc=Pi(!0);function ic(){return[]}function oc(){return!1}var ac=Si((function(t,e){return t+e}),0),uc=Mi("ceil"),cc=Si((function(t,e){return t/e}),1),sc=Mi("floor");var fc,lc=Si((function(t,e){return t*e}),1),hc=Mi("round"),pc=Si((function(t,e){return t-e}),0);return Ln.after=function(t,e){if("function"!=typeof e)throw new gt(o);return t=ru(t),function(){if(--t<1)return e.apply(this,arguments)}},Ln.ary=ya,Ln.assign=cu,Ln.assignIn=su,Ln.assignInWith=fu,Ln.assignWith=lu,Ln.at=hu,Ln.before=ma,Ln.bind=ga,Ln.bindAll=Gu,Ln.bindKey=ba,Ln.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Pa(t)?t:[t]},Ln.chain=ea,Ln.chunk=function(t,e,n){e=(n?uo(t,e,n):void 0===e)?1:an(ru(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var o=0,a=0,u=r(Qe(i/e));o<i;)u[a++]=Wr(t,o,o+=e);return u},Ln.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},Ln.concat=function(){var t=arguments.length;if(!t)return[];for(var e=r(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return ve(Pa(n)?mi(n):[n],or(e,1))},Ln.cond=function(t){var e=null==t?0:t.length,n=Zi();return t=e?pe(t,(function(t){if("function"!=typeof t[1])throw new gt(o);return[n(t[0]),t[1]]})):[],Ur((function(n){for(var r=-1;++r<e;){var i=t[r];if(oe(i[0],this,n))return oe(i[1],this,n)}}))},Ln.conforms=function(t){return function(t){var e=Ou(t);return function(n){return Jn(n,t,e)}}(Zn(t,1))},Ln.constant=Bu,Ln.countBy=ia,Ln.create=function(t,e){var n=xn(t);return null==e?n:Kn(n,e)},Ln.curry=function t(e,n,r){var i=Di(e,8,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=t.placeholder,i},Ln.curryRight=function t(e,n,r){var i=Di(e,16,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=t.placeholder,i},Ln.debounce=Oa,Ln.defaults=pu,Ln.defaultsDeep=vu,Ln.defer=Ta,Ln.delay=Ea,Ln.difference=xo,Ln.differenceBy=So,Ln.differenceWith=ko,Ln.drop=function(t,e,n){var r=null==t?0:t.length;return r?Wr(t,(e=n||void 0===e?1:ru(e))<0?0:e,r):[]},Ln.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?Wr(t,0,(e=r-(e=n||void 0===e?1:ru(e)))<0?0:e):[]},Ln.dropRightWhile=function(t,e){return t&&t.length?ei(t,Zi(e,3),!0,!0):[]},Ln.dropWhile=function(t,e){return t&&t.length?ei(t,Zi(e,3),!0):[]},Ln.fill=function(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&uo(t,e,n)&&(n=0,r=i),function(t,e,n,r){var i=t.length;for((n=ru(n))<0&&(n=-n>i?0:i+n),(r=void 0===r||r>i?i:ru(r))<0&&(r+=i),r=n>r?0:iu(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},Ln.filter=function(t,e){return(Pa(t)?fe:ir)(t,Zi(e,3))},Ln.flatMap=function(t,e){return or(ha(t,e),1)},Ln.flatMapDeep=function(t,e){return or(ha(t,e),1/0)},Ln.flatMapDepth=function(t,e,n){return n=void 0===n?1:ru(n),or(ha(t,e),n)},Ln.flatten=wo,Ln.flattenDeep=function(t){return(null==t?0:t.length)?or(t,1/0):[]},Ln.flattenDepth=function(t,e){return(null==t?0:t.length)?or(t,e=void 0===e?1:ru(e)):[]},Ln.flip=function(t){return Di(t,512)},Ln.flow=Hu,Ln.flowRight=Wu,Ln.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},Ln.functions=function(t){return null==t?[]:fr(t,Ou(t))},Ln.functionsIn=function(t){return null==t?[]:fr(t,Tu(t))},Ln.groupBy=sa,Ln.initial=function(t){return(null==t?0:t.length)?Wr(t,0,-1):[]},Ln.intersection=Mo,Ln.intersectionBy=Xo,Ln.intersectionWith=Uo,Ln.invert=mu,Ln.invertBy=gu,Ln.invokeMap=fa,Ln.iteratee=Vu,Ln.keyBy=la,Ln.keys=Ou,Ln.keysIn=Tu,Ln.map=ha,Ln.mapKeys=function(t,e){var n={};return e=Zi(e,3),cr(t,(function(t,r,i){Vn(n,e(t,r,i),t)})),n},Ln.mapValues=function(t,e){var n={};return e=Zi(e,3),cr(t,(function(t,r,i){Vn(n,r,e(t,r,i))})),n},Ln.matches=function(t){return Lr(Zn(t,1))},Ln.matchesProperty=function(t,e){return xr(t,Zn(e,1))},Ln.memoize=Ra,Ln.merge=Eu,Ln.mergeWith=Ru,Ln.method=Yu,Ln.methodOf=qu,Ln.mixin=Zu,Ln.negate=_a,Ln.nthArg=function(t){return t=ru(t),Ur((function(e){return kr(e,t)}))},Ln.omit=_u,Ln.omitBy=function(t,e){return Iu(t,_a(Zi(e)))},Ln.once=function(t){return ma(2,t)},Ln.orderBy=function(t,e,n,r){return null==t?[]:(Pa(e)||(e=null==e?[]:[e]),Pa(n=r?void 0:n)||(n=null==n?[]:[n]),jr(t,e,n))},Ln.over=Qu,Ln.overArgs=Na,Ln.overEvery=$u,Ln.overSome=tc,Ln.partial=Ia,Ln.partialRight=Aa,Ln.partition=pa,Ln.pick=Nu,Ln.pickBy=Iu,Ln.property=ec,Ln.propertyOf=function(t){return function(e){return null==t?void 0:lr(t,e)}},Ln.pull=Fo,Ln.pullAll=zo,Ln.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?wr(t,e,Zi(n,2)):t},Ln.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?wr(t,e,void 0,n):t},Ln.pullAt=Go,Ln.range=nc,Ln.rangeRight=rc,Ln.rearg=La,Ln.reject=function(t,e){return(Pa(t)?fe:ir)(t,_a(Zi(e,3)))},Ln.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=Zi(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return Cr(t,i),n},Ln.rest=function(t,e){if("function"!=typeof t)throw new gt(o);return Ur(t,e=void 0===e?e:ru(e))},Ln.reverse=Bo,Ln.sampleSize=function(t,e,n){return e=(n?uo(t,e,n):void 0===e)?1:ru(e),(Pa(t)?Fn:Fr)(t,e)},Ln.set=function(t,e,n){return null==t?t:zr(t,e,n)},Ln.setWith=function(t,e,n,r){return r="function"==typeof r?r:void 0,null==t?t:zr(t,e,n,r)},Ln.shuffle=function(t){return(Pa(t)?zn:Hr)(t)},Ln.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&uo(t,e,n)?(e=0,n=r):(e=null==e?0:ru(e),n=void 0===n?r:ru(n)),Wr(t,e,n)):[]},Ln.sortBy=va,Ln.sortedUniq=function(t){return t&&t.length?qr(t):[]},Ln.sortedUniqBy=function(t,e){return t&&t.length?qr(t,Zi(e,2)):[]},Ln.split=function(t,e,n){return n&&"number"!=typeof n&&uo(t,e,n)&&(e=n=void 0),(n=void 0===n?4294967295:n>>>0)?(t=uu(t))&&("string"==typeof e||null!=e&&!Ya(e))&&!(e=Jr(e))&&De(t)?si(Ke(t),0,n):t.split(e,n):[]},Ln.spread=function(t,e){if("function"!=typeof t)throw new gt(o);return e=null==e?0:an(ru(e),0),Ur((function(n){var r=n[e],i=si(n,0,e);return r&&ve(i,r),oe(t,this,i)}))},Ln.tail=function(t){var e=null==t?0:t.length;return e?Wr(t,1,e):[]},Ln.take=function(t,e,n){return t&&t.length?Wr(t,0,(e=n||void 0===e?1:ru(e))<0?0:e):[]},Ln.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?Wr(t,(e=r-(e=n||void 0===e?1:ru(e)))<0?0:e,r):[]},Ln.takeRightWhile=function(t,e){return t&&t.length?ei(t,Zi(e,3),!1,!0):[]},Ln.takeWhile=function(t,e){return t&&t.length?ei(t,Zi(e,3)):[]},Ln.tap=function(t,e){return e(t),t},Ln.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new gt(o);return Ba(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Oa(t,e,{leading:r,maxWait:e,trailing:i})},Ln.thru=na,Ln.toArray=eu,Ln.toPairs=Au,Ln.toPairsIn=Lu,Ln.toPath=function(t){return Pa(t)?pe(t,Io):Ja(t)?[t]:mi(No(uu(t)))},Ln.toPlainObject=au,Ln.transform=function(t,e,n){var r=Pa(t),i=r||Xa(t)||Qa(t);if(e=Zi(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:Ba(t)&&Fa(o)?xn(Wt(t)):{}}return(i?ue:cr)(t,(function(t,r,i){return e(n,t,r,i)})),n},Ln.unary=function(t){return ya(t,1)},Ln.union=Ho,Ln.unionBy=Wo,Ln.unionWith=Ko,Ln.uniq=function(t){return t&&t.length?Qr(t):[]},Ln.uniqBy=function(t,e){return t&&t.length?Qr(t,Zi(e,2)):[]},Ln.uniqWith=function(t,e){return e="function"==typeof e?e:void 0,t&&t.length?Qr(t,void 0,e):[]},Ln.unset=function(t,e){return null==t||$r(t,e)},Ln.unzip=Vo,Ln.unzipWith=Yo,Ln.update=function(t,e,n){return null==t?t:ti(t,e,ai(n))},Ln.updateWith=function(t,e,n,r){return r="function"==typeof r?r:void 0,null==t?t:ti(t,e,ai(n),r)},Ln.values=xu,Ln.valuesIn=function(t){return null==t?[]:ke(t,Tu(t))},Ln.without=qo,Ln.words=Fu,Ln.wrap=function(t,e){return Ia(ai(e),t)},Ln.xor=Zo,Ln.xorBy=Jo,Ln.xorWith=Qo,Ln.zip=$o,Ln.zipObject=function(t,e){return ii(t||[],e||[],Bn)},Ln.zipObjectDeep=function(t,e){return ii(t||[],e||[],zr)},Ln.zipWith=ta,Ln.entries=Au,Ln.entriesIn=Lu,Ln.extend=su,Ln.extendWith=fu,Zu(Ln,Ln),Ln.add=ac,Ln.attempt=zu,Ln.camelCase=Su,Ln.capitalize=ku,Ln.ceil=uc,Ln.clamp=function(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=(n=ou(n))==n?n:0),void 0!==e&&(e=(e=ou(e))==e?e:0),qn(ou(t),e,n)},Ln.clone=function(t){return Zn(t,4)},Ln.cloneDeep=function(t){return Zn(t,5)},Ln.cloneDeepWith=function(t,e){return Zn(t,5,e="function"==typeof e?e:void 0)},Ln.cloneWith=function(t,e){return Zn(t,4,e="function"==typeof e?e:void 0)},Ln.conformsTo=function(t,e){return null==e||Jn(t,e,Ou(e))},Ln.deburr=ju,Ln.defaultTo=function(t,e){return null==t||t!=t?e:t},Ln.divide=cc,Ln.endsWith=function(t,e,n){t=uu(t),e=Jr(e);var r=t.length,i=n=void 0===n?r:qn(ru(n),0,r);return(n-=e.length)>=0&&t.slice(n,i)==e},Ln.eq=xa,Ln.escape=function(t){return(t=uu(t))&&D.test(t)?t.replace(X,Xe):t},Ln.escapeRegExp=function(t){return(t=uu(t))&&V.test(t)?t.replace(K,"\\$&"):t},Ln.every=function(t,e,n){var r=Pa(t)?se:nr;return n&&uo(t,e,n)&&(e=void 0),r(t,Zi(e,3))},Ln.find=oa,Ln.findIndex=jo,Ln.findKey=function(t,e){return be(t,Zi(e,3),cr)},Ln.findLast=aa,Ln.findLastIndex=Po,Ln.findLastKey=function(t,e){return be(t,Zi(e,3),sr)},Ln.floor=sc,Ln.forEach=ua,Ln.forEachRight=ca,Ln.forIn=function(t,e){return null==t?t:ar(t,Zi(e,3),Tu)},Ln.forInRight=function(t,e){return null==t?t:ur(t,Zi(e,3),Tu)},Ln.forOwn=function(t,e){return t&&cr(t,Zi(e,3))},Ln.forOwnRight=function(t,e){return t&&sr(t,Zi(e,3))},Ln.get=du,Ln.gt=Sa,Ln.gte=ka,Ln.has=function(t,e){return null!=t&&ro(t,e,dr)},Ln.hasIn=yu,Ln.head=Co,Ln.identity=Ku,Ln.includes=function(t,e,n,r){t=Ca(t)?t:xu(t),n=n&&!r?ru(n):0;var i=t.length;return n<0&&(n=an(i+n,0)),Za(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&Te(t,e,n)>-1},Ln.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:ru(n);return i<0&&(i=an(r+i,0)),Te(t,e,i)},Ln.inRange=function(t,e,n){return e=nu(e),void 0===n?(n=e,e=0):n=nu(n),function(t,e,n){return t>=un(e,n)&&t<an(e,n)}(t=ou(t),e,n)},Ln.invoke=bu,Ln.isArguments=ja,Ln.isArray=Pa,Ln.isArrayBuffer=wa,Ln.isArrayLike=Ca,Ln.isArrayLikeObject=Ma,Ln.isBoolean=function(t){return!0===t||!1===t||Ha(t)&&pr(t)==f},Ln.isBuffer=Xa,Ln.isDate=Ua,Ln.isElement=function(t){return Ha(t)&&1===t.nodeType&&!Va(t)},Ln.isEmpty=function(t){if(null==t)return!0;if(Ca(t)&&(Pa(t)||"string"==typeof t||"function"==typeof t.splice||Xa(t)||Qa(t)||ja(t)))return!t.length;var e=no(t);if(e==d||e==b)return!t.size;if(lo(t))return!_r(t).length;for(var n in t)if(_t.call(t,n))return!1;return!0},Ln.isEqual=function(t,e){return Or(t,e)},Ln.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:void 0)?n(t,e):void 0;return void 0===r?Or(t,e,void 0,n):!!r},Ln.isError=Da,Ln.isFinite=function(t){return"number"==typeof t&&nn(t)},Ln.isFunction=Fa,Ln.isInteger=za,Ln.isLength=Ga,Ln.isMap=Wa,Ln.isMatch=function(t,e){return t===e||Tr(t,e,Qi(e))},Ln.isMatchWith=function(t,e,n){return n="function"==typeof n?n:void 0,Tr(t,e,Qi(e),n)},Ln.isNaN=function(t){return Ka(t)&&t!=+t},Ln.isNative=function(t){if(fo(t))throw new ht("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Er(t)},Ln.isNil=function(t){return null==t},Ln.isNull=function(t){return null===t},Ln.isNumber=Ka,Ln.isObject=Ba,Ln.isObjectLike=Ha,Ln.isPlainObject=Va,Ln.isRegExp=Ya,Ln.isSafeInteger=function(t){return za(t)&&t>=-9007199254740991&&t<=9007199254740991},Ln.isSet=qa,Ln.isString=Za,Ln.isSymbol=Ja,Ln.isTypedArray=Qa,Ln.isUndefined=function(t){return void 0===t},Ln.isWeakMap=function(t){return Ha(t)&&no(t)==E},Ln.isWeakSet=function(t){return Ha(t)&&"[object WeakSet]"==pr(t)},Ln.join=function(t,e){return null==t?"":rn.call(t,e)},Ln.kebabCase=Pu,Ln.last=Do,Ln.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return void 0!==n&&(i=(i=ru(n))<0?an(r+i,0):un(i,r-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,i):Oe(t,Re,i,!0)},Ln.lowerCase=wu,Ln.lowerFirst=Cu,Ln.lt=$a,Ln.lte=tu,Ln.max=function(t){return t&&t.length?rr(t,Ku,vr):void 0},Ln.maxBy=function(t,e){return t&&t.length?rr(t,Zi(e,2),vr):void 0},Ln.mean=function(t){return _e(t,Ku)},Ln.meanBy=function(t,e){return _e(t,Zi(e,2))},Ln.min=function(t){return t&&t.length?rr(t,Ku,Ir):void 0},Ln.minBy=function(t,e){return t&&t.length?rr(t,Zi(e,2),Ir):void 0},Ln.stubArray=ic,Ln.stubFalse=oc,Ln.stubObject=function(){return{}},Ln.stubString=function(){return""},Ln.stubTrue=function(){return!0},Ln.multiply=lc,Ln.nth=function(t,e){return t&&t.length?kr(t,ru(e)):void 0},Ln.noConflict=function(){return Vt._===this&&(Vt._=xt),this},Ln.noop=Ju,Ln.now=da,Ln.pad=function(t,e,n){t=uu(t);var r=(e=ru(e))?We(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return ji($e(i),n)+t+ji(Qe(i),n)},Ln.padEnd=function(t,e,n){t=uu(t);var r=(e=ru(e))?We(t):0;return e&&r<e?t+ji(e-r,n):t},Ln.padStart=function(t,e,n){t=uu(t);var r=(e=ru(e))?We(t):0;return e&&r<e?ji(e-r,n)+t:t},Ln.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),sn(uu(t).replace(q,""),e||0)},Ln.random=function(t,e,n){if(n&&"boolean"!=typeof n&&uo(t,e,n)&&(e=n=void 0),void 0===n&&("boolean"==typeof e?(n=e,e=void 0):"boolean"==typeof t&&(n=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=nu(t),void 0===e?(e=t,t=0):e=nu(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=fn();return un(t+i*(e-t+Bt("1e-"+((i+"").length-1))),e)}return Mr(t,e)},Ln.reduce=function(t,e,n){var r=Pa(t)?de:Ae,i=arguments.length<3;return r(t,Zi(e,4),n,i,tr)},Ln.reduceRight=function(t,e,n){var r=Pa(t)?ye:Ae,i=arguments.length<3;return r(t,Zi(e,4),n,i,er)},Ln.repeat=function(t,e,n){return e=(n?uo(t,e,n):void 0===e)?1:ru(e),Xr(uu(t),e)},Ln.replace=function(){var t=arguments,e=uu(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Ln.result=function(t,e,n){var r=-1,i=(e=ui(e,t)).length;for(i||(i=1,t=void 0);++r<i;){var o=null==t?void 0:t[Io(e[r])];void 0===o&&(r=i,o=n),t=Fa(o)?o.call(t):o}return t},Ln.round=hc,Ln.runInContext=t,Ln.sample=function(t){return(Pa(t)?Dn:Dr)(t)},Ln.size=function(t){if(null==t)return 0;if(Ca(t))return Za(t)?We(t):t.length;var e=no(t);return e==d||e==b?t.size:_r(t).length},Ln.snakeCase=Mu,Ln.some=function(t,e,n){var r=Pa(t)?me:Kr;return n&&uo(t,e,n)&&(e=void 0),r(t,Zi(e,3))},Ln.sortedIndex=function(t,e){return Vr(t,e)},Ln.sortedIndexBy=function(t,e,n){return Yr(t,e,Zi(n,2))},Ln.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=Vr(t,e);if(r<n&&xa(t[r],e))return r}return-1},Ln.sortedLastIndex=function(t,e){return Vr(t,e,!0)},Ln.sortedLastIndexBy=function(t,e,n){return Yr(t,e,Zi(n,2),!0)},Ln.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=Vr(t,e,!0)-1;if(xa(t[n],e))return n}return-1},Ln.startCase=Xu,Ln.startsWith=function(t,e,n){return t=uu(t),n=null==n?0:qn(ru(n),0,t.length),e=Jr(e),t.slice(n,n+e.length)==e},Ln.subtract=pc,Ln.sum=function(t){return t&&t.length?Le(t,Ku):0},Ln.sumBy=function(t,e){return t&&t.length?Le(t,Zi(e,2)):0},Ln.template=function(t,e,n){var r=Ln.templateSettings;n&&uo(t,e,n)&&(e=void 0),t=uu(t),e=fu({},e,r,Fi);var i,o,a=fu({},e.imports,r.imports,Fi),u=Ou(a),c=ke(a,u),s=0,f=e.interpolate||ft,l="__p += '",h=yt((e.escape||ft).source+"|"+f.source+"|"+(f===G?nt:ft).source+"|"+(e.evaluate||ft).source+"|$","g"),p="//# sourceURL="+(_t.call(e,"sourceURL")?(e.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++Dt+"]")+"\n";t.replace(h,(function(e,n,r,a,u,c){return r||(r=a),l+=t.slice(s,c).replace(lt,Ue),n&&(i=!0,l+="' +\n__e("+n+") +\n'"),u&&(o=!0,l+="';\n"+u+";\n__p += '"),r&&(l+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),s=c+e.length,e})),l+="';\n";var v=_t.call(e,"variable")&&e.variable;v||(l="with (obj) {\n"+l+"\n}\n"),l=(o?l.replace(P,""):l).replace(w,"$1").replace(C,"$1;"),l="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+l+"return __p\n}";var d=zu((function(){return pt(u,p+"return "+l).apply(void 0,c)}));if(d.source=l,Da(d))throw d;return d},Ln.times=function(t,e){if((t=ru(t))<1||t>9007199254740991)return[];var n=4294967295,r=un(t,4294967295);t-=4294967295;for(var i=xe(r,e=Zi(e));++n<t;)e(n);return i},Ln.toFinite=nu,Ln.toInteger=ru,Ln.toLength=iu,Ln.toLower=function(t){return uu(t).toLowerCase()},Ln.toNumber=ou,Ln.toSafeInteger=function(t){return t?qn(ru(t),-9007199254740991,9007199254740991):0===t?t:0},Ln.toString=uu,Ln.toUpper=function(t){return uu(t).toUpperCase()},Ln.trim=function(t,e,n){if((t=uu(t))&&(n||void 0===e))return t.replace(Y,"");if(!t||!(e=Jr(e)))return t;var r=Ke(t),i=Ke(e);return si(r,Pe(r,i),we(r,i)+1).join("")},Ln.trimEnd=function(t,e,n){if((t=uu(t))&&(n||void 0===e))return t.replace(Z,"");if(!t||!(e=Jr(e)))return t;var r=Ke(t);return si(r,0,we(r,Ke(e))+1).join("")},Ln.trimStart=function(t,e,n){if((t=uu(t))&&(n||void 0===e))return t.replace(q,"");if(!t||!(e=Jr(e)))return t;var r=Ke(t);return si(r,Pe(r,Ke(e))).join("")},Ln.truncate=function(t,e){var n=30,r="...";if(Ba(e)){var i="separator"in e?e.separator:i;n="length"in e?ru(e.length):n,r="omission"in e?Jr(e.omission):r}var o=(t=uu(t)).length;if(De(t)){var a=Ke(t);o=a.length}if(n>=o)return t;var u=n-We(r);if(u<1)return r;var c=a?si(a,0,u).join(""):t.slice(0,u);if(void 0===i)return c+r;if(a&&(u+=c.length-u),Ya(i)){if(t.slice(u).search(i)){var s,f=c;for(i.global||(i=yt(i.source,uu(rt.exec(i))+"g")),i.lastIndex=0;s=i.exec(f);)var l=s.index;c=c.slice(0,void 0===l?u:l)}}else if(t.indexOf(Jr(i),u)!=u){var h=c.lastIndexOf(i);h>-1&&(c=c.slice(0,h))}return c+r},Ln.unescape=function(t){return(t=uu(t))&&U.test(t)?t.replace(M,Ve):t},Ln.uniqueId=function(t){var e=++Nt;return uu(t)+e},Ln.upperCase=Uu,Ln.upperFirst=Du,Ln.each=ua,Ln.eachRight=ca,Ln.first=Co,Zu(Ln,(fc={},cr(Ln,(function(t,e){_t.call(Ln.prototype,e)||(fc[e]=t)})),fc),{chain:!1}),Ln.VERSION="4.17.15",ue(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Ln[t].placeholder=Ln})),ue(["drop","take"],(function(t,e){jn.prototype[t]=function(n){n=void 0===n?1:an(ru(n),0);var r=this.__filtered__&&!e?new jn(this):this.clone();return r.__filtered__?r.__takeCount__=un(n,r.__takeCount__):r.__views__.push({size:un(n,4294967295),type:t+(r.__dir__<0?"Right":"")}),r},jn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),ue(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=1==n||3==n;jn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Zi(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),ue(["head","last"],(function(t,e){var n="take"+(e?"Right":"");jn.prototype[t]=function(){return this[n](1).value()[0]}})),ue(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");jn.prototype[t]=function(){return this.__filtered__?new jn(this):this[n](1)}})),jn.prototype.compact=function(){return this.filter(Ku)},jn.prototype.find=function(t){return this.filter(t).head()},jn.prototype.findLast=function(t){return this.reverse().find(t)},jn.prototype.invokeMap=Ur((function(t,e){return"function"==typeof t?new jn(this):this.map((function(n){return gr(n,t,e)}))})),jn.prototype.reject=function(t){return this.filter(_a(Zi(t)))},jn.prototype.slice=function(t,e){t=ru(t);var n=this;return n.__filtered__&&(t>0||e<0)?new jn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),void 0!==e&&(n=(e=ru(e))<0?n.dropRight(-e):n.take(e-t)),n)},jn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},jn.prototype.toArray=function(){return this.take(4294967295)},cr(jn.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),i=Ln[r?"take"+("last"==e?"Right":""):e],o=r||/^find/.test(e);i&&(Ln.prototype[e]=function(){var e=this.__wrapped__,a=r?[1]:arguments,u=e instanceof jn,c=a[0],s=u||Pa(e),f=function(t){var e=i.apply(Ln,ve([t],a));return r&&l?e[0]:e};s&&n&&"function"==typeof c&&1!=c.length&&(u=s=!1);var l=this.__chain__,h=!!this.__actions__.length,p=o&&!l,v=u&&!h;if(!o&&s){e=v?e:new jn(this);var d=t.apply(e,a);return d.__actions__.push({func:na,args:[f],thisArg:void 0}),new kn(d,l)}return p&&v?t.apply(this,a):(d=this.thru(f),p?r?d.value()[0]:d.value():d)})})),ue(["pop","push","shift","sort","splice","unshift"],(function(t){var e=bt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);Ln.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(Pa(i)?i:[],t)}return this[n]((function(n){return e.apply(Pa(n)?n:[],t)}))}})),cr(jn.prototype,(function(t,e){var n=Ln[e];if(n){var r=n.name+"";_t.call(bn,r)||(bn[r]=[]),bn[r].push({name:e,func:n})}})),bn[Li(void 0,2).name]=[{name:"wrapper",func:void 0}],jn.prototype.clone=function(){var t=new jn(this.__wrapped__);return t.__actions__=mi(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=mi(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=mi(this.__views__),t},jn.prototype.reverse=function(){if(this.__filtered__){var t=new jn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},jn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Pa(t),r=e<0,i=n?t.length:0,o=function(t,e,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=un(e,t+a);break;case"takeRight":t=an(t,e-a)}}return{start:t,end:e}}(0,i,this.__views__),a=o.start,u=o.end,c=u-a,s=r?u:a-1,f=this.__iteratees__,l=f.length,h=0,p=un(c,this.__takeCount__);if(!n||!r&&i==c&&p==c)return ni(t,this.__actions__);var v=[];t:for(;c--&&h<p;){for(var d=-1,y=t[s+=e];++d<l;){var m=f[d],g=m.iteratee,b=m.type,O=g(y);if(2==b)y=O;else if(!O){if(1==b)continue t;break t}}v[h++]=y}return v},Ln.prototype.at=ra,Ln.prototype.chain=function(){return ea(this)},Ln.prototype.commit=function(){return new kn(this.value(),this.__chain__)},Ln.prototype.next=function(){void 0===this.__values__&&(this.__values__=eu(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?void 0:this.__values__[this.__index__++]}},Ln.prototype.plant=function(t){for(var e,n=this;n instanceof Sn;){var r=Lo(n);r.__index__=0,r.__values__=void 0,e?i.__wrapped__=r:e=r;var i=r;n=n.__wrapped__}return i.__wrapped__=t,e},Ln.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof jn){var e=t;return this.__actions__.length&&(e=new jn(this)),(e=e.reverse()).__actions__.push({func:na,args:[Bo],thisArg:void 0}),new kn(e,this.__chain__)}return this.thru(Bo)},Ln.prototype.toJSON=Ln.prototype.valueOf=Ln.prototype.value=function(){return ni(this.__wrapped__,this.__actions__)},Ln.prototype.first=Ln.prototype.head,Qt&&(Ln.prototype[Qt]=function(){return this}),Ln}();Vt._=Ye,void 0===(i=function(){return Ye}.call(e,n,e,r))||(r.exports=i)}).call(this)}).call(this,n(5),n(6)(t))},function(t,e,n){var r,i,o;"undefined"!=typeof self&&self,i=[],void 0===(o="function"==typeof(r=function(){function t(){}t.prototype.saveState=function(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}},t.prototype.restoreState=function(t){this.idx=t.idx,this.input=t.input,this.groupIdx=t.groupIdx},t.prototype.pattern=function(t){this.idx=0,this.input=t,this.groupIdx=0,this.consumeChar("/");var e=this.disjunction();this.consumeChar("/");for(var n={type:"Flags",loc:{begin:this.idx,end:t.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};this.isRegExpFlag();)switch(this.popChar()){case"g":u(n,"global");break;case"i":u(n,"ignoreCase");break;case"m":u(n,"multiLine");break;case"u":u(n,"unicode");break;case"y":u(n,"sticky")}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:n,value:e,loc:this.loc(0)}},t.prototype.disjunction=function(){var t=[],e=this.idx;for(t.push(this.alternative());"|"===this.peekChar();)this.consumeChar("|"),t.push(this.alternative());return{type:"Disjunction",value:t,loc:this.loc(e)}},t.prototype.alternative=function(){for(var t=[],e=this.idx;this.isTerm();)t.push(this.term());return{type:"Alternative",value:t,loc:this.loc(e)}},t.prototype.term=function(){return this.isAssertion()?this.assertion():this.atom()},t.prototype.assertion=function(){var t=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(t)};case"$":return{type:"EndAnchor",loc:this.loc(t)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(t)};case"B":return{type:"NonWordBoundary",loc:this.loc(t)}}throw Error("Invalid Assertion Escape");case"(":var e;switch(this.consumeChar("?"),this.popChar()){case"=":e="Lookahead";break;case"!":e="NegativeLookahead"}c(e);var n=this.disjunction();return this.consumeChar(")"),{type:e,value:n,loc:this.loc(t)}}!function(){throw Error("Internal Error - Should never get here!")}()},t.prototype.quantifier=function(t){var e,n=this.idx;switch(this.popChar()){case"*":e={atLeast:0,atMost:1/0};break;case"+":e={atLeast:1,atMost:1/0};break;case"?":e={atLeast:0,atMost:1};break;case"{":var r=this.integerIncludingZero();switch(this.popChar()){case"}":e={atLeast:r,atMost:r};break;case",":e=this.isDigit()?{atLeast:r,atMost:this.integerIncludingZero()}:{atLeast:r,atMost:1/0},this.consumeChar("}")}if(!0===t&&void 0===e)return;c(e)}if(!0!==t||void 0!==e)return c(e),"?"===this.peekChar(0)?(this.consumeChar("?"),e.greedy=!1):e.greedy=!0,e.type="Quantifier",e.loc=this.loc(n),e},t.prototype.atom=function(){var t,e=this.idx;switch(this.peekChar()){case".":t=this.dotAll();break;case"\\":t=this.atomEscape();break;case"[":t=this.characterClass();break;case"(":t=this.group()}return void 0===t&&this.isPatternCharacter()&&(t=this.patternCharacter()),c(t),t.loc=this.loc(e),this.isQuantifier()&&(t.quantifier=this.quantifier()),t},t.prototype.dotAll=function(){return this.consumeChar("."),{type:"Set",complement:!0,value:[o("\n"),o("\r"),o("\u2028"),o("\u2029")]}},t.prototype.atomEscape=function(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}},t.prototype.decimalEscapeAtom=function(){return{type:"GroupBackReference",value:this.positiveInteger()}},t.prototype.characterClassEscape=function(){var t,e=!1;switch(this.popChar()){case"d":t=s;break;case"D":t=s,e=!0;break;case"s":t=l;break;case"S":t=l,e=!0;break;case"w":t=f;break;case"W":t=f,e=!0}return c(t),{type:"Set",value:t,complement:e}},t.prototype.controlEscapeAtom=function(){var t;switch(this.popChar()){case"f":t=o("\f");break;case"n":t=o("\n");break;case"r":t=o("\r");break;case"t":t=o("\t");break;case"v":t=o("\v")}return c(t),{type:"Character",value:t}},t.prototype.controlLetterEscapeAtom=function(){this.consumeChar("c");var t=this.popChar();if(!1===/[a-zA-Z]/.test(t))throw Error("Invalid ");return{type:"Character",value:t.toUpperCase().charCodeAt(0)-64}},t.prototype.nulCharacterAtom=function(){return this.consumeChar("0"),{type:"Character",value:o("\0")}},t.prototype.hexEscapeSequenceAtom=function(){return this.consumeChar("x"),this.parseHexDigits(2)},t.prototype.regExpUnicodeEscapeSequenceAtom=function(){return this.consumeChar("u"),this.parseHexDigits(4)},t.prototype.identityEscapeAtom=function(){return{type:"Character",value:o(this.popChar())}},t.prototype.classPatternCharacterAtom=function(){switch(this.peekChar()){case"\n":case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:return{type:"Character",value:o(this.popChar())}}},t.prototype.characterClass=function(){var t=[],e=!1;for(this.consumeChar("["),"^"===this.peekChar(0)&&(this.consumeChar("^"),e=!0);this.isClassAtom();){var n=this.classAtom();if("Character"===n.type&&this.isRangeDash()){this.consumeChar("-");var r=this.classAtom();if("Character"===r.type){if(r.value<n.value)throw Error("Range out of order in character class");t.push({from:n.value,to:r.value})}else a(n.value,t),t.push(o("-")),a(r.value,t)}else a(n.value,t)}return this.consumeChar("]"),{type:"Set",complement:e,value:t}},t.prototype.classAtom=function(){switch(this.peekChar()){case"]":case"\n":case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}},t.prototype.classEscape=function(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:o("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}},t.prototype.group=function(){var t=!0;switch(this.consumeChar("("),this.peekChar(0)){case"?":this.consumeChar("?"),this.consumeChar(":"),t=!1;break;default:this.groupIdx++}var e=this.disjunction();this.consumeChar(")");var n={type:"Group",capturing:t,value:e};return t&&(n.idx=this.groupIdx),n},t.prototype.positiveInteger=function(){var t=this.popChar();if(!1===i.test(t))throw Error("Expecting a positive integer");for(;r.test(this.peekChar(0));)t+=this.popChar();return parseInt(t,10)},t.prototype.integerIncludingZero=function(){var t=this.popChar();if(!1===r.test(t))throw Error("Expecting an integer");for(;r.test(this.peekChar(0));)t+=this.popChar();return parseInt(t,10)},t.prototype.patternCharacter=function(){var t=this.popChar();switch(t){case"\n":case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:o(t)}}},t.prototype.isRegExpFlag=function(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}},t.prototype.isRangeDash=function(){return"-"===this.peekChar()&&this.isClassAtom(1)},t.prototype.isDigit=function(){return r.test(this.peekChar(0))},t.prototype.isClassAtom=function(t){switch(void 0===t&&(t=0),this.peekChar(t)){case"]":case"\n":case"\r":case"\u2028":case"\u2029":return!1;default:return!0}},t.prototype.isTerm=function(){return this.isAtom()||this.isAssertion()},t.prototype.isAtom=function(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}},t.prototype.isAssertion=function(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return"?"===this.peekChar(1)&&("="===this.peekChar(2)||"!"===this.peekChar(2));default:return!1}},t.prototype.isQuantifier=function(){var t=this.saveState();try{return void 0!==this.quantifier(!0)}catch(t){return!1}finally{this.restoreState(t)}},t.prototype.isPatternCharacter=function(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case"\n":case"\r":case"\u2028":case"\u2029":return!1;default:return!0}},t.prototype.parseHexDigits=function(t){for(var e="",r=0;r<t;r++){var i=this.popChar();if(!1===n.test(i))throw Error("Expecting a HexDecimal digits");e+=i}return{type:"Character",value:parseInt(e,16)}},t.prototype.peekChar=function(t){return void 0===t&&(t=0),this.input[this.idx+t]},t.prototype.popChar=function(){var t=this.peekChar(0);return this.consumeChar(),t},t.prototype.consumeChar=function(t){if(void 0!==t&&this.input[this.idx]!==t)throw Error("Expected: '"+t+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++},t.prototype.loc=function(t){return{begin:t,end:this.idx}};var e,n=/[0-9a-fA-F]/,r=/[0-9]/,i=/[1-9]/;function o(t){return t.charCodeAt(0)}function a(t,e){void 0!==t.length?t.forEach((function(t){e.push(t)})):e.push(t)}function u(t,e){if(!0===t[e])throw"duplicate flag "+e;t[e]=!0}function c(t){if(void 0===t)throw Error("Internal Error - Should never get here!")}var s=[];for(e=o("0");e<=o("9");e++)s.push(e);var f=[o("_")].concat(s);for(e=o("a");e<=o("z");e++)f.push(e);for(e=o("A");e<=o("Z");e++)f.push(e);var l=[o(" "),o("\f"),o("\n"),o("\r"),o("\t"),o("\v"),o("\t"),o(" "),o(" "),o(" "),o(" "),o(" "),o(" "),o(" "),o(" "),o(" "),o(" "),o(" "),o(" "),o(" "),o("\u2028"),o("\u2029"),o(" "),o(" "),o("　"),o("\ufeff")];function h(){}return h.prototype.visitChildren=function(t){for(var e in t){var n=t[e];t.hasOwnProperty(e)&&(void 0!==n.type?this.visit(n):Array.isArray(n)&&n.forEach((function(t){this.visit(t)}),this))}},h.prototype.visit=function(t){switch(t.type){case"Pattern":this.visitPattern(t);break;case"Flags":this.visitFlags(t);break;case"Disjunction":this.visitDisjunction(t);break;case"Alternative":this.visitAlternative(t);break;case"StartAnchor":this.visitStartAnchor(t);break;case"EndAnchor":this.visitEndAnchor(t);break;case"WordBoundary":this.visitWordBoundary(t);break;case"NonWordBoundary":this.visitNonWordBoundary(t);break;case"Lookahead":this.visitLookahead(t);break;case"NegativeLookahead":this.visitNegativeLookahead(t);break;case"Character":this.visitCharacter(t);break;case"Set":this.visitSet(t);break;case"Group":this.visitGroup(t);break;case"GroupBackReference":this.visitGroupBackReference(t);break;case"Quantifier":this.visitQuantifier(t)}this.visitChildren(t)},h.prototype.visitPattern=function(t){},h.prototype.visitFlags=function(t){},h.prototype.visitDisjunction=function(t){},h.prototype.visitAlternative=function(t){},h.prototype.visitStartAnchor=function(t){},h.prototype.visitEndAnchor=function(t){},h.prototype.visitWordBoundary=function(t){},h.prototype.visitNonWordBoundary=function(t){},h.prototype.visitLookahead=function(t){},h.prototype.visitNegativeLookahead=function(t){},h.prototype.visitCharacter=function(t){},h.prototype.visitSet=function(t){},h.prototype.visitGroup=function(t){},h.prototype.visitGroupBackReference=function(t){},h.prototype.visitQuantifier=function(t){},{RegExpParser:t,BaseRegExpVisitor:h,VERSION:"0.5.0"}})?r.apply(e,i):r)||(t.exports=o)},function(t,e,n){"use strict";n.r(e),e.default="data:image/png;base64,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"},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){var r=n(8),i=n(9);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);t.exports=i.locals||{}},function(t,e,n){"use strict";var r,i=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},o=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),a=[];function u(t){for(var e=-1,n=0;n<a.length;n++)if(a[n].identifier===t){e=n;break}return e}function c(t,e){for(var n={},r=[],i=0;i<t.length;i++){var o=t[i],c=e.base?o[0]+e.base:o[0],s=n[c]||0,f="".concat(c," ").concat(s);n[c]=s+1;var l=u(f),h={css:o[1],media:o[2],sourceMap:o[3]};-1!==l?(a[l].references++,a[l].updater(h)):a.push({identifier:f,updater:y(h,e),references:1}),r.push(f)}return r}function s(t){var e=document.createElement("style"),r=t.attributes||{};if(void 0===r.nonce){var i=n.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(t){e.setAttribute(t,r[t])})),"function"==typeof t.insert)t.insert(e);else{var a=o(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var f,l=(f=[],function(t,e){return f[t]=e,f.filter(Boolean).join("\n")});function h(t,e,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(t.styleSheet)t.styleSheet.cssText=l(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function p(t,e,n){var r=n.css,i=n.media,o=n.sourceMap;if(i?t.setAttribute("media",i):t.removeAttribute("media"),o&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var v=null,d=0;function y(t,e){var n,r,i;if(e.singleton){var o=d++;n=v||(v=s(e)),r=h.bind(null,n,o,!1),i=h.bind(null,n,o,!0)}else n=s(e),r=p.bind(null,n,e),i=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=i());var n=c(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<n.length;r++){var i=u(n[r]);a[i].references--}for(var o=c(t,e),s=0;s<n.length;s++){var f=u(n[s]);0===a[f].references&&(a[f].updater(),a.splice(f,1))}n=o}}}},function(t,e,n){var r=n(10),i=n(11),o=n(4);e=r(!1);var a=i(o);e.push([t.i,"body {\n  color: darkslategrey;\n  background-color: lightblue;\n}\n\n.code {\n  white-space: pre;\n  font-family: monospace;\n}\n\n.editor {\n  background: url("+a+");\n  background-attachment: local;\n  background-repeat: no-repeat;\n  padding-left: 30px;\n  padding-top: 10px;\n  border-color: #ccc;\n  background-color: blanchedalmond;\n  font-size: 14px;\n}\n\n.info {\n  color: darkslategrey;\n  background-color: lightyellow;\n}\n\n.success {\n  color: darkslategrey;\n  background-color: lightgreen;\n}\n\n.error {\n  color: red;\n  background-color: lightpink;\n}\n",""]),t.exports=e},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var i=(a=r,u=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(u),"/*# ".concat(c," */")),o=r.sources.map((function(t){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(t," */")}));return[n].concat(o).concat([i]).join("\n")}var a,u,c;return[n].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(i[a]=!0)}for(var u=0;u<t.length;u++){var c=[].concat(t[u]);r&&i[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),e.push(c))}},e}},function(t,e,n){"use strict";t.exports=function(t,e){return e||(e={}),"string"!=typeof(t=t&&t.__esModule?t.default:t)?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t)}},function(t,e,n){"use strict";n.r(e);var r=n(2),i=n.n(r),o=(n(7),n(4),n(1));const a=Object(o.createToken)({name:"WhiteSpace",pattern:/\s+/,group:o.Lexer.SKIPPED}),u=Object(o.createToken)({name:"Var",pattern:/var/}),c=Object(o.createToken)({name:"Print",pattern:/print/}),s=Object(o.createToken)({name:"Println",pattern:/println/}),f=Object(o.createToken)({name:"Identifier",pattern:/[a-zA-Z]\w*/}),l=Object(o.createToken)({name:"Literal",pattern:/"(:?[^\\"]+|\\(:?[bfnrtv"\\/]|u[0-9a-fA-F]{4}))*"/}),h=Object(o.createToken)({name:"Integer",pattern:/0|[1-9]\d*/}),p=Object(o.createToken)({name:"ParenthesesOpen",pattern:/\(/}),v=Object(o.createToken)({name:"ParenthesesClose",pattern:/\)/}),d=Object(o.createToken)({name:"BlockOpen",pattern:/{/}),y=Object(o.createToken)({name:"BlockClose",pattern:/}/}),m=Object(o.createToken)({name:"Comma",pattern:/,/}),g=Object(o.createToken)({name:"SemiColon",pattern:/;/}),b=Object(o.createToken)({name:"Equals",pattern:/=/}),O=Object(o.createToken)({name:"AdditionOp",pattern:o.Lexer.NA}),T=Object(o.createToken)({name:"MultiplicationOp",pattern:o.Lexer.NA}),E=Object(o.createToken)({name:"Plus",pattern:/\+/,categories:O}),R=Object(o.createToken)({name:"Minus",pattern:/-/,categories:O}),_=Object(o.createToken)({name:"Div",pattern:/\//,categories:T}),N=Object(o.createToken)({name:"Mult",pattern:/\*/,categories:T}),I=[a,u,s,c,f,l,h,p,v,d,y,m,g,b,E,R,_,N,O,T],A=new o.Lexer(I);class L extends o.CstParser{constructor(){super(I);const t=this;t.RULE("program",()=>{t.SUBRULE(t.method)}),t.RULE("method",()=>{t.CONSUME(f),t.CONSUME(p),t.OPTION1(()=>{t.SUBRULE(t.identList)}),t.CONSUME(v),t.CONSUME(d),t.OPTION2(()=>{t.SUBRULE(t.declaration)}),t.MANY(()=>{t.SUBRULE(t.statement)}),t.CONSUME(y)}),t.RULE("identList",()=>{t.MANY_SEP({SEP:m,DEF:()=>{t.CONSUME(f)}})}),t.RULE("declaration",()=>{t.CONSUME(u),t.SUBRULE(t.identList),t.CONSUME(g)}),t.RULE("statement",()=>{t.OR([{ALT:()=>t.SUBRULE(t.assignment)},{ALT:()=>t.SUBRULE(t.printStat)}])}),t.RULE("assignment",()=>{t.SUBRULE(t.variable),t.CONSUME(b),t.SUBRULE(t.expression),t.CONSUME(g)}),t.RULE("expression",()=>{t.OPTION(()=>{t.CONSUME(R)}),t.SUBRULE(t.additionExpression)}),t.RULE("additionExpression",()=>{t.SUBRULE1(t.multiplicationExpression,{LABEL:"lhs"}),t.MANY(()=>{t.CONSUME(O),t.SUBRULE2(t.multiplicationExpression,{LABEL:"rhs"})})}),t.RULE("multiplicationExpression",()=>{t.SUBRULE1(t.factor,{LABEL:"lhs"}),t.MANY(()=>{t.CONSUME(T),t.SUBRULE2(t.factor,{LABEL:"rhs"})})}),t.RULE("factor",()=>{t.OR([{ALT:()=>t.SUBRULE(t.number)},{ALT:()=>t.SUBRULE(t.variable)},{ALT:()=>{t.CONSUME(p),t.SUBRULE(t.expression),t.CONSUME(v)}}])}),t.RULE("variable",()=>{t.CONSUME(f)}),t.RULE("number",()=>{t.CONSUME(h)}),t.RULE("printStat",()=>{t.OR([{ALT:()=>{t.CONSUME(c),t.SUBRULE1(t.itemList),t.CONSUME1(g)}},{ALT:()=>{t.CONSUME(s),t.OPTION(()=>{t.SUBRULE2(t.itemList)}),t.CONSUME2(g)}}])}),t.RULE("itemList",()=>{t.MANY_SEP({SEP:m,DEF:()=>{t.SUBRULE(t.printItem)}})}),t.RULE("printItem",()=>{t.OR([{ALT:()=>t.CONSUME(l)},{ALT:()=>t.SUBRULE(t.expression)}])}),this.performSelfAnalysis()}}const x=new L,S=x.getBaseCstVisitorConstructor();const k=new class extends S{constructor(){super(),this.validateVisitor(),this.reset()}reset(){this.frame={},this.output=""}program(t){this.reset(),this.visit(t.method),console.log(this.output)}method(t){if(this.frame=this.visit(t.identList),t.declaration){const e=this.visit(t.declaration);this.frame=i.a.assign(this.frame,e)}t.statement&&i.a.chain(t.statement).map(t=>{this.visit(t)}).value()}identList(t){return t.Identifier?i.a.chain(t.Identifier).keyBy("image").mapValues(()=>null).value():{}}declaration(t){return this.visit(t.identList)}statement(t){t.printStat?this.visit(t.printStat):t.assignment&&this.visit(t.assignment)}assignment(t){const e=this.visit(t.variable),n=this.visit(t.expression);this.frame[e]=n}expression(t){const e=this.visit(t.additionExpression);return t.Minus?-e:e}additionExpression(t){let e=this.visit(t.lhs);return t.rhs&&t.rhs.forEach((n,r)=>{let i=this.visit(n),a=t.AdditionOp[r];Object(o.tokenMatcher)(a,E)?e+=i:e-=i}),e}multiplicationExpression(t){let e=this.visit(t.lhs);return t.rhs&&t.rhs.forEach((n,r)=>{let i=this.visit(n),a=t.MultiplicationOp[r];Object(o.tokenMatcher)(a,N)?e*=i:e/=i}),e}factor(t){if(t.number)return this.visit(t.number);if(t.variable){const e=this.visit(t.variable);return this.frame[e]}return t.expression?this.visit(t.expression):void 0}variable(t){return t.Identifier[0].image}number(t){return parseInt(t.Integer[0].image,10)}printStat(t){const e=this.visit(t.itemList);t.Print?this.doPrint(e):t.Println&&this.doPrintln(e)}itemList(t){return t.printItem?i.a.chain(t.printItem).map(t=>this.visit(t)).value():[]}printItem(t){return t.Literal?i.a.trim(t.Literal[0].image,'"'):t.expression?this.visit(t.expression):void 0}doPrint(t){this.output+=i.a.join(t,"")}doPrintln(t){this.output+=i.a.join(t,"")+"\n"}};function j(t){const e=document.getElementById("result"),n=document.getElementById("tokens");if(!t){t=document.getElementById("code").innerHTML}const r=function(t){const e=A.tokenize(t);x.input=e.tokens;const n=x.program();return k.visit(n),{value:k.output,tokens:e.tokens,lexErrors:e.errors,errors:x.errors}}(t);r.errors.length>0?(e.classList.remove("success"),e.classList.add("error"),e.innerHTML=i.a.chain(r.errors).map(t=>`Line ${t.token.startLine}: ${t.message}`).join("\n")):(e.classList.remove("error"),e.classList.add("success"),e.innerHTML=r.value),r.lexErrors.length>0?n.innerHTML=i.a.chain(r.lexErrors).map(t=>`Line ${t.line}: ${t.message}`).join("\n"):n.innerHTML=i.a.chain(r.tokens).map(t=>`${t.tokenType.name} ${t.image}`).join("\n")}document.getElementById("code").addEventListener("input",t=>j(t.target.value)),j()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NoZXZyb3RhaW4vbGliX2VzbS9zcmMvdXRpbHMvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NoZXZyb3RhaW4vbGliX2VzbS9zcmMvdmVyc2lvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWJfZXNtL3NyYy9zY2FuL3JlZ19leHBfcGFyc2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYl9lc20vc3JjL3NjYW4vcmVnX2V4cC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWJfZXNtL3NyYy9zY2FuL2xleGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYl9lc20vc3JjL3NjYW4vdG9rZW5zLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYl9lc20vc3JjL3NjYW4vbGV4ZXJfZXJyb3JzX3B1YmxpYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWJfZXNtL3NyYy9zY2FuL2xleGVyX3B1YmxpYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWJfZXNtL3NyYy9zY2FuL3Rva2Vuc19wdWJsaWMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NoZXZyb3RhaW4vbGliX2VzbS9zcmMvcGFyc2UvZ3JhbW1hci9nYXN0L2dhc3RfcHVibGljLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYl9lc20vc3JjL3BhcnNlL2dyYW1tYXIvcmVzdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWJfZXNtL3NyYy9wYXJzZS9ncmFtbWFyL2dhc3QvZ2FzdF92aXNpdG9yX3B1YmxpYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWJfZXNtL3NyYy9wYXJzZS9ncmFtbWFyL2dhc3QvZ2FzdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWJfZXNtL3NyYy9wYXJzZS9ncmFtbWFyL2ZpcnN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYl9lc20vc3JjL3BhcnNlL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWJfZXNtL3NyYy9wYXJzZS9ncmFtbWFyL2ZvbGxvdy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWJfZXNtL3NyYy9wYXJzZS9lcnJvcnNfcHVibGljLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYl9lc20vc3JjL3BhcnNlL2dyYW1tYXIvcmVzb2x2ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NoZXZyb3RhaW4vbGliX2VzbS9zcmMvcGFyc2UvZ3JhbW1hci9pbnRlcnByZXRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWJfZXNtL3NyYy9wYXJzZS9ncmFtbWFyL2xvb2thaGVhZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWJfZXNtL3NyYy9wYXJzZS9ncmFtbWFyL2NoZWNrcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWJfZXNtL3NyYy9wYXJzZS9ncmFtbWFyL2dhc3QvZ2FzdF9yZXNvbHZlcl9wdWJsaWMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NoZXZyb3RhaW4vbGliX2VzbS9zcmMvcGFyc2UvZXhjZXB0aW9uc19wdWJsaWMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NoZXZyb3RhaW4vbGliX2VzbS9zcmMvcGFyc2UvcGFyc2VyL3RyYWl0cy9yZWNvdmVyYWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWJfZXNtL3NyYy9wYXJzZS9ncmFtbWFyL2tleXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NoZXZyb3RhaW4vbGliX2VzbS9zcmMvcGFyc2UvcGFyc2VyL3RyYWl0cy9sb29rc2FoZWFkLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYl9lc20vc3JjL3BhcnNlL2NzdC9jc3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NoZXZyb3RhaW4vbGliX2VzbS9zcmMvbGFuZy9sYW5nX2V4dGVuc2lvbnMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NoZXZyb3RhaW4vbGliX2VzbS9zcmMvcGFyc2UvY3N0L2NzdF92aXNpdG9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYl9lc20vc3JjL3BhcnNlL3BhcnNlci90cmFpdHMvdHJlZV9idWlsZGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYl9lc20vc3JjL3BhcnNlL3BhcnNlci90cmFpdHMvbGV4ZXJfYWRhcHRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWJfZXNtL3NyYy9wYXJzZS9wYXJzZXIvdHJhaXRzL3JlY29nbml6ZXJfYXBpLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYl9lc20vc3JjL3BhcnNlL3BhcnNlci90cmFpdHMvcmVjb2duaXplcl9lbmdpbmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NoZXZyb3RhaW4vbGliX2VzbS9zcmMvcGFyc2UvcGFyc2VyL3RyYWl0cy9lcnJvcl9oYW5kbGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYl9lc20vc3JjL3BhcnNlL3BhcnNlci90cmFpdHMvY29udGV4dF9hc3Npc3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NoZXZyb3RhaW4vbGliX2VzbS9zcmMvcGFyc2UvcGFyc2VyL3RyYWl0cy9nYXN0X3JlY29yZGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYl9lc20vc3JjL3BhcnNlL3BhcnNlci90cmFpdHMvcGVyZl90cmFjZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NoZXZyb3RhaW4vbGliX2VzbS9zcmMvcGFyc2UvcGFyc2VyL3BhcnNlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWJfZXNtL3NyYy9kaWFncmFtcy9yZW5kZXJfcHVibGljLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYl9lc20vc3JjL2dlbmVyYXRlL2dlbmVyYXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYl9lc20vc3JjL2dlbmVyYXRlL2dlbmVyYXRlX3B1YmxpYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWJfZXNtL3NyYy9hcGkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9sb2Rhc2guanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlZ2V4cC10by1hc3QvbGliL3JlZ2V4cC10by1hc3QuanMiLCJ3ZWJwYWNrOi8vLy4vaW1hZ2UvbGluZXMucG5nIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL21vZHVsZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbWFpbi5jc3M/ZGRkMyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21haW4uY3NzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2dldFVybC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbGV4ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BhcnNlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaW50ZXJwcmV0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9tajEuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJpc0VtcHR5IiwiYXJyIiwibGVuZ3RoIiwia2V5cyIsIm9iaiIsInZhbHVlcyIsInZhbHMiLCJwdXNoIiwibWFwVmFsdWVzIiwiY2FsbGJhY2siLCJyZXN1bHQiLCJvYmpLZXlzIiwiaWR4IiwiY3VycktleSIsIm1hcCIsImZsYXR0ZW4iLCJjdXJySXRlbSIsIkFycmF5IiwiaXNBcnJheSIsImNvbmNhdCIsImZpcnN0IiwidW5kZWZpbmVkIiwibGFzdCIsImxlbiIsImZvckVhY2giLCJjb2xsZWN0aW9uIiwiaXRlcmF0b3JDYWxsYmFjayIsImlzT2JqZWN0IiwiRXJyb3IiLCJjb2xLZXlzIiwiaXNTdHJpbmciLCJpdGVtIiwiaXNVbmRlZmluZWQiLCJpc0Z1bmN0aW9uIiwiRnVuY3Rpb24iLCJkcm9wIiwiaG93TXVjaCIsInNsaWNlIiwiZHJvcFJpZ2h0IiwiZmlsdGVyIiwicHJlZGljYXRlIiwicmVqZWN0IiwicGljayIsImhhcyIsInByb3AiLCJjb250YWlucyIsImZpbmQiLCJjbG9uZUFyciIsIm5ld0FyciIsImNsb25lT2JqIiwiY2xvbmVkT2JqIiwiZmluZEFsbCIsImZvdW5kIiwicmVkdWNlIiwiYXJyT3JPYmoiLCJpdGVyYXRvciIsImluaXRpYWwiLCJpc0FyciIsImFjY3VtdWxhdG9yIiwiY29tcGFjdCIsInVuaXEiLCJpZGVudGl0eSIsImlkZW50aXRpZXMiLCJjdXJySWRlbnRpdHkiLCJwYXJ0aWFsIiwiZnVuYyIsInJlc3RBcmdzIiwiX2kiLCJhcmd1bWVudHMiLCJmaXJzdEFyZyIsImFsbEFyZ3MiLCJhcHBseSIsImlzUmVnRXhwIiwiUmVnRXhwIiwiZXZlcnkiLCJkaWZmZXJlbmNlIiwic29tZSIsImluZGV4T2YiLCJzb3J0QnkiLCJvcmRlckZ1bmMiLCJzb3J0IiwiYSIsImIiLCJ6aXBPYmplY3QiLCJhc3NpZ24iLCJ0YXJnZXQiLCJzb3VyY2VzIiwiY3VyU291cmNlIiwiY3VyclNvdXJjZUtleXMiLCJqIiwiYXNzaWduTm9PdmVyd3JpdGUiLCJkZWZhdWx0cyIsImdyb3VwQnkiLCJncm91cEtleUZ1bmMiLCJjdXJyR3JvdXBLZXkiLCJjdXJyR3JvdXBBcnIiLCJtZXJnZSIsIm9iajEiLCJvYmoyIiwia2V5czIiLCJOT09QIiwiSURFTlRJVFkiLCJwYWNrQXJyYXkiLCJob2xleUFyciIsIm9yZ1ZhbHVlIiwiUFJJTlRfRVJST1IiLCJtc2ciLCJjb25zb2xlIiwiZXJyb3IiLCJQUklOVF9XQVJOSU5HIiwid2FybiIsImlzRVMyMDE1TWFwU3VwcG9ydGVkIiwiTWFwIiwiYXBwbHlNaXhpbnMiLCJkZXJpdmVkQ3RvciIsImJhc2VDdG9ycyIsImJhc2VDdG9yIiwiYmFzZVByb3RvIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsInByb3BOYW1lIiwiYmFzZVByb3BEZXNjcmlwdG9yIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwic2V0IiwidG9GYXN0UHJvcGVydGllcyIsInRvQmVjb21lRmFzdCIsIkZha2VDb25zdHJ1Y3RvciIsImZha2VJbnN0YW5jZSIsImZha2VBY2Nlc3MiLCJiYXIiLCJwZWVrIiwidGltZXIiLCJzdGFydCIsIkRhdGUiLCJnZXRUaW1lIiwidmFsIiwidGltZSIsIlZFUlNJT04iLCJyZWdFeHBBc3RDYWNoZSIsInJlZ0V4cFBhcnNlciIsImdldFJlZ0V4cEFzdCIsInJlZ0V4cCIsInJlZ0V4cFN0ciIsInRvU3RyaW5nIiwicmVnRXhwQXN0IiwicGF0dGVybiIsImV4dGVuZFN0YXRpY3MiLCJfX2V4dGVuZHMiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsIl9fIiwidGhpcyIsImNvbnN0cnVjdG9yIiwiZmFpbGVkT3B0aW1pemF0aW9uUHJlZml4TXNnIiwiZ2V0T3B0aW1pemVkU3RhcnRDb2Rlc0luZGljZXMiLCJlbnN1cmVPcHRpbWl6YXRpb25zIiwiYXN0IiwiZmlyc3RDaGFyT3B0aW1pemVkSW5kaWNlcyIsImlnbm9yZUNhc2UiLCJ0eXBlIiwidGVybXMiLCJ0ZXJtIiwiYXRvbSIsImFkZE9wdGltaXplZElkeFRvUmVzdWx0IiwiY29tcGxlbWVudCIsImNvZGUiLCJyYW5nZSIsInJhbmdlQ29kZSIsImZyb20iLCJ0byIsIm1pbk9wdGltaXphdGlvblZhbCIsIm1pblVuT3B0VmFsIiwibWF4VW5PcHRWYWwiLCJtaW5PcHRJZHgiLCJjaGFyQ29kZVRvT3B0aW1pemVkSW5kZXgiLCJtYXhPcHRJZHgiLCJjdXJyT3B0SWR4IiwiaXNPcHRpb25hbFF1YW50aWZpZXIiLCJxdWFudGlmaWVyIiwiYXRMZWFzdCIsImlzV2hvbGVPcHRpb25hbCIsImZsYWdzIiwiZSIsIm1lc3NhZ2UiLCJtc2dTdWZmaXgiLCJvcHRpbWl6ZWRDaGFySWR4IiwiY2hhciIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsInVwcGVyQ2hhciIsInRvVXBwZXJDYXNlIiwiY2hhckNvZGVBdCIsImxvd2VyQ2hhciIsInRvTG93ZXJDYXNlIiwiaGFuZGxlSWdub3JlQ2FzZSIsImZpbmRDb2RlIiwic2V0Tm9kZSIsInRhcmdldENoYXJDb2RlcyIsImNvZGVPclJhbmdlIiwicmFuZ2VfMSIsInRhcmdldENvZGUiLCJfc3VwZXIiLCJDaGFyQ29kZUZpbmRlciIsIl90aGlzIiwidmlzaXRDaGlsZHJlbiIsIm5vZGUiLCJ2aXNpdExvb2thaGVhZCIsInZpc2l0TmVnYXRpdmVMb29rYWhlYWQiLCJ2aXNpdENoYXJhY3RlciIsInZpc2l0U2V0IiwiY2FuTWF0Y2hDaGFyQ29kZSIsImNoYXJDb2RlcyIsImNoYXJDb2RlRmluZGVyIiwidmlzaXQiLCJQQVRURVJOIiwiU1VQUE9SVF9TVElDS1kiLCJzdGlja3kiLCJhbmFseXplVG9rZW5UeXBlcyIsInRva2VuVHlwZXMiLCJvcHRpb25zIiwib25seVJlbGV2YW50VHlwZXMiLCJ0cmFjZXIiLCJ1c2VTdGlja3kiLCJkZWJ1ZyIsInNhZmVNb2RlIiwicG9zaXRpb25UcmFja2luZyIsImxpbmVUZXJtaW5hdG9yQ2hhcmFjdGVycyIsImFjdGlvbiIsImNoYXJDb2RlVG9PcHRpbWl6ZWRJZHhNYXAiLCJpbml0Q2hhckNvZGVUb09wdGltaXplZEluZGV4TWFwIiwiY3VyclR5cGUiLCJOQSIsImFsbFRyYW5zZm9ybWVkUGF0dGVybnMiLCJwYXR0ZXJuSWR4VG9UeXBlIiwicGF0dGVybklkeFRvR3JvdXAiLCJwYXR0ZXJuSWR4VG9Mb25nZXJBbHRJZHgiLCJwYXR0ZXJuSWR4VG9QdXNoTW9kZSIsInBhdHRlcm5JZHhUb1BvcE1vZGUiLCJwYXR0ZXJuSWR4VG9DYW5MaW5lVGVybWluYXRvciIsInBhdHRlcm5JZHhUb0lzQ3VzdG9tIiwicGF0dGVybklkeFRvU2hvcnQiLCJlbXB0eUdyb3VwcyIsInBhdHRlcm5JZHhUb0NvbmZpZyIsImhhc0N1c3RvbSIsImN1cnJQYXR0ZXJuIiwicmVnRXhwU291cmNlIiwic291cmNlIiwiYWRkU3RpY2t5RmxhZyIsImFkZFN0YXJ0T2ZJbnB1dCIsImV4ZWMiLCJlc2NhcGVkUmVnRXhwU3RyaW5nIiwicmVwbGFjZSIsIndyYXBwZWRSZWdFeHAiLCJ0b2tlblR5cGVJZHgiLCJjbGF6eiIsImdyb3VwTmFtZSIsIkdST1VQIiwiU0tJUFBFRCIsImxvbmdlckFsdFR5cGUiLCJMT05HRVJfQUxUIiwiUFVTSF9NT0RFIiwibGluZVRlcm1pbmF0b3JDaGFyQ29kZXMiLCJnZXRDaGFyQ29kZXMiLCJ0b2tUeXBlIiwiTElORV9CUkVBS1MiLCJjaGVja0xpbmVCcmVha3NJc3N1ZXMiLCJpc0N1c3RvbVBhdHRlcm4iLCJpc1Nob3J0UGF0dGVybiIsImFjYyIsIngiLCJsb25nZXJBbHQiLCJjYW5MaW5lVGVybWluYXRvciIsImlzQ3VzdG9tIiwic2hvcnQiLCJncm91cCIsInBvcCIsInRva2VuVHlwZSIsImNhbkJlT3B0aW1pemVkIiwiY2hhckNvZGVUb1BhdHRlcm5JZHhUb0NvbmZpZyIsImN1cnJUb2tUeXBlIiwib3B0aW1pemVkSWR4IiwiYWRkVG9NYXBPZkFycmF5cyIsIlNUQVJUX0NIQVJTX0hJTlQiLCJsYXN0T3B0aW1pemVkSWR4XzEiLCJjaGFyT3JJbnQiLCJjdXJyT3B0aW1pemVkSWR4IiwidW5pY29kZSIsIm9wdGltaXplZENvZGVzIiwidmFsaWRhdGVQYXR0ZXJucyIsInZhbGlkTW9kZXNOYW1lcyIsImVycm9ycyIsIm1pc3NpbmdSZXN1bHQiLCJ0b2tlblR5cGVzV2l0aE1pc3NpbmdQYXR0ZXJuIiwiTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlIiwiTUlTU0lOR19QQVRURVJOIiwidmFsaWQiLCJmaW5kTWlzc2luZ1BhdHRlcm5zIiwiaW52YWxpZFJlc3VsdCIsInRva2VuVHlwZXNXaXRoSW52YWxpZFBhdHRlcm4iLCJJTlZBTElEX1BBVFRFUk4iLCJmaW5kSW52YWxpZFBhdHRlcm5zIiwidmFsaWRUb2tlblR5cGVzIiwid2l0aFJlZ0V4cFBhdHRlcm5zIiwiRW5kQW5jaG9yRmluZGVyIiwidmlzaXRFbmRBbmNob3IiLCJpbnZhbGlkUmVnZXgiLCJyZWdleHBBc3QiLCJlbmRBbmNob3JWaXNpdG9yIiwiZW5kX29mX2lucHV0IiwidGVzdCIsIkVPSV9BTkNIT1JfRk9VTkQiLCJmaW5kRW5kT2ZJbnB1dEFuY2hvciIsIlN0YXJ0QW5jaG9yRmluZGVyIiwidmlzaXRTdGFydEFuY2hvciIsInN0YXJ0QW5jaG9yVmlzaXRvciIsInN0YXJ0X29mX2lucHV0IiwiU09JX0FOQ0hPUl9GT1VORCIsImZpbmRTdGFydE9mSW5wdXRBbmNob3IiLCJpbnZhbGlkRmxhZ3MiLCJtdWx0aWxpbmUiLCJnbG9iYWwiLCJVTlNVUFBPUlRFRF9GTEFHU19GT1VORCIsImZpbmRVbnN1cHBvcnRlZEZsYWdzIiwiaWRlbnRpY2FsUGF0dGVybnMiLCJvdXRlclR5cGUiLCJpbm5lclR5cGUiLCJkdXBsaWNhdGVQYXR0ZXJucyIsImN1cnJJZGVudGljYWxTZXQiLCJzZXRPZklkZW50aWNhbCIsInRva2VuVHlwZU5hbWVzIiwiam9pbiIsIkRVUExJQ0FURV9QQVRURVJOU19GT1VORCIsImZpbmREdXBsaWNhdGVQYXR0ZXJucyIsIm1hdGNoZXNFbXB0eVN0cmluZyIsIkVNUFRZX01BVENIX1BBVFRFUk4iLCJmaW5kRW1wdHlNYXRjaFJlZ0V4cHMiLCJ2YWxpZGF0ZVJlZ0V4cFBhdHRlcm4iLCJpbnZhbGlkVHlwZXMiLCJJTlZBTElEX0dST1VQX1RZUEVfRk9VTkQiLCJmaW5kSW52YWxpZEdyb3VwVHlwZSIsInZhbGlkTW9kZXMiLCJpbnZhbGlkTW9kZXMiLCJQVVNIX01PREVfRE9FU19OT1RfRVhJU1QiLCJmaW5kTW9kZXNUaGF0RG9Ob3RFeGlzdCIsImNhbkJlVGVzdGVkIiwic3RyIiwidGVzdElkeCIsIl9hIiwicmVnRXhwQXJyYXkiLCJpbmRleCIsInRlc3RUb2tlblR5cGUiLCJVTlJFQUNIQUJMRV9QQVRURVJOIiwiZmluZFVucmVhY2hhYmxlUGF0dGVybnMiLCJwZXJmb3JtV2FybmluZ1J1bnRpbWVDaGVja3MiLCJsZXhlckRlZmluaXRpb24iLCJ0cmFja0xpbmVzIiwid2FybmluZ3MiLCJoYXNBbnlMaW5lQnJlYWsiLCJhbGxUb2tlblR5cGVzIiwibW9kZXMiLCJ0b2tUeXBlcyIsImNvbmNyZXRlVG9rZW5UeXBlcyIsInRlcm1pbmF0b3JDaGFyQ29kZXMiLCJjdXJySXNzdWUiLCJ3YXJuaW5nRGVzY3JpcHRvciIsImRldGFpbHMiLCJpc3N1ZSIsIklERU5USUZZX1RFUk1JTkFUT1IiLCJlcnJNc2ciLCJDVVNUT01fTElORV9CUkVBSyIsImJ1aWxkTGluZUJyZWFrSXNzdWVNZXNzYWdlIiwiTk9fTElORV9CUkVBS1NfRkxBR1MiLCJMaW5lVGVybWluYXRvck9wdGltaXplZFRlc3RlciIsInRleHQiLCJsYXN0SW5kZXgiLCJjaGFyc09yQ29kZXMiLCJudW1PclN0cmluZyIsImNoYXJDb2RlIiwidG9rZW5TdHJ1Y3R1cmVkTWF0Y2hlciIsInRva0luc3RhbmNlIiwidG9rQ29uc3RydWN0b3IiLCJpbnN0YW5jZVR5cGUiLCJpc1BhcmVudCIsImNhdGVnb3J5TWF0Y2hlc01hcCIsInRva2VuU3RydWN0dXJlZE1hdGNoZXJOb0NhdGVnb3JpZXMiLCJ0b2tlbiIsInRva2VuU2hvcnROYW1lSWR4IiwidG9rZW5JZHhUb0NsYXNzIiwiYXVnbWVudFRva2VuVHlwZXMiLCJ0b2tlblR5cGVzQW5kUGFyZW50cyIsImNhdGVnb3JpZXMiLCJzZWFyY2hpbmciLCJDQVRFR09SSUVTIiwibmV3Q2F0ZWdvcmllcyIsImV4cGFuZENhdGVnb3JpZXMiLCJoYXNTaG9ydEtleVByb3BlcnR5IiwiaGFzQ2F0ZWdvcmllc1Byb3BlcnR5IiwiY2F0ZWdvcnlNYXRjaGVzIiwiaGFzRXh0ZW5kaW5nVG9rZW5zVHlwZXNNYXBQcm9wZXJ0eSIsImFzc2lnblRva2VuRGVmYXVsdFByb3BzIiwic2luZ2xlQXNzaWduQ2F0ZWdvcmllc1Rva3NNYXAiLCJwYXRoIiwibmV4dE5vZGUiLCJwYXRoTm9kZSIsIm5leHRDYXRlZ29yeSIsIm5ld1BhdGgiLCJhc3NpZ25DYXRlZ29yaWVzTWFwUHJvcCIsImFzc2lnbkNhdGVnb3JpZXNUb2tlbnNQcm9wIiwiaXNUb2tlblR5cGUiLCJkZWZhdWx0TGV4ZXJFcnJvclByb3ZpZGVyIiwiYnVpbGRVbmFibGVUb1BvcExleGVyTW9kZU1lc3NhZ2UiLCJpbWFnZSIsImJ1aWxkVW5leHBlY3RlZENoYXJhY3RlcnNNZXNzYWdlIiwiZnVsbFRleHQiLCJzdGFydE9mZnNldCIsImxpbmUiLCJjb2x1bW4iLCJjaGFyQXQiLCJERUZBVUxUX0xFWEVSX0NPTkZJRyIsImRlZmVyRGVmaW5pdGlvbkVycm9yc0hhbmRsaW5nIiwibGluZVRlcm1pbmF0b3JzUGF0dGVybiIsImVycm9yTWVzc2FnZVByb3ZpZGVyIiwidHJhY2VJbml0UGVyZiIsInNraXBWYWxpZGF0aW9ucyIsImZyZWV6ZSIsIkxleGVyIiwiY29uZmlnIiwibGV4ZXJEZWZpbml0aW9uRXJyb3JzIiwibGV4ZXJEZWZpbml0aW9uV2FybmluZyIsInRyYWNrU3RhcnRMaW5lcyIsInRyYWNrRW5kTGluZXMiLCJjYW5Nb2RlQmVPcHRpbWl6ZWQiLCJ0cmFjZUluaXRWYWwiLCJ0cmFjZUluaXRNYXhJZGVudCIsIkluZmluaXR5IiwidHJhY2VJbml0SW5kZW50IiwiVFJBQ0VfSU5JVCIsImFjdHVhbERlZmluaXRpb24iLCJoYXNPbmx5U2luZ2xlTW9kZSIsIk1VTFRJX01PREVfTEVYRVJfV0lUSE9VVF9ERUZBVUxUX01PREUiLCJNVUxUSV9NT0RFX0xFWEVSX1dJVEhPVVRfTU9ERVNfUFJPUEVSVFkiLCJkZWZhdWx0TW9kZSIsIk1VTFRJX01PREVfTEVYRVJfREVGQVVMVF9NT0RFX1ZBTFVFX0RPRVNfTk9UX0VYSVNUIiwiY3Vyck1vZGVWYWx1ZSIsImN1cnJNb2RlTmFtZSIsImN1cnJJZHgiLCJMRVhFUl9ERUZJTklUSU9OX0NBTk5PVF9DT05UQUlOX1VOREVGSU5FRCIsInBlcmZvcm1SdW50aW1lQ2hlY2tzIiwiYWxsTW9kZU5hbWVzIiwiY3Vyck1vZERlZiIsImN1cnJNb2ROYW1lIiwiY3VyckFuYWx5emVSZXN1bHRfMSIsImFsbEVyck1lc3NhZ2VzU3RyaW5nIiwiY2hvcElucHV0IiwibWF0Y2giLCJtYXRjaFdpdGhUZXN0IiwidXBkYXRlTGFzdEluZGV4IiwibWF0Y2hXaXRoRXhlYyIsImhhbmRsZU1vZGVzIiwiY29tcHV0ZU5ld0NvbHVtbiIsInVwZGF0ZVRva2VuRW5kTGluZUNvbHVtbkxvY2F0aW9uIiwiY3JlYXRlVG9rZW5JbnN0YW5jZSIsImNyZWF0ZUZ1bGxUb2tlbiIsImNyZWF0ZVN0YXJ0T25seVRva2VuIiwiY3JlYXRlT2Zmc2V0T25seVRva2VuIiwiYWRkVG9rZW4iLCJhZGRUb2tlblVzaW5nUHVzaCIsImhhbmRsZVBheWxvYWQiLCJoYW5kbGVQYXlsb2FkV2l0aEN1c3RvbSIsImFkZFRva2VuVXNpbmdNZW1iZXJBY2Nlc3MiLCJoYW5kbGVQYXlsb2FkTm9DdXN0b20iLCJ1bk9wdGltaXplZE1vZGVzIiwiY2Fubm90QmVPcHRpbWl6ZWQiLCJtb2RlTmFtZSIsInRva2VuaXplIiwiaW5pdGlhbE1vZGUiLCJ0b2tlbml6ZUludGVybmFsIiwibWF0Y2hBbHRJbWFnZSIsImxvbmdlckFsdElkeCIsIm1hdGNoZWRJbWFnZSIsInBheWxvYWQiLCJhbHRQYXlsb2FkIiwiaW1hZ2VMZW5ndGgiLCJuZXdUb2tlbiIsImVyckxlbmd0aCIsImNsb25lZFJlc3VsdCIsImdyb3VwS2V5cyIsIm9yZ1RleHQiLCJvcmdMZW5ndGgiLCJvZmZzZXQiLCJtYXRjaGVkVG9rZW5zSW5kZXgiLCJndWVzc2VkTnVtYmVyT2ZUb2tlbnMiLCJNYXRoIiwiZmxvb3IiLCJtYXRjaGVkVG9rZW5zIiwiZ3JvdXBzIiwiY3Vyckdyb3VwVmFsdWUiLCJsaW5lVGVybWluYXRvclBhdHRlcm4iLCJjdXJyTW9kZVBhdHRlcm5zTGVuZ3RoIiwiY3VyckNoYXJDb2RlVG9QYXR0ZXJuSWR4VG9Db25maWciLCJtb2RlU3RhY2siLCJlbXB0eUFycmF5IiwiZ2V0UG9zc2libGVQYXR0ZXJucyIsImdldFBvc3NpYmxlUGF0dGVybnNTbG93IiwiZ2V0UG9zc2libGVQYXR0ZXJuc09wdGltaXplZCIsInBvc3NpYmxlUGF0dGVybnMiLCJjdXJyQ29uZmlnIiwicG9wX21vZGUiLCJwb3BUb2tlbiIsIm1zZ18xIiwic3RhcnRMaW5lIiwic3RhcnRDb2x1bW4iLCJuZXdNb2RlIiwibW9kZUNhbkJlT3B0aW1pemVkIiwicHVzaF9tb2RlIiwibmV4dENoYXJDb2RlIiwiY2hvc2VuUGF0dGVybklkeFRvQ29uZmlnIiwiY2hvc2VuUGF0dGVybnNMZW5ndGgiLCJzaW5nbGVDaGFyQ29kZSIsImxvbmdlckFsdENvbmZpZyIsImxvbmdlckFsdFBhdHRlcm4iLCJudW1PZkxUc0luTWF0Y2giLCJmb3VuZFRlcm1pbmF0b3IiLCJsYXN0TFRFbmRPZmZzZXQiLCJlcnJvclN0YXJ0T2Zmc2V0IiwiZXJyb3JMaW5lIiwiZXJyb3JDb2x1bW4iLCJmb3VuZFJlc3luY1BvaW50IiwiY3VyckNvbmZpZ18xIiwidG9rZW5zIiwicHVzaE1vZGUiLCJzdWJzdHJpbmciLCJuZXdMYXN0SW5kZXgiLCJsYXN0TFRJZHgiLCJsYXN0Q2hhcklzTFQiLCJmaXhGb3JFbmRpbmdJbkxUIiwiZW5kTGluZSIsImVuZENvbHVtbiIsIm9sZENvbHVtbiIsImFyZ3MiLCJlbmRPZmZzZXQiLCJ0b2tlblZlY3RvciIsInRva2VuVG9BZGQiLCJwaGFzZURlc2MiLCJwaGFzZUltcGwiLCJpbmRlbnQiLCJsb2ciLCJ0cmFjZU1ldGhvZCIsInRva2VuTGFiZWwiLCJoYXNUb2tlbkxhYmVsIiwiTEFCRUwiLCJ0b2tlbk5hbWUiLCJjcmVhdGVUb2tlbiIsIlBPUF9NT0RFIiwiY3JlYXRlVG9rZW5JbnRlcm5hbCIsIkVPRiIsIkFic3RyYWN0UHJvZHVjdGlvbiIsImRlZmluaXRpb24iLCJhY2NlcHQiLCJ2aXNpdG9yIiwicHJvZCIsIk5vblRlcm1pbmFsIiwidiIsInJlZmVyZW5jZWRSdWxlIiwiY29uZmlndXJhYmxlIiwiUnVsZSIsIkFsdGVybmF0aXZlIiwiaWdub3JlQW1iaWd1aXRpZXMiLCJPcHRpb24iLCJSZXBldGl0aW9uTWFuZGF0b3J5IiwiUmVwZXRpdGlvbk1hbmRhdG9yeVdpdGhTZXBhcmF0b3IiLCJSZXBldGl0aW9uIiwiUmVwZXRpdGlvbldpdGhTZXBhcmF0b3IiLCJBbHRlcm5hdGlvbiIsImhhc1ByZWRpY2F0ZXMiLCJUZXJtaW5hbCIsInNlcmlhbGl6ZUdyYW1tYXIiLCJ0b3BSdWxlcyIsInNlcmlhbGl6ZVByb2R1Y3Rpb24iLCJjb252ZXJ0RGVmaW5pdGlvbiIsIm5vblRlcm1pbmFsTmFtZSIsInNlcGFyYXRvciIsInRlcm1pbmFsVHlwZSIsInNlcmlhbGl6ZWRUZXJtaW5hbCIsImxhYmVsIiwiUmVzdFdhbGtlciIsIndhbGsiLCJwcmV2UmVzdCIsInN1YlByb2QiLCJjdXJyUmVzdCIsIndhbGtQcm9kUmVmIiwid2Fsa1Rlcm1pbmFsIiwid2Fsa0ZsYXQiLCJ3YWxrT3B0aW9uIiwid2Fsa0F0TGVhc3RPbmUiLCJ3YWxrQXRMZWFzdE9uZVNlcCIsIndhbGtNYW55U2VwIiwid2Fsa01hbnkiLCJ3YWxrT3IiLCJ0ZXJtaW5hbCIsInJlZlByb2QiLCJmbGF0UHJvZCIsImZ1bGxPclJlc3QiLCJvcHRpb25Qcm9kIiwiYXRMZWFzdE9uZVByb2QiLCJmdWxsQXRMZWFzdE9uZVJlc3QiLCJhdExlYXN0T25lU2VwUHJvZCIsImZ1bGxBdExlYXN0T25lU2VwUmVzdCIsInJlc3RGb3JSZXBldGl0aW9uV2l0aFNlcGFyYXRvciIsIm1hbnlQcm9kIiwiZnVsbE1hbnlSZXN0IiwibWFueVNlcFByb2QiLCJmdWxsTWFueVNlcFJlc3QiLCJvclByb2QiLCJhbHQiLCJwcm9kV3JhcHBlciIsInJlcFNlcFByb2QiLCJHQXN0VmlzaXRvciIsIm5vZGVBbnkiLCJ2aXNpdE5vblRlcm1pbmFsIiwidmlzaXRBbHRlcm5hdGl2ZSIsInZpc2l0T3B0aW9uIiwidmlzaXRSZXBldGl0aW9uTWFuZGF0b3J5IiwidmlzaXRSZXBldGl0aW9uTWFuZGF0b3J5V2l0aFNlcGFyYXRvciIsInZpc2l0UmVwZXRpdGlvbldpdGhTZXBhcmF0b3IiLCJ2aXNpdFJlcGV0aXRpb24iLCJ2aXNpdEFsdGVybmF0aW9uIiwidmlzaXRUZXJtaW5hbCIsInZpc2l0UnVsZSIsImlzT3B0aW9uYWxQcm9kIiwiYWxyZWFkeVZpc2l0ZWQiLCJnZXRQcm9kdWN0aW9uRHNsTmFtZSIsIkRzbE1ldGhvZHNDb2xsZWN0b3JWaXNpdG9yIiwiZHNsTWV0aG9kcyIsIm9wdGlvbiIsImFsdGVybmF0aW9uIiwicmVwZXRpdGlvbiIsInJlcGV0aXRpb25XaXRoU2VwYXJhdG9yIiwicmVwZXRpdGlvbk1hbmRhdG9yeSIsInJlcGV0aXRpb25NYW5kYXRvcnlXaXRoU2VwYXJhdG9yIiwicmVzZXQiLCJzdWJydWxlIiwibWFueVNlcCIsImF0TGVhc3RPbmUiLCJhdExlYXN0T25lU2VwIiwibWFueSIsIm9yIiwiaXNTZXF1ZW5jZVByb2QiLCJjdXJyU3ViUHJvZCIsImZpcnN0U2V0Iiwic2VxIiwibmV4dFN1YlByb2RJZHgiLCJoYXNJbm5lclByb2RzUmVtYWluaW5nIiwiaXNMYXN0SW5uZXJQcm9kT3B0aW9uYWwiLCJmaXJzdEZvclNlcXVlbmNlIiwiaXNCcmFuY2hpbmdQcm9kIiwiYWxsQWx0ZXJuYXRpdmVzRmlyc3RzIiwiaW5uZXJQcm9kIiwiZmlyc3RGb3JCcmFuY2hpbmciLCJJTiIsIlJlc3luY0ZvbGxvd3NXYWxrZXIiLCJ0b3BQcm9kIiwiZm9sbG93cyIsInN0YXJ0V2Fsa2luZyIsImlubmVyIiwib2NjdXJlbmNlSW5QYXJlbnQiLCJmb2xsb3dOYW1lIiwiZnVsbFJlc3QiLCJ0X2luX3RvcFByb2RfZm9sbG93cyIsImRlZmF1bHRQYXJzZXJFcnJvclByb3ZpZGVyIiwiYnVpbGRNaXNtYXRjaFRva2VuTWVzc2FnZSIsImV4cGVjdGVkIiwiYWN0dWFsIiwicHJldmlvdXMiLCJydWxlTmFtZSIsImJ1aWxkTm90QWxsSW5wdXRQYXJzZWRNZXNzYWdlIiwiZmlyc3RSZWR1bmRhbnQiLCJidWlsZE5vVmlhYmxlQWx0TWVzc2FnZSIsImV4cGVjdGVkUGF0aHNQZXJBbHQiLCJjdXN0b21Vc2VyRGVzY3JpcHRpb24iLCJlcnJTdWZmaXgiLCJhbGxMb29rQWhlYWRQYXRocyIsImN1cnJBbHRQYXRocyIsIm5leHRWYWxpZFRva2VuU2VxdWVuY2VzIiwiY3VyclBhdGgiLCJjdXJyVG9rZW5UeXBlIiwiaXRlbU1zZyIsImJ1aWxkRWFybHlFeGl0TWVzc2FnZSIsImV4cGVjdGVkSXRlcmF0aW9uUGF0aHMiLCJkZWZhdWx0R3JhbW1hclJlc29sdmVyRXJyb3JQcm92aWRlciIsImJ1aWxkUnVsZU5vdEZvdW5kRXJyb3IiLCJ0b3BMZXZlbFJ1bGUiLCJ1bmRlZmluZWRSdWxlIiwiZGVmYXVsdEdyYW1tYXJWYWxpZGF0b3JFcnJvclByb3ZpZGVyIiwiYnVpbGREdXBsaWNhdGVGb3VuZEVycm9yIiwiZHVwbGljYXRlUHJvZHMiLCJ0b3BMZXZlbE5hbWUiLCJkdXBsaWNhdGVQcm9kIiwiZHNsTmFtZSIsImV4dHJhQXJndW1lbnQiLCJidWlsZE5hbWVzcGFjZUNvbmZsaWN0RXJyb3IiLCJydWxlIiwiYnVpbGRBbHRlcm5hdGlvblByZWZpeEFtYmlndWl0eUVycm9yIiwicGF0aE1zZyIsInByZWZpeFBhdGgiLCJjdXJyVG9rIiwib2NjdXJyZW5jZSIsImFtYmlndWl0eUluZGljZXMiLCJidWlsZEFsdGVybmF0aW9uQW1iaWd1aXR5RXJyb3IiLCJjdXJydG9rIiwiY3Vyck1lc3NhZ2UiLCJidWlsZEVtcHR5UmVwZXRpdGlvbkVycm9yIiwiYnVpbGRUb2tlbk5hbWVFcnJvciIsImV4cGVjdGVkUGF0dGVybiIsImJ1aWxkRW1wdHlBbHRlcm5hdGlvbkVycm9yIiwiZW1wdHlDaG9pY2VJZHgiLCJidWlsZFRvb01hbnlBbHRlcm5hdGl2ZXNFcnJvciIsImJ1aWxkTGVmdFJlY3Vyc2lvbkVycm9yIiwidXRpbHMiLCJsZWZ0UmVjdXJzaW9uUGF0aCIsImN1cnJSdWxlIiwiYnVpbGRJbnZhbGlkUnVsZU5hbWVFcnJvciIsImJ1aWxkRHVwbGljYXRlUnVsZU5hbWVFcnJvciIsImdyYW1tYXJOYW1lIiwiR2FzdFJlZlJlc29sdmVyVmlzaXRvciIsIm5hbWVUb1RvcFJ1bGUiLCJlcnJNc2dQcm92aWRlciIsInJlc29sdmVSZWZzIiwiY3VyclRvcExldmVsIiwicmVmIiwiUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZSIsIlVOUkVTT0xWRURfU1VCUlVMRV9SRUYiLCJ1bnJlc29sdmVkUmVmTmFtZSIsIk5leHRBZnRlclRva2VuV2Fsa2VyIiwibmV4dFRlcm1pbmFsTmFtZSIsIm5leHRUZXJtaW5hbE9jY3VycmVuY2UiLCJsYXN0VG9rIiwibGFzdFRva09jY3VycmVuY2UiLCJpc0F0RW5kT2ZQYXRoIiwicmVzdFByb2QiLCJwb3NzaWJsZVRva1R5cGVzIiwiQWJzdHJhY3ROZXh0UG9zc2libGVUb2tlbnNXYWxrZXIiLCJuZXh0UHJvZHVjdGlvbk5hbWUiLCJuZXh0UHJvZHVjdGlvbk9jY3VycmVuY2UiLCJydWxlU3RhY2siLCJyZXZlcnNlIiwib2NjdXJyZW5jZVN0YWNrIiwidXBkYXRlRXhwZWN0ZWROZXh0IiwiQWJzdHJhY3ROZXh0VGVybWluYWxBZnRlclByb2R1Y3Rpb25XYWxrZXIiLCJ0b3BSdWxlIiwiaXNFbmRPZlJ1bGUiLCJOZXh0VGVybWluYWxBZnRlck1hbnlXYWxrZXIiLCJmaXJzdEFmdGVyTWFueSIsIk5leHRUZXJtaW5hbEFmdGVyTWFueVNlcFdhbGtlciIsImZpcnN0QWZ0ZXJNYW55U2VwIiwiTmV4dFRlcm1pbmFsQWZ0ZXJBdExlYXN0T25lV2Fsa2VyIiwiZmlyc3RBZnRlckF0TGVhc3RPbmUiLCJOZXh0VGVybWluYWxBZnRlckF0TGVhc3RPbmVTZXBXYWxrZXIiLCJhdGxlYXN0T25lU2VwUHJvZCIsImZpcnN0QWZ0ZXJmaXJzdEFmdGVyQXRMZWFzdE9uZVNlcCIsInBvc3NpYmxlUGF0aHNGcm9tIiwidGFyZ2V0RGVmIiwibWF4TGVuZ3RoIiwiZ2V0QWx0ZXJuYXRpdmVzRm9yUHJvZCIsImFsdGVybmF0aXZlcyIsIm5ld0RlZiIsImN1cnJBbHQiLCJwYXJ0aWFsUGF0aCIsInN1ZmZpeERlZiIsIm5leHRQb3NzaWJsZVRva2Vuc0FmdGVyIiwiaW5pdGlhbERlZiIsInRva01hdGNoZXIiLCJtYXhMb29rQWhlYWQiLCJFWElUX05PTl9URVJNSU5BTF9BUlIiLCJmb3VuZENvbXBsZXRlUGF0aCIsInRva2VuVmVjdG9yTGVuZ3RoIiwibWluaW1hbEFsdGVybmF0aXZlc0luZGV4IiwicG9zc2libGVQYXRocyIsImRlZiIsImN1cnJEZWYiLCJjdXJyUnVsZVN0YWNrIiwiY3Vyck9jY3VycmVuY2VTdGFjayIsIm5leHRQYXRoIiwibmV4dElkeCIsIm5leHRUb2tlblR5cGUiLCJuZXh0VG9rZW5PY2N1cnJlbmNlIiwibmV3UnVsZVN0YWNrIiwibmV3T2NjdXJyZW5jZVN0YWNrIiwibmV4dFBhdGhXaXRob3V0IiwibmV4dFBhdGhXaXRoIiwic2Vjb25kSXRlcmF0aW9uIiwic2VwYXJhdG9yR2FzdCIsIm50aFJlcGV0aXRpb24iLCJjdXJyQWx0UGF0aCIsImV4cGFuZFRvcExldmVsUnVsZSIsIm5ld0N1cnJPY2N1cnJlbmNlU3RhY2siLCJQUk9EX1RZUEUiLCJSZXN0RGVmaW5pdGlvbkZpbmRlcldhbGtlciIsInRhcmdldE9jY3VycmVuY2UiLCJ0YXJnZXRQcm9kVHlwZSIsInJlc3REZWYiLCJjaGVja0lzVGFyZ2V0IiwiZXhwZWN0ZWRQcm9kVHlwZSIsIk9QVElPTiIsIlJFUEVUSVRJT05fTUFOREFUT1JZIiwiUkVQRVRJVElPTl9NQU5EQVRPUllfV0lUSF9TRVBBUkFUT1IiLCJSRVBFVElUSU9OIiwiUkVQRVRJVElPTl9XSVRIX1NFUEFSQVRPUiIsIkluc2lkZURlZmluaXRpb25GaW5kZXJWaXNpdG9yIiwidGFyZ2V0UmVmIiwiZXhwZWN0ZWRQcm9kTmFtZSIsIkFMVEVSTkFUSU9OIiwiaW5pdGlhbGl6ZUFycmF5T2ZBcnJheXMiLCJzaXplIiwicGF0aFRvSGFzaEtleXMiLCJsb25nZXJLZXlzIiwiY3VyclNob3J0ZXJLZXkiLCJjYXRlZ29yaWVzS2V5U3VmZml4IiwiaXNVbmlxdWVQcmVmaXhIYXNoIiwiYWx0S25vd25QYXRoc0tleXMiLCJzZWFyY2hQYXRoS2V5cyIsImN1cnJBbHRJZHgiLCJvdGhlckFsdEtub3duUGF0aHNLZXlzIiwic2VhcmNoSWR4IiwibG9va0FoZWFkU2VxdWVuY2VGcm9tQWx0ZXJuYXRpdmVzIiwiYWx0c0RlZnMiLCJrIiwicGFydGlhbEFsdHMiLCJmaW5hbFJlc3VsdCIsImFsdHNIYXNoZXMiLCJkaWN0IiwibmV3RGF0YSIsInBhdGhMZW5ndGgiLCJjdXJyRGF0YXNldCIsIl9sb29wXzEiLCJhbHRJZHgiLCJjdXJyQWx0UGF0aHNBbmRTdWZmaXhlcyIsImN1cnJQYXRoSWR4IiwiY3VyclBhdGhQcmVmaXgiLCJwcmVmaXhLZXlzIiwiY3VyckFsdFJlc3VsdCIsImNvbnRhaW5zUGF0aCIsIm5ld1BhcnRpYWxQYXRoc0FuZFN1ZmZpeGVzIiwiZ2V0TG9va2FoZWFkUGF0aHNGb3JPciIsInJ1bGVHcmFtbWFyIiwiZ2V0TG9va2FoZWFkUGF0aHNGb3JPcHRpb25hbFByb2QiLCJwcm9kVHlwZSIsImluc2lkZURlZlZpc2l0b3IiLCJpbnNpZGVEZWYiLCJhZnRlckRlZiIsImFsdGVybmF0aXZlIiwic2VhcmNoUGF0aCIsImNvbXBhcmVPdGhlclBhdGgiLCJvdGhlclBhdGgiLCJzZWFyY2hUb2siLCJvdGhlclRvayIsImFyZVRva2VuQ2F0ZWdvcmllc05vdFVzZWQiLCJsb29rQWhlYWRQYXRocyIsInNpbmdsZUFsdFBhdGhzIiwic2luZ2xlUGF0aCIsInZhbGlkYXRlR3JhbW1hciIsInRvcExldmVscyIsImdsb2JhbE1heExvb2thaGVhZCIsImR1cGxpY2F0ZUVycm9ycyIsImNvbGxlY3RvclZpc2l0b3IiLCJPY2N1cnJlbmNlVmFsaWRhdGlvbkNvbGxlY3RvciIsImFsbFJ1bGVQcm9kdWN0aW9ucyIsImFsbFByb2R1Y3Rpb25zIiwicHJvZHVjdGlvbkdyb3VwcyIsImlkZW50aWZ5UHJvZHVjdGlvbkZvckR1cGxpY2F0ZXMiLCJkdXBsaWNhdGVzIiwiY3Vyckdyb3VwIiwiY3VyckR1cGxpY2F0ZXMiLCJmaXJzdFByb2QiLCJkZWZFcnJvciIsIkRVUExJQ0FURV9QUk9EVUNUSU9OUyIsInBhcmFtIiwicGFyYW1ldGVyIiwidmFsaWRhdGVEdXBsaWNhdGVQcm9kdWN0aW9ucyIsImxlZnRSZWN1cnNpb25FcnJvcnMiLCJjdXJyVG9wUnVsZSIsInZhbGlkYXRlTm9MZWZ0UmVjdXJzaW9uIiwibmV4dE5vblRlcm1pbmFscyIsImdldEZpcnN0Tm9uZVRlcm1pbmFsIiwiY3VyclN1YkRlZiIsImlzRmlyc3RPcHRpb25hbCIsImhhc01vcmUiLCJyZXN0IiwiTEVGVF9SRUNVUlNJT04iLCJ2YWxpZE5leHRTdGVwcyIsImVycm9yc0Zyb21OZXh0U3RlcHMiLCJjdXJyUmVmUnVsZSIsImVtcHR5QWx0RXJyb3JzIiwiYW1iaWd1b3VzQWx0c0Vycm9ycyIsImVtcHR5UmVwZXRpdGlvbkVycm9ycyIsIm9yQ29sbGVjdG9yIiwiT3JDb2xsZWN0b3IiLCJvcnMiLCJhbHRlcm5hdGlvbnMiLCJjdXJyT3IiLCJleGNlcHRMYXN0IiwiY3VyckVycm9ycyIsImN1cnJBbHRlcm5hdGl2ZSIsInBvc3NpYmxlRmlyc3RJbkFsdCIsIk5PTkVfTEFTVF9FTVBUWV9BTFQiLCJ2YWxpZGF0ZUVtcHR5T3JBbHRlcm5hdGl2ZSIsImN1cnJPY2N1cnJlbmNlIiwiYWN0dWFsTWF4TG9va2FoZWFkIiwibWF4TG9va2FoZWFkIiwiYWx0c0FtYmlndWl0eUVycm9ycyIsImZvdW5kQW1iaWd1b3VzUGF0aHMiLCJpZGVudGljYWxBbWJpZ3VpdGllcyIsImFsdHNDdXJyUGF0aEFwcGVhcnNJbiIsImN1cnJPdGhlckFsdCIsImN1cnJPdGhlckFsdElkeCIsImFsdHMiLCJjdXJyQW1iRGVzY3JpcHRvciIsImFtYmdJbmRpY2VzIiwiQU1CSUdVT1VTX0FMVFMiLCJjaGVja0FsdGVybmF0aXZlc0FtYmlndWl0aWVzIiwiYWx0c1ByZWZpeEFtYmlndWl0eUVycm9ycyIsInBhdGhzQW5kSW5kaWNlcyIsImN1cnJQYXRoc0FuZElkeCIsImN1cnJQYXRoQW5kSWR4IiwidGFyZ2V0SWR4IiwidGFyZ2V0UGF0aCIsInByZWZpeEFtYmlndWl0aWVzUGF0aHNBbmRJbmRpY2VzIiwic2VhcmNoUGF0aEFuZElkeCIsInByZWZpeCIsIm90aGVyIiwib3RoZXJUb2tUeXBlIiwiY3VyclBhdGhQcmVmaXhFcnJvcnMiLCJjdXJyQW1iUGF0aEFuZElkeCIsIkFNQklHVU9VU19QUkVGSVhfQUxUUyIsImNoZWNrUHJlZml4QWx0ZXJuYXRpdmVzQW1iaWd1aXRpZXMiLCJ2YWxpZGF0ZUFtYmlndW91c0FsdGVybmF0aW9uQWx0ZXJuYXRpdmVzIiwidG9wTGV2ZWxSdWxlcyIsIlJlcGV0aW9uQ29sbGVjdG9yIiwiY3VyclByb2QiLCJnZXRQcm9kVHlwZSIsInBhdGhzSW5zaWRlUHJvZHVjdGlvbiIsIk5PX05PTl9FTVBUWV9MT09LQUhFQUQiLCJ2YWxpZGF0ZVNvbWVOb25FbXB0eUxvb2thaGVhZFBhdGgiLCJ0ZXJtc05hbWVzcGFjZUNvbmZsaWN0RXJyb3JzIiwidG9rZW5OYW1lcyIsImN1cnJUb2tlbiIsImN1cnJSdWxlTmFtZSIsIkNPTkZMSUNUX1RPS0VOU19SVUxFU19OQU1FU1BBQ0UiLCJjaGVja1Rlcm1pbmFsQW5kTm9uZVRlcm1pbmFsc05hbWVTcGFjZSIsInRva2VuTmFtZUVycm9ycyIsInZhbGlkVGVybXNQYXR0ZXJuIiwiSU5WQUxJRF9UT0tFTl9OQU1FIiwidmFsaWRhdGVUb2tlbk5hbWUiLCJ0b29NYW55QWx0c0Vycm9ycyIsImN1clJ1bGUiLCJUT09fTUFOWV9BTFRTIiwidmFsaWRhdGVUb29NYW55QWx0cyIsInJ1bGVOYW1lRXJyb3JzIiwiSU5WQUxJRF9SVUxFX05BTUUiLCJ2YWxpZGF0ZVJ1bGVOYW1lIiwiZHVwbGljYXRlUnVsZXNFcnJvciIsImFsbFJ1bGVzIiwiY2xhc3NOYW1lIiwiRFVQTElDQVRFX1JVTEVfTkFNRSIsInZhbGlkYXRlUnVsZURvZXNOb3RBbHJlYWR5RXhpc3QiLCJyZWZSZXNvbHZlciIsInRvcFJ1bGVzVGFibGUiLCJydWxlcyIsImFzc2lnbk9jY3VycmVuY2VJbmRpY2VzIiwibWV0aG9kc0NvbGxlY3RvciIsIm1ldGhvZHMiLCJjdXJyTWV0aG9kIiwiYXJySWR4IiwiUkVDT0dOSVRJT05fRVhDRVBUSU9OX05BTUVTIiwiaXNSZWNvZ25pdGlvbkV4Y2VwdGlvbiIsIk1pc21hdGNoZWRUb2tlbkV4Y2VwdGlvbiIsInByZXZpb3VzVG9rZW4iLCJyZXN5bmNlZFRva2VucyIsIk5vVmlhYmxlQWx0RXhjZXB0aW9uIiwiTm90QWxsSW5wdXRQYXJzZWRFeGNlcHRpb24iLCJFYXJseUV4aXRFeGNlcHRpb24iLCJFT0ZfRk9MTE9XX0tFWSIsIkluUnVsZVJlY292ZXJ5RXhjZXB0aW9uIiwiUmVjb3ZlcmFibGUiLCJpbml0UmVjb3ZlcmFibGUiLCJmaXJzdEFmdGVyUmVwTWFwIiwicmVzeW5jRm9sbG93cyIsInJlY292ZXJ5RW5hYmxlZCIsIkRFRkFVTFRfUEFSU0VSX0NPTkZJRyIsImF0dGVtcHRJblJlcGV0aXRpb25SZWNvdmVyeSIsImdldFRva2VuVG9JbnNlcnQiLCJ0b2tUb0luc2VydCIsIk5hTiIsImlzSW5zZXJ0ZWRJblJlY292ZXJ5IiwiY2FuVG9rZW5UeXBlQmVJbnNlcnRlZEluUmVjb3ZlcnkiLCJ0cnlJblJlcGV0aXRpb25SZWNvdmVyeSIsImdyYW1tYXJSdWxlIiwiZ3JhbW1hclJ1bGVBcmdzIiwibG9va0FoZWFkRnVuYyIsImV4cGVjdGVkVG9rVHlwZSIsInJlU3luY1Rva1R5cGUiLCJmaW5kUmVTeW5jVG9rZW5UeXBlIiwic2F2ZWRMZXhlclN0YXRlIiwiZXhwb3J0TGV4ZXJTdGF0ZSIsInBhc3NlZFJlc3luY1BvaW50IiwibmV4dFRva2VuV2l0aG91dFJlc3luYyIsIkxBIiwiZ2VuZXJhdGVFcnJvck1lc3NhZ2UiLCJnZXRDdXJyUnVsZUZ1bGxOYW1lIiwiU0FWRV9FUlJPUiIsInRva2VuTWF0Y2hlciIsIlNLSVBfVE9LRU4iLCJhZGRUb1Jlc3luY1Rva2VucyIsImltcG9ydExleGVyU3RhdGUiLCJzaG91bGRJblJlcGV0aXRpb25SZWNvdmVyeUJlVHJpZWQiLCJleHBlY3RUb2tBZnRlckxhc3RNYXRjaCIsIm5leHRUb2tJZHgiLCJub3RTdHVjayIsImlzQmFja1RyYWNraW5nIiwiY2FuUGVyZm9ybUluUnVsZVJlY292ZXJ5IiwiZ2V0Rm9sbG93c0ZvckluUnVsZVJlY292ZXJ5IiwidG9rSWR4SW5SdWxlIiwiZ3JhbW1hclBhdGgiLCJnZXRDdXJyZW50R3JhbW1hclBhdGgiLCJnZXROZXh0UG9zc2libGVUb2tlblR5cGVzIiwidHJ5SW5SdWxlUmVjb3ZlcnkiLCJjYW5SZWNvdmVyV2l0aFNpbmdsZVRva2VuSW5zZXJ0aW9uIiwiY2FuUmVjb3ZlcldpdGhTaW5nbGVUb2tlbkRlbGV0aW9uIiwibmV4dFRvayIsImNvbnN1bWVUb2tlbiIsImV4cGVjdGVkVG9rZW4iLCJtaXNtYXRjaGVkVG9rIiwicG9zc2libGVGb2xsb3dzVG9rVHlwZSIsImlzSW5DdXJyZW50UnVsZVJlU3luY1NldCIsImZvbGxvd0tleSIsImdldEN1cnJGb2xsb3dLZXkiLCJjdXJyZW50UnVsZVJlU3luY1NldCIsImdldEZvbGxvd1NldEZyb21Gb2xsb3dLZXkiLCJhbGxQb3NzaWJsZVJlU3luY1Rva1R5cGVzIiwiZmxhdHRlbkZvbGxvd1NldCIsIm5leHRUb2tlbiIsIlJVTEVfU1RBQ0siLCJjdXJyUnVsZVNob3J0TmFtZSIsImdldExhc3RFeHBsaWNpdFJ1bGVTaG9ydE5hbWUiLCJjdXJyUnVsZUlkeCIsImdldExhc3RFeHBsaWNpdFJ1bGVPY2N1cnJlbmNlSW5kZXgiLCJwcmV2UnVsZVNob3J0TmFtZSIsImdldFByZXZpb3VzRXhwbGljaXRSdWxlU2hvcnROYW1lIiwic2hvcnRSdWxlTmFtZVRvRnVsbE5hbWUiLCJpZHhJbkNhbGxpbmdSdWxlIiwiaW5SdWxlIiwiYnVpbGRGdWxsRm9sbG93S2V5U3RhY2siLCJleHBsaWNpdFJ1bGVTdGFjayIsImV4cGxpY2l0T2NjdXJyZW5jZVN0YWNrIiwiUlVMRV9PQ0NVUlJFTkNFX1NUQUNLIiwiZm9sbG93U3RhY2siLCJyZXN5bmNUb2tlbnMiLCJyZVN5bmNUbyIsInByb2RGdW5jIiwibG9va2FoZWFkRnVuYyIsImRzbE1ldGhvZElkeCIsInByb2RPY2N1cnJlbmNlIiwibmV4dFRva3NXYWxrZXIiLCJnZXRIdW1hblJlYWRhYmxlUnVsZVN0YWNrIiwiY3VyclNob3J0TmFtZSIsImdldEtleUZvckF1dG9tYXRpY0xvb2thaGVhZCIsImZpcnN0QWZ0ZXJSZXBJbmZvIiwiZ2V0R0FzdFByb2R1Y3Rpb25zIiwicnVsZUlkeCIsIkxvb2tzQWhlYWQiLCJpbml0TG9va3NBaGVhZCIsImR5bmFtaWNUb2tlbnNFbmFibGVkIiwibG9va0FoZWFkRnVuY3NDYWNoZSIsImdldExhRnVuY0Zyb21DYWNoZSIsImdldExhRnVuY0Zyb21NYXAiLCJzZXRMYUZ1bmNDYWNoZSIsInNldExhRnVuY0NhY2hlVXNpbmdNYXAiLCJnZXRMYUZ1bmNGcm9tT2JqIiwic2V0TGFGdW5jVXNpbmdPYmoiLCJwcmVDb21wdXRlTG9va2FoZWFkRnVuY3Rpb25zIiwiY29sbGVjdE1ldGhvZHMiLCJwcm9kSWR4IiwibGFGdW5jQnVpbGRlciIsImxhRnVuYyIsImxvb2tBaGVhZEJ1aWxkZXJGb3JBbHRlcm5hdGl2ZXMiLCJmdWxsUnVsZU5hbWVUb1Nob3J0IiwiY29tcHV0ZUxvb2thaGVhZEZ1bmMiLCJwcm9kS2V5IiwicHJvZE1heExvb2thaGVhZCIsImRzbE1ldGhvZE5hbWUiLCJsb29rYWhlYWRCdWlsZGVyIiwiYnVpbGRMb29rYWhlYWRGdW5jRm9yT3B0aW9uYWxQcm9kIiwibG9va0FoZWFkQnVpbGRlckZvck9wdGlvbmFsIiwiYXJlQWxsT25lVG9rZW5Mb29rYWhlYWQiLCJudW1PZlBhdGhzIiwic2luZ2xlVG9rZW5zVHlwZXMiLCJleHBlY3RlZFRva2VuVW5pcXVlS2V5XzEiLCJjaG9pY2VUb0FsdF8yIiwiY3VyckV4dGVuZGluZ1R5cGUiLCJjdXJyUGF0aExlbmd0aCIsImJ1aWxkU2luZ2xlQWx0ZXJuYXRpdmVMb29rYWhlYWRGdW5jdGlvbiIsIm51bU9mQWx0cyIsIm9yQWx0cyIsInByZWRpY2F0ZXMiLCJHQVRFIiwiY3Vyck51bU9mUGF0aHMiLCJjdXJyUHJlZGljYXRlIiwic2luZ2xlVG9rZW5BbHRzIiwiY2hvaWNlVG9BbHRfMSIsImJ1aWxkQWx0ZXJuYXRpdmVzTG9va0FoZWFkRnVuYyIsInNldE5vZGVMb2NhdGlvbk9ubHlPZmZzZXQiLCJjdXJyTm9kZUxvY2F0aW9uIiwibmV3TG9jYXRpb25JbmZvIiwiaXNOYU4iLCJzZXROb2RlTG9jYXRpb25GdWxsIiwiQ3N0VmlzaXRvckRlZmluaXRpb25FcnJvciIsIkZVTkNfTkFNRV9SRUdFWFAiLCJmdW5jdGlvbk5hbWUiLCJleGlzdGluZ05hbWVQcm9wIiwiZGVmaW5lTmFtZVByb3AiLCJuYW1lVmFsdWUiLCJuYW1lUHJvcERlc2NyaXB0b3IiLCJ3cml0YWJsZSIsImRlZmF1bHRWaXNpdCIsImN0eCIsImNoaWxkcmVuTmFtZXMiLCJjaGlsZHJlbk5hbWVzTGVuZ3RoIiwiY3VyckNoaWxkQXJyYXkiLCJjdXJyQ2hpbGRBcnJheUxlbmd0aCIsImN1cnJDaGlsZCIsImNoaWxkcmVuIiwiY3JlYXRlQmFzZVNlbWFudGljVmlzaXRvckNvbnN0cnVjdG9yIiwicnVsZU5hbWVzIiwiZGVyaXZlZENvbnN0cnVjdG9yIiwiY3N0Tm9kZSIsInZhbGlkYXRlVmlzaXRvciIsInNlbWFudGljRGVmaW5pdGlvbkVycm9ycyIsInZpc2l0b3JJbnN0YW5jZSIsIm1pc3NpbmdFcnJvcnMiLCJNSVNTSU5HX01FVEhPRCIsIm1ldGhvZE5hbWUiLCJ2YWxpZGF0ZU1pc3NpbmdDc3RNZXRob2RzIiwicmVkdW5kYW50RXJyb3JzIiwiVkFMSURfUFJPUF9OQU1FUyIsIlJFRFVOREFOVF9NRVRIT0QiLCJ2YWxpZGF0ZVJlZHVuZGFudE1ldGhvZHMiLCJlcnJvck1lc3NhZ2VzIiwiY3VyckRlZkVycm9yIiwiX1JVTEVfTkFNRVMiLCJUcmVlQnVpbGRlciIsImluaXRUcmVlQnVpbGRlciIsIkNTVF9TVEFDSyIsIm91dHB1dENzdCIsIm5vZGVMb2NhdGlvblRyYWNraW5nIiwic2V0Tm9kZUxvY2F0aW9uRnJvbVRva2VuIiwic2V0Tm9kZUxvY2F0aW9uRnJvbU5vZGUiLCJjc3RQb3N0UnVsZSIsInNldEluaXRpYWxOb2RlTG9jYXRpb24iLCJzZXRJbml0aWFsTm9kZUxvY2F0aW9uRnVsbFJlY292ZXJ5IiwiY3N0UG9zdFJ1bGVGdWxsIiwic2V0SW5pdGlhbE5vZGVMb2NhdGlvbkZ1bGxSZWd1bGFyIiwic2V0SW5pdGlhbE5vZGVMb2NhdGlvbk9ubHlPZmZzZXRSZWNvdmVyeSIsImNzdFBvc3RSdWxlT25seU9mZnNldCIsInNldEluaXRpYWxOb2RlTG9jYXRpb25Pbmx5T2Zmc2V0UmVndWxhciIsImNzdEludm9jYXRpb25TdGF0ZVVwZGF0ZSIsImNzdEZpbmFsbHlTdGF0ZVVwZGF0ZSIsImNzdFBvc3RUZXJtaW5hbCIsImNzdFBvc3ROb25UZXJtaW5hbCIsImxvY2F0aW9uIiwiZnVsbFJ1bGVOYW1lIiwic2hvcnROYW1lIiwicnVsZUNzdE5vZGUiLCJwcmV2VG9rZW4iLCJsb2MiLCJjb25zdW1lZFRva2VuIiwidG9rZW5UeXBlTmFtZSIsInJvb3RDc3QiLCJydWxlQ3N0UmVzdWx0IiwicHJlQ3N0Tm9kZSIsInJ1bGVSZXN1bHQiLCJhZGROb25lVGVybWluYWxUb0NzdCIsImdldEJhc2VDc3RWaXNpdG9yQ29uc3RydWN0b3IiLCJiYXNlQ3N0VmlzaXRvckNvbnN0cnVjdG9yIiwibmV3QmFzZUNzdFZpc2l0b3JDb25zdHJ1Y3RvciIsImdhc3RQcm9kdWN0aW9uc0NhY2hlIiwiZ2V0QmFzZUNzdFZpc2l0b3JDb25zdHJ1Y3RvcldpdGhEZWZhdWx0cyIsImJhc2VDc3RWaXNpdG9yV2l0aERlZmF1bHRzQ29uc3RydWN0b3IiLCJuZXdDb25zdHJ1Y3RvciIsImJhc2VDb25zdHJ1Y3RvciIsIndpdGhEZWZhdWx0c1Byb3RvIiwiY3JlYXRlQmFzZVZpc2l0b3JDb25zdHJ1Y3RvcldpdGhEZWZhdWx0cyIsIkxleGVyQWRhcHRlciIsImluaXRMZXhlckFkYXB0ZXIiLCJ0b2tWZWN0b3IiLCJ0b2tWZWN0b3JMZW5ndGgiLCJuZXdJbnB1dCIsInNlbGZBbmFseXNpc0RvbmUiLCJFTkRfT0ZfRklMRSIsInNvdWdodElkeCIsIm5ld1N0YXRlIiwicmVzZXRMZXhlclN0YXRlIiwibW92ZVRvVGVybWluYXRlZFN0YXRlIiwiZ2V0TGV4ZXJQb3NpdGlvbiIsIlJlY29nbml6ZXJBcGkiLCJBQ1RJT04iLCJpbXBsIiwiY29uc3VtZSIsImNvbnN1bWVJbnRlcm5hbCIsInJ1bGVUb0NhbGwiLCJzdWJydWxlSW50ZXJuYWwiLCJhY3Rpb25PUk1ldGhvZERlZiIsIm9wdGlvbkludGVybmFsIiwiYWx0c09yT3B0cyIsIm9ySW50ZXJuYWwiLCJtYW55SW50ZXJuYWwiLCJhdExlYXN0T25lSW50ZXJuYWwiLCJDT05TVU1FIiwiQ09OU1VNRTEiLCJDT05TVU1FMiIsIkNPTlNVTUUzIiwiQ09OU1VNRTQiLCJDT05TVU1FNSIsIkNPTlNVTUU2IiwiQ09OU1VNRTciLCJDT05TVU1FOCIsIkNPTlNVTUU5IiwiU1VCUlVMRSIsIlNVQlJVTEUxIiwiU1VCUlVMRTIiLCJTVUJSVUxFMyIsIlNVQlJVTEU0IiwiU1VCUlVMRTUiLCJTVUJSVUxFNiIsIlNVQlJVTEU3IiwiU1VCUlVMRTgiLCJTVUJSVUxFOSIsIk9QVElPTjEiLCJPUFRJT04yIiwiT1BUSU9OMyIsIk9QVElPTjQiLCJPUFRJT041IiwiT1BUSU9ONiIsIk9QVElPTjciLCJPUFRJT044IiwiT1BUSU9OOSIsIk9SIiwiT1IxIiwiT1IyIiwiT1IzIiwiT1I0IiwiT1I1IiwiT1I2IiwiT1I3IiwiT1I4IiwiT1I5IiwiTUFOWSIsIk1BTlkxIiwiTUFOWTIiLCJNQU5ZMyIsIk1BTlk0IiwiTUFOWTUiLCJNQU5ZNiIsIk1BTlk3IiwiTUFOWTgiLCJNQU5ZOSIsIk1BTllfU0VQIiwibWFueVNlcEZpcnN0SW50ZXJuYWwiLCJNQU5ZX1NFUDEiLCJNQU5ZX1NFUDIiLCJNQU5ZX1NFUDMiLCJNQU5ZX1NFUDQiLCJNQU5ZX1NFUDUiLCJNQU5ZX1NFUDYiLCJNQU5ZX1NFUDciLCJNQU5ZX1NFUDgiLCJNQU5ZX1NFUDkiLCJBVF9MRUFTVF9PTkUiLCJBVF9MRUFTVF9PTkUxIiwiQVRfTEVBU1RfT05FMiIsIkFUX0xFQVNUX09ORTMiLCJBVF9MRUFTVF9PTkU0IiwiQVRfTEVBU1RfT05FNSIsIkFUX0xFQVNUX09ORTYiLCJBVF9MRUFTVF9PTkU3IiwiQVRfTEVBU1RfT05FOCIsIkFUX0xFQVNUX09ORTkiLCJBVF9MRUFTVF9PTkVfU0VQIiwiYXRMZWFzdE9uZVNlcEZpcnN0SW50ZXJuYWwiLCJBVF9MRUFTVF9PTkVfU0VQMSIsIkFUX0xFQVNUX09ORV9TRVAyIiwiQVRfTEVBU1RfT05FX1NFUDMiLCJBVF9MRUFTVF9PTkVfU0VQNCIsIkFUX0xFQVNUX09ORV9TRVA1IiwiQVRfTEVBU1RfT05FX1NFUDYiLCJBVF9MRUFTVF9PTkVfU0VQNyIsIkFUX0xFQVNUX09ORV9TRVA4IiwiQVRfTEVBU1RfT05FX1NFUDkiLCJSVUxFIiwiaW1wbGVtZW50YXRpb24iLCJERUZBVUxUX1JVTEVfQ09ORklHIiwiZGVmaW5lZFJ1bGVzTmFtZXMiLCJkZWZpbml0aW9uRXJyb3JzIiwicnVsZUltcGxlbWVudGF0aW9uIiwiZGVmaW5lUnVsZSIsIk9WRVJSSURFX1JVTEUiLCJydWxlRXJyb3JzIiwiSU5WQUxJRF9SVUxFX09WRVJSSURFIiwiQkFDS1RSQUNLIiwiaXNCYWNrVHJhY2tpbmdTdGFjayIsIm9yZ1N0YXRlIiwic2F2ZVJlY29nU3RhdGUiLCJyZWxvYWRSZWNvZ1N0YXRlIiwiZ2V0U2VyaWFsaXplZEdhc3RQcm9kdWN0aW9ucyIsIlJlY29nbml6ZXJFbmdpbmUiLCJpbml0UmVjb2duaXplckVuZ2luZSIsInRva2VuVm9jYWJ1bGFyeSIsInNob3J0UnVsZU5hbWVUb0Z1bGwiLCJydWxlU2hvcnROYW1lSWR4IiwidG9rZW5zTWFwIiwidW5pcXVlVG9rZW5zIiwibm9Ub2tlbkNhdGVnb3JpZXNVc2VkIiwidG9rZW5Db25zdHJ1Y3RvciIsIndyYXBwZWRHcmFtbWFyUnVsZSIsInJlc3luY0VuYWJsZWQiLCJyZWNvdmVyeVZhbHVlRnVuYyIsImludm9rZVJ1bGVXaXRoVHJ5IiwiY3N0IiwiaW52b2tlUnVsZUNhdGNoIiwicnVsZUZpbmFsbHlTdGF0ZVVwZGF0ZSIsInJ1bGVJbnZvY2F0aW9uU3RhdGVVcGRhdGUiLCJyZXN5bmNFbmFibGVkQ29uZmlnIiwiaXNGaXJzdEludm9rZWRSdWxlIiwicmVTeW5jRW5hYmxlZCIsInJlY29nRXJyb3IiLCJwYXJ0aWFsQ3N0UmVzdWx0IiwicmVjb3ZlcmVkTm9kZSIsIm9wdGlvbkludGVybmFsTG9naWMiLCJERUYiLCJvcmdMb29rYWhlYWRGdW5jdGlvbl8xIiwibGFLZXkiLCJhdExlYXN0T25lSW50ZXJuYWxMb2dpYyIsIm9yZ0xvb2thaGVhZEZ1bmN0aW9uXzIiLCJyYWlzZUVhcmx5RXhpdEV4Y2VwdGlvbiIsIkVSUl9NU0ciLCJkb1NpbmdsZVJlcGV0aXRpb24iLCJhdExlYXN0T25lU2VwRmlyc3RJbnRlcm5hbExvZ2ljIiwiU0VQIiwic2VwYXJhdG9yTG9va0FoZWFkRnVuYyIsInJlcGV0aXRpb25TZXBTZWNvbmRJbnRlcm5hbCIsIm1hbnlJbnRlcm5hbExvZ2ljIiwibG9va2FoZWFkRnVuY3Rpb24iLCJvcmdMb29rYWhlYWRGdW5jdGlvbl8zIiwibWFueVNlcEZpcnN0SW50ZXJuYWxMb2dpYyIsIm5leHRUZXJtaW5hbEFmdGVyV2Fsa2VyIiwiYmVmb3JlSXRlcmF0aW9uIiwiYWx0SWR4VG9UYWtlIiwiQUxUIiwicmFpc2VOb0FsdEV4Y2VwdGlvbiIsImlzQXRFbmRPZklucHV0IiwiZmlyc3RSZWR1bmRhbnRUb2siLCJBUkdTIiwic3VicnVsZUludGVybmFsRXJyb3IiLCJjb25zdW1lSW50ZXJuYWxFcnJvciIsImVGcm9tQ29uc3VtcHRpb24iLCJjb25zdW1lSW50ZXJuYWxSZWNvdmVyeSIsImVGcm9tSW5SdWxlUmVjb3ZlcnkiLCJzYXZlZEVycm9ycyIsInNhdmVkUnVsZVN0YWNrIiwibGV4ZXJTdGF0ZSIsImZ1bGxOYW1lIiwiRXJyb3JIYW5kbGVyIiwiaW5pdEVycm9ySGFuZGxlciIsIl9lcnJvcnMiLCJjb250ZXh0IiwicnVsZU9jY3VycmVuY2VTdGFjayIsIm5ld0Vycm9ycyIsInVzZXJEZWZpbmVkRXJyTXNnIiwiaW5zaWRlUHJvZFBhdGhzIiwiYWN0dWFsVG9rZW5zIiwiZXJyTXNnVHlwZXMiLCJsb29rQWhlYWRQYXRoc1BlckFsdGVybmF0aXZlIiwiQ29udGVudEFzc2lzdCIsImluaXRDb250ZW50QXNzaXN0IiwiY29tcHV0ZUNvbnRlbnRBc3Npc3QiLCJzdGFydFJ1bGVOYW1lIiwicHJlY2VkaW5nSW5wdXQiLCJzdGFydFJ1bGVHYXN0IiwidG9wUnVsZU5hbWUiLCJ0b3BQcm9kdWN0aW9uIiwiUkVDT1JESU5HX05VTExfT0JKRUNUIiwiZGVzY3JpcHRpb24iLCJNQVhfTUVUSE9EX0lEWCIsInBvdyIsIlJGVCIsIlJFQ09SRElOR19QSEFTRV9UT0tFTiIsIlJFQ09SRElOR19QSEFTRV9DU1ROT0RFIiwiR2FzdFJlY29yZGVyIiwiaW5pdEdhc3RSZWNvcmRlciIsInJlY29yZGluZ1Byb2RTdGFjayIsIlJFQ09SRElOR19QSEFTRSIsImVuYWJsZVJlY29yZGluZyIsImFyZzEiLCJhcmcyIiwiY29uc3VtZUludGVybmFsUmVjb3JkIiwic3VicnVsZUludGVybmFsUmVjb3JkIiwib3B0aW9uSW50ZXJuYWxSZWNvcmQiLCJvckludGVybmFsUmVjb3JkIiwibWFueUludGVybmFsUmVjb3JkIiwibWFueVNlcEZpcnN0SW50ZXJuYWxSZWNvcmQiLCJhdExlYXN0T25lSW50ZXJuYWxSZWNvcmQiLCJhdExlYXN0T25lU2VwRmlyc3RJbnRlcm5hbFJlY29yZCIsIkFDVElPTl9SRUNPUkQiLCJCQUNLVFJBQ0tfUkVDT1JEIiwiTEFfUkVDT1JEIiwiZGlzYWJsZVJlY29yZGluZyIsInRvcExldmVsUnVsZVJlY29yZCIsIm5ld1RvcExldmVsUnVsZSIsIm9yaWdpbmFsRXJyb3IiLCJLTk9XTl9SRUNPUkRFUl9FUlJPUiIsIm11dGFiaWxpdHlFcnJvciIsInJlY29yZFByb2QiLCJyZWNvcmRPclByb2QiLCJhc3NlcnRNZXRob2RJZHhJc1ZhbGlkIiwiZ2V0SWR4U3VmZml4IiwiSlNPTiIsInN0cmluZ2lmeSIsInByZXZQcm9kIiwibmV3Tm9uZVRlcm1pbmFsIiwicHJvZENvbnN0cnVjdG9yIiwibWFpblByb2RBcmciLCJoYW5kbGVTZXAiLCJncmFtbWFyQWN0aW9uIiwibmV3UHJvZCIsIk1BWF9MT09LQUhFQUQiLCJoYXNPcHRpb25zIiwibmV3T3JQcm9kIiwiSUdOT1JFX0FNQklHVUlUSUVTIiwiY3VyckFsdEZsYXQiLCJQZXJmb3JtYW5jZVRyYWNlciIsImluaXRQZXJmb3JtYW5jZVRyYWNlciIsInVzZXJUcmFjZUluaXRQZXJmIiwidHJhY2VJc051bWJlciIsIkVNUFRZX0FMVCIsIlBhcnNlciIsInBlcmZvcm1TZWxmQW5hbHlzaXMiLCJwYXJzZXJJbnN0YW5jZSIsImRlZkVycm9yc01zZ3MiLCJvcmlnaW5hbEdyYW1tYXJBY3Rpb24iLCJyZWNvcmRlZFJ1bGVHYXN0IiwicmVzb2x2ZXJFcnJvcnMiLCJ2YWxpZGF0aW9uRXJyb3JzIiwidG9wUHJvZHVjdGlvbnMiLCJyZVN5bmNGb2xsb3dzIiwiYWxsRm9sbG93cyIsImN1cnJSZWZzRm9sbG93IiwiREVGRVJfREVGSU5JVElPTl9FUlJPUlNfSEFORExJTkciLCJDc3RQYXJzZXIiLCJjb25maWdDbG9uZSIsIkVtYmVkZGVkQWN0aW9uc1BhcnNlciIsImNyZWF0ZVN5bnRheERpYWdyYW1zQ29kZSIsImdyYW1tYXIiLCJfYiIsIl9jIiwicmVzb3VyY2VCYXNlIiwiX2QiLCJjc3MiLCJOTCIsImdlbkNsYXNzIiwiZ2VuRGVmaW5pdGlvbiIsImdlbkFsdGVybmF0aW9uIiwiYWx0RGVmIiwiZ2VuU2luZ2xlQWx0IiwiZ2VuUHJvZCIsImdlbk5vblRlcm1pbmFsIiwiZ2VuRFNMUnVsZSIsImdlblRlcm1pbmFsIiwiZ2VuRGVmRnVuY3Rpb24iLCJnZW5lcmF0ZVBhcnNlckZhY3RvcnkiLCJ3cmFwcGVyVGV4dCIsImdlbldyYXBwZXJGdW5jdGlvbiIsImNvbnN0cnVjdG9yV3JhcHBlciIsImdlbmVyYXRlUGFyc2VyTW9kdWxlIiwiZ2VuVW1kTW9kdWxlIiwiY2xlYXJDYWNoZSIsIkZVTkNfRVJST1JfVEVYVCIsIlBMQUNFSE9MREVSIiwid3JhcEZsYWdzIiwiYXJnc1RhZyIsImFycmF5VGFnIiwiYm9vbFRhZyIsImRhdGVUYWciLCJlcnJvclRhZyIsImZ1bmNUYWciLCJnZW5UYWciLCJtYXBUYWciLCJudW1iZXJUYWciLCJvYmplY3RUYWciLCJyZWdleHBUYWciLCJzZXRUYWciLCJzdHJpbmdUYWciLCJzeW1ib2xUYWciLCJ3ZWFrTWFwVGFnIiwiYXJyYXlCdWZmZXJUYWciLCJkYXRhVmlld1RhZyIsImZsb2F0MzJUYWciLCJmbG9hdDY0VGFnIiwiaW50OFRhZyIsImludDE2VGFnIiwiaW50MzJUYWciLCJ1aW50OFRhZyIsInVpbnQxNlRhZyIsInVpbnQzMlRhZyIsInJlRW1wdHlTdHJpbmdMZWFkaW5nIiwicmVFbXB0eVN0cmluZ01pZGRsZSIsInJlRW1wdHlTdHJpbmdUcmFpbGluZyIsInJlRXNjYXBlZEh0bWwiLCJyZVVuZXNjYXBlZEh0bWwiLCJyZUhhc0VzY2FwZWRIdG1sIiwicmVIYXNVbmVzY2FwZWRIdG1sIiwicmVFc2NhcGUiLCJyZUV2YWx1YXRlIiwicmVJbnRlcnBvbGF0ZSIsInJlSXNEZWVwUHJvcCIsInJlSXNQbGFpblByb3AiLCJyZVByb3BOYW1lIiwicmVSZWdFeHBDaGFyIiwicmVIYXNSZWdFeHBDaGFyIiwicmVUcmltIiwicmVUcmltU3RhcnQiLCJyZVRyaW1FbmQiLCJyZVdyYXBDb21tZW50IiwicmVXcmFwRGV0YWlscyIsInJlU3BsaXREZXRhaWxzIiwicmVBc2NpaVdvcmQiLCJyZUVzY2FwZUNoYXIiLCJyZUVzVGVtcGxhdGUiLCJyZUZsYWdzIiwicmVJc0JhZEhleCIsInJlSXNCaW5hcnkiLCJyZUlzSG9zdEN0b3IiLCJyZUlzT2N0YWwiLCJyZUlzVWludCIsInJlTGF0aW4iLCJyZU5vTWF0Y2giLCJyZVVuZXNjYXBlZFN0cmluZyIsInJzQ29tYm9SYW5nZSIsInJzQ29tYm9NYXJrc1JhbmdlIiwicnNCcmVha1JhbmdlIiwicnNNYXRoT3BSYW5nZSIsInJzQXN0cmFsIiwicnNCcmVhayIsInJzQ29tYm8iLCJyc0RpZ2l0cyIsInJzRGluZ2JhdCIsInJzTG93ZXIiLCJyc01pc2MiLCJyc0ZpdHoiLCJyc05vbkFzdHJhbCIsInJzUmVnaW9uYWwiLCJyc1N1cnJQYWlyIiwicnNVcHBlciIsInJzTWlzY0xvd2VyIiwicnNNaXNjVXBwZXIiLCJyZU9wdE1vZCIsInJzU2VxIiwicnNFbW9qaSIsInJzU3ltYm9sIiwicmVBcG9zIiwicmVDb21ib01hcmsiLCJyZVVuaWNvZGUiLCJyZVVuaWNvZGVXb3JkIiwicmVIYXNVbmljb2RlIiwicmVIYXNVbmljb2RlV29yZCIsImNvbnRleHRQcm9wcyIsInRlbXBsYXRlQ291bnRlciIsInR5cGVkQXJyYXlUYWdzIiwiY2xvbmVhYmxlVGFncyIsInN0cmluZ0VzY2FwZXMiLCJmcmVlUGFyc2VGbG9hdCIsInBhcnNlRmxvYXQiLCJmcmVlUGFyc2VJbnQiLCJwYXJzZUludCIsImZyZWVHbG9iYWwiLCJmcmVlU2VsZiIsInNlbGYiLCJyb290IiwiZnJlZUV4cG9ydHMiLCJub2RlVHlwZSIsImZyZWVNb2R1bGUiLCJtb2R1bGVFeHBvcnRzIiwiZnJlZVByb2Nlc3MiLCJwcm9jZXNzIiwibm9kZVV0aWwiLCJ0eXBlcyIsInJlcXVpcmUiLCJiaW5kaW5nIiwibm9kZUlzQXJyYXlCdWZmZXIiLCJpc0FycmF5QnVmZmVyIiwibm9kZUlzRGF0ZSIsImlzRGF0ZSIsIm5vZGVJc01hcCIsImlzTWFwIiwibm9kZUlzUmVnRXhwIiwibm9kZUlzU2V0IiwiaXNTZXQiLCJub2RlSXNUeXBlZEFycmF5IiwiaXNUeXBlZEFycmF5IiwidGhpc0FyZyIsImFycmF5QWdncmVnYXRvciIsImFycmF5Iiwic2V0dGVyIiwiaXRlcmF0ZWUiLCJhcnJheUVhY2giLCJhcnJheUVhY2hSaWdodCIsImFycmF5RXZlcnkiLCJhcnJheUZpbHRlciIsInJlc0luZGV4IiwiYXJyYXlJbmNsdWRlcyIsImJhc2VJbmRleE9mIiwiYXJyYXlJbmNsdWRlc1dpdGgiLCJjb21wYXJhdG9yIiwiYXJyYXlNYXAiLCJhcnJheVB1c2giLCJhcnJheVJlZHVjZSIsImluaXRBY2N1bSIsImFycmF5UmVkdWNlUmlnaHQiLCJhcnJheVNvbWUiLCJhc2NpaVNpemUiLCJiYXNlUHJvcGVydHkiLCJiYXNlRmluZEtleSIsImVhY2hGdW5jIiwiYmFzZUZpbmRJbmRleCIsImZyb21JbmRleCIsImZyb21SaWdodCIsInN0cmljdEluZGV4T2YiLCJiYXNlSXNOYU4iLCJiYXNlSW5kZXhPZldpdGgiLCJiYXNlTWVhbiIsImJhc2VTdW0iLCJiYXNlUHJvcGVydHlPZiIsImJhc2VSZWR1Y2UiLCJjdXJyZW50IiwiYmFzZVRpbWVzIiwiYmFzZVVuYXJ5IiwiYmFzZVZhbHVlcyIsInByb3BzIiwiY2FjaGVIYXMiLCJjYWNoZSIsImNoYXJzU3RhcnRJbmRleCIsInN0clN5bWJvbHMiLCJjaHJTeW1ib2xzIiwiY2hhcnNFbmRJbmRleCIsImNvdW50SG9sZGVycyIsInBsYWNlaG9sZGVyIiwiZGVidXJyTGV0dGVyIiwiZXNjYXBlSHRtbENoYXIiLCJlc2NhcGVTdHJpbmdDaGFyIiwiY2hyIiwiaGFzVW5pY29kZSIsInN0cmluZyIsIm1hcFRvQXJyYXkiLCJvdmVyQXJnIiwidHJhbnNmb3JtIiwiYXJnIiwicmVwbGFjZUhvbGRlcnMiLCJzZXRUb0FycmF5Iiwic2V0VG9QYWlycyIsInN0cmluZ1NpemUiLCJ1bmljb2RlU2l6ZSIsInN0cmluZ1RvQXJyYXkiLCJ1bmljb2RlVG9BcnJheSIsInNwbGl0IiwiYXNjaWlUb0FycmF5IiwidW5lc2NhcGVIdG1sQ2hhciIsIl8iLCJydW5JbkNvbnRleHQiLCJ1aWQiLCJUeXBlRXJyb3IiLCJhcnJheVByb3RvIiwiZnVuY1Byb3RvIiwib2JqZWN0UHJvdG8iLCJjb3JlSnNEYXRhIiwiZnVuY1RvU3RyaW5nIiwiaWRDb3VudGVyIiwibWFza1NyY0tleSIsIklFX1BST1RPIiwibmF0aXZlT2JqZWN0VG9TdHJpbmciLCJvYmplY3RDdG9yU3RyaW5nIiwib2xkRGFzaCIsInJlSXNOYXRpdmUiLCJCdWZmZXIiLCJVaW50OEFycmF5IiwiYWxsb2NVbnNhZmUiLCJnZXRQcm90b3R5cGUiLCJnZXRQcm90b3R5cGVPZiIsIm9iamVjdENyZWF0ZSIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwic3BsaWNlIiwic3ByZWFkYWJsZVN5bWJvbCIsImlzQ29uY2F0U3ByZWFkYWJsZSIsInN5bUl0ZXJhdG9yIiwic3ltVG9TdHJpbmdUYWciLCJnZXROYXRpdmUiLCJjdHhDbGVhclRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJjdHhOb3ciLCJub3ciLCJjdHhTZXRUaW1lb3V0Iiwic2V0VGltZW91dCIsIm5hdGl2ZUNlaWwiLCJjZWlsIiwibmF0aXZlRmxvb3IiLCJuYXRpdmVHZXRTeW1ib2xzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwibmF0aXZlSXNCdWZmZXIiLCJpc0J1ZmZlciIsIm5hdGl2ZUlzRmluaXRlIiwiaXNGaW5pdGUiLCJuYXRpdmVKb2luIiwibmF0aXZlS2V5cyIsIm5hdGl2ZU1heCIsIm1heCIsIm5hdGl2ZU1pbiIsIm1pbiIsIm5hdGl2ZU5vdyIsIm5hdGl2ZVBhcnNlSW50IiwibmF0aXZlUmFuZG9tIiwicmFuZG9tIiwibmF0aXZlUmV2ZXJzZSIsIkRhdGFWaWV3IiwiUHJvbWlzZSIsIlNldCIsIldlYWtNYXAiLCJuYXRpdmVDcmVhdGUiLCJtZXRhTWFwIiwicmVhbE5hbWVzIiwiZGF0YVZpZXdDdG9yU3RyaW5nIiwidG9Tb3VyY2UiLCJtYXBDdG9yU3RyaW5nIiwicHJvbWlzZUN0b3JTdHJpbmciLCJzZXRDdG9yU3RyaW5nIiwid2Vha01hcEN0b3JTdHJpbmciLCJzeW1ib2xQcm90byIsInN5bWJvbFZhbHVlT2YiLCJ2YWx1ZU9mIiwic3ltYm9sVG9TdHJpbmciLCJsb2Rhc2giLCJpc09iamVjdExpa2UiLCJMYXp5V3JhcHBlciIsIkxvZGFzaFdyYXBwZXIiLCJ3cmFwcGVyQ2xvbmUiLCJiYXNlQ3JlYXRlIiwicHJvdG8iLCJiYXNlTG9kYXNoIiwiY2hhaW5BbGwiLCJfX3dyYXBwZWRfXyIsIl9fYWN0aW9uc19fIiwiX19jaGFpbl9fIiwiX19pbmRleF9fIiwiX192YWx1ZXNfXyIsIl9fZGlyX18iLCJfX2ZpbHRlcmVkX18iLCJfX2l0ZXJhdGVlc19fIiwiX190YWtlQ291bnRfXyIsIl9fdmlld3NfXyIsIkhhc2giLCJlbnRyaWVzIiwiY2xlYXIiLCJlbnRyeSIsIkxpc3RDYWNoZSIsIk1hcENhY2hlIiwiU2V0Q2FjaGUiLCJfX2RhdGFfXyIsImFkZCIsIlN0YWNrIiwiZGF0YSIsImFycmF5TGlrZUtleXMiLCJpbmhlcml0ZWQiLCJpc0FyZyIsImlzQXJndW1lbnRzIiwiaXNCdWZmIiwiaXNUeXBlIiwic2tpcEluZGV4ZXMiLCJpc0luZGV4IiwiYXJyYXlTYW1wbGUiLCJiYXNlUmFuZG9tIiwiYXJyYXlTYW1wbGVTaXplIiwic2h1ZmZsZVNlbGYiLCJjb3B5QXJyYXkiLCJiYXNlQ2xhbXAiLCJhcnJheVNodWZmbGUiLCJhc3NpZ25NZXJnZVZhbHVlIiwiZXEiLCJiYXNlQXNzaWduVmFsdWUiLCJhc3NpZ25WYWx1ZSIsIm9ialZhbHVlIiwiYXNzb2NJbmRleE9mIiwiYmFzZUFnZ3JlZ2F0b3IiLCJiYXNlRWFjaCIsImJhc2VBc3NpZ24iLCJjb3B5T2JqZWN0IiwiYmFzZUF0IiwicGF0aHMiLCJza2lwIiwibnVtYmVyIiwibG93ZXIiLCJ1cHBlciIsImJhc2VDbG9uZSIsImJpdG1hc2siLCJjdXN0b21pemVyIiwic3RhY2siLCJpc0RlZXAiLCJpc0ZsYXQiLCJpc0Z1bGwiLCJpbnB1dCIsImluaXRDbG9uZUFycmF5IiwidGFnIiwiZ2V0VGFnIiwiaXNGdW5jIiwiY2xvbmVCdWZmZXIiLCJpbml0Q2xvbmVPYmplY3QiLCJnZXRTeW1ib2xzSW4iLCJjb3B5U3ltYm9sc0luIiwia2V5c0luIiwiYmFzZUFzc2lnbkluIiwiZ2V0U3ltYm9scyIsImNvcHlTeW1ib2xzIiwiQ3RvciIsImNsb25lQXJyYXlCdWZmZXIiLCJkYXRhVmlldyIsImJ1ZmZlciIsImJ5dGVPZmZzZXQiLCJieXRlTGVuZ3RoIiwiY2xvbmVEYXRhVmlldyIsImNsb25lVHlwZWRBcnJheSIsInJlZ2V4cCIsImNsb25lUmVnRXhwIiwic3ltYm9sIiwiaW5pdENsb25lQnlUYWciLCJzdGFja2VkIiwic3ViVmFsdWUiLCJnZXRBbGxLZXlzSW4iLCJnZXRBbGxLZXlzIiwiYmFzZUNvbmZvcm1zVG8iLCJiYXNlRGVsYXkiLCJ3YWl0IiwiYmFzZURpZmZlcmVuY2UiLCJpbmNsdWRlcyIsImlzQ29tbW9uIiwidmFsdWVzTGVuZ3RoIiwib3V0ZXIiLCJjb21wdXRlZCIsInZhbHVlc0luZGV4IiwidGVtcGxhdGVTZXR0aW5ncyIsImdldE1hcERhdGEiLCJwYWlycyIsIkxBUkdFX0FSUkFZX1NJWkUiLCJjcmVhdGVCYXNlRWFjaCIsImJhc2VGb3JPd24iLCJiYXNlRWFjaFJpZ2h0IiwiYmFzZUZvck93blJpZ2h0IiwiYmFzZUV2ZXJ5IiwiYmFzZUV4dHJlbXVtIiwiaXNTeW1ib2wiLCJiYXNlRmlsdGVyIiwiYmFzZUZsYXR0ZW4iLCJkZXB0aCIsImlzU3RyaWN0IiwiaXNGbGF0dGVuYWJsZSIsImJhc2VGb3IiLCJjcmVhdGVCYXNlRm9yIiwiYmFzZUZvclJpZ2h0IiwiYmFzZUZ1bmN0aW9ucyIsImJhc2VHZXQiLCJjYXN0UGF0aCIsInRvS2V5IiwiYmFzZUdldEFsbEtleXMiLCJrZXlzRnVuYyIsInN5bWJvbHNGdW5jIiwiYmFzZUdldFRhZyIsImlzT3duIiwidW5tYXNrZWQiLCJnZXRSYXdUYWciLCJvYmplY3RUb1N0cmluZyIsImJhc2VHdCIsImJhc2VIYXMiLCJiYXNlSGFzSW4iLCJiYXNlSW50ZXJzZWN0aW9uIiwiYXJyYXlzIiwib3RoTGVuZ3RoIiwib3RoSW5kZXgiLCJjYWNoZXMiLCJzZWVuIiwiYmFzZUludm9rZSIsInBhcmVudCIsImJhc2VJc0FyZ3VtZW50cyIsImJhc2VJc0VxdWFsIiwiZXF1YWxGdW5jIiwib2JqSXNBcnIiLCJvdGhJc0FyciIsIm9ialRhZyIsIm90aFRhZyIsIm9iaklzT2JqIiwib3RoSXNPYmoiLCJpc1NhbWVUYWciLCJlcXVhbEFycmF5cyIsImNvbnZlcnQiLCJpc1BhcnRpYWwiLCJlcXVhbEJ5VGFnIiwib2JqSXNXcmFwcGVkIiwib3RoSXNXcmFwcGVkIiwib2JqVW53cmFwcGVkIiwib3RoVW53cmFwcGVkIiwib2JqUHJvcHMiLCJvYmpMZW5ndGgiLCJza2lwQ3RvciIsIm90aFZhbHVlIiwiY29tcGFyZWQiLCJvYmpDdG9yIiwib3RoQ3RvciIsImVxdWFsT2JqZWN0cyIsImJhc2VJc0VxdWFsRGVlcCIsImJhc2VJc01hdGNoIiwibWF0Y2hEYXRhIiwibm9DdXN0b21pemVyIiwic3JjVmFsdWUiLCJDT01QQVJFX1BBUlRJQUxfRkxBRyIsImJhc2VJc05hdGl2ZSIsImJhc2VJdGVyYXRlZSIsImJhc2VNYXRjaGVzUHJvcGVydHkiLCJiYXNlTWF0Y2hlcyIsImJhc2VLZXlzIiwiaXNQcm90b3R5cGUiLCJiYXNlS2V5c0luIiwibmF0aXZlS2V5c0luIiwiaXNQcm90byIsImJhc2VMdCIsImJhc2VNYXAiLCJpc0FycmF5TGlrZSIsImdldE1hdGNoRGF0YSIsIm1hdGNoZXNTdHJpY3RDb21wYXJhYmxlIiwiaXNLZXkiLCJpc1N0cmljdENvbXBhcmFibGUiLCJoYXNJbiIsImJhc2VNZXJnZSIsInNyY0luZGV4IiwibWVyZ2VGdW5jIiwic2FmZUdldCIsIm5ld1ZhbHVlIiwiaXNUeXBlZCIsImlzQXJyYXlMaWtlT2JqZWN0IiwiaXNQbGFpbk9iamVjdCIsInRvUGxhaW5PYmplY3QiLCJiYXNlTWVyZ2VEZWVwIiwiYmFzZU50aCIsImJhc2VPcmRlckJ5IiwiaXRlcmF0ZWVzIiwib3JkZXJzIiwiZ2V0SXRlcmF0ZWUiLCJjb21wYXJlciIsImJhc2VTb3J0QnkiLCJvYmpDcml0ZXJpYSIsImNyaXRlcmlhIiwib3RoQ3JpdGVyaWEiLCJvcmRlcnNMZW5ndGgiLCJjb21wYXJlQXNjZW5kaW5nIiwib3JkZXIiLCJjb21wYXJlTXVsdGlwbGUiLCJiYXNlUGlja0J5IiwiYmFzZVNldCIsImJhc2VQdWxsQWxsIiwiYmFzZVB1bGxBdCIsImluZGV4ZXMiLCJiYXNlVW5zZXQiLCJiYXNlUmVwZWF0IiwiYmFzZVJlc3QiLCJzZXRUb1N0cmluZyIsIm92ZXJSZXN0IiwiYmFzZVNhbXBsZSIsImJhc2VTYW1wbGVTaXplIiwibmVzdGVkIiwiYmFzZVNldERhdGEiLCJiYXNlU2V0VG9TdHJpbmciLCJjb25zdGFudCIsImJhc2VTaHVmZmxlIiwiYmFzZVNsaWNlIiwiZW5kIiwiYmFzZVNvbWUiLCJiYXNlU29ydGVkSW5kZXgiLCJyZXRIaWdoZXN0IiwibG93IiwiaGlnaCIsIk1BWF9BUlJBWV9MRU5HVEgiLCJtaWQiLCJiYXNlU29ydGVkSW5kZXhCeSIsInZhbElzTmFOIiwidmFsSXNOdWxsIiwidmFsSXNTeW1ib2wiLCJ2YWxJc1VuZGVmaW5lZCIsIm90aElzRGVmaW5lZCIsIm90aElzTnVsbCIsIm90aElzUmVmbGV4aXZlIiwib3RoSXNTeW1ib2wiLCJzZXRMb3ciLCJiYXNlU29ydGVkVW5pcSIsImJhc2VUb051bWJlciIsImJhc2VUb1N0cmluZyIsImJhc2VVbmlxIiwiY3JlYXRlU2V0Iiwic2VlbkluZGV4IiwiYmFzZVVwZGF0ZSIsInVwZGF0ZXIiLCJiYXNlV2hpbGUiLCJpc0Ryb3AiLCJiYXNlV3JhcHBlclZhbHVlIiwiYWN0aW9ucyIsImJhc2VYb3IiLCJiYXNlWmlwT2JqZWN0IiwiYXNzaWduRnVuYyIsInZhbHNMZW5ndGgiLCJjYXN0QXJyYXlMaWtlT2JqZWN0IiwiY2FzdEZ1bmN0aW9uIiwic3RyaW5nVG9QYXRoIiwiY2FzdFJlc3QiLCJjYXN0U2xpY2UiLCJpZCIsImNvcHkiLCJhcnJheUJ1ZmZlciIsInR5cGVkQXJyYXkiLCJ2YWxJc0RlZmluZWQiLCJ2YWxJc1JlZmxleGl2ZSIsImNvbXBvc2VBcmdzIiwicGFydGlhbHMiLCJob2xkZXJzIiwiaXNDdXJyaWVkIiwiYXJnc0luZGV4IiwiYXJnc0xlbmd0aCIsImhvbGRlcnNMZW5ndGgiLCJsZWZ0SW5kZXgiLCJsZWZ0TGVuZ3RoIiwicmFuZ2VMZW5ndGgiLCJpc1VuY3VycmllZCIsImNvbXBvc2VBcmdzUmlnaHQiLCJob2xkZXJzSW5kZXgiLCJyaWdodEluZGV4IiwicmlnaHRMZW5ndGgiLCJpc05ldyIsImNyZWF0ZUFnZ3JlZ2F0b3IiLCJpbml0aWFsaXplciIsImNyZWF0ZUFzc2lnbmVyIiwiYXNzaWduZXIiLCJndWFyZCIsImlzSXRlcmF0ZWVDYWxsIiwiaXRlcmFibGUiLCJjcmVhdGVDYXNlRmlyc3QiLCJ0cmFpbGluZyIsImNyZWF0ZUNvbXBvdW5kZXIiLCJ3b3JkcyIsImRlYnVyciIsImNyZWF0ZUN0b3IiLCJ0aGlzQmluZGluZyIsImNyZWF0ZUZpbmQiLCJmaW5kSW5kZXhGdW5jIiwiY3JlYXRlRmxvdyIsImZsYXRSZXN0IiwiZnVuY3MiLCJwcmVyZXEiLCJ0aHJ1Iiwid3JhcHBlciIsImdldEZ1bmNOYW1lIiwiZnVuY05hbWUiLCJnZXREYXRhIiwiaXNMYXppYWJsZSIsInBsYW50IiwiY3JlYXRlSHlicmlkIiwicGFydGlhbHNSaWdodCIsImhvbGRlcnNSaWdodCIsImFyZ1BvcyIsImFyeSIsImFyaXR5IiwiaXNBcnkiLCJpc0JpbmQiLCJpc0JpbmRLZXkiLCJpc0ZsaXAiLCJnZXRIb2xkZXIiLCJob2xkZXJzQ291bnQiLCJuZXdIb2xkZXJzIiwiY3JlYXRlUmVjdXJyeSIsImZuIiwicmVvcmRlciIsImNyZWF0ZUludmVydGVyIiwidG9JdGVyYXRlZSIsImJhc2VJbnZlcnRlciIsImNyZWF0ZU1hdGhPcGVyYXRpb24iLCJvcGVyYXRvciIsImRlZmF1bHRWYWx1ZSIsImNyZWF0ZU92ZXIiLCJhcnJheUZ1bmMiLCJjcmVhdGVQYWRkaW5nIiwiY2hhcnMiLCJjaGFyc0xlbmd0aCIsImNyZWF0ZVJhbmdlIiwic3RlcCIsInRvRmluaXRlIiwiYmFzZVJhbmdlIiwiY3JlYXRlUmVsYXRpb25hbE9wZXJhdGlvbiIsInRvTnVtYmVyIiwid3JhcEZ1bmMiLCJpc0N1cnJ5Iiwic2V0RGF0YSIsInNldFdyYXBUb1N0cmluZyIsImNyZWF0ZVJvdW5kIiwicHJlY2lzaW9uIiwidG9JbnRlZ2VyIiwicGFpciIsIm5vb3AiLCJjcmVhdGVUb1BhaXJzIiwiYmFzZVRvUGFpcnMiLCJjcmVhdGVXcmFwIiwic3JjQml0bWFzayIsIm5ld0JpdG1hc2siLCJpc0NvbWJvIiwibWVyZ2VEYXRhIiwiY3JlYXRlQ3VycnkiLCJjcmVhdGVQYXJ0aWFsIiwiY3JlYXRlQmluZCIsImN1c3RvbURlZmF1bHRzQXNzaWduSW4iLCJjdXN0b21EZWZhdWx0c01lcmdlIiwiY3VzdG9tT21pdENsb25lIiwiYXJyTGVuZ3RoIiwiYXJyVmFsdWUiLCJvdGhlckZ1bmMiLCJnZXRWYWx1ZSIsInN0dWJBcnJheSIsImhhc1BhdGgiLCJoYXNGdW5jIiwiaXNMZW5ndGgiLCJBcnJheUJ1ZmZlciIsInJlc29sdmUiLCJjdG9yU3RyaW5nIiwiaXNNYXNrYWJsZSIsInN0dWJGYWxzZSIsIm90aGVyQXJncyIsIm9sZEFycmF5Iiwic2hvcnRPdXQiLCJyZWZlcmVuY2UiLCJpbnNlcnRXcmFwRGV0YWlscyIsInVwZGF0ZVdyYXBEZXRhaWxzIiwiZ2V0V3JhcERldGFpbHMiLCJjb3VudCIsImxhc3RDYWxsZWQiLCJzdGFtcCIsInJlbWFpbmluZyIsInJhbmQiLCJtZW1vaXplIiwibWVtb2l6ZUNhcHBlZCIsInF1b3RlIiwic3ViU3RyaW5nIiwiY2xvbmUiLCJkaWZmZXJlbmNlQnkiLCJkaWZmZXJlbmNlV2l0aCIsImZpbmRJbmRleCIsImZpbmRMYXN0SW5kZXgiLCJoZWFkIiwiaW50ZXJzZWN0aW9uIiwibWFwcGVkIiwiaW50ZXJzZWN0aW9uQnkiLCJpbnRlcnNlY3Rpb25XaXRoIiwicHVsbCIsInB1bGxBbGwiLCJwdWxsQXQiLCJ1bmlvbiIsInVuaW9uQnkiLCJ1bmlvbldpdGgiLCJ1bnppcCIsInVuemlwV2l0aCIsIndpdGhvdXQiLCJ4b3IiLCJ4b3JCeSIsInhvcldpdGgiLCJ6aXAiLCJ6aXBXaXRoIiwiY2hhaW4iLCJpbnRlcmNlcHRvciIsIndyYXBwZXJBdCIsImNvdW50QnkiLCJmaW5kTGFzdCIsImZvckVhY2hSaWdodCIsImludm9rZU1hcCIsImtleUJ5IiwicGFydGl0aW9uIiwiYmVmb3JlIiwiYmluZEtleSIsIldSQVBfQklORF9GTEFHIiwiZGVib3VuY2UiLCJsYXN0QXJncyIsImxhc3RUaGlzIiwibWF4V2FpdCIsInRpbWVySWQiLCJsYXN0Q2FsbFRpbWUiLCJsYXN0SW52b2tlVGltZSIsImxlYWRpbmciLCJtYXhpbmciLCJpbnZva2VGdW5jIiwibGVhZGluZ0VkZ2UiLCJ0aW1lckV4cGlyZWQiLCJzaG91bGRJbnZva2UiLCJ0aW1lU2luY2VMYXN0Q2FsbCIsInRyYWlsaW5nRWRnZSIsInRpbWVXYWl0aW5nIiwicmVtYWluaW5nV2FpdCIsImRlYm91bmNlZCIsImlzSW52b2tpbmciLCJjYW5jZWwiLCJmbHVzaCIsImRlZmVyIiwiZGVsYXkiLCJyZXNvbHZlciIsIm1lbW9pemVkIiwiQ2FjaGUiLCJuZWdhdGUiLCJvdmVyQXJncyIsInRyYW5zZm9ybXMiLCJmdW5jc0xlbmd0aCIsInBhcnRpYWxSaWdodCIsInJlYXJnIiwiZ3QiLCJndGUiLCJpc0Vycm9yIiwiaXNJbnRlZ2VyIiwiaXNOdW1iZXIiLCJsdCIsImx0ZSIsInRvQXJyYXkiLCJuZXh0IiwiZG9uZSIsIml0ZXJhdG9yVG9BcnJheSIsInJlbWFpbmRlciIsInRvTGVuZ3RoIiwiaXNCaW5hcnkiLCJhc3NpZ25JbiIsImFzc2lnbkluV2l0aCIsImFzc2lnbldpdGgiLCJhdCIsInByb3BzSW5kZXgiLCJwcm9wc0xlbmd0aCIsImRlZmF1bHRzRGVlcCIsIm1lcmdlV2l0aCIsImludmVydCIsImludmVydEJ5IiwiaW52b2tlIiwib21pdCIsIkNMT05FX0RFRVBfRkxBRyIsImJhc2VQaWNrIiwicGlja0J5IiwidG9QYWlycyIsInRvUGFpcnNJbiIsImNhbWVsQ2FzZSIsIndvcmQiLCJjYXBpdGFsaXplIiwidXBwZXJGaXJzdCIsImtlYmFiQ2FzZSIsImxvd2VyQ2FzZSIsImxvd2VyRmlyc3QiLCJzbmFrZUNhc2UiLCJzdGFydENhc2UiLCJ1cHBlckNhc2UiLCJoYXNVbmljb2RlV29yZCIsInVuaWNvZGVXb3JkcyIsImFzY2lpV29yZHMiLCJhdHRlbXB0IiwiYmluZEFsbCIsIm1ldGhvZE5hbWVzIiwiZmxvdyIsImZsb3dSaWdodCIsIm1ldGhvZCIsIm1ldGhvZE9mIiwibWl4aW4iLCJvdmVyIiwib3ZlckV2ZXJ5Iiwib3ZlclNvbWUiLCJiYXNlUHJvcGVydHlEZWVwIiwicmFuZ2VSaWdodCIsImF1Z2VuZCIsImFkZGVuZCIsImRpdmlkZSIsImRpdmlkZW5kIiwiZGl2aXNvciIsIm11bHRpcGx5IiwibXVsdGlwbGllciIsIm11bHRpcGxpY2FuZCIsInJvdW5kIiwic3VidHJhY3QiLCJtaW51ZW5kIiwic3VidHJhaGVuZCIsImFmdGVyIiwiY2FzdEFycmF5IiwiY2h1bmsiLCJjb25kIiwiY29uZm9ybXMiLCJiYXNlQ29uZm9ybXMiLCJwcm9wZXJ0aWVzIiwiY3VycnkiLCJjdXJyeVJpZ2h0IiwiZHJvcFJpZ2h0V2hpbGUiLCJkcm9wV2hpbGUiLCJmaWxsIiwiYmFzZUZpbGwiLCJmbGF0TWFwIiwiZmxhdE1hcERlZXAiLCJmbGF0TWFwRGVwdGgiLCJmbGF0dGVuRGVlcCIsImZsYXR0ZW5EZXB0aCIsImZsaXAiLCJmcm9tUGFpcnMiLCJmdW5jdGlvbnMiLCJmdW5jdGlvbnNJbiIsIm1hcEtleXMiLCJtYXRjaGVzIiwibWF0Y2hlc1Byb3BlcnR5IiwibnRoQXJnIiwib21pdEJ5Iiwib25jZSIsIm9yZGVyQnkiLCJwcm9wZXJ0eU9mIiwicHVsbEFsbEJ5IiwicHVsbEFsbFdpdGgiLCJyZW1vdmUiLCJzYW1wbGVTaXplIiwic2V0V2l0aCIsInNodWZmbGUiLCJzb3J0ZWRVbmlxIiwic29ydGVkVW5pcUJ5IiwibGltaXQiLCJzcHJlYWQiLCJ0YWlsIiwidGFrZSIsInRha2VSaWdodCIsInRha2VSaWdodFdoaWxlIiwidGFrZVdoaWxlIiwidGFwIiwidGhyb3R0bGUiLCJ0b1BhdGgiLCJpc0Fyckxpa2UiLCJ1bmFyeSIsInVuaXFCeSIsInVuaXFXaXRoIiwidW5zZXQiLCJ1cGRhdGUiLCJ1cGRhdGVXaXRoIiwidmFsdWVzSW4iLCJ3cmFwIiwiemlwT2JqZWN0RGVlcCIsImVudHJpZXNJbiIsImV4dGVuZCIsImV4dGVuZFdpdGgiLCJjbGFtcCIsImNsb25lRGVlcCIsImNsb25lRGVlcFdpdGgiLCJjbG9uZVdpdGgiLCJjb25mb3Jtc1RvIiwiZGVmYXVsdFRvIiwiZW5kc1dpdGgiLCJwb3NpdGlvbiIsImVzY2FwZSIsImVzY2FwZVJlZ0V4cCIsImZpbmRLZXkiLCJmaW5kTGFzdEtleSIsImZvckluIiwiZm9ySW5SaWdodCIsImZvck93biIsImZvck93blJpZ2h0IiwiaW5SYW5nZSIsImJhc2VJblJhbmdlIiwiaXNCb29sZWFuIiwiaXNFbGVtZW50IiwiaXNFcXVhbCIsImlzRXF1YWxXaXRoIiwiaXNNYXRjaCIsImlzTWF0Y2hXaXRoIiwiaXNOYXRpdmUiLCJpc05pbCIsImlzTnVsbCIsImlzU2FmZUludGVnZXIiLCJpc1dlYWtNYXAiLCJpc1dlYWtTZXQiLCJsYXN0SW5kZXhPZiIsInN0cmljdExhc3RJbmRleE9mIiwibWF4QnkiLCJtZWFuIiwibWVhbkJ5IiwibWluQnkiLCJzdHViT2JqZWN0Iiwic3R1YlN0cmluZyIsInN0dWJUcnVlIiwibnRoIiwibm9Db25mbGljdCIsInBhZCIsInN0ckxlbmd0aCIsInBhZEVuZCIsInBhZFN0YXJ0IiwicmFkaXgiLCJmbG9hdGluZyIsInRlbXAiLCJyZWR1Y2VSaWdodCIsInJlcGVhdCIsInNhbXBsZSIsInNvcnRlZEluZGV4Iiwic29ydGVkSW5kZXhCeSIsInNvcnRlZEluZGV4T2YiLCJzb3J0ZWRMYXN0SW5kZXgiLCJzb3J0ZWRMYXN0SW5kZXhCeSIsInNvcnRlZExhc3RJbmRleE9mIiwic3RhcnRzV2l0aCIsInN1bSIsInN1bUJ5IiwidGVtcGxhdGUiLCJzZXR0aW5ncyIsImlzRXNjYXBpbmciLCJpc0V2YWx1YXRpbmciLCJpbXBvcnRzIiwiaW1wb3J0c0tleXMiLCJpbXBvcnRzVmFsdWVzIiwiaW50ZXJwb2xhdGUiLCJyZURlbGltaXRlcnMiLCJldmFsdWF0ZSIsInNvdXJjZVVSTCIsImVzY2FwZVZhbHVlIiwiaW50ZXJwb2xhdGVWYWx1ZSIsImVzVGVtcGxhdGVWYWx1ZSIsImV2YWx1YXRlVmFsdWUiLCJ2YXJpYWJsZSIsInRpbWVzIiwidG9Mb3dlciIsInRvU2FmZUludGVnZXIiLCJ0b1VwcGVyIiwidHJpbSIsInRyaW1FbmQiLCJ0cmltU3RhcnQiLCJ0cnVuY2F0ZSIsIm9taXNzaW9uIiwic2VhcmNoIiwibmV3RW5kIiwidW5lc2NhcGUiLCJ1bmlxdWVJZCIsImVhY2giLCJlYWNoUmlnaHQiLCJpc0ZpbHRlciIsInRha2VOYW1lIiwiZHJvcE5hbWUiLCJjaGVja0l0ZXJhdGVlIiwiaXNUYWtlciIsImxvZGFzaEZ1bmMiLCJyZXRVbndyYXBwZWQiLCJpc0xhenkiLCJ1c2VMYXp5IiwiaXNIeWJyaWQiLCJpc1Vud3JhcHBlZCIsIm9ubHlMYXp5IiwiY2hhaW5OYW1lIiwiZGlyIiwiaXNSaWdodCIsInZpZXciLCJnZXRWaWV3IiwiaXRlckxlbmd0aCIsInRha2VDb3VudCIsIml0ZXJJbmRleCIsImNvbW1pdCIsIndyYXBwZWQiLCJ0b0pTT04iLCJSZWdFeHBQYXJzZXIiLCJzYXZlU3RhdGUiLCJncm91cElkeCIsInJlc3RvcmVTdGF0ZSIsImNvbnN1bWVDaGFyIiwiZGlzanVuY3Rpb24iLCJiZWdpbiIsIm11bHRpTGluZSIsImlzUmVnRXhwRmxhZyIsInBvcENoYXIiLCJhZGRGbGFnIiwicGVla0NoYXIiLCJpc1Rlcm0iLCJpc0Fzc2VydGlvbiIsImFzc2VydGlvbiIsIkFTU0VSVF9FWElTVFMiLCJBU1NFUlRfTkVWRVJfUkVBQ0hfSEVSRSIsImlzQmFja3RyYWNraW5nIiwiYXRNb3N0IiwiaW50ZWdlckluY2x1ZGluZ1plcm8iLCJpc0RpZ2l0IiwiZ3JlZWR5IiwiZG90QWxsIiwiYXRvbUVzY2FwZSIsImNoYXJhY3RlckNsYXNzIiwiaXNQYXR0ZXJuQ2hhcmFjdGVyIiwicGF0dGVybkNoYXJhY3RlciIsImlzUXVhbnRpZmllciIsImNjIiwiZGVjaW1hbEVzY2FwZUF0b20iLCJjaGFyYWN0ZXJDbGFzc0VzY2FwZSIsImNvbnRyb2xFc2NhcGVBdG9tIiwiY29udHJvbExldHRlckVzY2FwZUF0b20iLCJudWxDaGFyYWN0ZXJBdG9tIiwiaGV4RXNjYXBlU2VxdWVuY2VBdG9tIiwicmVnRXhwVW5pY29kZUVzY2FwZVNlcXVlbmNlQXRvbSIsImlkZW50aXR5RXNjYXBlQXRvbSIsInBvc2l0aXZlSW50ZWdlciIsImRpZ2l0c0NoYXJDb2RlcyIsIndoaXRlc3BhY2VDb2RlcyIsIndvcmRDaGFyQ29kZXMiLCJlc2NhcGVDb2RlIiwibGV0dGVyIiwicGFyc2VIZXhEaWdpdHMiLCJjbGFzc1BhdHRlcm5DaGFyYWN0ZXJBdG9tIiwiaXNDbGFzc0F0b20iLCJjbGFzc0F0b20iLCJpc1JhbmdlRGFzaCIsImluc2VydFRvU2V0IiwiY2xhc3NFc2NhcGUiLCJjYXB0dXJpbmciLCJncm91cEFzdCIsImRlY2ltYWxQYXR0ZXJuTm9aZXJvIiwiZGVjaW1hbFBhdHRlcm4iLCJuZXh0Q2hhciIsImlzQXRvbSIsInByZXZTdGF0ZSIsImhvd01hbnkiLCJoZXhTdHJpbmciLCJoZXhDaGFyIiwiaGV4RGlnaXRQYXR0ZXJuIiwic3ViSXRlbSIsImZsYWdPYmoiLCJmbGFnS2V5IiwiQmFzZVJlZ0V4cFZpc2l0b3IiLCJjaGlsZCIsInN1YkNoaWxkIiwidmlzaXRQYXR0ZXJuIiwidmlzaXRGbGFncyIsInZpc2l0RGlzanVuY3Rpb24iLCJ2aXNpdFdvcmRCb3VuZGFyeSIsInZpc2l0Tm9uV29yZEJvdW5kYXJ5IiwidmlzaXRHcm91cCIsInZpc2l0R3JvdXBCYWNrUmVmZXJlbmNlIiwidmlzaXRRdWFudGlmaWVyIiwiZyIsIndpbmRvdyIsIndlYnBhY2tQb2x5ZmlsbCIsImRlcHJlY2F0ZSIsImFwaSIsImNvbnRlbnQiLCJkZWZhdWx0IiwibG9jYWxzIiwibWVtbyIsImlzT2xkSUUiLCJCb29sZWFuIiwiZG9jdW1lbnQiLCJhbGwiLCJhdG9iIiwiZ2V0VGFyZ2V0Iiwic3R5bGVUYXJnZXQiLCJxdWVyeVNlbGVjdG9yIiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJzdHlsZXNJbkRvbSIsImdldEluZGV4QnlJZGVudGlmaWVyIiwiaWRlbnRpZmllciIsIm1vZHVsZXNUb0RvbSIsImxpc3QiLCJpZENvdW50TWFwIiwiaWRlbnRpZmllcnMiLCJiYXNlIiwibWVkaWEiLCJzb3VyY2VNYXAiLCJyZWZlcmVuY2VzIiwiYWRkU3R5bGUiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJzdHlsZSIsImNyZWF0ZUVsZW1lbnQiLCJhdHRyaWJ1dGVzIiwibm9uY2UiLCJzZXRBdHRyaWJ1dGUiLCJpbnNlcnQiLCJhcHBlbmRDaGlsZCIsInRleHRTdG9yZSIsInJlcGxhY2VUZXh0IiwicmVwbGFjZW1lbnQiLCJhcHBseVRvU2luZ2xldG9uVGFnIiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJjc3NOb2RlIiwiY3JlYXRlVGV4dE5vZGUiLCJjaGlsZE5vZGVzIiwicmVtb3ZlQ2hpbGQiLCJpbnNlcnRCZWZvcmUiLCJhcHBseVRvVGFnIiwicmVtb3ZlQXR0cmlidXRlIiwiYnRvYSIsImVuY29kZVVSSUNvbXBvbmVudCIsImZpcnN0Q2hpbGQiLCJzaW5nbGV0b24iLCJzaW5nbGV0b25Db3VudGVyIiwic3R5bGVJbmRleCIsInBhcmVudE5vZGUiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJuZXdPYmoiLCJsYXN0SWRlbnRpZmllcnMiLCJuZXdMaXN0IiwibmV3TGFzdElkZW50aWZpZXJzIiwiX2luZGV4IiwiX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIiwiX19fQ1NTX0xPQURFUl9HRVRfVVJMX0lNUE9SVF9fXyIsIl9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8wX19fIiwiX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMF9fXyIsInVzZVNvdXJjZU1hcCIsImNzc01hcHBpbmciLCJzb3VyY2VNYXBwaW5nIiwiYmFzZTY0Iiwic291cmNlVVJMcyIsInNvdXJjZVJvb3QiLCJjc3NXaXRoTWFwcGluZ1RvU3RyaW5nIiwibWVkaWFRdWVyeSIsImRlZHVwZSIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJ1cmwiLCJoYXNoIiwibmVlZFF1b3RlcyIsIldoaXRlU3BhY2UiLCJWYXIiLCJQcmludCIsIlByaW50bG4iLCJJZGVudGlmaWVyIiwiTGl0ZXJhbCIsIkludGVnZXIiLCJQYXJlbnRoZXNlc09wZW4iLCJQYXJlbnRoZXNlc0Nsb3NlIiwiQmxvY2tPcGVuIiwiQmxvY2tDbG9zZSIsIkNvbW1hIiwiU2VtaUNvbG9uIiwiRXF1YWxzIiwiQWRkaXRpb25PcCIsIk11bHRpcGxpY2F0aW9uT3AiLCJQbHVzIiwiTWludXMiLCJEaXYiLCJNdWx0Iiwidm9jYWJ1bGFyeSIsIm1qMUxleGVyIiwic3VwZXIiLCIkIiwiaWRlbnRMaXN0IiwiZGVjbGFyYXRpb24iLCJzdGF0ZW1lbnQiLCJhc3NpZ25tZW50IiwicHJpbnRTdGF0IiwiZXhwcmVzc2lvbiIsImFkZGl0aW9uRXhwcmVzc2lvbiIsIm11bHRpcGxpY2F0aW9uRXhwcmVzc2lvbiIsImZhY3RvciIsIml0ZW1MaXN0IiwicHJpbnRJdGVtIiwibWoxUGFyc2VyIiwiQmFzZUNzdFZpc2l0b3IiLCJtajFJbnRlcnByZXRlciIsImZyYW1lIiwib3V0cHV0IiwidmFycyIsImxocyIsInJocyIsInJoc09wZXJhbmQiLCJyaHNWYWx1ZSIsIml0ZW1zIiwiZG9QcmludCIsImRvUHJpbnRsbiIsInBpIiwicmVzdWx0VmlldyIsImdldEVsZW1lbnRCeUlkIiwidG9rZW5WaWV3IiwiaW5uZXJIVE1MIiwibGV4IiwicHJvZ3JhbSIsImxleEVycm9ycyIsInBhcnNlIiwiY2xhc3NMaXN0IiwidG9rIiwiYWRkRXZlbnRMaXN0ZW5lciJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBS2ZGLEVBQW9CUSxFQUFJRixFQUd4Qk4sRUFBb0JTLEVBQUlWLEVBR3hCQyxFQUFvQlUsRUFBSSxTQUFTUixFQUFTUyxFQUFNQyxHQUMzQ1osRUFBb0JhLEVBQUVYLEVBQVNTLElBQ2xDRyxPQUFPQyxlQUFlYixFQUFTUyxFQUFNLENBQUVLLFlBQVksRUFBTUMsSUFBS0wsS0FLaEVaLEVBQW9Ca0IsRUFBSSxTQUFTaEIsR0FDWCxvQkFBWGlCLFFBQTBCQSxPQUFPQyxhQUMxQ04sT0FBT0MsZUFBZWIsRUFBU2lCLE9BQU9DLFlBQWEsQ0FBRUMsTUFBTyxXQUU3RFAsT0FBT0MsZUFBZWIsRUFBUyxhQUFjLENBQUVtQixPQUFPLEtBUXZEckIsRUFBb0JzQixFQUFJLFNBQVNELEVBQU9FLEdBRXZDLEdBRFUsRUFBUEEsSUFBVUYsRUFBUXJCLEVBQW9CcUIsSUFDL0IsRUFBUEUsRUFBVSxPQUFPRixFQUNwQixHQUFXLEVBQVBFLEdBQThCLGlCQUFWRixHQUFzQkEsR0FBU0EsRUFBTUcsV0FBWSxPQUFPSCxFQUNoRixJQUFJSSxFQUFLWCxPQUFPWSxPQUFPLE1BR3ZCLEdBRkExQixFQUFvQmtCLEVBQUVPLEdBQ3RCWCxPQUFPQyxlQUFlVSxFQUFJLFVBQVcsQ0FBRVQsWUFBWSxFQUFNSyxNQUFPQSxJQUN0RCxFQUFQRSxHQUE0QixpQkFBVEYsRUFBbUIsSUFBSSxJQUFJTSxLQUFPTixFQUFPckIsRUFBb0JVLEVBQUVlLEVBQUlFLEVBQUssU0FBU0EsR0FBTyxPQUFPTixFQUFNTSxJQUFRQyxLQUFLLEtBQU1ELElBQzlJLE9BQU9GLEdBSVJ6QixFQUFvQjZCLEVBQUksU0FBUzFCLEdBQ2hDLElBQUlTLEVBQVNULEdBQVVBLEVBQU9xQixXQUM3QixXQUF3QixPQUFPckIsRUFBZ0IsU0FDL0MsV0FBOEIsT0FBT0EsR0FFdEMsT0FEQUgsRUFBb0JVLEVBQUVFLEVBQVEsSUFBS0EsR0FDNUJBLEdBSVJaLEVBQW9CYSxFQUFJLFNBQVNpQixFQUFRQyxHQUFZLE9BQU9qQixPQUFPa0IsVUFBVUMsZUFBZTFCLEtBQUt1QixFQUFRQyxJQUd6Ry9CLEVBQW9Ca0MsRUFBSSxHQUlqQmxDLEVBQW9CQSxFQUFvQm1DLEVBQUksSSwrQkN6RTlDLFNBQVNDLEVBQVFDLEdBQ3BCLE9BQU9BLEdBQXNCLElBQWZBLEVBQUlDLE9BRWYsU0FBU0MsRUFBS0MsR0FDakIsT0FBSUEsUUFDTyxHQUVKMUIsT0FBT3lCLEtBQUtDLEdBRWhCLFNBQVNDLEVBQU9ELEdBR25CLElBRkEsSUFBSUUsRUFBTyxHQUNQSCxFQUFPekIsT0FBT3lCLEtBQUtDLEdBQ2RwQyxFQUFJLEVBQUdBLEVBQUltQyxFQUFLRCxPQUFRbEMsSUFDN0JzQyxFQUFLQyxLQUFLSCxFQUFJRCxFQUFLbkMsS0FFdkIsT0FBT3NDLEVBRUosU0FBU0UsRUFBVUosRUFBS0ssR0FHM0IsSUFGQSxJQUFJQyxFQUFTLEdBQ1RDLEVBQVVSLEVBQUtDLEdBQ1ZRLEVBQU0sRUFBR0EsRUFBTUQsRUFBUVQsT0FBUVUsSUFBTyxDQUMzQyxJQUFJQyxFQUFVRixFQUFRQyxHQUN0QkYsRUFBT0gsS0FBS0UsRUFBU3RDLEtBQUssS0FBTWlDLEVBQUlTLEdBQVVBLElBRWxELE9BQU9ILEVBRUosU0FBU0ksRUFBSWIsRUFBS1EsR0FFckIsSUFEQSxJQUFJQyxFQUFTLEdBQ0pFLEVBQU0sRUFBR0EsRUFBTVgsRUFBSUMsT0FBUVUsSUFDaENGLEVBQU9ILEtBQUtFLEVBQVN0QyxLQUFLLEtBQU04QixFQUFJVyxHQUFNQSxJQUU5QyxPQUFPRixFQUVKLFNBQVNLLEVBQVFkLEdBRXBCLElBREEsSUFBSVMsRUFBUyxHQUNKRSxFQUFNLEVBQUdBLEVBQU1YLEVBQUlDLE9BQVFVLElBQU8sQ0FDdkMsSUFBSUksRUFBV2YsRUFBSVcsR0FDZkssTUFBTUMsUUFBUUYsR0FDZE4sRUFBU0EsRUFBT1MsT0FBT0osRUFBUUMsSUFHL0JOLEVBQU9ILEtBQUtTLEdBR3BCLE9BQU9OLEVBRUosU0FBU1UsRUFBTW5CLEdBQ2xCLE9BQU9ELEVBQVFDLFFBQU9vQixFQUFZcEIsRUFBSSxHQUVuQyxTQUFTcUIsRUFBS3JCLEdBQ2pCLElBQUlzQixFQUFNdEIsR0FBT0EsRUFBSUMsT0FDckIsT0FBT3FCLEVBQU10QixFQUFJc0IsRUFBTSxRQUFLRixFQUV6QixTQUFTRyxFQUFRQyxFQUFZQyxHQUVoQyxHQUFJVCxNQUFNQyxRQUFRTyxHQUNkLElBQUssSUFBSXpELEVBQUksRUFBR0EsRUFBSXlELEVBQVd2QixPQUFRbEMsSUFDbkMwRCxFQUFpQnZELEtBQUssS0FBTXNELEVBQVd6RCxHQUFJQSxPQUc5QyxLQUFJMkQsRUFBU0YsR0FTZCxNQUFNRyxNQUFNLHdCQVJaLElBQUlDLEVBQVUxQixFQUFLc0IsR0FDbkIsSUFBU3pELEVBQUksRUFBR0EsRUFBSTZELEVBQVEzQixPQUFRbEMsSUFBSyxDQUNyQyxJQUFJdUIsRUFBTXNDLEVBQVE3RCxHQUNkaUIsRUFBUXdDLEVBQVdsQyxHQUN2Qm1DLEVBQWlCdkQsS0FBSyxLQUFNYyxFQUFPTSxLQU94QyxTQUFTdUMsRUFBU0MsR0FDckIsTUFBdUIsaUJBQVRBLEVBRVgsU0FBU0MsRUFBWUQsR0FDeEIsWUFBZ0JWLElBQVRVLEVBRUosU0FBU0UsRUFBV0YsR0FDdkIsT0FBT0EsYUFBZ0JHLFNBRXBCLFNBQVNDLEVBQUtsQyxFQUFLbUMsR0FFdEIsWUFEZ0IsSUFBWkEsSUFBc0JBLEVBQVUsR0FDN0JuQyxFQUFJb0MsTUFBTUQsRUFBU25DLEVBQUlDLFFBRTNCLFNBQVNvQyxFQUFVckMsRUFBS21DLEdBRTNCLFlBRGdCLElBQVpBLElBQXNCQSxFQUFVLEdBQzdCbkMsRUFBSW9DLE1BQU0sRUFBR3BDLEVBQUlDLE9BQVNrQyxHQUU5QixTQUFTRyxFQUFPdEMsRUFBS3VDLEdBQ3hCLElBQUk5QixFQUFTLEdBQ2IsR0FBSU8sTUFBTUMsUUFBUWpCLEdBQ2QsSUFBSyxJQUFJakMsRUFBSSxFQUFHQSxFQUFJaUMsRUFBSUMsT0FBUWxDLElBQUssQ0FDakMsSUFBSStELEVBQU85QixFQUFJakMsR0FDWHdFLEVBQVVyRSxLQUFLLEtBQU00RCxJQUNyQnJCLEVBQU9ILEtBQUt3QixHQUl4QixPQUFPckIsRUFFSixTQUFTK0IsRUFBT3hDLEVBQUt1QyxHQUN4QixPQUFPRCxFQUFPdEMsR0FBSyxTQUFVOEIsR0FBUSxPQUFRUyxFQUFVVCxNQUVwRCxTQUFTVyxFQUFLdEMsRUFBS29DLEdBR3RCLElBRkEsSUFBSXJDLEVBQU96QixPQUFPeUIsS0FBS0MsR0FDbkJNLEVBQVMsR0FDSjFDLEVBQUksRUFBR0EsRUFBSW1DLEVBQUtELE9BQVFsQyxJQUFLLENBQ2xDLElBQUk2QyxFQUFVVixFQUFLbkMsR0FDZmdELEVBQVdaLEVBQUlTLEdBQ2YyQixFQUFVeEIsS0FDVk4sRUFBT0csR0FBV0csR0FHMUIsT0FBT04sRUFFSixTQUFTaUMsRUFBSXZDLEVBQUt3QyxHQUNyQixRQUFJakIsRUFBU3ZCLElBQ0ZBLEVBQUlQLGVBQWUrQyxHQUkzQixTQUFTQyxFQUFTNUMsRUFBSzhCLEdBQzFCLFlBQXdFVixJQUFqRXlCLEVBQUs3QyxHQUFLLFNBQVVlLEdBQVksT0FBT0EsSUFBYWUsS0FLeEQsU0FBU2dCLEVBQVM5QyxHQUVyQixJQURBLElBQUkrQyxFQUFTLEdBQ0poRixFQUFJLEVBQUdBLEVBQUlpQyxFQUFJQyxPQUFRbEMsSUFDNUJnRixFQUFPekMsS0FBS04sRUFBSWpDLElBRXBCLE9BQU9nRixFQUtKLFNBQVNDLEVBQVM3QyxHQUNyQixJQUFJOEMsRUFBWSxHQUNoQixJQUFLLElBQUkzRCxLQUFPYSxFQUVSMUIsT0FBT2tCLFVBQVVDLGVBQWUxQixLQUFLaUMsRUFBS2IsS0FDMUMyRCxFQUFVM0QsR0FBT2EsRUFBSWIsSUFHN0IsT0FBTzJELEVBRUosU0FBU0osRUFBSzdDLEVBQUt1QyxHQUN0QixJQUFLLElBQUl4RSxFQUFJLEVBQUdBLEVBQUlpQyxFQUFJQyxPQUFRbEMsSUFBSyxDQUNqQyxJQUFJK0QsRUFBTzlCLEVBQUlqQyxHQUNmLEdBQUl3RSxFQUFVckUsS0FBSyxLQUFNNEQsR0FDckIsT0FBT0EsR0FLWixTQUFTb0IsRUFBUWxELEVBQUt1QyxHQUV6QixJQURBLElBQUlZLEVBQVEsR0FDSHBGLEVBQUksRUFBR0EsRUFBSWlDLEVBQUlDLE9BQVFsQyxJQUFLLENBQ2pDLElBQUkrRCxFQUFPOUIsRUFBSWpDLEdBQ1h3RSxFQUFVckUsS0FBSyxLQUFNNEQsSUFDckJxQixFQUFNN0MsS0FBS3dCLEdBR25CLE9BQU9xQixFQUVKLFNBQVNDLEVBQU9DLEVBQVVDLEVBQVVDLEdBS3ZDLElBSkEsSUFBSUMsRUFBUXhDLE1BQU1DLFFBQVFvQyxHQUN0QmhELEVBQU9tRCxFQUFRSCxFQUFXakQsRUFBT2lELEdBQ2pDM0MsRUFBVThDLEVBQVEsR0FBS3RELEVBQUttRCxHQUM1QkksRUFBY0YsRUFDVHhGLEVBQUksRUFBR0EsRUFBSXNDLEVBQUtKLE9BQVFsQyxJQUM3QjBGLEVBQWNILEVBQVNwRixLQUFLLEtBQU11RixFQUFhcEQsRUFBS3RDLEdBQUl5RixFQUFRekYsRUFBSTJDLEVBQVEzQyxJQUVoRixPQUFPMEYsRUFFSixTQUFTQyxFQUFRMUQsR0FDcEIsT0FBT3dDLEVBQU94QyxHQUFLLFNBQVU4QixHQUFRLE9BQU9BLFdBRXpDLFNBQVM2QixFQUFLM0QsRUFBSzRELFFBQ0wsSUFBYkEsSUFBdUJBLEVBQVcsU0FBVTlCLEdBQVEsT0FBT0EsSUFDL0QsSUFBSStCLEVBQWEsR0FDakIsT0FBT1QsRUFBT3BELEdBQUssU0FBVVMsRUFBUU0sR0FDakMsSUFBSStDLEVBQWVGLEVBQVM3QyxHQUM1QixPQUFJNkIsRUFBU2lCLEVBQVlDLEdBQ2RyRCxHQUdQb0QsRUFBV3ZELEtBQUt3RCxHQUNUckQsRUFBT1MsT0FBT0gsTUFFMUIsSUFFQSxTQUFTZ0QsRUFBUUMsR0FFcEIsSUFEQSxJQUFJQyxFQUFXLEdBQ05DLEVBQUssRUFBR0EsRUFBS0MsVUFBVWxFLE9BQVFpRSxJQUNwQ0QsRUFBU0MsRUFBSyxHQUFLQyxVQUFVRCxHQUVqQyxJQUFJRSxFQUFXLENBQUMsTUFDWkMsRUFBVUQsRUFBU2xELE9BQU8rQyxHQUM5QixPQUFPaEMsU0FBUzFDLEtBQUsrRSxNQUFNTixFQUFNSyxHQUU5QixTQUFTcEQsRUFBUWQsR0FDcEIsT0FBT2EsTUFBTUMsUUFBUWQsR0FFbEIsU0FBU29FLEVBQVNwRSxHQUNyQixPQUFPQSxhQUFlcUUsT0FFbkIsU0FBUzlDLEVBQVN2QixHQUNyQixPQUFPQSxhQUFlMUIsT0FFbkIsU0FBU2dHLEVBQU16RSxFQUFLdUMsR0FDdkIsSUFBSyxJQUFJeEUsRUFBSSxFQUFHQSxFQUFJaUMsRUFBSUMsT0FBUWxDLElBQzVCLElBQUt3RSxFQUFVdkMsRUFBSWpDLEdBQUlBLEdBQ25CLE9BQU8sRUFHZixPQUFPLEVBRUosU0FBUzJHLEVBQVcxRSxFQUFLSSxHQUM1QixPQUFPb0MsRUFBT3hDLEdBQUssU0FBVThCLEdBQVEsT0FBT2MsRUFBU3hDLEVBQVEwQixNQUUxRCxTQUFTNkMsRUFBSzNFLEVBQUt1QyxHQUN0QixJQUFLLElBQUl4RSxFQUFJLEVBQUdBLEVBQUlpQyxFQUFJQyxPQUFRbEMsSUFDNUIsR0FBSXdFLEVBQVV2QyxFQUFJakMsSUFDZCxPQUFPLEVBR2YsT0FBTyxFQUVKLFNBQVM2RyxFQUFRNUUsRUFBS2hCLEdBQ3pCLElBQUssSUFBSWpCLEVBQUksRUFBR0EsRUFBSWlDLEVBQUlDLE9BQVFsQyxJQUM1QixHQUFJaUMsRUFBSWpDLEtBQU9pQixFQUNYLE9BQU9qQixFQUdmLE9BQVEsRUFFTCxTQUFTOEcsRUFBTzdFLEVBQUs4RSxHQUN4QixJQUFJckUsRUFBU3FDLEVBQVM5QyxHQUV0QixPQURBUyxFQUFPc0UsTUFBSyxTQUFVQyxFQUFHQyxHQUFLLE9BQU9ILEVBQVVFLEdBQUtGLEVBQVVHLE1BQ3ZEeEUsRUFFSixTQUFTeUUsRUFBVWhGLEVBQU1FLEdBQzVCLEdBQUlGLEVBQUtELFNBQVdHLEVBQU9ILE9BQ3ZCLE1BQU0wQixNQUFNLDZEQUdoQixJQURBLElBQUlsQixFQUFTLEdBQ0oxQyxFQUFJLEVBQUdBLEVBQUltQyxFQUFLRCxPQUFRbEMsSUFDN0IwQyxFQUFPUCxFQUFLbkMsSUFBTXFDLEVBQU9yQyxHQUU3QixPQUFPMEMsRUFLSixTQUFTMEUsRUFBT0MsR0FFbkIsSUFEQSxJQUFJQyxFQUFVLEdBQ0xuQixFQUFLLEVBQUdBLEVBQUtDLFVBQVVsRSxPQUFRaUUsSUFDcENtQixFQUFRbkIsRUFBSyxHQUFLQyxVQUFVRCxHQUVoQyxJQUFLLElBQUluRyxFQUFJLEVBQUdBLEVBQUlzSCxFQUFRcEYsT0FBUWxDLElBR2hDLElBRkEsSUFBSXVILEVBQVlELEVBQVF0SCxHQUNwQndILEVBQWlCckYsRUFBS29GLEdBQ2pCRSxFQUFJLEVBQUdBLEVBQUlELEVBQWV0RixPQUFRdUYsSUFBSyxDQUM1QyxJQUFJNUUsRUFBVTJFLEVBQWVDLEdBQzdCSixFQUFPeEUsR0FBVzBFLEVBQVUxRSxHQUdwQyxPQUFPd0UsRUFLSixTQUFTSyxFQUFrQkwsR0FFOUIsSUFEQSxJQUFJQyxFQUFVLEdBQ0xuQixFQUFLLEVBQUdBLEVBQUtDLFVBQVVsRSxPQUFRaUUsSUFDcENtQixFQUFRbkIsRUFBSyxHQUFLQyxVQUFVRCxHQUVoQyxJQUFLLElBQUluRyxFQUFJLEVBQUdBLEVBQUlzSCxFQUFRcEYsT0FBUWxDLElBR2hDLElBRkEsSUFBSXVILEVBQVlELEVBQVF0SCxHQUNwQndILEVBQWlCckYsRUFBS29GLEdBQ2pCRSxFQUFJLEVBQUdBLEVBQUlELEVBQWV0RixPQUFRdUYsSUFBSyxDQUM1QyxJQUFJNUUsRUFBVTJFLEVBQWVDLEdBQ3hCOUMsRUFBSTBDLEVBQVF4RSxLQUNid0UsRUFBT3hFLEdBQVcwRSxFQUFVMUUsSUFJeEMsT0FBT3dFLEVBRUosU0FBU00sSUFFWixJQURBLElBQUlMLEVBQVUsR0FDTG5CLEVBQUssRUFBR0EsRUFBS0MsVUFBVWxFLE9BQVFpRSxJQUNwQ21CLEVBQVFuQixHQUFNQyxVQUFVRCxHQUU1QixPQUFPdUIsRUFBa0JuQixNQUFNLEtBQU0sQ0FBQyxJQUFJcEQsT0FBT21FLElBRTlDLFNBQVNNLEVBQVEzRixFQUFLNEYsR0FDekIsSUFBSW5GLEVBQVMsR0FXYixPQVZBYyxFQUFRdkIsR0FBSyxTQUFVOEIsR0FDbkIsSUFBSStELEVBQWVELEVBQWE5RCxHQUM1QmdFLEVBQWVyRixFQUFPb0YsR0FDdEJDLEVBQ0FBLEVBQWF4RixLQUFLd0IsR0FHbEJyQixFQUFPb0YsR0FBZ0IsQ0FBQy9ELE1BR3pCckIsRUFNSixTQUFTc0YsRUFBTUMsRUFBTUMsR0FHeEIsSUFGQSxJQUFJeEYsRUFBU3VDLEVBQVNnRCxHQUNsQkUsRUFBUWhHLEVBQUsrRixHQUNSbEksRUFBSSxFQUFHQSxFQUFJbUksRUFBTWpHLE9BQVFsQyxJQUFLLENBQ25DLElBQUl1QixFQUFNNEcsRUFBTW5JLEdBQ1ppQixFQUFRaUgsRUFBSzNHLEdBQ2pCbUIsRUFBT25CLEdBQU9OLEVBRWxCLE9BQU95QixFQUVKLFNBQVMwRixLQUNULFNBQVNDLEVBQVN0RSxHQUNyQixPQUFPQSxFQUtKLFNBQVN1RSxFQUFVQyxHQUV0QixJQURBLElBQUk3RixFQUFTLEdBQ0oxQyxFQUFJLEVBQUdBLEVBQUl1SSxFQUFTckcsT0FBUWxDLElBQUssQ0FDdEMsSUFBSXdJLEVBQVdELEVBQVN2SSxHQUN4QjBDLEVBQU9ILFVBQWtCYyxJQUFibUYsRUFBeUJBLE9BQVduRixHQUVwRCxPQUFPWCxFQUVKLFNBQVMrRixFQUFZQyxHQUVwQkMsU0FBV0EsUUFBUUMsT0FDbkJELFFBQVFDLE1BQU0sVUFBWUYsR0FHM0IsU0FBU0csRUFBY0gsR0FFdEJDLFNBQVdBLFFBQVFHLE1BRW5CSCxRQUFRRyxLQUFLLFlBQWNKLEdBRzVCLFNBQVNLLElBQ1osTUFBc0IsbUJBQVJDLElBRVgsU0FBU0MsRUFBWUMsRUFBYUMsR0FDckNBLEVBQVUzRixTQUFRLFNBQVU0RixHQUN4QixJQUFJQyxFQUFZRCxFQUFTeEgsVUFDekJsQixPQUFPNEksb0JBQW9CRCxHQUFXN0YsU0FBUSxTQUFVK0YsR0FDcEQsR0FBaUIsZ0JBQWJBLEVBQUosQ0FHQSxJQUFJQyxFQUFxQjlJLE9BQU8rSSx5QkFBeUJKLEVBQVdFLEdBRWhFQyxJQUNDQSxFQUFtQjNJLEtBQU8ySSxFQUFtQkUsS0FDOUNoSixPQUFPQyxlQUFldUksRUFBWXRILFVBQVcySCxFQUFVQyxHQUd2RE4sRUFBWXRILFVBQVUySCxHQUFZSCxFQUFTeEgsVUFBVTJILFVBTTlELFNBQVNJLEVBQWlCQyxHQUM3QixTQUFTQyxLQUVUQSxFQUFnQmpJLFVBQVlnSSxFQUM1QixJQUFJRSxFQUFlLElBQUlELEVBQ3ZCLFNBQVNFLElBQ0wsY0FBY0QsRUFBYUUsSUFNL0IsT0FGQUQsSUFDQUEsSUFDT0gsRUFNSixTQUFTSyxFQUFLaEksR0FDakIsT0FBT0EsRUFBSUEsRUFBSUMsT0FBUyxHQUdyQixTQUFTZ0ksRUFBTWpFLEdBQ2xCLElBQUlrRSxHQUFRLElBQUlDLE1BQU9DLFVBQ25CQyxFQUFNckUsSUFHVixNQUFPLENBQUVzRSxNQUZDLElBQUlILE1BQU9DLFVBQ0hGLEVBQ0lsSixNQUFPcUosR0E5WmpDLCtqRCx3cEVDR08sSUFBSUUsRUFBVSxRLGNDRmpCQyxFQUFpQixHQUNqQkMsRUFBZSxJQUFJLGVBQ2hCLFNBQVNDLEVBQWFDLEdBQ3pCLElBQUlDLEVBQVlELEVBQU9FLFdBQ3ZCLEdBQUlMLEVBQWU1SSxlQUFlZ0osR0FDOUIsT0FBT0osRUFBZUksR0FHdEIsSUFBSUUsRUFBWUwsRUFBYU0sUUFBUUgsR0FFckMsT0FEQUosRUFBZUksR0FBYUUsRUFDckJBLEVDWGYsSUFDUUUsRUFESkMsR0FDSUQsRUFBZ0IsU0FBVTNLLEVBQUc0RyxHQUk3QixPQUhBK0QsRUFBZ0J2SyxPQUFPeUssZ0JBQ2xCLENBQUVDLFVBQVcsY0FBZ0JuSSxPQUFTLFNBQVUzQyxFQUFHNEcsR0FBSzVHLEVBQUU4SyxVQUFZbEUsSUFDdkUsU0FBVTVHLEVBQUc0RyxHQUFLLElBQUssSUFBSXBGLEtBQUtvRixFQUFPQSxFQUFFckYsZUFBZUMsS0FBSXhCLEVBQUV3QixHQUFLb0YsRUFBRXBGLE1BQ3BEeEIsRUFBRzRHLElBRXJCLFNBQVU1RyxFQUFHNEcsR0FFaEIsU0FBU21FLElBQU9DLEtBQUtDLFlBQWNqTCxFQURuQzJLLEVBQWMzSyxFQUFHNEcsR0FFakI1RyxFQUFFc0IsVUFBa0IsT0FBTnNGLEVBQWF4RyxPQUFPWSxPQUFPNEYsSUFBTW1FLEVBQUd6SixVQUFZc0YsRUFBRXRGLFVBQVcsSUFBSXlKLEtBUTVFRyxFQUE4QixvREFDbEMsU0FBU0MsRUFBOEJiLEVBQVFjLFFBQ3RCLElBQXhCQSxJQUFrQ0EsR0FBc0IsR0FDNUQsSUFDSSxJQUFJQyxFQUFNaEIsRUFBYUMsR0FFdkIsT0ErQkQsU0FBU2dCLEVBQTBCRCxFQUFLakosRUFBUW1KLEdBQ25ELE9BQVFGLEVBQUlHLE1BQ1IsSUFBSyxjQUNELElBQUssSUFBSTlMLEVBQUksRUFBR0EsRUFBSTJMLEVBQUkxSyxNQUFNaUIsT0FBUWxDLElBQ2xDNEwsRUFBMEJELEVBQUkxSyxNQUFNakIsR0FBSTBDLEVBQVFtSixHQUVwRCxNQUNKLElBQUssY0FDRCxJQUFJRSxFQUFRSixFQUFJMUssTUFDaEIsSUFBU2pCLEVBQUksRUFBR0EsRUFBSStMLEVBQU03SixPQUFRbEMsSUFBSyxDQUNuQyxJQUFJZ00sRUFBT0QsRUFBTS9MLEdBRWpCLE9BQVFnTSxFQUFLRixNQUNULElBQUssWUFJTCxJQUFLLHFCQUVMLElBQUssWUFDTCxJQUFLLG9CQUNMLElBQUssY0FDTCxJQUFLLGVBQ0wsSUFBSyxrQkFDRCxTQUVSLElBQUlHLEVBQU9ELEVBQ1gsT0FBUUMsRUFBS0gsTUFDVCxJQUFLLFlBQ0RJLEVBQXdCRCxFQUFLaEwsTUFBT3lCLEVBQVFtSixHQUM1QyxNQUNKLElBQUssTUFDRCxJQUF3QixJQUFwQkksRUFBS0UsV0FDTCxNQUFNdkksTUF2RUwsaUVBeUVMLFlBQVFxSSxFQUFLaEwsT0FBTyxTQUFVbUwsR0FDMUIsR0FBb0IsaUJBQVRBLEVBQ1BGLEVBQXdCRSxFQUFNMUosRUFBUW1KLE9BRXJDLENBRUQsSUFBSVEsRUFBUUQsRUFFWixJQUFtQixJQUFmUCxFQUNBLElBQUssSUFBSVMsRUFBWUQsRUFBTUUsS0FBTUQsR0FBYUQsRUFBTUcsR0FBSUYsSUFDcERKLEVBQXdCSSxFQUFXNUosRUFBUW1KLE9BSTlDLENBRUQsSUFBU1MsRUFBWUQsRUFBTUUsS0FBTUQsR0FBYUQsRUFBTUcsSUFBTUYsRUFBWUcsRUFBb0JILElBQ3RGSixFQUF3QkksRUFBVzVKLEVBQVFtSixHQUcvQyxHQUFJUSxFQUFNRyxJQUFNQyxFQU9aLElBTkEsSUFBSUMsRUFBY0wsRUFBTUUsTUFBUUUsRUFDMUJKLEVBQU1FLEtBQ05FLEVBQ0ZFLEVBQWNOLEVBQU1HLEdBQ3BCSSxFQUFZQyxFQUF5QkgsR0FDckNJLEVBQVlELEVBQXlCRixHQUNoQ0ksRUFBYUgsRUFBV0csR0FBY0QsRUFBV0MsSUFDdERySyxFQUFPcUssR0FBY0EsT0FNekMsTUFDSixJQUFLLFFBQ0RuQixFQUEwQkssRUFBS2hMLE1BQU95QixFQUFRbUosR0FDOUMsTUFFSixRQUNJLE1BQU1qSSxNQUFNLHdCQUdwQixJQUFJb0osT0FBMkMzSixJQUFwQjRJLEVBQUtnQixZQUF3RCxJQUE1QmhCLEVBQUtnQixXQUFXQyxRQUM1RSxHQUdlLFVBQWRqQixFQUFLSCxPQUE4QyxJQUExQnFCLEVBQWdCbEIsSUFFdkIsVUFBZEEsRUFBS0gsT0FBNkMsSUFBekJrQixFQUMxQixNQUdSLE1BRUosUUFDSSxNQUFNcEosTUFBTSx5QkFHcEIsT0FBTyxZQUFPbEIsR0E5SE9rSixDQUEwQkQsRUFBSTFLLE1BQU8sR0FBSTBLLEVBQUl5QixNQUFNdkIsWUFHeEUsTUFBT3dCLEdBSUgsR0FicUIsa0VBYWpCQSxFQUFFQyxRQUNFNUIsR0FDQSxZQUFtQkYsRUFDZCwyQkFBNkJaLEVBQU9FLFdBRDNCLG1PQU9qQixDQUNELElBQUl5QyxFQUFZLEdBQ1o3QixJQUNBNkIsRUFDSSwyS0FHUixZQUFZL0IsMkJBQ2tCWixFQUFPRSxXQUR6QlUsa0RBRXlDLFVBRnpDQSw0RUFJUitCLElBR1osTUFBTyxHQWtHWCxTQUFTckIsRUFBd0JFLEVBQU0xSixFQUFRbUosR0FDM0MsSUFBSTJCLEVBQW1CWCxFQUF5QlQsR0FDaEQxSixFQUFPOEssR0FBb0JBLEdBQ1IsSUFBZjNCLEdBSVIsU0FBMEJPLEVBQU0xSixHQUM1QixJQUFJK0ssRUFBT0MsT0FBT0MsYUFBYXZCLEdBQzNCd0IsRUFBWUgsRUFBS0ksY0FFckIsR0FBSUQsSUFBY0gsRUFBTSxDQUNwQixJQUFJRCxFQUFtQlgsRUFBeUJlLEVBQVVFLFdBQVcsSUFDckVwTCxFQUFPOEssR0FBb0JBLE1BRTFCLENBQ0QsSUFBSU8sRUFBWU4sRUFBS08sY0FDckIsR0FBSUQsSUFBY04sRUFBTSxDQUNoQkQsRUFBbUJYLEVBQXlCa0IsRUFBVUQsV0FBVyxJQUNyRXBMLEVBQU84SyxHQUFvQkEsSUFmL0JTLENBQWlCN0IsRUFBTTFKLEdBbUIvQixTQUFTd0wsRUFBU0MsRUFBU0MsR0FDdkIsT0FBTyxZQUFLRCxFQUFRbE4sT0FBTyxTQUFVb04sR0FDakMsR0FBMkIsaUJBQWhCQSxFQUNQLE9BQU8sWUFBU0QsRUFBaUJDLEdBSWpDLElBQUlDLEVBQVVELEVBQ2QsWUFBNEhoTCxJQUFwSCxZQUFLK0ssR0FBaUIsU0FBVUcsR0FBYyxPQUFPRCxFQUFRL0IsTUFBUWdDLEdBQWNBLEdBQWNELEVBQVE5QixTQUk3SCxTQUFTVyxFQUFnQnhCLEdBQ3JCLFNBQUlBLEVBQUlzQixZQUF5QyxJQUEzQnRCLEVBQUlzQixXQUFXQyxZQUdoQ3ZCLEVBQUkxSyxRQUdGLFlBQVEwSyxFQUFJMUssT0FDYixZQUFNMEssRUFBSTFLLE1BQU9rTSxHQUNqQkEsRUFBZ0J4QixFQUFJMUssUUFFOUIsSUFBSSxFQUFnQyxTQUFVdU4sR0FFMUMsU0FBU0MsRUFBZUwsR0FDcEIsSUFBSU0sRUFBUUYsRUFBT3JPLEtBQUttTCxPQUFTQSxLQUdqQyxPQUZBb0QsRUFBTU4sZ0JBQWtCQSxFQUN4Qk0sRUFBTXRKLE9BQVEsRUFDUHNKLEVBb0NYLE9BekNBeEQsRUFBVXVELEVBQWdCRCxHQU8xQkMsRUFBZTdNLFVBQVUrTSxjQUFnQixTQUFVQyxHQUUvQyxJQUFtQixJQUFmdEQsS0FBS2xHLE1BQVQsQ0FLQSxPQUFRd0osRUFBSzlDLE1BQ1QsSUFBSyxZQUVELFlBREFSLEtBQUt1RCxlQUFlRCxHQUV4QixJQUFLLG9CQUVELFlBREF0RCxLQUFLd0QsdUJBQXVCRixHQUdwQ0osRUFBTzVNLFVBQVUrTSxjQUFjeE8sS0FBS21MLEtBQU1zRCxLQUU5Q0gsRUFBZTdNLFVBQVVtTixlQUFpQixTQUFVSCxHQUM1QyxZQUFTdEQsS0FBSzhDLGdCQUFpQlEsRUFBSzNOLFNBQ3BDcUssS0FBS2xHLE9BQVEsSUFHckJxSixFQUFlN00sVUFBVW9OLFNBQVcsU0FBVUosR0FDdENBLEVBQUt6QyxnQkFDd0M5SSxJQUF6QzZLLEVBQVNVLEVBQU10RCxLQUFLOEMsbUJBQ3BCOUMsS0FBS2xHLE9BQVEsUUFJNEIvQixJQUF6QzZLLEVBQVNVLEVBQU10RCxLQUFLOEMsbUJBQ3BCOUMsS0FBS2xHLE9BQVEsSUFJbEJxSixFQTFDd0IsQ0EyQ2pDLHFCQUNLLFNBQVNRLEVBQWlCQyxFQUFXbEUsR0FDeEMsR0FBSUEsYUFBbUJ2RSxPQUFRLENBQzNCLElBQUlrRixFQUFNaEIsRUFBYUssR0FDbkJtRSxFQUFpQixJQUFJLEVBQWVELEdBRXhDLE9BREFDLEVBQWVDLE1BQU16RCxHQUNkd0QsRUFBZS9KLE1BR3RCLFlBRU8vQixJQUZDLFlBQUsySCxHQUFTLFNBQVV5QyxHQUM1QixPQUFPLFlBQVN5QixFQUFXekIsRUFBS0ssV0FBVyxPQzFQdkQsSUFBSSxFQUF3QyxXQUN4QyxJQUFJN0MsRUFBZ0IsU0FBVTNLLEVBQUc0RyxHQUk3QixPQUhBK0QsRUFBZ0J2SyxPQUFPeUssZ0JBQ2xCLENBQUVDLFVBQVcsY0FBZ0JuSSxPQUFTLFNBQVUzQyxFQUFHNEcsR0FBSzVHLEVBQUU4SyxVQUFZbEUsSUFDdkUsU0FBVTVHLEVBQUc0RyxHQUFLLElBQUssSUFBSXBGLEtBQUtvRixFQUFPQSxFQUFFckYsZUFBZUMsS0FBSXhCLEVBQUV3QixHQUFLb0YsRUFBRXBGLE1BQ3BEeEIsRUFBRzRHLElBRTVCLE9BQU8sU0FBVTVHLEVBQUc0RyxHQUVoQixTQUFTbUUsSUFBT0MsS0FBS0MsWUFBY2pMLEVBRG5DMkssRUFBYzNLLEVBQUc0RyxHQUVqQjVHLEVBQUVzQixVQUFrQixPQUFOc0YsRUFBYXhHLE9BQU9ZLE9BQU80RixJQUFNbUUsRUFBR3pKLFVBQVlzRixFQUFFdEYsVUFBVyxJQUFJeUosSUFWM0MsR0FrQnhDZ0UsRUFBVSxVQUdIQyxFQUFzRCxrQkFBOUIsSUFBSTdJLE9BQU8sUUFBUThJLE9BTy9DLFNBQVNDLEVBQWtCQyxFQUFZQyxHQVMxQyxJQUlJQyxFQUpBQyxHQVJKRixFQUFVLFlBQVNBLEVBQVMsQ0FDeEJHLFVBQVdQLEVBQ1hRLE9BQU8sRUFDUEMsVUFBVSxFQUNWQyxpQkFBa0IsT0FDbEJDLHlCQUEwQixDQUFDLEtBQU0sTUFDakNMLE9BQVEsU0FBVWxILEVBQUt3SCxHQUFVLE9BQU9BLFFBRXZCTixPQUNyQkEsRUFBTyxtQ0FBbUMsWUFzMEI5QyxXQUNJLEdBQUksWUFBUU8sR0FBNEIsQ0FDcENBLEVBQTRCLElBQUlsTixNQUFNLE9BQ3RDLElBQUssSUFBSWpELEVBQUksRUFBR0EsRUFBSSxNQUFPQSxJQUV2Qm1RLEVBQTBCblEsR0FBS0EsRUFBSSxJQUFNLE9BQVNBLEVBQUksS0FBT0EsR0ExMEJqRW9RLE1BR0pSLEVBQU8sbUJBQW1CLFdBQ3RCRCxFQUFvQixZQUFPRixHQUFZLFNBQVVZLEdBQzdDLE9BQU9BLEVBQVNoQixLQUFhLEVBQU1pQixTQUczQyxJQUNJQyxFQTJFQUMsRUFDQUMsRUFDQUMsRUFDQUMsRUFDQUMsRUErQkFDLEVBaUJBQyxFQUNBQyxFQUNBQyxFQUNBQyxFQW5JQUMsR0FBWSxFQUVoQnRCLEVBQU8sc0JBQXNCLFdBQ3pCc0IsR0FBWSxFQUNaWCxFQUF5QixZQUFJWixHQUFtQixTQUFVVSxHQUN0RCxJQUFJYyxFQUFjZCxFQUFTaEIsR0FFM0IsR0FBSSxZQUFTOEIsR0FBYyxDQUN2QixJQUFJQyxFQUFlRCxFQUFZRSxPQUMvQixPQUE0QixJQUF4QkQsRUFBYWxQLFFBRUksTUFBakJrUCxHQUNpQixNQUFqQkEsR0FDaUIsTUFBakJBLEdBQ0NELEVBQVl0RixXQUdnQixJQUF4QnVGLEVBQWFsUCxRQUNFLE9BQXBCa1AsRUFBYSxJQUVaLFlBQVMsQ0FDTixJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxLQUNEQSxFQUFhLElBT1QxQixFQUFRRyxVQUNUeUIsRUFBY0gsR0FDZEksRUFBZ0JKLEdBTGZDLEVBQWEsR0ExQmJBLEVBa0NWLEdBQUksWUFBV0QsR0FHaEIsT0FGQUQsR0FBWSxFQUVMLENBQUVNLEtBQU1MLEdBRWQsR0FBSSxZQUFJQSxFQUFhLFFBR3RCLE9BRkFELEdBQVksRUFFTEMsRUFFTixHQUEyQixpQkFBaEJBLEVBQTBCLENBQ3RDLEdBQTJCLElBQXZCQSxFQUFZalAsT0FDWixPQUFPaVAsRUFHUCxJQUFJTSxFQUFzQk4sRUFBWU8sUUFBUSxzQkFBdUIsUUFDakVDLEVBQWdCLElBQUlsTCxPQUFPZ0wsR0FDL0IsT0FBTy9CLEVBQVFHLFVBQ1R5QixFQUFjSyxHQUNkSixFQUFnQkksR0FJMUIsTUFBTS9OLE1BQU0sOEJBU3hCZ00sRUFBTyxnQkFBZ0IsV0FDbkJZLEVBQW1CLFlBQUliLEdBQW1CLFNBQVVVLEdBQVksT0FBT0EsRUFBU3VCLGdCQUNoRm5CLEVBQW9CLFlBQUlkLEdBQW1CLFNBQVVrQyxHQUNqRCxJQUFJQyxFQUFZRCxFQUFNRSxNQUV0QixHQUFJRCxJQUFjLEVBQU1FLFFBQXhCLENBR0ssR0FBSSxZQUFTRixHQUNkLE9BQU9BLEVBRU4sR0FBSSxZQUFZQSxHQUNqQixPQUFPLEVBR1AsTUFBTWxPLE1BQU0sNEJBR3BCOE0sRUFBMkIsWUFBSWYsR0FBbUIsU0FBVWtDLEdBQ3hELElBQUlJLEVBQWdCSixFQUFNSyxXQUMxQixHQUFJRCxFQUVBLE9BRG1CLFlBQVF0QyxFQUFtQnNDLE1BSXREdEIsRUFBdUIsWUFBSWhCLEdBQW1CLFNBQVVrQyxHQUFTLE9BQU9BLEVBQU1NLGFBQzlFdkIsRUFBc0IsWUFBSWpCLEdBQW1CLFNBQVVrQyxHQUNuRCxPQUFPLFlBQUlBLEVBQU8sa0JBSTFCakMsRUFBTyw0QkFBNEIsV0FDL0IsSUFBSXdDLEVBQTBCQyxFQUFhM0MsRUFBUU8sMEJBQ25EWSxFQUFnQyxZQUFJbEIsR0FBbUIsU0FBVTJDLEdBQVcsT0FBTyxLQUNsRCxlQUE3QjVDLEVBQVFNLG1CQUNSYSxFQUFnQyxZQUFJbEIsR0FBbUIsU0FBVTJDLEdBQzdELE9BQUksWUFBSUEsRUFBUyxlQUNOQSxFQUFRQyxhQUdpRCxJQUE1REMsRUFBc0JGLEVBQVNGLEdBQ3hCbkQsRUFBaUJtRCxFQUF5QkUsRUFBUWpELGNBRDdELFNBV2hCTyxFQUFPLG1CQUFtQixXQUN0QmtCLEVBQXVCLFlBQUluQixFQUFtQjhDLEdBQzlDMUIsRUFBb0IsWUFBSVIsRUFBd0JtQyxHQUNoRDFCLEVBQWMsWUFBT3JCLEdBQW1CLFNBQVVnRCxFQUFLZCxHQUNuRCxJQUFJQyxFQUFZRCxFQUFNRSxNQUl0QixPQUhJLFlBQVNELElBQWdCQSxJQUFjLEVBQU1FLFVBQzdDVyxFQUFJYixHQUFhLElBRWRhLElBQ1IsSUFDSDFCLEVBQXFCLFlBQUlWLEdBQXdCLFNBQVVxQyxFQUFHaFEsR0FDMUQsTUFBTyxDQUNIb0ksUUFBU3VGLEVBQXVCM04sR0FDaENpUSxVQUFXbkMsRUFBeUI5TixHQUNwQ2tRLGtCQUFtQmpDLEVBQThCak8sR0FDakRtUSxTQUFVakMsRUFBcUJsTyxHQUMvQm9RLE1BQU9qQyxFQUFrQm5PLEdBQ3pCcVEsTUFBT3hDLEVBQWtCN04sR0FDekJMLEtBQU1vTyxFQUFxQi9OLEdBQzNCc1EsSUFBS3RDLEVBQW9CaE8sR0FDekJnUCxhQUFjcEIsRUFBaUI1TixHQUMvQnVRLFVBQVd4RCxFQUFrQi9NLFVBSXpDLElBQUl3USxHQUFpQixFQUNqQkMsRUFBK0IsR0FxRW5DLE9BcEVLM0QsRUFBUUssVUFDVEgsRUFBTywyQkFBMkIsV0FDOUJ5RCxFQUErQixZQUFPMUQsR0FBbUIsU0FBVWpOLEVBQVE0USxFQUFhMVEsR0FDcEYsR0FBbUMsaUJBQXhCMFEsRUFBWWpFLFFBQXNCLENBQ3pDLElBQ0lrRSxFQUFlMUcsRUFESnlHLEVBQVlqRSxRQUFRdkIsV0FBVyxJQUU5QzBGLEVBQWlCOVEsRUFBUTZRLEVBQWN0QyxFQUFtQnJPLFNBRXpELEdBQUksWUFBUTBRLEVBQVlHLGtCQUFtQixDQUM1QyxJQUFJQyxFQUNKLFlBQVFKLEVBQVlHLGtCQUFrQixTQUFVRSxHQUM1QyxJQUdJQyxFQUFtQi9HLEVBSGEsaUJBQWQ4RyxFQUNoQkEsRUFBVTdGLFdBQVcsR0FDckI2RixHQU1GRCxJQUF1QkUsSUFDdkJGLEVBQXFCRSxFQUNyQkosRUFBaUI5USxFQUFRa1IsRUFBa0IzQyxFQUFtQnJPLGFBSXJFLEdBQUksWUFBUzBRLEVBQVlqRSxTQUMxQixHQUFJaUUsRUFBWWpFLFFBQVF3RSxRQUNwQlQsR0FBaUIsRUFDYjFELEVBQVFoRSxxQkFDUixZQUFpQkYsRUFDWix5QkFBMkI4SCxFQUFZakUsUUFBUXZFLFdBRHhDLCtRQU9mLENBQ0QsSUFBSWdKLEVBQWlCckksRUFBOEI2SCxFQUFZakUsUUFBU0ssRUFBUWhFLHFCQUk1RSxZQUFRb0ksS0FJUlYsR0FBaUIsR0FFckIsWUFBUVUsR0FBZ0IsU0FBVTFILEdBQzlCb0gsRUFBaUI5USxFQUFRMEosRUFBTTZFLEVBQW1Cck8sWUFLdEQ4TSxFQUFRaEUscUJBQ1IsWUFBaUJGLEVBQ1osaUJBQW1COEgsRUFBWS9TLEtBRHhCLDRQQUtoQjZTLEdBQWlCLEVBRXJCLE9BQU8xUSxJQUNSLE9BR1hrTixFQUFPLGdCQUFnQixXQUNuQnlELEVBQStCLFlBQVVBLE1BRXRDLENBQ0hyQyxZQUFhQSxFQUNiQyxtQkFBb0JBLEVBQ3BCb0MsNkJBQThCQSxFQUM5Qm5DLFVBQVdBLEVBQ1hrQyxlQUFnQkEsR0FHakIsU0FBU1csRUFBaUJ0RSxFQUFZdUUsR0FDekMsSUFBSUMsRUFBUyxHQUNUQyxFQXVCRCxTQUE2QnpFLEdBQ2hDLElBQUkwRSxFQUErQixZQUFPMUUsR0FBWSxTQUFVWSxHQUM1RCxPQUFRLFlBQUlBLEVBQVVoQixNQUV0QjRFLEVBQVMsWUFBSUUsR0FBOEIsU0FBVTlELEdBQ3JELE1BQU8sQ0FDSC9DLFFBQVMsaUJBQ0wrQyxFQUFTOVAsS0FDVCx1Q0FDSnVMLEtBQU1zSSxFQUF5QkMsZ0JBQy9CNUUsV0FBWSxDQUFDWSxPQUdqQmlFLEVBQVEsWUFBVzdFLEVBQVkwRSxHQUNuQyxNQUFPLENBQUVGLE9BQVFBLEVBQVFLLE1BQU9BLEdBckNaQyxDQUFvQjlFLEdBQ3hDd0UsRUFBU0EsRUFBTzlRLE9BQU8rUSxFQUFjRCxRQUNyQyxJQUFJTyxFQXFDRCxTQUE2Qi9FLEdBQ2hDLElBQUlnRixFQUErQixZQUFPaEYsR0FBWSxTQUFVWSxHQUM1RCxJQUFJckYsRUFBVXFGLEVBQVNoQixHQUN2QixRQUFTLFlBQVNyRSxJQUNiLFlBQVdBLElBQ1gsWUFBSUEsRUFBUyxTQUNiLFlBQVNBLE9BRWRpSixFQUFTLFlBQUlRLEdBQThCLFNBQVVwRSxHQUNyRCxNQUFPLENBQ0gvQyxRQUFTLGlCQUNMK0MsRUFBUzlQLEtBREosMEpBSVR1TCxLQUFNc0ksRUFBeUJNLGdCQUMvQmpGLFdBQVksQ0FBQ1ksT0FHakJpRSxFQUFRLFlBQVc3RSxFQUFZZ0YsR0FDbkMsTUFBTyxDQUFFUixPQUFRQSxFQUFRSyxNQUFPQSxHQXhEWkssQ0FBb0JULEVBQWNJLE9BQ2xETSxFQUFrQkosRUFBY0YsTUFNcEMsT0FEQUwsR0FEQUEsR0FEQUEsR0FEQUEsR0FEQUEsRUFBU0EsRUFBTzlRLE9BQU9xUixFQUFjUCxTQUNyQjlRLE9BTXBCLFNBQStCc00sR0FDM0IsSUFBSXdFLEVBQVMsR0FDVFksRUFBcUIsWUFBT3BGLEdBQVksU0FBVTZELEdBQ2xELE9BQU8sWUFBU0EsRUFBWWpFLE9BT2hDLE9BREE0RSxHQURBQSxHQURBQSxHQURBQSxHQURBQSxFQUFTQSxFQUFPOVEsT0E2Q2IsU0FBOEJzTSxHQUNqQyxJQUFJcUYsRUFBaUMsU0FBVXRHLEdBRTNDLFNBQVNzRyxJQUNMLElBQUlwRyxFQUFtQixPQUFYRixHQUFtQkEsRUFBT2pJLE1BQU0rRSxLQUFNbEYsWUFBY2tGLEtBRWhFLE9BREFvRCxFQUFNdEosT0FBUSxFQUNQc0osRUFLWCxPQVRBLEVBQVVvRyxFQUFpQnRHLEdBTTNCc0csRUFBZ0JsVCxVQUFVbVQsZUFBaUIsU0FBVW5HLEdBQ2pEdEQsS0FBS2xHLE9BQVEsR0FFVjBQLEVBVnlCLENBV2xDLHFCQUNFRSxFQUFlLFlBQU92RixHQUFZLFNBQVVZLEdBQzVDLElBQUlyRixFQUFVcUYsRUFBU2hCLEdBQ3ZCLElBQ0ksSUFBSTRGLEVBQVl0SyxFQUFhSyxHQUN6QmtLLEVBQW1CLElBQUlKLEVBRTNCLE9BREFJLEVBQWlCOUYsTUFBTTZGLEdBQ2hCQyxFQUFpQjlQLE1BRTVCLE1BQU9pSSxHQUdILE9BQU84SCxFQUFhQyxLQUFLcEssRUFBUXFHLFlBZXpDLE9BWmEsWUFBSTJELEdBQWMsU0FBVTNFLEdBQ3JDLE1BQU8sQ0FDSC9DLFFBQVMsb0RBRUwrQyxFQUFTOVAsS0FGSiwwSkFNVHVMLEtBQU1zSSxFQUF5QmlCLGlCQUMvQjVGLFdBQVksQ0FBQ1ksT0FqRkVpRixDQUFxQlQsS0FDNUIxUixPQXNHYixTQUFnQ3NNLEdBQ25DLElBQUk4RixFQUFtQyxTQUFVL0csR0FFN0MsU0FBUytHLElBQ0wsSUFBSTdHLEVBQW1CLE9BQVhGLEdBQW1CQSxFQUFPakksTUFBTStFLEtBQU1sRixZQUFja0YsS0FFaEUsT0FEQW9ELEVBQU10SixPQUFRLEVBQ1BzSixFQUtYLE9BVEEsRUFBVTZHLEVBQW1CL0csR0FNN0IrRyxFQUFrQjNULFVBQVU0VCxpQkFBbUIsU0FBVTVHLEdBQ3JEdEQsS0FBS2xHLE9BQVEsR0FFVm1RLEVBVjJCLENBV3BDLHFCQUNFUCxFQUFlLFlBQU92RixHQUFZLFNBQVVZLEdBQzVDLElBQUlyRixFQUFVcUYsRUFBU2hCLEdBQ3ZCLElBQ0ksSUFBSTRGLEVBQVl0SyxFQUFhSyxHQUN6QnlLLEVBQXFCLElBQUlGLEVBRTdCLE9BREFFLEVBQW1CckcsTUFBTTZGLEdBQ2xCUSxFQUFtQnJRLE1BRTlCLE1BQU9pSSxHQUdILE9BQU9xSSxFQUFlTixLQUFLcEssRUFBUXFHLFlBZTNDLE9BWmEsWUFBSTJELEdBQWMsU0FBVTNFLEdBQ3JDLE1BQU8sQ0FDSC9DLFFBQVMsb0RBRUwrQyxFQUFTOVAsS0FGSixvS0FNVHVMLEtBQU1zSSxFQUF5QnVCLGlCQUMvQmxHLFdBQVksQ0FBQ1ksT0ExSUV1RixDQUF1QmYsS0FDOUIxUixPQThJYixTQUE4QnNNLEdBQ2pDLElBQUlvRyxFQUFlLFlBQU9wRyxHQUFZLFNBQVVZLEdBQzVDLElBQUlyRixFQUFVcUYsRUFBU2hCLEdBQ3ZCLE9BQU9yRSxhQUFtQnZFLFNBQVd1RSxFQUFROEssV0FBYTlLLEVBQVErSyxXQVd0RSxPQVRhLFlBQUlGLEdBQWMsU0FBVXhGLEdBQ3JDLE1BQU8sQ0FDSC9DLFFBQVMsaUJBQ0wrQyxFQUFTOVAsS0FDVCxvRUFDSnVMLEtBQU1zSSxFQUF5QjRCLHdCQUMvQnZHLFdBQVksQ0FBQ1ksT0F6SkU0RixDQUFxQnBCLEtBQzVCMVIsT0E4SmIsU0FBK0JzTSxHQUNsQyxJQUFJckssRUFBUSxHQUNSOFEsRUFBb0IsWUFBSXpHLEdBQVksU0FBVTBHLEdBQzlDLE9BQU8sWUFBTzFHLEdBQVksU0FBVS9NLEVBQVEwVCxHQUN4QyxPQUFJRCxFQUFVOUcsUUFBUWdDLFNBQVcrRSxFQUFVL0csUUFBUWdDLFFBQzlDLFlBQVNqTSxFQUFPZ1IsSUFDakJBLEVBQVUvRyxVQUFZLEVBQU1pQixLQUc1QmxMLEVBQU03QyxLQUFLNlQsR0FDWDFULEVBQU9ILEtBQUs2VCxJQUdUMVQsSUFDUixPQUVQd1QsRUFBb0IsWUFBUUEsR0FDNUIsSUFBSUcsRUFBb0IsWUFBT0gsR0FBbUIsU0FBVUksR0FDeEQsT0FBT0EsRUFBaUJwVSxPQUFTLEtBY3JDLE9BWmEsWUFBSW1VLEdBQW1CLFNBQVVFLEdBQzFDLElBQUlDLEVBQWlCLFlBQUlELEdBQWdCLFNBQVVsRyxHQUMvQyxPQUFPQSxFQUFTOVAsUUFHcEIsTUFBTyxDQUNIK00sUUFBUyw2QkFGTyxZQUFNaUosR0FBZ0JsSCxRQUU3Qix3REFDb0RtSCxFQUFlQyxLQUFLLE1BQVEsTUFDekYzSyxLQUFNc0ksRUFBeUJzQyx5QkFDL0JqSCxXQUFZOEcsTUEzTEdJLENBQXNCOUIsS0FDN0IxUixPQWtGYixTQUErQnNNLEdBQ2xDLElBQUltSCxFQUFxQixZQUFPbkgsR0FBWSxTQUFVWSxHQUVsRCxPQURjQSxFQUFTaEIsR0FDUitGLEtBQUssT0FXeEIsT0FUYSxZQUFJd0IsR0FBb0IsU0FBVXZHLEdBQzNDLE1BQU8sQ0FDSC9DLFFBQVMsaUJBQ0wrQyxFQUFTOVAsS0FDVCxxREFDSnVMLEtBQU1zSSxFQUF5QnlDLG9CQUMvQnBILFdBQVksQ0FBQ1ksT0E3RkV5RyxDQUFzQmpDLElBZnRCa0MsQ0FBc0JuQyxLQUM3QnpSLE9BNk1iLFNBQThCc00sR0FDakMsSUFBSXVILEVBQWUsWUFBT3ZILEdBQVksU0FBVW9DLEdBQzVDLElBQUssWUFBSUEsRUFBTyxTQUNaLE9BQU8sRUFFWCxJQUFJb0IsRUFBUXBCLEVBQU1FLE1BQ2xCLE9BQU9rQixJQUFVLEVBQU1qQixTQUFXaUIsSUFBVSxFQUFNM0MsS0FBTyxZQUFTMkMsTUFXdEUsT0FUYSxZQUFJK0QsR0FBYyxTQUFVM0csR0FDckMsTUFBTyxDQUNIL0MsUUFBUyxpQkFDTCtDLEVBQVM5UCxLQUNULGdFQUNKdUwsS0FBTXNJLEVBQXlCNkMseUJBQy9CeEgsV0FBWSxDQUFDWSxPQTNORTZHLENBQXFCdEMsS0FDNUJ6UixPQStOYixTQUFpQ3NNLEVBQVkwSCxHQUNoRCxJQUFJQyxFQUFlLFlBQU8zSCxHQUFZLFNBQVVvQyxHQUM1QyxZQUE0QnhPLElBQXBCd08sRUFBTU0sWUFBNEIsWUFBU2dGLEVBQVl0RixFQUFNTSxjQVd6RSxPQVRhLFlBQUlpRixHQUFjLFNBQVU5RSxHQUdyQyxNQUFPLENBQ0hoRixRQUhNLGlCQUFtQmdGLEVBQVEvUixLQUFPLDhEQUFnRStSLEVBQVFILFVBQTFHLHlCQUlOckcsS0FBTXNJLEVBQXlCaUQseUJBQy9CNUgsV0FBWSxDQUFDNkMsT0F6T0VnRixDQUF3QjFDLEVBQWlCWixLQUNoRDdRLE9BNk9iLFNBQWlDc00sR0FDcEMsSUFBSXdFLEVBQVMsR0FDVHNELEVBQWMsWUFBTzlILEdBQVksU0FBVS9NLEVBQVE0UCxFQUFTMVAsR0FDNUQsSUFxRFlnSSxFQXJEUkksRUFBVXNILEVBQVFqRCxRQUN0QixPQUFJckUsSUFBWSxFQUFNc0YsS0FLbEIsWUFBU3RGLEdBQ1R0SSxFQUFPSCxLQUFLLENBQUVpVixJQUFLeE0sRUFBU3BJLElBQUtBLEVBQUt1USxVQUFXYixJQUU1QyxZQUFTdEgsS0E0Q05KLEVBNUM2QkksT0E2RCtDM0gsSUFBcEYsWUFmUSxDQUNaLElBQ0EsS0FDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLE1BRW9CLFNBQVVvSyxHQUFRLE9BQXdDLElBQWpDN0MsRUFBT3lHLE9BQU94SyxRQUFRNEcsUUE1RC9EL0ssRUFBT0gsS0FBSyxDQUFFaVYsSUFBS3hNLEVBQVFxRyxPQUFRek8sSUFBS0EsRUFBS3VRLFVBQVdiLEtBUmpENVAsSUFXWixJQWlCSCxPQWhCQSxZQUFRK00sR0FBWSxTQUFVNkMsRUFBU21GLEdBQ25DLFlBQVFGLEdBQWEsU0FBVUcsR0FDM0IsSUFBSUYsRUFBTUUsRUFBR0YsSUFBSzVVLEVBQU04VSxFQUFHOVUsSUFBS3VRLEVBQVl1RSxFQUFHdkUsVUFDL0MsR0FBSXNFLEVBQVU3VSxHQWUxQixTQUF1QjRVLEVBQUt4TSxHQUV4QixHQUFJLFlBQVNBLEdBQVUsQ0FDbkIsSUFBSTJNLEVBQWMzTSxFQUFRd0csS0FBS2dHLEdBQy9CLE9BQXVCLE9BQWhCRyxHQUE4QyxJQUF0QkEsRUFBWUMsTUFFMUMsR0FBSSxZQUFXNU0sR0FFaEIsT0FBT0EsRUFBUXdNLEVBQUssRUFBRyxHQUFJLElBRTFCLEdBQUksWUFBSXhNLEVBQVMsUUFFbEIsT0FBT0EsRUFBUXdHLEtBQUtnRyxFQUFLLEVBQUcsR0FBSSxJQUUvQixHQUF1QixpQkFBWnhNLEVBQ1osT0FBT0EsSUFBWXdNLEVBR25CLE1BQU01VCxNQUFNLHdCQWpDYWlVLENBQWNMLEVBQUtsRixFQUFRakQsU0FBVSxDQUN0RCxJQUFJM0csRUFBTSxZQUFjeUssRUFBVTVTLEtBQXhCLHVFQUMwQytSLEVBQVEvUixLQURsRCx3SEFJVjBULEVBQU8xUixLQUFLLENBQ1IrSyxRQUFTNUUsRUFDVG9ELEtBQU1zSSxFQUF5QjBELG9CQUMvQnJJLFdBQVksQ0FBQzZDLEVBQVNhLFlBSy9CYyxFQTlRZ0I4RCxDQUF3Qm5ELElBb0RuRCxJQUFJTyxFQUFlLFlBMERuQixJQUFJTyxFQUFpQixpQkEwTWQsU0FBU25FLEVBQWdCdkcsR0FDNUIsSUFBSW9DLEVBQVFwQyxFQUFRYSxXQUFhLElBQU0sR0FHdkMsT0FBTyxJQUFJcEYsT0FBTyxPQUFTdUUsRUFBUXFHLE9BQVMsSUFBS2pFLEdBRTlDLFNBQVNrRSxFQUFjdEcsR0FDMUIsSUFBSW9DLEVBQVFwQyxFQUFRYSxXQUFhLEtBQU8sSUFHeEMsT0FBTyxJQUFJcEYsT0FBTyxHQUFLdUUsRUFBUXFHLE9BQVFqRSxHQTZDcEMsU0FBUzRLLEVBQTRCQyxFQUFpQkMsRUFBWWpJLEdBQ3JFLElBQUlrSSxFQUFXLEdBQ1hDLEdBQWtCLEVBQ2xCQyxFQUFnQixZQUFRLFlBQVEsWUFBVUosRUFBZ0JLLE9BQU8sU0FBVUMsR0FBWSxPQUFPQSxPQUM5RkMsRUFBcUIsWUFBT0gsR0FBZSxTQUFVaEksR0FBWSxPQUFPQSxFQUFTaEIsS0FBYSxFQUFNaUIsTUFDcEdtSSxFQUFzQnBHLEVBQWFwQyxHQXNDdkMsT0FyQ0lpSSxHQUNBLFlBQVFNLEdBQW9CLFNBQVVsRyxHQUNsQyxJQUFJb0csRUFBWWxHLEVBQXNCRixFQUFTbUcsR0FDL0MsSUFBa0IsSUFBZEMsRUFBcUIsQ0FDckIsSUFDSUMsRUFBb0IsQ0FDcEJyTCxRQTJJYixTQUFvQ2dGLEVBQVNzRyxHQUVoRCxHQUFJQSxFQUFRQyxRQUFVekUsRUFBeUIwRSxvQkFDM0MsTUFBUSwyRkFDMkJ4RyxFQUFRL1IsS0FEbkMsZ0NBRWlCcVksRUFBUUcsT0FGMUIsb0hBS04sR0FBSUgsRUFBUUMsUUFBVXpFLEVBQXlCNEUsa0JBQ2hELE1BQVEsc0dBQzJCMUcsRUFBUS9SLEtBRHBDLDZIQUtQLE1BQU1xRCxNQUFNLHdCQTNKVXFWLENBQTJCM0csRUFBU29HLEdBRzlDNU0sS0FBTTRNLEVBQVVHLE1BQ2hCMUYsVUFBV2IsR0FFZjZGLEVBQVM1VixLQUFLb1csUUFJVixZQUFJckcsRUFBUyxnQkFDZSxJQUF4QkEsRUFBUUMsY0FDUjZGLEdBQWtCLEdBSWxCbkosRUFBaUJ3SixFQUFxQm5HLEVBQVFqRCxXQUM5QytJLEdBQWtCLE1BTWxDRixJQUFlRSxHQUNmRCxFQUFTNVYsS0FBSyxDQUNWK0ssUUFBUyxrU0FLVHhCLEtBQU1zSSxFQUF5QjhFLHVCQUdoQ2YsRUFrQkosU0FBUzFGLEVBQWdCVSxHQUM1QixJQUFJbkksRUFBVW1JLEVBQVU5RCxRQUV4QixHQUFJLFlBQVNyRSxHQUNULE9BQU8sRUFFTixHQUFJLFlBQVdBLEdBRWhCLE9BQU8sRUFFTixHQUFJLFlBQUlBLEVBQVMsUUFFbEIsT0FBTyxFQUVOLEdBQUksWUFBU0EsR0FDZCxPQUFPLEVBR1AsTUFBTXBILE1BQU0sd0JBR2IsU0FBUzhPLEVBQWUxSCxHQUMzQixTQUFJLFlBQVNBLElBQStCLElBQW5CQSxFQUFROUksU0FDdEI4SSxFQUFROEMsV0FBVyxHQVMzQixJQUFJcUwsRUFBZ0MsQ0FFdkMvRCxLQUFNLFNBQVVnRSxHQUVaLElBREEsSUFBSTdWLEVBQU02VixFQUFLbFgsT0FDTmxDLEVBQUlzTCxLQUFLK04sVUFBV3JaLEVBQUl1RCxFQUFLdkQsSUFBSyxDQUN2QyxJQUFJSyxFQUFJK1ksRUFBS3RMLFdBQVc5TixHQUN4QixHQUFVLEtBQU5LLEVBRUEsT0FEQWlMLEtBQUsrTixVQUFZclosRUFBSSxHQUNkLEVBRU4sR0FBVSxLQUFOSyxFQU9MLE9BTitCLEtBQTNCK1ksRUFBS3RMLFdBQVc5TixFQUFJLEdBQ3BCc0wsS0FBSytOLFVBQVlyWixFQUFJLEVBR3JCc0wsS0FBSytOLFVBQVlyWixFQUFJLEdBRWxCLEVBR2YsT0FBTyxHQUVYcVosVUFBVyxHQUVmLFNBQVM3RyxFQUFzQkYsRUFBU0YsR0FDcEMsR0FBSSxZQUFJRSxFQUFTLGVBR2IsT0FBTyxFQUlQLEdBQUksWUFBU0EsRUFBUWpELFNBQVUsQ0FDM0IsSUFDSUosRUFBaUJtRCxFQUF5QkUsRUFBUWpELFNBRXRELE1BQU9oQyxHQUVILE1BQU8sQ0FDSHdMLE1BQU96RSxFQUF5QjBFLG9CQUNoQ0MsT0FBUTFMLEVBQUVDLFNBR2xCLE9BQU8sRUFFTixHQUFJLFlBQVNnRixFQUFRakQsU0FFdEIsT0FBTyxFQUVOLEdBQUlvRCxFQUFnQkgsR0FFckIsTUFBTyxDQUFFdUcsTUFBT3pFLEVBQXlCNEUsbUJBR3pDLE1BQU1wVixNQUFNLHdCQXFCeEIsU0FBU3lPLEVBQWFpSCxHQVNsQixPQVJnQixZQUFJQSxHQUFjLFNBQVVDLEdBQ3hDLE9BQUksWUFBU0EsSUFBZ0JBLEVBQVlyWCxPQUFTLEVBQ3ZDcVgsRUFBWXpMLFdBQVcsR0FHdkJ5TCxLQUtuQixTQUFTL0YsRUFBaUIxUSxFQUFLdkIsRUFBS04sUUFDZm9DLElBQWJQLEVBQUl2QixHQUNKdUIsRUFBSXZCLEdBQU8sQ0FBQ04sR0FHWjZCLEVBQUl2QixHQUFLZ0IsS0FBS3RCLEdBR2YsSUFBSXdMLEVBQXFCLElBZ0J6QixTQUFTSSxFQUF5QjJNLEdBQ3JDLE9BQU9BLEVBQVcvTSxFQUNaK00sRUFDQXJKLEVBQTBCcUosR0FVcEMsSUFBSXJKLEVBQTRCLEdDMTJCekIsU0FBU3NKLEVBQXVCQyxFQUFhQyxHQUNoRCxJQUFJQyxFQUFlRixFQUFZOUgsYUFDL0IsT0FBSWdJLElBQWlCRCxFQUFlL0gsZUFJSSxJQUE1QitILEVBQWVFLFdBQ2lDLElBQXBERixFQUFlRyxtQkFBbUJGLEdBS3ZDLFNBQVNHLEVBQW1DQyxFQUFPMUgsR0FDdEQsT0FBTzBILEVBQU1wSSxlQUFpQlUsRUFBUVYsYUFFbkMsSUFBSXFJLEVBQW9CLEVBQ3BCQyxFQUFrQixHQUN0QixTQUFTQyxFQUFrQjFLLEdBRTlCLElBQUkySyxFQVVELFNBQTBCM0ssR0FDN0IsSUFBSS9NLEVBQVMsWUFBUytNLEdBQ2xCNEssRUFBYTVLLEVBQ2I2SyxHQUFZLEVBQ2hCLEtBQU9BLEdBQVcsQ0FDZEQsRUFBYSxZQUFRLFlBQVEsWUFBSUEsR0FBWSxTQUFVL0csR0FBZSxPQUFPQSxFQUFZaUgsZ0JBQ3pGLElBQUlDLEVBQWdCLFlBQVdILEVBQVkzWCxHQUMzQ0EsRUFBU0EsRUFBT1MsT0FBT3FYLEdBQ25CLFlBQVFBLEdBQ1JGLEdBQVksRUFHWkQsRUFBYUcsRUFHckIsT0FBTzlYLEVBekJvQitYLENBQWlCaEwsSUEyQnpDLFNBQWlDQSxHQUNwQyxZQUFRQSxHQUFZLFNBQVU2RCxHQXdEM0IsSUFBeUNoQixFQXZEbkNvSSxFQUFvQnBILEtBQ3JCNEcsRUFBZ0JELEdBQXFCM0csRUFDckNBLEVBQVkxQixhQUFlcUksS0FHM0JVLEVBQXNCckgsS0FDckIsWUFBUUEsRUFBWWlILGNBSXJCakgsRUFBWWlILFdBQWEsQ0FBQ2pILEVBQVlpSCxhQUVyQ0ksRUFBc0JySCxLQUN2QkEsRUFBWWlILFdBQWEsSUEwQ1dqSSxFQXhDSGdCLEVBeUNsQyxZQUFJaEIsRUFBUyxxQkF4Q1pnQixFQUFZc0gsZ0JBQWtCLElBMENuQyxTQUE0Q3RJLEdBQy9DLE9BQU8sWUFBSUEsRUFBUyxzQkF6Q1h1SSxDQUFtQ3ZILEtBQ3BDQSxFQUFZd0csbUJBQXFCLE9BOUN6Q2dCLENBQXdCVixHQTJEckIsU0FBaUMzSyxHQUNwQyxZQUFRQSxHQUFZLFNBQVU2RCxJQUkzQixTQUFTeUgsRUFBOEJDLEVBQU1DLEdBQ2hELFlBQVFELEdBQU0sU0FBVUUsR0FDcEJELEVBQVNuQixtQkFBbUJvQixFQUFTdEosZUFBZ0IsS0FFekQsWUFBUXFKLEVBQVNWLFlBQVksU0FBVVksR0FDbkMsSUFBSUMsRUFBVUosRUFBSzdYLE9BQU84WCxHQUVyQixZQUFTRyxFQUFTRCxJQUNuQkosRUFBOEJLLEVBQVNELE1BWDNDSixDQUE4QixHQUFJekgsTUEzRHRDK0gsQ0FBd0JqQixHQWdEckIsU0FBb0MzSyxHQUN2QyxZQUFRQSxHQUFZLFNBQVU2RCxHQUUxQkEsRUFBWXNILGdCQUFrQixHQUM5QixZQUFRdEgsRUFBWXdHLG9CQUFvQixTQUFVeFAsRUFBSy9JLEdBQ25EK1IsRUFBWXNILGdCQUFnQnJZLEtBQUsyWCxFQUFnQjNZLEdBQUtxUSxvQkFwRDlEMEosQ0FBMkJsQixHQUMzQixZQUFRQSxHQUFzQixTQUFVOUgsR0FDcENBLEVBQVF1SCxTQUFXdkgsRUFBUXNJLGdCQUFnQjFZLE9BQVMsS0F1RXJELFNBQVN3WSxFQUFvQnBJLEdBQ2hDLE9BQU8sWUFBSUEsRUFBUyxnQkFFakIsU0FBU3FJLEVBQXNCckksR0FDbEMsT0FBTyxZQUFJQSxFQUFTLGNBUWpCLFNBQVNpSixFQUFZakosR0FDeEIsT0FBTyxZQUFJQSxFQUFTLGdCQy9HakIsSUNLSThCLEVETEFvSCxFQUE0QixDQUNuQ0MsaUNBQWtDLFNBQVV6QixHQUN4QyxNQUFPLHVEQUF5REEsRUFBTTBCLE1BQVEsOEJBRWxGQyxpQ0FBa0MsU0FBVUMsRUFBVUMsRUFBYTNaLEVBQVE0WixFQUFNQyxHQUM3RSxNQUFRLDJCQUE2QkgsRUFBU0ksT0FBT0gsR0FBZSxpQkFBbUJBLEVBQWhGLGFBQW1IM1osRUFBUyxrQkNDM0ksU0FBV2tTLEdBQ1BBLEVBQXlCQSxFQUEwQyxnQkFBSSxHQUFLLGtCQUM1RUEsRUFBeUJBLEVBQTBDLGdCQUFJLEdBQUssa0JBQzVFQSxFQUF5QkEsRUFBMkMsaUJBQUksR0FBSyxtQkFDN0VBLEVBQXlCQSxFQUFrRCx3QkFBSSxHQUFLLDBCQUNwRkEsRUFBeUJBLEVBQW1ELHlCQUFJLEdBQUssMkJBQ3JGQSxFQUF5QkEsRUFBbUQseUJBQUksR0FBSywyQkFDckZBLEVBQXlCQSxFQUFtRCx5QkFBSSxHQUFLLDJCQUNyRkEsRUFBeUJBLEVBQWdFLHNDQUFJLEdBQUssd0NBQ2xHQSxFQUF5QkEsRUFBa0Usd0NBQUksR0FBSywwQ0FDcEdBLEVBQXlCQSxFQUE2RSxtREFBSSxHQUFLLHFEQUMvR0EsRUFBeUJBLEVBQW9FLDBDQUFJLElBQU0sNENBQ3ZHQSxFQUF5QkEsRUFBMkMsaUJBQUksSUFBTSxtQkFDOUVBLEVBQXlCQSxFQUE4QyxvQkFBSSxJQUFNLHNCQUNqRkEsRUFBeUJBLEVBQStDLHFCQUFJLElBQU0sdUJBQ2xGQSxFQUF5QkEsRUFBOEMsb0JBQUksSUFBTSxzQkFDakZBLEVBQXlCQSxFQUE4QyxvQkFBSSxJQUFNLHNCQUNqRkEsRUFBeUJBLEVBQTRDLGtCQUFJLElBQU0sb0JBakJuRixDQWtCR0EsSUFBNkJBLEVBQTJCLEtBQzNELElBQUk2SCxFQUF1QixDQUN2QkMsK0JBQStCLEVBQy9CbE0saUJBQWtCLE9BQ2xCbU0sdUJBQXdCLFlBQ3hCbE0seUJBQTBCLENBQUMsS0FBTSxNQUNqQ3ZFLHFCQUFxQixFQUNyQnFFLFVBQVUsRUFDVnFNLHFCQUFzQlosRUFDdEJhLGVBQWUsRUFDZkMsaUJBQWlCLEdBRXJCNWIsT0FBTzZiLE9BQU9OLEdBQ2QsSUFBSSxFQUF1QixXQUN2QixTQUFTTyxFQUFNdkUsRUFBaUJ3RSxHQUM1QixJQUFJL04sRUFBUXBELEtBY1osUUFiZSxJQUFYbVIsSUFBcUJBLEVBQVNSLEdBQ2xDM1EsS0FBSzJNLGdCQUFrQkEsRUFDdkIzTSxLQUFLb1Isc0JBQXdCLEdBQzdCcFIsS0FBS3FSLHVCQUF5QixHQUM5QnJSLEtBQUsyRixtQkFBcUIsR0FDMUIzRixLQUFLK0gsNkJBQStCLEdBQ3BDL0gsS0FBS2dOLE1BQVEsR0FDYmhOLEtBQUswRixZQUFjLEdBQ25CMUYsS0FBS21SLFlBQVNwWixFQUNkaUksS0FBS3NSLGlCQUFrQixFQUN2QnRSLEtBQUt1UixlQUFnQixFQUNyQnZSLEtBQUs0RixXQUFZLEVBQ2pCNUYsS0FBS3dSLG1CQUFxQixHQUNKLGtCQUFYTCxFQUNQLE1BQU03WSxNQUFNLDhIQUloQjBILEtBQUttUixPQUFTLFlBQU1SLEVBQXNCUSxHQUMxQyxJQUFJTSxFQUFlelIsS0FBS21SLE9BQU9KLGVBQ1YsSUFBakJVLEdBQ0F6UixLQUFLMFIsa0JBQW9CQyxJQUN6QjNSLEtBQUsrUSxlQUFnQixHQUVRLGlCQUFqQlUsSUFDWnpSLEtBQUswUixrQkFBb0JELEVBQ3pCelIsS0FBSytRLGVBQWdCLEdBRXpCL1EsS0FBSzRSLGlCQUFtQixFQUN4QjVSLEtBQUs2UixXQUFXLHFCQUFxQixXQUNqQyxJQUFJQyxFQUNBQyxHQUFvQixFQUN4QjNPLEVBQU15TyxXQUFXLHlCQUF5QixXQUN0QyxHQUFJek8sRUFBTStOLE9BQU9OLHlCQUNiRixFQUFxQkUsdUJBRXJCek4sRUFBTStOLE9BQU9OLHVCQUF5QmhELE9BR3RDLEdBQUl6SyxFQUFNK04sT0FBT3hNLDJCQUNiZ00sRUFBcUJoTSx5QkFDckIsTUFBTXJNLE1BQU0sK0xBSXBCLEdBQUk2WSxFQUFPMU0sVUFBWTBNLEVBQU8vUSxvQkFDMUIsTUFBTTlILE1BQU0sc0VBRWhCOEssRUFBTWtPLGdCQUFrQixrQkFBa0J4SCxLQUFLMUcsRUFBTStOLE9BQU96TSxrQkFDNUR0QixFQUFNbU8sY0FBZ0IsUUFBUXpILEtBQUsxRyxFQUFNK04sT0FBT3pNLGtCQUU1QyxZQUFRaUksS0FDUm1GLEVBQW1CLENBQUU5RSxNQUFPLEtBQ1hBLE1BQWtCLFlBQUksWUFBU0wsR0FDaERtRixFQUE2QixZSDNFdkIsZ0JHK0VOQyxHQUFvQixFQUNwQkQsRUFBbUIsWUFBU25GLFFBR0MsSUFBakN2SixFQUFNK04sT0FBT0gsa0JBQ2I1TixFQUFNeU8sV0FBVyx3QkFBd0IsV0FDckN6TyxFQUFNZ08sc0JBQXdCaE8sRUFBTWdPLHNCQUFzQnZaLE9IZ2dCdkUsU0FBOEI4VSxFQUFpQkMsRUFBWWpJLEdBQzlELElBQUlnRSxFQUFTLEdBd0NiLE9BdENLLFlBQUlnRSxFQXhsQmEsZ0JBeWxCbEJoRSxFQUFPMVIsS0FBSyxDQUNSK0ssUUFBUywrRkFHVHhCLEtBQU1zSSxFQUF5QmtKLHdDQUdsQyxZQUFJckYsRUEvbEJNLFVBZ21CWGhFLEVBQU8xUixLQUFLLENBQ1IrSyxRQUFTLHlGQUdUeEIsS0FBTXNJLEVBQXlCbUosMENBR25DLFlBQUl0RixFQXZtQk8sVUF3bUJYLFlBQUlBLEVBem1CYyxpQkEwbUJqQixZQUFJQSxFQUFnQkssTUFBT0wsRUFBZ0J1RixjQUM1Q3ZKLEVBQU8xUixLQUFLLENBQ1IrSyxRQUFTLGdFQUEyRTJLLEVBQWdCdUYsWUFBM0YsMEJBRVQxUixLQUFNc0ksRUFBeUJxSixxREFHbkMsWUFBSXhGLEVBaG5CTyxVQWluQlgsWUFBUUEsRUFBZ0JLLE9BQU8sU0FBVW9GLEVBQWVDLEdBQ3BELFlBQVFELEdBQWUsU0FBVXBLLEVBQWFzSyxHQUN0QyxZQUFZdEssSUFDWlcsRUFBTzFSLEtBQUssQ0FDUitLLFFBQVMsc0VBQ0VxUSxFQUFlLGdCQUFrQkMsRUFBVSxNQUN0RDlSLEtBQU1zSSxFQUF5QnlKLGtEQU01QzVKLEVHemlCMEU2SixDQUFxQlYsRUFBa0IxTyxFQUFNa08sZ0JBQWlCbE8sRUFBTStOLE9BQU94TSw4QkFFaEp2QixFQUFNeU8sV0FBVywrQkFBK0IsV0FDNUN6TyxFQUFNaU8sdUJBQXlCak8sRUFBTWlPLHVCQUF1QnhaLE9BQU82VSxFQUE0Qm9GLEVBQWtCMU8sRUFBTWtPLGdCQUFpQmxPLEVBQU0rTixPQUFPeE0sK0JBSTdKbU4sRUFBaUI5RSxNQUFROEUsRUFBaUI5RSxNQUNwQzhFLEVBQWlCOUUsTUFDakIsR0FHTixZQUFROEUsRUFBaUI5RSxPQUFPLFNBQVVvRixFQUFlQyxHQUNyRFAsRUFBaUI5RSxNQUFNcUYsR0FBZ0IsWUFBT0QsR0FBZSxTQUFVcEssR0FBZSxPQUFPLFlBQVlBLFNBRTdHLElBQUl5SyxFQUFlLFlBQUtYLEVBQWlCOUUsT0FxQ3pDLEdBcENBLFlBQVE4RSxFQUFpQjlFLE9BQU8sU0FBVTBGLEVBQVlDLEdBQ2xEdlAsRUFBTXlPLFdBQVcsVUFBWWMsRUFBYyxnQkFBZ0IsV0FZbkQsSUFBSUMsR0FYUnhQLEVBQU00SixNQUFNL1YsS0FBSzBiLElBQ29CLElBQWpDdlAsRUFBTStOLE9BQU9ILGlCQUNiNU4sRUFBTXlPLFdBQVcsb0JBQW9CLFdBQ2pDek8sRUFBTWdPLHNCQUF3QmhPLEVBQU1nTyxzQkFBc0J2WixPQUFPNFEsRUFBaUJpSyxFQUFZRCxPQU1sRyxZQUFRclAsRUFBTWdPLDBCQUNkdkMsRUFBa0I2RCxHQUVsQnRQLEVBQU15TyxXQUFXLHFCQUFxQixXQUNsQ2UsRUFBc0IxTyxFQUFrQndPLEVBQVksQ0FDaEQvTix5QkFBMEJ2QixFQUFNK04sT0FDM0J4TSx5QkFDTEQsaUJBQWtCeU0sRUFBT3pNLGlCQUN6QnRFLG9CQUFxQitRLEVBQU8vUSxvQkFDNUJxRSxTQUFVME0sRUFBTzFNLFNBQ2pCSCxPQUFRbEIsRUFBTXlPLFdBQVczYixLQUFLa04sUUFHdENBLEVBQU11QyxtQkFBbUJnTixHQUNyQkMsRUFBb0JqTixtQkFDeEJ2QyxFQUFNMkUsNkJBQTZCNEssR0FDL0JDLEVBQW9CN0ssNkJBQ3hCM0UsRUFBTXNDLFlBQWMsWUFBTXRDLEVBQU1zQyxZQUFha04sRUFBb0JsTixhQUNqRXRDLEVBQU13QyxVQUFZZ04sRUFBb0JoTixXQUFheEMsRUFBTXdDLFVBQ3pEeEMsRUFBTW9PLG1CQUFtQm1CLEdBQ3JCQyxFQUFvQjlLLHNCQUlwQzFFLEVBQU04TyxZQUFjSixFQUFpQkksYUFDaEMsWUFBUTlPLEVBQU1nTyx5QkFDZGhPLEVBQU0rTixPQUFPUCw4QkFBK0IsQ0FDN0MsSUFHSWlDLEVBSGlCLFlBQUl6UCxFQUFNZ08sdUJBQXVCLFNBQVU5VCxHQUM1RCxPQUFPQSxFQUFNMEUsV0FFeUJtSixLQUFLLDZCQUMvQyxNQUFNLElBQUk3UyxNQUFNLDRDQUE4Q3VhLEdBR2xFLFlBQVF6UCxFQUFNaU8sd0JBQXdCLFNBQVVoRSxHQUM1QyxZQUFjQSxFQUFrQnJMLFlBRXBDb0IsRUFBTXlPLFdBQVcsd0NBQXdDLFdBcUJyRCxHQWpCSTdOLEdBQ0FaLEVBQU0wUCxVQUFZLElBQ2xCMVAsRUFBTTJQLE1BQVEzUCxFQUFNNFAsZ0JBR3BCNVAsRUFBTTZQLGdCQUFrQixJQUN4QjdQLEVBQU0yUCxNQUFRM1AsRUFBTThQLGVBRXBCbkIsSUFDQTNPLEVBQU0rUCxZQUFjLE1BRU0sSUFBMUIvUCxFQUFNa08sa0JBQ05sTyxFQUFNZ1EsaUJBQW1CLE1BRUQsSUFBeEJoUSxFQUFNbU8sZ0JBQ05uTyxFQUFNaVEsaUNBQW1DLEtBRXpDLFFBQVF2SixLQUFLMUcsRUFBTStOLE9BQU96TSxrQkFDMUJ0QixFQUFNa1Esb0JBQXNCbFEsRUFBTW1RLHFCQUVqQyxHQUFJLGFBQWF6SixLQUFLMUcsRUFBTStOLE9BQU96TSxrQkFDcEN0QixFQUFNa1Esb0JBQXNCbFEsRUFBTW9RLHlCQUVqQyxLQUFJLGNBQWMxSixLQUFLMUcsRUFBTStOLE9BQU96TSxrQkFJckMsTUFBTXBNLE1BQU0sOENBQWlEOEssRUFBTStOLE9BQU96TSxpQkFBbUIsS0FIN0Z0QixFQUFNa1Esb0JBQXNCbFEsRUFBTXFRLHNCQUtsQ3JRLEVBQU13QyxXQUNOeEMsRUFBTXNRLFNBQVd0USxFQUFNdVEsa0JBQ3ZCdlEsRUFBTXdRLGNBQWdCeFEsRUFBTXlRLDBCQUc1QnpRLEVBQU1zUSxTQUFXdFEsRUFBTTBRLDBCQUN2QjFRLEVBQU13USxjQUFnQnhRLEVBQU0yUSwwQkFHcEMzUSxFQUFNeU8sV0FBVyxnQ0FBZ0MsV0FDN0MsSUFBSW1DLEVBQW1CLFlBQU81USxFQUFNb08sb0JBQW9CLFNBQVV5QyxFQUFtQm5NLEVBQWdCb00sR0FJakcsT0FIdUIsSUFBbkJwTSxHQUNBbU0sRUFBa0JoZCxLQUFLaWQsR0FFcEJELElBQ1IsSUFDSCxHQUFJOUMsRUFBTy9RLHNCQUF3QixZQUFRNFQsR0FDdkMsTUFBTTFiLE1BQU0sa0JBQW9CMGIsRUFBaUI3SSxLQUFLLE1BQTFDLG9PQUtwQi9ILEVBQU15TyxXQUFXLDBCQUEwQixXTGhObkQxUyxFQUFpQixNS21OVGlFLEVBQU15TyxXQUFXLG9CQUFvQixXQUNqQyxZQUFpQnpPLFNBK2E3QixPQTNhQThOLEVBQU01YSxVQUFVNmQsU0FBVyxTQUFVckcsRUFBTXNHLEdBRXZDLFFBRG9CLElBQWhCQSxJQUEwQkEsRUFBY3BVLEtBQUtrUyxjQUM1QyxZQUFRbFMsS0FBS29SLHVCQUF3QixDQUN0QyxJQUdJeUIsRUFIaUIsWUFBSTdTLEtBQUtvUix1QkFBdUIsU0FBVTlULEdBQzNELE9BQU9BLEVBQU0wRSxXQUV5Qm1KLEtBQUssNkJBQy9DLE1BQU0sSUFBSTdTLE1BQU0sdUVBQ1p1YSxHQUdSLE9BRGdCN1MsS0FBS3FVLGlCQUFpQnZHLEVBQU1zRyxJQUtoRGxELEVBQU01YSxVQUFVK2QsaUJBQW1CLFNBQVV2RyxFQUFNc0csR0FDL0MsSUFDSTFmLEVBQUd5SCxFQUFHbVksRUFBZUMsRUFBY0MsRUFBY0MsRUFBU0MsRUFBWUMsRUFBYWhOLEVBQU9YLEVBQVM0TixFQUFVQyxFQUF3QnpYLEVBQUsyVixFSHdjckhyTixFQUN6Qm9QLEVBQ0FDLEVHM2NJM1IsRUFBUXBELEtBRVJnVixFQUFVbEgsRUFDVm1ILEVBQVlELEVBQVFwZSxPQUNwQnNlLEVBQVMsRUFDVEMsRUFBcUIsRUFLckJDLEVBQXdCcFYsS0FBSzRGLFVBQzNCLEVBQ0F5UCxLQUFLQyxNQUFNeEgsRUFBS2xYLE9BQVMsSUFDM0IyZSxFQUFnQixJQUFJNWQsTUFBTXlkLEdBQzFCek0sRUFBUyxHQUNUNkgsRUFBT3hRLEtBQUtzUixnQkFBa0IsT0FBSXZaLEVBQ2xDMFksRUFBU3pRLEtBQUtzUixnQkFBa0IsT0FBSXZaLEVBQ3BDeWQsR0h3YnFCOVAsRUd4YksxRixLQUFLMEYsWUh5Ym5Db1AsRUFBZSxHQUNmQyxFQUFZLFlBQUtyUCxHQUNyQixZQUFRcVAsR0FBVyxTQUFVeGQsR0FDekIsSUFBSWtlLEVBQWlCL1AsRUFBWW5PLEdBRWpDLElBQUksWUFBUWtlLEdBSVIsTUFBTW5kLE1BQU0sd0JBSFp3YyxFQUFhdmQsR0FBVyxNQU16QnVkLEdHcGNDbEksRUFBYTVNLEtBQUtzUixnQkFDbEJvRSxFQUF3QjFWLEtBQUttUixPQUFPTix1QkFDcEM4RSxFQUF5QixFQUN6QmhRLEVBQXFCLEdBQ3JCaVEsRUFBbUMsR0FDbkNDLEVBQVksR0FDWkMsRUFBYSxHQUNqQjFnQixPQUFPNmIsT0FBTzZFLEdBQ2QsSUFBSUMsT0FBc0JoZSxFQUMxQixTQUFTaWUsSUFDTCxPQUFPclEsRUFFWCxTQUFTc1EsRUFBNkIvSCxHQUNsQyxJQUFJaE0sRUFBbUJYLEVBQXlCMk0sR0FDNUNnSSxFQUFtQk4sRUFBaUMxVCxHQUN4RCxZQUF5Qm5LLElBQXJCbWUsRUFDT0osRUFHQUksRUFHZixJQW1ESUMsRUFuREFDLEVBQVcsU0FBVUMsR0FFckIsR0FBeUIsSUFBckJSLEVBQVVqZixhQUd1Qm1CLElBQWpDc2UsRUFBU3hPLFVBQVVoQixVQUF5QixDQUc1QyxJQUFJeVAsRUFBUWxULEVBQU0rTixPQUFPTCxxQkFBcUJYLGlDQUFpQ2tHLEdBQy9FMU4sRUFBTzFSLEtBQUssQ0FDUmllLE9BQVFtQixFQUFTOUYsWUFDakJDLFVBQTZCelksSUFBdkJzZSxFQUFTRSxVQUEwQkYsRUFBU0UsZUFBWXhlLEVBQzlEMFksWUFBaUMxWSxJQUF6QnNlLEVBQVNHLFlBQ1hILEVBQVNHLGlCQUNUemUsRUFDTm5CLE9BQVF5ZixFQUFTakcsTUFBTXhaLE9BQ3ZCb0wsUUFBU3NVLFFBR1osQ0FDRFQsRUFBVWpPLE1BQ1YsSUFBSTZPLEVBQVUsWUFBS1osR0FDbkJsUSxFQUFxQnZDLEVBQU11QyxtQkFBbUI4USxHQUM5Q2IsRUFBbUN4UyxFQUFNMkUsNkJBQTZCME8sR0FDdEVkLEVBQXlCaFEsRUFBbUIvTyxPQUM1QyxJQUFJOGYsRUFBcUJ0VCxFQUFNb08sbUJBQW1CaUYsS0FBc0MsSUFBMUJyVCxFQUFNK04sT0FBTzFNLFNBRXZFc1IsRUFEQUgsR0FBb0NjLEVBQ2RULEVBR0FELElBSWxDLFNBQVNXLEVBQVVGLEdBQ2ZaLEVBQVU1ZSxLQUFLd2YsR0FDZmIsRUFBbUM1VixLQUFLK0gsNkJBQTZCME8sR0FDckU5USxFQUFxQjNGLEtBQUsyRixtQkFBbUI4USxHQUM3Q2QsRUFBeUJoUSxFQUFtQi9PLE9BQzVDK2UsRUFBeUJoUSxFQUFtQi9PLE9BQzVDLElBQUk4ZixFQUFxQjFXLEtBQUt3UixtQkFBbUJpRixLQUFxQyxJQUF6QnpXLEtBQUttUixPQUFPMU0sU0FFckVzUixFQURBSCxHQUFvQ2MsRUFDZFQsRUFHQUQsRUFPOUIsSUFGQVcsRUFBVTloQixLQUFLbUwsS0FBTW9VLEdBRWRjLEVBQVNELEdBQVcsQ0FDdkJULEVBQWUsS0FDZixJQUFJb0MsRUFBZTVCLEVBQVF4UyxXQUFXMFMsR0FDbEMyQixFQUEyQmQsRUFBb0JhLEdBQy9DRSxFQUF1QkQsRUFBeUJqZ0IsT0FDcEQsSUFBS2xDLEVBQUksRUFBR0EsRUFBSW9pQixFQUFzQnBpQixJQUFLLENBRXZDLElBQUltUixHQURKc1EsRUFBYVUsRUFBeUJuaUIsSUFDVGdMLFFBMEI3QixHQXpCQStVLEVBQVUsTUFHYSxLQURuQnNDLEdBQWlCWixFQUFXek8sT0FFeEJrUCxJQUFpQkcsS0FFakJ2QyxFQUFlM08sSUFHVSxJQUF4QnNRLEVBQVcxTyxTQUVGLFFBRGRzTCxFQUFRbE4sRUFBWUssS0FBSzhPLEVBQVNFLEVBQVFLLEVBQWVDLEtBRXJEaEIsRUFBZXpCLEVBQU0sUUFDQ2hiLElBQWxCZ2IsRUFBTTBCLFVBQ05BLEVBQVUxQixFQUFNMEIsVUFJcEJELEVBQWUsTUFJbkJ4VSxLQUFLaVQsZ0JBQWdCcE4sRUFBYXFQLEdBQ2xDVixFQUFleFUsS0FBSytTLE1BQU1sTixFQUFhaUksRUFBTW9ILElBRTVCLE9BQWpCVixFQUF1QixDQUl2QixRQUFxQnpjLEtBRHJCd2MsRUFBZTRCLEVBQVc1TyxXQUNNLENBRzVCLElBQUl5UCxFQUFrQnJSLEVBQW1CNE8sR0FDckMwQyxFQUFtQkQsRUFBZ0J0WCxRQUN2Q2dWLEVBQWEsTUFHb0IsSUFBN0JzQyxFQUFnQnZQLFNBRUYsUUFEZHNMLEVBQVFrRSxFQUFpQi9RLEtBQUs4TyxFQUFTRSxFQUFRSyxFQUFlQyxLQUUxRGxCLEVBQWdCdkIsRUFBTSxRQUNBaGIsSUFBbEJnYixFQUFNMEIsVUFDTkMsRUFBYTNCLEVBQU0wQixVQUl2QkgsRUFBZ0IsTUFJcEJ0VSxLQUFLaVQsZ0JBQWdCZ0UsRUFBa0IvQixHQUN2Q1osRUFBZ0J0VSxLQUFLK1MsTUFBTWtFLEVBQWtCbkosRUFBTW9ILElBRW5EWixHQUFpQkEsRUFBYzFkLE9BQVM0ZCxFQUFhNWQsU0FDckQ0ZCxFQUFlRixFQUNmRyxFQUFVQyxFQUNWeUIsRUFBYWEsR0FHckIsT0FJUixHQUFxQixPQUFqQnhDLEVBQXVCLENBcUJ2QixHQXBCQUcsRUFBY0gsRUFBYTVkLFlBRWJtQixLQURkNFAsRUFBUXdPLEVBQVd4TyxTQUVmWCxFQUFVbVAsRUFBVzdQLGFBR3JCc08sRUFBVzVVLEtBQUtzVCxvQkFBb0JrQixFQUFjVSxFQUFRbE8sRUFBU21QLEVBQVd0TyxVQUFXMkksRUFBTUMsRUFBUWtFLEdBQ3ZHM1UsS0FBSzRULGNBQWNnQixFQUFVSCxJQUVmLElBQVY5TSxFQUNBd04sRUFBcUJuVixLQUFLMFQsU0FBUzZCLEVBQWVKLEVBQW9CUCxHQUd0RVksRUFBTzdOLEdBQU8xUSxLQUFLMmQsSUFHM0I5RyxFQUFPOU4sS0FBSzhTLFVBQVVoRixFQUFNNkcsR0FDNUJPLEdBQWtCUCxFQUVsQmxFLEVBQVN6USxLQUFLb1QsaUJBQWlCM0MsRUFBUWtFLElBQ3BCLElBQWYvSCxJQUF3RCxJQUFqQ3VKLEVBQVczTyxrQkFBNEIsQ0FDOUQsSUFBSTBQLEVBQWtCLEVBQ2xCQyxPQUFrQixFQUNsQkMsT0FBa0IsRUFDdEIxQixFQUFzQjNILFVBQVksRUFDbEMsSUFFNEIsS0FEeEJvSixFQUFrQnpCLEVBQXNCNUwsS0FBSzBLLE1BRXpDNEMsRUFBa0IxQixFQUFzQjNILFVBQVksRUFDcERtSixZQUVxQixJQUFwQkMsR0FDZSxJQUFwQkQsSUFDQTFHLEdBQWMwRyxFQUNkekcsRUFBU2tFLEVBQWN5QyxFQUN2QnBYLEtBQUtxVCxpQ0FBaUN1QixFQUFVak4sRUFBT3lQLEVBQWlCRixFQUFpQjFHLEVBQU1DLEVBQVFrRSxJQUkvRzNVLEtBQUttVCxZQUFZZ0QsRUFBWUMsRUFBVU8sRUFBVy9CLE9BRWpELENBTUQsSUFKQSxJQUFJeUMsR0FBbUJuQyxFQUNuQm9DLEdBQVk5RyxFQUNaK0csR0FBYzlHLEVBQ2QrRyxJQUFtQixHQUNmQSxJQUFvQnRDLEVBQVNELEdBTWpDLElBSmNELEVBQVF4UyxXQUFXMFMsR0FFakNwSCxFQUFPOU4sS0FBSzhTLFVBQVVoRixFQUFNLEdBQzVCb0gsSUFDSy9ZLEVBQUksRUFBR0EsRUFBSXdaLEVBQXdCeFosSUFBSyxDQUN6QyxJQUdJNGEsR0FIQVUsR0FBZTlSLEVBQW1CeEosR0FDbEMwSixFQUFjNFIsR0FBYS9YLFFBa0IvQixJQWZ1QixLQURuQnFYLEdBQWlCVSxHQUFhL1AsT0FFMUJzTixFQUFReFMsV0FBVzBTLEtBQVk2QixLQUUvQlMsSUFBbUIsSUFHUSxJQUExQkMsR0FBYWhRLFNBQ2xCK1AsR0FFUSxPQURKM1IsRUFBWUssS0FBSzhPLEVBQVNFLEVBQVFLLEVBQWVDLElBSXJEeFYsS0FBS2lULGdCQUFnQnBOLEVBQWFxUCxHQUNsQ3NDLEdBQThDLE9BQTNCM1IsRUFBWUssS0FBSzRILEtBRWYsSUFBckIwSixHQUNBLE1BSVozQyxFQUFZSyxFQUFTbUMsR0FFckJqYSxFQUFNNEMsS0FBS21SLE9BQU9MLHFCQUFxQlQsaUNBQWlDMkUsRUFBU3FDLEdBQWtCeEMsRUFBV3lDLEdBQVdDLElBQ3pINU8sRUFBTzFSLEtBQUssQ0FDUmllLE9BQVFtQyxHQUNSN0csS0FBTThHLEdBQ043RyxPQUFROEcsR0FDUjNnQixPQUFRaWUsRUFDUjdTLFFBQVM1RSxLQVVyQixPQUpLNEMsS0FBSzRGLFlBRU4yUCxFQUFjM2UsT0FBU3VlLEdBRXBCLENBQ0h1QyxPQUFRbkMsRUFDUkMsT0FBUUEsRUFDUjdNLE9BQVFBLElBR2hCdUksRUFBTTVhLFVBQVU2YyxZQUFjLFNBQVVoQyxFQUFRaUYsRUFBVU8sRUFBVy9CLEdBQ2pFLElBQW1CLElBQWZ6RCxFQUFPdkosSUFBYyxDQUdyQixJQUFJK1AsRUFBV3hHLEVBQU9sYSxLQUN0Qm1mLEVBQVN4QixRQUNRN2MsSUFBYjRmLEdBQ0FoQixFQUFVOWhCLEtBQUttTCxLQUFNMlgsYUFHSjVmLElBQWhCb1osRUFBT2xhLE1BQ1owZixFQUFVOWhCLEtBQUttTCxLQUFNbVIsRUFBT2xhLE9BR3BDaWEsRUFBTTVhLFVBQVV3YyxVQUFZLFNBQVVoRixFQUFNbFgsR0FDeEMsT0FBT2tYLEVBQUs4SixVQUFVaGhCLElBRTFCc2EsRUFBTTVhLFVBQVUyYyxnQkFBa0IsU0FBVTNULEVBQVF1WSxHQUNoRHZZLEVBQU95TyxVQUFZOEosR0FHdkIzRyxFQUFNNWEsVUFBVStjLGlDQUFtQyxTQUFVdUIsRUFBVWpOLEVBQU9tUSxFQUFXWixFQUFpQjFHLEVBQU1DLEVBQVFrRSxHQUNwSCxJQUFJb0QsRUFBY0MsT0FDSmpnQixJQUFWNFAsSUFHQXFRLEdBREFELEVBQWVELElBQWNuRCxFQUFjLElBQ1IsRUFBSSxFQUNiLElBQXBCdUMsSUFBMEMsSUFBakJhLElBRTNCbkQsRUFBU3FELFFBQVV6SCxFQUFPd0gsRUFHMUJwRCxFQUFTc0QsVUFBWXpILEVBQVMsRUFBS3VILEtBSy9DOUcsRUFBTTVhLFVBQVU4YyxpQkFBbUIsU0FBVStFLEVBQVd4RCxHQUNwRCxPQUFPd0QsRUFBWXhELEdBSXZCekQsRUFBTTVhLFVBQVVnZCxvQkFBc0IsV0FFbEMsSUFEQSxJQUFJOEUsRUFBTyxHQUNGdmQsRUFBSyxFQUFHQSxFQUFLQyxVQUFVbEUsT0FBUWlFLElBQ3BDdWQsRUFBS3ZkLEdBQU1DLFVBQVVELEdBRXpCLE9BQU8sTUFFWHFXLEVBQU01YSxVQUFVbWQsc0JBQXdCLFNBQVVyRCxFQUFPRyxFQUFhakssRUFBY3VCLEdBQ2hGLE1BQU8sQ0FDSHVJLE1BQU9BLEVBQ1BHLFlBQWFBLEVBQ2JqSyxhQUFjQSxFQUNkdUIsVUFBV0EsSUFHbkJxSixFQUFNNWEsVUFBVWtkLHFCQUF1QixTQUFVcEQsRUFBT0csRUFBYWpLLEVBQWN1QixFQUFXME8sRUFBV0MsR0FDckcsTUFBTyxDQUNIcEcsTUFBT0EsRUFDUEcsWUFBYUEsRUFDYmdHLFVBQVdBLEVBQ1hDLFlBQWFBLEVBQ2JsUSxhQUFjQSxFQUNkdUIsVUFBV0EsSUFHbkJxSixFQUFNNWEsVUFBVWlkLGdCQUFrQixTQUFVbkQsRUFBT0csRUFBYWpLLEVBQWN1QixFQUFXME8sRUFBV0MsRUFBYTdCLEdBQzdHLE1BQU8sQ0FDSHZFLE1BQU9BLEVBQ1BHLFlBQWFBLEVBQ2I4SCxVQUFXOUgsRUFBY29FLEVBQWMsRUFDdkM0QixVQUFXQSxFQUNYMEIsUUFBUzFCLEVBQ1RDLFlBQWFBLEVBQ2IwQixVQUFXMUIsRUFBYzdCLEVBQWMsRUFDdkNyTyxhQUFjQSxFQUNkdUIsVUFBV0EsSUFLbkJxSixFQUFNNWEsVUFBVW9kLFNBQVcsU0FBVTRFLEVBQWFoTSxFQUFPaU0sR0FDckQsT0FBTyxLQUVYckgsRUFBTTVhLFVBQVVxZCxrQkFBb0IsU0FBVTJFLEVBQWFoTSxFQUFPaU0sR0FFOUQsT0FEQUQsRUFBWXJoQixLQUFLc2hCLEdBQ1ZqTSxHQUVYNEUsRUFBTTVhLFVBQVV3ZCwwQkFBNEIsU0FBVXdFLEVBQWFoTSxFQUFPaU0sR0FHdEUsT0FGQUQsRUFBWWhNLEdBQVNpTSxJQUNyQmpNLEdBS0o0RSxFQUFNNWEsVUFBVXNkLGNBQWdCLFNBQVVsRixFQUFPK0YsS0FDakR2RCxFQUFNNWEsVUFBVXlkLHNCQUF3QixTQUFVckYsRUFBTytGLEtBQ3pEdkQsRUFBTTVhLFVBQVV1ZCx3QkFBMEIsU0FBVW5GLEVBQU8rRixHQUN2QyxPQUFaQSxJQUNBL0YsRUFBTStGLFFBQVVBLElBSXhCdkQsRUFBTTVhLFVBQVV5YyxNQUFRLFNBQVVyVCxFQUFTb08sRUFBTW9ILEdBQzdDLE9BQU8sTUFFWGhFLEVBQU01YSxVQUFVMGMsY0FBZ0IsU0FBVXRULEVBQVNvTyxFQUFNb0gsR0FFckQsT0FBYyxJQURGeFYsRUFBUW9LLEtBQUtnRSxHQUVkQSxFQUFLOEosVUFBVTFDLEVBQVF4VixFQUFRcU8sV0FFbkMsTUFFWG1ELEVBQU01YSxVQUFVNGMsY0FBZ0IsU0FBVXhULEVBQVNvTyxHQUMvQyxJQUFJekIsRUFBYzNNLEVBQVF3RyxLQUFLNEgsR0FDL0IsT0FBdUIsT0FBaEJ6QixFQUF1QkEsRUFBWSxHQUFLQSxHQUluRDZFLEVBQU01YSxVQUFVdWIsV0FBYSxTQUFVMkcsRUFBV0MsR0FHOUMsSUFBMkIsSUFBdkJ6WSxLQUFLK1EsY0FBd0IsQ0FDN0IvUSxLQUFLNFIsa0JBQ0wsSUFBSThHLEVBQVMsSUFBSS9nQixNQUFNcUksS0FBSzRSLGdCQUFrQixHQUFHekcsS0FBSyxNQUNsRG5MLEtBQUs0UixnQkFBa0I1UixLQUFLMFIsbUJBQzVCclUsUUFBUXNiLElBQUlELEVBQVMsV0FBVUYsRUFBWSxLQUUvQyxJQUFJcE0sRUFBSyxZQUFNcU0sR0FBWXhaLEVBQU9tTixFQUFHbk4sS0FBTXRKLEVBQVF5VyxFQUFHelcsTUFFbERpakIsRUFBYzNaLEVBQU8sR0FBSzVCLFFBQVFHLEtBQU9ILFFBQVFzYixJQUtyRCxPQUpJM1ksS0FBSzRSLGdCQUFrQjVSLEtBQUswUixtQkFDNUJrSCxFQUFZRixFQUFTLFFBQVVGLEVBQVksV0FBYXZaLEVBQU8sTUFFbkVlLEtBQUs0UixrQkFDRWpjLEVBR1AsT0FBTzhpQixLQUdmdkgsRUFBTXhLLFFBQVUsNkxBRWhCd0ssRUFBTWxNLEdBQUssaUJBQ0prTSxFQTdtQmUsR0NsQ25CLFNBQVMySCxFQUFXN1IsR0FDdkIsT0FBSThSLEVBQWM5UixHQUNQQSxFQUFRK1IsTUFHUi9SLEVBQVEvUixLQUdoQixTQUFTK2pCLEVBQVVoUyxHQUN0QixPQUFPQSxFQUFRL1IsS0FFWixTQUFTNmpCLEVBQWNoaUIsR0FDMUIsT0FBTyxZQUFTQSxFQUFJaWlCLFFBQXdCLEtBQWRqaUIsRUFBSWlpQixNQVcvQixTQUFTRSxFQUFZOUgsR0FDeEIsT0FFSixTQUE2QkEsR0FDekIsSUFBSXpSLEVBQVV5UixFQUFPelIsUUFDakJtSSxFQUFZLEdBQ2hCQSxFQUFVNVMsS0FBT2tjLEVBQU9sYyxLQUNuQixZQUFZeUssS0FDYm1JLEVBQVU5RCxRQUFVckUsR0FFeEIsR0FBSSxZQUFJeVIsRUFuQkMsVUFvQkwsS0FBTSxxSUFHTixZQUFJQSxFQXRCSyxnQkF3QlR0SixFQUFVb0gsV0FBYWtDLEVBQWlCLFlBRTVDdEMsRUFBa0IsQ0FBQ2hILElBQ2YsWUFBSXNKLEVBMUJBLFdBMkJKdEosRUFBVWtSLE1BQVE1SCxFQUFZLE9BRTlCLFlBQUlBLEVBNUJBLFdBNkJKdEosRUFBVXBCLE1BQVEwSyxFQUFZLE9BRTlCLFlBQUlBLEVBN0JHLGNBOEJQdEosRUFBVXFSLFNBQVcvSCxFQUFlLFVBRXBDLFlBQUlBLEVBakNJLGVBa0NSdEosRUFBVWhCLFVBQVlzSyxFQUFnQixXQUV0QyxZQUFJQSxFQWxDSyxnQkFtQ1R0SixFQUFVakIsV0FBYXVLLEVBQWlCLFlBRXhDLFlBQUlBLEVBcENNLGlCQXFDVnRKLEVBQVVaLFlBQWNrSyxFQUFrQixhQUUxQyxZQUFJQSxFQXRDVyxzQkF1Q2Z0SixFQUFVTSxpQkFBbUJnSixFQUF1QixrQkFFeEQsT0FBT3RKLEVBdkNBc1IsQ0FBb0JoSSxHQXlDeEIsSUFBSWlJLEVBQU1ILEVBQVksQ0FBRWhrQixLQUFNLE1BQU95SyxRQUFTLEVBQU1zRixLQUVwRCxTQUFTc08sR0FBb0J0TSxFQUFTb0osRUFBT0csRUFBYThILEVBQVc5QixFQUFXMEIsRUFBU3pCLEVBQWEwQixHQUN6RyxNQUFPLENBQ0g5SCxNQUFPQSxFQUNQRyxZQUFhQSxFQUNiOEgsVUFBV0EsRUFDWDlCLFVBQVdBLEVBQ1gwQixRQUFTQSxFQUNUekIsWUFBYUEsRUFDYjBCLFVBQVdBLEVBQ1g1UixhQUFjVSxFQUFRVixhQUN0QnVCLFVBQVdiLEdBR1osU0FBUyxHQUFhMEgsRUFBTzFILEdBQ2hDLE9BQU9tSCxFQUF1Qk8sRUFBTzFILEdBZnpDNkgsRUFBa0IsQ0FBQ3VLLElDckVuQixJQUFJLEdBQXdDLFdBQ3hDLElBQUl6WixFQUFnQixTQUFVM0ssRUFBRzRHLEdBSTdCLE9BSEErRCxFQUFnQnZLLE9BQU95SyxnQkFDbEIsQ0FBRUMsVUFBVyxjQUFnQm5JLE9BQVMsU0FBVTNDLEVBQUc0RyxHQUFLNUcsRUFBRThLLFVBQVlsRSxJQUN2RSxTQUFVNUcsRUFBRzRHLEdBQUssSUFBSyxJQUFJcEYsS0FBS29GLEVBQU9BLEVBQUVyRixlQUFlQyxLQUFJeEIsRUFBRXdCLEdBQUtvRixFQUFFcEYsTUFDcER4QixFQUFHNEcsSUFFNUIsT0FBTyxTQUFVNUcsRUFBRzRHLEdBRWhCLFNBQVNtRSxJQUFPQyxLQUFLQyxZQUFjakwsRUFEbkMySyxFQUFjM0ssRUFBRzRHLEdBRWpCNUcsRUFBRXNCLFVBQWtCLE9BQU5zRixFQUFheEcsT0FBT1ksT0FBTzRGLElBQU1tRSxFQUFHekosVUFBWXNGLEVBQUV0RixVQUFXLElBQUl5SixJQVYzQyxHQWV4QyxHQUFvQyxXQUNwQyxTQUFTc1osRUFBbUJDLEdBQ3hCdFosS0FBS3NaLFdBQWFBLEVBUXRCLE9BTkFELEVBQW1CL2lCLFVBQVVpakIsT0FBUyxTQUFVQyxHQUM1Q0EsRUFBUTFWLE1BQU05RCxNQUNkLFlBQVFBLEtBQUtzWixZQUFZLFNBQVVHLEdBQy9CQSxFQUFLRixPQUFPQyxPQUdiSCxFQVY0QixHQWFuQyxHQUE2QixTQUFVblcsR0FFdkMsU0FBU3dXLEVBQVl0VixHQUNqQixJQUFJaEIsRUFBUUYsRUFBT3JPLEtBQUttTCxLQUFNLEtBQU9BLEtBR3JDLE9BRkFvRCxFQUFNOUwsSUFBTSxFQUNaLFlBQU84TCxFQUFPLFlBQUtnQixHQUFTLFNBQVV1VixHQUFLLFlBQWE1aEIsSUFBTjRoQixNQUMzQ3ZXLEVBbUJYLE9BeEJBLEdBQVVzVyxFQUFheFcsR0FPdkI5TixPQUFPQyxlQUFlcWtCLEVBQVlwakIsVUFBVyxhQUFjLENBQ3ZEZixJQUFLLFdBQ0QsWUFBNEJ3QyxJQUF4QmlJLEtBQUs0WixlQUNFNVosS0FBSzRaLGVBQWVOLFdBRXhCLElBRVhsYixJQUFLLFNBQVVrYixLQUdmaGtCLFlBQVksRUFDWnVrQixjQUFjLElBRWxCSCxFQUFZcGpCLFVBQVVpakIsT0FBUyxTQUFVQyxHQUNyQ0EsRUFBUTFWLE1BQU05RCxPQUdYMFosRUF6QnFCLENBMEI5QixJQUVFLEdBQXNCLFNBQVV4VyxHQUVoQyxTQUFTNFcsRUFBSzFWLEdBQ1YsSUFBSWhCLEVBQVFGLEVBQU9yTyxLQUFLbUwsS0FBTW9FLEVBQVFrVixhQUFldFosS0FHckQsT0FGQW9ELEVBQU00UixRQUFVLEdBQ2hCLFlBQU81UixFQUFPLFlBQUtnQixHQUFTLFNBQVV1VixHQUFLLFlBQWE1aEIsSUFBTjRoQixNQUMzQ3ZXLEVBRVgsT0FQQSxHQUFVMFcsRUFBTTVXLEdBT1Q0VyxFQVJjLENBU3ZCLElBRUUsR0FBNkIsU0FBVTVXLEdBRXZDLFNBQVM2VyxFQUFZM1YsR0FDakIsSUFBSWhCLEVBQVFGLEVBQU9yTyxLQUFLbUwsS0FBTW9FLEVBQVFrVixhQUFldFosS0FHckQsT0FGQW9ELEVBQU00VyxtQkFBb0IsRUFDMUIsWUFBTzVXLEVBQU8sWUFBS2dCLEdBQVMsU0FBVXVWLEdBQUssWUFBYTVoQixJQUFONGhCLE1BQzNDdlcsRUFFWCxPQVBBLEdBQVUyVyxFQUFhN1csR0FPaEI2VyxFQVJxQixDQVM5QixJQUVFLEdBQXdCLFNBQVU3VyxHQUVsQyxTQUFTK1csRUFBTzdWLEdBQ1osSUFBSWhCLEVBQVFGLEVBQU9yTyxLQUFLbUwsS0FBTW9FLEVBQVFrVixhQUFldFosS0FHckQsT0FGQW9ELEVBQU05TCxJQUFNLEVBQ1osWUFBTzhMLEVBQU8sWUFBS2dCLEdBQVMsU0FBVXVWLEdBQUssWUFBYTVoQixJQUFONGhCLE1BQzNDdlcsRUFFWCxPQVBBLEdBQVU2VyxFQUFRL1csR0FPWCtXLEVBUmdCLENBU3pCLElBRUUsR0FBcUMsU0FBVS9XLEdBRS9DLFNBQVNnWCxFQUFvQjlWLEdBQ3pCLElBQUloQixFQUFRRixFQUFPck8sS0FBS21MLEtBQU1vRSxFQUFRa1YsYUFBZXRaLEtBR3JELE9BRkFvRCxFQUFNOUwsSUFBTSxFQUNaLFlBQU84TCxFQUFPLFlBQUtnQixHQUFTLFNBQVV1VixHQUFLLFlBQWE1aEIsSUFBTjRoQixNQUMzQ3ZXLEVBRVgsT0FQQSxHQUFVOFcsRUFBcUJoWCxHQU94QmdYLEVBUjZCLENBU3RDLElBRUUsR0FBa0QsU0FBVWhYLEdBRTVELFNBQVNpWCxFQUFpQy9WLEdBQ3RDLElBQUloQixFQUFRRixFQUFPck8sS0FBS21MLEtBQU1vRSxFQUFRa1YsYUFBZXRaLEtBR3JELE9BRkFvRCxFQUFNOUwsSUFBTSxFQUNaLFlBQU84TCxFQUFPLFlBQUtnQixHQUFTLFNBQVV1VixHQUFLLFlBQWE1aEIsSUFBTjRoQixNQUMzQ3ZXLEVBRVgsT0FQQSxHQUFVK1csRUFBa0NqWCxHQU9yQ2lYLEVBUjBDLENBU25ELElBRUUsR0FBNEIsU0FBVWpYLEdBRXRDLFNBQVNrWCxFQUFXaFcsR0FDaEIsSUFBSWhCLEVBQVFGLEVBQU9yTyxLQUFLbUwsS0FBTW9FLEVBQVFrVixhQUFldFosS0FHckQsT0FGQW9ELEVBQU05TCxJQUFNLEVBQ1osWUFBTzhMLEVBQU8sWUFBS2dCLEdBQVMsU0FBVXVWLEdBQUssWUFBYTVoQixJQUFONGhCLE1BQzNDdlcsRUFFWCxPQVBBLEdBQVVnWCxFQUFZbFgsR0FPZmtYLEVBUm9CLENBUzdCLElBRUUsR0FBeUMsU0FBVWxYLEdBRW5ELFNBQVNtWCxFQUF3QmpXLEdBQzdCLElBQUloQixFQUFRRixFQUFPck8sS0FBS21MLEtBQU1vRSxFQUFRa1YsYUFBZXRaLEtBR3JELE9BRkFvRCxFQUFNOUwsSUFBTSxFQUNaLFlBQU84TCxFQUFPLFlBQUtnQixHQUFTLFNBQVV1VixHQUFLLFlBQWE1aEIsSUFBTjRoQixNQUMzQ3ZXLEVBRVgsT0FQQSxHQUFVaVgsRUFBeUJuWCxHQU81Qm1YLEVBUmlDLENBUzFDLElBRUUsR0FBNkIsU0FBVW5YLEdBRXZDLFNBQVNvWCxFQUFZbFcsR0FDakIsSUFBSWhCLEVBQVFGLEVBQU9yTyxLQUFLbUwsS0FBTW9FLEVBQVFrVixhQUFldFosS0FLckQsT0FKQW9ELEVBQU05TCxJQUFNLEVBQ1o4TCxFQUFNNFcsbUJBQW9CLEVBQzFCNVcsRUFBTW1YLGVBQWdCLEVBQ3RCLFlBQU9uWCxFQUFPLFlBQUtnQixHQUFTLFNBQVV1VixHQUFLLFlBQWE1aEIsSUFBTjRoQixNQUMzQ3ZXLEVBRVgsT0FUQSxHQUFVa1gsRUFBYXBYLEdBU2hCb1gsRUFWcUIsQ0FXOUIsSUFFRSxHQUEwQixXQUMxQixTQUFTRSxFQUFTcFcsR0FDZHBFLEtBQUsxSSxJQUFNLEVBQ1gsWUFBTzBJLEtBQU0sWUFBS29FLEdBQVMsU0FBVXVWLEdBQUssWUFBYTVoQixJQUFONGhCLE1BS3JELE9BSEFhLEVBQVNsa0IsVUFBVWlqQixPQUFTLFNBQVVDLEdBQ2xDQSxFQUFRMVYsTUFBTTlELE9BRVh3YSxFQVJrQixHQVd0QixTQUFTQyxHQUFpQkMsR0FDN0IsT0FBTyxZQUFJQSxFQUFVQyxJQUVsQixTQUFTQSxHQUFvQnJYLEdBQ2hDLFNBQVNzWCxFQUFrQnRCLEdBQ3ZCLE9BQU8sWUFBSUEsRUFBWXFCLElBRzNCLEdBQUlyWCxhQUFnQixHQUNoQixNQUFPLENBQ0g5QyxLQUFNLGNBQ052TCxLQUFNcU8sRUFBS3VYLGdCQUNYdmpCLElBQUtnTSxFQUFLaE0sS0FHYixHQUFJZ00sYUFBZ0IsR0FDckIsTUFBTyxDQUNIOUMsS0FBTSxjQUNOOFksV0FBWXNCLEVBQWtCdFgsRUFBS2dXLGFBR3RDLEdBQUloVyxhQUFnQixHQUNyQixNQUFPLENBQ0g5QyxLQUFNLFNBQ05sSixJQUFLZ00sRUFBS2hNLElBQ1ZnaUIsV0FBWXNCLEVBQWtCdFgsRUFBS2dXLGFBR3RDLEdBQUloVyxhQUFnQixHQUNyQixNQUFPLENBQ0g5QyxLQUFNLHNCQUNObEosSUFBS2dNLEVBQUtoTSxJQUNWZ2lCLFdBQVlzQixFQUFrQnRYLEVBQUtnVyxhQUd0QyxHQUFJaFcsYUFBZ0IsR0FDckIsTUFBTyxDQUNIOUMsS0FBTSxtQ0FDTmxKLElBQUtnTSxFQUFLaE0sSUFDVndqQixVQUFZSCxHQUFvQixJQUFJLEdBQVMsQ0FBRUksYUFBY3pYLEVBQUt3WCxhQUNsRXhCLFdBQVlzQixFQUFrQnRYLEVBQUtnVyxhQUd0QyxHQUFJaFcsYUFBZ0IsR0FDckIsTUFBTyxDQUNIOUMsS0FBTSwwQkFDTmxKLElBQUtnTSxFQUFLaE0sSUFDVndqQixVQUFZSCxHQUFvQixJQUFJLEdBQVMsQ0FBRUksYUFBY3pYLEVBQUt3WCxhQUNsRXhCLFdBQVlzQixFQUFrQnRYLEVBQUtnVyxhQUd0QyxHQUFJaFcsYUFBZ0IsR0FDckIsTUFBTyxDQUNIOUMsS0FBTSxhQUNObEosSUFBS2dNLEVBQUtoTSxJQUNWZ2lCLFdBQVlzQixFQUFrQnRYLEVBQUtnVyxhQUd0QyxHQUFJaFcsYUFBZ0IsR0FDckIsTUFBTyxDQUNIOUMsS0FBTSxjQUNObEosSUFBS2dNLEVBQUtoTSxJQUNWZ2lCLFdBQVlzQixFQUFrQnRYLEVBQUtnVyxhQUd0QyxHQUFJaFcsYUFBZ0IsR0FBVSxDQUMvQixJQUFJMFgsRUFBcUIsQ0FDckJ4YSxLQUFNLFdBQ052TCxLQUFNcU8sRUFBS3lYLGFBQWE5bEIsS0FDeEJnbUIsTUFBT3BDLEVBQVd2VixFQUFLeVgsY0FDdkJ6akIsSUFBS2dNLEVBQUtoTSxLQUVWb0ksRUFBVTRELEVBQUt5WCxhQUFhaFgsUUFNaEMsT0FMSVQsRUFBS3lYLGFBQWFoWCxVQUNsQmlYLEVBQW1CdGIsUUFBVSxZQUFTQSxHQUNoQ0EsRUFBUXFHLE9BQ1JyRyxHQUVIc2IsRUFFTixHQUFJMVgsYUFBZ0IsR0FDckIsTUFBTyxDQUNIOUMsS0FBTSxPQUNOdkwsS0FBTXFPLEVBQUtyTyxLQUNYK2YsUUFBUzFSLEVBQUswUixRQUNkc0UsV0FBWXNCLEVBQWtCdFgsRUFBS2dXLGFBSXZDLE1BQU1oaEIsTUFBTSx3QkNqUHBCLElBQUksR0FBNEIsV0FDNUIsU0FBUzRpQixLQXlGVCxPQXZGQUEsRUFBVzVrQixVQUFVNmtCLEtBQU8sU0FBVTFCLEVBQU0yQixHQUN4QyxJQUFJaFksRUFBUXBELFVBQ0ssSUFBYm9iLElBQXVCQSxFQUFXLElBQ3RDLFlBQVEzQixFQUFLSCxZQUFZLFNBQVUrQixFQUFTL08sR0FDeEMsSUFBSWdQLEVBQVcsWUFBSzdCLEVBQUtILFdBQVloTixFQUFRLEdBRTdDLEdBQUkrTyxhQUFtQixHQUNuQmpZLEVBQU1tWSxZQUFZRixFQUFTQyxFQUFVRixRQUVwQyxHQUFJQyxhQUFtQixHQUN4QmpZLEVBQU1vWSxhQUFhSCxFQUFTQyxFQUFVRixRQUVyQyxHQUFJQyxhQUFtQixHQUN4QmpZLEVBQU1xWSxTQUFTSixFQUFTQyxFQUFVRixRQUVqQyxHQUFJQyxhQUFtQixHQUN4QmpZLEVBQU1zWSxXQUFXTCxFQUFTQyxFQUFVRixRQUVuQyxHQUFJQyxhQUFtQixHQUN4QmpZLEVBQU11WSxlQUFlTixFQUFTQyxFQUFVRixRQUV2QyxHQUFJQyxhQUFtQixHQUN4QmpZLEVBQU13WSxrQkFBa0JQLEVBQVNDLEVBQVVGLFFBRTFDLEdBQUlDLGFBQW1CLEdBQ3hCalksRUFBTXlZLFlBQVlSLEVBQVNDLEVBQVVGLFFBRXBDLEdBQUlDLGFBQW1CLEdBQ3hCalksRUFBTTBZLFNBQVNULEVBQVNDLEVBQVVGLE9BRWpDLE1BQUlDLGFBQW1CLElBSXhCLE1BQU0vaUIsTUFBTSx3QkFIWjhLLEVBQU0yWSxPQUFPVixFQUFTQyxFQUFVRixRQU81Q0YsRUFBVzVrQixVQUFVa2xCLGFBQWUsU0FBVVEsRUFBVVYsRUFBVUYsS0FDbEVGLEVBQVc1a0IsVUFBVWlsQixZQUFjLFNBQVVVLEVBQVNYLEVBQVVGLEtBQ2hFRixFQUFXNWtCLFVBQVVtbEIsU0FBVyxTQUFVUyxFQUFVWixFQUFVRixHQUUxRCxJQUFJZSxFQUFhYixFQUFTempCLE9BQU91akIsR0FDakNwYixLQUFLbWIsS0FBS2UsRUFBVUMsSUFFeEJqQixFQUFXNWtCLFVBQVVvbEIsV0FBYSxTQUFVVSxFQUFZZCxFQUFVRixHQUU5RCxJQUFJZSxFQUFhYixFQUFTempCLE9BQU91akIsR0FDakNwYixLQUFLbWIsS0FBS2lCLEVBQVlELElBRTFCakIsRUFBVzVrQixVQUFVcWxCLGVBQWlCLFNBQVVVLEVBQWdCZixFQUFVRixHQUV0RSxJQUFJa0IsRUFBcUIsQ0FDckIsSUFBSSxHQUFPLENBQUVoRCxXQUFZK0MsRUFBZS9DLGNBQzFDemhCLE9BQU95akIsRUFBVUYsR0FDbkJwYixLQUFLbWIsS0FBS2tCLEVBQWdCQyxJQUU5QnBCLEVBQVc1a0IsVUFBVXNsQixrQkFBb0IsU0FBVVcsRUFBbUJqQixFQUFVRixHQUU1RSxJQUFJb0IsRUFBd0JDLEdBQStCRixFQUFtQmpCLEVBQVVGLEdBQ3hGcGIsS0FBS21iLEtBQUtvQixFQUFtQkMsSUFFakN0QixFQUFXNWtCLFVBQVV3bEIsU0FBVyxTQUFVWSxFQUFVcEIsRUFBVUYsR0FFMUQsSUFBSXVCLEVBQWUsQ0FDZixJQUFJLEdBQU8sQ0FBRXJELFdBQVlvRCxFQUFTcEQsY0FDcEN6aEIsT0FBT3lqQixFQUFVRixHQUNuQnBiLEtBQUttYixLQUFLdUIsRUFBVUMsSUFFeEJ6QixFQUFXNWtCLFVBQVV1bEIsWUFBYyxTQUFVZSxFQUFhdEIsRUFBVUYsR0FFaEUsSUFBSXlCLEVBQWtCSixHQUErQkcsRUFBYXRCLEVBQVVGLEdBQzVFcGIsS0FBS21iLEtBQUt5QixFQUFhQyxJQUUzQjNCLEVBQVc1a0IsVUFBVXlsQixPQUFTLFNBQVVlLEVBQVF4QixFQUFVRixHQUN0RCxJQUFJaFksRUFBUXBELEtBRVJtYyxFQUFhYixFQUFTempCLE9BQU91akIsR0FFakMsWUFBUTBCLEVBQU94RCxZQUFZLFNBQVV5RCxHQUlqQyxJQUFJQyxFQUFjLElBQUksR0FBWSxDQUFFMUQsV0FBWSxDQUFDeUQsS0FDakQzWixFQUFNK1gsS0FBSzZCLEVBQWFiLE9BR3pCakIsRUExRm9CLEdBNkYvQixTQUFTdUIsR0FBK0JRLEVBQVkzQixFQUFVRixHQU8xRCxNQU5pQixDQUNiLElBQUksR0FBTyxDQUNQOUIsV0FBWSxDQUFDLElBQUksR0FBUyxDQUFFeUIsYUFBY2tDLEVBQVduQyxhQUFjampCLE9BQU9vbEIsRUFBVzNELGVBRzdEemhCLE9BQU95akIsRUFBVUYsR0N2R3JELElBQUksR0FBNkIsV0FDN0IsU0FBUzhCLEtBd0NULE9BdENBQSxFQUFZNW1CLFVBQVV3TixNQUFRLFNBQVVSLEdBQ3BDLElBQUk2WixFQUFVN1osRUFDZCxPQUFRNlosRUFBUWxkLGFBQ1osS0FBSyxHQUNELE9BQU9ELEtBQUtvZCxpQkFBaUJELEdBQ2pDLEtBQUssR0FDRCxPQUFPbmQsS0FBS3FkLGlCQUFpQkYsR0FDakMsS0FBSyxHQUNELE9BQU9uZCxLQUFLc2QsWUFBWUgsR0FDNUIsS0FBSyxHQUNELE9BQU9uZCxLQUFLdWQseUJBQXlCSixHQUN6QyxLQUFLLEdBQ0QsT0FBT25kLEtBQUt3ZCxzQ0FBc0NMLEdBQ3RELEtBQUssR0FDRCxPQUFPbmQsS0FBS3lkLDZCQUE2Qk4sR0FDN0MsS0FBSyxHQUNELE9BQU9uZCxLQUFLMGQsZ0JBQWdCUCxHQUNoQyxLQUFLLEdBQ0QsT0FBT25kLEtBQUsyZCxpQkFBaUJSLEdBQ2pDLEtBQUssR0FDRCxPQUFPbmQsS0FBSzRkLGNBQWNULEdBQzlCLEtBQUssR0FDRCxPQUFPbmQsS0FBSzZkLFVBQVVWLEdBRTFCLFFBQ0ksTUFBTTdrQixNQUFNLDBCQUd4QjRrQixFQUFZNW1CLFVBQVU4bUIsaUJBQW1CLFNBQVU5WixLQUNuRDRaLEVBQVk1bUIsVUFBVSttQixpQkFBbUIsU0FBVS9aLEtBQ25ENFosRUFBWTVtQixVQUFVZ25CLFlBQWMsU0FBVWhhLEtBQzlDNFosRUFBWTVtQixVQUFVb25CLGdCQUFrQixTQUFVcGEsS0FDbEQ0WixFQUFZNW1CLFVBQVVpbkIseUJBQTJCLFNBQVVqYSxLQUMzRDRaLEVBQVk1bUIsVUFBVWtuQixzQ0FBd0MsU0FBVWxhLEtBQ3hFNFosRUFBWTVtQixVQUFVbW5CLDZCQUErQixTQUFVbmEsS0FDL0Q0WixFQUFZNW1CLFVBQVVxbkIsaUJBQW1CLFNBQVVyYSxLQUNuRDRaLEVBQVk1bUIsVUFBVXNuQixjQUFnQixTQUFVdGEsS0FDaEQ0WixFQUFZNW1CLFVBQVV1bkIsVUFBWSxTQUFVdmEsS0FDckM0WixFQXpDcUIsR0NENUIsR0FBd0MsV0FDeEMsSUFBSXZkLEVBQWdCLFNBQVUzSyxFQUFHNEcsR0FJN0IsT0FIQStELEVBQWdCdkssT0FBT3lLLGdCQUNsQixDQUFFQyxVQUFXLGNBQWdCbkksT0FBUyxTQUFVM0MsRUFBRzRHLEdBQUs1RyxFQUFFOEssVUFBWWxFLElBQ3ZFLFNBQVU1RyxFQUFHNEcsR0FBSyxJQUFLLElBQUlwRixLQUFLb0YsRUFBT0EsRUFBRXJGLGVBQWVDLEtBQUl4QixFQUFFd0IsR0FBS29GLEVBQUVwRixNQUNwRHhCLEVBQUc0RyxJQUU1QixPQUFPLFNBQVU1RyxFQUFHNEcsR0FFaEIsU0FBU21FLElBQU9DLEtBQUtDLFlBQWNqTCxFQURuQzJLLEVBQWMzSyxFQUFHNEcsR0FFakI1RyxFQUFFc0IsVUFBa0IsT0FBTnNGLEVBQWF4RyxPQUFPWSxPQUFPNEYsSUFBTW1FLEVBQUd6SixVQUFZc0YsRUFBRXRGLFVBQVcsSUFBSXlKLElBVjNDLEdBMEJyQyxTQUFTK2QsR0FBZXJFLEVBQU1zRSxHQUtqQyxZQUp1QixJQUFuQkEsSUFBNkJBLEVBQWlCLE9BQ3pCdEUsYUFBZ0IsSUFDckNBLGFBQWdCLElBQ2hCQSxhQUFnQixNQU9oQkEsYUFBZ0IsR0FFVCxZQUFLQSxFQUFLSCxZQUFZLFNBQVUrQixHQUNuQyxPQUFPeUMsR0FBZXpDLEVBQVMwQyxRQUc5QnRFLGFBQWdCLElBQWUsWUFBU3NFLEVBQWdCdEUsTUFJeERBLGFBQWdCLEtBQ2pCQSxhQUFnQixJQUNoQnNFLEVBQWU5bUIsS0FBS3dpQixHQUVqQixZQUFNQSxFQUFLSCxZQUFZLFNBQVUrQixHQUNwQyxPQUFPeUMsR0FBZXpDLEVBQVMwQyxTQVVwQyxTQUFTQyxHQUFxQnZFLEdBRWpDLEdBQUlBLGFBQWdCLEdBQ2hCLE1BQU8sVUFFTixHQUFJQSxhQUFnQixHQUNyQixNQUFPLFNBRU4sR0FBSUEsYUFBZ0IsR0FDckIsTUFBTyxLQUVOLEdBQUlBLGFBQWdCLEdBQ3JCLE1BQU8sZUFFTixHQUFJQSxhQUFnQixHQUNyQixNQUFPLG1CQUVOLEdBQUlBLGFBQWdCLEdBQ3JCLE1BQU8sV0FFTixHQUFJQSxhQUFnQixHQUNyQixNQUFPLE9BRU4sR0FBSUEsYUFBZ0IsR0FDckIsTUFBTyxVQUdQLE1BQU1uaEIsTUFBTSx3QkFHcEIsSUFBSSxHQUE0QyxTQUFVNEssR0FFdEQsU0FBUythLElBQ0wsSUFBSTdhLEVBQW1CLE9BQVhGLEdBQW1CQSxFQUFPakksTUFBTStFLEtBQU1sRixZQUFja0YsS0FXaEUsT0FUQW9ELEVBQU0wWCxVQUFZLElBQ2xCMVgsRUFBTThhLFdBQWEsQ0FDZkMsT0FBUSxHQUNSQyxZQUFhLEdBQ2JDLFdBQVksR0FDWkMsd0JBQXlCLEdBQ3pCQyxvQkFBcUIsR0FDckJDLGlDQUFrQyxJQUUvQnBiLEVBNENYLE9BekRBLEdBQVU2YSxFQUE0Qi9hLEdBZXRDK2EsRUFBMkIzbkIsVUFBVW1vQixNQUFRLFdBQ3pDemUsS0FBS2tlLFdBQWEsQ0FDZEMsT0FBUSxHQUNSQyxZQUFhLEdBQ2JDLFdBQVksR0FDWkMsd0JBQXlCLEdBQ3pCQyxvQkFBcUIsR0FDckJDLGlDQUFrQyxLQUcxQ1AsRUFBMkIzbkIsVUFBVXNuQixjQUFnQixTQUFVNUIsR0FDM0QsSUFBSS9sQixFQUFNK2xCLEVBQVNqQixhQUFhOWxCLEtBQU8rSyxLQUFLOGEsVUFBWSxXQUNuRCxZQUFJOWEsS0FBS2tlLFdBQVlqb0IsS0FDdEIrSixLQUFLa2UsV0FBV2pvQixHQUFPLElBRTNCK0osS0FBS2tlLFdBQVdqb0IsR0FBS2dCLEtBQUsra0IsSUFFOUJpQyxFQUEyQjNuQixVQUFVOG1CLGlCQUFtQixTQUFVc0IsR0FDOUQsSUFBSXpvQixFQUFNeW9CLEVBQVE3RCxnQkFBa0I3YSxLQUFLOGEsVUFBWSxXQUNoRCxZQUFJOWEsS0FBS2tlLFdBQVlqb0IsS0FDdEIrSixLQUFLa2UsV0FBV2pvQixHQUFPLElBRTNCK0osS0FBS2tlLFdBQVdqb0IsR0FBS2dCLEtBQUt5bkIsSUFFOUJULEVBQTJCM25CLFVBQVVnbkIsWUFBYyxTQUFVYSxHQUN6RG5lLEtBQUtrZSxXQUFXQyxPQUFPbG5CLEtBQUtrbkIsSUFFaENGLEVBQTJCM25CLFVBQVVtbkIsNkJBQStCLFNBQVVrQixHQUMxRTNlLEtBQUtrZSxXQUFXSSx3QkFBd0JybkIsS0FBSzBuQixJQUVqRFYsRUFBMkIzbkIsVUFBVWluQix5QkFBMkIsU0FBVXFCLEdBQ3RFNWUsS0FBS2tlLFdBQVdLLG9CQUFvQnRuQixLQUFLMm5CLElBRTdDWCxFQUEyQjNuQixVQUFVa25CLHNDQUF3QyxTQUFVcUIsR0FDbkY3ZSxLQUFLa2UsV0FBV00saUNBQWlDdm5CLEtBQUs0bkIsSUFFMURaLEVBQTJCM25CLFVBQVVvbkIsZ0JBQWtCLFNBQVVvQixHQUM3RDllLEtBQUtrZSxXQUFXRyxXQUFXcG5CLEtBQUs2bkIsSUFFcENiLEVBQTJCM25CLFVBQVVxbkIsaUJBQW1CLFNBQVVvQixHQUM5RC9lLEtBQUtrZSxXQUFXRSxZQUFZbm5CLEtBQUs4bkIsSUFFOUJkLEVBMURvQyxDQTJEN0MsSUFFRSxHQUFtQixJQUFJLEdDdEpwQixTQUFTbm1CLEdBQU0yaEIsR0FFbEIsR0FBSUEsYUFBZ0IsR0FTaEIsT0FBTzNoQixHQUFNMmhCLEVBQUtHLGdCQUVqQixHQUFJSCxhQUFnQixHQUNyQixNQXFDRyxDQXJDcUJBLEVBcUNYc0IsY0FuQ1osR0RIRixTQUF3QnRCLEdBQzNCLE9BQVFBLGFBQWdCLElBQ3BCQSxhQUFnQixJQUNoQkEsYUFBZ0IsSUFDaEJBLGFBQWdCLElBQ2hCQSxhQUFnQixJQUNoQkEsYUFBZ0IsSUFDaEJBLGFBQWdCLElBQ2hCQSxhQUFnQixHQ0xYdUYsQ0FBZXZGLEdBQ3BCLE9BU0QsU0FBMEJBLEdBQzdCLElBSUl3RixFQUpBQyxFQUFXLEdBQ1hDLEVBQU0xRixFQUFLSCxXQUNYOEYsRUFBaUIsRUFDakJDLEVBQXlCRixFQUFJdm9CLE9BQVN3b0IsRUFHdENFLEdBQTBCLEVBRTlCLEtBQU9ELEdBQTBCQyxHQUM3QkwsRUFBY0UsRUFBSUMsR0FDbEJFLEVBQTBCeEIsR0FBZW1CLEdBQ3pDQyxFQUFXQSxFQUFTcm5CLE9BQU9DLEdBQU1tbkIsSUFDakNHLEdBQWtDLEVBQ2xDQyxFQUF5QkYsRUFBSXZvQixPQUFTd29CLEVBRTFDLE9BQU8sWUFBS0YsR0F6QkRLLENBQWlCOUYsR0FFdkIsR0RxQ0YsU0FBeUJBLEdBQzVCLE9BQU9BLGFBQWdCLEdDdENkK0YsQ0FBZ0IvRixHQUNyQixPQXdCRCxTQUEyQkEsR0FDOUIsSUFBSWdHLEVBQXdCLFlBQUloRyxFQUFLSCxZQUFZLFNBQVVvRyxHQUN2RCxPQUFPNW5CLEdBQU00bkIsTUFFakIsT0FBTyxZQUFLLFlBQVFELElBNUJURSxDQUFrQmxHLEdBR3pCLE1BQU1uaEIsTUFBTSx3QkN6QmIsSUFBSXNuQixHQUFLLFNDRFosR0FBd0MsV0FDeEMsSUFBSWpnQixFQUFnQixTQUFVM0ssRUFBRzRHLEdBSTdCLE9BSEErRCxFQUFnQnZLLE9BQU95SyxnQkFDbEIsQ0FBRUMsVUFBVyxjQUFnQm5JLE9BQVMsU0FBVTNDLEVBQUc0RyxHQUFLNUcsRUFBRThLLFVBQVlsRSxJQUN2RSxTQUFVNUcsRUFBRzRHLEdBQUssSUFBSyxJQUFJcEYsS0FBS29GLEVBQU9BLEVBQUVyRixlQUFlQyxLQUFJeEIsRUFBRXdCLEdBQUtvRixFQUFFcEYsTUFDcER4QixFQUFHNEcsSUFFNUIsT0FBTyxTQUFVNUcsRUFBRzRHLEdBRWhCLFNBQVNtRSxJQUFPQyxLQUFLQyxZQUFjakwsRUFEbkMySyxFQUFjM0ssRUFBRzRHLEdBRWpCNUcsRUFBRXNCLFVBQWtCLE9BQU5zRixFQUFheEcsT0FBT1ksT0FBTzRGLElBQU1tRSxFQUFHekosVUFBWXNGLEVBQUV0RixVQUFXLElBQUl5SixJQVYzQyxHQW9CeEMsR0FBcUMsU0FBVW1ELEdBRS9DLFNBQVMyYyxFQUFvQkMsR0FDekIsSUFBSTFjLEVBQVFGLEVBQU9yTyxLQUFLbUwsT0FBU0EsS0FHakMsT0FGQW9ELEVBQU0wYyxRQUFVQSxFQUNoQjFjLEVBQU0yYyxRQUFVLEdBQ1QzYyxFQWlCWCxPQXRCQSxHQUFVeWMsRUFBcUIzYyxHQU8vQjJjLEVBQW9CdnBCLFVBQVUwcEIsYUFBZSxXQUV6QyxPQURBaGdCLEtBQUttYixLQUFLbmIsS0FBSzhmLFNBQ1I5ZixLQUFLK2YsU0FFaEJGLEVBQW9CdnBCLFVBQVVrbEIsYUFBZSxTQUFVUSxFQUFVVixFQUFVRixLQUczRXlFLEVBQW9CdnBCLFVBQVVpbEIsWUFBYyxTQUFVVSxFQUFTWCxFQUFVRixHQUNyRSxJQWtCc0M2RSxFQUFPQyxFQWxCekNDLEdBa0JrQ0YsRUFsQlNoRSxFQUFRckMsZUFrQlZzRyxFQWxCMEJqRSxFQUFRM2tCLElBbUI1RTJvQixFQUFNaHJCLEtBQU9pckIsRUFBb0JOLEdBbEJoQzVmLEtBQUs4ZixRQUFRN3FCLE1BQ2JtckIsRUFBVzlFLEVBQVN6akIsT0FBT3VqQixHQUUzQmlGLEVBQXVCdm9CLEdBRFosSUFBSSxHQUFZLENBQUV3aEIsV0FBWThHLEtBRTdDcGdCLEtBQUsrZixRQUFRSSxHQUFjRSxHQUV4QlIsRUF2QjZCLENBd0J0QyxJQ3ZDSyxJQUFJUyxHQUE2QixDQUNwQ0MsMEJBQTJCLFNBQVVuVSxHQUNqQyxJQUFJb1UsRUFBV3BVLEVBQUdvVSxTQUFVQyxFQUFTclUsRUFBR3FVLE9BQW1CclUsRUFBR3NVLFNBQXFCdFUsRUFBR3VVLFNBTXRGLE1BRFUsY0FKSzdILEVBQWMwSCxHQUV2QixVQUFTM0gsRUFBVzJILEdBQVksT0FDaEMsd0JBQXVCQSxFQUFTdnJCLEtBQU8sUUFDTixzQkFBcUJ3ckIsRUFBT3JRLE1BQVEsU0FHL0V3USw4QkFBK0IsU0FBVXhVLEdBQ3JDLElBQUl5VSxFQUFpQnpVLEVBQUd5VSxlQUEyQnpVLEVBQUd1VSxTQUN0RCxNQUFPLDZDQUErQ0UsRUFBZXpRLE9BRXpFMFEsd0JBQXlCLFNBQVUxVSxHQUMvQixJQUFJMlUsRUFBc0IzVSxFQUFHMlUsb0JBQXFCTixFQUFTclUsRUFBR3FVLE9BQWdDTyxHQUFiNVUsRUFBR3NVLFNBQWtDdFUsRUFBRzRVLHVCQUlySEMsR0FKdUo3VSxFQUFHdVUsU0FJOUksaUJBREMsWUFBTUYsR0FBUXJRLE1BQ2lCLEtBQ2hELEdBQUk0USxFQUNBLE1BTFksY0FLT0EsRUFBd0JDLEVBRzNDLElBQUlDLEVBQW9CLFlBQU9ILEdBQXFCLFNBQVUzcEIsRUFBUStwQixHQUFnQixPQUFPL3BCLEVBQU9TLE9BQU9zcEIsS0FBa0IsSUFDekhDLEVBQTBCLFlBQUlGLEdBQW1CLFNBQVVHLEdBQzNELE1BQU8sSUFBTSxZQUFJQSxHQUFVLFNBQVVDLEdBQWlCLE9BQU96SSxFQUFXeUksTUFBbUJuVyxLQUFLLE1BQVEsT0FJNUcsTUFkWSxlQWFnQiwyQ0FEQyxZQUFJaVcsR0FBeUIsU0FBVUcsRUFBU2pxQixHQUFPLE1BQU8sTUFBUUEsRUFBTSxHQUFLLEtBQU9pcUIsS0FDckJwVyxLQUFLLE9BQzFEOFYsR0FHbkRPLHNCQUF1QixTQUFVcFYsR0FDN0IsSUFBSXFWLEVBQXlCclYsRUFBR3FWLHVCQUF3QmhCLEVBQVNyVSxFQUFHcVUsT0FBUU8sRUFBd0I1VSxFQUFHNFUsc0JBSW5HQyxHQUpxSTdVLEVBQUd1VSxTQUk1SCxpQkFEQyxZQUFNRixHQUFRclEsTUFDaUIsS0FDaEQsT0FBSTRRLEVBSlksY0FLT0EsRUFBd0JDLEVBTC9CLGVBV2dCLGtHQUhFLFlBQUlRLEdBQXdCLFNBQVVKLEdBQ2hFLE1BQU8sSUFBTSxZQUFJQSxHQUFVLFNBQVVDLEdBQWlCLE9BQU96SSxFQUFXeUksTUFBbUJuVyxLQUFLLEtBQU8sT0FHeEVBLEtBQUssTUFBUSxLQUNMOFYsSUFJdkQ3ckIsT0FBTzZiLE9BQU9xUCxJQUNQLElBQUlvQixHQUFzQyxDQUM3Q0MsdUJBQXdCLFNBQVVDLEVBQWNDLEdBTzVDLE1BTlUsZ0VBQ05BLEVBQWNoSCxnQkFEUixnQ0FJTitHLEVBQWEzc0IsS0FDYixPQUlENnNCLEdBQXVDLENBQzlDQyx5QkFBMEIsU0FBVUgsRUFBY0ksR0FZOUMsSUFYb0N2SSxFQVdoQ3dJLEVBQWVMLEVBQWEzc0IsS0FDNUJpdEIsRUFBZ0IsWUFBTUYsR0FDdEIxVixFQUFRNFYsRUFBYzVxQixJQUN0QjZxQixFQUFVbkUsR0FBcUJrRSxHQUMvQkUsR0FmZ0MzSSxFQWVXeUksYUFkdkIsR0FDVHpJLEVBQUtzQixhQUFhOWxCLEtBRXBCd2tCLGFBQWdCLEdBQ2RBLEVBQUtvQixnQkFHTCxHQVNYemQsRUFBTSxLQUFPK2tCLEdBRE03VixFQUFRLEVBQ2dCQSxFQUFRLElBQU0sT0FBUzhWLEVBQWdCLG9CQUFzQkEsRUFBZ0IsS0FBTyxJQUFNLCtDQUFpREosRUFBZXByQixPQUFTLG9DQUFzQ3FyQixFQUFlLDJKQUl2USxPQURBN2tCLEdBREFBLEVBQU1BLEVBQUlnSixRQUFRLFVBQVcsTUFDbkJBLFFBQVEsU0FBVSxPQUdoQ2ljLDRCQUE2QixTQUFVQyxHQU1uQyxNQUxhLGlIQUNxRUEsRUFBS3J0QixLQUQxRSxnUEFPakJzdEIscUNBQXNDLFNBQVVuZSxHQUM1QyxJQUFJb2UsRUFBVSxZQUFJcGUsRUFBUXFlLFlBQVksU0FBVUMsR0FDNUMsT0FBTzdKLEVBQVc2SixNQUNuQnZYLEtBQUssTUFDSndYLEVBQXlDLElBQTVCdmUsRUFBUWdhLFlBQVk5bUIsSUFBWSxHQUFLOE0sRUFBUWdhLFlBQVk5bUIsSUFNMUUsTUFMYSw0QkFBOEI4TSxFQUFRd2UsaUJBQWlCelgsS0FBSyxNQUE1RCwyQ0FDR3dYLEVBQWEsYUFBZXZlLEVBQVF3ZCxhQUFhM3NCLEtBRHBELGFBRUZ1dEIsRUFGRSxpTEFPakJLLCtCQUFnQyxTQUFVemUsR0FDdEMsSUFBSW9lLEVBQVUsWUFBSXBlLEVBQVFxZSxZQUFZLFNBQVVLLEdBQzVDLE9BQU9qSyxFQUFXaUssTUFDbkIzWCxLQUFLLE1BQ0p3WCxFQUF5QyxJQUE1QnZlLEVBQVFnYSxZQUFZOW1CLElBQVksR0FBSzhNLEVBQVFnYSxZQUFZOW1CLElBQ3RFeXJCLEVBQWMscUNBQXVDM2UsRUFBUXdlLGlCQUFpQnpYLEtBQUssTUFBUSxXQUFhd1gsRUFBMUYsYUFDQ3ZlLEVBQVF3ZCxhQUFhM3NCLEtBRHRCLGFBRVB1dEIsRUFBVSw4REFLckIsT0FKQU8sR0FDSUEsK0hBS1JDLDBCQUEyQixTQUFVNWUsR0FDakMsSUFBSStkLEVBQVVuRSxHQUFxQjVaLEVBQVFpYSxZQU0zQyxPQUwrQixJQUEzQmphLEVBQVFpYSxXQUFXL21CLE1BQ25CNnFCLEdBQVcvZCxFQUFRaWEsV0FBVy9tQixLQUVyQixtQkFBcUI2cUIsRUFBVSxrQkFBb0IvZCxFQUFRd2QsYUFBYTNzQixLQUF4RSx5RUFJakJndUIsb0JBQXFCLFNBQVU3ZSxHQUczQixNQURhLGlDQURLQSxFQUFReUQsVUFBVTVTLEtBQzBCLG1DQUFxQ21QLEVBQVE4ZSxnQkFBZ0IxakIsV0FBYSxNQUc1STJqQiwyQkFBNEIsU0FBVS9lLEdBSWxDLE1BSGEsa0NBQW9DQSxFQUFRZ2YsZUFBaUIsR0FBN0QsV0FDSWhmLEVBQVFnYSxZQUFZOW1CLElBQU0sYUFBZThNLEVBQVF3ZCxhQUFhM3NCLEtBRGxFLG1FQUtqQm91Qiw4QkFBK0IsU0FBVWpmLEdBR3JDLE1BRmEsOERBQ0FBLEVBQVFnYSxZQUFZOW1CLElBQU0sYUFBZThNLEVBQVF3ZCxhQUFhM3NCLEtBQU8sa0JBQW9CbVAsRUFBUWdhLFlBQVk5RSxXQUFXMWlCLE9BQVMsR0FBSyxrQkFHdkowc0Isd0JBQXlCLFNBQVVsZixHQUMvQixJQUFJdWMsRUFBV3ZjLEVBQVF3ZCxhQUFhM3NCLEtBVXBDLE1BTGEsNENBQ0kwckIsRUFESixrSUFIV0EsRUFBVyxXQURuQjRDLEVBQUEsRUFBVW5mLEVBQVFvZixtQkFBbUIsU0FBVUMsR0FBWSxPQUFPQSxFQUFTeHVCLFFBRXRGNEMsT0FBTyxDQUFDOG9CLElBQ1J4VixLQUFLLGFBQ0csb0lBT2pCdVksMEJBQTJCLFNBQVV0ZixHQUlqQyxNQURhLGdDQUZFQSxFQUFRd2QsYUFBYTNzQixLQUVzQixtQ0FEOUJtUCxFQUFROGUsZ0JBQWdCMWpCLFdBQ21FLE1BRzNIbWtCLDRCQUE2QixTQUFVdmYsR0FTbkMsTUFEYSxrQ0FOVEEsRUFBUXdkLHdCQUF3QixHQUNyQnhkLEVBQVF3ZCxhQUFhM3NCLEtBR3JCbVAsRUFBUXdkLGNBRW9DLDJDQUE2Q3hkLEVBQVF3ZixZQUFjLE9DcExsSSxHQUF3QyxXQUN4QyxJQUFJamtCLEVBQWdCLFNBQVUzSyxFQUFHNEcsR0FJN0IsT0FIQStELEVBQWdCdkssT0FBT3lLLGdCQUNsQixDQUFFQyxVQUFXLGNBQWdCbkksT0FBUyxTQUFVM0MsRUFBRzRHLEdBQUs1RyxFQUFFOEssVUFBWWxFLElBQ3ZFLFNBQVU1RyxFQUFHNEcsR0FBSyxJQUFLLElBQUlwRixLQUFLb0YsRUFBT0EsRUFBRXJGLGVBQWVDLEtBQUl4QixFQUFFd0IsR0FBS29GLEVBQUVwRixNQUNwRHhCLEVBQUc0RyxJQUU1QixPQUFPLFNBQVU1RyxFQUFHNEcsR0FFaEIsU0FBU21FLElBQU9DLEtBQUtDLFlBQWNqTCxFQURuQzJLLEVBQWMzSyxFQUFHNEcsR0FFakI1RyxFQUFFc0IsVUFBa0IsT0FBTnNGLEVBQWF4RyxPQUFPWSxPQUFPNEYsSUFBTW1FLEVBQUd6SixVQUFZc0YsRUFBRXRGLFVBQVcsSUFBSXlKLElBVjNDLEdBcUI1QyxJQUFJLEdBQXdDLFNBQVVtRCxHQUVsRCxTQUFTMmdCLEVBQXVCQyxFQUFlQyxHQUMzQyxJQUFJM2dCLEVBQVFGLEVBQU9yTyxLQUFLbUwsT0FBU0EsS0FJakMsT0FIQW9ELEVBQU0wZ0IsY0FBZ0JBLEVBQ3RCMWdCLEVBQU0yZ0IsZUFBaUJBLEVBQ3ZCM2dCLEVBQU11RixPQUFTLEdBQ1J2RixFQXdCWCxPQTlCQSxHQUFVeWdCLEVBQXdCM2dCLEdBUWxDMmdCLEVBQXVCdnRCLFVBQVUwdEIsWUFBYyxXQUMzQyxJQUFJNWdCLEVBQVFwRCxLQUNaLFlBQVEsWUFBT0EsS0FBSzhqQixnQkFBZ0IsU0FBVXJLLEdBQzFDclcsRUFBTTZnQixhQUFleEssRUFDckJBLEVBQUtGLE9BQU9uVyxPQUdwQnlnQixFQUF1QnZ0QixVQUFVOG1CLGlCQUFtQixTQUFVOVosR0FDMUQsSUFBSTRnQixFQUFNbGtCLEtBQUs4akIsY0FBY3hnQixFQUFLdVgsaUJBQ2xDLEdBQUtxSixFQVVENWdCLEVBQUtzVyxlQUFpQnNLLE1BVmhCLENBQ04sSUFBSTltQixFQUFNNEMsS0FBSytqQixlQUFlcEMsdUJBQXVCM2hCLEtBQUtpa0IsYUFBYzNnQixHQUN4RXRELEtBQUsySSxPQUFPMVIsS0FBSyxDQUNiK0ssUUFBUzVFLEVBQ1RvRCxLQUFNMmpCLEdBQTBCQyx1QkFDaEN6RCxTQUFVM2dCLEtBQUtpa0IsYUFBYWh2QixLQUM1Qm92QixrQkFBbUIvZ0IsRUFBS3VYLG9CQU83QmdKLEVBL0JnQyxDQWdDekMsSUNyREUsR0FBd0MsV0FDeEMsSUFBSWxrQixFQUFnQixTQUFVM0ssRUFBRzRHLEdBSTdCLE9BSEErRCxFQUFnQnZLLE9BQU95SyxnQkFDbEIsQ0FBRUMsVUFBVyxjQUFnQm5JLE9BQVMsU0FBVTNDLEVBQUc0RyxHQUFLNUcsRUFBRThLLFVBQVlsRSxJQUN2RSxTQUFVNUcsRUFBRzRHLEdBQUssSUFBSyxJQUFJcEYsS0FBS29GLEVBQU9BLEVBQUVyRixlQUFlQyxLQUFJeEIsRUFBRXdCLEdBQUtvRixFQUFFcEYsTUFDcER4QixFQUFHNEcsSUFFNUIsT0FBTyxTQUFVNUcsRUFBRzRHLEdBRWhCLFNBQVNtRSxJQUFPQyxLQUFLQyxZQUFjakwsRUFEbkMySyxFQUFjM0ssRUFBRzRHLEdBRWpCNUcsRUFBRXNCLFVBQWtCLE9BQU5zRixFQUFheEcsT0FBT1ksT0FBTzRGLElBQU1tRSxFQUFHekosVUFBWXNGLEVBQUV0RixVQUFXLElBQUl5SixJQVYzQyxHQThFeEMsR0FBc0MsU0FBVW1ELEdBRWhELFNBQVNvaEIsRUFBcUJ4RSxFQUFTcFEsR0FDbkMsSUFBSXRNLEVBQVFGLEVBQU9yTyxLQUFLbUwsS0FBTThmLEVBQVNwUSxJQUFTMVAsS0FNaEQsT0FMQW9ELEVBQU1zTSxLQUFPQSxFQUNidE0sRUFBTW1oQixpQkFBbUIsR0FDekJuaEIsRUFBTW9oQix1QkFBeUIsRUFDL0JwaEIsRUFBTW1oQixpQkFBbUJuaEIsRUFBTXNNLEtBQUsrVSxRQUFReHZCLEtBQzVDbU8sRUFBTW9oQix1QkFBeUJwaEIsRUFBTXNNLEtBQUtnVixrQkFDbkN0aEIsRUFhWCxPQXJCQSxHQUFVa2hCLEVBQXNCcGhCLEdBVWhDb2hCLEVBQXFCaHVCLFVBQVVrbEIsYUFBZSxTQUFVUSxFQUFVVixFQUFVRixHQUN4RSxHQUFJcGIsS0FBSzJrQixlQUNMM0ksRUFBU2pCLGFBQWE5bEIsT0FBUytLLEtBQUt1a0Isa0JBQ3BDdkksRUFBUzFrQixNQUFRMEksS0FBS3drQix5QkFDckJ4a0IsS0FBS2xHLE1BQU8sQ0FDYixJQUFJc21CLEVBQVc5RSxFQUFTempCLE9BQU91akIsR0FDM0J3SixFQUFXLElBQUksR0FBWSxDQUFFdEwsV0FBWThHLElBQzdDcGdCLEtBQUs2a0IsaUJBQW1CL3NCLEdBQU04c0IsR0FDOUI1a0IsS0FBS2xHLE9BQVEsSUFHZHdxQixFQXRCOEIsQ0E3RGEsU0FBVXBoQixHQUU1RCxTQUFTNGhCLEVBQWlDaEYsRUFBU3BRLEdBQy9DLElBQUl0TSxFQUFRRixFQUFPck8sS0FBS21MLE9BQVNBLEtBUWpDLE9BUEFvRCxFQUFNMGMsUUFBVUEsRUFDaEIxYyxFQUFNc00sS0FBT0EsRUFDYnRNLEVBQU15aEIsaUJBQW1CLEdBQ3pCemhCLEVBQU0yaEIsbUJBQXFCLEdBQzNCM2hCLEVBQU00aEIseUJBQTJCLEVBQ2pDNWhCLEVBQU10SixPQUFRLEVBQ2RzSixFQUFNdWhCLGVBQWdCLEVBQ2Z2aEIsRUErQ1gsT0F6REEsR0FBVTBoQixFQUFrQzVoQixHQVk1QzRoQixFQUFpQ3h1QixVQUFVMHBCLGFBQWUsV0FFdEQsR0FEQWhnQixLQUFLbEcsT0FBUSxFQUNUa0csS0FBSzBQLEtBQUt1VixVQUFVLEtBQU9qbEIsS0FBSzhmLFFBQVE3cUIsS0FDeEMsTUFBTXFELE1BQU0sdURBVWhCLE9BUEEwSCxLQUFLaWxCLFVBQVksWUFBU2psQixLQUFLMFAsS0FBS3VWLFdBQVdDLFVBQy9DbGxCLEtBQUttbEIsZ0JBQWtCLFlBQVNubEIsS0FBSzBQLEtBQUt5VixpQkFBaUJELFVBRTNEbGxCLEtBQUtpbEIsVUFBVXJkLE1BQ2Y1SCxLQUFLbWxCLGdCQUFnQnZkLE1BQ3JCNUgsS0FBS29sQixxQkFDTHBsQixLQUFLbWIsS0FBS25iLEtBQUs4ZixTQUNSOWYsS0FBSzZrQixrQkFFaEJDLEVBQWlDeHVCLFVBQVU2a0IsS0FBTyxTQUFVMUIsRUFBTTJCLFFBQzdDLElBQWJBLElBQXVCQSxFQUFXLElBRWpDcGIsS0FBS2xHLE9BQ05vSixFQUFPNU0sVUFBVTZrQixLQUFLdG1CLEtBQUttTCxLQUFNeVosRUFBTTJCLElBRy9DMEosRUFBaUN4dUIsVUFBVWlsQixZQUFjLFNBQVVVLEVBQVNYLEVBQVVGLEdBRWxGLEdBQUlhLEVBQVFyQyxlQUFlM2tCLE9BQVMrSyxLQUFLK2tCLG9CQUNyQzlJLEVBQVEza0IsTUFBUTBJLEtBQUtnbEIseUJBQTBCLENBQy9DLElBQUk1RSxFQUFXOUUsRUFBU3pqQixPQUFPdWpCLEdBQy9CcGIsS0FBS29sQixxQkFDTHBsQixLQUFLbWIsS0FBS2MsRUFBUXJDLGVBQWdCd0csS0FHMUMwRSxFQUFpQ3h1QixVQUFVOHVCLG1CQUFxQixXQUV4RCxZQUFRcGxCLEtBQUtpbEIsWUFHYmpsQixLQUFLK2tCLG1CQUFxQixHQUMxQi9rQixLQUFLZ2xCLHlCQUEyQixFQUNoQ2hsQixLQUFLMmtCLGVBQWdCLElBR3JCM2tCLEtBQUsra0IsbUJBQXFCL2tCLEtBQUtpbEIsVUFBVXJkLE1BQ3pDNUgsS0FBS2dsQix5QkFBMkJobEIsS0FBS21sQixnQkFBZ0J2ZCxRQUd0RGtkLEVBMUQwQyxDQTJEbkQsS0ErQkVPLEdBQTJELFNBQVVuaUIsR0FFckUsU0FBU21pQixFQUEwQ0MsRUFBUzNDLEdBQ3hELElBQUl2ZixFQUFRRixFQUFPck8sS0FBS21MLE9BQVNBLEtBUWpDLE9BUEFvRCxFQUFNa2lCLFFBQVVBLEVBQ2hCbGlCLEVBQU11ZixXQUFhQSxFQUNuQnZmLEVBQU1oTSxPQUFTLENBQ1hzWCxXQUFPM1csRUFDUDRxQixnQkFBWTVxQixFQUNad3RCLGlCQUFheHRCLEdBRVZxTCxFQU1YLE9BaEJBLEdBQVVpaUIsRUFBMkNuaUIsR0FZckRtaUIsRUFBMEMvdUIsVUFBVTBwQixhQUFlLFdBRS9ELE9BREFoZ0IsS0FBS21iLEtBQUtuYixLQUFLc2xCLFNBQ1J0bEIsS0FBSzVJLFFBRVRpdUIsRUFqQm1ELENBa0I1RCxJQUVFLEdBQTZDLFNBQVVuaUIsR0FFdkQsU0FBU3NpQixJQUNMLE9BQWtCLE9BQVh0aUIsR0FBbUJBLEVBQU9qSSxNQUFNK0UsS0FBTWxGLFlBQWNrRixLQWUvRCxPQWpCQSxHQUFVd2xCLEVBQTZCdGlCLEdBSXZDc2lCLEVBQTRCbHZCLFVBQVV3bEIsU0FBVyxTQUFVWSxFQUFVcEIsRUFBVUYsR0FDM0UsR0FBSXNCLEVBQVNwbEIsTUFBUTBJLEtBQUsyaUIsV0FBWSxDQUNsQyxJQUFJOEMsRUFBaUIsWUFBT25LLEVBQVN6akIsT0FBT3VqQixJQUM1Q3BiLEtBQUs1SSxPQUFPbXVCLGlCQUFpQ3h0QixJQUFuQjB0QixFQUN0QkEsYUFBMEIsS0FDMUJ6bEIsS0FBSzVJLE9BQU9zWCxNQUFRK1csRUFBZTFLLGFBQ25DL2EsS0FBSzVJLE9BQU91ckIsV0FBYThDLEVBQWVudUIsVUFJNUM0TCxFQUFPNU0sVUFBVXdsQixTQUFTam5CLEtBQUttTCxLQUFNMGMsRUFBVXBCLEVBQVVGLElBRzFEb0ssRUFsQnFDLENBbUI5Q0gsSUFFRSxHQUFnRCxTQUFVbmlCLEdBRTFELFNBQVN3aUIsSUFDTCxPQUFrQixPQUFYeGlCLEdBQW1CQSxFQUFPakksTUFBTStFLEtBQU1sRixZQUFja0YsS0FlL0QsT0FqQkEsR0FBVTBsQixFQUFnQ3hpQixHQUkxQ3dpQixFQUErQnB2QixVQUFVdWxCLFlBQWMsU0FBVWUsRUFBYXRCLEVBQVVGLEdBQ3BGLEdBQUl3QixFQUFZdGxCLE1BQVEwSSxLQUFLMmlCLFdBQVksQ0FDckMsSUFBSWdELEVBQW9CLFlBQU9ySyxFQUFTempCLE9BQU91akIsSUFDL0NwYixLQUFLNUksT0FBT211QixpQkFBb0N4dEIsSUFBdEI0dEIsRUFDdEJBLGFBQTZCLEtBQzdCM2xCLEtBQUs1SSxPQUFPc1gsTUFBUWlYLEVBQWtCNUssYUFDdEMvYSxLQUFLNUksT0FBT3VyQixXQUFhZ0QsRUFBa0JydUIsVUFJL0M0TCxFQUFPNU0sVUFBVXVsQixZQUFZaG5CLEtBQUttTCxLQUFNNGMsRUFBYXRCLEVBQVVGLElBR2hFc0ssRUFsQndDLENBbUJqREwsSUFFRSxHQUFtRCxTQUFVbmlCLEdBRTdELFNBQVMwaUIsSUFDTCxPQUFrQixPQUFYMWlCLEdBQW1CQSxFQUFPakksTUFBTStFLEtBQU1sRixZQUFja0YsS0FlL0QsT0FqQkEsR0FBVTRsQixFQUFtQzFpQixHQUk3QzBpQixFQUFrQ3R2QixVQUFVcWxCLGVBQWlCLFNBQVVVLEVBQWdCZixFQUFVRixHQUM3RixHQUFJaUIsRUFBZS9rQixNQUFRMEksS0FBSzJpQixXQUFZLENBQ3hDLElBQUlrRCxFQUF1QixZQUFPdkssRUFBU3pqQixPQUFPdWpCLElBQ2xEcGIsS0FBSzVJLE9BQU9tdUIsaUJBQXVDeHRCLElBQXpCOHRCLEVBQ3RCQSxhQUFnQyxLQUNoQzdsQixLQUFLNUksT0FBT3NYLE1BQVFtWCxFQUFxQjlLLGFBQ3pDL2EsS0FBSzVJLE9BQU91ckIsV0FBYWtELEVBQXFCdnVCLFVBSWxENEwsRUFBTzVNLFVBQVVxbEIsZUFBZTltQixLQUFLbUwsS0FBTXFjLEVBQWdCZixFQUFVRixJQUd0RXdLLEVBbEIyQyxDQW1CcERQLElBR0UsR0FBc0QsU0FBVW5pQixHQUVoRSxTQUFTNGlCLElBQ0wsT0FBa0IsT0FBWDVpQixHQUFtQkEsRUFBT2pJLE1BQU0rRSxLQUFNbEYsWUFBY2tGLEtBZS9ELE9BakJBLEdBQVU4bEIsRUFBc0M1aUIsR0FJaEQ0aUIsRUFBcUN4dkIsVUFBVXNsQixrQkFBb0IsU0FBVW1LLEVBQW1CekssRUFBVUYsR0FDdEcsR0FBSTJLLEVBQWtCenVCLE1BQVEwSSxLQUFLMmlCLFdBQVksQ0FDM0MsSUFBSXFELEVBQW9DLFlBQU8xSyxFQUFTempCLE9BQU91akIsSUFDL0RwYixLQUFLNUksT0FBT211QixpQkFBb0R4dEIsSUFBdENpdUIsRUFDdEJBLGFBQTZDLEtBQzdDaG1CLEtBQUs1SSxPQUFPc1gsTUFBUXNYLEVBQWtDakwsYUFDdEQvYSxLQUFLNUksT0FBT3VyQixXQUFhcUQsRUFBa0MxdUIsVUFJL0Q0TCxFQUFPNU0sVUFBVXNsQixrQkFBa0IvbUIsS0FBS21MLEtBQU0rbEIsRUFBbUJ6SyxFQUFVRixJQUc1RTBLLEVBbEI4QyxDQW1CdkRULElBRUssU0FBU1ksR0FBa0JDLEVBQVdDLEVBQVc5RSxRQUNuQyxJQUFiQSxJQUF1QkEsRUFBVyxJQUV0Q0EsRUFBVyxZQUFTQSxHQUNwQixJQUFJanFCLEVBQVMsR0FDVDFDLEVBQUksRUFNUixTQUFTMHhCLEVBQXVCOU0sR0FDNUIsSUFBSStNLEVBQWVKLEdBQW9DM00sRUFKeEN6aEIsT0FBTyxZQUFLcXVCLEVBQVd4eEIsRUFBSSxJQUkwQnl4QixFQUFXOUUsR0FDL0UsT0FBT2pxQixFQUFPUyxPQUFPd3VCLEdBU3pCLEtBQU9oRixFQUFTenFCLE9BQVN1dkIsR0FBYXp4QixFQUFJd3hCLEVBQVV0dkIsUUFBUSxDQUN4RCxJQUFJNmlCLEVBQU95TSxFQUFVeHhCLEdBRXJCLEdBQUkra0IsYUFBZ0IsR0FDaEIsT0FBTzJNLEVBQXVCM00sRUFBS0gsWUFFbEMsR0FBSUcsYUFBZ0IsR0FDckIsT0FBTzJNLEVBQXVCM00sRUFBS0gsWUFFbEMsR0FBSUcsYUFBZ0IsR0FDckJyaUIsRUFBU2d2QixFQUF1QjNNLEVBQUtILGdCQUVwQyxJQUFJRyxhQUFnQixHQU1yQixPQUFPMk0sRUFMSEUsRUFBUzdNLEVBQUtILFdBQVd6aEIsT0FBTyxDQUNoQyxJQUFJLEdBQVcsQ0FDWHloQixXQUFZRyxFQUFLSCxnQkFLeEIsR0FBSUcsYUFBZ0IsR0FPckIsT0FBTzJNLEVBTkhFLEVBQVMsQ0FDVCxJQUFJLEdBQVksQ0FBRWhOLFdBQVlHLEVBQUtILGFBQ25DLElBQUksR0FBVyxDQUNYQSxXQUFZLENBQUMsSUFBSSxHQUFTLENBQUV5QixhQUFjdEIsRUFBS3FCLGFBQWNqakIsT0FBTzRoQixFQUFLSCxnQkFLaEYsR0FBSUcsYUFBZ0IsR0FBeUIsQ0FDOUMsSUFBSTZNLEVBQVM3TSxFQUFLSCxXQUFXemhCLE9BQU8sQ0FDaEMsSUFBSSxHQUFXLENBQ1h5aEIsV0FBWSxDQUFDLElBQUksR0FBUyxDQUFFeUIsYUFBY3RCLEVBQUtxQixhQUFjampCLE9BQU80aEIsRUFBS0gsZ0JBR2pGbGlCLEVBQVNndkIsRUFBdUJFLFFBRS9CLEdBQUk3TSxhQUFnQixHQUFZLENBQzdCNk0sRUFBUzdNLEVBQUtILFdBQVd6aEIsT0FBTyxDQUNoQyxJQUFJLEdBQVcsQ0FDWHloQixXQUFZRyxFQUFLSCxlQUd6QmxpQixFQUFTZ3ZCLEVBQXVCRSxPQUUvQixJQUFJN00sYUFBZ0IsR0FJckIsT0FIQSxZQUFRQSxFQUFLSCxZQUFZLFNBQVVpTixHQUMvQm52QixFQUFTZ3ZCLEVBQXVCRyxFQUFRak4sZUFFckNsaUIsRUFFTixLQUFJcWlCLGFBQWdCLElBSXJCLE1BQU1uaEIsTUFBTSx3QkFIWitvQixFQUFTcHFCLEtBQUt3aUIsRUFBS3NCLGVBS3ZCcm1CLElBTUosT0FKQTBDLEVBQU9ILEtBQUssQ0FDUnV2QixZQUFhbkYsRUFDYm9GLFVBQVcsWUFBS1AsRUFBV3h4QixLQUV4QjBDLEVBRUosU0FBU3N2QixHQUF3QkMsRUFBWXJPLEVBQWFzTyxFQUFZQyxHQUN6RSxJQUVJQyxFQUF3QixDQUZKLHNCQUlwQkMsR0FBb0IsRUFDcEJDLEVBQW9CMU8sRUFBWTFoQixPQUNoQ3F3QixFQUEyQkQsRUFBb0JILEVBQWUsRUFDOUR6dkIsRUFBUyxHQUNUOHZCLEVBQWdCLEdBT3BCLElBTkFBLEVBQWNqd0IsS0FBSyxDQUNmSyxLQUFNLEVBQ042dkIsSUFBS1IsRUFDTDFCLFVBQVcsR0FDWEUsZ0JBQWlCLE1BRWIsWUFBUStCLElBQWdCLENBQzVCLElBQUk3RixFQUFXNkYsRUFBY3RmLE1BRTdCLEdBZm1CLHFCQWVmeVosRUFBSixDQVFBLElBQUkrRixFQUFVL0YsRUFBUzhGLElBQ25CN1UsRUFBVStPLEVBQVMvcEIsSUFDbkIrdkIsRUFBZ0JoRyxFQUFTNEQsVUFDekJxQyxFQUFzQmpHLEVBQVM4RCxnQkFFbkMsSUFBSSxZQUFRaUMsR0FBWixDQUdBLElBQUkzTixFQUFPMk4sRUFBUSxHQUVuQixHQXBDb0IsdUJBb0NoQjNOLEVBQTRCLENBQzVCLElBQUk4TixFQUFXLENBQ1hqd0IsSUFBS2diLEVBQ0w2VSxJQUFLLFlBQUtDLEdBQ1ZuQyxVQUFXLFlBQVVvQyxHQUNyQmxDLGdCQUFpQixZQUFVbUMsSUFFL0JKLEVBQWNqd0IsS0FBS3N3QixRQUVsQixHQUFJOU4sYUFBZ0IsR0FFckIsR0FBSW5ILEVBQVUwVSxFQUFvQixFQUFHLENBQ2pDLElBQUlRLEVBQVVsVixFQUFVLEVBRXhCLEdBQUlzVSxFQURjdE8sRUFBWWtQLEdBQ0YvTixFQUFLc0IsY0FBZSxDQUN4Q3dNLEVBQVcsQ0FDWGp3QixJQUFLa3dCLEVBQ0xMLElBQUssWUFBS0MsR0FDVm5DLFVBQVdvQyxFQUNYbEMsZ0JBQWlCbUMsR0FFckJKLEVBQWNqd0IsS0FBS3N3QixRQUl0QixJQUFJalYsSUFBWTBVLEVBQW9CLEVBV3JDLE1BQU0xdUIsTUFBTSx3QkFUWmxCLEVBQU9ILEtBQUssQ0FDUnd3QixjQUFlaE8sRUFBS3NCLGFBQ3BCMk0sb0JBQXFCak8sRUFBS25pQixJQUMxQjJ0QixVQUFXb0MsRUFDWGxDLGdCQUFpQm1DLElBRXJCUCxHQUFvQixPQU12QixHQUFJdE4sYUFBZ0IsR0FBYSxDQUNsQyxJQUFJa08sRUFBZSxZQUFTTixHQUM1Qk0sRUFBYTF3QixLQUFLd2lCLEVBQUtvQixpQkFDdkIsSUFBSStNLEVBQXFCLFlBQVNOLEdBQ2xDTSxFQUFtQjN3QixLQUFLd2lCLEVBQUtuaUIsS0FDekJpd0IsRUFBVyxDQUNYandCLElBQUtnYixFQUNMNlUsSUFBSzFOLEVBQUtILFdBQVd6aEIsT0FBT2l2QixFQUF1QixZQUFLTSxJQUN4RG5DLFVBQVcwQyxFQUNYeEMsZ0JBQWlCeUMsR0FFckJWLEVBQWNqd0IsS0FBS3N3QixRQUVsQixHQUFJOU4sYUFBZ0IsR0FBUSxDQUU3QixJQUFJb08sRUFBa0IsQ0FDbEJ2d0IsSUFBS2diLEVBQ0w2VSxJQUFLLFlBQUtDLEdBQ1ZuQyxVQUFXb0MsRUFDWGxDLGdCQUFpQm1DLEdBRXJCSixFQUFjandCLEtBQUs0d0IsR0FFbkJYLEVBQWNqd0IsS0EvRkMsb0JBZ0dmLElBQUk2d0IsRUFBZSxDQUNmeHdCLElBQUtnYixFQUNMNlUsSUFBSzFOLEVBQUtILFdBQVd6aEIsT0FBTyxZQUFLdXZCLElBQ2pDbkMsVUFBV29DLEVBQ1hsQyxnQkFBaUJtQyxHQUVyQkosRUFBY2p3QixLQUFLNndCLFFBRWxCLEdBQUlyTyxhQUFnQixHQUFxQixDQUUxQyxJQUFJc08sRUFBa0IsSUFBSSxHQUFXLENBQ2pDek8sV0FBWUcsRUFBS0gsV0FDakJoaUIsSUFBS21pQixFQUFLbmlCLE1BR1Zpd0IsRUFBVyxDQUNYandCLElBQUtnYixFQUNMNlUsSUFIVTFOLEVBQUtILFdBQVd6aEIsT0FBTyxDQUFDa3dCLEdBQWtCLFlBQUtYLElBSXpEbkMsVUFBV29DLEVBQ1hsQyxnQkFBaUJtQyxHQUVyQkosRUFBY2p3QixLQUFLc3dCLFFBRWxCLEdBQUk5TixhQUFnQixHQUFrQyxDQUV2RCxJQUFJdU8sRUFBZ0IsSUFBSSxHQUFTLENBQzdCak4sYUFBY3RCLEVBQUtxQixZQUVuQmlOLEVBQWtCLElBQUksR0FBVyxDQUNqQ3pPLFdBQVksQ0FBQzBPLEdBQWVud0IsT0FBTzRoQixFQUFLSCxZQUN4Q2hpQixJQUFLbWlCLEVBQUtuaUIsTUFHVml3QixFQUFXLENBQ1hqd0IsSUFBS2diLEVBQ0w2VSxJQUhVMU4sRUFBS0gsV0FBV3poQixPQUFPLENBQUNrd0IsR0FBa0IsWUFBS1gsSUFJekRuQyxVQUFXb0MsRUFDWGxDLGdCQUFpQm1DLEdBRXJCSixFQUFjandCLEtBQUtzd0IsUUFFbEIsR0FBSTlOLGFBQWdCLEdBQXlCLENBRTFDb08sRUFBa0IsQ0FDbEJ2d0IsSUFBS2diLEVBQ0w2VSxJQUFLLFlBQUtDLEdBQ1ZuQyxVQUFXb0MsRUFDWGxDLGdCQUFpQm1DLEdBRXJCSixFQUFjandCLEtBQUs0d0IsR0FFbkJYLEVBQWNqd0IsS0FuSkMsb0JBb0pYK3dCLEVBQWdCLElBQUksR0FBUyxDQUM3QmpOLGFBQWN0QixFQUFLcUIsWUFEdkIsSUFHSW1OLEVBQWdCLElBQUksR0FBVyxDQUMvQjNPLFdBQVksQ0FBQzBPLEdBQWVud0IsT0FBTzRoQixFQUFLSCxZQUN4Q2hpQixJQUFLbWlCLEVBQUtuaUIsTUFHVnd3QixFQUFlLENBQ2Z4d0IsSUFBS2diLEVBQ0w2VSxJQUhVMU4sRUFBS0gsV0FBV3poQixPQUFPLENBQUNvd0IsR0FBZ0IsWUFBS2IsSUFJdkRuQyxVQUFXb0MsRUFDWGxDLGdCQUFpQm1DLEdBRXJCSixFQUFjandCLEtBQUs2d0IsUUFFbEIsR0FBSXJPLGFBQWdCLEdBQVksQ0FFN0JvTyxFQUFrQixDQUNsQnZ3QixJQUFLZ2IsRUFDTDZVLElBQUssWUFBS0MsR0FDVm5DLFVBQVdvQyxFQUNYbEMsZ0JBQWlCbUMsR0FFckJKLEVBQWNqd0IsS0FBSzR3QixHQUVuQlgsRUFBY2p3QixLQTlLQyxvQkFnTFhneEIsRUFBZ0IsSUFBSSxHQUFXLENBQy9CM08sV0FBWUcsRUFBS0gsV0FDakJoaUIsSUFBS21pQixFQUFLbmlCLE1BR1Z3d0IsRUFBZSxDQUNmeHdCLElBQUtnYixFQUNMNlUsSUFIVTFOLEVBQUtILFdBQVd6aEIsT0FBTyxDQUFDb3dCLEdBQWdCLFlBQUtiLElBSXZEbkMsVUFBV29DLEVBQ1hsQyxnQkFBaUJtQyxHQUVyQkosRUFBY2p3QixLQUFLNndCLFFBRWxCLEdBQUlyTyxhQUFnQixHQUVyQixJQUFLLElBQUkva0IsRUFBSStrQixFQUFLSCxXQUFXMWlCLE9BQVMsRUFBR2xDLEdBQUssRUFBR0EsSUFBSyxDQUNsRCxJQUNJd3pCLEVBQWMsQ0FDZDV3QixJQUFLZ2IsRUFDTDZVLElBSFUxTixFQUFLSCxXQUFXNWtCLEdBR2I0a0IsV0FBV3poQixPQUFPLFlBQUt1dkIsSUFDcENuQyxVQUFXb0MsRUFDWGxDLGdCQUFpQm1DLEdBRXJCSixFQUFjandCLEtBQUtpeEIsR0FDbkJoQixFQUFjandCLEtBeE1ILHlCQTJNZCxHQUFJd2lCLGFBQWdCLEdBQ3JCeU4sRUFBY2p3QixLQUFLLENBQ2ZLLElBQUtnYixFQUNMNlUsSUFBSzFOLEVBQUtILFdBQVd6aEIsT0FBTyxZQUFLdXZCLElBQ2pDbkMsVUFBV29DLEVBQ1hsQyxnQkFBaUJtQyxRQUdwQixNQUFJN04sYUFBZ0IsSUFLckIsTUFBTW5oQixNQUFNLHdCQUhaNHVCLEVBQWNqd0IsS0FBS2t4QixHQUFtQjFPLEVBQU1uSCxFQUFTK1UsRUFBZUMsV0FyTWhFUCxHQUNBLFlBQUtHLEdBQWU1dkIsS0FBTzJ2QixHQUUzQkMsRUFBY3RmLE1Bd00xQixPQUFPeFEsRUFFWCxTQUFTK3dCLEdBQW1CN0MsRUFBU2hULEVBQVMrVSxFQUFlQyxHQUN6RCxJQUFJSyxFQUFlLFlBQVNOLEdBQzVCTSxFQUFhMXdCLEtBQUtxdUIsRUFBUXJ3QixNQUMxQixJQUFJbXpCLEVBQXlCLFlBQVNkLEdBR3RDLE9BREFjLEVBQXVCbnhCLEtBQUssR0FDckIsQ0FDSEssSUFBS2diLEVBQ0w2VSxJQUFLN0IsRUFBUWhNLFdBQ2IyTCxVQUFXMEMsRUFDWHhDLGdCQUFpQmlELEdDdGhCekIsSUFtQldDLEdBbkJQLEdBQXdDLFdBQ3hDLElBQUkxb0IsRUFBZ0IsU0FBVTNLLEVBQUc0RyxHQUk3QixPQUhBK0QsRUFBZ0J2SyxPQUFPeUssZ0JBQ2xCLENBQUVDLFVBQVcsY0FBZ0JuSSxPQUFTLFNBQVUzQyxFQUFHNEcsR0FBSzVHLEVBQUU4SyxVQUFZbEUsSUFDdkUsU0FBVTVHLEVBQUc0RyxHQUFLLElBQUssSUFBSXBGLEtBQUtvRixFQUFPQSxFQUFFckYsZUFBZUMsS0FBSXhCLEVBQUV3QixHQUFLb0YsRUFBRXBGLE1BQ3BEeEIsRUFBRzRHLElBRTVCLE9BQU8sU0FBVTVHLEVBQUc0RyxHQUVoQixTQUFTbUUsSUFBT0MsS0FBS0MsWUFBY2pMLEVBRG5DMkssRUFBYzNLLEVBQUc0RyxHQUVqQjVHLEVBQUVzQixVQUFrQixPQUFOc0YsRUFBYXhHLE9BQU9ZLE9BQU80RixJQUFNbUUsRUFBR3pKLFVBQVlzRixFQUFFdEYsVUFBVyxJQUFJeUosSUFWM0MsSUFvQjVDLFNBQVdzb0IsR0FDUEEsRUFBVUEsRUFBa0IsT0FBSSxHQUFLLFNBQ3JDQSxFQUFVQSxFQUFzQixXQUFJLEdBQUssYUFDekNBLEVBQVVBLEVBQWdDLHFCQUFJLEdBQUssdUJBQ25EQSxFQUFVQSxFQUErQyxvQ0FBSSxHQUFLLHNDQUNsRUEsRUFBVUEsRUFBcUMsMEJBQUksR0FBSyw0QkFDeERBLEVBQVVBLEVBQXVCLFlBQUksR0FBSyxjQU45QyxDQU9HQSxLQUFjQSxHQUFZLEtBa043QixJQUFJQyxHQUE0QyxTQUFVcGxCLEdBRXRELFNBQVNvbEIsRUFBMkJ4SSxFQUFTeUksRUFBa0JDLEdBQzNELElBQUlwbEIsRUFBUUYsRUFBT3JPLEtBQUttTCxPQUFTQSxLQUlqQyxPQUhBb0QsRUFBTTBjLFFBQVVBLEVBQ2hCMWMsRUFBTW1sQixpQkFBbUJBLEVBQ3pCbmxCLEVBQU1vbEIsZUFBaUJBLEVBQ2hCcGxCLEVBd0NYLE9BOUNBLEdBQVVrbEIsRUFBNEJwbEIsR0FRdENvbEIsRUFBMkJoeUIsVUFBVTBwQixhQUFlLFdBRWhELE9BREFoZ0IsS0FBS21iLEtBQUtuYixLQUFLOGYsU0FDUjlmLEtBQUt5b0IsU0FFaEJILEVBQTJCaHlCLFVBQVVveUIsY0FBZ0IsU0FBVXBsQixFQUFNcWxCLEVBQWtCck4sRUFBVUYsR0FDN0YsT0FBSTlYLEVBQUtoTSxNQUFRMEksS0FBS3VvQixrQkFDbEJ2b0IsS0FBS3dvQixpQkFBbUJHLElBQ3hCM29CLEtBQUt5b0IsUUFBVW5OLEVBQVN6akIsT0FBT3VqQixJQUN4QixJQUtma04sRUFBMkJoeUIsVUFBVW9sQixXQUFhLFNBQVVVLEVBQVlkLEVBQVVGLEdBQ3pFcGIsS0FBSzBvQixjQUFjdE0sRUFBWWlNLEdBQVVPLE9BQVF0TixFQUFVRixJQUM1RGxZLEVBQU81TSxVQUFVb2xCLFdBQVc3bUIsS0FBS21MLEtBQU1vYyxFQUFZZCxFQUFVRixJQUdyRWtOLEVBQTJCaHlCLFVBQVVxbEIsZUFBaUIsU0FBVVUsRUFBZ0JmLEVBQVVGLEdBQ2pGcGIsS0FBSzBvQixjQUFjck0sRUFBZ0JnTSxHQUFVUSxxQkFBc0J2TixFQUFVRixJQUM5RWxZLEVBQU81TSxVQUFVb2xCLFdBQVc3bUIsS0FBS21MLEtBQU1xYyxFQUFnQmYsRUFBVUYsSUFHekVrTixFQUEyQmh5QixVQUFVc2xCLGtCQUFvQixTQUFVVyxFQUFtQmpCLEVBQVVGLEdBQ3ZGcGIsS0FBSzBvQixjQUFjbk0sRUFBbUI4TCxHQUFVUyxvQ0FBcUN4TixFQUFVRixJQUNoR2xZLEVBQU81TSxVQUFVb2xCLFdBQVc3bUIsS0FBS21MLEtBQU11YyxFQUFtQmpCLEVBQVVGLElBRzVFa04sRUFBMkJoeUIsVUFBVXdsQixTQUFXLFNBQVVZLEVBQVVwQixFQUFVRixHQUNyRXBiLEtBQUswb0IsY0FBY2hNLEVBQVUyTCxHQUFVVSxXQUFZek4sRUFBVUYsSUFDOURsWSxFQUFPNU0sVUFBVW9sQixXQUFXN21CLEtBQUttTCxLQUFNMGMsRUFBVXBCLEVBQVVGLElBR25Fa04sRUFBMkJoeUIsVUFBVXVsQixZQUFjLFNBQVVlLEVBQWF0QixFQUFVRixHQUMzRXBiLEtBQUswb0IsY0FBYzlMLEVBQWF5TCxHQUFVVywwQkFBMkIxTixFQUFVRixJQUNoRmxZLEVBQU81TSxVQUFVb2xCLFdBQVc3bUIsS0FBS21MLEtBQU00YyxFQUFhdEIsRUFBVUYsSUFHL0RrTixFQS9Db0MsQ0FnRDdDLElBSUVXLEdBQStDLFNBQVUvbEIsR0FFekQsU0FBUytsQixFQUE4QlYsRUFBa0JDLEVBQWdCVSxHQUNyRSxJQUFJOWxCLEVBQVFGLEVBQU9yTyxLQUFLbUwsT0FBU0EsS0FLakMsT0FKQW9ELEVBQU1tbEIsaUJBQW1CQSxFQUN6Qm5sQixFQUFNb2xCLGVBQWlCQSxFQUN2QnBsQixFQUFNOGxCLFVBQVlBLEVBQ2xCOWxCLEVBQU1oTSxPQUFTLEdBQ1JnTSxFQTJCWCxPQWxDQSxHQUFVNmxCLEVBQStCL2xCLEdBU3pDK2xCLEVBQThCM3lCLFVBQVVveUIsY0FBZ0IsU0FBVXBsQixFQUFNNmxCLEdBQ2hFN2xCLEVBQUtoTSxNQUFRMEksS0FBS3VvQixrQkFDbEJ2b0IsS0FBS3dvQixpQkFBbUJXLFFBQ0pweEIsSUFBbkJpSSxLQUFLa3BCLFdBQTJCNWxCLElBQVN0RCxLQUFLa3BCLFlBQy9DbHBCLEtBQUs1SSxPQUFTa00sRUFBS2dXLGFBRzNCMlAsRUFBOEIzeUIsVUFBVWduQixZQUFjLFNBQVVoYSxHQUM1RHRELEtBQUswb0IsY0FBY3BsQixFQUFNK2tCLEdBQVVPLFNBRXZDSyxFQUE4QjN5QixVQUFVb25CLGdCQUFrQixTQUFVcGEsR0FDaEV0RCxLQUFLMG9CLGNBQWNwbEIsRUFBTStrQixHQUFVVSxhQUV2Q0UsRUFBOEIzeUIsVUFBVWluQix5QkFBMkIsU0FBVWphLEdBQ3pFdEQsS0FBSzBvQixjQUFjcGxCLEVBQU0ra0IsR0FBVVEsdUJBRXZDSSxFQUE4QjN5QixVQUFVa25CLHNDQUF3QyxTQUFVbGEsR0FDdEZ0RCxLQUFLMG9CLGNBQWNwbEIsRUFBTStrQixHQUFVUyxzQ0FFdkNHLEVBQThCM3lCLFVBQVVtbkIsNkJBQStCLFNBQVVuYSxHQUM3RXRELEtBQUswb0IsY0FBY3BsQixFQUFNK2tCLEdBQVVXLDRCQUV2Q0MsRUFBOEIzeUIsVUFBVXFuQixpQkFBbUIsU0FBVXJhLEdBQ2pFdEQsS0FBSzBvQixjQUFjcGxCLEVBQU0ra0IsR0FBVWUsY0FFaENILEVBbkN1QyxDQW9DaEQsSUFDRixTQUFTSSxHQUF3QkMsR0FFN0IsSUFEQSxJQUFJbHlCLEVBQVMsSUFBSU8sTUFBTTJ4QixHQUNkNTBCLEVBQUksRUFBR0EsRUFBSTQwQixFQUFNNTBCLElBQ3RCMEMsRUFBTzFDLEdBQUssR0FFaEIsT0FBTzBDLEVBT1gsU0FBU215QixHQUFlN1osR0FFcEIsSUFEQSxJQUFJN1ksRUFBTyxDQUFDLElBQ0huQyxFQUFJLEVBQUdBLEVBQUlnYixFQUFLOVksT0FBUWxDLElBQUssQ0FHbEMsSUFGQSxJQUFJc1MsRUFBVTBJLEVBQUtoYixHQUNmODBCLEVBQWEsR0FDUnJ0QixFQUFJLEVBQUdBLEVBQUl0RixFQUFLRCxPQUFRdUYsSUFBSyxDQUNsQyxJQUFJc3RCLEVBQWlCNXlCLEVBQUtzRixHQUMxQnF0QixFQUFXdnlCLEtBQUt3eUIsRUFBaUIsSUFBTXppQixFQUFRVixjQUMvQyxJQUFLLElBQUkxUSxFQUFJLEVBQUdBLEVBQUlvUixFQUFRc0ksZ0JBQWdCMVksT0FBUWhCLElBQUssQ0FDckQsSUFBSTh6QixFQUFzQixJQUFNMWlCLEVBQVFzSSxnQkFBZ0IxWixHQUN4RDR6QixFQUFXdnlCLEtBQUt3eUIsRUFBaUJDLElBR3pDN3lCLEVBQU8yeUIsRUFFWCxPQUFPM3lCLEVBS1gsU0FBUzh5QixHQUFtQkMsRUFBbUJDLEVBQWdCdnlCLEdBQzNELElBQUssSUFBSXd5QixFQUFhLEVBQUdBLEVBQWFGLEVBQWtCaHpCLE9BQVFrekIsSUFFNUQsR0FBSUEsSUFBZXh5QixFQUluQixJQURBLElBQUl5eUIsRUFBeUJILEVBQWtCRSxHQUN0Q0UsRUFBWSxFQUFHQSxFQUFZSCxFQUFlanpCLE9BQVFvekIsSUFBYSxDQUVwRSxJQUEwQyxJQUF0Q0QsRUFEWUYsRUFBZUcsSUFFM0IsT0FBTyxFQUtuQixPQUFPLEVBRUosU0FBU0MsR0FBa0NDLEVBQVVDLEdBZXhELElBZEEsSUFBSUMsRUFBYyxZQUFJRixHQUFVLFNBQVUzRCxHQUFXLE9BQU9OLEdBQWtCLENBQUNNLEdBQVUsTUFDckY4RCxFQUFjaEIsR0FBd0JlLEVBQVl4ekIsUUFDbEQwekIsRUFBYSxZQUFJRixHQUFhLFNBQVVqSixHQUN4QyxJQUFJb0osRUFBTyxHQU9YLE9BTkEsWUFBUXBKLEdBQWMsU0FBVTFvQixHQUM1QixJQUFJNUIsRUFBTzB5QixHQUFlOXdCLEVBQUsrdEIsYUFDL0IsWUFBUTN2QixHQUFNLFNBQVVVLEdBQ3BCZ3pCLEVBQUtoekIsSUFBVyxRQUdqQmd6QixLQUVQQyxFQUFVSixFQUVMSyxFQUFhLEVBQUdBLEdBQWNOLEVBQUdNLElBQWMsQ0FDcEQsSUFBSUMsRUFBY0YsRUFDbEJBLEVBQVVuQixHQUF3QnFCLEVBQVk5ekIsUUFxQzlDLElBcENBLElBQUkrekIsRUFBVSxTQUFVQyxHQUdwQixJQUZBLElBQUlDLEVBQTBCSCxFQUFZRSxHQUVqQ0UsRUFBYyxFQUFHQSxFQUFjRCxFQUF3QmowQixPQUFRazBCLElBQWUsQ0FDbkYsSUFBSUMsRUFBaUJGLEVBQXdCQyxHQUFhdEUsWUFDdERDLEVBQVlvRSxFQUF3QkMsR0FBYXJFLFVBQ2pEdUUsRUFBYXpCLEdBQWV3QixHQUdoQyxHQUZlcEIsR0FBbUJXLEVBQVlVLEVBQVlKLElBRTFDLFlBQVFuRSxJQUFjc0UsRUFBZW4wQixTQUFXdXpCLEVBQUcsQ0FDL0QsSUFBSWMsRUFBZ0JaLEVBQVlPLEdBRWhDLElBQW9ELElBQWhETSxHQUFhRCxFQUFlRixHQUEyQixDQUN2REUsRUFBY2gwQixLQUFLOHpCLEdBRW5CLElBQUssSUFBSTV1QixFQUFJLEVBQUdBLEVBQUk2dUIsRUFBV3AwQixPQUFRdUYsSUFBSyxDQUN4QyxJQUFJNUUsRUFBVXl6QixFQUFXN3VCLEdBQ3pCbXVCLEVBQVdNLEdBQVFyekIsSUFBVyxRQUtyQyxDQUNELElBQUk0ekIsRUFBNkJsRixHQUFrQlEsRUFBV2dFLEVBQWEsRUFBR00sR0FDOUVQLEVBQVFJLEdBQVVKLEVBQVFJLEdBQVEveUIsT0FBT3N6QixHQUV6QyxZQUFRQSxHQUE0QixTQUFVMXlCLEdBQzFDLElBQUl1eUIsRUFBYXpCLEdBQWU5d0IsRUFBSyt0QixhQUNyQyxZQUFRd0UsR0FBWSxTQUFVLzBCLEdBQzFCcTBCLEVBQVdNLEdBQVEzMEIsSUFBTyxXQU9yQzIwQixFQUFTLEVBQUdBLEVBQVNGLEVBQVk5ekIsT0FBUWcwQixJQUM5Q0QsRUFBUUMsR0FHaEIsT0FBT1AsRUFFSixTQUFTZSxHQUF1QnpJLEVBQVkwSSxFQUFhbEIsRUFBR3JOLEdBQy9ELElBQUl0RCxFQUFVLElBQUl5UCxHQUE4QnRHLEVBQVkwRixHQUFVZSxZQUFhdE0sR0FFbkYsT0FEQXVPLEVBQVk5UixPQUFPQyxHQUNaeVEsR0FBa0N6USxFQUFRcGlCLE9BQVEreUIsR0FFdEQsU0FBU21CLEdBQWlDM0ksRUFBWTBJLEVBQWFFLEVBQVVwQixHQUNoRixJQUFJcUIsRUFBbUIsSUFBSXZDLEdBQThCdEcsRUFBWTRJLEdBQ3JFRixFQUFZOVIsT0FBT2lTLEdBQ25CLElBQUlDLEVBQVlELEVBQWlCcDBCLE9BRTdCczBCLEVBRGlCLElBQUlwRCxHQUEyQitDLEVBQWExSSxFQUFZNEksR0FDL0N2TCxlQUc5QixPQUFPaUssR0FBa0MsQ0FGeEIsSUFBSSxHQUFnQixDQUFFM1EsV0FBWW1TLElBQ25DLElBQUksR0FBZ0IsQ0FBRW5TLFdBQVlvUyxLQUNnQnZCLEdBRS9ELFNBQVNlLEdBQWFTLEVBQWFDLEdBQ3RDQyxFQUFrQixJQUFLLElBQUluM0IsRUFBSSxFQUFHQSxFQUFJaTNCLEVBQVkvMEIsT0FBUWxDLElBQUssQ0FDM0QsSUFBSW8zQixFQUFZSCxFQUFZajNCLEdBQzVCLEdBQUlvM0IsRUFBVWwxQixTQUFXZzFCLEVBQVdoMUIsT0FBcEMsQ0FHQSxJQUFLLElBQUl1RixFQUFJLEVBQUdBLEVBQUkydkIsRUFBVWwxQixPQUFRdUYsSUFBSyxDQUN2QyxJQUFJNHZCLEVBQVlILEVBQVd6dkIsR0FDdkI2dkIsRUFBV0YsRUFBVTN2QixHQUd6QixJQUF1QixLQUZGNHZCLElBQWNDLFFBQ3lCajBCLElBQXhEaTBCLEVBQVN4ZCxtQkFBbUJ1ZCxFQUFVemxCLGVBRXRDLFNBQVN1bEIsRUFHakIsT0FBTyxHQUVYLE9BQU8sRUFVSixTQUFTSSxHQUEwQkMsR0FDdEMsT0FBTyxZQUFNQSxHQUFnQixTQUFVQyxHQUNuQyxPQUFPLFlBQU1BLEdBQWdCLFNBQVVDLEdBQ25DLE9BQU8sWUFBTUEsR0FBWSxTQUFVMWQsR0FBUyxPQUFPLFlBQVFBLEVBQU1ZLDBCQ2hlN0UsSUFBSSxHQUF3QyxXQUN4QyxJQUFJM1AsRUFBZ0IsU0FBVTNLLEVBQUc0RyxHQUk3QixPQUhBK0QsRUFBZ0J2SyxPQUFPeUssZ0JBQ2xCLENBQUVDLFVBQVcsY0FBZ0JuSSxPQUFTLFNBQVUzQyxFQUFHNEcsR0FBSzVHLEVBQUU4SyxVQUFZbEUsSUFDdkUsU0FBVTVHLEVBQUc0RyxHQUFLLElBQUssSUFBSXBGLEtBQUtvRixFQUFPQSxFQUFFckYsZUFBZUMsS0FBSXhCLEVBQUV3QixHQUFLb0YsRUFBRXBGLE1BQ3BEeEIsRUFBRzRHLElBRTVCLE9BQU8sU0FBVTVHLEVBQUc0RyxHQUVoQixTQUFTbUUsSUFBT0MsS0FBS0MsWUFBY2pMLEVBRG5DMkssRUFBYzNLLEVBQUc0RyxHQUVqQjVHLEVBQUVzQixVQUFrQixPQUFOc0YsRUFBYXhHLE9BQU9ZLE9BQU80RixJQUFNbUUsRUFBR3pKLFVBQVlzRixFQUFFdEYsVUFBVyxJQUFJeUosSUFWM0MsR0FxQnJDLFNBQVNzc0IsR0FBZ0JDLEVBQVdDLEVBQW9CcG9CLEVBQVk0ZixFQUFnQkgsR0FDdkYsSUFBSTRJLEVBQWtCakosRUFBQSxFQUFVK0ksR0FBVyxTQUFVckksR0FDakQsT0FrQ1IsU0FBc0NyQyxFQUFjbUMsR0FDaEQsSUFBSTBJLEVBQW1CLElBQUlDLEdBQzNCOUssRUFBYXJJLE9BQU9rVCxHQUNwQixJQUFJRSxFQUFxQkYsRUFBaUJHLGVBQ3RDQyxFQUFtQnRKLEVBQUEsRUFBY29KLEVBQW9CRyxJQUNyREMsRUFBYXhKLEVBQUEsRUFBV3NKLEdBQWtCLFNBQVVHLEdBQ3BELE9BQU9BLEVBQVVwMkIsT0FBUyxLQW1COUIsT0FqQmEyc0IsRUFBQSxFQUFVQSxFQUFBLEVBQWF3SixJQUFhLFNBQVVFLEdBQ3ZELElBQUlDLEVBQVkzSixFQUFBLEVBQVkwSixHQUN4Qjd2QixFQUFNMm1CLEVBQWVoQyx5QkFBeUJILEVBQWNxTCxHQUM1RDlLLEVBQVVuRSxHQUFxQmtQLEdBQy9CQyxFQUFXLENBQ1huckIsUUFBUzVFLEVBQ1RvRCxLQUFNMmpCLEdBQTBCaUosc0JBQ2hDek0sU0FBVWlCLEVBQWEzc0IsS0FDdkJrdEIsUUFBU0EsRUFDVFEsV0FBWXVLLEVBQVU1MUIsS0FFdEIrMUIsRUFBUSxHQUEyQkgsR0FJdkMsT0FISUcsSUFDQUYsRUFBU0csVUFBWUQsR0FFbEJGLEtBekRBSSxDQUE2QnRKLEVBQWNGLE1BRWxEeUosRUFBc0JqSyxFQUFBLEVBQVUrSSxHQUFXLFNBQVVtQixHQUNyRCxPQWlMRCxTQUFTQyxFQUF3QnBJLEVBQVM3QixFQUFVTSxFQUFnQnJVLFFBQzFELElBQVRBLElBQW1CQSxFQUFPLElBQzlCLElBQUkvRyxFQUFTLEdBQ1RnbEIsRUE0QkQsU0FBU0MsRUFBcUJ0VSxHQUNqQyxJQUFJbGlCLEVBQVMsR0FDYixHQUFJbXNCLEVBQUEsRUFBY2pLLEdBQ2QsT0FBT2xpQixFQUVYLElBQUk4MUIsRUFBWTNKLEVBQUEsRUFBWWpLLEdBRTVCLEdBQUk0VCxhQUFxQixHQUNyQjkxQixFQUFPSCxLQUFLaTJCLEVBQVV0VCxxQkFFckIsR0FBSXNULGFBQXFCLElBQzFCQSxhQUFxQixJQUNyQkEsYUFBcUIsSUFDckJBLGFBQXFCLElBQ3JCQSxhQUFxQixJQUNyQkEsYUFBcUIsR0FDckI5MUIsRUFBU0EsRUFBT1MsT0FBTysxQixFQUFxQlYsRUFBVTVULGtCQUVyRCxHQUFJNFQsYUFBcUIsR0FFMUI5MUIsRUFBU21zQixFQUFBLEVBQWNBLEVBQUEsRUFBVTJKLEVBQVU1VCxZQUFZLFNBQVV1VSxHQUM3RCxPQUFPRCxFQUFxQkMsRUFBV3ZVLHFCQUcxQyxLQUFJNFQsYUFBcUIsSUFJMUIsTUFBTTUwQixNQUFNLHdCQUVoQixJQUFJdzFCLEVBQWtCaFEsR0FBZW9QLEdBQ2pDYSxFQUFVelUsRUFBVzFpQixPQUFTLEVBQ2xDLEdBQUlrM0IsR0FBbUJDLEVBQVMsQ0FDNUIsSUFBSUMsRUFBT3pLLEVBQUEsRUFBV2pLLEdBQ3RCLE9BQU9saUIsRUFBT1MsT0FBTysxQixFQUFxQkksSUFHMUMsT0FBTzUyQixFQWpFWXcyQixDQUFxQm5LLEVBQVNuSyxZQUNyRCxHQUFJaUssRUFBQSxFQUFjb0ssR0FDZCxNQUFPLEdBR1AsSUFBSWhOLEVBQVcyRSxFQUFRcndCLEtBQ0VzdUIsRUFBQSxFQUFlb0ssRUFBa0JySSxJQUV0RDNjLEVBQU8xUixLQUFLLENBQ1IrSyxRQUFTK2hCLEVBQWVULHdCQUF3QixDQUM1QzFCLGFBQWMwRCxFQUNkOUIsa0JBQW1COVQsSUFFdkJsUCxLQUFNMmpCLEdBQTBCOEosZUFDaEN0TixTQUFVQSxJQUtsQixJQUFJdU4sRUFBaUIzSyxFQUFBLEVBQWlCb0ssRUFBa0JqZSxFQUFLN1gsT0FBTyxDQUFDeXRCLEtBQ2pFNkksRUFBc0I1SyxFQUFBLEVBQVUySyxHQUFnQixTQUFVRSxHQUMxRCxJQUFJdGUsRUFBVXlULEVBQUEsRUFBZTdULEdBRTdCLE9BREFJLEVBQVE3WSxLQUFLbTNCLEdBQ05WLEVBQXdCcEksRUFBUzhJLEVBQWFySyxFQUFnQmpVLE1BRXpFLE9BQU9uSCxFQUFPOVEsT0FBTzByQixFQUFBLEVBQWM0SyxJQTdNNUJULENBQXdCRCxFQUFhQSxFQUFhMUosTUFFekRzSyxFQUFpQixHQUNqQkMsRUFBc0IsR0FDdEJDLEVBQXdCLEdBR3hCLFlBQU1mLEVBQXFCLE9BQzNCYSxFQUFpQixZQUFJL0IsR0FBVyxTQUFVbUIsR0FDdEMsT0EyUEwsU0FBb0M3TCxFQUFjbUMsR0FDckQsSUFBSXlLLEVBQWMsSUFBSUMsR0FDdEI3TSxFQUFhckksT0FBT2lWLEdBQ3BCLElBQUlFLEVBQU1GLEVBQVlHLGFBd0J0QixPQXZCYXBMLEVBQUEsRUFBYW1MLEdBQUssU0FBVS9sQixFQUFRaW1CLEdBQzdDLElBQUlDLEVBQWF0TCxFQUFBLEVBQWdCcUwsRUFBT3RWLFlBQ3BDd1YsRUFBYXZMLEVBQUEsRUFBVXNMLEdBQVksU0FBVUUsRUFBaUJqRixHQUM5RCxJQUFJa0YsRUFBcUJ0SSxHQUF3QixDQUFDcUksR0FBa0IsR0FBSSxLQUFNLEdBQzlFLE9BQUl4TCxFQUFBLEVBQWN5TCxHQUNQLENBQ0hodEIsUUFBUytoQixFQUFlWiwyQkFBMkIsQ0FDL0N2QixhQUFjQSxFQUNkeEQsWUFBYXdRLEVBQ2J4TCxlQUFnQjBHLElBRXBCdHBCLEtBQU0yakIsR0FBMEI4SyxvQkFDaEN0TyxTQUFVaUIsRUFBYTNzQixLQUN2QjB0QixXQUFZaU0sRUFBT3QzQixJQUNuQnEwQixZQUFhN0IsRUFBYSxHQUl2QixRQUdmLE9BQU9uaEIsRUFBTzlRLE9BQU8wckIsRUFBQSxFQUFjdUwsTUFDcEMsSUFyUllJLENBQTJCekIsRUFBYTFKLE1BRW5EdUssRUFBc0IsWUFBSWhDLEdBQVcsU0FBVW1CLEdBQzNDLE9BcVJMLFNBQWtEN0wsRUFBYzJLLEVBQW9CeEksR0FDdkYsSUFBSXlLLEVBQWMsSUFBSUMsR0FDdEI3TSxFQUFhckksT0FBT2lWLEdBQ3BCLElBQUlFLEVBQU1GLEVBQVlHLGFBWXRCLE9BVEFELEVBQU0sWUFBT0EsR0FBSyxTQUFVRSxHQUFVLE9BQW9DLElBQTdCQSxFQUFPNVUscUJBQ3ZDdUosRUFBQSxFQUFhbUwsR0FBSyxTQUFVdDNCLEVBQVF3M0IsR0FDN0MsSUFBSU8sRUFBaUJQLEVBQU90M0IsSUFDeEI4M0IsRUFBcUJSLEVBQU9TLGNBQWdCOUMsRUFDNUNsRyxFQUFlK0UsR0FBdUIrRCxFQUFnQnZOLEVBQWN3TixFQUFvQlIsR0FDeEZVLEVBMkVaLFNBQXNDakosRUFBY2pJLEVBQWFrRSxFQUFNeUIsR0FDbkUsSUFBSXdMLEVBQXNCLEdBQ3RCQyxFQUF1QixZQUFPbkosR0FBYyxTQUFVanZCLEVBQVFtdkIsRUFBU3VELEdBRXZFLE9BQTZELElBQXpEMUwsRUFBWTlFLFdBQVd3USxHQUFZOVAsbUJBR3ZDLFlBQVF1TSxHQUFTLFNBQVVsRixHQUN2QixJQUFJb08sRUFBd0IsQ0FBQzNGLEdBQzdCLFlBQVF6RCxHQUFjLFNBQVVxSixFQUFjQyxHQUN0QzdGLElBQWU2RixHQUNmekUsR0FBYXdFLEVBQWNyTyxLQUVtQyxJQUE5RGpELEVBQVk5RSxXQUFXcVcsR0FBaUIzVixtQkFDeEN5VixFQUFzQng0QixLQUFLMDRCLE1BRy9CRixFQUFzQjc0QixPQUFTLElBQzlCczBCLEdBQWFxRSxFQUFxQmxPLEtBQ25Da08sRUFBb0J0NEIsS0FBS29xQixHQUN6QmpxQixFQUFPSCxLQUFLLENBQ1IyNEIsS0FBTUgsRUFDTi9mLEtBQU0yUixRQWpCUGpxQixJQXNCWixJQWlCSCxPQWhCaUJtc0IsRUFBQSxFQUFVaU0sR0FBc0IsU0FBVUssR0FDdkQsSUFBSUMsRUFBYyxZQUFJRCxFQUFrQkQsTUFBTSxTQUFVOUYsR0FBYyxPQUFPQSxFQUFhLEtBTzFGLE1BQU8sQ0FDSDluQixRQVBjK2hCLEVBQWVsQiwrQkFBK0IsQ0FDNURqQixhQUFjVSxFQUNkbEUsWUFBYUEsRUFDYndFLGlCQUFrQmtOLEVBQ2xCck4sV0FBWW9OLEVBQWtCbmdCLE9BSTlCbFAsS0FBTTJqQixHQUEwQjRMLGVBQ2hDcFAsU0FBVTJCLEVBQUtydEIsS0FDZjB0QixXQUFZdkUsRUFBWTltQixJQUN4Qit1QixhQUFjLENBQUN3SixFQUFrQkQsVUFwSFhJLENBQTZCM0osRUFBY3VJLEVBQVFoTixFQUFjbUMsR0FDdkZrTSxFQXdITCxTQUE0QzVKLEVBQWNqSSxFQUFha0UsRUFBTXlCLEdBQ2hGLElBQUlwYixFQUFTLEdBRVR1bkIsRUFBa0IsWUFBTzdKLEdBQWMsU0FBVWp2QixFQUFRbXZCLEVBQVNqdkIsR0FDbEUsSUFBSTY0QixFQUFrQixZQUFJNUosR0FBUyxTQUFVbEYsR0FDekMsTUFBTyxDQUFFL3BCLElBQUtBLEVBQUtvWSxLQUFNMlIsTUFFN0IsT0FBT2pxQixFQUFPUyxPQUFPczRCLEtBQ3RCLElBdUNILE9BdENBLFlBQVFELEdBQWlCLFNBQVVFLEdBRy9CLElBQTBDLElBRnBCaFMsRUFBWTlFLFdBQVc4VyxFQUFlOTRCLEtBRXhDMGlCLGtCQUFwQixDQUdBLElBQUlxVyxFQUFZRCxFQUFlOTRCLElBQzNCZzVCLEVBQWFGLEVBQWUxZ0IsS0FDNUI2Z0IsRUFBbUMsWUFBUUwsR0FBaUIsU0FBVU0sR0FFdEUsT0FHSSxJQURKcFMsRUFBWTlFLFdBQVdrWCxFQUFpQmw1QixLQUFLMGlCLG1CQUV6Q3dXLEVBQWlCbDVCLElBQU0rNEIsSURERkksRUNJQUQsRUFBaUI5Z0IsS0RKVGdoQixFQ0llSixFREhoREcsRUFBTzc1QixPQUFTODVCLEVBQU05NUIsUUFDMUIsWUFBTTY1QixHQUFRLFNBQVV6cEIsRUFBUzFQLEdBQzdCLElBQUlxNUIsRUFBZUQsRUFBTXA1QixHQUN6QixPQUFRMFAsSUFBWTJwQixHQUNoQkEsRUFBYW5pQixtQkFBbUJ4SCxFQUFRVixrQkFMakQsSUFBOEJtcUIsRUFBUUMsS0NNakNFLEVBQXVCLFlBQUlMLEdBQWtDLFNBQVVNLEdBQ3ZFLElBQUlmLEVBQWMsQ0FBQ2UsRUFBa0J2NUIsSUFBTSxFQUFHKzRCLEVBQVksR0FDdEQxTixFQUFpQyxJQUFwQnZFLEVBQVk5bUIsSUFBWSxHQUFLOG1CLEVBQVk5bUIsSUFPMUQsTUFBTyxDQUNIMEssUUFQVStoQixFQUFleEIscUNBQXFDLENBQzlEWCxhQUFjVSxFQUNkbEUsWUFBYUEsRUFDYndFLGlCQUFrQmtOLEVBQ2xCck4sV0FBWW9PLEVBQWtCbmhCLE9BSTlCbFAsS0FBTTJqQixHQUEwQjJNLHNCQUNoQ25RLFNBQVUyQixFQUFLcnRCLEtBQ2YwdEIsV0FBWUEsRUFDWjBELGFBQWN5SixNQUd0Qm5uQixFQUFTQSxFQUFPOVEsT0FBTys0QixPQUVwQmpvQixFQXZLNkJvb0IsQ0FBbUMxSyxFQUFjdUksRUFBUWhOLEVBQWNtQyxHQUN2RyxPQUFPM3NCLEVBQU9TLE9BQU95M0IsRUFBcUJXLEtBQzNDLElBblNZZSxDQUF5Q3ZELEVBQWFsQixFQUFvQnhJLE1BRXJGd0ssRUE4VUQsU0FBMkMwQyxFQUFlNUIsRUFBY3RMLEdBQzNFLElBQUlwYixFQUFTLEdBd0JiLE9BdkJBLFlBQVFzb0IsR0FBZSxTQUFVeEQsR0FDN0IsSUFBSWhCLEVBQW1CLElBQUl5RSxHQUMzQnpELEVBQVlsVSxPQUFPa1QsR0FDbkIsSUFBSUUsRUFBcUJGLEVBQWlCRyxlQUMxQyxZQUFRRCxHQUFvQixTQUFVd0UsR0FDbEMsSUFBSTVGLEVEaldULFNBQXFCOVIsR0FFeEIsR0FBSUEsYUFBZ0IsR0FDaEIsT0FBTzRPLEdBQVVPLE9BRWhCLEdBQUluUCxhQUFnQixHQUNyQixPQUFPNE8sR0FBVVUsV0FFaEIsR0FBSXRQLGFBQWdCLEdBQ3JCLE9BQU80TyxHQUFVUSxxQkFFaEIsR0FBSXBQLGFBQWdCLEdBQ3JCLE9BQU80TyxHQUFVUyxvQ0FFaEIsR0FBSXJQLGFBQWdCLEdBQ3JCLE9BQU80TyxHQUFVVywwQkFFaEIsR0FBSXZQLGFBQWdCLEdBQ3JCLE9BQU80TyxHQUFVZSxZQUdqQixNQUFNOXdCLE1BQU0sd0JDNFVPODRCLENBQVlELEdBQ3ZCL0IsRUFBcUIrQixFQUFTOUIsY0FBZ0JBLEVBRzlDZ0MsRUFEUS9GLEdBRFM2RixFQUFTNzVCLElBQytCbTJCLEVBQWFsQyxFQUFVNkQsR0FDbEQsR0FDbEMsR0FBSSxZQUFRLFlBQVFpQyxJQUF5QixDQUN6QyxJQUFJNWpCLEVBQVNzVyxFQUFlZiwwQkFBMEIsQ0FDbERwQixhQUFjNkwsRUFDZHBQLFdBQVk4UyxJQUVoQnhvQixFQUFPMVIsS0FBSyxDQUNSK0ssUUFBU3lMLEVBQ1RqTixLQUFNMmpCLEdBQTBCbU4sdUJBQ2hDM1EsU0FBVThNLEVBQVl4NEIsY0FLL0IwVCxFQXZXcUI0b0IsQ0FBa0NqRixFQUFXQyxFQUFvQnhJLElBRTdGLElBQUl5TixFQXNjUixTQUFnRGxGLEVBQVdub0IsRUFBWTRmLEdBQ25FLElBQUlwYixFQUFTLEdBQ1Q4b0IsRUFBYSxZQUFJdHRCLEdBQVksU0FBVXV0QixHQUFhLE9BQU9BLEVBQVV6OEIsUUFZekUsT0FYQSxZQUFRcTNCLEdBQVcsU0FBVTdJLEdBQ3pCLElBQUlrTyxFQUFlbE8sRUFBU3h1QixLQUM1QixHQUFJLFlBQVN3OEIsRUFBWUUsR0FBZSxDQUNwQyxJQUFJbGtCLEVBQVNzVyxFQUFlMUIsNEJBQTRCb0IsR0FDeEQ5YSxFQUFPMVIsS0FBSyxDQUNSK0ssUUFBU3lMLEVBQ1RqTixLQUFNMmpCLEdBQTBCeU4sZ0NBQ2hDalIsU0FBVWdSLFFBSWZocEIsRUFwZDRCa3BCLENBQXVDdkYsRUFBV25vQixFQUFZNGYsR0FDN0YrTixFQUFrQnZPLEVBQUEsRUFBVXBmLEdBQVksU0FBVTZELEdBQ2xELE9BMEdELFNBQTJCSCxFQUFXa2MsR0FDekMsSUFBSXBiLEVBQVMsR0FDS2QsRUFBVTVTLEtBQ1g4ZCxNQUFNZ2YsS0FDbkJwcEIsRUFBTzFSLEtBQUssQ0FDUitLLFFBQVMraEIsRUFBZWQsb0JBQW9CLENBQ3hDcGIsVUFBV0EsRUFDWHFiLGdCQUFpQjZPLEtBRXJCdnhCLEtBQU0yakIsR0FBMEI2TixxQkFHeEMsT0FBT3JwQixFQXRISXNwQixDQUFrQmpxQixFQUFhK2IsTUFFdENtTyxFQUFvQixZQUFJNUYsR0FBVyxTQUFVNkYsR0FDN0MsT0FtVEQsU0FBNkJ2USxFQUFjbUMsR0FDOUMsSUFBSXlLLEVBQWMsSUFBSUMsR0FDdEI3TSxFQUFhckksT0FBT2lWLEdBQ3BCLElBQUlFLEVBQU1GLEVBQVlHLGFBZXRCLE9BZGFwTCxFQUFBLEVBQWFtTCxHQUFLLFNBQVUvbEIsRUFBUWltQixHQVk3QyxPQVhJQSxFQUFPdFYsV0FBVzFpQixPQUFTLEtBQzNCK1IsRUFBTzFSLEtBQUssQ0FDUitLLFFBQVMraEIsRUFBZVYsOEJBQThCLENBQ2xEekIsYUFBY0EsRUFDZHhELFlBQWF3USxJQUVqQnB1QixLQUFNMmpCLEdBQTBCaU8sY0FDaEN6UixTQUFVaUIsRUFBYTNzQixLQUN2QjB0QixXQUFZaU0sRUFBT3QzQixNQUdwQnFSLElBQ1IsSUFwVVEwcEIsQ0FBb0JGLEVBQVNwTyxNQUVwQ3VPLEVBQWlCLFlBQUloRyxHQUFXLFNBQVU2RixHQUMxQyxPQW9GRCxTQUEwQjdQLEVBQU15QixHQUNuQyxJQUFJcGIsRUFBUyxHQUNUZ1ksRUFBVzJCLEVBQUtydEIsS0FDZjByQixFQUFTNU4sTUFBTWdmLEtBQ2hCcHBCLEVBQU8xUixLQUFLLENBQ1IrSyxRQUFTK2hCLEVBQWVMLDBCQUEwQixDQUM5QzlCLGFBQWNVLEVBQ2RZLGdCQUFpQjZPLEtBRXJCdnhCLEtBQU0yakIsR0FBMEJvTyxrQkFDaEM1UixTQUFVQSxJQUdsQixPQUFPaFksRUFqR0k2cEIsQ0FBaUJMLEVBQVNwTyxNQUVqQzBPLEVBQXNCLFlBQUluRyxHQUFXLFNBQVU2RixHQUMvQyxPQStHRCxTQUF5QzdQLEVBQU1vUSxFQUFVQyxFQUFXNU8sR0FDdkUsSUFBSXBiLEVBQVMsR0FPYixHQU5rQixZQUFPK3BCLEdBQVUsU0FBVXQ3QixFQUFRKzZCLEdBQ2pELE9BQUlBLEVBQVFsOUIsT0FBU3F0QixFQUFLcnRCLEtBQ2ZtQyxFQUFTLEVBRWJBLElBQ1IsR0FDZSxFQUFHLENBQ2pCLElBQUlxVyxFQUFTc1csRUFBZUosNEJBQTRCLENBQ3BEL0IsYUFBY1UsRUFDZHNCLFlBQWErTyxJQUVqQmhxQixFQUFPMVIsS0FBSyxDQUNSK0ssUUFBU3lMLEVBQ1RqTixLQUFNMmpCLEdBQTBCeU8sb0JBQ2hDalMsU0FBVTJCLEVBQUtydEIsT0FHdkIsT0FBTzBULEVBbElJa3FCLENBQWdDVixFQUFTN0YsRUFBVzFJLEVBQWFHLE1BRTVFLE9BQVFSLEVBQUEsRUFBY2lKLEVBQWdCMzBCLE9BQU9pNkIsRUFBaUJ2RCxFQUF1QmYsRUFBcUJhLEVBQWdCQyxFQUFxQmtELEVBQThCVSxFQUFtQkksRUFBZ0JHLElBNkI3TSxTQUFTM0YsR0FBZ0NyVCxHQUM1QyxPQUFPdUUsR0FBcUJ2RSxHQUFRLE1BQVFBLEVBQUtuaUIsSUFBTSxNQUFRLEdBQTJCbWlCLEdBRTlGLFNBQVMsR0FBMkJBLEdBQ2hDLE9BQUlBLGFBQWdCLEdBQ1RBLEVBQUtzQixhQUFhOWxCLEtBRXBCd2tCLGFBQWdCLEdBQ2RBLEVBQUtvQixnQkFHTCxHQUdmLElBQUk2UixHQUErQyxTQUFVeHBCLEdBRXpELFNBQVN3cEIsSUFDTCxJQUFJdHBCLEVBQW1CLE9BQVhGLEdBQW1CQSxFQUFPakksTUFBTStFLEtBQU1sRixZQUFja0YsS0FFaEUsT0FEQW9ELEVBQU13cEIsZUFBaUIsR0FDaEJ4cEIsRUEwQlgsT0E5QkEsR0FBVXNwQixFQUErQnhwQixHQU16Q3dwQixFQUE4QnAyQixVQUFVOG1CLGlCQUFtQixTQUFVc0IsR0FDakUxZSxLQUFLNHNCLGVBQWUzMUIsS0FBS3luQixJQUU3QmdPLEVBQThCcDJCLFVBQVVnbkIsWUFBYyxTQUFVYSxHQUM1RG5lLEtBQUs0c0IsZUFBZTMxQixLQUFLa25CLElBRTdCdU8sRUFBOEJwMkIsVUFBVW1uQiw2QkFBK0IsU0FBVWtCLEdBQzdFM2UsS0FBSzRzQixlQUFlMzFCLEtBQUswbkIsSUFFN0IrTixFQUE4QnAyQixVQUFVaW5CLHlCQUEyQixTQUFVcUIsR0FDekU1ZSxLQUFLNHNCLGVBQWUzMUIsS0FBSzJuQixJQUU3QjhOLEVBQThCcDJCLFVBQVVrbkIsc0NBQXdDLFNBQVVxQixHQUN0RjdlLEtBQUs0c0IsZUFBZTMxQixLQUFLNG5CLElBRTdCNk4sRUFBOEJwMkIsVUFBVW9uQixnQkFBa0IsU0FBVW9CLEdBQ2hFOWUsS0FBSzRzQixlQUFlMzFCLEtBQUs2bkIsSUFFN0I0TixFQUE4QnAyQixVQUFVcW5CLGlCQUFtQixTQUFVb0IsR0FDakUvZSxLQUFLNHNCLGVBQWUzMUIsS0FBSzhuQixJQUU3QjJOLEVBQThCcDJCLFVBQVVzbkIsY0FBZ0IsU0FBVTVCLEdBQzlEaGMsS0FBSzRzQixlQUFlMzFCLEtBQUsra0IsSUFFdEIwUSxFQS9CdUMsQ0FnQ2hELElBRVNxRixHQUFvQixpQkE4SS9CLElBQUl0RCxHQUE2QixTQUFVdnJCLEdBRXZDLFNBQVN1ckIsSUFDTCxJQUFJcnJCLEVBQW1CLE9BQVhGLEdBQW1CQSxFQUFPakksTUFBTStFLEtBQU1sRixZQUFja0YsS0FFaEUsT0FEQW9ELEVBQU11ckIsYUFBZSxHQUNkdnJCLEVBS1gsT0FUQSxHQUFVcXJCLEVBQWF2ckIsR0FNdkJ1ckIsRUFBWW40QixVQUFVcW5CLGlCQUFtQixTQUFVcmEsR0FDL0N0RCxLQUFLMnVCLGFBQWExM0IsS0FBS3FNLElBRXBCbXJCLEVBVnFCLENBVzlCLElBK0NGLElBQUl5QyxHQUFtQyxTQUFVaHVCLEdBRTdDLFNBQVNndUIsSUFDTCxJQUFJOXRCLEVBQW1CLE9BQVhGLEdBQW1CQSxFQUFPakksTUFBTStFLEtBQU1sRixZQUFja0YsS0FFaEUsT0FEQW9ELEVBQU13cEIsZUFBaUIsR0FDaEJ4cEIsRUFjWCxPQWxCQSxHQUFVOHRCLEVBQW1CaHVCLEdBTTdCZ3VCLEVBQWtCNTZCLFVBQVVtbkIsNkJBQStCLFNBQVVrQixHQUNqRTNlLEtBQUs0c0IsZUFBZTMxQixLQUFLMG5CLElBRTdCdVMsRUFBa0I1NkIsVUFBVWluQix5QkFBMkIsU0FBVXFCLEdBQzdENWUsS0FBSzRzQixlQUFlMzFCLEtBQUsybkIsSUFFN0JzUyxFQUFrQjU2QixVQUFVa25CLHNDQUF3QyxTQUFVcUIsR0FDMUU3ZSxLQUFLNHNCLGVBQWUzMUIsS0FBSzRuQixJQUU3QnFTLEVBQWtCNTZCLFVBQVVvbkIsZ0JBQWtCLFNBQVVvQixHQUNwRDllLEtBQUs0c0IsZUFBZTMxQixLQUFLNm5CLElBRXRCb1MsRUFuQjJCLENBb0JwQyxJQzNWSyxTQUFTLEdBQWU5c0IsR0FDM0JBLEVBQVUsWUFBU0EsRUFBUyxDQUN4QjJmLGVBQWdCckMsS0FFcEIsSUpPMkI0SyxFQUFXdkksRUFDbEMrTyxFSVJBQyxFQUFnQixHQUlwQixPQUhBLFlBQVEzdUIsRUFBUTR1QixPQUFPLFNBQVUxUSxHQUM3QnlRLEVBQWN6USxFQUFLcnRCLE1BQVFxdEIsS0pLSmdLLEVJSEZ5RyxFSkdhaFAsRUlIRTNmLEVBQVEyZixnQkpJNUMrTyxFQUFjLElBQUksR0FBdUJ4RyxFQUFXdkksSUFDNUNDLGNBQ0w4TyxFQUFZbnFCLE9JSmhCLFNBQVMsR0FBZ0J2RSxHQUk1QixPQUFPLElBSFBBLEVBQVUsWUFBU0EsRUFBUyxDQUN4QjJmLGVBQWdCakMsTUFFY2tSLE1BQU81dUIsRUFBUWlyQixhQUFjanJCLEVBQVFELFdBQVlDLEVBQVEyZixlQUFnQjNmLEVBQVF3ZixhQUVoSCxTQUFTcVAsR0FBd0I3dUIsR0FDcEMsWUFBUUEsRUFBUTR1QixPQUFPLFNBQVV2UCxHQUM3QixJQUFJeVAsRUFBbUIsSUFBSSxHQUMzQnpQLEVBQVNsSyxPQUFPMlosR0FDaEIsWUFBUUEsRUFBaUJoVixZQUFZLFNBQVVpVixHQUMzQyxZQUFRQSxHQUFTLFNBQVVDLEVBQVlDLEdBQ25DRCxFQUFXOTdCLElBQU0rN0IsRUFBUyxXQzFCMUMsSUFJSUMsR0FBOEIsQ0FKRCwyQkFDSCx1QkFDSCxxQkFDVSw4QkFTOUIsU0FBU0MsR0FBdUJqMkIsR0FFbkMsT0FBTyxZQUFTZzJCLEdBQTZCaDJCLEVBQU1ySSxNQUVoRCxTQUFTdStCLEdBQXlCeHhCLEVBQVMwTSxFQUFPK2tCLEdBQ3JEenpCLEtBQUsvSyxLQWpCd0IsMkJBa0I3QitLLEtBQUtnQyxRQUFVQSxFQUNmaEMsS0FBSzBPLE1BQVFBLEVBQ2IxTyxLQUFLeXpCLGNBQWdCQSxFQUNyQnp6QixLQUFLMHpCLGVBQWlCLEdBS25CLFNBQVNDLEdBQXFCM3hCLEVBQVMwTSxFQUFPK2tCLEdBQ2pEenpCLEtBQUsvSyxLQTFCcUIsdUJBMkIxQitLLEtBQUtnQyxRQUFVQSxFQUNmaEMsS0FBSzBPLE1BQVFBLEVBQ2IxTyxLQUFLeXpCLGNBQWdCQSxFQUNyQnp6QixLQUFLMHpCLGVBQWlCLEdBR25CLFNBQVNFLEdBQTJCNXhCLEVBQVMwTSxHQUNoRDFPLEtBQUsvSyxLQWhDNEIsNkJBaUNqQytLLEtBQUtnQyxRQUFVQSxFQUNmaEMsS0FBSzBPLE1BQVFBLEVBQ2IxTyxLQUFLMHpCLGVBQWlCLEdBR25CLFNBQVNHLEdBQW1CN3hCLEVBQVMwTSxFQUFPK2tCLEdBQy9DenpCLEtBQUsvSyxLQXhDa0IscUJBeUN2QitLLEtBQUtnQyxRQUFVQSxFQUNmaEMsS0FBSzBPLE1BQVFBLEVBQ2IxTyxLQUFLeXpCLGNBQWdCQSxFQUNyQnp6QixLQUFLMHpCLGVBQWlCLEdBcEMxQnQrQixPQUFPNmIsT0FBT3FpQixJQWVkRSxHQUF5Qmw5QixVQUFZZ0MsTUFBTWhDLFVBUTNDcTlCLEdBQXFCcjlCLFVBQVlnQyxNQUFNaEMsVUFPdkNzOUIsR0FBMkJ0OUIsVUFBWWdDLE1BQU1oQyxVQVE3Q3U5QixHQUFtQnY5QixVQUFZZ0MsTUFBTWhDLFVDNUM5QixJQUFJdzlCLEdBQWlCLEdBRXJCLFNBQVNDLEdBQXdCL3hCLEdBQ3BDaEMsS0FBSy9LLEtBRitCLDBCQUdwQytLLEtBQUtnQyxRQUFVQSxFQUVuQit4QixHQUF3Qno5QixVQUFZZ0MsTUFBTWhDLFVBSTFDLElBQUksR0FBNkIsV0FDN0IsU0FBUzA5QixLQWtQVCxPQWhQQUEsRUFBWTE5QixVQUFVMjlCLGdCQUFrQixTQUFVOWlCLEdBQzlDblIsS0FBS2swQixpQkFBbUIsR0FDeEJsMEIsS0FBS20wQixjQUFnQixHQUNyQm4wQixLQUFLbzBCLGdCQUFrQixZQUFJampCLEVBQVEsbUJBQzdCQSxFQUFPaWpCLGdCQUNQQyxHQUFzQkQsZ0JBSXhCcDBCLEtBQUtvMEIsa0JBQ0xwMEIsS0FBS3MwQiw0QkFBOEJBLEtBRzNDTixFQUFZMTlCLFVBQVVpK0IsaUJBQW1CLFNBQVV2dEIsR0FDL0MsSUFBSXd0QixFQUFjbGhCLEdBQW9CdE0sRUFBUyxHQUFJeXRCLElBQUtBLElBQUtBLElBQUtBLElBQUtBLElBQUtBLEtBRTVFLE9BREFELEVBQVlFLHNCQUF1QixFQUM1QkYsR0FFWFIsRUFBWTE5QixVQUFVcStCLGlDQUFtQyxTQUFVM3RCLEdBQy9ELE9BQU8sR0FFWGd0QixFQUFZMTlCLFVBQVVzK0Isd0JBQTBCLFNBQVVDLEVBQWFDLEVBQWlCQyxFQUFlQyxHQXdCbkcsSUF2QkEsSUFBSTV4QixFQUFRcEQsS0FFUmkxQixFQUFnQmoxQixLQUFLazFCLHNCQUNyQkMsRUFBa0JuMUIsS0FBS28xQixtQkFDdkIxQixFQUFpQixHQUNqQjJCLEdBQW9CLEVBQ3BCQyxFQUF5QnQxQixLQUFLdTFCLEdBQUcsR0FDakM3RCxFQUFZMXhCLEtBQUt1MUIsR0FBRyxHQUNwQkMsRUFBdUIsV0FDdkIsSUFBSS9CLEVBQWdCcndCLEVBQU1teUIsR0FBRyxHQVN6Qmo0QixFQUFRLElBQUlrMkIsR0FOTnB3QixFQUFNME4scUJBQXFCeVAsMEJBQTBCLENBQzNEQyxTQUFVd1UsRUFDVnZVLE9BQVE2VSxFQUNSNVUsU0FBVStTLEVBQ1Y5UyxTQUFVdmQsRUFBTXF5Qix3QkFFMEJILEVBQXdCbHlCLEVBQU1teUIsR0FBRyxJQUUvRWo0QixFQUFNbzJCLGVBQWlCLFlBQVVBLEdBQ2pDdHdCLEVBQU1zeUIsV0FBV3A0QixLQUViKzNCLEdBQW1CLENBRXZCLEdBQUlyMUIsS0FBSzIxQixhQUFhakUsRUFBV3NELEdBRTdCLFlBREFRLElBR0MsR0FBSVQsRUFBY2xnQyxLQUFLbUwsTUFLeEIsT0FIQXcxQixTQUVBWCxFQUFZNTVCLE1BQU0rRSxLQUFNODBCLEdBR25COTBCLEtBQUsyMUIsYUFBYWpFLEVBQVd1RCxHQUNsQ0ksR0FBb0IsR0FHcEIzRCxFQUFZMXhCLEtBQUs0MUIsYUFDakI1MUIsS0FBSzYxQixrQkFBa0JuRSxFQUFXZ0MsSUFNMUMxekIsS0FBSzgxQixpQkFBaUJYLElBRTFCbkIsRUFBWTE5QixVQUFVeS9CLGtDQUFvQyxTQUFVQyxFQUF5QkMsRUFBWUMsR0FHckcsT0FBaUIsSUFBYkEsU0FJNEJuK0IsSUFBNUJpK0IsUUFBd0RqK0IsSUFBZmsrQixLQUl6Q2oyQixLQUFLMjFCLGFBQWEzMUIsS0FBS3UxQixHQUFHLEdBQUlTLE1BSzlCaDJCLEtBQUttMkIsbUJBTUxuMkIsS0FBS28yQix5QkFBeUJKLEVBQXlCaDJCLEtBQUtxMkIsNEJBQTRCTCxFQUF5QkMsUUFNekhqQyxFQUFZMTlCLFVBQVUrL0IsNEJBQThCLFNBQVVydkIsRUFBU3N2QixHQUNuRSxJQUFJQyxFQUFjdjJCLEtBQUt3MkIsc0JBQXNCeHZCLEVBQVNzdkIsR0FFdEQsT0FEY3QyQixLQUFLeTJCLDBCQUEwQkYsSUFHakR2QyxFQUFZMTlCLFVBQVVvZ0Msa0JBQW9CLFNBQVUxQixFQUFpQmpWLEdBQ2pFLEdBQUkvZixLQUFLMjJCLG1DQUFtQzNCLEVBQWlCalYsR0FFekQsT0FEa0IvZixLQUFLdTBCLGlCQUFpQlMsR0FHNUMsR0FBSWgxQixLQUFLNDJCLGtDQUFrQzVCLEdBQWtCLENBQ3pELElBQUk2QixFQUFVNzJCLEtBQUs0MUIsYUFFbkIsT0FEQTUxQixLQUFLODJCLGVBQ0VELEVBRVgsTUFBTSxJQUFJOUMsR0FBd0Isa0JBRXRDQyxFQUFZMTlCLFVBQVU4L0IseUJBQTJCLFNBQVVXLEVBQWVoWCxHQUN0RSxPQUFRL2YsS0FBSzIyQixtQ0FBbUNJLEVBQWVoWCxJQUMzRC9mLEtBQUs0MkIsa0NBQWtDRyxJQUUvQy9DLEVBQVkxOUIsVUFBVXFnQyxtQ0FBcUMsU0FBVTNCLEVBQWlCalYsR0FDbEYsSUFBSTNjLEVBQVFwRCxLQUNaLElBQUtBLEtBQUsyMEIsaUNBQWlDSyxHQUN2QyxPQUFPLEVBR1gsR0FBSSxZQUFRalYsR0FDUixPQUFPLEVBRVgsSUFBSWlYLEVBQWdCaDNCLEtBQUt1MUIsR0FBRyxHQUk1QixZQURPeDlCLElBRndCLFlBQUtnb0IsR0FBUyxTQUFVa1gsR0FDbkQsT0FBTzd6QixFQUFNdXlCLGFBQWFxQixFQUFlQyxPQUlqRGpELEVBQVkxOUIsVUFBVXNnQyxrQ0FBb0MsU0FBVTVCLEdBRWhFLE9BRGdDaDFCLEtBQUsyMUIsYUFBYTMxQixLQUFLdTFCLEdBQUcsR0FBSVAsSUFHbEVoQixFQUFZMTlCLFVBQVU0Z0MseUJBQTJCLFNBQVU1d0IsR0FDdkQsSUFBSTZ3QixFQUFZbjNCLEtBQUtvM0IsbUJBQ2pCQyxFQUF1QnIzQixLQUFLczNCLDBCQUEwQkgsR0FDMUQsT0FBTyxZQUFTRSxFQUFzQi93QixJQUUxQzB0QixFQUFZMTlCLFVBQVU0K0Isb0JBQXNCLFdBS3hDLElBSkEsSUFBSXFDLEVBQTRCdjNCLEtBQUt3M0IsbUJBRWpDQyxFQUFZejNCLEtBQUt1MUIsR0FBRyxHQUNwQnBMLEVBQUksSUFDSyxDQUNULElBQUkxQyxFQUFnQmdRLEVBQVU1dkIsVUFDOUIsR0FBSSxZQUFTMHZCLEVBQTJCOVAsR0FDcEMsT0FBT0EsRUFFWGdRLEVBQVl6M0IsS0FBS3UxQixHQUFHcEwsR0FDcEJBLE1BR1I2SixFQUFZMTlCLFVBQVU4Z0MsaUJBQW1CLFdBRXJDLEdBQStCLElBQTNCcDNCLEtBQUswM0IsV0FBVzlnQyxPQUNoQixPQUFPazlCLEdBRVgsSUFBSTZELEVBQW9CMzNCLEtBQUs0M0IsK0JBQ3pCQyxFQUFjNzNCLEtBQUs4M0IscUNBQ25CQyxFQUFvQi8zQixLQUFLZzRCLG1DQUM3QixNQUFPLENBQ0hyWCxTQUFVM2dCLEtBQUtpNEIsd0JBQXdCTixHQUN2Q08saUJBQWtCTCxFQUNsQk0sT0FBUW40QixLQUFLaTRCLHdCQUF3QkYsS0FHN0MvRCxFQUFZMTlCLFVBQVU4aEMsd0JBQTBCLFdBQzVDLElBQUloMUIsRUFBUXBELEtBQ1JxNEIsRUFBb0JyNEIsS0FBSzAzQixXQUN6QlksRUFBMEJ0NEIsS0FBS3U0QixzQkFDbkMsT0FBTyxZQUFJRixHQUFtQixTQUFVMVgsRUFBVXJwQixHQUM5QyxPQUFZLElBQVJBLEVBQ093OEIsR0FFSixDQUNIblQsU0FBVXZkLEVBQU02MEIsd0JBQXdCdFgsR0FDeEN1WCxpQkFBa0JJLEVBQXdCaGhDLEdBQzFDNmdDLE9BQVEvMEIsRUFBTTYwQix3QkFBd0JJLEVBQWtCL2dDLEVBQU0sU0FJMUUwOEIsRUFBWTE5QixVQUFVa2hDLGlCQUFtQixXQUNyQyxJQUFJcDBCLEVBQVFwRCxLQUNSdzRCLEVBQWMsWUFBSXg0QixLQUFLbzRCLDJCQUEyQixTQUFVN2dDLEdBQzVELE9BQU82TCxFQUFNazBCLDBCQUEwQi8vQixNQUUzQyxPQUFPLFlBQVFpaEMsSUFFbkJ4RSxFQUFZMTlCLFVBQVVnaEMsMEJBQTRCLFNBQVVILEdBQ3hELEdBQUlBLElBQWNyRCxHQUNkLE1BQU8sQ0FBQzFhLEdBRVosSUFBSStHLEVBQWFnWCxFQUFVeFcsU0FBV3dXLEVBQVVlLGlCQUFtQnRZLEdBQUt1WCxFQUFVZ0IsT0FDbEYsT0FBT240QixLQUFLbTBCLGNBQWNoVSxJQUk5QjZULEVBQVkxOUIsVUFBVXUvQixrQkFBb0IsU0FBVW5uQixFQUFPK3BCLEdBSXZELE9BSEt6NEIsS0FBSzIxQixhQUFham5CLEVBQU8wSyxJQUMxQnFmLEVBQWF4aEMsS0FBS3lYLEdBRWYrcEIsR0FFWHpFLEVBQVkxOUIsVUFBVW9pQyxTQUFXLFNBQVUxeEIsR0FHdkMsSUFGQSxJQUFJMHNCLEVBQWlCLEdBQ2pCbUQsRUFBVTcyQixLQUFLdTFCLEdBQUcsSUFDeUIsSUFBeEN2MUIsS0FBSzIxQixhQUFha0IsRUFBUzd2QixJQUM5QjZ2QixFQUFVNzJCLEtBQUs0MUIsYUFDZjUxQixLQUFLNjFCLGtCQUFrQmdCLEVBQVNuRCxHQUdwQyxPQUFPLFlBQVVBLElBRXJCTSxFQUFZMTlCLFVBQVVnK0IsNEJBQThCLFNBQVVxRSxFQUFVdmdCLEVBQU13Z0IsRUFBZUMsRUFBY0MsRUFBZ0JDLEVBQWdCN0MsS0FJM0lsQyxFQUFZMTlCLFVBQVVrZ0Msc0JBQXdCLFNBQVV4dkIsRUFBU3N2QixHQVM3RCxNQU5rQixDQUNkclIsVUFIZ0JqbEIsS0FBS2c1Qiw0QkFJckI3VCxnQkFIc0IsWUFBU25sQixLQUFLdTRCLHVCQUlwQzlULFFBQVN6ZCxFQUNUMGQsa0JBQW1CNFIsSUFJM0J0QyxFQUFZMTlCLFVBQVUwaUMsMEJBQTRCLFdBQzlDLElBQUk1MUIsRUFBUXBELEtBQ1osT0FBTyxZQUFJQSxLQUFLMDNCLFlBQVksU0FBVXVCLEdBQ2xDLE9BQU83MUIsRUFBTTYwQix3QkFBd0JnQixPQUd0Q2pGLEVBblBxQixHQXNQekIsU0FBU00sR0FBNEJxRSxFQUFVdmdCLEVBQU13Z0IsRUFBZUMsRUFBY0MsRUFBZ0JDLEVBQWdCN0MsR0FDckgsSUFBSWpnQyxFQUFNK0osS0FBS2s1Qiw0QkFBNEJMLEVBQWNDLEdBQ3JESyxFQUFvQm41QixLQUFLazBCLGlCQUFpQmorQixHQUM5QyxRQUEwQjhCLElBQXRCb2hDLEVBQWlDLENBQ2pDLElBQUl4SCxFQUFlM3hCLEtBQUt5MUIsc0JBR3hCMEQsRUFEYSxJQUFJSixFQURDLzRCLEtBQUtvNUIscUJBQXFCekgsR0FDQ21ILEdBQ2xCOVksZUFDM0JoZ0IsS0FBS2swQixpQkFBaUJqK0IsR0FBT2tqQyxFQUVqQyxJQUFJbkQsRUFBMEJtRCxFQUFrQnpxQixNQUM1Q3VuQixFQUFha0QsRUFBa0J4VyxXQUMvQjRDLEVBQWM0VCxFQUFrQjVULFlBR0wsSUFBM0J2bEIsS0FBSzAzQixXQUFXOWdDLFFBQ2hCMnVCLFFBQzRCeHRCLElBQTVCaStCLElBQ0FBLEVBQTBCNWMsRUFDMUI2YyxFQUFhLEdBRWJqMkIsS0FBSysxQixrQ0FBa0NDLEVBQXlCQyxFQUFZQyxJQUk1RWwyQixLQUFLNDBCLHdCQUF3QitELEVBQVV2Z0IsRUFBTXdnQixFQUFlNUMsR0N2UTdELFNBQVNrRCxHQUE0QkcsRUFBU1IsRUFBY2xXLEdBRS9ELE9BQU9BLEVBQWFrVyxFQUFlUSxFQUd2QyxJQ3BCSSxHQUE0QixXQUM1QixTQUFTQyxLQTZGVCxPQTNGQUEsRUFBV2hqQyxVQUFVaWpDLGVBQWlCLFNBQVVwb0IsR0FDNUNuUixLQUFLdzVCLHFCQUF1QixZQUFJcm9CLEVBQVEsd0JBQ2xDQSxFQUFPcW9CLHFCQUNQbkYsR0FBc0JtRixxQkFDNUJ4NUIsS0FBS3F2QixhQUFlLFlBQUlsZSxFQUFRLGdCQUMxQkEsRUFBT2tlLGFBQ1BnRixHQUFzQmhGLGFBRTVCcnZCLEtBQUt5NUIsb0JBQXNCLGNBQXlCLElBQUkvN0IsSUFBUSxHQUk1RCxlQUNBc0MsS0FBSzA1QixtQkFBcUIxNUIsS0FBSzI1QixpQkFDL0IzNUIsS0FBSzQ1QixlQUFpQjU1QixLQUFLNjVCLHlCQUczQjc1QixLQUFLMDVCLG1CQUFxQjE1QixLQUFLODVCLGlCQUMvQjk1QixLQUFLNDVCLGVBQWlCNTVCLEtBQUsrNUIsb0JBR25DVCxFQUFXaGpDLFVBQVUwakMsNkJBQStCLFNBQVVoSCxHQUMxRCxJQUFJNXZCLEVBQVFwRCxLQUNaLFlBQVFnekIsR0FBTyxTQUFVdlAsR0FDckJyZ0IsRUFBTXlPLFdBQVc0UixFQUFTeHVCLEtBQU8sbUJBQW1CLFdBQ2hELElBQUltWCxFYnNIYixTQUF3QmtXLEdBQzNCLEdBQWlCN0QsUUFDakI2RCxFQUFLL0ksT0FBTyxJQUNaLElBQUkyRSxFQUFhLEdBQWlCQSxXQUdsQyxPQURBLEdBQWlCTyxRQUNWUCxFYTVIYytiLENBQWV4VyxHQUFXckYsRUFBY2hTLEVBQUdnUyxZQUFhQyxFQUFhalMsRUFBR2lTLFdBQVlGLEVBQVMvUixFQUFHK1IsT0FBUUksRUFBc0JuUyxFQUFHbVMsb0JBQXFCQyxFQUFtQ3BTLEVBQUdvUyxpQ0FBa0NGLEVBQTBCbFMsRUFBR2tTLHdCQUNwUSxZQUFRRixHQUFhLFNBQVUrUyxHQUMzQixJQUFJK0ksRUFBMkIsSUFBakIvSSxFQUFTNzVCLElBQVksR0FBSzY1QixFQUFTNzVCLElBQ2pEOEwsRUFBTXlPLFdBQVcsR0FBS21NLEdBQXFCbVQsR0FBWStJLEdBQVMsV0FDNUQsSU5ZZ0J2WCxFQUFZMEksRUFBYWdFLEVBQWM5VSxFQUFlaWYsRUFBc0JXLEVBQzVHak8sRU1ib0JrTyxHTllZelgsRU1acUJ3TyxFQUFTNzVCLElOWWxCK3pCLEVNWnVCNUgsRU5ZVjRMLEVNWm9COEIsRUFBUzlCLGNBQWdCanNCLEVBQU1pc0IsYU5ZckM5VSxFTVptRDRXLEVBQVM1VyxjTlk3Q2lmLEVNWjREcDJCLEVBQU1vMkIscUJOWTVDVyxFTVprRS8yQixFQUFNaTNCLGdDTmFwTG5PLEVBQWlCZCxHQUF1QnpJLEVBQVkwSSxFQUFhZ0UsR0FJOUQ4SyxFQUFjak8sRUFBZ0IzUixFQUhsQjBSLEdBQTBCQyxHQUN2Q3pkLEVBQ0FOLEVBQzREcXJCLElNaEIxQ3ZqQyxFQUFNaWpDLEdBQTRCOTFCLEVBQU1rM0Isb0JBQW9CN1csRUFBU3h1QixNRDFCN0UsSUMwQjRGazhCLEVBQVM3NUIsS0FDakc4TCxFQUFNdzJCLGVBQWUzakMsRUFBS21rQyxTQUdsQyxZQUFRL2IsR0FBWSxTQUFVOFMsR0FDMUIvdEIsRUFBTW0zQixxQkFBcUI5VyxFQUFVME4sRUFBUzc1QixJRDdCNUMsSUM2QjJEK3dCLEdBQVVVLFdBQVlvSSxFQUFTOUIsYUFBY3JSLEdBQXFCbVQsT0FFbkksWUFBUWhULEdBQVEsU0FBVWdULEdBQ3RCL3RCLEVBQU1tM0IscUJBQXFCOVcsRUFBVTBOLEVBQVM3NUIsSURqQzFDLElDaUMyRCt3QixHQUFVTyxPQUFRdUksRUFBUzlCLGFBQWNyUixHQUFxQm1ULE9BRWpJLFlBQVE1UyxHQUFxQixTQUFVNFMsR0FDbkMvdEIsRUFBTW0zQixxQkFBcUI5VyxFQUFVME4sRUFBUzc1QixJRGxDcEMsS0NrQzJEK3dCLEdBQVVRLHFCQUFzQnNJLEVBQVM5QixhQUFjclIsR0FBcUJtVCxPQUVySixZQUFRM1MsR0FBa0MsU0FBVTJTLEdBQ2hEL3RCLEVBQU1tM0IscUJBQXFCOVcsRUFBVTBOLEVBQVM3NUIsSURuQ2hDLEtDbUMyRCt3QixHQUFVUyxvQ0FBcUNxSSxFQUFTOUIsYUFBY3JSLEdBQXFCbVQsT0FFeEssWUFBUTdTLEdBQXlCLFNBQVU2UyxHQUN2Qy90QixFQUFNbTNCLHFCQUFxQjlXLEVBQVUwTixFQUFTNzVCLElEdkN4QyxLQ3VDMkQrd0IsR0FBVVcsMEJBQTJCbUksRUFBUzlCLGFBQWNyUixHQUFxQm1ULGNBS2xLbUksRUFBV2hqQyxVQUFVaWtDLHFCQUF1QixTQUFValksRUFBTXdXLEVBQWdCMEIsRUFBU2pQLEVBQVVrUCxFQUFrQkMsR0FDN0csSUFBSXQzQixFQUFRcEQsS0FDWkEsS0FBSzZSLFdBQVcsR0FBSzZvQixHQUFvQyxJQUFuQjVCLEVBQXVCLEdBQUtBLElBQWlCLFdBQy9FLElBQUlzQixFTktULFNBQTJDelgsRUFBWTBJLEVBQWFsQixFQUFHcVAsRUFBc0JqTyxFQUFVb1AsR0FDMUcsSUFBSXpPLEVBQWlCWixHQUFpQzNJLEVBQVkwSSxFQUFhRSxFQUFVcEIsR0FDckZ3TCxFQUFlMUosR0FBMEJDLEdBQ3ZDemQsRUFDQU4sRUFDTixPQUFPd3NCLEVBQWlCek8sRUFBZSxHQUFJeUosRUFBYzZELEdNVnBDb0IsQ0FBa0M5QixFQUFnQnhXLEVBQU1tWSxHQUFvQnIzQixFQUFNaXNCLGFBQWNqc0IsRUFBTW8yQixxQkFBc0JqTyxFQUFVbm9CLEVBQU15M0IsNkJBQ3JKNWtDLEVBQU1pakMsR0FBNEI5MUIsRUFBTWszQixvQkFBb0JoWSxFQUFLcnRCLE1BQU91bEMsRUFBUzFCLEdBQ3JGMTFCLEVBQU13MkIsZUFBZTNqQyxFQUFLbWtDLE9BR2xDZCxFQUFXaGpDLFVBQVV1a0MsNEJBQThCLFNBQVU5ZCxFQUFLNFksRUFBYzZELEdBQzVFLE9OaUhELFNBQWlEemMsRUFBSzRZLEVBQWM2RCxHQUN2RSxJQUFJc0IsRUFBMEIsWUFBTS9kLEdBQUssU0FBVXNFLEdBQy9DLE9BQTJCLElBQXBCQSxFQUFTenFCLFVBRWhCbWtDLEVBQWFoZSxFQUFJbm1CLE9BR3JCLEdBQUlra0MsSUFBNEJ0QixFQUFzQixDQUNsRCxJQUFJd0IsRUFBb0IsWUFBUWplLEdBQ2hDLEdBQWlDLElBQTdCaWUsRUFBa0Jwa0MsUUFDbEIsWUFBUW9rQyxFQUFrQixHQUFHMXJCLGlCQUFrQixDQUMvQyxJQUNJMnJCLEVBRG9CRCxFQUFrQixHQUNPMTBCLGFBQ2pELE9BQU8sV0FDSCxPQUFPdEcsS0FBS3UxQixHQUFHLEdBQUdqdkIsZUFBaUIyMEIsR0FJdkMsSUFBSUMsRUFBZ0IsWUFBT0YsR0FBbUIsU0FBVTVqQyxFQUFRNFEsRUFBYTFRLEdBS3pFLE9BSkFGLEVBQU80USxFQUFZMUIsZUFBZ0IsRUFDbkMsWUFBUTBCLEVBQVlzSCxpQkFBaUIsU0FBVTZyQixHQUMzQy9qQyxFQUFPK2pDLElBQXFCLEtBRXpCL2pDLElBQ1IsSUFDSCxPQUFPLFdBQ0gsSUFBSXFnQyxFQUFZejNCLEtBQUt1MUIsR0FBRyxHQUN4QixPQUFpRCxJQUExQzJGLEVBQWN6RCxFQUFVbnhCLGVBS3ZDLE9BQU8sV0FDSGloQixFQUFVLElBQUssSUFBSXByQixFQUFJLEVBQUdBLEVBQUk0K0IsRUFBWTUrQixJQUFLLENBRzNDLElBRkEsSUFBSWtsQixFQUFXdEUsRUFBSTVnQixHQUNmaS9CLEVBQWlCL1osRUFBU3pxQixPQUNyQmxDLEVBQUksRUFBR0EsRUFBSTBtQyxFQUFnQjFtQyxJQUFLLENBQ3JDLElBQUkraUMsRUFBWXozQixLQUFLdTFCLEdBQUc3Z0MsRUFBSSxHQUM1QixJQUE2QyxJQUF6Q2loQyxFQUFhOEIsRUFBV3BXLEVBQVMzc0IsSUFHakMsU0FBUzZ5QixFQUlqQixPQUFPLEVBR1gsT0FBTyxHTWpLSjhULENBQXdDdGUsRUFBSzRZLEVBQWM2RCxJQUV0RUYsRUFBV2hqQyxVQUFVK2pDLGdDQUFrQyxTQUFVekssRUFBTXJWLEVBQWVvYixFQUFjNkQsR0FDaEcsT05HRCxTQUF3QzVKLEVBQU1yVixFQUFlb2IsRUFBYzZELEdBQzlFLElBQUk4QixFQUFZMUwsRUFBS2g1QixPQUNqQmtrQyxFQUEwQixZQUFNbEwsR0FBTSxTQUFVckosR0FDaEQsT0FBTyxZQUFNQSxHQUFTLFNBQVVsRixHQUM1QixPQUEyQixJQUFwQkEsRUFBU3pxQixhQUl4QixHQUFJMmpCLEVBSUEsT0FBTyxTQUFVZ2hCLEdBS2IsSUFEQSxJQUFJQyxFQUFhLFlBQUlELEdBQVEsU0FBVWhWLEdBQVcsT0FBT0EsRUFBUWtWLFFBQ3hEN2xDLEVBQUksRUFBR0EsRUFBSTBsQyxFQUFXMWxDLElBQUssQ0FDaEMsSUFBSTJ3QixFQUFVcUosRUFBS2g2QixHQUNmOGxDLEVBQWlCblYsRUFBUTN2QixPQUN6QitrQyxFQUFnQkgsRUFBVzVsQyxHQUMvQixRQUFzQm1DLElBQWxCNGpDLElBQTRELElBQTdCQSxFQUFjOW1DLEtBQUttTCxNQUl0RHVuQixFQUFVLElBQUssSUFBSXByQixFQUFJLEVBQUdBLEVBQUl1L0IsRUFBZ0J2L0IsSUFBSyxDQUcvQyxJQUZBLElBQUlrbEIsRUFBV2tGLEVBQVFwcUIsR0FDbkJpL0IsRUFBaUIvWixFQUFTenFCLE9BQ3JCbEMsRUFBSSxFQUFHQSxFQUFJMG1DLEVBQWdCMW1DLElBQUssQ0FDckMsSUFBSStpQyxFQUFZejNCLEtBQUt1MUIsR0FBRzdnQyxFQUFJLEdBQzVCLElBQTZDLElBQXpDaWhDLEVBQWE4QixFQUFXcFcsRUFBUzNzQixJQUdqQyxTQUFTNnlCLEVBS2pCLE9BQU8zeEIsS0FTbEIsR0FBSWtsQyxJQUE0QnRCLEVBQXNCLENBR3ZELElBQUlvQyxFQUFrQixZQUFJaE0sR0FBTSxTQUFVckosR0FDdEMsT0FBTyxZQUFRQSxNQUVmc1YsRUFBZ0IsWUFBT0QsR0FBaUIsU0FBVXhrQyxFQUFRbXZCLEVBQVNqdkIsR0FXbkUsT0FWQSxZQUFRaXZCLEdBQVMsU0FBVXZlLEdBQ2xCLFlBQUk1USxFQUFRNFEsRUFBWTFCLGdCQUN6QmxQLEVBQU80USxFQUFZMUIsY0FBZ0JoUCxHQUV2QyxZQUFRMFEsRUFBWXNILGlCQUFpQixTQUFVNnJCLEdBQ3RDLFlBQUkvakMsRUFBUStqQyxLQUNiL2pDLEVBQU8rakMsR0FBcUI3akMsU0FJakNGLElBQ1IsSUFJSCxPQUFPLFdBQ0gsSUFBSXFnQyxFQUFZejNCLEtBQUt1MUIsR0FBRyxHQUN4QixPQUFPc0csRUFBY3BFLEVBQVVueEIsZUFTbkMsT0FBTyxXQUNILElBQUssSUFBSTFRLEVBQUksRUFBR0EsRUFBSTBsQyxFQUFXMWxDLElBQUssQ0FDaEMsSUFBSTJ3QixFQUFVcUosRUFBS2g2QixHQUNmOGxDLEVBQWlCblYsRUFBUTN2QixPQUM3QjJ3QixFQUFVLElBQUssSUFBSXByQixFQUFJLEVBQUdBLEVBQUl1L0IsRUFBZ0J2L0IsSUFBSyxDQUcvQyxJQUZBLElBQUlrbEIsRUFBV2tGLEVBQVFwcUIsR0FDbkJpL0IsRUFBaUIvWixFQUFTenFCLE9BQ3JCbEMsRUFBSSxFQUFHQSxFQUFJMG1DLEVBQWdCMW1DLElBQUssQ0FDckMsSUFBSStpQyxFQUFZejNCLEtBQUt1MUIsR0FBRzdnQyxFQUFJLEdBQzVCLElBQTZDLElBQXpDaWhDLEVBQWE4QixFQUFXcFcsRUFBUzNzQixJQUdqQyxTQUFTNnlCLEVBS2pCLE9BQU8zeEIsS01wR1prbUMsQ0FBK0JsTSxFQUFNclYsRUFBZW9iLEVBQWM2RCxJQUc3RUYsRUFBV2hqQyxVQUFVNGlDLDRCQUE4QixTQUFVTCxFQUFjbFcsR0FFdkUsT0FBT3VXLEdBRGlCbDVCLEtBQUs0M0IsK0JBQ3lCaUIsRUFBY2xXLElBR3hFMlcsRUFBV2hqQyxVQUFVb2pDLG1CQUFxQixTQUFVempDLEtBR3BEcWpDLEVBQVdoakMsVUFBVXFqQyxpQkFBbUIsU0FBVTFqQyxHQUM5QyxPQUFPK0osS0FBS3k1QixvQkFBb0Jsa0MsSUFBSVUsSUFHeENxakMsRUFBV2hqQyxVQUFVd2pDLGlCQUFtQixTQUFVN2pDLEdBQzlDLE9BQU8rSixLQUFLeTVCLG9CQUFvQnhqQyxJQUdwQ3FqQyxFQUFXaGpDLFVBQVVzakMsZUFBaUIsU0FBVTNqQyxFQUFLTixLQUNyRDJqQyxFQUFXaGpDLFVBQVV1akMsdUJBQXlCLFNBQVU1akMsRUFBS04sR0FDekRxSyxLQUFLeTVCLG9CQUFvQnI3QixJQUFJbkksRUFBS04sSUFHdEMyakMsRUFBV2hqQyxVQUFVeWpDLGtCQUFvQixTQUFVOWpDLEVBQUtOLEdBQ3BEcUssS0FBS3k1QixvQkFBb0J4akMsR0FBT04sR0FFN0IyakMsRUE5Rm9CLEdDRHhCLFNBQVN5QyxHQUEwQkMsRUFBa0JDLElBRVosSUFBeENDLE1BQU1GLEVBQWlCenJCLGNBSXZCeXJCLEVBQWlCenJCLFlBQWMwckIsRUFBZ0IxckIsWUFDL0N5ckIsRUFBaUIzakIsVUFBWTRqQixFQUFnQjVqQixXQU14QzJqQixFQUFpQjNqQixVQUFZNGpCLEVBQWdCNWpCLFlBQWMsSUFDaEUyakIsRUFBaUIzakIsVUFBWTRqQixFQUFnQjVqQixXQVU5QyxTQUFTOGpCLEdBQW9CSCxFQUFrQkMsSUFFTixJQUF4Q0MsTUFBTUYsRUFBaUJ6ckIsY0FJdkJ5ckIsRUFBaUJ6ckIsWUFBYzByQixFQUFnQjFyQixZQUMvQ3lyQixFQUFpQnhsQixZQUFjeWxCLEVBQWdCemxCLFlBQy9Dd2xCLEVBQWlCemxCLFVBQVkwbEIsRUFBZ0IxbEIsVUFDN0N5bEIsRUFBaUIzakIsVUFBWTRqQixFQUFnQjVqQixVQUM3QzJqQixFQUFpQjlqQixVQUFZK2pCLEVBQWdCL2pCLFVBQzdDOGpCLEVBQWlCL2pCLFFBQVVna0IsRUFBZ0Joa0IsU0FNdEMrakIsRUFBaUIzakIsVUFBWTRqQixFQUFnQjVqQixZQUFjLElBQ2hFMmpCLEVBQWlCM2pCLFVBQVk0akIsRUFBZ0I1akIsVUFDN0MyakIsRUFBaUI5akIsVUFBWStqQixFQUFnQi9qQixVQUM3QzhqQixFQUFpQi9qQixRQUFVZ2tCLEVBQWdCaGtCLFNDL0NuRCxJQ2dFV21rQixHRGhFUEMsR0FBbUIsNEJBR2hCLFNBQVNDLEdBQWEzaEMsR0FHekIsSUFBSTRoQyxFQUFtQjVoQyxFQUFLMUYsS0FDNUIsT0FBSXNuQyxHQUllNWhDLEVBQUs2RSxXQUFXdVQsTUFBTXNwQixJQUFrQixHQU14RCxTQUFTRyxHQUFlMWxDLEVBQUsybEMsR0FDaEMsSUFBSUMsRUFBcUJ0bkMsT0FBTytJLHlCQUF5QnJILEVBakJsRCxRQW1CUCxTQUFJLFlBQVk0bEMsS0FBdUJBLEVBQW1CN2lCLGdCQUN0RHprQixPQUFPQyxlQUFleUIsRUFwQm5CLE9Bb0I4QixDQUM3QnhCLFlBQVksRUFDWnVrQixjQUFjLEVBQ2Q4aUIsVUFBVSxFQUNWaG5DLE1BQU84bUMsS0FFSixHQzVCUixTQUFTRyxHQUFhQyxFQUFLeFAsR0FHOUIsSUFGQSxJQUFJeVAsRUFBZ0IsWUFBS0QsR0FDckJFLEVBQXNCRCxFQUFjbG1DLE9BQy9CbEMsRUFBSSxFQUFHQSxFQUFJcW9DLEVBQXFCcm9DLElBSXJDLElBSEEsSUFDSXNvQyxFQUFpQkgsRUFEREMsRUFBY3BvQyxJQUU5QnVvQyxFQUF1QkQsRUFBZXBtQyxPQUNqQ3VGLEVBQUksRUFBR0EsRUFBSThnQyxFQUFzQjlnQyxJQUFLLENBQzNDLElBQUkrZ0MsRUFBWUYsRUFBZTdnQyxRQUVBcEUsSUFBM0JtbEMsRUFBVTUyQixjQUNWdEcsS0FBS2s5QixFQUFVam9DLE1BQU1pb0MsRUFBVUMsU0FBVTlQLElBT2xELFNBQVMrUCxHQUFxQ3haLEVBQWF5WixHQUM5RCxJQUFJQyxFQUFxQixhQThCekIsT0ExQkFkLEdBQWVjLEVBQW9CMVosRUFBYyxrQkF1QmpEMFosRUFBbUJobkMsVUF0QkMsQ0FDaEJ3TixNQUFPLFNBQVV5NUIsRUFBU2xRLEdBUXRCLEdBTkksWUFBUWtRLEtBR1JBLEVBQVVBLEVBQVEsS0FHbEIsWUFBWUEsR0FHaEIsT0FBT3Y5QixLQUFLdTlCLEVBQVF0b0MsTUFBTXNvQyxFQUFRSixTQUFVOVAsSUFFaERtUSxnQkFBaUIsV0FDYixJQUFJQyxFQStCVCxTQUF5QkMsRUFBaUJMLEdBQzdDLElBQUlNLEVBSUQsU0FBbUNELEVBQWlCTCxHQUN2RCxJQUFJMTBCLEVBQVMsWUFBSTAwQixHQUFXLFNBQVUxTCxHQUNsQyxJQUFLLFlBQVcrTCxFQUFnQi9MLElBQzVCLE1BQU8sQ0FDSHYwQixJQUFLLDRCQUE4QnUwQixFQUFlLFFBQVUySyxHQUFhb0IsRUFBZ0J6OUIsYUFBZSxnQkFDeEdPLEtBQU00N0IsR0FBMEJ3QixlQUNoQ0MsV0FBWWxNLE1BSXhCLE9BQU8sWUFBUWhwQixHQWRLbTFCLENBQTBCSixFQUFpQkwsR0FDM0RVLEVBZ0JELFNBQWtDTCxFQUFpQkwsR0FDdEQsSUFBSTEwQixFQUFTLEdBQ2IsSUFBSyxJQUFJclAsS0FBUW9rQyxFQUNUM0wsR0FBa0Jqb0IsS0FBS3hRLElBQ3ZCLFlBQVdva0MsRUFBZ0Jwa0MsTUFDMUIsWUFBUzBrQyxHQUFrQjFrQyxLQUMzQixZQUFTK2pDLEVBQVcvakMsSUFDckJxUCxFQUFPMVIsS0FBSyxDQUNSbUcsSUFBSyw4QkFBZ0M5RCxFQUFPLFFBQVVnakMsR0FBYW9CLEVBQWdCejlCLGFBQTlFLDRKQUVpRjh4QixHQUFrQmhzQixPQUFTLEtBQ2pIdkYsS0FBTTQ3QixHQUEwQjZCLGlCQUNoQ0osV0FBWXZrQyxJQUl4QixPQUFPcVAsRUFoQ2V1MUIsQ0FBeUJSLEVBQWlCTCxHQUNoRSxPQUFPTSxFQUFjOWxDLE9BQU9rbUMsR0FsQ1dQLENBQWdCeDlCLEtBQU1xOUIsR0FDckQsSUFBSyxZQUFRSSxHQUEyQixDQUNwQyxJQUFJVSxFQUFnQixZQUFJVixHQUEwQixTQUFVVyxHQUFnQixPQUFPQSxFQUFhaGhDLE9BQ2hHLE1BQU05RSxNQUFNLG1DQUFxQ2drQyxHQUFhdDhCLEtBQUtDLGFBQWUsU0FBaUJrK0IsRUFBY2h6QixLQUFLLFFBQVEvRSxRQUFRLE1BQU8sYUFLNUhuRyxZQUFjcTlCLEVBQzNDQSxFQUFtQmUsWUFBY2hCLEVBQzFCQyxHQWlCWCxTQUFXbEIsR0FDUEEsRUFBMEJBLEVBQTRDLGlCQUFJLEdBQUssbUJBQy9FQSxFQUEwQkEsRUFBMEMsZUFBSSxHQUFLLGlCQUZqRixDQUdHQSxLQUE4QkEsR0FBNEIsS0FrQjdELElBQUk0QixHQUFtQixDQUFDLGNBQWUsUUFBUyxtQkNuRmhELElBQUksR0FBNkIsV0FDN0IsU0FBU00sS0FtTFQsT0FqTEFBLEVBQVlob0MsVUFBVWlvQyxnQkFBa0IsU0FBVXB0QixHQU85QyxHQU5BblIsS0FBS3crQixVQUFZLEdBRWpCeCtCLEtBQUt5K0IsVUFBWXR0QixFQUFPc3RCLFVBQ3hCeitCLEtBQUswK0IscUJBQXVCLFlBQUl2dEIsRUFBUSx3QkFDbENBLEVBQU91dEIscUJBQ1BySyxHQUFzQnFLLHFCQUN2QjErQixLQUFLeStCLFVBUU4sR0FBSSxRQUFRMzBCLEtBQUs5SixLQUFLMCtCLHNCQUNkMStCLEtBQUtvMEIsaUJBQ0xwMEIsS0FBSzIrQix5QkFBMkJ4QyxHQUNoQ244QixLQUFLNCtCLHdCQUEwQnpDLEdBQy9CbjhCLEtBQUs2K0IsWUFBYyxJQUNuQjcrQixLQUFLOCtCLHVCQUF5QjkrQixLQUFLKytCLHFDQUduQy8rQixLQUFLMitCLHlCQUEyQixJQUNoQzMrQixLQUFLNCtCLHdCQUEwQixJQUMvQjUrQixLQUFLNitCLFlBQWM3K0IsS0FBS2cvQixnQkFDeEJoL0IsS0FBSzgrQix1QkFBeUI5K0IsS0FBS2kvQix3Q0FHdEMsR0FBSSxjQUFjbjFCLEtBQUs5SixLQUFLMCtCLHNCQUN6QjErQixLQUFLbzBCLGlCQUNMcDBCLEtBQUsyK0IseUJBQTJCNUMsR0FDaEMvN0IsS0FBSzQrQix3QkFBMEI3QyxHQUMvQi83QixLQUFLNitCLFlBQWMsSUFDbkI3K0IsS0FBSzgrQix1QkFBeUI5K0IsS0FBS2svQiwyQ0FHbkNsL0IsS0FBSzIrQix5QkFBMkIsSUFDaEMzK0IsS0FBSzQrQix3QkFBMEIsSUFDL0I1K0IsS0FBSzYrQixZQUFjNytCLEtBQUttL0Isc0JBQ3hCbi9CLEtBQUs4K0IsdUJBQXlCOStCLEtBQUtvL0IsNkNBR3RDLEtBQUksUUFBUXQxQixLQUFLOUosS0FBSzArQixzQkFPdkIsTUFBTXBtQyxNQUFNLGtEQUFxRDZZLEVBQU91dEIscUJBQXVCLEtBTi9GMStCLEtBQUsyK0IseUJBQTJCLElBQ2hDMytCLEtBQUs0K0Isd0JBQTBCLElBQy9CNStCLEtBQUs2K0IsWUFBYyxJQUNuQjcrQixLQUFLOCtCLHVCQUF5QixTQXZDbEM5K0IsS0FBS3EvQix5QkFBMkIsSUFDaENyL0IsS0FBS3MvQixzQkFBd0IsSUFDN0J0L0IsS0FBS3UvQixnQkFBa0IsSUFDdkJ2L0IsS0FBS3cvQixtQkFBcUIsSUFDMUJ4L0IsS0FBSzYrQixZQUFjLEtBMEMzQlAsRUFBWWhvQyxVQUFVNG9DLHlDQUEyQyxTQUFVM0IsR0FDdkVBLEVBQVFrQyxTQUFXLENBQ2ZsdkIsWUFBYWtrQixJQUNicGMsVUFBV29jLE1BR25CNkosRUFBWWhvQyxVQUFVOG9DLHdDQUEwQyxTQUFVN0IsR0FDdEVBLEVBQVFrQyxTQUFXLENBS2ZsdkIsWUFBYXZRLEtBQUt1MUIsR0FBRyxHQUFHaGxCLFlBQ3hCOEgsVUFBV29jLE1BR25CNkosRUFBWWhvQyxVQUFVeW9DLG1DQUFxQyxTQUFVeEIsR0FDakVBLEVBQVFrQyxTQUFXLENBQ2ZsdkIsWUFBYWtrQixJQUNibGUsVUFBV2tlLElBQ1hqZSxZQUFhaWUsSUFDYnBjLFVBQVdvYyxJQUNYeGMsUUFBU3djLElBQ1R2YyxVQUFXdWMsTUFRbkI2SixFQUFZaG9DLFVBQVUyb0Msa0NBQW9DLFNBQVUxQixHQUNoRSxJQUFJOUYsRUFBWXozQixLQUFLdTFCLEdBQUcsR0FDeEJnSSxFQUFRa0MsU0FBVyxDQUNmbHZCLFlBQWFrbkIsRUFBVWxuQixZQUN2QmdHLFVBQVdraEIsRUFBVWxoQixVQUNyQkMsWUFBYWloQixFQUFVamhCLFlBQ3ZCNkIsVUFBV29jLElBQ1h4YyxRQUFTd2MsSUFDVHZjLFVBQVd1YyxNQUduQjZKLEVBQVlob0MsVUFBVStvQyx5QkFBMkIsU0FBVUssRUFBY0MsR0FDckUsSUFBSXBDLEVBQVUsQ0FDVnRvQyxLQUFNeXFDLEVBQ052QyxTQUFVLElBRWRuOUIsS0FBSzgrQix1QkFBdUJ2QixHQUM1QnY5QixLQUFLdytCLFVBQVV2bkMsS0FBS3NtQyxJQUV4QmUsRUFBWWhvQyxVQUFVZ3BDLHNCQUF3QixXQUMxQ3QvQixLQUFLdytCLFVBQVU1MkIsT0FFbkIwMkIsRUFBWWhvQyxVQUFVMG9DLGdCQUFrQixTQUFVWSxHQUM5QyxJQUFJQyxFQUFZNy9CLEtBQUt1MUIsR0FBRyxHQUNwQnVLLEVBQU1GLEVBQVlILFNBR2xCSyxFQUFJdnZCLGFBQWVzdkIsRUFBVXR2QixjQUFnQixHQUM3Q3V2QixFQUFJem5CLFVBQVl3bkIsRUFBVXhuQixVQUMxQnluQixFQUFJN25CLFFBQVU0bkIsRUFBVTVuQixRQUN4QjZuQixFQUFJNW5CLFVBQVkybkIsRUFBVTNuQixZQUkxQjRuQixFQUFJdnZCLFlBQWNra0IsSUFDbEJxTCxFQUFJdnBCLFVBQVlrZSxJQUNoQnFMLEVBQUl0cEIsWUFBY2llLE1BRzFCNkosRUFBWWhvQyxVQUFVNm9DLHNCQUF3QixTQUFVUyxHQUNwRCxJQUFJQyxFQUFZNy9CLEtBQUt1MUIsR0FBRyxHQUNwQnVLLEVBQU1GLEVBQVlILFNBR2xCSyxFQUFJdnZCLGFBQWVzdkIsRUFBVXR2QixjQUFnQixFQUM3Q3V2QixFQUFJem5CLFVBQVl3bkIsRUFBVXhuQixVQUkxQnluQixFQUFJdnZCLFlBQWNra0IsS0FHMUI2SixFQUFZaG9DLFVBQVVpcEMsZ0JBQWtCLFNBQVV0cEMsRUFBSzhwQyxHQUNuRCxJSDlGeUJ6OEIsRUFBTW9MLEVBQU9zeEIsRUc4RmxDQyxFQUFVamdDLEtBQUt3K0IsVUFBVXgrQixLQUFLdytCLFVBQVU1bkMsT0FBUyxHSDlGdEI4WCxFRytGTHF4QixFSC9GWUMsRUcrRkcvcEMsT0g5RlI4QixLQURSdUwsRUcrRlIyOEIsR0g5Rlo5QyxTQUFTNkMsR0FDZDE4QixFQUFLNjVCLFNBQVM2QyxHQUFpQixDQUFDdHhCLEdBR2hDcEwsRUFBSzY1QixTQUFTNkMsR0FBZS9vQyxLQUFLeVgsR0c0RmxDMU8sS0FBSzIrQix5QkFBeUJzQixFQUFRUixTQUFVTSxJQUVwRHpCLEVBQVlob0MsVUFBVWtwQyxtQkFBcUIsU0FBVVUsRUFBZXZmLEdBQ2hFLElBQUl3ZixFQUFhbmdDLEtBQUt3K0IsVUFBVXgrQixLQUFLdytCLFVBQVU1bkMsT0FBUyxJSDVGekQsU0FBOEIwTSxFQUFNcWQsRUFBVXlmLFFBQ2pCcm9DLElBQTVCdUwsRUFBSzY1QixTQUFTeGMsR0FDZHJkLEVBQUs2NUIsU0FBU3hjLEdBQVksQ0FBQ3lmLEdBRzNCOThCLEVBQUs2NUIsU0FBU3hjLEdBQVUxcEIsS0FBS21wQyxHR3dGN0JDLENBQXFCRixFQUFZeGYsRUFBVXVmLEdBRTNDbGdDLEtBQUs0K0Isd0JBQXdCdUIsRUFBV1YsU0FBVVMsRUFBY1QsV0FFcEVuQixFQUFZaG9DLFVBQVVncUMsNkJBQStCLFdBQ2pELEdBQUksWUFBWXRnQyxLQUFLdWdDLDJCQUE0QixDQUM3QyxJQUFJQyxFQUErQnBELEdBQXFDcDlCLEtBQUsyeUIsVUFBVyxZQUFLM3lCLEtBQUt5Z0MsdUJBRWxHLE9BREF6Z0MsS0FBS3VnQywwQkFBNEJDLEVBQzFCQSxFQUVYLE9BQU94Z0MsS0FBS3VnQywyQkFFaEJqQyxFQUFZaG9DLFVBQVVvcUMseUNBQTJDLFdBQzdELEdBQUksWUFBWTFnQyxLQUFLMmdDLHVDQUF3QyxDQUN6RCxJQUFJQyxFRG5IVCxTQUFrRGhkLEVBQWF5WixFQUFXd0QsR0FDN0UsSUFBSXZELEVBQXFCLGFBSXpCZCxHQUFlYyxFQUFvQjFaLEVBQWMsNkJBQ2pELElBQUlrZCxFQUFvQjFyQyxPQUFPWSxPQUFPNnFDLEVBQWdCdnFDLFdBTXRELE9BTEEsWUFBUSttQyxHQUFXLFNBQVUxYyxHQUN6Qm1nQixFQUFrQm5nQixHQUFZaWMsT0FFbENVLEVBQW1CaG5DLFVBQVl3cUMsR0FDRjdnQyxZQUFjcTlCLEVBQ3BDQSxFQ3VHc0J5RCxDQUF5Qy9nQyxLQUFLMnlCLFVBQVcsWUFBSzN5QixLQUFLeWdDLHNCQUF1QnpnQyxLQUFLc2dDLGdDQUVwSCxPQURBdGdDLEtBQUsyZ0Msc0NBQXdDQyxFQUN0Q0EsRUFFWCxPQUFPNWdDLEtBQUsyZ0MsdUNBRWhCckMsRUFBWWhvQyxVQUFVc2hDLDZCQUErQixXQUNqRCxJQUFJM1MsRUFBWWpsQixLQUFLMDNCLFdBQ3JCLE9BQU96UyxFQUFVQSxFQUFVcnVCLE9BQVMsSUFFeEMwbkMsRUFBWWhvQyxVQUFVMGhDLGlDQUFtQyxXQUNyRCxJQUFJL1MsRUFBWWpsQixLQUFLMDNCLFdBQ3JCLE9BQU96UyxFQUFVQSxFQUFVcnVCLE9BQVMsSUFFeEMwbkMsRUFBWWhvQyxVQUFVd2hDLG1DQUFxQyxXQUN2RCxJQUFJM1MsRUFBa0JubEIsS0FBS3U0QixzQkFDM0IsT0FBT3BULEVBQWdCQSxFQUFnQnZ1QixPQUFTLElBRTdDMG5DLEVBcExxQixHQ0M1QixHQUE4QixXQUM5QixTQUFTMEMsS0E2RFQsT0EzREFBLEVBQWExcUMsVUFBVTJxQyxpQkFBbUIsV0FDdENqaEMsS0FBS2toQyxVQUFZLEdBQ2pCbGhDLEtBQUttaEMsZ0JBQWtCLEVBQ3ZCbmhDLEtBQUtzUyxTQUFXLEdBRXBCbGQsT0FBT0MsZUFBZTJyQyxFQUFhMXFDLFVBQVcsUUFBUyxDQUNuRGYsSUFBSyxXQUNELE9BQU95SyxLQUFLa2hDLFdBRWhCOWlDLElBQUssU0FBVWdqQyxHQUNYLElBQThCLElBQTFCcGhDLEtBQUtxaEMsaUJBQ0wsTUFBTS9vQyxNQUFNLG9GQUVoQjBILEtBQUt5ZSxRQUNMemUsS0FBS2toQyxVQUFZRSxFQUNqQnBoQyxLQUFLbWhDLGdCQUFrQkMsRUFBU3hxQyxRQUVwQ3RCLFlBQVksRUFDWnVrQixjQUFjLElBR2xCbW5CLEVBQWExcUMsVUFBVXMvQixXQUFhLFdBQ2hDLE9BQUk1MUIsS0FBS3NTLFNBQVd0UyxLQUFLa2hDLFVBQVV0cUMsT0FBUyxHQUN4Q29KLEtBQUs4MkIsZUFDRTkyQixLQUFLdTFCLEdBQUcsSUFHUitMLElBS2ZOLEVBQWExcUMsVUFBVWkvQixHQUFLLFNBQVV6OEIsR0FDbEMsSUFBSXlvQyxFQUFZdmhDLEtBQUtzUyxRQUFVeFosRUFDL0IsT0FBSXlvQyxFQUFZLEdBQUt2aEMsS0FBS21oQyxpQkFBbUJJLEVBQ2xDRCxHQUdBdGhDLEtBQUtraEMsVUFBVUssSUFHOUJQLEVBQWExcUMsVUFBVXdnQyxhQUFlLFdBQ2xDOTJCLEtBQUtzUyxXQUVUMHVCLEVBQWExcUMsVUFBVTgrQixpQkFBbUIsV0FDdEMsT0FBT3AxQixLQUFLc1MsU0FFaEIwdUIsRUFBYTFxQyxVQUFVdy9CLGlCQUFtQixTQUFVMEwsR0FDaER4aEMsS0FBS3NTLFFBQVVrdkIsR0FFbkJSLEVBQWExcUMsVUFBVW1yQyxnQkFBa0IsV0FDckN6aEMsS0FBS3NTLFNBQVcsR0FFcEIwdUIsRUFBYTFxQyxVQUFVb3JDLHNCQUF3QixXQUMzQzFoQyxLQUFLc1MsUUFBVXRTLEtBQUtraEMsVUFBVXRxQyxPQUFTLEdBRTNDb3FDLEVBQWExcUMsVUFBVXFyQyxpQkFBbUIsV0FDdEMsT0FBTzNoQyxLQUFLbzFCLG9CQUVUNEwsRUE5RHNCLEdDTTdCLEdBQStCLFdBQy9CLFNBQVNZLEtBa1VULE9BaFVBQSxFQUFjdHJDLFVBQVV1ckMsT0FBUyxTQUFVQyxHQUN2QyxPQUFPQSxFQUFLanRDLEtBQUttTCxPQUVyQjRoQyxFQUFjdHJDLFVBQVV5ckMsUUFBVSxTQUFVenFDLEVBQUswUCxFQUFTNUMsR0FDdEQsT0FBT3BFLEtBQUtnaUMsZ0JBQWdCaDdCLEVBQVMxUCxFQUFLOE0sSUFFOUN3OUIsRUFBY3RyQyxVQUFVb29CLFFBQVUsU0FBVXBuQixFQUFLMnFDLEVBQVk3OUIsR0FDekQsT0FBT3BFLEtBQUtraUMsZ0JBQWdCRCxFQUFZM3FDLEVBQUs4TSxJQUVqRHc5QixFQUFjdHJDLFVBQVU2bkIsT0FBUyxTQUFVN21CLEVBQUs2cUMsR0FDNUMsT0FBT25pQyxLQUFLb2lDLGVBQWVELEVBQW1CN3FDLElBRWxEc3FDLEVBQWN0ckMsVUFBVXlvQixHQUFLLFNBQVV6bkIsRUFBSytxQyxHQUN4QyxPQUFPcmlDLEtBQUtzaUMsV0FBV0QsRUFBWS9xQyxJQUV2Q3NxQyxFQUFjdHJDLFVBQVV3b0IsS0FBTyxTQUFVeG5CLEVBQUs2cUMsR0FDMUMsT0FBT25pQyxLQUFLdWlDLGFBQWFqckMsRUFBSzZxQyxJQUVsQ1AsRUFBY3RyQyxVQUFVc29CLFdBQWEsU0FBVXRuQixFQUFLNnFDLEdBQ2hELE9BQU9uaUMsS0FBS3dpQyxtQkFBbUJsckMsRUFBSzZxQyxJQUV4Q1AsRUFBY3RyQyxVQUFVbXNDLFFBQVUsU0FBVXo3QixFQUFTNUMsR0FDakQsT0FBT3BFLEtBQUtnaUMsZ0JBQWdCaDdCLEVBQVMsRUFBRzVDLElBRTVDdzlCLEVBQWN0ckMsVUFBVW9zQyxTQUFXLFNBQVUxN0IsRUFBUzVDLEdBQ2xELE9BQU9wRSxLQUFLZ2lDLGdCQUFnQmg3QixFQUFTLEVBQUc1QyxJQUU1Q3c5QixFQUFjdHJDLFVBQVVxc0MsU0FBVyxTQUFVMzdCLEVBQVM1QyxHQUNsRCxPQUFPcEUsS0FBS2dpQyxnQkFBZ0JoN0IsRUFBUyxFQUFHNUMsSUFFNUN3OUIsRUFBY3RyQyxVQUFVc3NDLFNBQVcsU0FBVTU3QixFQUFTNUMsR0FDbEQsT0FBT3BFLEtBQUtnaUMsZ0JBQWdCaDdCLEVBQVMsRUFBRzVDLElBRTVDdzlCLEVBQWN0ckMsVUFBVXVzQyxTQUFXLFNBQVU3N0IsRUFBUzVDLEdBQ2xELE9BQU9wRSxLQUFLZ2lDLGdCQUFnQmg3QixFQUFTLEVBQUc1QyxJQUU1Q3c5QixFQUFjdHJDLFVBQVV3c0MsU0FBVyxTQUFVOTdCLEVBQVM1QyxHQUNsRCxPQUFPcEUsS0FBS2dpQyxnQkFBZ0JoN0IsRUFBUyxFQUFHNUMsSUFFNUN3OUIsRUFBY3RyQyxVQUFVeXNDLFNBQVcsU0FBVS83QixFQUFTNUMsR0FDbEQsT0FBT3BFLEtBQUtnaUMsZ0JBQWdCaDdCLEVBQVMsRUFBRzVDLElBRTVDdzlCLEVBQWN0ckMsVUFBVTBzQyxTQUFXLFNBQVVoOEIsRUFBUzVDLEdBQ2xELE9BQU9wRSxLQUFLZ2lDLGdCQUFnQmg3QixFQUFTLEVBQUc1QyxJQUU1Q3c5QixFQUFjdHJDLFVBQVUyc0MsU0FBVyxTQUFVajhCLEVBQVM1QyxHQUNsRCxPQUFPcEUsS0FBS2dpQyxnQkFBZ0JoN0IsRUFBUyxFQUFHNUMsSUFFNUN3OUIsRUFBY3RyQyxVQUFVNHNDLFNBQVcsU0FBVWw4QixFQUFTNUMsR0FDbEQsT0FBT3BFLEtBQUtnaUMsZ0JBQWdCaDdCLEVBQVMsRUFBRzVDLElBRTVDdzlCLEVBQWN0ckMsVUFBVTZzQyxRQUFVLFNBQVVsQixFQUFZNzlCLEdBQ3BELE9BQU9wRSxLQUFLa2lDLGdCQUFnQkQsRUFBWSxFQUFHNzlCLElBRS9DdzlCLEVBQWN0ckMsVUFBVThzQyxTQUFXLFNBQVVuQixFQUFZNzlCLEdBQ3JELE9BQU9wRSxLQUFLa2lDLGdCQUFnQkQsRUFBWSxFQUFHNzlCLElBRS9DdzlCLEVBQWN0ckMsVUFBVStzQyxTQUFXLFNBQVVwQixFQUFZNzlCLEdBQ3JELE9BQU9wRSxLQUFLa2lDLGdCQUFnQkQsRUFBWSxFQUFHNzlCLElBRS9DdzlCLEVBQWN0ckMsVUFBVWd0QyxTQUFXLFNBQVVyQixFQUFZNzlCLEdBQ3JELE9BQU9wRSxLQUFLa2lDLGdCQUFnQkQsRUFBWSxFQUFHNzlCLElBRS9DdzlCLEVBQWN0ckMsVUFBVWl0QyxTQUFXLFNBQVV0QixFQUFZNzlCLEdBQ3JELE9BQU9wRSxLQUFLa2lDLGdCQUFnQkQsRUFBWSxFQUFHNzlCLElBRS9DdzlCLEVBQWN0ckMsVUFBVWt0QyxTQUFXLFNBQVV2QixFQUFZNzlCLEdBQ3JELE9BQU9wRSxLQUFLa2lDLGdCQUFnQkQsRUFBWSxFQUFHNzlCLElBRS9DdzlCLEVBQWN0ckMsVUFBVW10QyxTQUFXLFNBQVV4QixFQUFZNzlCLEdBQ3JELE9BQU9wRSxLQUFLa2lDLGdCQUFnQkQsRUFBWSxFQUFHNzlCLElBRS9DdzlCLEVBQWN0ckMsVUFBVW90QyxTQUFXLFNBQVV6QixFQUFZNzlCLEdBQ3JELE9BQU9wRSxLQUFLa2lDLGdCQUFnQkQsRUFBWSxFQUFHNzlCLElBRS9DdzlCLEVBQWN0ckMsVUFBVXF0QyxTQUFXLFNBQVUxQixFQUFZNzlCLEdBQ3JELE9BQU9wRSxLQUFLa2lDLGdCQUFnQkQsRUFBWSxFQUFHNzlCLElBRS9DdzlCLEVBQWN0ckMsVUFBVXN0QyxTQUFXLFNBQVUzQixFQUFZNzlCLEdBQ3JELE9BQU9wRSxLQUFLa2lDLGdCQUFnQkQsRUFBWSxFQUFHNzlCLElBRS9DdzlCLEVBQWN0ckMsVUFBVXN5QixPQUFTLFNBQVV1WixHQUN2QyxPQUFPbmlDLEtBQUtvaUMsZUFBZUQsRUFBbUIsSUFFbERQLEVBQWN0ckMsVUFBVXV0QyxRQUFVLFNBQVUxQixHQUN4QyxPQUFPbmlDLEtBQUtvaUMsZUFBZUQsRUFBbUIsSUFFbERQLEVBQWN0ckMsVUFBVXd0QyxRQUFVLFNBQVUzQixHQUN4QyxPQUFPbmlDLEtBQUtvaUMsZUFBZUQsRUFBbUIsSUFFbERQLEVBQWN0ckMsVUFBVXl0QyxRQUFVLFNBQVU1QixHQUN4QyxPQUFPbmlDLEtBQUtvaUMsZUFBZUQsRUFBbUIsSUFFbERQLEVBQWN0ckMsVUFBVTB0QyxRQUFVLFNBQVU3QixHQUN4QyxPQUFPbmlDLEtBQUtvaUMsZUFBZUQsRUFBbUIsSUFFbERQLEVBQWN0ckMsVUFBVTJ0QyxRQUFVLFNBQVU5QixHQUN4QyxPQUFPbmlDLEtBQUtvaUMsZUFBZUQsRUFBbUIsSUFFbERQLEVBQWN0ckMsVUFBVTR0QyxRQUFVLFNBQVUvQixHQUN4QyxPQUFPbmlDLEtBQUtvaUMsZUFBZUQsRUFBbUIsSUFFbERQLEVBQWN0ckMsVUFBVTZ0QyxRQUFVLFNBQVVoQyxHQUN4QyxPQUFPbmlDLEtBQUtvaUMsZUFBZUQsRUFBbUIsSUFFbERQLEVBQWN0ckMsVUFBVTh0QyxRQUFVLFNBQVVqQyxHQUN4QyxPQUFPbmlDLEtBQUtvaUMsZUFBZUQsRUFBbUIsSUFFbERQLEVBQWN0ckMsVUFBVSt0QyxRQUFVLFNBQVVsQyxHQUN4QyxPQUFPbmlDLEtBQUtvaUMsZUFBZUQsRUFBbUIsSUFFbERQLEVBQWN0ckMsVUFBVWd1QyxHQUFLLFNBQVVqQyxHQUNuQyxPQUFPcmlDLEtBQUtzaUMsV0FBV0QsRUFBWSxJQUV2Q1QsRUFBY3RyQyxVQUFVaXVDLElBQU0sU0FBVWxDLEdBQ3BDLE9BQU9yaUMsS0FBS3NpQyxXQUFXRCxFQUFZLElBRXZDVCxFQUFjdHJDLFVBQVVrdUMsSUFBTSxTQUFVbkMsR0FDcEMsT0FBT3JpQyxLQUFLc2lDLFdBQVdELEVBQVksSUFFdkNULEVBQWN0ckMsVUFBVW11QyxJQUFNLFNBQVVwQyxHQUNwQyxPQUFPcmlDLEtBQUtzaUMsV0FBV0QsRUFBWSxJQUV2Q1QsRUFBY3RyQyxVQUFVb3VDLElBQU0sU0FBVXJDLEdBQ3BDLE9BQU9yaUMsS0FBS3NpQyxXQUFXRCxFQUFZLElBRXZDVCxFQUFjdHJDLFVBQVVxdUMsSUFBTSxTQUFVdEMsR0FDcEMsT0FBT3JpQyxLQUFLc2lDLFdBQVdELEVBQVksSUFFdkNULEVBQWN0ckMsVUFBVXN1QyxJQUFNLFNBQVV2QyxHQUNwQyxPQUFPcmlDLEtBQUtzaUMsV0FBV0QsRUFBWSxJQUV2Q1QsRUFBY3RyQyxVQUFVdXVDLElBQU0sU0FBVXhDLEdBQ3BDLE9BQU9yaUMsS0FBS3NpQyxXQUFXRCxFQUFZLElBRXZDVCxFQUFjdHJDLFVBQVV3dUMsSUFBTSxTQUFVekMsR0FDcEMsT0FBT3JpQyxLQUFLc2lDLFdBQVdELEVBQVksSUFFdkNULEVBQWN0ckMsVUFBVXl1QyxJQUFNLFNBQVUxQyxHQUNwQyxPQUFPcmlDLEtBQUtzaUMsV0FBV0QsRUFBWSxJQUV2Q1QsRUFBY3RyQyxVQUFVMHVDLEtBQU8sU0FBVTdDLEdBQ3JDbmlDLEtBQUt1aUMsYUFBYSxFQUFHSixJQUV6QlAsRUFBY3RyQyxVQUFVMnVDLE1BQVEsU0FBVTlDLEdBQ3RDbmlDLEtBQUt1aUMsYUFBYSxFQUFHSixJQUV6QlAsRUFBY3RyQyxVQUFVNHVDLE1BQVEsU0FBVS9DLEdBQ3RDbmlDLEtBQUt1aUMsYUFBYSxFQUFHSixJQUV6QlAsRUFBY3RyQyxVQUFVNnVDLE1BQVEsU0FBVWhELEdBQ3RDbmlDLEtBQUt1aUMsYUFBYSxFQUFHSixJQUV6QlAsRUFBY3RyQyxVQUFVOHVDLE1BQVEsU0FBVWpELEdBQ3RDbmlDLEtBQUt1aUMsYUFBYSxFQUFHSixJQUV6QlAsRUFBY3RyQyxVQUFVK3VDLE1BQVEsU0FBVWxELEdBQ3RDbmlDLEtBQUt1aUMsYUFBYSxFQUFHSixJQUV6QlAsRUFBY3RyQyxVQUFVZ3ZDLE1BQVEsU0FBVW5ELEdBQ3RDbmlDLEtBQUt1aUMsYUFBYSxFQUFHSixJQUV6QlAsRUFBY3RyQyxVQUFVaXZDLE1BQVEsU0FBVXBELEdBQ3RDbmlDLEtBQUt1aUMsYUFBYSxFQUFHSixJQUV6QlAsRUFBY3RyQyxVQUFVa3ZDLE1BQVEsU0FBVXJELEdBQ3RDbmlDLEtBQUt1aUMsYUFBYSxFQUFHSixJQUV6QlAsRUFBY3RyQyxVQUFVbXZDLE1BQVEsU0FBVXRELEdBQ3RDbmlDLEtBQUt1aUMsYUFBYSxFQUFHSixJQUV6QlAsRUFBY3RyQyxVQUFVb3ZDLFNBQVcsU0FBVXRoQyxHQUN6Q3BFLEtBQUsybEMscUJBQXFCLEVBQUd2aEMsSUFFakN3OUIsRUFBY3RyQyxVQUFVc3ZDLFVBQVksU0FBVXhoQyxHQUMxQ3BFLEtBQUsybEMscUJBQXFCLEVBQUd2aEMsSUFFakN3OUIsRUFBY3RyQyxVQUFVdXZDLFVBQVksU0FBVXpoQyxHQUMxQ3BFLEtBQUsybEMscUJBQXFCLEVBQUd2aEMsSUFFakN3OUIsRUFBY3RyQyxVQUFVd3ZDLFVBQVksU0FBVTFoQyxHQUMxQ3BFLEtBQUsybEMscUJBQXFCLEVBQUd2aEMsSUFFakN3OUIsRUFBY3RyQyxVQUFVeXZDLFVBQVksU0FBVTNoQyxHQUMxQ3BFLEtBQUsybEMscUJBQXFCLEVBQUd2aEMsSUFFakN3OUIsRUFBY3RyQyxVQUFVMHZDLFVBQVksU0FBVTVoQyxHQUMxQ3BFLEtBQUsybEMscUJBQXFCLEVBQUd2aEMsSUFFakN3OUIsRUFBY3RyQyxVQUFVMnZDLFVBQVksU0FBVTdoQyxHQUMxQ3BFLEtBQUsybEMscUJBQXFCLEVBQUd2aEMsSUFFakN3OUIsRUFBY3RyQyxVQUFVNHZDLFVBQVksU0FBVTloQyxHQUMxQ3BFLEtBQUsybEMscUJBQXFCLEVBQUd2aEMsSUFFakN3OUIsRUFBY3RyQyxVQUFVNnZDLFVBQVksU0FBVS9oQyxHQUMxQ3BFLEtBQUsybEMscUJBQXFCLEVBQUd2aEMsSUFFakN3OUIsRUFBY3RyQyxVQUFVOHZDLFVBQVksU0FBVWhpQyxHQUMxQ3BFLEtBQUsybEMscUJBQXFCLEVBQUd2aEMsSUFFakN3OUIsRUFBY3RyQyxVQUFVK3ZDLGFBQWUsU0FBVWxFLEdBQzdDbmlDLEtBQUt3aUMsbUJBQW1CLEVBQUdMLElBRS9CUCxFQUFjdHJDLFVBQVVnd0MsY0FBZ0IsU0FBVW5FLEdBQzlDLE9BQU9uaUMsS0FBS3dpQyxtQkFBbUIsRUFBR0wsSUFFdENQLEVBQWN0ckMsVUFBVWl3QyxjQUFnQixTQUFVcEUsR0FDOUNuaUMsS0FBS3dpQyxtQkFBbUIsRUFBR0wsSUFFL0JQLEVBQWN0ckMsVUFBVWt3QyxjQUFnQixTQUFVckUsR0FDOUNuaUMsS0FBS3dpQyxtQkFBbUIsRUFBR0wsSUFFL0JQLEVBQWN0ckMsVUFBVW13QyxjQUFnQixTQUFVdEUsR0FDOUNuaUMsS0FBS3dpQyxtQkFBbUIsRUFBR0wsSUFFL0JQLEVBQWN0ckMsVUFBVW93QyxjQUFnQixTQUFVdkUsR0FDOUNuaUMsS0FBS3dpQyxtQkFBbUIsRUFBR0wsSUFFL0JQLEVBQWN0ckMsVUFBVXF3QyxjQUFnQixTQUFVeEUsR0FDOUNuaUMsS0FBS3dpQyxtQkFBbUIsRUFBR0wsSUFFL0JQLEVBQWN0ckMsVUFBVXN3QyxjQUFnQixTQUFVekUsR0FDOUNuaUMsS0FBS3dpQyxtQkFBbUIsRUFBR0wsSUFFL0JQLEVBQWN0ckMsVUFBVXV3QyxjQUFnQixTQUFVMUUsR0FDOUNuaUMsS0FBS3dpQyxtQkFBbUIsRUFBR0wsSUFFL0JQLEVBQWN0ckMsVUFBVXd3QyxjQUFnQixTQUFVM0UsR0FDOUNuaUMsS0FBS3dpQyxtQkFBbUIsRUFBR0wsSUFFL0JQLEVBQWN0ckMsVUFBVXl3QyxpQkFBbUIsU0FBVTNpQyxHQUNqRHBFLEtBQUtnbkMsMkJBQTJCLEVBQUc1aUMsSUFFdkN3OUIsRUFBY3RyQyxVQUFVMndDLGtCQUFvQixTQUFVN2lDLEdBQ2xEcEUsS0FBS2duQywyQkFBMkIsRUFBRzVpQyxJQUV2Q3c5QixFQUFjdHJDLFVBQVU0d0Msa0JBQW9CLFNBQVU5aUMsR0FDbERwRSxLQUFLZ25DLDJCQUEyQixFQUFHNWlDLElBRXZDdzlCLEVBQWN0ckMsVUFBVTZ3QyxrQkFBb0IsU0FBVS9pQyxHQUNsRHBFLEtBQUtnbkMsMkJBQTJCLEVBQUc1aUMsSUFFdkN3OUIsRUFBY3RyQyxVQUFVOHdDLGtCQUFvQixTQUFVaGpDLEdBQ2xEcEUsS0FBS2duQywyQkFBMkIsRUFBRzVpQyxJQUV2Q3c5QixFQUFjdHJDLFVBQVUrd0Msa0JBQW9CLFNBQVVqakMsR0FDbERwRSxLQUFLZ25DLDJCQUEyQixFQUFHNWlDLElBRXZDdzlCLEVBQWN0ckMsVUFBVWd4QyxrQkFBb0IsU0FBVWxqQyxHQUNsRHBFLEtBQUtnbkMsMkJBQTJCLEVBQUc1aUMsSUFFdkN3OUIsRUFBY3RyQyxVQUFVaXhDLGtCQUFvQixTQUFVbmpDLEdBQ2xEcEUsS0FBS2duQywyQkFBMkIsRUFBRzVpQyxJQUV2Q3c5QixFQUFjdHJDLFVBQVVreEMsa0JBQW9CLFNBQVVwakMsR0FDbERwRSxLQUFLZ25DLDJCQUEyQixFQUFHNWlDLElBRXZDdzlCLEVBQWN0ckMsVUFBVW14QyxrQkFBb0IsU0FBVXJqQyxHQUNsRHBFLEtBQUtnbkMsMkJBQTJCLEVBQUc1aUMsSUFFdkN3OUIsRUFBY3RyQyxVQUFVb3hDLEtBQU8sU0FBVXp5QyxFQUFNMHlDLEVBQWdCeDJCLEdBRTNELFFBRGUsSUFBWEEsSUFBcUJBLEVBQVN5MkIsSUFDOUIsWUFBUzVuQyxLQUFLNm5DLGtCQUFtQjV5QyxHQUFPLENBQ3hDLElBSUlxSSxFQUFRLENBQ1IwRSxRQUxTOGYsR0FBcUM2Qiw0QkFBNEIsQ0FDMUUvQixhQUFjM3NCLEVBQ2QydUIsWUFBYTVqQixLQUFLMnlCLFlBSWxCbnlCLEtBQU0yakIsR0FBMEJ5TyxvQkFDaENqUyxTQUFVMXJCLEdBRWQrSyxLQUFLOG5DLGlCQUFpQjd3QyxLQUFLcUcsR0FFL0IwQyxLQUFLNm5DLGtCQUFrQjV3QyxLQUFLaEMsR0FDNUIsSUFBSTh5QyxFQUFxQi9uQyxLQUFLZ29DLFdBQVcveUMsRUFBTTB5QyxFQUFnQngyQixHQUUvRCxPQURBblIsS0FBSy9LLEdBQVE4eUMsRUFDTkEsR0FFWG5HLEVBQWN0ckMsVUFBVTJ4QyxjQUFnQixTQUFVaHpDLEVBQU02c0MsRUFBTTN3QixRQUMzQyxJQUFYQSxJQUFxQkEsRUFBU3kyQixJQUNsQyxJWC9HaUNqbkIsRUFBVWtuQixFQUFtQmxWLEVBRTlEbGxCLEVBREE5RSxFVzhHSXUvQixFQUFhLEdBQ2pCQSxFQUFhQSxFQUFXcndDLFFYaEhTOG9CLEVXZ0h1QjFyQixFWGhIYjR5QyxFV2dIbUI3bkMsS0FBSzZuQyxrQlhoSExsVixFV2dId0IzeUIsS0FBSzJ5QixVWC9HM0ZocUIsRUFBUyxHQUVSNGEsRUFBQSxFQUFlc2tCLEVBQW1CbG5CLEtBQ25DbFQsRUFDSSxrQ0FBb0NrVCxFQUFXLDZDQUErQ2dTLEVBQTlGLHVEQUVKaHFCLEVBQU8xUixLQUFLLENBQ1IrSyxRQUFTeUwsRUFDVGpOLEtBQU0yakIsR0FBMEJna0Isc0JBQ2hDeG5CLFNBQVVBLEtBR1hoWSxJV29HSDNJLEtBQUs4bkMsaUJBQWlCN3dDLEtBQUtnRSxNQUFNK0UsS0FBSzhuQyxpQkFBa0JJLEdBQ3hELElBQUlILEVBQXFCL25DLEtBQUtnb0MsV0FBVy95QyxFQUFNNnNDLEVBQU0zd0IsR0FFckQsT0FEQW5SLEtBQUsvSyxHQUFROHlDLEVBQ05BLEdBRVhuRyxFQUFjdHJDLFVBQVU4eEMsVUFBWSxTQUFVdlQsRUFBYXpjLEdBQ3ZELE9BQU8sV0FFSHBZLEtBQUtxb0Msb0JBQW9CcHhDLEtBQUssR0FDOUIsSUFBSXF4QyxFQUFXdG9DLEtBQUt1b0MsaUJBQ3BCLElBR0ksT0FGQTFULEVBQVk1NUIsTUFBTStFLEtBQU1vWSxJQUVqQixFQUVYLE1BQU9yVyxHQUNILEdBQUl3eEIsR0FBdUJ4eEIsR0FDdkIsT0FBTyxFQUdQLE1BQU1BLEVBR2QsUUFDSS9CLEtBQUt3b0MsaUJBQWlCRixHQUN0QnRvQyxLQUFLcW9DLG9CQUFvQnpnQyxTQUtyQ2c2QixFQUFjdHJDLFVBQVU4aUMsbUJBQXFCLFdBQ3pDLE9BQU9wNUIsS0FBS3lnQyxzQkFFaEJtQixFQUFjdHJDLFVBQVVteUMsNkJBQStCLFdBQ25ELE9BQU9odUIsR0FBaUIsWUFBT3phLEtBQUt5Z0Msd0JBRWpDbUIsRUFuVXVCLEdDQTlCLEdBQWtDLFdBQ2xDLFNBQVM4RyxLQWloQlQsT0EvZ0JBQSxFQUFpQnB5QyxVQUFVcXlDLHFCQUF1QixTQUFVQyxFQUFpQnozQixHQWF6RSxHQVpBblIsS0FBSzJ5QixVTGhCRjJKLEdLZ0JvQ3Q4QixLTGhCZEMsYUtrQnpCRCxLQUFLNm9DLG9CQUFzQixHQUMzQjdvQyxLQUFLczZCLG9CQUFzQixHQUMzQnQ2QixLQUFLOG9DLGlCQUFtQixJQUN4QjlvQyxLQUFLMjFCLGFBQWVsbkIsRUFDcEJ6TyxLQUFLNm5DLGtCQUFvQixHQUN6QjduQyxLQUFLK29DLFVBQVksR0FDakIvb0MsS0FBS3FvQyxvQkFBc0IsR0FDM0Jyb0MsS0FBSzAzQixXQUFhLEdBQ2xCMTNCLEtBQUt1NEIsc0JBQXdCLEdBQzdCdjRCLEtBQUt5Z0MscUJBQXVCLEdBQ3hCLFlBQUl0dkIsRUFBUSxxQkFDWixNQUFNN1ksTUFBTSwrTEFJaEIsR0FBSSxZQUFRc3dDLEdBQWtCLENBSTFCLEdBQUksWUFBUUEsR0FDUixNQUFNdHdDLE1BQU0sK0lBSWhCLEdBQThDLGlCQUFuQ3N3QyxFQUFnQixHQUFHcjRCLFlBQzFCLE1BQU1qWSxNQUFNLDZMQUtwQixHQUFJLFlBQVFzd0MsR0FDUjVvQyxLQUFLK29DLFVBQVksWUFBT0gsR0FBaUIsU0FBVXZoQyxFQUFLTCxHQUVwRCxPQURBSyxFQUFJTCxFQUFRL1IsTUFBUStSLEVBQ2JLLElBQ1IsU0FFRixHQUFJLFlBQUl1aEMsRUFBaUIsVUFDMUIsWUFBTSxZQUFRLFlBQU9BLEVBQWdCNTdCLFFBQVNpRCxHQUFjLENBQzVELElBQUlsRCxFQUFnQixZQUFRLFlBQU82N0IsRUFBZ0I1N0IsUUFDL0NnOEIsRUFBZSxZQUFLajhCLEdBQ3hCL00sS0FBSytvQyxVQUFZLFlBQU9DLEdBQWMsU0FBVTNoQyxFQUFLTCxHQUVqRCxPQURBSyxFQUFJTCxFQUFRL1IsTUFBUStSLEVBQ2JLLElBQ1IsUUFFRixLQUFJLFlBQVN1aEMsR0FJZCxNQUFNLElBQUl0d0MsTUFBTSwwSUFIaEIwSCxLQUFLK29DLFVBQVksWUFBU0gsR0FTOUI1b0MsS0FBSytvQyxVQUFlLElBQUkzdkIsRUFFeEIsSUFBSTZ2QixFQUF3QixZQUFNLFlBQU9MLElBQWtCLFNBQVVNLEdBQW9CLE9BQU8sWUFBUUEsRUFBaUI1NUIsb0JBQ3pIdFAsS0FBSzIxQixhQUFlc1QsRUFDZHg2QixFQUNBTixFQUlOVSxFQUFrQixZQUFPN08sS0FBSytvQyxhQUVsQ0wsRUFBaUJweUMsVUFBVTB4QyxXQUFhLFNBQVVybkIsRUFBVW1oQixFQUFNM3dCLEdBQzlELEdBQUluUixLQUFLcWhDLGlCQUNMLE1BQU0vb0MsTUFBTSxpQkFBbUJxb0IsRUFBbkIsOEtBR2hCLElBaUNJd29CLEVBakNBQyxFQUFnQixZQUFJajRCLEVBQVEsaUJBQzFCQSxFQUFPaTRCLGNBQ1B4QixHQUFvQndCLGNBQ3RCQyxFQUFvQixZQUFJbDRCLEVBQVEscUJBQzlCQSxFQUFPazRCLGtCQUNQekIsR0FBb0J5QixrQkFJdEIxSixFQUFZMy9CLEtBQUs4b0Msa0JBQW9CLEdBS3pDLFNBQVNRLEVBQWtCbHhCLEdBQ3ZCLElBQ0ksSUFBdUIsSUFBbkJwWSxLQUFLeStCLFVBQW9CLENBQ3pCcUQsRUFBSzdtQyxNQUFNK0UsS0FBTW9ZLEdBQ2pCLElBQUlteEIsRUFBTXZwQyxLQUFLdytCLFVBQVV4K0IsS0FBS3crQixVQUFVNW5DLE9BQVMsR0FFakQsT0FEQW9KLEtBQUs2K0IsWUFBWTBLLEdBQ1ZBLEVBR1AsT0FBT3pILEVBQUs3bUMsTUFBTStFLEtBQU1vWSxHQUdoQyxNQUFPclcsR0FDSCxPQUFPL0IsS0FBS3dwQyxnQkFBZ0J6bkMsRUFBR3FuQyxFQUFlQyxHQUVsRCxRQUNJcnBDLEtBQUt5cEMsMEJBbkJienBDLEtBQUs4b0MsbUJBQ0w5b0MsS0FBSzZvQyxvQkFBb0JsSixHQUFhaGYsRUFDdEMzZ0IsS0FBS3M2QixvQkFBb0IzWixHQUFZZ2YsRUE2QnJDLE9BUkF3SixFQUFxQixTQUFValIsRUFBa0I5ZixHQUc3QyxZQUZ5QixJQUFyQjhmLElBQStCQSxFQUFtQixHQUN0RGw0QixLQUFLMHBDLDBCQUEwQi9KLEVBQVdoZixFQUFVdVgsR0FDN0NvUixFQUFrQnowQyxLQUFLbUwsS0FBTW9ZLEtBR0wsU0FBSXVJLEVBQ3ZDd29CLEVBQTBDLHNCQUFJckgsRUFDdkNxSCxHQUVYVCxFQUFpQnB5QyxVQUFVa3pDLGdCQUFrQixTQUFVem5DLEVBQUc0bkMsRUFBcUJOLEdBQzNFLElBQUlPLEVBQWdELElBQTNCNXBDLEtBQUswM0IsV0FBVzlnQyxPQUtyQ2l6QyxFQUFnQkYsSUFBd0IzcEMsS0FBS20yQixrQkFBb0JuMkIsS0FBS28wQixnQkFDMUUsR0FBSWIsR0FBdUJ4eEIsR0FBSSxDQUMzQixJQUFJK25DLEVBQWEvbkMsRUFDakIsR0FBSThuQyxFQUFlLENBQ2YsSUFjWUUsRUFkUjlVLEVBQWdCajFCLEtBQUtrMUIsc0JBQ3pCLEdBQUlsMUIsS0FBS2szQix5QkFBeUJqQyxHQUU5QixPQURBNlUsRUFBV3BXLGVBQWlCMXpCLEtBQUswNEIsU0FBU3pELEdBQ3RDajFCLEtBQUt5K0IsWUFDRHNMLEVBQW1CL3BDLEtBQUt3K0IsVUFBVXgrQixLQUFLdytCLFVBQVU1bkMsT0FBUyxJQUM3Q296QyxlQUFnQixFQUMxQkQsR0FHQVYsSUFVWCxNQU5JcnBDLEtBQUt5K0IsYUFDRHNMLEVBQW1CL3BDLEtBQUt3K0IsVUFBVXgrQixLQUFLdytCLFVBQVU1bkMsT0FBUyxJQUM3Q296QyxlQUFnQixFQUNqQ0YsRUFBV0MsaUJBQW1CQSxHQUc1QkQsRUFHVCxHQUFJRixFQUtMLE9BSEE1cEMsS0FBSzBoQyx3QkFHRTJILElBSVAsTUFBTVMsRUFLVixNQUFNL25DLEdBSWQybUMsRUFBaUJweUMsVUFBVThyQyxlQUFpQixTQUFVRCxFQUFtQnhmLEdBQ3JFLElBQUkxc0IsRUFBTStKLEtBQUtrNUIsNEJSMUtDLElRMEt1Q3ZXLEdBQ3ZELE9BQU8zaUIsS0FBS2lxQyxvQkFBb0I5SCxFQUFtQnhmLEVBQVkxc0IsSUFFbkV5eUMsRUFBaUJweUMsVUFBVTJ6QyxvQkFBc0IsU0FBVTlILEVBQW1CeGYsRUFBWTFzQixHQUN0RixJQUVJMk8sRUFDQTFMLEVBSEFrSyxFQUFRcEQsS0FDUiswQixFQUFnQi8wQixLQUFLMDVCLG1CQUFtQnpqQyxHQUc1QyxRQUE4QjhCLElBQTFCb3FDLEVBQWtCK0gsS0FJbEIsR0FIQXRsQyxFQUFTdTlCLEVBQWtCK0gsU0FHVG55QyxLQUZsQm1CLEVBQVlpcEMsRUFBa0IxRyxNQUVELENBQ3pCLElBQUkwTyxFQUF5QnBWLEVBQzdCQSxFQUFnQixXQUNaLE9BQU83N0IsRUFBVXJFLEtBQUt1TyxJQUFVK21DLEVBQXVCdDFDLEtBQUt1TyxVQUtwRXdCLEVBQVN1OUIsRUFFYixJQUFpQyxJQUE3QnBOLEVBQWNsZ0MsS0FBS21MLE1BQ25CLE9BQU80RSxFQUFPL1AsS0FBS21MLE9BSTNCMG9DLEVBQWlCcHlDLFVBQVVrc0MsbUJBQXFCLFNBQVUxSixFQUFnQnFKLEdBQ3RFLElBQUlpSSxFQUFRcHFDLEtBQUtrNUIsNEJScE1LLEtRb015Q0osR0FDL0QsT0FBTzk0QixLQUFLcXFDLHdCQUF3QnZSLEVBQWdCcUosRUFBbUJpSSxJQUUzRTFCLEVBQWlCcHlDLFVBQVUrekMsd0JBQTBCLFNBQVV2UixFQUFnQnFKLEVBQW1CbHNDLEdBQzlGLElBRUkyTyxFQUNBMUwsRUFIQWtLLEVBQVFwRCxLQUNSKzBCLEVBQWdCLzBCLEtBQUswNUIsbUJBQW1CempDLEdBRzVDLFFBQThCOEIsSUFBMUJvcUMsRUFBa0IrSCxLQUlsQixHQUhBdGxDLEVBQVN1OUIsRUFBa0IrSCxTQUdUbnlDLEtBRmxCbUIsRUFBWWlwQyxFQUFrQjFHLE1BRUQsQ0FDekIsSUFBSTZPLEVBQXlCdlYsRUFDN0JBLEVBQWdCLFdBQ1osT0FBTzc3QixFQUFVckUsS0FBS3VPLElBQVVrbkMsRUFBdUJ6MUMsS0FBS3VPLFVBS3BFd0IsRUFBU3U5QixFQUViLElBQWlDLElBQTdCcE4sRUFBY2xnQyxLQUFLbUwsTUFRbkIsTUFBTUEsS0FBS3VxQyx3QkFBd0J6UixFQUFnQnpRLEdBQVVRLHFCQUFzQnNaLEVBQWtCcUksU0FOckcsSUFEQSxJQUFJdFUsRUFBV2wyQixLQUFLeXFDLG1CQUFtQjdsQyxJQUNILElBQTdCbXdCLEVBQWNsZ0MsS0FBS21MLFFBQ1QsSUFBYmsyQixHQUNBQSxFQUFXbDJCLEtBQUt5cUMsbUJBQW1CN2xDLEdBVTNDNUUsS0FBS3MwQiw0QkFBNEJ0MEIsS0FBS3dpQyxtQkFBb0IsQ0FBQzFKLEVBQWdCcUosR0FBb0JwTixFUnhPekUsS1F3TzBHK0QsRUFBZ0IsS0FFcEo0UCxFQUFpQnB5QyxVQUFVMHdDLDJCQUE2QixTQUFVbE8sRUFBZ0IxMEIsR0FDOUUsSUFBSWdtQyxFQUFRcHFDLEtBQUtrNUIsNEJSek9TLEtReU95Q0osR0FDbkU5NEIsS0FBSzBxQyxnQ0FBZ0M1UixFQUFnQjEwQixFQUFTZ21DLElBRWxFMUIsRUFBaUJweUMsVUFBVW8wQyxnQ0FBa0MsU0FBVTVSLEVBQWdCMTBCLEVBQVNuTyxHQUM1RixJQUFJbU4sRUFBUXBELEtBQ1I0RSxFQUFTUixFQUFROGxDLElBQ2pCcHZCLEVBQVkxVyxFQUFRdW1DLElBR3hCLElBQStDLElBRmIzcUMsS0FBSzA1QixtQkFBbUJ6akMsR0FFMUJwQixLQUFLbUwsTUF5QmpDLE1BQU1BLEtBQUt1cUMsd0JBQXdCelIsRUFBZ0J6USxHQUFVUyxvQ0FBcUMxa0IsRUFBUW9tQyxTQXZCMUc1bEMsRUFBTy9QLEtBQUttTCxNQU9aLElBSkEsSUFBSTRxQyxFQUF5QixXQUN6QixPQUFPeG5DLEVBQU11eUIsYUFBYXZ5QixFQUFNbXlCLEdBQUcsR0FBSXphLEtBR1MsSUFBN0M5YSxLQUFLMjFCLGFBQWEzMUIsS0FBS3UxQixHQUFHLEdBQUl6YSxJQUdqQzlhLEtBQUt5aUMsUUFBUTNuQixHQUNibFcsRUFBTy9QLEtBQUttTCxNQUdoQkEsS0FBS3MwQiw0QkFBNEJ0MEIsS0FBSzZxQyw0QkFBNkIsQ0FDL0QvUixFQUNBaGUsRUFDQTh2QixFQUNBaG1DLEVBQ0EsSUFDRGdtQyxFUnhRbUIsS1F3UTJCOVIsRUFBZ0IsS0FNekU0UCxFQUFpQnB5QyxVQUFVaXNDLGFBQWUsU0FBVXpKLEVBQWdCcUosR0FDaEUsSUFBSWlJLEVBQVFwcUMsS0FBS2s1Qiw0QlJsUkgsSVFrUnlDSixHQUN2RCxPQUFPOTRCLEtBQUs4cUMsa0JBQWtCaFMsRUFBZ0JxSixFQUFtQmlJLElBRXJFMUIsRUFBaUJweUMsVUFBVXcwQyxrQkFBb0IsU0FBVWhTLEVBQWdCcUosRUFBbUJsc0MsR0FDeEYsSUFFSTJPLEVBQ0ExTCxFQUhBa0ssRUFBUXBELEtBQ1IrcUMsRUFBb0IvcUMsS0FBSzA1QixtQkFBbUJ6akMsR0FHaEQsUUFBOEI4QixJQUExQm9xQyxFQUFrQitILEtBSWxCLEdBSEF0bEMsRUFBU3U5QixFQUFrQitILFNBR1RueUMsS0FGbEJtQixFQUFZaXBDLEVBQWtCMUcsTUFFRCxDQUN6QixJQUFJdVAsRUFBeUJELEVBQzdCQSxFQUFvQixXQUNoQixPQUFPN3hDLEVBQVVyRSxLQUFLdU8sSUFBVTRuQyxFQUF1Qm4yQyxLQUFLdU8sVUFLcEV3QixFQUFTdTlCLEVBR2IsSUFEQSxJQUFJak0sR0FBVyxHQUN5QixJQUFqQzZVLEVBQWtCbDJDLEtBQUttTCxRQUErQixJQUFiazJCLEdBQzVDQSxFQUFXbDJCLEtBQUt5cUMsbUJBQW1CN2xDLEdBR3ZDNUUsS0FBS3MwQiw0QkFBNEJ0MEIsS0FBS3VpQyxhQUFjLENBQUN6SixFQUFnQnFKLEdBQW9CNEksRVI3UzNFLElRNlN3R2pTLEVBQWdCLEdBTXRJNUMsSUFFSndTLEVBQWlCcHlDLFVBQVVxdkMscUJBQXVCLFNBQVU3TSxFQUFnQjEwQixHQUN4RSxJQUFJZ21DLEVBQVFwcUMsS0FBS2s1Qiw0QlJwVEMsS1FvVHlDSixHQUMzRDk0QixLQUFLaXJDLDBCQUEwQm5TLEVBQWdCMTBCLEVBQVNnbUMsSUFFNUQxQixFQUFpQnB5QyxVQUFVMjBDLDBCQUE0QixTQUFVblMsRUFBZ0IxMEIsRUFBU25PLEdBQ3RGLElBQUltTixFQUFRcEQsS0FDUjRFLEVBQVNSLEVBQVE4bEMsSUFDakJwdkIsRUFBWTFXLEVBQVF1bUMsSUFHeEIsSUFBd0MsSUFGYjNxQyxLQUFLMDVCLG1CQUFtQnpqQyxHQUUxQnBCLEtBQUttTCxNQUFnQixDQUMxQzRFLEVBQU8vUCxLQUFLbUwsTUFLWixJQUpBLElBQUk0cUMsRUFBeUIsV0FDekIsT0FBT3huQyxFQUFNdXlCLGFBQWF2eUIsRUFBTW15QixHQUFHLEdBQUl6YSxLQUdTLElBQTdDOWEsS0FBSzIxQixhQUFhMzFCLEtBQUt1MUIsR0FBRyxHQUFJemEsSUFHakM5YSxLQUFLeWlDLFFBQVEzbkIsR0FFYmxXLEVBQU8vUCxLQUFLbUwsTUFHaEJBLEtBQUtzMEIsNEJBQTRCdDBCLEtBQUs2cUMsNEJBQTZCLENBQy9EL1IsRUFDQWhlLEVBQ0E4dkIsRUFDQWhtQyxFQUNBLElBQ0RnbUMsRVJqVlcsS1FpVjJCOVIsRUFBZ0IsTUFHakU0UCxFQUFpQnB5QyxVQUFVdTBDLDRCQUE4QixTQUFVL1IsRUFBZ0JoZSxFQUFXOHZCLEVBQXdCaG1DLEVBQVFzbUMsR0FDMUgsS0FBT04sS0FHSDVxQyxLQUFLeWlDLFFBQVEzbkIsR0FDYmxXLEVBQU8vUCxLQUFLbUwsTUFRaEJBLEtBQUtzMEIsNEJBQTRCdDBCLEtBQUs2cUMsNEJBQTZCLENBQy9EL1IsRUFDQWhlLEVBQ0E4dkIsRUFDQWhtQyxFQUNBc21DLEdBQ0ROLEVSdFd1QixLUXNXdUI5UixFQUFnQm9TLElBRXJFeEMsRUFBaUJweUMsVUFBVW0wQyxtQkFBcUIsU0FBVTdsQyxHQUN0RCxJQUFJdW1DLEVBQWtCbnJDLEtBQUsyaEMsbUJBSzNCLE9BSkEvOEIsRUFBTy9QLEtBQUttTCxNQUNTQSxLQUFLMmhDLG1CQUdGd0osR0FFNUJ6QyxFQUFpQnB5QyxVQUFVZ3NDLFdBQWEsU0FBVUQsRUFBWTFmLEdBQzFELElBQUl5bkIsRUFBUXBxQyxLQUFLazVCLDRCUnRYTCxJUXNYeUN2VyxHQUNqRGlOLEVBQU8sWUFBUXlTLEdBQ2JBLEVBQ0FBLEVBQVc2SCxJQUVia0IsRUFEU3ByQyxLQUFLMDVCLG1CQUFtQjBRLEdBQ1h2MUMsS0FBS21MLEtBQU00dkIsR0FDckMsUUFBcUI3M0IsSUFBakJxekMsRUFFQSxPQUR3QnhiLEVBQUt3YixHQUNKQyxJQUFJeDJDLEtBQUttTCxNQUV0Q0EsS0FBS3NyQyxvQkFBb0Izb0IsRUFBWTBmLEVBQVdtSSxVQUVwRDlCLEVBQWlCcHlDLFVBQVVtekMsdUJBQXlCLFdBS2hELEdBSkF6cEMsS0FBSzAzQixXQUFXOXZCLE1BQ2hCNUgsS0FBS3U0QixzQkFBc0Izd0IsTUFFM0I1SCxLQUFLcy9CLHdCQUMwQixJQUEzQnQvQixLQUFLMDNCLFdBQVc5Z0MsU0FBMEMsSUFBMUJvSixLQUFLdXJDLGlCQUE0QixDQUNqRSxJQUFJQyxFQUFvQnhyQyxLQUFLdTFCLEdBQUcsR0FDNUI5bkIsRUFBU3pOLEtBQUs4USxxQkFBcUI4UCw4QkFBOEIsQ0FDakVDLGVBQWdCMnFCLEVBQ2hCN3FCLFNBQVUzZ0IsS0FBS3kxQix3QkFFbkJ6MUIsS0FBSzAxQixXQUFXLElBQUk5QixHQUEyQm5tQixFQUFRKzlCLE1BRy9EOUMsRUFBaUJweUMsVUFBVTRyQyxnQkFBa0IsU0FBVUQsRUFBWTNxQyxFQUFLOE0sR0FDcEUsSUFBSWc4QixFQUNKLElBQ0ksSUFBSWhvQixPQUFtQnJnQixJQUFacU0sRUFBd0JBLEVBQVFxbkMsVUFBTzF6QyxFQUtsRCxPQUpBcW9DLEVBQWE2QixFQUFXcHRDLEtBQUttTCxLQUFNMUksRUFBSzhnQixHQUN4Q3BZLEtBQUt3L0IsbUJBQW1CWSxPQUF3QnJvQyxJQUFacU0sUUFBMkNyTSxJQUFsQnFNLEVBQVEyVSxNQUMvRDNVLEVBQVEyVSxNQUNSa3BCLEVBQVd0aEIsVUFDVnlmLEVBRVgsTUFBT3IrQixHQUNIL0IsS0FBSzByQyxxQkFBcUIzcEMsRUFBR3FDLEVBQVM2OUIsRUFBV3RoQixZQUd6RCtuQixFQUFpQnB5QyxVQUFVbzFDLHFCQUF1QixTQUFVM3BDLEVBQUdxQyxFQUFTdWMsR0FPcEUsTUFOSTRTLEdBQXVCeHhCLFNBQTZCaEssSUFBdkJnSyxFQUFFZ29DLG1CQUMvQi9wQyxLQUFLdy9CLG1CQUFtQno5QixFQUFFZ29DLHNCQUE4Qmh5QyxJQUFacU0sUUFBMkNyTSxJQUFsQnFNLEVBQVEyVSxNQUN2RTNVLEVBQVEyVSxNQUNSNEgsVUFDQzVlLEVBQUVnb0Msa0JBRVBob0MsR0FFVjJtQyxFQUFpQnB5QyxVQUFVMHJDLGdCQUFrQixTQUFVaDdCLEVBQVMxUCxFQUFLOE0sR0FDakUsSUFBSTI3QixFQUNKLElBQ0ksSUFBSXRJLEVBQVl6M0IsS0FBS3UxQixHQUFHLElBQ3NCLElBQTFDdjFCLEtBQUsyMUIsYUFBYThCLEVBQVd6d0IsSUFDN0JoSCxLQUFLODJCLGVBQ0xpSixFQUFnQnRJLEdBR2hCejNCLEtBQUsyckMscUJBQXFCM2tDLEVBQVN5d0IsRUFBV3J6QixHQUd0RCxNQUFPd25DLEdBQ0g3TCxFQUFnQi8vQixLQUFLNnJDLHdCQUF3QjdrQyxFQUFTMVAsRUFBS3MwQyxHQUsvRCxPQUhBNXJDLEtBQUt1L0IscUJBQTRCeG5DLElBQVpxTSxRQUEyQ3JNLElBQWxCcU0sRUFBUTJVLE1BQ2hEM1UsRUFBUTJVLE1BQ1IvUixFQUFRL1IsS0FBTThxQyxHQUNiQSxHQUVYMkksRUFBaUJweUMsVUFBVXExQyxxQkFBdUIsU0FBVTNrQyxFQUFTeXdCLEVBQVdyekIsR0FDNUUsSUFBSWhILEVBQ0FxMkIsRUFBZ0J6ekIsS0FBS3UxQixHQUFHLEdBWTVCLE1BVkluNEIsT0FEWXJGLElBQVpxTSxHQUF5QkEsRUFBUW9tQyxRQUMzQnBtQyxFQUFRb21DLFFBR1J4cUMsS0FBSzhRLHFCQUFxQnlQLDBCQUEwQixDQUN0REMsU0FBVXhaLEVBQ1Z5WixPQUFRZ1gsRUFDUi9XLFNBQVUrUyxFQUNWOVMsU0FBVTNnQixLQUFLeTFCLHdCQUdqQnoxQixLQUFLMDFCLFdBQVcsSUFBSWxDLEdBQXlCcDJCLEVBQUtxNkIsRUFBV2hFLEtBRXZFaVYsRUFBaUJweUMsVUFBVXUxQyx3QkFBMEIsU0FBVTdrQyxFQUFTMVAsRUFBS3MwQyxHQUd6RSxJQUFJNXJDLEtBQUtvMEIsaUJBRXFCLDZCQUExQndYLEVBQWlCMzJDLE1BQ2hCK0ssS0FBS20yQixpQkFpQk4sTUFBTXlWLEVBaEJOLElBQUk3ckIsRUFBVS9mLEtBQUtxMkIsNEJBQTRCcnZCLEVBQVMxUCxHQUN4RCxJQUNJLE9BQU8wSSxLQUFLMDJCLGtCQUFrQjF2QixFQUFTK1ksR0FFM0MsTUFBTytyQixHQUNILEtUaGV3Qiw0QlNnZXBCQSxFQUFvQjcyQyxLQUdkMjJDLEVBR0FFLElBUXRCcEQsRUFBaUJweUMsVUFBVWl5QyxlQUFpQixXQUV4QyxJQUFJd0QsRUFBYy9yQyxLQUFLMkksT0FDbkJxakMsRUFBaUIsWUFBU2hzQyxLQUFLMDNCLFlBQ25DLE1BQU8sQ0FDSC91QixPQUFRb2pDLEVBQ1JFLFdBQVlqc0MsS0FBS28xQixtQkFDakJzQyxXQUFZc1UsRUFDWnhOLFVBQVd4K0IsS0FBS3crQixZQUd4QmtLLEVBQWlCcHlDLFVBQVVreUMsaUJBQW1CLFNBQVVoSCxHQUNwRHhoQyxLQUFLMkksT0FBUzY0QixFQUFTNzRCLE9BQ3ZCM0ksS0FBSzgxQixpQkFBaUIwTCxFQUFTeUssWUFDL0Jqc0MsS0FBSzAzQixXQUFhOEosRUFBUzlKLFlBRS9CZ1IsRUFBaUJweUMsVUFBVW96QywwQkFBNEIsU0FBVS9KLEVBQVd1TSxFQUFVaFUsR0FDbEZsNEIsS0FBS3U0QixzQkFBc0J0aEMsS0FBS2loQyxHQUNoQ2w0QixLQUFLMDNCLFdBQVd6Z0MsS0FBSzBvQyxHQUVyQjMvQixLQUFLcS9CLHlCQUF5QjZNLEVBQVV2TSxJQUU1QytJLEVBQWlCcHlDLFVBQVU2L0IsZUFBaUIsV0FDeEMsT0FBMkMsSUFBcENuMkIsS0FBS3FvQyxvQkFBb0J6eEMsUUFFcEM4eEMsRUFBaUJweUMsVUFBVW0vQixvQkFBc0IsV0FDN0MsSUFBSWtLLEVBQVkzL0IsS0FBSzQzQiwrQkFDckIsT0FBTzUzQixLQUFLNm9DLG9CQUFvQmxKLElBRXBDK0ksRUFBaUJweUMsVUFBVTJoQyx3QkFBMEIsU0FBVTBILEdBQzNELE9BQU8zL0IsS0FBSzZvQyxvQkFBb0JsSixJQUVwQytJLEVBQWlCcHlDLFVBQVVpMUMsZUFBaUIsV0FDeEMsT0FBT3ZyQyxLQUFLMjFCLGFBQWEzMUIsS0FBS3UxQixHQUFHLEdBQUluYyxJQUV6Q3N2QixFQUFpQnB5QyxVQUFVbW9CLE1BQVEsV0FDL0J6ZSxLQUFLeWhDLGtCQUNMemhDLEtBQUtxb0Msb0JBQXNCLEdBQzNCcm9DLEtBQUsySSxPQUFTLEdBQ2QzSSxLQUFLMDNCLFdBQWEsR0FFbEIxM0IsS0FBS3crQixVQUFZLEdBQ2pCeCtCLEtBQUt1NEIsc0JBQXdCLElBRTFCbVEsRUFsaEIwQixHQ1BqQyxHQUE4QixXQUM5QixTQUFTeUQsS0FzRVQsT0FwRUFBLEVBQWE3MUMsVUFBVTgxQyxpQkFBbUIsU0FBVWo3QixHQUNoRG5SLEtBQUtxc0MsUUFBVSxHQUNmcnNDLEtBQUs4USxxQkFBdUIsWUFBSUssRUFBUSx3QkFDbENBLEVBQU9MLHFCQUNQdWpCLEdBQXNCdmpCLHNCQUVoQ3E3QixFQUFhNzFDLFVBQVVvL0IsV0FBYSxTQUFVcDRCLEdBQzFDLEdBQUlpMkIsR0FBdUJqMkIsR0FNdkIsT0FMQUEsRUFBTWd2QyxRQUFVLENBQ1pybkIsVUFBV2psQixLQUFLZzVCLDRCQUNoQnVULG9CQUFxQixZQUFTdnNDLEtBQUt1NEIsd0JBRXZDdjRCLEtBQUtxc0MsUUFBUXAxQyxLQUFLcUcsR0FDWEEsRUFHUCxNQUFNaEYsTUFBTSxnRUFHcEJsRCxPQUFPQyxlQUFlODJDLEVBQWE3MUMsVUFBVyxTQUFVLENBQ3BEZixJQUFLLFdBQ0QsT0FBTyxZQUFTeUssS0FBS3FzQyxVQUV6Qmp1QyxJQUFLLFNBQVVvdUMsR0FDWHhzQyxLQUFLcXNDLFFBQVVHLEdBRW5CbDNDLFlBQVksRUFDWnVrQixjQUFjLElBR2xCc3lCLEVBQWE3MUMsVUFBVWkwQyx3QkFBMEIsU0FBVTVuQixFQUFZNEksRUFBVWtoQixHQU03RSxJQUxBLElBQUk5ckIsRUFBVzNnQixLQUFLeTFCLHNCQUdoQmlYLEVBRCtCcGhCLEdBQWlDM0ksRUFEbEQzaUIsS0FBS281QixxQkFBcUJ6WSxHQUNpRDRLLEVBQVV2ckIsS0FBS3F2QixjQUN6RCxHQUMvQ3NkLEVBQWUsR0FDVmo0QyxFQUFJLEVBQUdBLEdBQUtzTCxLQUFLcXZCLGFBQWMzNkIsSUFDcENpNEMsRUFBYTExQyxLQUFLK0ksS0FBS3UxQixHQUFHN2dDLElBRTlCLElBQUkwSSxFQUFNNEMsS0FBSzhRLHFCQUFxQjBRLHNCQUFzQixDQUN0REMsdUJBQXdCaXJCLEVBQ3hCanNCLE9BQVFrc0IsRUFDUmpzQixTQUFVMWdCLEtBQUt1MUIsR0FBRyxHQUNsQnZVLHNCQUF1QnlyQixFQUN2QjlyQixTQUFVQSxJQUVkLE1BQU0zZ0IsS0FBSzAxQixXQUFXLElBQUk3QixHQUFtQnoyQixFQUFLNEMsS0FBS3UxQixHQUFHLEdBQUl2MUIsS0FBS3UxQixHQUFHLE1BRzFFNFcsRUFBYTcxQyxVQUFVZzFDLG9CQUFzQixTQUFVM29CLEVBQVlpcUIsR0FNL0QsSUFMQSxJQUFJanNCLEVBQVczZ0IsS0FBS3kxQixzQkFHaEJvWCxFQUErQnpoQixHQUF1QnpJLEVBRnhDM2lCLEtBQUtvNUIscUJBQXFCelksR0FFdUMzZ0IsS0FBS3F2QixjQUNwRnNkLEVBQWUsR0FDVmo0QyxFQUFJLEVBQUdBLEdBQUtzTCxLQUFLcXZCLGFBQWMzNkIsSUFDcENpNEMsRUFBYTExQyxLQUFLK0ksS0FBS3UxQixHQUFHN2dDLElBRTlCLElBQUkrK0IsRUFBZ0J6ekIsS0FBS3UxQixHQUFHLEdBQ3hCOW5CLEVBQVN6TixLQUFLOFEscUJBQXFCZ1Esd0JBQXdCLENBQzNEQyxvQkFBcUI4ckIsRUFDckJwc0IsT0FBUWtzQixFQUNSanNCLFNBQVUrUyxFQUNWelMsc0JBQXVCNHJCLEVBQ3ZCanNCLFNBQVUzZ0IsS0FBS3kxQix3QkFFbkIsTUFBTXoxQixLQUFLMDFCLFdBQVcsSUFBSS9CLEdBQXFCbG1CLEVBQVF6TixLQUFLdTFCLEdBQUcsR0FBSTlCLEtBRWhFMFksRUF2RXNCLEdDTDdCLEdBQStCLFdBQy9CLFNBQVNXLEtBbUJULE9BakJBQSxFQUFjeDJDLFVBQVV5MkMsa0JBQW9CLGFBQzVDRCxFQUFjeDJDLFVBQVUwMkMscUJBQXVCLFNBQVVDLEVBQWVDLEdBQ3BFLElBQUlDLEVBQWdCbnRDLEtBQUt5Z0MscUJBQXFCd00sR0FDOUMsR0FBSSxZQUFZRSxHQUNaLE1BQU03MEMsTUFBTSxVQUFZMjBDLEVBQWdCLHNDQUU1QyxPQUFPdm1CLEdBQXdCLENBQUN5bUIsR0FBZ0JELEVBQWdCbHRDLEtBQUsyMUIsYUFBYzMxQixLQUFLcXZCLGVBSTVGeWQsRUFBY3gyQyxVQUFVbWdDLDBCQUE0QixTQUFVRixHQUMxRCxJQUFJNlcsRUFBYyxZQUFNN1csRUFBWXRSLFdBRWhDb29CLEVBRGtCcnRDLEtBQUtvNUIscUJBQ1NnVSxHQUVwQyxPQUQ2QixJQUFJLEdBQXFCQyxFQUFlOVcsR0FBYXZXLGdCQUcvRThzQixFQXBCdUIsR0NLOUJRLEdBQXdCLENBQ3hCQyxZQUFhLDhEQUVqQm40QyxPQUFPNmIsT0FBT3E4QixJQUNkLElBQ0lFLEdBQWlCbjRCLEtBQUtvNEIsSUFBSSxFWExPLEdXS3VCLEVBQ3hEQyxHQUFNejBCLEVBQVksQ0FBRWhrQixLQUFNLHdCQUF5QnlLLFFBQVMsRUFBTXNGLEtBQ3RFNkosRUFBa0IsQ0FBQzYrQixLQUNuQixJQUFJQyxHQUF3QnI2QixHQUFvQm82QixHQUFLLDJKQUtwRCxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FDckJ0NEMsT0FBTzZiLE9BQU8wOEIsSUFDZCxJQUFJQyxHQUEwQixDQUMxQjM0QyxLQUFNLDJKQUVOa29DLFNBQVUsSUFLVixHQUE4QixXQUM5QixTQUFTMFEsS0EwTVQsT0F4TUFBLEVBQWF2M0MsVUFBVXczQyxpQkFBbUIsU0FBVTM4QixHQUNoRG5SLEtBQUsrdEMsbUJBQXFCLEdBQzFCL3RDLEtBQUtndUMsaUJBQWtCLEdBRTNCSCxFQUFhdjNDLFVBQVUyM0MsZ0JBQWtCLFdBQ3JDLElBQUk3cUMsRUFBUXBELEtBQ1pBLEtBQUtndUMsaUJBQWtCLEVBQ3ZCaHVDLEtBQUs2UixXQUFXLG9CQUFvQixXQXFDaEMsSUFwQ0EsSUFBSThZLEVBQVUsU0FBVWoyQixHQUNwQixJQUFJNEMsRUFBTTVDLEVBQUksRUFBSUEsRUFBSSxHQUN0QjBPLEVBQU0sVUFBWTlMLEdBQU8sU0FBVTQyQyxFQUFNQyxHQUNyQyxPQUFPbnVDLEtBQUtvdUMsc0JBQXNCRixFQUFNeDVDLEVBQUd5NUMsSUFFL0MvcUMsRUFBTSxVQUFZOUwsR0FBTyxTQUFVNDJDLEVBQU1DLEdBQ3JDLE9BQU9udUMsS0FBS3F1QyxzQkFBc0JILEVBQU14NUMsRUFBR3k1QyxJQUUvQy9xQyxFQUFNLFNBQVc5TCxHQUFPLFNBQVU0MkMsR0FDOUIsT0FBT2x1QyxLQUFLc3VDLHFCQUFxQkosRUFBTXg1QyxJQUUzQzBPLEVBQU0sS0FBTzlMLEdBQU8sU0FBVTQyQyxHQUMxQixPQUFPbHVDLEtBQUt1dUMsaUJBQWlCTCxFQUFNeDVDLElBRXZDME8sRUFBTSxPQUFTOUwsR0FBTyxTQUFVNDJDLEdBQzVCbHVDLEtBQUt3dUMsbUJBQW1COTVDLEVBQUd3NUMsSUFFL0I5cUMsRUFBTSxXQUFhOUwsR0FBTyxTQUFVNDJDLEdBQ2hDbHVDLEtBQUt5dUMsMkJBQTJCLzVDLEVBQUd3NUMsSUFFdkM5cUMsRUFBTSxlQUFpQjlMLEdBQU8sU0FBVTQyQyxHQUNwQ2x1QyxLQUFLMHVDLHlCQUF5Qmg2QyxFQUFHdzVDLElBRXJDOXFDLEVBQU0sbUJBQXFCOUwsR0FBTyxTQUFVNDJDLEdBQ3hDbHVDLEtBQUsydUMsaUNBQWlDajZDLEVBQUd3NUMsS0FZeEN4NUMsRUFBSSxFQUFHQSxFQUFJLEdBQUlBLElBQ3BCaTJCLEVBQVFqMkIsR0FHWjBPLEVBQWUsUUFBSSxTQUFVOUwsRUFBSzQyQyxFQUFNQyxHQUNwQyxPQUFPbnVDLEtBQUtvdUMsc0JBQXNCRixFQUFNNTJDLEVBQUs2MkMsSUFFakQvcUMsRUFBZSxRQUFJLFNBQVU5TCxFQUFLNDJDLEVBQU1DLEdBQ3BDLE9BQU9udUMsS0FBS3F1QyxzQkFBc0JILEVBQU01MkMsRUFBSzYyQyxJQUVqRC9xQyxFQUFjLE9BQUksU0FBVTlMLEVBQUs0MkMsR0FDN0IsT0FBT2x1QyxLQUFLc3VDLHFCQUFxQkosRUFBTTUyQyxJQUUzQzhMLEVBQVUsR0FBSSxTQUFVOUwsRUFBSzQyQyxHQUN6QixPQUFPbHVDLEtBQUt1dUMsaUJBQWlCTCxFQUFNNTJDLElBRXZDOEwsRUFBWSxLQUFJLFNBQVU5TCxFQUFLNDJDLEdBQzNCbHVDLEtBQUt3dUMsbUJBQW1CbDNDLEVBQUs0MkMsSUFFakM5cUMsRUFBa0IsV0FBSSxTQUFVOUwsRUFBSzQyQyxHQUNqQ2x1QyxLQUFLMHVDLHlCQUF5QnAzQyxFQUFLNDJDLElBRXZDOXFDLEVBQU15K0IsT0FBU3orQixFQUFNd3JDLGNBQ3JCeHJDLEVBQU1nbEMsVUFBWWhsQyxFQUFNeXJDLGlCQUN4QnpyQyxFQUFNbXlCLEdBQUtueUIsRUFBTTByQyxjQUd6QmpCLEVBQWF2M0MsVUFBVXk0QyxpQkFBbUIsV0FDdEMsSUFBSTNyQyxFQUFRcEQsS0FDWkEsS0FBS2d1QyxpQkFBa0IsRUFLdkJodUMsS0FBSzZSLFdBQVcsOEJBQThCLFdBQzFDLElBQUssSUFBSW5kLEVBQUksRUFBR0EsRUFBSSxHQUFJQSxJQUFLLENBQ3pCLElBQUk0QyxFQUFNNUMsRUFBSSxFQUFJQSxFQUFJLFVBQ2YwTyxFQUFNLFVBQVk5TCxVQUNsQjhMLEVBQU0sVUFBWTlMLFVBQ2xCOEwsRUFBTSxTQUFXOUwsVUFDakI4TCxFQUFNLEtBQU85TCxVQUNiOEwsRUFBTSxPQUFTOUwsVUFDZjhMLEVBQU0sV0FBYTlMLFVBQ25COEwsRUFBTSxlQUFpQjlMLFVBQ3ZCOEwsRUFBTSxtQkFBcUI5TCxVQUUvQjhMLEVBQWUsZUFDZkEsRUFBZSxlQUNmQSxFQUFjLGNBQ2RBLEVBQVUsVUFDVkEsRUFBWSxZQUNaQSxFQUFrQixrQkFDbEJBLEVBQU15K0IsY0FDTnorQixFQUFNZ2xDLGlCQUNOaGxDLEVBQU1teUIsT0FNckJzWSxFQUFhdjNDLFVBQVVzNEMsY0FBZ0IsU0FBVTlNLEtBS2pEK0wsRUFBYXYzQyxVQUFVdTRDLGlCQUFtQixTQUFVaGEsRUFBYXpjLEdBQzdELE9BQU8sV0FBYyxPQUFPLElBSWhDeTFCLEVBQWF2M0MsVUFBVXc0QyxVQUFZLFNBQVVoMkMsR0FHekMsT0FBT3dvQyxJQUVYdU0sRUFBYXYzQyxVQUFVMDRDLG1CQUFxQixTQUFVLzVDLEVBQU1reUIsR0FDeEQsSUFDSSxJQUFJOG5CLEVBQWtCLElBQUksR0FBSyxDQUFFMzFCLFdBQVksR0FBSXJrQixLQUFNQSxJQUt2RCxPQUpBZzZDLEVBQWdCaDZDLEtBQU9BLEVBQ3ZCK0ssS0FBSyt0QyxtQkFBbUI5MkMsS0FBS2c0QyxHQUM3QjluQixFQUFJdHlCLEtBQUttTCxNQUNUQSxLQUFLK3RDLG1CQUFtQm5tQyxNQUNqQnFuQyxFQUVYLE1BQU9DLEdBQ0gsSUFBMkMsSUFBdkNBLEVBQWNDLHFCQUNkLElBQ0lELEVBQWNsdEMsUUFDVmt0QyxFQUFjbHRDLFFBQWRrdEMscUtBSVIsTUFBT0UsR0FFSCxNQUFNRixFQUdkLE1BQU1BLElBSWRyQixFQUFhdjNDLFVBQVVnNEMscUJBQXVCLFNBQVVuTSxFQUFtQnhmLEdBQ3ZFLE9BQU8wc0IsR0FBV3g2QyxLQUFLbUwsS0FBTSxHQUFRbWlDLEVBQW1CeGYsSUFFNURrckIsRUFBYXYzQyxVQUFVbzRDLHlCQUEyQixTQUFVL3JCLEVBQVl3ZixHQUNwRWtOLEdBQVd4NkMsS0FBS21MLEtBQU0sR0FBcUJtaUMsRUFBbUJ4ZixJQUVsRWtyQixFQUFhdjNDLFVBQVVxNEMsaUNBQW1DLFNBQVVoc0IsRUFBWXZlLEdBQzVFaXJDLEdBQVd4NkMsS0FBS21MLEtBQU0sR0FBa0NvRSxFQUFTdWUsR0E5S2xELElBZ0xuQmtyQixFQUFhdjNDLFVBQVVrNEMsbUJBQXFCLFNBQVU3ckIsRUFBWXdmLEdBQzlEa04sR0FBV3g2QyxLQUFLbUwsS0FBTSxHQUFZbWlDLEVBQW1CeGYsSUFFekRrckIsRUFBYXYzQyxVQUFVbTRDLDJCQUE2QixTQUFVOXJCLEVBQVl2ZSxHQUN0RWlyQyxHQUFXeDZDLEtBQUttTCxLQUFNLEdBQXlCb0UsRUFBU3VlLEdBcEx6QyxJQXNMbkJrckIsRUFBYXYzQyxVQUFVaTRDLGlCQUFtQixTQUFVbE0sRUFBWTFmLEdBQzVELE9BQU8yc0IsR0FBYXo2QyxLQUFLbUwsS0FBTXFpQyxFQUFZMWYsSUFFL0NrckIsRUFBYXYzQyxVQUFVKzNDLHNCQUF3QixTQUFVcE0sRUFBWXRmLEVBQVl2ZSxHQUU3RSxHQURBbXJDLEdBQXVCNXNCLElBQ2xCc2YsSUFBOEMsSUFBaEMsWUFBSUEsRUFBWSxZQUF1QixDQUN0RCxJQUFJM2tDLEVBQVEsSUFBSWhGLE1BQU0sV0FBYWszQyxHQUFhN3NCLEdBQTFCLHVFQUNtQzhzQixLQUFLQyxVQUFVek4sR0FEbEQsK0JBRWVqaUMsS0FBSyt0QyxtQkFBbUIsR0FBRzk0QyxLQUFPLEtBRXZFLE1BREFxSSxFQUFNNnhDLHNCQUF1QixFQUN2Qjd4QyxFQUVWLElBQUlxeUMsRUFBVyxZQUFLM3ZDLEtBQUsrdEMsb0JBQ3JCcHRCLEVBQVdzaEIsRUFBcUIsU0FDaEMyTixFQUFrQixJQUFJLEdBQVksQ0FDbEN0NEMsSUFBS3FyQixFQUNMOUgsZ0JBQWlCOEYsRUFFakIvRyxvQkFBZ0I3aEIsSUFHcEIsT0FEQTQzQyxFQUFTcjJCLFdBQVdyaUIsS0FBSzI0QyxHQUNsQjV2QyxLQUFLeStCLFVBQVltUCxHQUEwQk4sSUFFdERPLEVBQWF2M0MsVUFBVTgzQyxzQkFBd0IsU0FBVXBuQyxFQUFTMmIsRUFBWXZlLEdBRTFFLEdBREFtckMsR0FBdUI1c0IsSUFDbEJ2VCxFQUFvQnBJLEdBQVUsQ0FDL0IsSUFBSTFKLEVBQVEsSUFBSWhGLE1BQU0sV0FBYWszQyxHQUFhN3NCLEdBQTFCLG1FQUMrQjhzQixLQUFLQyxVQUFVMW9DLEdBRDlDLCtCQUVlaEgsS0FBSyt0QyxtQkFBbUIsR0FBRzk0QyxLQUFPLEtBRXZFLE1BREFxSSxFQUFNNnhDLHNCQUF1QixFQUN2Qjd4QyxFQUVWLElBQUlxeUMsRUFBVyxZQUFLM3ZDLEtBQUsrdEMsb0JBQ3JCNkIsRUFBa0IsSUFBSSxHQUFTLENBQy9CdDRDLElBQUtxckIsRUFDTDVILGFBQWMvVCxJQUdsQixPQURBMm9DLEVBQVNyMkIsV0FBV3JpQixLQUFLMjRDLEdBQ2xCakMsSUFFSkUsRUEzTXNCLEdBOE1qQyxTQUFTd0IsR0FBV1EsRUFBaUJDLEVBQWFudEIsRUFBWW90QixRQUN4QyxJQUFkQSxJQUF3QkEsR0FBWSxHQUN4Q1IsR0FBdUI1c0IsR0FDdkIsSUFBSWd0QixFQUFXLFlBQUszdkMsS0FBSyt0QyxvQkFDckJpQyxFQUFnQixZQUFXRixHQUFlQSxFQUFjQSxFQUFZNUYsSUFDcEUrRixFQUFVLElBQUlKLEVBQWdCLENBQUV2MkIsV0FBWSxHQUFJaGlCLElBQUtxckIsSUFXekQsT0FWSW90QixJQUNBRSxFQUFRbjFCLFVBQVlnMUIsRUFBWW5GLEtBRWhDLFlBQUltRixFQUFhLG1CQUNqQkcsRUFBUTVnQixhQUFleWdCLEVBQVlJLGVBRXZDbHdDLEtBQUsrdEMsbUJBQW1COTJDLEtBQUtnNUMsR0FDN0JELEVBQWNuN0MsS0FBS21MLE1BQ25CMnZDLEVBQVNyMkIsV0FBV3JpQixLQUFLZzVDLEdBQ3pCandDLEtBQUsrdEMsbUJBQW1Cbm1DLE1BQ2pCMGxDLEdBRVgsU0FBU2dDLEdBQWFRLEVBQWFudEIsR0FDL0IsSUFBSXZmLEVBQVFwRCxLQUNadXZDLEdBQXVCNXNCLEdBQ3ZCLElBQUlndEIsRUFBVyxZQUFLM3ZDLEtBQUsrdEMsb0JBRXJCb0MsR0FBc0MsSUFBekIsWUFBUUwsR0FDckJsZ0IsR0FBc0IsSUFBZnVnQixFQUF1QkwsRUFBY0EsRUFBWTVGLElBQ3hEa0csRUFBWSxJQUFJLEdBQVksQ0FDNUI5MkIsV0FBWSxHQUNaaGlCLElBQUtxckIsRUFDTDNJLGtCQUFtQm0yQixJQUFpRCxJQUFuQ0wsRUFBWU8scUJBRTdDLFlBQUlQLEVBQWEsbUJBQ2pCTSxFQUFVL2dCLGFBQWV5Z0IsRUFBWUksZUFFekMsSUFBSTMxQixFQUFnQixZQUFLcVYsR0FBTSxTQUFVckosR0FBVyxPQUFPLFlBQVdBLEVBQVFrVixTQWlCOUUsT0FoQkEyVSxFQUFVNzFCLGNBQWdCQSxFQUMxQm8xQixFQUFTcjJCLFdBQVdyaUIsS0FBS201QyxHQUN6QixZQUFReGdCLEdBQU0sU0FBVXJKLEdBQ3BCLElBQUkrcEIsRUFBYyxJQUFJLEdBQVksQ0FBRWgzQixXQUFZLEtBQ2hEODJCLEVBQVU5MkIsV0FBV3JpQixLQUFLcTVDLEdBQ3RCLFlBQUkvcEIsRUFBUyxzQkFDYitwQixFQUFZdDJCLGtCQUFvQnVNLEVBQVE4cEIsbUJBR25DLFlBQUk5cEIsRUFBUyxVQUNsQitwQixFQUFZdDJCLG1CQUFvQixHQUVwQzVXLEVBQU0ycUMsbUJBQW1COTJDLEtBQUtxNUMsR0FDOUIvcEIsRUFBUThrQixJQUFJeDJDLEtBQUt1TyxHQUNqQkEsRUFBTTJxQyxtQkFBbUJubUMsU0FFdEIwbEMsR0FFWCxTQUFTa0MsR0FBYWw0QyxHQUNsQixPQUFlLElBQVJBLEVBQVksR0FBSyxHQUFLQSxFQUVqQyxTQUFTaTRDLEdBQXVCajRDLEdBQzVCLEdBQUlBLEVBQU0sR0FBS0EsRUFBTWsyQyxHQUFnQixDQUNqQyxJQUFJbHdDLEVBQVEsSUFBSWhGLE1BRWhCLGtDQUFvQ2hCLEVBQXBDLDhEQUNnRWsyQyxHQUFpQixJQUVqRixNQURBbHdDLEVBQU02eEMsc0JBQXVCLEVBQ3ZCN3hDLEdDclNkLElBQUksR0FBbUMsV0FDbkMsU0FBU2l6QyxLQXlDVCxPQXZDQUEsRUFBa0JqNkMsVUFBVWs2QyxzQkFBd0IsU0FBVXIvQixHQUMxRCxHQUFJLFlBQUlBLEVBQVEsaUJBQWtCLENBQzlCLElBQUlzL0IsRUFBb0J0L0IsRUFBT0osY0FDM0IyL0IsRUFBNkMsaUJBQXRCRCxFQUMzQnp3QyxLQUFLMFIsa0JBQW9CZy9CLEVBQ25CRCxFQUNBOStCLElBQ04zUixLQUFLK1EsY0FBZ0IyL0IsRUFDZkQsRUFBb0IsRUFDcEJBLE9BR056d0MsS0FBSzBSLGtCQUFvQixFQUN6QjFSLEtBQUsrUSxjQUFnQnNqQixHQUFzQnRqQixjQUUvQy9RLEtBQUs0UixpQkFBbUIsR0FFNUIyK0IsRUFBa0JqNkMsVUFBVXViLFdBQWEsU0FBVTJHLEVBQVdDLEdBRzFELElBQTJCLElBQXZCelksS0FBSytRLGNBQXdCLENBQzdCL1EsS0FBSzRSLGtCQUNMLElBQUk4RyxFQUFTLElBQUkvZ0IsTUFBTXFJLEtBQUs0UixnQkFBa0IsR0FBR3pHLEtBQUssTUFDbERuTCxLQUFLNFIsZ0JBQWtCNVIsS0FBSzBSLG1CQUM1QnJVLFFBQVFzYixJQUFJRCxFQUFTLFdBQVVGLEVBQVksS0FFL0MsSUFBSXBNLEVBQUssWUFBTXFNLEdBQVl4WixFQUFPbU4sRUFBR25OLEtBQU10SixFQUFReVcsRUFBR3pXLE1BRWxEaWpCLEVBQWMzWixFQUFPLEdBQUs1QixRQUFRRyxLQUFPSCxRQUFRc2IsSUFLckQsT0FKSTNZLEtBQUs0UixnQkFBa0I1UixLQUFLMFIsbUJBQzVCa0gsRUFBWUYsRUFBUyxRQUFVRixFQUFZLFdBQWF2WixFQUFPLE1BRW5FZSxLQUFLNFIsa0JBQ0VqYyxFQUdQLE9BQU84aUIsS0FHUjgzQixFQTFDMkIsR0NMbEMsR0FBd0MsV0FDeEMsSUFBSTV3QyxFQUFnQixTQUFVM0ssRUFBRzRHLEdBSTdCLE9BSEErRCxFQUFnQnZLLE9BQU95SyxnQkFDbEIsQ0FBRUMsVUFBVyxjQUFnQm5JLE9BQVMsU0FBVTNDLEVBQUc0RyxHQUFLNUcsRUFBRThLLFVBQVlsRSxJQUN2RSxTQUFVNUcsRUFBRzRHLEdBQUssSUFBSyxJQUFJcEYsS0FBS29GLEVBQU9BLEVBQUVyRixlQUFlQyxLQUFJeEIsRUFBRXdCLEdBQUtvRixFQUFFcEYsTUFDcER4QixFQUFHNEcsSUFFNUIsT0FBTyxTQUFVNUcsRUFBRzRHLEdBRWhCLFNBQVNtRSxJQUFPQyxLQUFLQyxZQUFjakwsRUFEbkMySyxFQUFjM0ssRUFBRzRHLEdBRWpCNUcsRUFBRXNCLFVBQWtCLE9BQU5zRixFQUFheEcsT0FBT1ksT0FBTzRGLElBQU1tRSxFQUFHekosVUFBWXNGLEVBQUV0RixVQUFXLElBQUl5SixJQVYzQyxHQTRCakN1aEMsR0FBY2h1QixHQUFvQjhGLEVBQUssR0FBSXFiLElBQUtBLElBQUtBLElBQUtBLElBQUtBLElBQUtBLEtBQy9Fci9CLE9BQU82YixPQUFPcXdCLElBQ1AsSUFjSW5kLEdBZEFrUSxHQUF3QmovQixPQUFPNmIsT0FBTyxDQUM3Q21qQixpQkFBaUIsRUFDakIvRSxhQUFjLEVBQ2RtSyxzQkFBc0IsRUFDdEJpRixXQUFXLEVBQ1gzdEIscUJBQXNCd1AsR0FDdEJvZSxxQkFBc0IsT0FDdEIzdEIsZUFBZSxFQUNmQyxpQkFBaUIsSUFFVjQyQixHQUFzQnh5QyxPQUFPNmIsT0FBTyxDQUMzQ280QixrQkFBbUIsYUFDbkJELGVBQWUsSUFrQlosU0FBU3VILEdBQVVoN0MsR0FFdEIsWUFEYyxJQUFWQSxJQUFvQkEsT0FBUW9DLEdBQ3pCLFdBQ0gsT0FBT3BDLElBbEJmLFNBQVd3dUIsR0FDUEEsRUFBMEJBLEVBQTZDLGtCQUFJLEdBQUssb0JBQ2hGQSxFQUEwQkEsRUFBK0Msb0JBQUksR0FBSyxzQkFDbEZBLEVBQTBCQSxFQUFpRCxzQkFBSSxHQUFLLHdCQUNwRkEsRUFBMEJBLEVBQWlELHNCQUFJLEdBQUssd0JBQ3BGQSxFQUEwQkEsRUFBa0QsdUJBQUksR0FBSyx5QkFDckZBLEVBQTBCQSxFQUEwQyxlQUFJLEdBQUssaUJBQzdFQSxFQUEwQkEsRUFBK0Msb0JBQUksR0FBSyxzQkFDbEZBLEVBQTBCQSxFQUEwQyxlQUFJLEdBQUssaUJBQzdFQSxFQUEwQkEsRUFBMkQsZ0NBQUksR0FBSyxrQ0FDOUZBLEVBQTBCQSxFQUE4QyxtQkFBSSxHQUFLLHFCQUNqRkEsRUFBMEJBLEVBQWtELHVCQUFJLElBQU0seUJBQ3RGQSxFQUEwQkEsRUFBaUQsc0JBQUksSUFBTSx3QkFDckZBLEVBQTBCQSxFQUF5QyxjQUFJLElBQU0sZ0JBYmpGLENBY0dBLEtBQThCQSxHQUE0QixLQU83RCxJQUFJLEdBQXdCLFdBQ3hCLFNBQVN5c0IsRUFBT2hJLEVBQWlCejNCLEdBQzdCblIsS0FBSzhuQyxpQkFBbUIsR0FDeEI5bkMsS0FBS3FoQyxrQkFBbUIsRUFXeEIsR0FWV3JoQyxLQUNOb3NDLGlCQUFpQmo3QixHQURYblIsS0FFTmloQyxtQkFGTWpoQyxLQUdOdTVCLGVBQWVwb0IsR0FIVG5SLEtBSU4yb0MscUJBQXFCQyxFQUFpQnozQixHQUpoQ25SLEtBS05pMEIsZ0JBQWdCOWlCLEdBTFZuUixLQU1OdStCLGdCQUFnQnB0QixHQU5WblIsS0FPTitzQyxvQkFQTS9zQyxLQVFOOHRDLGlCQUFpQjM4QixHQVJYblIsS0FTTnd3QyxzQkFBc0JyL0IsR0FDdkIsWUFBSUEsRUFBUSxpQkFDWixNQUFNLElBQUk3WSxNQUFNLGtSQUtwQjBILEtBQUtnUixnQkFBa0IsWUFBSUcsRUFBUSxtQkFDN0JBLEVBQU9ILGdCQUNQcWpCLEdBQXNCcmpCLGdCQXVGaEMsT0FsRkE0L0IsRUFBT0Msb0JBQXNCLFNBQVVDLEdBQ25DLE1BQU14NEMsTUFBTSxnSUFHaEJzNEMsRUFBT3Q2QyxVQUFVdTZDLG9CQUFzQixXQUNuQyxJQUFJenRDLEVBQVFwRCxLQUNaQSxLQUFLNlIsV0FBVyx1QkFBdUIsV0FDbkMsSUFBSWsvQixFQUNKM3RDLEVBQU1pK0Isa0JBQW1CLEVBQ3pCLElBQUkxTyxFQUFZdnZCLEVBQU11dkIsVUFDdEJ2dkIsRUFBTXlPLFdBQVcsZUFBZSxXQUk1QixZQUFpQnpPLE1BRXJCQSxFQUFNeU8sV0FBVyxxQkFBcUIsV0FDbEMsSUFDSXpPLEVBQU02cUMsa0JBRU4sWUFBUTdxQyxFQUFNeWtDLG1CQUFtQixTQUFVbFcsR0FDdkMsSUFDSXFmLEVBRGM1dEMsRUFBTXV1QixHQUN1QyxzQkFDM0RzZixPQUFtQmw1QyxFQUN2QnFMLEVBQU15TyxXQUFXOGYsRUFBZSxTQUFTLFdBQ3JDc2YsRUFBbUI3dEMsRUFBTTRyQyxtQkFBbUJyZCxFQUFjcWYsTUFFOUQ1dEMsRUFBTXE5QixxQkFBcUI5TyxHQUFnQnNmLEtBR25ELFFBQ0k3dEMsRUFBTTJyQyx1QkFHZCxJQUFJbUMsRUFBaUIsR0FrQ3JCLEdBakNBOXRDLEVBQU15TyxXQUFXLHFCQUFxQixXQUNsQ3EvQixFQUFpQixHQUFlLENBQzVCbGUsTUFBTyxZQUFPNXZCLEVBQU1xOUIsd0JBRXhCcjlCLEVBQU0wa0MsaUJBQWlCN3dDLEtBQUtnRSxNQUFNbUksRUFBTTBrQyxpQkFBa0JvSixNQUU5RDl0QyxFQUFNeU8sV0FBVyx1QkFBdUIsV0FHcEMsR0FBSSxZQUFRcS9CLEtBQTZDLElBQTFCOXRDLEVBQU00TixnQkFBMkIsQ0FDNUQsSUFBSW1nQyxFQUFtQixHQUFnQixDQUNuQ25lLE1BQU8sWUFBTzV2QixFQUFNcTlCLHNCQUNwQnBSLGFBQWNqc0IsRUFBTWlzQixhQUNwQmxyQixXQUFZLFlBQU9mLEVBQU0ybEMsV0FDekJobEIsZUFBZ0JqQyxHQUNoQjhCLFlBQWErTyxJQUVqQnZ2QixFQUFNMGtDLGlCQUFpQjd3QyxLQUFLZ0UsTUFBTW1JLEVBQU0wa0MsaUJBQWtCcUosT0FJOUQsWUFBUS90QyxFQUFNMGtDLG9CQUVWMWtDLEVBQU1neEIsaUJBQ05oeEIsRUFBTXlPLFdBQVcsMEJBQTBCLFdBQ3ZDLEl0QjNHZXUvQixFQUMvQkMsRXNCMEdvQkMsR3RCM0dXRixFc0IyR3lCLFlBQU9odUMsRUFBTXE5QixzQnRCMUdyRTRRLEVBQWdCLEdBQ3BCLFlBQVFELEdBQWdCLFNBQVV0eEIsR0FDOUIsSUFBSXl4QixFQUFpQixJQUFJLEdBQW9CenhCLEdBQVNFLGVBQ3RELFlBQU9xeEIsRUFBZUUsTUFFbkJGLEdzQnNHYWp1QyxFQUFNK3dCLGNBQWdCbWQsS0FHOUJsdUMsRUFBTXlPLFdBQVcsNkJBQTZCLFdBQzFDek8sRUFBTTQyQiw2QkFBNkIsWUFBTzUyQixFQUFNcTlCLDRCQUduRG1RLEVBQU9ZLG1DQUNQLFlBQVFwdUMsRUFBTTBrQyxrQkFFZixNQURBaUosRUFBZ0IsWUFBSTN0QyxFQUFNMGtDLGtCQUFrQixTQUFVM2EsR0FBWSxPQUFPQSxFQUFTbnJCLFdBQzVFLElBQUkxSixNQUFNLHdDQUEwQ3k0QyxFQUFjNWxDLEtBQUssNENBVXpGeWxDLEVBQU9ZLGtDQUFtQyxFQUNuQ1osRUE3R2dCLEdBZ0gzQixZQUFZLEdBQVEsQ0FDaEIsR0FDQSxHQUNBLEdBQ0EsR0FDQSxHQUNBLEdBQ0EsR0FDQSxHQUNBLEdBQ0EsS0FFSixJQUFJLEdBQTJCLFNBQVUxdEMsR0FFckMsU0FBU3V1QyxFQUFVN0ksRUFBaUJ6M0IsUUFDakIsSUFBWEEsSUFBcUJBLEVBQVNrakIsSUFDbEMsSUFDSXFkLEVBQWMsWUFBU3ZnQyxHQUczQixPQUZBdWdDLEVBQVlqVCxXQUFZLEVBQ2hCdjdCLEVBQU9yTyxLQUFLbUwsS0FBTTRvQyxFQUFpQjhJLElBQWdCMXhDLEtBRy9ELE9BVEEsR0FBVXl4QyxFQUFXdnVDLEdBU2R1dUMsRUFWbUIsQ0FXNUIsSUFFRSxHQUF1QyxTQUFVdnVDLEdBRWpELFNBQVN5dUMsRUFBc0IvSSxFQUFpQnozQixRQUM3QixJQUFYQSxJQUFxQkEsRUFBU2tqQixJQUNsQyxJQUNJcWQsRUFBYyxZQUFTdmdDLEdBRzNCLE9BRkF1Z0MsRUFBWWpULFdBQVksRUFDaEJ2N0IsRUFBT3JPLEtBQUttTCxLQUFNNG9DLEVBQWlCOEksSUFBZ0IxeEMsS0FHL0QsT0FUQSxHQUFVMnhDLEVBQXVCenVDLEdBUzFCeXVDLEVBVitCLENBV3hDLElDck5LLFNBQVNDLEdBQXlCQyxFQUFTemxDLEdBQzlDLElBQUkwbEMsT0FBWSxJQUFQMWxDLEVBQWdCLEdBQUtBLEVBQUkybEMsRUFBS0QsRUFBR0UsYUFBY0EsT0FBc0IsSUFBUEQsRUFBZ0IsZ0NBQWtDN3lDLEVBQVUsYUFBZTZ5QyxFQUFJRSxFQUFLSCxFQUFHSSxJQU85SixNQU5hLHFLQUNDLHdDQUZrSyxJQUFQRCxFQUFnQixnQ0FBa0MveUMsRUFBVSx5QkFBMkIreUMsR0FFeE0sU0FDMUMsa0JBQW9CRCxFQUFlLHlEQUEwREEsRUFBZSxxREFBc0RBLEVBQWUsc0RBQXVEQSxFQUFlLDZCQUNuUCxvREFDTSw4Q0FBZ0R2QyxLQUFLQyxVQUFVbUMsRUFBUyxLQUFNLE1BQVEsbUJBQzlGLG9LQ0FwQixJQUFJTSxHQUFLLEtBT0YsU0FBU0MsR0FBU2h1QyxHQUVyQixJQUd3QjR1QixFQUZ4QixNQURhLGNBQWdCNXVCLEVBQVFuUCxLQUFPLGtRQUdwQis5QixFQUhtUzV1QixFQUFRNHVCLE1BSW5ULFlBQUlBLEdBQU8sU0FBVXZQLEdBQ2pDLE9BS0Fyc0IsRUFBUyxHQURhakIsRUFKRyxFQUtOLFlBREhzakIsRUFKRGdLLEdBS3VCeHVCLEtBQU8sbUJBQXNCazlDLEdBQ3ZFLzZDLEdBQVVpN0MsR0FBYzU0QixFQUFLSCxXQUFZbmpCLEVBQUksR0FDN0NpQixHQUFVLEdBQU9qQixFQUFJLEVBQUcsTUFBUWc4QyxHQUg3QixJQUFpQjE0QixFQUFNdGpCLEVBQ3RCaUIsS0FIYStULEtBQUssTUFQc1Qsc1VBQXVVL0csRUFBUW5QLEtBQU8sK0RBQWlFbVAsRUFBUW5QLEtBQU8sNEJBQThCbVAsRUFBUW5QLEtBQU8sYUF1QjV4QixTQUFTcTlDLEdBQWU3NEIsRUFBTXRqQixHQUNqQyxJQUFJaUIsRUFBUyxHQUFPakIsRUFBRyxPQUFTc2pCLEVBQUtuaUIsSUFBTSxNQUFRNjZDLEdBQy9DdmlCLEVBQU8sWUFBSW5XLEVBQUtILFlBQVksU0FBVWk1QixHQUFVLE9BS2pELFNBQXNCOTRCLEVBQU10akIsR0FDL0IsSUFBSWlCLEVBQVMsR0FBT2pCLEVBQUcsS0FBT2c4QyxHQUs5QixPQUpBLzZDLEdBQVUsR0FBT2pCLEVBQUksRUFBRyxxQkFBdUJnOEMsR0FDL0MvNkMsR0FBVWk3QyxHQUFjNTRCLEVBQUtILFdBQVluakIsRUFBSSxHQUM3Q2lCLEdBQVUsR0FBT2pCLEVBQUksRUFBRyxLQUFPZzhDLEdBQy9CLzZDLEdBQVUsR0FBT2pCLEVBQUcsS0FWdUNxOEMsQ0FBYUQsRUFBUXA4QyxFQUFJLE1BR3BGLE9BRkFpQixHQUFVdzRCLEVBQUt6a0IsS0FBSyxPQUNwQi9ULEdBQVUrNkMsR0FBSyxHQUFPaDhDLEVBQUcsUUFXN0IsU0FBU3M4QyxHQUFRaDVCLEVBQU10akIsR0FFbkIsR0FBSXNqQixhQUFnQixHQUNoQixPQXJCRCxTQUF3QkEsRUFBTXRqQixHQUNqQyxPQUFPLEdBQU9BLEVBQUcsWUFBY3NqQixFQUFLbmlCLElBQU0sTUFBUW1pQixFQUFLb0IsZ0JBQWtCLElBQU1zM0IsSUFvQnBFTyxDQUFlajVCLEVBQU10akIsR0FFM0IsR0FBSXNqQixhQUFnQixHQUNyQixPQUFPazVCLEdBQVcsU0FBVWw1QixFQUFNdGpCLEdBRWpDLEdBQUlzakIsYUFBZ0IsR0FDckIsT0FBT2s1QixHQUFXLGVBQWdCbDVCLEVBQU10akIsR0FFdkMsR0FBSXNqQixhQUFnQixHQUNyQixPQUFPazVCLEdBQVcsbUJBQW9CbDVCLEVBQU10akIsR0FFM0MsR0FBSXNqQixhQUFnQixHQUNyQixPQUFPazVCLEdBQVcsV0FBWWw1QixFQUFNdGpCLEdBRW5DLEdBQUlzakIsYUFBZ0IsR0FDckIsT0FBT2s1QixHQUFXLE9BQVFsNUIsRUFBTXRqQixHQUUvQixHQUFJc2pCLGFBQWdCLEdBQ3JCLE9BQU82NEIsR0FBZTc0QixFQUFNdGpCLEdBRTNCLEdBQUlzakIsYUFBZ0IsR0FDckIsT0EvQ0QsU0FBcUJBLEVBQU10akIsR0FDOUIsSUFBSWxCLEVBQU93a0IsRUFBS3NCLGFBQWE5bEIsS0FFN0IsT0FBTyxHQUFPa0IsRUFBRyxZQUFjc2pCLEVBQUtuaUIsSUFBTSxtQkFBcUJyQyxFQUFPLElBQU1rOUMsSUE0Q2pFUyxDQUFZbjVCLEVBQU10akIsR0FFeEIsR0FBSXNqQixhQUFnQixHQUNyQixPQUFPNDRCLEdBQWM1NEIsRUFBS0gsV0FBWW5qQixHQUd0QyxNQUFNbUMsTUFBTSx3QkFHcEIsU0FBU3E2QyxHQUFXeHdCLEVBQVMxSSxFQUFNdGpCLEdBQy9CLElBQUlpQixFQUFTLEdBQU9qQixFQUFHLE1BQVFnc0IsRUFBVTFJLEVBQUtuaUIsS0FBTyxLQVlyRCxPQVhJbWlCLEVBQUtxQixXQUNMMWpCLEdBQVUsTUFDVkEsR0FDSSxHQUFPakIsRUFBSSxFQUFHLHVCQUF5QnNqQixFQUFLcUIsVUFBVTdsQixNQUFRLElBQU1rOUMsR0FDeEUvNkMsR0FBVSxRQUFVeTdDLEdBQWVwNUIsRUFBS0gsV0FBWW5qQixFQUFJLEdBQUtnOEMsR0FDN0QvNkMsR0FBVSxHQUFPakIsRUFBRyxLQUFPZzhDLElBRzNCLzZDLEdBQVV5N0MsR0FBZXA1QixFQUFLSCxXQUFZbmpCLEVBQUksR0FFbERpQixHQUFVLEdBQU9qQixFQUFHLEtBQU9nOEMsR0FHL0IsU0FBU1UsR0FBZXY1QixFQUFZbmpCLEdBQ2hDLElBQUlneEIsRUFBTSxpQkFHVixPQUZBQSxHQUFPa3JCLEdBQWMvNEIsRUFBWW5qQixHQUNqQ2d4QixHQUFPLEdBQU9oeEIsRUFBRyxLQUFPZzhDLEdBRzVCLFNBQVNFLEdBQWNsckIsRUFBS2h4QixHQUN4QixJQUFJaUIsRUFBUyxHQUliLE9BSEEsWUFBUSt2QixHQUFLLFNBQVUxTixHQUNuQnJpQixHQUFVcTdDLEdBQVFoNUIsRUFBTXRqQixFQUFJLE1BRXpCaUIsRUFFWCxTQUFTLEdBQU8wQixFQUFTZ1YsR0FFckIsT0FEYW5XLE1BQWdCLEVBQVZtQixFQUFjLEdBQUdxUyxLQUFLLEtBQ3pCMkMsRUNySGIsU0FBU2dsQyxHQUFzQjF1QyxHQUNsQyxJQUFJMnVDLEVEVUQsU0FBNEIzdUMsR0FDL0IsTUFBTyxTQUFXZ3VDLEdBQVNodUMsR0FBVyxnQkFBa0JBLEVBQVFuUCxLQUFPLGtDQ1hyRCs5QyxDQUFtQixDQUNqQy85QyxLQUFNbVAsRUFBUW5QLEtBQ2QrOUIsTUFBTzV1QixFQUFRNHVCLFFBRWZpZ0IsRUFBcUIsSUFBSXI2QyxTQUFTLGtCQUFtQixTQUFVLGFBQWNtNkMsR0FDakYsT0FBTyxTQUFVNWhDLEdBQ2IsT0FBTzhoQyxFQUFtQjd1QyxFQUFRd2tDLGdCQUFpQnozQixFQUVuRCxFQUFRLEtBR1QsU0FBUytoQyxHQUFxQjl1QyxHQUNqQyxPRExHLFNBQXNCQSxHQUN6QixNQUFPLGtvQkFBb29CZ3VDLEdBQVNodUMsR0FBVyx5QkFBMkJBLEVBQVFuUCxLQUFPLEtBQU9tUCxFQUFRblAsS0FBTyxlQ0l4dEJrK0MsQ0FBYSxDQUFFbCtDLEtBQU1tUCxFQUFRblAsS0FBTSs5QixNQUFPNXVCLEVBQVE0dUIsUUNHdEQsU0FBU29nQixLQUNaLzFDLFFBQVFHLEtBQUssNE1BTWpCLElBQUksR0FDQSxXQUNJLE1BQU0sSUFBSWxGLE1BQU0sOEssaUJDMUJ4Qjs7Ozs7Ozs7SUFRRSxXQUdBLElBVUkrNkMsRUFBa0Isc0JBU2xCQyxFQUFjLHlCQWdEZEMsRUFBWSxDQUNkLENBQUMsTUE5QmlCLEtBK0JsQixDQUFDLE9BdENrQixHQXVDbkIsQ0FBQyxVQXRDc0IsR0F1Q3ZCLENBQUMsUUFyQ21CLEdBc0NwQixDQUFDLGFBckN5QixJQXNDMUIsQ0FBQyxPQWpDa0IsS0FrQ25CLENBQUMsVUF0Q3FCLElBdUN0QixDQUFDLGVBdEMyQixJQXVDNUIsQ0FBQyxRQXJDbUIsTUF5Q2xCQyxFQUFVLHFCQUNWQyxFQUFXLGlCQUVYQyxFQUFVLG1CQUNWQyxFQUFVLGdCQUVWQyxFQUFXLGlCQUNYQyxFQUFVLG9CQUNWQyxFQUFTLDZCQUNUQyxFQUFTLGVBQ1RDLEVBQVksa0JBRVpDLEVBQVksa0JBR1pDLEVBQVksa0JBQ1pDLEVBQVMsZUFDVEMsRUFBWSxrQkFDWkMsRUFBWSxrQkFFWkMsRUFBYSxtQkFHYkMsRUFBaUIsdUJBQ2pCQyxFQUFjLG9CQUNkQyxFQUFhLHdCQUNiQyxFQUFhLHdCQUNiQyxFQUFVLHFCQUNWQyxFQUFXLHNCQUNYQyxFQUFXLHNCQUNYQyxFQUFXLHNCQUVYQyxFQUFZLHVCQUNaQyxFQUFZLHVCQUdaQyxFQUF1QixpQkFDdkJDLEVBQXNCLHFCQUN0QkMsRUFBd0IsZ0NBR3hCQyxFQUFnQiw0QkFDaEJDLEVBQWtCLFdBQ2xCQyxFQUFtQm42QyxPQUFPaTZDLEVBQWNydkMsUUFDeEN3dkMsRUFBcUJwNkMsT0FBT2s2QyxFQUFnQnR2QyxRQUc1Q3l2QyxFQUFXLG1CQUNYQyxFQUFhLGtCQUNiQyxFQUFnQixtQkFHaEJDLEVBQWUsbURBQ2ZDLEVBQWdCLFFBQ2hCQyxFQUFhLG1HQU1iQyxFQUFlLHNCQUNmQyxFQUFrQjU2QyxPQUFPMjZDLEVBQWEvdkMsUUFHdENpd0MsRUFBUyxhQUNUQyxFQUFjLE9BQ2RDLEVBQVksT0FHWkMsRUFBZ0IsNENBQ2hCQyxFQUFnQixvQ0FDaEJDLEVBQWlCLFFBR2pCQyxHQUFjLDRDQUdkQyxHQUFlLFdBTWZDLEdBQWUsa0NBR2ZDLEdBQVUsT0FHVkMsR0FBYSxxQkFHYkMsR0FBYSxhQUdiQyxHQUFlLDhCQUdmQyxHQUFZLGNBR1pDLEdBQVcsbUJBR1hDLEdBQVUsOENBR1ZDLEdBQVksT0FHWkMsR0FBb0IseUJBT3BCQyxHQUFlQyxnREFTZkMsR0FBZUMsOE9BSWZDLEdBQVcsb0JBQ1hDLEdBQVUsSUFBTUgsR0FBZSxJQUMvQkksR0FBVSxJQUFNTixHQUFlLElBQy9CTyxHQUFXLE9BQ1hDLEdBQVksb0JBQ1pDLEdBQVUsOEJBQ1ZDLEdBQVMsb0JBQXVCUixHQUFlSyxHQUF0QyxxRUFDVEksR0FBUywyQkFFVEMsR0FBYyxxQkFDZEMsR0FBYSxrQ0FDYkMsR0FBYSxxQ0FDYkMsR0FBVSw4QkFJVkMsR0FBYyxNQUFRUCxHQUFVLElBQU1DLEdBQVMsSUFDL0NPLEdBQWMsTUFBUUYsR0FBVSxJQUFNTCxHQUFTLElBRy9DUSxHQVphLE1BQVFaLEdBQVUsSUFBTUssR0FBUyxJQVl0QixJQUt4QlEsR0FKVyxvQkFJUUQsSUFIUCxnQkFBd0IsQ0FBQ04sR0FBYUMsR0FBWUMsSUFBWTdzQyxLQUFLLEtBQW5FLHFCQUEyRml0QyxHQUFXLE1BSWxIRSxHQUFVLE1BQVEsQ0FBQ1osR0FBV0ssR0FBWUMsSUFBWTdzQyxLQUFLLEtBQU8sSUFBTWt0QyxHQUN4RUUsR0FBVyxNQUFRLENBQUNULEdBQWNOLEdBQVUsSUFBS0EsR0FBU08sR0FBWUMsR0FBWVYsSUFBVW5zQyxLQUFLLEtBQU8sSUFHeEdxdEMsR0FBU3I5QyxPQS9CQSxPQStCZSxLQU14QnM5QyxHQUFjdDlDLE9BQU9xOEMsR0FBUyxLQUc5QmtCLEdBQVl2OUMsT0FBTzA4QyxHQUFTLE1BQVFBLEdBQVMsS0FBT1UsR0FBV0YsR0FBTyxLQUd0RU0sR0FBZ0J4OUMsT0FBTyxDQUN6Qjg4QyxHQUFVLElBQU1OLEdBQWhCTSxvQ0FBMEQsQ0FBQ1YsR0FBU1UsR0FBUyxLQUFLOXNDLEtBQUssS0FBTyxJQUM5Rmd0Qyx1Q0FBOEMsQ0FBQ1osR0FBU1UsR0FBVUMsR0FBYSxLQUFLL3NDLEtBQUssS0FBTyxJQUNoRzhzQyxHQUFVLElBQU1DLEdBQWhCRCxpQ0FDQUEsb0NBdEJlLG1EQURBLG1EQTBCZlIsR0FDQWEsSUFDQW50QyxLQUFLLEtBQU0sS0FHVHl0QyxHQUFlejlDLE9BQU8sMEJBQStCKzdDLEdBQS9CLG1CQUd0QjJCLEdBQW1CLHFFQUduQkMsR0FBZSxDQUNqQixRQUFTLFNBQVUsV0FBWSxPQUFRLFFBQVMsZUFBZ0IsZUFDaEUsV0FBWSxZQUFhLGFBQWMsYUFBYyxNQUFPLE9BQVEsU0FDcEUsVUFBVyxTQUFVLE1BQU8sU0FBVSxTQUFVLFlBQWEsYUFDN0Qsb0JBQXFCLGNBQWUsY0FBZSxVQUNuRCxJQUFLLGVBQWdCLFdBQVksV0FBWSxjQUkzQ0MsSUFBbUIsRUFHbkJDLEdBQWlCLEdBQ3JCQSxHQUFldkUsR0FBY3VFLEdBQWV0RSxHQUM1Q3NFLEdBQWVyRSxHQUFXcUUsR0FBZXBFLEdBQ3pDb0UsR0FBZW5FLEdBQVltRSxHQUFlbEUsR0FDMUNrRSxHQS9Lc0IsOEJBK0tZQSxHQUFlakUsR0FDakRpRSxHQUFlaEUsSUFBYSxFQUM1QmdFLEdBQWV4RixHQUFXd0YsR0FBZXZGLEdBQ3pDdUYsR0FBZXpFLEdBQWtCeUUsR0FBZXRGLEdBQ2hEc0YsR0FBZXhFLEdBQWV3RSxHQUFlckYsR0FDN0NxRixHQUFlcEYsR0FBWW9GLEdBQWVuRixHQUMxQ21GLEdBQWVqRixHQUFVaUYsR0FBZWhGLEdBQ3hDZ0YsR0FBZS9FLEdBQWErRSxHQUFlOUUsR0FDM0M4RSxHQUFlN0UsR0FBVTZFLEdBQWU1RSxHQUN4QzRFLEdBQWUxRSxJQUFjLEVBRzdCLElBQUkyRSxHQUFnQixHQUNwQkEsR0FBY3pGLEdBQVd5RixHQUFjeEYsR0FDdkN3RixHQUFjMUUsR0FBa0IwRSxHQUFjekUsR0FDOUN5RSxHQUFjdkYsR0FBV3VGLEdBQWN0RixHQUN2Q3NGLEdBQWN4RSxHQUFjd0UsR0FBY3ZFLEdBQzFDdUUsR0FBY3RFLEdBQVdzRSxHQUFjckUsR0FDdkNxRSxHQUFjcEUsR0FBWW9FLEdBQWNsRixHQUN4Q2tGLEdBQWNqRixHQUFhaUYsR0FBY2hGLEdBQ3pDZ0YsR0FBYy9FLEdBQWErRSxHQUFjOUUsR0FDekM4RSxHQUFjN0UsR0FBYTZFLEdBQWM1RSxHQUN6QzRFLEdBQWNuRSxHQUFZbUUsR0FyTUosOEJBc010QkEsR0FBY2xFLEdBQWFrRSxHQUFjakUsSUFBYSxFQUN0RGlFLEdBQWNyRixHQUFZcUYsR0FBY3BGLEdBQ3hDb0YsR0FBYzNFLElBQWMsRUFHNUIsSUE0RUk0RSxHQUFnQixDQUNsQixLQUFNLEtBQ04sSUFBSyxJQUNMLEtBQU0sSUFDTixLQUFNLElBQ04sU0FBVSxRQUNWLFNBQVUsU0FJUkMsR0FBaUJDLFdBQ2pCQyxHQUFlQyxTQUdmQyxHQUE4QixpQkFBVjl1QyxHQUFzQkEsR0FBVUEsRUFBT3JWLFNBQVdBLFFBQVVxVixFQUdoRit1QyxHQUEwQixpQkFBUkMsTUFBb0JBLE1BQVFBLEtBQUtya0QsU0FBV0EsUUFBVXFrRCxLQUd4RUMsR0FBT0gsSUFBY0MsSUFBWTVnRCxTQUFTLGNBQVRBLEdBR2pDK2dELEdBQTRDbmxELElBQVlBLEVBQVFvbEQsVUFBWXBsRCxFQUc1RXFsRCxHQUFhRixJQUFnQyxpQkFBVmxsRCxHQUFzQkEsSUFBV0EsRUFBT21sRCxVQUFZbmxELEVBR3ZGcWxELEdBQWdCRCxJQUFjQSxHQUFXcmxELFVBQVltbEQsR0FHckRJLEdBQWNELElBQWlCUCxHQUFXUyxRQUcxQ0MsR0FBWSxXQUNkLElBRUUsSUFBSUMsRUFBUUwsSUFBY0EsR0FBV00sU0FBV04sR0FBV00sUUFBUSxRQUFRRCxNQUUzRSxPQUFJQSxHQUtHSCxJQUFlQSxHQUFZSyxTQUFXTCxHQUFZSyxRQUFRLFFBQ2pFLE1BQU9yNEMsS0FYSSxHQWVYczRDLEdBQW9CSixJQUFZQSxHQUFTSyxjQUN6Q0MsR0FBYU4sSUFBWUEsR0FBU08sT0FDbENDLEdBQVlSLElBQVlBLEdBQVNTLE1BQ2pDQyxHQUFlVixJQUFZQSxHQUFTLytDLFNBQ3BDMC9DLEdBQVlYLElBQVlBLEdBQVNZLE1BQ2pDQyxHQUFtQmIsSUFBWUEsR0FBU2MsYUFjNUMsU0FBUzkvQyxHQUFNTixFQUFNcWdELEVBQVM1aUMsR0FDNUIsT0FBUUEsRUFBS3hoQixRQUNYLEtBQUssRUFBRyxPQUFPK0QsRUFBSzlGLEtBQUttbUQsR0FDekIsS0FBSyxFQUFHLE9BQU9yZ0QsRUFBSzlGLEtBQUttbUQsRUFBUzVpQyxFQUFLLElBQ3ZDLEtBQUssRUFBRyxPQUFPemQsRUFBSzlGLEtBQUttbUQsRUFBUzVpQyxFQUFLLEdBQUlBLEVBQUssSUFDaEQsS0FBSyxFQUFHLE9BQU96ZCxFQUFLOUYsS0FBS21tRCxFQUFTNWlDLEVBQUssR0FBSUEsRUFBSyxHQUFJQSxFQUFLLElBRTNELE9BQU96ZCxFQUFLTSxNQUFNKy9DLEVBQVM1aUMsR0FhN0IsU0FBUzZpQyxHQUFnQkMsRUFBT0MsRUFBUUMsRUFBVWhoRCxHQUloRCxJQUhBLElBQUlrUyxHQUFTLEVBQ1QxVixFQUFrQixNQUFUc2tELEVBQWdCLEVBQUlBLEVBQU10a0QsU0FFOUIwVixFQUFRMVYsR0FBUSxDQUN2QixJQUFJakIsRUFBUXVsRCxFQUFNNXVDLEdBQ2xCNnVDLEVBQU8vZ0QsRUFBYXpFLEVBQU95bEQsRUFBU3psRCxHQUFRdWxELEdBRTlDLE9BQU85Z0QsRUFZVCxTQUFTaWhELEdBQVVILEVBQU9FLEdBSXhCLElBSEEsSUFBSTl1QyxHQUFTLEVBQ1QxVixFQUFrQixNQUFUc2tELEVBQWdCLEVBQUlBLEVBQU10a0QsU0FFOUIwVixFQUFRMVYsSUFDOEIsSUFBekN3a0QsRUFBU0YsRUFBTTV1QyxHQUFRQSxFQUFPNHVDLEtBSXBDLE9BQU9BLEVBWVQsU0FBU0ksR0FBZUosRUFBT0UsR0FHN0IsSUFGQSxJQUFJeGtELEVBQWtCLE1BQVRza0QsRUFBZ0IsRUFBSUEsRUFBTXRrRCxPQUVoQ0EsTUFDMEMsSUFBM0N3a0QsRUFBU0YsRUFBTXRrRCxHQUFTQSxFQUFRc2tELEtBSXRDLE9BQU9BLEVBYVQsU0FBU0ssR0FBV0wsRUFBT2hpRCxHQUl6QixJQUhBLElBQUlvVCxHQUFTLEVBQ1QxVixFQUFrQixNQUFUc2tELEVBQWdCLEVBQUlBLEVBQU10a0QsU0FFOUIwVixFQUFRMVYsR0FDZixJQUFLc0MsRUFBVWdpRCxFQUFNNXVDLEdBQVFBLEVBQU80dUMsR0FDbEMsT0FBTyxFQUdYLE9BQU8sRUFZVCxTQUFTTSxHQUFZTixFQUFPaGlELEdBTTFCLElBTEEsSUFBSW9ULEdBQVMsRUFDVDFWLEVBQWtCLE1BQVRza0QsRUFBZ0IsRUFBSUEsRUFBTXRrRCxPQUNuQzZrRCxFQUFXLEVBQ1hya0QsRUFBUyxLQUVKa1YsRUFBUTFWLEdBQVEsQ0FDdkIsSUFBSWpCLEVBQVF1bEQsRUFBTTV1QyxHQUNkcFQsRUFBVXZELEVBQU8yVyxFQUFPNHVDLEtBQzFCOWpELEVBQU9xa0QsS0FBYzlsRCxHQUd6QixPQUFPeUIsRUFZVCxTQUFTc2tELEdBQWNSLEVBQU92bEQsR0FFNUIsU0FEc0IsTUFBVHVsRCxFQUFnQixFQUFJQSxFQUFNdGtELFNBQ3BCK2tELEdBQVlULEVBQU92bEQsRUFBTyxJQUFNLEVBWXJELFNBQVNpbUQsR0FBa0JWLEVBQU92bEQsRUFBT2ttRCxHQUl2QyxJQUhBLElBQUl2dkMsR0FBUyxFQUNUMVYsRUFBa0IsTUFBVHNrRCxFQUFnQixFQUFJQSxFQUFNdGtELFNBRTlCMFYsRUFBUTFWLEdBQ2YsR0FBSWlsRCxFQUFXbG1ELEVBQU91bEQsRUFBTTV1QyxJQUMxQixPQUFPLEVBR1gsT0FBTyxFQVlULFNBQVN3dkMsR0FBU1osRUFBT0UsR0FLdkIsSUFKQSxJQUFJOXVDLEdBQVMsRUFDVDFWLEVBQWtCLE1BQVRza0QsRUFBZ0IsRUFBSUEsRUFBTXRrRCxPQUNuQ1EsRUFBU08sTUFBTWYsS0FFVjBWLEVBQVExVixHQUNmUSxFQUFPa1YsR0FBUzh1QyxFQUFTRixFQUFNNXVDLEdBQVFBLEVBQU80dUMsR0FFaEQsT0FBTzlqRCxFQVdULFNBQVMya0QsR0FBVWIsRUFBT25rRCxHQUt4QixJQUpBLElBQUl1VixHQUFTLEVBQ1QxVixFQUFTRyxFQUFPSCxPQUNoQnNlLEVBQVNnbUMsRUFBTXRrRCxTQUVWMFYsRUFBUTFWLEdBQ2Zza0QsRUFBTWhtQyxFQUFTNUksR0FBU3ZWLEVBQU91VixHQUVqQyxPQUFPNHVDLEVBZVQsU0FBU2MsR0FBWWQsRUFBT0UsRUFBVWhoRCxFQUFhNmhELEdBQ2pELElBQUkzdkMsR0FBUyxFQUNUMVYsRUFBa0IsTUFBVHNrRCxFQUFnQixFQUFJQSxFQUFNdGtELE9BS3ZDLElBSElxbEQsR0FBYXJsRCxJQUNmd0QsRUFBYzhnRCxJQUFRNXVDLE1BRWZBLEVBQVExVixHQUNmd0QsRUFBY2doRCxFQUFTaGhELEVBQWE4Z0QsRUFBTTV1QyxHQUFRQSxFQUFPNHVDLEdBRTNELE9BQU85Z0QsRUFlVCxTQUFTOGhELEdBQWlCaEIsRUFBT0UsRUFBVWhoRCxFQUFhNmhELEdBQ3RELElBQUlybEQsRUFBa0IsTUFBVHNrRCxFQUFnQixFQUFJQSxFQUFNdGtELE9BSXZDLElBSElxbEQsR0FBYXJsRCxJQUNmd0QsRUFBYzhnRCxJQUFRdGtELElBRWpCQSxLQUNMd0QsRUFBY2doRCxFQUFTaGhELEVBQWE4Z0QsRUFBTXRrRCxHQUFTQSxFQUFRc2tELEdBRTdELE9BQU85Z0QsRUFhVCxTQUFTK2hELEdBQVVqQixFQUFPaGlELEdBSXhCLElBSEEsSUFBSW9ULEdBQVMsRUFDVDFWLEVBQWtCLE1BQVRza0QsRUFBZ0IsRUFBSUEsRUFBTXRrRCxTQUU5QjBWLEVBQVExVixHQUNmLEdBQUlzQyxFQUFVZ2lELEVBQU01dUMsR0FBUUEsRUFBTzR1QyxHQUNqQyxPQUFPLEVBR1gsT0FBTyxFQVVULElBQUlrQixHQUFZQyxHQUFhLFVBbUM3QixTQUFTQyxHQUFZbmtELEVBQVllLEVBQVdxakQsR0FDMUMsSUFBSW5sRCxFQU9KLE9BTkFtbEQsRUFBU3BrRCxHQUFZLFNBQVN4QyxFQUFPTSxFQUFLa0MsR0FDeEMsR0FBSWUsRUFBVXZELEVBQU9NLEVBQUtrQyxHQUV4QixPQURBZixFQUFTbkIsR0FDRixLQUdKbUIsRUFjVCxTQUFTb2xELEdBQWN0QixFQUFPaGlELEVBQVd1akQsRUFBV0MsR0FJbEQsSUFIQSxJQUFJOWxELEVBQVNza0QsRUFBTXRrRCxPQUNmMFYsRUFBUW13QyxHQUFhQyxFQUFZLEdBQUssR0FFbENBLEVBQVlwd0MsTUFBWUEsRUFBUTFWLEdBQ3RDLEdBQUlzQyxFQUFVZ2lELEVBQU01dUMsR0FBUUEsRUFBTzR1QyxHQUNqQyxPQUFPNXVDLEVBR1gsT0FBUSxFQVlWLFNBQVNxdkMsR0FBWVQsRUFBT3ZsRCxFQUFPOG1ELEdBQ2pDLE9BQU85bUQsR0FBVUEsRUFvY25CLFNBQXVCdWxELEVBQU92bEQsRUFBTzhtRCxHQUNuQyxJQUFJbndDLEVBQVFtd0MsRUFBWSxFQUNwQjdsRCxFQUFTc2tELEVBQU10a0QsT0FFbkIsT0FBUzBWLEVBQVExVixHQUNmLEdBQUlza0QsRUFBTTV1QyxLQUFXM1csRUFDbkIsT0FBTzJXLEVBR1gsT0FBUSxFQTVjSnF3QyxDQUFjekIsRUFBT3ZsRCxFQUFPOG1ELEdBQzVCRCxHQUFjdEIsRUFBTzBCLEdBQVdILEdBYXRDLFNBQVNJLEdBQWdCM0IsRUFBT3ZsRCxFQUFPOG1ELEVBQVdaLEdBSWhELElBSEEsSUFBSXZ2QyxFQUFRbXdDLEVBQVksRUFDcEI3bEQsRUFBU3NrRCxFQUFNdGtELFNBRVYwVixFQUFRMVYsR0FDZixHQUFJaWxELEVBQVdYLEVBQU01dUMsR0FBUTNXLEdBQzNCLE9BQU8yVyxFQUdYLE9BQVEsRUFVVixTQUFTc3dDLEdBQVVqbkQsR0FDakIsT0FBT0EsR0FBVUEsRUFZbkIsU0FBU21uRCxHQUFTNUIsRUFBT0UsR0FDdkIsSUFBSXhrRCxFQUFrQixNQUFUc2tELEVBQWdCLEVBQUlBLEVBQU10a0QsT0FDdkMsT0FBT0EsRUFBVW1tRCxHQUFRN0IsRUFBT0UsR0FBWXhrRCxFQTd4QnBDLElBdXlCVixTQUFTeWxELEdBQWFwbUQsR0FDcEIsT0FBTyxTQUFTRyxHQUNkLE9BQWlCLE1BQVZBLE9BcDJCUDJCLEVBbzJCb0MzQixFQUFPSCxJQVcvQyxTQUFTK21ELEdBQWU1bUQsR0FDdEIsT0FBTyxTQUFTSCxHQUNkLE9BQWlCLE1BQVZHLE9BajNCUDJCLEVBaTNCb0MzQixFQUFPSCxJQWlCL0MsU0FBU2duRCxHQUFXOWtELEVBQVlpakQsRUFBVWhoRCxFQUFhNmhELEVBQVdNLEdBTWhFLE9BTEFBLEVBQVNwa0QsR0FBWSxTQUFTeEMsRUFBTzJXLEVBQU9uVSxHQUMxQ2lDLEVBQWM2aEQsR0FDVEEsR0FBWSxFQUFPdG1ELEdBQ3BCeWxELEVBQVNoaEQsRUFBYXpFLEVBQU8yVyxFQUFPblUsTUFFbkNpQyxFQWdDVCxTQUFTMmlELEdBQVE3QixFQUFPRSxHQUt0QixJQUpBLElBQUloa0QsRUFDQWtWLEdBQVMsRUFDVDFWLEVBQVNza0QsRUFBTXRrRCxTQUVWMFYsRUFBUTFWLEdBQVEsQ0FDdkIsSUFBSXNtRCxFQUFVOUIsRUFBU0YsRUFBTTV1QyxTQTk2QjdCdlUsSUErNkJJbWxELElBQ0Y5bEQsT0FoN0JGVyxJQWc3QldYLEVBQXVCOGxELEVBQVc5bEQsRUFBUzhsRCxHQUd4RCxPQUFPOWxELEVBWVQsU0FBUytsRCxHQUFVaG5ELEVBQUdpbEQsR0FJcEIsSUFIQSxJQUFJOXVDLEdBQVMsRUFDVGxWLEVBQVNPLE1BQU14QixLQUVWbVcsRUFBUW5XLEdBQ2ZpQixFQUFPa1YsR0FBUzh1QyxFQUFTOXVDLEdBRTNCLE9BQU9sVixFQXlCVCxTQUFTZ21ELEdBQVV6aUQsR0FDakIsT0FBTyxTQUFTaEYsR0FDZCxPQUFPZ0YsRUFBS2hGLElBY2hCLFNBQVMwbkQsR0FBV2puRCxFQUFRa25ELEdBQzFCLE9BQU94QixHQUFTd0IsR0FBTyxTQUFTcm5ELEdBQzlCLE9BQU9HLEVBQU9ILE1BWWxCLFNBQVNzbkQsR0FBU0MsRUFBT3ZuRCxHQUN2QixPQUFPdW5ELEVBQU1ua0QsSUFBSXBELEdBWW5CLFNBQVN3bkQsR0FBZ0JDLEVBQVlDLEdBSW5DLElBSEEsSUFBSXJ4QyxHQUFTLEVBQ1QxVixFQUFTOG1ELEVBQVc5bUQsU0FFZjBWLEVBQVExVixHQUFVK2tELEdBQVlnQyxFQUFZRCxFQUFXcHhDLEdBQVEsSUFBTSxJQUM1RSxPQUFPQSxFQVlULFNBQVNzeEMsR0FBY0YsRUFBWUMsR0FHakMsSUFGQSxJQUFJcnhDLEVBQVFveEMsRUFBVzltRCxPQUVoQjBWLEtBQVdxdkMsR0FBWWdDLEVBQVlELEVBQVdweEMsR0FBUSxJQUFNLElBQ25FLE9BQU9BLEVBV1QsU0FBU3V4QyxHQUFhM0MsRUFBTzRDLEdBSTNCLElBSEEsSUFBSWxuRCxFQUFTc2tELEVBQU10a0QsT0FDZlEsRUFBUyxFQUVOUixLQUNEc2tELEVBQU10a0QsS0FBWWtuRCxLQUNsQjFtRCxFQUdOLE9BQU9BLEVBV1QsSUFBSTJtRCxHQUFlZixHQXB3QkcsQ0FFcEIsSUFBUSxJQUFNLElBQVEsSUFBSyxJQUFRLElBQUssSUFBUSxJQUFLLElBQVEsSUFBSyxJQUFRLElBQzFFLElBQVEsSUFBTSxJQUFRLElBQUssSUFBUSxJQUFLLElBQVEsSUFBSyxJQUFRLElBQUssSUFBUSxJQUMxRSxJQUFRLElBQU0sSUFBUSxJQUN0QixJQUFRLElBQU0sSUFBUSxJQUN0QixJQUFRLElBQU0sSUFBUSxJQUFLLElBQVEsSUFBSyxJQUFRLElBQ2hELElBQVEsSUFBTSxJQUFRLElBQUssSUFBUSxJQUFLLElBQVEsSUFDaEQsSUFBUSxJQUFNLElBQVEsSUFBSyxJQUFRLElBQUssSUFBUSxJQUNoRCxJQUFRLElBQU0sSUFBUSxJQUFLLElBQVEsSUFBSyxJQUFRLElBQ2hELElBQVEsSUFBTSxJQUFRLElBQ3RCLElBQVEsSUFBTSxJQUFRLElBQUssSUFBUSxJQUFLLElBQVEsSUFBSyxJQUFRLElBQUssSUFBUSxJQUMxRSxJQUFRLElBQU0sSUFBUSxJQUFLLElBQVEsSUFBSyxJQUFRLElBQUssSUFBUSxJQUFLLElBQVEsSUFDMUUsSUFBUSxJQUFNLElBQVEsSUFBSyxJQUFRLElBQUssSUFBUSxJQUNoRCxJQUFRLElBQU0sSUFBUSxJQUFLLElBQVEsSUFBSyxJQUFRLElBQ2hELElBQVEsSUFBTSxJQUFRLElBQUssSUFBUSxJQUNuQyxJQUFRLEtBQU0sSUFBUSxLQUN0QixJQUFRLEtBQU0sSUFBUSxLQUN0QixJQUFRLEtBRVIsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQ3pDLElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUN6QyxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQ3hELElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFDeEQsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN4RCxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN2RSxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN2RSxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQ3hELElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFDeEQsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN4RCxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN2RSxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN2RSxJQUFVLElBQU0sSUFBVSxJQUMxQixJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFDekMsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFDdkUsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFDdkUsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN4RCxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQ3hELElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUN6QyxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFDekMsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQ3pDLElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUN6QyxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQ3hELElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFDeEQsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQ3pDLElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUN6QyxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFDdEYsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQ3RGLElBQVUsSUFBTSxJQUFVLElBQzFCLElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUN6QyxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFDekMsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQ3pDLElBQVUsS0FBTSxJQUFV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UjB5RSxFQUFXUSxVQUFVclcsT0FBTyxTQUM1QjZWLEVBQVdRLFVBQVUvNEIsSUFBSSxXQUN6QnU0QixFQUFXRyxVQUFZNW1GLEVBQU96QixPQUc1QnlCLEVBQU8rbUYsVUFBVXZuRixPQUFTLEVBQzVCbW5GLEVBQVVDLFVBQVksSUFDbkJqZixNQUFNM25FLEVBQU8rbUYsV0FDYjNtRixJQUFLdUssR0FBTSxRQUFRQSxFQUFFeU8sU0FBU3pPLEVBQUVDLFdBQ2hDbUosS0FBSyxNQUVSNHlFLEVBQVVDLFVBQVksSUFDbkJqZixNQUFNM25FLEVBQU9zZ0IsUUFDYmxnQixJQUFLOG1GLEdBQVEsR0FBR0EsRUFBSXoyRSxVQUFVNVMsUUFBUXFwRixFQUFJbHVFLFNBQzFDakYsS0FBSyxNQUlaa3JFLFNBQVN5SCxlQUFlLFFBQVFTLGlCQUFpQixRQUFVeDhFLEdBQU1tc0UsRUFBU25zRSxFQUFFaEcsT0FBT3BHLFFBQ25GdTRFIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMTIpO1xuIiwiLypcbiBVdGlscyB1c2luZyBsb2Rhc2ggc3R5bGUgQVBJLiAobm90IG5lY2Vzc2FyaWx5IDEwMCUgY29tcGxpYW50KSBmb3IgZnVuY3Rpb25hbCBhbmQgb3RoZXIgdXRpbHMuXG4gVGhlc2UgdXRpbHMgc2hvdWxkIHJlcGxhY2UgdXNhZ2Ugb2YgbG9kYXNoIGluIHRoZSBwcm9kdWN0aW9uIGNvZGUgYmFzZS4gbm90IGJlY2F1c2UgdGhleSBhcmUgYW55IGJldHRlci4uLlxuIGJ1dCBmb3IgdGhlIHB1cnBvc2Ugb2YgYmVpbmcgYSBkZXBlbmRlbmN5IGZyZWUgbGlicmFyeS5cblxuIFRoZSBob3RzcG90cyBpbiB0aGUgY29kZSBhcmUgYWxyZWFkeSB3cml0dGVuIGluIGltcGVyYXRpdmUgc3R5bGUgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMuXG4gc28gd3JpdGluZyBzZXZlcmFsIGRvemVuIHV0aWxzIHdoaWNoIG1heSBiZSBzbG93ZXIgdGhhbiB0aGUgb3JpZ2luYWwgbG9kYXNoLCBkb2VzIG5vdCBtYXR0ZXIgYXMgbXVjaFxuIGNvbnNpZGVyaW5nIHRoZXkgd2lsbCBub3QgYmUgaW52b2tlZCBpbiBob3RzcG90cy4uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNFbXB0eShhcnIpIHtcbiAgICByZXR1cm4gYXJyICYmIGFyci5sZW5ndGggPT09IDA7XG59XG5leHBvcnQgZnVuY3Rpb24ga2V5cyhvYmopIHtcbiAgICBpZiAob2JqID09PSB1bmRlZmluZWQgfHwgb2JqID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKG9iaik7XG59XG5leHBvcnQgZnVuY3Rpb24gdmFsdWVzKG9iaikge1xuICAgIHZhciB2YWxzID0gW107XG4gICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmopO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YWxzLnB1c2gob2JqW2tleXNbaV1dKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHM7XG59XG5leHBvcnQgZnVuY3Rpb24gbWFwVmFsdWVzKG9iaiwgY2FsbGJhY2spIHtcbiAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgdmFyIG9iaktleXMgPSBrZXlzKG9iaik7XG4gICAgZm9yICh2YXIgaWR4ID0gMDsgaWR4IDwgb2JqS2V5cy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgIHZhciBjdXJyS2V5ID0gb2JqS2V5c1tpZHhdO1xuICAgICAgICByZXN1bHQucHVzaChjYWxsYmFjay5jYWxsKG51bGwsIG9ialtjdXJyS2V5XSwgY3VycktleSkpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIG1hcChhcnIsIGNhbGxiYWNrKSB7XG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIGZvciAodmFyIGlkeCA9IDA7IGlkeCA8IGFyci5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKGNhbGxiYWNrLmNhbGwobnVsbCwgYXJyW2lkeF0sIGlkeCkpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZsYXR0ZW4oYXJyKSB7XG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIGZvciAodmFyIGlkeCA9IDA7IGlkeCA8IGFyci5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgIHZhciBjdXJySXRlbSA9IGFycltpZHhdO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjdXJySXRlbSkpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5jb25jYXQoZmxhdHRlbihjdXJySXRlbSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goY3Vyckl0ZW0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5leHBvcnQgZnVuY3Rpb24gZmlyc3QoYXJyKSB7XG4gICAgcmV0dXJuIGlzRW1wdHkoYXJyKSA/IHVuZGVmaW5lZCA6IGFyclswXTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBsYXN0KGFycikge1xuICAgIHZhciBsZW4gPSBhcnIgJiYgYXJyLmxlbmd0aDtcbiAgICByZXR1cm4gbGVuID8gYXJyW2xlbiAtIDFdIDogdW5kZWZpbmVkO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZvckVhY2goY29sbGVjdGlvbiwgaXRlcmF0b3JDYWxsYmFjaykge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgaWYgKEFycmF5LmlzQXJyYXkoY29sbGVjdGlvbikpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb2xsZWN0aW9uLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpdGVyYXRvckNhbGxiYWNrLmNhbGwobnVsbCwgY29sbGVjdGlvbltpXSwgaSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoaXNPYmplY3QoY29sbGVjdGlvbikpIHtcbiAgICAgICAgdmFyIGNvbEtleXMgPSBrZXlzKGNvbGxlY3Rpb24pO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbEtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBrZXkgPSBjb2xLZXlzW2ldO1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gY29sbGVjdGlvbltrZXldO1xuICAgICAgICAgICAgaXRlcmF0b3JDYWxsYmFjay5jYWxsKG51bGwsIHZhbHVlLCBrZXkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBFcnJvcihcIm5vbiBleGhhdXN0aXZlIG1hdGNoXCIpO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1N0cmluZyhpdGVtKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBpdGVtID09PSBcInN0cmluZ1wiO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzVW5kZWZpbmVkKGl0ZW0pIHtcbiAgICByZXR1cm4gaXRlbSA9PT0gdW5kZWZpbmVkO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzRnVuY3Rpb24oaXRlbSkge1xuICAgIHJldHVybiBpdGVtIGluc3RhbmNlb2YgRnVuY3Rpb247XG59XG5leHBvcnQgZnVuY3Rpb24gZHJvcChhcnIsIGhvd011Y2gpIHtcbiAgICBpZiAoaG93TXVjaCA9PT0gdm9pZCAwKSB7IGhvd011Y2ggPSAxOyB9XG4gICAgcmV0dXJuIGFyci5zbGljZShob3dNdWNoLCBhcnIubGVuZ3RoKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBkcm9wUmlnaHQoYXJyLCBob3dNdWNoKSB7XG4gICAgaWYgKGhvd011Y2ggPT09IHZvaWQgMCkgeyBob3dNdWNoID0gMTsgfVxuICAgIHJldHVybiBhcnIuc2xpY2UoMCwgYXJyLmxlbmd0aCAtIGhvd011Y2gpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZpbHRlcihhcnIsIHByZWRpY2F0ZSkge1xuICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgaXRlbSA9IGFycltpXTtcbiAgICAgICAgICAgIGlmIChwcmVkaWNhdGUuY2FsbChudWxsLCBpdGVtKSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5leHBvcnQgZnVuY3Rpb24gcmVqZWN0KGFyciwgcHJlZGljYXRlKSB7XG4gICAgcmV0dXJuIGZpbHRlcihhcnIsIGZ1bmN0aW9uIChpdGVtKSB7IHJldHVybiAhcHJlZGljYXRlKGl0ZW0pOyB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBwaWNrKG9iaiwgcHJlZGljYXRlKSB7XG4gICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmopO1xuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGN1cnJLZXkgPSBrZXlzW2ldO1xuICAgICAgICB2YXIgY3Vyckl0ZW0gPSBvYmpbY3VycktleV07XG4gICAgICAgIGlmIChwcmVkaWNhdGUoY3Vyckl0ZW0pKSB7XG4gICAgICAgICAgICByZXN1bHRbY3VycktleV0gPSBjdXJySXRlbTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGhhcyhvYmosIHByb3ApIHtcbiAgICBpZiAoaXNPYmplY3Qob2JqKSkge1xuICAgICAgICByZXR1cm4gb2JqLmhhc093blByb3BlcnR5KHByb3ApO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gY29udGFpbnMoYXJyLCBpdGVtKSB7XG4gICAgcmV0dXJuIGZpbmQoYXJyLCBmdW5jdGlvbiAoY3Vyckl0ZW0pIHsgcmV0dXJuIGN1cnJJdGVtID09PSBpdGVtOyB9KSAhPT0gdW5kZWZpbmVkID8gdHJ1ZSA6IGZhbHNlO1xufVxuLyoqXG4gKiBzaGFsbG93IGNsb25lXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZUFycihhcnIpIHtcbiAgICB2YXIgbmV3QXJyID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbmV3QXJyLnB1c2goYXJyW2ldKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ld0Fycjtcbn1cbi8qKlxuICogc2hhbGxvdyBjbG9uZVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xvbmVPYmoob2JqKSB7XG4gICAgdmFyIGNsb25lZE9iaiA9IHt9O1xuICAgIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHtcbiAgICAgICAgICAgIGNsb25lZE9ialtrZXldID0gb2JqW2tleV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNsb25lZE9iajtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmaW5kKGFyciwgcHJlZGljYXRlKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGl0ZW0gPSBhcnJbaV07XG4gICAgICAgIGlmIChwcmVkaWNhdGUuY2FsbChudWxsLCBpdGVtKSkge1xuICAgICAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmaW5kQWxsKGFyciwgcHJlZGljYXRlKSB7XG4gICAgdmFyIGZvdW5kID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGl0ZW0gPSBhcnJbaV07XG4gICAgICAgIGlmIChwcmVkaWNhdGUuY2FsbChudWxsLCBpdGVtKSkge1xuICAgICAgICAgICAgZm91bmQucHVzaChpdGVtKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZm91bmQ7XG59XG5leHBvcnQgZnVuY3Rpb24gcmVkdWNlKGFyck9yT2JqLCBpdGVyYXRvciwgaW5pdGlhbCkge1xuICAgIHZhciBpc0FyciA9IEFycmF5LmlzQXJyYXkoYXJyT3JPYmopO1xuICAgIHZhciB2YWxzID0gaXNBcnIgPyBhcnJPck9iaiA6IHZhbHVlcyhhcnJPck9iaik7XG4gICAgdmFyIG9iaktleXMgPSBpc0FyciA/IFtdIDoga2V5cyhhcnJPck9iaik7XG4gICAgdmFyIGFjY3VtdWxhdG9yID0gaW5pdGlhbDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYWNjdW11bGF0b3IgPSBpdGVyYXRvci5jYWxsKG51bGwsIGFjY3VtdWxhdG9yLCB2YWxzW2ldLCBpc0FyciA/IGkgOiBvYmpLZXlzW2ldKTtcbiAgICB9XG4gICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNvbXBhY3QoYXJyKSB7XG4gICAgcmV0dXJuIHJlamVjdChhcnIsIGZ1bmN0aW9uIChpdGVtKSB7IHJldHVybiBpdGVtID09PSBudWxsIHx8IGl0ZW0gPT09IHVuZGVmaW5lZDsgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gdW5pcShhcnIsIGlkZW50aXR5KSB7XG4gICAgaWYgKGlkZW50aXR5ID09PSB2b2lkIDApIHsgaWRlbnRpdHkgPSBmdW5jdGlvbiAoaXRlbSkgeyByZXR1cm4gaXRlbTsgfTsgfVxuICAgIHZhciBpZGVudGl0aWVzID0gW107XG4gICAgcmV0dXJuIHJlZHVjZShhcnIsIGZ1bmN0aW9uIChyZXN1bHQsIGN1cnJJdGVtKSB7XG4gICAgICAgIHZhciBjdXJySWRlbnRpdHkgPSBpZGVudGl0eShjdXJySXRlbSk7XG4gICAgICAgIGlmIChjb250YWlucyhpZGVudGl0aWVzLCBjdXJySWRlbnRpdHkpKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWRlbnRpdGllcy5wdXNoKGN1cnJJZGVudGl0eSk7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0LmNvbmNhdChjdXJySXRlbSk7XG4gICAgICAgIH1cbiAgICB9LCBbXSk7XG59XG5leHBvcnQgZnVuY3Rpb24gcGFydGlhbChmdW5jKSB7XG4gICAgdmFyIHJlc3RBcmdzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgcmVzdEFyZ3NbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHZhciBmaXJzdEFyZyA9IFtudWxsXTtcbiAgICB2YXIgYWxsQXJncyA9IGZpcnN0QXJnLmNvbmNhdChyZXN0QXJncyk7XG4gICAgcmV0dXJuIEZ1bmN0aW9uLmJpbmQuYXBwbHkoZnVuYywgYWxsQXJncyk7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNBcnJheShvYmopIHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShvYmopO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzUmVnRXhwKG9iaikge1xuICAgIHJldHVybiBvYmogaW5zdGFuY2VvZiBSZWdFeHA7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNPYmplY3Qob2JqKSB7XG4gICAgcmV0dXJuIG9iaiBpbnN0YW5jZW9mIE9iamVjdDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBldmVyeShhcnIsIHByZWRpY2F0ZSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICghcHJlZGljYXRlKGFycltpXSwgaSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBkaWZmZXJlbmNlKGFyciwgdmFsdWVzKSB7XG4gICAgcmV0dXJuIHJlamVjdChhcnIsIGZ1bmN0aW9uIChpdGVtKSB7IHJldHVybiBjb250YWlucyh2YWx1ZXMsIGl0ZW0pOyB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzb21lKGFyciwgcHJlZGljYXRlKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHByZWRpY2F0ZShhcnJbaV0pKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gaW5kZXhPZihhcnIsIHZhbHVlKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGFycltpXSA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzb3J0QnkoYXJyLCBvcmRlckZ1bmMpIHtcbiAgICB2YXIgcmVzdWx0ID0gY2xvbmVBcnIoYXJyKTtcbiAgICByZXN1bHQuc29ydChmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gb3JkZXJGdW5jKGEpIC0gb3JkZXJGdW5jKGIpOyB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIHppcE9iamVjdChrZXlzLCB2YWx1ZXMpIHtcbiAgICBpZiAoa2V5cy5sZW5ndGggIT09IHZhbHVlcy5sZW5ndGgpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJjYW4ndCB6aXBPYmplY3Qgd2l0aCBkaWZmZXJlbnQgbnVtYmVyIG9mIGtleXMgYW5kIHZhbHVlcyFcIik7XG4gICAgfVxuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgcmVzdWx0W2tleXNbaV1dID0gdmFsdWVzW2ldO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLyoqXG4gKiBtdXRhdGVzISAoYW5kIHJldHVybnMpIHRhcmdldFxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNzaWduKHRhcmdldCkge1xuICAgIHZhciBzb3VyY2VzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgc291cmNlc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzb3VyY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBjdXJTb3VyY2UgPSBzb3VyY2VzW2ldO1xuICAgICAgICB2YXIgY3VyclNvdXJjZUtleXMgPSBrZXlzKGN1clNvdXJjZSk7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgY3VyclNvdXJjZUtleXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIHZhciBjdXJyS2V5ID0gY3VyclNvdXJjZUtleXNbal07XG4gICAgICAgICAgICB0YXJnZXRbY3VycktleV0gPSBjdXJTb3VyY2VbY3VycktleV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldDtcbn1cbi8qKlxuICogbXV0YXRlcyEgKGFuZCByZXR1cm5zKSB0YXJnZXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2lnbk5vT3ZlcndyaXRlKHRhcmdldCkge1xuICAgIHZhciBzb3VyY2VzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgc291cmNlc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzb3VyY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBjdXJTb3VyY2UgPSBzb3VyY2VzW2ldO1xuICAgICAgICB2YXIgY3VyclNvdXJjZUtleXMgPSBrZXlzKGN1clNvdXJjZSk7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgY3VyclNvdXJjZUtleXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIHZhciBjdXJyS2V5ID0gY3VyclNvdXJjZUtleXNbal07XG4gICAgICAgICAgICBpZiAoIWhhcyh0YXJnZXQsIGN1cnJLZXkpKSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0W2N1cnJLZXldID0gY3VyU291cmNlW2N1cnJLZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXQ7XG59XG5leHBvcnQgZnVuY3Rpb24gZGVmYXVsdHMoKSB7XG4gICAgdmFyIHNvdXJjZXMgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBzb3VyY2VzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHJldHVybiBhc3NpZ25Ob092ZXJ3cml0ZS5hcHBseShudWxsLCBbe31dLmNvbmNhdChzb3VyY2VzKSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZ3JvdXBCeShhcnIsIGdyb3VwS2V5RnVuYykge1xuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICBmb3JFYWNoKGFyciwgZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgdmFyIGN1cnJHcm91cEtleSA9IGdyb3VwS2V5RnVuYyhpdGVtKTtcbiAgICAgICAgdmFyIGN1cnJHcm91cEFyciA9IHJlc3VsdFtjdXJyR3JvdXBLZXldO1xuICAgICAgICBpZiAoY3Vyckdyb3VwQXJyKSB7XG4gICAgICAgICAgICBjdXJyR3JvdXBBcnIucHVzaChpdGVtKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdFtjdXJyR3JvdXBLZXldID0gW2l0ZW1dO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbi8qKlxuICogTWVyZ2Ugb2JqMiBpbnRvIG9iajEuXG4gKiBXaWxsIG92ZXJ3cml0ZSBleGlzdGluZyBwcm9wZXJ0aWVzIHdpdGggdGhlIHNhbWUgbmFtZVxuICovXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2Uob2JqMSwgb2JqMikge1xuICAgIHZhciByZXN1bHQgPSBjbG9uZU9iaihvYmoxKTtcbiAgICB2YXIga2V5czIgPSBrZXlzKG9iajIpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5czIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGtleSA9IGtleXMyW2ldO1xuICAgICAgICB2YXIgdmFsdWUgPSBvYmoyW2tleV07XG4gICAgICAgIHJlc3VsdFtrZXldID0gdmFsdWU7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5leHBvcnQgZnVuY3Rpb24gTk9PUCgpIHsgfVxuZXhwb3J0IGZ1bmN0aW9uIElERU5USVRZKGl0ZW0pIHtcbiAgICByZXR1cm4gaXRlbTtcbn1cbi8qKlxuICogV2lsbCByZXR1cm4gYSBuZXcgcGFja2VkIGFycmF5IHdpdGggc2FtZSB2YWx1ZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYWNrQXJyYXkoaG9sZXlBcnIpIHtcbiAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBob2xleUFyci5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgb3JnVmFsdWUgPSBob2xleUFycltpXTtcbiAgICAgICAgcmVzdWx0LnB1c2gob3JnVmFsdWUgIT09IHVuZGVmaW5lZCA/IG9yZ1ZhbHVlIDogdW5kZWZpbmVkKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBQUklOVF9FUlJPUihtc2cpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAtIGNhbid0IG92ZXJyaWRlIGdsb2JhbC5jb25zb2xlIGluIG5vZGUuanMgKi9cbiAgICBpZiAoY29uc29sZSAmJiBjb25zb2xlLmVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvcjogXCIgKyBtc2cpO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBQUklOVF9XQVJOSU5HKG1zZykge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlIC0gY2FuJ3Qgb3ZlcnJpZGUgZ2xvYmFsLmNvbnNvbGUgaW4gbm9kZS5qcyovXG4gICAgaWYgKGNvbnNvbGUgJiYgY29uc29sZS53YXJuKSB7XG4gICAgICAgIC8vIFRPRE86IG1vZGlmeSBkb2NzIGFjY29yZGluZ2x5XG4gICAgICAgIGNvbnNvbGUud2FybihcIldhcm5pbmc6IFwiICsgbXNnKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gaXNFUzIwMTVNYXBTdXBwb3J0ZWQoKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBNYXAgPT09IFwiZnVuY3Rpb25cIjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhcHBseU1peGlucyhkZXJpdmVkQ3RvciwgYmFzZUN0b3JzKSB7XG4gICAgYmFzZUN0b3JzLmZvckVhY2goZnVuY3Rpb24gKGJhc2VDdG9yKSB7XG4gICAgICAgIHZhciBiYXNlUHJvdG8gPSBiYXNlQ3Rvci5wcm90b3R5cGU7XG4gICAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGJhc2VQcm90bykuZm9yRWFjaChmdW5jdGlvbiAocHJvcE5hbWUpIHtcbiAgICAgICAgICAgIGlmIChwcm9wTmFtZSA9PT0gXCJjb25zdHJ1Y3RvclwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGJhc2VQcm9wRGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYmFzZVByb3RvLCBwcm9wTmFtZSk7XG4gICAgICAgICAgICAvLyBIYW5kbGUgQWNjZXNzb3JzXG4gICAgICAgICAgICBpZiAoYmFzZVByb3BEZXNjcmlwdG9yICYmXG4gICAgICAgICAgICAgICAgKGJhc2VQcm9wRGVzY3JpcHRvci5nZXQgfHwgYmFzZVByb3BEZXNjcmlwdG9yLnNldCkpIHtcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZGVyaXZlZEN0b3IucHJvdG90eXBlLCBwcm9wTmFtZSwgYmFzZVByb3BEZXNjcmlwdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGRlcml2ZWRDdG9yLnByb3RvdHlwZVtwcm9wTmFtZV0gPSBiYXNlQ3Rvci5wcm90b3R5cGVbcHJvcE5hbWVdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbi8vIGJhc2Ugb246IGh0dHBzOi8vZ2l0aHViLmNvbS9wZXRrYWFudG9ub3YvYmx1ZWJpcmQvYmxvYi9iOTdjMGQyZDQ4N2U4YzUwNzZlOGJkODk3ZTBkY2Q0NjIyZDMxODQ2L3NyYy91dGlsLmpzI0wyMDEtTDIxNlxuZXhwb3J0IGZ1bmN0aW9uIHRvRmFzdFByb3BlcnRpZXModG9CZWNvbWVGYXN0KSB7XG4gICAgZnVuY3Rpb24gRmFrZUNvbnN0cnVjdG9yKCkgeyB9XG4gICAgLy8gSWYgb3VyIG9iamVjdCBpcyB1c2VkIGFzIGEgY29uc3RydWN0b3IgaXQgd291bGQgcmVjZWl2ZVxuICAgIEZha2VDb25zdHJ1Y3Rvci5wcm90b3R5cGUgPSB0b0JlY29tZUZhc3Q7XG4gICAgdmFyIGZha2VJbnN0YW5jZSA9IG5ldyBGYWtlQ29uc3RydWN0b3IoKTtcbiAgICBmdW5jdGlvbiBmYWtlQWNjZXNzKCkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIGZha2VJbnN0YW5jZS5iYXI7XG4gICAgfVxuICAgIC8vIGhlbHAgVjggdW5kZXJzdGFuZCB0aGlzIGlzIGEgXCJyZWFsXCIgcHJvdG90eXBlIGJ5IGFjdHVhbGx5IHVzaW5nXG4gICAgLy8gdGhlIGZha2UgaW5zdGFuY2UuXG4gICAgZmFrZUFjY2VzcygpO1xuICAgIGZha2VBY2Nlc3MoKTtcbiAgICByZXR1cm4gdG9CZWNvbWVGYXN0O1xuICAgIC8vIEV2YWwgcHJldmVudHMgb3B0aW1pemF0aW9uIG9mIHRoaXMgbWV0aG9kIChldmVuIHRob3VnaCB0aGlzIGlzIGRlYWQgY29kZSlcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZVxuICAgIGV2YWwodG9CZWNvbWVGYXN0KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBwZWVrKGFycikge1xuICAgIHJldHVybiBhcnJbYXJyLmxlbmd0aCAtIDFdO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgLSBmb3IgcGVyZm9ybWFuY2UgdHJhY2luZyovXG5leHBvcnQgZnVuY3Rpb24gdGltZXIoZnVuYykge1xuICAgIHZhciBzdGFydCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgIHZhciB2YWwgPSBmdW5jKCk7XG4gICAgdmFyIGVuZCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgIHZhciB0b3RhbCA9IGVuZCAtIHN0YXJ0O1xuICAgIHJldHVybiB7IHRpbWU6IHRvdGFsLCB2YWx1ZTogdmFsIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD11dGlscy5qcy5tYXAiLCIvLyBuZWVkcyBhIHNlcGFyYXRlIG1vZHVsZSBhcyB0aGlzIGlzIHJlcXVpcmVkIGluc2lkZSBjaGV2cm90YWluIHByb2R1Y3RpdmUgY29kZVxuLy8gYW5kIGFsc28gaW4gdGhlIGVudHJ5IHBvaW50IGZvciB3ZWJwYWNrKGFwaS50cykuXG4vLyBBIHNlcGFyYXRlIGZpbGUgYXZvaWRzIGN5Y2xpYyBkZXBlbmRlbmNpZXMgYW5kIHdlYnBhY2sgZXJyb3JzLlxuZXhwb3J0IHZhciBWRVJTSU9OID0gXCI3LjAuMVwiO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmVyc2lvbi5qcy5tYXAiLCJpbXBvcnQgeyBSZWdFeHBQYXJzZXIgfSBmcm9tIFwicmVnZXhwLXRvLWFzdFwiO1xudmFyIHJlZ0V4cEFzdENhY2hlID0ge307XG52YXIgcmVnRXhwUGFyc2VyID0gbmV3IFJlZ0V4cFBhcnNlcigpO1xuZXhwb3J0IGZ1bmN0aW9uIGdldFJlZ0V4cEFzdChyZWdFeHApIHtcbiAgICB2YXIgcmVnRXhwU3RyID0gcmVnRXhwLnRvU3RyaW5nKCk7XG4gICAgaWYgKHJlZ0V4cEFzdENhY2hlLmhhc093blByb3BlcnR5KHJlZ0V4cFN0cikpIHtcbiAgICAgICAgcmV0dXJuIHJlZ0V4cEFzdENhY2hlW3JlZ0V4cFN0cl07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB2YXIgcmVnRXhwQXN0ID0gcmVnRXhwUGFyc2VyLnBhdHRlcm4ocmVnRXhwU3RyKTtcbiAgICAgICAgcmVnRXhwQXN0Q2FjaGVbcmVnRXhwU3RyXSA9IHJlZ0V4cEFzdDtcbiAgICAgICAgcmV0dXJuIHJlZ0V4cEFzdDtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gY2xlYXJSZWdFeHBQYXJzZXJDYWNoZSgpIHtcbiAgICByZWdFeHBBc3RDYWNoZSA9IHt9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVnX2V4cF9wYXJzZXIuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5pbXBvcnQgeyBWRVJTSU9OLCBCYXNlUmVnRXhwVmlzaXRvciB9IGZyb20gXCJyZWdleHAtdG8tYXN0XCI7XG5pbXBvcnQgeyBmb3JFYWNoLCBjb250YWlucywgUFJJTlRfRVJST1IsIFBSSU5UX1dBUk5JTkcsIGZpbmQsIGlzQXJyYXksIGV2ZXJ5LCB2YWx1ZXMgfSBmcm9tIFwiLi4vdXRpbHMvdXRpbHNcIjtcbmltcG9ydCB7IGdldFJlZ0V4cEFzdCB9IGZyb20gXCIuL3JlZ19leHBfcGFyc2VyXCI7XG5pbXBvcnQgeyBjaGFyQ29kZVRvT3B0aW1pemVkSW5kZXgsIG1pbk9wdGltaXphdGlvblZhbCB9IGZyb20gXCIuL2xleGVyXCI7XG52YXIgY29tcGxlbWVudEVycm9yTWVzc2FnZSA9IFwiQ29tcGxlbWVudCBTZXRzIGFyZSBub3Qgc3VwcG9ydGVkIGZvciBmaXJzdCBjaGFyIG9wdGltaXphdGlvblwiO1xuZXhwb3J0IHZhciBmYWlsZWRPcHRpbWl6YXRpb25QcmVmaXhNc2cgPSAnVW5hYmxlIHRvIHVzZSBcImZpcnN0IGNoYXJcIiBsZXhlciBvcHRpbWl6YXRpb25zOlxcbic7XG5leHBvcnQgZnVuY3Rpb24gZ2V0T3B0aW1pemVkU3RhcnRDb2Rlc0luZGljZXMocmVnRXhwLCBlbnN1cmVPcHRpbWl6YXRpb25zKSB7XG4gICAgaWYgKGVuc3VyZU9wdGltaXphdGlvbnMgPT09IHZvaWQgMCkgeyBlbnN1cmVPcHRpbWl6YXRpb25zID0gZmFsc2U7IH1cbiAgICB0cnkge1xuICAgICAgICB2YXIgYXN0ID0gZ2V0UmVnRXhwQXN0KHJlZ0V4cCk7XG4gICAgICAgIHZhciBmaXJzdENoYXJzID0gZmlyc3RDaGFyT3B0aW1pemVkSW5kaWNlcyhhc3QudmFsdWUsIHt9LCBhc3QuZmxhZ3MuaWdub3JlQ2FzZSk7XG4gICAgICAgIHJldHVybiBmaXJzdENoYXJzO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICAvLyBUZXN0aW5nIHRoaXMgcmVsaWVzIG9uIHRoZSByZWdleHAtdG8tYXN0IGxpYnJhcnkgaGF2aW5nIGEgYnVnLi4uICovXG4gICAgICAgIC8vIFRPRE86IG9ubHkgdGhlIGVsc2UgYnJhbmNoIG5lZWRzIHRvIGJlIGlnbm9yZWQsIHRyeSB0byBmaXggd2l0aCBuZXdlciBwcmV0dGllciAvIHRzY1xuICAgICAgICBpZiAoZS5tZXNzYWdlID09PSBjb21wbGVtZW50RXJyb3JNZXNzYWdlKSB7XG4gICAgICAgICAgICBpZiAoZW5zdXJlT3B0aW1pemF0aW9ucykge1xuICAgICAgICAgICAgICAgIFBSSU5UX1dBUk5JTkcoXCJcIiArIGZhaWxlZE9wdGltaXphdGlvblByZWZpeE1zZyArXG4gICAgICAgICAgICAgICAgICAgIChcIlxcdFVuYWJsZSB0byBvcHRpbWl6ZTogPCBcIiArIHJlZ0V4cC50b1N0cmluZygpICsgXCIgPlxcblwiKSArXG4gICAgICAgICAgICAgICAgICAgIFwiXFx0Q29tcGxlbWVudCBTZXRzIGNhbm5vdCBiZSBhdXRvbWF0aWNhbGx5IG9wdGltaXplZC5cXG5cIiArXG4gICAgICAgICAgICAgICAgICAgIFwiXFx0VGhpcyB3aWxsIGRpc2FibGUgdGhlIGxleGVyJ3MgZmlyc3QgY2hhciBvcHRpbWl6YXRpb25zLlxcblwiICtcbiAgICAgICAgICAgICAgICAgICAgXCJcXHRTZWU6IGh0dHBzOi8vc2FwLmdpdGh1Yi5pby9jaGV2cm90YWluL2RvY3MvZ3VpZGUvcmVzb2x2aW5nX2xleGVyX2Vycm9ycy5odG1sI0NPTVBMRU1FTlQgZm9yIGRldGFpbHMuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIG1zZ1N1ZmZpeCA9IFwiXCI7XG4gICAgICAgICAgICBpZiAoZW5zdXJlT3B0aW1pemF0aW9ucykge1xuICAgICAgICAgICAgICAgIG1zZ1N1ZmZpeCA9XG4gICAgICAgICAgICAgICAgICAgIFwiXFxuXFx0VGhpcyB3aWxsIGRpc2FibGUgdGhlIGxleGVyJ3MgZmlyc3QgY2hhciBvcHRpbWl6YXRpb25zLlxcblwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiXFx0U2VlOiBodHRwczovL3NhcC5naXRodWIuaW8vY2hldnJvdGFpbi9kb2NzL2d1aWRlL3Jlc29sdmluZ19sZXhlcl9lcnJvcnMuaHRtbCNSRUdFWFBfUEFSU0lORyBmb3IgZGV0YWlscy5cIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFBSSU5UX0VSUk9SKGZhaWxlZE9wdGltaXphdGlvblByZWZpeE1zZyArIFwiXFxuXCIgK1xuICAgICAgICAgICAgICAgIChcIlxcdEZhaWxlZCBwYXJzaW5nOiA8IFwiICsgcmVnRXhwLnRvU3RyaW5nKCkgKyBcIiA+XFxuXCIpICtcbiAgICAgICAgICAgICAgICAoXCJcXHRVc2luZyB0aGUgcmVnZXhwLXRvLWFzdCBsaWJyYXJ5IHZlcnNpb246IFwiICsgVkVSU0lPTiArIFwiXFxuXCIpICtcbiAgICAgICAgICAgICAgICBcIlxcdFBsZWFzZSBvcGVuIGFuIGlzc3VlIGF0OiBodHRwczovL2dpdGh1Yi5jb20vYmQ4Mi9yZWdleHAtdG8tYXN0L2lzc3Vlc1wiICtcbiAgICAgICAgICAgICAgICBtc2dTdWZmaXgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBbXTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmaXJzdENoYXJPcHRpbWl6ZWRJbmRpY2VzKGFzdCwgcmVzdWx0LCBpZ25vcmVDYXNlKSB7XG4gICAgc3dpdGNoIChhc3QudHlwZSkge1xuICAgICAgICBjYXNlIFwiRGlzanVuY3Rpb25cIjpcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXN0LnZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZmlyc3RDaGFyT3B0aW1pemVkSW5kaWNlcyhhc3QudmFsdWVbaV0sIHJlc3VsdCwgaWdub3JlQ2FzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIkFsdGVybmF0aXZlXCI6XG4gICAgICAgICAgICB2YXIgdGVybXMgPSBhc3QudmFsdWU7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlcm1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRlcm0gPSB0ZXJtc1tpXTtcbiAgICAgICAgICAgICAgICAvLyBza2lwIHRlcm1zIHRoYXQgY2Fubm90IGVmZmVjdCB0aGUgZmlyc3QgY2hhciByZXN1bHRzXG4gICAgICAgICAgICAgICAgc3dpdGNoICh0ZXJtLnR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkVuZEFuY2hvclwiOlxuICAgICAgICAgICAgICAgICAgICAvLyBBIGdyb3VwIGJhY2sgcmVmZXJlbmNlIGNhbm5vdCBhZmZlY3QgcG90ZW50aWFsIHN0YXJ0aW5nIGNoYXIuXG4gICAgICAgICAgICAgICAgICAgIC8vIGJlY2F1c2UgaWYgYSBiYWNrIHJlZmVyZW5jZSBpcyB0aGUgZmlyc3QgcHJvZHVjdGlvbiB0aGFuIGF1dG9tYXRpY2FsbHlcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlIGdyb3VwIGJlaW5nIHJlZmVyZW5jZWQgaGFzIGhhZCB0byBjb21lIEJFRk9SRSBzbyBpdHMgY29kZXMgaGF2ZSBhbHJlYWR5IGJlZW4gYWRkZWRcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdyb3VwQmFja1JlZmVyZW5jZVwiOlxuICAgICAgICAgICAgICAgICAgICAvLyBhc3NlcnRpb25zIGRvIG5vdCBhZmZlY3QgcG90ZW50aWFsIHN0YXJ0aW5nIGNvZGVzXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJMb29rYWhlYWRcIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIk5lZ2F0aXZlTG9va2FoZWFkXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJTdGFydEFuY2hvclwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiV29yZEJvdW5kYXJ5XCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJOb25Xb3JkQm91bmRhcnlcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgYXRvbSA9IHRlcm07XG4gICAgICAgICAgICAgICAgc3dpdGNoIChhdG9tLnR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkNoYXJhY3RlclwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkT3B0aW1pemVkSWR4VG9SZXN1bHQoYXRvbS52YWx1ZSwgcmVzdWx0LCBpZ25vcmVDYXNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiU2V0XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXRvbS5jb21wbGVtZW50ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoY29tcGxlbWVudEVycm9yTWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JFYWNoKGF0b20udmFsdWUsIGZ1bmN0aW9uIChjb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb2RlID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZE9wdGltaXplZElkeFRvUmVzdWx0KGNvZGUsIHJlc3VsdCwgaWdub3JlQ2FzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByYW5nZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmFuZ2UgPSBjb2RlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjYW5ub3Qgb3B0aW1pemUgd2hlbiBpZ25vcmVDYXNlIGlzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpZ25vcmVDYXNlID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciByYW5nZUNvZGUgPSByYW5nZS5mcm9tOyByYW5nZUNvZGUgPD0gcmFuZ2UudG87IHJhbmdlQ29kZSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkT3B0aW1pemVkSWR4VG9SZXN1bHQocmFuZ2VDb2RlLCByZXN1bHQsIGlnbm9yZUNhc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9wdGltaXphdGlvbiAoMiBvcmRlcnMgb2YgbWFnbml0dWRlIGxlc3Mgd29yayBmb3IgdmVyeSBsYXJnZSByYW5nZXMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaGFuZGxlIHVub3B0aW1pemVkIHZhbHVlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcmFuZ2VDb2RlID0gcmFuZ2UuZnJvbTsgcmFuZ2VDb2RlIDw9IHJhbmdlLnRvICYmIHJhbmdlQ29kZSA8IG1pbk9wdGltaXphdGlvblZhbDsgcmFuZ2VDb2RlKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRPcHRpbWl6ZWRJZHhUb1Jlc3VsdChyYW5nZUNvZGUsIHJlc3VsdCwgaWdub3JlQ2FzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBMZXNzIGNvbW1vbiBjaGFyQ29kZSB3aGVyZSB3ZSBvcHRpbWl6ZSBmb3IgZmFzdGVyIGluaXQgdGltZSwgYnkgdXNpbmcgbGFyZ2VyIFwiYnVja2V0c1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmFuZ2UudG8gPj0gbWluT3B0aW1pemF0aW9uVmFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1pblVuT3B0VmFsID0gcmFuZ2UuZnJvbSA+PSBtaW5PcHRpbWl6YXRpb25WYWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyByYW5nZS5mcm9tXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbWluT3B0aW1pemF0aW9uVmFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtYXhVbk9wdFZhbCA9IHJhbmdlLnRvO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtaW5PcHRJZHggPSBjaGFyQ29kZVRvT3B0aW1pemVkSW5kZXgobWluVW5PcHRWYWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtYXhPcHRJZHggPSBjaGFyQ29kZVRvT3B0aW1pemVkSW5kZXgobWF4VW5PcHRWYWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGN1cnJPcHRJZHggPSBtaW5PcHRJZHg7IGN1cnJPcHRJZHggPD0gbWF4T3B0SWR4OyBjdXJyT3B0SWR4KyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0W2N1cnJPcHRJZHhdID0gY3Vyck9wdElkeDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR3JvdXBcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpcnN0Q2hhck9wdGltaXplZEluZGljZXMoYXRvbS52YWx1ZSwgcmVzdWx0LCBpZ25vcmVDYXNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJOb24gRXhoYXVzdGl2ZSBNYXRjaFwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gcmVhY2hlZCBhIG1hbmRhdG9yeSBwcm9kdWN0aW9uLCBubyBtb3JlICoqc3RhcnQqKiBjb2RlcyBjYW4gYmUgZm91bmQgb24gdGhpcyBhbHRlcm5hdGl2ZVxuICAgICAgICAgICAgICAgIHZhciBpc09wdGlvbmFsUXVhbnRpZmllciA9IGF0b20ucXVhbnRpZmllciAhPT0gdW5kZWZpbmVkICYmIGF0b20ucXVhbnRpZmllci5hdExlYXN0ID09PSAwO1xuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAvLyBBIGdyb3VwIG1heSBiZSBvcHRpb25hbCBkdWUgdG8gZW1wdHkgY29udGVudHMgLyg/OikvXG4gICAgICAgICAgICAgICAgLy8gb3IgaWYgZXZlcnl0aGluZyBpbnNpZGUgaXQgaXMgb3B0aW9uYWwgLygoYSk/KS9cbiAgICAgICAgICAgICAgICAoYXRvbS50eXBlID09PSBcIkdyb3VwXCIgJiYgaXNXaG9sZU9wdGlvbmFsKGF0b20pID09PSBmYWxzZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhpcyB0ZXJtIGlzIG5vdCBhIGdyb3VwIGl0IG1heSBvbmx5IGJlIG9wdGlvbmFsIGlmIGl0IGhhcyBhbiBvcHRpb25hbCBxdWFudGlmaWVyXG4gICAgICAgICAgICAgICAgICAgIChhdG9tLnR5cGUgIT09IFwiR3JvdXBcIiAmJiBpc09wdGlvbmFsUXVhbnRpZmllciA9PT0gZmFsc2UpKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJub24gZXhoYXVzdGl2ZSBtYXRjaCFcIik7XG4gICAgfVxuICAgIC8vIGNvbnNvbGUubG9nKE9iamVjdC5rZXlzKHJlc3VsdCkubGVuZ3RoKVxuICAgIHJldHVybiB2YWx1ZXMocmVzdWx0KTtcbn1cbmZ1bmN0aW9uIGFkZE9wdGltaXplZElkeFRvUmVzdWx0KGNvZGUsIHJlc3VsdCwgaWdub3JlQ2FzZSkge1xuICAgIHZhciBvcHRpbWl6ZWRDaGFySWR4ID0gY2hhckNvZGVUb09wdGltaXplZEluZGV4KGNvZGUpO1xuICAgIHJlc3VsdFtvcHRpbWl6ZWRDaGFySWR4XSA9IG9wdGltaXplZENoYXJJZHg7XG4gICAgaWYgKGlnbm9yZUNhc2UgPT09IHRydWUpIHtcbiAgICAgICAgaGFuZGxlSWdub3JlQ2FzZShjb2RlLCByZXN1bHQpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGhhbmRsZUlnbm9yZUNhc2UoY29kZSwgcmVzdWx0KSB7XG4gICAgdmFyIGNoYXIgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGNvZGUpO1xuICAgIHZhciB1cHBlckNoYXIgPSBjaGFyLnRvVXBwZXJDYXNlKCk7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICBpZiAodXBwZXJDaGFyICE9PSBjaGFyKSB7XG4gICAgICAgIHZhciBvcHRpbWl6ZWRDaGFySWR4ID0gY2hhckNvZGVUb09wdGltaXplZEluZGV4KHVwcGVyQ2hhci5jaGFyQ29kZUF0KDApKTtcbiAgICAgICAgcmVzdWx0W29wdGltaXplZENoYXJJZHhdID0gb3B0aW1pemVkQ2hhcklkeDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZhciBsb3dlckNoYXIgPSBjaGFyLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGlmIChsb3dlckNoYXIgIT09IGNoYXIpIHtcbiAgICAgICAgICAgIHZhciBvcHRpbWl6ZWRDaGFySWR4ID0gY2hhckNvZGVUb09wdGltaXplZEluZGV4KGxvd2VyQ2hhci5jaGFyQ29kZUF0KDApKTtcbiAgICAgICAgICAgIHJlc3VsdFtvcHRpbWl6ZWRDaGFySWR4XSA9IG9wdGltaXplZENoYXJJZHg7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBmaW5kQ29kZShzZXROb2RlLCB0YXJnZXRDaGFyQ29kZXMpIHtcbiAgICByZXR1cm4gZmluZChzZXROb2RlLnZhbHVlLCBmdW5jdGlvbiAoY29kZU9yUmFuZ2UpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBjb2RlT3JSYW5nZSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgcmV0dXJuIGNvbnRhaW5zKHRhcmdldENoYXJDb2RlcywgY29kZU9yUmFuZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gcmFuZ2VcbiAgICAgICAgICAgIHZhciByYW5nZV8xID0gY29kZU9yUmFuZ2U7XG4gICAgICAgICAgICByZXR1cm4gKGZpbmQodGFyZ2V0Q2hhckNvZGVzLCBmdW5jdGlvbiAodGFyZ2V0Q29kZSkgeyByZXR1cm4gcmFuZ2VfMS5mcm9tIDw9IHRhcmdldENvZGUgJiYgdGFyZ2V0Q29kZSA8PSByYW5nZV8xLnRvOyB9KSAhPT0gdW5kZWZpbmVkKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuZnVuY3Rpb24gaXNXaG9sZU9wdGlvbmFsKGFzdCkge1xuICAgIGlmIChhc3QucXVhbnRpZmllciAmJiBhc3QucXVhbnRpZmllci5hdExlYXN0ID09PSAwKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoIWFzdC52YWx1ZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBpc0FycmF5KGFzdC52YWx1ZSlcbiAgICAgICAgPyBldmVyeShhc3QudmFsdWUsIGlzV2hvbGVPcHRpb25hbClcbiAgICAgICAgOiBpc1dob2xlT3B0aW9uYWwoYXN0LnZhbHVlKTtcbn1cbnZhciBDaGFyQ29kZUZpbmRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQ2hhckNvZGVGaW5kZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQ2hhckNvZGVGaW5kZXIodGFyZ2V0Q2hhckNvZGVzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnRhcmdldENoYXJDb2RlcyA9IHRhcmdldENoYXJDb2RlcztcbiAgICAgICAgX3RoaXMuZm91bmQgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBDaGFyQ29kZUZpbmRlci5wcm90b3R5cGUudmlzaXRDaGlsZHJlbiA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgIC8vIE5vIG5lZWQgdG8ga2VlcCBsb29raW5nLi4uXG4gICAgICAgIGlmICh0aGlzLmZvdW5kID09PSB0cnVlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gc3dpdGNoIGxvb2thaGVhZHMgYXMgdGhleSBkbyBub3QgYWN0dWFsbHkgY29uc3VtZSBhbnkgY2hhcmFjdGVycyB0aHVzXG4gICAgICAgIC8vIGZpbmRpbmcgYSBjaGFyQ29kZSBhdCBsb29rYWhlYWQgY29udGV4dCBkb2VzIG5vdCBtZWFuIHRoYXQgcmVnZXhwIGNhbiBhY3R1YWxseSBjb250YWluIGl0IGluIGEgbWF0Y2guXG4gICAgICAgIHN3aXRjaCAobm9kZS50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIFwiTG9va2FoZWFkXCI6XG4gICAgICAgICAgICAgICAgdGhpcy52aXNpdExvb2thaGVhZChub2RlKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBjYXNlIFwiTmVnYXRpdmVMb29rYWhlYWRcIjpcbiAgICAgICAgICAgICAgICB0aGlzLnZpc2l0TmVnYXRpdmVMb29rYWhlYWQobm9kZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUudmlzaXRDaGlsZHJlbi5jYWxsKHRoaXMsIG5vZGUpO1xuICAgIH07XG4gICAgQ2hhckNvZGVGaW5kZXIucHJvdG90eXBlLnZpc2l0Q2hhcmFjdGVyID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgaWYgKGNvbnRhaW5zKHRoaXMudGFyZ2V0Q2hhckNvZGVzLCBub2RlLnZhbHVlKSkge1xuICAgICAgICAgICAgdGhpcy5mb3VuZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIENoYXJDb2RlRmluZGVyLnByb3RvdHlwZS52aXNpdFNldCA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgIGlmIChub2RlLmNvbXBsZW1lbnQpIHtcbiAgICAgICAgICAgIGlmIChmaW5kQ29kZShub2RlLCB0aGlzLnRhcmdldENoYXJDb2RlcykgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGZpbmRDb2RlKG5vZGUsIHRoaXMudGFyZ2V0Q2hhckNvZGVzKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5mb3VuZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBDaGFyQ29kZUZpbmRlcjtcbn0oQmFzZVJlZ0V4cFZpc2l0b3IpKTtcbmV4cG9ydCBmdW5jdGlvbiBjYW5NYXRjaENoYXJDb2RlKGNoYXJDb2RlcywgcGF0dGVybikge1xuICAgIGlmIChwYXR0ZXJuIGluc3RhbmNlb2YgUmVnRXhwKSB7XG4gICAgICAgIHZhciBhc3QgPSBnZXRSZWdFeHBBc3QocGF0dGVybik7XG4gICAgICAgIHZhciBjaGFyQ29kZUZpbmRlciA9IG5ldyBDaGFyQ29kZUZpbmRlcihjaGFyQ29kZXMpO1xuICAgICAgICBjaGFyQ29kZUZpbmRlci52aXNpdChhc3QpO1xuICAgICAgICByZXR1cm4gY2hhckNvZGVGaW5kZXIuZm91bmQ7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gKGZpbmQocGF0dGVybiwgZnVuY3Rpb24gKGNoYXIpIHtcbiAgICAgICAgICAgIHJldHVybiBjb250YWlucyhjaGFyQ29kZXMsIGNoYXIuY2hhckNvZGVBdCgwKSk7XG4gICAgICAgIH0pICE9PSB1bmRlZmluZWQpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlZ19leHAuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5pbXBvcnQgeyBCYXNlUmVnRXhwVmlzaXRvciB9IGZyb20gXCJyZWdleHAtdG8tYXN0XCI7XG5pbXBvcnQgeyBMZXhlciwgTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlIH0gZnJvbSBcIi4vbGV4ZXJfcHVibGljXCI7XG5pbXBvcnQgeyBjb21wYWN0LCBjb250YWlucywgZGVmYXVsdHMsIGRpZmZlcmVuY2UsIGZpbHRlciwgZmluZCwgZmlyc3QsIGZsYXR0ZW4sIGZvckVhY2gsIGhhcywgaW5kZXhPZiwgaXNBcnJheSwgaXNFbXB0eSwgaXNGdW5jdGlvbiwgaXNSZWdFeHAsIGlzU3RyaW5nLCBpc1VuZGVmaW5lZCwga2V5cywgbWFwLCBtYXBWYWx1ZXMsIHBhY2tBcnJheSwgUFJJTlRfRVJST1IsIHJlZHVjZSwgcmVqZWN0IH0gZnJvbSBcIi4uL3V0aWxzL3V0aWxzXCI7XG5pbXBvcnQgeyBjYW5NYXRjaENoYXJDb2RlLCBmYWlsZWRPcHRpbWl6YXRpb25QcmVmaXhNc2csIGdldE9wdGltaXplZFN0YXJ0Q29kZXNJbmRpY2VzIH0gZnJvbSBcIi4vcmVnX2V4cFwiO1xuaW1wb3J0IHsgZ2V0UmVnRXhwQXN0IH0gZnJvbSBcIi4vcmVnX2V4cF9wYXJzZXJcIjtcbnZhciBQQVRURVJOID0gXCJQQVRURVJOXCI7XG5leHBvcnQgdmFyIERFRkFVTFRfTU9ERSA9IFwiZGVmYXVsdE1vZGVcIjtcbmV4cG9ydCB2YXIgTU9ERVMgPSBcIm1vZGVzXCI7XG5leHBvcnQgdmFyIFNVUFBPUlRfU1RJQ0tZID0gdHlwZW9mIG5ldyBSZWdFeHAoXCIoPzopXCIpLnN0aWNreSA9PT0gXCJib29sZWFuXCI7XG5leHBvcnQgZnVuY3Rpb24gZGlzYWJsZVN0aWNreSgpIHtcbiAgICBTVVBQT1JUX1NUSUNLWSA9IGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGVuYWJsZVN0aWNreSgpIHtcbiAgICBTVVBQT1JUX1NUSUNLWSA9IHRydWU7XG59XG5leHBvcnQgZnVuY3Rpb24gYW5hbHl6ZVRva2VuVHlwZXModG9rZW5UeXBlcywgb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBkZWZhdWx0cyhvcHRpb25zLCB7XG4gICAgICAgIHVzZVN0aWNreTogU1VQUE9SVF9TVElDS1ksXG4gICAgICAgIGRlYnVnOiBmYWxzZSxcbiAgICAgICAgc2FmZU1vZGU6IGZhbHNlLFxuICAgICAgICBwb3NpdGlvblRyYWNraW5nOiBcImZ1bGxcIixcbiAgICAgICAgbGluZVRlcm1pbmF0b3JDaGFyYWN0ZXJzOiBbXCJcXHJcIiwgXCJcXG5cIl0sXG4gICAgICAgIHRyYWNlcjogZnVuY3Rpb24gKG1zZywgYWN0aW9uKSB7IHJldHVybiBhY3Rpb24oKTsgfVxuICAgIH0pO1xuICAgIHZhciB0cmFjZXIgPSBvcHRpb25zLnRyYWNlcjtcbiAgICB0cmFjZXIoXCJpbml0Q2hhckNvZGVUb09wdGltaXplZEluZGV4TWFwXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaW5pdENoYXJDb2RlVG9PcHRpbWl6ZWRJbmRleE1hcCgpO1xuICAgIH0pO1xuICAgIHZhciBvbmx5UmVsZXZhbnRUeXBlcztcbiAgICB0cmFjZXIoXCJSZWplY3QgTGV4ZXIuTkFcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICBvbmx5UmVsZXZhbnRUeXBlcyA9IHJlamVjdCh0b2tlblR5cGVzLCBmdW5jdGlvbiAoY3VyclR5cGUpIHtcbiAgICAgICAgICAgIHJldHVybiBjdXJyVHlwZVtQQVRURVJOXSA9PT0gTGV4ZXIuTkE7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIHZhciBoYXNDdXN0b20gPSBmYWxzZTtcbiAgICB2YXIgYWxsVHJhbnNmb3JtZWRQYXR0ZXJucztcbiAgICB0cmFjZXIoXCJUcmFuc2Zvcm0gUGF0dGVybnNcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICBoYXNDdXN0b20gPSBmYWxzZTtcbiAgICAgICAgYWxsVHJhbnNmb3JtZWRQYXR0ZXJucyA9IG1hcChvbmx5UmVsZXZhbnRUeXBlcywgZnVuY3Rpb24gKGN1cnJUeXBlKSB7XG4gICAgICAgICAgICB2YXIgY3VyclBhdHRlcm4gPSBjdXJyVHlwZVtQQVRURVJOXTtcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgICAgICBpZiAoaXNSZWdFeHAoY3VyclBhdHRlcm4pKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlZ0V4cFNvdXJjZSA9IGN1cnJQYXR0ZXJuLnNvdXJjZTtcbiAgICAgICAgICAgICAgICBpZiAocmVnRXhwU291cmNlLmxlbmd0aCA9PT0gMSAmJlxuICAgICAgICAgICAgICAgICAgICAvLyBvbmx5IHRoZXNlIHJlZ0V4cCBtZXRhIGNoYXJhY3RlcnMgd2hpY2ggY2FuIGFwcGVhciBpbiBhIGxlbmd0aCBvbmUgcmVnRXhwXG4gICAgICAgICAgICAgICAgICAgIHJlZ0V4cFNvdXJjZSAhPT0gXCJeXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgcmVnRXhwU291cmNlICE9PSBcIiRcIiAmJlxuICAgICAgICAgICAgICAgICAgICByZWdFeHBTb3VyY2UgIT09IFwiLlwiICYmXG4gICAgICAgICAgICAgICAgICAgICFjdXJyUGF0dGVybi5pZ25vcmVDYXNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdFeHBTb3VyY2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJlZ0V4cFNvdXJjZS5sZW5ndGggPT09IDIgJiZcbiAgICAgICAgICAgICAgICAgICAgcmVnRXhwU291cmNlWzBdID09PSBcIlxcXFxcIiAmJlxuICAgICAgICAgICAgICAgICAgICAvLyBub3QgYSBtZXRhIGNoYXJhY3RlclxuICAgICAgICAgICAgICAgICAgICAhY29udGFpbnMoW1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwic1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJTXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiMFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJjXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiQlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJmXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInZcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwid1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJXXCJcbiAgICAgICAgICAgICAgICAgICAgXSwgcmVnRXhwU291cmNlWzFdKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBlc2NhcGVkIG1ldGEgQ2hhcmFjdGVyczogL1xcKy8gL1xcWy9cbiAgICAgICAgICAgICAgICAgICAgLy8gb3IgcmVkdW5kYW50IGVzY2FwaW5nOiAvXFxhL1xuICAgICAgICAgICAgICAgICAgICAvLyB3aXRob3V0IHRoZSBlc2NhcGluZyBcIlxcXCJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ0V4cFNvdXJjZVsxXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvcHRpb25zLnVzZVN0aWNreVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBhZGRTdGlja3lGbGFnKGN1cnJQYXR0ZXJuKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBhZGRTdGFydE9mSW5wdXQoY3VyclBhdHRlcm4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzRnVuY3Rpb24oY3VyclBhdHRlcm4pKSB7XG4gICAgICAgICAgICAgICAgaGFzQ3VzdG9tID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAvLyBDdXN0b21QYXR0ZXJuTWF0Y2hlckZ1bmMgLSBjdXN0b20gcGF0dGVybnMgZG8gbm90IHJlcXVpcmUgYW55IHRyYW5zZm9ybWF0aW9ucywgb25seSB3cmFwcGluZyBpbiBhIFJlZ0V4cCBMaWtlIG9iamVjdFxuICAgICAgICAgICAgICAgIHJldHVybiB7IGV4ZWM6IGN1cnJQYXR0ZXJuIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChoYXMoY3VyclBhdHRlcm4sIFwiZXhlY1wiKSkge1xuICAgICAgICAgICAgICAgIGhhc0N1c3RvbSA9IHRydWU7XG4gICAgICAgICAgICAgICAgLy8gSUN1c3RvbVBhdHRlcm5cbiAgICAgICAgICAgICAgICByZXR1cm4gY3VyclBhdHRlcm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgY3VyclBhdHRlcm4gPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoY3VyclBhdHRlcm4ubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjdXJyUGF0dGVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlc2NhcGVkUmVnRXhwU3RyaW5nID0gY3VyclBhdHRlcm4ucmVwbGFjZSgvW1xcXFxeJC4qKz8oKVtcXF17fXxdL2csIFwiXFxcXCQmXCIpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgd3JhcHBlZFJlZ0V4cCA9IG5ldyBSZWdFeHAoZXNjYXBlZFJlZ0V4cFN0cmluZyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvcHRpb25zLnVzZVN0aWNreVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBhZGRTdGlja3lGbGFnKHdyYXBwZWRSZWdFeHApXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGFkZFN0YXJ0T2ZJbnB1dCh3cmFwcGVkUmVnRXhwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIm5vbiBleGhhdXN0aXZlIG1hdGNoXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICB2YXIgcGF0dGVybklkeFRvVHlwZTtcbiAgICB2YXIgcGF0dGVybklkeFRvR3JvdXA7XG4gICAgdmFyIHBhdHRlcm5JZHhUb0xvbmdlckFsdElkeDtcbiAgICB2YXIgcGF0dGVybklkeFRvUHVzaE1vZGU7XG4gICAgdmFyIHBhdHRlcm5JZHhUb1BvcE1vZGU7XG4gICAgdHJhY2VyKFwibWlzYyBtYXBwaW5nXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcGF0dGVybklkeFRvVHlwZSA9IG1hcChvbmx5UmVsZXZhbnRUeXBlcywgZnVuY3Rpb24gKGN1cnJUeXBlKSB7IHJldHVybiBjdXJyVHlwZS50b2tlblR5cGVJZHg7IH0pO1xuICAgICAgICBwYXR0ZXJuSWR4VG9Hcm91cCA9IG1hcChvbmx5UmVsZXZhbnRUeXBlcywgZnVuY3Rpb24gKGNsYXp6KSB7XG4gICAgICAgICAgICB2YXIgZ3JvdXBOYW1lID0gY2xhenouR1JPVVA7XG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICAgICAgaWYgKGdyb3VwTmFtZSA9PT0gTGV4ZXIuU0tJUFBFRCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc1N0cmluZyhncm91cE5hbWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdyb3VwTmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzVW5kZWZpbmVkKGdyb3VwTmFtZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIm5vbiBleGhhdXN0aXZlIG1hdGNoXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcGF0dGVybklkeFRvTG9uZ2VyQWx0SWR4ID0gbWFwKG9ubHlSZWxldmFudFR5cGVzLCBmdW5jdGlvbiAoY2xhenopIHtcbiAgICAgICAgICAgIHZhciBsb25nZXJBbHRUeXBlID0gY2xhenouTE9OR0VSX0FMVDtcbiAgICAgICAgICAgIGlmIChsb25nZXJBbHRUeXBlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxvbmdlckFsdElkeCA9IGluZGV4T2Yob25seVJlbGV2YW50VHlwZXMsIGxvbmdlckFsdFR5cGUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBsb25nZXJBbHRJZHg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBwYXR0ZXJuSWR4VG9QdXNoTW9kZSA9IG1hcChvbmx5UmVsZXZhbnRUeXBlcywgZnVuY3Rpb24gKGNsYXp6KSB7IHJldHVybiBjbGF6ei5QVVNIX01PREU7IH0pO1xuICAgICAgICBwYXR0ZXJuSWR4VG9Qb3BNb2RlID0gbWFwKG9ubHlSZWxldmFudFR5cGVzLCBmdW5jdGlvbiAoY2xhenopIHtcbiAgICAgICAgICAgIHJldHVybiBoYXMoY2xhenosIFwiUE9QX01PREVcIik7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIHZhciBwYXR0ZXJuSWR4VG9DYW5MaW5lVGVybWluYXRvcjtcbiAgICB0cmFjZXIoXCJMaW5lIFRlcm1pbmF0b3IgSGFuZGxpbmdcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbGluZVRlcm1pbmF0b3JDaGFyQ29kZXMgPSBnZXRDaGFyQ29kZXMob3B0aW9ucy5saW5lVGVybWluYXRvckNoYXJhY3RlcnMpO1xuICAgICAgICBwYXR0ZXJuSWR4VG9DYW5MaW5lVGVybWluYXRvciA9IG1hcChvbmx5UmVsZXZhbnRUeXBlcywgZnVuY3Rpb24gKHRva1R5cGUpIHsgcmV0dXJuIGZhbHNlOyB9KTtcbiAgICAgICAgaWYgKG9wdGlvbnMucG9zaXRpb25UcmFja2luZyAhPT0gXCJvbmx5T2Zmc2V0XCIpIHtcbiAgICAgICAgICAgIHBhdHRlcm5JZHhUb0NhbkxpbmVUZXJtaW5hdG9yID0gbWFwKG9ubHlSZWxldmFudFR5cGVzLCBmdW5jdGlvbiAodG9rVHlwZSkge1xuICAgICAgICAgICAgICAgIGlmIChoYXModG9rVHlwZSwgXCJMSU5FX0JSRUFLU1wiKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG9rVHlwZS5MSU5FX0JSRUFLUztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGVja0xpbmVCcmVha3NJc3N1ZXModG9rVHlwZSwgbGluZVRlcm1pbmF0b3JDaGFyQ29kZXMpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhbk1hdGNoQ2hhckNvZGUobGluZVRlcm1pbmF0b3JDaGFyQ29kZXMsIHRva1R5cGUuUEFUVEVSTik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHZhciBwYXR0ZXJuSWR4VG9Jc0N1c3RvbTtcbiAgICB2YXIgcGF0dGVybklkeFRvU2hvcnQ7XG4gICAgdmFyIGVtcHR5R3JvdXBzO1xuICAgIHZhciBwYXR0ZXJuSWR4VG9Db25maWc7XG4gICAgdHJhY2VyKFwiTWlzYyBNYXBwaW5nICMyXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcGF0dGVybklkeFRvSXNDdXN0b20gPSBtYXAob25seVJlbGV2YW50VHlwZXMsIGlzQ3VzdG9tUGF0dGVybik7XG4gICAgICAgIHBhdHRlcm5JZHhUb1Nob3J0ID0gbWFwKGFsbFRyYW5zZm9ybWVkUGF0dGVybnMsIGlzU2hvcnRQYXR0ZXJuKTtcbiAgICAgICAgZW1wdHlHcm91cHMgPSByZWR1Y2Uob25seVJlbGV2YW50VHlwZXMsIGZ1bmN0aW9uIChhY2MsIGNsYXp6KSB7XG4gICAgICAgICAgICB2YXIgZ3JvdXBOYW1lID0gY2xhenouR1JPVVA7XG4gICAgICAgICAgICBpZiAoaXNTdHJpbmcoZ3JvdXBOYW1lKSAmJiAhKGdyb3VwTmFtZSA9PT0gTGV4ZXIuU0tJUFBFRCkpIHtcbiAgICAgICAgICAgICAgICBhY2NbZ3JvdXBOYW1lXSA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfSwge30pO1xuICAgICAgICBwYXR0ZXJuSWR4VG9Db25maWcgPSBtYXAoYWxsVHJhbnNmb3JtZWRQYXR0ZXJucywgZnVuY3Rpb24gKHgsIGlkeCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBwYXR0ZXJuOiBhbGxUcmFuc2Zvcm1lZFBhdHRlcm5zW2lkeF0sXG4gICAgICAgICAgICAgICAgbG9uZ2VyQWx0OiBwYXR0ZXJuSWR4VG9Mb25nZXJBbHRJZHhbaWR4XSxcbiAgICAgICAgICAgICAgICBjYW5MaW5lVGVybWluYXRvcjogcGF0dGVybklkeFRvQ2FuTGluZVRlcm1pbmF0b3JbaWR4XSxcbiAgICAgICAgICAgICAgICBpc0N1c3RvbTogcGF0dGVybklkeFRvSXNDdXN0b21baWR4XSxcbiAgICAgICAgICAgICAgICBzaG9ydDogcGF0dGVybklkeFRvU2hvcnRbaWR4XSxcbiAgICAgICAgICAgICAgICBncm91cDogcGF0dGVybklkeFRvR3JvdXBbaWR4XSxcbiAgICAgICAgICAgICAgICBwdXNoOiBwYXR0ZXJuSWR4VG9QdXNoTW9kZVtpZHhdLFxuICAgICAgICAgICAgICAgIHBvcDogcGF0dGVybklkeFRvUG9wTW9kZVtpZHhdLFxuICAgICAgICAgICAgICAgIHRva2VuVHlwZUlkeDogcGF0dGVybklkeFRvVHlwZVtpZHhdLFxuICAgICAgICAgICAgICAgIHRva2VuVHlwZTogb25seVJlbGV2YW50VHlwZXNbaWR4XVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgdmFyIGNhbkJlT3B0aW1pemVkID0gdHJ1ZTtcbiAgICB2YXIgY2hhckNvZGVUb1BhdHRlcm5JZHhUb0NvbmZpZyA9IFtdO1xuICAgIGlmICghb3B0aW9ucy5zYWZlTW9kZSkge1xuICAgICAgICB0cmFjZXIoXCJGaXJzdCBDaGFyIE9wdGltaXphdGlvblwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjaGFyQ29kZVRvUGF0dGVybklkeFRvQ29uZmlnID0gcmVkdWNlKG9ubHlSZWxldmFudFR5cGVzLCBmdW5jdGlvbiAocmVzdWx0LCBjdXJyVG9rVHlwZSwgaWR4KSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjdXJyVG9rVHlwZS5QQVRURVJOID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjaGFyQ29kZSA9IGN1cnJUb2tUeXBlLlBBVFRFUk4uY2hhckNvZGVBdCgwKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9wdGltaXplZElkeCA9IGNoYXJDb2RlVG9PcHRpbWl6ZWRJbmRleChjaGFyQ29kZSk7XG4gICAgICAgICAgICAgICAgICAgIGFkZFRvTWFwT2ZBcnJheXMocmVzdWx0LCBvcHRpbWl6ZWRJZHgsIHBhdHRlcm5JZHhUb0NvbmZpZ1tpZHhdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNBcnJheShjdXJyVG9rVHlwZS5TVEFSVF9DSEFSU19ISU5UKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbGFzdE9wdGltaXplZElkeF8xO1xuICAgICAgICAgICAgICAgICAgICBmb3JFYWNoKGN1cnJUb2tUeXBlLlNUQVJUX0NIQVJTX0hJTlQsIGZ1bmN0aW9uIChjaGFyT3JJbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaGFyQ29kZSA9IHR5cGVvZiBjaGFyT3JJbnQgPT09IFwic3RyaW5nXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGNoYXJPckludC5jaGFyQ29kZUF0KDApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBjaGFyT3JJbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3Vyck9wdGltaXplZElkeCA9IGNoYXJDb2RlVG9PcHRpbWl6ZWRJbmRleChjaGFyQ29kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBdm9pZCBhZGRpbmcgdGhlIGNvbmZpZyBtdWx0aXBsZSB0aW1lc1xuICAgICAgICAgICAgICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIC0gRGlmZmljdWx0IHRvIGNoZWNrIHRoaXMgc2NlbmFyaW8gZWZmZWN0cyBhcyBpdCBpcyBvbmx5IGEgcGVyZm9ybWFuY2VcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgb3B0aW1pemF0aW9uIHRoYXQgZG9lcyBub3QgY2hhbmdlIGNvcnJlY3RuZXNzXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobGFzdE9wdGltaXplZElkeF8xICE9PSBjdXJyT3B0aW1pemVkSWR4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdE9wdGltaXplZElkeF8xID0gY3Vyck9wdGltaXplZElkeDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRUb01hcE9mQXJyYXlzKHJlc3VsdCwgY3Vyck9wdGltaXplZElkeCwgcGF0dGVybklkeFRvQ29uZmlnW2lkeF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNSZWdFeHAoY3VyclRva1R5cGUuUEFUVEVSTikpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJUb2tUeXBlLlBBVFRFUk4udW5pY29kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FuQmVPcHRpbWl6ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmVuc3VyZU9wdGltaXphdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQUklOVF9FUlJPUihcIlwiICsgZmFpbGVkT3B0aW1pemF0aW9uUHJlZml4TXNnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKFwiXFx0VW5hYmxlIHRvIGFuYWx5emUgPCBcIiArIGN1cnJUb2tUeXBlLlBBVFRFUk4udG9TdHJpbmcoKSArIFwiID4gcGF0dGVybi5cXG5cIikgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlxcdFRoZSByZWdleHAgdW5pY29kZSBmbGFnIGlzIG5vdCBjdXJyZW50bHkgc3VwcG9ydGVkIGJ5IHRoZSByZWdleHAtdG8tYXN0IGxpYnJhcnkuXFxuXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlxcdFRoaXMgd2lsbCBkaXNhYmxlIHRoZSBsZXhlcidzIGZpcnN0IGNoYXIgb3B0aW1pemF0aW9ucy5cXG5cIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXFx0Rm9yIGRldGFpbHMgU2VlOiBodHRwczovL3NhcC5naXRodWIuaW8vY2hldnJvdGFpbi9kb2NzL2d1aWRlL3Jlc29sdmluZ19sZXhlcl9lcnJvcnMuaHRtbCNVTklDT0RFX09QVElNSVpFXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9wdGltaXplZENvZGVzID0gZ2V0T3B0aW1pemVkU3RhcnRDb2Rlc0luZGljZXMoY3VyclRva1R5cGUuUEFUVEVSTiwgb3B0aW9ucy5lbnN1cmVPcHRpbWl6YXRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3RhcnQgY29kZSB3aWxsIG9ubHkgYmUgZW1wdHkgZ2l2ZW4gYW4gZW1wdHkgcmVnRXhwIG9yIGZhaWx1cmUgb2YgcmVnZXhwLXRvLWFzdCBsaWJyYXJ5XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGUgZmlyc3Qgc2hvdWxkIGJlIGEgZGlmZmVyZW50IHZhbGlkYXRpb24gYW5kIHRoZSBzZWNvbmQgY2Fubm90IGJlIHRlc3RlZC5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0VtcHR5KG9wdGltaXplZENvZGVzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlIGNhbm5vdCB1bmRlcnN0YW5kIHdoYXQgY29kZXMgbWF5IHN0YXJ0IHBvc3NpYmxlIG1hdGNoZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgb3B0aW1pemF0aW9uIGNvcnJlY3RuZXNzIHJlcXVpcmVzIGtub3dpbmcgc3RhcnQgY29kZXMgZm9yIEFMTCBwYXR0ZXJucy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBOb3QgYWN0dWFsbHkgc3VyZSB0aGlzIGlzIGFuIGVycm9yLCBubyBkZWJ1ZyBtZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuQmVPcHRpbWl6ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvckVhY2gob3B0aW1pemVkQ29kZXMsIGZ1bmN0aW9uIChjb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9NYXBPZkFycmF5cyhyZXN1bHQsIGNvZGUsIHBhdHRlcm5JZHhUb0NvbmZpZ1tpZHhdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5lbnN1cmVPcHRpbWl6YXRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBQUklOVF9FUlJPUihcIlwiICsgZmFpbGVkT3B0aW1pemF0aW9uUHJlZml4TXNnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoXCJcXHRUb2tlblR5cGU6IDxcIiArIGN1cnJUb2tUeXBlLm5hbWUgKyBcIj4gaXMgdXNpbmcgYSBjdXN0b20gdG9rZW4gcGF0dGVybiB3aXRob3V0IHByb3ZpZGluZyA8c3RhcnRfY2hhcnNfaGludD4gcGFyYW1ldGVyLlxcblwiKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcXHRUaGlzIHdpbGwgZGlzYWJsZSB0aGUgbGV4ZXIncyBmaXJzdCBjaGFyIG9wdGltaXphdGlvbnMuXFxuXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXFx0Rm9yIGRldGFpbHMgU2VlOiBodHRwczovL3NhcC5naXRodWIuaW8vY2hldnJvdGFpbi9kb2NzL2d1aWRlL3Jlc29sdmluZ19sZXhlcl9lcnJvcnMuaHRtbCNDVVNUT01fT1BUSU1JWkVcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FuQmVPcHRpbWl6ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH0sIFtdKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHRyYWNlcihcIkFycmF5UGFja2luZ1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNoYXJDb2RlVG9QYXR0ZXJuSWR4VG9Db25maWcgPSBwYWNrQXJyYXkoY2hhckNvZGVUb1BhdHRlcm5JZHhUb0NvbmZpZyk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZW1wdHlHcm91cHM6IGVtcHR5R3JvdXBzLFxuICAgICAgICBwYXR0ZXJuSWR4VG9Db25maWc6IHBhdHRlcm5JZHhUb0NvbmZpZyxcbiAgICAgICAgY2hhckNvZGVUb1BhdHRlcm5JZHhUb0NvbmZpZzogY2hhckNvZGVUb1BhdHRlcm5JZHhUb0NvbmZpZyxcbiAgICAgICAgaGFzQ3VzdG9tOiBoYXNDdXN0b20sXG4gICAgICAgIGNhbkJlT3B0aW1pemVkOiBjYW5CZU9wdGltaXplZFxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVQYXR0ZXJucyh0b2tlblR5cGVzLCB2YWxpZE1vZGVzTmFtZXMpIHtcbiAgICB2YXIgZXJyb3JzID0gW107XG4gICAgdmFyIG1pc3NpbmdSZXN1bHQgPSBmaW5kTWlzc2luZ1BhdHRlcm5zKHRva2VuVHlwZXMpO1xuICAgIGVycm9ycyA9IGVycm9ycy5jb25jYXQobWlzc2luZ1Jlc3VsdC5lcnJvcnMpO1xuICAgIHZhciBpbnZhbGlkUmVzdWx0ID0gZmluZEludmFsaWRQYXR0ZXJucyhtaXNzaW5nUmVzdWx0LnZhbGlkKTtcbiAgICB2YXIgdmFsaWRUb2tlblR5cGVzID0gaW52YWxpZFJlc3VsdC52YWxpZDtcbiAgICBlcnJvcnMgPSBlcnJvcnMuY29uY2F0KGludmFsaWRSZXN1bHQuZXJyb3JzKTtcbiAgICBlcnJvcnMgPSBlcnJvcnMuY29uY2F0KHZhbGlkYXRlUmVnRXhwUGF0dGVybih2YWxpZFRva2VuVHlwZXMpKTtcbiAgICBlcnJvcnMgPSBlcnJvcnMuY29uY2F0KGZpbmRJbnZhbGlkR3JvdXBUeXBlKHZhbGlkVG9rZW5UeXBlcykpO1xuICAgIGVycm9ycyA9IGVycm9ycy5jb25jYXQoZmluZE1vZGVzVGhhdERvTm90RXhpc3QodmFsaWRUb2tlblR5cGVzLCB2YWxpZE1vZGVzTmFtZXMpKTtcbiAgICBlcnJvcnMgPSBlcnJvcnMuY29uY2F0KGZpbmRVbnJlYWNoYWJsZVBhdHRlcm5zKHZhbGlkVG9rZW5UeXBlcykpO1xuICAgIHJldHVybiBlcnJvcnM7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZVJlZ0V4cFBhdHRlcm4odG9rZW5UeXBlcykge1xuICAgIHZhciBlcnJvcnMgPSBbXTtcbiAgICB2YXIgd2l0aFJlZ0V4cFBhdHRlcm5zID0gZmlsdGVyKHRva2VuVHlwZXMsIGZ1bmN0aW9uIChjdXJyVG9rVHlwZSkge1xuICAgICAgICByZXR1cm4gaXNSZWdFeHAoY3VyclRva1R5cGVbUEFUVEVSTl0pO1xuICAgIH0pO1xuICAgIGVycm9ycyA9IGVycm9ycy5jb25jYXQoZmluZEVuZE9mSW5wdXRBbmNob3Iod2l0aFJlZ0V4cFBhdHRlcm5zKSk7XG4gICAgZXJyb3JzID0gZXJyb3JzLmNvbmNhdChmaW5kU3RhcnRPZklucHV0QW5jaG9yKHdpdGhSZWdFeHBQYXR0ZXJucykpO1xuICAgIGVycm9ycyA9IGVycm9ycy5jb25jYXQoZmluZFVuc3VwcG9ydGVkRmxhZ3Mod2l0aFJlZ0V4cFBhdHRlcm5zKSk7XG4gICAgZXJyb3JzID0gZXJyb3JzLmNvbmNhdChmaW5kRHVwbGljYXRlUGF0dGVybnMod2l0aFJlZ0V4cFBhdHRlcm5zKSk7XG4gICAgZXJyb3JzID0gZXJyb3JzLmNvbmNhdChmaW5kRW1wdHlNYXRjaFJlZ0V4cHMod2l0aFJlZ0V4cFBhdHRlcm5zKSk7XG4gICAgcmV0dXJuIGVycm9ycztcbn1cbmV4cG9ydCBmdW5jdGlvbiBmaW5kTWlzc2luZ1BhdHRlcm5zKHRva2VuVHlwZXMpIHtcbiAgICB2YXIgdG9rZW5UeXBlc1dpdGhNaXNzaW5nUGF0dGVybiA9IGZpbHRlcih0b2tlblR5cGVzLCBmdW5jdGlvbiAoY3VyclR5cGUpIHtcbiAgICAgICAgcmV0dXJuICFoYXMoY3VyclR5cGUsIFBBVFRFUk4pO1xuICAgIH0pO1xuICAgIHZhciBlcnJvcnMgPSBtYXAodG9rZW5UeXBlc1dpdGhNaXNzaW5nUGF0dGVybiwgZnVuY3Rpb24gKGN1cnJUeXBlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIlRva2VuIFR5cGU6IC0+XCIgK1xuICAgICAgICAgICAgICAgIGN1cnJUeXBlLm5hbWUgK1xuICAgICAgICAgICAgICAgIFwiPC0gbWlzc2luZyBzdGF0aWMgJ1BBVFRFUk4nIHByb3BlcnR5XCIsXG4gICAgICAgICAgICB0eXBlOiBMZXhlckRlZmluaXRpb25FcnJvclR5cGUuTUlTU0lOR19QQVRURVJOLFxuICAgICAgICAgICAgdG9rZW5UeXBlczogW2N1cnJUeXBlXVxuICAgICAgICB9O1xuICAgIH0pO1xuICAgIHZhciB2YWxpZCA9IGRpZmZlcmVuY2UodG9rZW5UeXBlcywgdG9rZW5UeXBlc1dpdGhNaXNzaW5nUGF0dGVybik7XG4gICAgcmV0dXJuIHsgZXJyb3JzOiBlcnJvcnMsIHZhbGlkOiB2YWxpZCB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZpbmRJbnZhbGlkUGF0dGVybnModG9rZW5UeXBlcykge1xuICAgIHZhciB0b2tlblR5cGVzV2l0aEludmFsaWRQYXR0ZXJuID0gZmlsdGVyKHRva2VuVHlwZXMsIGZ1bmN0aW9uIChjdXJyVHlwZSkge1xuICAgICAgICB2YXIgcGF0dGVybiA9IGN1cnJUeXBlW1BBVFRFUk5dO1xuICAgICAgICByZXR1cm4gKCFpc1JlZ0V4cChwYXR0ZXJuKSAmJlxuICAgICAgICAgICAgIWlzRnVuY3Rpb24ocGF0dGVybikgJiZcbiAgICAgICAgICAgICFoYXMocGF0dGVybiwgXCJleGVjXCIpICYmXG4gICAgICAgICAgICAhaXNTdHJpbmcocGF0dGVybikpO1xuICAgIH0pO1xuICAgIHZhciBlcnJvcnMgPSBtYXAodG9rZW5UeXBlc1dpdGhJbnZhbGlkUGF0dGVybiwgZnVuY3Rpb24gKGN1cnJUeXBlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIlRva2VuIFR5cGU6IC0+XCIgK1xuICAgICAgICAgICAgICAgIGN1cnJUeXBlLm5hbWUgK1xuICAgICAgICAgICAgICAgIFwiPC0gc3RhdGljICdQQVRURVJOJyBjYW4gb25seSBiZSBhIFJlZ0V4cCwgYVwiICtcbiAgICAgICAgICAgICAgICBcIiBGdW5jdGlvbiBtYXRjaGluZyB0aGUge0N1c3RvbVBhdHRlcm5NYXRjaGVyRnVuY30gdHlwZSBvciBhbiBPYmplY3QgbWF0Y2hpbmcgdGhlIHtJQ3VzdG9tUGF0dGVybn0gaW50ZXJmYWNlLlwiLFxuICAgICAgICAgICAgdHlwZTogTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlLklOVkFMSURfUEFUVEVSTixcbiAgICAgICAgICAgIHRva2VuVHlwZXM6IFtjdXJyVHlwZV1cbiAgICAgICAgfTtcbiAgICB9KTtcbiAgICB2YXIgdmFsaWQgPSBkaWZmZXJlbmNlKHRva2VuVHlwZXMsIHRva2VuVHlwZXNXaXRoSW52YWxpZFBhdHRlcm4pO1xuICAgIHJldHVybiB7IGVycm9yczogZXJyb3JzLCB2YWxpZDogdmFsaWQgfTtcbn1cbnZhciBlbmRfb2ZfaW5wdXQgPSAvW15cXFxcXVtcXCRdLztcbmV4cG9ydCBmdW5jdGlvbiBmaW5kRW5kT2ZJbnB1dEFuY2hvcih0b2tlblR5cGVzKSB7XG4gICAgdmFyIEVuZEFuY2hvckZpbmRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICAgICAgX19leHRlbmRzKEVuZEFuY2hvckZpbmRlciwgX3N1cGVyKTtcbiAgICAgICAgZnVuY3Rpb24gRW5kQW5jaG9yRmluZGVyKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgICAgICAgICBfdGhpcy5mb3VuZCA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgICB9XG4gICAgICAgIEVuZEFuY2hvckZpbmRlci5wcm90b3R5cGUudmlzaXRFbmRBbmNob3IgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgICAgdGhpcy5mb3VuZCA9IHRydWU7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBFbmRBbmNob3JGaW5kZXI7XG4gICAgfShCYXNlUmVnRXhwVmlzaXRvcikpO1xuICAgIHZhciBpbnZhbGlkUmVnZXggPSBmaWx0ZXIodG9rZW5UeXBlcywgZnVuY3Rpb24gKGN1cnJUeXBlKSB7XG4gICAgICAgIHZhciBwYXR0ZXJuID0gY3VyclR5cGVbUEFUVEVSTl07XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgcmVnZXhwQXN0ID0gZ2V0UmVnRXhwQXN0KHBhdHRlcm4pO1xuICAgICAgICAgICAgdmFyIGVuZEFuY2hvclZpc2l0b3IgPSBuZXcgRW5kQW5jaG9yRmluZGVyKCk7XG4gICAgICAgICAgICBlbmRBbmNob3JWaXNpdG9yLnZpc2l0KHJlZ2V4cEFzdCk7XG4gICAgICAgICAgICByZXR1cm4gZW5kQW5jaG9yVmlzaXRvci5mb3VuZDtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgLy8gb2xkIGJlaGF2aW9yIGluIGNhc2Ugb2YgcnVudGltZSBleGNlcHRpb25zIHdpdGggcmVnZXhwLXRvLWFzdC5cbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0IC0gY2Fubm90IGVuc3VyZSBhbiBlcnJvciBpbiByZWdleHAtdG8tYXN0Ki9cbiAgICAgICAgICAgIHJldHVybiBlbmRfb2ZfaW5wdXQudGVzdChwYXR0ZXJuLnNvdXJjZSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICB2YXIgZXJyb3JzID0gbWFwKGludmFsaWRSZWdleCwgZnVuY3Rpb24gKGN1cnJUeXBlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIlVuZXhwZWN0ZWQgUmVnRXhwIEFuY2hvciBFcnJvcjpcXG5cIiArXG4gICAgICAgICAgICAgICAgXCJcXHRUb2tlbiBUeXBlOiAtPlwiICtcbiAgICAgICAgICAgICAgICBjdXJyVHlwZS5uYW1lICtcbiAgICAgICAgICAgICAgICBcIjwtIHN0YXRpYyAnUEFUVEVSTicgY2Fubm90IGNvbnRhaW4gZW5kIG9mIGlucHV0IGFuY2hvciAnJCdcXG5cIiArXG4gICAgICAgICAgICAgICAgXCJcXHRTZWUgc2FwLmdpdGh1Yi5pby9jaGV2cm90YWluL2RvY3MvZ3VpZGUvcmVzb2x2aW5nX2xleGVyX2Vycm9ycy5odG1sI0FOQ0hPUlNcIiArXG4gICAgICAgICAgICAgICAgXCJcXHRmb3IgZGV0YWlscy5cIixcbiAgICAgICAgICAgIHR5cGU6IExleGVyRGVmaW5pdGlvbkVycm9yVHlwZS5FT0lfQU5DSE9SX0ZPVU5ELFxuICAgICAgICAgICAgdG9rZW5UeXBlczogW2N1cnJUeXBlXVxuICAgICAgICB9O1xuICAgIH0pO1xuICAgIHJldHVybiBlcnJvcnM7XG59XG5leHBvcnQgZnVuY3Rpb24gZmluZEVtcHR5TWF0Y2hSZWdFeHBzKHRva2VuVHlwZXMpIHtcbiAgICB2YXIgbWF0Y2hlc0VtcHR5U3RyaW5nID0gZmlsdGVyKHRva2VuVHlwZXMsIGZ1bmN0aW9uIChjdXJyVHlwZSkge1xuICAgICAgICB2YXIgcGF0dGVybiA9IGN1cnJUeXBlW1BBVFRFUk5dO1xuICAgICAgICByZXR1cm4gcGF0dGVybi50ZXN0KFwiXCIpO1xuICAgIH0pO1xuICAgIHZhciBlcnJvcnMgPSBtYXAobWF0Y2hlc0VtcHR5U3RyaW5nLCBmdW5jdGlvbiAoY3VyclR5cGUpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiVG9rZW4gVHlwZTogLT5cIiArXG4gICAgICAgICAgICAgICAgY3VyclR5cGUubmFtZSArXG4gICAgICAgICAgICAgICAgXCI8LSBzdGF0aWMgJ1BBVFRFUk4nIG11c3Qgbm90IG1hdGNoIGFuIGVtcHR5IHN0cmluZ1wiLFxuICAgICAgICAgICAgdHlwZTogTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlLkVNUFRZX01BVENIX1BBVFRFUk4sXG4gICAgICAgICAgICB0b2tlblR5cGVzOiBbY3VyclR5cGVdXG4gICAgICAgIH07XG4gICAgfSk7XG4gICAgcmV0dXJuIGVycm9ycztcbn1cbnZhciBzdGFydF9vZl9pbnB1dCA9IC9bXlxcXFxbXVtcXF5dfF5cXF4vO1xuZXhwb3J0IGZ1bmN0aW9uIGZpbmRTdGFydE9mSW5wdXRBbmNob3IodG9rZW5UeXBlcykge1xuICAgIHZhciBTdGFydEFuY2hvckZpbmRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICAgICAgX19leHRlbmRzKFN0YXJ0QW5jaG9yRmluZGVyLCBfc3VwZXIpO1xuICAgICAgICBmdW5jdGlvbiBTdGFydEFuY2hvckZpbmRlcigpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgICAgICAgX3RoaXMuZm91bmQgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgfVxuICAgICAgICBTdGFydEFuY2hvckZpbmRlci5wcm90b3R5cGUudmlzaXRTdGFydEFuY2hvciA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgICB0aGlzLmZvdW5kID0gdHJ1ZTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIFN0YXJ0QW5jaG9yRmluZGVyO1xuICAgIH0oQmFzZVJlZ0V4cFZpc2l0b3IpKTtcbiAgICB2YXIgaW52YWxpZFJlZ2V4ID0gZmlsdGVyKHRva2VuVHlwZXMsIGZ1bmN0aW9uIChjdXJyVHlwZSkge1xuICAgICAgICB2YXIgcGF0dGVybiA9IGN1cnJUeXBlW1BBVFRFUk5dO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIHJlZ2V4cEFzdCA9IGdldFJlZ0V4cEFzdChwYXR0ZXJuKTtcbiAgICAgICAgICAgIHZhciBzdGFydEFuY2hvclZpc2l0b3IgPSBuZXcgU3RhcnRBbmNob3JGaW5kZXIoKTtcbiAgICAgICAgICAgIHN0YXJ0QW5jaG9yVmlzaXRvci52aXNpdChyZWdleHBBc3QpO1xuICAgICAgICAgICAgcmV0dXJuIHN0YXJ0QW5jaG9yVmlzaXRvci5mb3VuZDtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgLy8gb2xkIGJlaGF2aW9yIGluIGNhc2Ugb2YgcnVudGltZSBleGNlcHRpb25zIHdpdGggcmVnZXhwLXRvLWFzdC5cbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0IC0gY2Fubm90IGVuc3VyZSBhbiBlcnJvciBpbiByZWdleHAtdG8tYXN0Ki9cbiAgICAgICAgICAgIHJldHVybiBzdGFydF9vZl9pbnB1dC50ZXN0KHBhdHRlcm4uc291cmNlKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHZhciBlcnJvcnMgPSBtYXAoaW52YWxpZFJlZ2V4LCBmdW5jdGlvbiAoY3VyclR5cGUpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiVW5leHBlY3RlZCBSZWdFeHAgQW5jaG9yIEVycm9yOlxcblwiICtcbiAgICAgICAgICAgICAgICBcIlxcdFRva2VuIFR5cGU6IC0+XCIgK1xuICAgICAgICAgICAgICAgIGN1cnJUeXBlLm5hbWUgK1xuICAgICAgICAgICAgICAgIFwiPC0gc3RhdGljICdQQVRURVJOJyBjYW5ub3QgY29udGFpbiBzdGFydCBvZiBpbnB1dCBhbmNob3IgJ14nXFxuXCIgK1xuICAgICAgICAgICAgICAgIFwiXFx0U2VlIGh0dHBzOi8vc2FwLmdpdGh1Yi5pby9jaGV2cm90YWluL2RvY3MvZ3VpZGUvcmVzb2x2aW5nX2xleGVyX2Vycm9ycy5odG1sI0FOQ0hPUlNcIiArXG4gICAgICAgICAgICAgICAgXCJcXHRmb3IgZGV0YWlscy5cIixcbiAgICAgICAgICAgIHR5cGU6IExleGVyRGVmaW5pdGlvbkVycm9yVHlwZS5TT0lfQU5DSE9SX0ZPVU5ELFxuICAgICAgICAgICAgdG9rZW5UeXBlczogW2N1cnJUeXBlXVxuICAgICAgICB9O1xuICAgIH0pO1xuICAgIHJldHVybiBlcnJvcnM7XG59XG5leHBvcnQgZnVuY3Rpb24gZmluZFVuc3VwcG9ydGVkRmxhZ3ModG9rZW5UeXBlcykge1xuICAgIHZhciBpbnZhbGlkRmxhZ3MgPSBmaWx0ZXIodG9rZW5UeXBlcywgZnVuY3Rpb24gKGN1cnJUeXBlKSB7XG4gICAgICAgIHZhciBwYXR0ZXJuID0gY3VyclR5cGVbUEFUVEVSTl07XG4gICAgICAgIHJldHVybiBwYXR0ZXJuIGluc3RhbmNlb2YgUmVnRXhwICYmIChwYXR0ZXJuLm11bHRpbGluZSB8fCBwYXR0ZXJuLmdsb2JhbCk7XG4gICAgfSk7XG4gICAgdmFyIGVycm9ycyA9IG1hcChpbnZhbGlkRmxhZ3MsIGZ1bmN0aW9uIChjdXJyVHlwZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWVzc2FnZTogXCJUb2tlbiBUeXBlOiAtPlwiICtcbiAgICAgICAgICAgICAgICBjdXJyVHlwZS5uYW1lICtcbiAgICAgICAgICAgICAgICBcIjwtIHN0YXRpYyAnUEFUVEVSTicgbWF5IE5PVCBjb250YWluIGdsb2JhbCgnZycpIG9yIG11bHRpbGluZSgnbScpXCIsXG4gICAgICAgICAgICB0eXBlOiBMZXhlckRlZmluaXRpb25FcnJvclR5cGUuVU5TVVBQT1JURURfRkxBR1NfRk9VTkQsXG4gICAgICAgICAgICB0b2tlblR5cGVzOiBbY3VyclR5cGVdXG4gICAgICAgIH07XG4gICAgfSk7XG4gICAgcmV0dXJuIGVycm9ycztcbn1cbi8vIFRoaXMgY2FuIG9ubHkgdGVzdCBmb3IgaWRlbnRpY2FsIGR1cGxpY2F0ZSBSZWdFeHBzLCBub3Qgc2VtYW50aWNhbGx5IGVxdWl2YWxlbnQgb25lcy5cbmV4cG9ydCBmdW5jdGlvbiBmaW5kRHVwbGljYXRlUGF0dGVybnModG9rZW5UeXBlcykge1xuICAgIHZhciBmb3VuZCA9IFtdO1xuICAgIHZhciBpZGVudGljYWxQYXR0ZXJucyA9IG1hcCh0b2tlblR5cGVzLCBmdW5jdGlvbiAob3V0ZXJUeXBlKSB7XG4gICAgICAgIHJldHVybiByZWR1Y2UodG9rZW5UeXBlcywgZnVuY3Rpb24gKHJlc3VsdCwgaW5uZXJUeXBlKSB7XG4gICAgICAgICAgICBpZiAob3V0ZXJUeXBlLlBBVFRFUk4uc291cmNlID09PSBpbm5lclR5cGUuUEFUVEVSTi5zb3VyY2UgJiZcbiAgICAgICAgICAgICAgICAhY29udGFpbnMoZm91bmQsIGlubmVyVHlwZSkgJiZcbiAgICAgICAgICAgICAgICBpbm5lclR5cGUuUEFUVEVSTiAhPT0gTGV4ZXIuTkEpIHtcbiAgICAgICAgICAgICAgICAvLyB0aGlzIGF2b2lkcyBkdXBsaWNhdGVzIGluIHRoZSByZXN1bHQsIGVhY2ggVG9rZW4gVHlwZSBtYXkgb25seSBhcHBlYXIgaW4gb25lIFwic2V0XCJcbiAgICAgICAgICAgICAgICAvLyBpbiBlc3NlbmNlIHdlIGFyZSBjcmVhdGluZyBFcXVpdmFsZW5jZSBjbGFzc2VzIG9uIGVxdWFsaXR5IHJlbGF0aW9uLlxuICAgICAgICAgICAgICAgIGZvdW5kLnB1c2goaW5uZXJUeXBlKTtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChpbm5lclR5cGUpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9LCBbXSk7XG4gICAgfSk7XG4gICAgaWRlbnRpY2FsUGF0dGVybnMgPSBjb21wYWN0KGlkZW50aWNhbFBhdHRlcm5zKTtcbiAgICB2YXIgZHVwbGljYXRlUGF0dGVybnMgPSBmaWx0ZXIoaWRlbnRpY2FsUGF0dGVybnMsIGZ1bmN0aW9uIChjdXJySWRlbnRpY2FsU2V0KSB7XG4gICAgICAgIHJldHVybiBjdXJySWRlbnRpY2FsU2V0Lmxlbmd0aCA+IDE7XG4gICAgfSk7XG4gICAgdmFyIGVycm9ycyA9IG1hcChkdXBsaWNhdGVQYXR0ZXJucywgZnVuY3Rpb24gKHNldE9mSWRlbnRpY2FsKSB7XG4gICAgICAgIHZhciB0b2tlblR5cGVOYW1lcyA9IG1hcChzZXRPZklkZW50aWNhbCwgZnVuY3Rpb24gKGN1cnJUeXBlKSB7XG4gICAgICAgICAgICByZXR1cm4gY3VyclR5cGUubmFtZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBkdXBQYXR0ZXJuU3JjID0gZmlyc3Qoc2V0T2ZJZGVudGljYWwpLlBBVFRFUk47XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIlRoZSBzYW1lIFJlZ0V4cCBwYXR0ZXJuIC0+XCIgKyBkdXBQYXR0ZXJuU3JjICsgXCI8LVwiICtcbiAgICAgICAgICAgICAgICAoXCJoYXMgYmVlbiB1c2VkIGluIGFsbCBvZiB0aGUgZm9sbG93aW5nIFRva2VuIFR5cGVzOiBcIiArIHRva2VuVHlwZU5hbWVzLmpvaW4oXCIsIFwiKSArIFwiIDwtXCIpLFxuICAgICAgICAgICAgdHlwZTogTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlLkRVUExJQ0FURV9QQVRURVJOU19GT1VORCxcbiAgICAgICAgICAgIHRva2VuVHlwZXM6IHNldE9mSWRlbnRpY2FsXG4gICAgICAgIH07XG4gICAgfSk7XG4gICAgcmV0dXJuIGVycm9ycztcbn1cbmV4cG9ydCBmdW5jdGlvbiBmaW5kSW52YWxpZEdyb3VwVHlwZSh0b2tlblR5cGVzKSB7XG4gICAgdmFyIGludmFsaWRUeXBlcyA9IGZpbHRlcih0b2tlblR5cGVzLCBmdW5jdGlvbiAoY2xhenopIHtcbiAgICAgICAgaWYgKCFoYXMoY2xhenosIFwiR1JPVVBcIikpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZ3JvdXAgPSBjbGF6ei5HUk9VUDtcbiAgICAgICAgcmV0dXJuIGdyb3VwICE9PSBMZXhlci5TS0lQUEVEICYmIGdyb3VwICE9PSBMZXhlci5OQSAmJiAhaXNTdHJpbmcoZ3JvdXApO1xuICAgIH0pO1xuICAgIHZhciBlcnJvcnMgPSBtYXAoaW52YWxpZFR5cGVzLCBmdW5jdGlvbiAoY3VyclR5cGUpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiVG9rZW4gVHlwZTogLT5cIiArXG4gICAgICAgICAgICAgICAgY3VyclR5cGUubmFtZSArXG4gICAgICAgICAgICAgICAgXCI8LSBzdGF0aWMgJ0dST1VQJyBjYW4gb25seSBiZSBMZXhlci5TS0lQUEVEL0xleGVyLk5BL0EgU3RyaW5nXCIsXG4gICAgICAgICAgICB0eXBlOiBMZXhlckRlZmluaXRpb25FcnJvclR5cGUuSU5WQUxJRF9HUk9VUF9UWVBFX0ZPVU5ELFxuICAgICAgICAgICAgdG9rZW5UeXBlczogW2N1cnJUeXBlXVxuICAgICAgICB9O1xuICAgIH0pO1xuICAgIHJldHVybiBlcnJvcnM7XG59XG5leHBvcnQgZnVuY3Rpb24gZmluZE1vZGVzVGhhdERvTm90RXhpc3QodG9rZW5UeXBlcywgdmFsaWRNb2Rlcykge1xuICAgIHZhciBpbnZhbGlkTW9kZXMgPSBmaWx0ZXIodG9rZW5UeXBlcywgZnVuY3Rpb24gKGNsYXp6KSB7XG4gICAgICAgIHJldHVybiAoY2xhenouUFVTSF9NT0RFICE9PSB1bmRlZmluZWQgJiYgIWNvbnRhaW5zKHZhbGlkTW9kZXMsIGNsYXp6LlBVU0hfTU9ERSkpO1xuICAgIH0pO1xuICAgIHZhciBlcnJvcnMgPSBtYXAoaW52YWxpZE1vZGVzLCBmdW5jdGlvbiAodG9rVHlwZSkge1xuICAgICAgICB2YXIgbXNnID0gXCJUb2tlbiBUeXBlOiAtPlwiICsgdG9rVHlwZS5uYW1lICsgXCI8LSBzdGF0aWMgJ1BVU0hfTU9ERScgdmFsdWUgY2Fubm90IHJlZmVyIHRvIGEgTGV4ZXIgTW9kZSAtPlwiICsgdG9rVHlwZS5QVVNIX01PREUgKyBcIjwtXCIgK1xuICAgICAgICAgICAgXCJ3aGljaCBkb2VzIG5vdCBleGlzdFwiO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWVzc2FnZTogbXNnLFxuICAgICAgICAgICAgdHlwZTogTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlLlBVU0hfTU9ERV9ET0VTX05PVF9FWElTVCxcbiAgICAgICAgICAgIHRva2VuVHlwZXM6IFt0b2tUeXBlXVxuICAgICAgICB9O1xuICAgIH0pO1xuICAgIHJldHVybiBlcnJvcnM7XG59XG5leHBvcnQgZnVuY3Rpb24gZmluZFVucmVhY2hhYmxlUGF0dGVybnModG9rZW5UeXBlcykge1xuICAgIHZhciBlcnJvcnMgPSBbXTtcbiAgICB2YXIgY2FuQmVUZXN0ZWQgPSByZWR1Y2UodG9rZW5UeXBlcywgZnVuY3Rpb24gKHJlc3VsdCwgdG9rVHlwZSwgaWR4KSB7XG4gICAgICAgIHZhciBwYXR0ZXJuID0gdG9rVHlwZS5QQVRURVJOO1xuICAgICAgICBpZiAocGF0dGVybiA9PT0gTGV4ZXIuTkEpIHtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYSBtb3JlIGNvbXByZWhlbnNpdmUgdmFsaWRhdGlvbiBmb3IgYWxsIGZvcm1zIG9mIHJlZ0V4cHMgd291bGQgcmVxdWlyZVxuICAgICAgICAvLyBkZWVwZXIgcmVnRXhwIGFuYWx5c2lzIGNhcGFiaWxpdGllc1xuICAgICAgICBpZiAoaXNTdHJpbmcocGF0dGVybikpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHsgc3RyOiBwYXR0ZXJuLCBpZHg6IGlkeCwgdG9rZW5UeXBlOiB0b2tUeXBlIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzUmVnRXhwKHBhdHRlcm4pICYmIG5vTWV0YUNoYXIocGF0dGVybikpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHsgc3RyOiBwYXR0ZXJuLnNvdXJjZSwgaWR4OiBpZHgsIHRva2VuVHlwZTogdG9rVHlwZSB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0sIFtdKTtcbiAgICBmb3JFYWNoKHRva2VuVHlwZXMsIGZ1bmN0aW9uICh0b2tUeXBlLCB0ZXN0SWR4KSB7XG4gICAgICAgIGZvckVhY2goY2FuQmVUZXN0ZWQsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgdmFyIHN0ciA9IF9hLnN0ciwgaWR4ID0gX2EuaWR4LCB0b2tlblR5cGUgPSBfYS50b2tlblR5cGU7XG4gICAgICAgICAgICBpZiAodGVzdElkeCA8IGlkeCAmJiB0ZXN0VG9rZW5UeXBlKHN0ciwgdG9rVHlwZS5QQVRURVJOKSkge1xuICAgICAgICAgICAgICAgIHZhciBtc2cgPSBcIlRva2VuOiAtPlwiICsgdG9rZW5UeXBlLm5hbWUgKyBcIjwtIGNhbiBuZXZlciBiZSBtYXRjaGVkLlxcblwiICtcbiAgICAgICAgICAgICAgICAgICAgKFwiQmVjYXVzZSBpdCBhcHBlYXJzIEFGVEVSIHRoZSBUb2tlbiBUeXBlIC0+XCIgKyB0b2tUeXBlLm5hbWUgKyBcIjwtXCIpICtcbiAgICAgICAgICAgICAgICAgICAgXCJpbiB0aGUgbGV4ZXIncyBkZWZpbml0aW9uLlxcblwiICtcbiAgICAgICAgICAgICAgICAgICAgXCJTZWUgaHR0cHM6Ly9zYXAuZ2l0aHViLmlvL2NoZXZyb3RhaW4vZG9jcy9ndWlkZS9yZXNvbHZpbmdfbGV4ZXJfZXJyb3JzLmh0bWwjVU5SRUFDSEFCTEVcIjtcbiAgICAgICAgICAgICAgICBlcnJvcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG1zZyxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlLlVOUkVBQ0hBQkxFX1BBVFRFUk4sXG4gICAgICAgICAgICAgICAgICAgIHRva2VuVHlwZXM6IFt0b2tUeXBlLCB0b2tlblR5cGVdXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiBlcnJvcnM7XG59XG5mdW5jdGlvbiB0ZXN0VG9rZW5UeXBlKHN0ciwgcGF0dGVybikge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgaWYgKGlzUmVnRXhwKHBhdHRlcm4pKSB7XG4gICAgICAgIHZhciByZWdFeHBBcnJheSA9IHBhdHRlcm4uZXhlYyhzdHIpO1xuICAgICAgICByZXR1cm4gcmVnRXhwQXJyYXkgIT09IG51bGwgJiYgcmVnRXhwQXJyYXkuaW5kZXggPT09IDA7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzRnVuY3Rpb24ocGF0dGVybikpIHtcbiAgICAgICAgLy8gbWFpbnRhaW4gdGhlIEFQSSBvZiBjdXN0b20gcGF0dGVybnNcbiAgICAgICAgcmV0dXJuIHBhdHRlcm4oc3RyLCAwLCBbXSwge30pO1xuICAgIH1cbiAgICBlbHNlIGlmIChoYXMocGF0dGVybiwgXCJleGVjXCIpKSB7XG4gICAgICAgIC8vIG1haW50YWluIHRoZSBBUEkgb2YgY3VzdG9tIHBhdHRlcm5zXG4gICAgICAgIHJldHVybiBwYXR0ZXJuLmV4ZWMoc3RyLCAwLCBbXSwge30pO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgcGF0dGVybiA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZXR1cm4gcGF0dGVybiA9PT0gc3RyO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJub24gZXhoYXVzdGl2ZSBtYXRjaFwiKTtcbiAgICB9XG59XG5mdW5jdGlvbiBub01ldGFDaGFyKHJlZ0V4cCkge1xuICAgIC8vaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvUmVnRXhwXG4gICAgdmFyIG1ldGFDaGFycyA9IFtcbiAgICAgICAgXCIuXCIsXG4gICAgICAgIFwiXFxcXFwiLFxuICAgICAgICBcIltcIixcbiAgICAgICAgXCJdXCIsXG4gICAgICAgIFwifFwiLFxuICAgICAgICBcIl5cIixcbiAgICAgICAgXCIkXCIsXG4gICAgICAgIFwiKFwiLFxuICAgICAgICBcIilcIixcbiAgICAgICAgXCI/XCIsXG4gICAgICAgIFwiKlwiLFxuICAgICAgICBcIitcIixcbiAgICAgICAgXCJ7XCJcbiAgICBdO1xuICAgIHJldHVybiAoZmluZChtZXRhQ2hhcnMsIGZ1bmN0aW9uIChjaGFyKSB7IHJldHVybiByZWdFeHAuc291cmNlLmluZGV4T2YoY2hhcikgIT09IC0xOyB9KSA9PT0gdW5kZWZpbmVkKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhZGRTdGFydE9mSW5wdXQocGF0dGVybikge1xuICAgIHZhciBmbGFncyA9IHBhdHRlcm4uaWdub3JlQ2FzZSA/IFwiaVwiIDogXCJcIjtcbiAgICAvLyBhbHdheXMgd3JhcHBpbmcgaW4gYSBub25lIGNhcHR1cmluZyBncm91cCBwcmVjZWRlZCBieSAnXicgdG8gbWFrZSBzdXJlIG1hdGNoaW5nIGNhbiBvbmx5IHdvcmsgb24gc3RhcnQgb2YgaW5wdXQuXG4gICAgLy8gZHVwbGljYXRlL3JlZHVuZGFudCBzdGFydCBvZiBpbnB1dCBtYXJrZXJzIGhhdmUgbm8gbWVhbmluZyAoL15eXl5BLyA9PT0gL15BLylcbiAgICByZXR1cm4gbmV3IFJlZ0V4cChcIl4oPzpcIiArIHBhdHRlcm4uc291cmNlICsgXCIpXCIsIGZsYWdzKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhZGRTdGlja3lGbGFnKHBhdHRlcm4pIHtcbiAgICB2YXIgZmxhZ3MgPSBwYXR0ZXJuLmlnbm9yZUNhc2UgPyBcIml5XCIgOiBcInlcIjtcbiAgICAvLyBhbHdheXMgd3JhcHBpbmcgaW4gYSBub25lIGNhcHR1cmluZyBncm91cCBwcmVjZWRlZCBieSAnXicgdG8gbWFrZSBzdXJlIG1hdGNoaW5nIGNhbiBvbmx5IHdvcmsgb24gc3RhcnQgb2YgaW5wdXQuXG4gICAgLy8gZHVwbGljYXRlL3JlZHVuZGFudCBzdGFydCBvZiBpbnB1dCBtYXJrZXJzIGhhdmUgbm8gbWVhbmluZyAoL15eXl5BLyA9PT0gL15BLylcbiAgICByZXR1cm4gbmV3IFJlZ0V4cChcIlwiICsgcGF0dGVybi5zb3VyY2UsIGZsYWdzKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBwZXJmb3JtUnVudGltZUNoZWNrcyhsZXhlckRlZmluaXRpb24sIHRyYWNrTGluZXMsIGxpbmVUZXJtaW5hdG9yQ2hhcmFjdGVycykge1xuICAgIHZhciBlcnJvcnMgPSBbXTtcbiAgICAvLyBzb21lIHJ1biB0aW1lIGNoZWNrcyB0byBoZWxwIHRoZSBlbmQgdXNlcnMuXG4gICAgaWYgKCFoYXMobGV4ZXJEZWZpbml0aW9uLCBERUZBVUxUX01PREUpKSB7XG4gICAgICAgIGVycm9ycy5wdXNoKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiQSBNdWx0aU1vZGUgTGV4ZXIgY2Fubm90IGJlIGluaXRpYWxpemVkIHdpdGhvdXQgYSA8XCIgK1xuICAgICAgICAgICAgICAgIERFRkFVTFRfTU9ERSArXG4gICAgICAgICAgICAgICAgXCI+IHByb3BlcnR5IGluIGl0cyBkZWZpbml0aW9uXFxuXCIsXG4gICAgICAgICAgICB0eXBlOiBMZXhlckRlZmluaXRpb25FcnJvclR5cGUuTVVMVElfTU9ERV9MRVhFUl9XSVRIT1VUX0RFRkFVTFRfTU9ERVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKCFoYXMobGV4ZXJEZWZpbml0aW9uLCBNT0RFUykpIHtcbiAgICAgICAgZXJyb3JzLnB1c2goe1xuICAgICAgICAgICAgbWVzc2FnZTogXCJBIE11bHRpTW9kZSBMZXhlciBjYW5ub3QgYmUgaW5pdGlhbGl6ZWQgd2l0aG91dCBhIDxcIiArXG4gICAgICAgICAgICAgICAgTU9ERVMgK1xuICAgICAgICAgICAgICAgIFwiPiBwcm9wZXJ0eSBpbiBpdHMgZGVmaW5pdGlvblxcblwiLFxuICAgICAgICAgICAgdHlwZTogTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlLk1VTFRJX01PREVfTEVYRVJfV0lUSE9VVF9NT0RFU19QUk9QRVJUWVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGhhcyhsZXhlckRlZmluaXRpb24sIE1PREVTKSAmJlxuICAgICAgICBoYXMobGV4ZXJEZWZpbml0aW9uLCBERUZBVUxUX01PREUpICYmXG4gICAgICAgICFoYXMobGV4ZXJEZWZpbml0aW9uLm1vZGVzLCBsZXhlckRlZmluaXRpb24uZGVmYXVsdE1vZGUpKSB7XG4gICAgICAgIGVycm9ycy5wdXNoKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiQSBNdWx0aU1vZGUgTGV4ZXIgY2Fubm90IGJlIGluaXRpYWxpemVkIHdpdGggYSBcIiArIERFRkFVTFRfTU9ERSArIFwiOiA8XCIgKyBsZXhlckRlZmluaXRpb24uZGVmYXVsdE1vZGUgKyBcIj5cIiArXG4gICAgICAgICAgICAgICAgXCJ3aGljaCBkb2VzIG5vdCBleGlzdFxcblwiLFxuICAgICAgICAgICAgdHlwZTogTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlLk1VTFRJX01PREVfTEVYRVJfREVGQVVMVF9NT0RFX1ZBTFVFX0RPRVNfTk9UX0VYSVNUXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaGFzKGxleGVyRGVmaW5pdGlvbiwgTU9ERVMpKSB7XG4gICAgICAgIGZvckVhY2gobGV4ZXJEZWZpbml0aW9uLm1vZGVzLCBmdW5jdGlvbiAoY3Vyck1vZGVWYWx1ZSwgY3Vyck1vZGVOYW1lKSB7XG4gICAgICAgICAgICBmb3JFYWNoKGN1cnJNb2RlVmFsdWUsIGZ1bmN0aW9uIChjdXJyVG9rVHlwZSwgY3VycklkeCkge1xuICAgICAgICAgICAgICAgIGlmIChpc1VuZGVmaW5lZChjdXJyVG9rVHlwZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJBIExleGVyIGNhbm5vdCBiZSBpbml0aWFsaXplZCB1c2luZyBhbiB1bmRlZmluZWQgVG9rZW4gVHlwZS4gTW9kZTpcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKFwiPFwiICsgY3Vyck1vZGVOYW1lICsgXCI+IGF0IGluZGV4OiA8XCIgKyBjdXJySWR4ICsgXCI+XFxuXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlLkxFWEVSX0RFRklOSVRJT05fQ0FOTk9UX0NPTlRBSU5fVU5ERUZJTkVEXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGVycm9ycztcbn1cbmV4cG9ydCBmdW5jdGlvbiBwZXJmb3JtV2FybmluZ1J1bnRpbWVDaGVja3MobGV4ZXJEZWZpbml0aW9uLCB0cmFja0xpbmVzLCBsaW5lVGVybWluYXRvckNoYXJhY3RlcnMpIHtcbiAgICB2YXIgd2FybmluZ3MgPSBbXTtcbiAgICB2YXIgaGFzQW55TGluZUJyZWFrID0gZmFsc2U7XG4gICAgdmFyIGFsbFRva2VuVHlwZXMgPSBjb21wYWN0KGZsYXR0ZW4obWFwVmFsdWVzKGxleGVyRGVmaW5pdGlvbi5tb2RlcywgZnVuY3Rpb24gKHRva1R5cGVzKSB7IHJldHVybiB0b2tUeXBlczsgfSkpKTtcbiAgICB2YXIgY29uY3JldGVUb2tlblR5cGVzID0gcmVqZWN0KGFsbFRva2VuVHlwZXMsIGZ1bmN0aW9uIChjdXJyVHlwZSkgeyByZXR1cm4gY3VyclR5cGVbUEFUVEVSTl0gPT09IExleGVyLk5BOyB9KTtcbiAgICB2YXIgdGVybWluYXRvckNoYXJDb2RlcyA9IGdldENoYXJDb2RlcyhsaW5lVGVybWluYXRvckNoYXJhY3RlcnMpO1xuICAgIGlmICh0cmFja0xpbmVzKSB7XG4gICAgICAgIGZvckVhY2goY29uY3JldGVUb2tlblR5cGVzLCBmdW5jdGlvbiAodG9rVHlwZSkge1xuICAgICAgICAgICAgdmFyIGN1cnJJc3N1ZSA9IGNoZWNrTGluZUJyZWFrc0lzc3Vlcyh0b2tUeXBlLCB0ZXJtaW5hdG9yQ2hhckNvZGVzKTtcbiAgICAgICAgICAgIGlmIChjdXJySXNzdWUgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSBidWlsZExpbmVCcmVha0lzc3VlTWVzc2FnZSh0b2tUeXBlLCBjdXJySXNzdWUpO1xuICAgICAgICAgICAgICAgIHZhciB3YXJuaW5nRGVzY3JpcHRvciA9IHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogbWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogY3Vycklzc3VlLmlzc3VlLFxuICAgICAgICAgICAgICAgICAgICB0b2tlblR5cGU6IHRva1R5cGVcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHdhcm5pbmdzLnB1c2god2FybmluZ0Rlc2NyaXB0b3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gd2UgZG9uJ3Qgd2FudCB0byBhdHRlbXB0IHRvIHNjYW4gaWYgdGhlIHVzZXIgZXhwbGljaXRseSBzcGVjaWZpZWQgdGhlIGxpbmVfYnJlYWtzIG9wdGlvbi5cbiAgICAgICAgICAgICAgICBpZiAoaGFzKHRva1R5cGUsIFwiTElORV9CUkVBS1NcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRva1R5cGUuTElORV9CUkVBS1MgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc0FueUxpbmVCcmVhayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjYW5NYXRjaENoYXJDb2RlKHRlcm1pbmF0b3JDaGFyQ29kZXMsIHRva1R5cGUuUEFUVEVSTikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc0FueUxpbmVCcmVhayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAodHJhY2tMaW5lcyAmJiAhaGFzQW55TGluZUJyZWFrKSB7XG4gICAgICAgIHdhcm5pbmdzLnB1c2goe1xuICAgICAgICAgICAgbWVzc2FnZTogXCJXYXJuaW5nOiBObyBMSU5FX0JSRUFLUyBGb3VuZC5cXG5cIiArXG4gICAgICAgICAgICAgICAgXCJcXHRUaGlzIExleGVyIGhhcyBiZWVuIGRlZmluZWQgdG8gdHJhY2sgbGluZSBhbmQgY29sdW1uIGluZm9ybWF0aW9uLFxcblwiICtcbiAgICAgICAgICAgICAgICBcIlxcdEJ1dCBub25lIG9mIHRoZSBUb2tlbiBUeXBlcyBjYW4gYmUgaWRlbnRpZmllZCBhcyBtYXRjaGluZyBhIGxpbmUgdGVybWluYXRvci5cXG5cIiArXG4gICAgICAgICAgICAgICAgXCJcXHRTZWUgaHR0cHM6Ly9zYXAuZ2l0aHViLmlvL2NoZXZyb3RhaW4vZG9jcy9ndWlkZS9yZXNvbHZpbmdfbGV4ZXJfZXJyb3JzLmh0bWwjTElORV9CUkVBS1MgXFxuXCIgK1xuICAgICAgICAgICAgICAgIFwiXFx0Zm9yIGRldGFpbHMuXCIsXG4gICAgICAgICAgICB0eXBlOiBMZXhlckRlZmluaXRpb25FcnJvclR5cGUuTk9fTElORV9CUkVBS1NfRkxBR1NcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB3YXJuaW5ncztcbn1cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZUVtcHR5R3JvdXBzKGVtcHR5R3JvdXBzKSB7XG4gICAgdmFyIGNsb25lZFJlc3VsdCA9IHt9O1xuICAgIHZhciBncm91cEtleXMgPSBrZXlzKGVtcHR5R3JvdXBzKTtcbiAgICBmb3JFYWNoKGdyb3VwS2V5cywgZnVuY3Rpb24gKGN1cnJLZXkpIHtcbiAgICAgICAgdmFyIGN1cnJHcm91cFZhbHVlID0gZW1wdHlHcm91cHNbY3VycktleV07XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgIGlmIChpc0FycmF5KGN1cnJHcm91cFZhbHVlKSkge1xuICAgICAgICAgICAgY2xvbmVkUmVzdWx0W2N1cnJLZXldID0gW107XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcIm5vbiBleGhhdXN0aXZlIG1hdGNoXCIpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGNsb25lZFJlc3VsdDtcbn1cbi8vIFRPRE86IHJlZmFjdG9yIHRvIGF2b2lkIGR1cGxpY2F0aW9uXG5leHBvcnQgZnVuY3Rpb24gaXNDdXN0b21QYXR0ZXJuKHRva2VuVHlwZSkge1xuICAgIHZhciBwYXR0ZXJuID0gdG9rZW5UeXBlLlBBVFRFUk47XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICBpZiAoaXNSZWdFeHAocGF0dGVybikpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc0Z1bmN0aW9uKHBhdHRlcm4pKSB7XG4gICAgICAgIC8vIEN1c3RvbVBhdHRlcm5NYXRjaGVyRnVuYyAtIGN1c3RvbSBwYXR0ZXJucyBkbyBub3QgcmVxdWlyZSBhbnkgdHJhbnNmb3JtYXRpb25zLCBvbmx5IHdyYXBwaW5nIGluIGEgUmVnRXhwIExpa2Ugb2JqZWN0XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBlbHNlIGlmIChoYXMocGF0dGVybiwgXCJleGVjXCIpKSB7XG4gICAgICAgIC8vIElDdXN0b21QYXR0ZXJuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc1N0cmluZyhwYXR0ZXJuKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBFcnJvcihcIm5vbiBleGhhdXN0aXZlIG1hdGNoXCIpO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1Nob3J0UGF0dGVybihwYXR0ZXJuKSB7XG4gICAgaWYgKGlzU3RyaW5nKHBhdHRlcm4pICYmIHBhdHRlcm4ubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybiBwYXR0ZXJuLmNoYXJDb2RlQXQoMCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuLyoqXG4gKiBGYXN0ZXIgdGhhbiB1c2luZyBhIFJlZ0V4cCBmb3IgZGVmYXVsdCBuZXdsaW5lIGRldGVjdGlvbiBkdXJpbmcgbGV4aW5nLlxuICovXG5leHBvcnQgdmFyIExpbmVUZXJtaW5hdG9yT3B0aW1pemVkVGVzdGVyID0ge1xuICAgIC8vIGltcGxlbWVudHMgL1xcbnxcXHJcXG4/L2cudGVzdFxuICAgIHRlc3Q6IGZ1bmN0aW9uICh0ZXh0KSB7XG4gICAgICAgIHZhciBsZW4gPSB0ZXh0Lmxlbmd0aDtcbiAgICAgICAgZm9yICh2YXIgaSA9IHRoaXMubGFzdEluZGV4OyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjID0gdGV4dC5jaGFyQ29kZUF0KGkpO1xuICAgICAgICAgICAgaWYgKGMgPT09IDEwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0SW5kZXggPSBpICsgMTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGMgPT09IDEzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRleHQuY2hhckNvZGVBdChpICsgMSkgPT09IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGFzdEluZGV4ID0gaSArIDI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxhc3RJbmRleCA9IGkgKyAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcbiAgICBsYXN0SW5kZXg6IDBcbn07XG5mdW5jdGlvbiBjaGVja0xpbmVCcmVha3NJc3N1ZXModG9rVHlwZSwgbGluZVRlcm1pbmF0b3JDaGFyQ29kZXMpIHtcbiAgICBpZiAoaGFzKHRva1R5cGUsIFwiTElORV9CUkVBS1NcIikpIHtcbiAgICAgICAgLy8gaWYgdGhlIHVzZXIgZXhwbGljaXRseSBkZWNsYXJlZCB0aGUgbGluZV9icmVha3Mgb3B0aW9uIHdlIHdpbGwgcmVzcGVjdCB0aGVpciBjaG9pY2VcbiAgICAgICAgLy8gYW5kIGFzc3VtZSBpdCBpcyBjb3JyZWN0LlxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICBpZiAoaXNSZWdFeHAodG9rVHlwZS5QQVRURVJOKSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjYW5NYXRjaENoYXJDb2RlKGxpbmVUZXJtaW5hdG9yQ2hhckNvZGVzLCB0b2tUeXBlLlBBVFRFUk4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAtIHRvIHRlc3QgdGhpcyB3ZSB3b3VsZCBoYXZlIHRvIG1vY2sgPGNhbk1hdGNoQ2hhckNvZGU+IHRvIHRocm93IGFuIGVycm9yICovXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgaXNzdWU6IExleGVyRGVmaW5pdGlvbkVycm9yVHlwZS5JREVOVElGWV9URVJNSU5BVE9SLFxuICAgICAgICAgICAgICAgICAgICBlcnJNc2c6IGUubWVzc2FnZVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNTdHJpbmcodG9rVHlwZS5QQVRURVJOKSkge1xuICAgICAgICAgICAgLy8gc3RyaW5nIGxpdGVyYWwgcGF0dGVybnMgY2FuIGFsd2F5cyBiZSBhbmFseXplZCB0byBkZXRlY3QgbGluZSB0ZXJtaW5hdG9yIHVzYWdlXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNDdXN0b21QYXR0ZXJuKHRva1R5cGUpKSB7XG4gICAgICAgICAgICAvLyBjdXN0b20gdG9rZW4gdHlwZXNcbiAgICAgICAgICAgIHJldHVybiB7IGlzc3VlOiBMZXhlckRlZmluaXRpb25FcnJvclR5cGUuQ1VTVE9NX0xJTkVfQlJFQUsgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKFwibm9uIGV4aGF1c3RpdmUgbWF0Y2hcIik7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gYnVpbGRMaW5lQnJlYWtJc3N1ZU1lc3NhZ2UodG9rVHlwZSwgZGV0YWlscykge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgaWYgKGRldGFpbHMuaXNzdWUgPT09IExleGVyRGVmaW5pdGlvbkVycm9yVHlwZS5JREVOVElGWV9URVJNSU5BVE9SKSB7XG4gICAgICAgIHJldHVybiAoXCJXYXJuaW5nOiB1bmFibGUgdG8gaWRlbnRpZnkgbGluZSB0ZXJtaW5hdG9yIHVzYWdlIGluIHBhdHRlcm4uXFxuXCIgK1xuICAgICAgICAgICAgKFwiXFx0VGhlIHByb2JsZW0gaXMgaW4gdGhlIDxcIiArIHRva1R5cGUubmFtZSArIFwiPiBUb2tlbiBUeXBlXFxuXCIpICtcbiAgICAgICAgICAgIChcIlxcdCBSb290IGNhdXNlOiBcIiArIGRldGFpbHMuZXJyTXNnICsgXCIuXFxuXCIpICtcbiAgICAgICAgICAgIFwiXFx0Rm9yIGRldGFpbHMgU2VlOiBodHRwczovL3NhcC5naXRodWIuaW8vY2hldnJvdGFpbi9kb2NzL2d1aWRlL3Jlc29sdmluZ19sZXhlcl9lcnJvcnMuaHRtbCNJREVOVElGWV9URVJNSU5BVE9SXCIpO1xuICAgIH1cbiAgICBlbHNlIGlmIChkZXRhaWxzLmlzc3VlID09PSBMZXhlckRlZmluaXRpb25FcnJvclR5cGUuQ1VTVE9NX0xJTkVfQlJFQUspIHtcbiAgICAgICAgcmV0dXJuIChcIldhcm5pbmc6IEEgQ3VzdG9tIFRva2VuIFBhdHRlcm4gc2hvdWxkIHNwZWNpZnkgdGhlIDxsaW5lX2JyZWFrcz4gb3B0aW9uLlxcblwiICtcbiAgICAgICAgICAgIChcIlxcdFRoZSBwcm9ibGVtIGlzIGluIHRoZSA8XCIgKyB0b2tUeXBlLm5hbWUgKyBcIj4gVG9rZW4gVHlwZVxcblwiKSArXG4gICAgICAgICAgICBcIlxcdEZvciBkZXRhaWxzIFNlZTogaHR0cHM6Ly9zYXAuZ2l0aHViLmlvL2NoZXZyb3RhaW4vZG9jcy9ndWlkZS9yZXNvbHZpbmdfbGV4ZXJfZXJyb3JzLmh0bWwjQ1VTVE9NX0xJTkVfQlJFQUtcIik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBFcnJvcihcIm5vbiBleGhhdXN0aXZlIG1hdGNoXCIpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldENoYXJDb2RlcyhjaGFyc09yQ29kZXMpIHtcbiAgICB2YXIgY2hhckNvZGVzID0gbWFwKGNoYXJzT3JDb2RlcywgZnVuY3Rpb24gKG51bU9yU3RyaW5nKSB7XG4gICAgICAgIGlmIChpc1N0cmluZyhudW1PclN0cmluZykgJiYgbnVtT3JTdHJpbmcubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bU9yU3RyaW5nLmNoYXJDb2RlQXQoMCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVtT3JTdHJpbmc7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gY2hhckNvZGVzO1xufVxuZnVuY3Rpb24gYWRkVG9NYXBPZkFycmF5cyhtYXAsIGtleSwgdmFsdWUpIHtcbiAgICBpZiAobWFwW2tleV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBtYXBba2V5XSA9IFt2YWx1ZV07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBtYXBba2V5XS5wdXNoKHZhbHVlKTtcbiAgICB9XG59XG5leHBvcnQgdmFyIG1pbk9wdGltaXphdGlvblZhbCA9IDI1Njtcbi8qKlxuICogV2UgYWUgbWFwcGluZyBjaGFyQ29kZSBhYm92ZSBBU0NJICgyNTYpIGludG8gYnVja2V0cyBlYWNoIGluIHRoZSBzaXplIG9mIDI1Ni5cbiAqIFRoaXMgaXMgYmVjYXVzZSBBU0NJIGFyZSB0aGUgbW9zdCBjb21tb24gc3RhcnQgY2hhcnMgc28gZWFjaCBvbmUgb2YgdGhvc2Ugd2lsbCBnZXQgaXRzIG93blxuICogcG9zc2libGUgdG9rZW4gY29uZmlncyB2ZWN0b3IuXG4gKlxuICogVG9rZW5zIHN0YXJ0aW5nIHdpdGggY2hhckNvZGVzIFwiYWJvdmVcIiBBU0NJIGFyZSB1bmNvbW1vbiwgc28gd2UgY2FuIFwiYWZmb3JkXCJcbiAqIHRvIHBsYWNlIHRoZXNlIGludG8gYnVja2V0cyBvZiBwb3NzaWJsZSB0b2tlbiBjb25maWdzLCBXaGF0IHdlIGdhaW4gZnJvbVxuICogdGhpcyBpcyBhdm9pZGluZyB0aGUgY2FzZSBvZiBjcmVhdGluZyBhbiBvcHRpbWl6YXRpb24gJ2NoYXJDb2RlVG9QYXR0ZXJuSWR4VG9Db25maWcnXG4gKiB3aGljaCB3b3VsZCBjb250YWluIDEwLDAwMCsgYXJyYXlzIG9mIHNtYWxsIHNpemUgKGUuZyB1bmljb2RlIElkZW50aWZpZXJzIHNjZW5hcmlvKS5cbiAqIE91ciAnY2hhckNvZGVUb1BhdHRlcm5JZHhUb0NvbmZpZycgbWF4IHNpemUgd2lsbCBub3cgYmU6XG4gKiAyNTYgKyAoMl4xNiAvIDJeOCkgLSAxID09PSA1MTFcbiAqXG4gKiBub3RlIHRoZSBoYWNrIGZvciBmYXN0IGRpdmlzaW9uIGludGVnZXIgcGFydCBleHRyYWN0aW9uXG4gKiBTZWU6IGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS80MjI4NTI4XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjaGFyQ29kZVRvT3B0aW1pemVkSW5kZXgoY2hhckNvZGUpIHtcbiAgICByZXR1cm4gY2hhckNvZGUgPCBtaW5PcHRpbWl6YXRpb25WYWxcbiAgICAgICAgPyBjaGFyQ29kZVxuICAgICAgICA6IGNoYXJDb2RlVG9PcHRpbWl6ZWRJZHhNYXBbY2hhckNvZGVdO1xufVxuLyoqXG4gKiBUaGlzIGlzIGEgY29tcHJvbWlzZSBiZXR3ZWVuIGNvbGQgc3RhcnQgLyBob3QgcnVubmluZyBwZXJmb3JtYW5jZVxuICogQ3JlYXRpbmcgdGhpcyBhcnJheSB0YWtlcyB+M21zIG9uIGEgbW9kZXJuIG1hY2hpbmUsXG4gKiBCdXQgaWYgd2UgcGVyZm9ybSB0aGUgY29tcHV0YXRpb24gYXQgcnVudGltZSBhcyBuZWVkZWQgdGhlIENTUyBMZXhlciBiZW5jaG1hcmtcbiAqIHBlcmZvcm1hbmNlIGRlZ3JhZGVzIGJ5IH4xMCVcbiAqXG4gKiBUT0RPOiBQZXJoYXBzIGl0IHNob3VsZCBiZSBsYXp5IGluaXRpYWxpemVkIG9ubHkgaWYgYSBjaGFyQ29kZSA+IDI1NSBpcyB1c2VkLlxuICovXG52YXIgY2hhckNvZGVUb09wdGltaXplZElkeE1hcCA9IFtdO1xuZnVuY3Rpb24gaW5pdENoYXJDb2RlVG9PcHRpbWl6ZWRJbmRleE1hcCgpIHtcbiAgICBpZiAoaXNFbXB0eShjaGFyQ29kZVRvT3B0aW1pemVkSWR4TWFwKSkge1xuICAgICAgICBjaGFyQ29kZVRvT3B0aW1pemVkSWR4TWFwID0gbmV3IEFycmF5KDY1NTM2KTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA2NTUzNjsgaSsrKSB7XG4gICAgICAgICAgICAvKiB0c2xpbnQ6ZGlzYWJsZSAqL1xuICAgICAgICAgICAgY2hhckNvZGVUb09wdGltaXplZElkeE1hcFtpXSA9IGkgPiAyNTUgPyAyNTUgKyB+fihpIC8gMjU1KSA6IGk7XG4gICAgICAgICAgICAvKiB0c2xpbnQ6ZW5hYmxlICovXG4gICAgICAgIH1cbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sZXhlci5qcy5tYXAiLCJpbXBvcnQgeyBjbG9uZUFyciwgY29tcGFjdCwgY29udGFpbnMsIGRpZmZlcmVuY2UsIGZsYXR0ZW4sIGZvckVhY2gsIGhhcywgaXNBcnJheSwgaXNFbXB0eSwgbWFwIH0gZnJvbSBcIi4uL3V0aWxzL3V0aWxzXCI7XG5leHBvcnQgZnVuY3Rpb24gdG9rZW5TdHJ1Y3R1cmVkTWF0Y2hlcih0b2tJbnN0YW5jZSwgdG9rQ29uc3RydWN0b3IpIHtcbiAgICB2YXIgaW5zdGFuY2VUeXBlID0gdG9rSW5zdGFuY2UudG9rZW5UeXBlSWR4O1xuICAgIGlmIChpbnN0YW5jZVR5cGUgPT09IHRva0NvbnN0cnVjdG9yLnRva2VuVHlwZUlkeCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiAodG9rQ29uc3RydWN0b3IuaXNQYXJlbnQgPT09IHRydWUgJiZcbiAgICAgICAgICAgIHRva0NvbnN0cnVjdG9yLmNhdGVnb3J5TWF0Y2hlc01hcFtpbnN0YW5jZVR5cGVdID09PSB0cnVlKTtcbiAgICB9XG59XG4vLyBPcHRpbWl6ZWQgdG9rZW5NYXRjaGVyIGluIGNhc2Ugb3VyIGdyYW1tYXIgZG9lcyBub3QgdXNlIHRva2VuIGNhdGVnb3JpZXNcbi8vIEJlaW5nIHNvIHRpbnkgaXQgaXMgbXVjaCBtb3JlIGxpa2VseSB0byBiZSBpbi1saW5lZCBhbmQgdGhpcyBhdm9pZCB0aGUgZnVuY3Rpb24gY2FsbCBvdmVyaGVhZFxuZXhwb3J0IGZ1bmN0aW9uIHRva2VuU3RydWN0dXJlZE1hdGNoZXJOb0NhdGVnb3JpZXModG9rZW4sIHRva1R5cGUpIHtcbiAgICByZXR1cm4gdG9rZW4udG9rZW5UeXBlSWR4ID09PSB0b2tUeXBlLnRva2VuVHlwZUlkeDtcbn1cbmV4cG9ydCB2YXIgdG9rZW5TaG9ydE5hbWVJZHggPSAxO1xuZXhwb3J0IHZhciB0b2tlbklkeFRvQ2xhc3MgPSB7fTtcbmV4cG9ydCBmdW5jdGlvbiBhdWdtZW50VG9rZW5UeXBlcyh0b2tlblR5cGVzKSB7XG4gICAgLy8gY29sbGVjdCB0aGUgcGFyZW50IFRva2VuIFR5cGVzIGFzIHdlbGwuXG4gICAgdmFyIHRva2VuVHlwZXNBbmRQYXJlbnRzID0gZXhwYW5kQ2F0ZWdvcmllcyh0b2tlblR5cGVzKTtcbiAgICAvLyBhZGQgcmVxdWlyZWQgdG9rZW5UeXBlIGFuZCBjYXRlZ29yeU1hdGNoZXMgcHJvcGVydGllc1xuICAgIGFzc2lnblRva2VuRGVmYXVsdFByb3BzKHRva2VuVHlwZXNBbmRQYXJlbnRzKTtcbiAgICAvLyBmaWxsIHVwIHRoZSBjYXRlZ29yeU1hdGNoZXNcbiAgICBhc3NpZ25DYXRlZ29yaWVzTWFwUHJvcCh0b2tlblR5cGVzQW5kUGFyZW50cyk7XG4gICAgYXNzaWduQ2F0ZWdvcmllc1Rva2Vuc1Byb3AodG9rZW5UeXBlc0FuZFBhcmVudHMpO1xuICAgIGZvckVhY2godG9rZW5UeXBlc0FuZFBhcmVudHMsIGZ1bmN0aW9uICh0b2tUeXBlKSB7XG4gICAgICAgIHRva1R5cGUuaXNQYXJlbnQgPSB0b2tUeXBlLmNhdGVnb3J5TWF0Y2hlcy5sZW5ndGggPiAwO1xuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGV4cGFuZENhdGVnb3JpZXModG9rZW5UeXBlcykge1xuICAgIHZhciByZXN1bHQgPSBjbG9uZUFycih0b2tlblR5cGVzKTtcbiAgICB2YXIgY2F0ZWdvcmllcyA9IHRva2VuVHlwZXM7XG4gICAgdmFyIHNlYXJjaGluZyA9IHRydWU7XG4gICAgd2hpbGUgKHNlYXJjaGluZykge1xuICAgICAgICBjYXRlZ29yaWVzID0gY29tcGFjdChmbGF0dGVuKG1hcChjYXRlZ29yaWVzLCBmdW5jdGlvbiAoY3VyclRva1R5cGUpIHsgcmV0dXJuIGN1cnJUb2tUeXBlLkNBVEVHT1JJRVM7IH0pKSk7XG4gICAgICAgIHZhciBuZXdDYXRlZ29yaWVzID0gZGlmZmVyZW5jZShjYXRlZ29yaWVzLCByZXN1bHQpO1xuICAgICAgICByZXN1bHQgPSByZXN1bHQuY29uY2F0KG5ld0NhdGVnb3JpZXMpO1xuICAgICAgICBpZiAoaXNFbXB0eShuZXdDYXRlZ29yaWVzKSkge1xuICAgICAgICAgICAgc2VhcmNoaW5nID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjYXRlZ29yaWVzID0gbmV3Q2F0ZWdvcmllcztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGFzc2lnblRva2VuRGVmYXVsdFByb3BzKHRva2VuVHlwZXMpIHtcbiAgICBmb3JFYWNoKHRva2VuVHlwZXMsIGZ1bmN0aW9uIChjdXJyVG9rVHlwZSkge1xuICAgICAgICBpZiAoIWhhc1Nob3J0S2V5UHJvcGVydHkoY3VyclRva1R5cGUpKSB7XG4gICAgICAgICAgICB0b2tlbklkeFRvQ2xhc3NbdG9rZW5TaG9ydE5hbWVJZHhdID0gY3VyclRva1R5cGU7XG4gICAgICAgICAgICBjdXJyVG9rVHlwZS50b2tlblR5cGVJZHggPSB0b2tlblNob3J0TmFtZUlkeCsrO1xuICAgICAgICB9XG4gICAgICAgIC8vIENBVEVHT1JJRVM/IDogVG9rZW5UeXBlIHwgVG9rZW5UeXBlW11cbiAgICAgICAgaWYgKGhhc0NhdGVnb3JpZXNQcm9wZXJ0eShjdXJyVG9rVHlwZSkgJiZcbiAgICAgICAgICAgICFpc0FycmF5KGN1cnJUb2tUeXBlLkNBVEVHT1JJRVMpXG4gICAgICAgIC8vICYmXG4gICAgICAgIC8vICFpc1VuZGVmaW5lZChjdXJyVG9rVHlwZS5DQVRFR09SSUVTLlBBVFRFUk4pXG4gICAgICAgICkge1xuICAgICAgICAgICAgY3VyclRva1R5cGUuQ0FURUdPUklFUyA9IFtjdXJyVG9rVHlwZS5DQVRFR09SSUVTXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWhhc0NhdGVnb3JpZXNQcm9wZXJ0eShjdXJyVG9rVHlwZSkpIHtcbiAgICAgICAgICAgIGN1cnJUb2tUeXBlLkNBVEVHT1JJRVMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWhhc0V4dGVuZGluZ1Rva2Vuc1R5cGVzUHJvcGVydHkoY3VyclRva1R5cGUpKSB7XG4gICAgICAgICAgICBjdXJyVG9rVHlwZS5jYXRlZ29yeU1hdGNoZXMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWhhc0V4dGVuZGluZ1Rva2Vuc1R5cGVzTWFwUHJvcGVydHkoY3VyclRva1R5cGUpKSB7XG4gICAgICAgICAgICBjdXJyVG9rVHlwZS5jYXRlZ29yeU1hdGNoZXNNYXAgPSB7fTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGFzc2lnbkNhdGVnb3JpZXNUb2tlbnNQcm9wKHRva2VuVHlwZXMpIHtcbiAgICBmb3JFYWNoKHRva2VuVHlwZXMsIGZ1bmN0aW9uIChjdXJyVG9rVHlwZSkge1xuICAgICAgICAvLyBhdm9pZCBkdXBsaWNhdGlvbnNcbiAgICAgICAgY3VyclRva1R5cGUuY2F0ZWdvcnlNYXRjaGVzID0gW107XG4gICAgICAgIGZvckVhY2goY3VyclRva1R5cGUuY2F0ZWdvcnlNYXRjaGVzTWFwLCBmdW5jdGlvbiAodmFsLCBrZXkpIHtcbiAgICAgICAgICAgIGN1cnJUb2tUeXBlLmNhdGVnb3J5TWF0Y2hlcy5wdXNoKHRva2VuSWR4VG9DbGFzc1trZXldLnRva2VuVHlwZUlkeCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGFzc2lnbkNhdGVnb3JpZXNNYXBQcm9wKHRva2VuVHlwZXMpIHtcbiAgICBmb3JFYWNoKHRva2VuVHlwZXMsIGZ1bmN0aW9uIChjdXJyVG9rVHlwZSkge1xuICAgICAgICBzaW5nbGVBc3NpZ25DYXRlZ29yaWVzVG9rc01hcChbXSwgY3VyclRva1R5cGUpO1xuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNpbmdsZUFzc2lnbkNhdGVnb3JpZXNUb2tzTWFwKHBhdGgsIG5leHROb2RlKSB7XG4gICAgZm9yRWFjaChwYXRoLCBmdW5jdGlvbiAocGF0aE5vZGUpIHtcbiAgICAgICAgbmV4dE5vZGUuY2F0ZWdvcnlNYXRjaGVzTWFwW3BhdGhOb2RlLnRva2VuVHlwZUlkeF0gPSB0cnVlO1xuICAgIH0pO1xuICAgIGZvckVhY2gobmV4dE5vZGUuQ0FURUdPUklFUywgZnVuY3Rpb24gKG5leHRDYXRlZ29yeSkge1xuICAgICAgICB2YXIgbmV3UGF0aCA9IHBhdGguY29uY2F0KG5leHROb2RlKTtcbiAgICAgICAgLy8gYXZvaWRzIGluZmluaXRlIGxvb3BzIGR1ZSB0byBjeWNsaWMgY2F0ZWdvcmllcy5cbiAgICAgICAgaWYgKCFjb250YWlucyhuZXdQYXRoLCBuZXh0Q2F0ZWdvcnkpKSB7XG4gICAgICAgICAgICBzaW5nbGVBc3NpZ25DYXRlZ29yaWVzVG9rc01hcChuZXdQYXRoLCBuZXh0Q2F0ZWdvcnkpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gaGFzU2hvcnRLZXlQcm9wZXJ0eSh0b2tUeXBlKSB7XG4gICAgcmV0dXJuIGhhcyh0b2tUeXBlLCBcInRva2VuVHlwZUlkeFwiKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBoYXNDYXRlZ29yaWVzUHJvcGVydHkodG9rVHlwZSkge1xuICAgIHJldHVybiBoYXModG9rVHlwZSwgXCJDQVRFR09SSUVTXCIpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGhhc0V4dGVuZGluZ1Rva2Vuc1R5cGVzUHJvcGVydHkodG9rVHlwZSkge1xuICAgIHJldHVybiBoYXModG9rVHlwZSwgXCJjYXRlZ29yeU1hdGNoZXNcIik7XG59XG5leHBvcnQgZnVuY3Rpb24gaGFzRXh0ZW5kaW5nVG9rZW5zVHlwZXNNYXBQcm9wZXJ0eSh0b2tUeXBlKSB7XG4gICAgcmV0dXJuIGhhcyh0b2tUeXBlLCBcImNhdGVnb3J5TWF0Y2hlc01hcFwiKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1Rva2VuVHlwZSh0b2tUeXBlKSB7XG4gICAgcmV0dXJuIGhhcyh0b2tUeXBlLCBcInRva2VuVHlwZUlkeFwiKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRva2Vucy5qcy5tYXAiLCJleHBvcnQgdmFyIGRlZmF1bHRMZXhlckVycm9yUHJvdmlkZXIgPSB7XG4gICAgYnVpbGRVbmFibGVUb1BvcExleGVyTW9kZU1lc3NhZ2U6IGZ1bmN0aW9uICh0b2tlbikge1xuICAgICAgICByZXR1cm4gXCJVbmFibGUgdG8gcG9wIExleGVyIE1vZGUgYWZ0ZXIgZW5jb3VudGVyaW5nIFRva2VuIC0+XCIgKyB0b2tlbi5pbWFnZSArIFwiPC0gVGhlIE1vZGUgU3RhY2sgaXMgZW1wdHlcIjtcbiAgICB9LFxuICAgIGJ1aWxkVW5leHBlY3RlZENoYXJhY3RlcnNNZXNzYWdlOiBmdW5jdGlvbiAoZnVsbFRleHQsIHN0YXJ0T2Zmc2V0LCBsZW5ndGgsIGxpbmUsIGNvbHVtbikge1xuICAgICAgICByZXR1cm4gKFwidW5leHBlY3RlZCBjaGFyYWN0ZXI6IC0+XCIgKyBmdWxsVGV4dC5jaGFyQXQoc3RhcnRPZmZzZXQpICsgXCI8LSBhdCBvZmZzZXQ6IFwiICsgc3RhcnRPZmZzZXQgKyBcIixcIiArIChcIiBza2lwcGVkIFwiICsgbGVuZ3RoICsgXCIgY2hhcmFjdGVycy5cIikpO1xuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sZXhlcl9lcnJvcnNfcHVibGljLmpzLm1hcCIsImltcG9ydCB7IGFuYWx5emVUb2tlblR5cGVzLCBjaGFyQ29kZVRvT3B0aW1pemVkSW5kZXgsIGNsb25lRW1wdHlHcm91cHMsIERFRkFVTFRfTU9ERSwgTGluZVRlcm1pbmF0b3JPcHRpbWl6ZWRUZXN0ZXIsIHBlcmZvcm1SdW50aW1lQ2hlY2tzLCBwZXJmb3JtV2FybmluZ1J1bnRpbWVDaGVja3MsIFNVUFBPUlRfU1RJQ0tZLCB2YWxpZGF0ZVBhdHRlcm5zIH0gZnJvbSBcIi4vbGV4ZXJcIjtcbmltcG9ydCB7IGNsb25lQXJyLCBjbG9uZU9iaiwgZm9yRWFjaCwgSURFTlRJVFksIGlzQXJyYXksIGlzRW1wdHksIGlzVW5kZWZpbmVkLCBrZXlzLCBsYXN0LCBtYXAsIG1lcmdlLCBOT09QLCBQUklOVF9XQVJOSU5HLCByZWR1Y2UsIHJlamVjdCwgdGltZXIsIHRvRmFzdFByb3BlcnRpZXMgfSBmcm9tIFwiLi4vdXRpbHMvdXRpbHNcIjtcbmltcG9ydCB7IGF1Z21lbnRUb2tlblR5cGVzIH0gZnJvbSBcIi4vdG9rZW5zXCI7XG5pbXBvcnQgeyBkZWZhdWx0TGV4ZXJFcnJvclByb3ZpZGVyIH0gZnJvbSBcIi4uL3NjYW4vbGV4ZXJfZXJyb3JzX3B1YmxpY1wiO1xuaW1wb3J0IHsgY2xlYXJSZWdFeHBQYXJzZXJDYWNoZSB9IGZyb20gXCIuL3JlZ19leHBfcGFyc2VyXCI7XG5leHBvcnQgdmFyIExleGVyRGVmaW5pdGlvbkVycm9yVHlwZTtcbihmdW5jdGlvbiAoTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlKSB7XG4gICAgTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlW0xleGVyRGVmaW5pdGlvbkVycm9yVHlwZVtcIk1JU1NJTkdfUEFUVEVSTlwiXSA9IDBdID0gXCJNSVNTSU5HX1BBVFRFUk5cIjtcbiAgICBMZXhlckRlZmluaXRpb25FcnJvclR5cGVbTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlW1wiSU5WQUxJRF9QQVRURVJOXCJdID0gMV0gPSBcIklOVkFMSURfUEFUVEVSTlwiO1xuICAgIExleGVyRGVmaW5pdGlvbkVycm9yVHlwZVtMZXhlckRlZmluaXRpb25FcnJvclR5cGVbXCJFT0lfQU5DSE9SX0ZPVU5EXCJdID0gMl0gPSBcIkVPSV9BTkNIT1JfRk9VTkRcIjtcbiAgICBMZXhlckRlZmluaXRpb25FcnJvclR5cGVbTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlW1wiVU5TVVBQT1JURURfRkxBR1NfRk9VTkRcIl0gPSAzXSA9IFwiVU5TVVBQT1JURURfRkxBR1NfRk9VTkRcIjtcbiAgICBMZXhlckRlZmluaXRpb25FcnJvclR5cGVbTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlW1wiRFVQTElDQVRFX1BBVFRFUk5TX0ZPVU5EXCJdID0gNF0gPSBcIkRVUExJQ0FURV9QQVRURVJOU19GT1VORFwiO1xuICAgIExleGVyRGVmaW5pdGlvbkVycm9yVHlwZVtMZXhlckRlZmluaXRpb25FcnJvclR5cGVbXCJJTlZBTElEX0dST1VQX1RZUEVfRk9VTkRcIl0gPSA1XSA9IFwiSU5WQUxJRF9HUk9VUF9UWVBFX0ZPVU5EXCI7XG4gICAgTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlW0xleGVyRGVmaW5pdGlvbkVycm9yVHlwZVtcIlBVU0hfTU9ERV9ET0VTX05PVF9FWElTVFwiXSA9IDZdID0gXCJQVVNIX01PREVfRE9FU19OT1RfRVhJU1RcIjtcbiAgICBMZXhlckRlZmluaXRpb25FcnJvclR5cGVbTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlW1wiTVVMVElfTU9ERV9MRVhFUl9XSVRIT1VUX0RFRkFVTFRfTU9ERVwiXSA9IDddID0gXCJNVUxUSV9NT0RFX0xFWEVSX1dJVEhPVVRfREVGQVVMVF9NT0RFXCI7XG4gICAgTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlW0xleGVyRGVmaW5pdGlvbkVycm9yVHlwZVtcIk1VTFRJX01PREVfTEVYRVJfV0lUSE9VVF9NT0RFU19QUk9QRVJUWVwiXSA9IDhdID0gXCJNVUxUSV9NT0RFX0xFWEVSX1dJVEhPVVRfTU9ERVNfUFJPUEVSVFlcIjtcbiAgICBMZXhlckRlZmluaXRpb25FcnJvclR5cGVbTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlW1wiTVVMVElfTU9ERV9MRVhFUl9ERUZBVUxUX01PREVfVkFMVUVfRE9FU19OT1RfRVhJU1RcIl0gPSA5XSA9IFwiTVVMVElfTU9ERV9MRVhFUl9ERUZBVUxUX01PREVfVkFMVUVfRE9FU19OT1RfRVhJU1RcIjtcbiAgICBMZXhlckRlZmluaXRpb25FcnJvclR5cGVbTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlW1wiTEVYRVJfREVGSU5JVElPTl9DQU5OT1RfQ09OVEFJTl9VTkRFRklORURcIl0gPSAxMF0gPSBcIkxFWEVSX0RFRklOSVRJT05fQ0FOTk9UX0NPTlRBSU5fVU5ERUZJTkVEXCI7XG4gICAgTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlW0xleGVyRGVmaW5pdGlvbkVycm9yVHlwZVtcIlNPSV9BTkNIT1JfRk9VTkRcIl0gPSAxMV0gPSBcIlNPSV9BTkNIT1JfRk9VTkRcIjtcbiAgICBMZXhlckRlZmluaXRpb25FcnJvclR5cGVbTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlW1wiRU1QVFlfTUFUQ0hfUEFUVEVSTlwiXSA9IDEyXSA9IFwiRU1QVFlfTUFUQ0hfUEFUVEVSTlwiO1xuICAgIExleGVyRGVmaW5pdGlvbkVycm9yVHlwZVtMZXhlckRlZmluaXRpb25FcnJvclR5cGVbXCJOT19MSU5FX0JSRUFLU19GTEFHU1wiXSA9IDEzXSA9IFwiTk9fTElORV9CUkVBS1NfRkxBR1NcIjtcbiAgICBMZXhlckRlZmluaXRpb25FcnJvclR5cGVbTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlW1wiVU5SRUFDSEFCTEVfUEFUVEVSTlwiXSA9IDE0XSA9IFwiVU5SRUFDSEFCTEVfUEFUVEVSTlwiO1xuICAgIExleGVyRGVmaW5pdGlvbkVycm9yVHlwZVtMZXhlckRlZmluaXRpb25FcnJvclR5cGVbXCJJREVOVElGWV9URVJNSU5BVE9SXCJdID0gMTVdID0gXCJJREVOVElGWV9URVJNSU5BVE9SXCI7XG4gICAgTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlW0xleGVyRGVmaW5pdGlvbkVycm9yVHlwZVtcIkNVU1RPTV9MSU5FX0JSRUFLXCJdID0gMTZdID0gXCJDVVNUT01fTElORV9CUkVBS1wiO1xufSkoTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlIHx8IChMZXhlckRlZmluaXRpb25FcnJvclR5cGUgPSB7fSkpO1xudmFyIERFRkFVTFRfTEVYRVJfQ09ORklHID0ge1xuICAgIGRlZmVyRGVmaW5pdGlvbkVycm9yc0hhbmRsaW5nOiBmYWxzZSxcbiAgICBwb3NpdGlvblRyYWNraW5nOiBcImZ1bGxcIixcbiAgICBsaW5lVGVybWluYXRvcnNQYXR0ZXJuOiAvXFxufFxcclxcbj8vZyxcbiAgICBsaW5lVGVybWluYXRvckNoYXJhY3RlcnM6IFtcIlxcblwiLCBcIlxcclwiXSxcbiAgICBlbnN1cmVPcHRpbWl6YXRpb25zOiBmYWxzZSxcbiAgICBzYWZlTW9kZTogZmFsc2UsXG4gICAgZXJyb3JNZXNzYWdlUHJvdmlkZXI6IGRlZmF1bHRMZXhlckVycm9yUHJvdmlkZXIsXG4gICAgdHJhY2VJbml0UGVyZjogZmFsc2UsXG4gICAgc2tpcFZhbGlkYXRpb25zOiBmYWxzZVxufTtcbk9iamVjdC5mcmVlemUoREVGQVVMVF9MRVhFUl9DT05GSUcpO1xudmFyIExleGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIExleGVyKGxleGVyRGVmaW5pdGlvbiwgY29uZmlnKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSBERUZBVUxUX0xFWEVSX0NPTkZJRzsgfVxuICAgICAgICB0aGlzLmxleGVyRGVmaW5pdGlvbiA9IGxleGVyRGVmaW5pdGlvbjtcbiAgICAgICAgdGhpcy5sZXhlckRlZmluaXRpb25FcnJvcnMgPSBbXTtcbiAgICAgICAgdGhpcy5sZXhlckRlZmluaXRpb25XYXJuaW5nID0gW107XG4gICAgICAgIHRoaXMucGF0dGVybklkeFRvQ29uZmlnID0ge307XG4gICAgICAgIHRoaXMuY2hhckNvZGVUb1BhdHRlcm5JZHhUb0NvbmZpZyA9IHt9O1xuICAgICAgICB0aGlzLm1vZGVzID0gW107XG4gICAgICAgIHRoaXMuZW1wdHlHcm91cHMgPSB7fTtcbiAgICAgICAgdGhpcy5jb25maWcgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMudHJhY2tTdGFydExpbmVzID0gdHJ1ZTtcbiAgICAgICAgdGhpcy50cmFja0VuZExpbmVzID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5oYXNDdXN0b20gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jYW5Nb2RlQmVPcHRpbWl6ZWQgPSB7fTtcbiAgICAgICAgaWYgKHR5cGVvZiBjb25maWcgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcIlRoZSBzZWNvbmQgYXJndW1lbnQgdG8gdGhlIExleGVyIGNvbnN0cnVjdG9yIGlzIG5vdyBhbiBJTGV4ZXJDb25maWcgT2JqZWN0LlxcblwiICtcbiAgICAgICAgICAgICAgICBcImEgYm9vbGVhbiAybmQgYXJndW1lbnQgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZFwiKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0b2RvOiBkZWZhdWx0cyBmdW5jP1xuICAgICAgICB0aGlzLmNvbmZpZyA9IG1lcmdlKERFRkFVTFRfTEVYRVJfQ09ORklHLCBjb25maWcpO1xuICAgICAgICB2YXIgdHJhY2VJbml0VmFsID0gdGhpcy5jb25maWcudHJhY2VJbml0UGVyZjtcbiAgICAgICAgaWYgKHRyYWNlSW5pdFZhbCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgdGhpcy50cmFjZUluaXRNYXhJZGVudCA9IEluZmluaXR5O1xuICAgICAgICAgICAgdGhpcy50cmFjZUluaXRQZXJmID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgdHJhY2VJbml0VmFsID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICB0aGlzLnRyYWNlSW5pdE1heElkZW50ID0gdHJhY2VJbml0VmFsO1xuICAgICAgICAgICAgdGhpcy50cmFjZUluaXRQZXJmID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRyYWNlSW5pdEluZGVudCA9IC0xO1xuICAgICAgICB0aGlzLlRSQUNFX0lOSVQoXCJMZXhlciBDb25zdHJ1Y3RvclwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgYWN0dWFsRGVmaW5pdGlvbjtcbiAgICAgICAgICAgIHZhciBoYXNPbmx5U2luZ2xlTW9kZSA9IHRydWU7XG4gICAgICAgICAgICBfdGhpcy5UUkFDRV9JTklUKFwiTGV4ZXIgQ29uZmlnIGhhbmRsaW5nXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuY29uZmlnLmxpbmVUZXJtaW5hdG9yc1BhdHRlcm4gPT09XG4gICAgICAgICAgICAgICAgICAgIERFRkFVTFRfTEVYRVJfQ09ORklHLmxpbmVUZXJtaW5hdG9yc1BhdHRlcm4pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gb3B0aW1pemVkIGJ1aWx0LWluIGltcGxlbWVudGF0aW9uIGZvciB0aGUgZGVmYXVsdHMgZGVmaW5pdGlvbiBvZiBsaW5lVGVybWluYXRvcnNcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuY29uZmlnLmxpbmVUZXJtaW5hdG9yc1BhdHRlcm4gPSBMaW5lVGVybWluYXRvck9wdGltaXplZFRlc3RlcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5jb25maWcubGluZVRlcm1pbmF0b3JDaGFyYWN0ZXJzID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgREVGQVVMVF9MRVhFUl9DT05GSUcubGluZVRlcm1pbmF0b3JDaGFyYWN0ZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIkVycm9yOiBNaXNzaW5nIDxsaW5lVGVybWluYXRvckNoYXJhY3RlcnM+IHByb3BlcnR5IG9uIHRoZSBMZXhlciBjb25maWcuXFxuXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXFx0Rm9yIGRldGFpbHMgU2VlOiBodHRwczovL3NhcC5naXRodWIuaW8vY2hldnJvdGFpbi9kb2NzL2d1aWRlL3Jlc29sdmluZ19sZXhlcl9lcnJvcnMuaHRtbCNNSVNTSU5HX0xJTkVfVEVSTV9DSEFSU1wiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoY29uZmlnLnNhZmVNb2RlICYmIGNvbmZpZy5lbnN1cmVPcHRpbWl6YXRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKCdcInNhZmVNb2RlXCIgYW5kIFwiZW5zdXJlT3B0aW1pemF0aW9uc1wiIGZsYWdzIGFyZSBtdXR1YWxseSBleGNsdXNpdmUuJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF90aGlzLnRyYWNrU3RhcnRMaW5lcyA9IC9mdWxsfG9ubHlTdGFydC9pLnRlc3QoX3RoaXMuY29uZmlnLnBvc2l0aW9uVHJhY2tpbmcpO1xuICAgICAgICAgICAgICAgIF90aGlzLnRyYWNrRW5kTGluZXMgPSAvZnVsbC9pLnRlc3QoX3RoaXMuY29uZmlnLnBvc2l0aW9uVHJhY2tpbmcpO1xuICAgICAgICAgICAgICAgIC8vIENvbnZlcnQgU2luZ2xlTW9kZUxleGVyRGVmaW5pdGlvbiBpbnRvIGEgSU11bHRpTW9kZUxleGVyRGVmaW5pdGlvbi5cbiAgICAgICAgICAgICAgICBpZiAoaXNBcnJheShsZXhlckRlZmluaXRpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIGFjdHVhbERlZmluaXRpb24gPSB7IG1vZGVzOiB7fSB9O1xuICAgICAgICAgICAgICAgICAgICBhY3R1YWxEZWZpbml0aW9uLm1vZGVzW0RFRkFVTFRfTU9ERV0gPSBjbG9uZUFycihsZXhlckRlZmluaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICBhY3R1YWxEZWZpbml0aW9uW0RFRkFVTFRfTU9ERV0gPSBERUZBVUxUX01PREU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBubyBjb252ZXJzaW9uIG5lZWRlZCwgaW5wdXQgc2hvdWxkIGFscmVhZHkgYmUgYSBJTXVsdGlNb2RlTGV4ZXJEZWZpbml0aW9uXG4gICAgICAgICAgICAgICAgICAgIGhhc09ubHlTaW5nbGVNb2RlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGFjdHVhbERlZmluaXRpb24gPSBjbG9uZU9iaihsZXhlckRlZmluaXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKF90aGlzLmNvbmZpZy5za2lwVmFsaWRhdGlvbnMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuVFJBQ0VfSU5JVChcInBlcmZvcm1SdW50aW1lQ2hlY2tzXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMubGV4ZXJEZWZpbml0aW9uRXJyb3JzID0gX3RoaXMubGV4ZXJEZWZpbml0aW9uRXJyb3JzLmNvbmNhdChwZXJmb3JtUnVudGltZUNoZWNrcyhhY3R1YWxEZWZpbml0aW9uLCBfdGhpcy50cmFja1N0YXJ0TGluZXMsIF90aGlzLmNvbmZpZy5saW5lVGVybWluYXRvckNoYXJhY3RlcnMpKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBfdGhpcy5UUkFDRV9JTklUKFwicGVyZm9ybVdhcm5pbmdSdW50aW1lQ2hlY2tzXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMubGV4ZXJEZWZpbml0aW9uV2FybmluZyA9IF90aGlzLmxleGVyRGVmaW5pdGlvbldhcm5pbmcuY29uY2F0KHBlcmZvcm1XYXJuaW5nUnVudGltZUNoZWNrcyhhY3R1YWxEZWZpbml0aW9uLCBfdGhpcy50cmFja1N0YXJ0TGluZXMsIF90aGlzLmNvbmZpZy5saW5lVGVybWluYXRvckNoYXJhY3RlcnMpKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGZvciBleHRyYSByb2J1c3RuZXNzIHRvIGF2b2lkIHRocm93aW5nIGFuIG5vbmUgaW5mb3JtYXRpdmUgZXJyb3IgbWVzc2FnZVxuICAgICAgICAgICAgYWN0dWFsRGVmaW5pdGlvbi5tb2RlcyA9IGFjdHVhbERlZmluaXRpb24ubW9kZXNcbiAgICAgICAgICAgICAgICA/IGFjdHVhbERlZmluaXRpb24ubW9kZXNcbiAgICAgICAgICAgICAgICA6IHt9O1xuICAgICAgICAgICAgLy8gYW4gZXJyb3Igb2YgdW5kZWZpbmVkIFRva2VuVHlwZXMgd2lsbCBiZSBkZXRlY3RlZCBpbiBcInBlcmZvcm1SdW50aW1lQ2hlY2tzXCIgYWJvdmUuXG4gICAgICAgICAgICAvLyB0aGlzIHRyYW5zZm9ybWF0aW9uIGlzIHRvIGluY3JlYXNlIHJvYnVzdG5lc3MgaW4gdGhlIGNhc2Ugb2YgcGFydGlhbGx5IGludmFsaWQgbGV4ZXIgZGVmaW5pdGlvbi5cbiAgICAgICAgICAgIGZvckVhY2goYWN0dWFsRGVmaW5pdGlvbi5tb2RlcywgZnVuY3Rpb24gKGN1cnJNb2RlVmFsdWUsIGN1cnJNb2RlTmFtZSkge1xuICAgICAgICAgICAgICAgIGFjdHVhbERlZmluaXRpb24ubW9kZXNbY3Vyck1vZGVOYW1lXSA9IHJlamVjdChjdXJyTW9kZVZhbHVlLCBmdW5jdGlvbiAoY3VyclRva1R5cGUpIHsgcmV0dXJuIGlzVW5kZWZpbmVkKGN1cnJUb2tUeXBlKTsgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciBhbGxNb2RlTmFtZXMgPSBrZXlzKGFjdHVhbERlZmluaXRpb24ubW9kZXMpO1xuICAgICAgICAgICAgZm9yRWFjaChhY3R1YWxEZWZpbml0aW9uLm1vZGVzLCBmdW5jdGlvbiAoY3Vyck1vZERlZiwgY3Vyck1vZE5hbWUpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5UUkFDRV9JTklUKFwiTW9kZTogPFwiICsgY3Vyck1vZE5hbWUgKyBcIj4gcHJvY2Vzc2luZ1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLm1vZGVzLnB1c2goY3Vyck1vZE5hbWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuY29uZmlnLnNraXBWYWxpZGF0aW9ucyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLlRSQUNFX0lOSVQoXCJ2YWxpZGF0ZVBhdHRlcm5zXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5sZXhlckRlZmluaXRpb25FcnJvcnMgPSBfdGhpcy5sZXhlckRlZmluaXRpb25FcnJvcnMuY29uY2F0KHZhbGlkYXRlUGF0dGVybnMoY3Vyck1vZERlZiwgYWxsTW9kZU5hbWVzKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBJZiBkZWZpbml0aW9uIGVycm9ycyB3ZXJlIGVuY291bnRlcmVkLCB0aGUgYW5hbHlzaXMgcGhhc2UgbWF5IGZhaWwgdW5leHBlY3RlZGx5L1xuICAgICAgICAgICAgICAgICAgICAvLyBDb25zaWRlcmluZyBhIGxleGVyIHdpdGggZGVmaW5pdGlvbiBlcnJvcnMgbWF5IG5ldmVyIGJlIHVzZWQsIHRoZXJlIGlzIG5vIHBvaW50XG4gICAgICAgICAgICAgICAgICAgIC8vIHRvIHBlcmZvcm1pbmcgdGhlIGFuYWx5c2lzIGFueWhvdy4uLlxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNFbXB0eShfdGhpcy5sZXhlckRlZmluaXRpb25FcnJvcnMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhdWdtZW50VG9rZW5UeXBlcyhjdXJyTW9kRGVmKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJyQW5hbHl6ZVJlc3VsdF8xO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuVFJBQ0VfSU5JVChcImFuYWx5emVUb2tlblR5cGVzXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyQW5hbHl6ZVJlc3VsdF8xID0gYW5hbHl6ZVRva2VuVHlwZXMoY3Vyck1vZERlZiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lVGVybWluYXRvckNoYXJhY3RlcnM6IF90aGlzLmNvbmZpZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmxpbmVUZXJtaW5hdG9yQ2hhcmFjdGVycyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25UcmFja2luZzogY29uZmlnLnBvc2l0aW9uVHJhY2tpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuc3VyZU9wdGltaXphdGlvbnM6IGNvbmZpZy5lbnN1cmVPcHRpbWl6YXRpb25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYWZlTW9kZTogY29uZmlnLnNhZmVNb2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFjZXI6IF90aGlzLlRSQUNFX0lOSVQuYmluZChfdGhpcylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucGF0dGVybklkeFRvQ29uZmlnW2N1cnJNb2ROYW1lXSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyckFuYWx5emVSZXN1bHRfMS5wYXR0ZXJuSWR4VG9Db25maWc7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5jaGFyQ29kZVRvUGF0dGVybklkeFRvQ29uZmlnW2N1cnJNb2ROYW1lXSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyckFuYWx5emVSZXN1bHRfMS5jaGFyQ29kZVRvUGF0dGVybklkeFRvQ29uZmlnO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZW1wdHlHcm91cHMgPSBtZXJnZShfdGhpcy5lbXB0eUdyb3VwcywgY3VyckFuYWx5emVSZXN1bHRfMS5lbXB0eUdyb3Vwcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5oYXNDdXN0b20gPSBjdXJyQW5hbHl6ZVJlc3VsdF8xLmhhc0N1c3RvbSB8fCBfdGhpcy5oYXNDdXN0b207XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5jYW5Nb2RlQmVPcHRpbWl6ZWRbY3Vyck1vZE5hbWVdID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyQW5hbHl6ZVJlc3VsdF8xLmNhbkJlT3B0aW1pemVkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIF90aGlzLmRlZmF1bHRNb2RlID0gYWN0dWFsRGVmaW5pdGlvbi5kZWZhdWx0TW9kZTtcbiAgICAgICAgICAgIGlmICghaXNFbXB0eShfdGhpcy5sZXhlckRlZmluaXRpb25FcnJvcnMpICYmXG4gICAgICAgICAgICAgICAgIV90aGlzLmNvbmZpZy5kZWZlckRlZmluaXRpb25FcnJvcnNIYW5kbGluZykge1xuICAgICAgICAgICAgICAgIHZhciBhbGxFcnJNZXNzYWdlcyA9IG1hcChfdGhpcy5sZXhlckRlZmluaXRpb25FcnJvcnMsIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IubWVzc2FnZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB2YXIgYWxsRXJyTWVzc2FnZXNTdHJpbmcgPSBhbGxFcnJNZXNzYWdlcy5qb2luKFwiLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cXG5cIik7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXJyb3JzIGRldGVjdGVkIGluIGRlZmluaXRpb24gb2YgTGV4ZXI6XFxuXCIgKyBhbGxFcnJNZXNzYWdlc1N0cmluZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBPbmx5IHByaW50IHdhcm5pbmcgaWYgdGhlcmUgYXJlIG5vIGVycm9ycywgVGhpcyB3aWxsIGF2b2lkIHBsXG4gICAgICAgICAgICBmb3JFYWNoKF90aGlzLmxleGVyRGVmaW5pdGlvbldhcm5pbmcsIGZ1bmN0aW9uICh3YXJuaW5nRGVzY3JpcHRvcikge1xuICAgICAgICAgICAgICAgIFBSSU5UX1dBUk5JTkcod2FybmluZ0Rlc2NyaXB0b3IubWVzc2FnZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIF90aGlzLlRSQUNFX0lOSVQoXCJDaG9vc2luZyBzdWItbWV0aG9kcyBpbXBsZW1lbnRhdGlvbnNcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIC8vIENob29zZSB0aGUgcmVsZXZhbnQgaW50ZXJuYWwgaW1wbGVtZW50YXRpb25zIGZvciB0aGlzIHNwZWNpZmljIHBhcnNlci5cbiAgICAgICAgICAgICAgICAvLyBUaGVzZSBpbXBsZW1lbnRhdGlvbnMgc2hvdWxkIGJlIGluLWxpbmVkIGJ5IHRoZSBKYXZhU2NyaXB0IGVuZ2luZVxuICAgICAgICAgICAgICAgIC8vIHRvIHByb3ZpZGUgb3B0aW1hbCBwZXJmb3JtYW5jZSBpbiBlYWNoIHNjZW5hcmlvLlxuICAgICAgICAgICAgICAgIGlmIChTVVBQT1JUX1NUSUNLWSkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5jaG9wSW5wdXQgPSBJREVOVElUWTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMubWF0Y2ggPSBfdGhpcy5tYXRjaFdpdGhUZXN0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMudXBkYXRlTGFzdEluZGV4ID0gTk9PUDtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMubWF0Y2ggPSBfdGhpcy5tYXRjaFdpdGhFeGVjO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaGFzT25seVNpbmdsZU1vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuaGFuZGxlTW9kZXMgPSBOT09QO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMudHJhY2tTdGFydExpbmVzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5jb21wdXRlTmV3Q29sdW1uID0gSURFTlRJVFk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChfdGhpcy50cmFja0VuZExpbmVzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy51cGRhdGVUb2tlbkVuZExpbmVDb2x1bW5Mb2NhdGlvbiA9IE5PT1A7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICgvZnVsbC9pLnRlc3QoX3RoaXMuY29uZmlnLnBvc2l0aW9uVHJhY2tpbmcpKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmNyZWF0ZVRva2VuSW5zdGFuY2UgPSBfdGhpcy5jcmVhdGVGdWxsVG9rZW47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKC9vbmx5U3RhcnQvaS50ZXN0KF90aGlzLmNvbmZpZy5wb3NpdGlvblRyYWNraW5nKSkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5jcmVhdGVUb2tlbkluc3RhbmNlID0gX3RoaXMuY3JlYXRlU3RhcnRPbmx5VG9rZW47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKC9vbmx5T2Zmc2V0L2kudGVzdChfdGhpcy5jb25maWcucG9zaXRpb25UcmFja2luZykpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuY3JlYXRlVG9rZW5JbnN0YW5jZSA9IF90aGlzLmNyZWF0ZU9mZnNldE9ubHlUb2tlbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwiSW52YWxpZCA8cG9zaXRpb25UcmFja2luZz4gY29uZmlnIG9wdGlvbjogXFxcIlwiICsgX3RoaXMuY29uZmlnLnBvc2l0aW9uVHJhY2tpbmcgKyBcIlxcXCJcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5oYXNDdXN0b20pIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuYWRkVG9rZW4gPSBfdGhpcy5hZGRUb2tlblVzaW5nUHVzaDtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuaGFuZGxlUGF5bG9hZCA9IF90aGlzLmhhbmRsZVBheWxvYWRXaXRoQ3VzdG9tO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuYWRkVG9rZW4gPSBfdGhpcy5hZGRUb2tlblVzaW5nTWVtYmVyQWNjZXNzO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5oYW5kbGVQYXlsb2FkID0gX3RoaXMuaGFuZGxlUGF5bG9hZE5vQ3VzdG9tO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgX3RoaXMuVFJBQ0VfSU5JVChcIkZhaWxlZCBPcHRpbWl6YXRpb24gV2FybmluZ3NcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciB1bk9wdGltaXplZE1vZGVzID0gcmVkdWNlKF90aGlzLmNhbk1vZGVCZU9wdGltaXplZCwgZnVuY3Rpb24gKGNhbm5vdEJlT3B0aW1pemVkLCBjYW5CZU9wdGltaXplZCwgbW9kZU5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNhbkJlT3B0aW1pemVkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2Fubm90QmVPcHRpbWl6ZWQucHVzaChtb2RlTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhbm5vdEJlT3B0aW1pemVkO1xuICAgICAgICAgICAgICAgIH0sIFtdKTtcbiAgICAgICAgICAgICAgICBpZiAoY29uZmlnLmVuc3VyZU9wdGltaXphdGlvbnMgJiYgIWlzRW1wdHkodW5PcHRpbWl6ZWRNb2RlcykpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJMZXhlciBNb2RlczogPCBcIiArIHVuT3B0aW1pemVkTW9kZXMuam9pbihcIiwgXCIpICsgXCIgPiBjYW5ub3QgYmUgb3B0aW1pemVkLlxcblwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdcXHQgRGlzYWJsZSB0aGUgXCJlbnN1cmVPcHRpbWl6YXRpb25zXCIgbGV4ZXIgY29uZmlnIGZsYWcgdG8gc2lsZW50bHkgaWdub3JlIHRoaXMgYW5kIHJ1biB0aGUgbGV4ZXIgaW4gYW4gdW4tb3B0aW1pemVkIG1vZGUuXFxuJyArXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlxcdCBPciBpbnNwZWN0IHRoZSBjb25zb2xlIGxvZyBmb3IgZGV0YWlscyBvbiBob3cgdG8gcmVzb2x2ZSB0aGVzZSBpc3N1ZXMuXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgX3RoaXMuVFJBQ0VfSU5JVChcImNsZWFyUmVnRXhwUGFyc2VyQ2FjaGVcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGNsZWFyUmVnRXhwUGFyc2VyQ2FjaGUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgX3RoaXMuVFJBQ0VfSU5JVChcInRvRmFzdFByb3BlcnRpZXNcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHRvRmFzdFByb3BlcnRpZXMoX3RoaXMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBMZXhlci5wcm90b3R5cGUudG9rZW5pemUgPSBmdW5jdGlvbiAodGV4dCwgaW5pdGlhbE1vZGUpIHtcbiAgICAgICAgaWYgKGluaXRpYWxNb2RlID09PSB2b2lkIDApIHsgaW5pdGlhbE1vZGUgPSB0aGlzLmRlZmF1bHRNb2RlOyB9XG4gICAgICAgIGlmICghaXNFbXB0eSh0aGlzLmxleGVyRGVmaW5pdGlvbkVycm9ycykpIHtcbiAgICAgICAgICAgIHZhciBhbGxFcnJNZXNzYWdlcyA9IG1hcCh0aGlzLmxleGVyRGVmaW5pdGlvbkVycm9ycywgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLm1lc3NhZ2U7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciBhbGxFcnJNZXNzYWdlc1N0cmluZyA9IGFsbEVyck1lc3NhZ2VzLmpvaW4oXCItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxcblwiKTtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBUb2tlbml6ZSBiZWNhdXNlIEVycm9ycyBkZXRlY3RlZCBpbiBkZWZpbml0aW9uIG9mIExleGVyOlxcblwiICtcbiAgICAgICAgICAgICAgICBhbGxFcnJNZXNzYWdlc1N0cmluZyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxleFJlc3VsdCA9IHRoaXMudG9rZW5pemVJbnRlcm5hbCh0ZXh0LCBpbml0aWFsTW9kZSk7XG4gICAgICAgIHJldHVybiBsZXhSZXN1bHQ7XG4gICAgfTtcbiAgICAvLyBUaGVyZSBpcyBxdWl0ZSBhIGJpdCBvZiBkdXBsaWNhdGlvbiBiZXR3ZWVuIHRoaXMgYW5kIFwidG9rZW5pemVJbnRlcm5hbExhenlcIlxuICAgIC8vIFRoaXMgaXMgaW50ZW50aW9uYWwgZHVlIHRvIHBlcmZvcm1hbmNlIGNvbnNpZGVyYXRpb25zLlxuICAgIExleGVyLnByb3RvdHlwZS50b2tlbml6ZUludGVybmFsID0gZnVuY3Rpb24gKHRleHQsIGluaXRpYWxNb2RlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBpLCBqLCBtYXRjaEFsdEltYWdlLCBsb25nZXJBbHRJZHgsIG1hdGNoZWRJbWFnZSwgcGF5bG9hZCwgYWx0UGF5bG9hZCwgaW1hZ2VMZW5ndGgsIGdyb3VwLCB0b2tUeXBlLCBuZXdUb2tlbiwgZXJyTGVuZ3RoLCBkcm9wcGVkQ2hhciwgbXNnLCBtYXRjaDtcbiAgICAgICAgdmFyIG9yZ1RleHQgPSB0ZXh0O1xuICAgICAgICB2YXIgb3JnTGVuZ3RoID0gb3JnVGV4dC5sZW5ndGg7XG4gICAgICAgIHZhciBvZmZzZXQgPSAwO1xuICAgICAgICB2YXIgbWF0Y2hlZFRva2Vuc0luZGV4ID0gMDtcbiAgICAgICAgLy8gaW5pdGlhbGl6aW5nIHRoZSB0b2tlbnNBcnJheSB0byB0aGUgXCJndWVzc2VkXCIgc2l6ZS5cbiAgICAgICAgLy8gZ3Vlc3NpbmcgdG9vIGxpdHRsZSB3aWxsIHN0aWxsIHJlZHVjZSB0aGUgbnVtYmVyIG9mIGFycmF5IHJlLXNpemVzIG9uIHB1c2hlcy5cbiAgICAgICAgLy8gZ3Vlc3NpbmcgdG9vIGxhcmdlIChUZXN0ZWQgYnkgZ3Vlc3NpbmcgeDQgdG9vIGxhcmdlKSBtYXkgY29zdCBhIGJpdCBtb3JlIG9mIG1lbW9yeVxuICAgICAgICAvLyBidXQgd291bGQgc3RpbGwgaGF2ZSBhIGZhc3RlciBydW50aW1lIGJ5IGF2b2lkaW5nIChBbGwgYnV0IG9uZSkgYXJyYXkgcmVzaXppbmcuXG4gICAgICAgIHZhciBndWVzc2VkTnVtYmVyT2ZUb2tlbnMgPSB0aGlzLmhhc0N1c3RvbVxuICAgICAgICAgICAgPyAwIC8vIHdpbGwgYnJlYWsgY3VzdG9tIHRva2VuIHBhdHRlcm4gQVBJcyB0aGUgbWF0Y2hlZFRva2VucyBhcnJheSB3aWxsIGNvbnRhaW4gdW5kZWZpbmVkIGVsZW1lbnRzLlxuICAgICAgICAgICAgOiBNYXRoLmZsb29yKHRleHQubGVuZ3RoIC8gMTApO1xuICAgICAgICB2YXIgbWF0Y2hlZFRva2VucyA9IG5ldyBBcnJheShndWVzc2VkTnVtYmVyT2ZUb2tlbnMpO1xuICAgICAgICB2YXIgZXJyb3JzID0gW107XG4gICAgICAgIHZhciBsaW5lID0gdGhpcy50cmFja1N0YXJ0TGluZXMgPyAxIDogdW5kZWZpbmVkO1xuICAgICAgICB2YXIgY29sdW1uID0gdGhpcy50cmFja1N0YXJ0TGluZXMgPyAxIDogdW5kZWZpbmVkO1xuICAgICAgICB2YXIgZ3JvdXBzID0gY2xvbmVFbXB0eUdyb3Vwcyh0aGlzLmVtcHR5R3JvdXBzKTtcbiAgICAgICAgdmFyIHRyYWNrTGluZXMgPSB0aGlzLnRyYWNrU3RhcnRMaW5lcztcbiAgICAgICAgdmFyIGxpbmVUZXJtaW5hdG9yUGF0dGVybiA9IHRoaXMuY29uZmlnLmxpbmVUZXJtaW5hdG9yc1BhdHRlcm47XG4gICAgICAgIHZhciBjdXJyTW9kZVBhdHRlcm5zTGVuZ3RoID0gMDtcbiAgICAgICAgdmFyIHBhdHRlcm5JZHhUb0NvbmZpZyA9IFtdO1xuICAgICAgICB2YXIgY3VyckNoYXJDb2RlVG9QYXR0ZXJuSWR4VG9Db25maWcgPSBbXTtcbiAgICAgICAgdmFyIG1vZGVTdGFjayA9IFtdO1xuICAgICAgICB2YXIgZW1wdHlBcnJheSA9IFtdO1xuICAgICAgICBPYmplY3QuZnJlZXplKGVtcHR5QXJyYXkpO1xuICAgICAgICB2YXIgZ2V0UG9zc2libGVQYXR0ZXJucyA9IHVuZGVmaW5lZDtcbiAgICAgICAgZnVuY3Rpb24gZ2V0UG9zc2libGVQYXR0ZXJuc1Nsb3coKSB7XG4gICAgICAgICAgICByZXR1cm4gcGF0dGVybklkeFRvQ29uZmlnO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGdldFBvc3NpYmxlUGF0dGVybnNPcHRpbWl6ZWQoY2hhckNvZGUpIHtcbiAgICAgICAgICAgIHZhciBvcHRpbWl6ZWRDaGFySWR4ID0gY2hhckNvZGVUb09wdGltaXplZEluZGV4KGNoYXJDb2RlKTtcbiAgICAgICAgICAgIHZhciBwb3NzaWJsZVBhdHRlcm5zID0gY3VyckNoYXJDb2RlVG9QYXR0ZXJuSWR4VG9Db25maWdbb3B0aW1pemVkQ2hhcklkeF07XG4gICAgICAgICAgICBpZiAocG9zc2libGVQYXR0ZXJucyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVtcHR5QXJyYXk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcG9zc2libGVQYXR0ZXJucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgcG9wX21vZGUgPSBmdW5jdGlvbiAocG9wVG9rZW4pIHtcbiAgICAgICAgICAgIC8vIFRPRE86IHBlcmhhcHMgYXZvaWQgdGhpcyBlcnJvciBpbiB0aGUgZWRnZSBjYXNlIHRoZXJlIGlzIG5vIG1vcmUgaW5wdXQ/XG4gICAgICAgICAgICBpZiAobW9kZVN0YWNrLmxlbmd0aCA9PT0gMSAmJlxuICAgICAgICAgICAgICAgIC8vIGlmIHdlIGhhdmUgYm90aCBhIFBPUF9NT0RFIGFuZCBhIFBVU0hfTU9ERSB0aGlzIGlzIGluLWZhY3QgYSBcInRyYW5zaXRpb25cIlxuICAgICAgICAgICAgICAgIC8vIFNvIG5vIGVycm9yIHNob3VsZCBvY2N1ci5cbiAgICAgICAgICAgICAgICBwb3BUb2tlbi50b2tlblR5cGUuUFVTSF9NT0RFID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBpZiB3ZSB0cnkgdG8gcG9wIHRoZSBsYXN0IG1vZGUgdGhlcmUgbGV4ZXIgd2lsbCBubyBsb25nZXIgaGF2ZSBBTlkgbW9kZS5cbiAgICAgICAgICAgICAgICAvLyB0aHVzIHRoZSBwb3AgaXMgaWdub3JlZCwgYW4gZXJyb3Igd2lsbCBiZSBjcmVhdGVkIGFuZCB0aGUgbGV4ZXIgd2lsbCBjb250aW51ZSBwYXJzaW5nIGluIHRoZSBwcmV2aW91cyBtb2RlLlxuICAgICAgICAgICAgICAgIHZhciBtc2dfMSA9IF90aGlzLmNvbmZpZy5lcnJvck1lc3NhZ2VQcm92aWRlci5idWlsZFVuYWJsZVRvUG9wTGV4ZXJNb2RlTWVzc2FnZShwb3BUb2tlbik7XG4gICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXQ6IHBvcFRva2VuLnN0YXJ0T2Zmc2V0LFxuICAgICAgICAgICAgICAgICAgICBsaW5lOiBwb3BUb2tlbi5zdGFydExpbmUgIT09IHVuZGVmaW5lZCA/IHBvcFRva2VuLnN0YXJ0TGluZSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uOiBwb3BUb2tlbi5zdGFydENvbHVtbiAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHBvcFRva2VuLnN0YXJ0Q29sdW1uXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgbGVuZ3RoOiBwb3BUb2tlbi5pbWFnZS5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG1zZ18xXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBtb2RlU3RhY2sucG9wKCk7XG4gICAgICAgICAgICAgICAgdmFyIG5ld01vZGUgPSBsYXN0KG1vZGVTdGFjayk7XG4gICAgICAgICAgICAgICAgcGF0dGVybklkeFRvQ29uZmlnID0gX3RoaXMucGF0dGVybklkeFRvQ29uZmlnW25ld01vZGVdO1xuICAgICAgICAgICAgICAgIGN1cnJDaGFyQ29kZVRvUGF0dGVybklkeFRvQ29uZmlnID0gX3RoaXMuY2hhckNvZGVUb1BhdHRlcm5JZHhUb0NvbmZpZ1tuZXdNb2RlXTtcbiAgICAgICAgICAgICAgICBjdXJyTW9kZVBhdHRlcm5zTGVuZ3RoID0gcGF0dGVybklkeFRvQ29uZmlnLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB2YXIgbW9kZUNhbkJlT3B0aW1pemVkID0gX3RoaXMuY2FuTW9kZUJlT3B0aW1pemVkW25ld01vZGVdICYmIF90aGlzLmNvbmZpZy5zYWZlTW9kZSA9PT0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJDaGFyQ29kZVRvUGF0dGVybklkeFRvQ29uZmlnICYmIG1vZGVDYW5CZU9wdGltaXplZCkge1xuICAgICAgICAgICAgICAgICAgICBnZXRQb3NzaWJsZVBhdHRlcm5zID0gZ2V0UG9zc2libGVQYXR0ZXJuc09wdGltaXplZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGdldFBvc3NpYmxlUGF0dGVybnMgPSBnZXRQb3NzaWJsZVBhdHRlcm5zU2xvdztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGZ1bmN0aW9uIHB1c2hfbW9kZShuZXdNb2RlKSB7XG4gICAgICAgICAgICBtb2RlU3RhY2sucHVzaChuZXdNb2RlKTtcbiAgICAgICAgICAgIGN1cnJDaGFyQ29kZVRvUGF0dGVybklkeFRvQ29uZmlnID0gdGhpcy5jaGFyQ29kZVRvUGF0dGVybklkeFRvQ29uZmlnW25ld01vZGVdO1xuICAgICAgICAgICAgcGF0dGVybklkeFRvQ29uZmlnID0gdGhpcy5wYXR0ZXJuSWR4VG9Db25maWdbbmV3TW9kZV07XG4gICAgICAgICAgICBjdXJyTW9kZVBhdHRlcm5zTGVuZ3RoID0gcGF0dGVybklkeFRvQ29uZmlnLmxlbmd0aDtcbiAgICAgICAgICAgIGN1cnJNb2RlUGF0dGVybnNMZW5ndGggPSBwYXR0ZXJuSWR4VG9Db25maWcubGVuZ3RoO1xuICAgICAgICAgICAgdmFyIG1vZGVDYW5CZU9wdGltaXplZCA9IHRoaXMuY2FuTW9kZUJlT3B0aW1pemVkW25ld01vZGVdICYmIHRoaXMuY29uZmlnLnNhZmVNb2RlID09PSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChjdXJyQ2hhckNvZGVUb1BhdHRlcm5JZHhUb0NvbmZpZyAmJiBtb2RlQ2FuQmVPcHRpbWl6ZWQpIHtcbiAgICAgICAgICAgICAgICBnZXRQb3NzaWJsZVBhdHRlcm5zID0gZ2V0UG9zc2libGVQYXR0ZXJuc09wdGltaXplZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGdldFBvc3NpYmxlUGF0dGVybnMgPSBnZXRQb3NzaWJsZVBhdHRlcm5zU2xvdztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyB0aGlzIHBhdHRlcm4gc2VlbXMgdG8gYXZvaWQgYSBWOCBkZS1vcHRpbWl6YXRpb24sIGFsdGhvdWdoIHRoYXQgZGUtb3B0aW1pemF0aW9uIGRvZXMgbm90XG4gICAgICAgIC8vIHNlZW0gdG8gbWF0dGVyIHBlcmZvcm1hbmNlIHdpc2UuXG4gICAgICAgIHB1c2hfbW9kZS5jYWxsKHRoaXMsIGluaXRpYWxNb2RlKTtcbiAgICAgICAgdmFyIGN1cnJDb25maWc7XG4gICAgICAgIHdoaWxlIChvZmZzZXQgPCBvcmdMZW5ndGgpIHtcbiAgICAgICAgICAgIG1hdGNoZWRJbWFnZSA9IG51bGw7XG4gICAgICAgICAgICB2YXIgbmV4dENoYXJDb2RlID0gb3JnVGV4dC5jaGFyQ29kZUF0KG9mZnNldCk7XG4gICAgICAgICAgICB2YXIgY2hvc2VuUGF0dGVybklkeFRvQ29uZmlnID0gZ2V0UG9zc2libGVQYXR0ZXJucyhuZXh0Q2hhckNvZGUpO1xuICAgICAgICAgICAgdmFyIGNob3NlblBhdHRlcm5zTGVuZ3RoID0gY2hvc2VuUGF0dGVybklkeFRvQ29uZmlnLmxlbmd0aDtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBjaG9zZW5QYXR0ZXJuc0xlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY3VyckNvbmZpZyA9IGNob3NlblBhdHRlcm5JZHhUb0NvbmZpZ1tpXTtcbiAgICAgICAgICAgICAgICB2YXIgY3VyclBhdHRlcm4gPSBjdXJyQ29uZmlnLnBhdHRlcm47XG4gICAgICAgICAgICAgICAgcGF5bG9hZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgLy8gbWFudWFsbHkgaW4tbGluZWQgYmVjYXVzZSA+IDYwMCBjaGFycyB3b24ndCBiZSBpbi1saW5lZCBpbiBWOFxuICAgICAgICAgICAgICAgIHZhciBzaW5nbGVDaGFyQ29kZSA9IGN1cnJDb25maWcuc2hvcnQ7XG4gICAgICAgICAgICAgICAgaWYgKHNpbmdsZUNoYXJDb2RlICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV4dENoYXJDb2RlID09PSBzaW5nbGVDaGFyQ29kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2luZ2xlIGNoYXJhY3RlciBzdHJpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZWRJbWFnZSA9IGN1cnJQYXR0ZXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGN1cnJDb25maWcuaXNDdXN0b20gPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2ggPSBjdXJyUGF0dGVybi5leGVjKG9yZ1RleHQsIG9mZnNldCwgbWF0Y2hlZFRva2VucywgZ3JvdXBzKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVkSW1hZ2UgPSBtYXRjaFswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaC5wYXlsb2FkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXlsb2FkID0gbWF0Y2gucGF5bG9hZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZWRJbWFnZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlTGFzdEluZGV4KGN1cnJQYXR0ZXJuLCBvZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICBtYXRjaGVkSW1hZ2UgPSB0aGlzLm1hdGNoKGN1cnJQYXR0ZXJuLCB0ZXh0LCBvZmZzZXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobWF0Y2hlZEltYWdlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGV2ZW4gdGhvdWdoIHRoaXMgcGF0dGVybiBtYXRjaGVkIHdlIG11c3QgdHJ5IGEgYW5vdGhlciBsb25nZXIgYWx0ZXJuYXRpdmUuXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgY2FuIGJlIHVzZWQgdG8gcHJpb3JpdGl6ZSBrZXl3b3JkcyBvdmVyIGlkZW50aWZpZXJzXG4gICAgICAgICAgICAgICAgICAgIGxvbmdlckFsdElkeCA9IGN1cnJDb25maWcubG9uZ2VyQWx0O1xuICAgICAgICAgICAgICAgICAgICBpZiAobG9uZ2VyQWx0SWR4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IG1pY3JvIG9wdGltaXplLCBhdm9pZCBleHRyYSBwcm9wIGFjY2Vzc1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYnkgc2F2aW5nL2xpbmtpbmcgbG9uZ2VyQWx0IG9uIHRoZSBvcmlnaW5hbCBjb25maWc/XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbG9uZ2VyQWx0Q29uZmlnID0gcGF0dGVybklkeFRvQ29uZmlnW2xvbmdlckFsdElkeF07XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbG9uZ2VyQWx0UGF0dGVybiA9IGxvbmdlckFsdENvbmZpZy5wYXR0ZXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgYWx0UGF5bG9hZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzaW5nbGUgQ2hhciBjYW4gbmV2ZXIgYmUgYSBsb25nZXIgYWx0IHNvIG5vIG5lZWQgdG8gdGVzdCBpdC5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG1hbnVhbGx5IGluLWxpbmVkIGJlY2F1c2UgPiA2MDAgY2hhcnMgd29uJ3QgYmUgaW4tbGluZWQgaW4gVjhcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsb25nZXJBbHRDb25maWcuaXNDdXN0b20gPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaCA9IGxvbmdlckFsdFBhdHRlcm4uZXhlYyhvcmdUZXh0LCBvZmZzZXQsIG1hdGNoZWRUb2tlbnMsIGdyb3Vwcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoQWx0SW1hZ2UgPSBtYXRjaFswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoLnBheWxvYWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWx0UGF5bG9hZCA9IG1hdGNoLnBheWxvYWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoQWx0SW1hZ2UgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlTGFzdEluZGV4KGxvbmdlckFsdFBhdHRlcm4sIG9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hBbHRJbWFnZSA9IHRoaXMubWF0Y2gobG9uZ2VyQWx0UGF0dGVybiwgdGV4dCwgb2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaEFsdEltYWdlICYmIG1hdGNoQWx0SW1hZ2UubGVuZ3RoID4gbWF0Y2hlZEltYWdlLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZWRJbWFnZSA9IG1hdGNoQWx0SW1hZ2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF5bG9hZCA9IGFsdFBheWxvYWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyckNvbmZpZyA9IGxvbmdlckFsdENvbmZpZztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBzdWNjZXNzZnVsIG1hdGNoXG4gICAgICAgICAgICBpZiAobWF0Y2hlZEltYWdlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaW1hZ2VMZW5ndGggPSBtYXRjaGVkSW1hZ2UubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGdyb3VwID0gY3VyckNvbmZpZy5ncm91cDtcbiAgICAgICAgICAgICAgICBpZiAoZ3JvdXAgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB0b2tUeXBlID0gY3VyckNvbmZpZy50b2tlblR5cGVJZHg7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IFwib2Zmc2V0ICsgaW1hZ2VMZW5ndGhcIiBhbmQgdGhlIG5ldyBjb2x1bW4gbWF5IGJlIGNvbXB1dGVkIHR3aWNlIGluIGNhc2Ugb2YgXCJmdWxsXCIgbG9jYXRpb24gaW5mb3JtYXRpb24gaW5zaWRlXG4gICAgICAgICAgICAgICAgICAgIC8vIGNyZWF0ZUZ1bGxUb2tlbiBtZXRob2RcbiAgICAgICAgICAgICAgICAgICAgbmV3VG9rZW4gPSB0aGlzLmNyZWF0ZVRva2VuSW5zdGFuY2UobWF0Y2hlZEltYWdlLCBvZmZzZXQsIHRva1R5cGUsIGN1cnJDb25maWcudG9rZW5UeXBlLCBsaW5lLCBjb2x1bW4sIGltYWdlTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVQYXlsb2FkKG5ld1Rva2VuLCBwYXlsb2FkKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogb3B0aW1pemUgTk9PUCBpbiBjYXNlIHRoZXJlIGFyZSBubyBzcGVjaWFsIGdyb3Vwcz9cbiAgICAgICAgICAgICAgICAgICAgaWYgKGdyb3VwID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlZFRva2Vuc0luZGV4ID0gdGhpcy5hZGRUb2tlbihtYXRjaGVkVG9rZW5zLCBtYXRjaGVkVG9rZW5zSW5kZXgsIG5ld1Rva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyb3Vwc1tncm91cF0ucHVzaChuZXdUb2tlbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGV4dCA9IHRoaXMuY2hvcElucHV0KHRleHQsIGltYWdlTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICBvZmZzZXQgPSBvZmZzZXQgKyBpbWFnZUxlbmd0aDtcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiB3aXRoIG5ld2xpbmVzIHRoZSBjb2x1bW4gbWF5IGJlIGFzc2lnbmVkIHR3aWNlXG4gICAgICAgICAgICAgICAgY29sdW1uID0gdGhpcy5jb21wdXRlTmV3Q29sdW1uKGNvbHVtbiwgaW1hZ2VMZW5ndGgpO1xuICAgICAgICAgICAgICAgIGlmICh0cmFja0xpbmVzID09PSB0cnVlICYmIGN1cnJDb25maWcuY2FuTGluZVRlcm1pbmF0b3IgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG51bU9mTFRzSW5NYXRjaCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHZhciBmb3VuZFRlcm1pbmF0b3IgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgICAgIHZhciBsYXN0TFRFbmRPZmZzZXQgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgICAgIGxpbmVUZXJtaW5hdG9yUGF0dGVybi5sYXN0SW5kZXggPSAwO1xuICAgICAgICAgICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3VuZFRlcm1pbmF0b3IgPSBsaW5lVGVybWluYXRvclBhdHRlcm4udGVzdChtYXRjaGVkSW1hZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZvdW5kVGVybWluYXRvciA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RMVEVuZE9mZnNldCA9IGxpbmVUZXJtaW5hdG9yUGF0dGVybi5sYXN0SW5kZXggLSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bU9mTFRzSW5NYXRjaCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IHdoaWxlIChmb3VuZFRlcm1pbmF0b3IgPT09IHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobnVtT2ZMVHNJbk1hdGNoICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lID0gbGluZSArIG51bU9mTFRzSW5NYXRjaDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbiA9IGltYWdlTGVuZ3RoIC0gbGFzdExURW5kT2Zmc2V0O1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVUb2tlbkVuZExpbmVDb2x1bW5Mb2NhdGlvbihuZXdUb2tlbiwgZ3JvdXAsIGxhc3RMVEVuZE9mZnNldCwgbnVtT2ZMVHNJbk1hdGNoLCBsaW5lLCBjb2x1bW4sIGltYWdlTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyB3aWxsIGJlIE5PT1AgaWYgbm8gbW9kZXMgcHJlc2VudFxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlTW9kZXMoY3VyckNvbmZpZywgcG9wX21vZGUsIHB1c2hfbW9kZSwgbmV3VG9rZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gZXJyb3IgcmVjb3ZlcnksIGRyb3AgY2hhcmFjdGVycyB1bnRpbCB3ZSBpZGVudGlmeSBhIHZhbGlkIHRva2VuJ3Mgc3RhcnQgcG9pbnRcbiAgICAgICAgICAgICAgICB2YXIgZXJyb3JTdGFydE9mZnNldCA9IG9mZnNldDtcbiAgICAgICAgICAgICAgICB2YXIgZXJyb3JMaW5lID0gbGluZTtcbiAgICAgICAgICAgICAgICB2YXIgZXJyb3JDb2x1bW4gPSBjb2x1bW47XG4gICAgICAgICAgICAgICAgdmFyIGZvdW5kUmVzeW5jUG9pbnQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB3aGlsZSAoIWZvdW5kUmVzeW5jUG9pbnQgJiYgb2Zmc2V0IDwgb3JnTGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGRyb3AgY2hhcnMgdW50aWwgd2Ugc3VjY2VlZCBpbiBtYXRjaGluZyBzb21ldGhpbmdcbiAgICAgICAgICAgICAgICAgICAgZHJvcHBlZENoYXIgPSBvcmdUZXh0LmNoYXJDb2RlQXQob2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWRlbnRpdHkgRnVuYyAod2hlbiBzdGlja3kgZmxhZyBpcyBlbmFibGVkKVxuICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gdGhpcy5jaG9wSW5wdXQodGV4dCwgMSk7XG4gICAgICAgICAgICAgICAgICAgIG9mZnNldCsrO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgY3Vyck1vZGVQYXR0ZXJuc0xlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VyckNvbmZpZ18xID0gcGF0dGVybklkeFRvQ29uZmlnW2pdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJQYXR0ZXJuID0gY3VyckNvbmZpZ18xLnBhdHRlcm47XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBtYW51YWxseSBpbi1saW5lZCBiZWNhdXNlID4gNjAwIGNoYXJzIHdvbid0IGJlIGluLWxpbmVkIGluIFY4XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2luZ2xlQ2hhckNvZGUgPSBjdXJyQ29uZmlnXzEuc2hvcnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2luZ2xlQ2hhckNvZGUgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9yZ1RleHQuY2hhckNvZGVBdChvZmZzZXQpID09PSBzaW5nbGVDaGFyQ29kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzaW5nbGUgY2hhcmFjdGVyIHN0cmluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3VuZFJlc3luY1BvaW50ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChjdXJyQ29uZmlnXzEuaXNDdXN0b20gPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3VuZFJlc3luY1BvaW50ID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyclBhdHRlcm4uZXhlYyhvcmdUZXh0LCBvZmZzZXQsIG1hdGNoZWRUb2tlbnMsIGdyb3VwcykgIT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVMYXN0SW5kZXgoY3VyclBhdHRlcm4sIG9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm91bmRSZXN5bmNQb2ludCA9IGN1cnJQYXR0ZXJuLmV4ZWModGV4dCkgIT09IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZm91bmRSZXN5bmNQb2ludCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVyckxlbmd0aCA9IG9mZnNldCAtIGVycm9yU3RhcnRPZmZzZXQ7XG4gICAgICAgICAgICAgICAgLy8gYXQgdGhpcyBwb2ludCB3ZSBlaXRoZXIgcmUtc3luY2VkIG9yIHJlYWNoZWQgdGhlIGVuZCBvZiB0aGUgaW5wdXQgdGV4dFxuICAgICAgICAgICAgICAgIG1zZyA9IHRoaXMuY29uZmlnLmVycm9yTWVzc2FnZVByb3ZpZGVyLmJ1aWxkVW5leHBlY3RlZENoYXJhY3RlcnNNZXNzYWdlKG9yZ1RleHQsIGVycm9yU3RhcnRPZmZzZXQsIGVyckxlbmd0aCwgZXJyb3JMaW5lLCBlcnJvckNvbHVtbik7XG4gICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXQ6IGVycm9yU3RhcnRPZmZzZXQsXG4gICAgICAgICAgICAgICAgICAgIGxpbmU6IGVycm9yTGluZSxcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uOiBlcnJvckNvbHVtbixcbiAgICAgICAgICAgICAgICAgICAgbGVuZ3RoOiBlcnJMZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG1zZ1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGlmIHdlIGRvIGhhdmUgY3VzdG9tIHBhdHRlcm5zIHdoaWNoIHB1c2ggZGlyZWN0bHkgaW50byB0aGVcbiAgICAgICAgLy8gVE9ETzogY3VzdG9tIHRva2VucyBzaG91bGQgbm90IHB1c2ggZGlyZWN0bHk/P1xuICAgICAgICBpZiAoIXRoaXMuaGFzQ3VzdG9tKSB7XG4gICAgICAgICAgICAvLyBpZiB3ZSBndWVzc2VkIGEgdG9vIGxhcmdlIHNpemUgZm9yIHRoZSB0b2tlbnMgYXJyYXkgdGhpcyB3aWxsIHNocmluayBpdCB0byB0aGUgcmlnaHQgc2l6ZS5cbiAgICAgICAgICAgIG1hdGNoZWRUb2tlbnMubGVuZ3RoID0gbWF0Y2hlZFRva2Vuc0luZGV4O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0b2tlbnM6IG1hdGNoZWRUb2tlbnMsXG4gICAgICAgICAgICBncm91cHM6IGdyb3VwcyxcbiAgICAgICAgICAgIGVycm9yczogZXJyb3JzXG4gICAgICAgIH07XG4gICAgfTtcbiAgICBMZXhlci5wcm90b3R5cGUuaGFuZGxlTW9kZXMgPSBmdW5jdGlvbiAoY29uZmlnLCBwb3BfbW9kZSwgcHVzaF9tb2RlLCBuZXdUb2tlbikge1xuICAgICAgICBpZiAoY29uZmlnLnBvcCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgLy8gbmVlZCB0byBzYXZlIHRoZSBQVVNIX01PREUgcHJvcGVydHkgYXMgaWYgdGhlIG1vZGUgaXMgcG9wcGVkXG4gICAgICAgICAgICAvLyBwYXR0ZXJuSWR4VG9Qb3BNb2RlIGlzIHVwZGF0ZWQgdG8gcmVmbGVjdCB0aGUgbmV3IG1vZGUgYWZ0ZXIgcG9wcGluZyB0aGUgc3RhY2tcbiAgICAgICAgICAgIHZhciBwdXNoTW9kZSA9IGNvbmZpZy5wdXNoO1xuICAgICAgICAgICAgcG9wX21vZGUobmV3VG9rZW4pO1xuICAgICAgICAgICAgaWYgKHB1c2hNb2RlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBwdXNoX21vZGUuY2FsbCh0aGlzLCBwdXNoTW9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY29uZmlnLnB1c2ggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcHVzaF9tb2RlLmNhbGwodGhpcywgY29uZmlnLnB1c2gpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBMZXhlci5wcm90b3R5cGUuY2hvcElucHV0ID0gZnVuY3Rpb24gKHRleHQsIGxlbmd0aCkge1xuICAgICAgICByZXR1cm4gdGV4dC5zdWJzdHJpbmcobGVuZ3RoKTtcbiAgICB9O1xuICAgIExleGVyLnByb3RvdHlwZS51cGRhdGVMYXN0SW5kZXggPSBmdW5jdGlvbiAocmVnRXhwLCBuZXdMYXN0SW5kZXgpIHtcbiAgICAgICAgcmVnRXhwLmxhc3RJbmRleCA9IG5ld0xhc3RJbmRleDtcbiAgICB9O1xuICAgIC8vIFRPRE86IGRlY3JlYXNlIHRoaXMgdW5kZXIgNjAwIGNoYXJhY3RlcnM/IGluc3BlY3Qgc3RyaXBwaW5nIGNvbW1lbnRzIG9wdGlvbiBpbiBUU0MgY29tcGlsZXJcbiAgICBMZXhlci5wcm90b3R5cGUudXBkYXRlVG9rZW5FbmRMaW5lQ29sdW1uTG9jYXRpb24gPSBmdW5jdGlvbiAobmV3VG9rZW4sIGdyb3VwLCBsYXN0TFRJZHgsIG51bU9mTFRzSW5NYXRjaCwgbGluZSwgY29sdW1uLCBpbWFnZUxlbmd0aCkge1xuICAgICAgICB2YXIgbGFzdENoYXJJc0xULCBmaXhGb3JFbmRpbmdJbkxUO1xuICAgICAgICBpZiAoZ3JvdXAgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gYSBub25lIHNraXBwZWQgbXVsdGkgbGluZSBUb2tlbiwgbmVlZCB0byB1cGRhdGUgZW5kTGluZS9lbmRDb2x1bW5cbiAgICAgICAgICAgIGxhc3RDaGFySXNMVCA9IGxhc3RMVElkeCA9PT0gaW1hZ2VMZW5ndGggLSAxO1xuICAgICAgICAgICAgZml4Rm9yRW5kaW5nSW5MVCA9IGxhc3RDaGFySXNMVCA/IC0xIDogMDtcbiAgICAgICAgICAgIGlmICghKG51bU9mTFRzSW5NYXRjaCA9PT0gMSAmJiBsYXN0Q2hhcklzTFQgPT09IHRydWUpKSB7XG4gICAgICAgICAgICAgICAgLy8gaWYgYSB0b2tlbiBlbmRzIGluIGEgTFQgdGhhdCBsYXN0IExUIG9ubHkgYWZmZWN0cyB0aGUgbGluZSBudW1iZXJpbmcgb2YgZm9sbG93aW5nIFRva2Vuc1xuICAgICAgICAgICAgICAgIG5ld1Rva2VuLmVuZExpbmUgPSBsaW5lICsgZml4Rm9yRW5kaW5nSW5MVDtcbiAgICAgICAgICAgICAgICAvLyB0aGUgbGFzdCBMVCBpbiBhIHRva2VuIGRvZXMgbm90IGFmZmVjdCB0aGUgZW5kQ29sdW1uIGVpdGhlciBhcyB0aGUgW2NvbHVtblN0YXJ0IC4uLiBjb2x1bW5FbmQpXG4gICAgICAgICAgICAgICAgLy8gaW5jbHVzaXZlIHRvIGV4Y2x1c2l2ZSByYW5nZS5cbiAgICAgICAgICAgICAgICBuZXdUb2tlbi5lbmRDb2x1bW4gPSBjb2x1bW4gLSAxICsgLWZpeEZvckVuZGluZ0luTFQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBlbHNlIHNpbmdsZSBMVCBpbiB0aGUgbGFzdCBjaGFyYWN0ZXIgb2YgYSB0b2tlbiwgbm8gbmVlZCB0byBtb2RpZnkgdGhlIGVuZExpbmUvRW5kQ29sdW1uXG4gICAgICAgIH1cbiAgICB9O1xuICAgIExleGVyLnByb3RvdHlwZS5jb21wdXRlTmV3Q29sdW1uID0gZnVuY3Rpb24gKG9sZENvbHVtbiwgaW1hZ2VMZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIG9sZENvbHVtbiArIGltYWdlTGVuZ3RoO1xuICAgIH07XG4gICAgLy8gUGxhY2UgaG9sZGVyLCB3aWxsIGJlIHJlcGxhY2VkIGJ5IHRoZSBjb3JyZWN0IHZhcmlhbnQgYWNjb3JkaW5nIHRvIHRoZSBsb2NhdGlvblRyYWNraW5nIG9wdGlvbiBhdCBydW50aW1lLlxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0IC0gcGxhY2UgaG9sZGVyICovXG4gICAgTGV4ZXIucHJvdG90eXBlLmNyZWF0ZVRva2VuSW5zdGFuY2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBMZXhlci5wcm90b3R5cGUuY3JlYXRlT2Zmc2V0T25seVRva2VuID0gZnVuY3Rpb24gKGltYWdlLCBzdGFydE9mZnNldCwgdG9rZW5UeXBlSWR4LCB0b2tlblR5cGUpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGltYWdlOiBpbWFnZSxcbiAgICAgICAgICAgIHN0YXJ0T2Zmc2V0OiBzdGFydE9mZnNldCxcbiAgICAgICAgICAgIHRva2VuVHlwZUlkeDogdG9rZW5UeXBlSWR4LFxuICAgICAgICAgICAgdG9rZW5UeXBlOiB0b2tlblR5cGVcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIExleGVyLnByb3RvdHlwZS5jcmVhdGVTdGFydE9ubHlUb2tlbiA9IGZ1bmN0aW9uIChpbWFnZSwgc3RhcnRPZmZzZXQsIHRva2VuVHlwZUlkeCwgdG9rZW5UeXBlLCBzdGFydExpbmUsIHN0YXJ0Q29sdW1uKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpbWFnZTogaW1hZ2UsXG4gICAgICAgICAgICBzdGFydE9mZnNldDogc3RhcnRPZmZzZXQsXG4gICAgICAgICAgICBzdGFydExpbmU6IHN0YXJ0TGluZSxcbiAgICAgICAgICAgIHN0YXJ0Q29sdW1uOiBzdGFydENvbHVtbixcbiAgICAgICAgICAgIHRva2VuVHlwZUlkeDogdG9rZW5UeXBlSWR4LFxuICAgICAgICAgICAgdG9rZW5UeXBlOiB0b2tlblR5cGVcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIExleGVyLnByb3RvdHlwZS5jcmVhdGVGdWxsVG9rZW4gPSBmdW5jdGlvbiAoaW1hZ2UsIHN0YXJ0T2Zmc2V0LCB0b2tlblR5cGVJZHgsIHRva2VuVHlwZSwgc3RhcnRMaW5lLCBzdGFydENvbHVtbiwgaW1hZ2VMZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGltYWdlOiBpbWFnZSxcbiAgICAgICAgICAgIHN0YXJ0T2Zmc2V0OiBzdGFydE9mZnNldCxcbiAgICAgICAgICAgIGVuZE9mZnNldDogc3RhcnRPZmZzZXQgKyBpbWFnZUxlbmd0aCAtIDEsXG4gICAgICAgICAgICBzdGFydExpbmU6IHN0YXJ0TGluZSxcbiAgICAgICAgICAgIGVuZExpbmU6IHN0YXJ0TGluZSxcbiAgICAgICAgICAgIHN0YXJ0Q29sdW1uOiBzdGFydENvbHVtbixcbiAgICAgICAgICAgIGVuZENvbHVtbjogc3RhcnRDb2x1bW4gKyBpbWFnZUxlbmd0aCAtIDEsXG4gICAgICAgICAgICB0b2tlblR5cGVJZHg6IHRva2VuVHlwZUlkeCxcbiAgICAgICAgICAgIHRva2VuVHlwZTogdG9rZW5UeXBlXG4gICAgICAgIH07XG4gICAgfTtcbiAgICAvLyBQbGFjZSBob2xkZXIsIHdpbGwgYmUgcmVwbGFjZWQgYnkgdGhlIGNvcnJlY3QgdmFyaWFudCBhY2NvcmRpbmcgdG8gdGhlIGxvY2F0aW9uVHJhY2tpbmcgb3B0aW9uIGF0IHJ1bnRpbWUuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgLSBwbGFjZSBob2xkZXIgKi9cbiAgICBMZXhlci5wcm90b3R5cGUuYWRkVG9rZW4gPSBmdW5jdGlvbiAodG9rZW5WZWN0b3IsIGluZGV4LCB0b2tlblRvQWRkKSB7XG4gICAgICAgIHJldHVybiA2NjY7XG4gICAgfTtcbiAgICBMZXhlci5wcm90b3R5cGUuYWRkVG9rZW5Vc2luZ1B1c2ggPSBmdW5jdGlvbiAodG9rZW5WZWN0b3IsIGluZGV4LCB0b2tlblRvQWRkKSB7XG4gICAgICAgIHRva2VuVmVjdG9yLnB1c2godG9rZW5Ub0FkZCk7XG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICB9O1xuICAgIExleGVyLnByb3RvdHlwZS5hZGRUb2tlblVzaW5nTWVtYmVyQWNjZXNzID0gZnVuY3Rpb24gKHRva2VuVmVjdG9yLCBpbmRleCwgdG9rZW5Ub0FkZCkge1xuICAgICAgICB0b2tlblZlY3RvcltpbmRleF0gPSB0b2tlblRvQWRkO1xuICAgICAgICBpbmRleCsrO1xuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgfTtcbiAgICAvLyBQbGFjZSBob2xkZXIsIHdpbGwgYmUgcmVwbGFjZWQgYnkgdGhlIGNvcnJlY3QgdmFyaWFudCBhY2NvcmRpbmcgdG8gdGhlIGhhc0N1c3RvbSBmbGFnIG9wdGlvbiBhdCBydW50aW1lLlxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0IC0gcGxhY2UgaG9sZGVyICovXG4gICAgTGV4ZXIucHJvdG90eXBlLmhhbmRsZVBheWxvYWQgPSBmdW5jdGlvbiAodG9rZW4sIHBheWxvYWQpIHsgfTtcbiAgICBMZXhlci5wcm90b3R5cGUuaGFuZGxlUGF5bG9hZE5vQ3VzdG9tID0gZnVuY3Rpb24gKHRva2VuLCBwYXlsb2FkKSB7IH07XG4gICAgTGV4ZXIucHJvdG90eXBlLmhhbmRsZVBheWxvYWRXaXRoQ3VzdG9tID0gZnVuY3Rpb24gKHRva2VuLCBwYXlsb2FkKSB7XG4gICAgICAgIGlmIChwYXlsb2FkICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0b2tlbi5wYXlsb2FkID0gcGF5bG9hZDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgLSBwbGFjZSBob2xkZXIgdG8gYmUgcmVwbGFjZWQgd2l0aCBjaG9zZW4gYWx0ZXJuYXRpdmUgYXQgcnVudGltZSAqL1xuICAgIExleGVyLnByb3RvdHlwZS5tYXRjaCA9IGZ1bmN0aW9uIChwYXR0ZXJuLCB0ZXh0LCBvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBMZXhlci5wcm90b3R5cGUubWF0Y2hXaXRoVGVzdCA9IGZ1bmN0aW9uIChwYXR0ZXJuLCB0ZXh0LCBvZmZzZXQpIHtcbiAgICAgICAgdmFyIGZvdW5kID0gcGF0dGVybi50ZXN0KHRleHQpO1xuICAgICAgICBpZiAoZm91bmQgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHJldHVybiB0ZXh0LnN1YnN0cmluZyhvZmZzZXQsIHBhdHRlcm4ubGFzdEluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIExleGVyLnByb3RvdHlwZS5tYXRjaFdpdGhFeGVjID0gZnVuY3Rpb24gKHBhdHRlcm4sIHRleHQpIHtcbiAgICAgICAgdmFyIHJlZ0V4cEFycmF5ID0gcGF0dGVybi5leGVjKHRleHQpO1xuICAgICAgICByZXR1cm4gcmVnRXhwQXJyYXkgIT09IG51bGwgPyByZWdFeHBBcnJheVswXSA6IHJlZ0V4cEFycmF5O1xuICAgIH07XG4gICAgLy8gRHVwbGljYXRlZCBmcm9tIHRoZSBwYXJzZXIncyBwZXJmIHRyYWNlIHRyYWl0IHRvIGFsbG93IGZ1dHVyZSBleHRyYWN0aW9uXG4gICAgLy8gb2YgdGhlIGxleGVyIHRvIGEgc2VwYXJhdGUgcGFja2FnZS5cbiAgICBMZXhlci5wcm90b3R5cGUuVFJBQ0VfSU5JVCA9IGZ1bmN0aW9uIChwaGFzZURlc2MsIHBoYXNlSW1wbCkge1xuICAgICAgICAvLyBObyBuZWVkIHRvIG9wdGltaXplIHRoaXMgdXNpbmcgTk9PUCBwYXR0ZXJuIGJlY2F1c2VcbiAgICAgICAgLy8gSXQgaXMgbm90IGNhbGxlZCBpbiBhIGhvdCBzcG90Li4uXG4gICAgICAgIGlmICh0aGlzLnRyYWNlSW5pdFBlcmYgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHRoaXMudHJhY2VJbml0SW5kZW50Kys7XG4gICAgICAgICAgICB2YXIgaW5kZW50ID0gbmV3IEFycmF5KHRoaXMudHJhY2VJbml0SW5kZW50ICsgMSkuam9pbihcIlxcdFwiKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnRyYWNlSW5pdEluZGVudCA8IHRoaXMudHJhY2VJbml0TWF4SWRlbnQpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhpbmRlbnQgKyBcIi0tPiA8XCIgKyBwaGFzZURlc2MgKyBcIj5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgX2EgPSB0aW1lcihwaGFzZUltcGwpLCB0aW1lID0gX2EudGltZSwgdmFsdWUgPSBfYS52YWx1ZTtcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0IC0gRGlmZmljdWx0IHRvIHJlcHJvZHVjZSBzcGVjaWZpYyBwZXJmb3JtYW5jZSBiZWhhdmlvciAoPjEwbXMpIGluIHRlc3RzICovXG4gICAgICAgICAgICB2YXIgdHJhY2VNZXRob2QgPSB0aW1lID4gMTAgPyBjb25zb2xlLndhcm4gOiBjb25zb2xlLmxvZztcbiAgICAgICAgICAgIGlmICh0aGlzLnRyYWNlSW5pdEluZGVudCA8IHRoaXMudHJhY2VJbml0TWF4SWRlbnQpIHtcbiAgICAgICAgICAgICAgICB0cmFjZU1ldGhvZChpbmRlbnQgKyBcIjwtLSA8XCIgKyBwaGFzZURlc2MgKyBcIj4gdGltZTogXCIgKyB0aW1lICsgXCJtc1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudHJhY2VJbml0SW5kZW50LS07XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gcGhhc2VJbXBsKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIExleGVyLlNLSVBQRUQgPSBcIlRoaXMgbWFya3MgYSBza2lwcGVkIFRva2VuIHBhdHRlcm4sIHRoaXMgbWVhbnMgZWFjaCB0b2tlbiBpZGVudGlmaWVkIGJ5IGl0IHdpbGxcIiArXG4gICAgICAgIFwiYmUgY29uc3VtZWQgYW5kIHRoZW4gdGhyb3duIGludG8gb2JsaXZpb24sIHRoaXMgY2FuIGJlIHVzZWQgdG8gZm9yIGV4YW1wbGUgdG8gY29tcGxldGVseSBpZ25vcmUgd2hpdGVzcGFjZS5cIjtcbiAgICBMZXhlci5OQSA9IC9OT1RfQVBQTElDQUJMRS87XG4gICAgcmV0dXJuIExleGVyO1xufSgpKTtcbmV4cG9ydCB7IExleGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sZXhlcl9wdWJsaWMuanMubWFwIiwiaW1wb3J0IHsgaGFzLCBpc1N0cmluZywgaXNVbmRlZmluZWQgfSBmcm9tIFwiLi4vdXRpbHMvdXRpbHNcIjtcbmltcG9ydCB7IExleGVyIH0gZnJvbSBcIi4vbGV4ZXJfcHVibGljXCI7XG5pbXBvcnQgeyBhdWdtZW50VG9rZW5UeXBlcywgdG9rZW5TdHJ1Y3R1cmVkTWF0Y2hlciB9IGZyb20gXCIuL3Rva2Vuc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIHRva2VuTGFiZWwodG9rVHlwZSkge1xuICAgIGlmIChoYXNUb2tlbkxhYmVsKHRva1R5cGUpKSB7XG4gICAgICAgIHJldHVybiB0b2tUeXBlLkxBQkVMO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRva1R5cGUubmFtZTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gdG9rZW5OYW1lKHRva1R5cGUpIHtcbiAgICByZXR1cm4gdG9rVHlwZS5uYW1lO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGhhc1Rva2VuTGFiZWwob2JqKSB7XG4gICAgcmV0dXJuIGlzU3RyaW5nKG9iai5MQUJFTCkgJiYgb2JqLkxBQkVMICE9PSBcIlwiO1xufVxudmFyIFBBUkVOVCA9IFwicGFyZW50XCI7XG52YXIgQ0FURUdPUklFUyA9IFwiY2F0ZWdvcmllc1wiO1xudmFyIExBQkVMID0gXCJsYWJlbFwiO1xudmFyIEdST1VQID0gXCJncm91cFwiO1xudmFyIFBVU0hfTU9ERSA9IFwicHVzaF9tb2RlXCI7XG52YXIgUE9QX01PREUgPSBcInBvcF9tb2RlXCI7XG52YXIgTE9OR0VSX0FMVCA9IFwibG9uZ2VyX2FsdFwiO1xudmFyIExJTkVfQlJFQUtTID0gXCJsaW5lX2JyZWFrc1wiO1xudmFyIFNUQVJUX0NIQVJTX0hJTlQgPSBcInN0YXJ0X2NoYXJzX2hpbnRcIjtcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVUb2tlbihjb25maWcpIHtcbiAgICByZXR1cm4gY3JlYXRlVG9rZW5JbnRlcm5hbChjb25maWcpO1xufVxuZnVuY3Rpb24gY3JlYXRlVG9rZW5JbnRlcm5hbChjb25maWcpIHtcbiAgICB2YXIgcGF0dGVybiA9IGNvbmZpZy5wYXR0ZXJuO1xuICAgIHZhciB0b2tlblR5cGUgPSB7fTtcbiAgICB0b2tlblR5cGUubmFtZSA9IGNvbmZpZy5uYW1lO1xuICAgIGlmICghaXNVbmRlZmluZWQocGF0dGVybikpIHtcbiAgICAgICAgdG9rZW5UeXBlLlBBVFRFUk4gPSBwYXR0ZXJuO1xuICAgIH1cbiAgICBpZiAoaGFzKGNvbmZpZywgUEFSRU5UKSkge1xuICAgICAgICB0aHJvdyAoXCJUaGUgcGFyZW50IHByb3BlcnR5IGlzIG5vIGxvbmdlciBzdXBwb3J0ZWQuXFxuXCIgK1xuICAgICAgICAgICAgXCJTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9TQVAvY2hldnJvdGFpbi9pc3N1ZXMvNTY0I2lzc3VlY29tbWVudC0zNDkwNjIzNDYgZm9yIGRldGFpbHMuXCIpO1xuICAgIH1cbiAgICBpZiAoaGFzKGNvbmZpZywgQ0FURUdPUklFUykpIHtcbiAgICAgICAgLy8gY2FzdGluZyB0byBBTlkgYXMgdGhpcyB3aWxsIGJlIGZpeGVkIGluc2lkZSBgYXVnbWVudFRva2VuVHlwZXNgYFxuICAgICAgICB0b2tlblR5cGUuQ0FURUdPUklFUyA9IGNvbmZpZ1tDQVRFR09SSUVTXTtcbiAgICB9XG4gICAgYXVnbWVudFRva2VuVHlwZXMoW3Rva2VuVHlwZV0pO1xuICAgIGlmIChoYXMoY29uZmlnLCBMQUJFTCkpIHtcbiAgICAgICAgdG9rZW5UeXBlLkxBQkVMID0gY29uZmlnW0xBQkVMXTtcbiAgICB9XG4gICAgaWYgKGhhcyhjb25maWcsIEdST1VQKSkge1xuICAgICAgICB0b2tlblR5cGUuR1JPVVAgPSBjb25maWdbR1JPVVBdO1xuICAgIH1cbiAgICBpZiAoaGFzKGNvbmZpZywgUE9QX01PREUpKSB7XG4gICAgICAgIHRva2VuVHlwZS5QT1BfTU9ERSA9IGNvbmZpZ1tQT1BfTU9ERV07XG4gICAgfVxuICAgIGlmIChoYXMoY29uZmlnLCBQVVNIX01PREUpKSB7XG4gICAgICAgIHRva2VuVHlwZS5QVVNIX01PREUgPSBjb25maWdbUFVTSF9NT0RFXTtcbiAgICB9XG4gICAgaWYgKGhhcyhjb25maWcsIExPTkdFUl9BTFQpKSB7XG4gICAgICAgIHRva2VuVHlwZS5MT05HRVJfQUxUID0gY29uZmlnW0xPTkdFUl9BTFRdO1xuICAgIH1cbiAgICBpZiAoaGFzKGNvbmZpZywgTElORV9CUkVBS1MpKSB7XG4gICAgICAgIHRva2VuVHlwZS5MSU5FX0JSRUFLUyA9IGNvbmZpZ1tMSU5FX0JSRUFLU107XG4gICAgfVxuICAgIGlmIChoYXMoY29uZmlnLCBTVEFSVF9DSEFSU19ISU5UKSkge1xuICAgICAgICB0b2tlblR5cGUuU1RBUlRfQ0hBUlNfSElOVCA9IGNvbmZpZ1tTVEFSVF9DSEFSU19ISU5UXTtcbiAgICB9XG4gICAgcmV0dXJuIHRva2VuVHlwZTtcbn1cbmV4cG9ydCB2YXIgRU9GID0gY3JlYXRlVG9rZW4oeyBuYW1lOiBcIkVPRlwiLCBwYXR0ZXJuOiBMZXhlci5OQSB9KTtcbmF1Z21lbnRUb2tlblR5cGVzKFtFT0ZdKTtcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVUb2tlbkluc3RhbmNlKHRva1R5cGUsIGltYWdlLCBzdGFydE9mZnNldCwgZW5kT2Zmc2V0LCBzdGFydExpbmUsIGVuZExpbmUsIHN0YXJ0Q29sdW1uLCBlbmRDb2x1bW4pIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBpbWFnZTogaW1hZ2UsXG4gICAgICAgIHN0YXJ0T2Zmc2V0OiBzdGFydE9mZnNldCxcbiAgICAgICAgZW5kT2Zmc2V0OiBlbmRPZmZzZXQsXG4gICAgICAgIHN0YXJ0TGluZTogc3RhcnRMaW5lLFxuICAgICAgICBlbmRMaW5lOiBlbmRMaW5lLFxuICAgICAgICBzdGFydENvbHVtbjogc3RhcnRDb2x1bW4sXG4gICAgICAgIGVuZENvbHVtbjogZW5kQ29sdW1uLFxuICAgICAgICB0b2tlblR5cGVJZHg6IHRva1R5cGUudG9rZW5UeXBlSWR4LFxuICAgICAgICB0b2tlblR5cGU6IHRva1R5cGVcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIHRva2VuTWF0Y2hlcih0b2tlbiwgdG9rVHlwZSkge1xuICAgIHJldHVybiB0b2tlblN0cnVjdHVyZWRNYXRjaGVyKHRva2VuLCB0b2tUeXBlKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRva2Vuc19wdWJsaWMuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5pbXBvcnQgeyBhc3NpZ24sIGZvckVhY2gsIGlzUmVnRXhwLCBtYXAsIHBpY2sgfSBmcm9tIFwiLi4vLi4vLi4vdXRpbHMvdXRpbHNcIjtcbmltcG9ydCB7IHRva2VuTGFiZWwgfSBmcm9tIFwiLi4vLi4vLi4vc2Nhbi90b2tlbnNfcHVibGljXCI7XG52YXIgQWJzdHJhY3RQcm9kdWN0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEFic3RyYWN0UHJvZHVjdGlvbihkZWZpbml0aW9uKSB7XG4gICAgICAgIHRoaXMuZGVmaW5pdGlvbiA9IGRlZmluaXRpb247XG4gICAgfVxuICAgIEFic3RyYWN0UHJvZHVjdGlvbi5wcm90b3R5cGUuYWNjZXB0ID0gZnVuY3Rpb24gKHZpc2l0b3IpIHtcbiAgICAgICAgdmlzaXRvci52aXNpdCh0aGlzKTtcbiAgICAgICAgZm9yRWFjaCh0aGlzLmRlZmluaXRpb24sIGZ1bmN0aW9uIChwcm9kKSB7XG4gICAgICAgICAgICBwcm9kLmFjY2VwdCh2aXNpdG9yKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gQWJzdHJhY3RQcm9kdWN0aW9uO1xufSgpKTtcbmV4cG9ydCB7IEFic3RyYWN0UHJvZHVjdGlvbiB9O1xudmFyIE5vblRlcm1pbmFsID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhOb25UZXJtaW5hbCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBOb25UZXJtaW5hbChvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIFtdKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5pZHggPSAxO1xuICAgICAgICBhc3NpZ24oX3RoaXMsIHBpY2sob3B0aW9ucywgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHYgIT09IHVuZGVmaW5lZDsgfSkpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOb25UZXJtaW5hbC5wcm90b3R5cGUsIFwiZGVmaW5pdGlvblwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucmVmZXJlbmNlZFJ1bGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlZmVyZW5jZWRSdWxlLmRlZmluaXRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGRlZmluaXRpb24pIHtcbiAgICAgICAgICAgIC8vIGltbXV0YWJsZVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBOb25UZXJtaW5hbC5wcm90b3R5cGUuYWNjZXB0ID0gZnVuY3Rpb24gKHZpc2l0b3IpIHtcbiAgICAgICAgdmlzaXRvci52aXNpdCh0aGlzKTtcbiAgICAgICAgLy8gZG9uJ3QgdmlzaXQgY2hpbGRyZW4gb2YgYSByZWZlcmVuY2UsIHdlIHdpbGwgZ2V0IGN5Y2xpYyBpbmZpbml0ZSBsb29wcyBpZiB3ZSBkbyBzb1xuICAgIH07XG4gICAgcmV0dXJuIE5vblRlcm1pbmFsO1xufShBYnN0cmFjdFByb2R1Y3Rpb24pKTtcbmV4cG9ydCB7IE5vblRlcm1pbmFsIH07XG52YXIgUnVsZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUnVsZSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBSdWxlKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgb3B0aW9ucy5kZWZpbml0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5vcmdUZXh0ID0gXCJcIjtcbiAgICAgICAgYXNzaWduKF90aGlzLCBwaWNrKG9wdGlvbnMsIGZ1bmN0aW9uICh2KSB7IHJldHVybiB2ICE9PSB1bmRlZmluZWQ7IH0pKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gUnVsZTtcbn0oQWJzdHJhY3RQcm9kdWN0aW9uKSk7XG5leHBvcnQgeyBSdWxlIH07XG52YXIgQWx0ZXJuYXRpdmUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEFsdGVybmF0aXZlLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEFsdGVybmF0aXZlKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgb3B0aW9ucy5kZWZpbml0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5pZ25vcmVBbWJpZ3VpdGllcyA9IGZhbHNlO1xuICAgICAgICBhc3NpZ24oX3RoaXMsIHBpY2sob3B0aW9ucywgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHYgIT09IHVuZGVmaW5lZDsgfSkpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIHJldHVybiBBbHRlcm5hdGl2ZTtcbn0oQWJzdHJhY3RQcm9kdWN0aW9uKSk7XG5leHBvcnQgeyBBbHRlcm5hdGl2ZSB9O1xudmFyIE9wdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoT3B0aW9uLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE9wdGlvbihvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG9wdGlvbnMuZGVmaW5pdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuaWR4ID0gMTtcbiAgICAgICAgYXNzaWduKF90aGlzLCBwaWNrKG9wdGlvbnMsIGZ1bmN0aW9uICh2KSB7IHJldHVybiB2ICE9PSB1bmRlZmluZWQ7IH0pKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gT3B0aW9uO1xufShBYnN0cmFjdFByb2R1Y3Rpb24pKTtcbmV4cG9ydCB7IE9wdGlvbiB9O1xudmFyIFJlcGV0aXRpb25NYW5kYXRvcnkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFJlcGV0aXRpb25NYW5kYXRvcnksIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUmVwZXRpdGlvbk1hbmRhdG9yeShvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG9wdGlvbnMuZGVmaW5pdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuaWR4ID0gMTtcbiAgICAgICAgYXNzaWduKF90aGlzLCBwaWNrKG9wdGlvbnMsIGZ1bmN0aW9uICh2KSB7IHJldHVybiB2ICE9PSB1bmRlZmluZWQ7IH0pKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gUmVwZXRpdGlvbk1hbmRhdG9yeTtcbn0oQWJzdHJhY3RQcm9kdWN0aW9uKSk7XG5leHBvcnQgeyBSZXBldGl0aW9uTWFuZGF0b3J5IH07XG52YXIgUmVwZXRpdGlvbk1hbmRhdG9yeVdpdGhTZXBhcmF0b3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFJlcGV0aXRpb25NYW5kYXRvcnlXaXRoU2VwYXJhdG9yLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFJlcGV0aXRpb25NYW5kYXRvcnlXaXRoU2VwYXJhdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgb3B0aW9ucy5kZWZpbml0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5pZHggPSAxO1xuICAgICAgICBhc3NpZ24oX3RoaXMsIHBpY2sob3B0aW9ucywgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHYgIT09IHVuZGVmaW5lZDsgfSkpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIHJldHVybiBSZXBldGl0aW9uTWFuZGF0b3J5V2l0aFNlcGFyYXRvcjtcbn0oQWJzdHJhY3RQcm9kdWN0aW9uKSk7XG5leHBvcnQgeyBSZXBldGl0aW9uTWFuZGF0b3J5V2l0aFNlcGFyYXRvciB9O1xudmFyIFJlcGV0aXRpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFJlcGV0aXRpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUmVwZXRpdGlvbihvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG9wdGlvbnMuZGVmaW5pdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuaWR4ID0gMTtcbiAgICAgICAgYXNzaWduKF90aGlzLCBwaWNrKG9wdGlvbnMsIGZ1bmN0aW9uICh2KSB7IHJldHVybiB2ICE9PSB1bmRlZmluZWQ7IH0pKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gUmVwZXRpdGlvbjtcbn0oQWJzdHJhY3RQcm9kdWN0aW9uKSk7XG5leHBvcnQgeyBSZXBldGl0aW9uIH07XG52YXIgUmVwZXRpdGlvbldpdGhTZXBhcmF0b3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFJlcGV0aXRpb25XaXRoU2VwYXJhdG9yLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFJlcGV0aXRpb25XaXRoU2VwYXJhdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgb3B0aW9ucy5kZWZpbml0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5pZHggPSAxO1xuICAgICAgICBhc3NpZ24oX3RoaXMsIHBpY2sob3B0aW9ucywgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHYgIT09IHVuZGVmaW5lZDsgfSkpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIHJldHVybiBSZXBldGl0aW9uV2l0aFNlcGFyYXRvcjtcbn0oQWJzdHJhY3RQcm9kdWN0aW9uKSk7XG5leHBvcnQgeyBSZXBldGl0aW9uV2l0aFNlcGFyYXRvciB9O1xudmFyIEFsdGVybmF0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhBbHRlcm5hdGlvbiwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBbHRlcm5hdGlvbihvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG9wdGlvbnMuZGVmaW5pdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuaWR4ID0gMTtcbiAgICAgICAgX3RoaXMuaWdub3JlQW1iaWd1aXRpZXMgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuaGFzUHJlZGljYXRlcyA9IGZhbHNlO1xuICAgICAgICBhc3NpZ24oX3RoaXMsIHBpY2sob3B0aW9ucywgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHYgIT09IHVuZGVmaW5lZDsgfSkpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIHJldHVybiBBbHRlcm5hdGlvbjtcbn0oQWJzdHJhY3RQcm9kdWN0aW9uKSk7XG5leHBvcnQgeyBBbHRlcm5hdGlvbiB9O1xudmFyIFRlcm1pbmFsID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFRlcm1pbmFsKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5pZHggPSAxO1xuICAgICAgICBhc3NpZ24odGhpcywgcGljayhvcHRpb25zLCBmdW5jdGlvbiAodikgeyByZXR1cm4gdiAhPT0gdW5kZWZpbmVkOyB9KSk7XG4gICAgfVxuICAgIFRlcm1pbmFsLnByb3RvdHlwZS5hY2NlcHQgPSBmdW5jdGlvbiAodmlzaXRvcikge1xuICAgICAgICB2aXNpdG9yLnZpc2l0KHRoaXMpO1xuICAgIH07XG4gICAgcmV0dXJuIFRlcm1pbmFsO1xufSgpKTtcbmV4cG9ydCB7IFRlcm1pbmFsIH07XG5leHBvcnQgZnVuY3Rpb24gc2VyaWFsaXplR3JhbW1hcih0b3BSdWxlcykge1xuICAgIHJldHVybiBtYXAodG9wUnVsZXMsIHNlcmlhbGl6ZVByb2R1Y3Rpb24pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNlcmlhbGl6ZVByb2R1Y3Rpb24obm9kZSkge1xuICAgIGZ1bmN0aW9uIGNvbnZlcnREZWZpbml0aW9uKGRlZmluaXRpb24pIHtcbiAgICAgICAgcmV0dXJuIG1hcChkZWZpbml0aW9uLCBzZXJpYWxpemVQcm9kdWN0aW9uKTtcbiAgICB9XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICBpZiAobm9kZSBpbnN0YW5jZW9mIE5vblRlcm1pbmFsKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiBcIk5vblRlcm1pbmFsXCIsXG4gICAgICAgICAgICBuYW1lOiBub2RlLm5vblRlcm1pbmFsTmFtZSxcbiAgICAgICAgICAgIGlkeDogbm9kZS5pZHhcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAobm9kZSBpbnN0YW5jZW9mIEFsdGVybmF0aXZlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiBcIkFsdGVybmF0aXZlXCIsXG4gICAgICAgICAgICBkZWZpbml0aW9uOiBjb252ZXJ0RGVmaW5pdGlvbihub2RlLmRlZmluaXRpb24pXG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKG5vZGUgaW5zdGFuY2VvZiBPcHRpb24pIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IFwiT3B0aW9uXCIsXG4gICAgICAgICAgICBpZHg6IG5vZGUuaWR4LFxuICAgICAgICAgICAgZGVmaW5pdGlvbjogY29udmVydERlZmluaXRpb24obm9kZS5kZWZpbml0aW9uKVxuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChub2RlIGluc3RhbmNlb2YgUmVwZXRpdGlvbk1hbmRhdG9yeSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogXCJSZXBldGl0aW9uTWFuZGF0b3J5XCIsXG4gICAgICAgICAgICBpZHg6IG5vZGUuaWR4LFxuICAgICAgICAgICAgZGVmaW5pdGlvbjogY29udmVydERlZmluaXRpb24obm9kZS5kZWZpbml0aW9uKVxuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChub2RlIGluc3RhbmNlb2YgUmVwZXRpdGlvbk1hbmRhdG9yeVdpdGhTZXBhcmF0b3IpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IFwiUmVwZXRpdGlvbk1hbmRhdG9yeVdpdGhTZXBhcmF0b3JcIixcbiAgICAgICAgICAgIGlkeDogbm9kZS5pZHgsXG4gICAgICAgICAgICBzZXBhcmF0b3I6IChzZXJpYWxpemVQcm9kdWN0aW9uKG5ldyBUZXJtaW5hbCh7IHRlcm1pbmFsVHlwZTogbm9kZS5zZXBhcmF0b3IgfSkpKSxcbiAgICAgICAgICAgIGRlZmluaXRpb246IGNvbnZlcnREZWZpbml0aW9uKG5vZGUuZGVmaW5pdGlvbilcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAobm9kZSBpbnN0YW5jZW9mIFJlcGV0aXRpb25XaXRoU2VwYXJhdG9yKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiBcIlJlcGV0aXRpb25XaXRoU2VwYXJhdG9yXCIsXG4gICAgICAgICAgICBpZHg6IG5vZGUuaWR4LFxuICAgICAgICAgICAgc2VwYXJhdG9yOiAoc2VyaWFsaXplUHJvZHVjdGlvbihuZXcgVGVybWluYWwoeyB0ZXJtaW5hbFR5cGU6IG5vZGUuc2VwYXJhdG9yIH0pKSksXG4gICAgICAgICAgICBkZWZpbml0aW9uOiBjb252ZXJ0RGVmaW5pdGlvbihub2RlLmRlZmluaXRpb24pXG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKG5vZGUgaW5zdGFuY2VvZiBSZXBldGl0aW9uKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiBcIlJlcGV0aXRpb25cIixcbiAgICAgICAgICAgIGlkeDogbm9kZS5pZHgsXG4gICAgICAgICAgICBkZWZpbml0aW9uOiBjb252ZXJ0RGVmaW5pdGlvbihub2RlLmRlZmluaXRpb24pXG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKG5vZGUgaW5zdGFuY2VvZiBBbHRlcm5hdGlvbikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogXCJBbHRlcm5hdGlvblwiLFxuICAgICAgICAgICAgaWR4OiBub2RlLmlkeCxcbiAgICAgICAgICAgIGRlZmluaXRpb246IGNvbnZlcnREZWZpbml0aW9uKG5vZGUuZGVmaW5pdGlvbilcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAobm9kZSBpbnN0YW5jZW9mIFRlcm1pbmFsKSB7XG4gICAgICAgIHZhciBzZXJpYWxpemVkVGVybWluYWwgPSB7XG4gICAgICAgICAgICB0eXBlOiBcIlRlcm1pbmFsXCIsXG4gICAgICAgICAgICBuYW1lOiBub2RlLnRlcm1pbmFsVHlwZS5uYW1lLFxuICAgICAgICAgICAgbGFiZWw6IHRva2VuTGFiZWwobm9kZS50ZXJtaW5hbFR5cGUpLFxuICAgICAgICAgICAgaWR4OiBub2RlLmlkeFxuICAgICAgICB9O1xuICAgICAgICB2YXIgcGF0dGVybiA9IG5vZGUudGVybWluYWxUeXBlLlBBVFRFUk47XG4gICAgICAgIGlmIChub2RlLnRlcm1pbmFsVHlwZS5QQVRURVJOKSB7XG4gICAgICAgICAgICBzZXJpYWxpemVkVGVybWluYWwucGF0dGVybiA9IGlzUmVnRXhwKHBhdHRlcm4pXG4gICAgICAgICAgICAgICAgPyBwYXR0ZXJuLnNvdXJjZVxuICAgICAgICAgICAgICAgIDogcGF0dGVybjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2VyaWFsaXplZFRlcm1pbmFsO1xuICAgIH1cbiAgICBlbHNlIGlmIChub2RlIGluc3RhbmNlb2YgUnVsZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogXCJSdWxlXCIsXG4gICAgICAgICAgICBuYW1lOiBub2RlLm5hbWUsXG4gICAgICAgICAgICBvcmdUZXh0OiBub2RlLm9yZ1RleHQsXG4gICAgICAgICAgICBkZWZpbml0aW9uOiBjb252ZXJ0RGVmaW5pdGlvbihub2RlLmRlZmluaXRpb24pXG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBFcnJvcihcIm5vbiBleGhhdXN0aXZlIG1hdGNoXCIpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdhc3RfcHVibGljLmpzLm1hcCIsImltcG9ydCB7IGRyb3AsIGZvckVhY2ggfSBmcm9tIFwiLi4vLi4vdXRpbHMvdXRpbHNcIjtcbmltcG9ydCB7IEFsdGVybmF0aW9uLCBBbHRlcm5hdGl2ZSwgTm9uVGVybWluYWwsIE9wdGlvbiwgUmVwZXRpdGlvbiwgUmVwZXRpdGlvbk1hbmRhdG9yeSwgUmVwZXRpdGlvbk1hbmRhdG9yeVdpdGhTZXBhcmF0b3IsIFJlcGV0aXRpb25XaXRoU2VwYXJhdG9yLCBUZXJtaW5hbCB9IGZyb20gXCIuL2dhc3QvZ2FzdF9wdWJsaWNcIjtcbi8qKlxuICogIEEgR3JhbW1hciBXYWxrZXIgdGhhdCBjb21wdXRlcyB0aGUgXCJyZW1haW5pbmdcIiBncmFtbWFyIFwiYWZ0ZXJcIiBhIHByb2R1Y3Rpb25zIGluIHRoZSBncmFtbWFyLlxuICovXG52YXIgUmVzdFdhbGtlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZXN0V2Fsa2VyKCkge1xuICAgIH1cbiAgICBSZXN0V2Fsa2VyLnByb3RvdHlwZS53YWxrID0gZnVuY3Rpb24gKHByb2QsIHByZXZSZXN0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmIChwcmV2UmVzdCA9PT0gdm9pZCAwKSB7IHByZXZSZXN0ID0gW107IH1cbiAgICAgICAgZm9yRWFjaChwcm9kLmRlZmluaXRpb24sIGZ1bmN0aW9uIChzdWJQcm9kLCBpbmRleCkge1xuICAgICAgICAgICAgdmFyIGN1cnJSZXN0ID0gZHJvcChwcm9kLmRlZmluaXRpb24sIGluZGV4ICsgMSk7XG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICAgICAgaWYgKHN1YlByb2QgaW5zdGFuY2VvZiBOb25UZXJtaW5hbCkge1xuICAgICAgICAgICAgICAgIF90aGlzLndhbGtQcm9kUmVmKHN1YlByb2QsIGN1cnJSZXN0LCBwcmV2UmVzdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChzdWJQcm9kIGluc3RhbmNlb2YgVGVybWluYWwpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy53YWxrVGVybWluYWwoc3ViUHJvZCwgY3VyclJlc3QsIHByZXZSZXN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHN1YlByb2QgaW5zdGFuY2VvZiBBbHRlcm5hdGl2ZSkge1xuICAgICAgICAgICAgICAgIF90aGlzLndhbGtGbGF0KHN1YlByb2QsIGN1cnJSZXN0LCBwcmV2UmVzdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChzdWJQcm9kIGluc3RhbmNlb2YgT3B0aW9uKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMud2Fsa09wdGlvbihzdWJQcm9kLCBjdXJyUmVzdCwgcHJldlJlc3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc3ViUHJvZCBpbnN0YW5jZW9mIFJlcGV0aXRpb25NYW5kYXRvcnkpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy53YWxrQXRMZWFzdE9uZShzdWJQcm9kLCBjdXJyUmVzdCwgcHJldlJlc3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc3ViUHJvZCBpbnN0YW5jZW9mIFJlcGV0aXRpb25NYW5kYXRvcnlXaXRoU2VwYXJhdG9yKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMud2Fsa0F0TGVhc3RPbmVTZXAoc3ViUHJvZCwgY3VyclJlc3QsIHByZXZSZXN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHN1YlByb2QgaW5zdGFuY2VvZiBSZXBldGl0aW9uV2l0aFNlcGFyYXRvcikge1xuICAgICAgICAgICAgICAgIF90aGlzLndhbGtNYW55U2VwKHN1YlByb2QsIGN1cnJSZXN0LCBwcmV2UmVzdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChzdWJQcm9kIGluc3RhbmNlb2YgUmVwZXRpdGlvbikge1xuICAgICAgICAgICAgICAgIF90aGlzLndhbGtNYW55KHN1YlByb2QsIGN1cnJSZXN0LCBwcmV2UmVzdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChzdWJQcm9kIGluc3RhbmNlb2YgQWx0ZXJuYXRpb24pIHtcbiAgICAgICAgICAgICAgICBfdGhpcy53YWxrT3Ioc3ViUHJvZCwgY3VyclJlc3QsIHByZXZSZXN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwibm9uIGV4aGF1c3RpdmUgbWF0Y2hcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgUmVzdFdhbGtlci5wcm90b3R5cGUud2Fsa1Rlcm1pbmFsID0gZnVuY3Rpb24gKHRlcm1pbmFsLCBjdXJyUmVzdCwgcHJldlJlc3QpIHsgfTtcbiAgICBSZXN0V2Fsa2VyLnByb3RvdHlwZS53YWxrUHJvZFJlZiA9IGZ1bmN0aW9uIChyZWZQcm9kLCBjdXJyUmVzdCwgcHJldlJlc3QpIHsgfTtcbiAgICBSZXN0V2Fsa2VyLnByb3RvdHlwZS53YWxrRmxhdCA9IGZ1bmN0aW9uIChmbGF0UHJvZCwgY3VyclJlc3QsIHByZXZSZXN0KSB7XG4gICAgICAgIC8vIEFCQ0RFRiA9PiBhZnRlciB0aGUgRCB0aGUgcmVzdCBpcyBFRlxuICAgICAgICB2YXIgZnVsbE9yUmVzdCA9IGN1cnJSZXN0LmNvbmNhdChwcmV2UmVzdCk7XG4gICAgICAgIHRoaXMud2FsayhmbGF0UHJvZCwgZnVsbE9yUmVzdCk7XG4gICAgfTtcbiAgICBSZXN0V2Fsa2VyLnByb3RvdHlwZS53YWxrT3B0aW9uID0gZnVuY3Rpb24gKG9wdGlvblByb2QsIGN1cnJSZXN0LCBwcmV2UmVzdCkge1xuICAgICAgICAvLyBBQkMoREUpP0YgPT4gYWZ0ZXIgdGhlIChERSk/IHRoZSByZXN0IGlzIEZcbiAgICAgICAgdmFyIGZ1bGxPclJlc3QgPSBjdXJyUmVzdC5jb25jYXQocHJldlJlc3QpO1xuICAgICAgICB0aGlzLndhbGsob3B0aW9uUHJvZCwgZnVsbE9yUmVzdCk7XG4gICAgfTtcbiAgICBSZXN0V2Fsa2VyLnByb3RvdHlwZS53YWxrQXRMZWFzdE9uZSA9IGZ1bmN0aW9uIChhdExlYXN0T25lUHJvZCwgY3VyclJlc3QsIHByZXZSZXN0KSB7XG4gICAgICAgIC8vIEFCQyhERSkrRiA9PiBhZnRlciB0aGUgKERFKSsgdGhlIHJlc3QgaXMgKERFKT9GXG4gICAgICAgIHZhciBmdWxsQXRMZWFzdE9uZVJlc3QgPSBbXG4gICAgICAgICAgICBuZXcgT3B0aW9uKHsgZGVmaW5pdGlvbjogYXRMZWFzdE9uZVByb2QuZGVmaW5pdGlvbiB9KVxuICAgICAgICBdLmNvbmNhdChjdXJyUmVzdCwgcHJldlJlc3QpO1xuICAgICAgICB0aGlzLndhbGsoYXRMZWFzdE9uZVByb2QsIGZ1bGxBdExlYXN0T25lUmVzdCk7XG4gICAgfTtcbiAgICBSZXN0V2Fsa2VyLnByb3RvdHlwZS53YWxrQXRMZWFzdE9uZVNlcCA9IGZ1bmN0aW9uIChhdExlYXN0T25lU2VwUHJvZCwgY3VyclJlc3QsIHByZXZSZXN0KSB7XG4gICAgICAgIC8vIEFCQyBERSgsREUpKiBGID0+IGFmdGVyIHRoZSAoLERFKSsgdGhlIHJlc3QgaXMgKCxERSk/RlxuICAgICAgICB2YXIgZnVsbEF0TGVhc3RPbmVTZXBSZXN0ID0gcmVzdEZvclJlcGV0aXRpb25XaXRoU2VwYXJhdG9yKGF0TGVhc3RPbmVTZXBQcm9kLCBjdXJyUmVzdCwgcHJldlJlc3QpO1xuICAgICAgICB0aGlzLndhbGsoYXRMZWFzdE9uZVNlcFByb2QsIGZ1bGxBdExlYXN0T25lU2VwUmVzdCk7XG4gICAgfTtcbiAgICBSZXN0V2Fsa2VyLnByb3RvdHlwZS53YWxrTWFueSA9IGZ1bmN0aW9uIChtYW55UHJvZCwgY3VyclJlc3QsIHByZXZSZXN0KSB7XG4gICAgICAgIC8vIEFCQyhERSkqRiA9PiBhZnRlciB0aGUgKERFKSogdGhlIHJlc3QgaXMgKERFKT9GXG4gICAgICAgIHZhciBmdWxsTWFueVJlc3QgPSBbXG4gICAgICAgICAgICBuZXcgT3B0aW9uKHsgZGVmaW5pdGlvbjogbWFueVByb2QuZGVmaW5pdGlvbiB9KVxuICAgICAgICBdLmNvbmNhdChjdXJyUmVzdCwgcHJldlJlc3QpO1xuICAgICAgICB0aGlzLndhbGsobWFueVByb2QsIGZ1bGxNYW55UmVzdCk7XG4gICAgfTtcbiAgICBSZXN0V2Fsa2VyLnByb3RvdHlwZS53YWxrTWFueVNlcCA9IGZ1bmN0aW9uIChtYW55U2VwUHJvZCwgY3VyclJlc3QsIHByZXZSZXN0KSB7XG4gICAgICAgIC8vIEFCQyAoREUoLERFKSopPyBGID0+IGFmdGVyIHRoZSAoLERFKSogdGhlIHJlc3QgaXMgKCxERSk/RlxuICAgICAgICB2YXIgZnVsbE1hbnlTZXBSZXN0ID0gcmVzdEZvclJlcGV0aXRpb25XaXRoU2VwYXJhdG9yKG1hbnlTZXBQcm9kLCBjdXJyUmVzdCwgcHJldlJlc3QpO1xuICAgICAgICB0aGlzLndhbGsobWFueVNlcFByb2QsIGZ1bGxNYW55U2VwUmVzdCk7XG4gICAgfTtcbiAgICBSZXN0V2Fsa2VyLnByb3RvdHlwZS53YWxrT3IgPSBmdW5jdGlvbiAob3JQcm9kLCBjdXJyUmVzdCwgcHJldlJlc3QpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgLy8gQUJDKER8RXxGKUcgPT4gd2hlbiBmaW5kaW5nIHRoZSAoRHxFfEYpIHRoZSByZXN0IGlzIEdcbiAgICAgICAgdmFyIGZ1bGxPclJlc3QgPSBjdXJyUmVzdC5jb25jYXQocHJldlJlc3QpO1xuICAgICAgICAvLyB3YWxrIGFsbCBkaWZmZXJlbnQgYWx0ZXJuYXRpdmVzXG4gICAgICAgIGZvckVhY2gob3JQcm9kLmRlZmluaXRpb24sIGZ1bmN0aW9uIChhbHQpIHtcbiAgICAgICAgICAgIC8vIHdyYXBwaW5nIGVhY2ggYWx0ZXJuYXRpdmUgaW4gYSBzaW5nbGUgZGVmaW5pdGlvbiB3cmFwcGVyXG4gICAgICAgICAgICAvLyB0byBhdm9pZCBlcnJvcnMgaW4gY29tcHV0aW5nIHRoZSByZXN0IG9mIHRoYXQgYWx0ZXJuYXRpdmUgaW4gdGhlIGludm9jYXRpb24gdG8gY29tcHV0ZUluUHJvZEZvbGxvd3NcbiAgICAgICAgICAgIC8vIChvdGhlcndpc2UgZm9yIE9SKFthbHQxLGFsdDJdKSBhbHQyIHdpbGwgYmUgY29uc2lkZXJlZCBpbiAncmVzdCcgb2YgYWx0MVxuICAgICAgICAgICAgdmFyIHByb2RXcmFwcGVyID0gbmV3IEFsdGVybmF0aXZlKHsgZGVmaW5pdGlvbjogW2FsdF0gfSk7XG4gICAgICAgICAgICBfdGhpcy53YWxrKHByb2RXcmFwcGVyLCBmdWxsT3JSZXN0KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gUmVzdFdhbGtlcjtcbn0oKSk7XG5leHBvcnQgeyBSZXN0V2Fsa2VyIH07XG5mdW5jdGlvbiByZXN0Rm9yUmVwZXRpdGlvbldpdGhTZXBhcmF0b3IocmVwU2VwUHJvZCwgY3VyclJlc3QsIHByZXZSZXN0KSB7XG4gICAgdmFyIHJlcFNlcFJlc3QgPSBbXG4gICAgICAgIG5ldyBPcHRpb24oe1xuICAgICAgICAgICAgZGVmaW5pdGlvbjogW25ldyBUZXJtaW5hbCh7IHRlcm1pbmFsVHlwZTogcmVwU2VwUHJvZC5zZXBhcmF0b3IgfSldLmNvbmNhdChyZXBTZXBQcm9kLmRlZmluaXRpb24pXG4gICAgICAgIH0pXG4gICAgXTtcbiAgICB2YXIgZnVsbFJlcFNlcFJlc3QgPSByZXBTZXBSZXN0LmNvbmNhdChjdXJyUmVzdCwgcHJldlJlc3QpO1xuICAgIHJldHVybiBmdWxsUmVwU2VwUmVzdDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlc3QuanMubWFwIiwiaW1wb3J0IHsgQWx0ZXJuYXRpb24sIEFsdGVybmF0aXZlLCBOb25UZXJtaW5hbCwgT3B0aW9uLCBSZXBldGl0aW9uLCBSZXBldGl0aW9uTWFuZGF0b3J5LCBSZXBldGl0aW9uTWFuZGF0b3J5V2l0aFNlcGFyYXRvciwgUmVwZXRpdGlvbldpdGhTZXBhcmF0b3IsIFJ1bGUsIFRlcm1pbmFsIH0gZnJvbSBcIi4vZ2FzdF9wdWJsaWNcIjtcbnZhciBHQXN0VmlzaXRvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBHQXN0VmlzaXRvcigpIHtcbiAgICB9XG4gICAgR0FzdFZpc2l0b3IucHJvdG90eXBlLnZpc2l0ID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgdmFyIG5vZGVBbnkgPSBub2RlO1xuICAgICAgICBzd2l0Y2ggKG5vZGVBbnkuY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgIGNhc2UgTm9uVGVybWluYWw6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlzaXROb25UZXJtaW5hbChub2RlQW55KTtcbiAgICAgICAgICAgIGNhc2UgQWx0ZXJuYXRpdmU6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlzaXRBbHRlcm5hdGl2ZShub2RlQW55KTtcbiAgICAgICAgICAgIGNhc2UgT3B0aW9uOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnZpc2l0T3B0aW9uKG5vZGVBbnkpO1xuICAgICAgICAgICAgY2FzZSBSZXBldGl0aW9uTWFuZGF0b3J5OlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnZpc2l0UmVwZXRpdGlvbk1hbmRhdG9yeShub2RlQW55KTtcbiAgICAgICAgICAgIGNhc2UgUmVwZXRpdGlvbk1hbmRhdG9yeVdpdGhTZXBhcmF0b3I6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlzaXRSZXBldGl0aW9uTWFuZGF0b3J5V2l0aFNlcGFyYXRvcihub2RlQW55KTtcbiAgICAgICAgICAgIGNhc2UgUmVwZXRpdGlvbldpdGhTZXBhcmF0b3I6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlzaXRSZXBldGl0aW9uV2l0aFNlcGFyYXRvcihub2RlQW55KTtcbiAgICAgICAgICAgIGNhc2UgUmVwZXRpdGlvbjpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy52aXNpdFJlcGV0aXRpb24obm9kZUFueSk7XG4gICAgICAgICAgICBjYXNlIEFsdGVybmF0aW9uOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnZpc2l0QWx0ZXJuYXRpb24obm9kZUFueSk7XG4gICAgICAgICAgICBjYXNlIFRlcm1pbmFsOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnZpc2l0VGVybWluYWwobm9kZUFueSk7XG4gICAgICAgICAgICBjYXNlIFJ1bGU6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlzaXRSdWxlKG5vZGVBbnkpO1xuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJub24gZXhoYXVzdGl2ZSBtYXRjaFwiKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgR0FzdFZpc2l0b3IucHJvdG90eXBlLnZpc2l0Tm9uVGVybWluYWwgPSBmdW5jdGlvbiAobm9kZSkgeyB9O1xuICAgIEdBc3RWaXNpdG9yLnByb3RvdHlwZS52aXNpdEFsdGVybmF0aXZlID0gZnVuY3Rpb24gKG5vZGUpIHsgfTtcbiAgICBHQXN0VmlzaXRvci5wcm90b3R5cGUudmlzaXRPcHRpb24gPSBmdW5jdGlvbiAobm9kZSkgeyB9O1xuICAgIEdBc3RWaXNpdG9yLnByb3RvdHlwZS52aXNpdFJlcGV0aXRpb24gPSBmdW5jdGlvbiAobm9kZSkgeyB9O1xuICAgIEdBc3RWaXNpdG9yLnByb3RvdHlwZS52aXNpdFJlcGV0aXRpb25NYW5kYXRvcnkgPSBmdW5jdGlvbiAobm9kZSkgeyB9O1xuICAgIEdBc3RWaXNpdG9yLnByb3RvdHlwZS52aXNpdFJlcGV0aXRpb25NYW5kYXRvcnlXaXRoU2VwYXJhdG9yID0gZnVuY3Rpb24gKG5vZGUpIHsgfTtcbiAgICBHQXN0VmlzaXRvci5wcm90b3R5cGUudmlzaXRSZXBldGl0aW9uV2l0aFNlcGFyYXRvciA9IGZ1bmN0aW9uIChub2RlKSB7IH07XG4gICAgR0FzdFZpc2l0b3IucHJvdG90eXBlLnZpc2l0QWx0ZXJuYXRpb24gPSBmdW5jdGlvbiAobm9kZSkgeyB9O1xuICAgIEdBc3RWaXNpdG9yLnByb3RvdHlwZS52aXNpdFRlcm1pbmFsID0gZnVuY3Rpb24gKG5vZGUpIHsgfTtcbiAgICBHQXN0VmlzaXRvci5wcm90b3R5cGUudmlzaXRSdWxlID0gZnVuY3Rpb24gKG5vZGUpIHsgfTtcbiAgICByZXR1cm4gR0FzdFZpc2l0b3I7XG59KCkpO1xuZXhwb3J0IHsgR0FzdFZpc2l0b3IgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdhc3RfdmlzaXRvcl9wdWJsaWMuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5pbXBvcnQgeyBjb250YWlucywgZXZlcnksIGhhcywgc29tZSB9IGZyb20gXCIuLi8uLi8uLi91dGlscy91dGlsc1wiO1xuaW1wb3J0IHsgQWJzdHJhY3RQcm9kdWN0aW9uLCBBbHRlcm5hdGlvbiwgQWx0ZXJuYXRpdmUsIE5vblRlcm1pbmFsLCBPcHRpb24sIFJlcGV0aXRpb24sIFJlcGV0aXRpb25NYW5kYXRvcnksIFJlcGV0aXRpb25NYW5kYXRvcnlXaXRoU2VwYXJhdG9yLCBSZXBldGl0aW9uV2l0aFNlcGFyYXRvciwgUnVsZSwgVGVybWluYWwgfSBmcm9tIFwiLi9nYXN0X3B1YmxpY1wiO1xuaW1wb3J0IHsgR0FzdFZpc2l0b3IgfSBmcm9tIFwiLi9nYXN0X3Zpc2l0b3JfcHVibGljXCI7XG5leHBvcnQgZnVuY3Rpb24gaXNTZXF1ZW5jZVByb2QocHJvZCkge1xuICAgIHJldHVybiAocHJvZCBpbnN0YW5jZW9mIEFsdGVybmF0aXZlIHx8XG4gICAgICAgIHByb2QgaW5zdGFuY2VvZiBPcHRpb24gfHxcbiAgICAgICAgcHJvZCBpbnN0YW5jZW9mIFJlcGV0aXRpb24gfHxcbiAgICAgICAgcHJvZCBpbnN0YW5jZW9mIFJlcGV0aXRpb25NYW5kYXRvcnkgfHxcbiAgICAgICAgcHJvZCBpbnN0YW5jZW9mIFJlcGV0aXRpb25NYW5kYXRvcnlXaXRoU2VwYXJhdG9yIHx8XG4gICAgICAgIHByb2QgaW5zdGFuY2VvZiBSZXBldGl0aW9uV2l0aFNlcGFyYXRvciB8fFxuICAgICAgICBwcm9kIGluc3RhbmNlb2YgVGVybWluYWwgfHxcbiAgICAgICAgcHJvZCBpbnN0YW5jZW9mIFJ1bGUpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzT3B0aW9uYWxQcm9kKHByb2QsIGFscmVhZHlWaXNpdGVkKSB7XG4gICAgaWYgKGFscmVhZHlWaXNpdGVkID09PSB2b2lkIDApIHsgYWxyZWFkeVZpc2l0ZWQgPSBbXTsgfVxuICAgIHZhciBpc0RpcmVjdGx5T3B0aW9uYWwgPSBwcm9kIGluc3RhbmNlb2YgT3B0aW9uIHx8XG4gICAgICAgIHByb2QgaW5zdGFuY2VvZiBSZXBldGl0aW9uIHx8XG4gICAgICAgIHByb2QgaW5zdGFuY2VvZiBSZXBldGl0aW9uV2l0aFNlcGFyYXRvcjtcbiAgICBpZiAoaXNEaXJlY3RseU9wdGlvbmFsKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvLyBub3RlIHRoYXQgdGhpcyBjYW4gY2F1c2UgaW5maW5pdGUgbG9vcCBpZiBvbmUgb3B0aW9uYWwgZW1wdHkgVE9QIHByb2R1Y3Rpb24gaGFzIGEgY3ljbGljIGRlcGVuZGVuY3kgd2l0aCBhbm90aGVyXG4gICAgLy8gZW1wdHkgb3B0aW9uYWwgdG9wIHJ1bGVcbiAgICAvLyBtYXkgYmUgaW5kaXJlY3RseSBvcHRpb25hbCAoKEE/Qj9DPykgfCAoRD9FP0Y/KSlcbiAgICBpZiAocHJvZCBpbnN0YW5jZW9mIEFsdGVybmF0aW9uKSB7XG4gICAgICAgIC8vIGZvciBPUiBpdHMgZW5vdWdoIGZvciBqdXN0IG9uZSBvZiB0aGUgYWx0ZXJuYXRpdmVzIHRvIGJlIG9wdGlvbmFsXG4gICAgICAgIHJldHVybiBzb21lKHByb2QuZGVmaW5pdGlvbiwgZnVuY3Rpb24gKHN1YlByb2QpIHtcbiAgICAgICAgICAgIHJldHVybiBpc09wdGlvbmFsUHJvZChzdWJQcm9kLCBhbHJlYWR5VmlzaXRlZCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIGlmIChwcm9kIGluc3RhbmNlb2YgTm9uVGVybWluYWwgJiYgY29udGFpbnMoYWxyZWFkeVZpc2l0ZWQsIHByb2QpKSB7XG4gICAgICAgIC8vIGF2b2lkaW5nIHN0YWNrIG92ZXJmbG93IGR1ZSB0byBpbmZpbml0ZSByZWN1cnNpb25cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBlbHNlIGlmIChwcm9kIGluc3RhbmNlb2YgQWJzdHJhY3RQcm9kdWN0aW9uKSB7XG4gICAgICAgIGlmIChwcm9kIGluc3RhbmNlb2YgTm9uVGVybWluYWwpIHtcbiAgICAgICAgICAgIGFscmVhZHlWaXNpdGVkLnB1c2gocHJvZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGV2ZXJ5KHByb2QuZGVmaW5pdGlvbiwgZnVuY3Rpb24gKHN1YlByb2QpIHtcbiAgICAgICAgICAgIHJldHVybiBpc09wdGlvbmFsUHJvZChzdWJQcm9kLCBhbHJlYWR5VmlzaXRlZCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0JyYW5jaGluZ1Byb2QocHJvZCkge1xuICAgIHJldHVybiBwcm9kIGluc3RhbmNlb2YgQWx0ZXJuYXRpb247XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0UHJvZHVjdGlvbkRzbE5hbWUocHJvZCkge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgaWYgKHByb2QgaW5zdGFuY2VvZiBOb25UZXJtaW5hbCkge1xuICAgICAgICByZXR1cm4gXCJTVUJSVUxFXCI7XG4gICAgfVxuICAgIGVsc2UgaWYgKHByb2QgaW5zdGFuY2VvZiBPcHRpb24pIHtcbiAgICAgICAgcmV0dXJuIFwiT1BUSU9OXCI7XG4gICAgfVxuICAgIGVsc2UgaWYgKHByb2QgaW5zdGFuY2VvZiBBbHRlcm5hdGlvbikge1xuICAgICAgICByZXR1cm4gXCJPUlwiO1xuICAgIH1cbiAgICBlbHNlIGlmIChwcm9kIGluc3RhbmNlb2YgUmVwZXRpdGlvbk1hbmRhdG9yeSkge1xuICAgICAgICByZXR1cm4gXCJBVF9MRUFTVF9PTkVcIjtcbiAgICB9XG4gICAgZWxzZSBpZiAocHJvZCBpbnN0YW5jZW9mIFJlcGV0aXRpb25NYW5kYXRvcnlXaXRoU2VwYXJhdG9yKSB7XG4gICAgICAgIHJldHVybiBcIkFUX0xFQVNUX09ORV9TRVBcIjtcbiAgICB9XG4gICAgZWxzZSBpZiAocHJvZCBpbnN0YW5jZW9mIFJlcGV0aXRpb25XaXRoU2VwYXJhdG9yKSB7XG4gICAgICAgIHJldHVybiBcIk1BTllfU0VQXCI7XG4gICAgfVxuICAgIGVsc2UgaWYgKHByb2QgaW5zdGFuY2VvZiBSZXBldGl0aW9uKSB7XG4gICAgICAgIHJldHVybiBcIk1BTllcIjtcbiAgICB9XG4gICAgZWxzZSBpZiAocHJvZCBpbnN0YW5jZW9mIFRlcm1pbmFsKSB7XG4gICAgICAgIHJldHVybiBcIkNPTlNVTUVcIjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IEVycm9yKFwibm9uIGV4aGF1c3RpdmUgbWF0Y2hcIik7XG4gICAgfVxufVxudmFyIERzbE1ldGhvZHNDb2xsZWN0b3JWaXNpdG9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhEc2xNZXRob2RzQ29sbGVjdG9yVmlzaXRvciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBEc2xNZXRob2RzQ29sbGVjdG9yVmlzaXRvcigpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgICAgIC8vIEEgbWludXMgaXMgbmV2ZXIgdmFsaWQgaW4gYW4gaWRlbnRpZmllciBuYW1lXG4gICAgICAgIF90aGlzLnNlcGFyYXRvciA9IFwiLVwiO1xuICAgICAgICBfdGhpcy5kc2xNZXRob2RzID0ge1xuICAgICAgICAgICAgb3B0aW9uOiBbXSxcbiAgICAgICAgICAgIGFsdGVybmF0aW9uOiBbXSxcbiAgICAgICAgICAgIHJlcGV0aXRpb246IFtdLFxuICAgICAgICAgICAgcmVwZXRpdGlvbldpdGhTZXBhcmF0b3I6IFtdLFxuICAgICAgICAgICAgcmVwZXRpdGlvbk1hbmRhdG9yeTogW10sXG4gICAgICAgICAgICByZXBldGl0aW9uTWFuZGF0b3J5V2l0aFNlcGFyYXRvcjogW11cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBEc2xNZXRob2RzQ29sbGVjdG9yVmlzaXRvci5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZHNsTWV0aG9kcyA9IHtcbiAgICAgICAgICAgIG9wdGlvbjogW10sXG4gICAgICAgICAgICBhbHRlcm5hdGlvbjogW10sXG4gICAgICAgICAgICByZXBldGl0aW9uOiBbXSxcbiAgICAgICAgICAgIHJlcGV0aXRpb25XaXRoU2VwYXJhdG9yOiBbXSxcbiAgICAgICAgICAgIHJlcGV0aXRpb25NYW5kYXRvcnk6IFtdLFxuICAgICAgICAgICAgcmVwZXRpdGlvbk1hbmRhdG9yeVdpdGhTZXBhcmF0b3I6IFtdXG4gICAgICAgIH07XG4gICAgfTtcbiAgICBEc2xNZXRob2RzQ29sbGVjdG9yVmlzaXRvci5wcm90b3R5cGUudmlzaXRUZXJtaW5hbCA9IGZ1bmN0aW9uICh0ZXJtaW5hbCkge1xuICAgICAgICB2YXIga2V5ID0gdGVybWluYWwudGVybWluYWxUeXBlLm5hbWUgKyB0aGlzLnNlcGFyYXRvciArIFwiVGVybWluYWxcIjtcbiAgICAgICAgaWYgKCFoYXModGhpcy5kc2xNZXRob2RzLCBrZXkpKSB7XG4gICAgICAgICAgICB0aGlzLmRzbE1ldGhvZHNba2V5XSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZHNsTWV0aG9kc1trZXldLnB1c2godGVybWluYWwpO1xuICAgIH07XG4gICAgRHNsTWV0aG9kc0NvbGxlY3RvclZpc2l0b3IucHJvdG90eXBlLnZpc2l0Tm9uVGVybWluYWwgPSBmdW5jdGlvbiAoc3VicnVsZSkge1xuICAgICAgICB2YXIga2V5ID0gc3VicnVsZS5ub25UZXJtaW5hbE5hbWUgKyB0aGlzLnNlcGFyYXRvciArIFwiVGVybWluYWxcIjtcbiAgICAgICAgaWYgKCFoYXModGhpcy5kc2xNZXRob2RzLCBrZXkpKSB7XG4gICAgICAgICAgICB0aGlzLmRzbE1ldGhvZHNba2V5XSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZHNsTWV0aG9kc1trZXldLnB1c2goc3VicnVsZSk7XG4gICAgfTtcbiAgICBEc2xNZXRob2RzQ29sbGVjdG9yVmlzaXRvci5wcm90b3R5cGUudmlzaXRPcHRpb24gPSBmdW5jdGlvbiAob3B0aW9uKSB7XG4gICAgICAgIHRoaXMuZHNsTWV0aG9kcy5vcHRpb24ucHVzaChvcHRpb24pO1xuICAgIH07XG4gICAgRHNsTWV0aG9kc0NvbGxlY3RvclZpc2l0b3IucHJvdG90eXBlLnZpc2l0UmVwZXRpdGlvbldpdGhTZXBhcmF0b3IgPSBmdW5jdGlvbiAobWFueVNlcCkge1xuICAgICAgICB0aGlzLmRzbE1ldGhvZHMucmVwZXRpdGlvbldpdGhTZXBhcmF0b3IucHVzaChtYW55U2VwKTtcbiAgICB9O1xuICAgIERzbE1ldGhvZHNDb2xsZWN0b3JWaXNpdG9yLnByb3RvdHlwZS52aXNpdFJlcGV0aXRpb25NYW5kYXRvcnkgPSBmdW5jdGlvbiAoYXRMZWFzdE9uZSkge1xuICAgICAgICB0aGlzLmRzbE1ldGhvZHMucmVwZXRpdGlvbk1hbmRhdG9yeS5wdXNoKGF0TGVhc3RPbmUpO1xuICAgIH07XG4gICAgRHNsTWV0aG9kc0NvbGxlY3RvclZpc2l0b3IucHJvdG90eXBlLnZpc2l0UmVwZXRpdGlvbk1hbmRhdG9yeVdpdGhTZXBhcmF0b3IgPSBmdW5jdGlvbiAoYXRMZWFzdE9uZVNlcCkge1xuICAgICAgICB0aGlzLmRzbE1ldGhvZHMucmVwZXRpdGlvbk1hbmRhdG9yeVdpdGhTZXBhcmF0b3IucHVzaChhdExlYXN0T25lU2VwKTtcbiAgICB9O1xuICAgIERzbE1ldGhvZHNDb2xsZWN0b3JWaXNpdG9yLnByb3RvdHlwZS52aXNpdFJlcGV0aXRpb24gPSBmdW5jdGlvbiAobWFueSkge1xuICAgICAgICB0aGlzLmRzbE1ldGhvZHMucmVwZXRpdGlvbi5wdXNoKG1hbnkpO1xuICAgIH07XG4gICAgRHNsTWV0aG9kc0NvbGxlY3RvclZpc2l0b3IucHJvdG90eXBlLnZpc2l0QWx0ZXJuYXRpb24gPSBmdW5jdGlvbiAob3IpIHtcbiAgICAgICAgdGhpcy5kc2xNZXRob2RzLmFsdGVybmF0aW9uLnB1c2gob3IpO1xuICAgIH07XG4gICAgcmV0dXJuIERzbE1ldGhvZHNDb2xsZWN0b3JWaXNpdG9yO1xufShHQXN0VmlzaXRvcikpO1xuZXhwb3J0IHsgRHNsTWV0aG9kc0NvbGxlY3RvclZpc2l0b3IgfTtcbnZhciBjb2xsZWN0b3JWaXNpdG9yID0gbmV3IERzbE1ldGhvZHNDb2xsZWN0b3JWaXNpdG9yKCk7XG5leHBvcnQgZnVuY3Rpb24gY29sbGVjdE1ldGhvZHMocnVsZSkge1xuICAgIGNvbGxlY3RvclZpc2l0b3IucmVzZXQoKTtcbiAgICBydWxlLmFjY2VwdChjb2xsZWN0b3JWaXNpdG9yKTtcbiAgICB2YXIgZHNsTWV0aG9kcyA9IGNvbGxlY3RvclZpc2l0b3IuZHNsTWV0aG9kcztcbiAgICAvLyBhdm9pZCB1bmNsZWFuZWQgcmVmZXJlbmNlc1xuICAgIGNvbGxlY3RvclZpc2l0b3IucmVzZXQoKTtcbiAgICByZXR1cm4gZHNsTWV0aG9kcztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdhc3QuanMubWFwIiwiaW1wb3J0IHsgdW5pcSwgbWFwLCBmbGF0dGVuIH0gZnJvbSBcIi4uLy4uL3V0aWxzL3V0aWxzXCI7XG5pbXBvcnQgeyBOb25UZXJtaW5hbCwgVGVybWluYWwgfSBmcm9tIFwiLi9nYXN0L2dhc3RfcHVibGljXCI7XG5pbXBvcnQgeyBpc0JyYW5jaGluZ1Byb2QsIGlzT3B0aW9uYWxQcm9kLCBpc1NlcXVlbmNlUHJvZCB9IGZyb20gXCIuL2dhc3QvZ2FzdFwiO1xuZXhwb3J0IGZ1bmN0aW9uIGZpcnN0KHByb2QpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgIGlmIChwcm9kIGluc3RhbmNlb2YgTm9uVGVybWluYWwpIHtcbiAgICAgICAgLy8gdGhpcyBjb3VsZCBpbiB0aGVvcnkgY2F1c2UgaW5maW5pdGUgbG9vcHMgaWZcbiAgICAgICAgLy8gKDEpIHByb2QgQSByZWZzIHByb2QgQi5cbiAgICAgICAgLy8gKDIpIHByb2QgQiByZWZzIHByb2QgQVxuICAgICAgICAvLyAoMykgQUIgY2FuIG1hdGNoIHRoZSBlbXB0eSBzZXRcbiAgICAgICAgLy8gaW4gb3RoZXIgd29yZHMgYSBjeWNsZSB3aGVyZSBldmVyeXRoaW5nIGlzIG9wdGlvbmFsIHNvIHRoZSBmaXJzdCB3aWxsIGtlZXBcbiAgICAgICAgLy8gbG9va2luZyBhaGVhZCBmb3IgdGhlIG5leHQgb3B0aW9uYWwgcGFydCBhbmQgd2lsbCBuZXZlciBleGl0XG4gICAgICAgIC8vIGN1cnJlbnRseSB0aGVyZSBpcyBubyBzYWZlZ3VhcmQgZm9yIHRoaXMgdW5pcXVlIGVkZ2UgY2FzZSBiZWNhdXNlXG4gICAgICAgIC8vICgxKSBub3Qgc3VyZSBhIGdyYW1tYXIgaW4gd2hpY2ggdGhpcyBjYW4gaGFwcGVuIGlzIHVzZWZ1bCBmb3IgYW55dGhpbmcgKHByb2R1Y3RpdmUpXG4gICAgICAgIHJldHVybiBmaXJzdChwcm9kLnJlZmVyZW5jZWRSdWxlKTtcbiAgICB9XG4gICAgZWxzZSBpZiAocHJvZCBpbnN0YW5jZW9mIFRlcm1pbmFsKSB7XG4gICAgICAgIHJldHVybiBmaXJzdEZvclRlcm1pbmFsKHByb2QpO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc1NlcXVlbmNlUHJvZChwcm9kKSkge1xuICAgICAgICByZXR1cm4gZmlyc3RGb3JTZXF1ZW5jZShwcm9kKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNCcmFuY2hpbmdQcm9kKHByb2QpKSB7XG4gICAgICAgIHJldHVybiBmaXJzdEZvckJyYW5jaGluZyhwcm9kKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IEVycm9yKFwibm9uIGV4aGF1c3RpdmUgbWF0Y2hcIik7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGZpcnN0Rm9yU2VxdWVuY2UocHJvZCkge1xuICAgIHZhciBmaXJzdFNldCA9IFtdO1xuICAgIHZhciBzZXEgPSBwcm9kLmRlZmluaXRpb247XG4gICAgdmFyIG5leHRTdWJQcm9kSWR4ID0gMDtcbiAgICB2YXIgaGFzSW5uZXJQcm9kc1JlbWFpbmluZyA9IHNlcS5sZW5ndGggPiBuZXh0U3ViUHJvZElkeDtcbiAgICB2YXIgY3VyclN1YlByb2Q7XG4gICAgLy8gc28gd2UgZW50ZXIgdGhlIGxvb3AgYXQgbGVhc3Qgb25jZSAoaWYgdGhlIGRlZmluaXRpb24gaXMgbm90IGVtcHR5XG4gICAgdmFyIGlzTGFzdElubmVyUHJvZE9wdGlvbmFsID0gdHJ1ZTtcbiAgICAvLyBzY2FuIGEgc2VxdWVuY2UgdW50aWwgaXQncyBlbmQgb3IgdW50aWwgd2UgaGF2ZSBmb3VuZCBhIE5PTkUgb3B0aW9uYWwgcHJvZHVjdGlvbiBpbiBpdFxuICAgIHdoaWxlIChoYXNJbm5lclByb2RzUmVtYWluaW5nICYmIGlzTGFzdElubmVyUHJvZE9wdGlvbmFsKSB7XG4gICAgICAgIGN1cnJTdWJQcm9kID0gc2VxW25leHRTdWJQcm9kSWR4XTtcbiAgICAgICAgaXNMYXN0SW5uZXJQcm9kT3B0aW9uYWwgPSBpc09wdGlvbmFsUHJvZChjdXJyU3ViUHJvZCk7XG4gICAgICAgIGZpcnN0U2V0ID0gZmlyc3RTZXQuY29uY2F0KGZpcnN0KGN1cnJTdWJQcm9kKSk7XG4gICAgICAgIG5leHRTdWJQcm9kSWR4ID0gbmV4dFN1YlByb2RJZHggKyAxO1xuICAgICAgICBoYXNJbm5lclByb2RzUmVtYWluaW5nID0gc2VxLmxlbmd0aCA+IG5leHRTdWJQcm9kSWR4O1xuICAgIH1cbiAgICByZXR1cm4gdW5pcShmaXJzdFNldCk7XG59XG5leHBvcnQgZnVuY3Rpb24gZmlyc3RGb3JCcmFuY2hpbmcocHJvZCkge1xuICAgIHZhciBhbGxBbHRlcm5hdGl2ZXNGaXJzdHMgPSBtYXAocHJvZC5kZWZpbml0aW9uLCBmdW5jdGlvbiAoaW5uZXJQcm9kKSB7XG4gICAgICAgIHJldHVybiBmaXJzdChpbm5lclByb2QpO1xuICAgIH0pO1xuICAgIHJldHVybiB1bmlxKGZsYXR0ZW4oYWxsQWx0ZXJuYXRpdmVzRmlyc3RzKSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZmlyc3RGb3JUZXJtaW5hbCh0ZXJtaW5hbCkge1xuICAgIHJldHVybiBbdGVybWluYWwudGVybWluYWxUeXBlXTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpcnN0LmpzLm1hcCIsIi8vIFRPRE86IGNhbiB0aGlzIGJlIHJlbW92ZWQ/IHdoZXJlIGlzIGl0IHVzZWQ/XG5leHBvcnQgdmFyIElOID0gXCJffklOfl9cIjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnN0YW50cy5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbmltcG9ydCB7IFJlc3RXYWxrZXIgfSBmcm9tIFwiLi9yZXN0XCI7XG5pbXBvcnQgeyBmaXJzdCB9IGZyb20gXCIuL2ZpcnN0XCI7XG5pbXBvcnQgeyBhc3NpZ24sIGZvckVhY2ggfSBmcm9tIFwiLi4vLi4vdXRpbHMvdXRpbHNcIjtcbmltcG9ydCB7IElOIH0gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgQWx0ZXJuYXRpdmUgfSBmcm9tIFwiLi9nYXN0L2dhc3RfcHVibGljXCI7XG4vLyBUaGlzIFJlc3luY0ZvbGxvd3NXYWxrZXIgY29tcHV0ZXMgYWxsIG9mIHRoZSBmb2xsb3dzIHJlcXVpcmVkIGZvciBSRVNZTkNcbi8vIChza2lwcGluZyByZWZlcmVuY2UgcHJvZHVjdGlvbikuXG52YXIgUmVzeW5jRm9sbG93c1dhbGtlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUmVzeW5jRm9sbG93c1dhbGtlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBSZXN5bmNGb2xsb3dzV2Fsa2VyKHRvcFByb2QpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMudG9wUHJvZCA9IHRvcFByb2Q7XG4gICAgICAgIF90aGlzLmZvbGxvd3MgPSB7fTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBSZXN5bmNGb2xsb3dzV2Fsa2VyLnByb3RvdHlwZS5zdGFydFdhbGtpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMud2Fsayh0aGlzLnRvcFByb2QpO1xuICAgICAgICByZXR1cm4gdGhpcy5mb2xsb3dzO1xuICAgIH07XG4gICAgUmVzeW5jRm9sbG93c1dhbGtlci5wcm90b3R5cGUud2Fsa1Rlcm1pbmFsID0gZnVuY3Rpb24gKHRlcm1pbmFsLCBjdXJyUmVzdCwgcHJldlJlc3QpIHtcbiAgICAgICAgLy8gZG8gbm90aGluZyEganVzdCBsaWtlIGluIHRoZSBwdWJsaWMgc2VjdG9yIGFmdGVyIDEzOjAwXG4gICAgfTtcbiAgICBSZXN5bmNGb2xsb3dzV2Fsa2VyLnByb3RvdHlwZS53YWxrUHJvZFJlZiA9IGZ1bmN0aW9uIChyZWZQcm9kLCBjdXJyUmVzdCwgcHJldlJlc3QpIHtcbiAgICAgICAgdmFyIGZvbGxvd05hbWUgPSBidWlsZEJldHdlZW5Qcm9kc0ZvbGxvd1ByZWZpeChyZWZQcm9kLnJlZmVyZW5jZWRSdWxlLCByZWZQcm9kLmlkeCkgK1xuICAgICAgICAgICAgdGhpcy50b3BQcm9kLm5hbWU7XG4gICAgICAgIHZhciBmdWxsUmVzdCA9IGN1cnJSZXN0LmNvbmNhdChwcmV2UmVzdCk7XG4gICAgICAgIHZhciByZXN0UHJvZCA9IG5ldyBBbHRlcm5hdGl2ZSh7IGRlZmluaXRpb246IGZ1bGxSZXN0IH0pO1xuICAgICAgICB2YXIgdF9pbl90b3BQcm9kX2ZvbGxvd3MgPSBmaXJzdChyZXN0UHJvZCk7XG4gICAgICAgIHRoaXMuZm9sbG93c1tmb2xsb3dOYW1lXSA9IHRfaW5fdG9wUHJvZF9mb2xsb3dzO1xuICAgIH07XG4gICAgcmV0dXJuIFJlc3luY0ZvbGxvd3NXYWxrZXI7XG59KFJlc3RXYWxrZXIpKTtcbmV4cG9ydCB7IFJlc3luY0ZvbGxvd3NXYWxrZXIgfTtcbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlQWxsUHJvZHNGb2xsb3dzKHRvcFByb2R1Y3Rpb25zKSB7XG4gICAgdmFyIHJlU3luY0ZvbGxvd3MgPSB7fTtcbiAgICBmb3JFYWNoKHRvcFByb2R1Y3Rpb25zLCBmdW5jdGlvbiAodG9wUHJvZCkge1xuICAgICAgICB2YXIgY3VyclJlZnNGb2xsb3cgPSBuZXcgUmVzeW5jRm9sbG93c1dhbGtlcih0b3BQcm9kKS5zdGFydFdhbGtpbmcoKTtcbiAgICAgICAgYXNzaWduKHJlU3luY0ZvbGxvd3MsIGN1cnJSZWZzRm9sbG93KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVTeW5jRm9sbG93cztcbn1cbmV4cG9ydCBmdW5jdGlvbiBidWlsZEJldHdlZW5Qcm9kc0ZvbGxvd1ByZWZpeChpbm5lciwgb2NjdXJlbmNlSW5QYXJlbnQpIHtcbiAgICByZXR1cm4gaW5uZXIubmFtZSArIG9jY3VyZW5jZUluUGFyZW50ICsgSU47XG59XG5leHBvcnQgZnVuY3Rpb24gYnVpbGRJblByb2RGb2xsb3dQcmVmaXgodGVybWluYWwpIHtcbiAgICB2YXIgdGVybWluYWxOYW1lID0gdGVybWluYWwudGVybWluYWxUeXBlLm5hbWU7XG4gICAgcmV0dXJuIHRlcm1pbmFsTmFtZSArIHRlcm1pbmFsLmlkeCArIElOO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Zm9sbG93LmpzLm1hcCIsImltcG9ydCB7IGhhc1Rva2VuTGFiZWwsIHRva2VuTGFiZWwgfSBmcm9tIFwiLi4vc2Nhbi90b2tlbnNfcHVibGljXCI7XG5pbXBvcnQgKiBhcyB1dGlscyBmcm9tIFwiLi4vdXRpbHMvdXRpbHNcIjtcbmltcG9ydCB7IGZpcnN0LCBtYXAsIHJlZHVjZSB9IGZyb20gXCIuLi91dGlscy91dGlsc1wiO1xuaW1wb3J0IHsgTm9uVGVybWluYWwsIFJ1bGUsIFRlcm1pbmFsIH0gZnJvbSBcIi4vZ3JhbW1hci9nYXN0L2dhc3RfcHVibGljXCI7XG5pbXBvcnQgeyBnZXRQcm9kdWN0aW9uRHNsTmFtZSB9IGZyb20gXCIuL2dyYW1tYXIvZ2FzdC9nYXN0XCI7XG5leHBvcnQgdmFyIGRlZmF1bHRQYXJzZXJFcnJvclByb3ZpZGVyID0ge1xuICAgIGJ1aWxkTWlzbWF0Y2hUb2tlbk1lc3NhZ2U6IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgZXhwZWN0ZWQgPSBfYS5leHBlY3RlZCwgYWN0dWFsID0gX2EuYWN0dWFsLCBwcmV2aW91cyA9IF9hLnByZXZpb3VzLCBydWxlTmFtZSA9IF9hLnJ1bGVOYW1lO1xuICAgICAgICB2YXIgaGFzTGFiZWwgPSBoYXNUb2tlbkxhYmVsKGV4cGVjdGVkKTtcbiAgICAgICAgdmFyIGV4cGVjdGVkTXNnID0gaGFzTGFiZWxcbiAgICAgICAgICAgID8gXCItLT4gXCIgKyB0b2tlbkxhYmVsKGV4cGVjdGVkKSArIFwiIDwtLVwiXG4gICAgICAgICAgICA6IFwidG9rZW4gb2YgdHlwZSAtLT4gXCIgKyBleHBlY3RlZC5uYW1lICsgXCIgPC0tXCI7XG4gICAgICAgIHZhciBtc2cgPSBcIkV4cGVjdGluZyBcIiArIGV4cGVjdGVkTXNnICsgXCIgYnV0IGZvdW5kIC0tPiAnXCIgKyBhY3R1YWwuaW1hZ2UgKyBcIicgPC0tXCI7XG4gICAgICAgIHJldHVybiBtc2c7XG4gICAgfSxcbiAgICBidWlsZE5vdEFsbElucHV0UGFyc2VkTWVzc2FnZTogZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciBmaXJzdFJlZHVuZGFudCA9IF9hLmZpcnN0UmVkdW5kYW50LCBydWxlTmFtZSA9IF9hLnJ1bGVOYW1lO1xuICAgICAgICByZXR1cm4gXCJSZWR1bmRhbnQgaW5wdXQsIGV4cGVjdGluZyBFT0YgYnV0IGZvdW5kOiBcIiArIGZpcnN0UmVkdW5kYW50LmltYWdlO1xuICAgIH0sXG4gICAgYnVpbGROb1ZpYWJsZUFsdE1lc3NhZ2U6IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgZXhwZWN0ZWRQYXRoc1BlckFsdCA9IF9hLmV4cGVjdGVkUGF0aHNQZXJBbHQsIGFjdHVhbCA9IF9hLmFjdHVhbCwgcHJldmlvdXMgPSBfYS5wcmV2aW91cywgY3VzdG9tVXNlckRlc2NyaXB0aW9uID0gX2EuY3VzdG9tVXNlckRlc2NyaXB0aW9uLCBydWxlTmFtZSA9IF9hLnJ1bGVOYW1lO1xuICAgICAgICB2YXIgZXJyUHJlZml4ID0gXCJFeHBlY3Rpbmc6IFwiO1xuICAgICAgICAvLyBUT0RPOiBpc3N1ZTogTm8gVmlhYmxlIEFsdGVybmF0aXZlIEVycm9yIG1heSBoYXZlIGluY29tcGxldGUgZGV0YWlscy4gIzUwMlxuICAgICAgICB2YXIgYWN0dWFsVGV4dCA9IGZpcnN0KGFjdHVhbCkuaW1hZ2U7XG4gICAgICAgIHZhciBlcnJTdWZmaXggPSBcIlxcbmJ1dCBmb3VuZDogJ1wiICsgYWN0dWFsVGV4dCArIFwiJ1wiO1xuICAgICAgICBpZiAoY3VzdG9tVXNlckRlc2NyaXB0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gZXJyUHJlZml4ICsgY3VzdG9tVXNlckRlc2NyaXB0aW9uICsgZXJyU3VmZml4O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIGFsbExvb2tBaGVhZFBhdGhzID0gcmVkdWNlKGV4cGVjdGVkUGF0aHNQZXJBbHQsIGZ1bmN0aW9uIChyZXN1bHQsIGN1cnJBbHRQYXRocykgeyByZXR1cm4gcmVzdWx0LmNvbmNhdChjdXJyQWx0UGF0aHMpOyB9LCBbXSk7XG4gICAgICAgICAgICB2YXIgbmV4dFZhbGlkVG9rZW5TZXF1ZW5jZXMgPSBtYXAoYWxsTG9va0FoZWFkUGF0aHMsIGZ1bmN0aW9uIChjdXJyUGF0aCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBcIltcIiArIG1hcChjdXJyUGF0aCwgZnVuY3Rpb24gKGN1cnJUb2tlblR5cGUpIHsgcmV0dXJuIHRva2VuTGFiZWwoY3VyclRva2VuVHlwZSk7IH0pLmpvaW4oXCIsIFwiKSArIFwiXVwiO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgbmV4dFZhbGlkU2VxdWVuY2VJdGVtcyA9IG1hcChuZXh0VmFsaWRUb2tlblNlcXVlbmNlcywgZnVuY3Rpb24gKGl0ZW1Nc2csIGlkeCkgeyByZXR1cm4gXCIgIFwiICsgKGlkeCArIDEpICsgXCIuIFwiICsgaXRlbU1zZzsgfSk7XG4gICAgICAgICAgICB2YXIgY2FsY3VsYXRlZERlc2NyaXB0aW9uID0gXCJvbmUgb2YgdGhlc2UgcG9zc2libGUgVG9rZW4gc2VxdWVuY2VzOlxcblwiICsgbmV4dFZhbGlkU2VxdWVuY2VJdGVtcy5qb2luKFwiXFxuXCIpO1xuICAgICAgICAgICAgcmV0dXJuIGVyclByZWZpeCArIGNhbGN1bGF0ZWREZXNjcmlwdGlvbiArIGVyclN1ZmZpeDtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgYnVpbGRFYXJseUV4aXRNZXNzYWdlOiBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIGV4cGVjdGVkSXRlcmF0aW9uUGF0aHMgPSBfYS5leHBlY3RlZEl0ZXJhdGlvblBhdGhzLCBhY3R1YWwgPSBfYS5hY3R1YWwsIGN1c3RvbVVzZXJEZXNjcmlwdGlvbiA9IF9hLmN1c3RvbVVzZXJEZXNjcmlwdGlvbiwgcnVsZU5hbWUgPSBfYS5ydWxlTmFtZTtcbiAgICAgICAgdmFyIGVyclByZWZpeCA9IFwiRXhwZWN0aW5nOiBcIjtcbiAgICAgICAgLy8gVE9ETzogaXNzdWU6IE5vIFZpYWJsZSBBbHRlcm5hdGl2ZSBFcnJvciBtYXkgaGF2ZSBpbmNvbXBsZXRlIGRldGFpbHMuICM1MDJcbiAgICAgICAgdmFyIGFjdHVhbFRleHQgPSBmaXJzdChhY3R1YWwpLmltYWdlO1xuICAgICAgICB2YXIgZXJyU3VmZml4ID0gXCJcXG5idXQgZm91bmQ6ICdcIiArIGFjdHVhbFRleHQgKyBcIidcIjtcbiAgICAgICAgaWYgKGN1c3RvbVVzZXJEZXNjcmlwdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuIGVyclByZWZpeCArIGN1c3RvbVVzZXJEZXNjcmlwdGlvbiArIGVyclN1ZmZpeDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBuZXh0VmFsaWRUb2tlblNlcXVlbmNlcyA9IG1hcChleHBlY3RlZEl0ZXJhdGlvblBhdGhzLCBmdW5jdGlvbiAoY3VyclBhdGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJbXCIgKyBtYXAoY3VyclBhdGgsIGZ1bmN0aW9uIChjdXJyVG9rZW5UeXBlKSB7IHJldHVybiB0b2tlbkxhYmVsKGN1cnJUb2tlblR5cGUpOyB9KS5qb2luKFwiLFwiKSArIFwiXVwiO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgY2FsY3VsYXRlZERlc2NyaXB0aW9uID0gXCJleHBlY3RpbmcgYXQgbGVhc3Qgb25lIGl0ZXJhdGlvbiB3aGljaCBzdGFydHMgd2l0aCBvbmUgb2YgdGhlc2UgcG9zc2libGUgVG9rZW4gc2VxdWVuY2VzOjpcXG4gIFwiICtcbiAgICAgICAgICAgICAgICAoXCI8XCIgKyBuZXh0VmFsaWRUb2tlblNlcXVlbmNlcy5qb2luKFwiICxcIikgKyBcIj5cIik7XG4gICAgICAgICAgICByZXR1cm4gZXJyUHJlZml4ICsgY2FsY3VsYXRlZERlc2NyaXB0aW9uICsgZXJyU3VmZml4O1xuICAgICAgICB9XG4gICAgfVxufTtcbk9iamVjdC5mcmVlemUoZGVmYXVsdFBhcnNlckVycm9yUHJvdmlkZXIpO1xuZXhwb3J0IHZhciBkZWZhdWx0R3JhbW1hclJlc29sdmVyRXJyb3JQcm92aWRlciA9IHtcbiAgICBidWlsZFJ1bGVOb3RGb3VuZEVycm9yOiBmdW5jdGlvbiAodG9wTGV2ZWxSdWxlLCB1bmRlZmluZWRSdWxlKSB7XG4gICAgICAgIHZhciBtc2cgPSBcIkludmFsaWQgZ3JhbW1hciwgcmVmZXJlbmNlIHRvIGEgcnVsZSB3aGljaCBpcyBub3QgZGVmaW5lZDogLT5cIiArXG4gICAgICAgICAgICB1bmRlZmluZWRSdWxlLm5vblRlcm1pbmFsTmFtZSArXG4gICAgICAgICAgICBcIjwtXFxuXCIgK1xuICAgICAgICAgICAgXCJpbnNpZGUgdG9wIGxldmVsIHJ1bGU6IC0+XCIgK1xuICAgICAgICAgICAgdG9wTGV2ZWxSdWxlLm5hbWUgK1xuICAgICAgICAgICAgXCI8LVwiO1xuICAgICAgICByZXR1cm4gbXNnO1xuICAgIH1cbn07XG5leHBvcnQgdmFyIGRlZmF1bHRHcmFtbWFyVmFsaWRhdG9yRXJyb3JQcm92aWRlciA9IHtcbiAgICBidWlsZER1cGxpY2F0ZUZvdW5kRXJyb3I6IGZ1bmN0aW9uICh0b3BMZXZlbFJ1bGUsIGR1cGxpY2F0ZVByb2RzKSB7XG4gICAgICAgIGZ1bmN0aW9uIGdldEV4dHJhUHJvZHVjdGlvbkFyZ3VtZW50KHByb2QpIHtcbiAgICAgICAgICAgIGlmIChwcm9kIGluc3RhbmNlb2YgVGVybWluYWwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvZC50ZXJtaW5hbFR5cGUubmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHByb2QgaW5zdGFuY2VvZiBOb25UZXJtaW5hbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwcm9kLm5vblRlcm1pbmFsTmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciB0b3BMZXZlbE5hbWUgPSB0b3BMZXZlbFJ1bGUubmFtZTtcbiAgICAgICAgdmFyIGR1cGxpY2F0ZVByb2QgPSBmaXJzdChkdXBsaWNhdGVQcm9kcyk7XG4gICAgICAgIHZhciBpbmRleCA9IGR1cGxpY2F0ZVByb2QuaWR4O1xuICAgICAgICB2YXIgZHNsTmFtZSA9IGdldFByb2R1Y3Rpb25Ec2xOYW1lKGR1cGxpY2F0ZVByb2QpO1xuICAgICAgICB2YXIgZXh0cmFBcmd1bWVudCA9IGdldEV4dHJhUHJvZHVjdGlvbkFyZ3VtZW50KGR1cGxpY2F0ZVByb2QpO1xuICAgICAgICB2YXIgaGFzRXhwbGljaXRJbmRleCA9IGluZGV4ID4gMDtcbiAgICAgICAgdmFyIG1zZyA9IFwiLT5cIiArIGRzbE5hbWUgKyAoaGFzRXhwbGljaXRJbmRleCA/IGluZGV4IDogXCJcIikgKyBcIjwtIFwiICsgKGV4dHJhQXJndW1lbnQgPyBcIndpdGggYXJndW1lbnQ6IC0+XCIgKyBleHRyYUFyZ3VtZW50ICsgXCI8LVwiIDogXCJcIikgKyBcIlxcbiAgICAgICAgICAgICAgICAgIGFwcGVhcnMgbW9yZSB0aGFuIG9uY2UgKFwiICsgZHVwbGljYXRlUHJvZHMubGVuZ3RoICsgXCIgdGltZXMpIGluIHRoZSB0b3AgbGV2ZWwgcnVsZTogLT5cIiArIHRvcExldmVsTmFtZSArIFwiPC0uICAgICAgICAgICAgICAgICAgXFxuICAgICAgICAgICAgICAgICAgRm9yIGZ1cnRoZXIgZGV0YWlscyBzZWU6IGh0dHBzOi8vc2FwLmdpdGh1Yi5pby9jaGV2cm90YWluL2RvY3MvRkFRLmh0bWwjTlVNRVJJQ0FMX1NVRkZJWEVTIFxcbiAgICAgICAgICAgICAgICAgIFwiO1xuICAgICAgICAvLyB3aGl0ZSBzcGFjZSB0cmltbWluZyB0aW1lISBiZXR0ZXIgdG8gdHJpbSBhZnRlcndhcmRzIGFzIGl0IGFsbG93cyB0byB1c2UgV0VMTCBmb3JtYXR0ZWQgbXVsdGkgbGluZSB0ZW1wbGF0ZSBzdHJpbmdzLi4uXG4gICAgICAgIG1zZyA9IG1zZy5yZXBsYWNlKC9bIFxcdF0rL2csIFwiIFwiKTtcbiAgICAgICAgbXNnID0gbXNnLnJlcGxhY2UoL1xcc1xccysvZywgXCJcXG5cIik7XG4gICAgICAgIHJldHVybiBtc2c7XG4gICAgfSxcbiAgICBidWlsZE5hbWVzcGFjZUNvbmZsaWN0RXJyb3I6IGZ1bmN0aW9uIChydWxlKSB7XG4gICAgICAgIHZhciBlcnJNc2cgPSBcIk5hbWVzcGFjZSBjb25mbGljdCBmb3VuZCBpbiBncmFtbWFyLlxcblwiICtcbiAgICAgICAgICAgIChcIlRoZSBncmFtbWFyIGhhcyBib3RoIGEgVGVybWluYWwoVG9rZW4pIGFuZCBhIE5vbi1UZXJtaW5hbChSdWxlKSBuYW1lZDogPFwiICsgcnVsZS5uYW1lICsgXCI+LlxcblwiKSArXG4gICAgICAgICAgICBcIlRvIHJlc29sdmUgdGhpcyBtYWtlIHN1cmUgZWFjaCBUZXJtaW5hbCBhbmQgTm9uLVRlcm1pbmFsIG5hbWVzIGFyZSB1bmlxdWVcXG5cIiArXG4gICAgICAgICAgICBcIlRoaXMgaXMgZWFzeSB0byBhY2NvbXBsaXNoIGJ5IHVzaW5nIHRoZSBjb252ZW50aW9uIHRoYXQgVGVybWluYWwgbmFtZXMgc3RhcnQgd2l0aCBhbiB1cHBlcmNhc2UgbGV0dGVyXFxuXCIgK1xuICAgICAgICAgICAgXCJhbmQgTm9uLVRlcm1pbmFsIG5hbWVzIHN0YXJ0IHdpdGggYSBsb3dlciBjYXNlIGxldHRlci5cIjtcbiAgICAgICAgcmV0dXJuIGVyck1zZztcbiAgICB9LFxuICAgIGJ1aWxkQWx0ZXJuYXRpb25QcmVmaXhBbWJpZ3VpdHlFcnJvcjogZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIHBhdGhNc2cgPSBtYXAob3B0aW9ucy5wcmVmaXhQYXRoLCBmdW5jdGlvbiAoY3VyclRvaykge1xuICAgICAgICAgICAgcmV0dXJuIHRva2VuTGFiZWwoY3VyclRvayk7XG4gICAgICAgIH0pLmpvaW4oXCIsIFwiKTtcbiAgICAgICAgdmFyIG9jY3VycmVuY2UgPSBvcHRpb25zLmFsdGVybmF0aW9uLmlkeCA9PT0gMCA/IFwiXCIgOiBvcHRpb25zLmFsdGVybmF0aW9uLmlkeDtcbiAgICAgICAgdmFyIGVyck1zZyA9IFwiQW1iaWd1b3VzIGFsdGVybmF0aXZlczogPFwiICsgb3B0aW9ucy5hbWJpZ3VpdHlJbmRpY2VzLmpvaW4oXCIgLFwiKSArIFwiPiBkdWUgdG8gY29tbW9uIGxvb2thaGVhZCBwcmVmaXhcXG5cIiArXG4gICAgICAgICAgICAoXCJpbiA8T1JcIiArIG9jY3VycmVuY2UgKyBcIj4gaW5zaWRlIDxcIiArIG9wdGlvbnMudG9wTGV2ZWxSdWxlLm5hbWUgKyBcIj4gUnVsZSxcXG5cIikgK1xuICAgICAgICAgICAgKFwiPFwiICsgcGF0aE1zZyArIFwiPiBtYXkgYXBwZWFycyBhcyBhIHByZWZpeCBwYXRoIGluIGFsbCB0aGVzZSBhbHRlcm5hdGl2ZXMuXFxuXCIpICtcbiAgICAgICAgICAgIFwiU2VlOiBodHRwczovL3NhcC5naXRodWIuaW8vY2hldnJvdGFpbi9kb2NzL2d1aWRlL3Jlc29sdmluZ19ncmFtbWFyX2Vycm9ycy5odG1sI0NPTU1PTl9QUkVGSVhcXG5cIiArXG4gICAgICAgICAgICBcIkZvciBGdXJ0aGVyIGRldGFpbHMuXCI7XG4gICAgICAgIHJldHVybiBlcnJNc2c7XG4gICAgfSxcbiAgICBidWlsZEFsdGVybmF0aW9uQW1iaWd1aXR5RXJyb3I6IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHZhciBwYXRoTXNnID0gbWFwKG9wdGlvbnMucHJlZml4UGF0aCwgZnVuY3Rpb24gKGN1cnJ0b2spIHtcbiAgICAgICAgICAgIHJldHVybiB0b2tlbkxhYmVsKGN1cnJ0b2spO1xuICAgICAgICB9KS5qb2luKFwiLCBcIik7XG4gICAgICAgIHZhciBvY2N1cnJlbmNlID0gb3B0aW9ucy5hbHRlcm5hdGlvbi5pZHggPT09IDAgPyBcIlwiIDogb3B0aW9ucy5hbHRlcm5hdGlvbi5pZHg7XG4gICAgICAgIHZhciBjdXJyTWVzc2FnZSA9IFwiQW1iaWd1b3VzIEFsdGVybmF0aXZlcyBEZXRlY3RlZDogPFwiICsgb3B0aW9ucy5hbWJpZ3VpdHlJbmRpY2VzLmpvaW4oXCIgLFwiKSArIFwiPiBpbiA8T1JcIiArIG9jY3VycmVuY2UgKyBcIj5cIiArXG4gICAgICAgICAgICAoXCIgaW5zaWRlIDxcIiArIG9wdGlvbnMudG9wTGV2ZWxSdWxlLm5hbWUgKyBcIj4gUnVsZSxcXG5cIikgK1xuICAgICAgICAgICAgKFwiPFwiICsgcGF0aE1zZyArIFwiPiBtYXkgYXBwZWFycyBhcyBhIHByZWZpeCBwYXRoIGluIGFsbCB0aGVzZSBhbHRlcm5hdGl2ZXMuXFxuXCIpO1xuICAgICAgICBjdXJyTWVzc2FnZSA9XG4gICAgICAgICAgICBjdXJyTWVzc2FnZSArXG4gICAgICAgICAgICAgICAgXCJTZWU6IGh0dHBzOi8vc2FwLmdpdGh1Yi5pby9jaGV2cm90YWluL2RvY3MvZ3VpZGUvcmVzb2x2aW5nX2dyYW1tYXJfZXJyb3JzLmh0bWwjQU1CSUdVT1VTX0FMVEVSTkFUSVZFU1xcblwiICtcbiAgICAgICAgICAgICAgICBcIkZvciBGdXJ0aGVyIGRldGFpbHMuXCI7XG4gICAgICAgIHJldHVybiBjdXJyTWVzc2FnZTtcbiAgICB9LFxuICAgIGJ1aWxkRW1wdHlSZXBldGl0aW9uRXJyb3I6IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHZhciBkc2xOYW1lID0gZ2V0UHJvZHVjdGlvbkRzbE5hbWUob3B0aW9ucy5yZXBldGl0aW9uKTtcbiAgICAgICAgaWYgKG9wdGlvbnMucmVwZXRpdGlvbi5pZHggIT09IDApIHtcbiAgICAgICAgICAgIGRzbE5hbWUgKz0gb3B0aW9ucy5yZXBldGl0aW9uLmlkeDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZXJyTXNnID0gXCJUaGUgcmVwZXRpdGlvbiA8XCIgKyBkc2xOYW1lICsgXCI+IHdpdGhpbiBSdWxlIDxcIiArIG9wdGlvbnMudG9wTGV2ZWxSdWxlLm5hbWUgKyBcIj4gY2FuIG5ldmVyIGNvbnN1bWUgYW55IHRva2Vucy5cXG5cIiArXG4gICAgICAgICAgICBcIlRoaXMgY291bGQgbGVhZCB0byBhbiBpbmZpbml0ZSBsb29wLlwiO1xuICAgICAgICByZXR1cm4gZXJyTXNnO1xuICAgIH0sXG4gICAgYnVpbGRUb2tlbk5hbWVFcnJvcjogZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIHRva1R5cGVOYW1lID0gb3B0aW9ucy50b2tlblR5cGUubmFtZTtcbiAgICAgICAgdmFyIGVyck1zZyA9IFwiSW52YWxpZCBHcmFtbWFyIFRva2VuIG5hbWU6IC0+XCIgKyB0b2tUeXBlTmFtZSArIFwiPC0gaXQgbXVzdCBtYXRjaCB0aGUgcGF0dGVybjogLT5cIiArIG9wdGlvbnMuZXhwZWN0ZWRQYXR0ZXJuLnRvU3RyaW5nKCkgKyBcIjwtXCI7XG4gICAgICAgIHJldHVybiBlcnJNc2c7XG4gICAgfSxcbiAgICBidWlsZEVtcHR5QWx0ZXJuYXRpb25FcnJvcjogZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGVyck1zZyA9IFwiQW1iaWd1b3VzIGVtcHR5IGFsdGVybmF0aXZlOiA8XCIgKyAob3B0aW9ucy5lbXB0eUNob2ljZUlkeCArIDEpICsgXCI+XCIgK1xuICAgICAgICAgICAgKFwiIGluIDxPUlwiICsgb3B0aW9ucy5hbHRlcm5hdGlvbi5pZHggKyBcIj4gaW5zaWRlIDxcIiArIG9wdGlvbnMudG9wTGV2ZWxSdWxlLm5hbWUgKyBcIj4gUnVsZS5cXG5cIikgK1xuICAgICAgICAgICAgXCJPbmx5IHRoZSBsYXN0IGFsdGVybmF0aXZlIG1heSBiZSBhbiBlbXB0eSBhbHRlcm5hdGl2ZS5cIjtcbiAgICAgICAgcmV0dXJuIGVyck1zZztcbiAgICB9LFxuICAgIGJ1aWxkVG9vTWFueUFsdGVybmF0aXZlc0Vycm9yOiBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB2YXIgZXJyTXNnID0gXCJBbiBBbHRlcm5hdGlvbiBjYW5ub3QgaGF2ZSBtb3JlIHRoYW4gMjU2IGFsdGVybmF0aXZlczpcXG5cIiArXG4gICAgICAgICAgICAoXCI8T1JcIiArIG9wdGlvbnMuYWx0ZXJuYXRpb24uaWR4ICsgXCI+IGluc2lkZSA8XCIgKyBvcHRpb25zLnRvcExldmVsUnVsZS5uYW1lICsgXCI+IFJ1bGUuXFxuIGhhcyBcIiArIChvcHRpb25zLmFsdGVybmF0aW9uLmRlZmluaXRpb24ubGVuZ3RoICsgMSkgKyBcIiBhbHRlcm5hdGl2ZXMuXCIpO1xuICAgICAgICByZXR1cm4gZXJyTXNnO1xuICAgIH0sXG4gICAgYnVpbGRMZWZ0UmVjdXJzaW9uRXJyb3I6IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHZhciBydWxlTmFtZSA9IG9wdGlvbnMudG9wTGV2ZWxSdWxlLm5hbWU7XG4gICAgICAgIHZhciBwYXRoTmFtZXMgPSB1dGlscy5tYXAob3B0aW9ucy5sZWZ0UmVjdXJzaW9uUGF0aCwgZnVuY3Rpb24gKGN1cnJSdWxlKSB7IHJldHVybiBjdXJyUnVsZS5uYW1lOyB9KTtcbiAgICAgICAgdmFyIGxlZnRSZWN1cnNpdmVQYXRoID0gcnVsZU5hbWUgKyBcIiAtLT4gXCIgKyBwYXRoTmFtZXNcbiAgICAgICAgICAgIC5jb25jYXQoW3J1bGVOYW1lXSlcbiAgICAgICAgICAgIC5qb2luKFwiIC0tPiBcIik7XG4gICAgICAgIHZhciBlcnJNc2cgPSBcIkxlZnQgUmVjdXJzaW9uIGZvdW5kIGluIGdyYW1tYXIuXFxuXCIgK1xuICAgICAgICAgICAgKFwicnVsZTogPFwiICsgcnVsZU5hbWUgKyBcIj4gY2FuIGJlIGludm9rZWQgZnJvbSBpdHNlbGYgKGRpcmVjdGx5IG9yIGluZGlyZWN0bHkpXFxuXCIpICtcbiAgICAgICAgICAgIChcIndpdGhvdXQgY29uc3VtaW5nIGFueSBUb2tlbnMuIFRoZSBncmFtbWFyIHBhdGggdGhhdCBjYXVzZXMgdGhpcyBpczogXFxuIFwiICsgbGVmdFJlY3Vyc2l2ZVBhdGggKyBcIlxcblwiKSArXG4gICAgICAgICAgICBcIiBUbyBmaXggdGhpcyByZWZhY3RvciB5b3VyIGdyYW1tYXIgdG8gcmVtb3ZlIHRoZSBsZWZ0IHJlY3Vyc2lvbi5cXG5cIiArXG4gICAgICAgICAgICBcInNlZTogaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTExfcGFyc2VyI0xlZnRfRmFjdG9yaW5nLlwiO1xuICAgICAgICByZXR1cm4gZXJyTXNnO1xuICAgIH0sXG4gICAgYnVpbGRJbnZhbGlkUnVsZU5hbWVFcnJvcjogZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIHJ1bGVOYW1lID0gb3B0aW9ucy50b3BMZXZlbFJ1bGUubmFtZTtcbiAgICAgICAgdmFyIGV4cGVjdGVkUGF0dGVyblN0cmluZyA9IG9wdGlvbnMuZXhwZWN0ZWRQYXR0ZXJuLnRvU3RyaW5nKCk7XG4gICAgICAgIHZhciBlcnJNc2cgPSBcIkludmFsaWQgZ3JhbW1hciBydWxlIG5hbWU6IC0+XCIgKyBydWxlTmFtZSArIFwiPC0gaXQgbXVzdCBtYXRjaCB0aGUgcGF0dGVybjogLT5cIiArIGV4cGVjdGVkUGF0dGVyblN0cmluZyArIFwiPC1cIjtcbiAgICAgICAgcmV0dXJuIGVyck1zZztcbiAgICB9LFxuICAgIGJ1aWxkRHVwbGljYXRlUnVsZU5hbWVFcnJvcjogZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIHJ1bGVOYW1lO1xuICAgICAgICBpZiAob3B0aW9ucy50b3BMZXZlbFJ1bGUgaW5zdGFuY2VvZiBSdWxlKSB7XG4gICAgICAgICAgICBydWxlTmFtZSA9IG9wdGlvbnMudG9wTGV2ZWxSdWxlLm5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBydWxlTmFtZSA9IG9wdGlvbnMudG9wTGV2ZWxSdWxlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBlcnJNc2cgPSBcIkR1cGxpY2F0ZSBkZWZpbml0aW9uLCBydWxlOiAtPlwiICsgcnVsZU5hbWUgKyBcIjwtIGlzIGFscmVhZHkgZGVmaW5lZCBpbiB0aGUgZ3JhbW1hcjogLT5cIiArIG9wdGlvbnMuZ3JhbW1hck5hbWUgKyBcIjwtXCI7XG4gICAgICAgIHJldHVybiBlcnJNc2c7XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVycm9yc19wdWJsaWMuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5pbXBvcnQgeyBQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlIH0gZnJvbSBcIi4uL3BhcnNlci9wYXJzZXJcIjtcbmltcG9ydCB7IGZvckVhY2gsIHZhbHVlcyB9IGZyb20gXCIuLi8uLi91dGlscy91dGlsc1wiO1xuaW1wb3J0IHsgR0FzdFZpc2l0b3IgfSBmcm9tIFwiLi9nYXN0L2dhc3RfdmlzaXRvcl9wdWJsaWNcIjtcbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlR3JhbW1hcih0b3BMZXZlbHMsIGVyck1zZ1Byb3ZpZGVyKSB7XG4gICAgdmFyIHJlZlJlc29sdmVyID0gbmV3IEdhc3RSZWZSZXNvbHZlclZpc2l0b3IodG9wTGV2ZWxzLCBlcnJNc2dQcm92aWRlcik7XG4gICAgcmVmUmVzb2x2ZXIucmVzb2x2ZVJlZnMoKTtcbiAgICByZXR1cm4gcmVmUmVzb2x2ZXIuZXJyb3JzO1xufVxudmFyIEdhc3RSZWZSZXNvbHZlclZpc2l0b3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEdhc3RSZWZSZXNvbHZlclZpc2l0b3IsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gR2FzdFJlZlJlc29sdmVyVmlzaXRvcihuYW1lVG9Ub3BSdWxlLCBlcnJNc2dQcm92aWRlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5uYW1lVG9Ub3BSdWxlID0gbmFtZVRvVG9wUnVsZTtcbiAgICAgICAgX3RoaXMuZXJyTXNnUHJvdmlkZXIgPSBlcnJNc2dQcm92aWRlcjtcbiAgICAgICAgX3RoaXMuZXJyb3JzID0gW107XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgR2FzdFJlZlJlc29sdmVyVmlzaXRvci5wcm90b3R5cGUucmVzb2x2ZVJlZnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGZvckVhY2godmFsdWVzKHRoaXMubmFtZVRvVG9wUnVsZSksIGZ1bmN0aW9uIChwcm9kKSB7XG4gICAgICAgICAgICBfdGhpcy5jdXJyVG9wTGV2ZWwgPSBwcm9kO1xuICAgICAgICAgICAgcHJvZC5hY2NlcHQoX3RoaXMpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIEdhc3RSZWZSZXNvbHZlclZpc2l0b3IucHJvdG90eXBlLnZpc2l0Tm9uVGVybWluYWwgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICB2YXIgcmVmID0gdGhpcy5uYW1lVG9Ub3BSdWxlW25vZGUubm9uVGVybWluYWxOYW1lXTtcbiAgICAgICAgaWYgKCFyZWYpIHtcbiAgICAgICAgICAgIHZhciBtc2cgPSB0aGlzLmVyck1zZ1Byb3ZpZGVyLmJ1aWxkUnVsZU5vdEZvdW5kRXJyb3IodGhpcy5jdXJyVG9wTGV2ZWwsIG5vZGUpO1xuICAgICAgICAgICAgdGhpcy5lcnJvcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogbXNnLFxuICAgICAgICAgICAgICAgIHR5cGU6IFBhcnNlckRlZmluaXRpb25FcnJvclR5cGUuVU5SRVNPTFZFRF9TVUJSVUxFX1JFRixcbiAgICAgICAgICAgICAgICBydWxlTmFtZTogdGhpcy5jdXJyVG9wTGV2ZWwubmFtZSxcbiAgICAgICAgICAgICAgICB1bnJlc29sdmVkUmVmTmFtZTogbm9kZS5ub25UZXJtaW5hbE5hbWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbm9kZS5yZWZlcmVuY2VkUnVsZSA9IHJlZjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEdhc3RSZWZSZXNvbHZlclZpc2l0b3I7XG59KEdBc3RWaXNpdG9yKSk7XG5leHBvcnQgeyBHYXN0UmVmUmVzb2x2ZXJWaXNpdG9yIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXNvbHZlci5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbmltcG9ydCB7IFJlc3RXYWxrZXIgfSBmcm9tIFwiLi9yZXN0XCI7XG5pbXBvcnQgeyBjbG9uZUFyciwgZHJvcCwgZHJvcFJpZ2h0LCBmaXJzdCBhcyBfZmlyc3QsIGZvckVhY2gsIGlzRW1wdHksIGxhc3QgfSBmcm9tIFwiLi4vLi4vdXRpbHMvdXRpbHNcIjtcbmltcG9ydCB7IGZpcnN0IH0gZnJvbSBcIi4vZmlyc3RcIjtcbmltcG9ydCB7IEFsdGVybmF0aW9uLCBBbHRlcm5hdGl2ZSwgTm9uVGVybWluYWwsIE9wdGlvbiwgUmVwZXRpdGlvbiwgUmVwZXRpdGlvbk1hbmRhdG9yeSwgUmVwZXRpdGlvbk1hbmRhdG9yeVdpdGhTZXBhcmF0b3IsIFJlcGV0aXRpb25XaXRoU2VwYXJhdG9yLCBSdWxlLCBUZXJtaW5hbCB9IGZyb20gXCIuL2dhc3QvZ2FzdF9wdWJsaWNcIjtcbnZhciBBYnN0cmFjdE5leHRQb3NzaWJsZVRva2Vuc1dhbGtlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQWJzdHJhY3ROZXh0UG9zc2libGVUb2tlbnNXYWxrZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQWJzdHJhY3ROZXh0UG9zc2libGVUb2tlbnNXYWxrZXIodG9wUHJvZCwgcGF0aCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy50b3BQcm9kID0gdG9wUHJvZDtcbiAgICAgICAgX3RoaXMucGF0aCA9IHBhdGg7XG4gICAgICAgIF90aGlzLnBvc3NpYmxlVG9rVHlwZXMgPSBbXTtcbiAgICAgICAgX3RoaXMubmV4dFByb2R1Y3Rpb25OYW1lID0gXCJcIjtcbiAgICAgICAgX3RoaXMubmV4dFByb2R1Y3Rpb25PY2N1cnJlbmNlID0gMDtcbiAgICAgICAgX3RoaXMuZm91bmQgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuaXNBdEVuZE9mUGF0aCA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEFic3RyYWN0TmV4dFBvc3NpYmxlVG9rZW5zV2Fsa2VyLnByb3RvdHlwZS5zdGFydFdhbGtpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZm91bmQgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMucGF0aC5ydWxlU3RhY2tbMF0gIT09IHRoaXMudG9wUHJvZC5uYW1lKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcIlRoZSBwYXRoIGRvZXMgbm90IHN0YXJ0IHdpdGggdGhlIHdhbGtlcidzIHRvcCBSdWxlIVwiKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpbW11dGFibGUgZm9yIHRoZSB3aW5cbiAgICAgICAgdGhpcy5ydWxlU3RhY2sgPSBjbG9uZUFycih0aGlzLnBhdGgucnVsZVN0YWNrKS5yZXZlcnNlKCk7IC8vIGludGVsaWogYnVnIHJlcXVpcmVzIGFzc2VydGlvblxuICAgICAgICB0aGlzLm9jY3VycmVuY2VTdGFjayA9IGNsb25lQXJyKHRoaXMucGF0aC5vY2N1cnJlbmNlU3RhY2spLnJldmVyc2UoKTsgLy8gaW50ZWxpaiBidWcgcmVxdWlyZXMgYXNzZXJ0aW9uXG4gICAgICAgIC8vIGFscmVhZHkgdmVyaWZpZWQgdGhhdCB0aGUgZmlyc3QgcHJvZHVjdGlvbiBpcyB2YWxpZCwgd2Ugbm93IHNlZWsgdGhlIDJuZCBwcm9kdWN0aW9uXG4gICAgICAgIHRoaXMucnVsZVN0YWNrLnBvcCgpO1xuICAgICAgICB0aGlzLm9jY3VycmVuY2VTdGFjay5wb3AoKTtcbiAgICAgICAgdGhpcy51cGRhdGVFeHBlY3RlZE5leHQoKTtcbiAgICAgICAgdGhpcy53YWxrKHRoaXMudG9wUHJvZCk7XG4gICAgICAgIHJldHVybiB0aGlzLnBvc3NpYmxlVG9rVHlwZXM7XG4gICAgfTtcbiAgICBBYnN0cmFjdE5leHRQb3NzaWJsZVRva2Vuc1dhbGtlci5wcm90b3R5cGUud2FsayA9IGZ1bmN0aW9uIChwcm9kLCBwcmV2UmVzdCkge1xuICAgICAgICBpZiAocHJldlJlc3QgPT09IHZvaWQgMCkgeyBwcmV2UmVzdCA9IFtdOyB9XG4gICAgICAgIC8vIHN0b3Agc2Nhbm5pbmcgb25jZSB3ZSBmb3VuZCB0aGUgcGF0aFxuICAgICAgICBpZiAoIXRoaXMuZm91bmQpIHtcbiAgICAgICAgICAgIF9zdXBlci5wcm90b3R5cGUud2Fsay5jYWxsKHRoaXMsIHByb2QsIHByZXZSZXN0KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQWJzdHJhY3ROZXh0UG9zc2libGVUb2tlbnNXYWxrZXIucHJvdG90eXBlLndhbGtQcm9kUmVmID0gZnVuY3Rpb24gKHJlZlByb2QsIGN1cnJSZXN0LCBwcmV2UmVzdCkge1xuICAgICAgICAvLyBmb3VuZCB0aGUgbmV4dCBwcm9kdWN0aW9uLCBuZWVkIHRvIGtlZXAgd2Fsa2luZyBpbiBpdFxuICAgICAgICBpZiAocmVmUHJvZC5yZWZlcmVuY2VkUnVsZS5uYW1lID09PSB0aGlzLm5leHRQcm9kdWN0aW9uTmFtZSAmJlxuICAgICAgICAgICAgcmVmUHJvZC5pZHggPT09IHRoaXMubmV4dFByb2R1Y3Rpb25PY2N1cnJlbmNlKSB7XG4gICAgICAgICAgICB2YXIgZnVsbFJlc3QgPSBjdXJyUmVzdC5jb25jYXQocHJldlJlc3QpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVFeHBlY3RlZE5leHQoKTtcbiAgICAgICAgICAgIHRoaXMud2FsayhyZWZQcm9kLnJlZmVyZW5jZWRSdWxlLCBmdWxsUmVzdCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFic3RyYWN0TmV4dFBvc3NpYmxlVG9rZW5zV2Fsa2VyLnByb3RvdHlwZS51cGRhdGVFeHBlY3RlZE5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIG5lZWQgdG8gY29uc3VtZSB0aGUgVGVybWluYWxcbiAgICAgICAgaWYgKGlzRW1wdHkodGhpcy5ydWxlU3RhY2spKSB7XG4gICAgICAgICAgICAvLyBtdXN0IHJlc2V0IG5leHRQcm9kdWN0aW9uWFhYIHRvIGF2b2lkIHdhbGtpbmcgZG93biBhbm90aGVyIFRvcCBMZXZlbCBwcm9kdWN0aW9uIHdoaWxlIHdoYXQgd2UgYXJlXG4gICAgICAgICAgICAvLyByZWFsbHkgc2Vla2luZyBpcyB0aGUgbGFzdCBUZXJtaW5hbC4uLlxuICAgICAgICAgICAgdGhpcy5uZXh0UHJvZHVjdGlvbk5hbWUgPSBcIlwiO1xuICAgICAgICAgICAgdGhpcy5uZXh0UHJvZHVjdGlvbk9jY3VycmVuY2UgPSAwO1xuICAgICAgICAgICAgdGhpcy5pc0F0RW5kT2ZQYXRoID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubmV4dFByb2R1Y3Rpb25OYW1lID0gdGhpcy5ydWxlU3RhY2sucG9wKCk7XG4gICAgICAgICAgICB0aGlzLm5leHRQcm9kdWN0aW9uT2NjdXJyZW5jZSA9IHRoaXMub2NjdXJyZW5jZVN0YWNrLnBvcCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQWJzdHJhY3ROZXh0UG9zc2libGVUb2tlbnNXYWxrZXI7XG59KFJlc3RXYWxrZXIpKTtcbmV4cG9ydCB7IEFic3RyYWN0TmV4dFBvc3NpYmxlVG9rZW5zV2Fsa2VyIH07XG52YXIgTmV4dEFmdGVyVG9rZW5XYWxrZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE5leHRBZnRlclRva2VuV2Fsa2VyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE5leHRBZnRlclRva2VuV2Fsa2VyKHRvcFByb2QsIHBhdGgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgdG9wUHJvZCwgcGF0aCkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMucGF0aCA9IHBhdGg7XG4gICAgICAgIF90aGlzLm5leHRUZXJtaW5hbE5hbWUgPSBcIlwiO1xuICAgICAgICBfdGhpcy5uZXh0VGVybWluYWxPY2N1cnJlbmNlID0gMDtcbiAgICAgICAgX3RoaXMubmV4dFRlcm1pbmFsTmFtZSA9IF90aGlzLnBhdGgubGFzdFRvay5uYW1lO1xuICAgICAgICBfdGhpcy5uZXh0VGVybWluYWxPY2N1cnJlbmNlID0gX3RoaXMucGF0aC5sYXN0VG9rT2NjdXJyZW5jZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBOZXh0QWZ0ZXJUb2tlbldhbGtlci5wcm90b3R5cGUud2Fsa1Rlcm1pbmFsID0gZnVuY3Rpb24gKHRlcm1pbmFsLCBjdXJyUmVzdCwgcHJldlJlc3QpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNBdEVuZE9mUGF0aCAmJlxuICAgICAgICAgICAgdGVybWluYWwudGVybWluYWxUeXBlLm5hbWUgPT09IHRoaXMubmV4dFRlcm1pbmFsTmFtZSAmJlxuICAgICAgICAgICAgdGVybWluYWwuaWR4ID09PSB0aGlzLm5leHRUZXJtaW5hbE9jY3VycmVuY2UgJiZcbiAgICAgICAgICAgICF0aGlzLmZvdW5kKSB7XG4gICAgICAgICAgICB2YXIgZnVsbFJlc3QgPSBjdXJyUmVzdC5jb25jYXQocHJldlJlc3QpO1xuICAgICAgICAgICAgdmFyIHJlc3RQcm9kID0gbmV3IEFsdGVybmF0aXZlKHsgZGVmaW5pdGlvbjogZnVsbFJlc3QgfSk7XG4gICAgICAgICAgICB0aGlzLnBvc3NpYmxlVG9rVHlwZXMgPSBmaXJzdChyZXN0UHJvZCk7XG4gICAgICAgICAgICB0aGlzLmZvdW5kID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIE5leHRBZnRlclRva2VuV2Fsa2VyO1xufShBYnN0cmFjdE5leHRQb3NzaWJsZVRva2Vuc1dhbGtlcikpO1xuZXhwb3J0IHsgTmV4dEFmdGVyVG9rZW5XYWxrZXIgfTtcbi8qKlxuICogVGhpcyB3YWxrZXIgb25seSBcIndhbGtzXCIgYSBzaW5nbGUgXCJUT1BcIiBsZXZlbCBpbiB0aGUgR3JhbW1hciBBc3QsIHRoaXMgbWVhbnNcbiAqIGl0IG5ldmVyIFwiZm9sbG93c1wiIHByb2R1Y3Rpb24gcmVmc1xuICovXG52YXIgQWJzdHJhY3ROZXh0VGVybWluYWxBZnRlclByb2R1Y3Rpb25XYWxrZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEFic3RyYWN0TmV4dFRlcm1pbmFsQWZ0ZXJQcm9kdWN0aW9uV2Fsa2VyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEFic3RyYWN0TmV4dFRlcm1pbmFsQWZ0ZXJQcm9kdWN0aW9uV2Fsa2VyKHRvcFJ1bGUsIG9jY3VycmVuY2UpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMudG9wUnVsZSA9IHRvcFJ1bGU7XG4gICAgICAgIF90aGlzLm9jY3VycmVuY2UgPSBvY2N1cnJlbmNlO1xuICAgICAgICBfdGhpcy5yZXN1bHQgPSB7XG4gICAgICAgICAgICB0b2tlbjogdW5kZWZpbmVkLFxuICAgICAgICAgICAgb2NjdXJyZW5jZTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgaXNFbmRPZlJ1bGU6IHVuZGVmaW5lZFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEFic3RyYWN0TmV4dFRlcm1pbmFsQWZ0ZXJQcm9kdWN0aW9uV2Fsa2VyLnByb3RvdHlwZS5zdGFydFdhbGtpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMud2Fsayh0aGlzLnRvcFJ1bGUpO1xuICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHQ7XG4gICAgfTtcbiAgICByZXR1cm4gQWJzdHJhY3ROZXh0VGVybWluYWxBZnRlclByb2R1Y3Rpb25XYWxrZXI7XG59KFJlc3RXYWxrZXIpKTtcbmV4cG9ydCB7IEFic3RyYWN0TmV4dFRlcm1pbmFsQWZ0ZXJQcm9kdWN0aW9uV2Fsa2VyIH07XG52YXIgTmV4dFRlcm1pbmFsQWZ0ZXJNYW55V2Fsa2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhOZXh0VGVybWluYWxBZnRlck1hbnlXYWxrZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gTmV4dFRlcm1pbmFsQWZ0ZXJNYW55V2Fsa2VyKCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgfVxuICAgIE5leHRUZXJtaW5hbEFmdGVyTWFueVdhbGtlci5wcm90b3R5cGUud2Fsa01hbnkgPSBmdW5jdGlvbiAobWFueVByb2QsIGN1cnJSZXN0LCBwcmV2UmVzdCkge1xuICAgICAgICBpZiAobWFueVByb2QuaWR4ID09PSB0aGlzLm9jY3VycmVuY2UpIHtcbiAgICAgICAgICAgIHZhciBmaXJzdEFmdGVyTWFueSA9IF9maXJzdChjdXJyUmVzdC5jb25jYXQocHJldlJlc3QpKTtcbiAgICAgICAgICAgIHRoaXMucmVzdWx0LmlzRW5kT2ZSdWxlID0gZmlyc3RBZnRlck1hbnkgPT09IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmIChmaXJzdEFmdGVyTWFueSBpbnN0YW5jZW9mIFRlcm1pbmFsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXN1bHQudG9rZW4gPSBmaXJzdEFmdGVyTWFueS50ZXJtaW5hbFR5cGU7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXN1bHQub2NjdXJyZW5jZSA9IGZpcnN0QWZ0ZXJNYW55LmlkeDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIF9zdXBlci5wcm90b3R5cGUud2Fsa01hbnkuY2FsbCh0aGlzLCBtYW55UHJvZCwgY3VyclJlc3QsIHByZXZSZXN0KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIE5leHRUZXJtaW5hbEFmdGVyTWFueVdhbGtlcjtcbn0oQWJzdHJhY3ROZXh0VGVybWluYWxBZnRlclByb2R1Y3Rpb25XYWxrZXIpKTtcbmV4cG9ydCB7IE5leHRUZXJtaW5hbEFmdGVyTWFueVdhbGtlciB9O1xudmFyIE5leHRUZXJtaW5hbEFmdGVyTWFueVNlcFdhbGtlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTmV4dFRlcm1pbmFsQWZ0ZXJNYW55U2VwV2Fsa2VyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE5leHRUZXJtaW5hbEFmdGVyTWFueVNlcFdhbGtlcigpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBOZXh0VGVybWluYWxBZnRlck1hbnlTZXBXYWxrZXIucHJvdG90eXBlLndhbGtNYW55U2VwID0gZnVuY3Rpb24gKG1hbnlTZXBQcm9kLCBjdXJyUmVzdCwgcHJldlJlc3QpIHtcbiAgICAgICAgaWYgKG1hbnlTZXBQcm9kLmlkeCA9PT0gdGhpcy5vY2N1cnJlbmNlKSB7XG4gICAgICAgICAgICB2YXIgZmlyc3RBZnRlck1hbnlTZXAgPSBfZmlyc3QoY3VyclJlc3QuY29uY2F0KHByZXZSZXN0KSk7XG4gICAgICAgICAgICB0aGlzLnJlc3VsdC5pc0VuZE9mUnVsZSA9IGZpcnN0QWZ0ZXJNYW55U2VwID09PSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBpZiAoZmlyc3RBZnRlck1hbnlTZXAgaW5zdGFuY2VvZiBUZXJtaW5hbCkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVzdWx0LnRva2VuID0gZmlyc3RBZnRlck1hbnlTZXAudGVybWluYWxUeXBlO1xuICAgICAgICAgICAgICAgIHRoaXMucmVzdWx0Lm9jY3VycmVuY2UgPSBmaXJzdEFmdGVyTWFueVNlcC5pZHg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBfc3VwZXIucHJvdG90eXBlLndhbGtNYW55U2VwLmNhbGwodGhpcywgbWFueVNlcFByb2QsIGN1cnJSZXN0LCBwcmV2UmVzdCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBOZXh0VGVybWluYWxBZnRlck1hbnlTZXBXYWxrZXI7XG59KEFic3RyYWN0TmV4dFRlcm1pbmFsQWZ0ZXJQcm9kdWN0aW9uV2Fsa2VyKSk7XG5leHBvcnQgeyBOZXh0VGVybWluYWxBZnRlck1hbnlTZXBXYWxrZXIgfTtcbnZhciBOZXh0VGVybWluYWxBZnRlckF0TGVhc3RPbmVXYWxrZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE5leHRUZXJtaW5hbEFmdGVyQXRMZWFzdE9uZVdhbGtlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBOZXh0VGVybWluYWxBZnRlckF0TGVhc3RPbmVXYWxrZXIoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgTmV4dFRlcm1pbmFsQWZ0ZXJBdExlYXN0T25lV2Fsa2VyLnByb3RvdHlwZS53YWxrQXRMZWFzdE9uZSA9IGZ1bmN0aW9uIChhdExlYXN0T25lUHJvZCwgY3VyclJlc3QsIHByZXZSZXN0KSB7XG4gICAgICAgIGlmIChhdExlYXN0T25lUHJvZC5pZHggPT09IHRoaXMub2NjdXJyZW5jZSkge1xuICAgICAgICAgICAgdmFyIGZpcnN0QWZ0ZXJBdExlYXN0T25lID0gX2ZpcnN0KGN1cnJSZXN0LmNvbmNhdChwcmV2UmVzdCkpO1xuICAgICAgICAgICAgdGhpcy5yZXN1bHQuaXNFbmRPZlJ1bGUgPSBmaXJzdEFmdGVyQXRMZWFzdE9uZSA9PT0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgaWYgKGZpcnN0QWZ0ZXJBdExlYXN0T25lIGluc3RhbmNlb2YgVGVybWluYWwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc3VsdC50b2tlbiA9IGZpcnN0QWZ0ZXJBdExlYXN0T25lLnRlcm1pbmFsVHlwZTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc3VsdC5vY2N1cnJlbmNlID0gZmlyc3RBZnRlckF0TGVhc3RPbmUuaWR4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgX3N1cGVyLnByb3RvdHlwZS53YWxrQXRMZWFzdE9uZS5jYWxsKHRoaXMsIGF0TGVhc3RPbmVQcm9kLCBjdXJyUmVzdCwgcHJldlJlc3QpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gTmV4dFRlcm1pbmFsQWZ0ZXJBdExlYXN0T25lV2Fsa2VyO1xufShBYnN0cmFjdE5leHRUZXJtaW5hbEFmdGVyUHJvZHVjdGlvbldhbGtlcikpO1xuZXhwb3J0IHsgTmV4dFRlcm1pbmFsQWZ0ZXJBdExlYXN0T25lV2Fsa2VyIH07XG4vLyBUT0RPOiByZWR1Y2UgY29kZSBkdXBsaWNhdGlvbiBpbiB0aGUgQWZ0ZXJXYWxrZXJzXG52YXIgTmV4dFRlcm1pbmFsQWZ0ZXJBdExlYXN0T25lU2VwV2Fsa2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhOZXh0VGVybWluYWxBZnRlckF0TGVhc3RPbmVTZXBXYWxrZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gTmV4dFRlcm1pbmFsQWZ0ZXJBdExlYXN0T25lU2VwV2Fsa2VyKCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgfVxuICAgIE5leHRUZXJtaW5hbEFmdGVyQXRMZWFzdE9uZVNlcFdhbGtlci5wcm90b3R5cGUud2Fsa0F0TGVhc3RPbmVTZXAgPSBmdW5jdGlvbiAoYXRsZWFzdE9uZVNlcFByb2QsIGN1cnJSZXN0LCBwcmV2UmVzdCkge1xuICAgICAgICBpZiAoYXRsZWFzdE9uZVNlcFByb2QuaWR4ID09PSB0aGlzLm9jY3VycmVuY2UpIHtcbiAgICAgICAgICAgIHZhciBmaXJzdEFmdGVyZmlyc3RBZnRlckF0TGVhc3RPbmVTZXAgPSBfZmlyc3QoY3VyclJlc3QuY29uY2F0KHByZXZSZXN0KSk7XG4gICAgICAgICAgICB0aGlzLnJlc3VsdC5pc0VuZE9mUnVsZSA9IGZpcnN0QWZ0ZXJmaXJzdEFmdGVyQXRMZWFzdE9uZVNlcCA9PT0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgaWYgKGZpcnN0QWZ0ZXJmaXJzdEFmdGVyQXRMZWFzdE9uZVNlcCBpbnN0YW5jZW9mIFRlcm1pbmFsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXN1bHQudG9rZW4gPSBmaXJzdEFmdGVyZmlyc3RBZnRlckF0TGVhc3RPbmVTZXAudGVybWluYWxUeXBlO1xuICAgICAgICAgICAgICAgIHRoaXMucmVzdWx0Lm9jY3VycmVuY2UgPSBmaXJzdEFmdGVyZmlyc3RBZnRlckF0TGVhc3RPbmVTZXAuaWR4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgX3N1cGVyLnByb3RvdHlwZS53YWxrQXRMZWFzdE9uZVNlcC5jYWxsKHRoaXMsIGF0bGVhc3RPbmVTZXBQcm9kLCBjdXJyUmVzdCwgcHJldlJlc3QpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gTmV4dFRlcm1pbmFsQWZ0ZXJBdExlYXN0T25lU2VwV2Fsa2VyO1xufShBYnN0cmFjdE5leHRUZXJtaW5hbEFmdGVyUHJvZHVjdGlvbldhbGtlcikpO1xuZXhwb3J0IHsgTmV4dFRlcm1pbmFsQWZ0ZXJBdExlYXN0T25lU2VwV2Fsa2VyIH07XG5leHBvcnQgZnVuY3Rpb24gcG9zc2libGVQYXRoc0Zyb20odGFyZ2V0RGVmLCBtYXhMZW5ndGgsIGN1cnJQYXRoKSB7XG4gICAgaWYgKGN1cnJQYXRoID09PSB2b2lkIDApIHsgY3VyclBhdGggPSBbXTsgfVxuICAgIC8vIGF2b2lkIHNpZGUgZWZmZWN0c1xuICAgIGN1cnJQYXRoID0gY2xvbmVBcnIoY3VyclBhdGgpO1xuICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICB2YXIgaSA9IDA7XG4gICAgLy8gVE9ETzogYXZvaWQgaW5uZXIgZnVuY3NcbiAgICBmdW5jdGlvbiByZW1haW5pbmdQYXRoV2l0aChuZXh0RGVmKSB7XG4gICAgICAgIHJldHVybiBuZXh0RGVmLmNvbmNhdChkcm9wKHRhcmdldERlZiwgaSArIDEpKTtcbiAgICB9XG4gICAgLy8gVE9ETzogYXZvaWQgaW5uZXIgZnVuY3NcbiAgICBmdW5jdGlvbiBnZXRBbHRlcm5hdGl2ZXNGb3JQcm9kKGRlZmluaXRpb24pIHtcbiAgICAgICAgdmFyIGFsdGVybmF0aXZlcyA9IHBvc3NpYmxlUGF0aHNGcm9tKHJlbWFpbmluZ1BhdGhXaXRoKGRlZmluaXRpb24pLCBtYXhMZW5ndGgsIGN1cnJQYXRoKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5jb25jYXQoYWx0ZXJuYXRpdmVzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWFuZGF0b3J5IHByb2R1Y3Rpb25zIHdpbGwgaGFsdCB0aGUgbG9vcCBhcyB0aGUgcGF0aHMgY29tcHV0ZWQgZnJvbSB0aGVpciByZWN1cnNpdmUgY2FsbHMgd2lsbCBhbHJlYWR5IGNvbnRhaW4gdGhlXG4gICAgICogZm9sbG93aW5nIChyZXN0KSBvZiB0aGUgdGFyZ2V0RGVmLlxuICAgICAqXG4gICAgICogRm9yIG9wdGlvbmFsIHByb2R1Y3Rpb25zIChPcHRpb24vUmVwZXRpdGlvbi8uLi4pIHRoZSBsb29wIHdpbGwgY29udGludWUgdG8gcmVwcmVzZW50IHRoZSBwYXRocyB0aGF0IGRvIG5vdCBpbmNsdWRlIHRoZVxuICAgICAqIHRoZSBvcHRpb25hbCBwcm9kdWN0aW9uLlxuICAgICAqL1xuICAgIHdoaWxlIChjdXJyUGF0aC5sZW5ndGggPCBtYXhMZW5ndGggJiYgaSA8IHRhcmdldERlZi5sZW5ndGgpIHtcbiAgICAgICAgdmFyIHByb2QgPSB0YXJnZXREZWZbaV07XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgIGlmIChwcm9kIGluc3RhbmNlb2YgQWx0ZXJuYXRpdmUpIHtcbiAgICAgICAgICAgIHJldHVybiBnZXRBbHRlcm5hdGl2ZXNGb3JQcm9kKHByb2QuZGVmaW5pdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocHJvZCBpbnN0YW5jZW9mIE5vblRlcm1pbmFsKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0QWx0ZXJuYXRpdmVzRm9yUHJvZChwcm9kLmRlZmluaXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHByb2QgaW5zdGFuY2VvZiBPcHRpb24pIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGdldEFsdGVybmF0aXZlc0ZvclByb2QocHJvZC5kZWZpbml0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwcm9kIGluc3RhbmNlb2YgUmVwZXRpdGlvbk1hbmRhdG9yeSkge1xuICAgICAgICAgICAgdmFyIG5ld0RlZiA9IHByb2QuZGVmaW5pdGlvbi5jb25jYXQoW1xuICAgICAgICAgICAgICAgIG5ldyBSZXBldGl0aW9uKHtcbiAgICAgICAgICAgICAgICAgICAgZGVmaW5pdGlvbjogcHJvZC5kZWZpbml0aW9uXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgcmV0dXJuIGdldEFsdGVybmF0aXZlc0ZvclByb2QobmV3RGVmKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwcm9kIGluc3RhbmNlb2YgUmVwZXRpdGlvbk1hbmRhdG9yeVdpdGhTZXBhcmF0b3IpIHtcbiAgICAgICAgICAgIHZhciBuZXdEZWYgPSBbXG4gICAgICAgICAgICAgICAgbmV3IEFsdGVybmF0aXZlKHsgZGVmaW5pdGlvbjogcHJvZC5kZWZpbml0aW9uIH0pLFxuICAgICAgICAgICAgICAgIG5ldyBSZXBldGl0aW9uKHtcbiAgICAgICAgICAgICAgICAgICAgZGVmaW5pdGlvbjogW25ldyBUZXJtaW5hbCh7IHRlcm1pbmFsVHlwZTogcHJvZC5zZXBhcmF0b3IgfSldLmNvbmNhdChwcm9kLmRlZmluaXRpb24pXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIF07XG4gICAgICAgICAgICByZXR1cm4gZ2V0QWx0ZXJuYXRpdmVzRm9yUHJvZChuZXdEZWYpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHByb2QgaW5zdGFuY2VvZiBSZXBldGl0aW9uV2l0aFNlcGFyYXRvcikge1xuICAgICAgICAgICAgdmFyIG5ld0RlZiA9IHByb2QuZGVmaW5pdGlvbi5jb25jYXQoW1xuICAgICAgICAgICAgICAgIG5ldyBSZXBldGl0aW9uKHtcbiAgICAgICAgICAgICAgICAgICAgZGVmaW5pdGlvbjogW25ldyBUZXJtaW5hbCh7IHRlcm1pbmFsVHlwZTogcHJvZC5zZXBhcmF0b3IgfSldLmNvbmNhdChwcm9kLmRlZmluaXRpb24pXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgcmVzdWx0ID0gZ2V0QWx0ZXJuYXRpdmVzRm9yUHJvZChuZXdEZWYpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHByb2QgaW5zdGFuY2VvZiBSZXBldGl0aW9uKSB7XG4gICAgICAgICAgICB2YXIgbmV3RGVmID0gcHJvZC5kZWZpbml0aW9uLmNvbmNhdChbXG4gICAgICAgICAgICAgICAgbmV3IFJlcGV0aXRpb24oe1xuICAgICAgICAgICAgICAgICAgICBkZWZpbml0aW9uOiBwcm9kLmRlZmluaXRpb25cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICByZXN1bHQgPSBnZXRBbHRlcm5hdGl2ZXNGb3JQcm9kKG5ld0RlZik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocHJvZCBpbnN0YW5jZW9mIEFsdGVybmF0aW9uKSB7XG4gICAgICAgICAgICBmb3JFYWNoKHByb2QuZGVmaW5pdGlvbiwgZnVuY3Rpb24gKGN1cnJBbHQpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBnZXRBbHRlcm5hdGl2ZXNGb3JQcm9kKGN1cnJBbHQuZGVmaW5pdGlvbik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocHJvZCBpbnN0YW5jZW9mIFRlcm1pbmFsKSB7XG4gICAgICAgICAgICBjdXJyUGF0aC5wdXNoKHByb2QudGVybWluYWxUeXBlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKFwibm9uIGV4aGF1c3RpdmUgbWF0Y2hcIik7XG4gICAgICAgIH1cbiAgICAgICAgaSsrO1xuICAgIH1cbiAgICByZXN1bHQucHVzaCh7XG4gICAgICAgIHBhcnRpYWxQYXRoOiBjdXJyUGF0aCxcbiAgICAgICAgc3VmZml4RGVmOiBkcm9wKHRhcmdldERlZiwgaSlcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIG5leHRQb3NzaWJsZVRva2Vuc0FmdGVyKGluaXRpYWxEZWYsIHRva2VuVmVjdG9yLCB0b2tNYXRjaGVyLCBtYXhMb29rQWhlYWQpIHtcbiAgICB2YXIgRVhJVF9OT05fVEVSTUlOQUwgPSBcIkVYSVRfTk9ORV9URVJNSU5BTFwiO1xuICAgIC8vIHRvIGF2b2lkIGNyZWF0aW5nIGEgbmV3IEFycmF5IGVhY2ggdGltZS5cbiAgICB2YXIgRVhJVF9OT05fVEVSTUlOQUxfQVJSID0gW0VYSVRfTk9OX1RFUk1JTkFMXTtcbiAgICB2YXIgRVhJVF9BTFRFUk5BVElWRSA9IFwiRVhJVF9BTFRFUk5BVElWRVwiO1xuICAgIHZhciBmb3VuZENvbXBsZXRlUGF0aCA9IGZhbHNlO1xuICAgIHZhciB0b2tlblZlY3Rvckxlbmd0aCA9IHRva2VuVmVjdG9yLmxlbmd0aDtcbiAgICB2YXIgbWluaW1hbEFsdGVybmF0aXZlc0luZGV4ID0gdG9rZW5WZWN0b3JMZW5ndGggLSBtYXhMb29rQWhlYWQgLSAxO1xuICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICB2YXIgcG9zc2libGVQYXRocyA9IFtdO1xuICAgIHBvc3NpYmxlUGF0aHMucHVzaCh7XG4gICAgICAgIGlkeDogLTEsXG4gICAgICAgIGRlZjogaW5pdGlhbERlZixcbiAgICAgICAgcnVsZVN0YWNrOiBbXSxcbiAgICAgICAgb2NjdXJyZW5jZVN0YWNrOiBbXVxuICAgIH0pO1xuICAgIHdoaWxlICghaXNFbXB0eShwb3NzaWJsZVBhdGhzKSkge1xuICAgICAgICB2YXIgY3VyclBhdGggPSBwb3NzaWJsZVBhdGhzLnBvcCgpO1xuICAgICAgICAvLyBza2lwIGFsdGVybmF0aXZlcyBpZiBubyBtb3JlIHJlc3VsdHMgY2FuIGJlIGZvdW5kIChhc3N1bWluZyBkZXRlcm1pbmlzdGljIGdyYW1tYXIgd2l0aCBmaXhlZCBsb29rYWhlYWQpXG4gICAgICAgIGlmIChjdXJyUGF0aCA9PT0gRVhJVF9BTFRFUk5BVElWRSkge1xuICAgICAgICAgICAgaWYgKGZvdW5kQ29tcGxldGVQYXRoICYmXG4gICAgICAgICAgICAgICAgbGFzdChwb3NzaWJsZVBhdGhzKS5pZHggPD0gbWluaW1hbEFsdGVybmF0aXZlc0luZGV4KSB7XG4gICAgICAgICAgICAgICAgLy8gcmVtb3ZlIGlycmVsZXZhbnQgYWx0ZXJuYXRpdmVcbiAgICAgICAgICAgICAgICBwb3NzaWJsZVBhdGhzLnBvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGN1cnJEZWYgPSBjdXJyUGF0aC5kZWY7XG4gICAgICAgIHZhciBjdXJySWR4ID0gY3VyclBhdGguaWR4O1xuICAgICAgICB2YXIgY3VyclJ1bGVTdGFjayA9IGN1cnJQYXRoLnJ1bGVTdGFjaztcbiAgICAgICAgdmFyIGN1cnJPY2N1cnJlbmNlU3RhY2sgPSBjdXJyUGF0aC5vY2N1cnJlbmNlU3RhY2s7XG4gICAgICAgIC8vIEZvciBFeGFtcGxlOiBhbiBlbXB0eSBwYXRoIGNvdWxkIGV4aXN0IGluIGEgdmFsaWQgZ3JhbW1hciBpbiB0aGUgY2FzZSBvZiBhbiBFTVBUWV9BTFRcbiAgICAgICAgaWYgKGlzRW1wdHkoY3VyckRlZikpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwcm9kID0gY3VyckRlZlswXTtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgaWYgKHByb2QgPT09IEVYSVRfTk9OX1RFUk1JTkFMKSB7XG4gICAgICAgICAgICB2YXIgbmV4dFBhdGggPSB7XG4gICAgICAgICAgICAgICAgaWR4OiBjdXJySWR4LFxuICAgICAgICAgICAgICAgIGRlZjogZHJvcChjdXJyRGVmKSxcbiAgICAgICAgICAgICAgICBydWxlU3RhY2s6IGRyb3BSaWdodChjdXJyUnVsZVN0YWNrKSxcbiAgICAgICAgICAgICAgICBvY2N1cnJlbmNlU3RhY2s6IGRyb3BSaWdodChjdXJyT2NjdXJyZW5jZVN0YWNrKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHBvc3NpYmxlUGF0aHMucHVzaChuZXh0UGF0aCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocHJvZCBpbnN0YW5jZW9mIFRlcm1pbmFsKSB7XG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICAgICAgaWYgKGN1cnJJZHggPCB0b2tlblZlY3Rvckxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICB2YXIgbmV4dElkeCA9IGN1cnJJZHggKyAxO1xuICAgICAgICAgICAgICAgIHZhciBhY3R1YWxUb2tlbiA9IHRva2VuVmVjdG9yW25leHRJZHhdO1xuICAgICAgICAgICAgICAgIGlmICh0b2tNYXRjaGVyKGFjdHVhbFRva2VuLCBwcm9kLnRlcm1pbmFsVHlwZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5leHRQYXRoID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWR4OiBuZXh0SWR4LFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmOiBkcm9wKGN1cnJEZWYpLFxuICAgICAgICAgICAgICAgICAgICAgICAgcnVsZVN0YWNrOiBjdXJyUnVsZVN0YWNrLFxuICAgICAgICAgICAgICAgICAgICAgICAgb2NjdXJyZW5jZVN0YWNrOiBjdXJyT2NjdXJyZW5jZVN0YWNrXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHBvc3NpYmxlUGF0aHMucHVzaChuZXh0UGF0aCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGVuZCBvZiB0aGUgbGluZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY3VycklkeCA9PT0gdG9rZW5WZWN0b3JMZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgLy8gSUdOT1JFIEFCT1ZFIEVMU0VcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIG5leHRUb2tlblR5cGU6IHByb2QudGVybWluYWxUeXBlLFxuICAgICAgICAgICAgICAgICAgICBuZXh0VG9rZW5PY2N1cnJlbmNlOiBwcm9kLmlkeCxcbiAgICAgICAgICAgICAgICAgICAgcnVsZVN0YWNrOiBjdXJyUnVsZVN0YWNrLFxuICAgICAgICAgICAgICAgICAgICBvY2N1cnJlbmNlU3RhY2s6IGN1cnJPY2N1cnJlbmNlU3RhY2tcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBmb3VuZENvbXBsZXRlUGF0aCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIm5vbiBleGhhdXN0aXZlIG1hdGNoXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHByb2QgaW5zdGFuY2VvZiBOb25UZXJtaW5hbCkge1xuICAgICAgICAgICAgdmFyIG5ld1J1bGVTdGFjayA9IGNsb25lQXJyKGN1cnJSdWxlU3RhY2spO1xuICAgICAgICAgICAgbmV3UnVsZVN0YWNrLnB1c2gocHJvZC5ub25UZXJtaW5hbE5hbWUpO1xuICAgICAgICAgICAgdmFyIG5ld09jY3VycmVuY2VTdGFjayA9IGNsb25lQXJyKGN1cnJPY2N1cnJlbmNlU3RhY2spO1xuICAgICAgICAgICAgbmV3T2NjdXJyZW5jZVN0YWNrLnB1c2gocHJvZC5pZHgpO1xuICAgICAgICAgICAgdmFyIG5leHRQYXRoID0ge1xuICAgICAgICAgICAgICAgIGlkeDogY3VycklkeCxcbiAgICAgICAgICAgICAgICBkZWY6IHByb2QuZGVmaW5pdGlvbi5jb25jYXQoRVhJVF9OT05fVEVSTUlOQUxfQVJSLCBkcm9wKGN1cnJEZWYpKSxcbiAgICAgICAgICAgICAgICBydWxlU3RhY2s6IG5ld1J1bGVTdGFjayxcbiAgICAgICAgICAgICAgICBvY2N1cnJlbmNlU3RhY2s6IG5ld09jY3VycmVuY2VTdGFja1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHBvc3NpYmxlUGF0aHMucHVzaChuZXh0UGF0aCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocHJvZCBpbnN0YW5jZW9mIE9wdGlvbikge1xuICAgICAgICAgICAgLy8gdGhlIG9yZGVyIG9mIGFsdGVybmF0aXZlcyBpcyBtZWFuaW5nZnVsLCBGSUxPIChMYXN0IHBhdGggd2lsbCBiZSB0cmF2ZXJzZWQgZmlyc3QpLlxuICAgICAgICAgICAgdmFyIG5leHRQYXRoV2l0aG91dCA9IHtcbiAgICAgICAgICAgICAgICBpZHg6IGN1cnJJZHgsXG4gICAgICAgICAgICAgICAgZGVmOiBkcm9wKGN1cnJEZWYpLFxuICAgICAgICAgICAgICAgIHJ1bGVTdGFjazogY3VyclJ1bGVTdGFjayxcbiAgICAgICAgICAgICAgICBvY2N1cnJlbmNlU3RhY2s6IGN1cnJPY2N1cnJlbmNlU3RhY2tcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBwb3NzaWJsZVBhdGhzLnB1c2gobmV4dFBhdGhXaXRob3V0KTtcbiAgICAgICAgICAgIC8vIHJlcXVpcmVkIG1hcmtlciB0byBhdm9pZCBiYWNrdHJhY2tpbmcgcGF0aHMgd2hvc2UgaGlnaGVyIHByaW9yaXR5IGFsdGVybmF0aXZlcyBhbHJlYWR5IG1hdGNoZWRcbiAgICAgICAgICAgIHBvc3NpYmxlUGF0aHMucHVzaChFWElUX0FMVEVSTkFUSVZFKTtcbiAgICAgICAgICAgIHZhciBuZXh0UGF0aFdpdGggPSB7XG4gICAgICAgICAgICAgICAgaWR4OiBjdXJySWR4LFxuICAgICAgICAgICAgICAgIGRlZjogcHJvZC5kZWZpbml0aW9uLmNvbmNhdChkcm9wKGN1cnJEZWYpKSxcbiAgICAgICAgICAgICAgICBydWxlU3RhY2s6IGN1cnJSdWxlU3RhY2ssXG4gICAgICAgICAgICAgICAgb2NjdXJyZW5jZVN0YWNrOiBjdXJyT2NjdXJyZW5jZVN0YWNrXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcG9zc2libGVQYXRocy5wdXNoKG5leHRQYXRoV2l0aCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocHJvZCBpbnN0YW5jZW9mIFJlcGV0aXRpb25NYW5kYXRvcnkpIHtcbiAgICAgICAgICAgIC8vIFRPRE86KFRIRSBORVcgb3BlcmF0b3JzIGhlcmUgdGFrZSBhIHdoaWxlLi4uKSAoY29udmVydCBvbmNlPylcbiAgICAgICAgICAgIHZhciBzZWNvbmRJdGVyYXRpb24gPSBuZXcgUmVwZXRpdGlvbih7XG4gICAgICAgICAgICAgICAgZGVmaW5pdGlvbjogcHJvZC5kZWZpbml0aW9uLFxuICAgICAgICAgICAgICAgIGlkeDogcHJvZC5pZHhcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIG5leHREZWYgPSBwcm9kLmRlZmluaXRpb24uY29uY2F0KFtzZWNvbmRJdGVyYXRpb25dLCBkcm9wKGN1cnJEZWYpKTtcbiAgICAgICAgICAgIHZhciBuZXh0UGF0aCA9IHtcbiAgICAgICAgICAgICAgICBpZHg6IGN1cnJJZHgsXG4gICAgICAgICAgICAgICAgZGVmOiBuZXh0RGVmLFxuICAgICAgICAgICAgICAgIHJ1bGVTdGFjazogY3VyclJ1bGVTdGFjayxcbiAgICAgICAgICAgICAgICBvY2N1cnJlbmNlU3RhY2s6IGN1cnJPY2N1cnJlbmNlU3RhY2tcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBwb3NzaWJsZVBhdGhzLnB1c2gobmV4dFBhdGgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHByb2QgaW5zdGFuY2VvZiBSZXBldGl0aW9uTWFuZGF0b3J5V2l0aFNlcGFyYXRvcikge1xuICAgICAgICAgICAgLy8gVE9ETzooVEhFIE5FVyBvcGVyYXRvcnMgaGVyZSB0YWtlIGEgd2hpbGUuLi4pIChjb252ZXJ0IG9uY2U/KVxuICAgICAgICAgICAgdmFyIHNlcGFyYXRvckdhc3QgPSBuZXcgVGVybWluYWwoe1xuICAgICAgICAgICAgICAgIHRlcm1pbmFsVHlwZTogcHJvZC5zZXBhcmF0b3JcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIHNlY29uZEl0ZXJhdGlvbiA9IG5ldyBSZXBldGl0aW9uKHtcbiAgICAgICAgICAgICAgICBkZWZpbml0aW9uOiBbc2VwYXJhdG9yR2FzdF0uY29uY2F0KHByb2QuZGVmaW5pdGlvbiksXG4gICAgICAgICAgICAgICAgaWR4OiBwcm9kLmlkeFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgbmV4dERlZiA9IHByb2QuZGVmaW5pdGlvbi5jb25jYXQoW3NlY29uZEl0ZXJhdGlvbl0sIGRyb3AoY3VyckRlZikpO1xuICAgICAgICAgICAgdmFyIG5leHRQYXRoID0ge1xuICAgICAgICAgICAgICAgIGlkeDogY3VycklkeCxcbiAgICAgICAgICAgICAgICBkZWY6IG5leHREZWYsXG4gICAgICAgICAgICAgICAgcnVsZVN0YWNrOiBjdXJyUnVsZVN0YWNrLFxuICAgICAgICAgICAgICAgIG9jY3VycmVuY2VTdGFjazogY3Vyck9jY3VycmVuY2VTdGFja1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHBvc3NpYmxlUGF0aHMucHVzaChuZXh0UGF0aCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocHJvZCBpbnN0YW5jZW9mIFJlcGV0aXRpb25XaXRoU2VwYXJhdG9yKSB7XG4gICAgICAgICAgICAvLyB0aGUgb3JkZXIgb2YgYWx0ZXJuYXRpdmVzIGlzIG1lYW5pbmdmdWwsIEZJTE8gKExhc3QgcGF0aCB3aWxsIGJlIHRyYXZlcnNlZCBmaXJzdCkuXG4gICAgICAgICAgICB2YXIgbmV4dFBhdGhXaXRob3V0ID0ge1xuICAgICAgICAgICAgICAgIGlkeDogY3VycklkeCxcbiAgICAgICAgICAgICAgICBkZWY6IGRyb3AoY3VyckRlZiksXG4gICAgICAgICAgICAgICAgcnVsZVN0YWNrOiBjdXJyUnVsZVN0YWNrLFxuICAgICAgICAgICAgICAgIG9jY3VycmVuY2VTdGFjazogY3Vyck9jY3VycmVuY2VTdGFja1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHBvc3NpYmxlUGF0aHMucHVzaChuZXh0UGF0aFdpdGhvdXQpO1xuICAgICAgICAgICAgLy8gcmVxdWlyZWQgbWFya2VyIHRvIGF2b2lkIGJhY2t0cmFja2luZyBwYXRocyB3aG9zZSBoaWdoZXIgcHJpb3JpdHkgYWx0ZXJuYXRpdmVzIGFscmVhZHkgbWF0Y2hlZFxuICAgICAgICAgICAgcG9zc2libGVQYXRocy5wdXNoKEVYSVRfQUxURVJOQVRJVkUpO1xuICAgICAgICAgICAgdmFyIHNlcGFyYXRvckdhc3QgPSBuZXcgVGVybWluYWwoe1xuICAgICAgICAgICAgICAgIHRlcm1pbmFsVHlwZTogcHJvZC5zZXBhcmF0b3JcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIG50aFJlcGV0aXRpb24gPSBuZXcgUmVwZXRpdGlvbih7XG4gICAgICAgICAgICAgICAgZGVmaW5pdGlvbjogW3NlcGFyYXRvckdhc3RdLmNvbmNhdChwcm9kLmRlZmluaXRpb24pLFxuICAgICAgICAgICAgICAgIGlkeDogcHJvZC5pZHhcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIG5leHREZWYgPSBwcm9kLmRlZmluaXRpb24uY29uY2F0KFtudGhSZXBldGl0aW9uXSwgZHJvcChjdXJyRGVmKSk7XG4gICAgICAgICAgICB2YXIgbmV4dFBhdGhXaXRoID0ge1xuICAgICAgICAgICAgICAgIGlkeDogY3VycklkeCxcbiAgICAgICAgICAgICAgICBkZWY6IG5leHREZWYsXG4gICAgICAgICAgICAgICAgcnVsZVN0YWNrOiBjdXJyUnVsZVN0YWNrLFxuICAgICAgICAgICAgICAgIG9jY3VycmVuY2VTdGFjazogY3Vyck9jY3VycmVuY2VTdGFja1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHBvc3NpYmxlUGF0aHMucHVzaChuZXh0UGF0aFdpdGgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHByb2QgaW5zdGFuY2VvZiBSZXBldGl0aW9uKSB7XG4gICAgICAgICAgICAvLyB0aGUgb3JkZXIgb2YgYWx0ZXJuYXRpdmVzIGlzIG1lYW5pbmdmdWwsIEZJTE8gKExhc3QgcGF0aCB3aWxsIGJlIHRyYXZlcnNlZCBmaXJzdCkuXG4gICAgICAgICAgICB2YXIgbmV4dFBhdGhXaXRob3V0ID0ge1xuICAgICAgICAgICAgICAgIGlkeDogY3VycklkeCxcbiAgICAgICAgICAgICAgICBkZWY6IGRyb3AoY3VyckRlZiksXG4gICAgICAgICAgICAgICAgcnVsZVN0YWNrOiBjdXJyUnVsZVN0YWNrLFxuICAgICAgICAgICAgICAgIG9jY3VycmVuY2VTdGFjazogY3Vyck9jY3VycmVuY2VTdGFja1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHBvc3NpYmxlUGF0aHMucHVzaChuZXh0UGF0aFdpdGhvdXQpO1xuICAgICAgICAgICAgLy8gcmVxdWlyZWQgbWFya2VyIHRvIGF2b2lkIGJhY2t0cmFja2luZyBwYXRocyB3aG9zZSBoaWdoZXIgcHJpb3JpdHkgYWx0ZXJuYXRpdmVzIGFscmVhZHkgbWF0Y2hlZFxuICAgICAgICAgICAgcG9zc2libGVQYXRocy5wdXNoKEVYSVRfQUxURVJOQVRJVkUpO1xuICAgICAgICAgICAgLy8gVE9ETzogYW4gZW1wdHkgcmVwZXRpdGlvbiB3aWxsIGNhdXNlIGluZmluaXRlIGxvb3BzIGhlcmUsIHdpbGwgdGhlIHBhcnNlciBkZXRlY3QgdGhpcyBpbiBzZWxmQW5hbHlzaXM/XG4gICAgICAgICAgICB2YXIgbnRoUmVwZXRpdGlvbiA9IG5ldyBSZXBldGl0aW9uKHtcbiAgICAgICAgICAgICAgICBkZWZpbml0aW9uOiBwcm9kLmRlZmluaXRpb24sXG4gICAgICAgICAgICAgICAgaWR4OiBwcm9kLmlkeFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgbmV4dERlZiA9IHByb2QuZGVmaW5pdGlvbi5jb25jYXQoW250aFJlcGV0aXRpb25dLCBkcm9wKGN1cnJEZWYpKTtcbiAgICAgICAgICAgIHZhciBuZXh0UGF0aFdpdGggPSB7XG4gICAgICAgICAgICAgICAgaWR4OiBjdXJySWR4LFxuICAgICAgICAgICAgICAgIGRlZjogbmV4dERlZixcbiAgICAgICAgICAgICAgICBydWxlU3RhY2s6IGN1cnJSdWxlU3RhY2ssXG4gICAgICAgICAgICAgICAgb2NjdXJyZW5jZVN0YWNrOiBjdXJyT2NjdXJyZW5jZVN0YWNrXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcG9zc2libGVQYXRocy5wdXNoKG5leHRQYXRoV2l0aCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocHJvZCBpbnN0YW5jZW9mIEFsdGVybmF0aW9uKSB7XG4gICAgICAgICAgICAvLyB0aGUgb3JkZXIgb2YgYWx0ZXJuYXRpdmVzIGlzIG1lYW5pbmdmdWwsIEZJTE8gKExhc3QgcGF0aCB3aWxsIGJlIHRyYXZlcnNlZCBmaXJzdCkuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gcHJvZC5kZWZpbml0aW9uLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgdmFyIGN1cnJBbHQgPSBwcm9kLmRlZmluaXRpb25baV07XG4gICAgICAgICAgICAgICAgdmFyIGN1cnJBbHRQYXRoID0ge1xuICAgICAgICAgICAgICAgICAgICBpZHg6IGN1cnJJZHgsXG4gICAgICAgICAgICAgICAgICAgIGRlZjogY3VyckFsdC5kZWZpbml0aW9uLmNvbmNhdChkcm9wKGN1cnJEZWYpKSxcbiAgICAgICAgICAgICAgICAgICAgcnVsZVN0YWNrOiBjdXJyUnVsZVN0YWNrLFxuICAgICAgICAgICAgICAgICAgICBvY2N1cnJlbmNlU3RhY2s6IGN1cnJPY2N1cnJlbmNlU3RhY2tcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHBvc3NpYmxlUGF0aHMucHVzaChjdXJyQWx0UGF0aCk7XG4gICAgICAgICAgICAgICAgcG9zc2libGVQYXRocy5wdXNoKEVYSVRfQUxURVJOQVRJVkUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHByb2QgaW5zdGFuY2VvZiBBbHRlcm5hdGl2ZSkge1xuICAgICAgICAgICAgcG9zc2libGVQYXRocy5wdXNoKHtcbiAgICAgICAgICAgICAgICBpZHg6IGN1cnJJZHgsXG4gICAgICAgICAgICAgICAgZGVmOiBwcm9kLmRlZmluaXRpb24uY29uY2F0KGRyb3AoY3VyckRlZikpLFxuICAgICAgICAgICAgICAgIHJ1bGVTdGFjazogY3VyclJ1bGVTdGFjayxcbiAgICAgICAgICAgICAgICBvY2N1cnJlbmNlU3RhY2s6IGN1cnJPY2N1cnJlbmNlU3RhY2tcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHByb2QgaW5zdGFuY2VvZiBSdWxlKSB7XG4gICAgICAgICAgICAvLyBsYXN0IGJlY2F1c2Ugd2Ugc2hvdWxkIG9ubHkgZW5jb3VudGVyIGF0IG1vc3QgYSBzaW5nbGUgb25lIG9mIHRoZXNlIHBlciBpbnZvY2F0aW9uLlxuICAgICAgICAgICAgcG9zc2libGVQYXRocy5wdXNoKGV4cGFuZFRvcExldmVsUnVsZShwcm9kLCBjdXJySWR4LCBjdXJyUnVsZVN0YWNrLCBjdXJyT2NjdXJyZW5jZVN0YWNrKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcIm5vbiBleGhhdXN0aXZlIG1hdGNoXCIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBleHBhbmRUb3BMZXZlbFJ1bGUodG9wUnVsZSwgY3VycklkeCwgY3VyclJ1bGVTdGFjaywgY3Vyck9jY3VycmVuY2VTdGFjaykge1xuICAgIHZhciBuZXdSdWxlU3RhY2sgPSBjbG9uZUFycihjdXJyUnVsZVN0YWNrKTtcbiAgICBuZXdSdWxlU3RhY2sucHVzaCh0b3BSdWxlLm5hbWUpO1xuICAgIHZhciBuZXdDdXJyT2NjdXJyZW5jZVN0YWNrID0gY2xvbmVBcnIoY3Vyck9jY3VycmVuY2VTdGFjayk7XG4gICAgLy8gdG9wIHJ1bGUgaXMgYWx3YXlzIGFzc3VtZWQgdG8gaGF2ZSBiZWVuIGNhbGxlZCB3aXRoIG9jY3VycmVuY2UgaW5kZXggMVxuICAgIG5ld0N1cnJPY2N1cnJlbmNlU3RhY2sucHVzaCgxKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBpZHg6IGN1cnJJZHgsXG4gICAgICAgIGRlZjogdG9wUnVsZS5kZWZpbml0aW9uLFxuICAgICAgICBydWxlU3RhY2s6IG5ld1J1bGVTdGFjayxcbiAgICAgICAgb2NjdXJyZW5jZVN0YWNrOiBuZXdDdXJyT2NjdXJyZW5jZVN0YWNrXG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWludGVycHJldGVyLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0IHsgbWFwLCByZWR1Y2UsIGV2ZXJ5LCBpc0VtcHR5LCBmbGF0dGVuLCBmb3JFYWNoLCBoYXMgfSBmcm9tIFwiLi4vLi4vdXRpbHMvdXRpbHNcIjtcbmltcG9ydCB7IHBvc3NpYmxlUGF0aHNGcm9tIH0gZnJvbSBcIi4vaW50ZXJwcmV0ZXJcIjtcbmltcG9ydCB7IFJlc3RXYWxrZXIgfSBmcm9tIFwiLi9yZXN0XCI7XG5pbXBvcnQgeyB0b2tlblN0cnVjdHVyZWRNYXRjaGVyLCB0b2tlblN0cnVjdHVyZWRNYXRjaGVyTm9DYXRlZ29yaWVzIH0gZnJvbSBcIi4uLy4uL3NjYW4vdG9rZW5zXCI7XG5pbXBvcnQgeyBBbHRlcm5hdGlvbiwgQWx0ZXJuYXRpdmUgYXMgQWx0ZXJuYXRpdmVHQVNULCBPcHRpb24sIFJlcGV0aXRpb24sIFJlcGV0aXRpb25NYW5kYXRvcnksIFJlcGV0aXRpb25NYW5kYXRvcnlXaXRoU2VwYXJhdG9yLCBSZXBldGl0aW9uV2l0aFNlcGFyYXRvciB9IGZyb20gXCIuL2dhc3QvZ2FzdF9wdWJsaWNcIjtcbmltcG9ydCB7IEdBc3RWaXNpdG9yIH0gZnJvbSBcIi4vZ2FzdC9nYXN0X3Zpc2l0b3JfcHVibGljXCI7XG5leHBvcnQgdmFyIFBST0RfVFlQRTtcbihmdW5jdGlvbiAoUFJPRF9UWVBFKSB7XG4gICAgUFJPRF9UWVBFW1BST0RfVFlQRVtcIk9QVElPTlwiXSA9IDBdID0gXCJPUFRJT05cIjtcbiAgICBQUk9EX1RZUEVbUFJPRF9UWVBFW1wiUkVQRVRJVElPTlwiXSA9IDFdID0gXCJSRVBFVElUSU9OXCI7XG4gICAgUFJPRF9UWVBFW1BST0RfVFlQRVtcIlJFUEVUSVRJT05fTUFOREFUT1JZXCJdID0gMl0gPSBcIlJFUEVUSVRJT05fTUFOREFUT1JZXCI7XG4gICAgUFJPRF9UWVBFW1BST0RfVFlQRVtcIlJFUEVUSVRJT05fTUFOREFUT1JZX1dJVEhfU0VQQVJBVE9SXCJdID0gM10gPSBcIlJFUEVUSVRJT05fTUFOREFUT1JZX1dJVEhfU0VQQVJBVE9SXCI7XG4gICAgUFJPRF9UWVBFW1BST0RfVFlQRVtcIlJFUEVUSVRJT05fV0lUSF9TRVBBUkFUT1JcIl0gPSA0XSA9IFwiUkVQRVRJVElPTl9XSVRIX1NFUEFSQVRPUlwiO1xuICAgIFBST0RfVFlQRVtQUk9EX1RZUEVbXCJBTFRFUk5BVElPTlwiXSA9IDVdID0gXCJBTFRFUk5BVElPTlwiO1xufSkoUFJPRF9UWVBFIHx8IChQUk9EX1RZUEUgPSB7fSkpO1xuZXhwb3J0IGZ1bmN0aW9uIGdldFByb2RUeXBlKHByb2QpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgIGlmIChwcm9kIGluc3RhbmNlb2YgT3B0aW9uKSB7XG4gICAgICAgIHJldHVybiBQUk9EX1RZUEUuT1BUSU9OO1xuICAgIH1cbiAgICBlbHNlIGlmIChwcm9kIGluc3RhbmNlb2YgUmVwZXRpdGlvbikge1xuICAgICAgICByZXR1cm4gUFJPRF9UWVBFLlJFUEVUSVRJT047XG4gICAgfVxuICAgIGVsc2UgaWYgKHByb2QgaW5zdGFuY2VvZiBSZXBldGl0aW9uTWFuZGF0b3J5KSB7XG4gICAgICAgIHJldHVybiBQUk9EX1RZUEUuUkVQRVRJVElPTl9NQU5EQVRPUlk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHByb2QgaW5zdGFuY2VvZiBSZXBldGl0aW9uTWFuZGF0b3J5V2l0aFNlcGFyYXRvcikge1xuICAgICAgICByZXR1cm4gUFJPRF9UWVBFLlJFUEVUSVRJT05fTUFOREFUT1JZX1dJVEhfU0VQQVJBVE9SO1xuICAgIH1cbiAgICBlbHNlIGlmIChwcm9kIGluc3RhbmNlb2YgUmVwZXRpdGlvbldpdGhTZXBhcmF0b3IpIHtcbiAgICAgICAgcmV0dXJuIFBST0RfVFlQRS5SRVBFVElUSU9OX1dJVEhfU0VQQVJBVE9SO1xuICAgIH1cbiAgICBlbHNlIGlmIChwcm9kIGluc3RhbmNlb2YgQWx0ZXJuYXRpb24pIHtcbiAgICAgICAgcmV0dXJuIFBST0RfVFlQRS5BTFRFUk5BVElPTjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IEVycm9yKFwibm9uIGV4aGF1c3RpdmUgbWF0Y2hcIik7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkTG9va2FoZWFkRnVuY0Zvck9yKG9jY3VycmVuY2UsIHJ1bGVHcmFtbWFyLCBtYXhMb29rYWhlYWQsIGhhc1ByZWRpY2F0ZXMsIGR5bmFtaWNUb2tlbnNFbmFibGVkLCBsYUZ1bmNCdWlsZGVyKSB7XG4gICAgdmFyIGxvb2tBaGVhZFBhdGhzID0gZ2V0TG9va2FoZWFkUGF0aHNGb3JPcihvY2N1cnJlbmNlLCBydWxlR3JhbW1hciwgbWF4TG9va2FoZWFkKTtcbiAgICB2YXIgdG9rZW5NYXRjaGVyID0gYXJlVG9rZW5DYXRlZ29yaWVzTm90VXNlZChsb29rQWhlYWRQYXRocylcbiAgICAgICAgPyB0b2tlblN0cnVjdHVyZWRNYXRjaGVyTm9DYXRlZ29yaWVzXG4gICAgICAgIDogdG9rZW5TdHJ1Y3R1cmVkTWF0Y2hlcjtcbiAgICByZXR1cm4gbGFGdW5jQnVpbGRlcihsb29rQWhlYWRQYXRocywgaGFzUHJlZGljYXRlcywgdG9rZW5NYXRjaGVyLCBkeW5hbWljVG9rZW5zRW5hYmxlZCk7XG59XG4vKipcbiAqICBXaGVuIGRlYWxpbmcgd2l0aCBhbiBPcHRpb25hbCBwcm9kdWN0aW9uIChPUFRJT04vTUFOWS8ybmQgaXRlcmF0aW9uIG9mIEFUX0xFQVNUX09ORS8uLi4pIHdlIG5lZWQgdG8gY29tcGFyZVxuICogIHRoZSBsb29rYWhlYWQgXCJpbnNpZGVcIiB0aGUgcHJvZHVjdGlvbiBhbmQgdGhlIGxvb2thaGVhZCBpbW1lZGlhdGVseSBcImFmdGVyXCIgaXQgaW4gdGhlIHNhbWUgdG9wIGxldmVsIHJ1bGUgKGNvbnRleHQgZnJlZSkuXG4gKlxuICogIEV4YW1wbGU6IGdpdmVuIGEgcHJvZHVjdGlvbjpcbiAqICBBQkMoREUpP0RGXG4gKlxuICogIFRoZSBvcHRpb25hbCAnKERFKT8nIHNob3VsZCBvbmx5IGJlIGVudGVyZWQgaWYgd2Ugc2VlICdERScuIGEgc2luZ2xlIFRva2VuICdEJyBpcyBub3Qgc3VmZmljaWVudCB0byBkaXN0aW5ndWlzaCBiZXR3ZWVuIHRoZSB0d29cbiAqICBhbHRlcm5hdGl2ZXMuXG4gKlxuICogIEByZXR1cm5zIEEgTG9va2FoZWFkIGZ1bmN0aW9uIHdoaWNoIHdpbGwgcmV0dXJuIHRydWUgSUZGIHRoZSBwYXJzZXIgc2hvdWxkIHBhcnNlIHRoZSBPcHRpb25hbCBwcm9kdWN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYnVpbGRMb29rYWhlYWRGdW5jRm9yT3B0aW9uYWxQcm9kKG9jY3VycmVuY2UsIHJ1bGVHcmFtbWFyLCBrLCBkeW5hbWljVG9rZW5zRW5hYmxlZCwgcHJvZFR5cGUsIGxvb2thaGVhZEJ1aWxkZXIpIHtcbiAgICB2YXIgbG9va0FoZWFkUGF0aHMgPSBnZXRMb29rYWhlYWRQYXRoc0Zvck9wdGlvbmFsUHJvZChvY2N1cnJlbmNlLCBydWxlR3JhbW1hciwgcHJvZFR5cGUsIGspO1xuICAgIHZhciB0b2tlbk1hdGNoZXIgPSBhcmVUb2tlbkNhdGVnb3JpZXNOb3RVc2VkKGxvb2tBaGVhZFBhdGhzKVxuICAgICAgICA/IHRva2VuU3RydWN0dXJlZE1hdGNoZXJOb0NhdGVnb3JpZXNcbiAgICAgICAgOiB0b2tlblN0cnVjdHVyZWRNYXRjaGVyO1xuICAgIHJldHVybiBsb29rYWhlYWRCdWlsZGVyKGxvb2tBaGVhZFBhdGhzWzBdLCB0b2tlbk1hdGNoZXIsIGR5bmFtaWNUb2tlbnNFbmFibGVkKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBidWlsZEFsdGVybmF0aXZlc0xvb2tBaGVhZEZ1bmMoYWx0cywgaGFzUHJlZGljYXRlcywgdG9rZW5NYXRjaGVyLCBkeW5hbWljVG9rZW5zRW5hYmxlZCkge1xuICAgIHZhciBudW1PZkFsdHMgPSBhbHRzLmxlbmd0aDtcbiAgICB2YXIgYXJlQWxsT25lVG9rZW5Mb29rYWhlYWQgPSBldmVyeShhbHRzLCBmdW5jdGlvbiAoY3VyckFsdCkge1xuICAgICAgICByZXR1cm4gZXZlcnkoY3VyckFsdCwgZnVuY3Rpb24gKGN1cnJQYXRoKSB7XG4gICAgICAgICAgICByZXR1cm4gY3VyclBhdGgubGVuZ3RoID09PSAxO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICAvLyBUaGlzIHZlcnNpb24gdGFrZXMgaW50byBhY2NvdW50IHRoZSBwcmVkaWNhdGVzIGFzIHdlbGwuXG4gICAgaWYgKGhhc1ByZWRpY2F0ZXMpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IC0gVGhlIGNob3NlbiBhbHRlcm5hdGl2ZSBpbmRleFxuICAgICAgICAgKi9cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChvckFsdHMpIHtcbiAgICAgICAgICAgIC8vIHVuZm9ydHVuYXRlbHkgdGhlIHByZWRpY2F0ZXMgbXVzdCBiZSBleHRyYWN0ZWQgZXZlcnkgc2luZ2xlIHRpbWVcbiAgICAgICAgICAgIC8vIGFzIHRoZXkgY2Fubm90IGJlIGNhY2hlZCBkdWUgdG8gcmVmZXJlbmNlcyB0byBwYXJhbWV0ZXJzKHZhcnMpIHdoaWNoIGFyZSBubyBsb25nZXIgdmFsaWQuXG4gICAgICAgICAgICAvLyBub3RlIHRoYXQgaW4gdGhlIGNvbW1vbiBjYXNlIG9mIG5vIHByZWRpY2F0ZXMsIG5vIGNwdSB0aW1lIHdpbGwgYmUgd2FzdGVkIG9uIHRoaXMgKHNlZSBlbHNlIGJsb2NrKVxuICAgICAgICAgICAgdmFyIHByZWRpY2F0ZXMgPSBtYXAob3JBbHRzLCBmdW5jdGlvbiAoY3VyckFsdCkgeyByZXR1cm4gY3VyckFsdC5HQVRFOyB9KTtcbiAgICAgICAgICAgIGZvciAodmFyIHQgPSAwOyB0IDwgbnVtT2ZBbHRzOyB0KyspIHtcbiAgICAgICAgICAgICAgICB2YXIgY3VyckFsdCA9IGFsdHNbdF07XG4gICAgICAgICAgICAgICAgdmFyIGN1cnJOdW1PZlBhdGhzID0gY3VyckFsdC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgdmFyIGN1cnJQcmVkaWNhdGUgPSBwcmVkaWNhdGVzW3RdO1xuICAgICAgICAgICAgICAgIGlmIChjdXJyUHJlZGljYXRlICE9PSB1bmRlZmluZWQgJiYgY3VyclByZWRpY2F0ZS5jYWxsKHRoaXMpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGUgcHJlZGljYXRlIGRvZXMgbm90IG1hdGNoIHRoZXJlIGlzIG5vIHBvaW50IGluIGNoZWNraW5nIHRoZSBwYXRoc1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbmV4dFBhdGg6IGZvciAodmFyIGogPSAwOyBqIDwgY3Vyck51bU9mUGF0aHM7IGorKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY3VyclBhdGggPSBjdXJyQWx0W2pdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgY3VyclBhdGhMZW5ndGggPSBjdXJyUGF0aC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY3VyclBhdGhMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5leHRUb2tlbiA9IHRoaXMuTEEoaSArIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRva2VuTWF0Y2hlcihuZXh0VG9rZW4sIGN1cnJQYXRoW2ldKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBtaXNtYXRjaCBpbiBjdXJyZW50IHBhdGhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0cnkgdGhlIG5leHQgcHRoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWUgbmV4dFBhdGg7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gZm91bmQgYSBmdWxsIHBhdGggdGhhdCBtYXRjaGVzLlxuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIHdpbGwgYWxzbyB3b3JrIGZvciBhbiBlbXB0eSBBTFQgYXMgdGhlIGxvb3Agd2lsbCBiZSBza2lwcGVkXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBub25lIG9mIHRoZSBwYXRocyBmb3IgdGhlIGN1cnJlbnQgYWx0ZXJuYXRpdmUgbWF0Y2hlZFxuICAgICAgICAgICAgICAgIC8vIHRyeSB0aGUgbmV4dCBhbHRlcm5hdGl2ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gbm9uZSBvZiB0aGUgYWx0ZXJuYXRpdmVzIGNvdWxkIGJlIG1hdGNoZWRcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKGFyZUFsbE9uZVRva2VuTG9va2FoZWFkICYmICFkeW5hbWljVG9rZW5zRW5hYmxlZCkge1xuICAgICAgICAvLyBvcHRpbWl6ZWQgKGNvbW1vbikgY2FzZSBvZiBhbGwgdGhlIGxvb2thaGVhZHMgcGF0aHMgcmVxdWlyaW5nIG9ubHlcbiAgICAgICAgLy8gYSBzaW5nbGUgdG9rZW4gbG9va2FoZWFkLiBUaGVzZSBPcHRpbWl6YXRpb25zIGNhbm5vdCB3b3JrIGlmIGR5bmFtaWNhbGx5IGRlZmluZWQgVG9rZW5zIGFyZSB1c2VkLlxuICAgICAgICB2YXIgc2luZ2xlVG9rZW5BbHRzID0gbWFwKGFsdHMsIGZ1bmN0aW9uIChjdXJyQWx0KSB7XG4gICAgICAgICAgICByZXR1cm4gZmxhdHRlbihjdXJyQWx0KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBjaG9pY2VUb0FsdF8xID0gcmVkdWNlKHNpbmdsZVRva2VuQWx0cywgZnVuY3Rpb24gKHJlc3VsdCwgY3VyckFsdCwgaWR4KSB7XG4gICAgICAgICAgICBmb3JFYWNoKGN1cnJBbHQsIGZ1bmN0aW9uIChjdXJyVG9rVHlwZSkge1xuICAgICAgICAgICAgICAgIGlmICghaGFzKHJlc3VsdCwgY3VyclRva1R5cGUudG9rZW5UeXBlSWR4KSkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHRbY3VyclRva1R5cGUudG9rZW5UeXBlSWR4XSA9IGlkeDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yRWFjaChjdXJyVG9rVHlwZS5jYXRlZ29yeU1hdGNoZXMsIGZ1bmN0aW9uIChjdXJyRXh0ZW5kaW5nVHlwZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWhhcyhyZXN1bHQsIGN1cnJFeHRlbmRpbmdUeXBlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0W2N1cnJFeHRlbmRpbmdUeXBlXSA9IGlkeDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9LCBbXSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSAtIFRoZSBjaG9zZW4gYWx0ZXJuYXRpdmUgaW5kZXhcbiAgICAgICAgICovXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgbmV4dFRva2VuID0gdGhpcy5MQSgxKTtcbiAgICAgICAgICAgIHJldHVybiBjaG9pY2VUb0FsdF8xW25leHRUb2tlbi50b2tlblR5cGVJZHhdO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gb3B0aW1pemVkIGxvb2thaGVhZCB3aXRob3V0IG5lZWRpbmcgdG8gY2hlY2sgdGhlIHByZWRpY2F0ZXMgYXQgYWxsLlxuICAgICAgICAvLyB0aGlzIGNhdXNlcyBjb2RlIGR1cGxpY2F0aW9uIHdoaWNoIGlzIGludGVudGlvbmFsIHRvIGltcHJvdmUgcGVyZm9ybWFuY2UuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSAtIFRoZSBjaG9zZW4gYWx0ZXJuYXRpdmUgaW5kZXhcbiAgICAgICAgICovXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBmb3IgKHZhciB0ID0gMDsgdCA8IG51bU9mQWx0czsgdCsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGN1cnJBbHQgPSBhbHRzW3RdO1xuICAgICAgICAgICAgICAgIHZhciBjdXJyTnVtT2ZQYXRocyA9IGN1cnJBbHQubGVuZ3RoO1xuICAgICAgICAgICAgICAgIG5leHRQYXRoOiBmb3IgKHZhciBqID0gMDsgaiA8IGN1cnJOdW1PZlBhdGhzOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJQYXRoID0gY3VyckFsdFtqXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJQYXRoTGVuZ3RoID0gY3VyclBhdGgubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGN1cnJQYXRoTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXh0VG9rZW4gPSB0aGlzLkxBKGkgKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbk1hdGNoZXIobmV4dFRva2VuLCBjdXJyUGF0aFtpXSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbWlzbWF0Y2ggaW4gY3VycmVudCBwYXRoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdHJ5IHRoZSBuZXh0IHB0aFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlIG5leHRQYXRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIGZvdW5kIGEgZnVsbCBwYXRoIHRoYXQgbWF0Y2hlcy5cbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyB3aWxsIGFsc28gd29yayBmb3IgYW4gZW1wdHkgQUxUIGFzIHRoZSBsb29wIHdpbGwgYmUgc2tpcHBlZFxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gbm9uZSBvZiB0aGUgcGF0aHMgZm9yIHRoZSBjdXJyZW50IGFsdGVybmF0aXZlIG1hdGNoZWRcbiAgICAgICAgICAgICAgICAvLyB0cnkgdGhlIG5leHQgYWx0ZXJuYXRpdmVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIG5vbmUgb2YgdGhlIGFsdGVybmF0aXZlcyBjb3VsZCBiZSBtYXRjaGVkXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9O1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBidWlsZFNpbmdsZUFsdGVybmF0aXZlTG9va2FoZWFkRnVuY3Rpb24oYWx0LCB0b2tlbk1hdGNoZXIsIGR5bmFtaWNUb2tlbnNFbmFibGVkKSB7XG4gICAgdmFyIGFyZUFsbE9uZVRva2VuTG9va2FoZWFkID0gZXZlcnkoYWx0LCBmdW5jdGlvbiAoY3VyclBhdGgpIHtcbiAgICAgICAgcmV0dXJuIGN1cnJQYXRoLmxlbmd0aCA9PT0gMTtcbiAgICB9KTtcbiAgICB2YXIgbnVtT2ZQYXRocyA9IGFsdC5sZW5ndGg7XG4gICAgLy8gb3B0aW1pemVkIChjb21tb24pIGNhc2Ugb2YgYWxsIHRoZSBsb29rYWhlYWRzIHBhdGhzIHJlcXVpcmluZyBvbmx5XG4gICAgLy8gYSBzaW5nbGUgdG9rZW4gbG9va2FoZWFkLlxuICAgIGlmIChhcmVBbGxPbmVUb2tlbkxvb2thaGVhZCAmJiAhZHluYW1pY1Rva2Vuc0VuYWJsZWQpIHtcbiAgICAgICAgdmFyIHNpbmdsZVRva2Vuc1R5cGVzID0gZmxhdHRlbihhbHQpO1xuICAgICAgICBpZiAoc2luZ2xlVG9rZW5zVHlwZXMubGVuZ3RoID09PSAxICYmXG4gICAgICAgICAgICBpc0VtcHR5KHNpbmdsZVRva2Vuc1R5cGVzWzBdLmNhdGVnb3J5TWF0Y2hlcykpIHtcbiAgICAgICAgICAgIHZhciBleHBlY3RlZFRva2VuVHlwZSA9IHNpbmdsZVRva2Vuc1R5cGVzWzBdO1xuICAgICAgICAgICAgdmFyIGV4cGVjdGVkVG9rZW5VbmlxdWVLZXlfMSA9IGV4cGVjdGVkVG9rZW5UeXBlLnRva2VuVHlwZUlkeDtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuTEEoMSkudG9rZW5UeXBlSWR4ID09PSBleHBlY3RlZFRva2VuVW5pcXVlS2V5XzE7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIGNob2ljZVRvQWx0XzIgPSByZWR1Y2Uoc2luZ2xlVG9rZW5zVHlwZXMsIGZ1bmN0aW9uIChyZXN1bHQsIGN1cnJUb2tUeXBlLCBpZHgpIHtcbiAgICAgICAgICAgICAgICByZXN1bHRbY3VyclRva1R5cGUudG9rZW5UeXBlSWR4XSA9IHRydWU7XG4gICAgICAgICAgICAgICAgZm9yRWFjaChjdXJyVG9rVHlwZS5jYXRlZ29yeU1hdGNoZXMsIGZ1bmN0aW9uIChjdXJyRXh0ZW5kaW5nVHlwZSkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHRbY3VyckV4dGVuZGluZ1R5cGVdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfSwgW10pO1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgbmV4dFRva2VuID0gdGhpcy5MQSgxKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2hvaWNlVG9BbHRfMltuZXh0VG9rZW4udG9rZW5UeXBlSWR4XSA9PT0gdHJ1ZTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBuZXh0UGF0aDogZm9yICh2YXIgaiA9IDA7IGogPCBudW1PZlBhdGhzOyBqKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgY3VyclBhdGggPSBhbHRbal07XG4gICAgICAgICAgICAgICAgdmFyIGN1cnJQYXRoTGVuZ3RoID0gY3VyclBhdGgubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY3VyclBhdGhMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbmV4dFRva2VuID0gdGhpcy5MQShpICsgMSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbk1hdGNoZXIobmV4dFRva2VuLCBjdXJyUGF0aFtpXSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBtaXNtYXRjaCBpbiBjdXJyZW50IHBhdGhcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRyeSB0aGUgbmV4dCBwdGhcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlIG5leHRQYXRoO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGZvdW5kIGEgZnVsbCBwYXRoIHRoYXQgbWF0Y2hlcy5cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIG5vbmUgb2YgdGhlIHBhdGhzIG1hdGNoZWRcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfTtcbiAgICB9XG59XG52YXIgUmVzdERlZmluaXRpb25GaW5kZXJXYWxrZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFJlc3REZWZpbml0aW9uRmluZGVyV2Fsa2VyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFJlc3REZWZpbml0aW9uRmluZGVyV2Fsa2VyKHRvcFByb2QsIHRhcmdldE9jY3VycmVuY2UsIHRhcmdldFByb2RUeXBlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnRvcFByb2QgPSB0b3BQcm9kO1xuICAgICAgICBfdGhpcy50YXJnZXRPY2N1cnJlbmNlID0gdGFyZ2V0T2NjdXJyZW5jZTtcbiAgICAgICAgX3RoaXMudGFyZ2V0UHJvZFR5cGUgPSB0YXJnZXRQcm9kVHlwZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBSZXN0RGVmaW5pdGlvbkZpbmRlcldhbGtlci5wcm90b3R5cGUuc3RhcnRXYWxraW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLndhbGsodGhpcy50b3BQcm9kKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzdERlZjtcbiAgICB9O1xuICAgIFJlc3REZWZpbml0aW9uRmluZGVyV2Fsa2VyLnByb3RvdHlwZS5jaGVja0lzVGFyZ2V0ID0gZnVuY3Rpb24gKG5vZGUsIGV4cGVjdGVkUHJvZFR5cGUsIGN1cnJSZXN0LCBwcmV2UmVzdCkge1xuICAgICAgICBpZiAobm9kZS5pZHggPT09IHRoaXMudGFyZ2V0T2NjdXJyZW5jZSAmJlxuICAgICAgICAgICAgdGhpcy50YXJnZXRQcm9kVHlwZSA9PT0gZXhwZWN0ZWRQcm9kVHlwZSkge1xuICAgICAgICAgICAgdGhpcy5yZXN0RGVmID0gY3VyclJlc3QuY29uY2F0KHByZXZSZXN0KTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIHBlcmZvcm1hbmNlIG9wdGltaXphdGlvbiwgZG8gbm90IGl0ZXJhdGUgb3ZlciB0aGUgZW50aXJlIEdyYW1tYXIgYXN0IGFmdGVyIHdlIGhhdmUgZm91bmQgdGhlIHRhcmdldFxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICBSZXN0RGVmaW5pdGlvbkZpbmRlcldhbGtlci5wcm90b3R5cGUud2Fsa09wdGlvbiA9IGZ1bmN0aW9uIChvcHRpb25Qcm9kLCBjdXJyUmVzdCwgcHJldlJlc3QpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNoZWNrSXNUYXJnZXQob3B0aW9uUHJvZCwgUFJPRF9UWVBFLk9QVElPTiwgY3VyclJlc3QsIHByZXZSZXN0KSkge1xuICAgICAgICAgICAgX3N1cGVyLnByb3RvdHlwZS53YWxrT3B0aW9uLmNhbGwodGhpcywgb3B0aW9uUHJvZCwgY3VyclJlc3QsIHByZXZSZXN0KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUmVzdERlZmluaXRpb25GaW5kZXJXYWxrZXIucHJvdG90eXBlLndhbGtBdExlYXN0T25lID0gZnVuY3Rpb24gKGF0TGVhc3RPbmVQcm9kLCBjdXJyUmVzdCwgcHJldlJlc3QpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNoZWNrSXNUYXJnZXQoYXRMZWFzdE9uZVByb2QsIFBST0RfVFlQRS5SRVBFVElUSU9OX01BTkRBVE9SWSwgY3VyclJlc3QsIHByZXZSZXN0KSkge1xuICAgICAgICAgICAgX3N1cGVyLnByb3RvdHlwZS53YWxrT3B0aW9uLmNhbGwodGhpcywgYXRMZWFzdE9uZVByb2QsIGN1cnJSZXN0LCBwcmV2UmVzdCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJlc3REZWZpbml0aW9uRmluZGVyV2Fsa2VyLnByb3RvdHlwZS53YWxrQXRMZWFzdE9uZVNlcCA9IGZ1bmN0aW9uIChhdExlYXN0T25lU2VwUHJvZCwgY3VyclJlc3QsIHByZXZSZXN0KSB7XG4gICAgICAgIGlmICghdGhpcy5jaGVja0lzVGFyZ2V0KGF0TGVhc3RPbmVTZXBQcm9kLCBQUk9EX1RZUEUuUkVQRVRJVElPTl9NQU5EQVRPUllfV0lUSF9TRVBBUkFUT1IsIGN1cnJSZXN0LCBwcmV2UmVzdCkpIHtcbiAgICAgICAgICAgIF9zdXBlci5wcm90b3R5cGUud2Fsa09wdGlvbi5jYWxsKHRoaXMsIGF0TGVhc3RPbmVTZXBQcm9kLCBjdXJyUmVzdCwgcHJldlJlc3QpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBSZXN0RGVmaW5pdGlvbkZpbmRlcldhbGtlci5wcm90b3R5cGUud2Fsa01hbnkgPSBmdW5jdGlvbiAobWFueVByb2QsIGN1cnJSZXN0LCBwcmV2UmVzdCkge1xuICAgICAgICBpZiAoIXRoaXMuY2hlY2tJc1RhcmdldChtYW55UHJvZCwgUFJPRF9UWVBFLlJFUEVUSVRJT04sIGN1cnJSZXN0LCBwcmV2UmVzdCkpIHtcbiAgICAgICAgICAgIF9zdXBlci5wcm90b3R5cGUud2Fsa09wdGlvbi5jYWxsKHRoaXMsIG1hbnlQcm9kLCBjdXJyUmVzdCwgcHJldlJlc3QpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBSZXN0RGVmaW5pdGlvbkZpbmRlcldhbGtlci5wcm90b3R5cGUud2Fsa01hbnlTZXAgPSBmdW5jdGlvbiAobWFueVNlcFByb2QsIGN1cnJSZXN0LCBwcmV2UmVzdCkge1xuICAgICAgICBpZiAoIXRoaXMuY2hlY2tJc1RhcmdldChtYW55U2VwUHJvZCwgUFJPRF9UWVBFLlJFUEVUSVRJT05fV0lUSF9TRVBBUkFUT1IsIGN1cnJSZXN0LCBwcmV2UmVzdCkpIHtcbiAgICAgICAgICAgIF9zdXBlci5wcm90b3R5cGUud2Fsa09wdGlvbi5jYWxsKHRoaXMsIG1hbnlTZXBQcm9kLCBjdXJyUmVzdCwgcHJldlJlc3QpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gUmVzdERlZmluaXRpb25GaW5kZXJXYWxrZXI7XG59KFJlc3RXYWxrZXIpKTtcbi8qKlxuICogUmV0dXJucyB0aGUgZGVmaW5pdGlvbiBvZiBhIHRhcmdldCBwcm9kdWN0aW9uIGluIGEgdG9wIGxldmVsIGxldmVsIHJ1bGUuXG4gKi9cbnZhciBJbnNpZGVEZWZpbml0aW9uRmluZGVyVmlzaXRvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoSW5zaWRlRGVmaW5pdGlvbkZpbmRlclZpc2l0b3IsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gSW5zaWRlRGVmaW5pdGlvbkZpbmRlclZpc2l0b3IodGFyZ2V0T2NjdXJyZW5jZSwgdGFyZ2V0UHJvZFR5cGUsIHRhcmdldFJlZikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy50YXJnZXRPY2N1cnJlbmNlID0gdGFyZ2V0T2NjdXJyZW5jZTtcbiAgICAgICAgX3RoaXMudGFyZ2V0UHJvZFR5cGUgPSB0YXJnZXRQcm9kVHlwZTtcbiAgICAgICAgX3RoaXMudGFyZ2V0UmVmID0gdGFyZ2V0UmVmO1xuICAgICAgICBfdGhpcy5yZXN1bHQgPSBbXTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBJbnNpZGVEZWZpbml0aW9uRmluZGVyVmlzaXRvci5wcm90b3R5cGUuY2hlY2tJc1RhcmdldCA9IGZ1bmN0aW9uIChub2RlLCBleHBlY3RlZFByb2ROYW1lKSB7XG4gICAgICAgIGlmIChub2RlLmlkeCA9PT0gdGhpcy50YXJnZXRPY2N1cnJlbmNlICYmXG4gICAgICAgICAgICB0aGlzLnRhcmdldFByb2RUeXBlID09PSBleHBlY3RlZFByb2ROYW1lICYmXG4gICAgICAgICAgICAodGhpcy50YXJnZXRSZWYgPT09IHVuZGVmaW5lZCB8fCBub2RlID09PSB0aGlzLnRhcmdldFJlZikpIHtcbiAgICAgICAgICAgIHRoaXMucmVzdWx0ID0gbm9kZS5kZWZpbml0aW9uO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBJbnNpZGVEZWZpbml0aW9uRmluZGVyVmlzaXRvci5wcm90b3R5cGUudmlzaXRPcHRpb24gPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICB0aGlzLmNoZWNrSXNUYXJnZXQobm9kZSwgUFJPRF9UWVBFLk9QVElPTik7XG4gICAgfTtcbiAgICBJbnNpZGVEZWZpbml0aW9uRmluZGVyVmlzaXRvci5wcm90b3R5cGUudmlzaXRSZXBldGl0aW9uID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgdGhpcy5jaGVja0lzVGFyZ2V0KG5vZGUsIFBST0RfVFlQRS5SRVBFVElUSU9OKTtcbiAgICB9O1xuICAgIEluc2lkZURlZmluaXRpb25GaW5kZXJWaXNpdG9yLnByb3RvdHlwZS52aXNpdFJlcGV0aXRpb25NYW5kYXRvcnkgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICB0aGlzLmNoZWNrSXNUYXJnZXQobm9kZSwgUFJPRF9UWVBFLlJFUEVUSVRJT05fTUFOREFUT1JZKTtcbiAgICB9O1xuICAgIEluc2lkZURlZmluaXRpb25GaW5kZXJWaXNpdG9yLnByb3RvdHlwZS52aXNpdFJlcGV0aXRpb25NYW5kYXRvcnlXaXRoU2VwYXJhdG9yID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgdGhpcy5jaGVja0lzVGFyZ2V0KG5vZGUsIFBST0RfVFlQRS5SRVBFVElUSU9OX01BTkRBVE9SWV9XSVRIX1NFUEFSQVRPUik7XG4gICAgfTtcbiAgICBJbnNpZGVEZWZpbml0aW9uRmluZGVyVmlzaXRvci5wcm90b3R5cGUudmlzaXRSZXBldGl0aW9uV2l0aFNlcGFyYXRvciA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgIHRoaXMuY2hlY2tJc1RhcmdldChub2RlLCBQUk9EX1RZUEUuUkVQRVRJVElPTl9XSVRIX1NFUEFSQVRPUik7XG4gICAgfTtcbiAgICBJbnNpZGVEZWZpbml0aW9uRmluZGVyVmlzaXRvci5wcm90b3R5cGUudmlzaXRBbHRlcm5hdGlvbiA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgIHRoaXMuY2hlY2tJc1RhcmdldChub2RlLCBQUk9EX1RZUEUuQUxURVJOQVRJT04pO1xuICAgIH07XG4gICAgcmV0dXJuIEluc2lkZURlZmluaXRpb25GaW5kZXJWaXNpdG9yO1xufShHQXN0VmlzaXRvcikpO1xuZnVuY3Rpb24gaW5pdGlhbGl6ZUFycmF5T2ZBcnJheXMoc2l6ZSkge1xuICAgIHZhciByZXN1bHQgPSBuZXcgQXJyYXkoc2l6ZSk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyBpKyspIHtcbiAgICAgICAgcmVzdWx0W2ldID0gW107XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG4vKipcbiAqIEEgc29ydCBvZiBoYXNoIGZ1bmN0aW9uIGJldHdlZW4gYSBQYXRoIGluIHRoZSBncmFtbWFyIGFuZCBhIHN0cmluZy5cbiAqIE5vdGUgdGhhdCB0aGlzIHJldHVybnMgbXVsdGlwbGUgXCJoYXNoZXNcIiB0byBzdXBwb3J0IHRoZSBzY2VuYXJpbyBvZiB0b2tlbiBjYXRlZ29yaWVzLlxuICogLSAgQSBzaW5nbGUgcGF0aCB3aXRoIGNhdGVnb3JpZXMgbWF5IG1hdGNoIG11bHRpcGxlICoqYWN0dWFsKiogcGF0aHMuXG4gKi9cbmZ1bmN0aW9uIHBhdGhUb0hhc2hLZXlzKHBhdGgpIHtcbiAgICB2YXIga2V5cyA9IFtcIlwiXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdGgubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHRva1R5cGUgPSBwYXRoW2ldO1xuICAgICAgICB2YXIgbG9uZ2VyS2V5cyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGtleXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIHZhciBjdXJyU2hvcnRlcktleSA9IGtleXNbal07XG4gICAgICAgICAgICBsb25nZXJLZXlzLnB1c2goY3VyclNob3J0ZXJLZXkgKyBcIl9cIiArIHRva1R5cGUudG9rZW5UeXBlSWR4KTtcbiAgICAgICAgICAgIGZvciAodmFyIHQgPSAwOyB0IDwgdG9rVHlwZS5jYXRlZ29yeU1hdGNoZXMubGVuZ3RoOyB0KyspIHtcbiAgICAgICAgICAgICAgICB2YXIgY2F0ZWdvcmllc0tleVN1ZmZpeCA9IFwiX1wiICsgdG9rVHlwZS5jYXRlZ29yeU1hdGNoZXNbdF07XG4gICAgICAgICAgICAgICAgbG9uZ2VyS2V5cy5wdXNoKGN1cnJTaG9ydGVyS2V5ICsgY2F0ZWdvcmllc0tleVN1ZmZpeCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAga2V5cyA9IGxvbmdlcktleXM7XG4gICAgfVxuICAgIHJldHVybiBrZXlzO1xufVxuLyoqXG4gKiBJbXBlcmF0aXZlIHN0eWxlIGR1ZSB0byBiZWluZyBjYWxsZWQgZnJvbSBhIGhvdCBzcG90XG4gKi9cbmZ1bmN0aW9uIGlzVW5pcXVlUHJlZml4SGFzaChhbHRLbm93blBhdGhzS2V5cywgc2VhcmNoUGF0aEtleXMsIGlkeCkge1xuICAgIGZvciAodmFyIGN1cnJBbHRJZHggPSAwOyBjdXJyQWx0SWR4IDwgYWx0S25vd25QYXRoc0tleXMubGVuZ3RoOyBjdXJyQWx0SWR4KyspIHtcbiAgICAgICAgLy8gV2Ugb25seSB3YW50IHRvIHRlc3QgdnMgdGhlIG90aGVyIGFsdGVybmF0aXZlc1xuICAgICAgICBpZiAoY3VyckFsdElkeCA9PT0gaWR4KSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgb3RoZXJBbHRLbm93blBhdGhzS2V5cyA9IGFsdEtub3duUGF0aHNLZXlzW2N1cnJBbHRJZHhdO1xuICAgICAgICBmb3IgKHZhciBzZWFyY2hJZHggPSAwOyBzZWFyY2hJZHggPCBzZWFyY2hQYXRoS2V5cy5sZW5ndGg7IHNlYXJjaElkeCsrKSB7XG4gICAgICAgICAgICB2YXIgc2VhcmNoS2V5ID0gc2VhcmNoUGF0aEtleXNbc2VhcmNoSWR4XTtcbiAgICAgICAgICAgIGlmIChvdGhlckFsdEtub3duUGF0aHNLZXlzW3NlYXJjaEtleV0gPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gTm9uZSBvZiB0aGUgU2VhcmNoUGF0aEtleXMgd2VyZSBmb3VuZCBpbiBhbnkgb2YgdGhlIG90aGVyIGFsdGVybmF0aXZlc1xuICAgIHJldHVybiB0cnVlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGxvb2tBaGVhZFNlcXVlbmNlRnJvbUFsdGVybmF0aXZlcyhhbHRzRGVmcywgaykge1xuICAgIHZhciBwYXJ0aWFsQWx0cyA9IG1hcChhbHRzRGVmcywgZnVuY3Rpb24gKGN1cnJBbHQpIHsgcmV0dXJuIHBvc3NpYmxlUGF0aHNGcm9tKFtjdXJyQWx0XSwgMSk7IH0pO1xuICAgIHZhciBmaW5hbFJlc3VsdCA9IGluaXRpYWxpemVBcnJheU9mQXJyYXlzKHBhcnRpYWxBbHRzLmxlbmd0aCk7XG4gICAgdmFyIGFsdHNIYXNoZXMgPSBtYXAocGFydGlhbEFsdHMsIGZ1bmN0aW9uIChjdXJyQWx0UGF0aHMpIHtcbiAgICAgICAgdmFyIGRpY3QgPSB7fTtcbiAgICAgICAgZm9yRWFjaChjdXJyQWx0UGF0aHMsIGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICB2YXIga2V5cyA9IHBhdGhUb0hhc2hLZXlzKGl0ZW0ucGFydGlhbFBhdGgpO1xuICAgICAgICAgICAgZm9yRWFjaChrZXlzLCBmdW5jdGlvbiAoY3VycktleSkge1xuICAgICAgICAgICAgICAgIGRpY3RbY3VycktleV0gPSB0cnVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZGljdDtcbiAgICB9KTtcbiAgICB2YXIgbmV3RGF0YSA9IHBhcnRpYWxBbHRzO1xuICAgIC8vIG1heExvb2thaGVhZCBsb29wXG4gICAgZm9yICh2YXIgcGF0aExlbmd0aCA9IDE7IHBhdGhMZW5ndGggPD0gazsgcGF0aExlbmd0aCsrKSB7XG4gICAgICAgIHZhciBjdXJyRGF0YXNldCA9IG5ld0RhdGE7XG4gICAgICAgIG5ld0RhdGEgPSBpbml0aWFsaXplQXJyYXlPZkFycmF5cyhjdXJyRGF0YXNldC5sZW5ndGgpO1xuICAgICAgICB2YXIgX2xvb3BfMSA9IGZ1bmN0aW9uIChhbHRJZHgpIHtcbiAgICAgICAgICAgIHZhciBjdXJyQWx0UGF0aHNBbmRTdWZmaXhlcyA9IGN1cnJEYXRhc2V0W2FsdElkeF07XG4gICAgICAgICAgICAvLyBwYXRocyBpbiBjdXJyZW50IGFsdGVybmF0aXZlIGxvb3BcbiAgICAgICAgICAgIGZvciAodmFyIGN1cnJQYXRoSWR4ID0gMDsgY3VyclBhdGhJZHggPCBjdXJyQWx0UGF0aHNBbmRTdWZmaXhlcy5sZW5ndGg7IGN1cnJQYXRoSWR4KyspIHtcbiAgICAgICAgICAgICAgICB2YXIgY3VyclBhdGhQcmVmaXggPSBjdXJyQWx0UGF0aHNBbmRTdWZmaXhlc1tjdXJyUGF0aElkeF0ucGFydGlhbFBhdGg7XG4gICAgICAgICAgICAgICAgdmFyIHN1ZmZpeERlZiA9IGN1cnJBbHRQYXRoc0FuZFN1ZmZpeGVzW2N1cnJQYXRoSWR4XS5zdWZmaXhEZWY7XG4gICAgICAgICAgICAgICAgdmFyIHByZWZpeEtleXMgPSBwYXRoVG9IYXNoS2V5cyhjdXJyUGF0aFByZWZpeCk7XG4gICAgICAgICAgICAgICAgdmFyIGlzVW5pcXVlID0gaXNVbmlxdWVQcmVmaXhIYXNoKGFsdHNIYXNoZXMsIHByZWZpeEtleXMsIGFsdElkeCk7XG4gICAgICAgICAgICAgICAgLy8gRW5kIG9mIHRoZSBsaW5lIGZvciB0aGlzIHBhdGguXG4gICAgICAgICAgICAgICAgaWYgKGlzVW5pcXVlIHx8IGlzRW1wdHkoc3VmZml4RGVmKSB8fCBjdXJyUGF0aFByZWZpeC5sZW5ndGggPT09IGspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJBbHRSZXN1bHQgPSBmaW5hbFJlc3VsdFthbHRJZHhdO1xuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBDYW4gd2UgaW1wbGVtZW50IGEgY29udGFpbnNQYXRoIHVzaW5nIE1hcHMvRGljdGlvbmFyaWVzP1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29udGFpbnNQYXRoKGN1cnJBbHRSZXN1bHQsIGN1cnJQYXRoUHJlZml4KSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJBbHRSZXN1bHQucHVzaChjdXJyUGF0aFByZWZpeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgYWxsIG5ldyAga2V5cyBmb3IgdGhlIGN1cnJlbnQgcGF0aC5cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgcHJlZml4S2V5cy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJyS2V5ID0gcHJlZml4S2V5c1tqXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHRzSGFzaGVzW2FsdElkeF1bY3VycktleV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEV4cGFuZCBsb25nZXIgcGF0aHNcbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld1BhcnRpYWxQYXRoc0FuZFN1ZmZpeGVzID0gcG9zc2libGVQYXRoc0Zyb20oc3VmZml4RGVmLCBwYXRoTGVuZ3RoICsgMSwgY3VyclBhdGhQcmVmaXgpO1xuICAgICAgICAgICAgICAgICAgICBuZXdEYXRhW2FsdElkeF0gPSBuZXdEYXRhW2FsdElkeF0uY29uY2F0KG5ld1BhcnRpYWxQYXRoc0FuZFN1ZmZpeGVzKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIGtleXMgZm9yIG5ldyBrbm93biBwYXRoc1xuICAgICAgICAgICAgICAgICAgICBmb3JFYWNoKG5ld1BhcnRpYWxQYXRoc0FuZFN1ZmZpeGVzLCBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByZWZpeEtleXMgPSBwYXRoVG9IYXNoS2V5cyhpdGVtLnBhcnRpYWxQYXRoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvckVhY2gocHJlZml4S2V5cywgZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsdHNIYXNoZXNbYWx0SWR4XVtrZXldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8vIGFsdGVybmF0aXZlcyBsb29wXG4gICAgICAgIGZvciAodmFyIGFsdElkeCA9IDA7IGFsdElkeCA8IGN1cnJEYXRhc2V0Lmxlbmd0aDsgYWx0SWR4KyspIHtcbiAgICAgICAgICAgIF9sb29wXzEoYWx0SWR4KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmluYWxSZXN1bHQ7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0TG9va2FoZWFkUGF0aHNGb3JPcihvY2N1cnJlbmNlLCBydWxlR3JhbW1hciwgaywgb3JQcm9kKSB7XG4gICAgdmFyIHZpc2l0b3IgPSBuZXcgSW5zaWRlRGVmaW5pdGlvbkZpbmRlclZpc2l0b3Iob2NjdXJyZW5jZSwgUFJPRF9UWVBFLkFMVEVSTkFUSU9OLCBvclByb2QpO1xuICAgIHJ1bGVHcmFtbWFyLmFjY2VwdCh2aXNpdG9yKTtcbiAgICByZXR1cm4gbG9va0FoZWFkU2VxdWVuY2VGcm9tQWx0ZXJuYXRpdmVzKHZpc2l0b3IucmVzdWx0LCBrKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRMb29rYWhlYWRQYXRoc0Zvck9wdGlvbmFsUHJvZChvY2N1cnJlbmNlLCBydWxlR3JhbW1hciwgcHJvZFR5cGUsIGspIHtcbiAgICB2YXIgaW5zaWRlRGVmVmlzaXRvciA9IG5ldyBJbnNpZGVEZWZpbml0aW9uRmluZGVyVmlzaXRvcihvY2N1cnJlbmNlLCBwcm9kVHlwZSk7XG4gICAgcnVsZUdyYW1tYXIuYWNjZXB0KGluc2lkZURlZlZpc2l0b3IpO1xuICAgIHZhciBpbnNpZGVEZWYgPSBpbnNpZGVEZWZWaXNpdG9yLnJlc3VsdDtcbiAgICB2YXIgYWZ0ZXJEZWZXYWxrZXIgPSBuZXcgUmVzdERlZmluaXRpb25GaW5kZXJXYWxrZXIocnVsZUdyYW1tYXIsIG9jY3VycmVuY2UsIHByb2RUeXBlKTtcbiAgICB2YXIgYWZ0ZXJEZWYgPSBhZnRlckRlZldhbGtlci5zdGFydFdhbGtpbmcoKTtcbiAgICB2YXIgaW5zaWRlRmxhdCA9IG5ldyBBbHRlcm5hdGl2ZUdBU1QoeyBkZWZpbml0aW9uOiBpbnNpZGVEZWYgfSk7XG4gICAgdmFyIGFmdGVyRmxhdCA9IG5ldyBBbHRlcm5hdGl2ZUdBU1QoeyBkZWZpbml0aW9uOiBhZnRlckRlZiB9KTtcbiAgICByZXR1cm4gbG9va0FoZWFkU2VxdWVuY2VGcm9tQWx0ZXJuYXRpdmVzKFtpbnNpZGVGbGF0LCBhZnRlckZsYXRdLCBrKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjb250YWluc1BhdGgoYWx0ZXJuYXRpdmUsIHNlYXJjaFBhdGgpIHtcbiAgICBjb21wYXJlT3RoZXJQYXRoOiBmb3IgKHZhciBpID0gMDsgaSA8IGFsdGVybmF0aXZlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBvdGhlclBhdGggPSBhbHRlcm5hdGl2ZVtpXTtcbiAgICAgICAgaWYgKG90aGVyUGF0aC5sZW5ndGggIT09IHNlYXJjaFBhdGgubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG90aGVyUGF0aC5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgdmFyIHNlYXJjaFRvayA9IHNlYXJjaFBhdGhbal07XG4gICAgICAgICAgICB2YXIgb3RoZXJUb2sgPSBvdGhlclBhdGhbal07XG4gICAgICAgICAgICB2YXIgbWF0Y2hpbmdUb2tlbnMgPSBzZWFyY2hUb2sgPT09IG90aGVyVG9rIHx8XG4gICAgICAgICAgICAgICAgb3RoZXJUb2suY2F0ZWdvcnlNYXRjaGVzTWFwW3NlYXJjaFRvay50b2tlblR5cGVJZHhdICE9PSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBpZiAobWF0Y2hpbmdUb2tlbnMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgY29udGludWUgY29tcGFyZU90aGVyUGF0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzU3RyaWN0UHJlZml4T2ZQYXRoKHByZWZpeCwgb3RoZXIpIHtcbiAgICByZXR1cm4gKHByZWZpeC5sZW5ndGggPCBvdGhlci5sZW5ndGggJiZcbiAgICAgICAgZXZlcnkocHJlZml4LCBmdW5jdGlvbiAodG9rVHlwZSwgaWR4KSB7XG4gICAgICAgICAgICB2YXIgb3RoZXJUb2tUeXBlID0gb3RoZXJbaWR4XTtcbiAgICAgICAgICAgIHJldHVybiAodG9rVHlwZSA9PT0gb3RoZXJUb2tUeXBlIHx8XG4gICAgICAgICAgICAgICAgb3RoZXJUb2tUeXBlLmNhdGVnb3J5TWF0Y2hlc01hcFt0b2tUeXBlLnRva2VuVHlwZUlkeF0pO1xuICAgICAgICB9KSk7XG59XG5leHBvcnQgZnVuY3Rpb24gYXJlVG9rZW5DYXRlZ29yaWVzTm90VXNlZChsb29rQWhlYWRQYXRocykge1xuICAgIHJldHVybiBldmVyeShsb29rQWhlYWRQYXRocywgZnVuY3Rpb24gKHNpbmdsZUFsdFBhdGhzKSB7XG4gICAgICAgIHJldHVybiBldmVyeShzaW5nbGVBbHRQYXRocywgZnVuY3Rpb24gKHNpbmdsZVBhdGgpIHtcbiAgICAgICAgICAgIHJldHVybiBldmVyeShzaW5nbGVQYXRoLCBmdW5jdGlvbiAodG9rZW4pIHsgcmV0dXJuIGlzRW1wdHkodG9rZW4uY2F0ZWdvcnlNYXRjaGVzKTsgfSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bG9va2FoZWFkLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0ICogYXMgdXRpbHMgZnJvbSBcIi4uLy4uL3V0aWxzL3V0aWxzXCI7XG5pbXBvcnQgeyBjb250YWlucywgZXZlcnksIGZpbmRBbGwsIGZsYXR0ZW4sIGZvckVhY2gsIGlzRW1wdHksIG1hcCwgcmVkdWNlLCByZWplY3QgfSBmcm9tIFwiLi4vLi4vdXRpbHMvdXRpbHNcIjtcbmltcG9ydCB7IFBhcnNlckRlZmluaXRpb25FcnJvclR5cGUgfSBmcm9tIFwiLi4vcGFyc2VyL3BhcnNlclwiO1xuaW1wb3J0IHsgZ2V0UHJvZHVjdGlvbkRzbE5hbWUsIGlzT3B0aW9uYWxQcm9kIH0gZnJvbSBcIi4vZ2FzdC9nYXN0XCI7XG5pbXBvcnQgeyBjb250YWluc1BhdGgsIGdldExvb2thaGVhZFBhdGhzRm9yT3B0aW9uYWxQcm9kLCBnZXRMb29rYWhlYWRQYXRoc0Zvck9yLCBnZXRQcm9kVHlwZSwgaXNTdHJpY3RQcmVmaXhPZlBhdGggfSBmcm9tIFwiLi9sb29rYWhlYWRcIjtcbmltcG9ydCB7IG5leHRQb3NzaWJsZVRva2Vuc0FmdGVyIH0gZnJvbSBcIi4vaW50ZXJwcmV0ZXJcIjtcbmltcG9ydCB7IEFsdGVybmF0aW9uLCBBbHRlcm5hdGl2ZSBhcyBBbHRlcm5hdGl2ZUdBU1QsIE5vblRlcm1pbmFsLCBPcHRpb24sIFJlcGV0aXRpb24sIFJlcGV0aXRpb25NYW5kYXRvcnksIFJlcGV0aXRpb25NYW5kYXRvcnlXaXRoU2VwYXJhdG9yLCBSZXBldGl0aW9uV2l0aFNlcGFyYXRvciwgVGVybWluYWwgfSBmcm9tIFwiLi9nYXN0L2dhc3RfcHVibGljXCI7XG5pbXBvcnQgeyBHQXN0VmlzaXRvciB9IGZyb20gXCIuL2dhc3QvZ2FzdF92aXNpdG9yX3B1YmxpY1wiO1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlR3JhbW1hcih0b3BMZXZlbHMsIGdsb2JhbE1heExvb2thaGVhZCwgdG9rZW5UeXBlcywgZXJyTXNnUHJvdmlkZXIsIGdyYW1tYXJOYW1lKSB7XG4gICAgdmFyIGR1cGxpY2F0ZUVycm9ycyA9IHV0aWxzLm1hcCh0b3BMZXZlbHMsIGZ1bmN0aW9uIChjdXJyVG9wTGV2ZWwpIHtcbiAgICAgICAgcmV0dXJuIHZhbGlkYXRlRHVwbGljYXRlUHJvZHVjdGlvbnMoY3VyclRvcExldmVsLCBlcnJNc2dQcm92aWRlcik7XG4gICAgfSk7XG4gICAgdmFyIGxlZnRSZWN1cnNpb25FcnJvcnMgPSB1dGlscy5tYXAodG9wTGV2ZWxzLCBmdW5jdGlvbiAoY3VyclRvcFJ1bGUpIHtcbiAgICAgICAgcmV0dXJuIHZhbGlkYXRlTm9MZWZ0UmVjdXJzaW9uKGN1cnJUb3BSdWxlLCBjdXJyVG9wUnVsZSwgZXJyTXNnUHJvdmlkZXIpO1xuICAgIH0pO1xuICAgIHZhciBlbXB0eUFsdEVycm9ycyA9IFtdO1xuICAgIHZhciBhbWJpZ3VvdXNBbHRzRXJyb3JzID0gW107XG4gICAgdmFyIGVtcHR5UmVwZXRpdGlvbkVycm9ycyA9IFtdO1xuICAgIC8vIGxlZnQgcmVjdXJzaW9uIGNvdWxkIGNhdXNlIGluZmluaXRlIGxvb3BzIGluIHRoZSBmb2xsb3dpbmcgdmFsaWRhdGlvbnMuXG4gICAgLy8gSXQgaXMgc2FmZXN0IHRvIGZpcnN0IGhhdmUgdGhlIHVzZXIgZml4IHRoZSBsZWZ0IHJlY3Vyc2lvbiBlcnJvcnMgZmlyc3QgYW5kIG9ubHkgdGhlbiBleGFtaW5lIEZ1cnRoZXIgaXNzdWVzLlxuICAgIGlmIChldmVyeShsZWZ0UmVjdXJzaW9uRXJyb3JzLCBpc0VtcHR5KSkge1xuICAgICAgICBlbXB0eUFsdEVycm9ycyA9IG1hcCh0b3BMZXZlbHMsIGZ1bmN0aW9uIChjdXJyVG9wUnVsZSkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbGlkYXRlRW1wdHlPckFsdGVybmF0aXZlKGN1cnJUb3BSdWxlLCBlcnJNc2dQcm92aWRlcik7XG4gICAgICAgIH0pO1xuICAgICAgICBhbWJpZ3VvdXNBbHRzRXJyb3JzID0gbWFwKHRvcExldmVscywgZnVuY3Rpb24gKGN1cnJUb3BSdWxlKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsaWRhdGVBbWJpZ3VvdXNBbHRlcm5hdGlvbkFsdGVybmF0aXZlcyhjdXJyVG9wUnVsZSwgZ2xvYmFsTWF4TG9va2FoZWFkLCBlcnJNc2dQcm92aWRlcik7XG4gICAgICAgIH0pO1xuICAgICAgICBlbXB0eVJlcGV0aXRpb25FcnJvcnMgPSB2YWxpZGF0ZVNvbWVOb25FbXB0eUxvb2thaGVhZFBhdGgodG9wTGV2ZWxzLCBnbG9iYWxNYXhMb29rYWhlYWQsIGVyck1zZ1Byb3ZpZGVyKTtcbiAgICB9XG4gICAgdmFyIHRlcm1zTmFtZXNwYWNlQ29uZmxpY3RFcnJvcnMgPSBjaGVja1Rlcm1pbmFsQW5kTm9uZVRlcm1pbmFsc05hbWVTcGFjZSh0b3BMZXZlbHMsIHRva2VuVHlwZXMsIGVyck1zZ1Byb3ZpZGVyKTtcbiAgICB2YXIgdG9rZW5OYW1lRXJyb3JzID0gdXRpbHMubWFwKHRva2VuVHlwZXMsIGZ1bmN0aW9uIChjdXJyVG9rVHlwZSkge1xuICAgICAgICByZXR1cm4gdmFsaWRhdGVUb2tlbk5hbWUoY3VyclRva1R5cGUsIGVyck1zZ1Byb3ZpZGVyKTtcbiAgICB9KTtcbiAgICB2YXIgdG9vTWFueUFsdHNFcnJvcnMgPSBtYXAodG9wTGV2ZWxzLCBmdW5jdGlvbiAoY3VyUnVsZSkge1xuICAgICAgICByZXR1cm4gdmFsaWRhdGVUb29NYW55QWx0cyhjdXJSdWxlLCBlcnJNc2dQcm92aWRlcik7XG4gICAgfSk7XG4gICAgdmFyIHJ1bGVOYW1lRXJyb3JzID0gbWFwKHRvcExldmVscywgZnVuY3Rpb24gKGN1clJ1bGUpIHtcbiAgICAgICAgcmV0dXJuIHZhbGlkYXRlUnVsZU5hbWUoY3VyUnVsZSwgZXJyTXNnUHJvdmlkZXIpO1xuICAgIH0pO1xuICAgIHZhciBkdXBsaWNhdGVSdWxlc0Vycm9yID0gbWFwKHRvcExldmVscywgZnVuY3Rpb24gKGN1clJ1bGUpIHtcbiAgICAgICAgcmV0dXJuIHZhbGlkYXRlUnVsZURvZXNOb3RBbHJlYWR5RXhpc3QoY3VyUnVsZSwgdG9wTGV2ZWxzLCBncmFtbWFyTmFtZSwgZXJyTXNnUHJvdmlkZXIpO1xuICAgIH0pO1xuICAgIHJldHVybiAodXRpbHMuZmxhdHRlbihkdXBsaWNhdGVFcnJvcnMuY29uY2F0KHRva2VuTmFtZUVycm9ycywgZW1wdHlSZXBldGl0aW9uRXJyb3JzLCBsZWZ0UmVjdXJzaW9uRXJyb3JzLCBlbXB0eUFsdEVycm9ycywgYW1iaWd1b3VzQWx0c0Vycm9ycywgdGVybXNOYW1lc3BhY2VDb25mbGljdEVycm9ycywgdG9vTWFueUFsdHNFcnJvcnMsIHJ1bGVOYW1lRXJyb3JzLCBkdXBsaWNhdGVSdWxlc0Vycm9yKSkpO1xufVxuZnVuY3Rpb24gdmFsaWRhdGVEdXBsaWNhdGVQcm9kdWN0aW9ucyh0b3BMZXZlbFJ1bGUsIGVyck1zZ1Byb3ZpZGVyKSB7XG4gICAgdmFyIGNvbGxlY3RvclZpc2l0b3IgPSBuZXcgT2NjdXJyZW5jZVZhbGlkYXRpb25Db2xsZWN0b3IoKTtcbiAgICB0b3BMZXZlbFJ1bGUuYWNjZXB0KGNvbGxlY3RvclZpc2l0b3IpO1xuICAgIHZhciBhbGxSdWxlUHJvZHVjdGlvbnMgPSBjb2xsZWN0b3JWaXNpdG9yLmFsbFByb2R1Y3Rpb25zO1xuICAgIHZhciBwcm9kdWN0aW9uR3JvdXBzID0gdXRpbHMuZ3JvdXBCeShhbGxSdWxlUHJvZHVjdGlvbnMsIGlkZW50aWZ5UHJvZHVjdGlvbkZvckR1cGxpY2F0ZXMpO1xuICAgIHZhciBkdXBsaWNhdGVzID0gdXRpbHMucGljayhwcm9kdWN0aW9uR3JvdXBzLCBmdW5jdGlvbiAoY3Vyckdyb3VwKSB7XG4gICAgICAgIHJldHVybiBjdXJyR3JvdXAubGVuZ3RoID4gMTtcbiAgICB9KTtcbiAgICB2YXIgZXJyb3JzID0gdXRpbHMubWFwKHV0aWxzLnZhbHVlcyhkdXBsaWNhdGVzKSwgZnVuY3Rpb24gKGN1cnJEdXBsaWNhdGVzKSB7XG4gICAgICAgIHZhciBmaXJzdFByb2QgPSB1dGlscy5maXJzdChjdXJyRHVwbGljYXRlcyk7XG4gICAgICAgIHZhciBtc2cgPSBlcnJNc2dQcm92aWRlci5idWlsZER1cGxpY2F0ZUZvdW5kRXJyb3IodG9wTGV2ZWxSdWxlLCBjdXJyRHVwbGljYXRlcyk7XG4gICAgICAgIHZhciBkc2xOYW1lID0gZ2V0UHJvZHVjdGlvbkRzbE5hbWUoZmlyc3RQcm9kKTtcbiAgICAgICAgdmFyIGRlZkVycm9yID0ge1xuICAgICAgICAgICAgbWVzc2FnZTogbXNnLFxuICAgICAgICAgICAgdHlwZTogUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZS5EVVBMSUNBVEVfUFJPRFVDVElPTlMsXG4gICAgICAgICAgICBydWxlTmFtZTogdG9wTGV2ZWxSdWxlLm5hbWUsXG4gICAgICAgICAgICBkc2xOYW1lOiBkc2xOYW1lLFxuICAgICAgICAgICAgb2NjdXJyZW5jZTogZmlyc3RQcm9kLmlkeFxuICAgICAgICB9O1xuICAgICAgICB2YXIgcGFyYW0gPSBnZXRFeHRyYVByb2R1Y3Rpb25Bcmd1bWVudChmaXJzdFByb2QpO1xuICAgICAgICBpZiAocGFyYW0pIHtcbiAgICAgICAgICAgIGRlZkVycm9yLnBhcmFtZXRlciA9IHBhcmFtO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkZWZFcnJvcjtcbiAgICB9KTtcbiAgICByZXR1cm4gZXJyb3JzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlkZW50aWZ5UHJvZHVjdGlvbkZvckR1cGxpY2F0ZXMocHJvZCkge1xuICAgIHJldHVybiBnZXRQcm9kdWN0aW9uRHNsTmFtZShwcm9kKSArIFwiXyNfXCIgKyBwcm9kLmlkeCArIFwiXyNfXCIgKyBnZXRFeHRyYVByb2R1Y3Rpb25Bcmd1bWVudChwcm9kKTtcbn1cbmZ1bmN0aW9uIGdldEV4dHJhUHJvZHVjdGlvbkFyZ3VtZW50KHByb2QpIHtcbiAgICBpZiAocHJvZCBpbnN0YW5jZW9mIFRlcm1pbmFsKSB7XG4gICAgICAgIHJldHVybiBwcm9kLnRlcm1pbmFsVHlwZS5uYW1lO1xuICAgIH1cbiAgICBlbHNlIGlmIChwcm9kIGluc3RhbmNlb2YgTm9uVGVybWluYWwpIHtcbiAgICAgICAgcmV0dXJuIHByb2Qubm9uVGVybWluYWxOYW1lO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfVxufVxudmFyIE9jY3VycmVuY2VWYWxpZGF0aW9uQ29sbGVjdG9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhPY2N1cnJlbmNlVmFsaWRhdGlvbkNvbGxlY3RvciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBPY2N1cnJlbmNlVmFsaWRhdGlvbkNvbGxlY3RvcigpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmFsbFByb2R1Y3Rpb25zID0gW107XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2NjdXJyZW5jZVZhbGlkYXRpb25Db2xsZWN0b3IucHJvdG90eXBlLnZpc2l0Tm9uVGVybWluYWwgPSBmdW5jdGlvbiAoc3VicnVsZSkge1xuICAgICAgICB0aGlzLmFsbFByb2R1Y3Rpb25zLnB1c2goc3VicnVsZSk7XG4gICAgfTtcbiAgICBPY2N1cnJlbmNlVmFsaWRhdGlvbkNvbGxlY3Rvci5wcm90b3R5cGUudmlzaXRPcHRpb24gPSBmdW5jdGlvbiAob3B0aW9uKSB7XG4gICAgICAgIHRoaXMuYWxsUHJvZHVjdGlvbnMucHVzaChvcHRpb24pO1xuICAgIH07XG4gICAgT2NjdXJyZW5jZVZhbGlkYXRpb25Db2xsZWN0b3IucHJvdG90eXBlLnZpc2l0UmVwZXRpdGlvbldpdGhTZXBhcmF0b3IgPSBmdW5jdGlvbiAobWFueVNlcCkge1xuICAgICAgICB0aGlzLmFsbFByb2R1Y3Rpb25zLnB1c2gobWFueVNlcCk7XG4gICAgfTtcbiAgICBPY2N1cnJlbmNlVmFsaWRhdGlvbkNvbGxlY3Rvci5wcm90b3R5cGUudmlzaXRSZXBldGl0aW9uTWFuZGF0b3J5ID0gZnVuY3Rpb24gKGF0TGVhc3RPbmUpIHtcbiAgICAgICAgdGhpcy5hbGxQcm9kdWN0aW9ucy5wdXNoKGF0TGVhc3RPbmUpO1xuICAgIH07XG4gICAgT2NjdXJyZW5jZVZhbGlkYXRpb25Db2xsZWN0b3IucHJvdG90eXBlLnZpc2l0UmVwZXRpdGlvbk1hbmRhdG9yeVdpdGhTZXBhcmF0b3IgPSBmdW5jdGlvbiAoYXRMZWFzdE9uZVNlcCkge1xuICAgICAgICB0aGlzLmFsbFByb2R1Y3Rpb25zLnB1c2goYXRMZWFzdE9uZVNlcCk7XG4gICAgfTtcbiAgICBPY2N1cnJlbmNlVmFsaWRhdGlvbkNvbGxlY3Rvci5wcm90b3R5cGUudmlzaXRSZXBldGl0aW9uID0gZnVuY3Rpb24gKG1hbnkpIHtcbiAgICAgICAgdGhpcy5hbGxQcm9kdWN0aW9ucy5wdXNoKG1hbnkpO1xuICAgIH07XG4gICAgT2NjdXJyZW5jZVZhbGlkYXRpb25Db2xsZWN0b3IucHJvdG90eXBlLnZpc2l0QWx0ZXJuYXRpb24gPSBmdW5jdGlvbiAob3IpIHtcbiAgICAgICAgdGhpcy5hbGxQcm9kdWN0aW9ucy5wdXNoKG9yKTtcbiAgICB9O1xuICAgIE9jY3VycmVuY2VWYWxpZGF0aW9uQ29sbGVjdG9yLnByb3RvdHlwZS52aXNpdFRlcm1pbmFsID0gZnVuY3Rpb24gKHRlcm1pbmFsKSB7XG4gICAgICAgIHRoaXMuYWxsUHJvZHVjdGlvbnMucHVzaCh0ZXJtaW5hbCk7XG4gICAgfTtcbiAgICByZXR1cm4gT2NjdXJyZW5jZVZhbGlkYXRpb25Db2xsZWN0b3I7XG59KEdBc3RWaXNpdG9yKSk7XG5leHBvcnQgeyBPY2N1cnJlbmNlVmFsaWRhdGlvbkNvbGxlY3RvciB9O1xuZXhwb3J0IHZhciB2YWxpZFRlcm1zUGF0dGVybiA9IC9eW2EtekEtWl9dXFx3KiQvO1xuLy8gVE9ETzogcmVtb3ZlIHRoaXMgbGltaXRhdGlvbiBub3cgdGhhdCB3ZSB1c2UgcmVjb3JkZXJzXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVSdWxlTmFtZShydWxlLCBlcnJNc2dQcm92aWRlcikge1xuICAgIHZhciBlcnJvcnMgPSBbXTtcbiAgICB2YXIgcnVsZU5hbWUgPSBydWxlLm5hbWU7XG4gICAgaWYgKCFydWxlTmFtZS5tYXRjaCh2YWxpZFRlcm1zUGF0dGVybikpIHtcbiAgICAgICAgZXJyb3JzLnB1c2goe1xuICAgICAgICAgICAgbWVzc2FnZTogZXJyTXNnUHJvdmlkZXIuYnVpbGRJbnZhbGlkUnVsZU5hbWVFcnJvcih7XG4gICAgICAgICAgICAgICAgdG9wTGV2ZWxSdWxlOiBydWxlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkUGF0dGVybjogdmFsaWRUZXJtc1BhdHRlcm5cbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgdHlwZTogUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZS5JTlZBTElEX1JVTEVfTkFNRSxcbiAgICAgICAgICAgIHJ1bGVOYW1lOiBydWxlTmFtZVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGVycm9ycztcbn1cbi8vIFRPRE86IHJlbW92ZSB0aGlzIGxpbWl0YXRpb24gbm93IHRoYXQgd2UgdXNlIHJlY29yZGVyc1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlVG9rZW5OYW1lKHRva2VuVHlwZSwgZXJyTXNnUHJvdmlkZXIpIHtcbiAgICB2YXIgZXJyb3JzID0gW107XG4gICAgdmFyIHRva1R5cGVOYW1lID0gdG9rZW5UeXBlLm5hbWU7XG4gICAgaWYgKCF0b2tUeXBlTmFtZS5tYXRjaCh2YWxpZFRlcm1zUGF0dGVybikpIHtcbiAgICAgICAgZXJyb3JzLnB1c2goe1xuICAgICAgICAgICAgbWVzc2FnZTogZXJyTXNnUHJvdmlkZXIuYnVpbGRUb2tlbk5hbWVFcnJvcih7XG4gICAgICAgICAgICAgICAgdG9rZW5UeXBlOiB0b2tlblR5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWRQYXR0ZXJuOiB2YWxpZFRlcm1zUGF0dGVyblxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB0eXBlOiBQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlLklOVkFMSURfVE9LRU5fTkFNRVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGVycm9ycztcbn1cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZVJ1bGVEb2VzTm90QWxyZWFkeUV4aXN0KHJ1bGUsIGFsbFJ1bGVzLCBjbGFzc05hbWUsIGVyck1zZ1Byb3ZpZGVyKSB7XG4gICAgdmFyIGVycm9ycyA9IFtdO1xuICAgIHZhciBvY2N1cnJlbmNlcyA9IHJlZHVjZShhbGxSdWxlcywgZnVuY3Rpb24gKHJlc3VsdCwgY3VyUnVsZSkge1xuICAgICAgICBpZiAoY3VyUnVsZS5uYW1lID09PSBydWxlLm5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQgKyAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSwgMCk7XG4gICAgaWYgKG9jY3VycmVuY2VzID4gMSkge1xuICAgICAgICB2YXIgZXJyTXNnID0gZXJyTXNnUHJvdmlkZXIuYnVpbGREdXBsaWNhdGVSdWxlTmFtZUVycm9yKHtcbiAgICAgICAgICAgIHRvcExldmVsUnVsZTogcnVsZSxcbiAgICAgICAgICAgIGdyYW1tYXJOYW1lOiBjbGFzc05hbWVcbiAgICAgICAgfSk7XG4gICAgICAgIGVycm9ycy5wdXNoKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVyck1zZyxcbiAgICAgICAgICAgIHR5cGU6IFBhcnNlckRlZmluaXRpb25FcnJvclR5cGUuRFVQTElDQVRFX1JVTEVfTkFNRSxcbiAgICAgICAgICAgIHJ1bGVOYW1lOiBydWxlLm5hbWVcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBlcnJvcnM7XG59XG4vLyBUT0RPOiBpcyB0aGVyZSBhbnl3YXkgdG8gZ2V0IG9ubHkgdGhlIHJ1bGUgbmFtZXMgb2YgcnVsZXMgaW5oZXJpdGVkIGZyb20gdGhlIHN1cGVyIGdyYW1tYXJzP1xuLy8gVGhpcyBpcyBub3QgcGFydCBvZiB0aGUgSUdyYW1tYXJFcnJvclByb3ZpZGVyIGJlY2F1c2UgdGhlIHZhbGlkYXRpb24gY2Fubm90IGJlIHBlcmZvcm1lZCBvblxuLy8gVGhlIGdyYW1tYXIgc3RydWN0dXJlLCBvbmx5IGF0IHJ1bnRpbWUuXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVSdWxlSXNPdmVycmlkZGVuKHJ1bGVOYW1lLCBkZWZpbmVkUnVsZXNOYW1lcywgY2xhc3NOYW1lKSB7XG4gICAgdmFyIGVycm9ycyA9IFtdO1xuICAgIHZhciBlcnJNc2c7XG4gICAgaWYgKCF1dGlscy5jb250YWlucyhkZWZpbmVkUnVsZXNOYW1lcywgcnVsZU5hbWUpKSB7XG4gICAgICAgIGVyck1zZyA9XG4gICAgICAgICAgICBcIkludmFsaWQgcnVsZSBvdmVycmlkZSwgcnVsZTogLT5cIiArIHJ1bGVOYW1lICsgXCI8LSBjYW5ub3QgYmUgb3ZlcnJpZGRlbiBpbiB0aGUgZ3JhbW1hcjogLT5cIiArIGNsYXNzTmFtZSArIFwiPC1cIiArXG4gICAgICAgICAgICAgICAgXCJhcyBpdCBpcyBub3QgZGVmaW5lZCBpbiBhbnkgb2YgdGhlIHN1cGVyIGdyYW1tYXJzIFwiO1xuICAgICAgICBlcnJvcnMucHVzaCh7XG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJNc2csXG4gICAgICAgICAgICB0eXBlOiBQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlLklOVkFMSURfUlVMRV9PVkVSUklERSxcbiAgICAgICAgICAgIHJ1bGVOYW1lOiBydWxlTmFtZVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGVycm9ycztcbn1cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZU5vTGVmdFJlY3Vyc2lvbih0b3BSdWxlLCBjdXJyUnVsZSwgZXJyTXNnUHJvdmlkZXIsIHBhdGgpIHtcbiAgICBpZiAocGF0aCA9PT0gdm9pZCAwKSB7IHBhdGggPSBbXTsgfVxuICAgIHZhciBlcnJvcnMgPSBbXTtcbiAgICB2YXIgbmV4dE5vblRlcm1pbmFscyA9IGdldEZpcnN0Tm9uZVRlcm1pbmFsKGN1cnJSdWxlLmRlZmluaXRpb24pO1xuICAgIGlmICh1dGlscy5pc0VtcHR5KG5leHROb25UZXJtaW5hbHMpKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZhciBydWxlTmFtZSA9IHRvcFJ1bGUubmFtZTtcbiAgICAgICAgdmFyIGZvdW5kTGVmdFJlY3Vyc2lvbiA9IHV0aWxzLmNvbnRhaW5zKG5leHROb25UZXJtaW5hbHMsIHRvcFJ1bGUpO1xuICAgICAgICBpZiAoZm91bmRMZWZ0UmVjdXJzaW9uKSB7XG4gICAgICAgICAgICBlcnJvcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogZXJyTXNnUHJvdmlkZXIuYnVpbGRMZWZ0UmVjdXJzaW9uRXJyb3Ioe1xuICAgICAgICAgICAgICAgICAgICB0b3BMZXZlbFJ1bGU6IHRvcFJ1bGUsXG4gICAgICAgICAgICAgICAgICAgIGxlZnRSZWN1cnNpb25QYXRoOiBwYXRoXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgdHlwZTogUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZS5MRUZUX1JFQ1VSU0lPTixcbiAgICAgICAgICAgICAgICBydWxlTmFtZTogcnVsZU5hbWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIHdlIGFyZSBvbmx5IGxvb2tpbmcgZm9yIGN5Y2xpYyBwYXRocyBsZWFkaW5nIGJhY2sgdG8gdGhlIHNwZWNpZmljIHRvcFJ1bGVcbiAgICAgICAgLy8gb3RoZXIgY3ljbGljIHBhdGhzIGFyZSBpZ25vcmVkLCB3ZSBzdGlsbCBuZWVkIHRoaXMgZGlmZmVyZW5jZSB0byBhdm9pZCBpbmZpbml0ZSBsb29wcy4uLlxuICAgICAgICB2YXIgdmFsaWROZXh0U3RlcHMgPSB1dGlscy5kaWZmZXJlbmNlKG5leHROb25UZXJtaW5hbHMsIHBhdGguY29uY2F0KFt0b3BSdWxlXSkpO1xuICAgICAgICB2YXIgZXJyb3JzRnJvbU5leHRTdGVwcyA9IHV0aWxzLm1hcCh2YWxpZE5leHRTdGVwcywgZnVuY3Rpb24gKGN1cnJSZWZSdWxlKSB7XG4gICAgICAgICAgICB2YXIgbmV3UGF0aCA9IHV0aWxzLmNsb25lQXJyKHBhdGgpO1xuICAgICAgICAgICAgbmV3UGF0aC5wdXNoKGN1cnJSZWZSdWxlKTtcbiAgICAgICAgICAgIHJldHVybiB2YWxpZGF0ZU5vTGVmdFJlY3Vyc2lvbih0b3BSdWxlLCBjdXJyUmVmUnVsZSwgZXJyTXNnUHJvdmlkZXIsIG5ld1BhdGgpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGVycm9ycy5jb25jYXQodXRpbHMuZmxhdHRlbihlcnJvcnNGcm9tTmV4dFN0ZXBzKSk7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGdldEZpcnN0Tm9uZVRlcm1pbmFsKGRlZmluaXRpb24pIHtcbiAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgaWYgKHV0aWxzLmlzRW1wdHkoZGVmaW5pdGlvbikpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgdmFyIGZpcnN0UHJvZCA9IHV0aWxzLmZpcnN0KGRlZmluaXRpb24pO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgaWYgKGZpcnN0UHJvZCBpbnN0YW5jZW9mIE5vblRlcm1pbmFsKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKGZpcnN0UHJvZC5yZWZlcmVuY2VkUnVsZSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGZpcnN0UHJvZCBpbnN0YW5jZW9mIEFsdGVybmF0aXZlR0FTVCB8fFxuICAgICAgICBmaXJzdFByb2QgaW5zdGFuY2VvZiBPcHRpb24gfHxcbiAgICAgICAgZmlyc3RQcm9kIGluc3RhbmNlb2YgUmVwZXRpdGlvbk1hbmRhdG9yeSB8fFxuICAgICAgICBmaXJzdFByb2QgaW5zdGFuY2VvZiBSZXBldGl0aW9uTWFuZGF0b3J5V2l0aFNlcGFyYXRvciB8fFxuICAgICAgICBmaXJzdFByb2QgaW5zdGFuY2VvZiBSZXBldGl0aW9uV2l0aFNlcGFyYXRvciB8fFxuICAgICAgICBmaXJzdFByb2QgaW5zdGFuY2VvZiBSZXBldGl0aW9uKSB7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC5jb25jYXQoZ2V0Rmlyc3ROb25lVGVybWluYWwoZmlyc3RQcm9kLmRlZmluaXRpb24pKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZmlyc3RQcm9kIGluc3RhbmNlb2YgQWx0ZXJuYXRpb24pIHtcbiAgICAgICAgLy8gZWFjaCBzdWIgZGVmaW5pdGlvbiBpbiBhbHRlcm5hdGlvbiBpcyBhIEZMQVRcbiAgICAgICAgcmVzdWx0ID0gdXRpbHMuZmxhdHRlbih1dGlscy5tYXAoZmlyc3RQcm9kLmRlZmluaXRpb24sIGZ1bmN0aW9uIChjdXJyU3ViRGVmKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0Rmlyc3ROb25lVGVybWluYWwoY3VyclN1YkRlZi5kZWZpbml0aW9uKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBlbHNlIGlmIChmaXJzdFByb2QgaW5zdGFuY2VvZiBUZXJtaW5hbCkge1xuICAgICAgICAvLyBub3RoaW5nIHRvIHNlZSwgbW92ZSBhbG9uZ1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJub24gZXhoYXVzdGl2ZSBtYXRjaFwiKTtcbiAgICB9XG4gICAgdmFyIGlzRmlyc3RPcHRpb25hbCA9IGlzT3B0aW9uYWxQcm9kKGZpcnN0UHJvZCk7XG4gICAgdmFyIGhhc01vcmUgPSBkZWZpbml0aW9uLmxlbmd0aCA+IDE7XG4gICAgaWYgKGlzRmlyc3RPcHRpb25hbCAmJiBoYXNNb3JlKSB7XG4gICAgICAgIHZhciByZXN0ID0gdXRpbHMuZHJvcChkZWZpbml0aW9uKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5jb25jYXQoZ2V0Rmlyc3ROb25lVGVybWluYWwocmVzdCkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG59XG52YXIgT3JDb2xsZWN0b3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE9yQ29sbGVjdG9yLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE9yQ29sbGVjdG9yKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuYWx0ZXJuYXRpb25zID0gW107XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT3JDb2xsZWN0b3IucHJvdG90eXBlLnZpc2l0QWx0ZXJuYXRpb24gPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICB0aGlzLmFsdGVybmF0aW9ucy5wdXNoKG5vZGUpO1xuICAgIH07XG4gICAgcmV0dXJuIE9yQ29sbGVjdG9yO1xufShHQXN0VmlzaXRvcikpO1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlRW1wdHlPckFsdGVybmF0aXZlKHRvcExldmVsUnVsZSwgZXJyTXNnUHJvdmlkZXIpIHtcbiAgICB2YXIgb3JDb2xsZWN0b3IgPSBuZXcgT3JDb2xsZWN0b3IoKTtcbiAgICB0b3BMZXZlbFJ1bGUuYWNjZXB0KG9yQ29sbGVjdG9yKTtcbiAgICB2YXIgb3JzID0gb3JDb2xsZWN0b3IuYWx0ZXJuYXRpb25zO1xuICAgIHZhciBlcnJvcnMgPSB1dGlscy5yZWR1Y2Uob3JzLCBmdW5jdGlvbiAoZXJyb3JzLCBjdXJyT3IpIHtcbiAgICAgICAgdmFyIGV4Y2VwdExhc3QgPSB1dGlscy5kcm9wUmlnaHQoY3Vyck9yLmRlZmluaXRpb24pO1xuICAgICAgICB2YXIgY3VyckVycm9ycyA9IHV0aWxzLm1hcChleGNlcHRMYXN0LCBmdW5jdGlvbiAoY3VyckFsdGVybmF0aXZlLCBjdXJyQWx0SWR4KSB7XG4gICAgICAgICAgICB2YXIgcG9zc2libGVGaXJzdEluQWx0ID0gbmV4dFBvc3NpYmxlVG9rZW5zQWZ0ZXIoW2N1cnJBbHRlcm5hdGl2ZV0sIFtdLCBudWxsLCAxKTtcbiAgICAgICAgICAgIGlmICh1dGlscy5pc0VtcHR5KHBvc3NpYmxlRmlyc3RJbkFsdCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBlcnJNc2dQcm92aWRlci5idWlsZEVtcHR5QWx0ZXJuYXRpb25FcnJvcih7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b3BMZXZlbFJ1bGU6IHRvcExldmVsUnVsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsdGVybmF0aW9uOiBjdXJyT3IsXG4gICAgICAgICAgICAgICAgICAgICAgICBlbXB0eUNob2ljZUlkeDogY3VyckFsdElkeFxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZS5OT05FX0xBU1RfRU1QVFlfQUxULFxuICAgICAgICAgICAgICAgICAgICBydWxlTmFtZTogdG9wTGV2ZWxSdWxlLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIG9jY3VycmVuY2U6IGN1cnJPci5pZHgsXG4gICAgICAgICAgICAgICAgICAgIGFsdGVybmF0aXZlOiBjdXJyQWx0SWR4ICsgMVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBlcnJvcnMuY29uY2F0KHV0aWxzLmNvbXBhY3QoY3VyckVycm9ycykpO1xuICAgIH0sIFtdKTtcbiAgICByZXR1cm4gZXJyb3JzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlQW1iaWd1b3VzQWx0ZXJuYXRpb25BbHRlcm5hdGl2ZXModG9wTGV2ZWxSdWxlLCBnbG9iYWxNYXhMb29rYWhlYWQsIGVyck1zZ1Byb3ZpZGVyKSB7XG4gICAgdmFyIG9yQ29sbGVjdG9yID0gbmV3IE9yQ29sbGVjdG9yKCk7XG4gICAgdG9wTGV2ZWxSdWxlLmFjY2VwdChvckNvbGxlY3Rvcik7XG4gICAgdmFyIG9ycyA9IG9yQ29sbGVjdG9yLmFsdGVybmF0aW9ucztcbiAgICAvLyBOZXcgSGFuZGxpbmcgb2YgaWdub3JpbmcgYW1iaWd1aXRpZXNcbiAgICAvLyAtIGh0dHBzOi8vZ2l0aHViLmNvbS9TQVAvY2hldnJvdGFpbi9pc3N1ZXMvODY5XG4gICAgb3JzID0gcmVqZWN0KG9ycywgZnVuY3Rpb24gKGN1cnJPcikgeyByZXR1cm4gY3Vyck9yLmlnbm9yZUFtYmlndWl0aWVzID09PSB0cnVlOyB9KTtcbiAgICB2YXIgZXJyb3JzID0gdXRpbHMucmVkdWNlKG9ycywgZnVuY3Rpb24gKHJlc3VsdCwgY3Vyck9yKSB7XG4gICAgICAgIHZhciBjdXJyT2NjdXJyZW5jZSA9IGN1cnJPci5pZHg7XG4gICAgICAgIHZhciBhY3R1YWxNYXhMb29rYWhlYWQgPSBjdXJyT3IubWF4TG9va2FoZWFkIHx8IGdsb2JhbE1heExvb2thaGVhZDtcbiAgICAgICAgdmFyIGFsdGVybmF0aXZlcyA9IGdldExvb2thaGVhZFBhdGhzRm9yT3IoY3Vyck9jY3VycmVuY2UsIHRvcExldmVsUnVsZSwgYWN0dWFsTWF4TG9va2FoZWFkLCBjdXJyT3IpO1xuICAgICAgICB2YXIgYWx0c0FtYmlndWl0eUVycm9ycyA9IGNoZWNrQWx0ZXJuYXRpdmVzQW1iaWd1aXRpZXMoYWx0ZXJuYXRpdmVzLCBjdXJyT3IsIHRvcExldmVsUnVsZSwgZXJyTXNnUHJvdmlkZXIpO1xuICAgICAgICB2YXIgYWx0c1ByZWZpeEFtYmlndWl0eUVycm9ycyA9IGNoZWNrUHJlZml4QWx0ZXJuYXRpdmVzQW1iaWd1aXRpZXMoYWx0ZXJuYXRpdmVzLCBjdXJyT3IsIHRvcExldmVsUnVsZSwgZXJyTXNnUHJvdmlkZXIpO1xuICAgICAgICByZXR1cm4gcmVzdWx0LmNvbmNhdChhbHRzQW1iaWd1aXR5RXJyb3JzLCBhbHRzUHJlZml4QW1iaWd1aXR5RXJyb3JzKTtcbiAgICB9LCBbXSk7XG4gICAgcmV0dXJuIGVycm9ycztcbn1cbnZhciBSZXBldGlvbkNvbGxlY3RvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUmVwZXRpb25Db2xsZWN0b3IsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUmVwZXRpb25Db2xsZWN0b3IoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5hbGxQcm9kdWN0aW9ucyA9IFtdO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFJlcGV0aW9uQ29sbGVjdG9yLnByb3RvdHlwZS52aXNpdFJlcGV0aXRpb25XaXRoU2VwYXJhdG9yID0gZnVuY3Rpb24gKG1hbnlTZXApIHtcbiAgICAgICAgdGhpcy5hbGxQcm9kdWN0aW9ucy5wdXNoKG1hbnlTZXApO1xuICAgIH07XG4gICAgUmVwZXRpb25Db2xsZWN0b3IucHJvdG90eXBlLnZpc2l0UmVwZXRpdGlvbk1hbmRhdG9yeSA9IGZ1bmN0aW9uIChhdExlYXN0T25lKSB7XG4gICAgICAgIHRoaXMuYWxsUHJvZHVjdGlvbnMucHVzaChhdExlYXN0T25lKTtcbiAgICB9O1xuICAgIFJlcGV0aW9uQ29sbGVjdG9yLnByb3RvdHlwZS52aXNpdFJlcGV0aXRpb25NYW5kYXRvcnlXaXRoU2VwYXJhdG9yID0gZnVuY3Rpb24gKGF0TGVhc3RPbmVTZXApIHtcbiAgICAgICAgdGhpcy5hbGxQcm9kdWN0aW9ucy5wdXNoKGF0TGVhc3RPbmVTZXApO1xuICAgIH07XG4gICAgUmVwZXRpb25Db2xsZWN0b3IucHJvdG90eXBlLnZpc2l0UmVwZXRpdGlvbiA9IGZ1bmN0aW9uIChtYW55KSB7XG4gICAgICAgIHRoaXMuYWxsUHJvZHVjdGlvbnMucHVzaChtYW55KTtcbiAgICB9O1xuICAgIHJldHVybiBSZXBldGlvbkNvbGxlY3Rvcjtcbn0oR0FzdFZpc2l0b3IpKTtcbmV4cG9ydCB7IFJlcGV0aW9uQ29sbGVjdG9yIH07XG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVUb29NYW55QWx0cyh0b3BMZXZlbFJ1bGUsIGVyck1zZ1Byb3ZpZGVyKSB7XG4gICAgdmFyIG9yQ29sbGVjdG9yID0gbmV3IE9yQ29sbGVjdG9yKCk7XG4gICAgdG9wTGV2ZWxSdWxlLmFjY2VwdChvckNvbGxlY3Rvcik7XG4gICAgdmFyIG9ycyA9IG9yQ29sbGVjdG9yLmFsdGVybmF0aW9ucztcbiAgICB2YXIgZXJyb3JzID0gdXRpbHMucmVkdWNlKG9ycywgZnVuY3Rpb24gKGVycm9ycywgY3Vyck9yKSB7XG4gICAgICAgIGlmIChjdXJyT3IuZGVmaW5pdGlvbi5sZW5ndGggPiAyNTUpIHtcbiAgICAgICAgICAgIGVycm9ycy5wdXNoKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBlcnJNc2dQcm92aWRlci5idWlsZFRvb01hbnlBbHRlcm5hdGl2ZXNFcnJvcih7XG4gICAgICAgICAgICAgICAgICAgIHRvcExldmVsUnVsZTogdG9wTGV2ZWxSdWxlLFxuICAgICAgICAgICAgICAgICAgICBhbHRlcm5hdGlvbjogY3Vyck9yXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgdHlwZTogUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZS5UT09fTUFOWV9BTFRTLFxuICAgICAgICAgICAgICAgIHJ1bGVOYW1lOiB0b3BMZXZlbFJ1bGUubmFtZSxcbiAgICAgICAgICAgICAgICBvY2N1cnJlbmNlOiBjdXJyT3IuaWR4XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZXJyb3JzO1xuICAgIH0sIFtdKTtcbiAgICByZXR1cm4gZXJyb3JzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlU29tZU5vbkVtcHR5TG9va2FoZWFkUGF0aCh0b3BMZXZlbFJ1bGVzLCBtYXhMb29rYWhlYWQsIGVyck1zZ1Byb3ZpZGVyKSB7XG4gICAgdmFyIGVycm9ycyA9IFtdO1xuICAgIGZvckVhY2godG9wTGV2ZWxSdWxlcywgZnVuY3Rpb24gKGN1cnJUb3BSdWxlKSB7XG4gICAgICAgIHZhciBjb2xsZWN0b3JWaXNpdG9yID0gbmV3IFJlcGV0aW9uQ29sbGVjdG9yKCk7XG4gICAgICAgIGN1cnJUb3BSdWxlLmFjY2VwdChjb2xsZWN0b3JWaXNpdG9yKTtcbiAgICAgICAgdmFyIGFsbFJ1bGVQcm9kdWN0aW9ucyA9IGNvbGxlY3RvclZpc2l0b3IuYWxsUHJvZHVjdGlvbnM7XG4gICAgICAgIGZvckVhY2goYWxsUnVsZVByb2R1Y3Rpb25zLCBmdW5jdGlvbiAoY3VyclByb2QpIHtcbiAgICAgICAgICAgIHZhciBwcm9kVHlwZSA9IGdldFByb2RUeXBlKGN1cnJQcm9kKTtcbiAgICAgICAgICAgIHZhciBhY3R1YWxNYXhMb29rYWhlYWQgPSBjdXJyUHJvZC5tYXhMb29rYWhlYWQgfHwgbWF4TG9va2FoZWFkO1xuICAgICAgICAgICAgdmFyIGN1cnJPY2N1cnJlbmNlID0gY3VyclByb2QuaWR4O1xuICAgICAgICAgICAgdmFyIHBhdGhzID0gZ2V0TG9va2FoZWFkUGF0aHNGb3JPcHRpb25hbFByb2QoY3Vyck9jY3VycmVuY2UsIGN1cnJUb3BSdWxlLCBwcm9kVHlwZSwgYWN0dWFsTWF4TG9va2FoZWFkKTtcbiAgICAgICAgICAgIHZhciBwYXRoc0luc2lkZVByb2R1Y3Rpb24gPSBwYXRoc1swXTtcbiAgICAgICAgICAgIGlmIChpc0VtcHR5KGZsYXR0ZW4ocGF0aHNJbnNpZGVQcm9kdWN0aW9uKSkpIHtcbiAgICAgICAgICAgICAgICB2YXIgZXJyTXNnID0gZXJyTXNnUHJvdmlkZXIuYnVpbGRFbXB0eVJlcGV0aXRpb25FcnJvcih7XG4gICAgICAgICAgICAgICAgICAgIHRvcExldmVsUnVsZTogY3VyclRvcFJ1bGUsXG4gICAgICAgICAgICAgICAgICAgIHJlcGV0aXRpb246IGN1cnJQcm9kXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBlcnJNc2csXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFBhcnNlckRlZmluaXRpb25FcnJvclR5cGUuTk9fTk9OX0VNUFRZX0xPT0tBSEVBRCxcbiAgICAgICAgICAgICAgICAgICAgcnVsZU5hbWU6IGN1cnJUb3BSdWxlLm5hbWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGVycm9ycztcbn1cbmZ1bmN0aW9uIGNoZWNrQWx0ZXJuYXRpdmVzQW1iaWd1aXRpZXMoYWx0ZXJuYXRpdmVzLCBhbHRlcm5hdGlvbiwgcnVsZSwgZXJyTXNnUHJvdmlkZXIpIHtcbiAgICB2YXIgZm91bmRBbWJpZ3VvdXNQYXRocyA9IFtdO1xuICAgIHZhciBpZGVudGljYWxBbWJpZ3VpdGllcyA9IHJlZHVjZShhbHRlcm5hdGl2ZXMsIGZ1bmN0aW9uIChyZXN1bHQsIGN1cnJBbHQsIGN1cnJBbHRJZHgpIHtcbiAgICAgICAgLy8gaWdub3JlIChza2lwKSBhbWJpZ3VpdGllcyB3aXRoIHRoaXMgYWx0ZXJuYXRpdmVcbiAgICAgICAgaWYgKGFsdGVybmF0aW9uLmRlZmluaXRpb25bY3VyckFsdElkeF0uaWdub3JlQW1iaWd1aXRpZXMgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgZm9yRWFjaChjdXJyQWx0LCBmdW5jdGlvbiAoY3VyclBhdGgpIHtcbiAgICAgICAgICAgIHZhciBhbHRzQ3VyclBhdGhBcHBlYXJzSW4gPSBbY3VyckFsdElkeF07XG4gICAgICAgICAgICBmb3JFYWNoKGFsdGVybmF0aXZlcywgZnVuY3Rpb24gKGN1cnJPdGhlckFsdCwgY3Vyck90aGVyQWx0SWR4KSB7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJBbHRJZHggIT09IGN1cnJPdGhlckFsdElkeCAmJlxuICAgICAgICAgICAgICAgICAgICBjb250YWluc1BhdGgoY3Vyck90aGVyQWx0LCBjdXJyUGF0aCkgJiZcbiAgICAgICAgICAgICAgICAgICAgLy8gaWdub3JlIChza2lwKSBhbWJpZ3VpdGllcyB3aXRoIHRoaXMgXCJvdGhlclwiIGFsdGVybmF0aXZlXG4gICAgICAgICAgICAgICAgICAgIGFsdGVybmF0aW9uLmRlZmluaXRpb25bY3Vyck90aGVyQWx0SWR4XS5pZ25vcmVBbWJpZ3VpdGllcyAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBhbHRzQ3VyclBhdGhBcHBlYXJzSW4ucHVzaChjdXJyT3RoZXJBbHRJZHgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGFsdHNDdXJyUGF0aEFwcGVhcnNJbi5sZW5ndGggPiAxICYmXG4gICAgICAgICAgICAgICAgIWNvbnRhaW5zUGF0aChmb3VuZEFtYmlndW91c1BhdGhzLCBjdXJyUGF0aCkpIHtcbiAgICAgICAgICAgICAgICBmb3VuZEFtYmlndW91c1BhdGhzLnB1c2goY3VyclBhdGgpO1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgYWx0czogYWx0c0N1cnJQYXRoQXBwZWFyc0luLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdXJyUGF0aFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9LCBbXSk7XG4gICAgdmFyIGN1cnJFcnJvcnMgPSB1dGlscy5tYXAoaWRlbnRpY2FsQW1iaWd1aXRpZXMsIGZ1bmN0aW9uIChjdXJyQW1iRGVzY3JpcHRvcikge1xuICAgICAgICB2YXIgYW1iZ0luZGljZXMgPSBtYXAoY3VyckFtYkRlc2NyaXB0b3IuYWx0cywgZnVuY3Rpb24gKGN1cnJBbHRJZHgpIHsgcmV0dXJuIGN1cnJBbHRJZHggKyAxOyB9KTtcbiAgICAgICAgdmFyIGN1cnJNZXNzYWdlID0gZXJyTXNnUHJvdmlkZXIuYnVpbGRBbHRlcm5hdGlvbkFtYmlndWl0eUVycm9yKHtcbiAgICAgICAgICAgIHRvcExldmVsUnVsZTogcnVsZSxcbiAgICAgICAgICAgIGFsdGVybmF0aW9uOiBhbHRlcm5hdGlvbixcbiAgICAgICAgICAgIGFtYmlndWl0eUluZGljZXM6IGFtYmdJbmRpY2VzLFxuICAgICAgICAgICAgcHJlZml4UGF0aDogY3VyckFtYkRlc2NyaXB0b3IucGF0aFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IGN1cnJNZXNzYWdlLFxuICAgICAgICAgICAgdHlwZTogUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZS5BTUJJR1VPVVNfQUxUUyxcbiAgICAgICAgICAgIHJ1bGVOYW1lOiBydWxlLm5hbWUsXG4gICAgICAgICAgICBvY2N1cnJlbmNlOiBhbHRlcm5hdGlvbi5pZHgsXG4gICAgICAgICAgICBhbHRlcm5hdGl2ZXM6IFtjdXJyQW1iRGVzY3JpcHRvci5hbHRzXVxuICAgICAgICB9O1xuICAgIH0pO1xuICAgIHJldHVybiBjdXJyRXJyb3JzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrUHJlZml4QWx0ZXJuYXRpdmVzQW1iaWd1aXRpZXMoYWx0ZXJuYXRpdmVzLCBhbHRlcm5hdGlvbiwgcnVsZSwgZXJyTXNnUHJvdmlkZXIpIHtcbiAgICB2YXIgZXJyb3JzID0gW107XG4gICAgLy8gZmxhdHRlblxuICAgIHZhciBwYXRoc0FuZEluZGljZXMgPSByZWR1Y2UoYWx0ZXJuYXRpdmVzLCBmdW5jdGlvbiAocmVzdWx0LCBjdXJyQWx0LCBpZHgpIHtcbiAgICAgICAgdmFyIGN1cnJQYXRoc0FuZElkeCA9IG1hcChjdXJyQWx0LCBmdW5jdGlvbiAoY3VyclBhdGgpIHtcbiAgICAgICAgICAgIHJldHVybiB7IGlkeDogaWR4LCBwYXRoOiBjdXJyUGF0aCB9O1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5jb25jYXQoY3VyclBhdGhzQW5kSWR4KTtcbiAgICB9LCBbXSk7XG4gICAgZm9yRWFjaChwYXRoc0FuZEluZGljZXMsIGZ1bmN0aW9uIChjdXJyUGF0aEFuZElkeCkge1xuICAgICAgICB2YXIgYWx0ZXJuYXRpdmVHYXN0ID0gYWx0ZXJuYXRpb24uZGVmaW5pdGlvbltjdXJyUGF0aEFuZElkeC5pZHhdO1xuICAgICAgICAvLyBpZ25vcmUgKHNraXApIGFtYmlndWl0aWVzIHdpdGggdGhpcyBhbHRlcm5hdGl2ZVxuICAgICAgICBpZiAoYWx0ZXJuYXRpdmVHYXN0Lmlnbm9yZUFtYmlndWl0aWVzID09PSB0cnVlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRhcmdldElkeCA9IGN1cnJQYXRoQW5kSWR4LmlkeDtcbiAgICAgICAgdmFyIHRhcmdldFBhdGggPSBjdXJyUGF0aEFuZElkeC5wYXRoO1xuICAgICAgICB2YXIgcHJlZml4QW1iaWd1aXRpZXNQYXRoc0FuZEluZGljZXMgPSBmaW5kQWxsKHBhdGhzQW5kSW5kaWNlcywgZnVuY3Rpb24gKHNlYXJjaFBhdGhBbmRJZHgpIHtcbiAgICAgICAgICAgIC8vIHByZWZpeCBhbWJpZ3VpdHkgY2FuIG9ubHkgYmUgY3JlYXRlZCBmcm9tIGxvd2VyIGlkeCAoaGlnaGVyIHByaW9yaXR5KSBwYXRoXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgLy8gaWdub3JlIChza2lwKSBhbWJpZ3VpdGllcyB3aXRoIHRoaXMgXCJvdGhlclwiIGFsdGVybmF0aXZlXG4gICAgICAgICAgICBhbHRlcm5hdGlvbi5kZWZpbml0aW9uW3NlYXJjaFBhdGhBbmRJZHguaWR4XS5pZ25vcmVBbWJpZ3VpdGllcyAhPT1cbiAgICAgICAgICAgICAgICB0cnVlICYmXG4gICAgICAgICAgICAgICAgc2VhcmNoUGF0aEFuZElkeC5pZHggPCB0YXJnZXRJZHggJiZcbiAgICAgICAgICAgICAgICAvLyBjaGVja2luZyBmb3Igc3RyaWN0IHByZWZpeCBiZWNhdXNlIGlkZW50aWNhbCBsb29rYWhlYWRzXG4gICAgICAgICAgICAgICAgLy8gd2lsbCBiZSBiZSBkZXRlY3RlZCB1c2luZyBhIGRpZmZlcmVudCB2YWxpZGF0aW9uLlxuICAgICAgICAgICAgICAgIGlzU3RyaWN0UHJlZml4T2ZQYXRoKHNlYXJjaFBhdGhBbmRJZHgucGF0aCwgdGFyZ2V0UGF0aCkpO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGN1cnJQYXRoUHJlZml4RXJyb3JzID0gbWFwKHByZWZpeEFtYmlndWl0aWVzUGF0aHNBbmRJbmRpY2VzLCBmdW5jdGlvbiAoY3VyckFtYlBhdGhBbmRJZHgpIHtcbiAgICAgICAgICAgIHZhciBhbWJnSW5kaWNlcyA9IFtjdXJyQW1iUGF0aEFuZElkeC5pZHggKyAxLCB0YXJnZXRJZHggKyAxXTtcbiAgICAgICAgICAgIHZhciBvY2N1cnJlbmNlID0gYWx0ZXJuYXRpb24uaWR4ID09PSAwID8gXCJcIiA6IGFsdGVybmF0aW9uLmlkeDtcbiAgICAgICAgICAgIHZhciBtZXNzYWdlID0gZXJyTXNnUHJvdmlkZXIuYnVpbGRBbHRlcm5hdGlvblByZWZpeEFtYmlndWl0eUVycm9yKHtcbiAgICAgICAgICAgICAgICB0b3BMZXZlbFJ1bGU6IHJ1bGUsXG4gICAgICAgICAgICAgICAgYWx0ZXJuYXRpb246IGFsdGVybmF0aW9uLFxuICAgICAgICAgICAgICAgIGFtYmlndWl0eUluZGljZXM6IGFtYmdJbmRpY2VzLFxuICAgICAgICAgICAgICAgIHByZWZpeFBhdGg6IGN1cnJBbWJQYXRoQW5kSWR4LnBhdGhcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLFxuICAgICAgICAgICAgICAgIHR5cGU6IFBhcnNlckRlZmluaXRpb25FcnJvclR5cGUuQU1CSUdVT1VTX1BSRUZJWF9BTFRTLFxuICAgICAgICAgICAgICAgIHJ1bGVOYW1lOiBydWxlLm5hbWUsXG4gICAgICAgICAgICAgICAgb2NjdXJyZW5jZTogb2NjdXJyZW5jZSxcbiAgICAgICAgICAgICAgICBhbHRlcm5hdGl2ZXM6IGFtYmdJbmRpY2VzXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgICAgZXJyb3JzID0gZXJyb3JzLmNvbmNhdChjdXJyUGF0aFByZWZpeEVycm9ycyk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGVycm9ycztcbn1cbmZ1bmN0aW9uIGNoZWNrVGVybWluYWxBbmROb25lVGVybWluYWxzTmFtZVNwYWNlKHRvcExldmVscywgdG9rZW5UeXBlcywgZXJyTXNnUHJvdmlkZXIpIHtcbiAgICB2YXIgZXJyb3JzID0gW107XG4gICAgdmFyIHRva2VuTmFtZXMgPSBtYXAodG9rZW5UeXBlcywgZnVuY3Rpb24gKGN1cnJUb2tlbikgeyByZXR1cm4gY3VyclRva2VuLm5hbWU7IH0pO1xuICAgIGZvckVhY2godG9wTGV2ZWxzLCBmdW5jdGlvbiAoY3VyclJ1bGUpIHtcbiAgICAgICAgdmFyIGN1cnJSdWxlTmFtZSA9IGN1cnJSdWxlLm5hbWU7XG4gICAgICAgIGlmIChjb250YWlucyh0b2tlbk5hbWVzLCBjdXJyUnVsZU5hbWUpKSB7XG4gICAgICAgICAgICB2YXIgZXJyTXNnID0gZXJyTXNnUHJvdmlkZXIuYnVpbGROYW1lc3BhY2VDb25mbGljdEVycm9yKGN1cnJSdWxlKTtcbiAgICAgICAgICAgIGVycm9ycy5wdXNoKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBlcnJNc2csXG4gICAgICAgICAgICAgICAgdHlwZTogUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZS5DT05GTElDVF9UT0tFTlNfUlVMRVNfTkFNRVNQQUNFLFxuICAgICAgICAgICAgICAgIHJ1bGVOYW1lOiBjdXJyUnVsZU5hbWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGVycm9ycztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNoZWNrcy5qcy5tYXAiLCJpbXBvcnQgeyBkZWZhdWx0cywgZm9yRWFjaCB9IGZyb20gXCIuLi8uLi8uLi91dGlscy91dGlsc1wiO1xuaW1wb3J0IHsgcmVzb2x2ZUdyYW1tYXIgYXMgb3JnUmVzb2x2ZUdyYW1tYXIgfSBmcm9tIFwiLi4vcmVzb2x2ZXJcIjtcbmltcG9ydCB7IHZhbGlkYXRlR3JhbW1hciBhcyBvcmdWYWxpZGF0ZUdyYW1tYXIgfSBmcm9tIFwiLi4vY2hlY2tzXCI7XG5pbXBvcnQgeyBkZWZhdWx0R3JhbW1hclJlc29sdmVyRXJyb3JQcm92aWRlciwgZGVmYXVsdEdyYW1tYXJWYWxpZGF0b3JFcnJvclByb3ZpZGVyIH0gZnJvbSBcIi4uLy4uL2Vycm9yc19wdWJsaWNcIjtcbmltcG9ydCB7IERzbE1ldGhvZHNDb2xsZWN0b3JWaXNpdG9yIH0gZnJvbSBcIi4vZ2FzdFwiO1xuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVHcmFtbWFyKG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gZGVmYXVsdHMob3B0aW9ucywge1xuICAgICAgICBlcnJNc2dQcm92aWRlcjogZGVmYXVsdEdyYW1tYXJSZXNvbHZlckVycm9yUHJvdmlkZXJcbiAgICB9KTtcbiAgICB2YXIgdG9wUnVsZXNUYWJsZSA9IHt9O1xuICAgIGZvckVhY2gob3B0aW9ucy5ydWxlcywgZnVuY3Rpb24gKHJ1bGUpIHtcbiAgICAgICAgdG9wUnVsZXNUYWJsZVtydWxlLm5hbWVdID0gcnVsZTtcbiAgICB9KTtcbiAgICByZXR1cm4gb3JnUmVzb2x2ZUdyYW1tYXIodG9wUnVsZXNUYWJsZSwgb3B0aW9ucy5lcnJNc2dQcm92aWRlcik7XG59XG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVHcmFtbWFyKG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gZGVmYXVsdHMob3B0aW9ucywge1xuICAgICAgICBlcnJNc2dQcm92aWRlcjogZGVmYXVsdEdyYW1tYXJWYWxpZGF0b3JFcnJvclByb3ZpZGVyXG4gICAgfSk7XG4gICAgcmV0dXJuIG9yZ1ZhbGlkYXRlR3JhbW1hcihvcHRpb25zLnJ1bGVzLCBvcHRpb25zLm1heExvb2thaGVhZCwgb3B0aW9ucy50b2tlblR5cGVzLCBvcHRpb25zLmVyck1zZ1Byb3ZpZGVyLCBvcHRpb25zLmdyYW1tYXJOYW1lKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhc3NpZ25PY2N1cnJlbmNlSW5kaWNlcyhvcHRpb25zKSB7XG4gICAgZm9yRWFjaChvcHRpb25zLnJ1bGVzLCBmdW5jdGlvbiAoY3VyclJ1bGUpIHtcbiAgICAgICAgdmFyIG1ldGhvZHNDb2xsZWN0b3IgPSBuZXcgRHNsTWV0aG9kc0NvbGxlY3RvclZpc2l0b3IoKTtcbiAgICAgICAgY3VyclJ1bGUuYWNjZXB0KG1ldGhvZHNDb2xsZWN0b3IpO1xuICAgICAgICBmb3JFYWNoKG1ldGhvZHNDb2xsZWN0b3IuZHNsTWV0aG9kcywgZnVuY3Rpb24gKG1ldGhvZHMpIHtcbiAgICAgICAgICAgIGZvckVhY2gobWV0aG9kcywgZnVuY3Rpb24gKGN1cnJNZXRob2QsIGFycklkeCkge1xuICAgICAgICAgICAgICAgIGN1cnJNZXRob2QuaWR4ID0gYXJySWR4ICsgMTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdhc3RfcmVzb2x2ZXJfcHVibGljLmpzLm1hcCIsImltcG9ydCB7IGNvbnRhaW5zIH0gZnJvbSBcIi4uL3V0aWxzL3V0aWxzXCI7XG52YXIgTUlTTUFUQ0hFRF9UT0tFTl9FWENFUFRJT04gPSBcIk1pc21hdGNoZWRUb2tlbkV4Y2VwdGlvblwiO1xudmFyIE5PX1ZJQUJMRV9BTFRfRVhDRVBUSU9OID0gXCJOb1ZpYWJsZUFsdEV4Y2VwdGlvblwiO1xudmFyIEVBUkxZX0VYSVRfRVhDRVBUSU9OID0gXCJFYXJseUV4aXRFeGNlcHRpb25cIjtcbnZhciBOT1RfQUxMX0lOUFVUX1BBUlNFRF9FWENFUFRJT04gPSBcIk5vdEFsbElucHV0UGFyc2VkRXhjZXB0aW9uXCI7XG52YXIgUkVDT0dOSVRJT05fRVhDRVBUSU9OX05BTUVTID0gW1xuICAgIE1JU01BVENIRURfVE9LRU5fRVhDRVBUSU9OLFxuICAgIE5PX1ZJQUJMRV9BTFRfRVhDRVBUSU9OLFxuICAgIEVBUkxZX0VYSVRfRVhDRVBUSU9OLFxuICAgIE5PVF9BTExfSU5QVVRfUEFSU0VEX0VYQ0VQVElPTlxuXTtcbk9iamVjdC5mcmVlemUoUkVDT0dOSVRJT05fRVhDRVBUSU9OX05BTUVTKTtcbi8vIGhhY2tzIHRvIGJ5cGFzcyBubyBzdXBwb3J0IGZvciBjdXN0b20gRXJyb3JzIGluIGphdmFzY3JpcHQvdHlwZXNjcmlwdFxuZXhwb3J0IGZ1bmN0aW9uIGlzUmVjb2duaXRpb25FeGNlcHRpb24oZXJyb3IpIHtcbiAgICAvLyBjYW4ndCBkbyBpbnN0YW5jZW9mIG9uIGhhY2tlZCBjdXN0b20ganMgZXhjZXB0aW9uc1xuICAgIHJldHVybiBjb250YWlucyhSRUNPR05JVElPTl9FWENFUFRJT05fTkFNRVMsIGVycm9yLm5hbWUpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIE1pc21hdGNoZWRUb2tlbkV4Y2VwdGlvbihtZXNzYWdlLCB0b2tlbiwgcHJldmlvdXNUb2tlbikge1xuICAgIHRoaXMubmFtZSA9IE1JU01BVENIRURfVE9LRU5fRVhDRVBUSU9OO1xuICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgdGhpcy50b2tlbiA9IHRva2VuO1xuICAgIHRoaXMucHJldmlvdXNUb2tlbiA9IHByZXZpb3VzVG9rZW47XG4gICAgdGhpcy5yZXN5bmNlZFRva2VucyA9IFtdO1xufVxuLy8gbXVzdCB1c2UgdGhlIFwiRXJyb3IucHJvdG90eXBlXCIgaW5zdGVhZCBvZiBcIm5ldyBFcnJvclwiXG4vLyBiZWNhdXNlIHRoZSBzdGFjayB0cmFjZSBwb2ludHMgdG8gd2hlcmUgXCJuZXcgRXJyb3JcIiB3YXMgaW52b2tlZFwiXG5NaXNtYXRjaGVkVG9rZW5FeGNlcHRpb24ucHJvdG90eXBlID0gRXJyb3IucHJvdG90eXBlO1xuZXhwb3J0IGZ1bmN0aW9uIE5vVmlhYmxlQWx0RXhjZXB0aW9uKG1lc3NhZ2UsIHRva2VuLCBwcmV2aW91c1Rva2VuKSB7XG4gICAgdGhpcy5uYW1lID0gTk9fVklBQkxFX0FMVF9FWENFUFRJT047XG4gICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICB0aGlzLnRva2VuID0gdG9rZW47XG4gICAgdGhpcy5wcmV2aW91c1Rva2VuID0gcHJldmlvdXNUb2tlbjtcbiAgICB0aGlzLnJlc3luY2VkVG9rZW5zID0gW107XG59XG5Ob1ZpYWJsZUFsdEV4Y2VwdGlvbi5wcm90b3R5cGUgPSBFcnJvci5wcm90b3R5cGU7XG5leHBvcnQgZnVuY3Rpb24gTm90QWxsSW5wdXRQYXJzZWRFeGNlcHRpb24obWVzc2FnZSwgdG9rZW4pIHtcbiAgICB0aGlzLm5hbWUgPSBOT1RfQUxMX0lOUFVUX1BBUlNFRF9FWENFUFRJT047XG4gICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICB0aGlzLnRva2VuID0gdG9rZW47XG4gICAgdGhpcy5yZXN5bmNlZFRva2VucyA9IFtdO1xufVxuTm90QWxsSW5wdXRQYXJzZWRFeGNlcHRpb24ucHJvdG90eXBlID0gRXJyb3IucHJvdG90eXBlO1xuZXhwb3J0IGZ1bmN0aW9uIEVhcmx5RXhpdEV4Y2VwdGlvbihtZXNzYWdlLCB0b2tlbiwgcHJldmlvdXNUb2tlbikge1xuICAgIHRoaXMubmFtZSA9IEVBUkxZX0VYSVRfRVhDRVBUSU9OO1xuICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgdGhpcy50b2tlbiA9IHRva2VuO1xuICAgIHRoaXMucHJldmlvdXNUb2tlbiA9IHByZXZpb3VzVG9rZW47XG4gICAgdGhpcy5yZXN5bmNlZFRva2VucyA9IFtdO1xufVxuRWFybHlFeGl0RXhjZXB0aW9uLnByb3RvdHlwZSA9IEVycm9yLnByb3RvdHlwZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV4Y2VwdGlvbnNfcHVibGljLmpzLm1hcCIsImltcG9ydCB7IGNyZWF0ZVRva2VuSW5zdGFuY2UsIEVPRiB9IGZyb20gXCIuLi8uLi8uLi9zY2FuL3Rva2Vuc19wdWJsaWNcIjtcbmltcG9ydCB7IGNsb25lQXJyLCBjb250YWlucywgZHJvcFJpZ2h0LCBmaW5kLCBmbGF0dGVuLCBoYXMsIGlzRW1wdHksIG1hcCB9IGZyb20gXCIuLi8uLi8uLi91dGlscy91dGlsc1wiO1xuaW1wb3J0IHsgTWlzbWF0Y2hlZFRva2VuRXhjZXB0aW9uIH0gZnJvbSBcIi4uLy4uL2V4Y2VwdGlvbnNfcHVibGljXCI7XG5pbXBvcnQgeyBJTiB9IGZyb20gXCIuLi8uLi9jb25zdGFudHNcIjtcbmltcG9ydCB7IERFRkFVTFRfUEFSU0VSX0NPTkZJRyB9IGZyb20gXCIuLi9wYXJzZXJcIjtcbmV4cG9ydCB2YXIgRU9GX0ZPTExPV19LRVkgPSB7fTtcbmV4cG9ydCB2YXIgSU5fUlVMRV9SRUNPVkVSWV9FWENFUFRJT04gPSBcIkluUnVsZVJlY292ZXJ5RXhjZXB0aW9uXCI7XG5leHBvcnQgZnVuY3Rpb24gSW5SdWxlUmVjb3ZlcnlFeGNlcHRpb24obWVzc2FnZSkge1xuICAgIHRoaXMubmFtZSA9IElOX1JVTEVfUkVDT1ZFUllfRVhDRVBUSU9OO1xuICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG59XG5JblJ1bGVSZWNvdmVyeUV4Y2VwdGlvbi5wcm90b3R5cGUgPSBFcnJvci5wcm90b3R5cGU7XG4vKipcbiAqIFRoaXMgdHJhaXQgaXMgcmVzcG9uc2libGUgZm9yIHRoZSBlcnJvciByZWNvdmVyeSBhbmQgZmF1bHQgdG9sZXJhbnQgbG9naWNcbiAqL1xudmFyIFJlY292ZXJhYmxlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlY292ZXJhYmxlKCkge1xuICAgIH1cbiAgICBSZWNvdmVyYWJsZS5wcm90b3R5cGUuaW5pdFJlY292ZXJhYmxlID0gZnVuY3Rpb24gKGNvbmZpZykge1xuICAgICAgICB0aGlzLmZpcnN0QWZ0ZXJSZXBNYXAgPSB7fTtcbiAgICAgICAgdGhpcy5yZXN5bmNGb2xsb3dzID0ge307XG4gICAgICAgIHRoaXMucmVjb3ZlcnlFbmFibGVkID0gaGFzKGNvbmZpZywgXCJyZWNvdmVyeUVuYWJsZWRcIilcbiAgICAgICAgICAgID8gY29uZmlnLnJlY292ZXJ5RW5hYmxlZFxuICAgICAgICAgICAgOiBERUZBVUxUX1BBUlNFUl9DT05GSUcucmVjb3ZlcnlFbmFibGVkO1xuICAgICAgICAvLyBwZXJmb3JtYW5jZSBvcHRpbWl6YXRpb24sIE5PT1Agd2lsbCBiZSBpbmxpbmVkIHdoaWNoXG4gICAgICAgIC8vIGVmZmVjdGl2ZWx5IG1lYW5zIHRoYXQgdGhpcyBvcHRpb25hbCBmZWF0dXJlIGRvZXMgbm90IGV4aXN0XG4gICAgICAgIC8vIHdoZW4gbm90IHVzZWQuXG4gICAgICAgIGlmICh0aGlzLnJlY292ZXJ5RW5hYmxlZCkge1xuICAgICAgICAgICAgdGhpcy5hdHRlbXB0SW5SZXBldGl0aW9uUmVjb3ZlcnkgPSBhdHRlbXB0SW5SZXBldGl0aW9uUmVjb3Zlcnk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJlY292ZXJhYmxlLnByb3RvdHlwZS5nZXRUb2tlblRvSW5zZXJ0ID0gZnVuY3Rpb24gKHRva1R5cGUpIHtcbiAgICAgICAgdmFyIHRva1RvSW5zZXJ0ID0gY3JlYXRlVG9rZW5JbnN0YW5jZSh0b2tUeXBlLCBcIlwiLCBOYU4sIE5hTiwgTmFOLCBOYU4sIE5hTiwgTmFOKTtcbiAgICAgICAgdG9rVG9JbnNlcnQuaXNJbnNlcnRlZEluUmVjb3ZlcnkgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdG9rVG9JbnNlcnQ7XG4gICAgfTtcbiAgICBSZWNvdmVyYWJsZS5wcm90b3R5cGUuY2FuVG9rZW5UeXBlQmVJbnNlcnRlZEluUmVjb3ZlcnkgPSBmdW5jdGlvbiAodG9rVHlwZSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIFJlY292ZXJhYmxlLnByb3RvdHlwZS50cnlJblJlcGV0aXRpb25SZWNvdmVyeSA9IGZ1bmN0aW9uIChncmFtbWFyUnVsZSwgZ3JhbW1hclJ1bGVBcmdzLCBsb29rQWhlYWRGdW5jLCBleHBlY3RlZFRva1R5cGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgLy8gVE9ETzogY2FuIHRoZSByZXN5bmNUb2tlblR5cGUgYmUgY2FjaGVkP1xuICAgICAgICB2YXIgcmVTeW5jVG9rVHlwZSA9IHRoaXMuZmluZFJlU3luY1Rva2VuVHlwZSgpO1xuICAgICAgICB2YXIgc2F2ZWRMZXhlclN0YXRlID0gdGhpcy5leHBvcnRMZXhlclN0YXRlKCk7XG4gICAgICAgIHZhciByZXN5bmNlZFRva2VucyA9IFtdO1xuICAgICAgICB2YXIgcGFzc2VkUmVzeW5jUG9pbnQgPSBmYWxzZTtcbiAgICAgICAgdmFyIG5leHRUb2tlbldpdGhvdXRSZXN5bmMgPSB0aGlzLkxBKDEpO1xuICAgICAgICB2YXIgY3VyclRva2VuID0gdGhpcy5MQSgxKTtcbiAgICAgICAgdmFyIGdlbmVyYXRlRXJyb3JNZXNzYWdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHByZXZpb3VzVG9rZW4gPSBfdGhpcy5MQSgwKTtcbiAgICAgICAgICAgIC8vIHdlIGFyZSBwcmVlbXB0aXZlbHkgcmUtc3luY2luZyBiZWZvcmUgYW4gZXJyb3IgaGFzIGJlZW4gZGV0ZWN0ZWQsIHRoZXJlZm9yIHdlIG11c3QgcmVwcm9kdWNlXG4gICAgICAgICAgICAvLyB0aGUgZXJyb3IgdGhhdCB3b3VsZCBoYXZlIGJlZW4gdGhyb3duXG4gICAgICAgICAgICB2YXIgbXNnID0gX3RoaXMuZXJyb3JNZXNzYWdlUHJvdmlkZXIuYnVpbGRNaXNtYXRjaFRva2VuTWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IGV4cGVjdGVkVG9rVHlwZSxcbiAgICAgICAgICAgICAgICBhY3R1YWw6IG5leHRUb2tlbldpdGhvdXRSZXN5bmMsXG4gICAgICAgICAgICAgICAgcHJldmlvdXM6IHByZXZpb3VzVG9rZW4sXG4gICAgICAgICAgICAgICAgcnVsZU5hbWU6IF90aGlzLmdldEN1cnJSdWxlRnVsbE5hbWUoKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgZXJyb3IgPSBuZXcgTWlzbWF0Y2hlZFRva2VuRXhjZXB0aW9uKG1zZywgbmV4dFRva2VuV2l0aG91dFJlc3luYywgX3RoaXMuTEEoMCkpO1xuICAgICAgICAgICAgLy8gdGhlIGZpcnN0IHRva2VuIGhlcmUgd2lsbCBiZSB0aGUgb3JpZ2luYWwgY2F1c2Ugb2YgdGhlIGVycm9yLCB0aGlzIGlzIG5vdCBwYXJ0IG9mIHRoZSByZXN5bmNlZFRva2VucyBwcm9wZXJ0eS5cbiAgICAgICAgICAgIGVycm9yLnJlc3luY2VkVG9rZW5zID0gZHJvcFJpZ2h0KHJlc3luY2VkVG9rZW5zKTtcbiAgICAgICAgICAgIF90aGlzLlNBVkVfRVJST1IoZXJyb3IpO1xuICAgICAgICB9O1xuICAgICAgICB3aGlsZSAoIXBhc3NlZFJlc3luY1BvaW50KSB7XG4gICAgICAgICAgICAvLyByZS1zeW5jZWQgdG8gYSBwb2ludCB3aGVyZSB3ZSBjYW4gc2FmZWx5IGV4aXQgdGhlIHJlcGV0aXRpb24vXG4gICAgICAgICAgICBpZiAodGhpcy50b2tlbk1hdGNoZXIoY3VyclRva2VuLCBleHBlY3RlZFRva1R5cGUpKSB7XG4gICAgICAgICAgICAgICAgZ2VuZXJhdGVFcnJvck1lc3NhZ2UoKTtcbiAgICAgICAgICAgICAgICByZXR1cm47IC8vIG11c3QgcmV0dXJuIGhlcmUgdG8gYXZvaWQgcmV2ZXJ0aW5nIHRoZSBpbnB1dElkeFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobG9va0FoZWFkRnVuYy5jYWxsKHRoaXMpKSB7XG4gICAgICAgICAgICAgICAgLy8gd2Ugc2tpcHBlZCBlbm91Z2ggdG9rZW5zIHNvIHdlIGNhbiByZXN5bmMgcmlnaHQgYmFjayBpbnRvIGFub3RoZXIgaXRlcmF0aW9uIG9mIHRoZSByZXBldGl0aW9uIGdyYW1tYXIgcnVsZVxuICAgICAgICAgICAgICAgIGdlbmVyYXRlRXJyb3JNZXNzYWdlKCk7XG4gICAgICAgICAgICAgICAgLy8gcmVjdXJzaXZlIGludm9jYXRpb24gaW4gb3RoZXIgdG8gc3VwcG9ydCBtdWx0aXBsZSByZS1zeW5jcyBpbiB0aGUgc2FtZSB0b3AgbGV2ZWwgcmVwZXRpdGlvbiBncmFtbWFyIHJ1bGVcbiAgICAgICAgICAgICAgICBncmFtbWFyUnVsZS5hcHBseSh0aGlzLCBncmFtbWFyUnVsZUFyZ3MpO1xuICAgICAgICAgICAgICAgIHJldHVybjsgLy8gbXVzdCByZXR1cm4gaGVyZSB0byBhdm9pZCByZXZlcnRpbmcgdGhlIGlucHV0SWR4XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLnRva2VuTWF0Y2hlcihjdXJyVG9rZW4sIHJlU3luY1Rva1R5cGUpKSB7XG4gICAgICAgICAgICAgICAgcGFzc2VkUmVzeW5jUG9pbnQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY3VyclRva2VuID0gdGhpcy5TS0lQX1RPS0VOKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRUb1Jlc3luY1Rva2VucyhjdXJyVG9rZW4sIHJlc3luY2VkVG9rZW5zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyB3ZSB3ZXJlIHVuYWJsZSB0byBmaW5kIGEgQ0xPU0VSIHBvaW50IHRvIHJlc3luYyBpbnNpZGUgdGhlIFJlcGV0aXRpb24sIHJlc2V0IHRoZSBzdGF0ZS5cbiAgICAgICAgLy8gVGhlIHBhcnNpbmcgZXhjZXB0aW9uIHdlIHdlcmUgdHJ5aW5nIHRvIHByZXZlbnQgd2lsbCBoYXBwZW4gaW4gdGhlIE5FWFQgcGFyc2luZyBzdGVwLiBpdCBtYXkgYmUgaGFuZGxlZCBieVxuICAgICAgICAvLyBcImJldHdlZW4gcnVsZXNcIiByZXN5bmMgcmVjb3ZlcnkgbGF0ZXIgaW4gdGhlIGZsb3cuXG4gICAgICAgIHRoaXMuaW1wb3J0TGV4ZXJTdGF0ZShzYXZlZExleGVyU3RhdGUpO1xuICAgIH07XG4gICAgUmVjb3ZlcmFibGUucHJvdG90eXBlLnNob3VsZEluUmVwZXRpdGlvblJlY292ZXJ5QmVUcmllZCA9IGZ1bmN0aW9uIChleHBlY3RUb2tBZnRlckxhc3RNYXRjaCwgbmV4dFRva0lkeCwgbm90U3R1Y2spIHtcbiAgICAgICAgLy8gRWRnZSBjYXNlIG9mIGFycml2aW5nIGZyb20gYSBNQU5ZIHJlcGV0aXRpb24gd2hpY2ggaXMgc3R1Y2tcbiAgICAgICAgLy8gQXR0ZW1wdGluZyByZWNvdmVyeSBpbiB0aGlzIGNhc2UgY291bGQgY2F1c2UgYW4gaW5maW5pdGUgbG9vcFxuICAgICAgICBpZiAobm90U3R1Y2sgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYXJndW1lbnRzIHRvIHRyeSBhbmQgcGVyZm9ybSByZXN5bmMgaW50byB0aGUgbmV4dCBpdGVyYXRpb24gb2YgdGhlIG1hbnkgYXJlIG1pc3NpbmdcbiAgICAgICAgaWYgKGV4cGVjdFRva0FmdGVyTGFzdE1hdGNoID09PSB1bmRlZmluZWQgfHwgbmV4dFRva0lkeCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbm8gbmVlZCB0byByZWNvdmVyLCBuZXh0IHRva2VuIGlzIHdoYXQgd2UgZXhwZWN0Li4uXG4gICAgICAgIGlmICh0aGlzLnRva2VuTWF0Y2hlcih0aGlzLkxBKDEpLCBleHBlY3RUb2tBZnRlckxhc3RNYXRjaCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBlcnJvciByZWNvdmVyeSBpcyBkaXNhYmxlZCBkdXJpbmcgYmFja3RyYWNraW5nIGFzIGl0IGNhbiBtYWtlIHRoZSBwYXJzZXIgaWdub3JlIGEgdmFsaWQgZ3JhbW1hciBwYXRoXG4gICAgICAgIC8vIGFuZCBwcmVmZXIgc29tZSBiYWNrdHJhY2tpbmcgcGF0aCB0aGF0IGluY2x1ZGVzIHJlY292ZXJlZCBlcnJvcnMuXG4gICAgICAgIGlmICh0aGlzLmlzQmFja1RyYWNraW5nKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpZiB3ZSBjYW4gcGVyZm9ybSBpblJ1bGUgcmVjb3ZlcnkgKHNpbmdsZSB0b2tlbiBpbnNlcnRpb24gb3IgZGVsZXRpb24pIHdlIGFsd2F5cyBwcmVmZXIgdGhhdCByZWNvdmVyeSBhbGdvcml0aG1cbiAgICAgICAgLy8gYmVjYXVzZSBpZiBpdCB3b3JrcywgaXQgbWFrZXMgdGhlIGxlYXN0IGFtb3VudCBvZiBjaGFuZ2VzIHRvIHRoZSBpbnB1dCBzdHJlYW0gKGdyZWVkeSBhbGdvcml0aG0pXG4gICAgICAgIC8vbm9pbnNwZWN0aW9uIFJlZHVuZGFudElmU3RhdGVtZW50SlNcbiAgICAgICAgaWYgKHRoaXMuY2FuUGVyZm9ybUluUnVsZVJlY292ZXJ5KGV4cGVjdFRva0FmdGVyTGFzdE1hdGNoLCB0aGlzLmdldEZvbGxvd3NGb3JJblJ1bGVSZWNvdmVyeShleHBlY3RUb2tBZnRlckxhc3RNYXRjaCwgbmV4dFRva0lkeCkpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICAvLyBFcnJvciBSZWNvdmVyeSBmdW5jdGlvbmFsaXR5XG4gICAgUmVjb3ZlcmFibGUucHJvdG90eXBlLmdldEZvbGxvd3NGb3JJblJ1bGVSZWNvdmVyeSA9IGZ1bmN0aW9uICh0b2tUeXBlLCB0b2tJZHhJblJ1bGUpIHtcbiAgICAgICAgdmFyIGdyYW1tYXJQYXRoID0gdGhpcy5nZXRDdXJyZW50R3JhbW1hclBhdGgodG9rVHlwZSwgdG9rSWR4SW5SdWxlKTtcbiAgICAgICAgdmFyIGZvbGxvd3MgPSB0aGlzLmdldE5leHRQb3NzaWJsZVRva2VuVHlwZXMoZ3JhbW1hclBhdGgpO1xuICAgICAgICByZXR1cm4gZm9sbG93cztcbiAgICB9O1xuICAgIFJlY292ZXJhYmxlLnByb3RvdHlwZS50cnlJblJ1bGVSZWNvdmVyeSA9IGZ1bmN0aW9uIChleHBlY3RlZFRva1R5cGUsIGZvbGxvd3MpIHtcbiAgICAgICAgaWYgKHRoaXMuY2FuUmVjb3ZlcldpdGhTaW5nbGVUb2tlbkluc2VydGlvbihleHBlY3RlZFRva1R5cGUsIGZvbGxvd3MpKSB7XG4gICAgICAgICAgICB2YXIgdG9rVG9JbnNlcnQgPSB0aGlzLmdldFRva2VuVG9JbnNlcnQoZXhwZWN0ZWRUb2tUeXBlKTtcbiAgICAgICAgICAgIHJldHVybiB0b2tUb0luc2VydDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5jYW5SZWNvdmVyV2l0aFNpbmdsZVRva2VuRGVsZXRpb24oZXhwZWN0ZWRUb2tUeXBlKSkge1xuICAgICAgICAgICAgdmFyIG5leHRUb2sgPSB0aGlzLlNLSVBfVE9LRU4oKTtcbiAgICAgICAgICAgIHRoaXMuY29uc3VtZVRva2VuKCk7XG4gICAgICAgICAgICByZXR1cm4gbmV4dFRvaztcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgSW5SdWxlUmVjb3ZlcnlFeGNlcHRpb24oXCJzYWQgc2FkIHBhbmRhXCIpO1xuICAgIH07XG4gICAgUmVjb3ZlcmFibGUucHJvdG90eXBlLmNhblBlcmZvcm1JblJ1bGVSZWNvdmVyeSA9IGZ1bmN0aW9uIChleHBlY3RlZFRva2VuLCBmb2xsb3dzKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5jYW5SZWNvdmVyV2l0aFNpbmdsZVRva2VuSW5zZXJ0aW9uKGV4cGVjdGVkVG9rZW4sIGZvbGxvd3MpIHx8XG4gICAgICAgICAgICB0aGlzLmNhblJlY292ZXJXaXRoU2luZ2xlVG9rZW5EZWxldGlvbihleHBlY3RlZFRva2VuKSk7XG4gICAgfTtcbiAgICBSZWNvdmVyYWJsZS5wcm90b3R5cGUuY2FuUmVjb3ZlcldpdGhTaW5nbGVUb2tlbkluc2VydGlvbiA9IGZ1bmN0aW9uIChleHBlY3RlZFRva1R5cGUsIGZvbGxvd3MpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKCF0aGlzLmNhblRva2VuVHlwZUJlSW5zZXJ0ZWRJblJlY292ZXJ5KGV4cGVjdGVkVG9rVHlwZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBtdXN0IGtub3cgdGhlIHBvc3NpYmxlIGZvbGxvd2luZyB0b2tlbnMgdG8gcGVyZm9ybSBzaW5nbGUgdG9rZW4gaW5zZXJ0aW9uXG4gICAgICAgIGlmIChpc0VtcHR5KGZvbGxvd3MpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG1pc21hdGNoZWRUb2sgPSB0aGlzLkxBKDEpO1xuICAgICAgICB2YXIgaXNNaXNNYXRjaGVkVG9rSW5Gb2xsb3dzID0gZmluZChmb2xsb3dzLCBmdW5jdGlvbiAocG9zc2libGVGb2xsb3dzVG9rVHlwZSkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLnRva2VuTWF0Y2hlcihtaXNtYXRjaGVkVG9rLCBwb3NzaWJsZUZvbGxvd3NUb2tUeXBlKTtcbiAgICAgICAgfSkgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIGlzTWlzTWF0Y2hlZFRva0luRm9sbG93cztcbiAgICB9O1xuICAgIFJlY292ZXJhYmxlLnByb3RvdHlwZS5jYW5SZWNvdmVyV2l0aFNpbmdsZVRva2VuRGVsZXRpb24gPSBmdW5jdGlvbiAoZXhwZWN0ZWRUb2tUeXBlKSB7XG4gICAgICAgIHZhciBpc05leHRUb2tlbldoYXRJc0V4cGVjdGVkID0gdGhpcy50b2tlbk1hdGNoZXIodGhpcy5MQSgyKSwgZXhwZWN0ZWRUb2tUeXBlKTtcbiAgICAgICAgcmV0dXJuIGlzTmV4dFRva2VuV2hhdElzRXhwZWN0ZWQ7XG4gICAgfTtcbiAgICBSZWNvdmVyYWJsZS5wcm90b3R5cGUuaXNJbkN1cnJlbnRSdWxlUmVTeW5jU2V0ID0gZnVuY3Rpb24gKHRva2VuVHlwZUlkeCkge1xuICAgICAgICB2YXIgZm9sbG93S2V5ID0gdGhpcy5nZXRDdXJyRm9sbG93S2V5KCk7XG4gICAgICAgIHZhciBjdXJyZW50UnVsZVJlU3luY1NldCA9IHRoaXMuZ2V0Rm9sbG93U2V0RnJvbUZvbGxvd0tleShmb2xsb3dLZXkpO1xuICAgICAgICByZXR1cm4gY29udGFpbnMoY3VycmVudFJ1bGVSZVN5bmNTZXQsIHRva2VuVHlwZUlkeCk7XG4gICAgfTtcbiAgICBSZWNvdmVyYWJsZS5wcm90b3R5cGUuZmluZFJlU3luY1Rva2VuVHlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFsbFBvc3NpYmxlUmVTeW5jVG9rVHlwZXMgPSB0aGlzLmZsYXR0ZW5Gb2xsb3dTZXQoKTtcbiAgICAgICAgLy8gdGhpcyBsb29wIHdpbGwgYWx3YXlzIHRlcm1pbmF0ZSBhcyBFT0YgaXMgYWx3YXlzIGluIHRoZSBmb2xsb3cgc3RhY2sgYW5kIGFsc28gYWx3YXlzICh2aXJ0dWFsbHkpIGluIHRoZSBpbnB1dFxuICAgICAgICB2YXIgbmV4dFRva2VuID0gdGhpcy5MQSgxKTtcbiAgICAgICAgdmFyIGsgPSAyO1xuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgdmFyIG5leHRUb2tlblR5cGUgPSBuZXh0VG9rZW4udG9rZW5UeXBlO1xuICAgICAgICAgICAgaWYgKGNvbnRhaW5zKGFsbFBvc3NpYmxlUmVTeW5jVG9rVHlwZXMsIG5leHRUb2tlblR5cGUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHRUb2tlblR5cGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXh0VG9rZW4gPSB0aGlzLkxBKGspO1xuICAgICAgICAgICAgaysrO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBSZWNvdmVyYWJsZS5wcm90b3R5cGUuZ2V0Q3VyckZvbGxvd0tleSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gdGhlIGxlbmd0aCBpcyBhdCBsZWFzdCBvbmUgYXMgd2UgYWx3YXlzIGFkZCB0aGUgcnVsZU5hbWUgdG8gdGhlIHN0YWNrIGJlZm9yZSBpbnZva2luZyB0aGUgcnVsZS5cbiAgICAgICAgaWYgKHRoaXMuUlVMRV9TVEFDSy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIHJldHVybiBFT0ZfRk9MTE9XX0tFWTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY3VyclJ1bGVTaG9ydE5hbWUgPSB0aGlzLmdldExhc3RFeHBsaWNpdFJ1bGVTaG9ydE5hbWUoKTtcbiAgICAgICAgdmFyIGN1cnJSdWxlSWR4ID0gdGhpcy5nZXRMYXN0RXhwbGljaXRSdWxlT2NjdXJyZW5jZUluZGV4KCk7XG4gICAgICAgIHZhciBwcmV2UnVsZVNob3J0TmFtZSA9IHRoaXMuZ2V0UHJldmlvdXNFeHBsaWNpdFJ1bGVTaG9ydE5hbWUoKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJ1bGVOYW1lOiB0aGlzLnNob3J0UnVsZU5hbWVUb0Z1bGxOYW1lKGN1cnJSdWxlU2hvcnROYW1lKSxcbiAgICAgICAgICAgIGlkeEluQ2FsbGluZ1J1bGU6IGN1cnJSdWxlSWR4LFxuICAgICAgICAgICAgaW5SdWxlOiB0aGlzLnNob3J0UnVsZU5hbWVUb0Z1bGxOYW1lKHByZXZSdWxlU2hvcnROYW1lKVxuICAgICAgICB9O1xuICAgIH07XG4gICAgUmVjb3ZlcmFibGUucHJvdG90eXBlLmJ1aWxkRnVsbEZvbGxvd0tleVN0YWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgZXhwbGljaXRSdWxlU3RhY2sgPSB0aGlzLlJVTEVfU1RBQ0s7XG4gICAgICAgIHZhciBleHBsaWNpdE9jY3VycmVuY2VTdGFjayA9IHRoaXMuUlVMRV9PQ0NVUlJFTkNFX1NUQUNLO1xuICAgICAgICByZXR1cm4gbWFwKGV4cGxpY2l0UnVsZVN0YWNrLCBmdW5jdGlvbiAocnVsZU5hbWUsIGlkeCkge1xuICAgICAgICAgICAgaWYgKGlkeCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBFT0ZfRk9MTE9XX0tFWTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgcnVsZU5hbWU6IF90aGlzLnNob3J0UnVsZU5hbWVUb0Z1bGxOYW1lKHJ1bGVOYW1lKSxcbiAgICAgICAgICAgICAgICBpZHhJbkNhbGxpbmdSdWxlOiBleHBsaWNpdE9jY3VycmVuY2VTdGFja1tpZHhdLFxuICAgICAgICAgICAgICAgIGluUnVsZTogX3RoaXMuc2hvcnRSdWxlTmFtZVRvRnVsbE5hbWUoZXhwbGljaXRSdWxlU3RhY2tbaWR4IC0gMV0pXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFJlY292ZXJhYmxlLnByb3RvdHlwZS5mbGF0dGVuRm9sbG93U2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgZm9sbG93U3RhY2sgPSBtYXAodGhpcy5idWlsZEZ1bGxGb2xsb3dLZXlTdGFjaygpLCBmdW5jdGlvbiAoY3VycktleSkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLmdldEZvbGxvd1NldEZyb21Gb2xsb3dLZXkoY3VycktleSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZmxhdHRlbihmb2xsb3dTdGFjayk7XG4gICAgfTtcbiAgICBSZWNvdmVyYWJsZS5wcm90b3R5cGUuZ2V0Rm9sbG93U2V0RnJvbUZvbGxvd0tleSA9IGZ1bmN0aW9uIChmb2xsb3dLZXkpIHtcbiAgICAgICAgaWYgKGZvbGxvd0tleSA9PT0gRU9GX0ZPTExPV19LRVkpIHtcbiAgICAgICAgICAgIHJldHVybiBbRU9GXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZm9sbG93TmFtZSA9IGZvbGxvd0tleS5ydWxlTmFtZSArIGZvbGxvd0tleS5pZHhJbkNhbGxpbmdSdWxlICsgSU4gKyBmb2xsb3dLZXkuaW5SdWxlO1xuICAgICAgICByZXR1cm4gdGhpcy5yZXN5bmNGb2xsb3dzW2ZvbGxvd05hbWVdO1xuICAgIH07XG4gICAgLy8gSXQgZG9lcyBub3QgbWFrZSBhbnkgc2Vuc2UgdG8gaW5jbHVkZSBhIHZpcnR1YWwgRU9GIHRva2VuIGluIHRoZSBsaXN0IG9mIHJlc3luY2VkIHRva2Vuc1xuICAgIC8vIGFzIEVPRiBkb2VzIG5vdCByZWFsbHkgZXhpc3QgYW5kIHRodXMgZG9lcyBub3QgY29udGFpbiBhbnkgdXNlZnVsIGluZm9ybWF0aW9uIChsaW5lL2NvbHVtbiBudW1iZXJzKVxuICAgIFJlY292ZXJhYmxlLnByb3RvdHlwZS5hZGRUb1Jlc3luY1Rva2VucyA9IGZ1bmN0aW9uICh0b2tlbiwgcmVzeW5jVG9rZW5zKSB7XG4gICAgICAgIGlmICghdGhpcy50b2tlbk1hdGNoZXIodG9rZW4sIEVPRikpIHtcbiAgICAgICAgICAgIHJlc3luY1Rva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzeW5jVG9rZW5zO1xuICAgIH07XG4gICAgUmVjb3ZlcmFibGUucHJvdG90eXBlLnJlU3luY1RvID0gZnVuY3Rpb24gKHRva1R5cGUpIHtcbiAgICAgICAgdmFyIHJlc3luY2VkVG9rZW5zID0gW107XG4gICAgICAgIHZhciBuZXh0VG9rID0gdGhpcy5MQSgxKTtcbiAgICAgICAgd2hpbGUgKHRoaXMudG9rZW5NYXRjaGVyKG5leHRUb2ssIHRva1R5cGUpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgbmV4dFRvayA9IHRoaXMuU0tJUF9UT0tFTigpO1xuICAgICAgICAgICAgdGhpcy5hZGRUb1Jlc3luY1Rva2VucyhuZXh0VG9rLCByZXN5bmNlZFRva2Vucyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdGhlIGxhc3QgdG9rZW4gaXMgbm90IHBhcnQgb2YgdGhlIGVycm9yLlxuICAgICAgICByZXR1cm4gZHJvcFJpZ2h0KHJlc3luY2VkVG9rZW5zKTtcbiAgICB9O1xuICAgIFJlY292ZXJhYmxlLnByb3RvdHlwZS5hdHRlbXB0SW5SZXBldGl0aW9uUmVjb3ZlcnkgPSBmdW5jdGlvbiAocHJvZEZ1bmMsIGFyZ3MsIGxvb2thaGVhZEZ1bmMsIGRzbE1ldGhvZElkeCwgcHJvZE9jY3VycmVuY2UsIG5leHRUb2tzV2Fsa2VyLCBub3RTdHVjaykge1xuICAgICAgICAvLyBieSBkZWZhdWx0IHRoaXMgaXMgYSBOTy1PUFxuICAgICAgICAvLyBUaGUgYWN0dWFsIGltcGxlbWVudGF0aW9uIGlzIHdpdGggdGhlIGZ1bmN0aW9uKG5vdCBtZXRob2QpIGJlbG93XG4gICAgfTtcbiAgICBSZWNvdmVyYWJsZS5wcm90b3R5cGUuZ2V0Q3VycmVudEdyYW1tYXJQYXRoID0gZnVuY3Rpb24gKHRva1R5cGUsIHRva0lkeEluUnVsZSkge1xuICAgICAgICB2YXIgcGF0aFJ1bGVTdGFjayA9IHRoaXMuZ2V0SHVtYW5SZWFkYWJsZVJ1bGVTdGFjaygpO1xuICAgICAgICB2YXIgcGF0aE9jY3VycmVuY2VTdGFjayA9IGNsb25lQXJyKHRoaXMuUlVMRV9PQ0NVUlJFTkNFX1NUQUNLKTtcbiAgICAgICAgdmFyIGdyYW1tYXJQYXRoID0ge1xuICAgICAgICAgICAgcnVsZVN0YWNrOiBwYXRoUnVsZVN0YWNrLFxuICAgICAgICAgICAgb2NjdXJyZW5jZVN0YWNrOiBwYXRoT2NjdXJyZW5jZVN0YWNrLFxuICAgICAgICAgICAgbGFzdFRvazogdG9rVHlwZSxcbiAgICAgICAgICAgIGxhc3RUb2tPY2N1cnJlbmNlOiB0b2tJZHhJblJ1bGVcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGdyYW1tYXJQYXRoO1xuICAgIH07XG4gICAgUmVjb3ZlcmFibGUucHJvdG90eXBlLmdldEh1bWFuUmVhZGFibGVSdWxlU3RhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHJldHVybiBtYXAodGhpcy5SVUxFX1NUQUNLLCBmdW5jdGlvbiAoY3VyclNob3J0TmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLnNob3J0UnVsZU5hbWVUb0Z1bGxOYW1lKGN1cnJTaG9ydE5hbWUpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiBSZWNvdmVyYWJsZTtcbn0oKSk7XG5leHBvcnQgeyBSZWNvdmVyYWJsZSB9O1xuZXhwb3J0IGZ1bmN0aW9uIGF0dGVtcHRJblJlcGV0aXRpb25SZWNvdmVyeShwcm9kRnVuYywgYXJncywgbG9va2FoZWFkRnVuYywgZHNsTWV0aG9kSWR4LCBwcm9kT2NjdXJyZW5jZSwgbmV4dFRva3NXYWxrZXIsIG5vdFN0dWNrKSB7XG4gICAgdmFyIGtleSA9IHRoaXMuZ2V0S2V5Rm9yQXV0b21hdGljTG9va2FoZWFkKGRzbE1ldGhvZElkeCwgcHJvZE9jY3VycmVuY2UpO1xuICAgIHZhciBmaXJzdEFmdGVyUmVwSW5mbyA9IHRoaXMuZmlyc3RBZnRlclJlcE1hcFtrZXldO1xuICAgIGlmIChmaXJzdEFmdGVyUmVwSW5mbyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZhciBjdXJyUnVsZU5hbWUgPSB0aGlzLmdldEN1cnJSdWxlRnVsbE5hbWUoKTtcbiAgICAgICAgdmFyIHJ1bGVHcmFtbWFyID0gdGhpcy5nZXRHQXN0UHJvZHVjdGlvbnMoKVtjdXJyUnVsZU5hbWVdO1xuICAgICAgICB2YXIgd2Fsa2VyID0gbmV3IG5leHRUb2tzV2Fsa2VyKHJ1bGVHcmFtbWFyLCBwcm9kT2NjdXJyZW5jZSk7XG4gICAgICAgIGZpcnN0QWZ0ZXJSZXBJbmZvID0gd2Fsa2VyLnN0YXJ0V2Fsa2luZygpO1xuICAgICAgICB0aGlzLmZpcnN0QWZ0ZXJSZXBNYXBba2V5XSA9IGZpcnN0QWZ0ZXJSZXBJbmZvO1xuICAgIH1cbiAgICB2YXIgZXhwZWN0VG9rQWZ0ZXJMYXN0TWF0Y2ggPSBmaXJzdEFmdGVyUmVwSW5mby50b2tlbjtcbiAgICB2YXIgbmV4dFRva0lkeCA9IGZpcnN0QWZ0ZXJSZXBJbmZvLm9jY3VycmVuY2U7XG4gICAgdmFyIGlzRW5kT2ZSdWxlID0gZmlyc3RBZnRlclJlcEluZm8uaXNFbmRPZlJ1bGU7XG4gICAgLy8gc3BlY2lhbCBlZGdlIGNhc2Ugb2YgYSBUT1AgbW9zdCByZXBldGl0aW9uIGFmdGVyIHdoaWNoIHRoZSBpbnB1dCBzaG91bGQgRU5ELlxuICAgIC8vIHRoaXMgd2lsbCBmb3JjZSBhbiBhdHRlbXB0IGZvciBpblJ1bGUgcmVjb3ZlcnkgaW4gdGhhdCBzY2VuYXJpby5cbiAgICBpZiAodGhpcy5SVUxFX1NUQUNLLmxlbmd0aCA9PT0gMSAmJlxuICAgICAgICBpc0VuZE9mUnVsZSAmJlxuICAgICAgICBleHBlY3RUb2tBZnRlckxhc3RNYXRjaCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGV4cGVjdFRva0FmdGVyTGFzdE1hdGNoID0gRU9GO1xuICAgICAgICBuZXh0VG9rSWR4ID0gMTtcbiAgICB9XG4gICAgaWYgKHRoaXMuc2hvdWxkSW5SZXBldGl0aW9uUmVjb3ZlcnlCZVRyaWVkKGV4cGVjdFRva0FmdGVyTGFzdE1hdGNoLCBuZXh0VG9rSWR4LCBub3RTdHVjaykpIHtcbiAgICAgICAgLy8gVE9ETzogcGVyZm9ybWFuY2Ugb3B0aW1pemF0aW9uOiBpbnN0ZWFkIG9mIHBhc3NpbmcgdGhlIG9yaWdpbmFsIGFyZ3MgaGVyZSwgd2UgbW9kaWZ5XG4gICAgICAgIC8vIHRoZSBhcmdzIHBhcmFtIChvciBjcmVhdGUgYSBuZXcgb25lKSBhbmQgbWFrZSBzdXJlIHRoZSBsb29rYWhlYWQgZnVuYyBpcyBleHBsaWNpdGx5IHByb3ZpZGVkXG4gICAgICAgIC8vIHRvIGF2b2lkIHNlYXJjaGluZyB0aGUgY2FjaGUgZm9yIGl0IG9uY2UgbW9yZS5cbiAgICAgICAgdGhpcy50cnlJblJlcGV0aXRpb25SZWNvdmVyeShwcm9kRnVuYywgYXJncywgbG9va2FoZWFkRnVuYywgZXhwZWN0VG9rQWZ0ZXJMYXN0TWF0Y2gpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlY292ZXJhYmxlLmpzLm1hcCIsIi8vIExvb2thaGVhZCBrZXlzIGFyZSAzMkJpdCBpbnRlZ2VycyBpbiB0aGUgZm9ybVxuLy8gVFRUVFRUVFQtWlpaWlpaWlpaWlpaLVlZWVktWFhYWFhYWFhcbi8vIFhYWFggLT4gT2NjdXJyZW5jZSBJbmRleCBiaXRtYXAuXG4vLyBZWVlZIC0+IERTTCBNZXRob2QgVHlwZSBiaXRtYXAuXG4vLyBaWlpaWlpaWlpaWlpaWlogLT4gUnVsZSBzaG9ydCBJbmRleCBiaXRtYXAuXG4vLyBUVFRUVFRUVFQgLT4gYWx0ZXJuYXRpb24gYWx0ZXJuYXRpdmUgaW5kZXggYml0bWFwXG5leHBvcnQgdmFyIEJJVFNfRk9SX01FVEhPRF9UWVBFID0gNDtcbmV4cG9ydCB2YXIgQklUU19GT1JfT0NDVVJSRU5DRV9JRFggPSA4O1xuZXhwb3J0IHZhciBCSVRTX0ZPUl9SVUxFX0lEWCA9IDEyO1xuLy8gVE9ETzogdmFsaWRhdGlvbiwgdGhpcyBtZWFucyB0aGF0IHRoZXJlIG1heSBhdCBtb3N0IDJeOCAtLT4gMjU2IGFsdGVybmF0aXZlcyBmb3IgYW4gYWx0ZXJuYXRpb24uXG5leHBvcnQgdmFyIEJJVFNfRk9SX0FMVF9JRFggPSA4O1xuLy8gc2hvcnQgc3RyaW5nIHVzZWQgYXMgcGFydCBvZiBtYXBwaW5nIGtleXMuXG4vLyBiZWluZyBzaG9ydCBpbXByb3ZlcyB0aGUgcGVyZm9ybWFuY2Ugd2hlbiBjb21wb3NpbmcgS0VZUyBmb3IgbWFwcyBvdXQgb2YgdGhlc2Vcbi8vIFRoZSA1IC0gOCBiaXRzICgxNiBwb3NzaWJsZSB2YWx1ZXMsIGFyZSByZXNlcnZlZCBmb3IgdGhlIERTTCBtZXRob2QgaW5kaWNlcylcbi8qIHRzbGludDpkaXNhYmxlICovXG5leHBvcnQgdmFyIE9SX0lEWCA9IDEgPDwgQklUU19GT1JfT0NDVVJSRU5DRV9JRFg7XG5leHBvcnQgdmFyIE9QVElPTl9JRFggPSAyIDw8IEJJVFNfRk9SX09DQ1VSUkVOQ0VfSURYO1xuZXhwb3J0IHZhciBNQU5ZX0lEWCA9IDMgPDwgQklUU19GT1JfT0NDVVJSRU5DRV9JRFg7XG5leHBvcnQgdmFyIEFUX0xFQVNUX09ORV9JRFggPSA0IDw8IEJJVFNfRk9SX09DQ1VSUkVOQ0VfSURYO1xuZXhwb3J0IHZhciBNQU5ZX1NFUF9JRFggPSA1IDw8IEJJVFNfRk9SX09DQ1VSUkVOQ0VfSURYO1xuZXhwb3J0IHZhciBBVF9MRUFTVF9PTkVfU0VQX0lEWCA9IDYgPDwgQklUU19GT1JfT0NDVVJSRU5DRV9JRFg7XG4vKiB0c2xpbnQ6ZW5hYmxlICovXG4vLyB0aGlzIGFjdHVhbGx5IHJldHVybnMgYSBudW1iZXIsIGJ1dCBpdCBpcyBhbHdheXMgdXNlZCBhcyBhIHN0cmluZyAob2JqZWN0IHByb3Aga2V5KVxuZXhwb3J0IGZ1bmN0aW9uIGdldEtleUZvckF1dG9tYXRpY0xvb2thaGVhZChydWxlSWR4LCBkc2xNZXRob2RJZHgsIG9jY3VycmVuY2UpIHtcbiAgICAvKiB0c2xpbnQ6ZGlzYWJsZSAqL1xuICAgIHJldHVybiBvY2N1cnJlbmNlIHwgZHNsTWV0aG9kSWR4IHwgcnVsZUlkeDtcbiAgICAvKiB0c2xpbnQ6ZW5hYmxlICovXG59XG52YXIgQklUU19TVEFSVF9GT1JfQUxUX0lEWCA9IDMyIC0gQklUU19GT1JfQUxUX0lEWDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWtleXMuanMubWFwIiwiaW1wb3J0IHsgYnVpbGRBbHRlcm5hdGl2ZXNMb29rQWhlYWRGdW5jLCBidWlsZExvb2thaGVhZEZ1bmNGb3JPcHRpb25hbFByb2QsIGJ1aWxkTG9va2FoZWFkRnVuY0Zvck9yLCBidWlsZFNpbmdsZUFsdGVybmF0aXZlTG9va2FoZWFkRnVuY3Rpb24sIFBST0RfVFlQRSB9IGZyb20gXCIuLi8uLi9ncmFtbWFyL2xvb2thaGVhZFwiO1xuaW1wb3J0IHsgZm9yRWFjaCwgaGFzLCBpc0VTMjAxNU1hcFN1cHBvcnRlZCB9IGZyb20gXCIuLi8uLi8uLi91dGlscy91dGlsc1wiO1xuaW1wb3J0IHsgREVGQVVMVF9QQVJTRVJfQ09ORklHIH0gZnJvbSBcIi4uL3BhcnNlclwiO1xuaW1wb3J0IHsgQVRfTEVBU1RfT05FX0lEWCwgQVRfTEVBU1RfT05FX1NFUF9JRFgsIGdldEtleUZvckF1dG9tYXRpY0xvb2thaGVhZCwgTUFOWV9JRFgsIE1BTllfU0VQX0lEWCwgT1BUSU9OX0lEWCwgT1JfSURYIH0gZnJvbSBcIi4uLy4uL2dyYW1tYXIva2V5c1wiO1xuaW1wb3J0IHsgY29sbGVjdE1ldGhvZHMsIGdldFByb2R1Y3Rpb25Ec2xOYW1lIH0gZnJvbSBcIi4uLy4uL2dyYW1tYXIvZ2FzdC9nYXN0XCI7XG4vKipcbiAqIFRyYWl0IHJlc3BvbnNpYmxlIGZvciB0aGUgbG9va2FoZWFkIHJlbGF0ZWQgdXRpbGl0aWVzIGFuZCBvcHRpbWl6YXRpb25zLlxuICovXG52YXIgTG9va3NBaGVhZCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBMb29rc0FoZWFkKCkge1xuICAgIH1cbiAgICBMb29rc0FoZWFkLnByb3RvdHlwZS5pbml0TG9va3NBaGVhZCA9IGZ1bmN0aW9uIChjb25maWcpIHtcbiAgICAgICAgdGhpcy5keW5hbWljVG9rZW5zRW5hYmxlZCA9IGhhcyhjb25maWcsIFwiZHluYW1pY1Rva2Vuc0VuYWJsZWRcIilcbiAgICAgICAgICAgID8gY29uZmlnLmR5bmFtaWNUb2tlbnNFbmFibGVkXG4gICAgICAgICAgICA6IERFRkFVTFRfUEFSU0VSX0NPTkZJRy5keW5hbWljVG9rZW5zRW5hYmxlZDtcbiAgICAgICAgdGhpcy5tYXhMb29rYWhlYWQgPSBoYXMoY29uZmlnLCBcIm1heExvb2thaGVhZFwiKVxuICAgICAgICAgICAgPyBjb25maWcubWF4TG9va2FoZWFkXG4gICAgICAgICAgICA6IERFRkFVTFRfUEFSU0VSX0NPTkZJRy5tYXhMb29rYWhlYWQ7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0IC0gVXNpbmcgcGxhaW4gYXJyYXkgYXMgZGljdGlvbmFyeSB3aWxsIGJlIHRlc3RlZCBvbiBvbGRlciBub2RlLmpzIHZlcnNpb25zIGFuZCBJRTExICovXG4gICAgICAgIHRoaXMubG9va0FoZWFkRnVuY3NDYWNoZSA9IGlzRVMyMDE1TWFwU3VwcG9ydGVkKCkgPyBuZXcgTWFwKCkgOiBbXTtcbiAgICAgICAgLy8gUGVyZm9ybWFuY2Ugb3B0aW1pemF0aW9uIG9uIG5ld2VyIGVuZ2luZXMgdGhhdCBzdXBwb3J0IEVTNiBNYXBcbiAgICAgICAgLy8gRm9yIGxhcmdlciBNYXBzIHRoaXMgaXMgc2xpZ2h0bHkgZmFzdGVyIHRoYW4gdXNpbmcgYSBwbGFpbiBvYmplY3QgKGFycmF5IGluIG91ciBjYXNlKS5cbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgLSBUaGUgZWxzZSBicmFuY2ggd2lsbCBiZSB0ZXN0ZWQgb24gb2xkZXIgbm9kZS5qcyB2ZXJzaW9ucyBhbmQgSUUxMSAqL1xuICAgICAgICBpZiAoaXNFUzIwMTVNYXBTdXBwb3J0ZWQoKSkge1xuICAgICAgICAgICAgdGhpcy5nZXRMYUZ1bmNGcm9tQ2FjaGUgPSB0aGlzLmdldExhRnVuY0Zyb21NYXA7XG4gICAgICAgICAgICB0aGlzLnNldExhRnVuY0NhY2hlID0gdGhpcy5zZXRMYUZ1bmNDYWNoZVVzaW5nTWFwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5nZXRMYUZ1bmNGcm9tQ2FjaGUgPSB0aGlzLmdldExhRnVuY0Zyb21PYmo7XG4gICAgICAgICAgICB0aGlzLnNldExhRnVuY0NhY2hlID0gdGhpcy5zZXRMYUZ1bmNVc2luZ09iajtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTG9va3NBaGVhZC5wcm90b3R5cGUucHJlQ29tcHV0ZUxvb2thaGVhZEZ1bmN0aW9ucyA9IGZ1bmN0aW9uIChydWxlcykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBmb3JFYWNoKHJ1bGVzLCBmdW5jdGlvbiAoY3VyclJ1bGUpIHtcbiAgICAgICAgICAgIF90aGlzLlRSQUNFX0lOSVQoY3VyclJ1bGUubmFtZSArIFwiIFJ1bGUgTG9va2FoZWFkXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2EgPSBjb2xsZWN0TWV0aG9kcyhjdXJyUnVsZSksIGFsdGVybmF0aW9uID0gX2EuYWx0ZXJuYXRpb24sIHJlcGV0aXRpb24gPSBfYS5yZXBldGl0aW9uLCBvcHRpb24gPSBfYS5vcHRpb24sIHJlcGV0aXRpb25NYW5kYXRvcnkgPSBfYS5yZXBldGl0aW9uTWFuZGF0b3J5LCByZXBldGl0aW9uTWFuZGF0b3J5V2l0aFNlcGFyYXRvciA9IF9hLnJlcGV0aXRpb25NYW5kYXRvcnlXaXRoU2VwYXJhdG9yLCByZXBldGl0aW9uV2l0aFNlcGFyYXRvciA9IF9hLnJlcGV0aXRpb25XaXRoU2VwYXJhdG9yO1xuICAgICAgICAgICAgICAgIGZvckVhY2goYWx0ZXJuYXRpb24sIGZ1bmN0aW9uIChjdXJyUHJvZCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcHJvZElkeCA9IGN1cnJQcm9kLmlkeCA9PT0gMCA/IFwiXCIgOiBjdXJyUHJvZC5pZHg7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLlRSQUNFX0lOSVQoXCJcIiArIGdldFByb2R1Y3Rpb25Ec2xOYW1lKGN1cnJQcm9kKSArIHByb2RJZHgsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsYUZ1bmMgPSBidWlsZExvb2thaGVhZEZ1bmNGb3JPcihjdXJyUHJvZC5pZHgsIGN1cnJSdWxlLCBjdXJyUHJvZC5tYXhMb29rYWhlYWQgfHwgX3RoaXMubWF4TG9va2FoZWFkLCBjdXJyUHJvZC5oYXNQcmVkaWNhdGVzLCBfdGhpcy5keW5hbWljVG9rZW5zRW5hYmxlZCwgX3RoaXMubG9va0FoZWFkQnVpbGRlckZvckFsdGVybmF0aXZlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIga2V5ID0gZ2V0S2V5Rm9yQXV0b21hdGljTG9va2FoZWFkKF90aGlzLmZ1bGxSdWxlTmFtZVRvU2hvcnRbY3VyclJ1bGUubmFtZV0sIE9SX0lEWCwgY3VyclByb2QuaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnNldExhRnVuY0NhY2hlKGtleSwgbGFGdW5jKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZm9yRWFjaChyZXBldGl0aW9uLCBmdW5jdGlvbiAoY3VyclByb2QpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuY29tcHV0ZUxvb2thaGVhZEZ1bmMoY3VyclJ1bGUsIGN1cnJQcm9kLmlkeCwgTUFOWV9JRFgsIFBST0RfVFlQRS5SRVBFVElUSU9OLCBjdXJyUHJvZC5tYXhMb29rYWhlYWQsIGdldFByb2R1Y3Rpb25Ec2xOYW1lKGN1cnJQcm9kKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZm9yRWFjaChvcHRpb24sIGZ1bmN0aW9uIChjdXJyUHJvZCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5jb21wdXRlTG9va2FoZWFkRnVuYyhjdXJyUnVsZSwgY3VyclByb2QuaWR4LCBPUFRJT05fSURYLCBQUk9EX1RZUEUuT1BUSU9OLCBjdXJyUHJvZC5tYXhMb29rYWhlYWQsIGdldFByb2R1Y3Rpb25Ec2xOYW1lKGN1cnJQcm9kKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZm9yRWFjaChyZXBldGl0aW9uTWFuZGF0b3J5LCBmdW5jdGlvbiAoY3VyclByb2QpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuY29tcHV0ZUxvb2thaGVhZEZ1bmMoY3VyclJ1bGUsIGN1cnJQcm9kLmlkeCwgQVRfTEVBU1RfT05FX0lEWCwgUFJPRF9UWVBFLlJFUEVUSVRJT05fTUFOREFUT1JZLCBjdXJyUHJvZC5tYXhMb29rYWhlYWQsIGdldFByb2R1Y3Rpb25Ec2xOYW1lKGN1cnJQcm9kKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZm9yRWFjaChyZXBldGl0aW9uTWFuZGF0b3J5V2l0aFNlcGFyYXRvciwgZnVuY3Rpb24gKGN1cnJQcm9kKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmNvbXB1dGVMb29rYWhlYWRGdW5jKGN1cnJSdWxlLCBjdXJyUHJvZC5pZHgsIEFUX0xFQVNUX09ORV9TRVBfSURYLCBQUk9EX1RZUEUuUkVQRVRJVElPTl9NQU5EQVRPUllfV0lUSF9TRVBBUkFUT1IsIGN1cnJQcm9kLm1heExvb2thaGVhZCwgZ2V0UHJvZHVjdGlvbkRzbE5hbWUoY3VyclByb2QpKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBmb3JFYWNoKHJlcGV0aXRpb25XaXRoU2VwYXJhdG9yLCBmdW5jdGlvbiAoY3VyclByb2QpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuY29tcHV0ZUxvb2thaGVhZEZ1bmMoY3VyclJ1bGUsIGN1cnJQcm9kLmlkeCwgTUFOWV9TRVBfSURYLCBQUk9EX1RZUEUuUkVQRVRJVElPTl9XSVRIX1NFUEFSQVRPUiwgY3VyclByb2QubWF4TG9va2FoZWFkLCBnZXRQcm9kdWN0aW9uRHNsTmFtZShjdXJyUHJvZCkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgTG9va3NBaGVhZC5wcm90b3R5cGUuY29tcHV0ZUxvb2thaGVhZEZ1bmMgPSBmdW5jdGlvbiAocnVsZSwgcHJvZE9jY3VycmVuY2UsIHByb2RLZXksIHByb2RUeXBlLCBwcm9kTWF4TG9va2FoZWFkLCBkc2xNZXRob2ROYW1lKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuVFJBQ0VfSU5JVChcIlwiICsgZHNsTWV0aG9kTmFtZSArIChwcm9kT2NjdXJyZW5jZSA9PT0gMCA/IFwiXCIgOiBwcm9kT2NjdXJyZW5jZSksIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBsYUZ1bmMgPSBidWlsZExvb2thaGVhZEZ1bmNGb3JPcHRpb25hbFByb2QocHJvZE9jY3VycmVuY2UsIHJ1bGUsIHByb2RNYXhMb29rYWhlYWQgfHwgX3RoaXMubWF4TG9va2FoZWFkLCBfdGhpcy5keW5hbWljVG9rZW5zRW5hYmxlZCwgcHJvZFR5cGUsIF90aGlzLmxvb2tBaGVhZEJ1aWxkZXJGb3JPcHRpb25hbCk7XG4gICAgICAgICAgICB2YXIga2V5ID0gZ2V0S2V5Rm9yQXV0b21hdGljTG9va2FoZWFkKF90aGlzLmZ1bGxSdWxlTmFtZVRvU2hvcnRbcnVsZS5uYW1lXSwgcHJvZEtleSwgcHJvZE9jY3VycmVuY2UpO1xuICAgICAgICAgICAgX3RoaXMuc2V0TGFGdW5jQ2FjaGUoa2V5LCBsYUZ1bmMpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIExvb2tzQWhlYWQucHJvdG90eXBlLmxvb2tBaGVhZEJ1aWxkZXJGb3JPcHRpb25hbCA9IGZ1bmN0aW9uIChhbHQsIHRva2VuTWF0Y2hlciwgZHluYW1pY1Rva2Vuc0VuYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuIGJ1aWxkU2luZ2xlQWx0ZXJuYXRpdmVMb29rYWhlYWRGdW5jdGlvbihhbHQsIHRva2VuTWF0Y2hlciwgZHluYW1pY1Rva2Vuc0VuYWJsZWQpO1xuICAgIH07XG4gICAgTG9va3NBaGVhZC5wcm90b3R5cGUubG9va0FoZWFkQnVpbGRlckZvckFsdGVybmF0aXZlcyA9IGZ1bmN0aW9uIChhbHRzLCBoYXNQcmVkaWNhdGVzLCB0b2tlbk1hdGNoZXIsIGR5bmFtaWNUb2tlbnNFbmFibGVkKSB7XG4gICAgICAgIHJldHVybiBidWlsZEFsdGVybmF0aXZlc0xvb2tBaGVhZEZ1bmMoYWx0cywgaGFzUHJlZGljYXRlcywgdG9rZW5NYXRjaGVyLCBkeW5hbWljVG9rZW5zRW5hYmxlZCk7XG4gICAgfTtcbiAgICAvLyB0aGlzIGFjdHVhbGx5IHJldHVybnMgYSBudW1iZXIsIGJ1dCBpdCBpcyBhbHdheXMgdXNlZCBhcyBhIHN0cmluZyAob2JqZWN0IHByb3Aga2V5KVxuICAgIExvb2tzQWhlYWQucHJvdG90eXBlLmdldEtleUZvckF1dG9tYXRpY0xvb2thaGVhZCA9IGZ1bmN0aW9uIChkc2xNZXRob2RJZHgsIG9jY3VycmVuY2UpIHtcbiAgICAgICAgdmFyIGN1cnJSdWxlU2hvcnROYW1lID0gdGhpcy5nZXRMYXN0RXhwbGljaXRSdWxlU2hvcnROYW1lKCk7XG4gICAgICAgIHJldHVybiBnZXRLZXlGb3JBdXRvbWF0aWNMb29rYWhlYWQoY3VyclJ1bGVTaG9ydE5hbWUsIGRzbE1ldGhvZElkeCwgb2NjdXJyZW5jZSk7XG4gICAgfTtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIExvb2tzQWhlYWQucHJvdG90eXBlLmdldExhRnVuY0Zyb21DYWNoZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIExvb2tzQWhlYWQucHJvdG90eXBlLmdldExhRnVuY0Zyb21NYXAgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvb2tBaGVhZEZ1bmNzQ2FjaGUuZ2V0KGtleSk7XG4gICAgfTtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAtIFVzaW5nIHBsYWluIGFycmF5IGFzIGRpY3Rpb25hcnkgd2lsbCBiZSB0ZXN0ZWQgb24gb2xkZXIgbm9kZS5qcyB2ZXJzaW9ucyBhbmQgSUUxMSAqL1xuICAgIExvb2tzQWhlYWQucHJvdG90eXBlLmdldExhRnVuY0Zyb21PYmogPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvb2tBaGVhZEZ1bmNzQ2FjaGVba2V5XTtcbiAgICB9O1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgTG9va3NBaGVhZC5wcm90b3R5cGUuc2V0TGFGdW5jQ2FjaGUgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkgeyB9O1xuICAgIExvb2tzQWhlYWQucHJvdG90eXBlLnNldExhRnVuY0NhY2hlVXNpbmdNYXAgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgICB0aGlzLmxvb2tBaGVhZEZ1bmNzQ2FjaGUuc2V0KGtleSwgdmFsdWUpO1xuICAgIH07XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgLSBVc2luZyBwbGFpbiBhcnJheSBhcyBkaWN0aW9uYXJ5IHdpbGwgYmUgdGVzdGVkIG9uIG9sZGVyIG5vZGUuanMgdmVyc2lvbnMgYW5kIElFMTEgKi9cbiAgICBMb29rc0FoZWFkLnByb3RvdHlwZS5zZXRMYUZ1bmNVc2luZ09iaiA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICAgIHRoaXMubG9va0FoZWFkRnVuY3NDYWNoZVtrZXldID0gdmFsdWU7XG4gICAgfTtcbiAgICByZXR1cm4gTG9va3NBaGVhZDtcbn0oKSk7XG5leHBvcnQgeyBMb29rc0FoZWFkIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sb29rc2FoZWFkLmpzLm1hcCIsIi8qKlxuICogVGhpcyBub2RlTG9jYXRpb24gdHJhY2tpbmcgaXMgbm90IGVmZmljaWVudCBhbmQgc2hvdWxkIG9ubHkgYmUgdXNlZFxuICogd2hlbiBlcnJvciByZWNvdmVyeSBpcyBlbmFibGVkIG9yIHRoZSBUb2tlbiBWZWN0b3IgY29udGFpbnMgdmlydHVhbCBUb2tlbnNcbiAqIChlLmcsIFB5dGhvbiBJbmRlbnQvT3V0ZGVudClcbiAqIEFzIGl0IGV4ZWN1dGVzIHRoZSBjYWxjdWxhdGlvbiBmb3IgZXZlcnkgc2luZ2xlIHRlcm1pbmFsL25vblRlcm1pbmFsXG4gKiBhbmQgZG9lcyBub3QgcmVseSBvbiB0aGUgZmFjdCB0aGUgdG9rZW4gdmVjdG9yIGlzICoqc29ydGVkKipcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldE5vZGVMb2NhdGlvbk9ubHlPZmZzZXQoY3Vyck5vZGVMb2NhdGlvbiwgbmV3TG9jYXRpb25JbmZvKSB7XG4gICAgLy8gRmlyc3QgKHZhbGlkKSB1cGRhdGUgZm9yIHRoaXMgY3N0IG5vZGVcbiAgICBpZiAoaXNOYU4oY3Vyck5vZGVMb2NhdGlvbi5zdGFydE9mZnNldCkgPT09IHRydWUpIHtcbiAgICAgICAgLy8gYXNzdW1wdGlvbjE6IFRva2VuIGxvY2F0aW9uIGluZm9ybWF0aW9uIGlzIGVpdGhlciBOYU4gb3IgYSB2YWxpZCBudW1iZXJcbiAgICAgICAgLy8gYXNzdW1wdGlvbjI6IFRva2VuIGxvY2F0aW9uIGluZm9ybWF0aW9uIGlzIGZ1bGx5IHZhbGlkIGlmIGl0IGV4aXN0XG4gICAgICAgIC8vIChib3RoIHN0YXJ0L2VuZCBvZmZzZXRzIGV4aXN0IGFuZCBhcmUgbnVtYmVycykuXG4gICAgICAgIGN1cnJOb2RlTG9jYXRpb24uc3RhcnRPZmZzZXQgPSBuZXdMb2NhdGlvbkluZm8uc3RhcnRPZmZzZXQ7XG4gICAgICAgIGN1cnJOb2RlTG9jYXRpb24uZW5kT2Zmc2V0ID0gbmV3TG9jYXRpb25JbmZvLmVuZE9mZnNldDtcbiAgICB9XG4gICAgLy8gT25jZSB0aGUgc3RhcnRPZmZzZXQgaGFzIGJlZW4gdXBkYXRlZCB3aXRoIGEgdmFsaWQgbnVtYmVyIGl0IHNob3VsZCBuZXZlciByZWNlaXZlXG4gICAgLy8gYW55IGZhcnRoZXIgdXBkYXRlcyBhcyB0aGUgVG9rZW4gdmVjdG9yIGlzIHNvcnRlZC5cbiAgICAvLyBXZSBzdGlsbCBoYXZlIHRvIGNoZWNrIHRoaXMgdGhpcyBjb25kaXRpb24gZm9yIGV2ZXJ5IG5ldyBwb3NzaWJsZSBsb2NhdGlvbiBpbmZvXG4gICAgLy8gYmVjYXVzZSB3aXRoIGVycm9yIHJlY292ZXJ5IGVuYWJsZWQgd2UgbWF5IGVuY291bnRlciBpbnZhbGlkIHRva2VucyAoTmFOIGxvY2F0aW9uIHByb3BzKVxuICAgIGVsc2UgaWYgKGN1cnJOb2RlTG9jYXRpb24uZW5kT2Zmc2V0IDwgbmV3TG9jYXRpb25JbmZvLmVuZE9mZnNldCA9PT0gdHJ1ZSkge1xuICAgICAgICBjdXJyTm9kZUxvY2F0aW9uLmVuZE9mZnNldCA9IG5ld0xvY2F0aW9uSW5mby5lbmRPZmZzZXQ7XG4gICAgfVxufVxuLyoqXG4gKiBUaGlzIG5vZGVMb2NhdGlvbiB0cmFja2luZyBpcyBub3QgZWZmaWNpZW50IGFuZCBzaG91bGQgb25seSBiZSB1c2VkXG4gKiB3aGVuIGVycm9yIHJlY292ZXJ5IGlzIGVuYWJsZWQgb3IgdGhlIFRva2VuIFZlY3RvciBjb250YWlucyB2aXJ0dWFsIFRva2Vuc1xuICogKGUuZywgUHl0aG9uIEluZGVudC9PdXRkZW50KVxuICogQXMgaXQgZXhlY3V0ZXMgdGhlIGNhbGN1bGF0aW9uIGZvciBldmVyeSBzaW5nbGUgdGVybWluYWwvbm9uVGVybWluYWxcbiAqIGFuZCBkb2VzIG5vdCByZWx5IG9uIHRoZSBmYWN0IHRoZSB0b2tlbiB2ZWN0b3IgaXMgKipzb3J0ZWQqKlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0Tm9kZUxvY2F0aW9uRnVsbChjdXJyTm9kZUxvY2F0aW9uLCBuZXdMb2NhdGlvbkluZm8pIHtcbiAgICAvLyBGaXJzdCAodmFsaWQpIHVwZGF0ZSBmb3IgdGhpcyBjc3Qgbm9kZVxuICAgIGlmIChpc05hTihjdXJyTm9kZUxvY2F0aW9uLnN0YXJ0T2Zmc2V0KSA9PT0gdHJ1ZSkge1xuICAgICAgICAvLyBhc3N1bXB0aW9uMTogVG9rZW4gbG9jYXRpb24gaW5mb3JtYXRpb24gaXMgZWl0aGVyIE5hTiBvciBhIHZhbGlkIG51bWJlclxuICAgICAgICAvLyBhc3N1bXB0aW9uMjogVG9rZW4gbG9jYXRpb24gaW5mb3JtYXRpb24gaXMgZnVsbHkgdmFsaWQgaWYgaXQgZXhpc3RcbiAgICAgICAgLy8gKGFsbCBzdGFydC9lbmQgcHJvcHMgZXhpc3QgYW5kIGFyZSBudW1iZXJzKS5cbiAgICAgICAgY3Vyck5vZGVMb2NhdGlvbi5zdGFydE9mZnNldCA9IG5ld0xvY2F0aW9uSW5mby5zdGFydE9mZnNldDtcbiAgICAgICAgY3Vyck5vZGVMb2NhdGlvbi5zdGFydENvbHVtbiA9IG5ld0xvY2F0aW9uSW5mby5zdGFydENvbHVtbjtcbiAgICAgICAgY3Vyck5vZGVMb2NhdGlvbi5zdGFydExpbmUgPSBuZXdMb2NhdGlvbkluZm8uc3RhcnRMaW5lO1xuICAgICAgICBjdXJyTm9kZUxvY2F0aW9uLmVuZE9mZnNldCA9IG5ld0xvY2F0aW9uSW5mby5lbmRPZmZzZXQ7XG4gICAgICAgIGN1cnJOb2RlTG9jYXRpb24uZW5kQ29sdW1uID0gbmV3TG9jYXRpb25JbmZvLmVuZENvbHVtbjtcbiAgICAgICAgY3Vyck5vZGVMb2NhdGlvbi5lbmRMaW5lID0gbmV3TG9jYXRpb25JbmZvLmVuZExpbmU7XG4gICAgfVxuICAgIC8vIE9uY2UgdGhlIHN0YXJ0IHByb3BzIGhhcyBiZWVuIHVwZGF0ZWQgd2l0aCBhIHZhbGlkIG51bWJlciBpdCBzaG91bGQgbmV2ZXIgcmVjZWl2ZVxuICAgIC8vIGFueSBmYXJ0aGVyIHVwZGF0ZXMgYXMgdGhlIFRva2VuIHZlY3RvciBpcyBzb3J0ZWQuXG4gICAgLy8gV2Ugc3RpbGwgaGF2ZSB0byBjaGVjayB0aGlzIHRoaXMgY29uZGl0aW9uIGZvciBldmVyeSBuZXcgcG9zc2libGUgbG9jYXRpb24gaW5mb1xuICAgIC8vIGJlY2F1c2Ugd2l0aCBlcnJvciByZWNvdmVyeSBlbmFibGVkIHdlIG1heSBlbmNvdW50ZXIgaW52YWxpZCB0b2tlbnMgKE5hTiBsb2NhdGlvbiBwcm9wcylcbiAgICBlbHNlIGlmIChjdXJyTm9kZUxvY2F0aW9uLmVuZE9mZnNldCA8IG5ld0xvY2F0aW9uSW5mby5lbmRPZmZzZXQgPT09IHRydWUpIHtcbiAgICAgICAgY3Vyck5vZGVMb2NhdGlvbi5lbmRPZmZzZXQgPSBuZXdMb2NhdGlvbkluZm8uZW5kT2Zmc2V0O1xuICAgICAgICBjdXJyTm9kZUxvY2F0aW9uLmVuZENvbHVtbiA9IG5ld0xvY2F0aW9uSW5mby5lbmRDb2x1bW47XG4gICAgICAgIGN1cnJOb2RlTG9jYXRpb24uZW5kTGluZSA9IG5ld0xvY2F0aW9uSW5mby5lbmRMaW5lO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBhZGRUZXJtaW5hbFRvQ3N0KG5vZGUsIHRva2VuLCB0b2tlblR5cGVOYW1lKSB7XG4gICAgaWYgKG5vZGUuY2hpbGRyZW5bdG9rZW5UeXBlTmFtZV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBub2RlLmNoaWxkcmVuW3Rva2VuVHlwZU5hbWVdID0gW3Rva2VuXTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIG5vZGUuY2hpbGRyZW5bdG9rZW5UeXBlTmFtZV0ucHVzaCh0b2tlbik7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGFkZE5vbmVUZXJtaW5hbFRvQ3N0KG5vZGUsIHJ1bGVOYW1lLCBydWxlUmVzdWx0KSB7XG4gICAgaWYgKG5vZGUuY2hpbGRyZW5bcnVsZU5hbWVdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbm9kZS5jaGlsZHJlbltydWxlTmFtZV0gPSBbcnVsZVJlc3VsdF07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBub2RlLmNoaWxkcmVuW3J1bGVOYW1lXS5wdXNoKHJ1bGVSZXN1bHQpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNzdC5qcy5tYXAiLCJpbXBvcnQgeyBpc1VuZGVmaW5lZCB9IGZyb20gXCIuLi91dGlscy91dGlsc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIGNsYXNzTmFtZUZyb21JbnN0YW5jZShpbnN0YW5jZSkge1xuICAgIHJldHVybiBmdW5jdGlvbk5hbWUoaW5zdGFuY2UuY29uc3RydWN0b3IpO1xufVxudmFyIEZVTkNfTkFNRV9SRUdFWFAgPSAvXlxccypmdW5jdGlvblxccyooXFxTKilcXHMqXFwoLztcbnZhciBOQU1FID0gXCJuYW1lXCI7XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCB0b28gbWFueSBoYWNrcyBmb3IgSUUvb2xkIHZlcnNpb25zIG9mIG5vZGUuanMgaGVyZSovXG5leHBvcnQgZnVuY3Rpb24gZnVuY3Rpb25OYW1lKGZ1bmMpIHtcbiAgICAvLyBFbmdpbmVzIHRoYXQgc3VwcG9ydCBGdW5jdGlvbi5wcm90b3R5cGUubmFtZSBPUiB0aGUgbnRoIChuPjEpIHRpbWUgYWZ0ZXJcbiAgICAvLyB0aGUgbmFtZSBoYXMgYmVlbiBjb21wdXRlZCBpbiB0aGUgZm9sbG93aW5nIGVsc2UgYmxvY2suXG4gICAgdmFyIGV4aXN0aW5nTmFtZVByb3AgPSBmdW5jLm5hbWU7XG4gICAgaWYgKGV4aXN0aW5nTmFtZVByb3ApIHtcbiAgICAgICAgcmV0dXJuIGV4aXN0aW5nTmFtZVByb3A7XG4gICAgfVxuICAgIC8vIGhhY2sgZm9yIElFIGFuZCBlbmdpbmVzIHRoYXQgZG8gbm90IHN1cHBvcnQgT2JqZWN0LmRlZmluZVByb3BlcnR5IG9uIGZ1bmN0aW9uLm5hbWUgKE5vZGUuanMgMC4xMCAmJiAwLjEyKVxuICAgIHZhciBjb21wdXRlZE5hbWUgPSBmdW5jLnRvU3RyaW5nKCkubWF0Y2goRlVOQ19OQU1FX1JFR0VYUClbMV07XG4gICAgcmV0dXJuIGNvbXB1dGVkTmFtZTtcbn1cbi8qKlxuICogQHJldHVybnMge2Jvb2xlYW59IC0gaGFzIHRoZSBwcm9wZXJ0eSBiZWVuIHN1Y2Nlc3NmdWxseSBkZWZpbmVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWZpbmVOYW1lUHJvcChvYmosIG5hbWVWYWx1ZSkge1xuICAgIHZhciBuYW1lUHJvcERlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwgTkFNRSk7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgLT4gd2lsbCBvbmx5IHJ1biBpbiBvbGQgdmVyc2lvbnMgb2Ygbm9kZS5qcyAqL1xuICAgIGlmIChpc1VuZGVmaW5lZChuYW1lUHJvcERlc2NyaXB0b3IpIHx8IG5hbWVQcm9wRGVzY3JpcHRvci5jb25maWd1cmFibGUpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgTkFNRSwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogZmFsc2UsXG4gICAgICAgICAgICB2YWx1ZTogbmFtZVZhbHVlXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgLT4gd2lsbCBvbmx5IHJ1biBpbiBvbGQgdmVyc2lvbnMgb2Ygbm9kZS5qcyAqL1xuICAgIHJldHVybiBmYWxzZTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxhbmdfZXh0ZW5zaW9ucy5qcy5tYXAiLCJpbXBvcnQgeyBjb21wYWN0LCBjb250YWlucywgZm9yRWFjaCwgaXNBcnJheSwgaXNFbXB0eSwgaXNGdW5jdGlvbiwgaXNVbmRlZmluZWQsIGtleXMsIG1hcCB9IGZyb20gXCIuLi8uLi91dGlscy91dGlsc1wiO1xuaW1wb3J0IHsgZGVmaW5lTmFtZVByb3AsIGZ1bmN0aW9uTmFtZSB9IGZyb20gXCIuLi8uLi9sYW5nL2xhbmdfZXh0ZW5zaW9uc1wiO1xuaW1wb3J0IHsgdmFsaWRUZXJtc1BhdHRlcm4gfSBmcm9tIFwiLi4vZ3JhbW1hci9jaGVja3NcIjtcbmV4cG9ydCBmdW5jdGlvbiBkZWZhdWx0VmlzaXQoY3R4LCBwYXJhbSkge1xuICAgIHZhciBjaGlsZHJlbk5hbWVzID0ga2V5cyhjdHgpO1xuICAgIHZhciBjaGlsZHJlbk5hbWVzTGVuZ3RoID0gY2hpbGRyZW5OYW1lcy5sZW5ndGg7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbk5hbWVzTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGN1cnJDaGlsZE5hbWUgPSBjaGlsZHJlbk5hbWVzW2ldO1xuICAgICAgICB2YXIgY3VyckNoaWxkQXJyYXkgPSBjdHhbY3VyckNoaWxkTmFtZV07XG4gICAgICAgIHZhciBjdXJyQ2hpbGRBcnJheUxlbmd0aCA9IGN1cnJDaGlsZEFycmF5Lmxlbmd0aDtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBjdXJyQ2hpbGRBcnJheUxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICB2YXIgY3VyckNoaWxkID0gY3VyckNoaWxkQXJyYXlbal07XG4gICAgICAgICAgICAvLyBkaXN0aW5jdGlvbiBiZXR3ZWVuIFRva2VucyBDaGlsZHJlbiBhbmQgQ3N0Tm9kZSBjaGlsZHJlblxuICAgICAgICAgICAgaWYgKGN1cnJDaGlsZC50b2tlblR5cGVJZHggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXNbY3VyckNoaWxkLm5hbWVdKGN1cnJDaGlsZC5jaGlsZHJlbiwgcGFyYW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIGRlZmF1bHRWaXNpdCBkb2VzIG5vdCBzdXBwb3J0IGdlbmVyaWMgb3V0IHBhcmFtXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVCYXNlU2VtYW50aWNWaXNpdG9yQ29uc3RydWN0b3IoZ3JhbW1hck5hbWUsIHJ1bGVOYW1lcykge1xuICAgIHZhciBkZXJpdmVkQ29uc3RydWN0b3IgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgLy8gY2FuIGJlIG92ZXJ3cml0dGVuIGFjY29yZGluZyB0bzpcbiAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9GdW5jdGlvbi9cbiAgICAvLyBuYW1lP3JlZGlyZWN0bG9jYWxlPWVuLVVTJnJlZGlyZWN0c2x1Zz1KYXZhU2NyaXB0JTJGUmVmZXJlbmNlJTJGR2xvYmFsX09iamVjdHMlMkZGdW5jdGlvbiUyRm5hbWVcbiAgICBkZWZpbmVOYW1lUHJvcChkZXJpdmVkQ29uc3RydWN0b3IsIGdyYW1tYXJOYW1lICsgXCJCYXNlU2VtYW50aWNzXCIpO1xuICAgIHZhciBzZW1hbnRpY1Byb3RvID0ge1xuICAgICAgICB2aXNpdDogZnVuY3Rpb24gKGNzdE5vZGUsIHBhcmFtKSB7XG4gICAgICAgICAgICAvLyBlbmFibGVzIHdyaXRpbmcgbW9yZSBjb25jaXNlIHZpc2l0b3IgbWV0aG9kcyB3aGVuIENzdE5vZGUgaGFzIG9ubHkgYSBzaW5nbGUgY2hpbGRcbiAgICAgICAgICAgIGlmIChpc0FycmF5KGNzdE5vZGUpKSB7XG4gICAgICAgICAgICAgICAgLy8gQSBDU1QgTm9kZSdzIGNoaWxkcmVuIGRpY3Rpb25hcnkgY2FuIG5ldmVyIGhhdmUgZW1wdHkgYXJyYXlzIGFzIHZhbHVlc1xuICAgICAgICAgICAgICAgIC8vIElmIGEga2V5IGlzIGRlZmluZWQgdGhlcmUgd2lsbCBiZSBhdCBsZWFzdCBvbmUgZWxlbWVudCBpbiB0aGUgY29ycmVzcG9uZGluZyB2YWx1ZSBhcnJheS5cbiAgICAgICAgICAgICAgICBjc3ROb2RlID0gY3N0Tm9kZVswXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGVuYWJsZXMgcGFzc2luZyBvcHRpb25hbCBDc3ROb2RlcyBjb25jaXNlbHkuXG4gICAgICAgICAgICBpZiAoaXNVbmRlZmluZWQoY3N0Tm9kZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXNbY3N0Tm9kZS5uYW1lXShjc3ROb2RlLmNoaWxkcmVuLCBwYXJhbSk7XG4gICAgICAgIH0sXG4gICAgICAgIHZhbGlkYXRlVmlzaXRvcjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHNlbWFudGljRGVmaW5pdGlvbkVycm9ycyA9IHZhbGlkYXRlVmlzaXRvcih0aGlzLCBydWxlTmFtZXMpO1xuICAgICAgICAgICAgaWYgKCFpc0VtcHR5KHNlbWFudGljRGVmaW5pdGlvbkVycm9ycykpIHtcbiAgICAgICAgICAgICAgICB2YXIgZXJyb3JNZXNzYWdlcyA9IG1hcChzZW1hbnRpY0RlZmluaXRpb25FcnJvcnMsIGZ1bmN0aW9uIChjdXJyRGVmRXJyb3IpIHsgcmV0dXJuIGN1cnJEZWZFcnJvci5tc2c7IH0pO1xuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwiRXJyb3JzIERldGVjdGVkIGluIENTVCBWaXNpdG9yIDxcIiArIGZ1bmN0aW9uTmFtZSh0aGlzLmNvbnN0cnVjdG9yKSArIFwiPjpcXG5cXHRcIiArIChcIlwiICsgZXJyb3JNZXNzYWdlcy5qb2luKFwiXFxuXFxuXCIpLnJlcGxhY2UoL1xcbi9nLCBcIlxcblxcdFwiKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBkZXJpdmVkQ29uc3RydWN0b3IucHJvdG90eXBlID0gc2VtYW50aWNQcm90bztcbiAgICBkZXJpdmVkQ29uc3RydWN0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gZGVyaXZlZENvbnN0cnVjdG9yO1xuICAgIGRlcml2ZWRDb25zdHJ1Y3Rvci5fUlVMRV9OQU1FUyA9IHJ1bGVOYW1lcztcbiAgICByZXR1cm4gZGVyaXZlZENvbnN0cnVjdG9yO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUJhc2VWaXNpdG9yQ29uc3RydWN0b3JXaXRoRGVmYXVsdHMoZ3JhbW1hck5hbWUsIHJ1bGVOYW1lcywgYmFzZUNvbnN0cnVjdG9yKSB7XG4gICAgdmFyIGRlcml2ZWRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICAvLyBjYW4gYmUgb3ZlcndyaXR0ZW4gYWNjb3JkaW5nIHRvOlxuICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0Z1bmN0aW9uL1xuICAgIC8vIG5hbWU/cmVkaXJlY3Rsb2NhbGU9ZW4tVVMmcmVkaXJlY3RzbHVnPUphdmFTY3JpcHQlMkZSZWZlcmVuY2UlMkZHbG9iYWxfT2JqZWN0cyUyRkZ1bmN0aW9uJTJGbmFtZVxuICAgIGRlZmluZU5hbWVQcm9wKGRlcml2ZWRDb25zdHJ1Y3RvciwgZ3JhbW1hck5hbWUgKyBcIkJhc2VTZW1hbnRpY3NXaXRoRGVmYXVsdHNcIik7XG4gICAgdmFyIHdpdGhEZWZhdWx0c1Byb3RvID0gT2JqZWN0LmNyZWF0ZShiYXNlQ29uc3RydWN0b3IucHJvdG90eXBlKTtcbiAgICBmb3JFYWNoKHJ1bGVOYW1lcywgZnVuY3Rpb24gKHJ1bGVOYW1lKSB7XG4gICAgICAgIHdpdGhEZWZhdWx0c1Byb3RvW3J1bGVOYW1lXSA9IGRlZmF1bHRWaXNpdDtcbiAgICB9KTtcbiAgICBkZXJpdmVkQ29uc3RydWN0b3IucHJvdG90eXBlID0gd2l0aERlZmF1bHRzUHJvdG87XG4gICAgZGVyaXZlZENvbnN0cnVjdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGRlcml2ZWRDb25zdHJ1Y3RvcjtcbiAgICByZXR1cm4gZGVyaXZlZENvbnN0cnVjdG9yO1xufVxuZXhwb3J0IHZhciBDc3RWaXNpdG9yRGVmaW5pdGlvbkVycm9yO1xuKGZ1bmN0aW9uIChDc3RWaXNpdG9yRGVmaW5pdGlvbkVycm9yKSB7XG4gICAgQ3N0VmlzaXRvckRlZmluaXRpb25FcnJvcltDc3RWaXNpdG9yRGVmaW5pdGlvbkVycm9yW1wiUkVEVU5EQU5UX01FVEhPRFwiXSA9IDBdID0gXCJSRURVTkRBTlRfTUVUSE9EXCI7XG4gICAgQ3N0VmlzaXRvckRlZmluaXRpb25FcnJvcltDc3RWaXNpdG9yRGVmaW5pdGlvbkVycm9yW1wiTUlTU0lOR19NRVRIT0RcIl0gPSAxXSA9IFwiTUlTU0lOR19NRVRIT0RcIjtcbn0pKENzdFZpc2l0b3JEZWZpbml0aW9uRXJyb3IgfHwgKENzdFZpc2l0b3JEZWZpbml0aW9uRXJyb3IgPSB7fSkpO1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlVmlzaXRvcih2aXNpdG9ySW5zdGFuY2UsIHJ1bGVOYW1lcykge1xuICAgIHZhciBtaXNzaW5nRXJyb3JzID0gdmFsaWRhdGVNaXNzaW5nQ3N0TWV0aG9kcyh2aXNpdG9ySW5zdGFuY2UsIHJ1bGVOYW1lcyk7XG4gICAgdmFyIHJlZHVuZGFudEVycm9ycyA9IHZhbGlkYXRlUmVkdW5kYW50TWV0aG9kcyh2aXNpdG9ySW5zdGFuY2UsIHJ1bGVOYW1lcyk7XG4gICAgcmV0dXJuIG1pc3NpbmdFcnJvcnMuY29uY2F0KHJlZHVuZGFudEVycm9ycyk7XG59XG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVNaXNzaW5nQ3N0TWV0aG9kcyh2aXNpdG9ySW5zdGFuY2UsIHJ1bGVOYW1lcykge1xuICAgIHZhciBlcnJvcnMgPSBtYXAocnVsZU5hbWVzLCBmdW5jdGlvbiAoY3VyclJ1bGVOYW1lKSB7XG4gICAgICAgIGlmICghaXNGdW5jdGlvbih2aXNpdG9ySW5zdGFuY2VbY3VyclJ1bGVOYW1lXSkpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbXNnOiBcIk1pc3NpbmcgdmlzaXRvciBtZXRob2Q6IDxcIiArIGN1cnJSdWxlTmFtZSArIFwiPiBvbiBcIiArIGZ1bmN0aW9uTmFtZSh2aXNpdG9ySW5zdGFuY2UuY29uc3RydWN0b3IpICsgXCIgQ1NUIFZpc2l0b3IuXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogQ3N0VmlzaXRvckRlZmluaXRpb25FcnJvci5NSVNTSU5HX01FVEhPRCxcbiAgICAgICAgICAgICAgICBtZXRob2ROYW1lOiBjdXJyUnVsZU5hbWVcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gY29tcGFjdChlcnJvcnMpO1xufVxudmFyIFZBTElEX1BST1BfTkFNRVMgPSBbXCJjb25zdHJ1Y3RvclwiLCBcInZpc2l0XCIsIFwidmFsaWRhdGVWaXNpdG9yXCJdO1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlUmVkdW5kYW50TWV0aG9kcyh2aXNpdG9ySW5zdGFuY2UsIHJ1bGVOYW1lcykge1xuICAgIHZhciBlcnJvcnMgPSBbXTtcbiAgICBmb3IgKHZhciBwcm9wIGluIHZpc2l0b3JJbnN0YW5jZSkge1xuICAgICAgICBpZiAodmFsaWRUZXJtc1BhdHRlcm4udGVzdChwcm9wKSAmJlxuICAgICAgICAgICAgaXNGdW5jdGlvbih2aXNpdG9ySW5zdGFuY2VbcHJvcF0pICYmXG4gICAgICAgICAgICAhY29udGFpbnMoVkFMSURfUFJPUF9OQU1FUywgcHJvcCkgJiZcbiAgICAgICAgICAgICFjb250YWlucyhydWxlTmFtZXMsIHByb3ApKSB7XG4gICAgICAgICAgICBlcnJvcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgbXNnOiBcIlJlZHVuZGFudCB2aXNpdG9yIG1ldGhvZDogPFwiICsgcHJvcCArIFwiPiBvbiBcIiArIGZ1bmN0aW9uTmFtZSh2aXNpdG9ySW5zdGFuY2UuY29uc3RydWN0b3IpICsgXCIgQ1NUIFZpc2l0b3JcXG5cIiArXG4gICAgICAgICAgICAgICAgICAgIFwiVGhlcmUgaXMgbm8gR3JhbW1hciBSdWxlIGNvcnJlc3BvbmRpbmcgdG8gdGhpcyBtZXRob2QncyBuYW1lLlxcblwiICtcbiAgICAgICAgICAgICAgICAgICAgKFwiRm9yIHV0aWxpdHkgbWV0aG9kcyBvbiB2aXNpdG9yIGNsYXNzZXMgdXNlIG1ldGhvZHMgbmFtZXMgdGhhdCBkbyBub3QgbWF0Y2ggL1wiICsgdmFsaWRUZXJtc1BhdHRlcm4uc291cmNlICsgXCIvLlwiKSxcbiAgICAgICAgICAgICAgICB0eXBlOiBDc3RWaXNpdG9yRGVmaW5pdGlvbkVycm9yLlJFRFVOREFOVF9NRVRIT0QsXG4gICAgICAgICAgICAgICAgbWV0aG9kTmFtZTogcHJvcFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGVycm9ycztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNzdF92aXNpdG9yLmpzLm1hcCIsImltcG9ydCB7IGFkZE5vbmVUZXJtaW5hbFRvQ3N0LCBhZGRUZXJtaW5hbFRvQ3N0LCBzZXROb2RlTG9jYXRpb25GdWxsLCBzZXROb2RlTG9jYXRpb25Pbmx5T2Zmc2V0IH0gZnJvbSBcIi4uLy4uL2NzdC9jc3RcIjtcbmltcG9ydCB7IGhhcywgaXNVbmRlZmluZWQsIGtleXMsIE5PT1AgfSBmcm9tIFwiLi4vLi4vLi4vdXRpbHMvdXRpbHNcIjtcbmltcG9ydCB7IGNyZWF0ZUJhc2VTZW1hbnRpY1Zpc2l0b3JDb25zdHJ1Y3RvciwgY3JlYXRlQmFzZVZpc2l0b3JDb25zdHJ1Y3RvcldpdGhEZWZhdWx0cyB9IGZyb20gXCIuLi8uLi9jc3QvY3N0X3Zpc2l0b3JcIjtcbmltcG9ydCB7IERFRkFVTFRfUEFSU0VSX0NPTkZJRyB9IGZyb20gXCIuLi9wYXJzZXJcIjtcbi8qKlxuICogVGhpcyB0cmFpdCBpcyByZXNwb25zaWJsZSBmb3IgdGhlIENTVCBidWlsZGluZyBsb2dpYy5cbiAqL1xudmFyIFRyZWVCdWlsZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFRyZWVCdWlsZGVyKCkge1xuICAgIH1cbiAgICBUcmVlQnVpbGRlci5wcm90b3R5cGUuaW5pdFRyZWVCdWlsZGVyID0gZnVuY3Rpb24gKGNvbmZpZykge1xuICAgICAgICB0aGlzLkNTVF9TVEFDSyA9IFtdO1xuICAgICAgICAvLyBvdXRwdXRDc3QgaXMgbm8gbG9uZ2VyIGV4cG9zZWQvZGVmaW5lZCBpbiB0aGUgcHViaWMgQVBJXG4gICAgICAgIHRoaXMub3V0cHV0Q3N0ID0gY29uZmlnLm91dHB1dENzdDtcbiAgICAgICAgdGhpcy5ub2RlTG9jYXRpb25UcmFja2luZyA9IGhhcyhjb25maWcsIFwibm9kZUxvY2F0aW9uVHJhY2tpbmdcIilcbiAgICAgICAgICAgID8gY29uZmlnLm5vZGVMb2NhdGlvblRyYWNraW5nXG4gICAgICAgICAgICA6IERFRkFVTFRfUEFSU0VSX0NPTkZJRy5ub2RlTG9jYXRpb25UcmFja2luZztcbiAgICAgICAgaWYgKCF0aGlzLm91dHB1dENzdCkge1xuICAgICAgICAgICAgdGhpcy5jc3RJbnZvY2F0aW9uU3RhdGVVcGRhdGUgPSBOT09QO1xuICAgICAgICAgICAgdGhpcy5jc3RGaW5hbGx5U3RhdGVVcGRhdGUgPSBOT09QO1xuICAgICAgICAgICAgdGhpcy5jc3RQb3N0VGVybWluYWwgPSBOT09QO1xuICAgICAgICAgICAgdGhpcy5jc3RQb3N0Tm9uVGVybWluYWwgPSBOT09QO1xuICAgICAgICAgICAgdGhpcy5jc3RQb3N0UnVsZSA9IE5PT1A7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoL2Z1bGwvaS50ZXN0KHRoaXMubm9kZUxvY2F0aW9uVHJhY2tpbmcpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucmVjb3ZlcnlFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0Tm9kZUxvY2F0aW9uRnJvbVRva2VuID0gc2V0Tm9kZUxvY2F0aW9uRnVsbDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXROb2RlTG9jYXRpb25Gcm9tTm9kZSA9IHNldE5vZGVMb2NhdGlvbkZ1bGw7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3N0UG9zdFJ1bGUgPSBOT09QO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEluaXRpYWxOb2RlTG9jYXRpb24gPSB0aGlzLnNldEluaXRpYWxOb2RlTG9jYXRpb25GdWxsUmVjb3Zlcnk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldE5vZGVMb2NhdGlvbkZyb21Ub2tlbiA9IE5PT1A7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0Tm9kZUxvY2F0aW9uRnJvbU5vZGUgPSBOT09QO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNzdFBvc3RSdWxlID0gdGhpcy5jc3RQb3N0UnVsZUZ1bGw7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0SW5pdGlhbE5vZGVMb2NhdGlvbiA9IHRoaXMuc2V0SW5pdGlhbE5vZGVMb2NhdGlvbkZ1bGxSZWd1bGFyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKC9vbmx5T2Zmc2V0L2kudGVzdCh0aGlzLm5vZGVMb2NhdGlvblRyYWNraW5nKSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlY292ZXJ5RW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldE5vZGVMb2NhdGlvbkZyb21Ub2tlbiA9IHNldE5vZGVMb2NhdGlvbk9ubHlPZmZzZXQ7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0Tm9kZUxvY2F0aW9uRnJvbU5vZGUgPSBzZXROb2RlTG9jYXRpb25Pbmx5T2Zmc2V0O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNzdFBvc3RSdWxlID0gTk9PUDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRJbml0aWFsTm9kZUxvY2F0aW9uID0gdGhpcy5zZXRJbml0aWFsTm9kZUxvY2F0aW9uT25seU9mZnNldFJlY292ZXJ5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXROb2RlTG9jYXRpb25Gcm9tVG9rZW4gPSBOT09QO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldE5vZGVMb2NhdGlvbkZyb21Ob2RlID0gTk9PUDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jc3RQb3N0UnVsZSA9IHRoaXMuY3N0UG9zdFJ1bGVPbmx5T2Zmc2V0O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEluaXRpYWxOb2RlTG9jYXRpb24gPSB0aGlzLnNldEluaXRpYWxOb2RlTG9jYXRpb25Pbmx5T2Zmc2V0UmVndWxhcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICgvbm9uZS9pLnRlc3QodGhpcy5ub2RlTG9jYXRpb25UcmFja2luZykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldE5vZGVMb2NhdGlvbkZyb21Ub2tlbiA9IE5PT1A7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXROb2RlTG9jYXRpb25Gcm9tTm9kZSA9IE5PT1A7XG4gICAgICAgICAgICAgICAgdGhpcy5jc3RQb3N0UnVsZSA9IE5PT1A7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRJbml0aWFsTm9kZUxvY2F0aW9uID0gTk9PUDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwiSW52YWxpZCA8bm9kZUxvY2F0aW9uVHJhY2tpbmc+IGNvbmZpZyBvcHRpb246IFxcXCJcIiArIGNvbmZpZy5ub2RlTG9jYXRpb25UcmFja2luZyArIFwiXFxcIlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgVHJlZUJ1aWxkZXIucHJvdG90eXBlLnNldEluaXRpYWxOb2RlTG9jYXRpb25Pbmx5T2Zmc2V0UmVjb3ZlcnkgPSBmdW5jdGlvbiAoY3N0Tm9kZSkge1xuICAgICAgICBjc3ROb2RlLmxvY2F0aW9uID0ge1xuICAgICAgICAgICAgc3RhcnRPZmZzZXQ6IE5hTixcbiAgICAgICAgICAgIGVuZE9mZnNldDogTmFOXG4gICAgICAgIH07XG4gICAgfTtcbiAgICBUcmVlQnVpbGRlci5wcm90b3R5cGUuc2V0SW5pdGlhbE5vZGVMb2NhdGlvbk9ubHlPZmZzZXRSZWd1bGFyID0gZnVuY3Rpb24gKGNzdE5vZGUpIHtcbiAgICAgICAgY3N0Tm9kZS5sb2NhdGlvbiA9IHtcbiAgICAgICAgICAgIC8vIHdpdGhvdXQgZXJyb3IgcmVjb3ZlcnkgdGhlIHN0YXJ0aW5nIExvY2F0aW9uIG9mIGEgbmV3IENzdE5vZGUgaXMgZ3VhcmFudGVlZFxuICAgICAgICAgICAgLy8gVG8gYmUgdGhlIG5leHQgVG9rZW4ncyBzdGFydE9mZnNldCAoZm9yIHZhbGlkIGlucHV0cykuXG4gICAgICAgICAgICAvLyBGb3IgaW52YWxpZCBpbnB1dHMgdGhlcmUgd29uJ3QgYmUgYW55IENTVE91dHB1dCBzbyB0aGlzIHBvdGVudGlhbFxuICAgICAgICAgICAgLy8gaW5hY2N1cmFjeSBkb2VzIG5vdCBtYXR0ZXJcbiAgICAgICAgICAgIHN0YXJ0T2Zmc2V0OiB0aGlzLkxBKDEpLnN0YXJ0T2Zmc2V0LFxuICAgICAgICAgICAgZW5kT2Zmc2V0OiBOYU5cbiAgICAgICAgfTtcbiAgICB9O1xuICAgIFRyZWVCdWlsZGVyLnByb3RvdHlwZS5zZXRJbml0aWFsTm9kZUxvY2F0aW9uRnVsbFJlY292ZXJ5ID0gZnVuY3Rpb24gKGNzdE5vZGUpIHtcbiAgICAgICAgY3N0Tm9kZS5sb2NhdGlvbiA9IHtcbiAgICAgICAgICAgIHN0YXJ0T2Zmc2V0OiBOYU4sXG4gICAgICAgICAgICBzdGFydExpbmU6IE5hTixcbiAgICAgICAgICAgIHN0YXJ0Q29sdW1uOiBOYU4sXG4gICAgICAgICAgICBlbmRPZmZzZXQ6IE5hTixcbiAgICAgICAgICAgIGVuZExpbmU6IE5hTixcbiAgICAgICAgICAgIGVuZENvbHVtbjogTmFOXG4gICAgICAgIH07XG4gICAgfTtcbiAgICAvKipcbiAgICAgICAqICBAc2VlIHNldEluaXRpYWxOb2RlTG9jYXRpb25Pbmx5T2Zmc2V0UmVndWxhciBmb3IgZXhwbGFuYXRpb24gd2h5IHRoaXMgd29ya1xuICBcbiAgICAgICAqIEBwYXJhbSBjc3ROb2RlXG4gICAgICAgKi9cbiAgICBUcmVlQnVpbGRlci5wcm90b3R5cGUuc2V0SW5pdGlhbE5vZGVMb2NhdGlvbkZ1bGxSZWd1bGFyID0gZnVuY3Rpb24gKGNzdE5vZGUpIHtcbiAgICAgICAgdmFyIG5leHRUb2tlbiA9IHRoaXMuTEEoMSk7XG4gICAgICAgIGNzdE5vZGUubG9jYXRpb24gPSB7XG4gICAgICAgICAgICBzdGFydE9mZnNldDogbmV4dFRva2VuLnN0YXJ0T2Zmc2V0LFxuICAgICAgICAgICAgc3RhcnRMaW5lOiBuZXh0VG9rZW4uc3RhcnRMaW5lLFxuICAgICAgICAgICAgc3RhcnRDb2x1bW46IG5leHRUb2tlbi5zdGFydENvbHVtbixcbiAgICAgICAgICAgIGVuZE9mZnNldDogTmFOLFxuICAgICAgICAgICAgZW5kTGluZTogTmFOLFxuICAgICAgICAgICAgZW5kQ29sdW1uOiBOYU5cbiAgICAgICAgfTtcbiAgICB9O1xuICAgIFRyZWVCdWlsZGVyLnByb3RvdHlwZS5jc3RJbnZvY2F0aW9uU3RhdGVVcGRhdGUgPSBmdW5jdGlvbiAoZnVsbFJ1bGVOYW1lLCBzaG9ydE5hbWUpIHtcbiAgICAgICAgdmFyIGNzdE5vZGUgPSB7XG4gICAgICAgICAgICBuYW1lOiBmdWxsUnVsZU5hbWUsXG4gICAgICAgICAgICBjaGlsZHJlbjoge31cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zZXRJbml0aWFsTm9kZUxvY2F0aW9uKGNzdE5vZGUpO1xuICAgICAgICB0aGlzLkNTVF9TVEFDSy5wdXNoKGNzdE5vZGUpO1xuICAgIH07XG4gICAgVHJlZUJ1aWxkZXIucHJvdG90eXBlLmNzdEZpbmFsbHlTdGF0ZVVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5DU1RfU1RBQ0sucG9wKCk7XG4gICAgfTtcbiAgICBUcmVlQnVpbGRlci5wcm90b3R5cGUuY3N0UG9zdFJ1bGVGdWxsID0gZnVuY3Rpb24gKHJ1bGVDc3ROb2RlKSB7XG4gICAgICAgIHZhciBwcmV2VG9rZW4gPSB0aGlzLkxBKDApO1xuICAgICAgICB2YXIgbG9jID0gcnVsZUNzdE5vZGUubG9jYXRpb247XG4gICAgICAgIC8vIElmIHRoaXMgY29uZGl0aW9uIGlzIHRydWUgaXQgbWVhbnMgd2UgY29uc3VtZWQgYXQgbGVhc3Qgb25lIFRva2VuXG4gICAgICAgIC8vIEluIHRoaXMgQ3N0Tm9kZS5cbiAgICAgICAgaWYgKGxvYy5zdGFydE9mZnNldCA8PSBwcmV2VG9rZW4uc3RhcnRPZmZzZXQgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGxvYy5lbmRPZmZzZXQgPSBwcmV2VG9rZW4uZW5kT2Zmc2V0O1xuICAgICAgICAgICAgbG9jLmVuZExpbmUgPSBwcmV2VG9rZW4uZW5kTGluZTtcbiAgICAgICAgICAgIGxvYy5lbmRDb2x1bW4gPSBwcmV2VG9rZW4uZW5kQ29sdW1uO1xuICAgICAgICB9XG4gICAgICAgIC8vIFwiZW1wdHlcIiBDc3ROb2RlIGVkZ2UgY2FzZVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxvYy5zdGFydE9mZnNldCA9IE5hTjtcbiAgICAgICAgICAgIGxvYy5zdGFydExpbmUgPSBOYU47XG4gICAgICAgICAgICBsb2Muc3RhcnRDb2x1bW4gPSBOYU47XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFRyZWVCdWlsZGVyLnByb3RvdHlwZS5jc3RQb3N0UnVsZU9ubHlPZmZzZXQgPSBmdW5jdGlvbiAocnVsZUNzdE5vZGUpIHtcbiAgICAgICAgdmFyIHByZXZUb2tlbiA9IHRoaXMuTEEoMCk7XG4gICAgICAgIHZhciBsb2MgPSBydWxlQ3N0Tm9kZS5sb2NhdGlvbjtcbiAgICAgICAgLy8gSWYgdGhpcyBjb25kaXRpb24gaXMgdHJ1ZSBpdCBtZWFucyB3ZSBjb25zdW1lZCBhdCBsZWFzdCBvbmUgVG9rZW5cbiAgICAgICAgLy8gSW4gdGhpcyBDc3ROb2RlLlxuICAgICAgICBpZiAobG9jLnN0YXJ0T2Zmc2V0IDw9IHByZXZUb2tlbi5zdGFydE9mZnNldCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgbG9jLmVuZE9mZnNldCA9IHByZXZUb2tlbi5lbmRPZmZzZXQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gXCJlbXB0eVwiIENzdE5vZGUgZWRnZSBjYXNlXG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbG9jLnN0YXJ0T2Zmc2V0ID0gTmFOO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBUcmVlQnVpbGRlci5wcm90b3R5cGUuY3N0UG9zdFRlcm1pbmFsID0gZnVuY3Rpb24gKGtleSwgY29uc3VtZWRUb2tlbikge1xuICAgICAgICB2YXIgcm9vdENzdCA9IHRoaXMuQ1NUX1NUQUNLW3RoaXMuQ1NUX1NUQUNLLmxlbmd0aCAtIDFdO1xuICAgICAgICBhZGRUZXJtaW5hbFRvQ3N0KHJvb3RDc3QsIGNvbnN1bWVkVG9rZW4sIGtleSk7XG4gICAgICAgIC8vIFRoaXMgaXMgb25seSB1c2VkIHdoZW4gKipib3RoKiogZXJyb3IgcmVjb3ZlcnkgYW5kIENTVCBPdXRwdXQgYXJlIGVuYWJsZWQuXG4gICAgICAgIHRoaXMuc2V0Tm9kZUxvY2F0aW9uRnJvbVRva2VuKHJvb3RDc3QubG9jYXRpb24sIGNvbnN1bWVkVG9rZW4pO1xuICAgIH07XG4gICAgVHJlZUJ1aWxkZXIucHJvdG90eXBlLmNzdFBvc3ROb25UZXJtaW5hbCA9IGZ1bmN0aW9uIChydWxlQ3N0UmVzdWx0LCBydWxlTmFtZSkge1xuICAgICAgICB2YXIgcHJlQ3N0Tm9kZSA9IHRoaXMuQ1NUX1NUQUNLW3RoaXMuQ1NUX1NUQUNLLmxlbmd0aCAtIDFdO1xuICAgICAgICBhZGROb25lVGVybWluYWxUb0NzdChwcmVDc3ROb2RlLCBydWxlTmFtZSwgcnVsZUNzdFJlc3VsdCk7XG4gICAgICAgIC8vIFRoaXMgaXMgb25seSB1c2VkIHdoZW4gKipib3RoKiogZXJyb3IgcmVjb3ZlcnkgYW5kIENTVCBPdXRwdXQgYXJlIGVuYWJsZWQuXG4gICAgICAgIHRoaXMuc2V0Tm9kZUxvY2F0aW9uRnJvbU5vZGUocHJlQ3N0Tm9kZS5sb2NhdGlvbiwgcnVsZUNzdFJlc3VsdC5sb2NhdGlvbik7XG4gICAgfTtcbiAgICBUcmVlQnVpbGRlci5wcm90b3R5cGUuZ2V0QmFzZUNzdFZpc2l0b3JDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGlzVW5kZWZpbmVkKHRoaXMuYmFzZUNzdFZpc2l0b3JDb25zdHJ1Y3RvcikpIHtcbiAgICAgICAgICAgIHZhciBuZXdCYXNlQ3N0VmlzaXRvckNvbnN0cnVjdG9yID0gY3JlYXRlQmFzZVNlbWFudGljVmlzaXRvckNvbnN0cnVjdG9yKHRoaXMuY2xhc3NOYW1lLCBrZXlzKHRoaXMuZ2FzdFByb2R1Y3Rpb25zQ2FjaGUpKTtcbiAgICAgICAgICAgIHRoaXMuYmFzZUNzdFZpc2l0b3JDb25zdHJ1Y3RvciA9IG5ld0Jhc2VDc3RWaXNpdG9yQ29uc3RydWN0b3I7XG4gICAgICAgICAgICByZXR1cm4gbmV3QmFzZUNzdFZpc2l0b3JDb25zdHJ1Y3RvcjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5iYXNlQ3N0VmlzaXRvckNvbnN0cnVjdG9yO1xuICAgIH07XG4gICAgVHJlZUJ1aWxkZXIucHJvdG90eXBlLmdldEJhc2VDc3RWaXNpdG9yQ29uc3RydWN0b3JXaXRoRGVmYXVsdHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChpc1VuZGVmaW5lZCh0aGlzLmJhc2VDc3RWaXNpdG9yV2l0aERlZmF1bHRzQ29uc3RydWN0b3IpKSB7XG4gICAgICAgICAgICB2YXIgbmV3Q29uc3RydWN0b3IgPSBjcmVhdGVCYXNlVmlzaXRvckNvbnN0cnVjdG9yV2l0aERlZmF1bHRzKHRoaXMuY2xhc3NOYW1lLCBrZXlzKHRoaXMuZ2FzdFByb2R1Y3Rpb25zQ2FjaGUpLCB0aGlzLmdldEJhc2VDc3RWaXNpdG9yQ29uc3RydWN0b3IoKSk7XG4gICAgICAgICAgICB0aGlzLmJhc2VDc3RWaXNpdG9yV2l0aERlZmF1bHRzQ29uc3RydWN0b3IgPSBuZXdDb25zdHJ1Y3RvcjtcbiAgICAgICAgICAgIHJldHVybiBuZXdDb25zdHJ1Y3RvcjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5iYXNlQ3N0VmlzaXRvcldpdGhEZWZhdWx0c0NvbnN0cnVjdG9yO1xuICAgIH07XG4gICAgVHJlZUJ1aWxkZXIucHJvdG90eXBlLmdldExhc3RFeHBsaWNpdFJ1bGVTaG9ydE5hbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBydWxlU3RhY2sgPSB0aGlzLlJVTEVfU1RBQ0s7XG4gICAgICAgIHJldHVybiBydWxlU3RhY2tbcnVsZVN0YWNrLmxlbmd0aCAtIDFdO1xuICAgIH07XG4gICAgVHJlZUJ1aWxkZXIucHJvdG90eXBlLmdldFByZXZpb3VzRXhwbGljaXRSdWxlU2hvcnROYW1lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcnVsZVN0YWNrID0gdGhpcy5SVUxFX1NUQUNLO1xuICAgICAgICByZXR1cm4gcnVsZVN0YWNrW3J1bGVTdGFjay5sZW5ndGggLSAyXTtcbiAgICB9O1xuICAgIFRyZWVCdWlsZGVyLnByb3RvdHlwZS5nZXRMYXN0RXhwbGljaXRSdWxlT2NjdXJyZW5jZUluZGV4ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgb2NjdXJyZW5jZVN0YWNrID0gdGhpcy5SVUxFX09DQ1VSUkVOQ0VfU1RBQ0s7XG4gICAgICAgIHJldHVybiBvY2N1cnJlbmNlU3RhY2tbb2NjdXJyZW5jZVN0YWNrLmxlbmd0aCAtIDFdO1xuICAgIH07XG4gICAgcmV0dXJuIFRyZWVCdWlsZGVyO1xufSgpKTtcbmV4cG9ydCB7IFRyZWVCdWlsZGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD10cmVlX2J1aWxkZXIuanMubWFwIiwiaW1wb3J0IHsgRU5EX09GX0ZJTEUgfSBmcm9tIFwiLi4vcGFyc2VyXCI7XG4vKipcbiAqIFRyYWl0IHJlc3BvbnNpYmxlIGFic3RyYWN0aW5nIG92ZXIgdGhlIGludGVyYWN0aW9uIHdpdGggTGV4ZXIgb3V0cHV0IChUb2tlbiB2ZWN0b3IpLlxuICpcbiAqIFRoaXMgY291bGQgYmUgZ2VuZXJhbGl6ZWQgdG8gc3VwcG9ydCBvdGhlciBraW5kcyBvZiBsZXhlcnMsIGUuZy5cbiAqIC0gSnVzdCBpbiBUaW1lIExleGluZyAvIExleGVyLUxlc3MgcGFyc2luZy5cbiAqIC0gU3RyZWFtaW5nIExleGVyLlxuICovXG52YXIgTGV4ZXJBZGFwdGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIExleGVyQWRhcHRlcigpIHtcbiAgICB9XG4gICAgTGV4ZXJBZGFwdGVyLnByb3RvdHlwZS5pbml0TGV4ZXJBZGFwdGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnRva1ZlY3RvciA9IFtdO1xuICAgICAgICB0aGlzLnRva1ZlY3Rvckxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuY3VycklkeCA9IC0xO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExleGVyQWRhcHRlci5wcm90b3R5cGUsIFwiaW5wdXRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRva1ZlY3RvcjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAobmV3SW5wdXQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnNlbGZBbmFseXNpc0RvbmUgIT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIk1pc3NpbmcgPHBlcmZvcm1TZWxmQW5hbHlzaXM+IGludm9jYXRpb24gYXQgdGhlIGVuZCBvZiB0aGUgUGFyc2VyJ3MgY29uc3RydWN0b3IuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgICAgICAgdGhpcy50b2tWZWN0b3IgPSBuZXdJbnB1dDtcbiAgICAgICAgICAgIHRoaXMudG9rVmVjdG9yTGVuZ3RoID0gbmV3SW5wdXQubGVuZ3RoO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvLyBza2lwcyBhIHRva2VuIGFuZCByZXR1cm5zIHRoZSBuZXh0IHRva2VuXG4gICAgTGV4ZXJBZGFwdGVyLnByb3RvdHlwZS5TS0lQX1RPS0VOID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5jdXJySWR4IDw9IHRoaXMudG9rVmVjdG9yLmxlbmd0aCAtIDIpIHtcbiAgICAgICAgICAgIHRoaXMuY29uc3VtZVRva2VuKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5MQSgxKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBFTkRfT0ZfRklMRTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLy8gTGV4ZXIgKGFjY2Vzc2luZyBUb2tlbiB2ZWN0b3IpIHJlbGF0ZWQgbWV0aG9kcyB3aGljaCBjYW4gYmUgb3ZlcnJpZGRlbiB0byBpbXBsZW1lbnQgbGF6eSBsZXhlcnNcbiAgICAvLyBvciBsZXhlcnMgZGVwZW5kZW50IG9uIHBhcnNlciBjb250ZXh0LlxuICAgIExleGVyQWRhcHRlci5wcm90b3R5cGUuTEEgPSBmdW5jdGlvbiAoaG93TXVjaCkge1xuICAgICAgICB2YXIgc291Z2h0SWR4ID0gdGhpcy5jdXJySWR4ICsgaG93TXVjaDtcbiAgICAgICAgaWYgKHNvdWdodElkeCA8IDAgfHwgdGhpcy50b2tWZWN0b3JMZW5ndGggPD0gc291Z2h0SWR4KSB7XG4gICAgICAgICAgICByZXR1cm4gRU5EX09GX0ZJTEU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50b2tWZWN0b3Jbc291Z2h0SWR4XTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTGV4ZXJBZGFwdGVyLnByb3RvdHlwZS5jb25zdW1lVG9rZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY3VycklkeCsrO1xuICAgIH07XG4gICAgTGV4ZXJBZGFwdGVyLnByb3RvdHlwZS5leHBvcnRMZXhlclN0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jdXJySWR4O1xuICAgIH07XG4gICAgTGV4ZXJBZGFwdGVyLnByb3RvdHlwZS5pbXBvcnRMZXhlclN0YXRlID0gZnVuY3Rpb24gKG5ld1N0YXRlKSB7XG4gICAgICAgIHRoaXMuY3VycklkeCA9IG5ld1N0YXRlO1xuICAgIH07XG4gICAgTGV4ZXJBZGFwdGVyLnByb3RvdHlwZS5yZXNldExleGVyU3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY3VycklkeCA9IC0xO1xuICAgIH07XG4gICAgTGV4ZXJBZGFwdGVyLnByb3RvdHlwZS5tb3ZlVG9UZXJtaW5hdGVkU3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY3VycklkeCA9IHRoaXMudG9rVmVjdG9yLmxlbmd0aCAtIDE7XG4gICAgfTtcbiAgICBMZXhlckFkYXB0ZXIucHJvdG90eXBlLmdldExleGVyUG9zaXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmV4cG9ydExleGVyU3RhdGUoKTtcbiAgICB9O1xuICAgIHJldHVybiBMZXhlckFkYXB0ZXI7XG59KCkpO1xuZXhwb3J0IHsgTGV4ZXJBZGFwdGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sZXhlcl9hZGFwdGVyLmpzLm1hcCIsImltcG9ydCB7IGNvbnRhaW5zLCB2YWx1ZXMgfSBmcm9tIFwiLi4vLi4vLi4vdXRpbHMvdXRpbHNcIjtcbmltcG9ydCB7IGlzUmVjb2duaXRpb25FeGNlcHRpb24gfSBmcm9tIFwiLi4vLi4vZXhjZXB0aW9uc19wdWJsaWNcIjtcbmltcG9ydCB7IERFRkFVTFRfUlVMRV9DT05GSUcsIFBhcnNlckRlZmluaXRpb25FcnJvclR5cGUgfSBmcm9tIFwiLi4vcGFyc2VyXCI7XG5pbXBvcnQgeyBkZWZhdWx0R3JhbW1hclZhbGlkYXRvckVycm9yUHJvdmlkZXIgfSBmcm9tIFwiLi4vLi4vZXJyb3JzX3B1YmxpY1wiO1xuaW1wb3J0IHsgdmFsaWRhdGVSdWxlSXNPdmVycmlkZGVuIH0gZnJvbSBcIi4uLy4uL2dyYW1tYXIvY2hlY2tzXCI7XG5pbXBvcnQgeyBzZXJpYWxpemVHcmFtbWFyIH0gZnJvbSBcIi4uLy4uL2dyYW1tYXIvZ2FzdC9nYXN0X3B1YmxpY1wiO1xuLyoqXG4gKiBUaGlzIHRyYWl0IGlzIHJlc3BvbnNpYmxlIGZvciBpbXBsZW1lbnRpbmcgdGhlIHB1YmxpYyBBUElcbiAqIGZvciBkZWZpbmluZyBDaGV2cm90YWluIHBhcnNlcnMsIGkuZTpcbiAqIC0gQ09OU1VNRVxuICogLSBSVUxFXG4gKiAtIE9QVElPTlxuICogLSAuLi5cbiAqL1xudmFyIFJlY29nbml6ZXJBcGkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVjb2duaXplckFwaSgpIHtcbiAgICB9XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuQUNUSU9OID0gZnVuY3Rpb24gKGltcGwpIHtcbiAgICAgICAgcmV0dXJuIGltcGwuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLmNvbnN1bWUgPSBmdW5jdGlvbiAoaWR4LCB0b2tUeXBlLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnN1bWVJbnRlcm5hbCh0b2tUeXBlLCBpZHgsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuc3VicnVsZSA9IGZ1bmN0aW9uIChpZHgsIHJ1bGVUb0NhbGwsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3VicnVsZUludGVybmFsKHJ1bGVUb0NhbGwsIGlkeCwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5vcHRpb24gPSBmdW5jdGlvbiAoaWR4LCBhY3Rpb25PUk1ldGhvZERlZikge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25JbnRlcm5hbChhY3Rpb25PUk1ldGhvZERlZiwgaWR4KTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLm9yID0gZnVuY3Rpb24gKGlkeCwgYWx0c09yT3B0cykge1xuICAgICAgICByZXR1cm4gdGhpcy5vckludGVybmFsKGFsdHNPck9wdHMsIGlkeCk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5tYW55ID0gZnVuY3Rpb24gKGlkeCwgYWN0aW9uT1JNZXRob2REZWYpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFueUludGVybmFsKGlkeCwgYWN0aW9uT1JNZXRob2REZWYpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuYXRMZWFzdE9uZSA9IGZ1bmN0aW9uIChpZHgsIGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmF0TGVhc3RPbmVJbnRlcm5hbChpZHgsIGFjdGlvbk9STWV0aG9kRGVmKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLkNPTlNVTUUgPSBmdW5jdGlvbiAodG9rVHlwZSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25zdW1lSW50ZXJuYWwodG9rVHlwZSwgMCwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5DT05TVU1FMSA9IGZ1bmN0aW9uICh0b2tUeXBlLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnN1bWVJbnRlcm5hbCh0b2tUeXBlLCAxLCBvcHRpb25zKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLkNPTlNVTUUyID0gZnVuY3Rpb24gKHRva1R5cGUsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uc3VtZUludGVybmFsKHRva1R5cGUsIDIsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuQ09OU1VNRTMgPSBmdW5jdGlvbiAodG9rVHlwZSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25zdW1lSW50ZXJuYWwodG9rVHlwZSwgMywgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5DT05TVU1FNCA9IGZ1bmN0aW9uICh0b2tUeXBlLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnN1bWVJbnRlcm5hbCh0b2tUeXBlLCA0LCBvcHRpb25zKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLkNPTlNVTUU1ID0gZnVuY3Rpb24gKHRva1R5cGUsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uc3VtZUludGVybmFsKHRva1R5cGUsIDUsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuQ09OU1VNRTYgPSBmdW5jdGlvbiAodG9rVHlwZSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25zdW1lSW50ZXJuYWwodG9rVHlwZSwgNiwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5DT05TVU1FNyA9IGZ1bmN0aW9uICh0b2tUeXBlLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnN1bWVJbnRlcm5hbCh0b2tUeXBlLCA3LCBvcHRpb25zKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLkNPTlNVTUU4ID0gZnVuY3Rpb24gKHRva1R5cGUsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uc3VtZUludGVybmFsKHRva1R5cGUsIDgsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuQ09OU1VNRTkgPSBmdW5jdGlvbiAodG9rVHlwZSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25zdW1lSW50ZXJuYWwodG9rVHlwZSwgOSwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5TVUJSVUxFID0gZnVuY3Rpb24gKHJ1bGVUb0NhbGwsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3VicnVsZUludGVybmFsKHJ1bGVUb0NhbGwsIDAsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuU1VCUlVMRTEgPSBmdW5jdGlvbiAocnVsZVRvQ2FsbCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5zdWJydWxlSW50ZXJuYWwocnVsZVRvQ2FsbCwgMSwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5TVUJSVUxFMiA9IGZ1bmN0aW9uIChydWxlVG9DYWxsLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN1YnJ1bGVJbnRlcm5hbChydWxlVG9DYWxsLCAyLCBvcHRpb25zKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLlNVQlJVTEUzID0gZnVuY3Rpb24gKHJ1bGVUb0NhbGwsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3VicnVsZUludGVybmFsKHJ1bGVUb0NhbGwsIDMsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuU1VCUlVMRTQgPSBmdW5jdGlvbiAocnVsZVRvQ2FsbCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5zdWJydWxlSW50ZXJuYWwocnVsZVRvQ2FsbCwgNCwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5TVUJSVUxFNSA9IGZ1bmN0aW9uIChydWxlVG9DYWxsLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN1YnJ1bGVJbnRlcm5hbChydWxlVG9DYWxsLCA1LCBvcHRpb25zKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLlNVQlJVTEU2ID0gZnVuY3Rpb24gKHJ1bGVUb0NhbGwsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3VicnVsZUludGVybmFsKHJ1bGVUb0NhbGwsIDYsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuU1VCUlVMRTcgPSBmdW5jdGlvbiAocnVsZVRvQ2FsbCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5zdWJydWxlSW50ZXJuYWwocnVsZVRvQ2FsbCwgNywgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5TVUJSVUxFOCA9IGZ1bmN0aW9uIChydWxlVG9DYWxsLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN1YnJ1bGVJbnRlcm5hbChydWxlVG9DYWxsLCA4LCBvcHRpb25zKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLlNVQlJVTEU5ID0gZnVuY3Rpb24gKHJ1bGVUb0NhbGwsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3VicnVsZUludGVybmFsKHJ1bGVUb0NhbGwsIDksIG9wdGlvbnMpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuT1BUSU9OID0gZnVuY3Rpb24gKGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbkludGVybmFsKGFjdGlvbk9STWV0aG9kRGVmLCAwKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLk9QVElPTjEgPSBmdW5jdGlvbiAoYWN0aW9uT1JNZXRob2REZWYpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9uSW50ZXJuYWwoYWN0aW9uT1JNZXRob2REZWYsIDEpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuT1BUSU9OMiA9IGZ1bmN0aW9uIChhY3Rpb25PUk1ldGhvZERlZikge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25JbnRlcm5hbChhY3Rpb25PUk1ldGhvZERlZiwgMik7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5PUFRJT04zID0gZnVuY3Rpb24gKGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbkludGVybmFsKGFjdGlvbk9STWV0aG9kRGVmLCAzKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLk9QVElPTjQgPSBmdW5jdGlvbiAoYWN0aW9uT1JNZXRob2REZWYpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9uSW50ZXJuYWwoYWN0aW9uT1JNZXRob2REZWYsIDQpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuT1BUSU9ONSA9IGZ1bmN0aW9uIChhY3Rpb25PUk1ldGhvZERlZikge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25JbnRlcm5hbChhY3Rpb25PUk1ldGhvZERlZiwgNSk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5PUFRJT042ID0gZnVuY3Rpb24gKGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbkludGVybmFsKGFjdGlvbk9STWV0aG9kRGVmLCA2KTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLk9QVElPTjcgPSBmdW5jdGlvbiAoYWN0aW9uT1JNZXRob2REZWYpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9uSW50ZXJuYWwoYWN0aW9uT1JNZXRob2REZWYsIDcpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuT1BUSU9OOCA9IGZ1bmN0aW9uIChhY3Rpb25PUk1ldGhvZERlZikge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25JbnRlcm5hbChhY3Rpb25PUk1ldGhvZERlZiwgOCk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5PUFRJT045ID0gZnVuY3Rpb24gKGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbkludGVybmFsKGFjdGlvbk9STWV0aG9kRGVmLCA5KTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLk9SID0gZnVuY3Rpb24gKGFsdHNPck9wdHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3JJbnRlcm5hbChhbHRzT3JPcHRzLCAwKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLk9SMSA9IGZ1bmN0aW9uIChhbHRzT3JPcHRzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9ySW50ZXJuYWwoYWx0c09yT3B0cywgMSk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5PUjIgPSBmdW5jdGlvbiAoYWx0c09yT3B0cykge1xuICAgICAgICByZXR1cm4gdGhpcy5vckludGVybmFsKGFsdHNPck9wdHMsIDIpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuT1IzID0gZnVuY3Rpb24gKGFsdHNPck9wdHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3JJbnRlcm5hbChhbHRzT3JPcHRzLCAzKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLk9SNCA9IGZ1bmN0aW9uIChhbHRzT3JPcHRzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9ySW50ZXJuYWwoYWx0c09yT3B0cywgNCk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5PUjUgPSBmdW5jdGlvbiAoYWx0c09yT3B0cykge1xuICAgICAgICByZXR1cm4gdGhpcy5vckludGVybmFsKGFsdHNPck9wdHMsIDUpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuT1I2ID0gZnVuY3Rpb24gKGFsdHNPck9wdHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3JJbnRlcm5hbChhbHRzT3JPcHRzLCA2KTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLk9SNyA9IGZ1bmN0aW9uIChhbHRzT3JPcHRzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9ySW50ZXJuYWwoYWx0c09yT3B0cywgNyk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5PUjggPSBmdW5jdGlvbiAoYWx0c09yT3B0cykge1xuICAgICAgICByZXR1cm4gdGhpcy5vckludGVybmFsKGFsdHNPck9wdHMsIDgpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuT1I5ID0gZnVuY3Rpb24gKGFsdHNPck9wdHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3JJbnRlcm5hbChhbHRzT3JPcHRzLCA5KTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLk1BTlkgPSBmdW5jdGlvbiAoYWN0aW9uT1JNZXRob2REZWYpIHtcbiAgICAgICAgdGhpcy5tYW55SW50ZXJuYWwoMCwgYWN0aW9uT1JNZXRob2REZWYpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuTUFOWTEgPSBmdW5jdGlvbiAoYWN0aW9uT1JNZXRob2REZWYpIHtcbiAgICAgICAgdGhpcy5tYW55SW50ZXJuYWwoMSwgYWN0aW9uT1JNZXRob2REZWYpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuTUFOWTIgPSBmdW5jdGlvbiAoYWN0aW9uT1JNZXRob2REZWYpIHtcbiAgICAgICAgdGhpcy5tYW55SW50ZXJuYWwoMiwgYWN0aW9uT1JNZXRob2REZWYpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuTUFOWTMgPSBmdW5jdGlvbiAoYWN0aW9uT1JNZXRob2REZWYpIHtcbiAgICAgICAgdGhpcy5tYW55SW50ZXJuYWwoMywgYWN0aW9uT1JNZXRob2REZWYpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuTUFOWTQgPSBmdW5jdGlvbiAoYWN0aW9uT1JNZXRob2REZWYpIHtcbiAgICAgICAgdGhpcy5tYW55SW50ZXJuYWwoNCwgYWN0aW9uT1JNZXRob2REZWYpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuTUFOWTUgPSBmdW5jdGlvbiAoYWN0aW9uT1JNZXRob2REZWYpIHtcbiAgICAgICAgdGhpcy5tYW55SW50ZXJuYWwoNSwgYWN0aW9uT1JNZXRob2REZWYpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuTUFOWTYgPSBmdW5jdGlvbiAoYWN0aW9uT1JNZXRob2REZWYpIHtcbiAgICAgICAgdGhpcy5tYW55SW50ZXJuYWwoNiwgYWN0aW9uT1JNZXRob2REZWYpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuTUFOWTcgPSBmdW5jdGlvbiAoYWN0aW9uT1JNZXRob2REZWYpIHtcbiAgICAgICAgdGhpcy5tYW55SW50ZXJuYWwoNywgYWN0aW9uT1JNZXRob2REZWYpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuTUFOWTggPSBmdW5jdGlvbiAoYWN0aW9uT1JNZXRob2REZWYpIHtcbiAgICAgICAgdGhpcy5tYW55SW50ZXJuYWwoOCwgYWN0aW9uT1JNZXRob2REZWYpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuTUFOWTkgPSBmdW5jdGlvbiAoYWN0aW9uT1JNZXRob2REZWYpIHtcbiAgICAgICAgdGhpcy5tYW55SW50ZXJuYWwoOSwgYWN0aW9uT1JNZXRob2REZWYpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuTUFOWV9TRVAgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB0aGlzLm1hbnlTZXBGaXJzdEludGVybmFsKDAsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuTUFOWV9TRVAxID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5tYW55U2VwRmlyc3RJbnRlcm5hbCgxLCBvcHRpb25zKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLk1BTllfU0VQMiA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHRoaXMubWFueVNlcEZpcnN0SW50ZXJuYWwoMiwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5NQU5ZX1NFUDMgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB0aGlzLm1hbnlTZXBGaXJzdEludGVybmFsKDMsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuTUFOWV9TRVA0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5tYW55U2VwRmlyc3RJbnRlcm5hbCg0LCBvcHRpb25zKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLk1BTllfU0VQNSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHRoaXMubWFueVNlcEZpcnN0SW50ZXJuYWwoNSwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5NQU5ZX1NFUDYgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB0aGlzLm1hbnlTZXBGaXJzdEludGVybmFsKDYsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuTUFOWV9TRVA3ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5tYW55U2VwRmlyc3RJbnRlcm5hbCg3LCBvcHRpb25zKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLk1BTllfU0VQOCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHRoaXMubWFueVNlcEZpcnN0SW50ZXJuYWwoOCwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5NQU5ZX1NFUDkgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB0aGlzLm1hbnlTZXBGaXJzdEludGVybmFsKDksIG9wdGlvbnMpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuQVRfTEVBU1RfT05FID0gZnVuY3Rpb24gKGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHRoaXMuYXRMZWFzdE9uZUludGVybmFsKDAsIGFjdGlvbk9STWV0aG9kRGVmKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLkFUX0xFQVNUX09ORTEgPSBmdW5jdGlvbiAoYWN0aW9uT1JNZXRob2REZWYpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXRMZWFzdE9uZUludGVybmFsKDEsIGFjdGlvbk9STWV0aG9kRGVmKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLkFUX0xFQVNUX09ORTIgPSBmdW5jdGlvbiAoYWN0aW9uT1JNZXRob2REZWYpIHtcbiAgICAgICAgdGhpcy5hdExlYXN0T25lSW50ZXJuYWwoMiwgYWN0aW9uT1JNZXRob2REZWYpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuQVRfTEVBU1RfT05FMyA9IGZ1bmN0aW9uIChhY3Rpb25PUk1ldGhvZERlZikge1xuICAgICAgICB0aGlzLmF0TGVhc3RPbmVJbnRlcm5hbCgzLCBhY3Rpb25PUk1ldGhvZERlZik7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5BVF9MRUFTVF9PTkU0ID0gZnVuY3Rpb24gKGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHRoaXMuYXRMZWFzdE9uZUludGVybmFsKDQsIGFjdGlvbk9STWV0aG9kRGVmKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLkFUX0xFQVNUX09ORTUgPSBmdW5jdGlvbiAoYWN0aW9uT1JNZXRob2REZWYpIHtcbiAgICAgICAgdGhpcy5hdExlYXN0T25lSW50ZXJuYWwoNSwgYWN0aW9uT1JNZXRob2REZWYpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuQVRfTEVBU1RfT05FNiA9IGZ1bmN0aW9uIChhY3Rpb25PUk1ldGhvZERlZikge1xuICAgICAgICB0aGlzLmF0TGVhc3RPbmVJbnRlcm5hbCg2LCBhY3Rpb25PUk1ldGhvZERlZik7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5BVF9MRUFTVF9PTkU3ID0gZnVuY3Rpb24gKGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHRoaXMuYXRMZWFzdE9uZUludGVybmFsKDcsIGFjdGlvbk9STWV0aG9kRGVmKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLkFUX0xFQVNUX09ORTggPSBmdW5jdGlvbiAoYWN0aW9uT1JNZXRob2REZWYpIHtcbiAgICAgICAgdGhpcy5hdExlYXN0T25lSW50ZXJuYWwoOCwgYWN0aW9uT1JNZXRob2REZWYpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuQVRfTEVBU1RfT05FOSA9IGZ1bmN0aW9uIChhY3Rpb25PUk1ldGhvZERlZikge1xuICAgICAgICB0aGlzLmF0TGVhc3RPbmVJbnRlcm5hbCg5LCBhY3Rpb25PUk1ldGhvZERlZik7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5BVF9MRUFTVF9PTkVfU0VQID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5hdExlYXN0T25lU2VwRmlyc3RJbnRlcm5hbCgwLCBvcHRpb25zKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLkFUX0xFQVNUX09ORV9TRVAxID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5hdExlYXN0T25lU2VwRmlyc3RJbnRlcm5hbCgxLCBvcHRpb25zKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLkFUX0xFQVNUX09ORV9TRVAyID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5hdExlYXN0T25lU2VwRmlyc3RJbnRlcm5hbCgyLCBvcHRpb25zKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLkFUX0xFQVNUX09ORV9TRVAzID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5hdExlYXN0T25lU2VwRmlyc3RJbnRlcm5hbCgzLCBvcHRpb25zKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLkFUX0xFQVNUX09ORV9TRVA0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5hdExlYXN0T25lU2VwRmlyc3RJbnRlcm5hbCg0LCBvcHRpb25zKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLkFUX0xFQVNUX09ORV9TRVA1ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5hdExlYXN0T25lU2VwRmlyc3RJbnRlcm5hbCg1LCBvcHRpb25zKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLkFUX0xFQVNUX09ORV9TRVA2ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5hdExlYXN0T25lU2VwRmlyc3RJbnRlcm5hbCg2LCBvcHRpb25zKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLkFUX0xFQVNUX09ORV9TRVA3ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5hdExlYXN0T25lU2VwRmlyc3RJbnRlcm5hbCg3LCBvcHRpb25zKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLkFUX0xFQVNUX09ORV9TRVA4ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5hdExlYXN0T25lU2VwRmlyc3RJbnRlcm5hbCg4LCBvcHRpb25zKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLkFUX0xFQVNUX09ORV9TRVA5ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5hdExlYXN0T25lU2VwRmlyc3RJbnRlcm5hbCg5LCBvcHRpb25zKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLlJVTEUgPSBmdW5jdGlvbiAobmFtZSwgaW1wbGVtZW50YXRpb24sIGNvbmZpZykge1xuICAgICAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0gREVGQVVMVF9SVUxFX0NPTkZJRzsgfVxuICAgICAgICBpZiAoY29udGFpbnModGhpcy5kZWZpbmVkUnVsZXNOYW1lcywgbmFtZSkpIHtcbiAgICAgICAgICAgIHZhciBlcnJNc2cgPSBkZWZhdWx0R3JhbW1hclZhbGlkYXRvckVycm9yUHJvdmlkZXIuYnVpbGREdXBsaWNhdGVSdWxlTmFtZUVycm9yKHtcbiAgICAgICAgICAgICAgICB0b3BMZXZlbFJ1bGU6IG5hbWUsXG4gICAgICAgICAgICAgICAgZ3JhbW1hck5hbWU6IHRoaXMuY2xhc3NOYW1lXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciBlcnJvciA9IHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBlcnJNc2csXG4gICAgICAgICAgICAgICAgdHlwZTogUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZS5EVVBMSUNBVEVfUlVMRV9OQU1FLFxuICAgICAgICAgICAgICAgIHJ1bGVOYW1lOiBuYW1lXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5kZWZpbml0aW9uRXJyb3JzLnB1c2goZXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGVmaW5lZFJ1bGVzTmFtZXMucHVzaChuYW1lKTtcbiAgICAgICAgdmFyIHJ1bGVJbXBsZW1lbnRhdGlvbiA9IHRoaXMuZGVmaW5lUnVsZShuYW1lLCBpbXBsZW1lbnRhdGlvbiwgY29uZmlnKTtcbiAgICAgICAgdGhpc1tuYW1lXSA9IHJ1bGVJbXBsZW1lbnRhdGlvbjtcbiAgICAgICAgcmV0dXJuIHJ1bGVJbXBsZW1lbnRhdGlvbjtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLk9WRVJSSURFX1JVTEUgPSBmdW5jdGlvbiAobmFtZSwgaW1wbCwgY29uZmlnKSB7XG4gICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSBERUZBVUxUX1JVTEVfQ09ORklHOyB9XG4gICAgICAgIHZhciBydWxlRXJyb3JzID0gW107XG4gICAgICAgIHJ1bGVFcnJvcnMgPSBydWxlRXJyb3JzLmNvbmNhdCh2YWxpZGF0ZVJ1bGVJc092ZXJyaWRkZW4obmFtZSwgdGhpcy5kZWZpbmVkUnVsZXNOYW1lcywgdGhpcy5jbGFzc05hbWUpKTtcbiAgICAgICAgdGhpcy5kZWZpbml0aW9uRXJyb3JzLnB1c2guYXBwbHkodGhpcy5kZWZpbml0aW9uRXJyb3JzLCBydWxlRXJyb3JzKTsgLy8gbXV0YWJpbGl0eSBmb3IgdGhlIHdpblxuICAgICAgICB2YXIgcnVsZUltcGxlbWVudGF0aW9uID0gdGhpcy5kZWZpbmVSdWxlKG5hbWUsIGltcGwsIGNvbmZpZyk7XG4gICAgICAgIHRoaXNbbmFtZV0gPSBydWxlSW1wbGVtZW50YXRpb247XG4gICAgICAgIHJldHVybiBydWxlSW1wbGVtZW50YXRpb247XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5CQUNLVFJBQ0sgPSBmdW5jdGlvbiAoZ3JhbW1hclJ1bGUsIGFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIHNhdmUgb3JnIHN0YXRlXG4gICAgICAgICAgICB0aGlzLmlzQmFja1RyYWNraW5nU3RhY2sucHVzaCgxKTtcbiAgICAgICAgICAgIHZhciBvcmdTdGF0ZSA9IHRoaXMuc2F2ZVJlY29nU3RhdGUoKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZ3JhbW1hclJ1bGUuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgICAgICAgICAgLy8gaWYgbm8gZXhjZXB0aW9uIHdhcyB0aHJvd24gd2UgaGF2ZSBzdWNjZWVkIHBhcnNpbmcgdGhlIHJ1bGUuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGlmIChpc1JlY29nbml0aW9uRXhjZXB0aW9uKGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWxvYWRSZWNvZ1N0YXRlKG9yZ1N0YXRlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmlzQmFja1RyYWNraW5nU3RhY2sucG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfTtcbiAgICAvLyBHQVNUIGV4cG9ydCBBUElzXG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuZ2V0R0FzdFByb2R1Y3Rpb25zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nYXN0UHJvZHVjdGlvbnNDYWNoZTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLmdldFNlcmlhbGl6ZWRHYXN0UHJvZHVjdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBzZXJpYWxpemVHcmFtbWFyKHZhbHVlcyh0aGlzLmdhc3RQcm9kdWN0aW9uc0NhY2hlKSk7XG4gICAgfTtcbiAgICByZXR1cm4gUmVjb2duaXplckFwaTtcbn0oKSk7XG5leHBvcnQgeyBSZWNvZ25pemVyQXBpIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZWNvZ25pemVyX2FwaS5qcy5tYXAiLCJpbXBvcnQgeyBjbG9uZUFyciwgY2xvbmVPYmosIGV2ZXJ5LCBmbGF0dGVuLCBoYXMsIGlzQXJyYXksIGlzRW1wdHksIGlzT2JqZWN0LCByZWR1Y2UsIHVuaXEsIHZhbHVlcyB9IGZyb20gXCIuLi8uLi8uLi91dGlscy91dGlsc1wiO1xuaW1wb3J0IHsgQVRfTEVBU1RfT05FX0lEWCwgQVRfTEVBU1RfT05FX1NFUF9JRFgsIEJJVFNfRk9SX01FVEhPRF9UWVBFLCBCSVRTX0ZPUl9PQ0NVUlJFTkNFX0lEWCwgTUFOWV9JRFgsIE1BTllfU0VQX0lEWCwgT1BUSU9OX0lEWCwgT1JfSURYIH0gZnJvbSBcIi4uLy4uL2dyYW1tYXIva2V5c1wiO1xuaW1wb3J0IHsgaXNSZWNvZ25pdGlvbkV4Y2VwdGlvbiwgTWlzbWF0Y2hlZFRva2VuRXhjZXB0aW9uLCBOb3RBbGxJbnB1dFBhcnNlZEV4Y2VwdGlvbiB9IGZyb20gXCIuLi8uLi9leGNlcHRpb25zX3B1YmxpY1wiO1xuaW1wb3J0IHsgUFJPRF9UWVBFIH0gZnJvbSBcIi4uLy4uL2dyYW1tYXIvbG9va2FoZWFkXCI7XG5pbXBvcnQgeyBOZXh0VGVybWluYWxBZnRlckF0TGVhc3RPbmVTZXBXYWxrZXIsIE5leHRUZXJtaW5hbEFmdGVyQXRMZWFzdE9uZVdhbGtlciwgTmV4dFRlcm1pbmFsQWZ0ZXJNYW55U2VwV2Fsa2VyLCBOZXh0VGVybWluYWxBZnRlck1hbnlXYWxrZXIgfSBmcm9tIFwiLi4vLi4vZ3JhbW1hci9pbnRlcnByZXRlclwiO1xuaW1wb3J0IHsgREVGQVVMVF9SVUxFX0NPTkZJRyB9IGZyb20gXCIuLi9wYXJzZXJcIjtcbmltcG9ydCB7IElOX1JVTEVfUkVDT1ZFUllfRVhDRVBUSU9OIH0gZnJvbSBcIi4vcmVjb3ZlcmFibGVcIjtcbmltcG9ydCB7IEVPRiB9IGZyb20gXCIuLi8uLi8uLi9zY2FuL3Rva2Vuc19wdWJsaWNcIjtcbmltcG9ydCB7IGF1Z21lbnRUb2tlblR5cGVzLCBpc1Rva2VuVHlwZSwgdG9rZW5TdHJ1Y3R1cmVkTWF0Y2hlciwgdG9rZW5TdHJ1Y3R1cmVkTWF0Y2hlck5vQ2F0ZWdvcmllcyB9IGZyb20gXCIuLi8uLi8uLi9zY2FuL3Rva2Vuc1wiO1xuaW1wb3J0IHsgY2xhc3NOYW1lRnJvbUluc3RhbmNlIH0gZnJvbSBcIi4uLy4uLy4uL2xhbmcvbGFuZ19leHRlbnNpb25zXCI7XG4vKipcbiAqIFRoaXMgdHJhaXQgaXMgcmVzcG9uc2libGUgZm9yIHRoZSBydW50aW1lIHBhcnNpbmcgZW5naW5lXG4gKiBVc2VkIGJ5IHRoZSBvZmZpY2lhbCBBUEkgKHJlY29nbml6ZXJfYXBpLnRzKVxuICovXG52YXIgUmVjb2duaXplckVuZ2luZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZWNvZ25pemVyRW5naW5lKCkge1xuICAgIH1cbiAgICBSZWNvZ25pemVyRW5naW5lLnByb3RvdHlwZS5pbml0UmVjb2duaXplckVuZ2luZSA9IGZ1bmN0aW9uICh0b2tlblZvY2FidWxhcnksIGNvbmZpZykge1xuICAgICAgICB0aGlzLmNsYXNzTmFtZSA9IGNsYXNzTmFtZUZyb21JbnN0YW5jZSh0aGlzKTtcbiAgICAgICAgLy8gVE9ETzogd291bGQgdXNpbmcgYW4gRVM2IE1hcCBvciBwbGFpbiBvYmplY3QgYmUgZmFzdGVyIChDU1QgYnVpbGRpbmcgc2NlbmFyaW8pXG4gICAgICAgIHRoaXMuc2hvcnRSdWxlTmFtZVRvRnVsbCA9IHt9O1xuICAgICAgICB0aGlzLmZ1bGxSdWxlTmFtZVRvU2hvcnQgPSB7fTtcbiAgICAgICAgdGhpcy5ydWxlU2hvcnROYW1lSWR4ID0gMjU2O1xuICAgICAgICB0aGlzLnRva2VuTWF0Y2hlciA9IHRva2VuU3RydWN0dXJlZE1hdGNoZXJOb0NhdGVnb3JpZXM7XG4gICAgICAgIHRoaXMuZGVmaW5lZFJ1bGVzTmFtZXMgPSBbXTtcbiAgICAgICAgdGhpcy50b2tlbnNNYXAgPSB7fTtcbiAgICAgICAgdGhpcy5pc0JhY2tUcmFja2luZ1N0YWNrID0gW107XG4gICAgICAgIHRoaXMuUlVMRV9TVEFDSyA9IFtdO1xuICAgICAgICB0aGlzLlJVTEVfT0NDVVJSRU5DRV9TVEFDSyA9IFtdO1xuICAgICAgICB0aGlzLmdhc3RQcm9kdWN0aW9uc0NhY2hlID0ge307XG4gICAgICAgIGlmIChoYXMoY29uZmlnLCBcInNlcmlhbGl6ZWRHcmFtbWFyXCIpKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcIlRoZSBQYXJzZXIncyBjb25maWd1cmF0aW9uIGNhbiBubyBsb25nZXIgY29udGFpbiBhIDxzZXJpYWxpemVkR3JhbW1hcj4gcHJvcGVydHkuXFxuXCIgK1xuICAgICAgICAgICAgICAgIFwiXFx0U2VlOiBodHRwczovL3NhcC5naXRodWIuaW8vY2hldnJvdGFpbi9kb2NzL2NoYW5nZXMvQlJFQUtJTkdfQ0hBTkdFUy5odG1sI182LTAtMFxcblwiICtcbiAgICAgICAgICAgICAgICBcIlxcdEZvciBGdXJ0aGVyIGRldGFpbHMuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0FycmF5KHRva2VuVm9jYWJ1bGFyeSkpIHtcbiAgICAgICAgICAgIC8vIFRoaXMgb25seSBjaGVja3MgZm9yIFRva2VuIHZvY2FidWxhcmllcyBwcm92aWRlZCBhcyBhcnJheXMuXG4gICAgICAgICAgICAvLyBUaGF0IGlzIGdvb2QgZW5vdWdoIGJlY2F1c2UgdGhlIG1haW4gb2JqZWN0aXZlIGlzIHRvIGRldGVjdCB1c2VycyBvZiBwcmUtVjQuMCBBUElzXG4gICAgICAgICAgICAvLyByYXRoZXIgdGhhbiBhbGwgZWRnZSBjYXNlcyBvZiBlbXB0eSBUb2tlbiB2b2NhYnVsYXJpZXMuXG4gICAgICAgICAgICBpZiAoaXNFbXB0eSh0b2tlblZvY2FidWxhcnkpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJBIFRva2VuIFZvY2FidWxhcnkgY2Fubm90IGJlIGVtcHR5LlxcblwiICtcbiAgICAgICAgICAgICAgICAgICAgXCJcXHROb3RlIHRoYXQgdGhlIGZpcnN0IGFyZ3VtZW50IGZvciB0aGUgcGFyc2VyIGNvbnN0cnVjdG9yXFxuXCIgK1xuICAgICAgICAgICAgICAgICAgICBcIlxcdGlzIG5vIGxvbmdlciBhIFRva2VuIHZlY3RvciAoc2luY2UgdjQuMCkuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0b2tlblZvY2FidWxhcnlbMF0uc3RhcnRPZmZzZXQgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIlRoZSBQYXJzZXIgY29uc3RydWN0b3Igbm8gbG9uZ2VyIGFjY2VwdHMgYSB0b2tlbiB2ZWN0b3IgYXMgdGhlIGZpcnN0IGFyZ3VtZW50LlxcblwiICtcbiAgICAgICAgICAgICAgICAgICAgXCJcXHRTZWU6IGh0dHBzOi8vc2FwLmdpdGh1Yi5pby9jaGV2cm90YWluL2RvY3MvY2hhbmdlcy9CUkVBS0lOR19DSEFOR0VTLmh0bWwjXzQtMC0wXFxuXCIgK1xuICAgICAgICAgICAgICAgICAgICBcIlxcdEZvciBGdXJ0aGVyIGRldGFpbHMuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChpc0FycmF5KHRva2VuVm9jYWJ1bGFyeSkpIHtcbiAgICAgICAgICAgIHRoaXMudG9rZW5zTWFwID0gcmVkdWNlKHRva2VuVm9jYWJ1bGFyeSwgZnVuY3Rpb24gKGFjYywgdG9rVHlwZSkge1xuICAgICAgICAgICAgICAgIGFjY1t0b2tUeXBlLm5hbWVdID0gdG9rVHlwZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICAgICAgfSwge30pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGhhcyh0b2tlblZvY2FidWxhcnksIFwibW9kZXNcIikgJiZcbiAgICAgICAgICAgIGV2ZXJ5KGZsYXR0ZW4odmFsdWVzKHRva2VuVm9jYWJ1bGFyeS5tb2RlcykpLCBpc1Rva2VuVHlwZSkpIHtcbiAgICAgICAgICAgIHZhciBhbGxUb2tlblR5cGVzID0gZmxhdHRlbih2YWx1ZXModG9rZW5Wb2NhYnVsYXJ5Lm1vZGVzKSk7XG4gICAgICAgICAgICB2YXIgdW5pcXVlVG9rZW5zID0gdW5pcShhbGxUb2tlblR5cGVzKTtcbiAgICAgICAgICAgIHRoaXMudG9rZW5zTWFwID0gcmVkdWNlKHVuaXF1ZVRva2VucywgZnVuY3Rpb24gKGFjYywgdG9rVHlwZSkge1xuICAgICAgICAgICAgICAgIGFjY1t0b2tUeXBlLm5hbWVdID0gdG9rVHlwZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICAgICAgfSwge30pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzT2JqZWN0KHRva2VuVm9jYWJ1bGFyeSkpIHtcbiAgICAgICAgICAgIHRoaXMudG9rZW5zTWFwID0gY2xvbmVPYmoodG9rZW5Wb2NhYnVsYXJ5KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIjx0b2tlbnNEaWN0aW9uYXJ5PiBhcmd1bWVudCBtdXN0IGJlIEFuIEFycmF5IG9mIFRva2VuIGNvbnN0cnVjdG9ycyxcIiArXG4gICAgICAgICAgICAgICAgXCIgQSBkaWN0aW9uYXJ5IG9mIFRva2VuIGNvbnN0cnVjdG9ycyBvciBhbiBJTXVsdGlNb2RlTGV4ZXJEZWZpbml0aW9uXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGFsd2F5cyBhZGQgRU9GIHRvIHRoZSB0b2tlbk5hbWVzIC0+IGNvbnN0cnVjdG9ycyBtYXAuIGl0IGlzIHVzZWZ1bCB0byBhc3N1cmUgYWxsIHRoZSBpbnB1dCBoYXMgYmVlblxuICAgICAgICAvLyBwYXJzZWQgd2l0aCBhIGNsZWFyIGVycm9yIG1lc3NhZ2UgKFwiZXhwZWN0aW5nIEVPRiBidXQgZm91bmQgLi4uXCIpXG4gICAgICAgIC8qIHRzbGludDpkaXNhYmxlICovXG4gICAgICAgIHRoaXMudG9rZW5zTWFwW1wiRU9GXCJdID0gRU9GO1xuICAgICAgICAvLyBUT0RPOiBUaGlzIGNoZWNrIG1heSBub3QgYmUgYWNjdXJhdGUgZm9yIG11bHRpIG1vZGUgbGV4ZXJzXG4gICAgICAgIHZhciBub1Rva2VuQ2F0ZWdvcmllc1VzZWQgPSBldmVyeSh2YWx1ZXModG9rZW5Wb2NhYnVsYXJ5KSwgZnVuY3Rpb24gKHRva2VuQ29uc3RydWN0b3IpIHsgcmV0dXJuIGlzRW1wdHkodG9rZW5Db25zdHJ1Y3Rvci5jYXRlZ29yeU1hdGNoZXMpOyB9KTtcbiAgICAgICAgdGhpcy50b2tlbk1hdGNoZXIgPSBub1Rva2VuQ2F0ZWdvcmllc1VzZWRcbiAgICAgICAgICAgID8gdG9rZW5TdHJ1Y3R1cmVkTWF0Y2hlck5vQ2F0ZWdvcmllc1xuICAgICAgICAgICAgOiB0b2tlblN0cnVjdHVyZWRNYXRjaGVyO1xuICAgICAgICAvLyBCZWNhdXNlIEVTMjAxNSsgc3ludGF4IHNob3VsZCBiZSBzdXBwb3J0ZWQgZm9yIGNyZWF0aW5nIFRva2VuIGNsYXNzZXNcbiAgICAgICAgLy8gV2UgY2Fubm90IGFzc3VtZSB0aGF0IHRoZSBUb2tlbiBjbGFzc2VzIHdlcmUgY3JlYXRlZCB1c2luZyB0aGUgXCJleHRlbmRUb2tlblwiIHV0aWxpdGllc1xuICAgICAgICAvLyBUaGVyZWZvcmUgd2UgbXVzdCBhdWdtZW50IHRoZSBUb2tlbiBjbGFzc2VzIGJvdGggb24gTGV4ZXIgaW5pdGlhbGl6YXRpb24gYW5kIG9uIFBhcnNlciBpbml0aWFsaXphdGlvblxuICAgICAgICBhdWdtZW50VG9rZW5UeXBlcyh2YWx1ZXModGhpcy50b2tlbnNNYXApKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJFbmdpbmUucHJvdG90eXBlLmRlZmluZVJ1bGUgPSBmdW5jdGlvbiAocnVsZU5hbWUsIGltcGwsIGNvbmZpZykge1xuICAgICAgICBpZiAodGhpcy5zZWxmQW5hbHlzaXNEb25lKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcIkdyYW1tYXIgcnVsZSA8XCIgKyBydWxlTmFtZSArIFwiPiBtYXkgbm90IGJlIGRlZmluZWQgYWZ0ZXIgdGhlICdwZXJmb3JtU2VsZkFuYWx5c2lzJyBtZXRob2QgaGFzIGJlZW4gY2FsbGVkJ1xcblwiICtcbiAgICAgICAgICAgICAgICBcIk1ha2Ugc3VyZSB0aGF0IGFsbCBncmFtbWFyIHJ1bGUgZGVmaW5pdGlvbnMgYXJlIGRvbmUgYmVmb3JlICdwZXJmb3JtU2VsZkFuYWx5c2lzJyBpcyBjYWxsZWQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZXN5bmNFbmFibGVkID0gaGFzKGNvbmZpZywgXCJyZXN5bmNFbmFibGVkXCIpXG4gICAgICAgICAgICA/IGNvbmZpZy5yZXN5bmNFbmFibGVkXG4gICAgICAgICAgICA6IERFRkFVTFRfUlVMRV9DT05GSUcucmVzeW5jRW5hYmxlZDtcbiAgICAgICAgdmFyIHJlY292ZXJ5VmFsdWVGdW5jID0gaGFzKGNvbmZpZywgXCJyZWNvdmVyeVZhbHVlRnVuY1wiKVxuICAgICAgICAgICAgPyBjb25maWcucmVjb3ZlcnlWYWx1ZUZ1bmNcbiAgICAgICAgICAgIDogREVGQVVMVF9SVUxFX0NPTkZJRy5yZWNvdmVyeVZhbHVlRnVuYztcbiAgICAgICAgLy8gcGVyZm9ybWFuY2Ugb3B0aW1pemF0aW9uOiBVc2Ugc21hbGwgaW50ZWdlcnMgYXMga2V5cyBmb3IgdGhlIGxvbmdlciBodW1hbiByZWFkYWJsZSBcImZ1bGxcIiBydWxlIG5hbWVzLlxuICAgICAgICAvLyB0aGlzIGdyZWF0bHkgaW1wcm92ZXMgTWFwIGFjY2VzcyB0aW1lIChhcyBtdWNoIGFzIDglIGZvciBzb21lIHBlcmZvcm1hbmNlIGJlbmNobWFya3MpLlxuICAgICAgICAvKiB0c2xpbnQ6ZGlzYWJsZSAqL1xuICAgICAgICB2YXIgc2hvcnROYW1lID0gdGhpcy5ydWxlU2hvcnROYW1lSWR4IDw8IChCSVRTX0ZPUl9NRVRIT0RfVFlQRSArIEJJVFNfRk9SX09DQ1VSUkVOQ0VfSURYKTtcbiAgICAgICAgLyogdHNsaW50OmVuYWJsZSAqL1xuICAgICAgICB0aGlzLnJ1bGVTaG9ydE5hbWVJZHgrKztcbiAgICAgICAgdGhpcy5zaG9ydFJ1bGVOYW1lVG9GdWxsW3Nob3J0TmFtZV0gPSBydWxlTmFtZTtcbiAgICAgICAgdGhpcy5mdWxsUnVsZU5hbWVUb1Nob3J0W3J1bGVOYW1lXSA9IHNob3J0TmFtZTtcbiAgICAgICAgZnVuY3Rpb24gaW52b2tlUnVsZVdpdGhUcnkoYXJncykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vdXRwdXRDc3QgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaW1wbC5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNzdCA9IHRoaXMuQ1NUX1NUQUNLW3RoaXMuQ1NUX1NUQUNLLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNzdFBvc3RSdWxlKGNzdCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjc3Q7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW1wbC5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmludm9rZVJ1bGVDYXRjaChlLCByZXN5bmNFbmFibGVkLCByZWNvdmVyeVZhbHVlRnVuYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICB0aGlzLnJ1bGVGaW5hbGx5U3RhdGVVcGRhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgd3JhcHBlZEdyYW1tYXJSdWxlO1xuICAgICAgICB3cmFwcGVkR3JhbW1hclJ1bGUgPSBmdW5jdGlvbiAoaWR4SW5DYWxsaW5nUnVsZSwgYXJncykge1xuICAgICAgICAgICAgaWYgKGlkeEluQ2FsbGluZ1J1bGUgPT09IHZvaWQgMCkgeyBpZHhJbkNhbGxpbmdSdWxlID0gMDsgfVxuICAgICAgICAgICAgdGhpcy5ydWxlSW52b2NhdGlvblN0YXRlVXBkYXRlKHNob3J0TmFtZSwgcnVsZU5hbWUsIGlkeEluQ2FsbGluZ1J1bGUpO1xuICAgICAgICAgICAgcmV0dXJuIGludm9rZVJ1bGVXaXRoVHJ5LmNhbGwodGhpcywgYXJncyk7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBydWxlTmFtZVByb3BOYW1lID0gXCJydWxlTmFtZVwiO1xuICAgICAgICB3cmFwcGVkR3JhbW1hclJ1bGVbcnVsZU5hbWVQcm9wTmFtZV0gPSBydWxlTmFtZTtcbiAgICAgICAgd3JhcHBlZEdyYW1tYXJSdWxlW1wib3JpZ2luYWxHcmFtbWFyQWN0aW9uXCJdID0gaW1wbDtcbiAgICAgICAgcmV0dXJuIHdyYXBwZWRHcmFtbWFyUnVsZTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJFbmdpbmUucHJvdG90eXBlLmludm9rZVJ1bGVDYXRjaCA9IGZ1bmN0aW9uIChlLCByZXN5bmNFbmFibGVkQ29uZmlnLCByZWNvdmVyeVZhbHVlRnVuYykge1xuICAgICAgICB2YXIgaXNGaXJzdEludm9rZWRSdWxlID0gdGhpcy5SVUxFX1NUQUNLLmxlbmd0aCA9PT0gMTtcbiAgICAgICAgLy8gbm90ZSB0aGUgcmVTeW5jIGlzIGFsd2F5cyBlbmFibGVkIGZvciB0aGUgZmlyc3QgcnVsZSBpbnZvY2F0aW9uLCBiZWNhdXNlIHdlIG11c3QgYWx3YXlzIGJlIGFibGUgdG9cbiAgICAgICAgLy8gcmVTeW5jIHdpdGggRU9GIGFuZCBqdXN0IG91dHB1dCBzb21lIElOVkFMSUQgUGFyc2VUcmVlXG4gICAgICAgIC8vIGR1cmluZyBiYWNrdHJhY2tpbmcgcmVTeW5jIHJlY292ZXJ5IGlzIGRpc2FibGVkLCBvdGhlcndpc2Ugd2UgY2FuJ3QgYmUgY2VydGFpbiB0aGUgYmFja3RyYWNraW5nXG4gICAgICAgIC8vIHBhdGggaXMgcmVhbGx5IHRoZSBtb3N0IHZhbGlkIG9uZVxuICAgICAgICB2YXIgcmVTeW5jRW5hYmxlZCA9IHJlc3luY0VuYWJsZWRDb25maWcgJiYgIXRoaXMuaXNCYWNrVHJhY2tpbmcoKSAmJiB0aGlzLnJlY292ZXJ5RW5hYmxlZDtcbiAgICAgICAgaWYgKGlzUmVjb2duaXRpb25FeGNlcHRpb24oZSkpIHtcbiAgICAgICAgICAgIHZhciByZWNvZ0Vycm9yID0gZTtcbiAgICAgICAgICAgIGlmIChyZVN5bmNFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlU3luY1Rva1R5cGUgPSB0aGlzLmZpbmRSZVN5bmNUb2tlblR5cGUoKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0luQ3VycmVudFJ1bGVSZVN5bmNTZXQocmVTeW5jVG9rVHlwZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVjb2dFcnJvci5yZXN5bmNlZFRva2VucyA9IHRoaXMucmVTeW5jVG8ocmVTeW5jVG9rVHlwZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm91dHB1dENzdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhcnRpYWxDc3RSZXN1bHQgPSB0aGlzLkNTVF9TVEFDS1t0aGlzLkNTVF9TVEFDSy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRpYWxDc3RSZXN1bHQucmVjb3ZlcmVkTm9kZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFydGlhbENzdFJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZWNvdmVyeVZhbHVlRnVuYygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5vdXRwdXRDc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYXJ0aWFsQ3N0UmVzdWx0ID0gdGhpcy5DU1RfU1RBQ0tbdGhpcy5DU1RfU1RBQ0subGVuZ3RoIC0gMV07XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJ0aWFsQ3N0UmVzdWx0LnJlY292ZXJlZE5vZGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVjb2dFcnJvci5wYXJ0aWFsQ3N0UmVzdWx0ID0gcGFydGlhbENzdFJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyB0byBiZSBoYW5kbGVkIEZ1cnRoZXIgdXAgdGhlIGNhbGwgc3RhY2tcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgcmVjb2dFcnJvcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc0ZpcnN0SW52b2tlZFJ1bGUpIHtcbiAgICAgICAgICAgICAgICAvLyBvdGhlcndpc2UgYSBSZWR1bmRhbnQgaW5wdXQgZXJyb3Igd2lsbCBiZSBjcmVhdGVkIGFzIHdlbGwgYW5kIHdlIGNhbm5vdCBndWFyYW50ZWUgdGhhdCB0aGlzIGlzIGluZGVlZCB0aGUgY2FzZVxuICAgICAgICAgICAgICAgIHRoaXMubW92ZVRvVGVybWluYXRlZFN0YXRlKCk7XG4gICAgICAgICAgICAgICAgLy8gdGhlIHBhcnNlciBzaG91bGQgbmV2ZXIgdGhyb3cgb25lIG9mIGl0cyBvd24gZXJyb3JzIG91dHNpZGUgaXRzIGZsb3cuXG4gICAgICAgICAgICAgICAgLy8gZXZlbiBpZiBlcnJvciByZWNvdmVyeSBpcyBkaXNhYmxlZFxuICAgICAgICAgICAgICAgIHJldHVybiByZWNvdmVyeVZhbHVlRnVuYygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gdG8gYmUgcmVjb3ZlcmVkIEZ1cnRoZXIgdXAgdGhlIGNhbGwgc3RhY2tcbiAgICAgICAgICAgICAgICB0aHJvdyByZWNvZ0Vycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gc29tZSBvdGhlciBFcnJvciB0eXBlIHdoaWNoIHdlIGRvbid0IGtub3cgaG93IHRvIGhhbmRsZSAoZm9yIGV4YW1wbGUgYSBidWlsdCBpbiBKYXZhU2NyaXB0IEVycm9yKVxuICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLy8gSW1wbGVtZW50YXRpb24gb2YgcGFyc2luZyBEU0xcbiAgICBSZWNvZ25pemVyRW5naW5lLnByb3RvdHlwZS5vcHRpb25JbnRlcm5hbCA9IGZ1bmN0aW9uIChhY3Rpb25PUk1ldGhvZERlZiwgb2NjdXJyZW5jZSkge1xuICAgICAgICB2YXIga2V5ID0gdGhpcy5nZXRLZXlGb3JBdXRvbWF0aWNMb29rYWhlYWQoT1BUSU9OX0lEWCwgb2NjdXJyZW5jZSk7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbkludGVybmFsTG9naWMoYWN0aW9uT1JNZXRob2REZWYsIG9jY3VycmVuY2UsIGtleSk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyRW5naW5lLnByb3RvdHlwZS5vcHRpb25JbnRlcm5hbExvZ2ljID0gZnVuY3Rpb24gKGFjdGlvbk9STWV0aG9kRGVmLCBvY2N1cnJlbmNlLCBrZXkpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGxvb2tBaGVhZEZ1bmMgPSB0aGlzLmdldExhRnVuY0Zyb21DYWNoZShrZXkpO1xuICAgICAgICB2YXIgYWN0aW9uO1xuICAgICAgICB2YXIgcHJlZGljYXRlO1xuICAgICAgICBpZiAoYWN0aW9uT1JNZXRob2REZWYuREVGICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGFjdGlvbiA9IGFjdGlvbk9STWV0aG9kRGVmLkRFRjtcbiAgICAgICAgICAgIHByZWRpY2F0ZSA9IGFjdGlvbk9STWV0aG9kRGVmLkdBVEU7XG4gICAgICAgICAgICAvLyBwcmVkaWNhdGUgcHJlc2VudFxuICAgICAgICAgICAgaWYgKHByZWRpY2F0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdmFyIG9yZ0xvb2thaGVhZEZ1bmN0aW9uXzEgPSBsb29rQWhlYWRGdW5jO1xuICAgICAgICAgICAgICAgIGxvb2tBaGVhZEZ1bmMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmVkaWNhdGUuY2FsbChfdGhpcykgJiYgb3JnTG9va2FoZWFkRnVuY3Rpb25fMS5jYWxsKF90aGlzKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYWN0aW9uID0gYWN0aW9uT1JNZXRob2REZWY7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxvb2tBaGVhZEZ1bmMuY2FsbCh0aGlzKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIGFjdGlvbi5jYWxsKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyRW5naW5lLnByb3RvdHlwZS5hdExlYXN0T25lSW50ZXJuYWwgPSBmdW5jdGlvbiAocHJvZE9jY3VycmVuY2UsIGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHZhciBsYUtleSA9IHRoaXMuZ2V0S2V5Rm9yQXV0b21hdGljTG9va2FoZWFkKEFUX0xFQVNUX09ORV9JRFgsIHByb2RPY2N1cnJlbmNlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXRMZWFzdE9uZUludGVybmFsTG9naWMocHJvZE9jY3VycmVuY2UsIGFjdGlvbk9STWV0aG9kRGVmLCBsYUtleSk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyRW5naW5lLnByb3RvdHlwZS5hdExlYXN0T25lSW50ZXJuYWxMb2dpYyA9IGZ1bmN0aW9uIChwcm9kT2NjdXJyZW5jZSwgYWN0aW9uT1JNZXRob2REZWYsIGtleSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgbG9va0FoZWFkRnVuYyA9IHRoaXMuZ2V0TGFGdW5jRnJvbUNhY2hlKGtleSk7XG4gICAgICAgIHZhciBhY3Rpb247XG4gICAgICAgIHZhciBwcmVkaWNhdGU7XG4gICAgICAgIGlmIChhY3Rpb25PUk1ldGhvZERlZi5ERUYgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgYWN0aW9uID0gYWN0aW9uT1JNZXRob2REZWYuREVGO1xuICAgICAgICAgICAgcHJlZGljYXRlID0gYWN0aW9uT1JNZXRob2REZWYuR0FURTtcbiAgICAgICAgICAgIC8vIHByZWRpY2F0ZSBwcmVzZW50XG4gICAgICAgICAgICBpZiAocHJlZGljYXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgb3JnTG9va2FoZWFkRnVuY3Rpb25fMiA9IGxvb2tBaGVhZEZ1bmM7XG4gICAgICAgICAgICAgICAgbG9va0FoZWFkRnVuYyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZWRpY2F0ZS5jYWxsKF90aGlzKSAmJiBvcmdMb29rYWhlYWRGdW5jdGlvbl8yLmNhbGwoX3RoaXMpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhY3Rpb24gPSBhY3Rpb25PUk1ldGhvZERlZjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobG9va0FoZWFkRnVuYy5jYWxsKHRoaXMpID09PSB0cnVlKSB7XG4gICAgICAgICAgICB2YXIgbm90U3R1Y2sgPSB0aGlzLmRvU2luZ2xlUmVwZXRpdGlvbihhY3Rpb24pO1xuICAgICAgICAgICAgd2hpbGUgKGxvb2tBaGVhZEZ1bmMuY2FsbCh0aGlzKSA9PT0gdHJ1ZSAmJlxuICAgICAgICAgICAgICAgIG5vdFN0dWNrID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgbm90U3R1Y2sgPSB0aGlzLmRvU2luZ2xlUmVwZXRpdGlvbihhY3Rpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgdGhpcy5yYWlzZUVhcmx5RXhpdEV4Y2VwdGlvbihwcm9kT2NjdXJyZW5jZSwgUFJPRF9UWVBFLlJFUEVUSVRJT05fTUFOREFUT1JZLCBhY3Rpb25PUk1ldGhvZERlZi5FUlJfTVNHKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBub3RlIHRoYXQgd2hpbGUgaXQgbWF5IHNlZW0gdGhhdCB0aGlzIGNhbiBjYXVzZSBhbiBlcnJvciBiZWNhdXNlIGJ5IHVzaW5nIGEgcmVjdXJzaXZlIGNhbGwgdG9cbiAgICAgICAgLy8gQVRfTEVBU1RfT05FIHdlIGNoYW5nZSB0aGUgZ3JhbW1hciB0byBBVF9MRUFTVF9UV08sIEFUX0xFQVNUX1RIUkVFIC4uLiAsIHRoZSBwb3NzaWJsZSByZWN1cnNpdmUgY2FsbFxuICAgICAgICAvLyBmcm9tIHRoZSB0cnlJblJlcGV0aXRpb25SZWNvdmVyeSguLi4pIHdpbGwgb25seSBoYXBwZW4gSUZGIHRoZXJlIHJlYWxseSBhcmUgVFdPL1RIUkVFLy4uLi4gaXRlbXMuXG4gICAgICAgIC8vIFBlcmZvcm1hbmNlIG9wdGltaXphdGlvbjogXCJhdHRlbXB0SW5SZXBldGl0aW9uUmVjb3ZlcnlcIiB3aWxsIGJlIGRlZmluZWQgYXMgTk9PUCB1bmxlc3MgcmVjb3ZlcnkgaXMgZW5hYmxlZFxuICAgICAgICB0aGlzLmF0dGVtcHRJblJlcGV0aXRpb25SZWNvdmVyeSh0aGlzLmF0TGVhc3RPbmVJbnRlcm5hbCwgW3Byb2RPY2N1cnJlbmNlLCBhY3Rpb25PUk1ldGhvZERlZl0sIGxvb2tBaGVhZEZ1bmMsIEFUX0xFQVNUX09ORV9JRFgsIHByb2RPY2N1cnJlbmNlLCBOZXh0VGVybWluYWxBZnRlckF0TGVhc3RPbmVXYWxrZXIpO1xuICAgIH07XG4gICAgUmVjb2duaXplckVuZ2luZS5wcm90b3R5cGUuYXRMZWFzdE9uZVNlcEZpcnN0SW50ZXJuYWwgPSBmdW5jdGlvbiAocHJvZE9jY3VycmVuY2UsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGxhS2V5ID0gdGhpcy5nZXRLZXlGb3JBdXRvbWF0aWNMb29rYWhlYWQoQVRfTEVBU1RfT05FX1NFUF9JRFgsIHByb2RPY2N1cnJlbmNlKTtcbiAgICAgICAgdGhpcy5hdExlYXN0T25lU2VwRmlyc3RJbnRlcm5hbExvZ2ljKHByb2RPY2N1cnJlbmNlLCBvcHRpb25zLCBsYUtleSk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyRW5naW5lLnByb3RvdHlwZS5hdExlYXN0T25lU2VwRmlyc3RJbnRlcm5hbExvZ2ljID0gZnVuY3Rpb24gKHByb2RPY2N1cnJlbmNlLCBvcHRpb25zLCBrZXkpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGFjdGlvbiA9IG9wdGlvbnMuREVGO1xuICAgICAgICB2YXIgc2VwYXJhdG9yID0gb3B0aW9ucy5TRVA7XG4gICAgICAgIHZhciBmaXJzdEl0ZXJhdGlvbkxvb2thaGVhZEZ1bmMgPSB0aGlzLmdldExhRnVuY0Zyb21DYWNoZShrZXkpO1xuICAgICAgICAvLyAxc3QgaXRlcmF0aW9uXG4gICAgICAgIGlmIChmaXJzdEl0ZXJhdGlvbkxvb2thaGVhZEZ1bmMuY2FsbCh0aGlzKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgO1xuICAgICAgICAgICAgYWN0aW9uLmNhbGwodGhpcyk7XG4gICAgICAgICAgICAvLyAgVE9ETzogT3B0aW1pemF0aW9uIGNhbiBtb3ZlIHRoaXMgZnVuY3Rpb24gY29uc3RydWN0aW9uIGludG8gXCJhdHRlbXB0SW5SZXBldGl0aW9uUmVjb3ZlcnlcIlxuICAgICAgICAgICAgLy8gIGJlY2F1c2UgaXQgaXMgb25seSBuZWVkZWQgaW4gZXJyb3IgcmVjb3Zlcnkgc2NlbmFyaW9zLlxuICAgICAgICAgICAgdmFyIHNlcGFyYXRvckxvb2tBaGVhZEZ1bmMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnRva2VuTWF0Y2hlcihfdGhpcy5MQSgxKSwgc2VwYXJhdG9yKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyAybmQuLm50aCBpdGVyYXRpb25zXG4gICAgICAgICAgICB3aGlsZSAodGhpcy50b2tlbk1hdGNoZXIodGhpcy5MQSgxKSwgc2VwYXJhdG9yKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIC8vIG5vdGUgdGhhdCB0aGlzIENPTlNVTUUgd2lsbCBuZXZlciBlbnRlciByZWNvdmVyeSBiZWNhdXNlXG4gICAgICAgICAgICAgICAgLy8gdGhlIHNlcGFyYXRvckxvb2tBaGVhZEZ1bmMgY2hlY2tzIHRoYXQgdGhlIHNlcGFyYXRvciByZWFsbHkgZG9lcyBleGlzdC5cbiAgICAgICAgICAgICAgICB0aGlzLkNPTlNVTUUoc2VwYXJhdG9yKTtcbiAgICAgICAgICAgICAgICBhY3Rpb24uY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFBlcmZvcm1hbmNlIG9wdGltaXphdGlvbjogXCJhdHRlbXB0SW5SZXBldGl0aW9uUmVjb3ZlcnlcIiB3aWxsIGJlIGRlZmluZWQgYXMgTk9PUCB1bmxlc3MgcmVjb3ZlcnkgaXMgZW5hYmxlZFxuICAgICAgICAgICAgdGhpcy5hdHRlbXB0SW5SZXBldGl0aW9uUmVjb3ZlcnkodGhpcy5yZXBldGl0aW9uU2VwU2Vjb25kSW50ZXJuYWwsIFtcbiAgICAgICAgICAgICAgICBwcm9kT2NjdXJyZW5jZSxcbiAgICAgICAgICAgICAgICBzZXBhcmF0b3IsXG4gICAgICAgICAgICAgICAgc2VwYXJhdG9yTG9va0FoZWFkRnVuYyxcbiAgICAgICAgICAgICAgICBhY3Rpb24sXG4gICAgICAgICAgICAgICAgTmV4dFRlcm1pbmFsQWZ0ZXJBdExlYXN0T25lU2VwV2Fsa2VyXG4gICAgICAgICAgICBdLCBzZXBhcmF0b3JMb29rQWhlYWRGdW5jLCBBVF9MRUFTVF9PTkVfU0VQX0lEWCwgcHJvZE9jY3VycmVuY2UsIE5leHRUZXJtaW5hbEFmdGVyQXRMZWFzdE9uZVNlcFdhbGtlcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyB0aGlzLnJhaXNlRWFybHlFeGl0RXhjZXB0aW9uKHByb2RPY2N1cnJlbmNlLCBQUk9EX1RZUEUuUkVQRVRJVElPTl9NQU5EQVRPUllfV0lUSF9TRVBBUkFUT1IsIG9wdGlvbnMuRVJSX01TRyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJlY29nbml6ZXJFbmdpbmUucHJvdG90eXBlLm1hbnlJbnRlcm5hbCA9IGZ1bmN0aW9uIChwcm9kT2NjdXJyZW5jZSwgYWN0aW9uT1JNZXRob2REZWYpIHtcbiAgICAgICAgdmFyIGxhS2V5ID0gdGhpcy5nZXRLZXlGb3JBdXRvbWF0aWNMb29rYWhlYWQoTUFOWV9JRFgsIHByb2RPY2N1cnJlbmNlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFueUludGVybmFsTG9naWMocHJvZE9jY3VycmVuY2UsIGFjdGlvbk9STWV0aG9kRGVmLCBsYUtleSk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyRW5naW5lLnByb3RvdHlwZS5tYW55SW50ZXJuYWxMb2dpYyA9IGZ1bmN0aW9uIChwcm9kT2NjdXJyZW5jZSwgYWN0aW9uT1JNZXRob2REZWYsIGtleSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgbG9va2FoZWFkRnVuY3Rpb24gPSB0aGlzLmdldExhRnVuY0Zyb21DYWNoZShrZXkpO1xuICAgICAgICB2YXIgYWN0aW9uO1xuICAgICAgICB2YXIgcHJlZGljYXRlO1xuICAgICAgICBpZiAoYWN0aW9uT1JNZXRob2REZWYuREVGICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGFjdGlvbiA9IGFjdGlvbk9STWV0aG9kRGVmLkRFRjtcbiAgICAgICAgICAgIHByZWRpY2F0ZSA9IGFjdGlvbk9STWV0aG9kRGVmLkdBVEU7XG4gICAgICAgICAgICAvLyBwcmVkaWNhdGUgcHJlc2VudFxuICAgICAgICAgICAgaWYgKHByZWRpY2F0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdmFyIG9yZ0xvb2thaGVhZEZ1bmN0aW9uXzMgPSBsb29rYWhlYWRGdW5jdGlvbjtcbiAgICAgICAgICAgICAgICBsb29rYWhlYWRGdW5jdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZWRpY2F0ZS5jYWxsKF90aGlzKSAmJiBvcmdMb29rYWhlYWRGdW5jdGlvbl8zLmNhbGwoX3RoaXMpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhY3Rpb24gPSBhY3Rpb25PUk1ldGhvZERlZjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbm90U3R1Y2sgPSB0cnVlO1xuICAgICAgICB3aGlsZSAobG9va2FoZWFkRnVuY3Rpb24uY2FsbCh0aGlzKSA9PT0gdHJ1ZSAmJiBub3RTdHVjayA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgbm90U3R1Y2sgPSB0aGlzLmRvU2luZ2xlUmVwZXRpdGlvbihhY3Rpb24pO1xuICAgICAgICB9XG4gICAgICAgIC8vIFBlcmZvcm1hbmNlIG9wdGltaXphdGlvbjogXCJhdHRlbXB0SW5SZXBldGl0aW9uUmVjb3ZlcnlcIiB3aWxsIGJlIGRlZmluZWQgYXMgTk9PUCB1bmxlc3MgcmVjb3ZlcnkgaXMgZW5hYmxlZFxuICAgICAgICB0aGlzLmF0dGVtcHRJblJlcGV0aXRpb25SZWNvdmVyeSh0aGlzLm1hbnlJbnRlcm5hbCwgW3Byb2RPY2N1cnJlbmNlLCBhY3Rpb25PUk1ldGhvZERlZl0sIGxvb2thaGVhZEZ1bmN0aW9uLCBNQU5ZX0lEWCwgcHJvZE9jY3VycmVuY2UsIE5leHRUZXJtaW5hbEFmdGVyTWFueVdhbGtlciwgXG4gICAgICAgIC8vIFRoZSBub3RTdHVjayBwYXJhbWV0ZXIgaXMgb25seSByZWxldmFudCB3aGVuIFwiYXR0ZW1wdEluUmVwZXRpdGlvblJlY292ZXJ5XCJcbiAgICAgICAgLy8gaXMgaW52b2tlZCBmcm9tIG1hbnlJbnRlcm5hbCwgaW4gdGhlIE1BTllfU0VQIGNhc2UgYW5kIEFUX0xFQVNUX09ORVtfU0VQXVxuICAgICAgICAvLyBBbiBpbmZpbml0ZSBsb29wIGNhbm5vdCBvY2N1ciBhczpcbiAgICAgICAgLy8gLSBFaXRoZXIgdGhlIGxvb2thaGVhZCBpcyBndWFyYW50ZWVkIHRvIGNvbnN1bWUgc29tZXRoaW5nIChTaW5nbGUgVG9rZW4gU2VwYXJhdG9yKVxuICAgICAgICAvLyAtIEFUX0xFQVNUX09ORSBieSBkZWZpbml0aW9uIGlzIGd1YXJhbnRlZWQgdG8gY29uc3VtZSBzb21ldGhpbmcgKG9yIGVycm9yIG91dCkuXG4gICAgICAgIG5vdFN0dWNrKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJFbmdpbmUucHJvdG90eXBlLm1hbnlTZXBGaXJzdEludGVybmFsID0gZnVuY3Rpb24gKHByb2RPY2N1cnJlbmNlLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBsYUtleSA9IHRoaXMuZ2V0S2V5Rm9yQXV0b21hdGljTG9va2FoZWFkKE1BTllfU0VQX0lEWCwgcHJvZE9jY3VycmVuY2UpO1xuICAgICAgICB0aGlzLm1hbnlTZXBGaXJzdEludGVybmFsTG9naWMocHJvZE9jY3VycmVuY2UsIG9wdGlvbnMsIGxhS2V5KTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJFbmdpbmUucHJvdG90eXBlLm1hbnlTZXBGaXJzdEludGVybmFsTG9naWMgPSBmdW5jdGlvbiAocHJvZE9jY3VycmVuY2UsIG9wdGlvbnMsIGtleSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgYWN0aW9uID0gb3B0aW9ucy5ERUY7XG4gICAgICAgIHZhciBzZXBhcmF0b3IgPSBvcHRpb25zLlNFUDtcbiAgICAgICAgdmFyIGZpcnN0SXRlcmF0aW9uTGFGdW5jID0gdGhpcy5nZXRMYUZ1bmNGcm9tQ2FjaGUoa2V5KTtcbiAgICAgICAgLy8gMXN0IGl0ZXJhdGlvblxuICAgICAgICBpZiAoZmlyc3RJdGVyYXRpb25MYUZ1bmMuY2FsbCh0aGlzKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgYWN0aW9uLmNhbGwodGhpcyk7XG4gICAgICAgICAgICB2YXIgc2VwYXJhdG9yTG9va0FoZWFkRnVuYyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMudG9rZW5NYXRjaGVyKF90aGlzLkxBKDEpLCBzZXBhcmF0b3IpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8vIDJuZC4ubnRoIGl0ZXJhdGlvbnNcbiAgICAgICAgICAgIHdoaWxlICh0aGlzLnRva2VuTWF0Y2hlcih0aGlzLkxBKDEpLCBzZXBhcmF0b3IpID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgLy8gbm90ZSB0aGF0IHRoaXMgQ09OU1VNRSB3aWxsIG5ldmVyIGVudGVyIHJlY292ZXJ5IGJlY2F1c2VcbiAgICAgICAgICAgICAgICAvLyB0aGUgc2VwYXJhdG9yTG9va0FoZWFkRnVuYyBjaGVja3MgdGhhdCB0aGUgc2VwYXJhdG9yIHJlYWxseSBkb2VzIGV4aXN0LlxuICAgICAgICAgICAgICAgIHRoaXMuQ09OU1VNRShzZXBhcmF0b3IpO1xuICAgICAgICAgICAgICAgIC8vIE5vIG5lZWQgZm9yIGNoZWNraW5nIGluZmluaXRlIGxvb3AgaGVyZSBkdWUgdG8gY29uc3VtaW5nIHRoZSBzZXBhcmF0b3IuXG4gICAgICAgICAgICAgICAgYWN0aW9uLmNhbGwodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBQZXJmb3JtYW5jZSBvcHRpbWl6YXRpb246IFwiYXR0ZW1wdEluUmVwZXRpdGlvblJlY292ZXJ5XCIgd2lsbCBiZSBkZWZpbmVkIGFzIE5PT1AgdW5sZXNzIHJlY292ZXJ5IGlzIGVuYWJsZWRcbiAgICAgICAgICAgIHRoaXMuYXR0ZW1wdEluUmVwZXRpdGlvblJlY292ZXJ5KHRoaXMucmVwZXRpdGlvblNlcFNlY29uZEludGVybmFsLCBbXG4gICAgICAgICAgICAgICAgcHJvZE9jY3VycmVuY2UsXG4gICAgICAgICAgICAgICAgc2VwYXJhdG9yLFxuICAgICAgICAgICAgICAgIHNlcGFyYXRvckxvb2tBaGVhZEZ1bmMsXG4gICAgICAgICAgICAgICAgYWN0aW9uLFxuICAgICAgICAgICAgICAgIE5leHRUZXJtaW5hbEFmdGVyTWFueVNlcFdhbGtlclxuICAgICAgICAgICAgXSwgc2VwYXJhdG9yTG9va0FoZWFkRnVuYywgTUFOWV9TRVBfSURYLCBwcm9kT2NjdXJyZW5jZSwgTmV4dFRlcm1pbmFsQWZ0ZXJNYW55U2VwV2Fsa2VyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUmVjb2duaXplckVuZ2luZS5wcm90b3R5cGUucmVwZXRpdGlvblNlcFNlY29uZEludGVybmFsID0gZnVuY3Rpb24gKHByb2RPY2N1cnJlbmNlLCBzZXBhcmF0b3IsIHNlcGFyYXRvckxvb2tBaGVhZEZ1bmMsIGFjdGlvbiwgbmV4dFRlcm1pbmFsQWZ0ZXJXYWxrZXIpIHtcbiAgICAgICAgd2hpbGUgKHNlcGFyYXRvckxvb2tBaGVhZEZ1bmMoKSkge1xuICAgICAgICAgICAgLy8gbm90ZSB0aGF0IHRoaXMgQ09OU1VNRSB3aWxsIG5ldmVyIGVudGVyIHJlY292ZXJ5IGJlY2F1c2VcbiAgICAgICAgICAgIC8vIHRoZSBzZXBhcmF0b3JMb29rQWhlYWRGdW5jIGNoZWNrcyB0aGF0IHRoZSBzZXBhcmF0b3IgcmVhbGx5IGRvZXMgZXhpc3QuXG4gICAgICAgICAgICB0aGlzLkNPTlNVTUUoc2VwYXJhdG9yKTtcbiAgICAgICAgICAgIGFjdGlvbi5jYWxsKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHdlIGNhbiBvbmx5IGFycml2ZSB0byB0aGlzIGZ1bmN0aW9uIGFmdGVyIGFuIGVycm9yXG4gICAgICAgIC8vIGhhcyBvY2N1cnJlZCAoaGVuY2UgdGhlIG5hbWUgJ3NlY29uZCcpIHNvIHRoZSBmb2xsb3dpbmdcbiAgICAgICAgLy8gSUYgd2lsbCBhbHdheXMgYmUgZW50ZXJlZCwgaXRzIHBvc3NpYmxlIHRvIHJlbW92ZSBpdC4uLlxuICAgICAgICAvLyBob3dldmVyIGl0IGlzIGtlcHQgdG8gYXZvaWQgY29uZnVzaW9uIGFuZCBiZSBjb25zaXN0ZW50LlxuICAgICAgICAvLyBQZXJmb3JtYW5jZSBvcHRpbWl6YXRpb246IFwiYXR0ZW1wdEluUmVwZXRpdGlvblJlY292ZXJ5XCIgd2lsbCBiZSBkZWZpbmVkIGFzIE5PT1AgdW5sZXNzIHJlY292ZXJ5IGlzIGVuYWJsZWRcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgdGhpcy5hdHRlbXB0SW5SZXBldGl0aW9uUmVjb3ZlcnkodGhpcy5yZXBldGl0aW9uU2VwU2Vjb25kSW50ZXJuYWwsIFtcbiAgICAgICAgICAgIHByb2RPY2N1cnJlbmNlLFxuICAgICAgICAgICAgc2VwYXJhdG9yLFxuICAgICAgICAgICAgc2VwYXJhdG9yTG9va0FoZWFkRnVuYyxcbiAgICAgICAgICAgIGFjdGlvbixcbiAgICAgICAgICAgIG5leHRUZXJtaW5hbEFmdGVyV2Fsa2VyXG4gICAgICAgIF0sIHNlcGFyYXRvckxvb2tBaGVhZEZ1bmMsIEFUX0xFQVNUX09ORV9TRVBfSURYLCBwcm9kT2NjdXJyZW5jZSwgbmV4dFRlcm1pbmFsQWZ0ZXJXYWxrZXIpO1xuICAgIH07XG4gICAgUmVjb2duaXplckVuZ2luZS5wcm90b3R5cGUuZG9TaW5nbGVSZXBldGl0aW9uID0gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgICB2YXIgYmVmb3JlSXRlcmF0aW9uID0gdGhpcy5nZXRMZXhlclBvc2l0aW9uKCk7XG4gICAgICAgIGFjdGlvbi5jYWxsKHRoaXMpO1xuICAgICAgICB2YXIgYWZ0ZXJJdGVyYXRpb24gPSB0aGlzLmdldExleGVyUG9zaXRpb24oKTtcbiAgICAgICAgLy8gVGhpcyBib29sZWFuIHdpbGwgaW5kaWNhdGUgaWYgdGhpcyByZXBldGl0aW9uIHByb2dyZXNzZWRcbiAgICAgICAgLy8gb3IgaWYgd2UgYXJlIFwic3R1Y2tcIiAocG90ZW50aWFsIGluZmluaXRlIGxvb3AgaW4gdGhlIHJlcGV0aXRpb24pLlxuICAgICAgICByZXR1cm4gYWZ0ZXJJdGVyYXRpb24gPiBiZWZvcmVJdGVyYXRpb247XG4gICAgfTtcbiAgICBSZWNvZ25pemVyRW5naW5lLnByb3RvdHlwZS5vckludGVybmFsID0gZnVuY3Rpb24gKGFsdHNPck9wdHMsIG9jY3VycmVuY2UpIHtcbiAgICAgICAgdmFyIGxhS2V5ID0gdGhpcy5nZXRLZXlGb3JBdXRvbWF0aWNMb29rYWhlYWQoT1JfSURYLCBvY2N1cnJlbmNlKTtcbiAgICAgICAgdmFyIGFsdHMgPSBpc0FycmF5KGFsdHNPck9wdHMpXG4gICAgICAgICAgICA/IGFsdHNPck9wdHNcbiAgICAgICAgICAgIDogYWx0c09yT3B0cy5ERUY7XG4gICAgICAgIHZhciBsYUZ1bmMgPSB0aGlzLmdldExhRnVuY0Zyb21DYWNoZShsYUtleSk7XG4gICAgICAgIHZhciBhbHRJZHhUb1Rha2UgPSBsYUZ1bmMuY2FsbCh0aGlzLCBhbHRzKTtcbiAgICAgICAgaWYgKGFsdElkeFRvVGFrZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB2YXIgY2hvc2VuQWx0ZXJuYXRpdmUgPSBhbHRzW2FsdElkeFRvVGFrZV07XG4gICAgICAgICAgICByZXR1cm4gY2hvc2VuQWx0ZXJuYXRpdmUuQUxULmNhbGwodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yYWlzZU5vQWx0RXhjZXB0aW9uKG9jY3VycmVuY2UsIGFsdHNPck9wdHMuRVJSX01TRyk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyRW5naW5lLnByb3RvdHlwZS5ydWxlRmluYWxseVN0YXRlVXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLlJVTEVfU1RBQ0sucG9wKCk7XG4gICAgICAgIHRoaXMuUlVMRV9PQ0NVUlJFTkNFX1NUQUNLLnBvcCgpO1xuICAgICAgICAvLyBOT09QIHdoZW4gY3N0IGlzIGRpc2FibGVkXG4gICAgICAgIHRoaXMuY3N0RmluYWxseVN0YXRlVXBkYXRlKCk7XG4gICAgICAgIGlmICh0aGlzLlJVTEVfU1RBQ0subGVuZ3RoID09PSAwICYmIHRoaXMuaXNBdEVuZE9mSW5wdXQoKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHZhciBmaXJzdFJlZHVuZGFudFRvayA9IHRoaXMuTEEoMSk7XG4gICAgICAgICAgICB2YXIgZXJyTXNnID0gdGhpcy5lcnJvck1lc3NhZ2VQcm92aWRlci5idWlsZE5vdEFsbElucHV0UGFyc2VkTWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgZmlyc3RSZWR1bmRhbnQ6IGZpcnN0UmVkdW5kYW50VG9rLFxuICAgICAgICAgICAgICAgIHJ1bGVOYW1lOiB0aGlzLmdldEN1cnJSdWxlRnVsbE5hbWUoKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLlNBVkVfRVJST1IobmV3IE5vdEFsbElucHV0UGFyc2VkRXhjZXB0aW9uKGVyck1zZywgZmlyc3RSZWR1bmRhbnRUb2spKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUmVjb2duaXplckVuZ2luZS5wcm90b3R5cGUuc3VicnVsZUludGVybmFsID0gZnVuY3Rpb24gKHJ1bGVUb0NhbGwsIGlkeCwgb3B0aW9ucykge1xuICAgICAgICB2YXIgcnVsZVJlc3VsdDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBhcmdzID0gb3B0aW9ucyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5BUkdTIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgcnVsZVJlc3VsdCA9IHJ1bGVUb0NhbGwuY2FsbCh0aGlzLCBpZHgsIGFyZ3MpO1xuICAgICAgICAgICAgdGhpcy5jc3RQb3N0Tm9uVGVybWluYWwocnVsZVJlc3VsdCwgb3B0aW9ucyAhPT0gdW5kZWZpbmVkICYmIG9wdGlvbnMuTEFCRUwgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgID8gb3B0aW9ucy5MQUJFTFxuICAgICAgICAgICAgICAgIDogcnVsZVRvQ2FsbC5ydWxlTmFtZSk7XG4gICAgICAgICAgICByZXR1cm4gcnVsZVJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhpcy5zdWJydWxlSW50ZXJuYWxFcnJvcihlLCBvcHRpb25zLCBydWxlVG9DYWxsLnJ1bGVOYW1lKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUmVjb2duaXplckVuZ2luZS5wcm90b3R5cGUuc3VicnVsZUludGVybmFsRXJyb3IgPSBmdW5jdGlvbiAoZSwgb3B0aW9ucywgcnVsZU5hbWUpIHtcbiAgICAgICAgaWYgKGlzUmVjb2duaXRpb25FeGNlcHRpb24oZSkgJiYgZS5wYXJ0aWFsQ3N0UmVzdWx0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuY3N0UG9zdE5vblRlcm1pbmFsKGUucGFydGlhbENzdFJlc3VsdCwgb3B0aW9ucyAhPT0gdW5kZWZpbmVkICYmIG9wdGlvbnMuTEFCRUwgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgID8gb3B0aW9ucy5MQUJFTFxuICAgICAgICAgICAgICAgIDogcnVsZU5hbWUpO1xuICAgICAgICAgICAgZGVsZXRlIGUucGFydGlhbENzdFJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBlO1xuICAgIH07XG4gICAgUmVjb2duaXplckVuZ2luZS5wcm90b3R5cGUuY29uc3VtZUludGVybmFsID0gZnVuY3Rpb24gKHRva1R5cGUsIGlkeCwgb3B0aW9ucykge1xuICAgICAgICB2YXIgY29uc3VtZWRUb2tlbjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBuZXh0VG9rZW4gPSB0aGlzLkxBKDEpO1xuICAgICAgICAgICAgaWYgKHRoaXMudG9rZW5NYXRjaGVyKG5leHRUb2tlbiwgdG9rVHlwZSkgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnN1bWVUb2tlbigpO1xuICAgICAgICAgICAgICAgIGNvbnN1bWVkVG9rZW4gPSBuZXh0VG9rZW47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnN1bWVJbnRlcm5hbEVycm9yKHRva1R5cGUsIG5leHRUb2tlbiwgb3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVGcm9tQ29uc3VtcHRpb24pIHtcbiAgICAgICAgICAgIGNvbnN1bWVkVG9rZW4gPSB0aGlzLmNvbnN1bWVJbnRlcm5hbFJlY292ZXJ5KHRva1R5cGUsIGlkeCwgZUZyb21Db25zdW1wdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jc3RQb3N0VGVybWluYWwob3B0aW9ucyAhPT0gdW5kZWZpbmVkICYmIG9wdGlvbnMuTEFCRUwgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyBvcHRpb25zLkxBQkVMXG4gICAgICAgICAgICA6IHRva1R5cGUubmFtZSwgY29uc3VtZWRUb2tlbik7XG4gICAgICAgIHJldHVybiBjb25zdW1lZFRva2VuO1xuICAgIH07XG4gICAgUmVjb2duaXplckVuZ2luZS5wcm90b3R5cGUuY29uc3VtZUludGVybmFsRXJyb3IgPSBmdW5jdGlvbiAodG9rVHlwZSwgbmV4dFRva2VuLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBtc2c7XG4gICAgICAgIHZhciBwcmV2aW91c1Rva2VuID0gdGhpcy5MQSgwKTtcbiAgICAgICAgaWYgKG9wdGlvbnMgIT09IHVuZGVmaW5lZCAmJiBvcHRpb25zLkVSUl9NU0cpIHtcbiAgICAgICAgICAgIG1zZyA9IG9wdGlvbnMuRVJSX01TRztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG1zZyA9IHRoaXMuZXJyb3JNZXNzYWdlUHJvdmlkZXIuYnVpbGRNaXNtYXRjaFRva2VuTWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IHRva1R5cGUsXG4gICAgICAgICAgICAgICAgYWN0dWFsOiBuZXh0VG9rZW4sXG4gICAgICAgICAgICAgICAgcHJldmlvdXM6IHByZXZpb3VzVG9rZW4sXG4gICAgICAgICAgICAgICAgcnVsZU5hbWU6IHRoaXMuZ2V0Q3VyclJ1bGVGdWxsTmFtZSgpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyB0aGlzLlNBVkVfRVJST1IobmV3IE1pc21hdGNoZWRUb2tlbkV4Y2VwdGlvbihtc2csIG5leHRUb2tlbiwgcHJldmlvdXNUb2tlbikpO1xuICAgIH07XG4gICAgUmVjb2duaXplckVuZ2luZS5wcm90b3R5cGUuY29uc3VtZUludGVybmFsUmVjb3ZlcnkgPSBmdW5jdGlvbiAodG9rVHlwZSwgaWR4LCBlRnJvbUNvbnN1bXB0aW9uKSB7XG4gICAgICAgIC8vIG5vIHJlY292ZXJ5IGFsbG93ZWQgZHVyaW5nIGJhY2t0cmFja2luZywgb3RoZXJ3aXNlIGJhY2t0cmFja2luZyBtYXkgcmVjb3ZlciBpbnZhbGlkIHN5bnRheCBhbmQgYWNjZXB0IGl0XG4gICAgICAgIC8vIGJ1dCB0aGUgb3JpZ2luYWwgc3ludGF4IGNvdWxkIGhhdmUgYmVlbiBwYXJzZWQgc3VjY2Vzc2Z1bGx5IHdpdGhvdXQgYW55IGJhY2t0cmFja2luZyArIHJlY292ZXJ5XG4gICAgICAgIGlmICh0aGlzLnJlY292ZXJ5RW5hYmxlZCAmJlxuICAgICAgICAgICAgLy8gVE9ETzogbW9yZSByb2J1c3QgY2hlY2tpbmcgb2YgdGhlIGV4Y2VwdGlvbiB0eXBlLiBQZXJoYXBzIFR5cGVzY3JpcHQgZXh0ZW5kaW5nIGV4cHJlc3Npb25zP1xuICAgICAgICAgICAgZUZyb21Db25zdW1wdGlvbi5uYW1lID09PSBcIk1pc21hdGNoZWRUb2tlbkV4Y2VwdGlvblwiICYmXG4gICAgICAgICAgICAhdGhpcy5pc0JhY2tUcmFja2luZygpKSB7XG4gICAgICAgICAgICB2YXIgZm9sbG93cyA9IHRoaXMuZ2V0Rm9sbG93c0ZvckluUnVsZVJlY292ZXJ5KHRva1R5cGUsIGlkeCk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnRyeUluUnVsZVJlY292ZXJ5KHRva1R5cGUsIGZvbGxvd3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVGcm9tSW5SdWxlUmVjb3ZlcnkpIHtcbiAgICAgICAgICAgICAgICBpZiAoZUZyb21JblJ1bGVSZWNvdmVyeS5uYW1lID09PSBJTl9SVUxFX1JFQ09WRVJZX0VYQ0VQVElPTikge1xuICAgICAgICAgICAgICAgICAgICAvLyBmYWlsZWQgaW4gUnVsZVJlY292ZXJ5LlxuICAgICAgICAgICAgICAgICAgICAvLyB0aHJvdyB0aGUgb3JpZ2luYWwgZXJyb3IgaW4gb3JkZXIgdG8gdHJpZ2dlciByZVN5bmMgZXJyb3IgcmVjb3ZlcnlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZUZyb21Db25zdW1wdGlvbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVGcm9tSW5SdWxlUmVjb3Zlcnk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgZUZyb21Db25zdW1wdGlvbjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUmVjb2duaXplckVuZ2luZS5wcm90b3R5cGUuc2F2ZVJlY29nU3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIGVycm9ycyBpcyBhIGdldHRlciB3aGljaCB3aWxsIGNsb25lIHRoZSBlcnJvcnMgYXJyYXlcbiAgICAgICAgdmFyIHNhdmVkRXJyb3JzID0gdGhpcy5lcnJvcnM7XG4gICAgICAgIHZhciBzYXZlZFJ1bGVTdGFjayA9IGNsb25lQXJyKHRoaXMuUlVMRV9TVEFDSyk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBlcnJvcnM6IHNhdmVkRXJyb3JzLFxuICAgICAgICAgICAgbGV4ZXJTdGF0ZTogdGhpcy5leHBvcnRMZXhlclN0YXRlKCksXG4gICAgICAgICAgICBSVUxFX1NUQUNLOiBzYXZlZFJ1bGVTdGFjayxcbiAgICAgICAgICAgIENTVF9TVEFDSzogdGhpcy5DU1RfU1RBQ0tcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJFbmdpbmUucHJvdG90eXBlLnJlbG9hZFJlY29nU3RhdGUgPSBmdW5jdGlvbiAobmV3U3RhdGUpIHtcbiAgICAgICAgdGhpcy5lcnJvcnMgPSBuZXdTdGF0ZS5lcnJvcnM7XG4gICAgICAgIHRoaXMuaW1wb3J0TGV4ZXJTdGF0ZShuZXdTdGF0ZS5sZXhlclN0YXRlKTtcbiAgICAgICAgdGhpcy5SVUxFX1NUQUNLID0gbmV3U3RhdGUuUlVMRV9TVEFDSztcbiAgICB9O1xuICAgIFJlY29nbml6ZXJFbmdpbmUucHJvdG90eXBlLnJ1bGVJbnZvY2F0aW9uU3RhdGVVcGRhdGUgPSBmdW5jdGlvbiAoc2hvcnROYW1lLCBmdWxsTmFtZSwgaWR4SW5DYWxsaW5nUnVsZSkge1xuICAgICAgICB0aGlzLlJVTEVfT0NDVVJSRU5DRV9TVEFDSy5wdXNoKGlkeEluQ2FsbGluZ1J1bGUpO1xuICAgICAgICB0aGlzLlJVTEVfU1RBQ0sucHVzaChzaG9ydE5hbWUpO1xuICAgICAgICAvLyBOT09QIHdoZW4gY3N0IGlzIGRpc2FibGVkXG4gICAgICAgIHRoaXMuY3N0SW52b2NhdGlvblN0YXRlVXBkYXRlKGZ1bGxOYW1lLCBzaG9ydE5hbWUpO1xuICAgIH07XG4gICAgUmVjb2duaXplckVuZ2luZS5wcm90b3R5cGUuaXNCYWNrVHJhY2tpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzQmFja1RyYWNraW5nU3RhY2subGVuZ3RoICE9PSAwO1xuICAgIH07XG4gICAgUmVjb2duaXplckVuZ2luZS5wcm90b3R5cGUuZ2V0Q3VyclJ1bGVGdWxsTmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNob3J0TmFtZSA9IHRoaXMuZ2V0TGFzdEV4cGxpY2l0UnVsZVNob3J0TmFtZSgpO1xuICAgICAgICByZXR1cm4gdGhpcy5zaG9ydFJ1bGVOYW1lVG9GdWxsW3Nob3J0TmFtZV07XG4gICAgfTtcbiAgICBSZWNvZ25pemVyRW5naW5lLnByb3RvdHlwZS5zaG9ydFJ1bGVOYW1lVG9GdWxsTmFtZSA9IGZ1bmN0aW9uIChzaG9ydE5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2hvcnRSdWxlTmFtZVRvRnVsbFtzaG9ydE5hbWVdO1xuICAgIH07XG4gICAgUmVjb2duaXplckVuZ2luZS5wcm90b3R5cGUuaXNBdEVuZE9mSW5wdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRva2VuTWF0Y2hlcih0aGlzLkxBKDEpLCBFT0YpO1xuICAgIH07XG4gICAgUmVjb2duaXplckVuZ2luZS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucmVzZXRMZXhlclN0YXRlKCk7XG4gICAgICAgIHRoaXMuaXNCYWNrVHJhY2tpbmdTdGFjayA9IFtdO1xuICAgICAgICB0aGlzLmVycm9ycyA9IFtdO1xuICAgICAgICB0aGlzLlJVTEVfU1RBQ0sgPSBbXTtcbiAgICAgICAgLy8gVE9ETzogZXh0cmFjdCBhIHNwZWNpZmljIHJlc2V0IGZvciBUcmVlQnVpbGRlciB0cmFpdFxuICAgICAgICB0aGlzLkNTVF9TVEFDSyA9IFtdO1xuICAgICAgICB0aGlzLlJVTEVfT0NDVVJSRU5DRV9TVEFDSyA9IFtdO1xuICAgIH07XG4gICAgcmV0dXJuIFJlY29nbml6ZXJFbmdpbmU7XG59KCkpO1xuZXhwb3J0IHsgUmVjb2duaXplckVuZ2luZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVjb2duaXplcl9lbmdpbmUuanMubWFwIiwiaW1wb3J0IHsgRWFybHlFeGl0RXhjZXB0aW9uLCBpc1JlY29nbml0aW9uRXhjZXB0aW9uLCBOb1ZpYWJsZUFsdEV4Y2VwdGlvbiB9IGZyb20gXCIuLi8uLi9leGNlcHRpb25zX3B1YmxpY1wiO1xuaW1wb3J0IHsgY2xvbmVBcnIsIGhhcyB9IGZyb20gXCIuLi8uLi8uLi91dGlscy91dGlsc1wiO1xuaW1wb3J0IHsgZ2V0TG9va2FoZWFkUGF0aHNGb3JPcHRpb25hbFByb2QsIGdldExvb2thaGVhZFBhdGhzRm9yT3IgfSBmcm9tIFwiLi4vLi4vZ3JhbW1hci9sb29rYWhlYWRcIjtcbmltcG9ydCB7IERFRkFVTFRfUEFSU0VSX0NPTkZJRyB9IGZyb20gXCIuLi9wYXJzZXJcIjtcbi8qKlxuICogVHJhaXQgcmVzcG9uc2libGUgZm9yIHJ1bnRpbWUgcGFyc2luZyBlcnJvcnMuXG4gKi9cbnZhciBFcnJvckhhbmRsZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRXJyb3JIYW5kbGVyKCkge1xuICAgIH1cbiAgICBFcnJvckhhbmRsZXIucHJvdG90eXBlLmluaXRFcnJvckhhbmRsZXIgPSBmdW5jdGlvbiAoY29uZmlnKSB7XG4gICAgICAgIHRoaXMuX2Vycm9ycyA9IFtdO1xuICAgICAgICB0aGlzLmVycm9yTWVzc2FnZVByb3ZpZGVyID0gaGFzKGNvbmZpZywgXCJlcnJvck1lc3NhZ2VQcm92aWRlclwiKVxuICAgICAgICAgICAgPyBjb25maWcuZXJyb3JNZXNzYWdlUHJvdmlkZXJcbiAgICAgICAgICAgIDogREVGQVVMVF9QQVJTRVJfQ09ORklHLmVycm9yTWVzc2FnZVByb3ZpZGVyO1xuICAgIH07XG4gICAgRXJyb3JIYW5kbGVyLnByb3RvdHlwZS5TQVZFX0VSUk9SID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgIGlmIChpc1JlY29nbml0aW9uRXhjZXB0aW9uKGVycm9yKSkge1xuICAgICAgICAgICAgZXJyb3IuY29udGV4dCA9IHtcbiAgICAgICAgICAgICAgICBydWxlU3RhY2s6IHRoaXMuZ2V0SHVtYW5SZWFkYWJsZVJ1bGVTdGFjaygpLFxuICAgICAgICAgICAgICAgIHJ1bGVPY2N1cnJlbmNlU3RhY2s6IGNsb25lQXJyKHRoaXMuUlVMRV9PQ0NVUlJFTkNFX1NUQUNLKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuX2Vycm9ycy5wdXNoKGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKFwiVHJ5aW5nIHRvIHNhdmUgYW4gRXJyb3Igd2hpY2ggaXMgbm90IGEgUmVjb2duaXRpb25FeGNlcHRpb25cIik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShFcnJvckhhbmRsZXIucHJvdG90eXBlLCBcImVycm9yc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGNsb25lQXJyKHRoaXMuX2Vycm9ycyk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKG5ld0Vycm9ycykge1xuICAgICAgICAgICAgdGhpcy5fZXJyb3JzID0gbmV3RXJyb3JzO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvLyBUT0RPOiBjb25zaWRlciBjYWNoaW5nIHRoZSBlcnJvciBtZXNzYWdlIGNvbXB1dGVkIGluZm9ybWF0aW9uXG4gICAgRXJyb3JIYW5kbGVyLnByb3RvdHlwZS5yYWlzZUVhcmx5RXhpdEV4Y2VwdGlvbiA9IGZ1bmN0aW9uIChvY2N1cnJlbmNlLCBwcm9kVHlwZSwgdXNlckRlZmluZWRFcnJNc2cpIHtcbiAgICAgICAgdmFyIHJ1bGVOYW1lID0gdGhpcy5nZXRDdXJyUnVsZUZ1bGxOYW1lKCk7XG4gICAgICAgIHZhciBydWxlR3JhbW1hciA9IHRoaXMuZ2V0R0FzdFByb2R1Y3Rpb25zKClbcnVsZU5hbWVdO1xuICAgICAgICB2YXIgbG9va0FoZWFkUGF0aHNQZXJBbHRlcm5hdGl2ZSA9IGdldExvb2thaGVhZFBhdGhzRm9yT3B0aW9uYWxQcm9kKG9jY3VycmVuY2UsIHJ1bGVHcmFtbWFyLCBwcm9kVHlwZSwgdGhpcy5tYXhMb29rYWhlYWQpO1xuICAgICAgICB2YXIgaW5zaWRlUHJvZFBhdGhzID0gbG9va0FoZWFkUGF0aHNQZXJBbHRlcm5hdGl2ZVswXTtcbiAgICAgICAgdmFyIGFjdHVhbFRva2VucyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8PSB0aGlzLm1heExvb2thaGVhZDsgaSsrKSB7XG4gICAgICAgICAgICBhY3R1YWxUb2tlbnMucHVzaCh0aGlzLkxBKGkpKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbXNnID0gdGhpcy5lcnJvck1lc3NhZ2VQcm92aWRlci5idWlsZEVhcmx5RXhpdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgZXhwZWN0ZWRJdGVyYXRpb25QYXRoczogaW5zaWRlUHJvZFBhdGhzLFxuICAgICAgICAgICAgYWN0dWFsOiBhY3R1YWxUb2tlbnMsXG4gICAgICAgICAgICBwcmV2aW91czogdGhpcy5MQSgwKSxcbiAgICAgICAgICAgIGN1c3RvbVVzZXJEZXNjcmlwdGlvbjogdXNlckRlZmluZWRFcnJNc2csXG4gICAgICAgICAgICBydWxlTmFtZTogcnVsZU5hbWVcbiAgICAgICAgfSk7XG4gICAgICAgIHRocm93IHRoaXMuU0FWRV9FUlJPUihuZXcgRWFybHlFeGl0RXhjZXB0aW9uKG1zZywgdGhpcy5MQSgxKSwgdGhpcy5MQSgwKSkpO1xuICAgIH07XG4gICAgLy8gVE9ETzogY29uc2lkZXIgY2FjaGluZyB0aGUgZXJyb3IgbWVzc2FnZSBjb21wdXRlZCBpbmZvcm1hdGlvblxuICAgIEVycm9ySGFuZGxlci5wcm90b3R5cGUucmFpc2VOb0FsdEV4Y2VwdGlvbiA9IGZ1bmN0aW9uIChvY2N1cnJlbmNlLCBlcnJNc2dUeXBlcykge1xuICAgICAgICB2YXIgcnVsZU5hbWUgPSB0aGlzLmdldEN1cnJSdWxlRnVsbE5hbWUoKTtcbiAgICAgICAgdmFyIHJ1bGVHcmFtbWFyID0gdGhpcy5nZXRHQXN0UHJvZHVjdGlvbnMoKVtydWxlTmFtZV07XG4gICAgICAgIC8vIFRPRE86IGdldExvb2thaGVhZFBhdGhzRm9yT3IgY2FuIGJlIHNsb3cgZm9yIGxhcmdlIGVub3VnaCBtYXhMb29rYWhlYWQgYW5kIGNlcnRhaW4gZ3JhbW1hcnMsIGNvbnNpZGVyIGNhY2hpbmcgP1xuICAgICAgICB2YXIgbG9va0FoZWFkUGF0aHNQZXJBbHRlcm5hdGl2ZSA9IGdldExvb2thaGVhZFBhdGhzRm9yT3Iob2NjdXJyZW5jZSwgcnVsZUdyYW1tYXIsIHRoaXMubWF4TG9va2FoZWFkKTtcbiAgICAgICAgdmFyIGFjdHVhbFRva2VucyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8PSB0aGlzLm1heExvb2thaGVhZDsgaSsrKSB7XG4gICAgICAgICAgICBhY3R1YWxUb2tlbnMucHVzaCh0aGlzLkxBKGkpKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcHJldmlvdXNUb2tlbiA9IHRoaXMuTEEoMCk7XG4gICAgICAgIHZhciBlcnJNc2cgPSB0aGlzLmVycm9yTWVzc2FnZVByb3ZpZGVyLmJ1aWxkTm9WaWFibGVBbHRNZXNzYWdlKHtcbiAgICAgICAgICAgIGV4cGVjdGVkUGF0aHNQZXJBbHQ6IGxvb2tBaGVhZFBhdGhzUGVyQWx0ZXJuYXRpdmUsXG4gICAgICAgICAgICBhY3R1YWw6IGFjdHVhbFRva2VucyxcbiAgICAgICAgICAgIHByZXZpb3VzOiBwcmV2aW91c1Rva2VuLFxuICAgICAgICAgICAgY3VzdG9tVXNlckRlc2NyaXB0aW9uOiBlcnJNc2dUeXBlcyxcbiAgICAgICAgICAgIHJ1bGVOYW1lOiB0aGlzLmdldEN1cnJSdWxlRnVsbE5hbWUoKVxuICAgICAgICB9KTtcbiAgICAgICAgdGhyb3cgdGhpcy5TQVZFX0VSUk9SKG5ldyBOb1ZpYWJsZUFsdEV4Y2VwdGlvbihlcnJNc2csIHRoaXMuTEEoMSksIHByZXZpb3VzVG9rZW4pKTtcbiAgICB9O1xuICAgIHJldHVybiBFcnJvckhhbmRsZXI7XG59KCkpO1xuZXhwb3J0IHsgRXJyb3JIYW5kbGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lcnJvcl9oYW5kbGVyLmpzLm1hcCIsImltcG9ydCB7IE5leHRBZnRlclRva2VuV2Fsa2VyLCBuZXh0UG9zc2libGVUb2tlbnNBZnRlciB9IGZyb20gXCIuLi8uLi9ncmFtbWFyL2ludGVycHJldGVyXCI7XG5pbXBvcnQgeyBmaXJzdCwgaXNVbmRlZmluZWQgfSBmcm9tIFwiLi4vLi4vLi4vdXRpbHMvdXRpbHNcIjtcbnZhciBDb250ZW50QXNzaXN0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENvbnRlbnRBc3Npc3QoKSB7XG4gICAgfVxuICAgIENvbnRlbnRBc3Npc3QucHJvdG90eXBlLmluaXRDb250ZW50QXNzaXN0ID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIENvbnRlbnRBc3Npc3QucHJvdG90eXBlLmNvbXB1dGVDb250ZW50QXNzaXN0ID0gZnVuY3Rpb24gKHN0YXJ0UnVsZU5hbWUsIHByZWNlZGluZ0lucHV0KSB7XG4gICAgICAgIHZhciBzdGFydFJ1bGVHYXN0ID0gdGhpcy5nYXN0UHJvZHVjdGlvbnNDYWNoZVtzdGFydFJ1bGVOYW1lXTtcbiAgICAgICAgaWYgKGlzVW5kZWZpbmVkKHN0YXJ0UnVsZUdhc3QpKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcIlJ1bGUgLT5cIiArIHN0YXJ0UnVsZU5hbWUgKyBcIjwtIGRvZXMgbm90IGV4aXN0IGluIHRoaXMgZ3JhbW1hci5cIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5leHRQb3NzaWJsZVRva2Vuc0FmdGVyKFtzdGFydFJ1bGVHYXN0XSwgcHJlY2VkaW5nSW5wdXQsIHRoaXMudG9rZW5NYXRjaGVyLCB0aGlzLm1heExvb2thaGVhZCk7XG4gICAgfTtcbiAgICAvLyBUT0RPOiBzaG91bGQgdGhpcyBiZSBhIG1lbWJlciBtZXRob2Qgb3IgYSB1dGlsaXR5PyBpdCBkb2VzIG5vdCBoYXZlIGFueSBzdGF0ZSBvciB1c2FnZSBvZiAndGhpcycuLi5cbiAgICAvLyBUT0RPOiBzaG91bGQgdGhpcyBiZSBtb3JlIGV4cGxpY2l0bHkgcGFydCBvZiB0aGUgcHVibGljIEFQST9cbiAgICBDb250ZW50QXNzaXN0LnByb3RvdHlwZS5nZXROZXh0UG9zc2libGVUb2tlblR5cGVzID0gZnVuY3Rpb24gKGdyYW1tYXJQYXRoKSB7XG4gICAgICAgIHZhciB0b3BSdWxlTmFtZSA9IGZpcnN0KGdyYW1tYXJQYXRoLnJ1bGVTdGFjayk7XG4gICAgICAgIHZhciBnYXN0UHJvZHVjdGlvbnMgPSB0aGlzLmdldEdBc3RQcm9kdWN0aW9ucygpO1xuICAgICAgICB2YXIgdG9wUHJvZHVjdGlvbiA9IGdhc3RQcm9kdWN0aW9uc1t0b3BSdWxlTmFtZV07XG4gICAgICAgIHZhciBuZXh0UG9zc2libGVUb2tlblR5cGVzID0gbmV3IE5leHRBZnRlclRva2VuV2Fsa2VyKHRvcFByb2R1Y3Rpb24sIGdyYW1tYXJQYXRoKS5zdGFydFdhbGtpbmcoKTtcbiAgICAgICAgcmV0dXJuIG5leHRQb3NzaWJsZVRva2VuVHlwZXM7XG4gICAgfTtcbiAgICByZXR1cm4gQ29udGVudEFzc2lzdDtcbn0oKSk7XG5leHBvcnQgeyBDb250ZW50QXNzaXN0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb250ZXh0X2Fzc2lzdC5qcy5tYXAiLCJpbXBvcnQgeyBmb3JFYWNoLCBoYXMsIGlzQXJyYXksIGlzRnVuY3Rpb24sIHBlZWssIHNvbWUgfSBmcm9tIFwiLi4vLi4vLi4vdXRpbHMvdXRpbHNcIjtcbmltcG9ydCB7IEFsdGVybmF0aW9uLCBBbHRlcm5hdGl2ZSwgTm9uVGVybWluYWwsIE9wdGlvbiwgUmVwZXRpdGlvbiwgUmVwZXRpdGlvbk1hbmRhdG9yeSwgUmVwZXRpdGlvbk1hbmRhdG9yeVdpdGhTZXBhcmF0b3IsIFJlcGV0aXRpb25XaXRoU2VwYXJhdG9yLCBSdWxlLCBUZXJtaW5hbCB9IGZyb20gXCIuLi8uLi9ncmFtbWFyL2dhc3QvZ2FzdF9wdWJsaWNcIjtcbmltcG9ydCB7IExleGVyIH0gZnJvbSBcIi4uLy4uLy4uL3NjYW4vbGV4ZXJfcHVibGljXCI7XG5pbXBvcnQgeyBhdWdtZW50VG9rZW5UeXBlcywgaGFzU2hvcnRLZXlQcm9wZXJ0eSB9IGZyb20gXCIuLi8uLi8uLi9zY2FuL3Rva2Vuc1wiO1xuaW1wb3J0IHsgY3JlYXRlVG9rZW4sIGNyZWF0ZVRva2VuSW5zdGFuY2UgfSBmcm9tIFwiLi4vLi4vLi4vc2Nhbi90b2tlbnNfcHVibGljXCI7XG5pbXBvcnQgeyBFTkRfT0ZfRklMRSB9IGZyb20gXCIuLi9wYXJzZXJcIjtcbmltcG9ydCB7IEJJVFNfRk9SX09DQ1VSUkVOQ0VfSURYIH0gZnJvbSBcIi4uLy4uL2dyYW1tYXIva2V5c1wiO1xudmFyIFJFQ09SRElOR19OVUxMX09CSkVDVCA9IHtcbiAgICBkZXNjcmlwdGlvbjogXCJUaGlzIE9iamVjdCBpbmRpY2F0ZXMgdGhlIFBhcnNlciBpcyBkdXJpbmcgUmVjb3JkaW5nIFBoYXNlXCJcbn07XG5PYmplY3QuZnJlZXplKFJFQ09SRElOR19OVUxMX09CSkVDVCk7XG52YXIgSEFORExFX1NFUEFSQVRPUiA9IHRydWU7XG52YXIgTUFYX01FVEhPRF9JRFggPSBNYXRoLnBvdygyLCBCSVRTX0ZPUl9PQ0NVUlJFTkNFX0lEWCkgLSAxO1xudmFyIFJGVCA9IGNyZWF0ZVRva2VuKHsgbmFtZTogXCJSRUNPUkRJTkdfUEhBU0VfVE9LRU5cIiwgcGF0dGVybjogTGV4ZXIuTkEgfSk7XG5hdWdtZW50VG9rZW5UeXBlcyhbUkZUXSk7XG52YXIgUkVDT1JESU5HX1BIQVNFX1RPS0VOID0gY3JlYXRlVG9rZW5JbnN0YW5jZShSRlQsIFwiVGhpcyBJVG9rZW4gaW5kaWNhdGVzIHRoZSBQYXJzZXIgaXMgaW4gUmVjb3JkaW5nIFBoYXNlXFxuXFx0XCIgK1xuICAgIFwiXCIgK1xuICAgIFwiU2VlOiBodHRwczovL3NhcC5naXRodWIuaW8vY2hldnJvdGFpbi9kb2NzL2d1aWRlL2ludGVybmFscy5odG1sI2dyYW1tYXItcmVjb3JkaW5nIGZvciBkZXRhaWxzXCIsIFxuLy8gVXNpbmcgXCItMVwiIGluc3RlYWQgb2YgTmFOIChhcyBpbiBFT0YpIGJlY2F1c2UgYW4gYWN0dWFsIG51bWJlciBpcyBsZXNzIGxpa2VseSB0b1xuLy8gY2F1c2UgZXJyb3JzIGlmIHRoZSBvdXRwdXQgb2YgTEEgb3IgQ09OU1VNRSB3b3VsZCBiZSAoaW5jb3JyZWN0bHkpIHVzZWQgZHVyaW5nIHRoZSByZWNvcmRpbmcgcGhhc2UuXG4tMSwgLTEsIC0xLCAtMSwgLTEsIC0xKTtcbk9iamVjdC5mcmVlemUoUkVDT1JESU5HX1BIQVNFX1RPS0VOKTtcbnZhciBSRUNPUkRJTkdfUEhBU0VfQ1NUTk9ERSA9IHtcbiAgICBuYW1lOiBcIlRoaXMgQ1NUTm9kZSBpbmRpY2F0ZXMgdGhlIFBhcnNlciBpcyBpbiBSZWNvcmRpbmcgUGhhc2VcXG5cXHRcIiArXG4gICAgICAgIFwiU2VlOiBodHRwczovL3NhcC5naXRodWIuaW8vY2hldnJvdGFpbi9kb2NzL2d1aWRlL2ludGVybmFscy5odG1sI2dyYW1tYXItcmVjb3JkaW5nIGZvciBkZXRhaWxzXCIsXG4gICAgY2hpbGRyZW46IHt9XG59O1xuLyoqXG4gKiBUaGlzIHRyYWl0IGhhbmRsZXMgdGhlIGNyZWF0aW9uIG9mIHRoZSBHQVNUIHN0cnVjdHVyZSBmb3IgQ2hldnJvdGFpbiBHcmFtbWFyc1xuICovXG52YXIgR2FzdFJlY29yZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEdhc3RSZWNvcmRlcigpIHtcbiAgICB9XG4gICAgR2FzdFJlY29yZGVyLnByb3RvdHlwZS5pbml0R2FzdFJlY29yZGVyID0gZnVuY3Rpb24gKGNvbmZpZykge1xuICAgICAgICB0aGlzLnJlY29yZGluZ1Byb2RTdGFjayA9IFtdO1xuICAgICAgICB0aGlzLlJFQ09SRElOR19QSEFTRSA9IGZhbHNlO1xuICAgIH07XG4gICAgR2FzdFJlY29yZGVyLnByb3RvdHlwZS5lbmFibGVSZWNvcmRpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuUkVDT1JESU5HX1BIQVNFID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5UUkFDRV9JTklUKFwiRW5hYmxlIFJlY29yZGluZ1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX2xvb3BfMSA9IGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGlkeCA9IGkgPiAwID8gaSA6IFwiXCI7XG4gICAgICAgICAgICAgICAgX3RoaXNbXCJDT05TVU1FXCIgKyBpZHhdID0gZnVuY3Rpb24gKGFyZzEsIGFyZzIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29uc3VtZUludGVybmFsUmVjb3JkKGFyZzEsIGksIGFyZzIpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgX3RoaXNbXCJTVUJSVUxFXCIgKyBpZHhdID0gZnVuY3Rpb24gKGFyZzEsIGFyZzIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3VicnVsZUludGVybmFsUmVjb3JkKGFyZzEsIGksIGFyZzIpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgX3RoaXNbXCJPUFRJT05cIiArIGlkeF0gPSBmdW5jdGlvbiAoYXJnMSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25JbnRlcm5hbFJlY29yZChhcmcxLCBpKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIF90aGlzW1wiT1JcIiArIGlkeF0gPSBmdW5jdGlvbiAoYXJnMSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5vckludGVybmFsUmVjb3JkKGFyZzEsIGkpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgX3RoaXNbXCJNQU5ZXCIgKyBpZHhdID0gZnVuY3Rpb24gKGFyZzEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYW55SW50ZXJuYWxSZWNvcmQoaSwgYXJnMSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBfdGhpc1tcIk1BTllfU0VQXCIgKyBpZHhdID0gZnVuY3Rpb24gKGFyZzEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYW55U2VwRmlyc3RJbnRlcm5hbFJlY29yZChpLCBhcmcxKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIF90aGlzW1wiQVRfTEVBU1RfT05FXCIgKyBpZHhdID0gZnVuY3Rpb24gKGFyZzEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdExlYXN0T25lSW50ZXJuYWxSZWNvcmQoaSwgYXJnMSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBfdGhpc1tcIkFUX0xFQVNUX09ORV9TRVBcIiArIGlkeF0gPSBmdW5jdGlvbiAoYXJnMSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmF0TGVhc3RPbmVTZXBGaXJzdEludGVybmFsUmVjb3JkKGksIGFyZzEpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBXYXJuaW5nIERhcmsgVm9vZG9vIE1hZ2ljIHVwY29taW5nIVxuICAgICAgICAgICAgICogV2UgYXJlIFwicmVwbGFjaW5nXCIgdGhlIHB1YmxpYyBwYXJzaW5nIERTTCBtZXRob2RzIEFQSVxuICAgICAgICAgICAgICogV2l0aCAqKm5ldyoqIGFsdGVybmF0aXZlIGltcGxlbWVudGF0aW9ucyBvbiB0aGUgUGFyc2VyICoqaW5zdGFuY2UqKlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIFNvIGZhciB0aGlzIGlzIHRoZSBvbmx5IHdheSBJJ3ZlIGZvdW5kIHRvIGF2b2lkIHBlcmZvcm1hbmNlIHJlZ3Jlc3Npb25zIGR1cmluZyBwYXJzaW5nIHRpbWUuXG4gICAgICAgICAgICAgKiAtIEFwcHJveCAzMCUgcGVyZm9ybWFuY2UgcmVncmVzc2lvbiB3YXMgbWVhc3VyZWQgb24gQ2hyb21lIDc1IENhbmFyeSB3aGVuIGF0dGVtcHRpbmcgdG8gcmVwbGFjZSB0aGUgXCJpbnRlcm5hbFwiXG4gICAgICAgICAgICAgKiAgIGltcGxlbWVudGF0aW9ucyBkaXJlY3RseSBpbnN0ZWFkLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDEwOyBpKyspIHtcbiAgICAgICAgICAgICAgICBfbG9vcF8xKGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRFNMIG1ldGhvZHMgd2l0aCB0aGUgaWR4KHN1ZmZpeCkgYXMgYW4gYXJndW1lbnRcbiAgICAgICAgICAgIF90aGlzW1wiY29uc3VtZVwiXSA9IGZ1bmN0aW9uIChpZHgsIGFyZzEsIGFyZzIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb25zdW1lSW50ZXJuYWxSZWNvcmQoYXJnMSwgaWR4LCBhcmcyKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBfdGhpc1tcInN1YnJ1bGVcIl0gPSBmdW5jdGlvbiAoaWR4LCBhcmcxLCBhcmcyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3VicnVsZUludGVybmFsUmVjb3JkKGFyZzEsIGlkeCwgYXJnMik7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgX3RoaXNbXCJvcHRpb25cIl0gPSBmdW5jdGlvbiAoaWR4LCBhcmcxKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9uSW50ZXJuYWxSZWNvcmQoYXJnMSwgaWR4KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBfdGhpc1tcIm9yXCJdID0gZnVuY3Rpb24gKGlkeCwgYXJnMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm9ySW50ZXJuYWxSZWNvcmQoYXJnMSwgaWR4KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBfdGhpc1tcIm1hbnlcIl0gPSBmdW5jdGlvbiAoaWR4LCBhcmcxKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tYW55SW50ZXJuYWxSZWNvcmQoaWR4LCBhcmcxKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBfdGhpc1tcImF0TGVhc3RPbmVcIl0gPSBmdW5jdGlvbiAoaWR4LCBhcmcxKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hdExlYXN0T25lSW50ZXJuYWxSZWNvcmQoaWR4LCBhcmcxKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBfdGhpcy5BQ1RJT04gPSBfdGhpcy5BQ1RJT05fUkVDT1JEO1xuICAgICAgICAgICAgX3RoaXMuQkFDS1RSQUNLID0gX3RoaXMuQkFDS1RSQUNLX1JFQ09SRDtcbiAgICAgICAgICAgIF90aGlzLkxBID0gX3RoaXMuTEFfUkVDT1JEO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIEdhc3RSZWNvcmRlci5wcm90b3R5cGUuZGlzYWJsZVJlY29yZGluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5SRUNPUkRJTkdfUEhBU0UgPSBmYWxzZTtcbiAgICAgICAgLy8gQnkgZGVsZXRpbmcgdGhlc2UgKippbnN0YW5jZSoqIHByb3BlcnRpZXMsIGFueSBmdXR1cmUgaW52b2NhdGlvblxuICAgICAgICAvLyB3aWxsIGJlIGRlZmVycmVkIHRvIHRoZSBvcmlnaW5hbCBtZXRob2RzIG9uIHRoZSAqKnByb3RvdHlwZSoqIG9iamVjdFxuICAgICAgICAvLyBUaGlzIHNlZW1zIHRvIGdldCByaWQgb2YgYW55IGluY29ycmVjdCBvcHRpbWl6YXRpb25zIHRoYXQgVjggbWF5XG4gICAgICAgIC8vIGRvIGR1cmluZyB0aGUgcmVjb3JkaW5nIHBoYXNlLlxuICAgICAgICB0aGlzLlRSQUNFX0lOSVQoXCJEZWxldGluZyBSZWNvcmRpbmcgbWV0aG9kc1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDEwOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgaWR4ID0gaSA+IDAgPyBpIDogXCJcIjtcbiAgICAgICAgICAgICAgICBkZWxldGUgX3RoaXNbXCJDT05TVU1FXCIgKyBpZHhdO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBfdGhpc1tcIlNVQlJVTEVcIiArIGlkeF07XG4gICAgICAgICAgICAgICAgZGVsZXRlIF90aGlzW1wiT1BUSU9OXCIgKyBpZHhdO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBfdGhpc1tcIk9SXCIgKyBpZHhdO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBfdGhpc1tcIk1BTllcIiArIGlkeF07XG4gICAgICAgICAgICAgICAgZGVsZXRlIF90aGlzW1wiTUFOWV9TRVBcIiArIGlkeF07XG4gICAgICAgICAgICAgICAgZGVsZXRlIF90aGlzW1wiQVRfTEVBU1RfT05FXCIgKyBpZHhdO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBfdGhpc1tcIkFUX0xFQVNUX09ORV9TRVBcIiArIGlkeF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWxldGUgX3RoaXNbXCJjb25zdW1lXCJdO1xuICAgICAgICAgICAgZGVsZXRlIF90aGlzW1wic3VicnVsZVwiXTtcbiAgICAgICAgICAgIGRlbGV0ZSBfdGhpc1tcIm9wdGlvblwiXTtcbiAgICAgICAgICAgIGRlbGV0ZSBfdGhpc1tcIm9yXCJdO1xuICAgICAgICAgICAgZGVsZXRlIF90aGlzW1wibWFueVwiXTtcbiAgICAgICAgICAgIGRlbGV0ZSBfdGhpc1tcImF0TGVhc3RPbmVcIl07XG4gICAgICAgICAgICBkZWxldGUgX3RoaXMuQUNUSU9OO1xuICAgICAgICAgICAgZGVsZXRlIF90aGlzLkJBQ0tUUkFDSztcbiAgICAgICAgICAgIGRlbGV0ZSBfdGhpcy5MQTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvLyBUT0RPOiBpcyB0aGVyZSBhbnkgd2F5IHRvIHVzZSB0aGlzIG1ldGhvZCB0byBjaGVjayBub1xuICAgIC8vICAgUGFyc2VyIG1ldGhvZHMgYXJlIGNhbGxlZCBpbnNpZGUgYW4gQUNUSU9OP1xuICAgIC8vICAgTWF5YmUgdHJ5L2NhdGNoL2ZpbmFsbHkgb24gQUNUSU9OUyB3aGlsZSBkaXNhYmxpbmcgdGhlIHJlY29yZGVycyBzdGF0ZSBjaGFuZ2VzP1xuICAgIEdhc3RSZWNvcmRlci5wcm90b3R5cGUuQUNUSU9OX1JFQ09SRCA9IGZ1bmN0aW9uIChpbXBsKSB7XG4gICAgICAgIC8vIE5PLU9QIGR1cmluZyByZWNvcmRpbmdcbiAgICAgICAgcmV0dXJuO1xuICAgIH07XG4gICAgLy8gRXhlY3V0aW5nIGJhY2t0cmFja2luZyBsb2dpYyB3aWxsIGJyZWFrIG91ciByZWNvcmRpbmcgbG9naWMgYXNzdW1wdGlvbnNcbiAgICBHYXN0UmVjb3JkZXIucHJvdG90eXBlLkJBQ0tUUkFDS19SRUNPUkQgPSBmdW5jdGlvbiAoZ3JhbW1hclJ1bGUsIGFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRydWU7IH07XG4gICAgfTtcbiAgICAvLyBMQSBpcyBwYXJ0IG9mIHRoZSBvZmZpY2lhbCBBUEkgYW5kIG1heSBiZSB1c2VkIGZvciBjdXN0b20gbG9va2FoZWFkIGxvZ2ljXG4gICAgLy8gYnkgZW5kIHVzZXJzIHdobyBtYXkgZm9yZ2V0IHRvIHdyYXAgaXQgaW4gQUNUSU9OIG9yIGluc2lkZSBhIEdBVEVcbiAgICBHYXN0UmVjb3JkZXIucHJvdG90eXBlLkxBX1JFQ09SRCA9IGZ1bmN0aW9uIChob3dNdWNoKSB7XG4gICAgICAgIC8vIFdlIGNhbm5vdCB1c2UgdGhlIFJFQ09SRF9QSEFTRV9UT0tFTiBoZXJlIGJlY2F1c2Ugc29tZW9uZSBtYXkgZGVwZW5kXG4gICAgICAgIC8vIE9uIExBIHJldHVybiBFT0YgYXQgdGhlIGVuZCBvZiB0aGUgaW5wdXQgc28gYW4gaW5maW5pdGUgbG9vcCBtYXkgb2NjdXIuXG4gICAgICAgIHJldHVybiBFTkRfT0ZfRklMRTtcbiAgICB9O1xuICAgIEdhc3RSZWNvcmRlci5wcm90b3R5cGUudG9wTGV2ZWxSdWxlUmVjb3JkID0gZnVuY3Rpb24gKG5hbWUsIGRlZikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIG5ld1RvcExldmVsUnVsZSA9IG5ldyBSdWxlKHsgZGVmaW5pdGlvbjogW10sIG5hbWU6IG5hbWUgfSk7XG4gICAgICAgICAgICBuZXdUb3BMZXZlbFJ1bGUubmFtZSA9IG5hbWU7XG4gICAgICAgICAgICB0aGlzLnJlY29yZGluZ1Byb2RTdGFjay5wdXNoKG5ld1RvcExldmVsUnVsZSk7XG4gICAgICAgICAgICBkZWYuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMucmVjb3JkaW5nUHJvZFN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgcmV0dXJuIG5ld1RvcExldmVsUnVsZTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAob3JpZ2luYWxFcnJvcikge1xuICAgICAgICAgICAgaWYgKG9yaWdpbmFsRXJyb3IuS05PV05fUkVDT1JERVJfRVJST1IgIT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEVycm9yLm1lc3NhZ2UgPVxuICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxFcnJvci5tZXNzYWdlICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnXFxuXFx0IFRoaXMgZXJyb3Igd2FzIHRocm93biBkdXJpbmcgdGhlIFwiZ3JhbW1hciByZWNvcmRpbmcgcGhhc2VcIiBGb3IgbW9yZSBpbmZvIHNlZTpcXG5cXHQnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImh0dHBzOi8vc2FwLmdpdGh1Yi5pby9jaGV2cm90YWluL2RvY3MvZ3VpZGUvaW50ZXJuYWxzLmh0bWwjZ3JhbW1hci1yZWNvcmRpbmdcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKG11dGFiaWxpdHlFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAvLyBXZSBtYXkgbm90IGJlIGFibGUgdG8gbW9kaWZ5IHRoZSBvcmlnaW5hbCBlcnJvciBvYmplY3RcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgb3JpZ2luYWxFcnJvcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBvcmlnaW5hbEVycm9yO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvLyBJbXBsZW1lbnRhdGlvbiBvZiBwYXJzaW5nIERTTFxuICAgIEdhc3RSZWNvcmRlci5wcm90b3R5cGUub3B0aW9uSW50ZXJuYWxSZWNvcmQgPSBmdW5jdGlvbiAoYWN0aW9uT1JNZXRob2REZWYsIG9jY3VycmVuY2UpIHtcbiAgICAgICAgcmV0dXJuIHJlY29yZFByb2QuY2FsbCh0aGlzLCBPcHRpb24sIGFjdGlvbk9STWV0aG9kRGVmLCBvY2N1cnJlbmNlKTtcbiAgICB9O1xuICAgIEdhc3RSZWNvcmRlci5wcm90b3R5cGUuYXRMZWFzdE9uZUludGVybmFsUmVjb3JkID0gZnVuY3Rpb24gKG9jY3VycmVuY2UsIGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHJlY29yZFByb2QuY2FsbCh0aGlzLCBSZXBldGl0aW9uTWFuZGF0b3J5LCBhY3Rpb25PUk1ldGhvZERlZiwgb2NjdXJyZW5jZSk7XG4gICAgfTtcbiAgICBHYXN0UmVjb3JkZXIucHJvdG90eXBlLmF0TGVhc3RPbmVTZXBGaXJzdEludGVybmFsUmVjb3JkID0gZnVuY3Rpb24gKG9jY3VycmVuY2UsIG9wdGlvbnMpIHtcbiAgICAgICAgcmVjb3JkUHJvZC5jYWxsKHRoaXMsIFJlcGV0aXRpb25NYW5kYXRvcnlXaXRoU2VwYXJhdG9yLCBvcHRpb25zLCBvY2N1cnJlbmNlLCBIQU5ETEVfU0VQQVJBVE9SKTtcbiAgICB9O1xuICAgIEdhc3RSZWNvcmRlci5wcm90b3R5cGUubWFueUludGVybmFsUmVjb3JkID0gZnVuY3Rpb24gKG9jY3VycmVuY2UsIGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHJlY29yZFByb2QuY2FsbCh0aGlzLCBSZXBldGl0aW9uLCBhY3Rpb25PUk1ldGhvZERlZiwgb2NjdXJyZW5jZSk7XG4gICAgfTtcbiAgICBHYXN0UmVjb3JkZXIucHJvdG90eXBlLm1hbnlTZXBGaXJzdEludGVybmFsUmVjb3JkID0gZnVuY3Rpb24gKG9jY3VycmVuY2UsIG9wdGlvbnMpIHtcbiAgICAgICAgcmVjb3JkUHJvZC5jYWxsKHRoaXMsIFJlcGV0aXRpb25XaXRoU2VwYXJhdG9yLCBvcHRpb25zLCBvY2N1cnJlbmNlLCBIQU5ETEVfU0VQQVJBVE9SKTtcbiAgICB9O1xuICAgIEdhc3RSZWNvcmRlci5wcm90b3R5cGUub3JJbnRlcm5hbFJlY29yZCA9IGZ1bmN0aW9uIChhbHRzT3JPcHRzLCBvY2N1cnJlbmNlKSB7XG4gICAgICAgIHJldHVybiByZWNvcmRPclByb2QuY2FsbCh0aGlzLCBhbHRzT3JPcHRzLCBvY2N1cnJlbmNlKTtcbiAgICB9O1xuICAgIEdhc3RSZWNvcmRlci5wcm90b3R5cGUuc3VicnVsZUludGVybmFsUmVjb3JkID0gZnVuY3Rpb24gKHJ1bGVUb0NhbGwsIG9jY3VycmVuY2UsIG9wdGlvbnMpIHtcbiAgICAgICAgYXNzZXJ0TWV0aG9kSWR4SXNWYWxpZChvY2N1cnJlbmNlKTtcbiAgICAgICAgaWYgKCFydWxlVG9DYWxsIHx8IGhhcyhydWxlVG9DYWxsLCBcInJ1bGVOYW1lXCIpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdmFyIGVycm9yID0gbmV3IEVycm9yKFwiPFNVQlJVTEVcIiArIGdldElkeFN1ZmZpeChvY2N1cnJlbmNlKSArIFwiPiBhcmd1bWVudCBpcyBpbnZhbGlkXCIgK1xuICAgICAgICAgICAgICAgIChcIiBleHBlY3RpbmcgYSBQYXJzZXIgbWV0aG9kIHJlZmVyZW5jZSBidXQgZ290OiA8XCIgKyBKU09OLnN0cmluZ2lmeShydWxlVG9DYWxsKSArIFwiPlwiKSArXG4gICAgICAgICAgICAgICAgKFwiXFxuIGluc2lkZSB0b3AgbGV2ZWwgcnVsZTogPFwiICsgdGhpcy5yZWNvcmRpbmdQcm9kU3RhY2tbMF0ubmFtZSArIFwiPlwiKSk7XG4gICAgICAgICAgICBlcnJvci5LTk9XTl9SRUNPUkRFUl9FUlJPUiA9IHRydWU7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcHJldlByb2QgPSBwZWVrKHRoaXMucmVjb3JkaW5nUHJvZFN0YWNrKTtcbiAgICAgICAgdmFyIHJ1bGVOYW1lID0gcnVsZVRvQ2FsbFtcInJ1bGVOYW1lXCJdO1xuICAgICAgICB2YXIgbmV3Tm9uZVRlcm1pbmFsID0gbmV3IE5vblRlcm1pbmFsKHtcbiAgICAgICAgICAgIGlkeDogb2NjdXJyZW5jZSxcbiAgICAgICAgICAgIG5vblRlcm1pbmFsTmFtZTogcnVsZU5hbWUsXG4gICAgICAgICAgICAvLyBUaGUgcmVzb2x2aW5nIG9mIHRoZSBgcmVmZXJlbmNlZFJ1bGVgIHByb3BlcnR5IHdpbGwgYmUgZG9uZSBvbmNlIGFsbCB0aGUgUnVsZSdzIEdBU1RzIGhhdmUgYmVlbiBjcmVhdGVkXG4gICAgICAgICAgICByZWZlcmVuY2VkUnVsZTogdW5kZWZpbmVkXG4gICAgICAgIH0pO1xuICAgICAgICBwcmV2UHJvZC5kZWZpbml0aW9uLnB1c2gobmV3Tm9uZVRlcm1pbmFsKTtcbiAgICAgICAgcmV0dXJuIHRoaXMub3V0cHV0Q3N0ID8gUkVDT1JESU5HX1BIQVNFX0NTVE5PREUgOiBSRUNPUkRJTkdfTlVMTF9PQkpFQ1Q7XG4gICAgfTtcbiAgICBHYXN0UmVjb3JkZXIucHJvdG90eXBlLmNvbnN1bWVJbnRlcm5hbFJlY29yZCA9IGZ1bmN0aW9uICh0b2tUeXBlLCBvY2N1cnJlbmNlLCBvcHRpb25zKSB7XG4gICAgICAgIGFzc2VydE1ldGhvZElkeElzVmFsaWQob2NjdXJyZW5jZSk7XG4gICAgICAgIGlmICghaGFzU2hvcnRLZXlQcm9wZXJ0eSh0b2tUeXBlKSkge1xuICAgICAgICAgICAgdmFyIGVycm9yID0gbmV3IEVycm9yKFwiPENPTlNVTUVcIiArIGdldElkeFN1ZmZpeChvY2N1cnJlbmNlKSArIFwiPiBhcmd1bWVudCBpcyBpbnZhbGlkXCIgK1xuICAgICAgICAgICAgICAgIChcIiBleHBlY3RpbmcgYSBUb2tlblR5cGUgcmVmZXJlbmNlIGJ1dCBnb3Q6IDxcIiArIEpTT04uc3RyaW5naWZ5KHRva1R5cGUpICsgXCI+XCIpICtcbiAgICAgICAgICAgICAgICAoXCJcXG4gaW5zaWRlIHRvcCBsZXZlbCBydWxlOiA8XCIgKyB0aGlzLnJlY29yZGluZ1Byb2RTdGFja1swXS5uYW1lICsgXCI+XCIpKTtcbiAgICAgICAgICAgIGVycm9yLktOT1dOX1JFQ09SREVSX0VSUk9SID0gdHJ1ZTtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwcmV2UHJvZCA9IHBlZWsodGhpcy5yZWNvcmRpbmdQcm9kU3RhY2spO1xuICAgICAgICB2YXIgbmV3Tm9uZVRlcm1pbmFsID0gbmV3IFRlcm1pbmFsKHtcbiAgICAgICAgICAgIGlkeDogb2NjdXJyZW5jZSxcbiAgICAgICAgICAgIHRlcm1pbmFsVHlwZTogdG9rVHlwZVxuICAgICAgICB9KTtcbiAgICAgICAgcHJldlByb2QuZGVmaW5pdGlvbi5wdXNoKG5ld05vbmVUZXJtaW5hbCk7XG4gICAgICAgIHJldHVybiBSRUNPUkRJTkdfUEhBU0VfVE9LRU47XG4gICAgfTtcbiAgICByZXR1cm4gR2FzdFJlY29yZGVyO1xufSgpKTtcbmV4cG9ydCB7IEdhc3RSZWNvcmRlciB9O1xuZnVuY3Rpb24gcmVjb3JkUHJvZChwcm9kQ29uc3RydWN0b3IsIG1haW5Qcm9kQXJnLCBvY2N1cnJlbmNlLCBoYW5kbGVTZXApIHtcbiAgICBpZiAoaGFuZGxlU2VwID09PSB2b2lkIDApIHsgaGFuZGxlU2VwID0gZmFsc2U7IH1cbiAgICBhc3NlcnRNZXRob2RJZHhJc1ZhbGlkKG9jY3VycmVuY2UpO1xuICAgIHZhciBwcmV2UHJvZCA9IHBlZWsodGhpcy5yZWNvcmRpbmdQcm9kU3RhY2spO1xuICAgIHZhciBncmFtbWFyQWN0aW9uID0gaXNGdW5jdGlvbihtYWluUHJvZEFyZykgPyBtYWluUHJvZEFyZyA6IG1haW5Qcm9kQXJnLkRFRjtcbiAgICB2YXIgbmV3UHJvZCA9IG5ldyBwcm9kQ29uc3RydWN0b3IoeyBkZWZpbml0aW9uOiBbXSwgaWR4OiBvY2N1cnJlbmNlIH0pO1xuICAgIGlmIChoYW5kbGVTZXApIHtcbiAgICAgICAgbmV3UHJvZC5zZXBhcmF0b3IgPSBtYWluUHJvZEFyZy5TRVA7XG4gICAgfVxuICAgIGlmIChoYXMobWFpblByb2RBcmcsIFwiTUFYX0xPT0tBSEVBRFwiKSkge1xuICAgICAgICBuZXdQcm9kLm1heExvb2thaGVhZCA9IG1haW5Qcm9kQXJnLk1BWF9MT09LQUhFQUQ7XG4gICAgfVxuICAgIHRoaXMucmVjb3JkaW5nUHJvZFN0YWNrLnB1c2gobmV3UHJvZCk7XG4gICAgZ3JhbW1hckFjdGlvbi5jYWxsKHRoaXMpO1xuICAgIHByZXZQcm9kLmRlZmluaXRpb24ucHVzaChuZXdQcm9kKTtcbiAgICB0aGlzLnJlY29yZGluZ1Byb2RTdGFjay5wb3AoKTtcbiAgICByZXR1cm4gUkVDT1JESU5HX05VTExfT0JKRUNUO1xufVxuZnVuY3Rpb24gcmVjb3JkT3JQcm9kKG1haW5Qcm9kQXJnLCBvY2N1cnJlbmNlKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICBhc3NlcnRNZXRob2RJZHhJc1ZhbGlkKG9jY3VycmVuY2UpO1xuICAgIHZhciBwcmV2UHJvZCA9IHBlZWsodGhpcy5yZWNvcmRpbmdQcm9kU3RhY2spO1xuICAgIC8vIE9ubHkgYW4gYXJyYXkgb2YgYWx0ZXJuYXRpdmVzXG4gICAgdmFyIGhhc09wdGlvbnMgPSBpc0FycmF5KG1haW5Qcm9kQXJnKSA9PT0gZmFsc2U7XG4gICAgdmFyIGFsdHMgPSBoYXNPcHRpb25zID09PSBmYWxzZSA/IG1haW5Qcm9kQXJnIDogbWFpblByb2RBcmcuREVGO1xuICAgIHZhciBuZXdPclByb2QgPSBuZXcgQWx0ZXJuYXRpb24oe1xuICAgICAgICBkZWZpbml0aW9uOiBbXSxcbiAgICAgICAgaWR4OiBvY2N1cnJlbmNlLFxuICAgICAgICBpZ25vcmVBbWJpZ3VpdGllczogaGFzT3B0aW9ucyAmJiBtYWluUHJvZEFyZy5JR05PUkVfQU1CSUdVSVRJRVMgPT09IHRydWVcbiAgICB9KTtcbiAgICBpZiAoaGFzKG1haW5Qcm9kQXJnLCBcIk1BWF9MT09LQUhFQURcIikpIHtcbiAgICAgICAgbmV3T3JQcm9kLm1heExvb2thaGVhZCA9IG1haW5Qcm9kQXJnLk1BWF9MT09LQUhFQUQ7XG4gICAgfVxuICAgIHZhciBoYXNQcmVkaWNhdGVzID0gc29tZShhbHRzLCBmdW5jdGlvbiAoY3VyckFsdCkgeyByZXR1cm4gaXNGdW5jdGlvbihjdXJyQWx0LkdBVEUpOyB9KTtcbiAgICBuZXdPclByb2QuaGFzUHJlZGljYXRlcyA9IGhhc1ByZWRpY2F0ZXM7XG4gICAgcHJldlByb2QuZGVmaW5pdGlvbi5wdXNoKG5ld09yUHJvZCk7XG4gICAgZm9yRWFjaChhbHRzLCBmdW5jdGlvbiAoY3VyckFsdCkge1xuICAgICAgICB2YXIgY3VyckFsdEZsYXQgPSBuZXcgQWx0ZXJuYXRpdmUoeyBkZWZpbml0aW9uOiBbXSB9KTtcbiAgICAgICAgbmV3T3JQcm9kLmRlZmluaXRpb24ucHVzaChjdXJyQWx0RmxhdCk7XG4gICAgICAgIGlmIChoYXMoY3VyckFsdCwgXCJJR05PUkVfQU1CSUdVSVRJRVNcIikpIHtcbiAgICAgICAgICAgIGN1cnJBbHRGbGF0Lmlnbm9yZUFtYmlndWl0aWVzID0gY3VyckFsdC5JR05PUkVfQU1CSUdVSVRJRVM7XG4gICAgICAgIH1cbiAgICAgICAgLy8gKippbXBsaWNpdCoqIGlnbm9yZUFtYmlndWl0aWVzIGR1ZSB0byB1c2FnZSBvZiBnYXRlXG4gICAgICAgIGVsc2UgaWYgKGhhcyhjdXJyQWx0LCBcIkdBVEVcIikpIHtcbiAgICAgICAgICAgIGN1cnJBbHRGbGF0Lmlnbm9yZUFtYmlndWl0aWVzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcy5yZWNvcmRpbmdQcm9kU3RhY2sucHVzaChjdXJyQWx0RmxhdCk7XG4gICAgICAgIGN1cnJBbHQuQUxULmNhbGwoX3RoaXMpO1xuICAgICAgICBfdGhpcy5yZWNvcmRpbmdQcm9kU3RhY2sucG9wKCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIFJFQ09SRElOR19OVUxMX09CSkVDVDtcbn1cbmZ1bmN0aW9uIGdldElkeFN1ZmZpeChpZHgpIHtcbiAgICByZXR1cm4gaWR4ID09PSAwID8gXCJcIiA6IFwiXCIgKyBpZHg7XG59XG5mdW5jdGlvbiBhc3NlcnRNZXRob2RJZHhJc1ZhbGlkKGlkeCkge1xuICAgIGlmIChpZHggPCAwIHx8IGlkeCA+IE1BWF9NRVRIT0RfSURYKSB7XG4gICAgICAgIHZhciBlcnJvciA9IG5ldyBFcnJvcihcbiAgICAgICAgLy8gVGhlIHN0YWNrIHRyYWNlIHdpbGwgY29udGFpbiBhbGwgdGhlIG5lZWRlZCBkZXRhaWxzXG4gICAgICAgIFwiSW52YWxpZCBEU0wgTWV0aG9kIGlkeCB2YWx1ZTogPFwiICsgaWR4ICsgXCI+XFxuXFx0XCIgK1xuICAgICAgICAgICAgKFwiSWR4IHZhbHVlIG11c3QgYmUgYSBub25lIG5lZ2F0aXZlIHZhbHVlIHNtYWxsZXIgdGhhbiBcIiArIChNQVhfTUVUSE9EX0lEWCArIDEpKSk7XG4gICAgICAgIGVycm9yLktOT1dOX1JFQ09SREVSX0VSUk9SID0gdHJ1ZTtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2FzdF9yZWNvcmRlci5qcy5tYXAiLCJpbXBvcnQgeyBoYXMsIHRpbWVyIH0gZnJvbSBcIi4uLy4uLy4uL3V0aWxzL3V0aWxzXCI7XG5pbXBvcnQgeyBERUZBVUxUX1BBUlNFUl9DT05GSUcgfSBmcm9tIFwiLi4vcGFyc2VyXCI7XG4vKipcbiAqIFRyYWl0IHJlc3BvbnNpYmxlIGZvciBydW50aW1lIHBhcnNpbmcgZXJyb3JzLlxuICovXG52YXIgUGVyZm9ybWFuY2VUcmFjZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUGVyZm9ybWFuY2VUcmFjZXIoKSB7XG4gICAgfVxuICAgIFBlcmZvcm1hbmNlVHJhY2VyLnByb3RvdHlwZS5pbml0UGVyZm9ybWFuY2VUcmFjZXIgPSBmdW5jdGlvbiAoY29uZmlnKSB7XG4gICAgICAgIGlmIChoYXMoY29uZmlnLCBcInRyYWNlSW5pdFBlcmZcIikpIHtcbiAgICAgICAgICAgIHZhciB1c2VyVHJhY2VJbml0UGVyZiA9IGNvbmZpZy50cmFjZUluaXRQZXJmO1xuICAgICAgICAgICAgdmFyIHRyYWNlSXNOdW1iZXIgPSB0eXBlb2YgdXNlclRyYWNlSW5pdFBlcmYgPT09IFwibnVtYmVyXCI7XG4gICAgICAgICAgICB0aGlzLnRyYWNlSW5pdE1heElkZW50ID0gdHJhY2VJc051bWJlclxuICAgICAgICAgICAgICAgID8gdXNlclRyYWNlSW5pdFBlcmZcbiAgICAgICAgICAgICAgICA6IEluZmluaXR5O1xuICAgICAgICAgICAgdGhpcy50cmFjZUluaXRQZXJmID0gdHJhY2VJc051bWJlclxuICAgICAgICAgICAgICAgID8gdXNlclRyYWNlSW5pdFBlcmYgPiAwXG4gICAgICAgICAgICAgICAgOiB1c2VyVHJhY2VJbml0UGVyZjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudHJhY2VJbml0TWF4SWRlbnQgPSAwO1xuICAgICAgICAgICAgdGhpcy50cmFjZUluaXRQZXJmID0gREVGQVVMVF9QQVJTRVJfQ09ORklHLnRyYWNlSW5pdFBlcmY7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50cmFjZUluaXRJbmRlbnQgPSAtMTtcbiAgICB9O1xuICAgIFBlcmZvcm1hbmNlVHJhY2VyLnByb3RvdHlwZS5UUkFDRV9JTklUID0gZnVuY3Rpb24gKHBoYXNlRGVzYywgcGhhc2VJbXBsKSB7XG4gICAgICAgIC8vIE5vIG5lZWQgdG8gb3B0aW1pemUgdGhpcyB1c2luZyBOT09QIHBhdHRlcm4gYmVjYXVzZVxuICAgICAgICAvLyBJdCBpcyBub3QgY2FsbGVkIGluIGEgaG90IHNwb3QuLi5cbiAgICAgICAgaWYgKHRoaXMudHJhY2VJbml0UGVyZiA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgdGhpcy50cmFjZUluaXRJbmRlbnQrKztcbiAgICAgICAgICAgIHZhciBpbmRlbnQgPSBuZXcgQXJyYXkodGhpcy50cmFjZUluaXRJbmRlbnQgKyAxKS5qb2luKFwiXFx0XCIpO1xuICAgICAgICAgICAgaWYgKHRoaXMudHJhY2VJbml0SW5kZW50IDwgdGhpcy50cmFjZUluaXRNYXhJZGVudCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGluZGVudCArIFwiLS0+IDxcIiArIHBoYXNlRGVzYyArIFwiPlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBfYSA9IHRpbWVyKHBoYXNlSW1wbCksIHRpbWUgPSBfYS50aW1lLCB2YWx1ZSA9IF9hLnZhbHVlO1xuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgLSBEaWZmaWN1bHQgdG8gcmVwcm9kdWNlIHNwZWNpZmljIHBlcmZvcm1hbmNlIGJlaGF2aW9yICg+MTBtcykgaW4gdGVzdHMgKi9cbiAgICAgICAgICAgIHZhciB0cmFjZU1ldGhvZCA9IHRpbWUgPiAxMCA/IGNvbnNvbGUud2FybiA6IGNvbnNvbGUubG9nO1xuICAgICAgICAgICAgaWYgKHRoaXMudHJhY2VJbml0SW5kZW50IDwgdGhpcy50cmFjZUluaXRNYXhJZGVudCkge1xuICAgICAgICAgICAgICAgIHRyYWNlTWV0aG9kKGluZGVudCArIFwiPC0tIDxcIiArIHBoYXNlRGVzYyArIFwiPiB0aW1lOiBcIiArIHRpbWUgKyBcIm1zXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy50cmFjZUluaXRJbmRlbnQtLTtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBwaGFzZUltcGwoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFBlcmZvcm1hbmNlVHJhY2VyO1xufSgpKTtcbmV4cG9ydCB7IFBlcmZvcm1hbmNlVHJhY2VyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wZXJmX3RyYWNlci5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbmltcG9ydCB7IGFwcGx5TWl4aW5zLCBjbG9uZU9iaiwgZm9yRWFjaCwgaGFzLCBpc0VtcHR5LCBtYXAsIHRvRmFzdFByb3BlcnRpZXMsIHZhbHVlcyB9IGZyb20gXCIuLi8uLi91dGlscy91dGlsc1wiO1xuaW1wb3J0IHsgY29tcHV0ZUFsbFByb2RzRm9sbG93cyB9IGZyb20gXCIuLi9ncmFtbWFyL2ZvbGxvd1wiO1xuaW1wb3J0IHsgY3JlYXRlVG9rZW5JbnN0YW5jZSwgRU9GIH0gZnJvbSBcIi4uLy4uL3NjYW4vdG9rZW5zX3B1YmxpY1wiO1xuaW1wb3J0IHsgZGVmYXVsdEdyYW1tYXJWYWxpZGF0b3JFcnJvclByb3ZpZGVyLCBkZWZhdWx0UGFyc2VyRXJyb3JQcm92aWRlciB9IGZyb20gXCIuLi9lcnJvcnNfcHVibGljXCI7XG5pbXBvcnQgeyByZXNvbHZlR3JhbW1hciwgdmFsaWRhdGVHcmFtbWFyIH0gZnJvbSBcIi4uL2dyYW1tYXIvZ2FzdC9nYXN0X3Jlc29sdmVyX3B1YmxpY1wiO1xuaW1wb3J0IHsgUmVjb3ZlcmFibGUgfSBmcm9tIFwiLi90cmFpdHMvcmVjb3ZlcmFibGVcIjtcbmltcG9ydCB7IExvb2tzQWhlYWQgfSBmcm9tIFwiLi90cmFpdHMvbG9va3NhaGVhZFwiO1xuaW1wb3J0IHsgVHJlZUJ1aWxkZXIgfSBmcm9tIFwiLi90cmFpdHMvdHJlZV9idWlsZGVyXCI7XG5pbXBvcnQgeyBMZXhlckFkYXB0ZXIgfSBmcm9tIFwiLi90cmFpdHMvbGV4ZXJfYWRhcHRlclwiO1xuaW1wb3J0IHsgUmVjb2duaXplckFwaSB9IGZyb20gXCIuL3RyYWl0cy9yZWNvZ25pemVyX2FwaVwiO1xuaW1wb3J0IHsgUmVjb2duaXplckVuZ2luZSB9IGZyb20gXCIuL3RyYWl0cy9yZWNvZ25pemVyX2VuZ2luZVwiO1xuaW1wb3J0IHsgRXJyb3JIYW5kbGVyIH0gZnJvbSBcIi4vdHJhaXRzL2Vycm9yX2hhbmRsZXJcIjtcbmltcG9ydCB7IENvbnRlbnRBc3Npc3QgfSBmcm9tIFwiLi90cmFpdHMvY29udGV4dF9hc3Npc3RcIjtcbmltcG9ydCB7IEdhc3RSZWNvcmRlciB9IGZyb20gXCIuL3RyYWl0cy9nYXN0X3JlY29yZGVyXCI7XG5pbXBvcnQgeyBQZXJmb3JtYW5jZVRyYWNlciB9IGZyb20gXCIuL3RyYWl0cy9wZXJmX3RyYWNlclwiO1xuZXhwb3J0IHZhciBFTkRfT0ZfRklMRSA9IGNyZWF0ZVRva2VuSW5zdGFuY2UoRU9GLCBcIlwiLCBOYU4sIE5hTiwgTmFOLCBOYU4sIE5hTiwgTmFOKTtcbk9iamVjdC5mcmVlemUoRU5EX09GX0ZJTEUpO1xuZXhwb3J0IHZhciBERUZBVUxUX1BBUlNFUl9DT05GSUcgPSBPYmplY3QuZnJlZXplKHtcbiAgICByZWNvdmVyeUVuYWJsZWQ6IGZhbHNlLFxuICAgIG1heExvb2thaGVhZDogMyxcbiAgICBkeW5hbWljVG9rZW5zRW5hYmxlZDogZmFsc2UsXG4gICAgb3V0cHV0Q3N0OiB0cnVlLFxuICAgIGVycm9yTWVzc2FnZVByb3ZpZGVyOiBkZWZhdWx0UGFyc2VyRXJyb3JQcm92aWRlcixcbiAgICBub2RlTG9jYXRpb25UcmFja2luZzogXCJub25lXCIsXG4gICAgdHJhY2VJbml0UGVyZjogZmFsc2UsXG4gICAgc2tpcFZhbGlkYXRpb25zOiBmYWxzZVxufSk7XG5leHBvcnQgdmFyIERFRkFVTFRfUlVMRV9DT05GSUcgPSBPYmplY3QuZnJlZXplKHtcbiAgICByZWNvdmVyeVZhbHVlRnVuYzogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgIHJlc3luY0VuYWJsZWQ6IHRydWVcbn0pO1xuZXhwb3J0IHZhciBQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlO1xuKGZ1bmN0aW9uIChQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlKSB7XG4gICAgUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZVtQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlW1wiSU5WQUxJRF9SVUxFX05BTUVcIl0gPSAwXSA9IFwiSU5WQUxJRF9SVUxFX05BTUVcIjtcbiAgICBQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlW1BhcnNlckRlZmluaXRpb25FcnJvclR5cGVbXCJEVVBMSUNBVEVfUlVMRV9OQU1FXCJdID0gMV0gPSBcIkRVUExJQ0FURV9SVUxFX05BTUVcIjtcbiAgICBQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlW1BhcnNlckRlZmluaXRpb25FcnJvclR5cGVbXCJJTlZBTElEX1JVTEVfT1ZFUlJJREVcIl0gPSAyXSA9IFwiSU5WQUxJRF9SVUxFX09WRVJSSURFXCI7XG4gICAgUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZVtQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlW1wiRFVQTElDQVRFX1BST0RVQ1RJT05TXCJdID0gM10gPSBcIkRVUExJQ0FURV9QUk9EVUNUSU9OU1wiO1xuICAgIFBhcnNlckRlZmluaXRpb25FcnJvclR5cGVbUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZVtcIlVOUkVTT0xWRURfU1VCUlVMRV9SRUZcIl0gPSA0XSA9IFwiVU5SRVNPTFZFRF9TVUJSVUxFX1JFRlwiO1xuICAgIFBhcnNlckRlZmluaXRpb25FcnJvclR5cGVbUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZVtcIkxFRlRfUkVDVVJTSU9OXCJdID0gNV0gPSBcIkxFRlRfUkVDVVJTSU9OXCI7XG4gICAgUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZVtQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlW1wiTk9ORV9MQVNUX0VNUFRZX0FMVFwiXSA9IDZdID0gXCJOT05FX0xBU1RfRU1QVFlfQUxUXCI7XG4gICAgUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZVtQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlW1wiQU1CSUdVT1VTX0FMVFNcIl0gPSA3XSA9IFwiQU1CSUdVT1VTX0FMVFNcIjtcbiAgICBQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlW1BhcnNlckRlZmluaXRpb25FcnJvclR5cGVbXCJDT05GTElDVF9UT0tFTlNfUlVMRVNfTkFNRVNQQUNFXCJdID0gOF0gPSBcIkNPTkZMSUNUX1RPS0VOU19SVUxFU19OQU1FU1BBQ0VcIjtcbiAgICBQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlW1BhcnNlckRlZmluaXRpb25FcnJvclR5cGVbXCJJTlZBTElEX1RPS0VOX05BTUVcIl0gPSA5XSA9IFwiSU5WQUxJRF9UT0tFTl9OQU1FXCI7XG4gICAgUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZVtQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlW1wiTk9fTk9OX0VNUFRZX0xPT0tBSEVBRFwiXSA9IDEwXSA9IFwiTk9fTk9OX0VNUFRZX0xPT0tBSEVBRFwiO1xuICAgIFBhcnNlckRlZmluaXRpb25FcnJvclR5cGVbUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZVtcIkFNQklHVU9VU19QUkVGSVhfQUxUU1wiXSA9IDExXSA9IFwiQU1CSUdVT1VTX1BSRUZJWF9BTFRTXCI7XG4gICAgUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZVtQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlW1wiVE9PX01BTllfQUxUU1wiXSA9IDEyXSA9IFwiVE9PX01BTllfQUxUU1wiO1xufSkoUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZSB8fCAoUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZSA9IHt9KSk7XG5leHBvcnQgZnVuY3Rpb24gRU1QVFlfQUxUKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlID09PSB2b2lkIDApIHsgdmFsdWUgPSB1bmRlZmluZWQ7IH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcbn1cbnZhciBQYXJzZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUGFyc2VyKHRva2VuVm9jYWJ1bGFyeSwgY29uZmlnKSB7XG4gICAgICAgIHRoaXMuZGVmaW5pdGlvbkVycm9ycyA9IFtdO1xuICAgICAgICB0aGlzLnNlbGZBbmFseXNpc0RvbmUgPSBmYWxzZTtcbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICB0aGF0LmluaXRFcnJvckhhbmRsZXIoY29uZmlnKTtcbiAgICAgICAgdGhhdC5pbml0TGV4ZXJBZGFwdGVyKCk7XG4gICAgICAgIHRoYXQuaW5pdExvb2tzQWhlYWQoY29uZmlnKTtcbiAgICAgICAgdGhhdC5pbml0UmVjb2duaXplckVuZ2luZSh0b2tlblZvY2FidWxhcnksIGNvbmZpZyk7XG4gICAgICAgIHRoYXQuaW5pdFJlY292ZXJhYmxlKGNvbmZpZyk7XG4gICAgICAgIHRoYXQuaW5pdFRyZWVCdWlsZGVyKGNvbmZpZyk7XG4gICAgICAgIHRoYXQuaW5pdENvbnRlbnRBc3Npc3QoKTtcbiAgICAgICAgdGhhdC5pbml0R2FzdFJlY29yZGVyKGNvbmZpZyk7XG4gICAgICAgIHRoYXQuaW5pdFBlcmZvcm1hbmNlVHJhY2VyKGNvbmZpZyk7XG4gICAgICAgIGlmIChoYXMoY29uZmlnLCBcImlnbm9yZWRJc3N1ZXNcIikpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoZSA8aWdub3JlZElzc3Vlcz4gSVBhcnNlckNvbmZpZyBwcm9wZXJ0eSBoYXMgYmVlbiBkZXByZWNhdGVkLlxcblxcdFwiICtcbiAgICAgICAgICAgICAgICBcIlBsZWFzZSB1c2UgdGhlIDxJR05PUkVfQU1CSUdVSVRJRVM+IGZsYWcgb24gdGhlIHJlbGV2YW50IERTTCBtZXRob2QgaW5zdGVhZC5cXG5cXHRcIiArXG4gICAgICAgICAgICAgICAgXCJTZWU6IGh0dHBzOi8vc2FwLmdpdGh1Yi5pby9jaGV2cm90YWluL2RvY3MvZ3VpZGUvcmVzb2x2aW5nX2dyYW1tYXJfZXJyb3JzLmh0bWwjSUdOT1JJTkdfQU1CSUdVSVRJRVNcXG5cXHRcIiArXG4gICAgICAgICAgICAgICAgXCJGb3IgZnVydGhlciBkZXRhaWxzLlwiKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNraXBWYWxpZGF0aW9ucyA9IGhhcyhjb25maWcsIFwic2tpcFZhbGlkYXRpb25zXCIpXG4gICAgICAgICAgICA/IGNvbmZpZy5za2lwVmFsaWRhdGlvbnNcbiAgICAgICAgICAgIDogREVGQVVMVF9QQVJTRVJfQ09ORklHLnNraXBWYWxpZGF0aW9ucztcbiAgICB9XG4gICAgLyoqXG4gICAgICogIEBkZXByZWNhdGVkIHVzZSB0aGUgKippbnN0YW5jZSoqIG1ldGhvZCB3aXRoIHRoZSBzYW1lIG5hbWUgaW5zdGVhZFxuICAgICAqL1xuICAgIFBhcnNlci5wZXJmb3JtU2VsZkFuYWx5c2lzID0gZnVuY3Rpb24gKHBhcnNlckluc3RhbmNlKSB7XG4gICAgICAgIHRocm93IEVycm9yKFwiVGhlICoqc3RhdGljKiogYHBlcmZvcm1TZWxmQW5hbHlzaXNgIG1ldGhvZCBoYXMgYmVlbiBkZXByZWNhdGVkLlwiICtcbiAgICAgICAgICAgIFwiXFx0XFxuVXNlIHRoZSAqKmluc3RhbmNlKiogbWV0aG9kIHdpdGggdGhlIHNhbWUgbmFtZSBpbnN0ZWFkLlwiKTtcbiAgICB9O1xuICAgIFBhcnNlci5wcm90b3R5cGUucGVyZm9ybVNlbGZBbmFseXNpcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5UUkFDRV9JTklUKFwicGVyZm9ybVNlbGZBbmFseXNpc1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZGVmRXJyb3JzTXNncztcbiAgICAgICAgICAgIF90aGlzLnNlbGZBbmFseXNpc0RvbmUgPSB0cnVlO1xuICAgICAgICAgICAgdmFyIGNsYXNzTmFtZSA9IF90aGlzLmNsYXNzTmFtZTtcbiAgICAgICAgICAgIF90aGlzLlRSQUNFX0lOSVQoXCJ0b0Zhc3RQcm9wc1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgLy8gV2l0aG91dCB0aGlzIHZvb2RvbyBtYWdpYyB0aGUgcGFyc2VyIHdvdWxkIGJlIHgzLXg0IHNsb3dlclxuICAgICAgICAgICAgICAgIC8vIEl0IHNlZW1zIGl0IGlzIGJldHRlciB0byBpbnZva2UgYHRvRmFzdFByb3BlcnRpZXNgICoqYmVmb3JlKipcbiAgICAgICAgICAgICAgICAvLyBBbnkgbWFuaXB1bGF0aW9ucyBvZiB0aGUgYHRoaXNgIG9iamVjdCBkb25lIGR1cmluZyB0aGUgcmVjb3JkaW5nIHBoYXNlLlxuICAgICAgICAgICAgICAgIHRvRmFzdFByb3BlcnRpZXMoX3RoaXMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBfdGhpcy5UUkFDRV9JTklUKFwiR3JhbW1hciBSZWNvcmRpbmdcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmVuYWJsZVJlY29yZGluZygpO1xuICAgICAgICAgICAgICAgICAgICAvLyBCdWlsZGluZyB0aGUgR0FTVFxuICAgICAgICAgICAgICAgICAgICBmb3JFYWNoKF90aGlzLmRlZmluZWRSdWxlc05hbWVzLCBmdW5jdGlvbiAoY3VyclJ1bGVOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgd3JhcHBlZFJ1bGUgPSBfdGhpc1tjdXJyUnVsZU5hbWVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9yaWdpbmFsR3JhbW1hckFjdGlvbiA9IHdyYXBwZWRSdWxlW1wib3JpZ2luYWxHcmFtbWFyQWN0aW9uXCJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlY29yZGVkUnVsZUdhc3QgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5UUkFDRV9JTklUKGN1cnJSdWxlTmFtZSArIFwiIFJ1bGVcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlY29yZGVkUnVsZUdhc3QgPSBfdGhpcy50b3BMZXZlbFJ1bGVSZWNvcmQoY3VyclJ1bGVOYW1lLCBvcmlnaW5hbEdyYW1tYXJBY3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5nYXN0UHJvZHVjdGlvbnNDYWNoZVtjdXJyUnVsZU5hbWVdID0gcmVjb3JkZWRSdWxlR2FzdDtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5kaXNhYmxlUmVjb3JkaW5nKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgcmVzb2x2ZXJFcnJvcnMgPSBbXTtcbiAgICAgICAgICAgIF90aGlzLlRSQUNFX0lOSVQoXCJHcmFtbWFyIFJlc29sdmluZ1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZXJFcnJvcnMgPSByZXNvbHZlR3JhbW1hcih7XG4gICAgICAgICAgICAgICAgICAgIHJ1bGVzOiB2YWx1ZXMoX3RoaXMuZ2FzdFByb2R1Y3Rpb25zQ2FjaGUpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgX3RoaXMuZGVmaW5pdGlvbkVycm9ycy5wdXNoLmFwcGx5KF90aGlzLmRlZmluaXRpb25FcnJvcnMsIHJlc29sdmVyRXJyb3JzKTsgLy8gbXV0YWJpbGl0eSBmb3IgdGhlIHdpbj9cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgX3RoaXMuVFJBQ0VfSU5JVChcIkdyYW1tYXIgVmFsaWRhdGlvbnNcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIC8vIG9ubHkgcGVyZm9ybSBhZGRpdGlvbmFsIGdyYW1tYXIgdmFsaWRhdGlvbnMgSUZGIG5vIHJlc29sdmluZyBlcnJvcnMgaGF2ZSBvY2N1cnJlZC5cbiAgICAgICAgICAgICAgICAvLyBhcyB1bnJlc29sdmVkIGdyYW1tYXIgbWF5IGxlYWQgdG8gdW5oYW5kbGVkIHJ1bnRpbWUgZXhjZXB0aW9ucyBpbiB0aGUgZm9sbG93IHVwIHZhbGlkYXRpb25zLlxuICAgICAgICAgICAgICAgIGlmIChpc0VtcHR5KHJlc29sdmVyRXJyb3JzKSAmJiBfdGhpcy5za2lwVmFsaWRhdGlvbnMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWxpZGF0aW9uRXJyb3JzID0gdmFsaWRhdGVHcmFtbWFyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzOiB2YWx1ZXMoX3RoaXMuZ2FzdFByb2R1Y3Rpb25zQ2FjaGUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4TG9va2FoZWFkOiBfdGhpcy5tYXhMb29rYWhlYWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2tlblR5cGVzOiB2YWx1ZXMoX3RoaXMudG9rZW5zTWFwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVyck1zZ1Byb3ZpZGVyOiBkZWZhdWx0R3JhbW1hclZhbGlkYXRvckVycm9yUHJvdmlkZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBncmFtbWFyTmFtZTogY2xhc3NOYW1lXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5kZWZpbml0aW9uRXJyb3JzLnB1c2guYXBwbHkoX3RoaXMuZGVmaW5pdGlvbkVycm9ycywgdmFsaWRhdGlvbkVycm9ycyk7IC8vIG11dGFiaWxpdHkgZm9yIHRoZSB3aW4/XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyB0aGlzIGFuYWx5c2lzIG1heSBmYWlsIGlmIHRoZSBncmFtbWFyIGlzIG5vdCBwZXJmZWN0bHkgdmFsaWRcbiAgICAgICAgICAgIGlmIChpc0VtcHR5KF90aGlzLmRlZmluaXRpb25FcnJvcnMpKSB7XG4gICAgICAgICAgICAgICAgLy8gVGhlIHJlc3VsdHMgb2YgdGhlc2UgY29tcHV0YXRpb25zIGFyZSBub3QgbmVlZGVkIHVubGVzcyBlcnJvciByZWNvdmVyeSBpcyBlbmFibGVkLlxuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5yZWNvdmVyeUVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuVFJBQ0VfSU5JVChcImNvbXB1dGVBbGxQcm9kc0ZvbGxvd3NcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFsbEZvbGxvd3MgPSBjb21wdXRlQWxsUHJvZHNGb2xsb3dzKHZhbHVlcyhfdGhpcy5nYXN0UHJvZHVjdGlvbnNDYWNoZSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucmVzeW5jRm9sbG93cyA9IGFsbEZvbGxvd3M7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfdGhpcy5UUkFDRV9JTklUKFwiQ29tcHV0ZUxvb2thaGVhZEZ1bmN0aW9uc1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnByZUNvbXB1dGVMb29rYWhlYWRGdW5jdGlvbnModmFsdWVzKF90aGlzLmdhc3RQcm9kdWN0aW9uc0NhY2hlKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIVBhcnNlci5ERUZFUl9ERUZJTklUSU9OX0VSUk9SU19IQU5ETElORyAmJlxuICAgICAgICAgICAgICAgICFpc0VtcHR5KF90aGlzLmRlZmluaXRpb25FcnJvcnMpKSB7XG4gICAgICAgICAgICAgICAgZGVmRXJyb3JzTXNncyA9IG1hcChfdGhpcy5kZWZpbml0aW9uRXJyb3JzLCBmdW5jdGlvbiAoZGVmRXJyb3IpIHsgcmV0dXJuIGRlZkVycm9yLm1lc3NhZ2U7IH0pO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlBhcnNlciBEZWZpbml0aW9uIEVycm9ycyBkZXRlY3RlZDpcXG4gXCIgKyBkZWZFcnJvcnNNc2dzLmpvaW4oXCJcXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXFxuXCIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvLyBTZXQgdGhpcyBmbGFnIHRvIHRydWUgaWYgeW91IGRvbid0IHdhbnQgdGhlIFBhcnNlciB0byB0aHJvdyBlcnJvciB3aGVuIHByb2JsZW1zIGluIGl0J3MgZGVmaW5pdGlvbiBhcmUgZGV0ZWN0ZWQuXG4gICAgLy8gKG5vcm1hbGx5IGR1cmluZyB0aGUgcGFyc2VyJ3MgY29uc3RydWN0b3IpLlxuICAgIC8vIFRoaXMgaXMgYSBkZXNpZ24gdGltZSBmbGFnLCBpdCB3aWxsIG5vdCBhZmZlY3QgdGhlIHJ1bnRpbWUgZXJyb3IgaGFuZGxpbmcgb2YgdGhlIHBhcnNlciwganVzdCBkZXNpZ24gdGltZSBlcnJvcnMsXG4gICAgLy8gZm9yIGV4YW1wbGU6IGR1cGxpY2F0ZSBydWxlIG5hbWVzLCByZWZlcmVuY2luZyBhbiB1bnJlc29sdmVkIHN1YnJ1bGUsIGVjdC4uLlxuICAgIC8vIFRoaXMgZmxhZyBzaG91bGQgbm90IGJlIGVuYWJsZWQgZHVyaW5nIG5vcm1hbCB1c2FnZSwgaXQgaXMgdXNlZCBpbiBzcGVjaWFsIHNpdHVhdGlvbnMsIGZvciBleGFtcGxlIHdoZW5cbiAgICAvLyBuZWVkaW5nIHRvIGRpc3BsYXkgdGhlIHBhcnNlciBkZWZpbml0aW9uIGVycm9ycyBpbiBzb21lIEdVSShvbmxpbmUgcGxheWdyb3VuZCkuXG4gICAgUGFyc2VyLkRFRkVSX0RFRklOSVRJT05fRVJST1JTX0hBTkRMSU5HID0gZmFsc2U7XG4gICAgcmV0dXJuIFBhcnNlcjtcbn0oKSk7XG5leHBvcnQgeyBQYXJzZXIgfTtcbmFwcGx5TWl4aW5zKFBhcnNlciwgW1xuICAgIFJlY292ZXJhYmxlLFxuICAgIExvb2tzQWhlYWQsXG4gICAgVHJlZUJ1aWxkZXIsXG4gICAgTGV4ZXJBZGFwdGVyLFxuICAgIFJlY29nbml6ZXJFbmdpbmUsXG4gICAgUmVjb2duaXplckFwaSxcbiAgICBFcnJvckhhbmRsZXIsXG4gICAgQ29udGVudEFzc2lzdCxcbiAgICBHYXN0UmVjb3JkZXIsXG4gICAgUGVyZm9ybWFuY2VUcmFjZXJcbl0pO1xudmFyIENzdFBhcnNlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQ3N0UGFyc2VyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIENzdFBhcnNlcih0b2tlblZvY2FidWxhcnksIGNvbmZpZykge1xuICAgICAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0gREVGQVVMVF9QQVJTRVJfQ09ORklHOyB9XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBjb25maWdDbG9uZSA9IGNsb25lT2JqKGNvbmZpZyk7XG4gICAgICAgIGNvbmZpZ0Nsb25lLm91dHB1dENzdCA9IHRydWU7XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgdG9rZW5Wb2NhYnVsYXJ5LCBjb25maWdDbG9uZSkgfHwgdGhpcztcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gQ3N0UGFyc2VyO1xufShQYXJzZXIpKTtcbmV4cG9ydCB7IENzdFBhcnNlciB9O1xudmFyIEVtYmVkZGVkQWN0aW9uc1BhcnNlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoRW1iZWRkZWRBY3Rpb25zUGFyc2VyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEVtYmVkZGVkQWN0aW9uc1BhcnNlcih0b2tlblZvY2FidWxhcnksIGNvbmZpZykge1xuICAgICAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0gREVGQVVMVF9QQVJTRVJfQ09ORklHOyB9XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBjb25maWdDbG9uZSA9IGNsb25lT2JqKGNvbmZpZyk7XG4gICAgICAgIGNvbmZpZ0Nsb25lLm91dHB1dENzdCA9IGZhbHNlO1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHRva2VuVm9jYWJ1bGFyeSwgY29uZmlnQ2xvbmUpIHx8IHRoaXM7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIEVtYmVkZGVkQWN0aW9uc1BhcnNlcjtcbn0oUGFyc2VyKSk7XG5leHBvcnQgeyBFbWJlZGRlZEFjdGlvbnNQYXJzZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhcnNlci5qcy5tYXAiLCJpbXBvcnQgeyBWRVJTSU9OIH0gZnJvbSBcIi4uL3ZlcnNpb25cIjtcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTeW50YXhEaWFncmFtc0NvZGUoZ3JhbW1hciwgX2EpIHtcbiAgICB2YXIgX2IgPSBfYSA9PT0gdm9pZCAwID8ge30gOiBfYSwgX2MgPSBfYi5yZXNvdXJjZUJhc2UsIHJlc291cmNlQmFzZSA9IF9jID09PSB2b2lkIDAgPyBcImh0dHBzOi8vdW5wa2cuY29tL2NoZXZyb3RhaW5AXCIgKyBWRVJTSU9OICsgXCIvZGlhZ3JhbXMvXCIgOiBfYywgX2QgPSBfYi5jc3MsIGNzcyA9IF9kID09PSB2b2lkIDAgPyBcImh0dHBzOi8vdW5wa2cuY29tL2NoZXZyb3RhaW5AXCIgKyBWRVJTSU9OICsgXCIvZGlhZ3JhbXMvZGlhZ3JhbXMuY3NzXCIgOiBfZDtcbiAgICB2YXIgaGVhZGVyID0gXCJcXG48IS0tIFRoaXMgaXMgYSBnZW5lcmF0ZWQgZmlsZSAtLT5cXG48IURPQ1RZUEUgaHRtbD5cXG48bWV0YSBjaGFyc2V0PVxcXCJ1dGYtOFxcXCI+XFxuPHN0eWxlPlxcbiAgYm9keSB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IGhzbCgzMCwgMjAlLCA5NSUpXFxuICB9XFxuPC9zdHlsZT5cXG5cXG5cIjtcbiAgICB2YXIgY3NzSHRtbCA9IFwiXFxuPGxpbmsgcmVsPSdzdHlsZXNoZWV0JyBocmVmPSdcIiArIGNzcyArIFwiJz5cXG5cIjtcbiAgICB2YXIgc2NyaXB0cyA9IFwiXFxuPHNjcmlwdCBzcmM9J1wiICsgcmVzb3VyY2VCYXNlICsgXCJ2ZW5kb3IvcmFpbHJvYWQtZGlhZ3JhbXMuanMnPjwvc2NyaXB0PlxcbjxzY3JpcHQgc3JjPSdcIiArIHJlc291cmNlQmFzZSArIFwic3JjL2RpYWdyYW1zX2J1aWxkZXIuanMnPjwvc2NyaXB0PlxcbjxzY3JpcHQgc3JjPSdcIiArIHJlc291cmNlQmFzZSArIFwic3JjL2RpYWdyYW1zX2JlaGF2aW9yLmpzJz48L3NjcmlwdD5cXG48c2NyaXB0IHNyYz0nXCIgKyByZXNvdXJjZUJhc2UgKyBcInNyYy9tYWluLmpzJz48L3NjcmlwdD5cXG5cIjtcbiAgICB2YXIgZGlhZ3JhbXNEaXYgPSBcIlxcbjxkaXYgaWQ9XFxcImRpYWdyYW1zXFxcIiBhbGlnbj1cXFwiY2VudGVyXFxcIj48L2Rpdj4gICAgXFxuXCI7XG4gICAgdmFyIHNlcmlhbGl6ZWRHcmFtbWFyID0gXCJcXG48c2NyaXB0PlxcbiAgICB3aW5kb3cuc2VyaWFsaXplZEdyYW1tYXIgPSBcIiArIEpTT04uc3RyaW5naWZ5KGdyYW1tYXIsIG51bGwsIFwiICBcIikgKyBcIjtcXG48L3NjcmlwdD5cXG5cIjtcbiAgICB2YXIgaW5pdExvZ2ljID0gXCJcXG48c2NyaXB0PlxcbiAgICB2YXIgZGlhZ3JhbXNEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcXFwiZGlhZ3JhbXNcXFwiKTtcXG4gICAgbWFpbi5kcmF3RGlhZ3JhbXNGcm9tU2VyaWFsaXplZEdyYW1tYXIoc2VyaWFsaXplZEdyYW1tYXIsIGRpYWdyYW1zRGl2KTtcXG48L3NjcmlwdD5cXG5cIjtcbiAgICByZXR1cm4gKGhlYWRlciArIGNzc0h0bWwgKyBzY3JpcHRzICsgZGlhZ3JhbXNEaXYgKyBzZXJpYWxpemVkR3JhbW1hciArIGluaXRMb2dpYyk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZW5kZXJfcHVibGljLmpzLm1hcCIsImltcG9ydCB7IGZvckVhY2gsIG1hcCB9IGZyb20gXCIuLi91dGlscy91dGlsc1wiO1xuaW1wb3J0IHsgUmVwZXRpdGlvbk1hbmRhdG9yeSwgT3B0aW9uLCBSZXBldGl0aW9uTWFuZGF0b3J5V2l0aFNlcGFyYXRvciwgUmVwZXRpdGlvbldpdGhTZXBhcmF0b3IsIFRlcm1pbmFsLCBOb25UZXJtaW5hbCwgQWx0ZXJuYXRpb24sIEFsdGVybmF0aXZlLCBSZXBldGl0aW9uIH0gZnJvbSBcIi4uL3BhcnNlL2dyYW1tYXIvZ2FzdC9nYXN0X3B1YmxpY1wiO1xuLyoqXG4gKiBNaXNzaW5nIGZlYXR1cmVzXG4gKiAxLiBSdWxlIGFyZ3VtZW50c1xuICogMi4gR2F0ZXNcbiAqIDMuIGVtYmVkZGVkIGFjdGlvbnNcbiAqL1xudmFyIE5MID0gXCJcXG5cIjtcbmV4cG9ydCBmdW5jdGlvbiBnZW5VbWRNb2R1bGUob3B0aW9ucykge1xuICAgIHJldHVybiBcIlxcbihmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkge1xcbiAgICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XFxuICAgICAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXFxuICAgICAgICBkZWZpbmUoWydjaGV2cm90YWluJ10sIGZhY3RvcnkpO1xcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzKSB7XFxuICAgICAgICAvLyBOb2RlLiBEb2VzIG5vdCB3b3JrIHdpdGggc3RyaWN0IENvbW1vbkpTLCBidXRcXG4gICAgICAgIC8vIG9ubHkgQ29tbW9uSlMtbGlrZSBlbnZpcm9ubWVudHMgdGhhdCBzdXBwb3J0IG1vZHVsZS5leHBvcnRzLFxcbiAgICAgICAgLy8gbGlrZSBOb2RlLlxcbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoJ2NoZXZyb3RhaW4nKSk7XFxuICAgIH0gZWxzZSB7XFxuICAgICAgICAvLyBCcm93c2VyIGdsb2JhbHMgKHJvb3QgaXMgd2luZG93KVxcbiAgICAgICAgcm9vdC5yZXR1cm5FeHBvcnRzID0gZmFjdG9yeShyb290LmIpO1xcbiAgICB9XFxufSh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgPyBzZWxmIDogdGhpcywgZnVuY3Rpb24gKGNoZXZyb3RhaW4pIHtcXG5cXG5cIiArIGdlbkNsYXNzKG9wdGlvbnMpICsgXCJcXG4gICAgXFxucmV0dXJuIHtcXG4gICAgXCIgKyBvcHRpb25zLm5hbWUgKyBcIjogXCIgKyBvcHRpb25zLm5hbWUgKyBcIiBcXG59XFxufSkpO1xcblwiO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdlbldyYXBwZXJGdW5jdGlvbihvcHRpb25zKSB7XG4gICAgcmV0dXJuIFwiICAgIFxcblwiICsgZ2VuQ2xhc3Mob3B0aW9ucykgKyBcIlxcbnJldHVybiBuZXcgXCIgKyBvcHRpb25zLm5hbWUgKyBcIih0b2tlblZvY2FidWxhcnksIGNvbmZpZykgICAgXFxuXCI7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2VuQ2xhc3Mob3B0aW9ucykge1xuICAgIC8vIFRPRE86IGhvdyB0byBwYXNzIHRoZSB0b2tlbiB2b2NhYnVsYXJ5PyBDb25zdHJ1Y3Rvcj8gb3RoZXI/XG4gICAgdmFyIHJlc3VsdCA9IFwiXFxuZnVuY3Rpb24gXCIgKyBvcHRpb25zLm5hbWUgKyBcIih0b2tlblZvY2FidWxhcnksIGNvbmZpZykge1xcbiAgICAvLyBpbnZva2Ugc3VwZXIgY29uc3RydWN0b3JcXG4gICAgLy8gTm8gc3VwcG9ydCBmb3IgZW1iZWRkZWQgYWN0aW9ucyBjdXJyZW50bHksIHNvIHdlIGNhbiAnaGFyZGNvZGUnXFxuICAgIC8vIFRoZSB1c2Ugb2YgQ3N0UGFyc2VyLlxcbiAgICBjaGV2cm90YWluLkNzdFBhcnNlci5jYWxsKHRoaXMsIHRva2VuVm9jYWJ1bGFyeSwgY29uZmlnKVxcblxcbiAgICBjb25zdCAkID0gdGhpc1xcblxcbiAgICBcIiArIGdlbkFsbFJ1bGVzKG9wdGlvbnMucnVsZXMpICsgXCJcXG5cXG4gICAgLy8gdmVyeSBpbXBvcnRhbnQgdG8gY2FsbCB0aGlzIGFmdGVyIGFsbCB0aGUgcnVsZXMgaGF2ZSBiZWVuIGRlZmluZWQuXFxuICAgIC8vIG90aGVyd2lzZSB0aGUgcGFyc2VyIG1heSBub3Qgd29yayBjb3JyZWN0bHkgYXMgaXQgd2lsbCBsYWNrIGluZm9ybWF0aW9uXFxuICAgIC8vIGRlcml2ZWQgZHVyaW5nIHRoZSBzZWxmIGFuYWx5c2lzIHBoYXNlLlxcbiAgICB0aGlzLnBlcmZvcm1TZWxmQW5hbHlzaXModGhpcylcXG59XFxuXFxuLy8gaW5oZXJpdGFuY2UgYXMgaW1wbGVtZW50ZWQgaW4gamF2YXNjcmlwdCBpbiB0aGUgcHJldmlvdXMgZGVjYWRlLi4uIDooXFxuXCIgKyBvcHRpb25zLm5hbWUgKyBcIi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKGNoZXZyb3RhaW4uQ3N0UGFyc2VyLnByb3RvdHlwZSlcXG5cIiArIG9wdGlvbnMubmFtZSArIFwiLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFwiICsgb3B0aW9ucy5uYW1lICsgXCIgICAgXFxuICAgIFwiO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2VuQWxsUnVsZXMocnVsZXMpIHtcbiAgICB2YXIgcnVsZXNUZXh0ID0gbWFwKHJ1bGVzLCBmdW5jdGlvbiAoY3VyclJ1bGUpIHtcbiAgICAgICAgcmV0dXJuIGdlblJ1bGUoY3VyclJ1bGUsIDEpO1xuICAgIH0pO1xuICAgIHJldHVybiBydWxlc1RleHQuam9pbihcIlxcblwiKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZW5SdWxlKHByb2QsIG4pIHtcbiAgICB2YXIgcmVzdWx0ID0gaW5kZW50KG4sIFwiJC5SVUxFKFxcXCJcIiArIHByb2QubmFtZSArIFwiXFxcIiwgZnVuY3Rpb24oKSB7XCIpICsgTkw7XG4gICAgcmVzdWx0ICs9IGdlbkRlZmluaXRpb24ocHJvZC5kZWZpbml0aW9uLCBuICsgMSk7XG4gICAgcmVzdWx0ICs9IGluZGVudChuICsgMSwgXCJ9KVwiKSArIE5MO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2VuVGVybWluYWwocHJvZCwgbikge1xuICAgIHZhciBuYW1lID0gcHJvZC50ZXJtaW5hbFR5cGUubmFtZTtcbiAgICAvLyBUT0RPOiBwb3RlbnRpYWwgcGVyZm9ybWFuY2Ugb3B0aW1pemF0aW9uLCBhdm9pZCB0b2tlbk1hcCBEaWN0aW9uYXJ5IGFjY2Vzc1xuICAgIHJldHVybiBpbmRlbnQobiwgXCIkLkNPTlNVTUVcIiArIHByb2QuaWR4ICsgXCIodGhpcy50b2tlbnNNYXAuXCIgKyBuYW1lICsgXCIpXCIgKyBOTCk7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2VuTm9uVGVybWluYWwocHJvZCwgbikge1xuICAgIHJldHVybiBpbmRlbnQobiwgXCIkLlNVQlJVTEVcIiArIHByb2QuaWR4ICsgXCIoJC5cIiArIHByb2Qubm9uVGVybWluYWxOYW1lICsgXCIpXCIgKyBOTCk7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2VuQWx0ZXJuYXRpb24ocHJvZCwgbikge1xuICAgIHZhciByZXN1bHQgPSBpbmRlbnQobiwgXCIkLk9SXCIgKyBwcm9kLmlkeCArIFwiKFtcIikgKyBOTDtcbiAgICB2YXIgYWx0cyA9IG1hcChwcm9kLmRlZmluaXRpb24sIGZ1bmN0aW9uIChhbHREZWYpIHsgcmV0dXJuIGdlblNpbmdsZUFsdChhbHREZWYsIG4gKyAxKTsgfSk7XG4gICAgcmVzdWx0ICs9IGFsdHMuam9pbihcIixcIiArIE5MKTtcbiAgICByZXN1bHQgKz0gTkwgKyBpbmRlbnQobiwgXCJdKVwiICsgTkwpO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2VuU2luZ2xlQWx0KHByb2QsIG4pIHtcbiAgICB2YXIgcmVzdWx0ID0gaW5kZW50KG4sIFwie1wiKSArIE5MO1xuICAgIHJlc3VsdCArPSBpbmRlbnQobiArIDEsIFwiQUxUOiBmdW5jdGlvbigpIHtcIikgKyBOTDtcbiAgICByZXN1bHQgKz0gZ2VuRGVmaW5pdGlvbihwcm9kLmRlZmluaXRpb24sIG4gKyAxKTtcbiAgICByZXN1bHQgKz0gaW5kZW50KG4gKyAxLCBcIn1cIikgKyBOTDtcbiAgICByZXN1bHQgKz0gaW5kZW50KG4sIFwifVwiKTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gZ2VuUHJvZChwcm9kLCBuKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICBpZiAocHJvZCBpbnN0YW5jZW9mIE5vblRlcm1pbmFsKSB7XG4gICAgICAgIHJldHVybiBnZW5Ob25UZXJtaW5hbChwcm9kLCBuKTtcbiAgICB9XG4gICAgZWxzZSBpZiAocHJvZCBpbnN0YW5jZW9mIE9wdGlvbikge1xuICAgICAgICByZXR1cm4gZ2VuRFNMUnVsZShcIk9QVElPTlwiLCBwcm9kLCBuKTtcbiAgICB9XG4gICAgZWxzZSBpZiAocHJvZCBpbnN0YW5jZW9mIFJlcGV0aXRpb25NYW5kYXRvcnkpIHtcbiAgICAgICAgcmV0dXJuIGdlbkRTTFJ1bGUoXCJBVF9MRUFTVF9PTkVcIiwgcHJvZCwgbik7XG4gICAgfVxuICAgIGVsc2UgaWYgKHByb2QgaW5zdGFuY2VvZiBSZXBldGl0aW9uTWFuZGF0b3J5V2l0aFNlcGFyYXRvcikge1xuICAgICAgICByZXR1cm4gZ2VuRFNMUnVsZShcIkFUX0xFQVNUX09ORV9TRVBcIiwgcHJvZCwgbik7XG4gICAgfVxuICAgIGVsc2UgaWYgKHByb2QgaW5zdGFuY2VvZiBSZXBldGl0aW9uV2l0aFNlcGFyYXRvcikge1xuICAgICAgICByZXR1cm4gZ2VuRFNMUnVsZShcIk1BTllfU0VQXCIsIHByb2QsIG4pO1xuICAgIH1cbiAgICBlbHNlIGlmIChwcm9kIGluc3RhbmNlb2YgUmVwZXRpdGlvbikge1xuICAgICAgICByZXR1cm4gZ2VuRFNMUnVsZShcIk1BTllcIiwgcHJvZCwgbik7XG4gICAgfVxuICAgIGVsc2UgaWYgKHByb2QgaW5zdGFuY2VvZiBBbHRlcm5hdGlvbikge1xuICAgICAgICByZXR1cm4gZ2VuQWx0ZXJuYXRpb24ocHJvZCwgbik7XG4gICAgfVxuICAgIGVsc2UgaWYgKHByb2QgaW5zdGFuY2VvZiBUZXJtaW5hbCkge1xuICAgICAgICByZXR1cm4gZ2VuVGVybWluYWwocHJvZCwgbik7XG4gICAgfVxuICAgIGVsc2UgaWYgKHByb2QgaW5zdGFuY2VvZiBBbHRlcm5hdGl2ZSkge1xuICAgICAgICByZXR1cm4gZ2VuRGVmaW5pdGlvbihwcm9kLmRlZmluaXRpb24sIG4pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJub24gZXhoYXVzdGl2ZSBtYXRjaFwiKTtcbiAgICB9XG59XG5mdW5jdGlvbiBnZW5EU0xSdWxlKGRzbE5hbWUsIHByb2QsIG4pIHtcbiAgICB2YXIgcmVzdWx0ID0gaW5kZW50KG4sIFwiJC5cIiArIChkc2xOYW1lICsgcHJvZC5pZHgpICsgXCIoXCIpO1xuICAgIGlmIChwcm9kLnNlcGFyYXRvcikge1xuICAgICAgICByZXN1bHQgKz0gXCJ7XCIgKyBOTDtcbiAgICAgICAgcmVzdWx0ICs9XG4gICAgICAgICAgICBpbmRlbnQobiArIDEsIFwiU0VQOiB0aGlzLnRva2Vuc01hcC5cIiArIHByb2Quc2VwYXJhdG9yLm5hbWUpICsgXCIsXCIgKyBOTDtcbiAgICAgICAgcmVzdWx0ICs9IFwiREVGOiBcIiArIGdlbkRlZkZ1bmN0aW9uKHByb2QuZGVmaW5pdGlvbiwgbiArIDIpICsgTkw7XG4gICAgICAgIHJlc3VsdCArPSBpbmRlbnQobiwgXCJ9XCIpICsgTkw7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXN1bHQgKz0gZ2VuRGVmRnVuY3Rpb24ocHJvZC5kZWZpbml0aW9uLCBuICsgMSk7XG4gICAgfVxuICAgIHJlc3VsdCArPSBpbmRlbnQobiwgXCIpXCIpICsgTkw7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGdlbkRlZkZ1bmN0aW9uKGRlZmluaXRpb24sIG4pIHtcbiAgICB2YXIgZGVmID0gXCJmdW5jdGlvbigpIHtcIiArIE5MO1xuICAgIGRlZiArPSBnZW5EZWZpbml0aW9uKGRlZmluaXRpb24sIG4pO1xuICAgIGRlZiArPSBpbmRlbnQobiwgXCJ9XCIpICsgTkw7XG4gICAgcmV0dXJuIGRlZjtcbn1cbmZ1bmN0aW9uIGdlbkRlZmluaXRpb24oZGVmLCBuKSB7XG4gICAgdmFyIHJlc3VsdCA9IFwiXCI7XG4gICAgZm9yRWFjaChkZWYsIGZ1bmN0aW9uIChwcm9kKSB7XG4gICAgICAgIHJlc3VsdCArPSBnZW5Qcm9kKHByb2QsIG4gKyAxKTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gaW5kZW50KGhvd011Y2gsIHRleHQpIHtcbiAgICB2YXIgc3BhY2VzID0gQXJyYXkoaG93TXVjaCAqIDQgKyAxKS5qb2luKFwiIFwiKTtcbiAgICByZXR1cm4gc3BhY2VzICsgdGV4dDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdlbmVyYXRlLmpzLm1hcCIsImltcG9ydCB7IGdlblVtZE1vZHVsZSwgZ2VuV3JhcHBlckZ1bmN0aW9uIH0gZnJvbSBcIi4vZ2VuZXJhdGVcIjtcbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVBhcnNlckZhY3Rvcnkob3B0aW9ucykge1xuICAgIHZhciB3cmFwcGVyVGV4dCA9IGdlbldyYXBwZXJGdW5jdGlvbih7XG4gICAgICAgIG5hbWU6IG9wdGlvbnMubmFtZSxcbiAgICAgICAgcnVsZXM6IG9wdGlvbnMucnVsZXNcbiAgICB9KTtcbiAgICB2YXIgY29uc3RydWN0b3JXcmFwcGVyID0gbmV3IEZ1bmN0aW9uKFwidG9rZW5Wb2NhYnVsYXJ5XCIsIFwiY29uZmlnXCIsIFwiY2hldnJvdGFpblwiLCB3cmFwcGVyVGV4dCk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChjb25maWcpIHtcbiAgICAgICAgcmV0dXJuIGNvbnN0cnVjdG9yV3JhcHBlcihvcHRpb25zLnRva2VuVm9jYWJ1bGFyeSwgY29uZmlnLCBcbiAgICAgICAgLy8gVE9ETzogY2hlY2sgaG93IHRoZSByZXF1aXJlIGlzIHRyYW5zcGlsZWQvd2VicGFja2VkXG4gICAgICAgIHJlcXVpcmUoXCIuLi9hcGlcIikpO1xuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVQYXJzZXJNb2R1bGUob3B0aW9ucykge1xuICAgIHJldHVybiBnZW5VbWRNb2R1bGUoeyBuYW1lOiBvcHRpb25zLm5hbWUsIHJ1bGVzOiBvcHRpb25zLnJ1bGVzIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2VuZXJhdGVfcHVibGljLmpzLm1hcCIsIi8vIHNlbWFudGljIHZlcnNpb25cbmV4cG9ydCB7IFZFUlNJT04gfSBmcm9tIFwiLi92ZXJzaW9uXCI7XG5leHBvcnQgeyBDc3RQYXJzZXIsIEVtYmVkZGVkQWN0aW9uc1BhcnNlciwgUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZSwgRU1QVFlfQUxUIH0gZnJvbSBcIi4vcGFyc2UvcGFyc2VyL3BhcnNlclwiO1xuZXhwb3J0IHsgTGV4ZXIsIExleGVyRGVmaW5pdGlvbkVycm9yVHlwZSB9IGZyb20gXCIuL3NjYW4vbGV4ZXJfcHVibGljXCI7XG4vLyBUb2tlbnMgdXRpbGl0aWVzXG5leHBvcnQgeyBjcmVhdGVUb2tlbiwgY3JlYXRlVG9rZW5JbnN0YW5jZSwgRU9GLCB0b2tlbkxhYmVsLCB0b2tlbk1hdGNoZXIsIHRva2VuTmFtZSB9IGZyb20gXCIuL3NjYW4vdG9rZW5zX3B1YmxpY1wiO1xuLy8gT3RoZXIgVXRpbGl0aWVzXG5leHBvcnQgeyBkZWZhdWx0R3JhbW1hclJlc29sdmVyRXJyb3JQcm92aWRlciwgZGVmYXVsdEdyYW1tYXJWYWxpZGF0b3JFcnJvclByb3ZpZGVyLCBkZWZhdWx0UGFyc2VyRXJyb3JQcm92aWRlciB9IGZyb20gXCIuL3BhcnNlL2Vycm9yc19wdWJsaWNcIjtcbmV4cG9ydCB7IEVhcmx5RXhpdEV4Y2VwdGlvbiwgaXNSZWNvZ25pdGlvbkV4Y2VwdGlvbiwgTWlzbWF0Y2hlZFRva2VuRXhjZXB0aW9uLCBOb3RBbGxJbnB1dFBhcnNlZEV4Y2VwdGlvbiwgTm9WaWFibGVBbHRFeGNlcHRpb24gfSBmcm9tIFwiLi9wYXJzZS9leGNlcHRpb25zX3B1YmxpY1wiO1xuZXhwb3J0IHsgZGVmYXVsdExleGVyRXJyb3JQcm92aWRlciB9IGZyb20gXCIuL3NjYW4vbGV4ZXJfZXJyb3JzX3B1YmxpY1wiO1xuLy8gZ3JhbW1hciByZWZsZWN0aW9uIEFQSVxuZXhwb3J0IHsgQWx0ZXJuYXRpb24sIEFsdGVybmF0aXZlLCBOb25UZXJtaW5hbCwgT3B0aW9uLCBSZXBldGl0aW9uLCBSZXBldGl0aW9uTWFuZGF0b3J5LCBSZXBldGl0aW9uTWFuZGF0b3J5V2l0aFNlcGFyYXRvciwgUmVwZXRpdGlvbldpdGhTZXBhcmF0b3IsIFJ1bGUsIFRlcm1pbmFsIH0gZnJvbSBcIi4vcGFyc2UvZ3JhbW1hci9nYXN0L2dhc3RfcHVibGljXCI7XG4vLyBHQVNUIFV0aWxpdGllc1xuZXhwb3J0IHsgc2VyaWFsaXplR3JhbW1hciwgc2VyaWFsaXplUHJvZHVjdGlvbiB9IGZyb20gXCIuL3BhcnNlL2dyYW1tYXIvZ2FzdC9nYXN0X3B1YmxpY1wiO1xuZXhwb3J0IHsgR0FzdFZpc2l0b3IgfSBmcm9tIFwiLi9wYXJzZS9ncmFtbWFyL2dhc3QvZ2FzdF92aXNpdG9yX3B1YmxpY1wiO1xuZXhwb3J0IHsgYXNzaWduT2NjdXJyZW5jZUluZGljZXMsIHJlc29sdmVHcmFtbWFyLCB2YWxpZGF0ZUdyYW1tYXIgfSBmcm9tIFwiLi9wYXJzZS9ncmFtbWFyL2dhc3QvZ2FzdF9yZXNvbHZlcl9wdWJsaWNcIjtcbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJDYWNoZSgpIHtcbiAgICBjb25zb2xlLndhcm4oXCJUaGUgY2xlYXJDYWNoZSBmdW5jdGlvbiB3YXMgJ3NvZnQnIHJlbW92ZWQgZnJvbSB0aGUgQ2hldnJvdGFpbiBBUEkuXCIgK1xuICAgICAgICBcIlxcblxcdCBJdCBwZXJmb3JtcyBubyBhY3Rpb24gb3RoZXIgdGhhbiBwcmludGluZyB0aGlzIG1lc3NhZ2UuXCIgK1xuICAgICAgICBcIlxcblxcdCBQbGVhc2UgYXZvaWQgdXNpbmcgaXQgYXMgaXQgd2lsbCBiZSBjb21wbGV0ZWx5IHJlbW92ZWQgaW4gdGhlIGZ1dHVyZVwiKTtcbn1cbmV4cG9ydCB7IGNyZWF0ZVN5bnRheERpYWdyYW1zQ29kZSB9IGZyb20gXCIuL2RpYWdyYW1zL3JlbmRlcl9wdWJsaWNcIjtcbmV4cG9ydCB7IGdlbmVyYXRlUGFyc2VyRmFjdG9yeSwgZ2VuZXJhdGVQYXJzZXJNb2R1bGUgfSBmcm9tIFwiLi9nZW5lcmF0ZS9nZW5lcmF0ZV9wdWJsaWNcIjtcbnZhciBQYXJzZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUGFyc2VyKCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgUGFyc2VyIGNsYXNzIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHVzZSBDc3RQYXJzZXIgb3IgRW1iZWRkZWRBY3Rpb25zUGFyc2VyIGluc3RlYWQuXFx0XFxuXCIgK1xuICAgICAgICAgICAgXCJTZWU6IGh0dHBzOi8vc2FwLmdpdGh1Yi5pby9jaGV2cm90YWluL2RvY3MvY2hhbmdlcy9CUkVBS0lOR19DSEFOR0VTLmh0bWwjXzctMC0wXCIpO1xuICAgIH1cbiAgICByZXR1cm4gUGFyc2VyO1xufSgpKTtcbmV4cG9ydCB7IFBhcnNlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBpLmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIExvZGFzaCA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cbiAqIENvcHlyaWdodCBPcGVuSlMgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzIDxodHRwczovL29wZW5qc2Yub3JnLz5cbiAqIFJlbGVhc2VkIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbiAqL1xuOyhmdW5jdGlvbigpIHtcblxuICAvKiogVXNlZCBhcyBhIHNhZmUgcmVmZXJlbmNlIGZvciBgdW5kZWZpbmVkYCBpbiBwcmUtRVM1IGVudmlyb25tZW50cy4gKi9cbiAgdmFyIHVuZGVmaW5lZDtcblxuICAvKiogVXNlZCBhcyB0aGUgc2VtYW50aWMgdmVyc2lvbiBudW1iZXIuICovXG4gIHZhciBWRVJTSU9OID0gJzQuMTcuMTUnO1xuXG4gIC8qKiBVc2VkIGFzIHRoZSBzaXplIHRvIGVuYWJsZSBsYXJnZSBhcnJheSBvcHRpbWl6YXRpb25zLiAqL1xuICB2YXIgTEFSR0VfQVJSQVlfU0laRSA9IDIwMDtcblxuICAvKiogRXJyb3IgbWVzc2FnZSBjb25zdGFudHMuICovXG4gIHZhciBDT1JFX0VSUk9SX1RFWFQgPSAnVW5zdXBwb3J0ZWQgY29yZS1qcyB1c2UuIFRyeSBodHRwczovL25wbXMuaW8vc2VhcmNoP3E9cG9ueWZpbGwuJyxcbiAgICAgIEZVTkNfRVJST1JfVEVYVCA9ICdFeHBlY3RlZCBhIGZ1bmN0aW9uJztcblxuICAvKiogVXNlZCB0byBzdGFuZC1pbiBmb3IgYHVuZGVmaW5lZGAgaGFzaCB2YWx1ZXMuICovXG4gIHZhciBIQVNIX1VOREVGSU5FRCA9ICdfX2xvZGFzaF9oYXNoX3VuZGVmaW5lZF9fJztcblxuICAvKiogVXNlZCBhcyB0aGUgbWF4aW11bSBtZW1vaXplIGNhY2hlIHNpemUuICovXG4gIHZhciBNQVhfTUVNT0laRV9TSVpFID0gNTAwO1xuXG4gIC8qKiBVc2VkIGFzIHRoZSBpbnRlcm5hbCBhcmd1bWVudCBwbGFjZWhvbGRlci4gKi9cbiAgdmFyIFBMQUNFSE9MREVSID0gJ19fbG9kYXNoX3BsYWNlaG9sZGVyX18nO1xuXG4gIC8qKiBVc2VkIHRvIGNvbXBvc2UgYml0bWFza3MgZm9yIGNsb25pbmcuICovXG4gIHZhciBDTE9ORV9ERUVQX0ZMQUcgPSAxLFxuICAgICAgQ0xPTkVfRkxBVF9GTEFHID0gMixcbiAgICAgIENMT05FX1NZTUJPTFNfRkxBRyA9IDQ7XG5cbiAgLyoqIFVzZWQgdG8gY29tcG9zZSBiaXRtYXNrcyBmb3IgdmFsdWUgY29tcGFyaXNvbnMuICovXG4gIHZhciBDT01QQVJFX1BBUlRJQUxfRkxBRyA9IDEsXG4gICAgICBDT01QQVJFX1VOT1JERVJFRF9GTEFHID0gMjtcblxuICAvKiogVXNlZCB0byBjb21wb3NlIGJpdG1hc2tzIGZvciBmdW5jdGlvbiBtZXRhZGF0YS4gKi9cbiAgdmFyIFdSQVBfQklORF9GTEFHID0gMSxcbiAgICAgIFdSQVBfQklORF9LRVlfRkxBRyA9IDIsXG4gICAgICBXUkFQX0NVUlJZX0JPVU5EX0ZMQUcgPSA0LFxuICAgICAgV1JBUF9DVVJSWV9GTEFHID0gOCxcbiAgICAgIFdSQVBfQ1VSUllfUklHSFRfRkxBRyA9IDE2LFxuICAgICAgV1JBUF9QQVJUSUFMX0ZMQUcgPSAzMixcbiAgICAgIFdSQVBfUEFSVElBTF9SSUdIVF9GTEFHID0gNjQsXG4gICAgICBXUkFQX0FSWV9GTEFHID0gMTI4LFxuICAgICAgV1JBUF9SRUFSR19GTEFHID0gMjU2LFxuICAgICAgV1JBUF9GTElQX0ZMQUcgPSA1MTI7XG5cbiAgLyoqIFVzZWQgYXMgZGVmYXVsdCBvcHRpb25zIGZvciBgXy50cnVuY2F0ZWAuICovXG4gIHZhciBERUZBVUxUX1RSVU5DX0xFTkdUSCA9IDMwLFxuICAgICAgREVGQVVMVF9UUlVOQ19PTUlTU0lPTiA9ICcuLi4nO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBob3QgZnVuY3Rpb25zIGJ5IG51bWJlciBvZiBjYWxscyB3aXRoaW4gYSBzcGFuIG9mIG1pbGxpc2Vjb25kcy4gKi9cbiAgdmFyIEhPVF9DT1VOVCA9IDgwMCxcbiAgICAgIEhPVF9TUEFOID0gMTY7XG5cbiAgLyoqIFVzZWQgdG8gaW5kaWNhdGUgdGhlIHR5cGUgb2YgbGF6eSBpdGVyYXRlZXMuICovXG4gIHZhciBMQVpZX0ZJTFRFUl9GTEFHID0gMSxcbiAgICAgIExBWllfTUFQX0ZMQUcgPSAyLFxuICAgICAgTEFaWV9XSElMRV9GTEFHID0gMztcblxuICAvKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cbiAgdmFyIElORklOSVRZID0gMSAvIDAsXG4gICAgICBNQVhfU0FGRV9JTlRFR0VSID0gOTAwNzE5OTI1NDc0MDk5MSxcbiAgICAgIE1BWF9JTlRFR0VSID0gMS43OTc2OTMxMzQ4NjIzMTU3ZSszMDgsXG4gICAgICBOQU4gPSAwIC8gMDtcblxuICAvKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB0aGUgbWF4aW11bSBsZW5ndGggYW5kIGluZGV4IG9mIGFuIGFycmF5LiAqL1xuICB2YXIgTUFYX0FSUkFZX0xFTkdUSCA9IDQyOTQ5NjcyOTUsXG4gICAgICBNQVhfQVJSQVlfSU5ERVggPSBNQVhfQVJSQVlfTEVOR1RIIC0gMSxcbiAgICAgIEhBTEZfTUFYX0FSUkFZX0xFTkdUSCA9IE1BWF9BUlJBWV9MRU5HVEggPj4+IDE7XG5cbiAgLyoqIFVzZWQgdG8gYXNzb2NpYXRlIHdyYXAgbWV0aG9kcyB3aXRoIHRoZWlyIGJpdCBmbGFncy4gKi9cbiAgdmFyIHdyYXBGbGFncyA9IFtcbiAgICBbJ2FyeScsIFdSQVBfQVJZX0ZMQUddLFxuICAgIFsnYmluZCcsIFdSQVBfQklORF9GTEFHXSxcbiAgICBbJ2JpbmRLZXknLCBXUkFQX0JJTkRfS0VZX0ZMQUddLFxuICAgIFsnY3VycnknLCBXUkFQX0NVUlJZX0ZMQUddLFxuICAgIFsnY3VycnlSaWdodCcsIFdSQVBfQ1VSUllfUklHSFRfRkxBR10sXG4gICAgWydmbGlwJywgV1JBUF9GTElQX0ZMQUddLFxuICAgIFsncGFydGlhbCcsIFdSQVBfUEFSVElBTF9GTEFHXSxcbiAgICBbJ3BhcnRpYWxSaWdodCcsIFdSQVBfUEFSVElBTF9SSUdIVF9GTEFHXSxcbiAgICBbJ3JlYXJnJywgV1JBUF9SRUFSR19GTEFHXVxuICBdO1xuXG4gIC8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbiAgdmFyIGFyZ3NUYWcgPSAnW29iamVjdCBBcmd1bWVudHNdJyxcbiAgICAgIGFycmF5VGFnID0gJ1tvYmplY3QgQXJyYXldJyxcbiAgICAgIGFzeW5jVGFnID0gJ1tvYmplY3QgQXN5bmNGdW5jdGlvbl0nLFxuICAgICAgYm9vbFRhZyA9ICdbb2JqZWN0IEJvb2xlYW5dJyxcbiAgICAgIGRhdGVUYWcgPSAnW29iamVjdCBEYXRlXScsXG4gICAgICBkb21FeGNUYWcgPSAnW29iamVjdCBET01FeGNlcHRpb25dJyxcbiAgICAgIGVycm9yVGFnID0gJ1tvYmplY3QgRXJyb3JdJyxcbiAgICAgIGZ1bmNUYWcgPSAnW29iamVjdCBGdW5jdGlvbl0nLFxuICAgICAgZ2VuVGFnID0gJ1tvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dJyxcbiAgICAgIG1hcFRhZyA9ICdbb2JqZWN0IE1hcF0nLFxuICAgICAgbnVtYmVyVGFnID0gJ1tvYmplY3QgTnVtYmVyXScsXG4gICAgICBudWxsVGFnID0gJ1tvYmplY3QgTnVsbF0nLFxuICAgICAgb2JqZWN0VGFnID0gJ1tvYmplY3QgT2JqZWN0XScsXG4gICAgICBwcm9taXNlVGFnID0gJ1tvYmplY3QgUHJvbWlzZV0nLFxuICAgICAgcHJveHlUYWcgPSAnW29iamVjdCBQcm94eV0nLFxuICAgICAgcmVnZXhwVGFnID0gJ1tvYmplY3QgUmVnRXhwXScsXG4gICAgICBzZXRUYWcgPSAnW29iamVjdCBTZXRdJyxcbiAgICAgIHN0cmluZ1RhZyA9ICdbb2JqZWN0IFN0cmluZ10nLFxuICAgICAgc3ltYm9sVGFnID0gJ1tvYmplY3QgU3ltYm9sXScsXG4gICAgICB1bmRlZmluZWRUYWcgPSAnW29iamVjdCBVbmRlZmluZWRdJyxcbiAgICAgIHdlYWtNYXBUYWcgPSAnW29iamVjdCBXZWFrTWFwXScsXG4gICAgICB3ZWFrU2V0VGFnID0gJ1tvYmplY3QgV2Vha1NldF0nO1xuXG4gIHZhciBhcnJheUJ1ZmZlclRhZyA9ICdbb2JqZWN0IEFycmF5QnVmZmVyXScsXG4gICAgICBkYXRhVmlld1RhZyA9ICdbb2JqZWN0IERhdGFWaWV3XScsXG4gICAgICBmbG9hdDMyVGFnID0gJ1tvYmplY3QgRmxvYXQzMkFycmF5XScsXG4gICAgICBmbG9hdDY0VGFnID0gJ1tvYmplY3QgRmxvYXQ2NEFycmF5XScsXG4gICAgICBpbnQ4VGFnID0gJ1tvYmplY3QgSW50OEFycmF5XScsXG4gICAgICBpbnQxNlRhZyA9ICdbb2JqZWN0IEludDE2QXJyYXldJyxcbiAgICAgIGludDMyVGFnID0gJ1tvYmplY3QgSW50MzJBcnJheV0nLFxuICAgICAgdWludDhUYWcgPSAnW29iamVjdCBVaW50OEFycmF5XScsXG4gICAgICB1aW50OENsYW1wZWRUYWcgPSAnW29iamVjdCBVaW50OENsYW1wZWRBcnJheV0nLFxuICAgICAgdWludDE2VGFnID0gJ1tvYmplY3QgVWludDE2QXJyYXldJyxcbiAgICAgIHVpbnQzMlRhZyA9ICdbb2JqZWN0IFVpbnQzMkFycmF5XSc7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggZW1wdHkgc3RyaW5nIGxpdGVyYWxzIGluIGNvbXBpbGVkIHRlbXBsYXRlIHNvdXJjZS4gKi9cbiAgdmFyIHJlRW1wdHlTdHJpbmdMZWFkaW5nID0gL1xcYl9fcCBcXCs9ICcnOy9nLFxuICAgICAgcmVFbXB0eVN0cmluZ01pZGRsZSA9IC9cXGIoX19wIFxcKz0pICcnIFxcKy9nLFxuICAgICAgcmVFbXB0eVN0cmluZ1RyYWlsaW5nID0gLyhfX2VcXCguKj9cXCl8XFxiX190XFwpKSBcXCtcXG4nJzsvZztcblxuICAvKiogVXNlZCB0byBtYXRjaCBIVE1MIGVudGl0aWVzIGFuZCBIVE1MIGNoYXJhY3RlcnMuICovXG4gIHZhciByZUVzY2FwZWRIdG1sID0gLyYoPzphbXB8bHR8Z3R8cXVvdHwjMzkpOy9nLFxuICAgICAgcmVVbmVzY2FwZWRIdG1sID0gL1smPD5cIiddL2csXG4gICAgICByZUhhc0VzY2FwZWRIdG1sID0gUmVnRXhwKHJlRXNjYXBlZEh0bWwuc291cmNlKSxcbiAgICAgIHJlSGFzVW5lc2NhcGVkSHRtbCA9IFJlZ0V4cChyZVVuZXNjYXBlZEh0bWwuc291cmNlKTtcblxuICAvKiogVXNlZCB0byBtYXRjaCB0ZW1wbGF0ZSBkZWxpbWl0ZXJzLiAqL1xuICB2YXIgcmVFc2NhcGUgPSAvPCUtKFtcXHNcXFNdKz8pJT4vZyxcbiAgICAgIHJlRXZhbHVhdGUgPSAvPCUoW1xcc1xcU10rPyklPi9nLFxuICAgICAgcmVJbnRlcnBvbGF0ZSA9IC88JT0oW1xcc1xcU10rPyklPi9nO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIHByb3BlcnR5IG5hbWVzIHdpdGhpbiBwcm9wZXJ0eSBwYXRocy4gKi9cbiAgdmFyIHJlSXNEZWVwUHJvcCA9IC9cXC58XFxbKD86W15bXFxdXSp8KFtcIiddKSg/Oig/IVxcMSlbXlxcXFxdfFxcXFwuKSo/XFwxKVxcXS8sXG4gICAgICByZUlzUGxhaW5Qcm9wID0gL15cXHcqJC8sXG4gICAgICByZVByb3BOYW1lID0gL1teLltcXF1dK3xcXFsoPzooLT9cXGQrKD86XFwuXFxkKyk/KXwoW1wiJ10pKCg/Oig/IVxcMilbXlxcXFxdfFxcXFwuKSo/KVxcMilcXF18KD89KD86XFwufFxcW1xcXSkoPzpcXC58XFxbXFxdfCQpKS9nO1xuXG4gIC8qKlxuICAgKiBVc2VkIHRvIG1hdGNoIGBSZWdFeHBgXG4gICAqIFtzeW50YXggY2hhcmFjdGVyc10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcGF0dGVybnMpLlxuICAgKi9cbiAgdmFyIHJlUmVnRXhwQ2hhciA9IC9bXFxcXF4kLiorPygpW1xcXXt9fF0vZyxcbiAgICAgIHJlSGFzUmVnRXhwQ2hhciA9IFJlZ0V4cChyZVJlZ0V4cENoYXIuc291cmNlKTtcblxuICAvKiogVXNlZCB0byBtYXRjaCBsZWFkaW5nIGFuZCB0cmFpbGluZyB3aGl0ZXNwYWNlLiAqL1xuICB2YXIgcmVUcmltID0gL15cXHMrfFxccyskL2csXG4gICAgICByZVRyaW1TdGFydCA9IC9eXFxzKy8sXG4gICAgICByZVRyaW1FbmQgPSAvXFxzKyQvO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIHdyYXAgZGV0YWlsIGNvbW1lbnRzLiAqL1xuICB2YXIgcmVXcmFwQ29tbWVudCA9IC9cXHsoPzpcXG5cXC9cXCogXFxbd3JhcHBlZCB3aXRoIC4rXFxdIFxcKlxcLyk/XFxuPy8sXG4gICAgICByZVdyYXBEZXRhaWxzID0gL1xce1xcblxcL1xcKiBcXFt3cmFwcGVkIHdpdGggKC4rKVxcXSBcXCovLFxuICAgICAgcmVTcGxpdERldGFpbHMgPSAvLD8gJiAvO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIHdvcmRzIGNvbXBvc2VkIG9mIGFscGhhbnVtZXJpYyBjaGFyYWN0ZXJzLiAqL1xuICB2YXIgcmVBc2NpaVdvcmQgPSAvW15cXHgwMC1cXHgyZlxceDNhLVxceDQwXFx4NWItXFx4NjBcXHg3Yi1cXHg3Zl0rL2c7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggYmFja3NsYXNoZXMgaW4gcHJvcGVydHkgcGF0aHMuICovXG4gIHZhciByZUVzY2FwZUNoYXIgPSAvXFxcXChcXFxcKT8vZztcblxuICAvKipcbiAgICogVXNlZCB0byBtYXRjaFxuICAgKiBbRVMgdGVtcGxhdGUgZGVsaW1pdGVyc10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtdGVtcGxhdGUtbGl0ZXJhbC1sZXhpY2FsLWNvbXBvbmVudHMpLlxuICAgKi9cbiAgdmFyIHJlRXNUZW1wbGF0ZSA9IC9cXCRcXHsoW15cXFxcfV0qKD86XFxcXC5bXlxcXFx9XSopKilcXH0vZztcblxuICAvKiogVXNlZCB0byBtYXRjaCBgUmVnRXhwYCBmbGFncyBmcm9tIHRoZWlyIGNvZXJjZWQgc3RyaW5nIHZhbHVlcy4gKi9cbiAgdmFyIHJlRmxhZ3MgPSAvXFx3KiQvO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBiYWQgc2lnbmVkIGhleGFkZWNpbWFsIHN0cmluZyB2YWx1ZXMuICovXG4gIHZhciByZUlzQmFkSGV4ID0gL15bLStdMHhbMC05YS1mXSskL2k7XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IGJpbmFyeSBzdHJpbmcgdmFsdWVzLiAqL1xuICB2YXIgcmVJc0JpbmFyeSA9IC9eMGJbMDFdKyQvaTtcblxuICAvKiogVXNlZCB0byBkZXRlY3QgaG9zdCBjb25zdHJ1Y3RvcnMgKFNhZmFyaSkuICovXG4gIHZhciByZUlzSG9zdEN0b3IgPSAvXlxcW29iamVjdCAuKz9Db25zdHJ1Y3RvclxcXSQvO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBvY3RhbCBzdHJpbmcgdmFsdWVzLiAqL1xuICB2YXIgcmVJc09jdGFsID0gL14wb1swLTddKyQvaTtcblxuICAvKiogVXNlZCB0byBkZXRlY3QgdW5zaWduZWQgaW50ZWdlciB2YWx1ZXMuICovXG4gIHZhciByZUlzVWludCA9IC9eKD86MHxbMS05XVxcZCopJC87XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggTGF0aW4gVW5pY29kZSBsZXR0ZXJzIChleGNsdWRpbmcgbWF0aGVtYXRpY2FsIG9wZXJhdG9ycykuICovXG4gIHZhciByZUxhdGluID0gL1tcXHhjMC1cXHhkNlxceGQ4LVxceGY2XFx4ZjgtXFx4ZmZcXHUwMTAwLVxcdTAxN2ZdL2c7XG5cbiAgLyoqIFVzZWQgdG8gZW5zdXJlIGNhcHR1cmluZyBvcmRlciBvZiB0ZW1wbGF0ZSBkZWxpbWl0ZXJzLiAqL1xuICB2YXIgcmVOb01hdGNoID0gLygkXikvO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIHVuZXNjYXBlZCBjaGFyYWN0ZXJzIGluIGNvbXBpbGVkIHN0cmluZyBsaXRlcmFscy4gKi9cbiAgdmFyIHJlVW5lc2NhcGVkU3RyaW5nID0gL1snXFxuXFxyXFx1MjAyOFxcdTIwMjlcXFxcXS9nO1xuXG4gIC8qKiBVc2VkIHRvIGNvbXBvc2UgdW5pY29kZSBjaGFyYWN0ZXIgY2xhc3Nlcy4gKi9cbiAgdmFyIHJzQXN0cmFsUmFuZ2UgPSAnXFxcXHVkODAwLVxcXFx1ZGZmZicsXG4gICAgICByc0NvbWJvTWFya3NSYW5nZSA9ICdcXFxcdTAzMDAtXFxcXHUwMzZmJyxcbiAgICAgIHJlQ29tYm9IYWxmTWFya3NSYW5nZSA9ICdcXFxcdWZlMjAtXFxcXHVmZTJmJyxcbiAgICAgIHJzQ29tYm9TeW1ib2xzUmFuZ2UgPSAnXFxcXHUyMGQwLVxcXFx1MjBmZicsXG4gICAgICByc0NvbWJvUmFuZ2UgPSByc0NvbWJvTWFya3NSYW5nZSArIHJlQ29tYm9IYWxmTWFya3NSYW5nZSArIHJzQ29tYm9TeW1ib2xzUmFuZ2UsXG4gICAgICByc0RpbmdiYXRSYW5nZSA9ICdcXFxcdTI3MDAtXFxcXHUyN2JmJyxcbiAgICAgIHJzTG93ZXJSYW5nZSA9ICdhLXpcXFxceGRmLVxcXFx4ZjZcXFxceGY4LVxcXFx4ZmYnLFxuICAgICAgcnNNYXRoT3BSYW5nZSA9ICdcXFxceGFjXFxcXHhiMVxcXFx4ZDdcXFxceGY3JyxcbiAgICAgIHJzTm9uQ2hhclJhbmdlID0gJ1xcXFx4MDAtXFxcXHgyZlxcXFx4M2EtXFxcXHg0MFxcXFx4NWItXFxcXHg2MFxcXFx4N2ItXFxcXHhiZicsXG4gICAgICByc1B1bmN0dWF0aW9uUmFuZ2UgPSAnXFxcXHUyMDAwLVxcXFx1MjA2ZicsXG4gICAgICByc1NwYWNlUmFuZ2UgPSAnIFxcXFx0XFxcXHgwYlxcXFxmXFxcXHhhMFxcXFx1ZmVmZlxcXFxuXFxcXHJcXFxcdTIwMjhcXFxcdTIwMjlcXFxcdTE2ODBcXFxcdTE4MGVcXFxcdTIwMDBcXFxcdTIwMDFcXFxcdTIwMDJcXFxcdTIwMDNcXFxcdTIwMDRcXFxcdTIwMDVcXFxcdTIwMDZcXFxcdTIwMDdcXFxcdTIwMDhcXFxcdTIwMDlcXFxcdTIwMGFcXFxcdTIwMmZcXFxcdTIwNWZcXFxcdTMwMDAnLFxuICAgICAgcnNVcHBlclJhbmdlID0gJ0EtWlxcXFx4YzAtXFxcXHhkNlxcXFx4ZDgtXFxcXHhkZScsXG4gICAgICByc1ZhclJhbmdlID0gJ1xcXFx1ZmUwZVxcXFx1ZmUwZicsXG4gICAgICByc0JyZWFrUmFuZ2UgPSByc01hdGhPcFJhbmdlICsgcnNOb25DaGFyUmFuZ2UgKyByc1B1bmN0dWF0aW9uUmFuZ2UgKyByc1NwYWNlUmFuZ2U7XG5cbiAgLyoqIFVzZWQgdG8gY29tcG9zZSB1bmljb2RlIGNhcHR1cmUgZ3JvdXBzLiAqL1xuICB2YXIgcnNBcG9zID0gXCJbJ1xcdTIwMTldXCIsXG4gICAgICByc0FzdHJhbCA9ICdbJyArIHJzQXN0cmFsUmFuZ2UgKyAnXScsXG4gICAgICByc0JyZWFrID0gJ1snICsgcnNCcmVha1JhbmdlICsgJ10nLFxuICAgICAgcnNDb21ibyA9ICdbJyArIHJzQ29tYm9SYW5nZSArICddJyxcbiAgICAgIHJzRGlnaXRzID0gJ1xcXFxkKycsXG4gICAgICByc0RpbmdiYXQgPSAnWycgKyByc0RpbmdiYXRSYW5nZSArICddJyxcbiAgICAgIHJzTG93ZXIgPSAnWycgKyByc0xvd2VyUmFuZ2UgKyAnXScsXG4gICAgICByc01pc2MgPSAnW14nICsgcnNBc3RyYWxSYW5nZSArIHJzQnJlYWtSYW5nZSArIHJzRGlnaXRzICsgcnNEaW5nYmF0UmFuZ2UgKyByc0xvd2VyUmFuZ2UgKyByc1VwcGVyUmFuZ2UgKyAnXScsXG4gICAgICByc0ZpdHogPSAnXFxcXHVkODNjW1xcXFx1ZGZmYi1cXFxcdWRmZmZdJyxcbiAgICAgIHJzTW9kaWZpZXIgPSAnKD86JyArIHJzQ29tYm8gKyAnfCcgKyByc0ZpdHogKyAnKScsXG4gICAgICByc05vbkFzdHJhbCA9ICdbXicgKyByc0FzdHJhbFJhbmdlICsgJ10nLFxuICAgICAgcnNSZWdpb25hbCA9ICcoPzpcXFxcdWQ4M2NbXFxcXHVkZGU2LVxcXFx1ZGRmZl0pezJ9JyxcbiAgICAgIHJzU3VyclBhaXIgPSAnW1xcXFx1ZDgwMC1cXFxcdWRiZmZdW1xcXFx1ZGMwMC1cXFxcdWRmZmZdJyxcbiAgICAgIHJzVXBwZXIgPSAnWycgKyByc1VwcGVyUmFuZ2UgKyAnXScsXG4gICAgICByc1pXSiA9ICdcXFxcdTIwMGQnO1xuXG4gIC8qKiBVc2VkIHRvIGNvbXBvc2UgdW5pY29kZSByZWdleGVzLiAqL1xuICB2YXIgcnNNaXNjTG93ZXIgPSAnKD86JyArIHJzTG93ZXIgKyAnfCcgKyByc01pc2MgKyAnKScsXG4gICAgICByc01pc2NVcHBlciA9ICcoPzonICsgcnNVcHBlciArICd8JyArIHJzTWlzYyArICcpJyxcbiAgICAgIHJzT3B0Q29udHJMb3dlciA9ICcoPzonICsgcnNBcG9zICsgJyg/OmR8bGx8bXxyZXxzfHR8dmUpKT8nLFxuICAgICAgcnNPcHRDb250clVwcGVyID0gJyg/OicgKyByc0Fwb3MgKyAnKD86RHxMTHxNfFJFfFN8VHxWRSkpPycsXG4gICAgICByZU9wdE1vZCA9IHJzTW9kaWZpZXIgKyAnPycsXG4gICAgICByc09wdFZhciA9ICdbJyArIHJzVmFyUmFuZ2UgKyAnXT8nLFxuICAgICAgcnNPcHRKb2luID0gJyg/OicgKyByc1pXSiArICcoPzonICsgW3JzTm9uQXN0cmFsLCByc1JlZ2lvbmFsLCByc1N1cnJQYWlyXS5qb2luKCd8JykgKyAnKScgKyByc09wdFZhciArIHJlT3B0TW9kICsgJykqJyxcbiAgICAgIHJzT3JkTG93ZXIgPSAnXFxcXGQqKD86MXN0fDJuZHwzcmR8KD8hWzEyM10pXFxcXGR0aCkoPz1cXFxcYnxbQS1aX10pJyxcbiAgICAgIHJzT3JkVXBwZXIgPSAnXFxcXGQqKD86MVNUfDJORHwzUkR8KD8hWzEyM10pXFxcXGRUSCkoPz1cXFxcYnxbYS16X10pJyxcbiAgICAgIHJzU2VxID0gcnNPcHRWYXIgKyByZU9wdE1vZCArIHJzT3B0Sm9pbixcbiAgICAgIHJzRW1vamkgPSAnKD86JyArIFtyc0RpbmdiYXQsIHJzUmVnaW9uYWwsIHJzU3VyclBhaXJdLmpvaW4oJ3wnKSArICcpJyArIHJzU2VxLFxuICAgICAgcnNTeW1ib2wgPSAnKD86JyArIFtyc05vbkFzdHJhbCArIHJzQ29tYm8gKyAnPycsIHJzQ29tYm8sIHJzUmVnaW9uYWwsIHJzU3VyclBhaXIsIHJzQXN0cmFsXS5qb2luKCd8JykgKyAnKSc7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggYXBvc3Ryb3BoZXMuICovXG4gIHZhciByZUFwb3MgPSBSZWdFeHAocnNBcG9zLCAnZycpO1xuXG4gIC8qKlxuICAgKiBVc2VkIHRvIG1hdGNoIFtjb21iaW5pbmcgZGlhY3JpdGljYWwgbWFya3NdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NvbWJpbmluZ19EaWFjcml0aWNhbF9NYXJrcykgYW5kXG4gICAqIFtjb21iaW5pbmcgZGlhY3JpdGljYWwgbWFya3MgZm9yIHN5bWJvbHNdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NvbWJpbmluZ19EaWFjcml0aWNhbF9NYXJrc19mb3JfU3ltYm9scykuXG4gICAqL1xuICB2YXIgcmVDb21ib01hcmsgPSBSZWdFeHAocnNDb21ibywgJ2cnKTtcblxuICAvKiogVXNlZCB0byBtYXRjaCBbc3RyaW5nIHN5bWJvbHNdKGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9qYXZhc2NyaXB0LXVuaWNvZGUpLiAqL1xuICB2YXIgcmVVbmljb2RlID0gUmVnRXhwKHJzRml0eiArICcoPz0nICsgcnNGaXR6ICsgJyl8JyArIHJzU3ltYm9sICsgcnNTZXEsICdnJyk7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggY29tcGxleCBvciBjb21wb3VuZCB3b3Jkcy4gKi9cbiAgdmFyIHJlVW5pY29kZVdvcmQgPSBSZWdFeHAoW1xuICAgIHJzVXBwZXIgKyAnPycgKyByc0xvd2VyICsgJysnICsgcnNPcHRDb250ckxvd2VyICsgJyg/PScgKyBbcnNCcmVhaywgcnNVcHBlciwgJyQnXS5qb2luKCd8JykgKyAnKScsXG4gICAgcnNNaXNjVXBwZXIgKyAnKycgKyByc09wdENvbnRyVXBwZXIgKyAnKD89JyArIFtyc0JyZWFrLCByc1VwcGVyICsgcnNNaXNjTG93ZXIsICckJ10uam9pbignfCcpICsgJyknLFxuICAgIHJzVXBwZXIgKyAnPycgKyByc01pc2NMb3dlciArICcrJyArIHJzT3B0Q29udHJMb3dlcixcbiAgICByc1VwcGVyICsgJysnICsgcnNPcHRDb250clVwcGVyLFxuICAgIHJzT3JkVXBwZXIsXG4gICAgcnNPcmRMb3dlcixcbiAgICByc0RpZ2l0cyxcbiAgICByc0Vtb2ppXG4gIF0uam9pbignfCcpLCAnZycpO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBzdHJpbmdzIHdpdGggW3plcm8td2lkdGggam9pbmVycyBvciBjb2RlIHBvaW50cyBmcm9tIHRoZSBhc3RyYWwgcGxhbmVzXShodHRwOi8vZWV2LmVlL2Jsb2cvMjAxNS8wOS8xMi9kYXJrLWNvcm5lcnMtb2YtdW5pY29kZS8pLiAqL1xuICB2YXIgcmVIYXNVbmljb2RlID0gUmVnRXhwKCdbJyArIHJzWldKICsgcnNBc3RyYWxSYW5nZSAgKyByc0NvbWJvUmFuZ2UgKyByc1ZhclJhbmdlICsgJ10nKTtcblxuICAvKiogVXNlZCB0byBkZXRlY3Qgc3RyaW5ncyB0aGF0IG5lZWQgYSBtb3JlIHJvYnVzdCByZWdleHAgdG8gbWF0Y2ggd29yZHMuICovXG4gIHZhciByZUhhc1VuaWNvZGVXb3JkID0gL1thLXpdW0EtWl18W0EtWl17Mn1bYS16XXxbMC05XVthLXpBLVpdfFthLXpBLVpdWzAtOV18W15hLXpBLVowLTkgXS87XG5cbiAgLyoqIFVzZWQgdG8gYXNzaWduIGRlZmF1bHQgYGNvbnRleHRgIG9iamVjdCBwcm9wZXJ0aWVzLiAqL1xuICB2YXIgY29udGV4dFByb3BzID0gW1xuICAgICdBcnJheScsICdCdWZmZXInLCAnRGF0YVZpZXcnLCAnRGF0ZScsICdFcnJvcicsICdGbG9hdDMyQXJyYXknLCAnRmxvYXQ2NEFycmF5JyxcbiAgICAnRnVuY3Rpb24nLCAnSW50OEFycmF5JywgJ0ludDE2QXJyYXknLCAnSW50MzJBcnJheScsICdNYXAnLCAnTWF0aCcsICdPYmplY3QnLFxuICAgICdQcm9taXNlJywgJ1JlZ0V4cCcsICdTZXQnLCAnU3RyaW5nJywgJ1N5bWJvbCcsICdUeXBlRXJyb3InLCAnVWludDhBcnJheScsXG4gICAgJ1VpbnQ4Q2xhbXBlZEFycmF5JywgJ1VpbnQxNkFycmF5JywgJ1VpbnQzMkFycmF5JywgJ1dlYWtNYXAnLFxuICAgICdfJywgJ2NsZWFyVGltZW91dCcsICdpc0Zpbml0ZScsICdwYXJzZUludCcsICdzZXRUaW1lb3V0J1xuICBdO1xuXG4gIC8qKiBVc2VkIHRvIG1ha2UgdGVtcGxhdGUgc291cmNlVVJMcyBlYXNpZXIgdG8gaWRlbnRpZnkuICovXG4gIHZhciB0ZW1wbGF0ZUNvdW50ZXIgPSAtMTtcblxuICAvKiogVXNlZCB0byBpZGVudGlmeSBgdG9TdHJpbmdUYWdgIHZhbHVlcyBvZiB0eXBlZCBhcnJheXMuICovXG4gIHZhciB0eXBlZEFycmF5VGFncyA9IHt9O1xuICB0eXBlZEFycmF5VGFnc1tmbG9hdDMyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Zsb2F0NjRUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbaW50OFRhZ10gPSB0eXBlZEFycmF5VGFnc1tpbnQxNlRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1tpbnQzMlRhZ10gPSB0eXBlZEFycmF5VGFnc1t1aW50OFRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1t1aW50OENsYW1wZWRUYWddID0gdHlwZWRBcnJheVRhZ3NbdWludDE2VGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW3VpbnQzMlRhZ10gPSB0cnVlO1xuICB0eXBlZEFycmF5VGFnc1thcmdzVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2FycmF5VGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW2FycmF5QnVmZmVyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Jvb2xUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbZGF0YVZpZXdUYWddID0gdHlwZWRBcnJheVRhZ3NbZGF0ZVRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1tlcnJvclRhZ10gPSB0eXBlZEFycmF5VGFnc1tmdW5jVGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW21hcFRhZ10gPSB0eXBlZEFycmF5VGFnc1tudW1iZXJUYWddID1cbiAgdHlwZWRBcnJheVRhZ3Nbb2JqZWN0VGFnXSA9IHR5cGVkQXJyYXlUYWdzW3JlZ2V4cFRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1tzZXRUYWddID0gdHlwZWRBcnJheVRhZ3Nbc3RyaW5nVGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW3dlYWtNYXBUYWddID0gZmFsc2U7XG5cbiAgLyoqIFVzZWQgdG8gaWRlbnRpZnkgYHRvU3RyaW5nVGFnYCB2YWx1ZXMgc3VwcG9ydGVkIGJ5IGBfLmNsb25lYC4gKi9cbiAgdmFyIGNsb25lYWJsZVRhZ3MgPSB7fTtcbiAgY2xvbmVhYmxlVGFnc1thcmdzVGFnXSA9IGNsb25lYWJsZVRhZ3NbYXJyYXlUYWddID1cbiAgY2xvbmVhYmxlVGFnc1thcnJheUJ1ZmZlclRhZ10gPSBjbG9uZWFibGVUYWdzW2RhdGFWaWV3VGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbYm9vbFRhZ10gPSBjbG9uZWFibGVUYWdzW2RhdGVUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tmbG9hdDMyVGFnXSA9IGNsb25lYWJsZVRhZ3NbZmxvYXQ2NFRhZ10gPVxuICBjbG9uZWFibGVUYWdzW2ludDhUYWddID0gY2xvbmVhYmxlVGFnc1tpbnQxNlRhZ10gPVxuICBjbG9uZWFibGVUYWdzW2ludDMyVGFnXSA9IGNsb25lYWJsZVRhZ3NbbWFwVGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbbnVtYmVyVGFnXSA9IGNsb25lYWJsZVRhZ3Nbb2JqZWN0VGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbcmVnZXhwVGFnXSA9IGNsb25lYWJsZVRhZ3Nbc2V0VGFnXSA9XG4gIGNsb25lYWJsZVRhZ3Nbc3RyaW5nVGFnXSA9IGNsb25lYWJsZVRhZ3Nbc3ltYm9sVGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbdWludDhUYWddID0gY2xvbmVhYmxlVGFnc1t1aW50OENsYW1wZWRUYWddID1cbiAgY2xvbmVhYmxlVGFnc1t1aW50MTZUYWddID0gY2xvbmVhYmxlVGFnc1t1aW50MzJUYWddID0gdHJ1ZTtcbiAgY2xvbmVhYmxlVGFnc1tlcnJvclRhZ10gPSBjbG9uZWFibGVUYWdzW2Z1bmNUYWddID1cbiAgY2xvbmVhYmxlVGFnc1t3ZWFrTWFwVGFnXSA9IGZhbHNlO1xuXG4gIC8qKiBVc2VkIHRvIG1hcCBMYXRpbiBVbmljb2RlIGxldHRlcnMgdG8gYmFzaWMgTGF0aW4gbGV0dGVycy4gKi9cbiAgdmFyIGRlYnVycmVkTGV0dGVycyA9IHtcbiAgICAvLyBMYXRpbi0xIFN1cHBsZW1lbnQgYmxvY2suXG4gICAgJ1xceGMwJzogJ0EnLCAgJ1xceGMxJzogJ0EnLCAnXFx4YzInOiAnQScsICdcXHhjMyc6ICdBJywgJ1xceGM0JzogJ0EnLCAnXFx4YzUnOiAnQScsXG4gICAgJ1xceGUwJzogJ2EnLCAgJ1xceGUxJzogJ2EnLCAnXFx4ZTInOiAnYScsICdcXHhlMyc6ICdhJywgJ1xceGU0JzogJ2EnLCAnXFx4ZTUnOiAnYScsXG4gICAgJ1xceGM3JzogJ0MnLCAgJ1xceGU3JzogJ2MnLFxuICAgICdcXHhkMCc6ICdEJywgICdcXHhmMCc6ICdkJyxcbiAgICAnXFx4YzgnOiAnRScsICAnXFx4YzknOiAnRScsICdcXHhjYSc6ICdFJywgJ1xceGNiJzogJ0UnLFxuICAgICdcXHhlOCc6ICdlJywgICdcXHhlOSc6ICdlJywgJ1xceGVhJzogJ2UnLCAnXFx4ZWInOiAnZScsXG4gICAgJ1xceGNjJzogJ0knLCAgJ1xceGNkJzogJ0knLCAnXFx4Y2UnOiAnSScsICdcXHhjZic6ICdJJyxcbiAgICAnXFx4ZWMnOiAnaScsICAnXFx4ZWQnOiAnaScsICdcXHhlZSc6ICdpJywgJ1xceGVmJzogJ2knLFxuICAgICdcXHhkMSc6ICdOJywgICdcXHhmMSc6ICduJyxcbiAgICAnXFx4ZDInOiAnTycsICAnXFx4ZDMnOiAnTycsICdcXHhkNCc6ICdPJywgJ1xceGQ1JzogJ08nLCAnXFx4ZDYnOiAnTycsICdcXHhkOCc6ICdPJyxcbiAgICAnXFx4ZjInOiAnbycsICAnXFx4ZjMnOiAnbycsICdcXHhmNCc6ICdvJywgJ1xceGY1JzogJ28nLCAnXFx4ZjYnOiAnbycsICdcXHhmOCc6ICdvJyxcbiAgICAnXFx4ZDknOiAnVScsICAnXFx4ZGEnOiAnVScsICdcXHhkYic6ICdVJywgJ1xceGRjJzogJ1UnLFxuICAgICdcXHhmOSc6ICd1JywgICdcXHhmYSc6ICd1JywgJ1xceGZiJzogJ3UnLCAnXFx4ZmMnOiAndScsXG4gICAgJ1xceGRkJzogJ1knLCAgJ1xceGZkJzogJ3knLCAnXFx4ZmYnOiAneScsXG4gICAgJ1xceGM2JzogJ0FlJywgJ1xceGU2JzogJ2FlJyxcbiAgICAnXFx4ZGUnOiAnVGgnLCAnXFx4ZmUnOiAndGgnLFxuICAgICdcXHhkZic6ICdzcycsXG4gICAgLy8gTGF0aW4gRXh0ZW5kZWQtQSBibG9jay5cbiAgICAnXFx1MDEwMCc6ICdBJywgICdcXHUwMTAyJzogJ0EnLCAnXFx1MDEwNCc6ICdBJyxcbiAgICAnXFx1MDEwMSc6ICdhJywgICdcXHUwMTAzJzogJ2EnLCAnXFx1MDEwNSc6ICdhJyxcbiAgICAnXFx1MDEwNic6ICdDJywgICdcXHUwMTA4JzogJ0MnLCAnXFx1MDEwYSc6ICdDJywgJ1xcdTAxMGMnOiAnQycsXG4gICAgJ1xcdTAxMDcnOiAnYycsICAnXFx1MDEwOSc6ICdjJywgJ1xcdTAxMGInOiAnYycsICdcXHUwMTBkJzogJ2MnLFxuICAgICdcXHUwMTBlJzogJ0QnLCAgJ1xcdTAxMTAnOiAnRCcsICdcXHUwMTBmJzogJ2QnLCAnXFx1MDExMSc6ICdkJyxcbiAgICAnXFx1MDExMic6ICdFJywgICdcXHUwMTE0JzogJ0UnLCAnXFx1MDExNic6ICdFJywgJ1xcdTAxMTgnOiAnRScsICdcXHUwMTFhJzogJ0UnLFxuICAgICdcXHUwMTEzJzogJ2UnLCAgJ1xcdTAxMTUnOiAnZScsICdcXHUwMTE3JzogJ2UnLCAnXFx1MDExOSc6ICdlJywgJ1xcdTAxMWInOiAnZScsXG4gICAgJ1xcdTAxMWMnOiAnRycsICAnXFx1MDExZSc6ICdHJywgJ1xcdTAxMjAnOiAnRycsICdcXHUwMTIyJzogJ0cnLFxuICAgICdcXHUwMTFkJzogJ2cnLCAgJ1xcdTAxMWYnOiAnZycsICdcXHUwMTIxJzogJ2cnLCAnXFx1MDEyMyc6ICdnJyxcbiAgICAnXFx1MDEyNCc6ICdIJywgICdcXHUwMTI2JzogJ0gnLCAnXFx1MDEyNSc6ICdoJywgJ1xcdTAxMjcnOiAnaCcsXG4gICAgJ1xcdTAxMjgnOiAnSScsICAnXFx1MDEyYSc6ICdJJywgJ1xcdTAxMmMnOiAnSScsICdcXHUwMTJlJzogJ0knLCAnXFx1MDEzMCc6ICdJJyxcbiAgICAnXFx1MDEyOSc6ICdpJywgICdcXHUwMTJiJzogJ2knLCAnXFx1MDEyZCc6ICdpJywgJ1xcdTAxMmYnOiAnaScsICdcXHUwMTMxJzogJ2knLFxuICAgICdcXHUwMTM0JzogJ0onLCAgJ1xcdTAxMzUnOiAnaicsXG4gICAgJ1xcdTAxMzYnOiAnSycsICAnXFx1MDEzNyc6ICdrJywgJ1xcdTAxMzgnOiAnaycsXG4gICAgJ1xcdTAxMzknOiAnTCcsICAnXFx1MDEzYic6ICdMJywgJ1xcdTAxM2QnOiAnTCcsICdcXHUwMTNmJzogJ0wnLCAnXFx1MDE0MSc6ICdMJyxcbiAgICAnXFx1MDEzYSc6ICdsJywgICdcXHUwMTNjJzogJ2wnLCAnXFx1MDEzZSc6ICdsJywgJ1xcdTAxNDAnOiAnbCcsICdcXHUwMTQyJzogJ2wnLFxuICAgICdcXHUwMTQzJzogJ04nLCAgJ1xcdTAxNDUnOiAnTicsICdcXHUwMTQ3JzogJ04nLCAnXFx1MDE0YSc6ICdOJyxcbiAgICAnXFx1MDE0NCc6ICduJywgICdcXHUwMTQ2JzogJ24nLCAnXFx1MDE0OCc6ICduJywgJ1xcdTAxNGInOiAnbicsXG4gICAgJ1xcdTAxNGMnOiAnTycsICAnXFx1MDE0ZSc6ICdPJywgJ1xcdTAxNTAnOiAnTycsXG4gICAgJ1xcdTAxNGQnOiAnbycsICAnXFx1MDE0Zic6ICdvJywgJ1xcdTAxNTEnOiAnbycsXG4gICAgJ1xcdTAxNTQnOiAnUicsICAnXFx1MDE1Nic6ICdSJywgJ1xcdTAxNTgnOiAnUicsXG4gICAgJ1xcdTAxNTUnOiAncicsICAnXFx1MDE1Nyc6ICdyJywgJ1xcdTAxNTknOiAncicsXG4gICAgJ1xcdTAxNWEnOiAnUycsICAnXFx1MDE1Yyc6ICdTJywgJ1xcdTAxNWUnOiAnUycsICdcXHUwMTYwJzogJ1MnLFxuICAgICdcXHUwMTViJzogJ3MnLCAgJ1xcdTAxNWQnOiAncycsICdcXHUwMTVmJzogJ3MnLCAnXFx1MDE2MSc6ICdzJyxcbiAgICAnXFx1MDE2Mic6ICdUJywgICdcXHUwMTY0JzogJ1QnLCAnXFx1MDE2Nic6ICdUJyxcbiAgICAnXFx1MDE2Myc6ICd0JywgICdcXHUwMTY1JzogJ3QnLCAnXFx1MDE2Nyc6ICd0JyxcbiAgICAnXFx1MDE2OCc6ICdVJywgICdcXHUwMTZhJzogJ1UnLCAnXFx1MDE2Yyc6ICdVJywgJ1xcdTAxNmUnOiAnVScsICdcXHUwMTcwJzogJ1UnLCAnXFx1MDE3Mic6ICdVJyxcbiAgICAnXFx1MDE2OSc6ICd1JywgICdcXHUwMTZiJzogJ3UnLCAnXFx1MDE2ZCc6ICd1JywgJ1xcdTAxNmYnOiAndScsICdcXHUwMTcxJzogJ3UnLCAnXFx1MDE3Myc6ICd1JyxcbiAgICAnXFx1MDE3NCc6ICdXJywgICdcXHUwMTc1JzogJ3cnLFxuICAgICdcXHUwMTc2JzogJ1knLCAgJ1xcdTAxNzcnOiAneScsICdcXHUwMTc4JzogJ1knLFxuICAgICdcXHUwMTc5JzogJ1onLCAgJ1xcdTAxN2InOiAnWicsICdcXHUwMTdkJzogJ1onLFxuICAgICdcXHUwMTdhJzogJ3onLCAgJ1xcdTAxN2MnOiAneicsICdcXHUwMTdlJzogJ3onLFxuICAgICdcXHUwMTMyJzogJ0lKJywgJ1xcdTAxMzMnOiAnaWonLFxuICAgICdcXHUwMTUyJzogJ09lJywgJ1xcdTAxNTMnOiAnb2UnLFxuICAgICdcXHUwMTQ5JzogXCInblwiLCAnXFx1MDE3Zic6ICdzJ1xuICB9O1xuXG4gIC8qKiBVc2VkIHRvIG1hcCBjaGFyYWN0ZXJzIHRvIEhUTUwgZW50aXRpZXMuICovXG4gIHZhciBodG1sRXNjYXBlcyA9IHtcbiAgICAnJic6ICcmYW1wOycsXG4gICAgJzwnOiAnJmx0OycsXG4gICAgJz4nOiAnJmd0OycsXG4gICAgJ1wiJzogJyZxdW90OycsXG4gICAgXCInXCI6ICcmIzM5OydcbiAgfTtcblxuICAvKiogVXNlZCB0byBtYXAgSFRNTCBlbnRpdGllcyB0byBjaGFyYWN0ZXJzLiAqL1xuICB2YXIgaHRtbFVuZXNjYXBlcyA9IHtcbiAgICAnJmFtcDsnOiAnJicsXG4gICAgJyZsdDsnOiAnPCcsXG4gICAgJyZndDsnOiAnPicsXG4gICAgJyZxdW90Oyc6ICdcIicsXG4gICAgJyYjMzk7JzogXCInXCJcbiAgfTtcblxuICAvKiogVXNlZCB0byBlc2NhcGUgY2hhcmFjdGVycyBmb3IgaW5jbHVzaW9uIGluIGNvbXBpbGVkIHN0cmluZyBsaXRlcmFscy4gKi9cbiAgdmFyIHN0cmluZ0VzY2FwZXMgPSB7XG4gICAgJ1xcXFwnOiAnXFxcXCcsXG4gICAgXCInXCI6IFwiJ1wiLFxuICAgICdcXG4nOiAnbicsXG4gICAgJ1xccic6ICdyJyxcbiAgICAnXFx1MjAyOCc6ICd1MjAyOCcsXG4gICAgJ1xcdTIwMjknOiAndTIwMjknXG4gIH07XG5cbiAgLyoqIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIHdpdGhvdXQgYSBkZXBlbmRlbmN5IG9uIGByb290YC4gKi9cbiAgdmFyIGZyZWVQYXJzZUZsb2F0ID0gcGFyc2VGbG9hdCxcbiAgICAgIGZyZWVQYXJzZUludCA9IHBhcnNlSW50O1xuXG4gIC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZ2xvYmFsYCBmcm9tIE5vZGUuanMuICovXG4gIHZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWwgJiYgZ2xvYmFsLk9iamVjdCA9PT0gT2JqZWN0ICYmIGdsb2JhbDtcblxuICAvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHNlbGZgLiAqL1xuICB2YXIgZnJlZVNlbGYgPSB0eXBlb2Ygc2VsZiA9PSAnb2JqZWN0JyAmJiBzZWxmICYmIHNlbGYuT2JqZWN0ID09PSBPYmplY3QgJiYgc2VsZjtcblxuICAvKiogVXNlZCBhcyBhIHJlZmVyZW5jZSB0byB0aGUgZ2xvYmFsIG9iamVjdC4gKi9cbiAgdmFyIHJvb3QgPSBmcmVlR2xvYmFsIHx8IGZyZWVTZWxmIHx8IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cbiAgLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBleHBvcnRzYC4gKi9cbiAgdmFyIGZyZWVFeHBvcnRzID0gdHlwZW9mIGV4cG9ydHMgPT0gJ29iamVjdCcgJiYgZXhwb3J0cyAmJiAhZXhwb3J0cy5ub2RlVHlwZSAmJiBleHBvcnRzO1xuXG4gIC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgbW9kdWxlYC4gKi9cbiAgdmFyIGZyZWVNb2R1bGUgPSBmcmVlRXhwb3J0cyAmJiB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZSAmJiAhbW9kdWxlLm5vZGVUeXBlICYmIG1vZHVsZTtcblxuICAvKiogRGV0ZWN0IHRoZSBwb3B1bGFyIENvbW1vbkpTIGV4dGVuc2lvbiBgbW9kdWxlLmV4cG9ydHNgLiAqL1xuICB2YXIgbW9kdWxlRXhwb3J0cyA9IGZyZWVNb2R1bGUgJiYgZnJlZU1vZHVsZS5leHBvcnRzID09PSBmcmVlRXhwb3J0cztcblxuICAvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHByb2Nlc3NgIGZyb20gTm9kZS5qcy4gKi9cbiAgdmFyIGZyZWVQcm9jZXNzID0gbW9kdWxlRXhwb3J0cyAmJiBmcmVlR2xvYmFsLnByb2Nlc3M7XG5cbiAgLyoqIFVzZWQgdG8gYWNjZXNzIGZhc3RlciBOb2RlLmpzIGhlbHBlcnMuICovXG4gIHZhciBub2RlVXRpbCA9IChmdW5jdGlvbigpIHtcbiAgICB0cnkge1xuICAgICAgLy8gVXNlIGB1dGlsLnR5cGVzYCBmb3IgTm9kZS5qcyAxMCsuXG4gICAgICB2YXIgdHlwZXMgPSBmcmVlTW9kdWxlICYmIGZyZWVNb2R1bGUucmVxdWlyZSAmJiBmcmVlTW9kdWxlLnJlcXVpcmUoJ3V0aWwnKS50eXBlcztcblxuICAgICAgaWYgKHR5cGVzKSB7XG4gICAgICAgIHJldHVybiB0eXBlcztcbiAgICAgIH1cblxuICAgICAgLy8gTGVnYWN5IGBwcm9jZXNzLmJpbmRpbmcoJ3V0aWwnKWAgZm9yIE5vZGUuanMgPCAxMC5cbiAgICAgIHJldHVybiBmcmVlUHJvY2VzcyAmJiBmcmVlUHJvY2Vzcy5iaW5kaW5nICYmIGZyZWVQcm9jZXNzLmJpbmRpbmcoJ3V0aWwnKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICB9KCkpO1xuXG4gIC8qIE5vZGUuanMgaGVscGVyIHJlZmVyZW5jZXMuICovXG4gIHZhciBub2RlSXNBcnJheUJ1ZmZlciA9IG5vZGVVdGlsICYmIG5vZGVVdGlsLmlzQXJyYXlCdWZmZXIsXG4gICAgICBub2RlSXNEYXRlID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNEYXRlLFxuICAgICAgbm9kZUlzTWFwID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNNYXAsXG4gICAgICBub2RlSXNSZWdFeHAgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc1JlZ0V4cCxcbiAgICAgIG5vZGVJc1NldCA9IG5vZGVVdGlsICYmIG5vZGVVdGlsLmlzU2V0LFxuICAgICAgbm9kZUlzVHlwZWRBcnJheSA9IG5vZGVVdGlsICYmIG5vZGVVdGlsLmlzVHlwZWRBcnJheTtcblxuICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAvKipcbiAgICogQSBmYXN0ZXIgYWx0ZXJuYXRpdmUgdG8gYEZ1bmN0aW9uI2FwcGx5YCwgdGhpcyBmdW5jdGlvbiBpbnZva2VzIGBmdW5jYFxuICAgKiB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiBgdGhpc0FyZ2AgYW5kIHRoZSBhcmd1bWVudHMgb2YgYGFyZ3NgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBpbnZva2UuXG4gICAqIEBwYXJhbSB7Kn0gdGhpc0FyZyBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICAgKiBAcGFyYW0ge0FycmF5fSBhcmdzIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIGBmdW5jYCB3aXRoLlxuICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzdWx0IG9mIGBmdW5jYC5cbiAgICovXG4gIGZ1bmN0aW9uIGFwcGx5KGZ1bmMsIHRoaXNBcmcsIGFyZ3MpIHtcbiAgICBzd2l0Y2ggKGFyZ3MubGVuZ3RoKSB7XG4gICAgICBjYXNlIDA6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZyk7XG4gICAgICBjYXNlIDE6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYXJnc1swXSk7XG4gICAgICBjYXNlIDI6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYXJnc1swXSwgYXJnc1sxXSk7XG4gICAgICBjYXNlIDM6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgfVxuICAgIHJldHVybiBmdW5jLmFwcGx5KHRoaXNBcmcsIGFyZ3MpO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUFnZ3JlZ2F0b3JgIGZvciBhcnJheXMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gc2V0dGVyIFRoZSBmdW5jdGlvbiB0byBzZXQgYGFjY3VtdWxhdG9yYCB2YWx1ZXMuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBpdGVyYXRlZSB0byB0cmFuc2Zvcm0ga2V5cy5cbiAgICogQHBhcmFtIHtPYmplY3R9IGFjY3VtdWxhdG9yIFRoZSBpbml0aWFsIGFnZ3JlZ2F0ZWQgb2JqZWN0LlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGFjY3VtdWxhdG9yYC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5QWdncmVnYXRvcihhcnJheSwgc2V0dGVyLCBpdGVyYXRlZSwgYWNjdW11bGF0b3IpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgICAgc2V0dGVyKGFjY3VtdWxhdG9yLCB2YWx1ZSwgaXRlcmF0ZWUodmFsdWUpLCBhcnJheSk7XG4gICAgfVxuICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uZm9yRWFjaGAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheUVhY2goYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGlmIChpdGVyYXRlZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkgPT09IGZhbHNlKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXJyYXk7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmZvckVhY2hSaWdodGAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheUVhY2hSaWdodChhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgIGlmIChpdGVyYXRlZShhcnJheVtsZW5ndGhdLCBsZW5ndGgsIGFycmF5KSA9PT0gZmFsc2UpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhcnJheTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uZXZlcnlgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYWxsIGVsZW1lbnRzIHBhc3MgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAgICogIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5RXZlcnkoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBpZiAoIXByZWRpY2F0ZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uZmlsdGVyYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmlsdGVyZWQgYXJyYXkuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheUZpbHRlcihhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoLFxuICAgICAgICByZXNJbmRleCA9IDAsXG4gICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIGluZGV4LCBhcnJheSkpIHtcbiAgICAgICAgcmVzdWx0W3Jlc0luZGV4KytdID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmluY2x1ZGVzYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogc3BlY2lmeWluZyBhbiBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHsqfSB0YXJnZXQgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdGFyZ2V0YCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlJbmNsdWRlcyhhcnJheSwgdmFsdWUpIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgcmV0dXJuICEhbGVuZ3RoICYmIGJhc2VJbmRleE9mKGFycmF5LCB2YWx1ZSwgMCkgPiAtMTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2UgYGFycmF5SW5jbHVkZXNgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYSBjb21wYXJhdG9yLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyp9IHRhcmdldCBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY29tcGFyYXRvciBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHRhcmdldGAgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5SW5jbHVkZXNXaXRoKGFycmF5LCB2YWx1ZSwgY29tcGFyYXRvcikge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBpZiAoY29tcGFyYXRvcih2YWx1ZSwgYXJyYXlbaW5kZXhdKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5tYXBgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZVxuICAgKiBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IG1hcHBlZCBhcnJheS5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5TWFwKGFycmF5LCBpdGVyYXRlZSkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKTtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICByZXN1bHRbaW5kZXhdID0gaXRlcmF0ZWUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIEFwcGVuZHMgdGhlIGVsZW1lbnRzIG9mIGB2YWx1ZXNgIHRvIGBhcnJheWAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIGFwcGVuZC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheVB1c2goYXJyYXksIHZhbHVlcykge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSB2YWx1ZXMubGVuZ3RoLFxuICAgICAgICBvZmZzZXQgPSBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgYXJyYXlbb2Zmc2V0ICsgaW5kZXhdID0gdmFsdWVzW2luZGV4XTtcbiAgICB9XG4gICAgcmV0dXJuIGFycmF5O1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5yZWR1Y2VgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEBwYXJhbSB7Kn0gW2FjY3VtdWxhdG9yXSBUaGUgaW5pdGlhbCB2YWx1ZS5cbiAgICogQHBhcmFtIHtib29sZWFufSBbaW5pdEFjY3VtXSBTcGVjaWZ5IHVzaW5nIHRoZSBmaXJzdCBlbGVtZW50IG9mIGBhcnJheWAgYXNcbiAgICogIHRoZSBpbml0aWFsIHZhbHVlLlxuICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheVJlZHVjZShhcnJheSwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yLCBpbml0QWNjdW0pIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgICBpZiAoaW5pdEFjY3VtICYmIGxlbmd0aCkge1xuICAgICAgYWNjdW11bGF0b3IgPSBhcnJheVsrK2luZGV4XTtcbiAgICB9XG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGFjY3VtdWxhdG9yID0gaXRlcmF0ZWUoYWNjdW11bGF0b3IsIGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KTtcbiAgICB9XG4gICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5yZWR1Y2VSaWdodGAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHBhcmFtIHsqfSBbYWNjdW11bGF0b3JdIFRoZSBpbml0aWFsIHZhbHVlLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpbml0QWNjdW1dIFNwZWNpZnkgdXNpbmcgdGhlIGxhc3QgZWxlbWVudCBvZiBgYXJyYXlgIGFzXG4gICAqICB0aGUgaW5pdGlhbCB2YWx1ZS5cbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGFjY3VtdWxhdGVkIHZhbHVlLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlSZWR1Y2VSaWdodChhcnJheSwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yLCBpbml0QWNjdW0pIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgaWYgKGluaXRBY2N1bSAmJiBsZW5ndGgpIHtcbiAgICAgIGFjY3VtdWxhdG9yID0gYXJyYXlbLS1sZW5ndGhdO1xuICAgIH1cbiAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgIGFjY3VtdWxhdG9yID0gaXRlcmF0ZWUoYWNjdW11bGF0b3IsIGFycmF5W2xlbmd0aF0sIGxlbmd0aCwgYXJyYXkpO1xuICAgIH1cbiAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnNvbWVgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZVxuICAgKiBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW55IGVsZW1lbnQgcGFzc2VzIHRoZSBwcmVkaWNhdGUgY2hlY2ssXG4gICAqICBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheVNvbWUoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBpZiAocHJlZGljYXRlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHNpemUgb2YgYW4gQVNDSUkgYHN0cmluZ2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzdHJpbmcgc2l6ZS5cbiAgICovXG4gIHZhciBhc2NpaVNpemUgPSBiYXNlUHJvcGVydHkoJ2xlbmd0aCcpO1xuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBhbiBBU0NJSSBgc3RyaW5nYCB0byBhbiBhcnJheS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY29udmVydGVkIGFycmF5LlxuICAgKi9cbiAgZnVuY3Rpb24gYXNjaWlUb0FycmF5KHN0cmluZykge1xuICAgIHJldHVybiBzdHJpbmcuc3BsaXQoJycpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNwbGl0cyBhbiBBU0NJSSBgc3RyaW5nYCBpbnRvIGFuIGFycmF5IG9mIGl0cyB3b3Jkcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB3b3JkcyBvZiBgc3RyaW5nYC5cbiAgICovXG4gIGZ1bmN0aW9uIGFzY2lpV29yZHMoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZy5tYXRjaChyZUFzY2lpV29yZCkgfHwgW107XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgbWV0aG9kcyBsaWtlIGBfLmZpbmRLZXlgIGFuZCBgXy5maW5kTGFzdEtleWAsXG4gICAqIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcywgd2hpY2ggaXRlcmF0ZXMgb3ZlciBgY29sbGVjdGlvbmBcbiAgICogdXNpbmcgYGVhY2hGdW5jYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGVhY2hGdW5jIFRoZSBmdW5jdGlvbiB0byBpdGVyYXRlIG92ZXIgYGNvbGxlY3Rpb25gLlxuICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZm91bmQgZWxlbWVudCBvciBpdHMga2V5LCBlbHNlIGB1bmRlZmluZWRgLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZUZpbmRLZXkoY29sbGVjdGlvbiwgcHJlZGljYXRlLCBlYWNoRnVuYykge1xuICAgIHZhciByZXN1bHQ7XG4gICAgZWFjaEZ1bmMoY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGtleSwgY29sbGVjdGlvbikge1xuICAgICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKSkge1xuICAgICAgICByZXN1bHQgPSBrZXk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZpbmRJbmRleGAgYW5kIGBfLmZpbmRMYXN0SW5kZXhgIHdpdGhvdXRcbiAgICogc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICogQHBhcmFtIHtib29sZWFufSBbZnJvbVJpZ2h0XSBTcGVjaWZ5IGl0ZXJhdGluZyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlRmluZEluZGV4KGFycmF5LCBwcmVkaWNhdGUsIGZyb21JbmRleCwgZnJvbVJpZ2h0KSB7XG4gICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgaW5kZXggPSBmcm9tSW5kZXggKyAoZnJvbVJpZ2h0ID8gMSA6IC0xKTtcblxuICAgIHdoaWxlICgoZnJvbVJpZ2h0ID8gaW5kZXgtLSA6ICsraW5kZXggPCBsZW5ndGgpKSB7XG4gICAgICBpZiAocHJlZGljYXRlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pbmRleE9mYCB3aXRob3V0IGBmcm9tSW5kZXhgIGJvdW5kcyBjaGVja3MuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VJbmRleE9mKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4KSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSB2YWx1ZVxuICAgICAgPyBzdHJpY3RJbmRleE9mKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4KVxuICAgICAgOiBiYXNlRmluZEluZGV4KGFycmF5LCBiYXNlSXNOYU4sIGZyb21JbmRleCk7XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBmdW5jdGlvbiBpcyBsaWtlIGBiYXNlSW5kZXhPZmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBhIGNvbXBhcmF0b3IuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY29tcGFyYXRvciBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZUluZGV4T2ZXaXRoKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4LCBjb21wYXJhdG9yKSB7XG4gICAgdmFyIGluZGV4ID0gZnJvbUluZGV4IC0gMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGlmIChjb21wYXJhdG9yKGFycmF5W2luZGV4XSwgdmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIC0xO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTmFOYCB3aXRob3V0IHN1cHBvcnQgZm9yIG51bWJlciBvYmplY3RzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYE5hTmAsIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VJc05hTih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAhPT0gdmFsdWU7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubWVhbmAgYW5kIGBfLm1lYW5CeWAgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBtZWFuLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZU1lYW4oYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgIHJldHVybiBsZW5ndGggPyAoYmFzZVN1bShhcnJheSwgaXRlcmF0ZWUpIC8gbGVuZ3RoKSA6IE5BTjtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5wcm9wZXJ0eWAgd2l0aG91dCBzdXBwb3J0IGZvciBkZWVwIHBhdGhzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWNjZXNzb3IgZnVuY3Rpb24uXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlUHJvcGVydHkoa2V5KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5wcm9wZXJ0eU9mYCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZXAgcGF0aHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWNjZXNzb3IgZnVuY3Rpb24uXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlUHJvcGVydHlPZihvYmplY3QpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3Rba2V5XTtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnJlZHVjZWAgYW5kIGBfLnJlZHVjZVJpZ2h0YCwgd2l0aG91dCBzdXBwb3J0XG4gICAqIGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLCB3aGljaCBpdGVyYXRlcyBvdmVyIGBjb2xsZWN0aW9uYCB1c2luZyBgZWFjaEZ1bmNgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEBwYXJhbSB7Kn0gYWNjdW11bGF0b3IgVGhlIGluaXRpYWwgdmFsdWUuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gaW5pdEFjY3VtIFNwZWNpZnkgdXNpbmcgdGhlIGZpcnN0IG9yIGxhc3QgZWxlbWVudCBvZlxuICAgKiAgYGNvbGxlY3Rpb25gIGFzIHRoZSBpbml0aWFsIHZhbHVlLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlYWNoRnVuYyBUaGUgZnVuY3Rpb24gdG8gaXRlcmF0ZSBvdmVyIGBjb2xsZWN0aW9uYC5cbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGFjY3VtdWxhdGVkIHZhbHVlLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVJlZHVjZShjb2xsZWN0aW9uLCBpdGVyYXRlZSwgYWNjdW11bGF0b3IsIGluaXRBY2N1bSwgZWFjaEZ1bmMpIHtcbiAgICBlYWNoRnVuYyhjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pIHtcbiAgICAgIGFjY3VtdWxhdG9yID0gaW5pdEFjY3VtXG4gICAgICAgID8gKGluaXRBY2N1bSA9IGZhbHNlLCB2YWx1ZSlcbiAgICAgICAgOiBpdGVyYXRlZShhY2N1bXVsYXRvciwgdmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKTtcbiAgICB9KTtcbiAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc29ydEJ5YCB3aGljaCB1c2VzIGBjb21wYXJlcmAgdG8gZGVmaW5lIHRoZVxuICAgKiBzb3J0IG9yZGVyIG9mIGBhcnJheWAgYW5kIHJlcGxhY2VzIGNyaXRlcmlhIG9iamVjdHMgd2l0aCB0aGVpciBjb3JyZXNwb25kaW5nXG4gICAqIHZhbHVlcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNvcnQuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbXBhcmVyIFRoZSBmdW5jdGlvbiB0byBkZWZpbmUgc29ydCBvcmRlci5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlU29ydEJ5KGFycmF5LCBjb21wYXJlcikge1xuICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICBhcnJheS5zb3J0KGNvbXBhcmVyKTtcbiAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgIGFycmF5W2xlbmd0aF0gPSBhcnJheVtsZW5ndGhdLnZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gYXJyYXk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc3VtYCBhbmQgYF8uc3VtQnlgIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc3VtLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVN1bShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICB2YXIgcmVzdWx0LFxuICAgICAgICBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgdmFyIGN1cnJlbnQgPSBpdGVyYXRlZShhcnJheVtpbmRleF0pO1xuICAgICAgaWYgKGN1cnJlbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXN1bHQgPSByZXN1bHQgPT09IHVuZGVmaW5lZCA/IGN1cnJlbnQgOiAocmVzdWx0ICsgY3VycmVudCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udGltZXNgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kc1xuICAgKiBvciBtYXggYXJyYXkgbGVuZ3RoIGNoZWNrcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiB0aW1lcyB0byBpbnZva2UgYGl0ZXJhdGVlYC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiByZXN1bHRzLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVRpbWVzKG4sIGl0ZXJhdGVlKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIHJlc3VsdCA9IEFycmF5KG4pO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBuKSB7XG4gICAgICByZXN1bHRbaW5kZXhdID0gaXRlcmF0ZWUoaW5kZXgpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRvUGFpcnNgIGFuZCBgXy50b1BhaXJzSW5gIHdoaWNoIGNyZWF0ZXMgYW4gYXJyYXlcbiAgICogb2Yga2V5LXZhbHVlIHBhaXJzIGZvciBgb2JqZWN0YCBjb3JyZXNwb25kaW5nIHRvIHRoZSBwcm9wZXJ0eSBuYW1lcyBvZiBgcHJvcHNgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAqIEBwYXJhbSB7QXJyYXl9IHByb3BzIFRoZSBwcm9wZXJ0eSBuYW1lcyB0byBnZXQgdmFsdWVzIGZvci5cbiAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUga2V5LXZhbHVlIHBhaXJzLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVRvUGFpcnMob2JqZWN0LCBwcm9wcykge1xuICAgIHJldHVybiBhcnJheU1hcChwcm9wcywgZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4gW2tleSwgb2JqZWN0W2tleV1dO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnVuYXJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yIHN0b3JpbmcgbWV0YWRhdGEuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNhcCBhcmd1bWVudHMgZm9yLlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjYXBwZWQgZnVuY3Rpb24uXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlVW5hcnkoZnVuYykge1xuICAgIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIGZ1bmModmFsdWUpO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udmFsdWVzYCBhbmQgYF8udmFsdWVzSW5gIHdoaWNoIGNyZWF0ZXMgYW5cbiAgICogYXJyYXkgb2YgYG9iamVjdGAgcHJvcGVydHkgdmFsdWVzIGNvcnJlc3BvbmRpbmcgdG8gdGhlIHByb3BlcnR5IG5hbWVzXG4gICAqIG9mIGBwcm9wc2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IG5hbWVzIHRvIGdldCB2YWx1ZXMgZm9yLlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlVmFsdWVzKG9iamVjdCwgcHJvcHMpIHtcbiAgICByZXR1cm4gYXJyYXlNYXAocHJvcHMsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgcmV0dXJuIG9iamVjdFtrZXldO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBhIGBjYWNoZWAgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IGNhY2hlIFRoZSBjYWNoZSB0byBxdWVyeS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGNhY2hlSGFzKGNhY2hlLCBrZXkpIHtcbiAgICByZXR1cm4gY2FjaGUuaGFzKGtleSk7XG4gIH1cblxuICAvKipcbiAgICogVXNlZCBieSBgXy50cmltYCBhbmQgYF8udHJpbVN0YXJ0YCB0byBnZXQgdGhlIGluZGV4IG9mIHRoZSBmaXJzdCBzdHJpbmcgc3ltYm9sXG4gICAqIHRoYXQgaXMgbm90IGZvdW5kIGluIHRoZSBjaGFyYWN0ZXIgc3ltYm9scy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gc3RyU3ltYm9scyBUaGUgc3RyaW5nIHN5bWJvbHMgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHtBcnJheX0gY2hyU3ltYm9scyBUaGUgY2hhcmFjdGVyIHN5bWJvbHMgdG8gZmluZC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGZpcnN0IHVubWF0Y2hlZCBzdHJpbmcgc3ltYm9sLlxuICAgKi9cbiAgZnVuY3Rpb24gY2hhcnNTdGFydEluZGV4KHN0clN5bWJvbHMsIGNoclN5bWJvbHMpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gc3RyU3ltYm9scy5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCAmJiBiYXNlSW5kZXhPZihjaHJTeW1ib2xzLCBzdHJTeW1ib2xzW2luZGV4XSwgMCkgPiAtMSkge31cbiAgICByZXR1cm4gaW5kZXg7XG4gIH1cblxuICAvKipcbiAgICogVXNlZCBieSBgXy50cmltYCBhbmQgYF8udHJpbUVuZGAgdG8gZ2V0IHRoZSBpbmRleCBvZiB0aGUgbGFzdCBzdHJpbmcgc3ltYm9sXG4gICAqIHRoYXQgaXMgbm90IGZvdW5kIGluIHRoZSBjaGFyYWN0ZXIgc3ltYm9scy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gc3RyU3ltYm9scyBUaGUgc3RyaW5nIHN5bWJvbHMgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHtBcnJheX0gY2hyU3ltYm9scyBUaGUgY2hhcmFjdGVyIHN5bWJvbHMgdG8gZmluZC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGxhc3QgdW5tYXRjaGVkIHN0cmluZyBzeW1ib2wuXG4gICAqL1xuICBmdW5jdGlvbiBjaGFyc0VuZEluZGV4KHN0clN5bWJvbHMsIGNoclN5bWJvbHMpIHtcbiAgICB2YXIgaW5kZXggPSBzdHJTeW1ib2xzLmxlbmd0aDtcblxuICAgIHdoaWxlIChpbmRleC0tICYmIGJhc2VJbmRleE9mKGNoclN5bWJvbHMsIHN0clN5bWJvbHNbaW5kZXhdLCAwKSA+IC0xKSB7fVxuICAgIHJldHVybiBpbmRleDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBudW1iZXIgb2YgYHBsYWNlaG9sZGVyYCBvY2N1cnJlbmNlcyBpbiBgYXJyYXlgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHsqfSBwbGFjZWhvbGRlciBUaGUgcGxhY2Vob2xkZXIgdG8gc2VhcmNoIGZvci5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcGxhY2Vob2xkZXIgY291bnQuXG4gICAqL1xuICBmdW5jdGlvbiBjb3VudEhvbGRlcnMoYXJyYXksIHBsYWNlaG9sZGVyKSB7XG4gICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgcmVzdWx0ID0gMDtcblxuICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgaWYgKGFycmF5W2xlbmd0aF0gPT09IHBsYWNlaG9sZGVyKSB7XG4gICAgICAgICsrcmVzdWx0O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYF8uZGVidXJyYCB0byBjb252ZXJ0IExhdGluLTEgU3VwcGxlbWVudCBhbmQgTGF0aW4gRXh0ZW5kZWQtQVxuICAgKiBsZXR0ZXJzIHRvIGJhc2ljIExhdGluIGxldHRlcnMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBsZXR0ZXIgVGhlIG1hdGNoZWQgbGV0dGVyIHRvIGRlYnVyci5cbiAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZGVidXJyZWQgbGV0dGVyLlxuICAgKi9cbiAgdmFyIGRlYnVyckxldHRlciA9IGJhc2VQcm9wZXJ0eU9mKGRlYnVycmVkTGV0dGVycyk7XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYF8uZXNjYXBlYCB0byBjb252ZXJ0IGNoYXJhY3RlcnMgdG8gSFRNTCBlbnRpdGllcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNociBUaGUgbWF0Y2hlZCBjaGFyYWN0ZXIgdG8gZXNjYXBlLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlc2NhcGVkIGNoYXJhY3Rlci5cbiAgICovXG4gIHZhciBlc2NhcGVIdG1sQ2hhciA9IGJhc2VQcm9wZXJ0eU9mKGh0bWxFc2NhcGVzKTtcblxuICAvKipcbiAgICogVXNlZCBieSBgXy50ZW1wbGF0ZWAgdG8gZXNjYXBlIGNoYXJhY3RlcnMgZm9yIGluY2x1c2lvbiBpbiBjb21waWxlZCBzdHJpbmcgbGl0ZXJhbHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjaHIgVGhlIG1hdGNoZWQgY2hhcmFjdGVyIHRvIGVzY2FwZS5cbiAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZXNjYXBlZCBjaGFyYWN0ZXIuXG4gICAqL1xuICBmdW5jdGlvbiBlc2NhcGVTdHJpbmdDaGFyKGNocikge1xuICAgIHJldHVybiAnXFxcXCcgKyBzdHJpbmdFc2NhcGVzW2Nocl07XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgdmFsdWUgYXQgYGtleWAgb2YgYG9iamVjdGAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHByb3BlcnR5IHZhbHVlLlxuICAgKi9cbiAgZnVuY3Rpb24gZ2V0VmFsdWUob2JqZWN0LCBrZXkpIHtcbiAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3Rba2V5XTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYHN0cmluZ2AgY29udGFpbnMgVW5pY29kZSBzeW1ib2xzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGEgc3ltYm9sIGlzIGZvdW5kLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBoYXNVbmljb2RlKHN0cmluZykge1xuICAgIHJldHVybiByZUhhc1VuaWNvZGUudGVzdChzdHJpbmcpO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBgc3RyaW5nYCBjb250YWlucyBhIHdvcmQgY29tcG9zZWQgb2YgVW5pY29kZSBzeW1ib2xzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGEgd29yZCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gaGFzVW5pY29kZVdvcmQoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHJlSGFzVW5pY29kZVdvcmQudGVzdChzdHJpbmcpO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGBpdGVyYXRvcmAgdG8gYW4gYXJyYXkuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBpdGVyYXRvciBUaGUgaXRlcmF0b3IgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgYXJyYXkuXG4gICAqL1xuICBmdW5jdGlvbiBpdGVyYXRvclRvQXJyYXkoaXRlcmF0b3IpIHtcbiAgICB2YXIgZGF0YSxcbiAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICB3aGlsZSAoIShkYXRhID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG4gICAgICByZXN1bHQucHVzaChkYXRhLnZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBgbWFwYCB0byBpdHMga2V5LXZhbHVlIHBhaXJzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gbWFwIFRoZSBtYXAgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBrZXktdmFsdWUgcGFpcnMuXG4gICAqL1xuICBmdW5jdGlvbiBtYXBUb0FycmF5KG1hcCkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICByZXN1bHQgPSBBcnJheShtYXAuc2l6ZSk7XG5cbiAgICBtYXAuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICByZXN1bHRbKytpbmRleF0gPSBba2V5LCB2YWx1ZV07XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgdW5hcnkgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGl0cyBhcmd1bWVudCB0cmFuc2Zvcm1lZC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gdHJhbnNmb3JtIFRoZSBhcmd1bWVudCB0cmFuc2Zvcm0uXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgKi9cbiAgZnVuY3Rpb24gb3ZlckFyZyhmdW5jLCB0cmFuc2Zvcm0pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oYXJnKSB7XG4gICAgICByZXR1cm4gZnVuYyh0cmFuc2Zvcm0oYXJnKSk7XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXBsYWNlcyBhbGwgYHBsYWNlaG9sZGVyYCBlbGVtZW50cyBpbiBgYXJyYXlgIHdpdGggYW4gaW50ZXJuYWwgcGxhY2Vob2xkZXJcbiAgICogYW5kIHJldHVybnMgYW4gYXJyYXkgb2YgdGhlaXIgaW5kZXhlcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICogQHBhcmFtIHsqfSBwbGFjZWhvbGRlciBUaGUgcGxhY2Vob2xkZXIgdG8gcmVwbGFjZS5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgcGxhY2Vob2xkZXIgaW5kZXhlcy5cbiAgICovXG4gIGZ1bmN0aW9uIHJlcGxhY2VIb2xkZXJzKGFycmF5LCBwbGFjZWhvbGRlcikge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgIHJlc0luZGV4ID0gMCxcbiAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgICAgaWYgKHZhbHVlID09PSBwbGFjZWhvbGRlciB8fCB2YWx1ZSA9PT0gUExBQ0VIT0xERVIpIHtcbiAgICAgICAgYXJyYXlbaW5kZXhdID0gUExBQ0VIT0xERVI7XG4gICAgICAgIHJlc3VsdFtyZXNJbmRleCsrXSA9IGluZGV4O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGBzZXRgIHRvIGFuIGFycmF5IG9mIGl0cyB2YWx1ZXMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBzZXQgVGhlIHNldCB0byBjb252ZXJ0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHZhbHVlcy5cbiAgICovXG4gIGZ1bmN0aW9uIHNldFRvQXJyYXkoc2V0KSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIHJlc3VsdCA9IEFycmF5KHNldC5zaXplKTtcblxuICAgIHNldC5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXN1bHRbKytpbmRleF0gPSB2YWx1ZTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGBzZXRgIHRvIGl0cyB2YWx1ZS12YWx1ZSBwYWlycy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IHNldCBUaGUgc2V0IHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgdmFsdWUtdmFsdWUgcGFpcnMuXG4gICAqL1xuICBmdW5jdGlvbiBzZXRUb1BhaXJzKHNldCkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICByZXN1bHQgPSBBcnJheShzZXQuc2l6ZSk7XG5cbiAgICBzZXQuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmVzdWx0WysraW5kZXhdID0gW3ZhbHVlLCB2YWx1ZV07XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uaW5kZXhPZmAgd2hpY2ggcGVyZm9ybXMgc3RyaWN0IGVxdWFsaXR5XG4gICAqIGNvbXBhcmlzb25zIG9mIHZhbHVlcywgaS5lLiBgPT09YC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tSW5kZXggVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgKi9cbiAgZnVuY3Rpb24gc3RyaWN0SW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleCkge1xuICAgIHZhciBpbmRleCA9IGZyb21JbmRleCAtIDEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBpZiAoYXJyYXlbaW5kZXhdID09PSB2YWx1ZSkge1xuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8ubGFzdEluZGV4T2ZgIHdoaWNoIHBlcmZvcm1zIHN0cmljdCBlcXVhbGl0eVxuICAgKiBjb21wYXJpc29ucyBvZiB2YWx1ZXMsIGkuZS4gYD09PWAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICovXG4gIGZ1bmN0aW9uIHN0cmljdExhc3RJbmRleE9mKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4KSB7XG4gICAgdmFyIGluZGV4ID0gZnJvbUluZGV4ICsgMTtcbiAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgaWYgKGFycmF5W2luZGV4XSA9PT0gdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaW5kZXg7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgbnVtYmVyIG9mIHN5bWJvbHMgaW4gYHN0cmluZ2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzdHJpbmcgc2l6ZS5cbiAgICovXG4gIGZ1bmN0aW9uIHN0cmluZ1NpemUoc3RyaW5nKSB7XG4gICAgcmV0dXJuIGhhc1VuaWNvZGUoc3RyaW5nKVxuICAgICAgPyB1bmljb2RlU2l6ZShzdHJpbmcpXG4gICAgICA6IGFzY2lpU2l6ZShzdHJpbmcpO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGBzdHJpbmdgIHRvIGFuIGFycmF5LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgYXJyYXkuXG4gICAqL1xuICBmdW5jdGlvbiBzdHJpbmdUb0FycmF5KHN0cmluZykge1xuICAgIHJldHVybiBoYXNVbmljb2RlKHN0cmluZylcbiAgICAgID8gdW5pY29kZVRvQXJyYXkoc3RyaW5nKVxuICAgICAgOiBhc2NpaVRvQXJyYXkoc3RyaW5nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VkIGJ5IGBfLnVuZXNjYXBlYCB0byBjb252ZXJ0IEhUTUwgZW50aXRpZXMgdG8gY2hhcmFjdGVycy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNociBUaGUgbWF0Y2hlZCBjaGFyYWN0ZXIgdG8gdW5lc2NhcGUuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHVuZXNjYXBlZCBjaGFyYWN0ZXIuXG4gICAqL1xuICB2YXIgdW5lc2NhcGVIdG1sQ2hhciA9IGJhc2VQcm9wZXJ0eU9mKGh0bWxVbmVzY2FwZXMpO1xuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBzaXplIG9mIGEgVW5pY29kZSBgc3RyaW5nYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHN0cmluZyBzaXplLlxuICAgKi9cbiAgZnVuY3Rpb24gdW5pY29kZVNpemUoc3RyaW5nKSB7XG4gICAgdmFyIHJlc3VsdCA9IHJlVW5pY29kZS5sYXN0SW5kZXggPSAwO1xuICAgIHdoaWxlIChyZVVuaWNvZGUudGVzdChzdHJpbmcpKSB7XG4gICAgICArK3Jlc3VsdDtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBhIFVuaWNvZGUgYHN0cmluZ2AgdG8gYW4gYXJyYXkuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBhcnJheS5cbiAgICovXG4gIGZ1bmN0aW9uIHVuaWNvZGVUb0FycmF5KHN0cmluZykge1xuICAgIHJldHVybiBzdHJpbmcubWF0Y2gocmVVbmljb2RlKSB8fCBbXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTcGxpdHMgYSBVbmljb2RlIGBzdHJpbmdgIGludG8gYW4gYXJyYXkgb2YgaXRzIHdvcmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHdvcmRzIG9mIGBzdHJpbmdgLlxuICAgKi9cbiAgZnVuY3Rpb24gdW5pY29kZVdvcmRzKHN0cmluZykge1xuICAgIHJldHVybiBzdHJpbmcubWF0Y2gocmVVbmljb2RlV29yZCkgfHwgW107XG4gIH1cblxuICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IHByaXN0aW5lIGBsb2Rhc2hgIGZ1bmN0aW9uIHVzaW5nIHRoZSBgY29udGV4dGAgb2JqZWN0LlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBfXG4gICAqIEBzaW5jZSAxLjEuMFxuICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbnRleHQ9cm9vdF0gVGhlIGNvbnRleHQgb2JqZWN0LlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYSBuZXcgYGxvZGFzaGAgZnVuY3Rpb24uXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIF8ubWl4aW4oeyAnZm9vJzogXy5jb25zdGFudCgnZm9vJykgfSk7XG4gICAqXG4gICAqIHZhciBsb2Rhc2ggPSBfLnJ1bkluQ29udGV4dCgpO1xuICAgKiBsb2Rhc2gubWl4aW4oeyAnYmFyJzogbG9kYXNoLmNvbnN0YW50KCdiYXInKSB9KTtcbiAgICpcbiAgICogXy5pc0Z1bmN0aW9uKF8uZm9vKTtcbiAgICogLy8gPT4gdHJ1ZVxuICAgKiBfLmlzRnVuY3Rpb24oXy5iYXIpO1xuICAgKiAvLyA9PiBmYWxzZVxuICAgKlxuICAgKiBsb2Rhc2guaXNGdW5jdGlvbihsb2Rhc2guZm9vKTtcbiAgICogLy8gPT4gZmFsc2VcbiAgICogbG9kYXNoLmlzRnVuY3Rpb24obG9kYXNoLmJhcik7XG4gICAqIC8vID0+IHRydWVcbiAgICpcbiAgICogLy8gQ3JlYXRlIGEgc3VwZWQtdXAgYGRlZmVyYCBpbiBOb2RlLmpzLlxuICAgKiB2YXIgZGVmZXIgPSBfLnJ1bkluQ29udGV4dCh7ICdzZXRUaW1lb3V0Jzogc2V0SW1tZWRpYXRlIH0pLmRlZmVyO1xuICAgKi9cbiAgdmFyIHJ1bkluQ29udGV4dCA9IChmdW5jdGlvbiBydW5JbkNvbnRleHQoY29udGV4dCkge1xuICAgIGNvbnRleHQgPSBjb250ZXh0ID09IG51bGwgPyByb290IDogXy5kZWZhdWx0cyhyb290Lk9iamVjdCgpLCBjb250ZXh0LCBfLnBpY2socm9vdCwgY29udGV4dFByb3BzKSk7XG5cbiAgICAvKiogQnVpbHQtaW4gY29uc3RydWN0b3IgcmVmZXJlbmNlcy4gKi9cbiAgICB2YXIgQXJyYXkgPSBjb250ZXh0LkFycmF5LFxuICAgICAgICBEYXRlID0gY29udGV4dC5EYXRlLFxuICAgICAgICBFcnJvciA9IGNvbnRleHQuRXJyb3IsXG4gICAgICAgIEZ1bmN0aW9uID0gY29udGV4dC5GdW5jdGlvbixcbiAgICAgICAgTWF0aCA9IGNvbnRleHQuTWF0aCxcbiAgICAgICAgT2JqZWN0ID0gY29udGV4dC5PYmplY3QsXG4gICAgICAgIFJlZ0V4cCA9IGNvbnRleHQuUmVnRXhwLFxuICAgICAgICBTdHJpbmcgPSBjb250ZXh0LlN0cmluZyxcbiAgICAgICAgVHlwZUVycm9yID0gY29udGV4dC5UeXBlRXJyb3I7XG5cbiAgICAvKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG4gICAgdmFyIGFycmF5UHJvdG8gPSBBcnJheS5wcm90b3R5cGUsXG4gICAgICAgIGZ1bmNQcm90byA9IEZ1bmN0aW9uLnByb3RvdHlwZSxcbiAgICAgICAgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4gICAgLyoqIFVzZWQgdG8gZGV0ZWN0IG92ZXJyZWFjaGluZyBjb3JlLWpzIHNoaW1zLiAqL1xuICAgIHZhciBjb3JlSnNEYXRhID0gY29udGV4dFsnX19jb3JlLWpzX3NoYXJlZF9fJ107XG5cbiAgICAvKiogVXNlZCB0byByZXNvbHZlIHRoZSBkZWNvbXBpbGVkIHNvdXJjZSBvZiBmdW5jdGlvbnMuICovXG4gICAgdmFyIGZ1bmNUb1N0cmluZyA9IGZ1bmNQcm90by50b1N0cmluZztcblxuICAgIC8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xuICAgIHZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4gICAgLyoqIFVzZWQgdG8gZ2VuZXJhdGUgdW5pcXVlIElEcy4gKi9cbiAgICB2YXIgaWRDb3VudGVyID0gMDtcblxuICAgIC8qKiBVc2VkIHRvIGRldGVjdCBtZXRob2RzIG1hc3F1ZXJhZGluZyBhcyBuYXRpdmUuICovXG4gICAgdmFyIG1hc2tTcmNLZXkgPSAoZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgdWlkID0gL1teLl0rJC8uZXhlYyhjb3JlSnNEYXRhICYmIGNvcmVKc0RhdGEua2V5cyAmJiBjb3JlSnNEYXRhLmtleXMuSUVfUFJPVE8gfHwgJycpO1xuICAgICAgcmV0dXJuIHVpZCA/ICgnU3ltYm9sKHNyYylfMS4nICsgdWlkKSA6ICcnO1xuICAgIH0oKSk7XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gICAgICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gICAgICogb2YgdmFsdWVzLlxuICAgICAqL1xuICAgIHZhciBuYXRpdmVPYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4gICAgLyoqIFVzZWQgdG8gaW5mZXIgdGhlIGBPYmplY3RgIGNvbnN0cnVjdG9yLiAqL1xuICAgIHZhciBvYmplY3RDdG9yU3RyaW5nID0gZnVuY1RvU3RyaW5nLmNhbGwoT2JqZWN0KTtcblxuICAgIC8qKiBVc2VkIHRvIHJlc3RvcmUgdGhlIG9yaWdpbmFsIGBfYCByZWZlcmVuY2UgaW4gYF8ubm9Db25mbGljdGAuICovXG4gICAgdmFyIG9sZERhc2ggPSByb290Ll87XG5cbiAgICAvKiogVXNlZCB0byBkZXRlY3QgaWYgYSBtZXRob2QgaXMgbmF0aXZlLiAqL1xuICAgIHZhciByZUlzTmF0aXZlID0gUmVnRXhwKCdeJyArXG4gICAgICBmdW5jVG9TdHJpbmcuY2FsbChoYXNPd25Qcm9wZXJ0eSkucmVwbGFjZShyZVJlZ0V4cENoYXIsICdcXFxcJCYnKVxuICAgICAgLnJlcGxhY2UoL2hhc093blByb3BlcnR5fChmdW5jdGlvbikuKj8oPz1cXFxcXFwoKXwgZm9yIC4rPyg/PVxcXFxcXF0pL2csICckMS4qPycpICsgJyQnXG4gICAgKTtcblxuICAgIC8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xuICAgIHZhciBCdWZmZXIgPSBtb2R1bGVFeHBvcnRzID8gY29udGV4dC5CdWZmZXIgOiB1bmRlZmluZWQsXG4gICAgICAgIFN5bWJvbCA9IGNvbnRleHQuU3ltYm9sLFxuICAgICAgICBVaW50OEFycmF5ID0gY29udGV4dC5VaW50OEFycmF5LFxuICAgICAgICBhbGxvY1Vuc2FmZSA9IEJ1ZmZlciA/IEJ1ZmZlci5hbGxvY1Vuc2FmZSA6IHVuZGVmaW5lZCxcbiAgICAgICAgZ2V0UHJvdG90eXBlID0gb3ZlckFyZyhPYmplY3QuZ2V0UHJvdG90eXBlT2YsIE9iamVjdCksXG4gICAgICAgIG9iamVjdENyZWF0ZSA9IE9iamVjdC5jcmVhdGUsXG4gICAgICAgIHByb3BlcnR5SXNFbnVtZXJhYmxlID0gb2JqZWN0UHJvdG8ucHJvcGVydHlJc0VudW1lcmFibGUsXG4gICAgICAgIHNwbGljZSA9IGFycmF5UHJvdG8uc3BsaWNlLFxuICAgICAgICBzcHJlYWRhYmxlU3ltYm9sID0gU3ltYm9sID8gU3ltYm9sLmlzQ29uY2F0U3ByZWFkYWJsZSA6IHVuZGVmaW5lZCxcbiAgICAgICAgc3ltSXRlcmF0b3IgPSBTeW1ib2wgPyBTeW1ib2wuaXRlcmF0b3IgOiB1bmRlZmluZWQsXG4gICAgICAgIHN5bVRvU3RyaW5nVGFnID0gU3ltYm9sID8gU3ltYm9sLnRvU3RyaW5nVGFnIDogdW5kZWZpbmVkO1xuXG4gICAgdmFyIGRlZmluZVByb3BlcnR5ID0gKGZ1bmN0aW9uKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIGZ1bmMgPSBnZXROYXRpdmUoT2JqZWN0LCAnZGVmaW5lUHJvcGVydHknKTtcbiAgICAgICAgZnVuYyh7fSwgJycsIHt9KTtcbiAgICAgICAgcmV0dXJuIGZ1bmM7XG4gICAgICB9IGNhdGNoIChlKSB7fVxuICAgIH0oKSk7XG5cbiAgICAvKiogTW9ja2VkIGJ1aWx0LWlucy4gKi9cbiAgICB2YXIgY3R4Q2xlYXJUaW1lb3V0ID0gY29udGV4dC5jbGVhclRpbWVvdXQgIT09IHJvb3QuY2xlYXJUaW1lb3V0ICYmIGNvbnRleHQuY2xlYXJUaW1lb3V0LFxuICAgICAgICBjdHhOb3cgPSBEYXRlICYmIERhdGUubm93ICE9PSByb290LkRhdGUubm93ICYmIERhdGUubm93LFxuICAgICAgICBjdHhTZXRUaW1lb3V0ID0gY29udGV4dC5zZXRUaW1lb3V0ICE9PSByb290LnNldFRpbWVvdXQgJiYgY29udGV4dC5zZXRUaW1lb3V0O1xuXG4gICAgLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgZm9yIHRob3NlIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBvdGhlciBgbG9kYXNoYCBtZXRob2RzLiAqL1xuICAgIHZhciBuYXRpdmVDZWlsID0gTWF0aC5jZWlsLFxuICAgICAgICBuYXRpdmVGbG9vciA9IE1hdGguZmxvb3IsXG4gICAgICAgIG5hdGl2ZUdldFN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLFxuICAgICAgICBuYXRpdmVJc0J1ZmZlciA9IEJ1ZmZlciA/IEJ1ZmZlci5pc0J1ZmZlciA6IHVuZGVmaW5lZCxcbiAgICAgICAgbmF0aXZlSXNGaW5pdGUgPSBjb250ZXh0LmlzRmluaXRlLFxuICAgICAgICBuYXRpdmVKb2luID0gYXJyYXlQcm90by5qb2luLFxuICAgICAgICBuYXRpdmVLZXlzID0gb3ZlckFyZyhPYmplY3Qua2V5cywgT2JqZWN0KSxcbiAgICAgICAgbmF0aXZlTWF4ID0gTWF0aC5tYXgsXG4gICAgICAgIG5hdGl2ZU1pbiA9IE1hdGgubWluLFxuICAgICAgICBuYXRpdmVOb3cgPSBEYXRlLm5vdyxcbiAgICAgICAgbmF0aXZlUGFyc2VJbnQgPSBjb250ZXh0LnBhcnNlSW50LFxuICAgICAgICBuYXRpdmVSYW5kb20gPSBNYXRoLnJhbmRvbSxcbiAgICAgICAgbmF0aXZlUmV2ZXJzZSA9IGFycmF5UHJvdG8ucmV2ZXJzZTtcblxuICAgIC8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIHRoYXQgYXJlIHZlcmlmaWVkIHRvIGJlIG5hdGl2ZS4gKi9cbiAgICB2YXIgRGF0YVZpZXcgPSBnZXROYXRpdmUoY29udGV4dCwgJ0RhdGFWaWV3JyksXG4gICAgICAgIE1hcCA9IGdldE5hdGl2ZShjb250ZXh0LCAnTWFwJyksXG4gICAgICAgIFByb21pc2UgPSBnZXROYXRpdmUoY29udGV4dCwgJ1Byb21pc2UnKSxcbiAgICAgICAgU2V0ID0gZ2V0TmF0aXZlKGNvbnRleHQsICdTZXQnKSxcbiAgICAgICAgV2Vha01hcCA9IGdldE5hdGl2ZShjb250ZXh0LCAnV2Vha01hcCcpLFxuICAgICAgICBuYXRpdmVDcmVhdGUgPSBnZXROYXRpdmUoT2JqZWN0LCAnY3JlYXRlJyk7XG5cbiAgICAvKiogVXNlZCB0byBzdG9yZSBmdW5jdGlvbiBtZXRhZGF0YS4gKi9cbiAgICB2YXIgbWV0YU1hcCA9IFdlYWtNYXAgJiYgbmV3IFdlYWtNYXA7XG5cbiAgICAvKiogVXNlZCB0byBsb29rdXAgdW5taW5pZmllZCBmdW5jdGlvbiBuYW1lcy4gKi9cbiAgICB2YXIgcmVhbE5hbWVzID0ge307XG5cbiAgICAvKiogVXNlZCB0byBkZXRlY3QgbWFwcywgc2V0cywgYW5kIHdlYWttYXBzLiAqL1xuICAgIHZhciBkYXRhVmlld0N0b3JTdHJpbmcgPSB0b1NvdXJjZShEYXRhVmlldyksXG4gICAgICAgIG1hcEN0b3JTdHJpbmcgPSB0b1NvdXJjZShNYXApLFxuICAgICAgICBwcm9taXNlQ3RvclN0cmluZyA9IHRvU291cmNlKFByb21pc2UpLFxuICAgICAgICBzZXRDdG9yU3RyaW5nID0gdG9Tb3VyY2UoU2V0KSxcbiAgICAgICAgd2Vha01hcEN0b3JTdHJpbmcgPSB0b1NvdXJjZShXZWFrTWFwKTtcblxuICAgIC8qKiBVc2VkIHRvIGNvbnZlcnQgc3ltYm9scyB0byBwcmltaXRpdmVzIGFuZCBzdHJpbmdzLiAqL1xuICAgIHZhciBzeW1ib2xQcm90byA9IFN5bWJvbCA/IFN5bWJvbC5wcm90b3R5cGUgOiB1bmRlZmluZWQsXG4gICAgICAgIHN5bWJvbFZhbHVlT2YgPSBzeW1ib2xQcm90byA/IHN5bWJvbFByb3RvLnZhbHVlT2YgOiB1bmRlZmluZWQsXG4gICAgICAgIHN5bWJvbFRvU3RyaW5nID0gc3ltYm9sUHJvdG8gPyBzeW1ib2xQcm90by50b1N0cmluZyA6IHVuZGVmaW5lZDtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgbG9kYXNoYCBvYmplY3Qgd2hpY2ggd3JhcHMgYHZhbHVlYCB0byBlbmFibGUgaW1wbGljaXQgbWV0aG9kXG4gICAgICogY2hhaW4gc2VxdWVuY2VzLiBNZXRob2RzIHRoYXQgb3BlcmF0ZSBvbiBhbmQgcmV0dXJuIGFycmF5cywgY29sbGVjdGlvbnMsXG4gICAgICogYW5kIGZ1bmN0aW9ucyBjYW4gYmUgY2hhaW5lZCB0b2dldGhlci4gTWV0aG9kcyB0aGF0IHJldHJpZXZlIGEgc2luZ2xlIHZhbHVlXG4gICAgICogb3IgbWF5IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZSB3aWxsIGF1dG9tYXRpY2FsbHkgZW5kIHRoZSBjaGFpbiBzZXF1ZW5jZVxuICAgICAqIGFuZCByZXR1cm4gdGhlIHVud3JhcHBlZCB2YWx1ZS4gT3RoZXJ3aXNlLCB0aGUgdmFsdWUgbXVzdCBiZSB1bndyYXBwZWRcbiAgICAgKiB3aXRoIGBfI3ZhbHVlYC5cbiAgICAgKlxuICAgICAqIEV4cGxpY2l0IGNoYWluIHNlcXVlbmNlcywgd2hpY2ggbXVzdCBiZSB1bndyYXBwZWQgd2l0aCBgXyN2YWx1ZWAsIG1heSBiZVxuICAgICAqIGVuYWJsZWQgdXNpbmcgYF8uY2hhaW5gLlxuICAgICAqXG4gICAgICogVGhlIGV4ZWN1dGlvbiBvZiBjaGFpbmVkIG1ldGhvZHMgaXMgbGF6eSwgdGhhdCBpcywgaXQncyBkZWZlcnJlZCB1bnRpbFxuICAgICAqIGBfI3ZhbHVlYCBpcyBpbXBsaWNpdGx5IG9yIGV4cGxpY2l0bHkgY2FsbGVkLlxuICAgICAqXG4gICAgICogTGF6eSBldmFsdWF0aW9uIGFsbG93cyBzZXZlcmFsIG1ldGhvZHMgdG8gc3VwcG9ydCBzaG9ydGN1dCBmdXNpb24uXG4gICAgICogU2hvcnRjdXQgZnVzaW9uIGlzIGFuIG9wdGltaXphdGlvbiB0byBtZXJnZSBpdGVyYXRlZSBjYWxsczsgdGhpcyBhdm9pZHNcbiAgICAgKiB0aGUgY3JlYXRpb24gb2YgaW50ZXJtZWRpYXRlIGFycmF5cyBhbmQgY2FuIGdyZWF0bHkgcmVkdWNlIHRoZSBudW1iZXIgb2ZcbiAgICAgKiBpdGVyYXRlZSBleGVjdXRpb25zLiBTZWN0aW9ucyBvZiBhIGNoYWluIHNlcXVlbmNlIHF1YWxpZnkgZm9yIHNob3J0Y3V0XG4gICAgICogZnVzaW9uIGlmIHRoZSBzZWN0aW9uIGlzIGFwcGxpZWQgdG8gYW4gYXJyYXkgYW5kIGl0ZXJhdGVlcyBhY2NlcHQgb25seVxuICAgICAqIG9uZSBhcmd1bWVudC4gVGhlIGhldXJpc3RpYyBmb3Igd2hldGhlciBhIHNlY3Rpb24gcXVhbGlmaWVzIGZvciBzaG9ydGN1dFxuICAgICAqIGZ1c2lvbiBpcyBzdWJqZWN0IHRvIGNoYW5nZS5cbiAgICAgKlxuICAgICAqIENoYWluaW5nIGlzIHN1cHBvcnRlZCBpbiBjdXN0b20gYnVpbGRzIGFzIGxvbmcgYXMgdGhlIGBfI3ZhbHVlYCBtZXRob2QgaXNcbiAgICAgKiBkaXJlY3RseSBvciBpbmRpcmVjdGx5IGluY2x1ZGVkIGluIHRoZSBidWlsZC5cbiAgICAgKlxuICAgICAqIEluIGFkZGl0aW9uIHRvIGxvZGFzaCBtZXRob2RzLCB3cmFwcGVycyBoYXZlIGBBcnJheWAgYW5kIGBTdHJpbmdgIG1ldGhvZHMuXG4gICAgICpcbiAgICAgKiBUaGUgd3JhcHBlciBgQXJyYXlgIG1ldGhvZHMgYXJlOlxuICAgICAqIGBjb25jYXRgLCBgam9pbmAsIGBwb3BgLCBgcHVzaGAsIGBzaGlmdGAsIGBzb3J0YCwgYHNwbGljZWAsIGFuZCBgdW5zaGlmdGBcbiAgICAgKlxuICAgICAqIFRoZSB3cmFwcGVyIGBTdHJpbmdgIG1ldGhvZHMgYXJlOlxuICAgICAqIGByZXBsYWNlYCBhbmQgYHNwbGl0YFxuICAgICAqXG4gICAgICogVGhlIHdyYXBwZXIgbWV0aG9kcyB0aGF0IHN1cHBvcnQgc2hvcnRjdXQgZnVzaW9uIGFyZTpcbiAgICAgKiBgYXRgLCBgY29tcGFjdGAsIGBkcm9wYCwgYGRyb3BSaWdodGAsIGBkcm9wV2hpbGVgLCBgZmlsdGVyYCwgYGZpbmRgLFxuICAgICAqIGBmaW5kTGFzdGAsIGBoZWFkYCwgYGluaXRpYWxgLCBgbGFzdGAsIGBtYXBgLCBgcmVqZWN0YCwgYHJldmVyc2VgLCBgc2xpY2VgLFxuICAgICAqIGB0YWlsYCwgYHRha2VgLCBgdGFrZVJpZ2h0YCwgYHRha2VSaWdodFdoaWxlYCwgYHRha2VXaGlsZWAsIGFuZCBgdG9BcnJheWBcbiAgICAgKlxuICAgICAqIFRoZSBjaGFpbmFibGUgd3JhcHBlciBtZXRob2RzIGFyZTpcbiAgICAgKiBgYWZ0ZXJgLCBgYXJ5YCwgYGFzc2lnbmAsIGBhc3NpZ25JbmAsIGBhc3NpZ25JbldpdGhgLCBgYXNzaWduV2l0aGAsIGBhdGAsXG4gICAgICogYGJlZm9yZWAsIGBiaW5kYCwgYGJpbmRBbGxgLCBgYmluZEtleWAsIGBjYXN0QXJyYXlgLCBgY2hhaW5gLCBgY2h1bmtgLFxuICAgICAqIGBjb21taXRgLCBgY29tcGFjdGAsIGBjb25jYXRgLCBgY29uZm9ybXNgLCBgY29uc3RhbnRgLCBgY291bnRCeWAsIGBjcmVhdGVgLFxuICAgICAqIGBjdXJyeWAsIGBkZWJvdW5jZWAsIGBkZWZhdWx0c2AsIGBkZWZhdWx0c0RlZXBgLCBgZGVmZXJgLCBgZGVsYXlgLFxuICAgICAqIGBkaWZmZXJlbmNlYCwgYGRpZmZlcmVuY2VCeWAsIGBkaWZmZXJlbmNlV2l0aGAsIGBkcm9wYCwgYGRyb3BSaWdodGAsXG4gICAgICogYGRyb3BSaWdodFdoaWxlYCwgYGRyb3BXaGlsZWAsIGBleHRlbmRgLCBgZXh0ZW5kV2l0aGAsIGBmaWxsYCwgYGZpbHRlcmAsXG4gICAgICogYGZsYXRNYXBgLCBgZmxhdE1hcERlZXBgLCBgZmxhdE1hcERlcHRoYCwgYGZsYXR0ZW5gLCBgZmxhdHRlbkRlZXBgLFxuICAgICAqIGBmbGF0dGVuRGVwdGhgLCBgZmxpcGAsIGBmbG93YCwgYGZsb3dSaWdodGAsIGBmcm9tUGFpcnNgLCBgZnVuY3Rpb25zYCxcbiAgICAgKiBgZnVuY3Rpb25zSW5gLCBgZ3JvdXBCeWAsIGBpbml0aWFsYCwgYGludGVyc2VjdGlvbmAsIGBpbnRlcnNlY3Rpb25CeWAsXG4gICAgICogYGludGVyc2VjdGlvbldpdGhgLCBgaW52ZXJ0YCwgYGludmVydEJ5YCwgYGludm9rZU1hcGAsIGBpdGVyYXRlZWAsIGBrZXlCeWAsXG4gICAgICogYGtleXNgLCBga2V5c0luYCwgYG1hcGAsIGBtYXBLZXlzYCwgYG1hcFZhbHVlc2AsIGBtYXRjaGVzYCwgYG1hdGNoZXNQcm9wZXJ0eWAsXG4gICAgICogYG1lbW9pemVgLCBgbWVyZ2VgLCBgbWVyZ2VXaXRoYCwgYG1ldGhvZGAsIGBtZXRob2RPZmAsIGBtaXhpbmAsIGBuZWdhdGVgLFxuICAgICAqIGBudGhBcmdgLCBgb21pdGAsIGBvbWl0QnlgLCBgb25jZWAsIGBvcmRlckJ5YCwgYG92ZXJgLCBgb3ZlckFyZ3NgLFxuICAgICAqIGBvdmVyRXZlcnlgLCBgb3ZlclNvbWVgLCBgcGFydGlhbGAsIGBwYXJ0aWFsUmlnaHRgLCBgcGFydGl0aW9uYCwgYHBpY2tgLFxuICAgICAqIGBwaWNrQnlgLCBgcGxhbnRgLCBgcHJvcGVydHlgLCBgcHJvcGVydHlPZmAsIGBwdWxsYCwgYHB1bGxBbGxgLCBgcHVsbEFsbEJ5YCxcbiAgICAgKiBgcHVsbEFsbFdpdGhgLCBgcHVsbEF0YCwgYHB1c2hgLCBgcmFuZ2VgLCBgcmFuZ2VSaWdodGAsIGByZWFyZ2AsIGByZWplY3RgLFxuICAgICAqIGByZW1vdmVgLCBgcmVzdGAsIGByZXZlcnNlYCwgYHNhbXBsZVNpemVgLCBgc2V0YCwgYHNldFdpdGhgLCBgc2h1ZmZsZWAsXG4gICAgICogYHNsaWNlYCwgYHNvcnRgLCBgc29ydEJ5YCwgYHNwbGljZWAsIGBzcHJlYWRgLCBgdGFpbGAsIGB0YWtlYCwgYHRha2VSaWdodGAsXG4gICAgICogYHRha2VSaWdodFdoaWxlYCwgYHRha2VXaGlsZWAsIGB0YXBgLCBgdGhyb3R0bGVgLCBgdGhydWAsIGB0b0FycmF5YCxcbiAgICAgKiBgdG9QYWlyc2AsIGB0b1BhaXJzSW5gLCBgdG9QYXRoYCwgYHRvUGxhaW5PYmplY3RgLCBgdHJhbnNmb3JtYCwgYHVuYXJ5YCxcbiAgICAgKiBgdW5pb25gLCBgdW5pb25CeWAsIGB1bmlvbldpdGhgLCBgdW5pcWAsIGB1bmlxQnlgLCBgdW5pcVdpdGhgLCBgdW5zZXRgLFxuICAgICAqIGB1bnNoaWZ0YCwgYHVuemlwYCwgYHVuemlwV2l0aGAsIGB1cGRhdGVgLCBgdXBkYXRlV2l0aGAsIGB2YWx1ZXNgLFxuICAgICAqIGB2YWx1ZXNJbmAsIGB3aXRob3V0YCwgYHdyYXBgLCBgeG9yYCwgYHhvckJ5YCwgYHhvcldpdGhgLCBgemlwYCxcbiAgICAgKiBgemlwT2JqZWN0YCwgYHppcE9iamVjdERlZXBgLCBhbmQgYHppcFdpdGhgXG4gICAgICpcbiAgICAgKiBUaGUgd3JhcHBlciBtZXRob2RzIHRoYXQgYXJlICoqbm90KiogY2hhaW5hYmxlIGJ5IGRlZmF1bHQgYXJlOlxuICAgICAqIGBhZGRgLCBgYXR0ZW1wdGAsIGBjYW1lbENhc2VgLCBgY2FwaXRhbGl6ZWAsIGBjZWlsYCwgYGNsYW1wYCwgYGNsb25lYCxcbiAgICAgKiBgY2xvbmVEZWVwYCwgYGNsb25lRGVlcFdpdGhgLCBgY2xvbmVXaXRoYCwgYGNvbmZvcm1zVG9gLCBgZGVidXJyYCxcbiAgICAgKiBgZGVmYXVsdFRvYCwgYGRpdmlkZWAsIGBlYWNoYCwgYGVhY2hSaWdodGAsIGBlbmRzV2l0aGAsIGBlcWAsIGBlc2NhcGVgLFxuICAgICAqIGBlc2NhcGVSZWdFeHBgLCBgZXZlcnlgLCBgZmluZGAsIGBmaW5kSW5kZXhgLCBgZmluZEtleWAsIGBmaW5kTGFzdGAsXG4gICAgICogYGZpbmRMYXN0SW5kZXhgLCBgZmluZExhc3RLZXlgLCBgZmlyc3RgLCBgZmxvb3JgLCBgZm9yRWFjaGAsIGBmb3JFYWNoUmlnaHRgLFxuICAgICAqIGBmb3JJbmAsIGBmb3JJblJpZ2h0YCwgYGZvck93bmAsIGBmb3JPd25SaWdodGAsIGBnZXRgLCBgZ3RgLCBgZ3RlYCwgYGhhc2AsXG4gICAgICogYGhhc0luYCwgYGhlYWRgLCBgaWRlbnRpdHlgLCBgaW5jbHVkZXNgLCBgaW5kZXhPZmAsIGBpblJhbmdlYCwgYGludm9rZWAsXG4gICAgICogYGlzQXJndW1lbnRzYCwgYGlzQXJyYXlgLCBgaXNBcnJheUJ1ZmZlcmAsIGBpc0FycmF5TGlrZWAsIGBpc0FycmF5TGlrZU9iamVjdGAsXG4gICAgICogYGlzQm9vbGVhbmAsIGBpc0J1ZmZlcmAsIGBpc0RhdGVgLCBgaXNFbGVtZW50YCwgYGlzRW1wdHlgLCBgaXNFcXVhbGAsXG4gICAgICogYGlzRXF1YWxXaXRoYCwgYGlzRXJyb3JgLCBgaXNGaW5pdGVgLCBgaXNGdW5jdGlvbmAsIGBpc0ludGVnZXJgLCBgaXNMZW5ndGhgLFxuICAgICAqIGBpc01hcGAsIGBpc01hdGNoYCwgYGlzTWF0Y2hXaXRoYCwgYGlzTmFOYCwgYGlzTmF0aXZlYCwgYGlzTmlsYCwgYGlzTnVsbGAsXG4gICAgICogYGlzTnVtYmVyYCwgYGlzT2JqZWN0YCwgYGlzT2JqZWN0TGlrZWAsIGBpc1BsYWluT2JqZWN0YCwgYGlzUmVnRXhwYCxcbiAgICAgKiBgaXNTYWZlSW50ZWdlcmAsIGBpc1NldGAsIGBpc1N0cmluZ2AsIGBpc1VuZGVmaW5lZGAsIGBpc1R5cGVkQXJyYXlgLFxuICAgICAqIGBpc1dlYWtNYXBgLCBgaXNXZWFrU2V0YCwgYGpvaW5gLCBga2ViYWJDYXNlYCwgYGxhc3RgLCBgbGFzdEluZGV4T2ZgLFxuICAgICAqIGBsb3dlckNhc2VgLCBgbG93ZXJGaXJzdGAsIGBsdGAsIGBsdGVgLCBgbWF4YCwgYG1heEJ5YCwgYG1lYW5gLCBgbWVhbkJ5YCxcbiAgICAgKiBgbWluYCwgYG1pbkJ5YCwgYG11bHRpcGx5YCwgYG5vQ29uZmxpY3RgLCBgbm9vcGAsIGBub3dgLCBgbnRoYCwgYHBhZGAsXG4gICAgICogYHBhZEVuZGAsIGBwYWRTdGFydGAsIGBwYXJzZUludGAsIGBwb3BgLCBgcmFuZG9tYCwgYHJlZHVjZWAsIGByZWR1Y2VSaWdodGAsXG4gICAgICogYHJlcGVhdGAsIGByZXN1bHRgLCBgcm91bmRgLCBgcnVuSW5Db250ZXh0YCwgYHNhbXBsZWAsIGBzaGlmdGAsIGBzaXplYCxcbiAgICAgKiBgc25ha2VDYXNlYCwgYHNvbWVgLCBgc29ydGVkSW5kZXhgLCBgc29ydGVkSW5kZXhCeWAsIGBzb3J0ZWRMYXN0SW5kZXhgLFxuICAgICAqIGBzb3J0ZWRMYXN0SW5kZXhCeWAsIGBzdGFydENhc2VgLCBgc3RhcnRzV2l0aGAsIGBzdHViQXJyYXlgLCBgc3R1YkZhbHNlYCxcbiAgICAgKiBgc3R1Yk9iamVjdGAsIGBzdHViU3RyaW5nYCwgYHN0dWJUcnVlYCwgYHN1YnRyYWN0YCwgYHN1bWAsIGBzdW1CeWAsXG4gICAgICogYHRlbXBsYXRlYCwgYHRpbWVzYCwgYHRvRmluaXRlYCwgYHRvSW50ZWdlcmAsIGB0b0pTT05gLCBgdG9MZW5ndGhgLFxuICAgICAqIGB0b0xvd2VyYCwgYHRvTnVtYmVyYCwgYHRvU2FmZUludGVnZXJgLCBgdG9TdHJpbmdgLCBgdG9VcHBlcmAsIGB0cmltYCxcbiAgICAgKiBgdHJpbUVuZGAsIGB0cmltU3RhcnRgLCBgdHJ1bmNhdGVgLCBgdW5lc2NhcGVgLCBgdW5pcXVlSWRgLCBgdXBwZXJDYXNlYCxcbiAgICAgKiBgdXBwZXJGaXJzdGAsIGB2YWx1ZWAsIGFuZCBgd29yZHNgXG4gICAgICpcbiAgICAgKiBAbmFtZSBfXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHdyYXAgaW4gYSBgbG9kYXNoYCBpbnN0YW5jZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gc3F1YXJlKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICogbjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgd3JhcHBlZCA9IF8oWzEsIDIsIDNdKTtcbiAgICAgKlxuICAgICAqIC8vIFJldHVybnMgYW4gdW53cmFwcGVkIHZhbHVlLlxuICAgICAqIHdyYXBwZWQucmVkdWNlKF8uYWRkKTtcbiAgICAgKiAvLyA9PiA2XG4gICAgICpcbiAgICAgKiAvLyBSZXR1cm5zIGEgd3JhcHBlZCB2YWx1ZS5cbiAgICAgKiB2YXIgc3F1YXJlcyA9IHdyYXBwZWQubWFwKHNxdWFyZSk7XG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXkoc3F1YXJlcyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheShzcXVhcmVzLnZhbHVlKCkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsb2Rhc2godmFsdWUpIHtcbiAgICAgIGlmIChpc09iamVjdExpa2UodmFsdWUpICYmICFpc0FycmF5KHZhbHVlKSAmJiAhKHZhbHVlIGluc3RhbmNlb2YgTGF6eVdyYXBwZXIpKSB7XG4gICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIExvZGFzaFdyYXBwZXIpIHtcbiAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsICdfX3dyYXBwZWRfXycpKSB7XG4gICAgICAgICAgcmV0dXJuIHdyYXBwZXJDbG9uZSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgTG9kYXNoV3JhcHBlcih2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uY3JlYXRlYCB3aXRob3V0IHN1cHBvcnQgZm9yIGFzc2lnbmluZ1xuICAgICAqIHByb3BlcnRpZXMgdG8gdGhlIGNyZWF0ZWQgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJvdG8gVGhlIG9iamVjdCB0byBpbmhlcml0IGZyb20uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKi9cbiAgICB2YXIgYmFzZUNyZWF0ZSA9IChmdW5jdGlvbigpIHtcbiAgICAgIGZ1bmN0aW9uIG9iamVjdCgpIHt9XG4gICAgICByZXR1cm4gZnVuY3Rpb24ocHJvdG8pIHtcbiAgICAgICAgaWYgKCFpc09iamVjdChwcm90bykpIHtcbiAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9iamVjdENyZWF0ZSkge1xuICAgICAgICAgIHJldHVybiBvYmplY3RDcmVhdGUocHJvdG8pO1xuICAgICAgICB9XG4gICAgICAgIG9iamVjdC5wcm90b3R5cGUgPSBwcm90bztcbiAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBvYmplY3Q7XG4gICAgICAgIG9iamVjdC5wcm90b3R5cGUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH0oKSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZnVuY3Rpb24gd2hvc2UgcHJvdG90eXBlIGNoYWluIHNlcXVlbmNlIHdyYXBwZXJzIGluaGVyaXQgZnJvbS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUxvZGFzaCgpIHtcbiAgICAgIC8vIE5vIG9wZXJhdGlvbiBwZXJmb3JtZWQuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgY29uc3RydWN0b3IgZm9yIGNyZWF0aW5nIGBsb2Rhc2hgIHdyYXBwZXIgb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjaGFpbkFsbF0gRW5hYmxlIGV4cGxpY2l0IG1ldGhvZCBjaGFpbiBzZXF1ZW5jZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTG9kYXNoV3JhcHBlcih2YWx1ZSwgY2hhaW5BbGwpIHtcbiAgICAgIHRoaXMuX193cmFwcGVkX18gPSB2YWx1ZTtcbiAgICAgIHRoaXMuX19hY3Rpb25zX18gPSBbXTtcbiAgICAgIHRoaXMuX19jaGFpbl9fID0gISFjaGFpbkFsbDtcbiAgICAgIHRoaXMuX19pbmRleF9fID0gMDtcbiAgICAgIHRoaXMuX192YWx1ZXNfXyA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBCeSBkZWZhdWx0LCB0aGUgdGVtcGxhdGUgZGVsaW1pdGVycyB1c2VkIGJ5IGxvZGFzaCBhcmUgbGlrZSB0aG9zZSBpblxuICAgICAqIGVtYmVkZGVkIFJ1YnkgKEVSQikgYXMgd2VsbCBhcyBFUzIwMTUgdGVtcGxhdGUgc3RyaW5ncy4gQ2hhbmdlIHRoZVxuICAgICAqIGZvbGxvd2luZyB0ZW1wbGF0ZSBzZXR0aW5ncyB0byB1c2UgYWx0ZXJuYXRpdmUgZGVsaW1pdGVycy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICovXG4gICAgbG9kYXNoLnRlbXBsYXRlU2V0dGluZ3MgPSB7XG5cbiAgICAgIC8qKlxuICAgICAgICogVXNlZCB0byBkZXRlY3QgYGRhdGFgIHByb3BlcnR5IHZhbHVlcyB0byBiZSBIVE1MLWVzY2FwZWQuXG4gICAgICAgKlxuICAgICAgICogQG1lbWJlck9mIF8udGVtcGxhdGVTZXR0aW5nc1xuICAgICAgICogQHR5cGUge1JlZ0V4cH1cbiAgICAgICAqL1xuICAgICAgJ2VzY2FwZSc6IHJlRXNjYXBlLFxuXG4gICAgICAvKipcbiAgICAgICAqIFVzZWQgdG8gZGV0ZWN0IGNvZGUgdG8gYmUgZXZhbHVhdGVkLlxuICAgICAgICpcbiAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICAgICAqIEB0eXBlIHtSZWdFeHB9XG4gICAgICAgKi9cbiAgICAgICdldmFsdWF0ZSc6IHJlRXZhbHVhdGUsXG5cbiAgICAgIC8qKlxuICAgICAgICogVXNlZCB0byBkZXRlY3QgYGRhdGFgIHByb3BlcnR5IHZhbHVlcyB0byBpbmplY3QuXG4gICAgICAgKlxuICAgICAgICogQG1lbWJlck9mIF8udGVtcGxhdGVTZXR0aW5nc1xuICAgICAgICogQHR5cGUge1JlZ0V4cH1cbiAgICAgICAqL1xuICAgICAgJ2ludGVycG9sYXRlJzogcmVJbnRlcnBvbGF0ZSxcblxuICAgICAgLyoqXG4gICAgICAgKiBVc2VkIHRvIHJlZmVyZW5jZSB0aGUgZGF0YSBvYmplY3QgaW4gdGhlIHRlbXBsYXRlIHRleHQuXG4gICAgICAgKlxuICAgICAgICogQG1lbWJlck9mIF8udGVtcGxhdGVTZXR0aW5nc1xuICAgICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgICAqL1xuICAgICAgJ3ZhcmlhYmxlJzogJycsXG5cbiAgICAgIC8qKlxuICAgICAgICogVXNlZCB0byBpbXBvcnQgdmFyaWFibGVzIGludG8gdGhlIGNvbXBpbGVkIHRlbXBsYXRlLlxuICAgICAgICpcbiAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICAgKi9cbiAgICAgICdpbXBvcnRzJzoge1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHJlZmVyZW5jZSB0byB0aGUgYGxvZGFzaGAgZnVuY3Rpb24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3MuaW1wb3J0c1xuICAgICAgICAgKiBAdHlwZSB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICAnXyc6IGxvZGFzaFxuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBFbnN1cmUgd3JhcHBlcnMgYXJlIGluc3RhbmNlcyBvZiBgYmFzZUxvZGFzaGAuXG4gICAgbG9kYXNoLnByb3RvdHlwZSA9IGJhc2VMb2Rhc2gucHJvdG90eXBlO1xuICAgIGxvZGFzaC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBsb2Rhc2g7XG5cbiAgICBMb2Rhc2hXcmFwcGVyLnByb3RvdHlwZSA9IGJhc2VDcmVhdGUoYmFzZUxvZGFzaC5wcm90b3R5cGUpO1xuICAgIExvZGFzaFdyYXBwZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTG9kYXNoV3JhcHBlcjtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBsYXp5IHdyYXBwZXIgb2JqZWN0IHdoaWNoIHdyYXBzIGB2YWx1ZWAgdG8gZW5hYmxlIGxhenkgZXZhbHVhdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gd3JhcC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBMYXp5V3JhcHBlcih2YWx1ZSkge1xuICAgICAgdGhpcy5fX3dyYXBwZWRfXyA9IHZhbHVlO1xuICAgICAgdGhpcy5fX2FjdGlvbnNfXyA9IFtdO1xuICAgICAgdGhpcy5fX2Rpcl9fID0gMTtcbiAgICAgIHRoaXMuX19maWx0ZXJlZF9fID0gZmFsc2U7XG4gICAgICB0aGlzLl9faXRlcmF0ZWVzX18gPSBbXTtcbiAgICAgIHRoaXMuX190YWtlQ291bnRfXyA9IE1BWF9BUlJBWV9MRU5HVEg7XG4gICAgICB0aGlzLl9fdmlld3NfXyA9IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGUgbGF6eSB3cmFwcGVyIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgY2xvbmVcbiAgICAgKiBAbWVtYmVyT2YgTGF6eVdyYXBwZXJcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgYExhenlXcmFwcGVyYCBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGF6eUNsb25lKCkge1xuICAgICAgdmFyIHJlc3VsdCA9IG5ldyBMYXp5V3JhcHBlcih0aGlzLl9fd3JhcHBlZF9fKTtcbiAgICAgIHJlc3VsdC5fX2FjdGlvbnNfXyA9IGNvcHlBcnJheSh0aGlzLl9fYWN0aW9uc19fKTtcbiAgICAgIHJlc3VsdC5fX2Rpcl9fID0gdGhpcy5fX2Rpcl9fO1xuICAgICAgcmVzdWx0Ll9fZmlsdGVyZWRfXyA9IHRoaXMuX19maWx0ZXJlZF9fO1xuICAgICAgcmVzdWx0Ll9faXRlcmF0ZWVzX18gPSBjb3B5QXJyYXkodGhpcy5fX2l0ZXJhdGVlc19fKTtcbiAgICAgIHJlc3VsdC5fX3Rha2VDb3VudF9fID0gdGhpcy5fX3Rha2VDb3VudF9fO1xuICAgICAgcmVzdWx0Ll9fdmlld3NfXyA9IGNvcHlBcnJheSh0aGlzLl9fdmlld3NfXyk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldmVyc2VzIHRoZSBkaXJlY3Rpb24gb2YgbGF6eSBpdGVyYXRpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIHJldmVyc2VcbiAgICAgKiBAbWVtYmVyT2YgTGF6eVdyYXBwZXJcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgcmV2ZXJzZWQgYExhenlXcmFwcGVyYCBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGF6eVJldmVyc2UoKSB7XG4gICAgICBpZiAodGhpcy5fX2ZpbHRlcmVkX18pIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBMYXp5V3JhcHBlcih0aGlzKTtcbiAgICAgICAgcmVzdWx0Ll9fZGlyX18gPSAtMTtcbiAgICAgICAgcmVzdWx0Ll9fZmlsdGVyZWRfXyA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHQgPSB0aGlzLmNsb25lKCk7XG4gICAgICAgIHJlc3VsdC5fX2Rpcl9fICo9IC0xO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeHRyYWN0cyB0aGUgdW53cmFwcGVkIHZhbHVlIGZyb20gaXRzIGxhenkgd3JhcHBlci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgdmFsdWVcbiAgICAgKiBAbWVtYmVyT2YgTGF6eVdyYXBwZXJcbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgdW53cmFwcGVkIHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxhenlWYWx1ZSgpIHtcbiAgICAgIHZhciBhcnJheSA9IHRoaXMuX193cmFwcGVkX18udmFsdWUoKSxcbiAgICAgICAgICBkaXIgPSB0aGlzLl9fZGlyX18sXG4gICAgICAgICAgaXNBcnIgPSBpc0FycmF5KGFycmF5KSxcbiAgICAgICAgICBpc1JpZ2h0ID0gZGlyIDwgMCxcbiAgICAgICAgICBhcnJMZW5ndGggPSBpc0FyciA/IGFycmF5Lmxlbmd0aCA6IDAsXG4gICAgICAgICAgdmlldyA9IGdldFZpZXcoMCwgYXJyTGVuZ3RoLCB0aGlzLl9fdmlld3NfXyksXG4gICAgICAgICAgc3RhcnQgPSB2aWV3LnN0YXJ0LFxuICAgICAgICAgIGVuZCA9IHZpZXcuZW5kLFxuICAgICAgICAgIGxlbmd0aCA9IGVuZCAtIHN0YXJ0LFxuICAgICAgICAgIGluZGV4ID0gaXNSaWdodCA/IGVuZCA6IChzdGFydCAtIDEpLFxuICAgICAgICAgIGl0ZXJhdGVlcyA9IHRoaXMuX19pdGVyYXRlZXNfXyxcbiAgICAgICAgICBpdGVyTGVuZ3RoID0gaXRlcmF0ZWVzLmxlbmd0aCxcbiAgICAgICAgICByZXNJbmRleCA9IDAsXG4gICAgICAgICAgdGFrZUNvdW50ID0gbmF0aXZlTWluKGxlbmd0aCwgdGhpcy5fX3Rha2VDb3VudF9fKTtcblxuICAgICAgaWYgKCFpc0FyciB8fCAoIWlzUmlnaHQgJiYgYXJyTGVuZ3RoID09IGxlbmd0aCAmJiB0YWtlQ291bnQgPT0gbGVuZ3RoKSkge1xuICAgICAgICByZXR1cm4gYmFzZVdyYXBwZXJWYWx1ZShhcnJheSwgdGhpcy5fX2FjdGlvbnNfXyk7XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG5cbiAgICAgIG91dGVyOlxuICAgICAgd2hpbGUgKGxlbmd0aC0tICYmIHJlc0luZGV4IDwgdGFrZUNvdW50KSB7XG4gICAgICAgIGluZGV4ICs9IGRpcjtcblxuICAgICAgICB2YXIgaXRlckluZGV4ID0gLTEsXG4gICAgICAgICAgICB2YWx1ZSA9IGFycmF5W2luZGV4XTtcblxuICAgICAgICB3aGlsZSAoKytpdGVySW5kZXggPCBpdGVyTGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIGRhdGEgPSBpdGVyYXRlZXNbaXRlckluZGV4XSxcbiAgICAgICAgICAgICAgaXRlcmF0ZWUgPSBkYXRhLml0ZXJhdGVlLFxuICAgICAgICAgICAgICB0eXBlID0gZGF0YS50eXBlLFxuICAgICAgICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlKHZhbHVlKTtcblxuICAgICAgICAgIGlmICh0eXBlID09IExBWllfTUFQX0ZMQUcpIHtcbiAgICAgICAgICAgIHZhbHVlID0gY29tcHV0ZWQ7XG4gICAgICAgICAgfSBlbHNlIGlmICghY29tcHV0ZWQpIHtcbiAgICAgICAgICAgIGlmICh0eXBlID09IExBWllfRklMVEVSX0ZMQUcpIHtcbiAgICAgICAgICAgICAgY29udGludWUgb3V0ZXI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBicmVhayBvdXRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0W3Jlc0luZGV4KytdID0gdmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8vIEVuc3VyZSBgTGF6eVdyYXBwZXJgIGlzIGFuIGluc3RhbmNlIG9mIGBiYXNlTG9kYXNoYC5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUgPSBiYXNlQ3JlYXRlKGJhc2VMb2Rhc2gucHJvdG90eXBlKTtcbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBMYXp5V3JhcHBlcjtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBoYXNoIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gSGFzaChlbnRyaWVzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG5cbiAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgICAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIGhhc2guXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGNsZWFyXG4gICAgICogQG1lbWJlck9mIEhhc2hcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXNoQ2xlYXIoKSB7XG4gICAgICB0aGlzLl9fZGF0YV9fID0gbmF0aXZlQ3JlYXRlID8gbmF0aXZlQ3JlYXRlKG51bGwpIDoge307XG4gICAgICB0aGlzLnNpemUgPSAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBoYXNoLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBkZWxldGVcbiAgICAgKiBAbWVtYmVyT2YgSGFzaFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBoYXNoIFRoZSBoYXNoIHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzaERlbGV0ZShrZXkpIHtcbiAgICAgIHZhciByZXN1bHQgPSB0aGlzLmhhcyhrZXkpICYmIGRlbGV0ZSB0aGlzLl9fZGF0YV9fW2tleV07XG4gICAgICB0aGlzLnNpemUgLT0gcmVzdWx0ID8gMSA6IDA7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGhhc2ggdmFsdWUgZm9yIGBrZXlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBnZXRcbiAgICAgKiBAbWVtYmVyT2YgSGFzaFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXNoR2V0KGtleSkge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICAgICAgaWYgKG5hdGl2ZUNyZWF0ZSkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gZGF0YVtrZXldO1xuICAgICAgICByZXR1cm4gcmVzdWx0ID09PSBIQVNIX1VOREVGSU5FRCA/IHVuZGVmaW5lZCA6IHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSkgPyBkYXRhW2tleV0gOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGEgaGFzaCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBoYXNcbiAgICAgKiBAbWVtYmVyT2YgSGFzaFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXNoSGFzKGtleSkge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICAgICAgcmV0dXJuIG5hdGl2ZUNyZWF0ZSA/IChkYXRhW2tleV0gIT09IHVuZGVmaW5lZCkgOiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgaGFzaCBga2V5YCB0byBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBzZXRcbiAgICAgKiBAbWVtYmVyT2YgSGFzaFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBoYXNoIGluc3RhbmNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhc2hTZXQoa2V5LCB2YWx1ZSkge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICAgICAgdGhpcy5zaXplICs9IHRoaXMuaGFzKGtleSkgPyAwIDogMTtcbiAgICAgIGRhdGFba2V5XSA9IChuYXRpdmVDcmVhdGUgJiYgdmFsdWUgPT09IHVuZGVmaW5lZCkgPyBIQVNIX1VOREVGSU5FRCA6IHZhbHVlO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gQWRkIG1ldGhvZHMgdG8gYEhhc2hgLlxuICAgIEhhc2gucHJvdG90eXBlLmNsZWFyID0gaGFzaENsZWFyO1xuICAgIEhhc2gucHJvdG90eXBlWydkZWxldGUnXSA9IGhhc2hEZWxldGU7XG4gICAgSGFzaC5wcm90b3R5cGUuZ2V0ID0gaGFzaEdldDtcbiAgICBIYXNoLnByb3RvdHlwZS5oYXMgPSBoYXNoSGFzO1xuICAgIEhhc2gucHJvdG90eXBlLnNldCA9IGhhc2hTZXQ7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGxpc3QgY2FjaGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBMaXN0Q2FjaGUoZW50cmllcykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gZW50cmllcyA9PSBudWxsID8gMCA6IGVudHJpZXMubGVuZ3RoO1xuXG4gICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICAgICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBsaXN0IGNhY2hlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBjbGVhclxuICAgICAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsaXN0Q2FjaGVDbGVhcigpIHtcbiAgICAgIHRoaXMuX19kYXRhX18gPSBbXTtcbiAgICAgIHRoaXMuc2l6ZSA9IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIGxpc3QgY2FjaGUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGRlbGV0ZVxuICAgICAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGlzdENhY2hlRGVsZXRlKGtleSkge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIGxhc3RJbmRleCA9IGRhdGEubGVuZ3RoIC0gMTtcbiAgICAgIGlmIChpbmRleCA9PSBsYXN0SW5kZXgpIHtcbiAgICAgICAgZGF0YS5wb3AoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNwbGljZS5jYWxsKGRhdGEsIGluZGV4LCAxKTtcbiAgICAgIH1cbiAgICAgIC0tdGhpcy5zaXplO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbGlzdCBjYWNoZSB2YWx1ZSBmb3IgYGtleWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGdldFxuICAgICAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGlzdENhY2hlR2V0KGtleSkge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgICAgIHJldHVybiBpbmRleCA8IDAgPyB1bmRlZmluZWQgOiBkYXRhW2luZGV4XVsxXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYSBsaXN0IGNhY2hlIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGhhc1xuICAgICAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGlzdENhY2hlSGFzKGtleSkge1xuICAgICAgcmV0dXJuIGFzc29jSW5kZXhPZih0aGlzLl9fZGF0YV9fLCBrZXkpID4gLTE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbGlzdCBjYWNoZSBga2V5YCB0byBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBzZXRcbiAgICAgKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGxpc3QgY2FjaGUgaW5zdGFuY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGlzdENhY2hlU2V0KGtleSwgdmFsdWUpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgICsrdGhpcy5zaXplO1xuICAgICAgICBkYXRhLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRhdGFbaW5kZXhdWzFdID0gdmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0byBgTGlzdENhY2hlYC5cbiAgICBMaXN0Q2FjaGUucHJvdG90eXBlLmNsZWFyID0gbGlzdENhY2hlQ2xlYXI7XG4gICAgTGlzdENhY2hlLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBsaXN0Q2FjaGVEZWxldGU7XG4gICAgTGlzdENhY2hlLnByb3RvdHlwZS5nZXQgPSBsaXN0Q2FjaGVHZXQ7XG4gICAgTGlzdENhY2hlLnByb3RvdHlwZS5oYXMgPSBsaXN0Q2FjaGVIYXM7XG4gICAgTGlzdENhY2hlLnByb3RvdHlwZS5zZXQgPSBsaXN0Q2FjaGVTZXQ7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbWFwIGNhY2hlIG9iamVjdCB0byBzdG9yZSBrZXktdmFsdWUgcGFpcnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIE1hcENhY2hlKGVudHJpZXMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGVudHJpZXMgPT0gbnVsbCA/IDAgOiBlbnRyaWVzLmxlbmd0aDtcblxuICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgbWFwLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBjbGVhclxuICAgICAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcENhY2hlQ2xlYXIoKSB7XG4gICAgICB0aGlzLnNpemUgPSAwO1xuICAgICAgdGhpcy5fX2RhdGFfXyA9IHtcbiAgICAgICAgJ2hhc2gnOiBuZXcgSGFzaCxcbiAgICAgICAgJ21hcCc6IG5ldyAoTWFwIHx8IExpc3RDYWNoZSksXG4gICAgICAgICdzdHJpbmcnOiBuZXcgSGFzaFxuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgbWFwLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBkZWxldGVcbiAgICAgKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFwQ2FjaGVEZWxldGUoa2V5KSB7XG4gICAgICB2YXIgcmVzdWx0ID0gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpWydkZWxldGUnXShrZXkpO1xuICAgICAgdGhpcy5zaXplIC09IHJlc3VsdCA/IDEgOiAwO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBtYXAgdmFsdWUgZm9yIGBrZXlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBnZXRcbiAgICAgKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFwQ2FjaGVHZXQoa2V5KSB7XG4gICAgICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLmdldChrZXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhIG1hcCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBoYXNcbiAgICAgKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFwQ2FjaGVIYXMoa2V5KSB7XG4gICAgICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLmhhcyhrZXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG1hcCBga2V5YCB0byBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBzZXRcbiAgICAgKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbWFwIGNhY2hlIGluc3RhbmNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcENhY2hlU2V0KGtleSwgdmFsdWUpIHtcbiAgICAgIHZhciBkYXRhID0gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLFxuICAgICAgICAgIHNpemUgPSBkYXRhLnNpemU7XG5cbiAgICAgIGRhdGEuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgdGhpcy5zaXplICs9IGRhdGEuc2l6ZSA9PSBzaXplID8gMCA6IDE7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0byBgTWFwQ2FjaGVgLlxuICAgIE1hcENhY2hlLnByb3RvdHlwZS5jbGVhciA9IG1hcENhY2hlQ2xlYXI7XG4gICAgTWFwQ2FjaGUucHJvdG90eXBlWydkZWxldGUnXSA9IG1hcENhY2hlRGVsZXRlO1xuICAgIE1hcENhY2hlLnByb3RvdHlwZS5nZXQgPSBtYXBDYWNoZUdldDtcbiAgICBNYXBDYWNoZS5wcm90b3R5cGUuaGFzID0gbWFwQ2FjaGVIYXM7XG4gICAgTWFwQ2FjaGUucHJvdG90eXBlLnNldCA9IG1hcENhY2hlU2V0O1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IGNhY2hlIG9iamVjdCB0byBzdG9yZSB1bmlxdWUgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIGNhY2hlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFNldENhY2hlKHZhbHVlcykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gdmFsdWVzID09IG51bGwgPyAwIDogdmFsdWVzLmxlbmd0aDtcblxuICAgICAgdGhpcy5fX2RhdGFfXyA9IG5ldyBNYXBDYWNoZTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuYWRkKHZhbHVlc1tpbmRleF0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgYHZhbHVlYCB0byB0aGUgYXJyYXkgY2FjaGUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGFkZFxuICAgICAqIEBtZW1iZXJPZiBTZXRDYWNoZVxuICAgICAqIEBhbGlhcyBwdXNoXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2FjaGUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2FjaGUgaW5zdGFuY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0Q2FjaGVBZGQodmFsdWUpIHtcbiAgICAgIHRoaXMuX19kYXRhX18uc2V0KHZhbHVlLCBIQVNIX1VOREVGSU5FRCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBpbiB0aGUgYXJyYXkgY2FjaGUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGhhc1xuICAgICAqIEBtZW1iZXJPZiBTZXRDYWNoZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldENhY2hlSGFzKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5fX2RhdGFfXy5oYXModmFsdWUpO1xuICAgIH1cblxuICAgIC8vIEFkZCBtZXRob2RzIHRvIGBTZXRDYWNoZWAuXG4gICAgU2V0Q2FjaGUucHJvdG90eXBlLmFkZCA9IFNldENhY2hlLnByb3RvdHlwZS5wdXNoID0gc2V0Q2FjaGVBZGQ7XG4gICAgU2V0Q2FjaGUucHJvdG90eXBlLmhhcyA9IHNldENhY2hlSGFzO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHN0YWNrIGNhY2hlIG9iamVjdCB0byBzdG9yZSBrZXktdmFsdWUgcGFpcnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFN0YWNrKGVudHJpZXMpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyA9IG5ldyBMaXN0Q2FjaGUoZW50cmllcyk7XG4gICAgICB0aGlzLnNpemUgPSBkYXRhLnNpemU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgc3RhY2suXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGNsZWFyXG4gICAgICogQG1lbWJlck9mIFN0YWNrXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3RhY2tDbGVhcigpIHtcbiAgICAgIHRoaXMuX19kYXRhX18gPSBuZXcgTGlzdENhY2hlO1xuICAgICAgdGhpcy5zaXplID0gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgc3RhY2suXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGRlbGV0ZVxuICAgICAqIEBtZW1iZXJPZiBTdGFja1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdGFja0RlbGV0ZShrZXkpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgICAgICByZXN1bHQgPSBkYXRhWydkZWxldGUnXShrZXkpO1xuXG4gICAgICB0aGlzLnNpemUgPSBkYXRhLnNpemU7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHN0YWNrIHZhbHVlIGZvciBga2V5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZ2V0XG4gICAgICogQG1lbWJlck9mIFN0YWNrXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0YWNrR2V0KGtleSkge1xuICAgICAgcmV0dXJuIHRoaXMuX19kYXRhX18uZ2V0KGtleSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGEgc3RhY2sgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgaGFzXG4gICAgICogQG1lbWJlck9mIFN0YWNrXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0YWNrSGFzKGtleSkge1xuICAgICAgcmV0dXJuIHRoaXMuX19kYXRhX18uaGFzKGtleSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgc3RhY2sgYGtleWAgdG8gYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgc2V0XG4gICAgICogQG1lbWJlck9mIFN0YWNrXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIHN0YWNrIGNhY2hlIGluc3RhbmNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0YWNrU2V0KGtleSwgdmFsdWUpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgICAgIGlmIChkYXRhIGluc3RhbmNlb2YgTGlzdENhY2hlKSB7XG4gICAgICAgIHZhciBwYWlycyA9IGRhdGEuX19kYXRhX187XG4gICAgICAgIGlmICghTWFwIHx8IChwYWlycy5sZW5ndGggPCBMQVJHRV9BUlJBWV9TSVpFIC0gMSkpIHtcbiAgICAgICAgICBwYWlycy5wdXNoKFtrZXksIHZhbHVlXSk7XG4gICAgICAgICAgdGhpcy5zaXplID0gKytkYXRhLnNpemU7XG4gICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgZGF0YSA9IHRoaXMuX19kYXRhX18gPSBuZXcgTWFwQ2FjaGUocGFpcnMpO1xuICAgICAgfVxuICAgICAgZGF0YS5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICB0aGlzLnNpemUgPSBkYXRhLnNpemU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0byBgU3RhY2tgLlxuICAgIFN0YWNrLnByb3RvdHlwZS5jbGVhciA9IHN0YWNrQ2xlYXI7XG4gICAgU3RhY2sucHJvdG90eXBlWydkZWxldGUnXSA9IHN0YWNrRGVsZXRlO1xuICAgIFN0YWNrLnByb3RvdHlwZS5nZXQgPSBzdGFja0dldDtcbiAgICBTdGFjay5wcm90b3R5cGUuaGFzID0gc3RhY2tIYXM7XG4gICAgU3RhY2sucHJvdG90eXBlLnNldCA9IHN0YWNrU2V0O1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBvZiB0aGUgYXJyYXktbGlrZSBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGluaGVyaXRlZCBTcGVjaWZ5IHJldHVybmluZyBpbmhlcml0ZWQgcHJvcGVydHkgbmFtZXMuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhcnJheUxpa2VLZXlzKHZhbHVlLCBpbmhlcml0ZWQpIHtcbiAgICAgIHZhciBpc0FyciA9IGlzQXJyYXkodmFsdWUpLFxuICAgICAgICAgIGlzQXJnID0gIWlzQXJyICYmIGlzQXJndW1lbnRzKHZhbHVlKSxcbiAgICAgICAgICBpc0J1ZmYgPSAhaXNBcnIgJiYgIWlzQXJnICYmIGlzQnVmZmVyKHZhbHVlKSxcbiAgICAgICAgICBpc1R5cGUgPSAhaXNBcnIgJiYgIWlzQXJnICYmICFpc0J1ZmYgJiYgaXNUeXBlZEFycmF5KHZhbHVlKSxcbiAgICAgICAgICBza2lwSW5kZXhlcyA9IGlzQXJyIHx8IGlzQXJnIHx8IGlzQnVmZiB8fCBpc1R5cGUsXG4gICAgICAgICAgcmVzdWx0ID0gc2tpcEluZGV4ZXMgPyBiYXNlVGltZXModmFsdWUubGVuZ3RoLCBTdHJpbmcpIDogW10sXG4gICAgICAgICAgbGVuZ3RoID0gcmVzdWx0Lmxlbmd0aDtcblxuICAgICAgZm9yICh2YXIga2V5IGluIHZhbHVlKSB7XG4gICAgICAgIGlmICgoaW5oZXJpdGVkIHx8IGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIGtleSkpICYmXG4gICAgICAgICAgICAhKHNraXBJbmRleGVzICYmIChcbiAgICAgICAgICAgICAgIC8vIFNhZmFyaSA5IGhhcyBlbnVtZXJhYmxlIGBhcmd1bWVudHMubGVuZ3RoYCBpbiBzdHJpY3QgbW9kZS5cbiAgICAgICAgICAgICAgIGtleSA9PSAnbGVuZ3RoJyB8fFxuICAgICAgICAgICAgICAgLy8gTm9kZS5qcyAwLjEwIGhhcyBlbnVtZXJhYmxlIG5vbi1pbmRleCBwcm9wZXJ0aWVzIG9uIGJ1ZmZlcnMuXG4gICAgICAgICAgICAgICAoaXNCdWZmICYmIChrZXkgPT0gJ29mZnNldCcgfHwga2V5ID09ICdwYXJlbnQnKSkgfHxcbiAgICAgICAgICAgICAgIC8vIFBoYW50b21KUyAyIGhhcyBlbnVtZXJhYmxlIG5vbi1pbmRleCBwcm9wZXJ0aWVzIG9uIHR5cGVkIGFycmF5cy5cbiAgICAgICAgICAgICAgIChpc1R5cGUgJiYgKGtleSA9PSAnYnVmZmVyJyB8fCBrZXkgPT0gJ2J5dGVMZW5ndGgnIHx8IGtleSA9PSAnYnl0ZU9mZnNldCcpKSB8fFxuICAgICAgICAgICAgICAgLy8gU2tpcCBpbmRleCBwcm9wZXJ0aWVzLlxuICAgICAgICAgICAgICAgaXNJbmRleChrZXksIGxlbmd0aClcbiAgICAgICAgICAgICkpKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uc2FtcGxlYCBmb3IgYXJyYXlzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2FtcGxlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByYW5kb20gZWxlbWVudC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhcnJheVNhbXBsZShhcnJheSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgICAgIHJldHVybiBsZW5ndGggPyBhcnJheVtiYXNlUmFuZG9tKDAsIGxlbmd0aCAtIDEpXSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uc2FtcGxlU2l6ZWAgZm9yIGFycmF5cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNhbXBsZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIHNhbXBsZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHJhbmRvbSBlbGVtZW50cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhcnJheVNhbXBsZVNpemUoYXJyYXksIG4pIHtcbiAgICAgIHJldHVybiBzaHVmZmxlU2VsZihjb3B5QXJyYXkoYXJyYXkpLCBiYXNlQ2xhbXAobiwgMCwgYXJyYXkubGVuZ3RoKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnNodWZmbGVgIGZvciBhcnJheXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBzaHVmZmxlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IHNodWZmbGVkIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFycmF5U2h1ZmZsZShhcnJheSkge1xuICAgICAgcmV0dXJuIHNodWZmbGVTZWxmKGNvcHlBcnJheShhcnJheSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZSBgYXNzaWduVmFsdWVgIGV4Y2VwdCB0aGF0IGl0IGRvZXNuJ3QgYXNzaWduXG4gICAgICogYHVuZGVmaW5lZGAgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gYXNzaWduLlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGFzc2lnbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhc3NpZ25NZXJnZVZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICAgICAgaWYgKCh2YWx1ZSAhPT0gdW5kZWZpbmVkICYmICFlcShvYmplY3Rba2V5XSwgdmFsdWUpKSB8fFxuICAgICAgICAgICh2YWx1ZSA9PT0gdW5kZWZpbmVkICYmICEoa2V5IGluIG9iamVjdCkpKSB7XG4gICAgICAgIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFzc2lnbnMgYHZhbHVlYCB0byBga2V5YCBvZiBgb2JqZWN0YCBpZiB0aGUgZXhpc3RpbmcgdmFsdWUgaXMgbm90IGVxdWl2YWxlbnRcbiAgICAgKiB1c2luZyBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGFzc2lnbi5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gICAgICB2YXIgb2JqVmFsdWUgPSBvYmplY3Rba2V5XTtcbiAgICAgIGlmICghKGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpICYmIGVxKG9ialZhbHVlLCB2YWx1ZSkpIHx8XG4gICAgICAgICAgKHZhbHVlID09PSB1bmRlZmluZWQgJiYgIShrZXkgaW4gb2JqZWN0KSkpIHtcbiAgICAgICAgYmFzZUFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgaW5kZXggYXQgd2hpY2ggdGhlIGBrZXlgIGlzIGZvdW5kIGluIGBhcnJheWAgb2Yga2V5LXZhbHVlIHBhaXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IGtleSBUaGUga2V5IHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhc3NvY0luZGV4T2YoYXJyYXksIGtleSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICBpZiAoZXEoYXJyYXlbbGVuZ3RoXVswXSwga2V5KSkge1xuICAgICAgICAgIHJldHVybiBsZW5ndGg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZ2dyZWdhdGVzIGVsZW1lbnRzIG9mIGBjb2xsZWN0aW9uYCBvbiBgYWNjdW11bGF0b3JgIHdpdGgga2V5cyB0cmFuc2Zvcm1lZFxuICAgICAqIGJ5IGBpdGVyYXRlZWAgYW5kIHZhbHVlcyBzZXQgYnkgYHNldHRlcmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzZXR0ZXIgVGhlIGZ1bmN0aW9uIHRvIHNldCBgYWNjdW11bGF0b3JgIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgaXRlcmF0ZWUgdG8gdHJhbnNmb3JtIGtleXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGFjY3VtdWxhdG9yIFRoZSBpbml0aWFsIGFnZ3JlZ2F0ZWQgb2JqZWN0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgYWNjdW11bGF0b3JgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VBZ2dyZWdhdG9yKGNvbGxlY3Rpb24sIHNldHRlciwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yKSB7XG4gICAgICBiYXNlRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHNldHRlcihhY2N1bXVsYXRvciwgdmFsdWUsIGl0ZXJhdGVlKHZhbHVlKSwgY29sbGVjdGlvbik7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5hc3NpZ25gIHdpdGhvdXQgc3VwcG9ydCBmb3IgbXVsdGlwbGUgc291cmNlc1xuICAgICAqIG9yIGBjdXN0b21pemVyYCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUFzc2lnbihvYmplY3QsIHNvdXJjZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAmJiBjb3B5T2JqZWN0KHNvdXJjZSwga2V5cyhzb3VyY2UpLCBvYmplY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmFzc2lnbkluYCB3aXRob3V0IHN1cHBvcnQgZm9yIG11bHRpcGxlIHNvdXJjZXNcbiAgICAgKiBvciBgY3VzdG9taXplcmAgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VBc3NpZ25JbihvYmplY3QsIHNvdXJjZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAmJiBjb3B5T2JqZWN0KHNvdXJjZSwga2V5c0luKHNvdXJjZSksIG9iamVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGFzc2lnblZhbHVlYCBhbmQgYGFzc2lnbk1lcmdlVmFsdWVgIHdpdGhvdXRcbiAgICAgKiB2YWx1ZSBjaGVja3MuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBhc3NpZ24uXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gYXNzaWduLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgICAgIGlmIChrZXkgPT0gJ19fcHJvdG9fXycgJiYgZGVmaW5lUHJvcGVydHkpIHtcbiAgICAgICAgZGVmaW5lUHJvcGVydHkob2JqZWN0LCBrZXksIHtcbiAgICAgICAgICAnY29uZmlndXJhYmxlJzogdHJ1ZSxcbiAgICAgICAgICAnZW51bWVyYWJsZSc6IHRydWUsXG4gICAgICAgICAgJ3ZhbHVlJzogdmFsdWUsXG4gICAgICAgICAgJ3dyaXRhYmxlJzogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9iamVjdFtrZXldID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uYXRgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaW5kaXZpZHVhbCBwYXRocy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBwYXRocyBUaGUgcHJvcGVydHkgcGF0aHMgdG8gcGljay5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHBpY2tlZCBlbGVtZW50cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQXQob2JqZWN0LCBwYXRocykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcGF0aHMubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IEFycmF5KGxlbmd0aCksXG4gICAgICAgICAgc2tpcCA9IG9iamVjdCA9PSBudWxsO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICByZXN1bHRbaW5kZXhdID0gc2tpcCA/IHVuZGVmaW5lZCA6IGdldChvYmplY3QsIHBhdGhzW2luZGV4XSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNsYW1wYCB3aGljaCBkb2Vzbid0IGNvZXJjZSBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBudW1iZXIgVGhlIG51bWJlciB0byBjbGFtcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xvd2VyXSBUaGUgbG93ZXIgYm91bmQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHVwcGVyIFRoZSB1cHBlciBib3VuZC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjbGFtcGVkIG51bWJlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQ2xhbXAobnVtYmVyLCBsb3dlciwgdXBwZXIpIHtcbiAgICAgIGlmIChudW1iZXIgPT09IG51bWJlcikge1xuICAgICAgICBpZiAodXBwZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIG51bWJlciA9IG51bWJlciA8PSB1cHBlciA/IG51bWJlciA6IHVwcGVyO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsb3dlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgbnVtYmVyID0gbnVtYmVyID49IGxvd2VyID8gbnVtYmVyIDogbG93ZXI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBudW1iZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uY2xvbmVgIGFuZCBgXy5jbG9uZURlZXBgIHdoaWNoIHRyYWNrc1xuICAgICAqIHRyYXZlcnNlZCBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuXG4gICAgICogIDEgLSBEZWVwIGNsb25lXG4gICAgICogIDIgLSBGbGF0dGVuIGluaGVyaXRlZCBwcm9wZXJ0aWVzXG4gICAgICogIDQgLSBDbG9uZSBzeW1ib2xzXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY2xvbmluZy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2tleV0gVGhlIGtleSBvZiBgdmFsdWVgLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgcGFyZW50IG9iamVjdCBvZiBgdmFsdWVgLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgb2JqZWN0cyBhbmQgdGhlaXIgY2xvbmUgY291bnRlcnBhcnRzLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBjbG9uZWQgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUNsb25lKHZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBrZXksIG9iamVjdCwgc3RhY2spIHtcbiAgICAgIHZhciByZXN1bHQsXG4gICAgICAgICAgaXNEZWVwID0gYml0bWFzayAmIENMT05FX0RFRVBfRkxBRyxcbiAgICAgICAgICBpc0ZsYXQgPSBiaXRtYXNrICYgQ0xPTkVfRkxBVF9GTEFHLFxuICAgICAgICAgIGlzRnVsbCA9IGJpdG1hc2sgJiBDTE9ORV9TWU1CT0xTX0ZMQUc7XG5cbiAgICAgIGlmIChjdXN0b21pemVyKSB7XG4gICAgICAgIHJlc3VsdCA9IG9iamVjdCA/IGN1c3RvbWl6ZXIodmFsdWUsIGtleSwgb2JqZWN0LCBzdGFjaykgOiBjdXN0b21pemVyKHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGlmIChyZXN1bHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgaWYgKCFpc09iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgdmFyIGlzQXJyID0gaXNBcnJheSh2YWx1ZSk7XG4gICAgICBpZiAoaXNBcnIpIHtcbiAgICAgICAgcmVzdWx0ID0gaW5pdENsb25lQXJyYXkodmFsdWUpO1xuICAgICAgICBpZiAoIWlzRGVlcCkge1xuICAgICAgICAgIHJldHVybiBjb3B5QXJyYXkodmFsdWUsIHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciB0YWcgPSBnZXRUYWcodmFsdWUpLFxuICAgICAgICAgICAgaXNGdW5jID0gdGFnID09IGZ1bmNUYWcgfHwgdGFnID09IGdlblRhZztcblxuICAgICAgICBpZiAoaXNCdWZmZXIodmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIGNsb25lQnVmZmVyKHZhbHVlLCBpc0RlZXApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0YWcgPT0gb2JqZWN0VGFnIHx8IHRhZyA9PSBhcmdzVGFnIHx8IChpc0Z1bmMgJiYgIW9iamVjdCkpIHtcbiAgICAgICAgICByZXN1bHQgPSAoaXNGbGF0IHx8IGlzRnVuYykgPyB7fSA6IGluaXRDbG9uZU9iamVjdCh2YWx1ZSk7XG4gICAgICAgICAgaWYgKCFpc0RlZXApIHtcbiAgICAgICAgICAgIHJldHVybiBpc0ZsYXRcbiAgICAgICAgICAgICAgPyBjb3B5U3ltYm9sc0luKHZhbHVlLCBiYXNlQXNzaWduSW4ocmVzdWx0LCB2YWx1ZSkpXG4gICAgICAgICAgICAgIDogY29weVN5bWJvbHModmFsdWUsIGJhc2VBc3NpZ24ocmVzdWx0LCB2YWx1ZSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoIWNsb25lYWJsZVRhZ3NbdGFnXSkge1xuICAgICAgICAgICAgcmV0dXJuIG9iamVjdCA/IHZhbHVlIDoge307XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdCA9IGluaXRDbG9uZUJ5VGFnKHZhbHVlLCB0YWcsIGlzRGVlcCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIENoZWNrIGZvciBjaXJjdWxhciByZWZlcmVuY2VzIGFuZCByZXR1cm4gaXRzIGNvcnJlc3BvbmRpbmcgY2xvbmUuXG4gICAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICAgICAgdmFyIHN0YWNrZWQgPSBzdGFjay5nZXQodmFsdWUpO1xuICAgICAgaWYgKHN0YWNrZWQpIHtcbiAgICAgICAgcmV0dXJuIHN0YWNrZWQ7XG4gICAgICB9XG4gICAgICBzdGFjay5zZXQodmFsdWUsIHJlc3VsdCk7XG5cbiAgICAgIGlmIChpc1NldCh2YWx1ZSkpIHtcbiAgICAgICAgdmFsdWUuZm9yRWFjaChmdW5jdGlvbihzdWJWYWx1ZSkge1xuICAgICAgICAgIHJlc3VsdC5hZGQoYmFzZUNsb25lKHN1YlZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdWJWYWx1ZSwgdmFsdWUsIHN0YWNrKSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChpc01hcCh2YWx1ZSkpIHtcbiAgICAgICAgdmFsdWUuZm9yRWFjaChmdW5jdGlvbihzdWJWYWx1ZSwga2V5KSB7XG4gICAgICAgICAgcmVzdWx0LnNldChrZXksIGJhc2VDbG9uZShzdWJWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwga2V5LCB2YWx1ZSwgc3RhY2spKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBrZXlzRnVuYyA9IGlzRnVsbFxuICAgICAgICA/IChpc0ZsYXQgPyBnZXRBbGxLZXlzSW4gOiBnZXRBbGxLZXlzKVxuICAgICAgICA6IChpc0ZsYXQgPyBrZXlzSW4gOiBrZXlzKTtcblxuICAgICAgdmFyIHByb3BzID0gaXNBcnIgPyB1bmRlZmluZWQgOiBrZXlzRnVuYyh2YWx1ZSk7XG4gICAgICBhcnJheUVhY2gocHJvcHMgfHwgdmFsdWUsIGZ1bmN0aW9uKHN1YlZhbHVlLCBrZXkpIHtcbiAgICAgICAgaWYgKHByb3BzKSB7XG4gICAgICAgICAga2V5ID0gc3ViVmFsdWU7XG4gICAgICAgICAgc3ViVmFsdWUgPSB2YWx1ZVtrZXldO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlY3Vyc2l2ZWx5IHBvcHVsYXRlIGNsb25lIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgIGFzc2lnblZhbHVlKHJlc3VsdCwga2V5LCBiYXNlQ2xvbmUoc3ViVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGtleSwgdmFsdWUsIHN0YWNrKSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uY29uZm9ybXNgIHdoaWNoIGRvZXNuJ3QgY2xvbmUgYHNvdXJjZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSBwcmVkaWNhdGVzIHRvIGNvbmZvcm0gdG8uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQ29uZm9ybXMoc291cmNlKSB7XG4gICAgICB2YXIgcHJvcHMgPSBrZXlzKHNvdXJjZSk7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBiYXNlQ29uZm9ybXNUbyhvYmplY3QsIHNvdXJjZSwgcHJvcHMpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5jb25mb3Jtc1RvYCB3aGljaCBhY2NlcHRzIGBwcm9wc2AgdG8gY2hlY2suXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSBwcmVkaWNhdGVzIHRvIGNvbmZvcm0gdG8uXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBvYmplY3RgIGNvbmZvcm1zLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUNvbmZvcm1zVG8ob2JqZWN0LCBzb3VyY2UsIHByb3BzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuICAgICAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiAhbGVuZ3RoO1xuICAgICAgfVxuICAgICAgb2JqZWN0ID0gT2JqZWN0KG9iamVjdCk7XG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgdmFyIGtleSA9IHByb3BzW2xlbmd0aF0sXG4gICAgICAgICAgICBwcmVkaWNhdGUgPSBzb3VyY2Vba2V5XSxcbiAgICAgICAgICAgIHZhbHVlID0gb2JqZWN0W2tleV07XG5cbiAgICAgICAgaWYgKCh2YWx1ZSA9PT0gdW5kZWZpbmVkICYmICEoa2V5IGluIG9iamVjdCkpIHx8ICFwcmVkaWNhdGUodmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5kZWxheWAgYW5kIGBfLmRlZmVyYCB3aGljaCBhY2NlcHRzIGBhcmdzYFxuICAgICAqIHRvIHByb3ZpZGUgdG8gYGZ1bmNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBkZWxheS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2FpdCBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byBkZWxheSBpbnZvY2F0aW9uLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFyZ3MgVGhlIGFyZ3VtZW50cyB0byBwcm92aWRlIHRvIGBmdW5jYC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfE9iamVjdH0gUmV0dXJucyB0aGUgdGltZXIgaWQgb3IgdGltZW91dCBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZURlbGF5KGZ1bmMsIHdhaXQsIGFyZ3MpIHtcbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyBmdW5jLmFwcGx5KHVuZGVmaW5lZCwgYXJncyk7IH0sIHdhaXQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIG1ldGhvZHMgbGlrZSBgXy5kaWZmZXJlbmNlYCB3aXRob3V0IHN1cHBvcnRcbiAgICAgKiBmb3IgZXhjbHVkaW5nIG11bHRpcGxlIGFycmF5cyBvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byBleGNsdWRlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VEaWZmZXJlbmNlKGFycmF5LCB2YWx1ZXMsIGl0ZXJhdGVlLCBjb21wYXJhdG9yKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBpbmNsdWRlcyA9IGFycmF5SW5jbHVkZXMsXG4gICAgICAgICAgaXNDb21tb24gPSB0cnVlLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSBbXSxcbiAgICAgICAgICB2YWx1ZXNMZW5ndGggPSB2YWx1ZXMubGVuZ3RoO1xuXG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgaWYgKGl0ZXJhdGVlKSB7XG4gICAgICAgIHZhbHVlcyA9IGFycmF5TWFwKHZhbHVlcywgYmFzZVVuYXJ5KGl0ZXJhdGVlKSk7XG4gICAgICB9XG4gICAgICBpZiAoY29tcGFyYXRvcikge1xuICAgICAgICBpbmNsdWRlcyA9IGFycmF5SW5jbHVkZXNXaXRoO1xuICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAodmFsdWVzLmxlbmd0aCA+PSBMQVJHRV9BUlJBWV9TSVpFKSB7XG4gICAgICAgIGluY2x1ZGVzID0gY2FjaGVIYXM7XG4gICAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgICAgIHZhbHVlcyA9IG5ldyBTZXRDYWNoZSh2YWx1ZXMpO1xuICAgICAgfVxuICAgICAgb3V0ZXI6XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF0sXG4gICAgICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlID09IG51bGwgPyB2YWx1ZSA6IGl0ZXJhdGVlKHZhbHVlKTtcblxuICAgICAgICB2YWx1ZSA9IChjb21wYXJhdG9yIHx8IHZhbHVlICE9PSAwKSA/IHZhbHVlIDogMDtcbiAgICAgICAgaWYgKGlzQ29tbW9uICYmIGNvbXB1dGVkID09PSBjb21wdXRlZCkge1xuICAgICAgICAgIHZhciB2YWx1ZXNJbmRleCA9IHZhbHVlc0xlbmd0aDtcbiAgICAgICAgICB3aGlsZSAodmFsdWVzSW5kZXgtLSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlc1t2YWx1ZXNJbmRleF0gPT09IGNvbXB1dGVkKSB7XG4gICAgICAgICAgICAgIGNvbnRpbnVlIG91dGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIWluY2x1ZGVzKHZhbHVlcywgY29tcHV0ZWQsIGNvbXBhcmF0b3IpKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZvckVhY2hgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fE9iamVjdH0gUmV0dXJucyBgY29sbGVjdGlvbmAuXG4gICAgICovXG4gICAgdmFyIGJhc2VFYWNoID0gY3JlYXRlQmFzZUVhY2goYmFzZUZvck93bik7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5mb3JFYWNoUmlnaHRgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fE9iamVjdH0gUmV0dXJucyBgY29sbGVjdGlvbmAuXG4gICAgICovXG4gICAgdmFyIGJhc2VFYWNoUmlnaHQgPSBjcmVhdGVCYXNlRWFjaChiYXNlRm9yT3duUmlnaHQsIHRydWUpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZXZlcnlgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbGwgZWxlbWVudHMgcGFzcyB0aGUgcHJlZGljYXRlIGNoZWNrLFxuICAgICAqICBlbHNlIGBmYWxzZWBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRXZlcnkoY29sbGVjdGlvbiwgcHJlZGljYXRlKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gdHJ1ZTtcbiAgICAgIGJhc2VFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgICByZXN1bHQgPSAhIXByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIG1ldGhvZHMgbGlrZSBgXy5tYXhgIGFuZCBgXy5taW5gIHdoaWNoIGFjY2VwdHMgYVxuICAgICAqIGBjb21wYXJhdG9yYCB0byBkZXRlcm1pbmUgdGhlIGV4dHJlbXVtIHZhbHVlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY29tcGFyYXRvciBUaGUgY29tcGFyYXRvciB1c2VkIHRvIGNvbXBhcmUgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBleHRyZW11bSB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRXh0cmVtdW0oYXJyYXksIGl0ZXJhdGVlLCBjb21wYXJhdG9yKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgICAgIGN1cnJlbnQgPSBpdGVyYXRlZSh2YWx1ZSk7XG5cbiAgICAgICAgaWYgKGN1cnJlbnQgIT0gbnVsbCAmJiAoY29tcHV0ZWQgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICA/IChjdXJyZW50ID09PSBjdXJyZW50ICYmICFpc1N5bWJvbChjdXJyZW50KSlcbiAgICAgICAgICAgICAgOiBjb21wYXJhdG9yKGN1cnJlbnQsIGNvbXB1dGVkKVxuICAgICAgICAgICAgKSkge1xuICAgICAgICAgIHZhciBjb21wdXRlZCA9IGN1cnJlbnQsXG4gICAgICAgICAgICAgIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZpbGxgIHdpdGhvdXQgYW4gaXRlcmF0ZWUgY2FsbCBndWFyZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGZpbGwuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZmlsbCBgYXJyYXlgIHdpdGguXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlbmQ9YXJyYXkubGVuZ3RoXSBUaGUgZW5kIHBvc2l0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VGaWxsKGFycmF5LCB2YWx1ZSwgc3RhcnQsIGVuZCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgICAgc3RhcnQgPSB0b0ludGVnZXIoc3RhcnQpO1xuICAgICAgaWYgKHN0YXJ0IDwgMCkge1xuICAgICAgICBzdGFydCA9IC1zdGFydCA+IGxlbmd0aCA/IDAgOiAobGVuZ3RoICsgc3RhcnQpO1xuICAgICAgfVxuICAgICAgZW5kID0gKGVuZCA9PT0gdW5kZWZpbmVkIHx8IGVuZCA+IGxlbmd0aCkgPyBsZW5ndGggOiB0b0ludGVnZXIoZW5kKTtcbiAgICAgIGlmIChlbmQgPCAwKSB7XG4gICAgICAgIGVuZCArPSBsZW5ndGg7XG4gICAgICB9XG4gICAgICBlbmQgPSBzdGFydCA+IGVuZCA/IDAgOiB0b0xlbmd0aChlbmQpO1xuICAgICAgd2hpbGUgKHN0YXJ0IDwgZW5kKSB7XG4gICAgICAgIGFycmF5W3N0YXJ0KytdID0gdmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZmlsdGVyYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmaWx0ZXJlZCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRmlsdGVyKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgYmFzZUVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZsYXR0ZW5gIHdpdGggc3VwcG9ydCBmb3IgcmVzdHJpY3RpbmcgZmxhdHRlbmluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGZsYXR0ZW4uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlcHRoIFRoZSBtYXhpbXVtIHJlY3Vyc2lvbiBkZXB0aC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtwcmVkaWNhdGU9aXNGbGF0dGVuYWJsZV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc1N0cmljdF0gUmVzdHJpY3QgdG8gdmFsdWVzIHRoYXQgcGFzcyBgcHJlZGljYXRlYCBjaGVja3MuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3Jlc3VsdD1bXV0gVGhlIGluaXRpYWwgcmVzdWx0IHZhbHVlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZsYXR0ZW5lZCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRmxhdHRlbihhcnJheSwgZGVwdGgsIHByZWRpY2F0ZSwgaXNTdHJpY3QsIHJlc3VsdCkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgICBwcmVkaWNhdGUgfHwgKHByZWRpY2F0ZSA9IGlzRmxhdHRlbmFibGUpO1xuICAgICAgcmVzdWx0IHx8IChyZXN1bHQgPSBbXSk7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICAgICAgaWYgKGRlcHRoID4gMCAmJiBwcmVkaWNhdGUodmFsdWUpKSB7XG4gICAgICAgICAgaWYgKGRlcHRoID4gMSkge1xuICAgICAgICAgICAgLy8gUmVjdXJzaXZlbHkgZmxhdHRlbiBhcnJheXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgICAgIGJhc2VGbGF0dGVuKHZhbHVlLCBkZXB0aCAtIDEsIHByZWRpY2F0ZSwgaXNTdHJpY3QsIHJlc3VsdCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFycmF5UHVzaChyZXN1bHQsIHZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoIWlzU3RyaWN0KSB7XG4gICAgICAgICAgcmVzdWx0W3Jlc3VsdC5sZW5ndGhdID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGJhc2VGb3JPd25gIHdoaWNoIGl0ZXJhdGVzIG92ZXIgYG9iamVjdGBcbiAgICAgKiBwcm9wZXJ0aWVzIHJldHVybmVkIGJ5IGBrZXlzRnVuY2AgYW5kIGludm9rZXMgYGl0ZXJhdGVlYCBmb3IgZWFjaCBwcm9wZXJ0eS5cbiAgICAgKiBJdGVyYXRlZSBmdW5jdGlvbnMgbWF5IGV4aXQgaXRlcmF0aW9uIGVhcmx5IGJ5IGV4cGxpY2l0bHkgcmV0dXJuaW5nIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBrZXlzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBrZXlzIG9mIGBvYmplY3RgLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgdmFyIGJhc2VGb3IgPSBjcmVhdGVCYXNlRm9yKCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2UgYGJhc2VGb3JgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgcHJvcGVydGllc1xuICAgICAqIGluIHRoZSBvcHBvc2l0ZSBvcmRlci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGtleXNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIGtleXMgb2YgYG9iamVjdGAuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICB2YXIgYmFzZUZvclJpZ2h0ID0gY3JlYXRlQmFzZUZvcih0cnVlKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZvck93bmAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRm9yT3duKG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgJiYgYmFzZUZvcihvYmplY3QsIGl0ZXJhdGVlLCBrZXlzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5mb3JPd25SaWdodGAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRm9yT3duUmlnaHQob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAmJiBiYXNlRm9yUmlnaHQob2JqZWN0LCBpdGVyYXRlZSwga2V5cyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZnVuY3Rpb25zYCB3aGljaCBjcmVhdGVzIGFuIGFycmF5IG9mXG4gICAgICogYG9iamVjdGAgZnVuY3Rpb24gcHJvcGVydHkgbmFtZXMgZmlsdGVyZWQgZnJvbSBgcHJvcHNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwcm9wcyBUaGUgcHJvcGVydHkgbmFtZXMgdG8gZmlsdGVyLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgZnVuY3Rpb24gbmFtZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUZ1bmN0aW9ucyhvYmplY3QsIHByb3BzKSB7XG4gICAgICByZXR1cm4gYXJyYXlGaWx0ZXIocHJvcHMsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgICByZXR1cm4gaXNGdW5jdGlvbihvYmplY3Rba2V5XSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5nZXRgIHdpdGhvdXQgc3VwcG9ydCBmb3IgZGVmYXVsdCB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXNvbHZlZCB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlR2V0KG9iamVjdCwgcGF0aCkge1xuICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG5cbiAgICAgIHZhciBpbmRleCA9IDAsXG4gICAgICAgICAgbGVuZ3RoID0gcGF0aC5sZW5ndGg7XG5cbiAgICAgIHdoaWxlIChvYmplY3QgIT0gbnVsbCAmJiBpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICBvYmplY3QgPSBvYmplY3RbdG9LZXkocGF0aFtpbmRleCsrXSldO1xuICAgICAgfVxuICAgICAgcmV0dXJuIChpbmRleCAmJiBpbmRleCA9PSBsZW5ndGgpID8gb2JqZWN0IDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBnZXRBbGxLZXlzYCBhbmQgYGdldEFsbEtleXNJbmAgd2hpY2ggdXNlc1xuICAgICAqIGBrZXlzRnVuY2AgYW5kIGBzeW1ib2xzRnVuY2AgdG8gZ2V0IHRoZSBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIGFuZFxuICAgICAqIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBrZXlzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBrZXlzIG9mIGBvYmplY3RgLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHN5bWJvbHNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcyBhbmQgc3ltYm9scy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlR2V0QWxsS2V5cyhvYmplY3QsIGtleXNGdW5jLCBzeW1ib2xzRnVuYykge1xuICAgICAgdmFyIHJlc3VsdCA9IGtleXNGdW5jKG9iamVjdCk7XG4gICAgICByZXR1cm4gaXNBcnJheShvYmplY3QpID8gcmVzdWx0IDogYXJyYXlQdXNoKHJlc3VsdCwgc3ltYm9sc0Z1bmMob2JqZWN0KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGdldFRhZ2Agd2l0aG91dCBmYWxsYmFja3MgZm9yIGJ1Z2d5IGVudmlyb25tZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgYHRvU3RyaW5nVGFnYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlR2V0VGFnKHZhbHVlKSB7XG4gICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZFRhZyA6IG51bGxUYWc7XG4gICAgICB9XG4gICAgICByZXR1cm4gKHN5bVRvU3RyaW5nVGFnICYmIHN5bVRvU3RyaW5nVGFnIGluIE9iamVjdCh2YWx1ZSkpXG4gICAgICAgID8gZ2V0UmF3VGFnKHZhbHVlKVxuICAgICAgICA6IG9iamVjdFRvU3RyaW5nKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5ndGAgd2hpY2ggZG9lc24ndCBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZ3JlYXRlciB0aGFuIGBvdGhlcmAsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlR3QodmFsdWUsIG90aGVyKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPiBvdGhlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5oYXNgIHdpdGhvdXQgc3VwcG9ydCBmb3IgZGVlcCBwYXRocy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IGtleSBUaGUga2V5IHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSGFzKG9iamVjdCwga2V5KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICE9IG51bGwgJiYgaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaGFzSW5gIHdpdGhvdXQgc3VwcG9ydCBmb3IgZGVlcCBwYXRocy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IGtleSBUaGUga2V5IHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSGFzSW4ob2JqZWN0LCBrZXkpIHtcbiAgICAgIHJldHVybiBvYmplY3QgIT0gbnVsbCAmJiBrZXkgaW4gT2JqZWN0KG9iamVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaW5SYW5nZWAgd2hpY2ggZG9lc24ndCBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gY2hlY2suXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0IFRoZSBzdGFydCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBUaGUgZW5kIG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG51bWJlcmAgaXMgaW4gdGhlIHJhbmdlLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUluUmFuZ2UobnVtYmVyLCBzdGFydCwgZW5kKSB7XG4gICAgICByZXR1cm4gbnVtYmVyID49IG5hdGl2ZU1pbihzdGFydCwgZW5kKSAmJiBudW1iZXIgPCBuYXRpdmVNYXgoc3RhcnQsIGVuZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgbWV0aG9kcyBsaWtlIGBfLmludGVyc2VjdGlvbmAsIHdpdGhvdXQgc3VwcG9ydFxuICAgICAqIGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLCB0aGF0IGFjY2VwdHMgYW4gYXJyYXkgb2YgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5cyBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBzaGFyZWQgdmFsdWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJbnRlcnNlY3Rpb24oYXJyYXlzLCBpdGVyYXRlZSwgY29tcGFyYXRvcikge1xuICAgICAgdmFyIGluY2x1ZGVzID0gY29tcGFyYXRvciA/IGFycmF5SW5jbHVkZXNXaXRoIDogYXJyYXlJbmNsdWRlcyxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheXNbMF0ubGVuZ3RoLFxuICAgICAgICAgIG90aExlbmd0aCA9IGFycmF5cy5sZW5ndGgsXG4gICAgICAgICAgb3RoSW5kZXggPSBvdGhMZW5ndGgsXG4gICAgICAgICAgY2FjaGVzID0gQXJyYXkob3RoTGVuZ3RoKSxcbiAgICAgICAgICBtYXhMZW5ndGggPSBJbmZpbml0eSxcbiAgICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgICAgd2hpbGUgKG90aEluZGV4LS0pIHtcbiAgICAgICAgdmFyIGFycmF5ID0gYXJyYXlzW290aEluZGV4XTtcbiAgICAgICAgaWYgKG90aEluZGV4ICYmIGl0ZXJhdGVlKSB7XG4gICAgICAgICAgYXJyYXkgPSBhcnJheU1hcChhcnJheSwgYmFzZVVuYXJ5KGl0ZXJhdGVlKSk7XG4gICAgICAgIH1cbiAgICAgICAgbWF4TGVuZ3RoID0gbmF0aXZlTWluKGFycmF5Lmxlbmd0aCwgbWF4TGVuZ3RoKTtcbiAgICAgICAgY2FjaGVzW290aEluZGV4XSA9ICFjb21wYXJhdG9yICYmIChpdGVyYXRlZSB8fCAobGVuZ3RoID49IDEyMCAmJiBhcnJheS5sZW5ndGggPj0gMTIwKSlcbiAgICAgICAgICA/IG5ldyBTZXRDYWNoZShvdGhJbmRleCAmJiBhcnJheSlcbiAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIGFycmF5ID0gYXJyYXlzWzBdO1xuXG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBzZWVuID0gY2FjaGVzWzBdO1xuXG4gICAgICBvdXRlcjpcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoICYmIHJlc3VsdC5sZW5ndGggPCBtYXhMZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdLFxuICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA/IGl0ZXJhdGVlKHZhbHVlKSA6IHZhbHVlO1xuXG4gICAgICAgIHZhbHVlID0gKGNvbXBhcmF0b3IgfHwgdmFsdWUgIT09IDApID8gdmFsdWUgOiAwO1xuICAgICAgICBpZiAoIShzZWVuXG4gICAgICAgICAgICAgID8gY2FjaGVIYXMoc2VlbiwgY29tcHV0ZWQpXG4gICAgICAgICAgICAgIDogaW5jbHVkZXMocmVzdWx0LCBjb21wdXRlZCwgY29tcGFyYXRvcilcbiAgICAgICAgICAgICkpIHtcbiAgICAgICAgICBvdGhJbmRleCA9IG90aExlbmd0aDtcbiAgICAgICAgICB3aGlsZSAoLS1vdGhJbmRleCkge1xuICAgICAgICAgICAgdmFyIGNhY2hlID0gY2FjaGVzW290aEluZGV4XTtcbiAgICAgICAgICAgIGlmICghKGNhY2hlXG4gICAgICAgICAgICAgICAgICA/IGNhY2hlSGFzKGNhY2hlLCBjb21wdXRlZClcbiAgICAgICAgICAgICAgICAgIDogaW5jbHVkZXMoYXJyYXlzW290aEluZGV4XSwgY29tcHV0ZWQsIGNvbXBhcmF0b3IpKVxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBjb250aW51ZSBvdXRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHNlZW4pIHtcbiAgICAgICAgICAgIHNlZW4ucHVzaChjb21wdXRlZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pbnZlcnRgIGFuZCBgXy5pbnZlcnRCeWAgd2hpY2ggaW52ZXJ0c1xuICAgICAqIGBvYmplY3RgIHdpdGggdmFsdWVzIHRyYW5zZm9ybWVkIGJ5IGBpdGVyYXRlZWAgYW5kIHNldCBieSBgc2V0dGVyYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzZXR0ZXIgVGhlIGZ1bmN0aW9uIHRvIHNldCBgYWNjdW11bGF0b3JgIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgaXRlcmF0ZWUgdG8gdHJhbnNmb3JtIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gYWNjdW11bGF0b3IgVGhlIGluaXRpYWwgaW52ZXJ0ZWQgb2JqZWN0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgYWNjdW11bGF0b3JgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJbnZlcnRlcihvYmplY3QsIHNldHRlciwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yKSB7XG4gICAgICBiYXNlRm9yT3duKG9iamVjdCwgZnVuY3Rpb24odmFsdWUsIGtleSwgb2JqZWN0KSB7XG4gICAgICAgIHNldHRlcihhY2N1bXVsYXRvciwgaXRlcmF0ZWUodmFsdWUpLCBrZXksIG9iamVjdCk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pbnZva2VgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaW5kaXZpZHVhbFxuICAgICAqIG1ldGhvZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgbWV0aG9kIHRvIGludm9rZS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcmdzIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIHRoZSBtZXRob2Qgd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzdWx0IG9mIHRoZSBpbnZva2VkIG1ldGhvZC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSW52b2tlKG9iamVjdCwgcGF0aCwgYXJncykge1xuICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG4gICAgICBvYmplY3QgPSBwYXJlbnQob2JqZWN0LCBwYXRoKTtcbiAgICAgIHZhciBmdW5jID0gb2JqZWN0ID09IG51bGwgPyBvYmplY3QgOiBvYmplY3RbdG9LZXkobGFzdChwYXRoKSldO1xuICAgICAgcmV0dXJuIGZ1bmMgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IGFwcGx5KGZ1bmMsIG9iamVjdCwgYXJncyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNBcmd1bWVudHNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBgYXJndW1lbnRzYCBvYmplY3QsXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzQXJndW1lbnRzKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBhcmdzVGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzQXJyYXlCdWZmZXJgIHdpdGhvdXQgTm9kZS5qcyBvcHRpbWl6YXRpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBhcnJheSBidWZmZXIsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNBcnJheUJ1ZmZlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gYXJyYXlCdWZmZXJUYWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNEYXRlYCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBkYXRlIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc0RhdGUodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IGRhdGVUYWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNFcXVhbGAgd2hpY2ggc3VwcG9ydHMgcGFydGlhbCBjb21wYXJpc29uc1xuICAgICAqIGFuZCB0cmFja3MgdHJhdmVyc2VkIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuXG4gICAgICogIDEgLSBVbm9yZGVyZWQgY29tcGFyaXNvblxuICAgICAqICAyIC0gUGFydGlhbCBjb21wYXJpc29uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBgdmFsdWVgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNFcXVhbCh2YWx1ZSwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKSB7XG4gICAgICBpZiAodmFsdWUgPT09IG90aGVyKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKHZhbHVlID09IG51bGwgfHwgb3RoZXIgPT0gbnVsbCB8fCAoIWlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgIWlzT2JqZWN0TGlrZShvdGhlcikpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSAhPT0gdmFsdWUgJiYgb3RoZXIgIT09IG90aGVyO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VJc0VxdWFsRGVlcCh2YWx1ZSwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGJhc2VJc0VxdWFsLCBzdGFjayk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbGAgZm9yIGFycmF5cyBhbmQgb2JqZWN0cyB3aGljaCBwZXJmb3Jtc1xuICAgICAqIGRlZXAgY29tcGFyaXNvbnMgYW5kIHRyYWNrcyB0cmF2ZXJzZWQgb2JqZWN0cyBlbmFibGluZyBvYmplY3RzIHdpdGggY2lyY3VsYXJcbiAgICAgKiByZWZlcmVuY2VzIHRvIGJlIGNvbXBhcmVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3RoZXIgVGhlIG90aGVyIG9iamVjdCB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGJhc2VJc0VxdWFsYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBgb2JqZWN0YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgb2JqZWN0cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc0VxdWFsRGVlcChvYmplY3QsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gICAgICB2YXIgb2JqSXNBcnIgPSBpc0FycmF5KG9iamVjdCksXG4gICAgICAgICAgb3RoSXNBcnIgPSBpc0FycmF5KG90aGVyKSxcbiAgICAgICAgICBvYmpUYWcgPSBvYmpJc0FyciA/IGFycmF5VGFnIDogZ2V0VGFnKG9iamVjdCksXG4gICAgICAgICAgb3RoVGFnID0gb3RoSXNBcnIgPyBhcnJheVRhZyA6IGdldFRhZyhvdGhlcik7XG5cbiAgICAgIG9ialRhZyA9IG9ialRhZyA9PSBhcmdzVGFnID8gb2JqZWN0VGFnIDogb2JqVGFnO1xuICAgICAgb3RoVGFnID0gb3RoVGFnID09IGFyZ3NUYWcgPyBvYmplY3RUYWcgOiBvdGhUYWc7XG5cbiAgICAgIHZhciBvYmpJc09iaiA9IG9ialRhZyA9PSBvYmplY3RUYWcsXG4gICAgICAgICAgb3RoSXNPYmogPSBvdGhUYWcgPT0gb2JqZWN0VGFnLFxuICAgICAgICAgIGlzU2FtZVRhZyA9IG9ialRhZyA9PSBvdGhUYWc7XG5cbiAgICAgIGlmIChpc1NhbWVUYWcgJiYgaXNCdWZmZXIob2JqZWN0KSkge1xuICAgICAgICBpZiAoIWlzQnVmZmVyKG90aGVyKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBvYmpJc0FyciA9IHRydWU7XG4gICAgICAgIG9iaklzT2JqID0gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAoaXNTYW1lVGFnICYmICFvYmpJc09iaikge1xuICAgICAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICAgICAgICByZXR1cm4gKG9iaklzQXJyIHx8IGlzVHlwZWRBcnJheShvYmplY3QpKVxuICAgICAgICAgID8gZXF1YWxBcnJheXMob2JqZWN0LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaylcbiAgICAgICAgICA6IGVxdWFsQnlUYWcob2JqZWN0LCBvdGhlciwgb2JqVGFnLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKTtcbiAgICAgIH1cbiAgICAgIGlmICghKGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRykpIHtcbiAgICAgICAgdmFyIG9iaklzV3JhcHBlZCA9IG9iaklzT2JqICYmIGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCAnX193cmFwcGVkX18nKSxcbiAgICAgICAgICAgIG90aElzV3JhcHBlZCA9IG90aElzT2JqICYmIGhhc093blByb3BlcnR5LmNhbGwob3RoZXIsICdfX3dyYXBwZWRfXycpO1xuXG4gICAgICAgIGlmIChvYmpJc1dyYXBwZWQgfHwgb3RoSXNXcmFwcGVkKSB7XG4gICAgICAgICAgdmFyIG9ialVud3JhcHBlZCA9IG9iaklzV3JhcHBlZCA/IG9iamVjdC52YWx1ZSgpIDogb2JqZWN0LFxuICAgICAgICAgICAgICBvdGhVbndyYXBwZWQgPSBvdGhJc1dyYXBwZWQgPyBvdGhlci52YWx1ZSgpIDogb3RoZXI7XG5cbiAgICAgICAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICAgICAgICAgIHJldHVybiBlcXVhbEZ1bmMob2JqVW53cmFwcGVkLCBvdGhVbndyYXBwZWQsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFpc1NhbWVUYWcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICAgIHJldHVybiBlcXVhbE9iamVjdHMob2JqZWN0LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjayk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNNYXBgIHdpdGhvdXQgTm9kZS5qcyBvcHRpbWl6YXRpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG1hcCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc01hcCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgZ2V0VGFnKHZhbHVlKSA9PSBtYXBUYWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNNYXRjaGAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgdmFsdWVzIHRvIG1hdGNoLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IG1hdGNoRGF0YSBUaGUgcHJvcGVydHkgbmFtZXMsIHZhbHVlcywgYW5kIGNvbXBhcmUgZmxhZ3MgdG8gbWF0Y2guXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBvYmplY3RgIGlzIGEgbWF0Y2gsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNNYXRjaChvYmplY3QsIHNvdXJjZSwgbWF0Y2hEYXRhLCBjdXN0b21pemVyKSB7XG4gICAgICB2YXIgaW5kZXggPSBtYXRjaERhdGEubGVuZ3RoLFxuICAgICAgICAgIGxlbmd0aCA9IGluZGV4LFxuICAgICAgICAgIG5vQ3VzdG9taXplciA9ICFjdXN0b21pemVyO1xuXG4gICAgICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuICFsZW5ndGg7XG4gICAgICB9XG4gICAgICBvYmplY3QgPSBPYmplY3Qob2JqZWN0KTtcbiAgICAgIHdoaWxlIChpbmRleC0tKSB7XG4gICAgICAgIHZhciBkYXRhID0gbWF0Y2hEYXRhW2luZGV4XTtcbiAgICAgICAgaWYgKChub0N1c3RvbWl6ZXIgJiYgZGF0YVsyXSlcbiAgICAgICAgICAgICAgPyBkYXRhWzFdICE9PSBvYmplY3RbZGF0YVswXV1cbiAgICAgICAgICAgICAgOiAhKGRhdGFbMF0gaW4gb2JqZWN0KVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICBkYXRhID0gbWF0Y2hEYXRhW2luZGV4XTtcbiAgICAgICAgdmFyIGtleSA9IGRhdGFbMF0sXG4gICAgICAgICAgICBvYmpWYWx1ZSA9IG9iamVjdFtrZXldLFxuICAgICAgICAgICAgc3JjVmFsdWUgPSBkYXRhWzFdO1xuXG4gICAgICAgIGlmIChub0N1c3RvbWl6ZXIgJiYgZGF0YVsyXSkge1xuICAgICAgICAgIGlmIChvYmpWYWx1ZSA9PT0gdW5kZWZpbmVkICYmICEoa2V5IGluIG9iamVjdCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIHN0YWNrID0gbmV3IFN0YWNrO1xuICAgICAgICAgIGlmIChjdXN0b21pemVyKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gY3VzdG9taXplcihvYmpWYWx1ZSwgc3JjVmFsdWUsIGtleSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCEocmVzdWx0ID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IGJhc2VJc0VxdWFsKHNyY1ZhbHVlLCBvYmpWYWx1ZSwgQ09NUEFSRV9QQVJUSUFMX0ZMQUcgfCBDT01QQVJFX1VOT1JERVJFRF9GTEFHLCBjdXN0b21pemVyLCBzdGFjaylcbiAgICAgICAgICAgICAgICA6IHJlc3VsdFxuICAgICAgICAgICAgICApKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc05hdGl2ZWAgd2l0aG91dCBiYWQgc2hpbSBjaGVja3MuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbmF0aXZlIGZ1bmN0aW9uLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzTmF0aXZlKHZhbHVlKSB7XG4gICAgICBpZiAoIWlzT2JqZWN0KHZhbHVlKSB8fCBpc01hc2tlZCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIHBhdHRlcm4gPSBpc0Z1bmN0aW9uKHZhbHVlKSA/IHJlSXNOYXRpdmUgOiByZUlzSG9zdEN0b3I7XG4gICAgICByZXR1cm4gcGF0dGVybi50ZXN0KHRvU291cmNlKHZhbHVlKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNSZWdFeHBgIHdpdGhvdXQgTm9kZS5qcyBvcHRpbWl6YXRpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHJlZ2V4cCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc1JlZ0V4cCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gcmVnZXhwVGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzU2V0YCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzZXQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNTZXQodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGdldFRhZyh2YWx1ZSkgPT0gc2V0VGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzVHlwZWRBcnJheWAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdHlwZWQgYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNUeXBlZEFycmF5KHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJlxuICAgICAgICBpc0xlbmd0aCh2YWx1ZS5sZW5ndGgpICYmICEhdHlwZWRBcnJheVRhZ3NbYmFzZUdldFRhZyh2YWx1ZSldO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLml0ZXJhdGVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSBbdmFsdWU9Xy5pZGVudGl0eV0gVGhlIHZhbHVlIHRvIGNvbnZlcnQgdG8gYW4gaXRlcmF0ZWUuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBpdGVyYXRlZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXRlcmF0ZWUodmFsdWUpIHtcbiAgICAgIC8vIERvbid0IHN0b3JlIHRoZSBgdHlwZW9mYCByZXN1bHQgaW4gYSB2YXJpYWJsZSB0byBhdm9pZCBhIEpJVCBidWcgaW4gU2FmYXJpIDkuXG4gICAgICAvLyBTZWUgaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTE1NjAzNCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBpZGVudGl0eTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIGlzQXJyYXkodmFsdWUpXG4gICAgICAgICAgPyBiYXNlTWF0Y2hlc1Byb3BlcnR5KHZhbHVlWzBdLCB2YWx1ZVsxXSlcbiAgICAgICAgICA6IGJhc2VNYXRjaGVzKHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwcm9wZXJ0eSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ua2V5c2Agd2hpY2ggZG9lc24ndCB0cmVhdCBzcGFyc2UgYXJyYXlzIGFzIGRlbnNlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlS2V5cyhvYmplY3QpIHtcbiAgICAgIGlmICghaXNQcm90b3R5cGUob2JqZWN0KSkge1xuICAgICAgICByZXR1cm4gbmF0aXZlS2V5cyhvYmplY3QpO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgZm9yICh2YXIga2V5IGluIE9iamVjdChvYmplY3QpKSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSAmJiBrZXkgIT0gJ2NvbnN0cnVjdG9yJykge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ua2V5c0luYCB3aGljaCBkb2Vzbid0IHRyZWF0IHNwYXJzZSBhcnJheXMgYXMgZGVuc2UuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VLZXlzSW4ob2JqZWN0KSB7XG4gICAgICBpZiAoIWlzT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgICAgcmV0dXJuIG5hdGl2ZUtleXNJbihvYmplY3QpO1xuICAgICAgfVxuICAgICAgdmFyIGlzUHJvdG8gPSBpc1Byb3RvdHlwZShvYmplY3QpLFxuICAgICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gb2JqZWN0KSB7XG4gICAgICAgIGlmICghKGtleSA9PSAnY29uc3RydWN0b3InICYmIChpc1Byb3RvIHx8ICFoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkpKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5sdGAgd2hpY2ggZG9lc24ndCBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgbGVzcyB0aGFuIGBvdGhlcmAsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTHQodmFsdWUsIG90aGVyKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPCBvdGhlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5tYXBgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgbWFwcGVkIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VNYXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIHJlc3VsdCA9IGlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pID8gQXJyYXkoY29sbGVjdGlvbi5sZW5ndGgpIDogW107XG5cbiAgICAgIGJhc2VFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgcmVzdWx0WysraW5kZXhdID0gaXRlcmF0ZWUodmFsdWUsIGtleSwgY29sbGVjdGlvbik7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubWF0Y2hlc2Agd2hpY2ggZG9lc24ndCBjbG9uZSBgc291cmNlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHZhbHVlcyB0byBtYXRjaC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzcGVjIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VNYXRjaGVzKHNvdXJjZSkge1xuICAgICAgdmFyIG1hdGNoRGF0YSA9IGdldE1hdGNoRGF0YShzb3VyY2UpO1xuICAgICAgaWYgKG1hdGNoRGF0YS5sZW5ndGggPT0gMSAmJiBtYXRjaERhdGFbMF1bMl0pIHtcbiAgICAgICAgcmV0dXJuIG1hdGNoZXNTdHJpY3RDb21wYXJhYmxlKG1hdGNoRGF0YVswXVswXSwgbWF0Y2hEYXRhWzBdWzFdKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIG9iamVjdCA9PT0gc291cmNlIHx8IGJhc2VJc01hdGNoKG9iamVjdCwgc291cmNlLCBtYXRjaERhdGEpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5tYXRjaGVzUHJvcGVydHlgIHdoaWNoIGRvZXNuJ3QgY2xvbmUgYHNyY1ZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcGFyYW0geyp9IHNyY1ZhbHVlIFRoZSB2YWx1ZSB0byBtYXRjaC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzcGVjIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VNYXRjaGVzUHJvcGVydHkocGF0aCwgc3JjVmFsdWUpIHtcbiAgICAgIGlmIChpc0tleShwYXRoKSAmJiBpc1N0cmljdENvbXBhcmFibGUoc3JjVmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBtYXRjaGVzU3RyaWN0Q29tcGFyYWJsZSh0b0tleShwYXRoKSwgc3JjVmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICB2YXIgb2JqVmFsdWUgPSBnZXQob2JqZWN0LCBwYXRoKTtcbiAgICAgICAgcmV0dXJuIChvYmpWYWx1ZSA9PT0gdW5kZWZpbmVkICYmIG9ialZhbHVlID09PSBzcmNWYWx1ZSlcbiAgICAgICAgICA/IGhhc0luKG9iamVjdCwgcGF0aClcbiAgICAgICAgICA6IGJhc2VJc0VxdWFsKHNyY1ZhbHVlLCBvYmpWYWx1ZSwgQ09NUEFSRV9QQVJUSUFMX0ZMQUcgfCBDT01QQVJFX1VOT1JERVJFRF9GTEFHKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubWVyZ2VgIHdpdGhvdXQgc3VwcG9ydCBmb3IgbXVsdGlwbGUgc291cmNlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNyY0luZGV4IFRoZSBpbmRleCBvZiBgc291cmNlYC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBtZXJnZWQgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgc291cmNlIHZhbHVlcyBhbmQgdGhlaXIgbWVyZ2VkXG4gICAgICogIGNvdW50ZXJwYXJ0cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTWVyZ2Uob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4LCBjdXN0b21pemVyLCBzdGFjaykge1xuICAgICAgaWYgKG9iamVjdCA9PT0gc291cmNlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGJhc2VGb3Ioc291cmNlLCBmdW5jdGlvbihzcmNWYWx1ZSwga2V5KSB7XG4gICAgICAgIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gICAgICAgIGlmIChpc09iamVjdChzcmNWYWx1ZSkpIHtcbiAgICAgICAgICBiYXNlTWVyZ2VEZWVwKG9iamVjdCwgc291cmNlLCBrZXksIHNyY0luZGV4LCBiYXNlTWVyZ2UsIGN1c3RvbWl6ZXIsIHN0YWNrKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICB2YXIgbmV3VmFsdWUgPSBjdXN0b21pemVyXG4gICAgICAgICAgICA/IGN1c3RvbWl6ZXIoc2FmZUdldChvYmplY3QsIGtleSksIHNyY1ZhbHVlLCAoa2V5ICsgJycpLCBvYmplY3QsIHNvdXJjZSwgc3RhY2spXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgICAgIGlmIChuZXdWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IHNyY1ZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBhc3NpZ25NZXJnZVZhbHVlKG9iamVjdCwga2V5LCBuZXdWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0sIGtleXNJbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlTWVyZ2VgIGZvciBhcnJheXMgYW5kIG9iamVjdHMgd2hpY2ggcGVyZm9ybXNcbiAgICAgKiBkZWVwIG1lcmdlcyBhbmQgdHJhY2tzIHRyYXZlcnNlZCBvYmplY3RzIGVuYWJsaW5nIG9iamVjdHMgd2l0aCBjaXJjdWxhclxuICAgICAqIHJlZmVyZW5jZXMgdG8gYmUgbWVyZ2VkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIG1lcmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzcmNJbmRleCBUaGUgaW5kZXggb2YgYHNvdXJjZWAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gbWVyZ2VGdW5jIFRoZSBmdW5jdGlvbiB0byBtZXJnZSB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgYXNzaWduZWQgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgc291cmNlIHZhbHVlcyBhbmQgdGhlaXIgbWVyZ2VkXG4gICAgICogIGNvdW50ZXJwYXJ0cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTWVyZ2VEZWVwKG9iamVjdCwgc291cmNlLCBrZXksIHNyY0luZGV4LCBtZXJnZUZ1bmMsIGN1c3RvbWl6ZXIsIHN0YWNrKSB7XG4gICAgICB2YXIgb2JqVmFsdWUgPSBzYWZlR2V0KG9iamVjdCwga2V5KSxcbiAgICAgICAgICBzcmNWYWx1ZSA9IHNhZmVHZXQoc291cmNlLCBrZXkpLFxuICAgICAgICAgIHN0YWNrZWQgPSBzdGFjay5nZXQoc3JjVmFsdWUpO1xuXG4gICAgICBpZiAoc3RhY2tlZCkge1xuICAgICAgICBhc3NpZ25NZXJnZVZhbHVlKG9iamVjdCwga2V5LCBzdGFja2VkKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIG5ld1ZhbHVlID0gY3VzdG9taXplclxuICAgICAgICA/IGN1c3RvbWl6ZXIob2JqVmFsdWUsIHNyY1ZhbHVlLCAoa2V5ICsgJycpLCBvYmplY3QsIHNvdXJjZSwgc3RhY2spXG4gICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgICB2YXIgaXNDb21tb24gPSBuZXdWYWx1ZSA9PT0gdW5kZWZpbmVkO1xuXG4gICAgICBpZiAoaXNDb21tb24pIHtcbiAgICAgICAgdmFyIGlzQXJyID0gaXNBcnJheShzcmNWYWx1ZSksXG4gICAgICAgICAgICBpc0J1ZmYgPSAhaXNBcnIgJiYgaXNCdWZmZXIoc3JjVmFsdWUpLFxuICAgICAgICAgICAgaXNUeXBlZCA9ICFpc0FyciAmJiAhaXNCdWZmICYmIGlzVHlwZWRBcnJheShzcmNWYWx1ZSk7XG5cbiAgICAgICAgbmV3VmFsdWUgPSBzcmNWYWx1ZTtcbiAgICAgICAgaWYgKGlzQXJyIHx8IGlzQnVmZiB8fCBpc1R5cGVkKSB7XG4gICAgICAgICAgaWYgKGlzQXJyYXkob2JqVmFsdWUpKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IG9ialZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmIChpc0FycmF5TGlrZU9iamVjdChvYmpWYWx1ZSkpIHtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gY29weUFycmF5KG9ialZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAoaXNCdWZmKSB7XG4gICAgICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBjbG9uZUJ1ZmZlcihzcmNWYWx1ZSwgdHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKGlzVHlwZWQpIHtcbiAgICAgICAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IGNsb25lVHlwZWRBcnJheShzcmNWYWx1ZSwgdHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBbXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNQbGFpbk9iamVjdChzcmNWYWx1ZSkgfHwgaXNBcmd1bWVudHMoc3JjVmFsdWUpKSB7XG4gICAgICAgICAgbmV3VmFsdWUgPSBvYmpWYWx1ZTtcbiAgICAgICAgICBpZiAoaXNBcmd1bWVudHMob2JqVmFsdWUpKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IHRvUGxhaW5PYmplY3Qob2JqVmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmICghaXNPYmplY3Qob2JqVmFsdWUpIHx8IGlzRnVuY3Rpb24ob2JqVmFsdWUpKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IGluaXRDbG9uZU9iamVjdChzcmNWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChpc0NvbW1vbikge1xuICAgICAgICAvLyBSZWN1cnNpdmVseSBtZXJnZSBvYmplY3RzIGFuZCBhcnJheXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgc3RhY2suc2V0KHNyY1ZhbHVlLCBuZXdWYWx1ZSk7XG4gICAgICAgIG1lcmdlRnVuYyhuZXdWYWx1ZSwgc3JjVmFsdWUsIHNyY0luZGV4LCBjdXN0b21pemVyLCBzdGFjayk7XG4gICAgICAgIHN0YWNrWydkZWxldGUnXShzcmNWYWx1ZSk7XG4gICAgICB9XG4gICAgICBhc3NpZ25NZXJnZVZhbHVlKG9iamVjdCwga2V5LCBuZXdWYWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubnRoYCB3aGljaCBkb2Vzbid0IGNvZXJjZSBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgaW5kZXggb2YgdGhlIGVsZW1lbnQgdG8gcmV0dXJuLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBudGggZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VOdGgoYXJyYXksIG4pIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBuICs9IG4gPCAwID8gbGVuZ3RoIDogMDtcbiAgICAgIHJldHVybiBpc0luZGV4KG4sIGxlbmd0aCkgPyBhcnJheVtuXSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5vcmRlckJ5YCB3aXRob3V0IHBhcmFtIGd1YXJkcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb25bXXxPYmplY3RbXXxzdHJpbmdbXX0gaXRlcmF0ZWVzIFRoZSBpdGVyYXRlZXMgdG8gc29ydCBieS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBvcmRlcnMgVGhlIHNvcnQgb3JkZXJzIG9mIGBpdGVyYXRlZXNgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IHNvcnRlZCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlT3JkZXJCeShjb2xsZWN0aW9uLCBpdGVyYXRlZXMsIG9yZGVycykge1xuICAgICAgdmFyIGluZGV4ID0gLTE7XG4gICAgICBpdGVyYXRlZXMgPSBhcnJheU1hcChpdGVyYXRlZXMubGVuZ3RoID8gaXRlcmF0ZWVzIDogW2lkZW50aXR5XSwgYmFzZVVuYXJ5KGdldEl0ZXJhdGVlKCkpKTtcblxuICAgICAgdmFyIHJlc3VsdCA9IGJhc2VNYXAoY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGtleSwgY29sbGVjdGlvbikge1xuICAgICAgICB2YXIgY3JpdGVyaWEgPSBhcnJheU1hcChpdGVyYXRlZXMsIGZ1bmN0aW9uKGl0ZXJhdGVlKSB7XG4gICAgICAgICAgcmV0dXJuIGl0ZXJhdGVlKHZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7ICdjcml0ZXJpYSc6IGNyaXRlcmlhLCAnaW5kZXgnOiArK2luZGV4LCAndmFsdWUnOiB2YWx1ZSB9O1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBiYXNlU29ydEJ5KHJlc3VsdCwgZnVuY3Rpb24ob2JqZWN0LCBvdGhlcikge1xuICAgICAgICByZXR1cm4gY29tcGFyZU11bHRpcGxlKG9iamVjdCwgb3RoZXIsIG9yZGVycyk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5waWNrYCB3aXRob3V0IHN1cHBvcnQgZm9yIGluZGl2aWR1YWxcbiAgICAgKiBwcm9wZXJ0eSBpZGVudGlmaWVycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBwYXRocyBUaGUgcHJvcGVydHkgcGF0aHMgdG8gcGljay5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VQaWNrKG9iamVjdCwgcGF0aHMpIHtcbiAgICAgIHJldHVybiBiYXNlUGlja0J5KG9iamVjdCwgcGF0aHMsIGZ1bmN0aW9uKHZhbHVlLCBwYXRoKSB7XG4gICAgICAgIHJldHVybiBoYXNJbihvYmplY3QsIHBhdGgpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgIGBfLnBpY2tCeWAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IHBhdGhzIFRoZSBwcm9wZXJ0eSBwYXRocyB0byBwaWNrLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgcHJvcGVydHkuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUGlja0J5KG9iamVjdCwgcGF0aHMsIHByZWRpY2F0ZSkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcGF0aHMubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IHt9O1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgcGF0aCA9IHBhdGhzW2luZGV4XSxcbiAgICAgICAgICAgIHZhbHVlID0gYmFzZUdldChvYmplY3QsIHBhdGgpO1xuXG4gICAgICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIHBhdGgpKSB7XG4gICAgICAgICAgYmFzZVNldChyZXN1bHQsIGNhc3RQYXRoKHBhdGgsIG9iamVjdCksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VQcm9wZXJ0eWAgd2hpY2ggc3VwcG9ydHMgZGVlcCBwYXRocy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhY2Nlc3NvciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUHJvcGVydHlEZWVwKHBhdGgpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VHZXQob2JqZWN0LCBwYXRoKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucHVsbEFsbEJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlXG4gICAgICogc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byByZW1vdmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUHVsbEFsbChhcnJheSwgdmFsdWVzLCBpdGVyYXRlZSwgY29tcGFyYXRvcikge1xuICAgICAgdmFyIGluZGV4T2YgPSBjb21wYXJhdG9yID8gYmFzZUluZGV4T2ZXaXRoIDogYmFzZUluZGV4T2YsXG4gICAgICAgICAgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSB2YWx1ZXMubGVuZ3RoLFxuICAgICAgICAgIHNlZW4gPSBhcnJheTtcblxuICAgICAgaWYgKGFycmF5ID09PSB2YWx1ZXMpIHtcbiAgICAgICAgdmFsdWVzID0gY29weUFycmF5KHZhbHVlcyk7XG4gICAgICB9XG4gICAgICBpZiAoaXRlcmF0ZWUpIHtcbiAgICAgICAgc2VlbiA9IGFycmF5TWFwKGFycmF5LCBiYXNlVW5hcnkoaXRlcmF0ZWUpKTtcbiAgICAgIH1cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBmcm9tSW5kZXggPSAwLFxuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZXNbaW5kZXhdLFxuICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA/IGl0ZXJhdGVlKHZhbHVlKSA6IHZhbHVlO1xuXG4gICAgICAgIHdoaWxlICgoZnJvbUluZGV4ID0gaW5kZXhPZihzZWVuLCBjb21wdXRlZCwgZnJvbUluZGV4LCBjb21wYXJhdG9yKSkgPiAtMSkge1xuICAgICAgICAgIGlmIChzZWVuICE9PSBhcnJheSkge1xuICAgICAgICAgICAgc3BsaWNlLmNhbGwoc2VlbiwgZnJvbUluZGV4LCAxKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc3BsaWNlLmNhbGwoYXJyYXksIGZyb21JbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5wdWxsQXRgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaW5kaXZpZHVhbFxuICAgICAqIGluZGV4ZXMgb3IgY2FwdHVyaW5nIHRoZSByZW1vdmVkIGVsZW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGluZGV4ZXMgVGhlIGluZGV4ZXMgb2YgZWxlbWVudHMgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VQdWxsQXQoYXJyYXksIGluZGV4ZXMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA/IGluZGV4ZXMubGVuZ3RoIDogMCxcbiAgICAgICAgICBsYXN0SW5kZXggPSBsZW5ndGggLSAxO1xuXG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgdmFyIGluZGV4ID0gaW5kZXhlc1tsZW5ndGhdO1xuICAgICAgICBpZiAobGVuZ3RoID09IGxhc3RJbmRleCB8fCBpbmRleCAhPT0gcHJldmlvdXMpIHtcbiAgICAgICAgICB2YXIgcHJldmlvdXMgPSBpbmRleDtcbiAgICAgICAgICBpZiAoaXNJbmRleChpbmRleCkpIHtcbiAgICAgICAgICAgIHNwbGljZS5jYWxsKGFycmF5LCBpbmRleCwgMSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJhc2VVbnNldChhcnJheSwgaW5kZXgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnJhbmRvbWAgd2l0aG91dCBzdXBwb3J0IGZvciByZXR1cm5pbmdcbiAgICAgKiBmbG9hdGluZy1wb2ludCBudW1iZXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbG93ZXIgVGhlIGxvd2VyIGJvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB1cHBlciBUaGUgdXBwZXIgYm91bmQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcmFuZG9tIG51bWJlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUmFuZG9tKGxvd2VyLCB1cHBlcikge1xuICAgICAgcmV0dXJuIGxvd2VyICsgbmF0aXZlRmxvb3IobmF0aXZlUmFuZG9tKCkgKiAodXBwZXIgLSBsb3dlciArIDEpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yYW5nZWAgYW5kIGBfLnJhbmdlUmlnaHRgIHdoaWNoIGRvZXNuJ3RcbiAgICAgKiBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgVGhlIHN0YXJ0IG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIFRoZSBlbmQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGVwIFRoZSB2YWx1ZSB0byBpbmNyZW1lbnQgb3IgZGVjcmVtZW50IGJ5LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcmFuZ2Ugb2YgbnVtYmVycy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUmFuZ2Uoc3RhcnQsIGVuZCwgc3RlcCwgZnJvbVJpZ2h0KSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBuYXRpdmVNYXgobmF0aXZlQ2VpbCgoZW5kIC0gc3RhcnQpIC8gKHN0ZXAgfHwgMSkpLCAwKSxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuXG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgcmVzdWx0W2Zyb21SaWdodCA/IGxlbmd0aCA6ICsraW5kZXhdID0gc3RhcnQ7XG4gICAgICAgIHN0YXJ0ICs9IHN0ZXA7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnJlcGVhdGAgd2hpY2ggZG9lc24ndCBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gcmVwZWF0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gcmVwZWF0IHRoZSBzdHJpbmcuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcmVwZWF0ZWQgc3RyaW5nLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VSZXBlYXQoc3RyaW5nLCBuKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gJyc7XG4gICAgICBpZiAoIXN0cmluZyB8fCBuIDwgMSB8fCBuID4gTUFYX1NBRkVfSU5URUdFUikge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgLy8gTGV2ZXJhZ2UgdGhlIGV4cG9uZW50aWF0aW9uIGJ5IHNxdWFyaW5nIGFsZ29yaXRobSBmb3IgYSBmYXN0ZXIgcmVwZWF0LlxuICAgICAgLy8gU2VlIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0V4cG9uZW50aWF0aW9uX2J5X3NxdWFyaW5nIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICBkbyB7XG4gICAgICAgIGlmIChuICUgMikge1xuICAgICAgICAgIHJlc3VsdCArPSBzdHJpbmc7XG4gICAgICAgIH1cbiAgICAgICAgbiA9IG5hdGl2ZUZsb29yKG4gLyAyKTtcbiAgICAgICAgaWYgKG4pIHtcbiAgICAgICAgICBzdHJpbmcgKz0gc3RyaW5nO1xuICAgICAgICB9XG4gICAgICB9IHdoaWxlIChuKTtcblxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yZXN0YCB3aGljaCBkb2Vzbid0IHZhbGlkYXRlIG9yIGNvZXJjZSBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD1mdW5jLmxlbmd0aC0xXSBUaGUgc3RhcnQgcG9zaXRpb24gb2YgdGhlIHJlc3QgcGFyYW1ldGVyLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VSZXN0KGZ1bmMsIHN0YXJ0KSB7XG4gICAgICByZXR1cm4gc2V0VG9TdHJpbmcob3ZlclJlc3QoZnVuYywgc3RhcnQsIGlkZW50aXR5KSwgZnVuYyArICcnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zYW1wbGVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBzYW1wbGUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJhbmRvbSBlbGVtZW50LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VTYW1wbGUoY29sbGVjdGlvbikge1xuICAgICAgcmV0dXJuIGFycmF5U2FtcGxlKHZhbHVlcyhjb2xsZWN0aW9uKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc2FtcGxlU2l6ZWAgd2l0aG91dCBwYXJhbSBndWFyZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIHNhbXBsZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIHNhbXBsZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHJhbmRvbSBlbGVtZW50cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU2FtcGxlU2l6ZShjb2xsZWN0aW9uLCBuKSB7XG4gICAgICB2YXIgYXJyYXkgPSB2YWx1ZXMoY29sbGVjdGlvbik7XG4gICAgICByZXR1cm4gc2h1ZmZsZVNlbGYoYXJyYXksIGJhc2VDbGFtcChuLCAwLCBhcnJheS5sZW5ndGgpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zZXRgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIHBhdGggY3JlYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU2V0KG9iamVjdCwgcGF0aCwgdmFsdWUsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGlmICghaXNPYmplY3Qob2JqZWN0KSkge1xuICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgfVxuICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG5cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHBhdGgubGVuZ3RoLFxuICAgICAgICAgIGxhc3RJbmRleCA9IGxlbmd0aCAtIDEsXG4gICAgICAgICAgbmVzdGVkID0gb2JqZWN0O1xuXG4gICAgICB3aGlsZSAobmVzdGVkICE9IG51bGwgJiYgKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIga2V5ID0gdG9LZXkocGF0aFtpbmRleF0pLFxuICAgICAgICAgICAgbmV3VmFsdWUgPSB2YWx1ZTtcblxuICAgICAgICBpZiAoaW5kZXggIT0gbGFzdEluZGV4KSB7XG4gICAgICAgICAgdmFyIG9ialZhbHVlID0gbmVzdGVkW2tleV07XG4gICAgICAgICAgbmV3VmFsdWUgPSBjdXN0b21pemVyID8gY3VzdG9taXplcihvYmpWYWx1ZSwga2V5LCBuZXN0ZWQpIDogdW5kZWZpbmVkO1xuICAgICAgICAgIGlmIChuZXdWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IGlzT2JqZWN0KG9ialZhbHVlKVxuICAgICAgICAgICAgICA/IG9ialZhbHVlXG4gICAgICAgICAgICAgIDogKGlzSW5kZXgocGF0aFtpbmRleCArIDFdKSA/IFtdIDoge30pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBhc3NpZ25WYWx1ZShuZXN0ZWQsIGtleSwgbmV3VmFsdWUpO1xuICAgICAgICBuZXN0ZWQgPSBuZXN0ZWRba2V5XTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYHNldERhdGFgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaG90IGxvb3Agc2hvcnRpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFzc29jaWF0ZSBtZXRhZGF0YSB3aXRoLlxuICAgICAqIEBwYXJhbSB7Kn0gZGF0YSBUaGUgbWV0YWRhdGEuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBmdW5jYC5cbiAgICAgKi9cbiAgICB2YXIgYmFzZVNldERhdGEgPSAhbWV0YU1hcCA/IGlkZW50aXR5IDogZnVuY3Rpb24oZnVuYywgZGF0YSkge1xuICAgICAgbWV0YU1hcC5zZXQoZnVuYywgZGF0YSk7XG4gICAgICByZXR1cm4gZnVuYztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYHNldFRvU3RyaW5nYCB3aXRob3V0IHN1cHBvcnQgZm9yIGhvdCBsb29wIHNob3J0aW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc3RyaW5nIFRoZSBgdG9TdHJpbmdgIHJlc3VsdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGZ1bmNgLlxuICAgICAqL1xuICAgIHZhciBiYXNlU2V0VG9TdHJpbmcgPSAhZGVmaW5lUHJvcGVydHkgPyBpZGVudGl0eSA6IGZ1bmN0aW9uKGZ1bmMsIHN0cmluZykge1xuICAgICAgcmV0dXJuIGRlZmluZVByb3BlcnR5KGZ1bmMsICd0b1N0cmluZycsIHtcbiAgICAgICAgJ2NvbmZpZ3VyYWJsZSc6IHRydWUsXG4gICAgICAgICdlbnVtZXJhYmxlJzogZmFsc2UsXG4gICAgICAgICd2YWx1ZSc6IGNvbnN0YW50KHN0cmluZyksXG4gICAgICAgICd3cml0YWJsZSc6IHRydWVcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zaHVmZmxlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2h1ZmZsZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzaHVmZmxlZCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU2h1ZmZsZShjb2xsZWN0aW9uKSB7XG4gICAgICByZXR1cm4gc2h1ZmZsZVNlbGYodmFsdWVzKGNvbGxlY3Rpb24pKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zbGljZWAgd2l0aG91dCBhbiBpdGVyYXRlZSBjYWxsIGd1YXJkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2xpY2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlbmQ9YXJyYXkubGVuZ3RoXSBUaGUgZW5kIHBvc2l0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU2xpY2UoYXJyYXksIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgICAgaWYgKHN0YXJ0IDwgMCkge1xuICAgICAgICBzdGFydCA9IC1zdGFydCA+IGxlbmd0aCA/IDAgOiAobGVuZ3RoICsgc3RhcnQpO1xuICAgICAgfVxuICAgICAgZW5kID0gZW5kID4gbGVuZ3RoID8gbGVuZ3RoIDogZW5kO1xuICAgICAgaWYgKGVuZCA8IDApIHtcbiAgICAgICAgZW5kICs9IGxlbmd0aDtcbiAgICAgIH1cbiAgICAgIGxlbmd0aCA9IHN0YXJ0ID4gZW5kID8gMCA6ICgoZW5kIC0gc3RhcnQpID4+PiAwKTtcbiAgICAgIHN0YXJ0ID4+Pj0gMDtcblxuICAgICAgdmFyIHJlc3VsdCA9IEFycmF5KGxlbmd0aCk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICByZXN1bHRbaW5kZXhdID0gYXJyYXlbaW5kZXggKyBzdGFydF07XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNvbWVgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbnkgZWxlbWVudCBwYXNzZXMgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VTb21lKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSkge1xuICAgICAgdmFyIHJlc3VsdDtcblxuICAgICAgYmFzZUVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHJlc3VsdCA9IHByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pO1xuICAgICAgICByZXR1cm4gIXJlc3VsdDtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuICEhcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNvcnRlZEluZGV4YCBhbmQgYF8uc29ydGVkTGFzdEluZGV4YCB3aGljaFxuICAgICAqIHBlcmZvcm1zIGEgYmluYXJ5IHNlYXJjaCBvZiBgYXJyYXlgIHRvIGRldGVybWluZSB0aGUgaW5kZXggYXQgd2hpY2ggYHZhbHVlYFxuICAgICAqIHNob3VsZCBiZSBpbnNlcnRlZCBpbnRvIGBhcnJheWAgaW4gb3JkZXIgdG8gbWFpbnRhaW4gaXRzIHNvcnQgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBzb3J0ZWQgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBldmFsdWF0ZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtyZXRIaWdoZXN0XSBTcGVjaWZ5IHJldHVybmluZyB0aGUgaGlnaGVzdCBxdWFsaWZpZWQgaW5kZXguXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggYXQgd2hpY2ggYHZhbHVlYCBzaG91bGQgYmUgaW5zZXJ0ZWRcbiAgICAgKiAgaW50byBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VTb3J0ZWRJbmRleChhcnJheSwgdmFsdWUsIHJldEhpZ2hlc3QpIHtcbiAgICAgIHZhciBsb3cgPSAwLFxuICAgICAgICAgIGhpZ2ggPSBhcnJheSA9PSBudWxsID8gbG93IDogYXJyYXkubGVuZ3RoO1xuXG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmIHZhbHVlID09PSB2YWx1ZSAmJiBoaWdoIDw9IEhBTEZfTUFYX0FSUkFZX0xFTkdUSCkge1xuICAgICAgICB3aGlsZSAobG93IDwgaGlnaCkge1xuICAgICAgICAgIHZhciBtaWQgPSAobG93ICsgaGlnaCkgPj4+IDEsXG4gICAgICAgICAgICAgIGNvbXB1dGVkID0gYXJyYXlbbWlkXTtcblxuICAgICAgICAgIGlmIChjb21wdXRlZCAhPT0gbnVsbCAmJiAhaXNTeW1ib2woY29tcHV0ZWQpICYmXG4gICAgICAgICAgICAgIChyZXRIaWdoZXN0ID8gKGNvbXB1dGVkIDw9IHZhbHVlKSA6IChjb21wdXRlZCA8IHZhbHVlKSkpIHtcbiAgICAgICAgICAgIGxvdyA9IG1pZCArIDE7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGhpZ2ggPSBtaWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoaWdoO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VTb3J0ZWRJbmRleEJ5KGFycmF5LCB2YWx1ZSwgaWRlbnRpdHksIHJldEhpZ2hlc3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNvcnRlZEluZGV4QnlgIGFuZCBgXy5zb3J0ZWRMYXN0SW5kZXhCeWBcbiAgICAgKiB3aGljaCBpbnZva2VzIGBpdGVyYXRlZWAgZm9yIGB2YWx1ZWAgYW5kIGVhY2ggZWxlbWVudCBvZiBgYXJyYXlgIHRvIGNvbXB1dGVcbiAgICAgKiB0aGVpciBzb3J0IHJhbmtpbmcuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OyAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgc29ydGVkIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZXZhbHVhdGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcmV0SGlnaGVzdF0gU3BlY2lmeSByZXR1cm5pbmcgdGhlIGhpZ2hlc3QgcXVhbGlmaWVkIGluZGV4LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkXG4gICAgICogIGludG8gYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU29ydGVkSW5kZXhCeShhcnJheSwgdmFsdWUsIGl0ZXJhdGVlLCByZXRIaWdoZXN0KSB7XG4gICAgICB2YWx1ZSA9IGl0ZXJhdGVlKHZhbHVlKTtcblxuICAgICAgdmFyIGxvdyA9IDAsXG4gICAgICAgICAgaGlnaCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIHZhbElzTmFOID0gdmFsdWUgIT09IHZhbHVlLFxuICAgICAgICAgIHZhbElzTnVsbCA9IHZhbHVlID09PSBudWxsLFxuICAgICAgICAgIHZhbElzU3ltYm9sID0gaXNTeW1ib2wodmFsdWUpLFxuICAgICAgICAgIHZhbElzVW5kZWZpbmVkID0gdmFsdWUgPT09IHVuZGVmaW5lZDtcblxuICAgICAgd2hpbGUgKGxvdyA8IGhpZ2gpIHtcbiAgICAgICAgdmFyIG1pZCA9IG5hdGl2ZUZsb29yKChsb3cgKyBoaWdoKSAvIDIpLFxuICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZShhcnJheVttaWRdKSxcbiAgICAgICAgICAgIG90aElzRGVmaW5lZCA9IGNvbXB1dGVkICE9PSB1bmRlZmluZWQsXG4gICAgICAgICAgICBvdGhJc051bGwgPSBjb21wdXRlZCA9PT0gbnVsbCxcbiAgICAgICAgICAgIG90aElzUmVmbGV4aXZlID0gY29tcHV0ZWQgPT09IGNvbXB1dGVkLFxuICAgICAgICAgICAgb3RoSXNTeW1ib2wgPSBpc1N5bWJvbChjb21wdXRlZCk7XG5cbiAgICAgICAgaWYgKHZhbElzTmFOKSB7XG4gICAgICAgICAgdmFyIHNldExvdyA9IHJldEhpZ2hlc3QgfHwgb3RoSXNSZWZsZXhpdmU7XG4gICAgICAgIH0gZWxzZSBpZiAodmFsSXNVbmRlZmluZWQpIHtcbiAgICAgICAgICBzZXRMb3cgPSBvdGhJc1JlZmxleGl2ZSAmJiAocmV0SGlnaGVzdCB8fCBvdGhJc0RlZmluZWQpO1xuICAgICAgICB9IGVsc2UgaWYgKHZhbElzTnVsbCkge1xuICAgICAgICAgIHNldExvdyA9IG90aElzUmVmbGV4aXZlICYmIG90aElzRGVmaW5lZCAmJiAocmV0SGlnaGVzdCB8fCAhb3RoSXNOdWxsKTtcbiAgICAgICAgfSBlbHNlIGlmICh2YWxJc1N5bWJvbCkge1xuICAgICAgICAgIHNldExvdyA9IG90aElzUmVmbGV4aXZlICYmIG90aElzRGVmaW5lZCAmJiAhb3RoSXNOdWxsICYmIChyZXRIaWdoZXN0IHx8ICFvdGhJc1N5bWJvbCk7XG4gICAgICAgIH0gZWxzZSBpZiAob3RoSXNOdWxsIHx8IG90aElzU3ltYm9sKSB7XG4gICAgICAgICAgc2V0TG93ID0gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2V0TG93ID0gcmV0SGlnaGVzdCA/IChjb21wdXRlZCA8PSB2YWx1ZSkgOiAoY29tcHV0ZWQgPCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNldExvdykge1xuICAgICAgICAgIGxvdyA9IG1pZCArIDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaGlnaCA9IG1pZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG5hdGl2ZU1pbihoaWdoLCBNQVhfQVJSQVlfSU5ERVgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNvcnRlZFVuaXFgIGFuZCBgXy5zb3J0ZWRVbmlxQnlgIHdpdGhvdXRcbiAgICAgKiBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWVdIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGR1cGxpY2F0ZSBmcmVlIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VTb3J0ZWRVbmlxKGFycmF5LCBpdGVyYXRlZSkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIHJlc0luZGV4ID0gMCxcbiAgICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdLFxuICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA/IGl0ZXJhdGVlKHZhbHVlKSA6IHZhbHVlO1xuXG4gICAgICAgIGlmICghaW5kZXggfHwgIWVxKGNvbXB1dGVkLCBzZWVuKSkge1xuICAgICAgICAgIHZhciBzZWVuID0gY29tcHV0ZWQ7XG4gICAgICAgICAgcmVzdWx0W3Jlc0luZGV4KytdID0gdmFsdWUgPT09IDAgPyAwIDogdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udG9OdW1iZXJgIHdoaWNoIGRvZXNuJ3QgZW5zdXJlIGNvcnJlY3RcbiAgICAgKiBjb252ZXJzaW9ucyBvZiBiaW5hcnksIGhleGFkZWNpbWFsLCBvciBvY3RhbCBzdHJpbmcgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm9jZXNzLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG51bWJlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlVG9OdW1iZXIodmFsdWUpIHtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKGlzU3ltYm9sKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gTkFOO1xuICAgICAgfVxuICAgICAgcmV0dXJuICt2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50b1N0cmluZ2Agd2hpY2ggZG9lc24ndCBjb252ZXJ0IG51bGxpc2hcbiAgICAgKiB2YWx1ZXMgdG8gZW1wdHkgc3RyaW5ncy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzdHJpbmcuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVRvU3RyaW5nKHZhbHVlKSB7XG4gICAgICAvLyBFeGl0IGVhcmx5IGZvciBzdHJpbmdzIHRvIGF2b2lkIGEgcGVyZm9ybWFuY2UgaGl0IGluIHNvbWUgZW52aXJvbm1lbnRzLlxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgLy8gUmVjdXJzaXZlbHkgY29udmVydCB2YWx1ZXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgcmV0dXJuIGFycmF5TWFwKHZhbHVlLCBiYXNlVG9TdHJpbmcpICsgJyc7XG4gICAgICB9XG4gICAgICBpZiAoaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBzeW1ib2xUb1N0cmluZyA/IHN5bWJvbFRvU3RyaW5nLmNhbGwodmFsdWUpIDogJyc7XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gKHZhbHVlICsgJycpO1xuICAgICAgcmV0dXJuIChyZXN1bHQgPT0gJzAnICYmICgxIC8gdmFsdWUpID09IC1JTkZJTklUWSkgPyAnLTAnIDogcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnVuaXFCeWAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWVdIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGR1cGxpY2F0ZSBmcmVlIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VVbmlxKGFycmF5LCBpdGVyYXRlZSwgY29tcGFyYXRvcikge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgaW5jbHVkZXMgPSBhcnJheUluY2x1ZGVzLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICBpc0NvbW1vbiA9IHRydWUsXG4gICAgICAgICAgcmVzdWx0ID0gW10sXG4gICAgICAgICAgc2VlbiA9IHJlc3VsdDtcblxuICAgICAgaWYgKGNvbXBhcmF0b3IpIHtcbiAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgICAgaW5jbHVkZXMgPSBhcnJheUluY2x1ZGVzV2l0aDtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGxlbmd0aCA+PSBMQVJHRV9BUlJBWV9TSVpFKSB7XG4gICAgICAgIHZhciBzZXQgPSBpdGVyYXRlZSA/IG51bGwgOiBjcmVhdGVTZXQoYXJyYXkpO1xuICAgICAgICBpZiAoc2V0KSB7XG4gICAgICAgICAgcmV0dXJuIHNldFRvQXJyYXkoc2V0KTtcbiAgICAgICAgfVxuICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICBpbmNsdWRlcyA9IGNhY2hlSGFzO1xuICAgICAgICBzZWVuID0gbmV3IFNldENhY2hlO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHNlZW4gPSBpdGVyYXRlZSA/IFtdIDogcmVzdWx0O1xuICAgICAgfVxuICAgICAgb3V0ZXI6XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF0sXG4gICAgICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlID8gaXRlcmF0ZWUodmFsdWUpIDogdmFsdWU7XG5cbiAgICAgICAgdmFsdWUgPSAoY29tcGFyYXRvciB8fCB2YWx1ZSAhPT0gMCkgPyB2YWx1ZSA6IDA7XG4gICAgICAgIGlmIChpc0NvbW1vbiAmJiBjb21wdXRlZCA9PT0gY29tcHV0ZWQpIHtcbiAgICAgICAgICB2YXIgc2VlbkluZGV4ID0gc2Vlbi5sZW5ndGg7XG4gICAgICAgICAgd2hpbGUgKHNlZW5JbmRleC0tKSB7XG4gICAgICAgICAgICBpZiAoc2VlbltzZWVuSW5kZXhdID09PSBjb21wdXRlZCkge1xuICAgICAgICAgICAgICBjb250aW51ZSBvdXRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGl0ZXJhdGVlKSB7XG4gICAgICAgICAgICBzZWVuLnB1c2goY29tcHV0ZWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIWluY2x1ZGVzKHNlZW4sIGNvbXB1dGVkLCBjb21wYXJhdG9yKSkge1xuICAgICAgICAgIGlmIChzZWVuICE9PSByZXN1bHQpIHtcbiAgICAgICAgICAgIHNlZW4ucHVzaChjb21wdXRlZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy51bnNldGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHByb3BlcnR5IHBhdGggdG8gdW5zZXQuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBwcm9wZXJ0eSBpcyBkZWxldGVkLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVVuc2V0KG9iamVjdCwgcGF0aCkge1xuICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG4gICAgICBvYmplY3QgPSBwYXJlbnQob2JqZWN0LCBwYXRoKTtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCB8fCBkZWxldGUgb2JqZWN0W3RvS2V5KGxhc3QocGF0aCkpXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy51cGRhdGVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byB1cGRhdGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gdXBkYXRlciBUaGUgZnVuY3Rpb24gdG8gcHJvZHVjZSB0aGUgdXBkYXRlZCB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBwYXRoIGNyZWF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVVwZGF0ZShvYmplY3QsIHBhdGgsIHVwZGF0ZXIsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIHJldHVybiBiYXNlU2V0KG9iamVjdCwgcGF0aCwgdXBkYXRlcihiYXNlR2V0KG9iamVjdCwgcGF0aCkpLCBjdXN0b21pemVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBtZXRob2RzIGxpa2UgYF8uZHJvcFdoaWxlYCBhbmQgYF8udGFrZVdoaWxlYFxuICAgICAqIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRHJvcF0gU3BlY2lmeSBkcm9wcGluZyBlbGVtZW50cyBpbnN0ZWFkIG9mIHRha2luZyB0aGVtLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlV2hpbGUoYXJyYXksIHByZWRpY2F0ZSwgaXNEcm9wLCBmcm9tUmlnaHQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgaW5kZXggPSBmcm9tUmlnaHQgPyBsZW5ndGggOiAtMTtcblxuICAgICAgd2hpbGUgKChmcm9tUmlnaHQgPyBpbmRleC0tIDogKytpbmRleCA8IGxlbmd0aCkgJiZcbiAgICAgICAgcHJlZGljYXRlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkge31cblxuICAgICAgcmV0dXJuIGlzRHJvcFxuICAgICAgICA/IGJhc2VTbGljZShhcnJheSwgKGZyb21SaWdodCA/IDAgOiBpbmRleCksIChmcm9tUmlnaHQgPyBpbmRleCArIDEgOiBsZW5ndGgpKVxuICAgICAgICA6IGJhc2VTbGljZShhcnJheSwgKGZyb21SaWdodCA/IGluZGV4ICsgMSA6IDApLCAoZnJvbVJpZ2h0ID8gbGVuZ3RoIDogaW5kZXgpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgd3JhcHBlclZhbHVlYCB3aGljaCByZXR1cm5zIHRoZSByZXN1bHQgb2ZcbiAgICAgKiBwZXJmb3JtaW5nIGEgc2VxdWVuY2Ugb2YgYWN0aW9ucyBvbiB0aGUgdW53cmFwcGVkIGB2YWx1ZWAsIHdoZXJlIGVhY2hcbiAgICAgKiBzdWNjZXNzaXZlIGFjdGlvbiBpcyBzdXBwbGllZCB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBwcmV2aW91cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdW53cmFwcGVkIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFjdGlvbnMgQWN0aW9ucyB0byBwZXJmb3JtIHRvIHJlc29sdmUgdGhlIHVud3JhcHBlZCB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVdyYXBwZXJWYWx1ZSh2YWx1ZSwgYWN0aW9ucykge1xuICAgICAgdmFyIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIExhenlXcmFwcGVyKSB7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC52YWx1ZSgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5UmVkdWNlKGFjdGlvbnMsIGZ1bmN0aW9uKHJlc3VsdCwgYWN0aW9uKSB7XG4gICAgICAgIHJldHVybiBhY3Rpb24uZnVuYy5hcHBseShhY3Rpb24udGhpc0FyZywgYXJyYXlQdXNoKFtyZXN1bHRdLCBhY3Rpb24uYXJncykpO1xuICAgICAgfSwgcmVzdWx0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBtZXRob2RzIGxpa2UgYF8ueG9yYCwgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMsIHRoYXQgYWNjZXB0cyBhbiBhcnJheSBvZiBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXlzIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWVdIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHZhbHVlcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlWG9yKGFycmF5cywgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheXMubGVuZ3RoO1xuICAgICAgaWYgKGxlbmd0aCA8IDIpIHtcbiAgICAgICAgcmV0dXJuIGxlbmd0aCA/IGJhc2VVbmlxKGFycmF5c1swXSkgOiBbXTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIHJlc3VsdCA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBhcnJheSA9IGFycmF5c1tpbmRleF0sXG4gICAgICAgICAgICBvdGhJbmRleCA9IC0xO1xuXG4gICAgICAgIHdoaWxlICgrK290aEluZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgaWYgKG90aEluZGV4ICE9IGluZGV4KSB7XG4gICAgICAgICAgICByZXN1bHRbaW5kZXhdID0gYmFzZURpZmZlcmVuY2UocmVzdWx0W2luZGV4XSB8fCBhcnJheSwgYXJyYXlzW290aEluZGV4XSwgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VVbmlxKGJhc2VGbGF0dGVuKHJlc3VsdCwgMSksIGl0ZXJhdGVlLCBjb21wYXJhdG9yKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uemlwT2JqZWN0YCB3aGljaCBhc3NpZ25zIHZhbHVlcyB1c2luZyBgYXNzaWduRnVuY2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHByb3BzIFRoZSBwcm9wZXJ0eSBpZGVudGlmaWVycy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBhc3NpZ25GdW5jIFRoZSBmdW5jdGlvbiB0byBhc3NpZ24gdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVppcE9iamVjdChwcm9wcywgdmFsdWVzLCBhc3NpZ25GdW5jKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBwcm9wcy5sZW5ndGgsXG4gICAgICAgICAgdmFsc0xlbmd0aCA9IHZhbHVlcy5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0ge307XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGluZGV4IDwgdmFsc0xlbmd0aCA/IHZhbHVlc1tpbmRleF0gOiB1bmRlZmluZWQ7XG4gICAgICAgIGFzc2lnbkZ1bmMocmVzdWx0LCBwcm9wc1tpbmRleF0sIHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FzdHMgYHZhbHVlYCB0byBhbiBlbXB0eSBhcnJheSBpZiBpdCdzIG5vdCBhbiBhcnJheSBsaWtlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl8T2JqZWN0fSBSZXR1cm5zIHRoZSBjYXN0IGFycmF5LWxpa2Ugb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNhc3RBcnJheUxpa2VPYmplY3QodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc0FycmF5TGlrZU9iamVjdCh2YWx1ZSkgPyB2YWx1ZSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhc3RzIGB2YWx1ZWAgdG8gYGlkZW50aXR5YCBpZiBpdCdzIG5vdCBhIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBjYXN0IGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNhc3RGdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnZnVuY3Rpb24nID8gdmFsdWUgOiBpZGVudGl0eTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYXN0cyBgdmFsdWVgIHRvIGEgcGF0aCBhcnJheSBpZiBpdCdzIG5vdCBvbmUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkga2V5cyBvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNhc3QgcHJvcGVydHkgcGF0aCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjYXN0UGF0aCh2YWx1ZSwgb2JqZWN0KSB7XG4gICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGlzS2V5KHZhbHVlLCBvYmplY3QpID8gW3ZhbHVlXSA6IHN0cmluZ1RvUGF0aCh0b1N0cmluZyh2YWx1ZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgYGJhc2VSZXN0YCBhbGlhcyB3aGljaCBjYW4gYmUgcmVwbGFjZWQgd2l0aCBgaWRlbnRpdHlgIGJ5IG1vZHVsZVxuICAgICAqIHJlcGxhY2VtZW50IHBsdWdpbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtGdW5jdGlvbn1cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhcHBseSBhIHJlc3QgcGFyYW1ldGVyIHRvLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIHZhciBjYXN0UmVzdCA9IGJhc2VSZXN0O1xuXG4gICAgLyoqXG4gICAgICogQ2FzdHMgYGFycmF5YCB0byBhIHNsaWNlIGlmIGl0J3MgbmVlZGVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgVGhlIHN0YXJ0IHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kPWFycmF5Lmxlbmd0aF0gVGhlIGVuZCBwb3NpdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNhc3Qgc2xpY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2FzdFNsaWNlKGFycmF5LCBzdGFydCwgZW5kKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICAgICAgZW5kID0gZW5kID09PSB1bmRlZmluZWQgPyBsZW5ndGggOiBlbmQ7XG4gICAgICByZXR1cm4gKCFzdGFydCAmJiBlbmQgPj0gbGVuZ3RoKSA/IGFycmF5IDogYmFzZVNsaWNlKGFycmF5LCBzdGFydCwgZW5kKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNpbXBsZSB3cmFwcGVyIGFyb3VuZCB0aGUgZ2xvYmFsIFtgY2xlYXJUaW1lb3V0YF0oaHR0cHM6Ly9tZG4uaW8vY2xlYXJUaW1lb3V0KS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ8T2JqZWN0fSBpZCBUaGUgdGltZXIgaWQgb3IgdGltZW91dCBvYmplY3Qgb2YgdGhlIHRpbWVyIHRvIGNsZWFyLlxuICAgICAqL1xuICAgIHZhciBjbGVhclRpbWVvdXQgPSBjdHhDbGVhclRpbWVvdXQgfHwgZnVuY3Rpb24oaWQpIHtcbiAgICAgIHJldHVybiByb290LmNsZWFyVGltZW91dChpZCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiAgYGJ1ZmZlcmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QnVmZmVyfSBidWZmZXIgVGhlIGJ1ZmZlciB0byBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0RlZXBdIFNwZWNpZnkgYSBkZWVwIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtCdWZmZXJ9IFJldHVybnMgdGhlIGNsb25lZCBidWZmZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVCdWZmZXIoYnVmZmVyLCBpc0RlZXApIHtcbiAgICAgIGlmIChpc0RlZXApIHtcbiAgICAgICAgcmV0dXJuIGJ1ZmZlci5zbGljZSgpO1xuICAgICAgfVxuICAgICAgdmFyIGxlbmd0aCA9IGJ1ZmZlci5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0gYWxsb2NVbnNhZmUgPyBhbGxvY1Vuc2FmZShsZW5ndGgpIDogbmV3IGJ1ZmZlci5jb25zdHJ1Y3RvcihsZW5ndGgpO1xuXG4gICAgICBidWZmZXIuY29weShyZXN1bHQpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgYGFycmF5QnVmZmVyYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheUJ1ZmZlcn0gYXJyYXlCdWZmZXIgVGhlIGFycmF5IGJ1ZmZlciB0byBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXlCdWZmZXJ9IFJldHVybnMgdGhlIGNsb25lZCBhcnJheSBidWZmZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVBcnJheUJ1ZmZlcihhcnJheUJ1ZmZlcikge1xuICAgICAgdmFyIHJlc3VsdCA9IG5ldyBhcnJheUJ1ZmZlci5jb25zdHJ1Y3RvcihhcnJheUJ1ZmZlci5ieXRlTGVuZ3RoKTtcbiAgICAgIG5ldyBVaW50OEFycmF5KHJlc3VsdCkuc2V0KG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyKSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiBgZGF0YVZpZXdgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YVZpZXcgVGhlIGRhdGEgdmlldyB0byBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0RlZXBdIFNwZWNpZnkgYSBkZWVwIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNsb25lZCBkYXRhIHZpZXcuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVEYXRhVmlldyhkYXRhVmlldywgaXNEZWVwKSB7XG4gICAgICB2YXIgYnVmZmVyID0gaXNEZWVwID8gY2xvbmVBcnJheUJ1ZmZlcihkYXRhVmlldy5idWZmZXIpIDogZGF0YVZpZXcuYnVmZmVyO1xuICAgICAgcmV0dXJuIG5ldyBkYXRhVmlldy5jb25zdHJ1Y3RvcihidWZmZXIsIGRhdGFWaWV3LmJ5dGVPZmZzZXQsIGRhdGFWaWV3LmJ5dGVMZW5ndGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiBgcmVnZXhwYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHJlZ2V4cCBUaGUgcmVnZXhwIHRvIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNsb25lZCByZWdleHAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVSZWdFeHAocmVnZXhwKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbmV3IHJlZ2V4cC5jb25zdHJ1Y3RvcihyZWdleHAuc291cmNlLCByZUZsYWdzLmV4ZWMocmVnZXhwKSk7XG4gICAgICByZXN1bHQubGFzdEluZGV4ID0gcmVnZXhwLmxhc3RJbmRleDtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoZSBgc3ltYm9sYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzeW1ib2wgVGhlIHN5bWJvbCBvYmplY3QgdG8gY2xvbmUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIHN5bWJvbCBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVTeW1ib2woc3ltYm9sKSB7XG4gICAgICByZXR1cm4gc3ltYm9sVmFsdWVPZiA/IE9iamVjdChzeW1ib2xWYWx1ZU9mLmNhbGwoc3ltYm9sKSkgOiB7fTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgYHR5cGVkQXJyYXlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdHlwZWRBcnJheSBUaGUgdHlwZWQgYXJyYXkgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNEZWVwXSBTcGVjaWZ5IGEgZGVlcCBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgdHlwZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVUeXBlZEFycmF5KHR5cGVkQXJyYXksIGlzRGVlcCkge1xuICAgICAgdmFyIGJ1ZmZlciA9IGlzRGVlcCA/IGNsb25lQXJyYXlCdWZmZXIodHlwZWRBcnJheS5idWZmZXIpIDogdHlwZWRBcnJheS5idWZmZXI7XG4gICAgICByZXR1cm4gbmV3IHR5cGVkQXJyYXkuY29uc3RydWN0b3IoYnVmZmVyLCB0eXBlZEFycmF5LmJ5dGVPZmZzZXQsIHR5cGVkQXJyYXkubGVuZ3RoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb21wYXJlcyB2YWx1ZXMgdG8gc29ydCB0aGVtIGluIGFzY2VuZGluZyBvcmRlci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHNvcnQgb3JkZXIgaW5kaWNhdG9yIGZvciBgdmFsdWVgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbXBhcmVBc2NlbmRpbmcodmFsdWUsIG90aGVyKSB7XG4gICAgICBpZiAodmFsdWUgIT09IG90aGVyKSB7XG4gICAgICAgIHZhciB2YWxJc0RlZmluZWQgPSB2YWx1ZSAhPT0gdW5kZWZpbmVkLFxuICAgICAgICAgICAgdmFsSXNOdWxsID0gdmFsdWUgPT09IG51bGwsXG4gICAgICAgICAgICB2YWxJc1JlZmxleGl2ZSA9IHZhbHVlID09PSB2YWx1ZSxcbiAgICAgICAgICAgIHZhbElzU3ltYm9sID0gaXNTeW1ib2wodmFsdWUpO1xuXG4gICAgICAgIHZhciBvdGhJc0RlZmluZWQgPSBvdGhlciAhPT0gdW5kZWZpbmVkLFxuICAgICAgICAgICAgb3RoSXNOdWxsID0gb3RoZXIgPT09IG51bGwsXG4gICAgICAgICAgICBvdGhJc1JlZmxleGl2ZSA9IG90aGVyID09PSBvdGhlcixcbiAgICAgICAgICAgIG90aElzU3ltYm9sID0gaXNTeW1ib2wob3RoZXIpO1xuXG4gICAgICAgIGlmICgoIW90aElzTnVsbCAmJiAhb3RoSXNTeW1ib2wgJiYgIXZhbElzU3ltYm9sICYmIHZhbHVlID4gb3RoZXIpIHx8XG4gICAgICAgICAgICAodmFsSXNTeW1ib2wgJiYgb3RoSXNEZWZpbmVkICYmIG90aElzUmVmbGV4aXZlICYmICFvdGhJc051bGwgJiYgIW90aElzU3ltYm9sKSB8fFxuICAgICAgICAgICAgKHZhbElzTnVsbCAmJiBvdGhJc0RlZmluZWQgJiYgb3RoSXNSZWZsZXhpdmUpIHx8XG4gICAgICAgICAgICAoIXZhbElzRGVmaW5lZCAmJiBvdGhJc1JlZmxleGl2ZSkgfHxcbiAgICAgICAgICAgICF2YWxJc1JlZmxleGl2ZSkge1xuICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoIXZhbElzTnVsbCAmJiAhdmFsSXNTeW1ib2wgJiYgIW90aElzU3ltYm9sICYmIHZhbHVlIDwgb3RoZXIpIHx8XG4gICAgICAgICAgICAob3RoSXNTeW1ib2wgJiYgdmFsSXNEZWZpbmVkICYmIHZhbElzUmVmbGV4aXZlICYmICF2YWxJc051bGwgJiYgIXZhbElzU3ltYm9sKSB8fFxuICAgICAgICAgICAgKG90aElzTnVsbCAmJiB2YWxJc0RlZmluZWQgJiYgdmFsSXNSZWZsZXhpdmUpIHx8XG4gICAgICAgICAgICAoIW90aElzRGVmaW5lZCAmJiB2YWxJc1JlZmxleGl2ZSkgfHxcbiAgICAgICAgICAgICFvdGhJc1JlZmxleGl2ZSkge1xuICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXNlZCBieSBgXy5vcmRlckJ5YCB0byBjb21wYXJlIG11bHRpcGxlIHByb3BlcnRpZXMgb2YgYSB2YWx1ZSB0byBhbm90aGVyXG4gICAgICogYW5kIHN0YWJsZSBzb3J0IHRoZW0uXG4gICAgICpcbiAgICAgKiBJZiBgb3JkZXJzYCBpcyB1bnNwZWNpZmllZCwgYWxsIHZhbHVlcyBhcmUgc29ydGVkIGluIGFzY2VuZGluZyBvcmRlci4gT3RoZXJ3aXNlLFxuICAgICAqIHNwZWNpZnkgYW4gb3JkZXIgb2YgXCJkZXNjXCIgZm9yIGRlc2NlbmRpbmcgb3IgXCJhc2NcIiBmb3IgYXNjZW5kaW5nIHNvcnQgb3JkZXJcbiAgICAgKiBvZiBjb3JyZXNwb25kaW5nIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW5bXXxzdHJpbmdbXX0gb3JkZXJzIFRoZSBvcmRlciB0byBzb3J0IGJ5IGZvciBlYWNoIHByb3BlcnR5LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHNvcnQgb3JkZXIgaW5kaWNhdG9yIGZvciBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21wYXJlTXVsdGlwbGUob2JqZWN0LCBvdGhlciwgb3JkZXJzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBvYmpDcml0ZXJpYSA9IG9iamVjdC5jcml0ZXJpYSxcbiAgICAgICAgICBvdGhDcml0ZXJpYSA9IG90aGVyLmNyaXRlcmlhLFxuICAgICAgICAgIGxlbmd0aCA9IG9iakNyaXRlcmlhLmxlbmd0aCxcbiAgICAgICAgICBvcmRlcnNMZW5ndGggPSBvcmRlcnMubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gY29tcGFyZUFzY2VuZGluZyhvYmpDcml0ZXJpYVtpbmRleF0sIG90aENyaXRlcmlhW2luZGV4XSk7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBpZiAoaW5kZXggPj0gb3JkZXJzTGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgb3JkZXIgPSBvcmRlcnNbaW5kZXhdO1xuICAgICAgICAgIHJldHVybiByZXN1bHQgKiAob3JkZXIgPT0gJ2Rlc2MnID8gLTEgOiAxKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gRml4ZXMgYW4gYEFycmF5I3NvcnRgIGJ1ZyBpbiB0aGUgSlMgZW5naW5lIGVtYmVkZGVkIGluIEFkb2JlIGFwcGxpY2F0aW9uc1xuICAgICAgLy8gdGhhdCBjYXVzZXMgaXQsIHVuZGVyIGNlcnRhaW4gY2lyY3Vtc3RhbmNlcywgdG8gcHJvdmlkZSB0aGUgc2FtZSB2YWx1ZSBmb3JcbiAgICAgIC8vIGBvYmplY3RgIGFuZCBgb3RoZXJgLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2phc2hrZW5hcy91bmRlcnNjb3JlL3B1bGwvMTI0N1xuICAgICAgLy8gZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgIC8vXG4gICAgICAvLyBUaGlzIGFsc28gZW5zdXJlcyBhIHN0YWJsZSBzb3J0IGluIFY4IGFuZCBvdGhlciBlbmdpbmVzLlxuICAgICAgLy8gU2VlIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTkwIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICByZXR1cm4gb2JqZWN0LmluZGV4IC0gb3RoZXIuaW5kZXg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSB0aGF0IGlzIHRoZSBjb21wb3NpdGlvbiBvZiBwYXJ0aWFsbHkgYXBwbGllZCBhcmd1bWVudHMsXG4gICAgICogcGxhY2Vob2xkZXJzLCBhbmQgcHJvdmlkZWQgYXJndW1lbnRzIGludG8gYSBzaW5nbGUgYXJyYXkgb2YgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcmdzIFRoZSBwcm92aWRlZCBhcmd1bWVudHMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gcGFydGlhbHMgVGhlIGFyZ3VtZW50cyB0byBwcmVwZW5kIHRvIHRob3NlIHByb3ZpZGVkLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGhvbGRlcnMgVGhlIGBwYXJ0aWFsc2AgcGxhY2Vob2xkZXIgaW5kZXhlcy5cbiAgICAgKiBAcGFyYW1zIHtib29sZWFufSBbaXNDdXJyaWVkXSBTcGVjaWZ5IGNvbXBvc2luZyBmb3IgYSBjdXJyaWVkIGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGNvbXBvc2VkIGFyZ3VtZW50cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21wb3NlQXJncyhhcmdzLCBwYXJ0aWFscywgaG9sZGVycywgaXNDdXJyaWVkKSB7XG4gICAgICB2YXIgYXJnc0luZGV4ID0gLTEsXG4gICAgICAgICAgYXJnc0xlbmd0aCA9IGFyZ3MubGVuZ3RoLFxuICAgICAgICAgIGhvbGRlcnNMZW5ndGggPSBob2xkZXJzLmxlbmd0aCxcbiAgICAgICAgICBsZWZ0SW5kZXggPSAtMSxcbiAgICAgICAgICBsZWZ0TGVuZ3RoID0gcGFydGlhbHMubGVuZ3RoLFxuICAgICAgICAgIHJhbmdlTGVuZ3RoID0gbmF0aXZlTWF4KGFyZ3NMZW5ndGggLSBob2xkZXJzTGVuZ3RoLCAwKSxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheShsZWZ0TGVuZ3RoICsgcmFuZ2VMZW5ndGgpLFxuICAgICAgICAgIGlzVW5jdXJyaWVkID0gIWlzQ3VycmllZDtcblxuICAgICAgd2hpbGUgKCsrbGVmdEluZGV4IDwgbGVmdExlbmd0aCkge1xuICAgICAgICByZXN1bHRbbGVmdEluZGV4XSA9IHBhcnRpYWxzW2xlZnRJbmRleF07XG4gICAgICB9XG4gICAgICB3aGlsZSAoKythcmdzSW5kZXggPCBob2xkZXJzTGVuZ3RoKSB7XG4gICAgICAgIGlmIChpc1VuY3VycmllZCB8fCBhcmdzSW5kZXggPCBhcmdzTGVuZ3RoKSB7XG4gICAgICAgICAgcmVzdWx0W2hvbGRlcnNbYXJnc0luZGV4XV0gPSBhcmdzW2FyZ3NJbmRleF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHdoaWxlIChyYW5nZUxlbmd0aC0tKSB7XG4gICAgICAgIHJlc3VsdFtsZWZ0SW5kZXgrK10gPSBhcmdzW2FyZ3NJbmRleCsrXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBpcyBsaWtlIGBjb21wb3NlQXJnc2AgZXhjZXB0IHRoYXQgdGhlIGFyZ3VtZW50cyBjb21wb3NpdGlvblxuICAgICAqIGlzIHRhaWxvcmVkIGZvciBgXy5wYXJ0aWFsUmlnaHRgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcmdzIFRoZSBwcm92aWRlZCBhcmd1bWVudHMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gcGFydGlhbHMgVGhlIGFyZ3VtZW50cyB0byBhcHBlbmQgdG8gdGhvc2UgcHJvdmlkZWQuXG4gICAgICogQHBhcmFtIHtBcnJheX0gaG9sZGVycyBUaGUgYHBhcnRpYWxzYCBwbGFjZWhvbGRlciBpbmRleGVzLlxuICAgICAqIEBwYXJhbXMge2Jvb2xlYW59IFtpc0N1cnJpZWRdIFNwZWNpZnkgY29tcG9zaW5nIGZvciBhIGN1cnJpZWQgZnVuY3Rpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgY29tcG9zZWQgYXJndW1lbnRzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbXBvc2VBcmdzUmlnaHQoYXJncywgcGFydGlhbHMsIGhvbGRlcnMsIGlzQ3VycmllZCkge1xuICAgICAgdmFyIGFyZ3NJbmRleCA9IC0xLFxuICAgICAgICAgIGFyZ3NMZW5ndGggPSBhcmdzLmxlbmd0aCxcbiAgICAgICAgICBob2xkZXJzSW5kZXggPSAtMSxcbiAgICAgICAgICBob2xkZXJzTGVuZ3RoID0gaG9sZGVycy5sZW5ndGgsXG4gICAgICAgICAgcmlnaHRJbmRleCA9IC0xLFxuICAgICAgICAgIHJpZ2h0TGVuZ3RoID0gcGFydGlhbHMubGVuZ3RoLFxuICAgICAgICAgIHJhbmdlTGVuZ3RoID0gbmF0aXZlTWF4KGFyZ3NMZW5ndGggLSBob2xkZXJzTGVuZ3RoLCAwKSxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheShyYW5nZUxlbmd0aCArIHJpZ2h0TGVuZ3RoKSxcbiAgICAgICAgICBpc1VuY3VycmllZCA9ICFpc0N1cnJpZWQ7XG5cbiAgICAgIHdoaWxlICgrK2FyZ3NJbmRleCA8IHJhbmdlTGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdFthcmdzSW5kZXhdID0gYXJnc1thcmdzSW5kZXhdO1xuICAgICAgfVxuICAgICAgdmFyIG9mZnNldCA9IGFyZ3NJbmRleDtcbiAgICAgIHdoaWxlICgrK3JpZ2h0SW5kZXggPCByaWdodExlbmd0aCkge1xuICAgICAgICByZXN1bHRbb2Zmc2V0ICsgcmlnaHRJbmRleF0gPSBwYXJ0aWFsc1tyaWdodEluZGV4XTtcbiAgICAgIH1cbiAgICAgIHdoaWxlICgrK2hvbGRlcnNJbmRleCA8IGhvbGRlcnNMZW5ndGgpIHtcbiAgICAgICAgaWYgKGlzVW5jdXJyaWVkIHx8IGFyZ3NJbmRleCA8IGFyZ3NMZW5ndGgpIHtcbiAgICAgICAgICByZXN1bHRbb2Zmc2V0ICsgaG9sZGVyc1tob2xkZXJzSW5kZXhdXSA9IGFyZ3NbYXJnc0luZGV4KytdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvcGllcyB0aGUgdmFsdWVzIG9mIGBzb3VyY2VgIHRvIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHNvdXJjZSBUaGUgYXJyYXkgdG8gY29weSB2YWx1ZXMgZnJvbS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXk9W11dIFRoZSBhcnJheSB0byBjb3B5IHZhbHVlcyB0by5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb3B5QXJyYXkoc291cmNlLCBhcnJheSkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gc291cmNlLmxlbmd0aDtcblxuICAgICAgYXJyYXkgfHwgKGFycmF5ID0gQXJyYXkobGVuZ3RoKSk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICBhcnJheVtpbmRleF0gPSBzb3VyY2VbaW5kZXhdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvcGllcyBwcm9wZXJ0aWVzIG9mIGBzb3VyY2VgIHRvIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIGZyb20uXG4gICAgICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IGlkZW50aWZpZXJzIHRvIGNvcHkuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3Q9e31dIFRoZSBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIHRvLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvcGllZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb3B5T2JqZWN0KHNvdXJjZSwgcHJvcHMsIG9iamVjdCwgY3VzdG9taXplcikge1xuICAgICAgdmFyIGlzTmV3ID0gIW9iamVjdDtcbiAgICAgIG9iamVjdCB8fCAob2JqZWN0ID0ge30pO1xuXG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBwcm9wcy5sZW5ndGg7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBrZXkgPSBwcm9wc1tpbmRleF07XG5cbiAgICAgICAgdmFyIG5ld1ZhbHVlID0gY3VzdG9taXplclxuICAgICAgICAgID8gY3VzdG9taXplcihvYmplY3Rba2V5XSwgc291cmNlW2tleV0sIGtleSwgb2JqZWN0LCBzb3VyY2UpXG4gICAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgaWYgKG5ld1ZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBuZXdWYWx1ZSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc05ldykge1xuICAgICAgICAgIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFzc2lnblZhbHVlKG9iamVjdCwga2V5LCBuZXdWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29waWVzIG93biBzeW1ib2xzIG9mIGBzb3VyY2VgIHRvIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3QgdG8gY29weSBzeW1ib2xzIGZyb20uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3Q9e31dIFRoZSBvYmplY3QgdG8gY29weSBzeW1ib2xzIHRvLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29weVN5bWJvbHMoc291cmNlLCBvYmplY3QpIHtcbiAgICAgIHJldHVybiBjb3B5T2JqZWN0KHNvdXJjZSwgZ2V0U3ltYm9scyhzb3VyY2UpLCBvYmplY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvcGllcyBvd24gYW5kIGluaGVyaXRlZCBzeW1ib2xzIG9mIGBzb3VyY2VgIHRvIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3QgdG8gY29weSBzeW1ib2xzIGZyb20uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3Q9e31dIFRoZSBvYmplY3QgdG8gY29weSBzeW1ib2xzIHRvLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29weVN5bWJvbHNJbihzb3VyY2UsIG9iamVjdCkge1xuICAgICAgcmV0dXJuIGNvcHlPYmplY3Qoc291cmNlLCBnZXRTeW1ib2xzSW4oc291cmNlKSwgb2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5ncm91cEJ5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc2V0dGVyIFRoZSBmdW5jdGlvbiB0byBzZXQgYWNjdW11bGF0b3IgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpbml0aWFsaXplcl0gVGhlIGFjY3VtdWxhdG9yIG9iamVjdCBpbml0aWFsaXplci5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhZ2dyZWdhdG9yIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUFnZ3JlZ2F0b3Ioc2V0dGVyLCBpbml0aWFsaXplcikge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5QWdncmVnYXRvciA6IGJhc2VBZ2dyZWdhdG9yLFxuICAgICAgICAgICAgYWNjdW11bGF0b3IgPSBpbml0aWFsaXplciA/IGluaXRpYWxpemVyKCkgOiB7fTtcblxuICAgICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBzZXR0ZXIsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSwgYWNjdW11bGF0b3IpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5hc3NpZ25gLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBhc3NpZ25lciBUaGUgZnVuY3Rpb24gdG8gYXNzaWduIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhc3NpZ25lciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVBc3NpZ25lcihhc3NpZ25lcikge1xuICAgICAgcmV0dXJuIGJhc2VSZXN0KGZ1bmN0aW9uKG9iamVjdCwgc291cmNlcykge1xuICAgICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICAgIGxlbmd0aCA9IHNvdXJjZXMubGVuZ3RoLFxuICAgICAgICAgICAgY3VzdG9taXplciA9IGxlbmd0aCA+IDEgPyBzb3VyY2VzW2xlbmd0aCAtIDFdIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgZ3VhcmQgPSBsZW5ndGggPiAyID8gc291cmNlc1syXSA6IHVuZGVmaW5lZDtcblxuICAgICAgICBjdXN0b21pemVyID0gKGFzc2lnbmVyLmxlbmd0aCA+IDMgJiYgdHlwZW9mIGN1c3RvbWl6ZXIgPT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgICA/IChsZW5ndGgtLSwgY3VzdG9taXplcilcbiAgICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgICBpZiAoZ3VhcmQgJiYgaXNJdGVyYXRlZUNhbGwoc291cmNlc1swXSwgc291cmNlc1sxXSwgZ3VhcmQpKSB7XG4gICAgICAgICAgY3VzdG9taXplciA9IGxlbmd0aCA8IDMgPyB1bmRlZmluZWQgOiBjdXN0b21pemVyO1xuICAgICAgICAgIGxlbmd0aCA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgb2JqZWN0ID0gT2JqZWN0KG9iamVjdCk7XG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIHNvdXJjZSA9IHNvdXJjZXNbaW5kZXhdO1xuICAgICAgICAgIGlmIChzb3VyY2UpIHtcbiAgICAgICAgICAgIGFzc2lnbmVyKG9iamVjdCwgc291cmNlLCBpbmRleCwgY3VzdG9taXplcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYGJhc2VFYWNoYCBvciBgYmFzZUVhY2hSaWdodGAgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGVhY2hGdW5jIFRoZSBmdW5jdGlvbiB0byBpdGVyYXRlIG92ZXIgYSBjb2xsZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGJhc2UgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQmFzZUVhY2goZWFjaEZ1bmMsIGZyb21SaWdodCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICAgIGlmIChjb2xsZWN0aW9uID09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gY29sbGVjdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pKSB7XG4gICAgICAgICAgcmV0dXJuIGVhY2hGdW5jKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbGVuZ3RoID0gY29sbGVjdGlvbi5sZW5ndGgsXG4gICAgICAgICAgICBpbmRleCA9IGZyb21SaWdodCA/IGxlbmd0aCA6IC0xLFxuICAgICAgICAgICAgaXRlcmFibGUgPSBPYmplY3QoY29sbGVjdGlvbik7XG5cbiAgICAgICAgd2hpbGUgKChmcm9tUmlnaHQgPyBpbmRleC0tIDogKytpbmRleCA8IGxlbmd0aCkpIHtcbiAgICAgICAgICBpZiAoaXRlcmF0ZWUoaXRlcmFibGVbaW5kZXhdLCBpbmRleCwgaXRlcmFibGUpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb2xsZWN0aW9uO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYmFzZSBmdW5jdGlvbiBmb3IgbWV0aG9kcyBsaWtlIGBfLmZvckluYCBhbmQgYF8uZm9yT3duYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZnJvbVJpZ2h0XSBTcGVjaWZ5IGl0ZXJhdGluZyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYmFzZSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVCYXNlRm9yKGZyb21SaWdodCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCwgaXRlcmF0ZWUsIGtleXNGdW5jKSB7XG4gICAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgICAgaXRlcmFibGUgPSBPYmplY3Qob2JqZWN0KSxcbiAgICAgICAgICAgIHByb3BzID0ga2V5c0Z1bmMob2JqZWN0KSxcbiAgICAgICAgICAgIGxlbmd0aCA9IHByb3BzLmxlbmd0aDtcblxuICAgICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgICB2YXIga2V5ID0gcHJvcHNbZnJvbVJpZ2h0ID8gbGVuZ3RoIDogKytpbmRleF07XG4gICAgICAgICAgaWYgKGl0ZXJhdGVlKGl0ZXJhYmxlW2tleV0sIGtleSwgaXRlcmFibGUpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHdyYXBzIGBmdW5jYCB0byBpbnZva2UgaXQgd2l0aCB0aGUgb3B0aW9uYWwgYHRoaXNgXG4gICAgICogYmluZGluZyBvZiBgdGhpc0FyZ2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgY3JlYXRlV3JhcGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHdyYXBwZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQmluZChmdW5jLCBiaXRtYXNrLCB0aGlzQXJnKSB7XG4gICAgICB2YXIgaXNCaW5kID0gYml0bWFzayAmIFdSQVBfQklORF9GTEFHLFxuICAgICAgICAgIEN0b3IgPSBjcmVhdGVDdG9yKGZ1bmMpO1xuXG4gICAgICBmdW5jdGlvbiB3cmFwcGVyKCkge1xuICAgICAgICB2YXIgZm4gPSAodGhpcyAmJiB0aGlzICE9PSByb290ICYmIHRoaXMgaW5zdGFuY2VvZiB3cmFwcGVyKSA/IEN0b3IgOiBmdW5jO1xuICAgICAgICByZXR1cm4gZm4uYXBwbHkoaXNCaW5kID8gdGhpc0FyZyA6IHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gd3JhcHBlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5sb3dlckZpcnN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZE5hbWUgVGhlIG5hbWUgb2YgdGhlIGBTdHJpbmdgIGNhc2UgbWV0aG9kIHRvIHVzZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjYXNlIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUNhc2VGaXJzdChtZXRob2ROYW1lKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oc3RyaW5nKSB7XG4gICAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG5cbiAgICAgICAgdmFyIHN0clN5bWJvbHMgPSBoYXNVbmljb2RlKHN0cmluZylcbiAgICAgICAgICA/IHN0cmluZ1RvQXJyYXkoc3RyaW5nKVxuICAgICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgICAgIHZhciBjaHIgPSBzdHJTeW1ib2xzXG4gICAgICAgICAgPyBzdHJTeW1ib2xzWzBdXG4gICAgICAgICAgOiBzdHJpbmcuY2hhckF0KDApO1xuXG4gICAgICAgIHZhciB0cmFpbGluZyA9IHN0clN5bWJvbHNcbiAgICAgICAgICA/IGNhc3RTbGljZShzdHJTeW1ib2xzLCAxKS5qb2luKCcnKVxuICAgICAgICAgIDogc3RyaW5nLnNsaWNlKDEpO1xuXG4gICAgICAgIHJldHVybiBjaHJbbWV0aG9kTmFtZV0oKSArIHRyYWlsaW5nO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5jYW1lbENhc2VgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdG8gY29tYmluZSBlYWNoIHdvcmQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY29tcG91bmRlciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVDb21wb3VuZGVyKGNhbGxiYWNrKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiBhcnJheVJlZHVjZSh3b3JkcyhkZWJ1cnIoc3RyaW5nKS5yZXBsYWNlKHJlQXBvcywgJycpKSwgY2FsbGJhY2ssICcnKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcHJvZHVjZXMgYW4gaW5zdGFuY2Ugb2YgYEN0b3JgIHJlZ2FyZGxlc3Mgb2ZcbiAgICAgKiB3aGV0aGVyIGl0IHdhcyBpbnZva2VkIGFzIHBhcnQgb2YgYSBgbmV3YCBleHByZXNzaW9uIG9yIGJ5IGBjYWxsYCBvciBgYXBwbHlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBDdG9yIFRoZSBjb25zdHJ1Y3RvciB0byB3cmFwLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHdyYXBwZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQ3RvcihDdG9yKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIFVzZSBhIGBzd2l0Y2hgIHN0YXRlbWVudCB0byB3b3JrIHdpdGggY2xhc3MgY29uc3RydWN0b3JzLiBTZWVcbiAgICAgICAgLy8gaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZWNtYXNjcmlwdC1mdW5jdGlvbi1vYmplY3RzLWNhbGwtdGhpc2FyZ3VtZW50LWFyZ3VtZW50c2xpc3RcbiAgICAgICAgLy8gZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgIHN3aXRjaCAoYXJncy5sZW5ndGgpIHtcbiAgICAgICAgICBjYXNlIDA6IHJldHVybiBuZXcgQ3RvcjtcbiAgICAgICAgICBjYXNlIDE6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdKTtcbiAgICAgICAgICBjYXNlIDI6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICAgICAgICBjYXNlIDM6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICAgICAgICBjYXNlIDQ6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdLCBhcmdzWzNdKTtcbiAgICAgICAgICBjYXNlIDU6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdLCBhcmdzWzNdLCBhcmdzWzRdKTtcbiAgICAgICAgICBjYXNlIDY6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdLCBhcmdzWzNdLCBhcmdzWzRdLCBhcmdzWzVdKTtcbiAgICAgICAgICBjYXNlIDc6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdLCBhcmdzWzNdLCBhcmdzWzRdLCBhcmdzWzVdLCBhcmdzWzZdKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdGhpc0JpbmRpbmcgPSBiYXNlQ3JlYXRlKEN0b3IucHJvdG90eXBlKSxcbiAgICAgICAgICAgIHJlc3VsdCA9IEN0b3IuYXBwbHkodGhpc0JpbmRpbmcsIGFyZ3MpO1xuXG4gICAgICAgIC8vIE1pbWljIHRoZSBjb25zdHJ1Y3RvcidzIGByZXR1cm5gIGJlaGF2aW9yLlxuICAgICAgICAvLyBTZWUgaHR0cHM6Ly9lczUuZ2l0aHViLmlvLyN4MTMuMi4yIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICAgIHJldHVybiBpc09iamVjdChyZXN1bHQpID8gcmVzdWx0IDogdGhpc0JpbmRpbmc7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHdyYXBzIGBmdW5jYCB0byBlbmFibGUgY3VycnlpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgY3JlYXRlV3JhcGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYXJpdHkgVGhlIGFyaXR5IG9mIGBmdW5jYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB3cmFwcGVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUN1cnJ5KGZ1bmMsIGJpdG1hc2ssIGFyaXR5KSB7XG4gICAgICB2YXIgQ3RvciA9IGNyZWF0ZUN0b3IoZnVuYyk7XG5cbiAgICAgIGZ1bmN0aW9uIHdyYXBwZXIoKSB7XG4gICAgICAgIHZhciBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoLFxuICAgICAgICAgICAgYXJncyA9IEFycmF5KGxlbmd0aCksXG4gICAgICAgICAgICBpbmRleCA9IGxlbmd0aCxcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyID0gZ2V0SG9sZGVyKHdyYXBwZXIpO1xuXG4gICAgICAgIHdoaWxlIChpbmRleC0tKSB7XG4gICAgICAgICAgYXJnc1tpbmRleF0gPSBhcmd1bWVudHNbaW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIHZhciBob2xkZXJzID0gKGxlbmd0aCA8IDMgJiYgYXJnc1swXSAhPT0gcGxhY2Vob2xkZXIgJiYgYXJnc1tsZW5ndGggLSAxXSAhPT0gcGxhY2Vob2xkZXIpXG4gICAgICAgICAgPyBbXVxuICAgICAgICAgIDogcmVwbGFjZUhvbGRlcnMoYXJncywgcGxhY2Vob2xkZXIpO1xuXG4gICAgICAgIGxlbmd0aCAtPSBob2xkZXJzLmxlbmd0aDtcbiAgICAgICAgaWYgKGxlbmd0aCA8IGFyaXR5KSB7XG4gICAgICAgICAgcmV0dXJuIGNyZWF0ZVJlY3VycnkoXG4gICAgICAgICAgICBmdW5jLCBiaXRtYXNrLCBjcmVhdGVIeWJyaWQsIHdyYXBwZXIucGxhY2Vob2xkZXIsIHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGFyZ3MsIGhvbGRlcnMsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBhcml0eSAtIGxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZuID0gKHRoaXMgJiYgdGhpcyAhPT0gcm9vdCAmJiB0aGlzIGluc3RhbmNlb2Ygd3JhcHBlcikgPyBDdG9yIDogZnVuYztcbiAgICAgICAgcmV0dXJuIGFwcGx5KGZuLCB0aGlzLCBhcmdzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB3cmFwcGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgXy5maW5kYCBvciBgXy5maW5kTGFzdGAgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZpbmRJbmRleEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGZpbmQgdGhlIGNvbGxlY3Rpb24gaW5kZXguXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZmluZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVGaW5kKGZpbmRJbmRleEZ1bmMpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGZyb21JbmRleCkge1xuICAgICAgICB2YXIgaXRlcmFibGUgPSBPYmplY3QoY29sbGVjdGlvbik7XG4gICAgICAgIGlmICghaXNBcnJheUxpa2UoY29sbGVjdGlvbikpIHtcbiAgICAgICAgICB2YXIgaXRlcmF0ZWUgPSBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpO1xuICAgICAgICAgIGNvbGxlY3Rpb24gPSBrZXlzKGNvbGxlY3Rpb24pO1xuICAgICAgICAgIHByZWRpY2F0ZSA9IGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gaXRlcmF0ZWUoaXRlcmFibGVba2V5XSwga2V5LCBpdGVyYWJsZSk7IH07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGluZGV4ID0gZmluZEluZGV4RnVuYyhjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGZyb21JbmRleCk7XG4gICAgICAgIHJldHVybiBpbmRleCA+IC0xID8gaXRlcmFibGVbaXRlcmF0ZWUgPyBjb2xsZWN0aW9uW2luZGV4XSA6IGluZGV4XSA6IHVuZGVmaW5lZDtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBfLmZsb3dgIG9yIGBfLmZsb3dSaWdodGAgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZsb3cgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlRmxvdyhmcm9tUmlnaHQpIHtcbiAgICAgIHJldHVybiBmbGF0UmVzdChmdW5jdGlvbihmdW5jcykge1xuICAgICAgICB2YXIgbGVuZ3RoID0gZnVuY3MubGVuZ3RoLFxuICAgICAgICAgICAgaW5kZXggPSBsZW5ndGgsXG4gICAgICAgICAgICBwcmVyZXEgPSBMb2Rhc2hXcmFwcGVyLnByb3RvdHlwZS50aHJ1O1xuXG4gICAgICAgIGlmIChmcm9tUmlnaHQpIHtcbiAgICAgICAgICBmdW5jcy5yZXZlcnNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICAgICAgICB2YXIgZnVuYyA9IGZ1bmNzW2luZGV4XTtcbiAgICAgICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocHJlcmVxICYmICF3cmFwcGVyICYmIGdldEZ1bmNOYW1lKGZ1bmMpID09ICd3cmFwcGVyJykge1xuICAgICAgICAgICAgdmFyIHdyYXBwZXIgPSBuZXcgTG9kYXNoV3JhcHBlcihbXSwgdHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGluZGV4ID0gd3JhcHBlciA/IGluZGV4IDogbGVuZ3RoO1xuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIGZ1bmMgPSBmdW5jc1tpbmRleF07XG5cbiAgICAgICAgICB2YXIgZnVuY05hbWUgPSBnZXRGdW5jTmFtZShmdW5jKSxcbiAgICAgICAgICAgICAgZGF0YSA9IGZ1bmNOYW1lID09ICd3cmFwcGVyJyA/IGdldERhdGEoZnVuYykgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgICBpZiAoZGF0YSAmJiBpc0xhemlhYmxlKGRhdGFbMF0pICYmXG4gICAgICAgICAgICAgICAgZGF0YVsxXSA9PSAoV1JBUF9BUllfRkxBRyB8IFdSQVBfQ1VSUllfRkxBRyB8IFdSQVBfUEFSVElBTF9GTEFHIHwgV1JBUF9SRUFSR19GTEFHKSAmJlxuICAgICAgICAgICAgICAgICFkYXRhWzRdLmxlbmd0aCAmJiBkYXRhWzldID09IDFcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICB3cmFwcGVyID0gd3JhcHBlcltnZXRGdW5jTmFtZShkYXRhWzBdKV0uYXBwbHkod3JhcHBlciwgZGF0YVszXSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHdyYXBwZXIgPSAoZnVuYy5sZW5ndGggPT0gMSAmJiBpc0xhemlhYmxlKGZ1bmMpKVxuICAgICAgICAgICAgICA/IHdyYXBwZXJbZnVuY05hbWVdKClcbiAgICAgICAgICAgICAgOiB3cmFwcGVyLnRocnUoZnVuYyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgICAgICAgdmFsdWUgPSBhcmdzWzBdO1xuXG4gICAgICAgICAgaWYgKHdyYXBwZXIgJiYgYXJncy5sZW5ndGggPT0gMSAmJiBpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHdyYXBwZXIucGxhbnQodmFsdWUpLnZhbHVlKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBpbmRleCA9IDAsXG4gICAgICAgICAgICAgIHJlc3VsdCA9IGxlbmd0aCA/IGZ1bmNzW2luZGV4XS5hcHBseSh0aGlzLCBhcmdzKSA6IHZhbHVlO1xuXG4gICAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGZ1bmNzW2luZGV4XS5jYWxsKHRoaXMsIHJlc3VsdCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCB3cmFwcyBgZnVuY2AgdG8gaW52b2tlIGl0IHdpdGggb3B0aW9uYWwgYHRoaXNgXG4gICAgICogYmluZGluZyBvZiBgdGhpc0FyZ2AsIHBhcnRpYWwgYXBwbGljYXRpb24sIGFuZCBjdXJyeWluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxzdHJpbmd9IGZ1bmMgVGhlIGZ1bmN0aW9uIG9yIG1ldGhvZCBuYW1lIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgY3JlYXRlV3JhcGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwYXJ0aWFsc10gVGhlIGFyZ3VtZW50cyB0byBwcmVwZW5kIHRvIHRob3NlIHByb3ZpZGVkIHRvXG4gICAgICogIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2hvbGRlcnNdIFRoZSBgcGFydGlhbHNgIHBsYWNlaG9sZGVyIGluZGV4ZXMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3BhcnRpYWxzUmlnaHRdIFRoZSBhcmd1bWVudHMgdG8gYXBwZW5kIHRvIHRob3NlIHByb3ZpZGVkXG4gICAgICogIHRvIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2hvbGRlcnNSaWdodF0gVGhlIGBwYXJ0aWFsc1JpZ2h0YCBwbGFjZWhvbGRlciBpbmRleGVzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFthcmdQb3NdIFRoZSBhcmd1bWVudCBwb3NpdGlvbnMgb2YgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyeV0gVGhlIGFyaXR5IGNhcCBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcml0eV0gVGhlIGFyaXR5IG9mIGBmdW5jYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB3cmFwcGVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUh5YnJpZChmdW5jLCBiaXRtYXNrLCB0aGlzQXJnLCBwYXJ0aWFscywgaG9sZGVycywgcGFydGlhbHNSaWdodCwgaG9sZGVyc1JpZ2h0LCBhcmdQb3MsIGFyeSwgYXJpdHkpIHtcbiAgICAgIHZhciBpc0FyeSA9IGJpdG1hc2sgJiBXUkFQX0FSWV9GTEFHLFxuICAgICAgICAgIGlzQmluZCA9IGJpdG1hc2sgJiBXUkFQX0JJTkRfRkxBRyxcbiAgICAgICAgICBpc0JpbmRLZXkgPSBiaXRtYXNrICYgV1JBUF9CSU5EX0tFWV9GTEFHLFxuICAgICAgICAgIGlzQ3VycmllZCA9IGJpdG1hc2sgJiAoV1JBUF9DVVJSWV9GTEFHIHwgV1JBUF9DVVJSWV9SSUdIVF9GTEFHKSxcbiAgICAgICAgICBpc0ZsaXAgPSBiaXRtYXNrICYgV1JBUF9GTElQX0ZMQUcsXG4gICAgICAgICAgQ3RvciA9IGlzQmluZEtleSA/IHVuZGVmaW5lZCA6IGNyZWF0ZUN0b3IoZnVuYyk7XG5cbiAgICAgIGZ1bmN0aW9uIHdyYXBwZXIoKSB7XG4gICAgICAgIHZhciBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoLFxuICAgICAgICAgICAgYXJncyA9IEFycmF5KGxlbmd0aCksXG4gICAgICAgICAgICBpbmRleCA9IGxlbmd0aDtcblxuICAgICAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgICAgIGFyZ3NbaW5kZXhdID0gYXJndW1lbnRzW2luZGV4XTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNDdXJyaWVkKSB7XG4gICAgICAgICAgdmFyIHBsYWNlaG9sZGVyID0gZ2V0SG9sZGVyKHdyYXBwZXIpLFxuICAgICAgICAgICAgICBob2xkZXJzQ291bnQgPSBjb3VudEhvbGRlcnMoYXJncywgcGxhY2Vob2xkZXIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJ0aWFscykge1xuICAgICAgICAgIGFyZ3MgPSBjb21wb3NlQXJncyhhcmdzLCBwYXJ0aWFscywgaG9sZGVycywgaXNDdXJyaWVkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFydGlhbHNSaWdodCkge1xuICAgICAgICAgIGFyZ3MgPSBjb21wb3NlQXJnc1JpZ2h0KGFyZ3MsIHBhcnRpYWxzUmlnaHQsIGhvbGRlcnNSaWdodCwgaXNDdXJyaWVkKTtcbiAgICAgICAgfVxuICAgICAgICBsZW5ndGggLT0gaG9sZGVyc0NvdW50O1xuICAgICAgICBpZiAoaXNDdXJyaWVkICYmIGxlbmd0aCA8IGFyaXR5KSB7XG4gICAgICAgICAgdmFyIG5ld0hvbGRlcnMgPSByZXBsYWNlSG9sZGVycyhhcmdzLCBwbGFjZWhvbGRlcik7XG4gICAgICAgICAgcmV0dXJuIGNyZWF0ZVJlY3VycnkoXG4gICAgICAgICAgICBmdW5jLCBiaXRtYXNrLCBjcmVhdGVIeWJyaWQsIHdyYXBwZXIucGxhY2Vob2xkZXIsIHRoaXNBcmcsXG4gICAgICAgICAgICBhcmdzLCBuZXdIb2xkZXJzLCBhcmdQb3MsIGFyeSwgYXJpdHkgLSBsZW5ndGhcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0aGlzQmluZGluZyA9IGlzQmluZCA/IHRoaXNBcmcgOiB0aGlzLFxuICAgICAgICAgICAgZm4gPSBpc0JpbmRLZXkgPyB0aGlzQmluZGluZ1tmdW5jXSA6IGZ1bmM7XG5cbiAgICAgICAgbGVuZ3RoID0gYXJncy5sZW5ndGg7XG4gICAgICAgIGlmIChhcmdQb3MpIHtcbiAgICAgICAgICBhcmdzID0gcmVvcmRlcihhcmdzLCBhcmdQb3MpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzRmxpcCAmJiBsZW5ndGggPiAxKSB7XG4gICAgICAgICAgYXJncy5yZXZlcnNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQXJ5ICYmIGFyeSA8IGxlbmd0aCkge1xuICAgICAgICAgIGFyZ3MubGVuZ3RoID0gYXJ5O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzICYmIHRoaXMgIT09IHJvb3QgJiYgdGhpcyBpbnN0YW5jZW9mIHdyYXBwZXIpIHtcbiAgICAgICAgICBmbiA9IEN0b3IgfHwgY3JlYXRlQ3Rvcihmbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KHRoaXNCaW5kaW5nLCBhcmdzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB3cmFwcGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLmludmVydEJ5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc2V0dGVyIFRoZSBmdW5jdGlvbiB0byBzZXQgYWNjdW11bGF0b3IgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHRvSXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIHRvIHJlc29sdmUgaXRlcmF0ZWVzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGludmVydGVyIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUludmVydGVyKHNldHRlciwgdG9JdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VJbnZlcnRlcihvYmplY3QsIHNldHRlciwgdG9JdGVyYXRlZShpdGVyYXRlZSksIHt9KTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcGVyZm9ybXMgYSBtYXRoZW1hdGljYWwgb3BlcmF0aW9uIG9uIHR3byB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IG9wZXJhdG9yIFRoZSBmdW5jdGlvbiB0byBwZXJmb3JtIHRoZSBvcGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtkZWZhdWx0VmFsdWVdIFRoZSB2YWx1ZSB1c2VkIGZvciBgdW5kZWZpbmVkYCBhcmd1bWVudHMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgbWF0aGVtYXRpY2FsIG9wZXJhdGlvbiBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVNYXRoT3BlcmF0aW9uKG9wZXJhdG9yLCBkZWZhdWx0VmFsdWUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbih2YWx1ZSwgb3RoZXIpIHtcbiAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQgJiYgb3RoZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICByZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3RoZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGlmIChyZXN1bHQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIG90aGVyO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnIHx8IHR5cGVvZiBvdGhlciA9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdmFsdWUgPSBiYXNlVG9TdHJpbmcodmFsdWUpO1xuICAgICAgICAgICAgb3RoZXIgPSBiYXNlVG9TdHJpbmcob3RoZXIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGJhc2VUb051bWJlcih2YWx1ZSk7XG4gICAgICAgICAgICBvdGhlciA9IGJhc2VUb051bWJlcihvdGhlcik7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdCA9IG9wZXJhdG9yKHZhbHVlLCBvdGhlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8ub3ZlcmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGFycmF5RnVuYyBUaGUgZnVuY3Rpb24gdG8gaXRlcmF0ZSBvdmVyIGl0ZXJhdGVlcy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBvdmVyIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZU92ZXIoYXJyYXlGdW5jKSB7XG4gICAgICByZXR1cm4gZmxhdFJlc3QoZnVuY3Rpb24oaXRlcmF0ZWVzKSB7XG4gICAgICAgIGl0ZXJhdGVlcyA9IGFycmF5TWFwKGl0ZXJhdGVlcywgYmFzZVVuYXJ5KGdldEl0ZXJhdGVlKCkpKTtcbiAgICAgICAgcmV0dXJuIGJhc2VSZXN0KGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgICB2YXIgdGhpc0FyZyA9IHRoaXM7XG4gICAgICAgICAgcmV0dXJuIGFycmF5RnVuYyhpdGVyYXRlZXMsIGZ1bmN0aW9uKGl0ZXJhdGVlKSB7XG4gICAgICAgICAgICByZXR1cm4gYXBwbHkoaXRlcmF0ZWUsIHRoaXNBcmcsIGFyZ3MpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgdGhlIHBhZGRpbmcgZm9yIGBzdHJpbmdgIGJhc2VkIG9uIGBsZW5ndGhgLiBUaGUgYGNoYXJzYCBzdHJpbmdcbiAgICAgKiBpcyB0cnVuY2F0ZWQgaWYgdGhlIG51bWJlciBvZiBjaGFyYWN0ZXJzIGV4Y2VlZHMgYGxlbmd0aGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBsZW5ndGggVGhlIHBhZGRpbmcgbGVuZ3RoLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9JyAnXSBUaGUgc3RyaW5nIHVzZWQgYXMgcGFkZGluZy5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBwYWRkaW5nIGZvciBgc3RyaW5nYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVQYWRkaW5nKGxlbmd0aCwgY2hhcnMpIHtcbiAgICAgIGNoYXJzID0gY2hhcnMgPT09IHVuZGVmaW5lZCA/ICcgJyA6IGJhc2VUb1N0cmluZyhjaGFycyk7XG5cbiAgICAgIHZhciBjaGFyc0xlbmd0aCA9IGNoYXJzLmxlbmd0aDtcbiAgICAgIGlmIChjaGFyc0xlbmd0aCA8IDIpIHtcbiAgICAgICAgcmV0dXJuIGNoYXJzTGVuZ3RoID8gYmFzZVJlcGVhdChjaGFycywgbGVuZ3RoKSA6IGNoYXJzO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IGJhc2VSZXBlYXQoY2hhcnMsIG5hdGl2ZUNlaWwobGVuZ3RoIC8gc3RyaW5nU2l6ZShjaGFycykpKTtcbiAgICAgIHJldHVybiBoYXNVbmljb2RlKGNoYXJzKVxuICAgICAgICA/IGNhc3RTbGljZShzdHJpbmdUb0FycmF5KHJlc3VsdCksIDAsIGxlbmd0aCkuam9pbignJylcbiAgICAgICAgOiByZXN1bHQuc2xpY2UoMCwgbGVuZ3RoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCB3cmFwcyBgZnVuY2AgdG8gaW52b2tlIGl0IHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nXG4gICAgICogb2YgYHRoaXNBcmdgIGFuZCBgcGFydGlhbHNgIHByZXBlbmRlZCB0byB0aGUgYXJndW1lbnRzIGl0IHJlY2VpdmVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHsqfSB0aGlzQXJnIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHtBcnJheX0gcGFydGlhbHMgVGhlIGFyZ3VtZW50cyB0byBwcmVwZW5kIHRvIHRob3NlIHByb3ZpZGVkIHRvXG4gICAgICogIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgd3JhcHBlZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVQYXJ0aWFsKGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIHBhcnRpYWxzKSB7XG4gICAgICB2YXIgaXNCaW5kID0gYml0bWFzayAmIFdSQVBfQklORF9GTEFHLFxuICAgICAgICAgIEN0b3IgPSBjcmVhdGVDdG9yKGZ1bmMpO1xuXG4gICAgICBmdW5jdGlvbiB3cmFwcGVyKCkge1xuICAgICAgICB2YXIgYXJnc0luZGV4ID0gLTEsXG4gICAgICAgICAgICBhcmdzTGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCxcbiAgICAgICAgICAgIGxlZnRJbmRleCA9IC0xLFxuICAgICAgICAgICAgbGVmdExlbmd0aCA9IHBhcnRpYWxzLmxlbmd0aCxcbiAgICAgICAgICAgIGFyZ3MgPSBBcnJheShsZWZ0TGVuZ3RoICsgYXJnc0xlbmd0aCksXG4gICAgICAgICAgICBmbiA9ICh0aGlzICYmIHRoaXMgIT09IHJvb3QgJiYgdGhpcyBpbnN0YW5jZW9mIHdyYXBwZXIpID8gQ3RvciA6IGZ1bmM7XG5cbiAgICAgICAgd2hpbGUgKCsrbGVmdEluZGV4IDwgbGVmdExlbmd0aCkge1xuICAgICAgICAgIGFyZ3NbbGVmdEluZGV4XSA9IHBhcnRpYWxzW2xlZnRJbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKGFyZ3NMZW5ndGgtLSkge1xuICAgICAgICAgIGFyZ3NbbGVmdEluZGV4KytdID0gYXJndW1lbnRzWysrYXJnc0luZGV4XTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXBwbHkoZm4sIGlzQmluZCA/IHRoaXNBcmcgOiB0aGlzLCBhcmdzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB3cmFwcGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgXy5yYW5nZWAgb3IgYF8ucmFuZ2VSaWdodGAgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHJhbmdlIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVJhbmdlKGZyb21SaWdodCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHN0YXJ0LCBlbmQsIHN0ZXApIHtcbiAgICAgICAgaWYgKHN0ZXAgJiYgdHlwZW9mIHN0ZXAgIT0gJ251bWJlcicgJiYgaXNJdGVyYXRlZUNhbGwoc3RhcnQsIGVuZCwgc3RlcCkpIHtcbiAgICAgICAgICBlbmQgPSBzdGVwID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIC8vIEVuc3VyZSB0aGUgc2lnbiBvZiBgLTBgIGlzIHByZXNlcnZlZC5cbiAgICAgICAgc3RhcnQgPSB0b0Zpbml0ZShzdGFydCk7XG4gICAgICAgIGlmIChlbmQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGVuZCA9IHN0YXJ0O1xuICAgICAgICAgIHN0YXJ0ID0gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlbmQgPSB0b0Zpbml0ZShlbmQpO1xuICAgICAgICB9XG4gICAgICAgIHN0ZXAgPSBzdGVwID09PSB1bmRlZmluZWQgPyAoc3RhcnQgPCBlbmQgPyAxIDogLTEpIDogdG9GaW5pdGUoc3RlcCk7XG4gICAgICAgIHJldHVybiBiYXNlUmFuZ2Uoc3RhcnQsIGVuZCwgc3RlcCwgZnJvbVJpZ2h0KTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcGVyZm9ybXMgYSByZWxhdGlvbmFsIG9wZXJhdGlvbiBvbiB0d28gdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvcGVyYXRvciBUaGUgZnVuY3Rpb24gdG8gcGVyZm9ybSB0aGUgb3BlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHJlbGF0aW9uYWwgb3BlcmF0aW9uIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVJlbGF0aW9uYWxPcGVyYXRpb24ob3BlcmF0b3IpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbih2YWx1ZSwgb3RoZXIpIHtcbiAgICAgICAgaWYgKCEodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnICYmIHR5cGVvZiBvdGhlciA9PSAnc3RyaW5nJykpIHtcbiAgICAgICAgICB2YWx1ZSA9IHRvTnVtYmVyKHZhbHVlKTtcbiAgICAgICAgICBvdGhlciA9IHRvTnVtYmVyKG90aGVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3BlcmF0b3IodmFsdWUsIG90aGVyKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgd3JhcHMgYGZ1bmNgIHRvIGNvbnRpbnVlIGN1cnJ5aW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gd3JhcEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNyZWF0ZSB0aGUgYGZ1bmNgIHdyYXBwZXIuXG4gICAgICogQHBhcmFtIHsqfSBwbGFjZWhvbGRlciBUaGUgcGxhY2Vob2xkZXIgdmFsdWUuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gcHJlcGVuZCB0byB0aG9zZSBwcm92aWRlZCB0b1xuICAgICAqICB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtob2xkZXJzXSBUaGUgYHBhcnRpYWxzYCBwbGFjZWhvbGRlciBpbmRleGVzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFthcmdQb3NdIFRoZSBhcmd1bWVudCBwb3NpdGlvbnMgb2YgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyeV0gVGhlIGFyaXR5IGNhcCBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcml0eV0gVGhlIGFyaXR5IG9mIGBmdW5jYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB3cmFwcGVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVJlY3VycnkoZnVuYywgYml0bWFzaywgd3JhcEZ1bmMsIHBsYWNlaG9sZGVyLCB0aGlzQXJnLCBwYXJ0aWFscywgaG9sZGVycywgYXJnUG9zLCBhcnksIGFyaXR5KSB7XG4gICAgICB2YXIgaXNDdXJyeSA9IGJpdG1hc2sgJiBXUkFQX0NVUlJZX0ZMQUcsXG4gICAgICAgICAgbmV3SG9sZGVycyA9IGlzQ3VycnkgPyBob2xkZXJzIDogdW5kZWZpbmVkLFxuICAgICAgICAgIG5ld0hvbGRlcnNSaWdodCA9IGlzQ3VycnkgPyB1bmRlZmluZWQgOiBob2xkZXJzLFxuICAgICAgICAgIG5ld1BhcnRpYWxzID0gaXNDdXJyeSA/IHBhcnRpYWxzIDogdW5kZWZpbmVkLFxuICAgICAgICAgIG5ld1BhcnRpYWxzUmlnaHQgPSBpc0N1cnJ5ID8gdW5kZWZpbmVkIDogcGFydGlhbHM7XG5cbiAgICAgIGJpdG1hc2sgfD0gKGlzQ3VycnkgPyBXUkFQX1BBUlRJQUxfRkxBRyA6IFdSQVBfUEFSVElBTF9SSUdIVF9GTEFHKTtcbiAgICAgIGJpdG1hc2sgJj0gfihpc0N1cnJ5ID8gV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUcgOiBXUkFQX1BBUlRJQUxfRkxBRyk7XG5cbiAgICAgIGlmICghKGJpdG1hc2sgJiBXUkFQX0NVUlJZX0JPVU5EX0ZMQUcpKSB7XG4gICAgICAgIGJpdG1hc2sgJj0gfihXUkFQX0JJTkRfRkxBRyB8IFdSQVBfQklORF9LRVlfRkxBRyk7XG4gICAgICB9XG4gICAgICB2YXIgbmV3RGF0YSA9IFtcbiAgICAgICAgZnVuYywgYml0bWFzaywgdGhpc0FyZywgbmV3UGFydGlhbHMsIG5ld0hvbGRlcnMsIG5ld1BhcnRpYWxzUmlnaHQsXG4gICAgICAgIG5ld0hvbGRlcnNSaWdodCwgYXJnUG9zLCBhcnksIGFyaXR5XG4gICAgICBdO1xuXG4gICAgICB2YXIgcmVzdWx0ID0gd3JhcEZ1bmMuYXBwbHkodW5kZWZpbmVkLCBuZXdEYXRhKTtcbiAgICAgIGlmIChpc0xhemlhYmxlKGZ1bmMpKSB7XG4gICAgICAgIHNldERhdGEocmVzdWx0LCBuZXdEYXRhKTtcbiAgICAgIH1cbiAgICAgIHJlc3VsdC5wbGFjZWhvbGRlciA9IHBsYWNlaG9sZGVyO1xuICAgICAgcmV0dXJuIHNldFdyYXBUb1N0cmluZyhyZXN1bHQsIGZ1bmMsIGJpdG1hc2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLnJvdW5kYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZE5hbWUgVGhlIG5hbWUgb2YgdGhlIGBNYXRoYCBtZXRob2QgdG8gdXNlIHdoZW4gcm91bmRpbmcuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcm91bmQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlUm91bmQobWV0aG9kTmFtZSkge1xuICAgICAgdmFyIGZ1bmMgPSBNYXRoW21ldGhvZE5hbWVdO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG51bWJlciwgcHJlY2lzaW9uKSB7XG4gICAgICAgIG51bWJlciA9IHRvTnVtYmVyKG51bWJlcik7XG4gICAgICAgIHByZWNpc2lvbiA9IHByZWNpc2lvbiA9PSBudWxsID8gMCA6IG5hdGl2ZU1pbih0b0ludGVnZXIocHJlY2lzaW9uKSwgMjkyKTtcbiAgICAgICAgaWYgKHByZWNpc2lvbiAmJiBuYXRpdmVJc0Zpbml0ZShudW1iZXIpKSB7XG4gICAgICAgICAgLy8gU2hpZnQgd2l0aCBleHBvbmVudGlhbCBub3RhdGlvbiB0byBhdm9pZCBmbG9hdGluZy1wb2ludCBpc3N1ZXMuXG4gICAgICAgICAgLy8gU2VlIFtNRE5dKGh0dHBzOi8vbWRuLmlvL3JvdW5kI0V4YW1wbGVzKSBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgICAgIHZhciBwYWlyID0gKHRvU3RyaW5nKG51bWJlcikgKyAnZScpLnNwbGl0KCdlJyksXG4gICAgICAgICAgICAgIHZhbHVlID0gZnVuYyhwYWlyWzBdICsgJ2UnICsgKCtwYWlyWzFdICsgcHJlY2lzaW9uKSk7XG5cbiAgICAgICAgICBwYWlyID0gKHRvU3RyaW5nKHZhbHVlKSArICdlJykuc3BsaXQoJ2UnKTtcbiAgICAgICAgICByZXR1cm4gKyhwYWlyWzBdICsgJ2UnICsgKCtwYWlyWzFdIC0gcHJlY2lzaW9uKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZ1bmMobnVtYmVyKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNldCBvYmplY3Qgb2YgYHZhbHVlc2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIGFkZCB0byB0aGUgc2V0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBzZXQuXG4gICAgICovXG4gICAgdmFyIGNyZWF0ZVNldCA9ICEoU2V0ICYmICgxIC8gc2V0VG9BcnJheShuZXcgU2V0KFssLTBdKSlbMV0pID09IElORklOSVRZKSA/IG5vb3AgOiBmdW5jdGlvbih2YWx1ZXMpIHtcbiAgICAgIHJldHVybiBuZXcgU2V0KHZhbHVlcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgXy50b1BhaXJzYCBvciBgXy50b1BhaXJzSW5gIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBrZXlzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBrZXlzIG9mIGEgZ2l2ZW4gb2JqZWN0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHBhaXJzIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVRvUGFpcnMoa2V5c0Z1bmMpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgdmFyIHRhZyA9IGdldFRhZyhvYmplY3QpO1xuICAgICAgICBpZiAodGFnID09IG1hcFRhZykge1xuICAgICAgICAgIHJldHVybiBtYXBUb0FycmF5KG9iamVjdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRhZyA9PSBzZXRUYWcpIHtcbiAgICAgICAgICByZXR1cm4gc2V0VG9QYWlycyhvYmplY3QpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBiYXNlVG9QYWlycyhvYmplY3QsIGtleXNGdW5jKG9iamVjdCkpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBlaXRoZXIgY3VycmllcyBvciBpbnZva2VzIGBmdW5jYCB3aXRoIG9wdGlvbmFsXG4gICAgICogYHRoaXNgIGJpbmRpbmcgYW5kIHBhcnRpYWxseSBhcHBsaWVkIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxzdHJpbmd9IGZ1bmMgVGhlIGZ1bmN0aW9uIG9yIG1ldGhvZCBuYW1lIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuXG4gICAgICogICAgMSAtIGBfLmJpbmRgXG4gICAgICogICAgMiAtIGBfLmJpbmRLZXlgXG4gICAgICogICAgNCAtIGBfLmN1cnJ5YCBvciBgXy5jdXJyeVJpZ2h0YCBvZiBhIGJvdW5kIGZ1bmN0aW9uXG4gICAgICogICAgOCAtIGBfLmN1cnJ5YFxuICAgICAqICAgMTYgLSBgXy5jdXJyeVJpZ2h0YFxuICAgICAqICAgMzIgLSBgXy5wYXJ0aWFsYFxuICAgICAqICAgNjQgLSBgXy5wYXJ0aWFsUmlnaHRgXG4gICAgICogIDEyOCAtIGBfLnJlYXJnYFxuICAgICAqICAyNTYgLSBgXy5hcnlgXG4gICAgICogIDUxMiAtIGBfLmZsaXBgXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gYmUgcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2hvbGRlcnNdIFRoZSBgcGFydGlhbHNgIHBsYWNlaG9sZGVyIGluZGV4ZXMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2FyZ1Bvc10gVGhlIGFyZ3VtZW50IHBvc2l0aW9ucyBvZiB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJ5XSBUaGUgYXJpdHkgY2FwIG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyaXR5XSBUaGUgYXJpdHkgb2YgYGZ1bmNgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHdyYXBwZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlV3JhcChmdW5jLCBiaXRtYXNrLCB0aGlzQXJnLCBwYXJ0aWFscywgaG9sZGVycywgYXJnUG9zLCBhcnksIGFyaXR5KSB7XG4gICAgICB2YXIgaXNCaW5kS2V5ID0gYml0bWFzayAmIFdSQVBfQklORF9LRVlfRkxBRztcbiAgICAgIGlmICghaXNCaW5kS2V5ICYmIHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgdmFyIGxlbmd0aCA9IHBhcnRpYWxzID8gcGFydGlhbHMubGVuZ3RoIDogMDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIGJpdG1hc2sgJj0gfihXUkFQX1BBUlRJQUxfRkxBRyB8IFdSQVBfUEFSVElBTF9SSUdIVF9GTEFHKTtcbiAgICAgICAgcGFydGlhbHMgPSBob2xkZXJzID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgYXJ5ID0gYXJ5ID09PSB1bmRlZmluZWQgPyBhcnkgOiBuYXRpdmVNYXgodG9JbnRlZ2VyKGFyeSksIDApO1xuICAgICAgYXJpdHkgPSBhcml0eSA9PT0gdW5kZWZpbmVkID8gYXJpdHkgOiB0b0ludGVnZXIoYXJpdHkpO1xuICAgICAgbGVuZ3RoIC09IGhvbGRlcnMgPyBob2xkZXJzLmxlbmd0aCA6IDA7XG5cbiAgICAgIGlmIChiaXRtYXNrICYgV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUcpIHtcbiAgICAgICAgdmFyIHBhcnRpYWxzUmlnaHQgPSBwYXJ0aWFscyxcbiAgICAgICAgICAgIGhvbGRlcnNSaWdodCA9IGhvbGRlcnM7XG5cbiAgICAgICAgcGFydGlhbHMgPSBob2xkZXJzID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgdmFyIGRhdGEgPSBpc0JpbmRLZXkgPyB1bmRlZmluZWQgOiBnZXREYXRhKGZ1bmMpO1xuXG4gICAgICB2YXIgbmV3RGF0YSA9IFtcbiAgICAgICAgZnVuYywgYml0bWFzaywgdGhpc0FyZywgcGFydGlhbHMsIGhvbGRlcnMsIHBhcnRpYWxzUmlnaHQsIGhvbGRlcnNSaWdodCxcbiAgICAgICAgYXJnUG9zLCBhcnksIGFyaXR5XG4gICAgICBdO1xuXG4gICAgICBpZiAoZGF0YSkge1xuICAgICAgICBtZXJnZURhdGEobmV3RGF0YSwgZGF0YSk7XG4gICAgICB9XG4gICAgICBmdW5jID0gbmV3RGF0YVswXTtcbiAgICAgIGJpdG1hc2sgPSBuZXdEYXRhWzFdO1xuICAgICAgdGhpc0FyZyA9IG5ld0RhdGFbMl07XG4gICAgICBwYXJ0aWFscyA9IG5ld0RhdGFbM107XG4gICAgICBob2xkZXJzID0gbmV3RGF0YVs0XTtcbiAgICAgIGFyaXR5ID0gbmV3RGF0YVs5XSA9IG5ld0RhdGFbOV0gPT09IHVuZGVmaW5lZFxuICAgICAgICA/IChpc0JpbmRLZXkgPyAwIDogZnVuYy5sZW5ndGgpXG4gICAgICAgIDogbmF0aXZlTWF4KG5ld0RhdGFbOV0gLSBsZW5ndGgsIDApO1xuXG4gICAgICBpZiAoIWFyaXR5ICYmIGJpdG1hc2sgJiAoV1JBUF9DVVJSWV9GTEFHIHwgV1JBUF9DVVJSWV9SSUdIVF9GTEFHKSkge1xuICAgICAgICBiaXRtYXNrICY9IH4oV1JBUF9DVVJSWV9GTEFHIHwgV1JBUF9DVVJSWV9SSUdIVF9GTEFHKTtcbiAgICAgIH1cbiAgICAgIGlmICghYml0bWFzayB8fCBiaXRtYXNrID09IFdSQVBfQklORF9GTEFHKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBjcmVhdGVCaW5kKGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcpO1xuICAgICAgfSBlbHNlIGlmIChiaXRtYXNrID09IFdSQVBfQ1VSUllfRkxBRyB8fCBiaXRtYXNrID09IFdSQVBfQ1VSUllfUklHSFRfRkxBRykge1xuICAgICAgICByZXN1bHQgPSBjcmVhdGVDdXJyeShmdW5jLCBiaXRtYXNrLCBhcml0eSk7XG4gICAgICB9IGVsc2UgaWYgKChiaXRtYXNrID09IFdSQVBfUEFSVElBTF9GTEFHIHx8IGJpdG1hc2sgPT0gKFdSQVBfQklORF9GTEFHIHwgV1JBUF9QQVJUSUFMX0ZMQUcpKSAmJiAhaG9sZGVycy5sZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0ID0gY3JlYXRlUGFydGlhbChmdW5jLCBiaXRtYXNrLCB0aGlzQXJnLCBwYXJ0aWFscyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHQgPSBjcmVhdGVIeWJyaWQuYXBwbHkodW5kZWZpbmVkLCBuZXdEYXRhKTtcbiAgICAgIH1cbiAgICAgIHZhciBzZXR0ZXIgPSBkYXRhID8gYmFzZVNldERhdGEgOiBzZXREYXRhO1xuICAgICAgcmV0dXJuIHNldFdyYXBUb1N0cmluZyhzZXR0ZXIocmVzdWx0LCBuZXdEYXRhKSwgZnVuYywgYml0bWFzayk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXNlZCBieSBgXy5kZWZhdWx0c2AgdG8gY3VzdG9taXplIGl0cyBgXy5hc3NpZ25JbmAgdXNlIHRvIGFzc2lnbiBwcm9wZXJ0aWVzXG4gICAgICogb2Ygc291cmNlIG9iamVjdHMgdG8gdGhlIGRlc3RpbmF0aW9uIG9iamVjdCBmb3IgYWxsIGRlc3RpbmF0aW9uIHByb3BlcnRpZXNcbiAgICAgKiB0aGF0IHJlc29sdmUgdG8gYHVuZGVmaW5lZGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gb2JqVmFsdWUgVGhlIGRlc3RpbmF0aW9uIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7Kn0gc3JjVmFsdWUgVGhlIHNvdXJjZSB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGFzc2lnbi5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBwYXJlbnQgb2JqZWN0IG9mIGBvYmpWYWx1ZWAuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHZhbHVlIHRvIGFzc2lnbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjdXN0b21EZWZhdWx0c0Fzc2lnbkluKG9ialZhbHVlLCBzcmNWYWx1ZSwga2V5LCBvYmplY3QpIHtcbiAgICAgIGlmIChvYmpWYWx1ZSA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgKGVxKG9ialZhbHVlLCBvYmplY3RQcm90b1trZXldKSAmJiAhaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkpKSB7XG4gICAgICAgIHJldHVybiBzcmNWYWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmpWYWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIGJ5IGBfLmRlZmF1bHRzRGVlcGAgdG8gY3VzdG9taXplIGl0cyBgXy5tZXJnZWAgdXNlIHRvIG1lcmdlIHNvdXJjZVxuICAgICAqIG9iamVjdHMgaW50byBkZXN0aW5hdGlvbiBvYmplY3RzIHRoYXQgYXJlIHBhc3NlZCB0aHJ1LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IG9ialZhbHVlIFRoZSBkZXN0aW5hdGlvbiB2YWx1ZS5cbiAgICAgKiBAcGFyYW0geyp9IHNyY1ZhbHVlIFRoZSBzb3VyY2UgdmFsdWUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBtZXJnZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBwYXJlbnQgb2JqZWN0IG9mIGBvYmpWYWx1ZWAuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgcGFyZW50IG9iamVjdCBvZiBgc3JjVmFsdWVgLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgc291cmNlIHZhbHVlcyBhbmQgdGhlaXIgbWVyZ2VkXG4gICAgICogIGNvdW50ZXJwYXJ0cy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgdmFsdWUgdG8gYXNzaWduLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGN1c3RvbURlZmF1bHRzTWVyZ2Uob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCwgc291cmNlLCBzdGFjaykge1xuICAgICAgaWYgKGlzT2JqZWN0KG9ialZhbHVlKSAmJiBpc09iamVjdChzcmNWYWx1ZSkpIHtcbiAgICAgICAgLy8gUmVjdXJzaXZlbHkgbWVyZ2Ugb2JqZWN0cyBhbmQgYXJyYXlzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgIHN0YWNrLnNldChzcmNWYWx1ZSwgb2JqVmFsdWUpO1xuICAgICAgICBiYXNlTWVyZ2Uob2JqVmFsdWUsIHNyY1ZhbHVlLCB1bmRlZmluZWQsIGN1c3RvbURlZmF1bHRzTWVyZ2UsIHN0YWNrKTtcbiAgICAgICAgc3RhY2tbJ2RlbGV0ZSddKHNyY1ZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmpWYWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIGJ5IGBfLm9taXRgIHRvIGN1c3RvbWl6ZSBpdHMgYF8uY2xvbmVEZWVwYCB1c2UgdG8gb25seSBjbG9uZSBwbGFpblxuICAgICAqIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSB1bmNsb25lZCB2YWx1ZSBvciBgdW5kZWZpbmVkYCB0byBkZWZlciBjbG9uaW5nIHRvIGBfLmNsb25lRGVlcGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3VzdG9tT21pdENsb25lKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNQbGFpbk9iamVjdCh2YWx1ZSkgPyB1bmRlZmluZWQgOiB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsRGVlcGAgZm9yIGFycmF5cyB3aXRoIHN1cHBvcnQgZm9yXG4gICAgICogcGFydGlhbCBkZWVwIGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBvdGhlciBUaGUgb3RoZXIgYXJyYXkgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzdGFjayBUcmFja3MgdHJhdmVyc2VkIGBhcnJheWAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGFycmF5cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVxdWFsQXJyYXlzKGFycmF5LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaykge1xuICAgICAgdmFyIGlzUGFydGlhbCA9IGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRyxcbiAgICAgICAgICBhcnJMZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgb3RoTGVuZ3RoID0gb3RoZXIubGVuZ3RoO1xuXG4gICAgICBpZiAoYXJyTGVuZ3RoICE9IG90aExlbmd0aCAmJiAhKGlzUGFydGlhbCAmJiBvdGhMZW5ndGggPiBhcnJMZW5ndGgpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIC8vIEFzc3VtZSBjeWNsaWMgdmFsdWVzIGFyZSBlcXVhbC5cbiAgICAgIHZhciBzdGFja2VkID0gc3RhY2suZ2V0KGFycmF5KTtcbiAgICAgIGlmIChzdGFja2VkICYmIHN0YWNrLmdldChvdGhlcikpIHtcbiAgICAgICAgcmV0dXJuIHN0YWNrZWQgPT0gb3RoZXI7XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICByZXN1bHQgPSB0cnVlLFxuICAgICAgICAgIHNlZW4gPSAoYml0bWFzayAmIENPTVBBUkVfVU5PUkRFUkVEX0ZMQUcpID8gbmV3IFNldENhY2hlIDogdW5kZWZpbmVkO1xuXG4gICAgICBzdGFjay5zZXQoYXJyYXksIG90aGVyKTtcbiAgICAgIHN0YWNrLnNldChvdGhlciwgYXJyYXkpO1xuXG4gICAgICAvLyBJZ25vcmUgbm9uLWluZGV4IHByb3BlcnRpZXMuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGFyckxlbmd0aCkge1xuICAgICAgICB2YXIgYXJyVmFsdWUgPSBhcnJheVtpbmRleF0sXG4gICAgICAgICAgICBvdGhWYWx1ZSA9IG90aGVyW2luZGV4XTtcblxuICAgICAgICBpZiAoY3VzdG9taXplcikge1xuICAgICAgICAgIHZhciBjb21wYXJlZCA9IGlzUGFydGlhbFxuICAgICAgICAgICAgPyBjdXN0b21pemVyKG90aFZhbHVlLCBhcnJWYWx1ZSwgaW5kZXgsIG90aGVyLCBhcnJheSwgc3RhY2spXG4gICAgICAgICAgICA6IGN1c3RvbWl6ZXIoYXJyVmFsdWUsIG90aFZhbHVlLCBpbmRleCwgYXJyYXksIG90aGVyLCBzdGFjayk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbXBhcmVkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBpZiAoY29tcGFyZWQpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICAvLyBSZWN1cnNpdmVseSBjb21wYXJlIGFycmF5cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgICBpZiAoc2Vlbikge1xuICAgICAgICAgIGlmICghYXJyYXlTb21lKG90aGVyLCBmdW5jdGlvbihvdGhWYWx1ZSwgb3RoSW5kZXgpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWNhY2hlSGFzKHNlZW4sIG90aEluZGV4KSAmJlxuICAgICAgICAgICAgICAgICAgICAoYXJyVmFsdWUgPT09IG90aFZhbHVlIHx8IGVxdWFsRnVuYyhhcnJWYWx1ZSwgb3RoVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKSkpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBzZWVuLnB1c2gob3RoSW5kZXgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSkpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKCEoXG4gICAgICAgICAgICAgIGFyclZhbHVlID09PSBvdGhWYWx1ZSB8fFxuICAgICAgICAgICAgICAgIGVxdWFsRnVuYyhhcnJWYWx1ZSwgb3RoVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKVxuICAgICAgICAgICAgKSkge1xuICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzdGFja1snZGVsZXRlJ10oYXJyYXkpO1xuICAgICAgc3RhY2tbJ2RlbGV0ZSddKG90aGVyKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbERlZXBgIGZvciBjb21wYXJpbmcgb2JqZWN0cyBvZlxuICAgICAqIHRoZSBzYW1lIGB0b1N0cmluZ1RhZ2AuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBmdW5jdGlvbiBvbmx5IHN1cHBvcnRzIGNvbXBhcmluZyB2YWx1ZXMgd2l0aCB0YWdzIG9mXG4gICAgICogYEJvb2xlYW5gLCBgRGF0ZWAsIGBFcnJvcmAsIGBOdW1iZXJgLCBgUmVnRXhwYCwgb3IgYFN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRhZyBUaGUgYHRvU3RyaW5nVGFnYCBvZiB0aGUgb2JqZWN0cyB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGJhc2VJc0VxdWFsYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHN0YWNrIFRyYWNrcyB0cmF2ZXJzZWQgYG9iamVjdGAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG9iamVjdHMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlcXVhbEJ5VGFnKG9iamVjdCwgb3RoZXIsIHRhZywgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaykge1xuICAgICAgc3dpdGNoICh0YWcpIHtcbiAgICAgICAgY2FzZSBkYXRhVmlld1RhZzpcbiAgICAgICAgICBpZiAoKG9iamVjdC5ieXRlTGVuZ3RoICE9IG90aGVyLmJ5dGVMZW5ndGgpIHx8XG4gICAgICAgICAgICAgIChvYmplY3QuYnl0ZU9mZnNldCAhPSBvdGhlci5ieXRlT2Zmc2V0KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvYmplY3QgPSBvYmplY3QuYnVmZmVyO1xuICAgICAgICAgIG90aGVyID0gb3RoZXIuYnVmZmVyO1xuXG4gICAgICAgIGNhc2UgYXJyYXlCdWZmZXJUYWc6XG4gICAgICAgICAgaWYgKChvYmplY3QuYnl0ZUxlbmd0aCAhPSBvdGhlci5ieXRlTGVuZ3RoKSB8fFxuICAgICAgICAgICAgICAhZXF1YWxGdW5jKG5ldyBVaW50OEFycmF5KG9iamVjdCksIG5ldyBVaW50OEFycmF5KG90aGVyKSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICAgICAgY2FzZSBib29sVGFnOlxuICAgICAgICBjYXNlIGRhdGVUYWc6XG4gICAgICAgIGNhc2UgbnVtYmVyVGFnOlxuICAgICAgICAgIC8vIENvZXJjZSBib29sZWFucyB0byBgMWAgb3IgYDBgIGFuZCBkYXRlcyB0byBtaWxsaXNlY29uZHMuXG4gICAgICAgICAgLy8gSW52YWxpZCBkYXRlcyBhcmUgY29lcmNlZCB0byBgTmFOYC5cbiAgICAgICAgICByZXR1cm4gZXEoK29iamVjdCwgK290aGVyKTtcblxuICAgICAgICBjYXNlIGVycm9yVGFnOlxuICAgICAgICAgIHJldHVybiBvYmplY3QubmFtZSA9PSBvdGhlci5uYW1lICYmIG9iamVjdC5tZXNzYWdlID09IG90aGVyLm1lc3NhZ2U7XG5cbiAgICAgICAgY2FzZSByZWdleHBUYWc6XG4gICAgICAgIGNhc2Ugc3RyaW5nVGFnOlxuICAgICAgICAgIC8vIENvZXJjZSByZWdleGVzIHRvIHN0cmluZ3MgYW5kIHRyZWF0IHN0cmluZ3MsIHByaW1pdGl2ZXMgYW5kIG9iamVjdHMsXG4gICAgICAgICAgLy8gYXMgZXF1YWwuIFNlZSBodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcmVnZXhwLnByb3RvdHlwZS50b3N0cmluZ1xuICAgICAgICAgIC8vIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICAgICAgcmV0dXJuIG9iamVjdCA9PSAob3RoZXIgKyAnJyk7XG5cbiAgICAgICAgY2FzZSBtYXBUYWc6XG4gICAgICAgICAgdmFyIGNvbnZlcnQgPSBtYXBUb0FycmF5O1xuXG4gICAgICAgIGNhc2Ugc2V0VGFnOlxuICAgICAgICAgIHZhciBpc1BhcnRpYWwgPSBiaXRtYXNrICYgQ09NUEFSRV9QQVJUSUFMX0ZMQUc7XG4gICAgICAgICAgY29udmVydCB8fCAoY29udmVydCA9IHNldFRvQXJyYXkpO1xuXG4gICAgICAgICAgaWYgKG9iamVjdC5zaXplICE9IG90aGVyLnNpemUgJiYgIWlzUGFydGlhbCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBBc3N1bWUgY3ljbGljIHZhbHVlcyBhcmUgZXF1YWwuXG4gICAgICAgICAgdmFyIHN0YWNrZWQgPSBzdGFjay5nZXQob2JqZWN0KTtcbiAgICAgICAgICBpZiAoc3RhY2tlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHN0YWNrZWQgPT0gb3RoZXI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJpdG1hc2sgfD0gQ09NUEFSRV9VTk9SREVSRURfRkxBRztcblxuICAgICAgICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbXBhcmUgb2JqZWN0cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgICAgIHN0YWNrLnNldChvYmplY3QsIG90aGVyKTtcbiAgICAgICAgICB2YXIgcmVzdWx0ID0gZXF1YWxBcnJheXMoY29udmVydChvYmplY3QpLCBjb252ZXJ0KG90aGVyKSwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjayk7XG4gICAgICAgICAgc3RhY2tbJ2RlbGV0ZSddKG9iamVjdCk7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdDtcblxuICAgICAgICBjYXNlIHN5bWJvbFRhZzpcbiAgICAgICAgICBpZiAoc3ltYm9sVmFsdWVPZikge1xuICAgICAgICAgICAgcmV0dXJuIHN5bWJvbFZhbHVlT2YuY2FsbChvYmplY3QpID09IHN5bWJvbFZhbHVlT2YuY2FsbChvdGhlcik7XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxEZWVwYCBmb3Igb2JqZWN0cyB3aXRoIHN1cHBvcnQgZm9yXG4gICAgICogcGFydGlhbCBkZWVwIGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3RoZXIgVGhlIG90aGVyIG9iamVjdCB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGJhc2VJc0VxdWFsYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHN0YWNrIFRyYWNrcyB0cmF2ZXJzZWQgYG9iamVjdGAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG9iamVjdHMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlcXVhbE9iamVjdHMob2JqZWN0LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaykge1xuICAgICAgdmFyIGlzUGFydGlhbCA9IGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRyxcbiAgICAgICAgICBvYmpQcm9wcyA9IGdldEFsbEtleXMob2JqZWN0KSxcbiAgICAgICAgICBvYmpMZW5ndGggPSBvYmpQcm9wcy5sZW5ndGgsXG4gICAgICAgICAgb3RoUHJvcHMgPSBnZXRBbGxLZXlzKG90aGVyKSxcbiAgICAgICAgICBvdGhMZW5ndGggPSBvdGhQcm9wcy5sZW5ndGg7XG5cbiAgICAgIGlmIChvYmpMZW5ndGggIT0gb3RoTGVuZ3RoICYmICFpc1BhcnRpYWwpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gb2JqTGVuZ3RoO1xuICAgICAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICAgICAgdmFyIGtleSA9IG9ialByb3BzW2luZGV4XTtcbiAgICAgICAgaWYgKCEoaXNQYXJ0aWFsID8ga2V5IGluIG90aGVyIDogaGFzT3duUHJvcGVydHkuY2FsbChvdGhlciwga2V5KSkpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIEFzc3VtZSBjeWNsaWMgdmFsdWVzIGFyZSBlcXVhbC5cbiAgICAgIHZhciBzdGFja2VkID0gc3RhY2suZ2V0KG9iamVjdCk7XG4gICAgICBpZiAoc3RhY2tlZCAmJiBzdGFjay5nZXQob3RoZXIpKSB7XG4gICAgICAgIHJldHVybiBzdGFja2VkID09IG90aGVyO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IHRydWU7XG4gICAgICBzdGFjay5zZXQob2JqZWN0LCBvdGhlcik7XG4gICAgICBzdGFjay5zZXQob3RoZXIsIG9iamVjdCk7XG5cbiAgICAgIHZhciBza2lwQ3RvciA9IGlzUGFydGlhbDtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgb2JqTGVuZ3RoKSB7XG4gICAgICAgIGtleSA9IG9ialByb3BzW2luZGV4XTtcbiAgICAgICAgdmFyIG9ialZhbHVlID0gb2JqZWN0W2tleV0sXG4gICAgICAgICAgICBvdGhWYWx1ZSA9IG90aGVyW2tleV07XG5cbiAgICAgICAgaWYgKGN1c3RvbWl6ZXIpIHtcbiAgICAgICAgICB2YXIgY29tcGFyZWQgPSBpc1BhcnRpYWxcbiAgICAgICAgICAgID8gY3VzdG9taXplcihvdGhWYWx1ZSwgb2JqVmFsdWUsIGtleSwgb3RoZXIsIG9iamVjdCwgc3RhY2spXG4gICAgICAgICAgICA6IGN1c3RvbWl6ZXIob2JqVmFsdWUsIG90aFZhbHVlLCBrZXksIG9iamVjdCwgb3RoZXIsIHN0YWNrKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZWN1cnNpdmVseSBjb21wYXJlIG9iamVjdHMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgaWYgKCEoY29tcGFyZWQgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICA/IChvYmpWYWx1ZSA9PT0gb3RoVmFsdWUgfHwgZXF1YWxGdW5jKG9ialZhbHVlLCBvdGhWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spKVxuICAgICAgICAgICAgICA6IGNvbXBhcmVkXG4gICAgICAgICAgICApKSB7XG4gICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgc2tpcEN0b3IgfHwgKHNraXBDdG9yID0ga2V5ID09ICdjb25zdHJ1Y3RvcicpO1xuICAgICAgfVxuICAgICAgaWYgKHJlc3VsdCAmJiAhc2tpcEN0b3IpIHtcbiAgICAgICAgdmFyIG9iakN0b3IgPSBvYmplY3QuY29uc3RydWN0b3IsXG4gICAgICAgICAgICBvdGhDdG9yID0gb3RoZXIuY29uc3RydWN0b3I7XG5cbiAgICAgICAgLy8gTm9uIGBPYmplY3RgIG9iamVjdCBpbnN0YW5jZXMgd2l0aCBkaWZmZXJlbnQgY29uc3RydWN0b3JzIGFyZSBub3QgZXF1YWwuXG4gICAgICAgIGlmIChvYmpDdG9yICE9IG90aEN0b3IgJiZcbiAgICAgICAgICAgICgnY29uc3RydWN0b3InIGluIG9iamVjdCAmJiAnY29uc3RydWN0b3InIGluIG90aGVyKSAmJlxuICAgICAgICAgICAgISh0eXBlb2Ygb2JqQ3RvciA9PSAnZnVuY3Rpb24nICYmIG9iakN0b3IgaW5zdGFuY2VvZiBvYmpDdG9yICYmXG4gICAgICAgICAgICAgIHR5cGVvZiBvdGhDdG9yID09ICdmdW5jdGlvbicgJiYgb3RoQ3RvciBpbnN0YW5jZW9mIG90aEN0b3IpKSB7XG4gICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHN0YWNrWydkZWxldGUnXShvYmplY3QpO1xuICAgICAgc3RhY2tbJ2RlbGV0ZSddKG90aGVyKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlUmVzdGAgd2hpY2ggZmxhdHRlbnMgdGhlIHJlc3QgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdFJlc3QoZnVuYykge1xuICAgICAgcmV0dXJuIHNldFRvU3RyaW5nKG92ZXJSZXN0KGZ1bmMsIHVuZGVmaW5lZCwgZmxhdHRlbiksIGZ1bmMgKyAnJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBvd24gZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBhbmQgc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0QWxsS2V5cyhvYmplY3QpIHtcbiAgICAgIHJldHVybiBiYXNlR2V0QWxsS2V5cyhvYmplY3QsIGtleXMsIGdldFN5bWJvbHMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2Ygb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBhbmRcbiAgICAgKiBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcyBhbmQgc3ltYm9scy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRBbGxLZXlzSW4ob2JqZWN0KSB7XG4gICAgICByZXR1cm4gYmFzZUdldEFsbEtleXMob2JqZWN0LCBrZXlzSW4sIGdldFN5bWJvbHNJbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBtZXRhZGF0YSBmb3IgYGZ1bmNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWV0YWRhdGEgZm9yIGBmdW5jYC5cbiAgICAgKi9cbiAgICB2YXIgZ2V0RGF0YSA9ICFtZXRhTWFwID8gbm9vcCA6IGZ1bmN0aW9uKGZ1bmMpIHtcbiAgICAgIHJldHVybiBtZXRhTWFwLmdldChmdW5jKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbmFtZSBvZiBgZnVuY2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGZ1bmN0aW9uIG5hbWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0RnVuY05hbWUoZnVuYykge1xuICAgICAgdmFyIHJlc3VsdCA9IChmdW5jLm5hbWUgKyAnJyksXG4gICAgICAgICAgYXJyYXkgPSByZWFsTmFtZXNbcmVzdWx0XSxcbiAgICAgICAgICBsZW5ndGggPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKHJlYWxOYW1lcywgcmVzdWx0KSA/IGFycmF5Lmxlbmd0aCA6IDA7XG5cbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICB2YXIgZGF0YSA9IGFycmF5W2xlbmd0aF0sXG4gICAgICAgICAgICBvdGhlckZ1bmMgPSBkYXRhLmZ1bmM7XG4gICAgICAgIGlmIChvdGhlckZ1bmMgPT0gbnVsbCB8fCBvdGhlckZ1bmMgPT0gZnVuYykge1xuICAgICAgICAgIHJldHVybiBkYXRhLm5hbWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgYXJndW1lbnQgcGxhY2Vob2xkZXIgdmFsdWUgZm9yIGBmdW5jYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcGxhY2Vob2xkZXIgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0SG9sZGVyKGZ1bmMpIHtcbiAgICAgIHZhciBvYmplY3QgPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKGxvZGFzaCwgJ3BsYWNlaG9sZGVyJykgPyBsb2Rhc2ggOiBmdW5jO1xuICAgICAgcmV0dXJuIG9iamVjdC5wbGFjZWhvbGRlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBhcHByb3ByaWF0ZSBcIml0ZXJhdGVlXCIgZnVuY3Rpb24uIElmIGBfLml0ZXJhdGVlYCBpcyBjdXN0b21pemVkLFxuICAgICAqIHRoaXMgZnVuY3Rpb24gcmV0dXJucyB0aGUgY3VzdG9tIG1ldGhvZCwgb3RoZXJ3aXNlIGl0IHJldHVybnMgYGJhc2VJdGVyYXRlZWAuXG4gICAgICogSWYgYXJndW1lbnRzIGFyZSBwcm92aWRlZCwgdGhlIGNob3NlbiBmdW5jdGlvbiBpcyBpbnZva2VkIHdpdGggdGhlbSBhbmRcbiAgICAgKiBpdHMgcmVzdWx0IGlzIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IFt2YWx1ZV0gVGhlIHZhbHVlIHRvIGNvbnZlcnQgdG8gYW4gaXRlcmF0ZWUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcml0eV0gVGhlIGFyaXR5IG9mIHRoZSBjcmVhdGVkIGl0ZXJhdGVlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgY2hvc2VuIGZ1bmN0aW9uIG9yIGl0cyByZXN1bHQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0SXRlcmF0ZWUoKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbG9kYXNoLml0ZXJhdGVlIHx8IGl0ZXJhdGVlO1xuICAgICAgcmVzdWx0ID0gcmVzdWx0ID09PSBpdGVyYXRlZSA/IGJhc2VJdGVyYXRlZSA6IHJlc3VsdDtcbiAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gcmVzdWx0KGFyZ3VtZW50c1swXSwgYXJndW1lbnRzWzFdKSA6IHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBkYXRhIGZvciBgbWFwYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG1hcCBUaGUgbWFwIHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIHJlZmVyZW5jZSBrZXkuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1hcCBkYXRhLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldE1hcERhdGEobWFwLCBrZXkpIHtcbiAgICAgIHZhciBkYXRhID0gbWFwLl9fZGF0YV9fO1xuICAgICAgcmV0dXJuIGlzS2V5YWJsZShrZXkpXG4gICAgICAgID8gZGF0YVt0eXBlb2Yga2V5ID09ICdzdHJpbmcnID8gJ3N0cmluZycgOiAnaGFzaCddXG4gICAgICAgIDogZGF0YS5tYXA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgcHJvcGVydHkgbmFtZXMsIHZhbHVlcywgYW5kIGNvbXBhcmUgZmxhZ3Mgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG1hdGNoIGRhdGEgb2YgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0TWF0Y2hEYXRhKG9iamVjdCkge1xuICAgICAgdmFyIHJlc3VsdCA9IGtleXMob2JqZWN0KSxcbiAgICAgICAgICBsZW5ndGggPSByZXN1bHQubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgdmFyIGtleSA9IHJlc3VsdFtsZW5ndGhdLFxuICAgICAgICAgICAgdmFsdWUgPSBvYmplY3Rba2V5XTtcblxuICAgICAgICByZXN1bHRbbGVuZ3RoXSA9IFtrZXksIHZhbHVlLCBpc1N0cmljdENvbXBhcmFibGUodmFsdWUpXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbmF0aXZlIGZ1bmN0aW9uIGF0IGBrZXlgIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBtZXRob2QgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBpZiBpdCdzIG5hdGl2ZSwgZWxzZSBgdW5kZWZpbmVkYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXROYXRpdmUob2JqZWN0LCBrZXkpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGdldFZhbHVlKG9iamVjdCwga2V5KTtcbiAgICAgIHJldHVybiBiYXNlSXNOYXRpdmUodmFsdWUpID8gdmFsdWUgOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlR2V0VGFnYCB3aGljaCBpZ25vcmVzIGBTeW1ib2wudG9TdHJpbmdUYWdgIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcmF3IGB0b1N0cmluZ1RhZ2AuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0UmF3VGFnKHZhbHVlKSB7XG4gICAgICB2YXIgaXNPd24gPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBzeW1Ub1N0cmluZ1RhZyksXG4gICAgICAgICAgdGFnID0gdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuXG4gICAgICB0cnkge1xuICAgICAgICB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ10gPSB1bmRlZmluZWQ7XG4gICAgICAgIHZhciB1bm1hc2tlZCA9IHRydWU7XG4gICAgICB9IGNhdGNoIChlKSB7fVxuXG4gICAgICB2YXIgcmVzdWx0ID0gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gICAgICBpZiAodW5tYXNrZWQpIHtcbiAgICAgICAgaWYgKGlzT3duKSB7XG4gICAgICAgICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdGFnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRlbGV0ZSB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ107XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGVudW1lcmFibGUgc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2Ygc3ltYm9scy5cbiAgICAgKi9cbiAgICB2YXIgZ2V0U3ltYm9scyA9ICFuYXRpdmVHZXRTeW1ib2xzID8gc3R1YkFycmF5IDogZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgb2JqZWN0ID0gT2JqZWN0KG9iamVjdCk7XG4gICAgICByZXR1cm4gYXJyYXlGaWx0ZXIobmF0aXZlR2V0U3ltYm9scyhvYmplY3QpLCBmdW5jdGlvbihzeW1ib2wpIHtcbiAgICAgICAgcmV0dXJuIHByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwob2JqZWN0LCBzeW1ib2wpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2Ygc3ltYm9scy5cbiAgICAgKi9cbiAgICB2YXIgZ2V0U3ltYm9sc0luID0gIW5hdGl2ZUdldFN5bWJvbHMgPyBzdHViQXJyYXkgOiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgIHdoaWxlIChvYmplY3QpIHtcbiAgICAgICAgYXJyYXlQdXNoKHJlc3VsdCwgZ2V0U3ltYm9scyhvYmplY3QpKTtcbiAgICAgICAgb2JqZWN0ID0gZ2V0UHJvdG90eXBlKG9iamVjdCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBgdG9TdHJpbmdUYWdgIG9mIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGB0b1N0cmluZ1RhZ2AuXG4gICAgICovXG4gICAgdmFyIGdldFRhZyA9IGJhc2VHZXRUYWc7XG5cbiAgICAvLyBGYWxsYmFjayBmb3IgZGF0YSB2aWV3cywgbWFwcywgc2V0cywgYW5kIHdlYWsgbWFwcyBpbiBJRSAxMSBhbmQgcHJvbWlzZXMgaW4gTm9kZS5qcyA8IDYuXG4gICAgaWYgKChEYXRhVmlldyAmJiBnZXRUYWcobmV3IERhdGFWaWV3KG5ldyBBcnJheUJ1ZmZlcigxKSkpICE9IGRhdGFWaWV3VGFnKSB8fFxuICAgICAgICAoTWFwICYmIGdldFRhZyhuZXcgTWFwKSAhPSBtYXBUYWcpIHx8XG4gICAgICAgIChQcm9taXNlICYmIGdldFRhZyhQcm9taXNlLnJlc29sdmUoKSkgIT0gcHJvbWlzZVRhZykgfHxcbiAgICAgICAgKFNldCAmJiBnZXRUYWcobmV3IFNldCkgIT0gc2V0VGFnKSB8fFxuICAgICAgICAoV2Vha01hcCAmJiBnZXRUYWcobmV3IFdlYWtNYXApICE9IHdlYWtNYXBUYWcpKSB7XG4gICAgICBnZXRUYWcgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gYmFzZUdldFRhZyh2YWx1ZSksXG4gICAgICAgICAgICBDdG9yID0gcmVzdWx0ID09IG9iamVjdFRhZyA/IHZhbHVlLmNvbnN0cnVjdG9yIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgY3RvclN0cmluZyA9IEN0b3IgPyB0b1NvdXJjZShDdG9yKSA6ICcnO1xuXG4gICAgICAgIGlmIChjdG9yU3RyaW5nKSB7XG4gICAgICAgICAgc3dpdGNoIChjdG9yU3RyaW5nKSB7XG4gICAgICAgICAgICBjYXNlIGRhdGFWaWV3Q3RvclN0cmluZzogcmV0dXJuIGRhdGFWaWV3VGFnO1xuICAgICAgICAgICAgY2FzZSBtYXBDdG9yU3RyaW5nOiByZXR1cm4gbWFwVGFnO1xuICAgICAgICAgICAgY2FzZSBwcm9taXNlQ3RvclN0cmluZzogcmV0dXJuIHByb21pc2VUYWc7XG4gICAgICAgICAgICBjYXNlIHNldEN0b3JTdHJpbmc6IHJldHVybiBzZXRUYWc7XG4gICAgICAgICAgICBjYXNlIHdlYWtNYXBDdG9yU3RyaW5nOiByZXR1cm4gd2Vha01hcFRhZztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgdmlldywgYXBwbHlpbmcgYW55IGB0cmFuc2Zvcm1zYCB0byB0aGUgYHN0YXJ0YCBhbmQgYGVuZGAgcG9zaXRpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgVGhlIHN0YXJ0IG9mIHRoZSB2aWV3LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgVGhlIGVuZCBvZiB0aGUgdmlldy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB0cmFuc2Zvcm1zIFRoZSB0cmFuc2Zvcm1hdGlvbnMgdG8gYXBwbHkgdG8gdGhlIHZpZXcuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgYHN0YXJ0YCBhbmQgYGVuZGBcbiAgICAgKiAgcG9zaXRpb25zIG9mIHRoZSB2aWV3LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldFZpZXcoc3RhcnQsIGVuZCwgdHJhbnNmb3Jtcykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gdHJhbnNmb3Jtcy5sZW5ndGg7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBkYXRhID0gdHJhbnNmb3Jtc1tpbmRleF0sXG4gICAgICAgICAgICBzaXplID0gZGF0YS5zaXplO1xuXG4gICAgICAgIHN3aXRjaCAoZGF0YS50eXBlKSB7XG4gICAgICAgICAgY2FzZSAnZHJvcCc6ICAgICAgc3RhcnQgKz0gc2l6ZTsgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnZHJvcFJpZ2h0JzogZW5kIC09IHNpemU7IGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ3Rha2UnOiAgICAgIGVuZCA9IG5hdGl2ZU1pbihlbmQsIHN0YXJ0ICsgc2l6ZSk7IGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ3Rha2VSaWdodCc6IHN0YXJ0ID0gbmF0aXZlTWF4KHN0YXJ0LCBlbmQgLSBzaXplKTsgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB7ICdzdGFydCc6IHN0YXJ0LCAnZW5kJzogZW5kIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXh0cmFjdHMgd3JhcHBlciBkZXRhaWxzIGZyb20gdGhlIGBzb3VyY2VgIGJvZHkgY29tbWVudC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNvdXJjZSBUaGUgc291cmNlIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB3cmFwcGVyIGRldGFpbHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0V3JhcERldGFpbHMoc291cmNlKSB7XG4gICAgICB2YXIgbWF0Y2ggPSBzb3VyY2UubWF0Y2gocmVXcmFwRGV0YWlscyk7XG4gICAgICByZXR1cm4gbWF0Y2ggPyBtYXRjaFsxXS5zcGxpdChyZVNwbGl0RGV0YWlscykgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHBhdGhgIGV4aXN0cyBvbiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIHRvIGNoZWNrLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGhhc0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGNoZWNrIHByb3BlcnRpZXMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBwYXRoYCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXNQYXRoKG9iamVjdCwgcGF0aCwgaGFzRnVuYykge1xuICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG5cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHBhdGgubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIga2V5ID0gdG9LZXkocGF0aFtpbmRleF0pO1xuICAgICAgICBpZiAoIShyZXN1bHQgPSBvYmplY3QgIT0gbnVsbCAmJiBoYXNGdW5jKG9iamVjdCwga2V5KSkpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBvYmplY3QgPSBvYmplY3Rba2V5XTtcbiAgICAgIH1cbiAgICAgIGlmIChyZXN1bHQgfHwgKytpbmRleCAhPSBsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIGxlbmd0aCA9IG9iamVjdCA9PSBudWxsID8gMCA6IG9iamVjdC5sZW5ndGg7XG4gICAgICByZXR1cm4gISFsZW5ndGggJiYgaXNMZW5ndGgobGVuZ3RoKSAmJiBpc0luZGV4KGtleSwgbGVuZ3RoKSAmJlxuICAgICAgICAoaXNBcnJheShvYmplY3QpIHx8IGlzQXJndW1lbnRzKG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIGFuIGFycmF5IGNsb25lLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gY2xvbmUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBpbml0aWFsaXplZCBjbG9uZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbml0Q2xvbmVBcnJheShhcnJheSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSBuZXcgYXJyYXkuY29uc3RydWN0b3IobGVuZ3RoKTtcblxuICAgICAgLy8gQWRkIHByb3BlcnRpZXMgYXNzaWduZWQgYnkgYFJlZ0V4cCNleGVjYC5cbiAgICAgIGlmIChsZW5ndGggJiYgdHlwZW9mIGFycmF5WzBdID09ICdzdHJpbmcnICYmIGhhc093blByb3BlcnR5LmNhbGwoYXJyYXksICdpbmRleCcpKSB7XG4gICAgICAgIHJlc3VsdC5pbmRleCA9IGFycmF5LmluZGV4O1xuICAgICAgICByZXN1bHQuaW5wdXQgPSBhcnJheS5pbnB1dDtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgYW4gb2JqZWN0IGNsb25lLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY2xvbmUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgaW5pdGlhbGl6ZWQgY2xvbmUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5pdENsb25lT2JqZWN0KG9iamVjdCkge1xuICAgICAgcmV0dXJuICh0eXBlb2Ygb2JqZWN0LmNvbnN0cnVjdG9yID09ICdmdW5jdGlvbicgJiYgIWlzUHJvdG90eXBlKG9iamVjdCkpXG4gICAgICAgID8gYmFzZUNyZWF0ZShnZXRQcm90b3R5cGUob2JqZWN0KSlcbiAgICAgICAgOiB7fTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyBhbiBvYmplY3QgY2xvbmUgYmFzZWQgb24gaXRzIGB0b1N0cmluZ1RhZ2AuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBmdW5jdGlvbiBvbmx5IHN1cHBvcnRzIGNsb25pbmcgdmFsdWVzIHdpdGggdGFncyBvZlxuICAgICAqIGBCb29sZWFuYCwgYERhdGVgLCBgRXJyb3JgLCBgTWFwYCwgYE51bWJlcmAsIGBSZWdFeHBgLCBgU2V0YCwgb3IgYFN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFnIFRoZSBgdG9TdHJpbmdUYWdgIG9mIHRoZSBvYmplY3QgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNEZWVwXSBTcGVjaWZ5IGEgZGVlcCBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBpbml0aWFsaXplZCBjbG9uZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbml0Q2xvbmVCeVRhZyhvYmplY3QsIHRhZywgaXNEZWVwKSB7XG4gICAgICB2YXIgQ3RvciA9IG9iamVjdC5jb25zdHJ1Y3RvcjtcbiAgICAgIHN3aXRjaCAodGFnKSB7XG4gICAgICAgIGNhc2UgYXJyYXlCdWZmZXJUYWc6XG4gICAgICAgICAgcmV0dXJuIGNsb25lQXJyYXlCdWZmZXIob2JqZWN0KTtcblxuICAgICAgICBjYXNlIGJvb2xUYWc6XG4gICAgICAgIGNhc2UgZGF0ZVRhZzpcbiAgICAgICAgICByZXR1cm4gbmV3IEN0b3IoK29iamVjdCk7XG5cbiAgICAgICAgY2FzZSBkYXRhVmlld1RhZzpcbiAgICAgICAgICByZXR1cm4gY2xvbmVEYXRhVmlldyhvYmplY3QsIGlzRGVlcCk7XG5cbiAgICAgICAgY2FzZSBmbG9hdDMyVGFnOiBjYXNlIGZsb2F0NjRUYWc6XG4gICAgICAgIGNhc2UgaW50OFRhZzogY2FzZSBpbnQxNlRhZzogY2FzZSBpbnQzMlRhZzpcbiAgICAgICAgY2FzZSB1aW50OFRhZzogY2FzZSB1aW50OENsYW1wZWRUYWc6IGNhc2UgdWludDE2VGFnOiBjYXNlIHVpbnQzMlRhZzpcbiAgICAgICAgICByZXR1cm4gY2xvbmVUeXBlZEFycmF5KG9iamVjdCwgaXNEZWVwKTtcblxuICAgICAgICBjYXNlIG1hcFRhZzpcbiAgICAgICAgICByZXR1cm4gbmV3IEN0b3I7XG5cbiAgICAgICAgY2FzZSBudW1iZXJUYWc6XG4gICAgICAgIGNhc2Ugc3RyaW5nVGFnOlxuICAgICAgICAgIHJldHVybiBuZXcgQ3RvcihvYmplY3QpO1xuXG4gICAgICAgIGNhc2UgcmVnZXhwVGFnOlxuICAgICAgICAgIHJldHVybiBjbG9uZVJlZ0V4cChvYmplY3QpO1xuXG4gICAgICAgIGNhc2Ugc2V0VGFnOlxuICAgICAgICAgIHJldHVybiBuZXcgQ3RvcjtcblxuICAgICAgICBjYXNlIHN5bWJvbFRhZzpcbiAgICAgICAgICByZXR1cm4gY2xvbmVTeW1ib2wob2JqZWN0KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnNlcnRzIHdyYXBwZXIgYGRldGFpbHNgIGluIGEgY29tbWVudCBhdCB0aGUgdG9wIG9mIHRoZSBgc291cmNlYCBib2R5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc291cmNlIFRoZSBzb3VyY2UgdG8gbW9kaWZ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gZGV0YWlscyBUaGUgZGV0YWlscyB0byBpbnNlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgbW9kaWZpZWQgc291cmNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluc2VydFdyYXBEZXRhaWxzKHNvdXJjZSwgZGV0YWlscykge1xuICAgICAgdmFyIGxlbmd0aCA9IGRldGFpbHMubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZTtcbiAgICAgIH1cbiAgICAgIHZhciBsYXN0SW5kZXggPSBsZW5ndGggLSAxO1xuICAgICAgZGV0YWlsc1tsYXN0SW5kZXhdID0gKGxlbmd0aCA+IDEgPyAnJiAnIDogJycpICsgZGV0YWlsc1tsYXN0SW5kZXhdO1xuICAgICAgZGV0YWlscyA9IGRldGFpbHMuam9pbihsZW5ndGggPiAyID8gJywgJyA6ICcgJyk7XG4gICAgICByZXR1cm4gc291cmNlLnJlcGxhY2UocmVXcmFwQ29tbWVudCwgJ3tcXG4vKiBbd3JhcHBlZCB3aXRoICcgKyBkZXRhaWxzICsgJ10gKi9cXG4nKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIGZsYXR0ZW5hYmxlIGBhcmd1bWVudHNgIG9iamVjdCBvciBhcnJheS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZmxhdHRlbmFibGUsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0ZsYXR0ZW5hYmxlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNBcnJheSh2YWx1ZSkgfHwgaXNBcmd1bWVudHModmFsdWUpIHx8XG4gICAgICAgICEhKHNwcmVhZGFibGVTeW1ib2wgJiYgdmFsdWUgJiYgdmFsdWVbc3ByZWFkYWJsZVN5bWJvbF0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBpbmRleC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9TUFYX1NBRkVfSU5URUdFUl0gVGhlIHVwcGVyIGJvdW5kcyBvZiBhIHZhbGlkIGluZGV4LlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgaW5kZXgsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0luZGV4KHZhbHVlLCBsZW5ndGgpIHtcbiAgICAgIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICAgICAgbGVuZ3RoID0gbGVuZ3RoID09IG51bGwgPyBNQVhfU0FGRV9JTlRFR0VSIDogbGVuZ3RoO1xuXG4gICAgICByZXR1cm4gISFsZW5ndGggJiZcbiAgICAgICAgKHR5cGUgPT0gJ251bWJlcicgfHxcbiAgICAgICAgICAodHlwZSAhPSAnc3ltYm9sJyAmJiByZUlzVWludC50ZXN0KHZhbHVlKSkpICYmXG4gICAgICAgICAgICAodmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8IGxlbmd0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIHRoZSBnaXZlbiBhcmd1bWVudHMgYXJlIGZyb20gYW4gaXRlcmF0ZWUgY2FsbC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgcG90ZW50aWFsIGl0ZXJhdGVlIHZhbHVlIGFyZ3VtZW50LlxuICAgICAqIEBwYXJhbSB7Kn0gaW5kZXggVGhlIHBvdGVudGlhbCBpdGVyYXRlZSBpbmRleCBvciBrZXkgYXJndW1lbnQuXG4gICAgICogQHBhcmFtIHsqfSBvYmplY3QgVGhlIHBvdGVudGlhbCBpdGVyYXRlZSBvYmplY3QgYXJndW1lbnQuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBhcmd1bWVudHMgYXJlIGZyb20gYW4gaXRlcmF0ZWUgY2FsbCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzSXRlcmF0ZWVDYWxsKHZhbHVlLCBpbmRleCwgb2JqZWN0KSB7XG4gICAgICBpZiAoIWlzT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIHR5cGUgPSB0eXBlb2YgaW5kZXg7XG4gICAgICBpZiAodHlwZSA9PSAnbnVtYmVyJ1xuICAgICAgICAgICAgPyAoaXNBcnJheUxpa2Uob2JqZWN0KSAmJiBpc0luZGV4KGluZGV4LCBvYmplY3QubGVuZ3RoKSlcbiAgICAgICAgICAgIDogKHR5cGUgPT0gJ3N0cmluZycgJiYgaW5kZXggaW4gb2JqZWN0KVxuICAgICAgICAgICkge1xuICAgICAgICByZXR1cm4gZXEob2JqZWN0W2luZGV4XSwgdmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgcHJvcGVydHkgbmFtZSBhbmQgbm90IGEgcHJvcGVydHkgcGF0aC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkga2V5cyBvbi5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHByb3BlcnR5IG5hbWUsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0tleSh2YWx1ZSwgb2JqZWN0KSB7XG4gICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gICAgICBpZiAodHlwZSA9PSAnbnVtYmVyJyB8fCB0eXBlID09ICdzeW1ib2wnIHx8IHR5cGUgPT0gJ2Jvb2xlYW4nIHx8XG4gICAgICAgICAgdmFsdWUgPT0gbnVsbCB8fCBpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVJc1BsYWluUHJvcC50ZXN0KHZhbHVlKSB8fCAhcmVJc0RlZXBQcm9wLnRlc3QodmFsdWUpIHx8XG4gICAgICAgIChvYmplY3QgIT0gbnVsbCAmJiB2YWx1ZSBpbiBPYmplY3Qob2JqZWN0KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUgZm9yIHVzZSBhcyB1bmlxdWUgb2JqZWN0IGtleS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0tleWFibGUodmFsdWUpIHtcbiAgICAgIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICAgICAgcmV0dXJuICh0eXBlID09ICdzdHJpbmcnIHx8IHR5cGUgPT0gJ251bWJlcicgfHwgdHlwZSA9PSAnc3ltYm9sJyB8fCB0eXBlID09ICdib29sZWFuJylcbiAgICAgICAgPyAodmFsdWUgIT09ICdfX3Byb3RvX18nKVxuICAgICAgICA6ICh2YWx1ZSA9PT0gbnVsbCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBmdW5jYCBoYXMgYSBsYXp5IGNvdW50ZXJwYXJ0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGZ1bmNgIGhhcyBhIGxhenkgY291bnRlcnBhcnQsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0xhemlhYmxlKGZ1bmMpIHtcbiAgICAgIHZhciBmdW5jTmFtZSA9IGdldEZ1bmNOYW1lKGZ1bmMpLFxuICAgICAgICAgIG90aGVyID0gbG9kYXNoW2Z1bmNOYW1lXTtcblxuICAgICAgaWYgKHR5cGVvZiBvdGhlciAhPSAnZnVuY3Rpb24nIHx8ICEoZnVuY05hbWUgaW4gTGF6eVdyYXBwZXIucHJvdG90eXBlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAoZnVuYyA9PT0gb3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICB2YXIgZGF0YSA9IGdldERhdGEob3RoZXIpO1xuICAgICAgcmV0dXJuICEhZGF0YSAmJiBmdW5jID09PSBkYXRhWzBdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgZnVuY2AgaGFzIGl0cyBzb3VyY2UgbWFza2VkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGZ1bmNgIGlzIG1hc2tlZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTWFza2VkKGZ1bmMpIHtcbiAgICAgIHJldHVybiAhIW1hc2tTcmNLZXkgJiYgKG1hc2tTcmNLZXkgaW4gZnVuYyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBmdW5jYCBpcyBjYXBhYmxlIG9mIGJlaW5nIG1hc2tlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBmdW5jYCBpcyBtYXNrYWJsZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIHZhciBpc01hc2thYmxlID0gY29yZUpzRGF0YSA/IGlzRnVuY3Rpb24gOiBzdHViRmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsaWtlbHkgYSBwcm90b3R5cGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHByb3RvdHlwZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzUHJvdG90eXBlKHZhbHVlKSB7XG4gICAgICB2YXIgQ3RvciA9IHZhbHVlICYmIHZhbHVlLmNvbnN0cnVjdG9yLFxuICAgICAgICAgIHByb3RvID0gKHR5cGVvZiBDdG9yID09ICdmdW5jdGlvbicgJiYgQ3Rvci5wcm90b3R5cGUpIHx8IG9iamVjdFByb3RvO1xuXG4gICAgICByZXR1cm4gdmFsdWUgPT09IHByb3RvO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlIGZvciBzdHJpY3QgZXF1YWxpdHkgY29tcGFyaXNvbnMsIGkuZS4gYD09PWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlmIHN1aXRhYmxlIGZvciBzdHJpY3RcbiAgICAgKiAgZXF1YWxpdHkgY29tcGFyaXNvbnMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1N0cmljdENvbXBhcmFibGUodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gdmFsdWUgJiYgIWlzT2JqZWN0KHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYG1hdGNoZXNQcm9wZXJ0eWAgZm9yIHNvdXJjZSB2YWx1ZXMgc3VpdGFibGVcbiAgICAgKiBmb3Igc3RyaWN0IGVxdWFsaXR5IGNvbXBhcmlzb25zLCBpLmUuIGA9PT1gLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcGFyYW0geyp9IHNyY1ZhbHVlIFRoZSB2YWx1ZSB0byBtYXRjaC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzcGVjIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hdGNoZXNTdHJpY3RDb21wYXJhYmxlKGtleSwgc3JjVmFsdWUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmplY3Rba2V5XSA9PT0gc3JjVmFsdWUgJiZcbiAgICAgICAgICAoc3JjVmFsdWUgIT09IHVuZGVmaW5lZCB8fCAoa2V5IGluIE9iamVjdChvYmplY3QpKSk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5tZW1vaXplYCB3aGljaCBjbGVhcnMgdGhlIG1lbW9pemVkIGZ1bmN0aW9uJ3NcbiAgICAgKiBjYWNoZSB3aGVuIGl0IGV4Y2VlZHMgYE1BWF9NRU1PSVpFX1NJWkVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBoYXZlIGl0cyBvdXRwdXQgbWVtb2l6ZWQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgbWVtb2l6ZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWVtb2l6ZUNhcHBlZChmdW5jKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbWVtb2l6ZShmdW5jLCBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgaWYgKGNhY2hlLnNpemUgPT09IE1BWF9NRU1PSVpFX1NJWkUpIHtcbiAgICAgICAgICBjYWNoZS5jbGVhcigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBrZXk7XG4gICAgICB9KTtcblxuICAgICAgdmFyIGNhY2hlID0gcmVzdWx0LmNhY2hlO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNZXJnZXMgdGhlIGZ1bmN0aW9uIG1ldGFkYXRhIG9mIGBzb3VyY2VgIGludG8gYGRhdGFgLlxuICAgICAqXG4gICAgICogTWVyZ2luZyBtZXRhZGF0YSByZWR1Y2VzIHRoZSBudW1iZXIgb2Ygd3JhcHBlcnMgdXNlZCB0byBpbnZva2UgYSBmdW5jdGlvbi5cbiAgICAgKiBUaGlzIGlzIHBvc3NpYmxlIGJlY2F1c2UgbWV0aG9kcyBsaWtlIGBfLmJpbmRgLCBgXy5jdXJyeWAsIGFuZCBgXy5wYXJ0aWFsYFxuICAgICAqIG1heSBiZSBhcHBsaWVkIHJlZ2FyZGxlc3Mgb2YgZXhlY3V0aW9uIG9yZGVyLiBNZXRob2RzIGxpa2UgYF8uYXJ5YCBhbmRcbiAgICAgKiBgXy5yZWFyZ2AgbW9kaWZ5IGZ1bmN0aW9uIGFyZ3VtZW50cywgbWFraW5nIHRoZSBvcmRlciBpbiB3aGljaCB0aGV5IGFyZVxuICAgICAqIGV4ZWN1dGVkIGltcG9ydGFudCwgcHJldmVudGluZyB0aGUgbWVyZ2luZyBvZiBtZXRhZGF0YS4gSG93ZXZlciwgd2UgbWFrZVxuICAgICAqIGFuIGV4Y2VwdGlvbiBmb3IgYSBzYWZlIGNvbWJpbmVkIGNhc2Ugd2hlcmUgY3VycmllZCBmdW5jdGlvbnMgaGF2ZSBgXy5hcnlgXG4gICAgICogYW5kIG9yIGBfLnJlYXJnYCBhcHBsaWVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBkYXRhIFRoZSBkZXN0aW5hdGlvbiBtZXRhZGF0YS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBzb3VyY2UgVGhlIHNvdXJjZSBtZXRhZGF0YS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGRhdGFgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1lcmdlRGF0YShkYXRhLCBzb3VyY2UpIHtcbiAgICAgIHZhciBiaXRtYXNrID0gZGF0YVsxXSxcbiAgICAgICAgICBzcmNCaXRtYXNrID0gc291cmNlWzFdLFxuICAgICAgICAgIG5ld0JpdG1hc2sgPSBiaXRtYXNrIHwgc3JjQml0bWFzayxcbiAgICAgICAgICBpc0NvbW1vbiA9IG5ld0JpdG1hc2sgPCAoV1JBUF9CSU5EX0ZMQUcgfCBXUkFQX0JJTkRfS0VZX0ZMQUcgfCBXUkFQX0FSWV9GTEFHKTtcblxuICAgICAgdmFyIGlzQ29tYm8gPVxuICAgICAgICAoKHNyY0JpdG1hc2sgPT0gV1JBUF9BUllfRkxBRykgJiYgKGJpdG1hc2sgPT0gV1JBUF9DVVJSWV9GTEFHKSkgfHxcbiAgICAgICAgKChzcmNCaXRtYXNrID09IFdSQVBfQVJZX0ZMQUcpICYmIChiaXRtYXNrID09IFdSQVBfUkVBUkdfRkxBRykgJiYgKGRhdGFbN10ubGVuZ3RoIDw9IHNvdXJjZVs4XSkpIHx8XG4gICAgICAgICgoc3JjQml0bWFzayA9PSAoV1JBUF9BUllfRkxBRyB8IFdSQVBfUkVBUkdfRkxBRykpICYmIChzb3VyY2VbN10ubGVuZ3RoIDw9IHNvdXJjZVs4XSkgJiYgKGJpdG1hc2sgPT0gV1JBUF9DVVJSWV9GTEFHKSk7XG5cbiAgICAgIC8vIEV4aXQgZWFybHkgaWYgbWV0YWRhdGEgY2FuJ3QgYmUgbWVyZ2VkLlxuICAgICAgaWYgKCEoaXNDb21tb24gfHwgaXNDb21ibykpIHtcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICB9XG4gICAgICAvLyBVc2Ugc291cmNlIGB0aGlzQXJnYCBpZiBhdmFpbGFibGUuXG4gICAgICBpZiAoc3JjQml0bWFzayAmIFdSQVBfQklORF9GTEFHKSB7XG4gICAgICAgIGRhdGFbMl0gPSBzb3VyY2VbMl07XG4gICAgICAgIC8vIFNldCB3aGVuIGN1cnJ5aW5nIGEgYm91bmQgZnVuY3Rpb24uXG4gICAgICAgIG5ld0JpdG1hc2sgfD0gYml0bWFzayAmIFdSQVBfQklORF9GTEFHID8gMCA6IFdSQVBfQ1VSUllfQk9VTkRfRkxBRztcbiAgICAgIH1cbiAgICAgIC8vIENvbXBvc2UgcGFydGlhbCBhcmd1bWVudHMuXG4gICAgICB2YXIgdmFsdWUgPSBzb3VyY2VbM107XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgdmFyIHBhcnRpYWxzID0gZGF0YVszXTtcbiAgICAgICAgZGF0YVszXSA9IHBhcnRpYWxzID8gY29tcG9zZUFyZ3MocGFydGlhbHMsIHZhbHVlLCBzb3VyY2VbNF0pIDogdmFsdWU7XG4gICAgICAgIGRhdGFbNF0gPSBwYXJ0aWFscyA/IHJlcGxhY2VIb2xkZXJzKGRhdGFbM10sIFBMQUNFSE9MREVSKSA6IHNvdXJjZVs0XTtcbiAgICAgIH1cbiAgICAgIC8vIENvbXBvc2UgcGFydGlhbCByaWdodCBhcmd1bWVudHMuXG4gICAgICB2YWx1ZSA9IHNvdXJjZVs1XTtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICBwYXJ0aWFscyA9IGRhdGFbNV07XG4gICAgICAgIGRhdGFbNV0gPSBwYXJ0aWFscyA/IGNvbXBvc2VBcmdzUmlnaHQocGFydGlhbHMsIHZhbHVlLCBzb3VyY2VbNl0pIDogdmFsdWU7XG4gICAgICAgIGRhdGFbNl0gPSBwYXJ0aWFscyA/IHJlcGxhY2VIb2xkZXJzKGRhdGFbNV0sIFBMQUNFSE9MREVSKSA6IHNvdXJjZVs2XTtcbiAgICAgIH1cbiAgICAgIC8vIFVzZSBzb3VyY2UgYGFyZ1Bvc2AgaWYgYXZhaWxhYmxlLlxuICAgICAgdmFsdWUgPSBzb3VyY2VbN107XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgZGF0YVs3XSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgLy8gVXNlIHNvdXJjZSBgYXJ5YCBpZiBpdCdzIHNtYWxsZXIuXG4gICAgICBpZiAoc3JjQml0bWFzayAmIFdSQVBfQVJZX0ZMQUcpIHtcbiAgICAgICAgZGF0YVs4XSA9IGRhdGFbOF0gPT0gbnVsbCA/IHNvdXJjZVs4XSA6IG5hdGl2ZU1pbihkYXRhWzhdLCBzb3VyY2VbOF0pO1xuICAgICAgfVxuICAgICAgLy8gVXNlIHNvdXJjZSBgYXJpdHlgIGlmIG9uZSBpcyBub3QgcHJvdmlkZWQuXG4gICAgICBpZiAoZGF0YVs5XSA9PSBudWxsKSB7XG4gICAgICAgIGRhdGFbOV0gPSBzb3VyY2VbOV07XG4gICAgICB9XG4gICAgICAvLyBVc2Ugc291cmNlIGBmdW5jYCBhbmQgbWVyZ2UgYml0bWFza3MuXG4gICAgICBkYXRhWzBdID0gc291cmNlWzBdO1xuICAgICAgZGF0YVsxXSA9IG5ld0JpdG1hc2s7XG5cbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZVxuICAgICAqIFtgT2JqZWN0LmtleXNgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3Qua2V5cylcbiAgICAgKiBleGNlcHQgdGhhdCBpdCBpbmNsdWRlcyBpbmhlcml0ZWQgZW51bWVyYWJsZSBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBuYXRpdmVLZXlzSW4ob2JqZWN0KSB7XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICBpZiAob2JqZWN0ICE9IG51bGwpIHtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIE9iamVjdChvYmplY3QpKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nIHVzaW5nIGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9iamVjdFRvU3RyaW5nKHZhbHVlKSB7XG4gICAgICByZXR1cm4gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlUmVzdGAgd2hpY2ggdHJhbnNmb3JtcyB0aGUgcmVzdCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PWZ1bmMubGVuZ3RoLTFdIFRoZSBzdGFydCBwb3NpdGlvbiBvZiB0aGUgcmVzdCBwYXJhbWV0ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gdHJhbnNmb3JtIFRoZSByZXN0IGFycmF5IHRyYW5zZm9ybS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvdmVyUmVzdChmdW5jLCBzdGFydCwgdHJhbnNmb3JtKSB7XG4gICAgICBzdGFydCA9IG5hdGl2ZU1heChzdGFydCA9PT0gdW5kZWZpbmVkID8gKGZ1bmMubGVuZ3RoIC0gMSkgOiBzdGFydCwgMCk7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzLFxuICAgICAgICAgICAgaW5kZXggPSAtMSxcbiAgICAgICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1heChhcmdzLmxlbmd0aCAtIHN0YXJ0LCAwKSxcbiAgICAgICAgICAgIGFycmF5ID0gQXJyYXkobGVuZ3RoKTtcblxuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIGFycmF5W2luZGV4XSA9IGFyZ3Nbc3RhcnQgKyBpbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgaW5kZXggPSAtMTtcbiAgICAgICAgdmFyIG90aGVyQXJncyA9IEFycmF5KHN0YXJ0ICsgMSk7XG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgc3RhcnQpIHtcbiAgICAgICAgICBvdGhlckFyZ3NbaW5kZXhdID0gYXJnc1tpbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgb3RoZXJBcmdzW3N0YXJ0XSA9IHRyYW5zZm9ybShhcnJheSk7XG4gICAgICAgIHJldHVybiBhcHBseShmdW5jLCB0aGlzLCBvdGhlckFyZ3MpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBwYXJlbnQgdmFsdWUgYXQgYHBhdGhgIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheX0gcGF0aCBUaGUgcGF0aCB0byBnZXQgdGhlIHBhcmVudCB2YWx1ZSBvZi5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcGFyZW50IHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBhcmVudChvYmplY3QsIHBhdGgpIHtcbiAgICAgIHJldHVybiBwYXRoLmxlbmd0aCA8IDIgPyBvYmplY3QgOiBiYXNlR2V0KG9iamVjdCwgYmFzZVNsaWNlKHBhdGgsIDAsIC0xKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVvcmRlciBgYXJyYXlgIGFjY29yZGluZyB0byB0aGUgc3BlY2lmaWVkIGluZGV4ZXMgd2hlcmUgdGhlIGVsZW1lbnQgYXRcbiAgICAgKiB0aGUgZmlyc3QgaW5kZXggaXMgYXNzaWduZWQgYXMgdGhlIGZpcnN0IGVsZW1lbnQsIHRoZSBlbGVtZW50IGF0XG4gICAgICogdGhlIHNlY29uZCBpbmRleCBpcyBhc3NpZ25lZCBhcyB0aGUgc2Vjb25kIGVsZW1lbnQsIGFuZCBzbyBvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHJlb3JkZXIuXG4gICAgICogQHBhcmFtIHtBcnJheX0gaW5kZXhlcyBUaGUgYXJyYW5nZWQgYXJyYXkgaW5kZXhlcy5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZW9yZGVyKGFycmF5LCBpbmRleGVzKSB7XG4gICAgICB2YXIgYXJyTGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1pbihpbmRleGVzLmxlbmd0aCwgYXJyTGVuZ3RoKSxcbiAgICAgICAgICBvbGRBcnJheSA9IGNvcHlBcnJheShhcnJheSk7XG5cbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICB2YXIgaW5kZXggPSBpbmRleGVzW2xlbmd0aF07XG4gICAgICAgIGFycmF5W2xlbmd0aF0gPSBpc0luZGV4KGluZGV4LCBhcnJMZW5ndGgpID8gb2xkQXJyYXlbaW5kZXhdIDogdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHZhbHVlIGF0IGBrZXlgLCB1bmxlc3MgYGtleWAgaXMgXCJfX3Byb3RvX19cIiBvciBcImNvbnN0cnVjdG9yXCIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcHJvcGVydHkgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2FmZUdldChvYmplY3QsIGtleSkge1xuICAgICAgaWYgKGtleSA9PT0gJ2NvbnN0cnVjdG9yJyAmJiB0eXBlb2Ygb2JqZWN0W2tleV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoa2V5ID09ICdfX3Byb3RvX18nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9iamVjdFtrZXldO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgbWV0YWRhdGEgZm9yIGBmdW5jYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBJZiB0aGlzIGZ1bmN0aW9uIGJlY29tZXMgaG90LCBpLmUuIGlzIGludm9rZWQgYSBsb3QgaW4gYSBzaG9ydFxuICAgICAqIHBlcmlvZCBvZiB0aW1lLCBpdCB3aWxsIHRyaXAgaXRzIGJyZWFrZXIgYW5kIHRyYW5zaXRpb24gdG8gYW4gaWRlbnRpdHlcbiAgICAgKiBmdW5jdGlvbiB0byBhdm9pZCBnYXJiYWdlIGNvbGxlY3Rpb24gcGF1c2VzIGluIFY4LiBTZWVcbiAgICAgKiBbVjggaXNzdWUgMjA3MF0oaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MjA3MClcbiAgICAgKiBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhc3NvY2lhdGUgbWV0YWRhdGEgd2l0aC5cbiAgICAgKiBAcGFyYW0geyp9IGRhdGEgVGhlIG1ldGFkYXRhLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgZnVuY2AuXG4gICAgICovXG4gICAgdmFyIHNldERhdGEgPSBzaG9ydE91dChiYXNlU2V0RGF0YSk7XG5cbiAgICAvKipcbiAgICAgKiBBIHNpbXBsZSB3cmFwcGVyIGFyb3VuZCB0aGUgZ2xvYmFsIFtgc2V0VGltZW91dGBdKGh0dHBzOi8vbWRuLmlvL3NldFRpbWVvdXQpLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBkZWxheS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2FpdCBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byBkZWxheSBpbnZvY2F0aW9uLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ8T2JqZWN0fSBSZXR1cm5zIHRoZSB0aW1lciBpZCBvciB0aW1lb3V0IG9iamVjdC5cbiAgICAgKi9cbiAgICB2YXIgc2V0VGltZW91dCA9IGN0eFNldFRpbWVvdXQgfHwgZnVuY3Rpb24oZnVuYywgd2FpdCkge1xuICAgICAgcmV0dXJuIHJvb3Quc2V0VGltZW91dChmdW5jLCB3YWl0KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYHRvU3RyaW5nYCBtZXRob2Qgb2YgYGZ1bmNgIHRvIHJldHVybiBgc3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHN0cmluZyBUaGUgYHRvU3RyaW5nYCByZXN1bHQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBmdW5jYC5cbiAgICAgKi9cbiAgICB2YXIgc2V0VG9TdHJpbmcgPSBzaG9ydE91dChiYXNlU2V0VG9TdHJpbmcpO1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYHRvU3RyaW5nYCBtZXRob2Qgb2YgYHdyYXBwZXJgIHRvIG1pbWljIHRoZSBzb3VyY2Ugb2YgYHJlZmVyZW5jZWBcbiAgICAgKiB3aXRoIHdyYXBwZXIgZGV0YWlscyBpbiBhIGNvbW1lbnQgYXQgdGhlIHRvcCBvZiB0aGUgc291cmNlIGJvZHkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHdyYXBwZXIgVGhlIGZ1bmN0aW9uIHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSByZWZlcmVuY2UgVGhlIHJlZmVyZW5jZSBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBjcmVhdGVXcmFwYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgd3JhcHBlcmAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0V3JhcFRvU3RyaW5nKHdyYXBwZXIsIHJlZmVyZW5jZSwgYml0bWFzaykge1xuICAgICAgdmFyIHNvdXJjZSA9IChyZWZlcmVuY2UgKyAnJyk7XG4gICAgICByZXR1cm4gc2V0VG9TdHJpbmcod3JhcHBlciwgaW5zZXJ0V3JhcERldGFpbHMoc291cmNlLCB1cGRhdGVXcmFwRGV0YWlscyhnZXRXcmFwRGV0YWlscyhzb3VyY2UpLCBiaXRtYXNrKSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0J2xsIHNob3J0IG91dCBhbmQgaW52b2tlIGBpZGVudGl0eWAgaW5zdGVhZFxuICAgICAqIG9mIGBmdW5jYCB3aGVuIGl0J3MgY2FsbGVkIGBIT1RfQ09VTlRgIG9yIG1vcmUgdGltZXMgaW4gYEhPVF9TUEFOYFxuICAgICAqIG1pbGxpc2Vjb25kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcmVzdHJpY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc2hvcnRhYmxlIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNob3J0T3V0KGZ1bmMpIHtcbiAgICAgIHZhciBjb3VudCA9IDAsXG4gICAgICAgICAgbGFzdENhbGxlZCA9IDA7XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHN0YW1wID0gbmF0aXZlTm93KCksXG4gICAgICAgICAgICByZW1haW5pbmcgPSBIT1RfU1BBTiAtIChzdGFtcCAtIGxhc3RDYWxsZWQpO1xuXG4gICAgICAgIGxhc3RDYWxsZWQgPSBzdGFtcDtcbiAgICAgICAgaWYgKHJlbWFpbmluZyA+IDApIHtcbiAgICAgICAgICBpZiAoKytjb3VudCA+PSBIT1RfQ09VTlQpIHtcbiAgICAgICAgICAgIHJldHVybiBhcmd1bWVudHNbMF07XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvdW50ID0gMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnVuYy5hcHBseSh1bmRlZmluZWQsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5zaHVmZmxlYCB3aGljaCBtdXRhdGVzIGFuZCBzZXRzIHRoZSBzaXplIG9mIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBzaHVmZmxlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2l6ZT1hcnJheS5sZW5ndGhdIFRoZSBzaXplIG9mIGBhcnJheWAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2h1ZmZsZVNlbGYoYXJyYXksIHNpemUpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICBsYXN0SW5kZXggPSBsZW5ndGggLSAxO1xuXG4gICAgICBzaXplID0gc2l6ZSA9PT0gdW5kZWZpbmVkID8gbGVuZ3RoIDogc2l6ZTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgc2l6ZSkge1xuICAgICAgICB2YXIgcmFuZCA9IGJhc2VSYW5kb20oaW5kZXgsIGxhc3RJbmRleCksXG4gICAgICAgICAgICB2YWx1ZSA9IGFycmF5W3JhbmRdO1xuXG4gICAgICAgIGFycmF5W3JhbmRdID0gYXJyYXlbaW5kZXhdO1xuICAgICAgICBhcnJheVtpbmRleF0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIGFycmF5Lmxlbmd0aCA9IHNpemU7XG4gICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AgdG8gYSBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHByb3BlcnR5IHBhdGggYXJyYXkuXG4gICAgICovXG4gICAgdmFyIHN0cmluZ1RvUGF0aCA9IG1lbW9pemVDYXBwZWQoZnVuY3Rpb24oc3RyaW5nKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICBpZiAoc3RyaW5nLmNoYXJDb2RlQXQoMCkgPT09IDQ2IC8qIC4gKi8pIHtcbiAgICAgICAgcmVzdWx0LnB1c2goJycpO1xuICAgICAgfVxuICAgICAgc3RyaW5nLnJlcGxhY2UocmVQcm9wTmFtZSwgZnVuY3Rpb24obWF0Y2gsIG51bWJlciwgcXVvdGUsIHN1YlN0cmluZykge1xuICAgICAgICByZXN1bHQucHVzaChxdW90ZSA/IHN1YlN0cmluZy5yZXBsYWNlKHJlRXNjYXBlQ2hhciwgJyQxJykgOiAobnVtYmVyIHx8IG1hdGNoKSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nIGtleSBpZiBpdCdzIG5vdCBhIHN0cmluZyBvciBzeW1ib2wuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge3N0cmluZ3xzeW1ib2x9IFJldHVybnMgdGhlIGtleS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0tleSh2YWx1ZSkge1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJyB8fCBpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9ICh2YWx1ZSArICcnKTtcbiAgICAgIHJldHVybiAocmVzdWx0ID09ICcwJyAmJiAoMSAvIHZhbHVlKSA9PSAtSU5GSU5JVFkpID8gJy0wJyA6IHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgZnVuY2AgdG8gaXRzIHNvdXJjZSBjb2RlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHNvdXJjZSBjb2RlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvU291cmNlKGZ1bmMpIHtcbiAgICAgIGlmIChmdW5jICE9IG51bGwpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gZnVuY1RvU3RyaW5nLmNhbGwoZnVuYyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIChmdW5jICsgJycpO1xuICAgICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgfVxuICAgICAgcmV0dXJuICcnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgd3JhcHBlciBgZGV0YWlsc2AgYmFzZWQgb24gYGJpdG1hc2tgIGZsYWdzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IGRldGFpbHMgVGhlIGRldGFpbHMgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBkZXRhaWxzYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1cGRhdGVXcmFwRGV0YWlscyhkZXRhaWxzLCBiaXRtYXNrKSB7XG4gICAgICBhcnJheUVhY2god3JhcEZsYWdzLCBmdW5jdGlvbihwYWlyKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9ICdfLicgKyBwYWlyWzBdO1xuICAgICAgICBpZiAoKGJpdG1hc2sgJiBwYWlyWzFdKSAmJiAhYXJyYXlJbmNsdWRlcyhkZXRhaWxzLCB2YWx1ZSkpIHtcbiAgICAgICAgICBkZXRhaWxzLnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBkZXRhaWxzLnNvcnQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgYHdyYXBwZXJgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gd3JhcHBlciBUaGUgd3JhcHBlciB0byBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgd3JhcHBlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyQ2xvbmUod3JhcHBlcikge1xuICAgICAgaWYgKHdyYXBwZXIgaW5zdGFuY2VvZiBMYXp5V3JhcHBlcikge1xuICAgICAgICByZXR1cm4gd3JhcHBlci5jbG9uZSgpO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IG5ldyBMb2Rhc2hXcmFwcGVyKHdyYXBwZXIuX193cmFwcGVkX18sIHdyYXBwZXIuX19jaGFpbl9fKTtcbiAgICAgIHJlc3VsdC5fX2FjdGlvbnNfXyA9IGNvcHlBcnJheSh3cmFwcGVyLl9fYWN0aW9uc19fKTtcbiAgICAgIHJlc3VsdC5fX2luZGV4X18gID0gd3JhcHBlci5fX2luZGV4X187XG4gICAgICByZXN1bHQuX192YWx1ZXNfXyA9IHdyYXBwZXIuX192YWx1ZXNfXztcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBlbGVtZW50cyBzcGxpdCBpbnRvIGdyb3VwcyB0aGUgbGVuZ3RoIG9mIGBzaXplYC5cbiAgICAgKiBJZiBgYXJyYXlgIGNhbid0IGJlIHNwbGl0IGV2ZW5seSwgdGhlIGZpbmFsIGNodW5rIHdpbGwgYmUgdGhlIHJlbWFpbmluZ1xuICAgICAqIGVsZW1lbnRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHByb2Nlc3MuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzaXplPTFdIFRoZSBsZW5ndGggb2YgZWFjaCBjaHVua1xuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgY2h1bmtzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNodW5rKFsnYScsICdiJywgJ2MnLCAnZCddLCAyKTtcbiAgICAgKiAvLyA9PiBbWydhJywgJ2InXSwgWydjJywgJ2QnXV1cbiAgICAgKlxuICAgICAqIF8uY2h1bmsoWydhJywgJ2InLCAnYycsICdkJ10sIDMpO1xuICAgICAqIC8vID0+IFtbJ2EnLCAnYicsICdjJ10sIFsnZCddXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNodW5rKGFycmF5LCBzaXplLCBndWFyZCkge1xuICAgICAgaWYgKChndWFyZCA/IGlzSXRlcmF0ZWVDYWxsKGFycmF5LCBzaXplLCBndWFyZCkgOiBzaXplID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIHNpemUgPSAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2l6ZSA9IG5hdGl2ZU1heCh0b0ludGVnZXIoc2l6ZSksIDApO1xuICAgICAgfVxuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGggfHwgc2l6ZSA8IDEpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gMCxcbiAgICAgICAgICByZXNJbmRleCA9IDAsXG4gICAgICAgICAgcmVzdWx0ID0gQXJyYXkobmF0aXZlQ2VpbChsZW5ndGggLyBzaXplKSk7XG5cbiAgICAgIHdoaWxlIChpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICByZXN1bHRbcmVzSW5kZXgrK10gPSBiYXNlU2xpY2UoYXJyYXksIGluZGV4LCAoaW5kZXggKz0gc2l6ZSkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IHdpdGggYWxsIGZhbHNleSB2YWx1ZXMgcmVtb3ZlZC4gVGhlIHZhbHVlcyBgZmFsc2VgLCBgbnVsbGAsXG4gICAgICogYDBgLCBgXCJcImAsIGB1bmRlZmluZWRgLCBhbmQgYE5hTmAgYXJlIGZhbHNleS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBjb21wYWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5jb21wYWN0KFswLCAxLCBmYWxzZSwgMiwgJycsIDNdKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21wYWN0KGFycmF5KSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICByZXNJbmRleCA9IDAsXG4gICAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgcmVzdWx0W3Jlc0luZGV4KytdID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBhcnJheSBjb25jYXRlbmF0aW5nIGBhcnJheWAgd2l0aCBhbnkgYWRkaXRpb25hbCBhcnJheXNcbiAgICAgKiBhbmQvb3IgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGNvbmNhdGVuYXRlLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBjb25jYXRlbmF0ZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBjb25jYXRlbmF0ZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxXTtcbiAgICAgKiB2YXIgb3RoZXIgPSBfLmNvbmNhdChhcnJheSwgMiwgWzNdLCBbWzRdXSk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvdGhlcik7XG4gICAgICogLy8gPT4gWzEsIDIsIDMsIFs0XV1cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb25jYXQoKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHZhciBhcmdzID0gQXJyYXkobGVuZ3RoIC0gMSksXG4gICAgICAgICAgYXJyYXkgPSBhcmd1bWVudHNbMF0sXG4gICAgICAgICAgaW5kZXggPSBsZW5ndGg7XG5cbiAgICAgIHdoaWxlIChpbmRleC0tKSB7XG4gICAgICAgIGFyZ3NbaW5kZXggLSAxXSA9IGFyZ3VtZW50c1tpbmRleF07XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXlQdXNoKGlzQXJyYXkoYXJyYXkpID8gY29weUFycmF5KGFycmF5KSA6IFthcnJheV0sIGJhc2VGbGF0dGVuKGFyZ3MsIDEpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGBhcnJheWAgdmFsdWVzIG5vdCBpbmNsdWRlZCBpbiB0aGUgb3RoZXIgZ2l2ZW4gYXJyYXlzXG4gICAgICogdXNpbmcgW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuIFRoZSBvcmRlciBhbmQgcmVmZXJlbmNlcyBvZiByZXN1bHQgdmFsdWVzIGFyZVxuICAgICAqIGRldGVybWluZWQgYnkgdGhlIGZpcnN0IGFycmF5LlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5wdWxsQWxsYCwgdGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gZXhjbHVkZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQHNlZSBfLndpdGhvdXQsIF8ueG9yXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGlmZmVyZW5jZShbMiwgMV0sIFsyLCAzXSk7XG4gICAgICogLy8gPT4gWzFdXG4gICAgICovXG4gICAgdmFyIGRpZmZlcmVuY2UgPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheSwgdmFsdWVzKSB7XG4gICAgICByZXR1cm4gaXNBcnJheUxpa2VPYmplY3QoYXJyYXkpXG4gICAgICAgID8gYmFzZURpZmZlcmVuY2UoYXJyYXksIGJhc2VGbGF0dGVuKHZhbHVlcywgMSwgaXNBcnJheUxpa2VPYmplY3QsIHRydWUpKVxuICAgICAgICA6IFtdO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5kaWZmZXJlbmNlYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgb2YgYGFycmF5YCBhbmQgYHZhbHVlc2AgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvblxuICAgICAqIGJ5IHdoaWNoIHRoZXkncmUgY29tcGFyZWQuIFRoZSBvcmRlciBhbmQgcmVmZXJlbmNlcyBvZiByZXN1bHQgdmFsdWVzIGFyZVxuICAgICAqIGRldGVybWluZWQgYnkgdGhlIGZpcnN0IGFycmF5LiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDpcbiAgICAgKiAodmFsdWUpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5wdWxsQWxsQnlgLCB0aGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBleGNsdWRlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGlmZmVyZW5jZUJ5KFsyLjEsIDEuMl0sIFsyLjMsIDMuNF0sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IFsxLjJdXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmRpZmZlcmVuY2VCeShbeyAneCc6IDIgfSwgeyAneCc6IDEgfV0sIFt7ICd4JzogMSB9XSwgJ3gnKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDIgfV1cbiAgICAgKi9cbiAgICB2YXIgZGlmZmVyZW5jZUJ5ID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXksIHZhbHVlcykge1xuICAgICAgdmFyIGl0ZXJhdGVlID0gbGFzdCh2YWx1ZXMpO1xuICAgICAgaWYgKGlzQXJyYXlMaWtlT2JqZWN0KGl0ZXJhdGVlKSkge1xuICAgICAgICBpdGVyYXRlZSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpc0FycmF5TGlrZU9iamVjdChhcnJheSlcbiAgICAgICAgPyBiYXNlRGlmZmVyZW5jZShhcnJheSwgYmFzZUZsYXR0ZW4odmFsdWVzLCAxLCBpc0FycmF5TGlrZU9iamVjdCwgdHJ1ZSksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSlcbiAgICAgICAgOiBbXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZGlmZmVyZW5jZWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY29tcGFyYXRvcmBcbiAgICAgKiB3aGljaCBpcyBpbnZva2VkIHRvIGNvbXBhcmUgZWxlbWVudHMgb2YgYGFycmF5YCB0byBgdmFsdWVzYC4gVGhlIG9yZGVyIGFuZFxuICAgICAqIHJlZmVyZW5jZXMgb2YgcmVzdWx0IHZhbHVlcyBhcmUgZGV0ZXJtaW5lZCBieSB0aGUgZmlyc3QgYXJyYXkuIFRoZSBjb21wYXJhdG9yXG4gICAgICogaXMgaW52b2tlZCB3aXRoIHR3byBhcmd1bWVudHM6IChhcnJWYWwsIG90aFZhbCkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLnB1bGxBbGxXaXRoYCwgdGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gZXhjbHVkZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDIsICd5JzogMSB9XTtcbiAgICAgKlxuICAgICAqIF8uZGlmZmVyZW5jZVdpdGgob2JqZWN0cywgW3sgJ3gnOiAxLCAneSc6IDIgfV0sIF8uaXNFcXVhbCk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAyLCAneSc6IDEgfV1cbiAgICAgKi9cbiAgICB2YXIgZGlmZmVyZW5jZVdpdGggPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheSwgdmFsdWVzKSB7XG4gICAgICB2YXIgY29tcGFyYXRvciA9IGxhc3QodmFsdWVzKTtcbiAgICAgIGlmIChpc0FycmF5TGlrZU9iamVjdChjb21wYXJhdG9yKSkge1xuICAgICAgICBjb21wYXJhdG9yID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGlzQXJyYXlMaWtlT2JqZWN0KGFycmF5KVxuICAgICAgICA/IGJhc2VEaWZmZXJlbmNlKGFycmF5LCBiYXNlRmxhdHRlbih2YWx1ZXMsIDEsIGlzQXJyYXlMaWtlT2JqZWN0LCB0cnVlKSwgdW5kZWZpbmVkLCBjb21wYXJhdG9yKVxuICAgICAgICA6IFtdO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgd2l0aCBgbmAgZWxlbWVudHMgZHJvcHBlZCBmcm9tIHRoZSBiZWdpbm5pbmcuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC41LjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTFdIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gZHJvcC5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kcm9wKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gWzIsIDNdXG4gICAgICpcbiAgICAgKiBfLmRyb3AoWzEsIDIsIDNdLCAyKTtcbiAgICAgKiAvLyA9PiBbM11cbiAgICAgKlxuICAgICAqIF8uZHJvcChbMSwgMiwgM10sIDUpO1xuICAgICAqIC8vID0+IFtdXG4gICAgICpcbiAgICAgKiBfLmRyb3AoWzEsIDIsIDNdLCAwKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkcm9wKGFycmF5LCBuLCBndWFyZCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgbiA9IChndWFyZCB8fCBuID09PSB1bmRlZmluZWQpID8gMSA6IHRvSW50ZWdlcihuKTtcbiAgICAgIHJldHVybiBiYXNlU2xpY2UoYXJyYXksIG4gPCAwID8gMCA6IG4sIGxlbmd0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgd2l0aCBgbmAgZWxlbWVudHMgZHJvcHBlZCBmcm9tIHRoZSBlbmQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTFdIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gZHJvcC5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kcm9wUmlnaHQoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKlxuICAgICAqIF8uZHJvcFJpZ2h0KFsxLCAyLCAzXSwgMik7XG4gICAgICogLy8gPT4gWzFdXG4gICAgICpcbiAgICAgKiBfLmRyb3BSaWdodChbMSwgMiwgM10sIDUpO1xuICAgICAqIC8vID0+IFtdXG4gICAgICpcbiAgICAgKiBfLmRyb3BSaWdodChbMSwgMiwgM10sIDApO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRyb3BSaWdodChhcnJheSwgbiwgZ3VhcmQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIG4gPSAoZ3VhcmQgfHwgbiA9PT0gdW5kZWZpbmVkKSA/IDEgOiB0b0ludGVnZXIobik7XG4gICAgICBuID0gbGVuZ3RoIC0gbjtcbiAgICAgIHJldHVybiBiYXNlU2xpY2UoYXJyYXksIDAsIG4gPCAwID8gMCA6IG4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIGV4Y2x1ZGluZyBlbGVtZW50cyBkcm9wcGVkIGZyb20gdGhlIGVuZC5cbiAgICAgKiBFbGVtZW50cyBhcmUgZHJvcHBlZCB1bnRpbCBgcHJlZGljYXRlYCByZXR1cm5zIGZhbHNleS4gVGhlIHByZWRpY2F0ZSBpc1xuICAgICAqIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXgsIGFycmF5KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmRyb3BSaWdodFdoaWxlKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiAhby5hY3RpdmU7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5J11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5kcm9wUmlnaHRXaGlsZSh1c2VycywgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5JywgJ2ZyZWQnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZHJvcFJpZ2h0V2hpbGUodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leSddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmRyb3BSaWdodFdoaWxlKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknLCAnZnJlZCcsICdwZWJibGVzJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkcm9wUmlnaHRXaGlsZShhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlV2hpbGUoYXJyYXksIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyksIHRydWUsIHRydWUpXG4gICAgICAgIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgZXhjbHVkaW5nIGVsZW1lbnRzIGRyb3BwZWQgZnJvbSB0aGUgYmVnaW5uaW5nLlxuICAgICAqIEVsZW1lbnRzIGFyZSBkcm9wcGVkIHVudGlsIGBwcmVkaWNhdGVgIHJldHVybnMgZmFsc2V5LiBUaGUgcHJlZGljYXRlIGlzXG4gICAgICogaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleCwgYXJyYXkpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZHJvcFdoaWxlKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiAhby5hY3RpdmU7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsncGViYmxlcyddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZHJvcFdoaWxlKHVzZXJzLCB7ICd1c2VyJzogJ2Jhcm5leScsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnLCAncGViYmxlcyddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5kcm9wV2hpbGUodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ3BlYmJsZXMnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5kcm9wV2hpbGUodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leScsICdmcmVkJywgJ3BlYmJsZXMnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRyb3BXaGlsZShhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlV2hpbGUoYXJyYXksIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyksIHRydWUpXG4gICAgICAgIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmlsbHMgZWxlbWVudHMgb2YgYGFycmF5YCB3aXRoIGB2YWx1ZWAgZnJvbSBgc3RhcnRgIHVwIHRvLCBidXQgbm90XG4gICAgICogaW5jbHVkaW5nLCBgZW5kYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gZmlsbC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBmaWxsIGBhcnJheWAgd2l0aC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBwb3NpdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2VuZD1hcnJheS5sZW5ndGhdIFRoZSBlbmQgcG9zaXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxLCAyLCAzXTtcbiAgICAgKlxuICAgICAqIF8uZmlsbChhcnJheSwgJ2EnKTtcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWydhJywgJ2EnLCAnYSddXG4gICAgICpcbiAgICAgKiBfLmZpbGwoQXJyYXkoMyksIDIpO1xuICAgICAqIC8vID0+IFsyLCAyLCAyXVxuICAgICAqXG4gICAgICogXy5maWxsKFs0LCA2LCA4LCAxMF0sICcqJywgMSwgMyk7XG4gICAgICogLy8gPT4gWzQsICcqJywgJyonLCAxMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaWxsKGFycmF5LCB2YWx1ZSwgc3RhcnQsIGVuZCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgaWYgKHN0YXJ0ICYmIHR5cGVvZiBzdGFydCAhPSAnbnVtYmVyJyAmJiBpc0l0ZXJhdGVlQ2FsbChhcnJheSwgdmFsdWUsIHN0YXJ0KSkge1xuICAgICAgICBzdGFydCA9IDA7XG4gICAgICAgIGVuZCA9IGxlbmd0aDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlRmlsbChhcnJheSwgdmFsdWUsIHN0YXJ0LCBlbmQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZmluZGAgZXhjZXB0IHRoYXQgaXQgcmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGZpcnN0XG4gICAgICogZWxlbWVudCBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3IgaW5zdGVhZCBvZiB0aGUgZWxlbWVudCBpdHNlbGYuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9MF0gVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBmb3VuZCBlbGVtZW50LCBlbHNlIGAtMWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZmluZEluZGV4KHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLnVzZXIgPT0gJ2Jhcm5leSc7IH0pO1xuICAgICAqIC8vID0+IDBcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kSW5kZXgodXNlcnMsIHsgJ3VzZXInOiAnZnJlZCcsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kSW5kZXgodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRJbmRleCh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IDJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaW5kSW5kZXgoYXJyYXksIHByZWRpY2F0ZSwgZnJvbUluZGV4KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSBmcm9tSW5kZXggPT0gbnVsbCA/IDAgOiB0b0ludGVnZXIoZnJvbUluZGV4KTtcbiAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgaW5kZXggPSBuYXRpdmVNYXgobGVuZ3RoICsgaW5kZXgsIDApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VGaW5kSW5kZXgoYXJyYXksIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyksIGluZGV4KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZpbmRJbmRleGAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50c1xuICAgICAqIG9mIGBjb2xsZWN0aW9uYCBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9YXJyYXkubGVuZ3RoLTFdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgZm91bmQgZWxlbWVudCwgZWxzZSBgLTFgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbmRMYXN0SW5kZXgodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8udXNlciA9PSAncGViYmxlcyc7IH0pO1xuICAgICAqIC8vID0+IDJcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kTGFzdEluZGV4KHVzZXJzLCB7ICd1c2VyJzogJ2Jhcm5leScsICdhY3RpdmUnOiB0cnVlIH0pO1xuICAgICAqIC8vID0+IDBcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRMYXN0SW5kZXgodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRMYXN0SW5kZXgodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZExhc3RJbmRleChhcnJheSwgcHJlZGljYXRlLCBmcm9tSW5kZXgpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IGxlbmd0aCAtIDE7XG4gICAgICBpZiAoZnJvbUluZGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaW5kZXggPSB0b0ludGVnZXIoZnJvbUluZGV4KTtcbiAgICAgICAgaW5kZXggPSBmcm9tSW5kZXggPCAwXG4gICAgICAgICAgPyBuYXRpdmVNYXgobGVuZ3RoICsgaW5kZXgsIDApXG4gICAgICAgICAgOiBuYXRpdmVNaW4oaW5kZXgsIGxlbmd0aCAtIDEpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VGaW5kSW5kZXgoYXJyYXksIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyksIGluZGV4LCB0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGbGF0dGVucyBgYXJyYXlgIGEgc2luZ2xlIGxldmVsIGRlZXAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gZmxhdHRlbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZmxhdHRlbihbMSwgWzIsIFszLCBbNF1dLCA1XV0pO1xuICAgICAqIC8vID0+IFsxLCAyLCBbMywgWzRdXSwgNV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGF0dGVuKGFycmF5KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICByZXR1cm4gbGVuZ3RoID8gYmFzZUZsYXR0ZW4oYXJyYXksIDEpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVjdXJzaXZlbHkgZmxhdHRlbnMgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBmbGF0dGVuLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZsYXR0ZW5lZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mbGF0dGVuRGVlcChbMSwgWzIsIFszLCBbNF1dLCA1XV0pO1xuICAgICAqIC8vID0+IFsxLCAyLCAzLCA0LCA1XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsYXR0ZW5EZWVwKGFycmF5KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICByZXR1cm4gbGVuZ3RoID8gYmFzZUZsYXR0ZW4oYXJyYXksIElORklOSVRZKSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlY3Vyc2l2ZWx5IGZsYXR0ZW4gYGFycmF5YCB1cCB0byBgZGVwdGhgIHRpbWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGZsYXR0ZW4uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtkZXB0aD0xXSBUaGUgbWF4aW11bSByZWN1cnNpb24gZGVwdGguXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMSwgWzIsIFszLCBbNF1dLCA1XV07XG4gICAgICpcbiAgICAgKiBfLmZsYXR0ZW5EZXB0aChhcnJheSwgMSk7XG4gICAgICogLy8gPT4gWzEsIDIsIFszLCBbNF1dLCA1XVxuICAgICAqXG4gICAgICogXy5mbGF0dGVuRGVwdGgoYXJyYXksIDIpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzLCBbNF0sIDVdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdHRlbkRlcHRoKGFycmF5LCBkZXB0aCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgZGVwdGggPSBkZXB0aCA9PT0gdW5kZWZpbmVkID8gMSA6IHRvSW50ZWdlcihkZXB0aCk7XG4gICAgICByZXR1cm4gYmFzZUZsYXR0ZW4oYXJyYXksIGRlcHRoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaW52ZXJzZSBvZiBgXy50b1BhaXJzYDsgdGhpcyBtZXRob2QgcmV0dXJucyBhbiBvYmplY3QgY29tcG9zZWRcbiAgICAgKiBmcm9tIGtleS12YWx1ZSBgcGFpcnNgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gcGFpcnMgVGhlIGtleS12YWx1ZSBwYWlycy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZyb21QYWlycyhbWydhJywgMV0sIFsnYicsIDJdXSk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gZnJvbVBhaXJzKHBhaXJzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBwYWlycyA9PSBudWxsID8gMCA6IHBhaXJzLmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSB7fTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHBhaXIgPSBwYWlyc1tpbmRleF07XG4gICAgICAgIHJlc3VsdFtwYWlyWzBdXSA9IHBhaXJbMV07XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGZpcnN0IGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBhbGlhcyBmaXJzdFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZmlyc3QgZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmhlYWQoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICpcbiAgICAgKiBfLmhlYWQoW10pO1xuICAgICAqIC8vID0+IHVuZGVmaW5lZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhlYWQoYXJyYXkpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSA/IGFycmF5WzBdIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGluZGV4IGF0IHdoaWNoIHRoZSBmaXJzdCBvY2N1cnJlbmNlIG9mIGB2YWx1ZWAgaXMgZm91bmQgaW4gYGFycmF5YFxuICAgICAqIHVzaW5nIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLiBJZiBgZnJvbUluZGV4YCBpcyBuZWdhdGl2ZSwgaXQncyB1c2VkIGFzIHRoZVxuICAgICAqIG9mZnNldCBmcm9tIHRoZSBlbmQgb2YgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9MF0gVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW5kZXhPZihbMSwgMiwgMSwgMl0sIDIpO1xuICAgICAqIC8vID0+IDFcbiAgICAgKlxuICAgICAqIC8vIFNlYXJjaCBmcm9tIHRoZSBgZnJvbUluZGV4YC5cbiAgICAgKiBfLmluZGV4T2YoWzEsIDIsIDEsIDJdLCAyLCAyKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gZnJvbUluZGV4ID09IG51bGwgPyAwIDogdG9JbnRlZ2VyKGZyb21JbmRleCk7XG4gICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgIGluZGV4ID0gbmF0aXZlTWF4KGxlbmd0aCArIGluZGV4LCAwKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlSW5kZXhPZihhcnJheSwgdmFsdWUsIGluZGV4KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGFsbCBidXQgdGhlIGxhc3QgZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pbml0aWFsKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5pdGlhbChhcnJheSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgcmV0dXJuIGxlbmd0aCA/IGJhc2VTbGljZShhcnJheSwgMCwgLTEpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB1bmlxdWUgdmFsdWVzIHRoYXQgYXJlIGluY2x1ZGVkIGluIGFsbCBnaXZlbiBhcnJheXNcbiAgICAgKiB1c2luZyBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy4gVGhlIG9yZGVyIGFuZCByZWZlcmVuY2VzIG9mIHJlc3VsdCB2YWx1ZXMgYXJlXG4gICAgICogZGV0ZXJtaW5lZCBieSB0aGUgZmlyc3QgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgaW50ZXJzZWN0aW5nIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pbnRlcnNlY3Rpb24oWzIsIDFdLCBbMiwgM10pO1xuICAgICAqIC8vID0+IFsyXVxuICAgICAqL1xuICAgIHZhciBpbnRlcnNlY3Rpb24gPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBtYXBwZWQgPSBhcnJheU1hcChhcnJheXMsIGNhc3RBcnJheUxpa2VPYmplY3QpO1xuICAgICAgcmV0dXJuIChtYXBwZWQubGVuZ3RoICYmIG1hcHBlZFswXSA9PT0gYXJyYXlzWzBdKVxuICAgICAgICA/IGJhc2VJbnRlcnNlY3Rpb24obWFwcGVkKVxuICAgICAgICA6IFtdO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pbnRlcnNlY3Rpb25gIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYFxuICAgICAqIHdoaWNoIGlzIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBvZiBlYWNoIGBhcnJheXNgIHRvIGdlbmVyYXRlIHRoZSBjcml0ZXJpb25cbiAgICAgKiBieSB3aGljaCB0aGV5J3JlIGNvbXBhcmVkLiBUaGUgb3JkZXIgYW5kIHJlZmVyZW5jZXMgb2YgcmVzdWx0IHZhbHVlcyBhcmVcbiAgICAgKiBkZXRlcm1pbmVkIGJ5IHRoZSBmaXJzdCBhcnJheS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6XG4gICAgICogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgaW50ZXJzZWN0aW5nIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pbnRlcnNlY3Rpb25CeShbMi4xLCAxLjJdLCBbMi4zLCAzLjRdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiBbMi4xXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5pbnRlcnNlY3Rpb25CeShbeyAneCc6IDEgfV0sIFt7ICd4JzogMiB9LCB7ICd4JzogMSB9XSwgJ3gnKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDEgfV1cbiAgICAgKi9cbiAgICB2YXIgaW50ZXJzZWN0aW9uQnkgPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBpdGVyYXRlZSA9IGxhc3QoYXJyYXlzKSxcbiAgICAgICAgICBtYXBwZWQgPSBhcnJheU1hcChhcnJheXMsIGNhc3RBcnJheUxpa2VPYmplY3QpO1xuXG4gICAgICBpZiAoaXRlcmF0ZWUgPT09IGxhc3QobWFwcGVkKSkge1xuICAgICAgICBpdGVyYXRlZSA9IHVuZGVmaW5lZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1hcHBlZC5wb3AoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAobWFwcGVkLmxlbmd0aCAmJiBtYXBwZWRbMF0gPT09IGFycmF5c1swXSlcbiAgICAgICAgPyBiYXNlSW50ZXJzZWN0aW9uKG1hcHBlZCwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKVxuICAgICAgICA6IFtdO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pbnRlcnNlY3Rpb25gIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGNvbXBhcmF0b3JgXG4gICAgICogd2hpY2ggaXMgaW52b2tlZCB0byBjb21wYXJlIGVsZW1lbnRzIG9mIGBhcnJheXNgLiBUaGUgb3JkZXIgYW5kIHJlZmVyZW5jZXNcbiAgICAgKiBvZiByZXN1bHQgdmFsdWVzIGFyZSBkZXRlcm1pbmVkIGJ5IHRoZSBmaXJzdCBhcnJheS4gVGhlIGNvbXBhcmF0b3IgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggdHdvIGFyZ3VtZW50czogKGFyclZhbCwgb3RoVmFsKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBpbnRlcnNlY3RpbmcgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAyLCAneSc6IDEgfV07XG4gICAgICogdmFyIG90aGVycyA9IFt7ICd4JzogMSwgJ3knOiAxIH0sIHsgJ3gnOiAxLCAneSc6IDIgfV07XG4gICAgICpcbiAgICAgKiBfLmludGVyc2VjdGlvbldpdGgob2JqZWN0cywgb3RoZXJzLCBfLmlzRXF1YWwpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMSwgJ3knOiAyIH1dXG4gICAgICovXG4gICAgdmFyIGludGVyc2VjdGlvbldpdGggPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBjb21wYXJhdG9yID0gbGFzdChhcnJheXMpLFxuICAgICAgICAgIG1hcHBlZCA9IGFycmF5TWFwKGFycmF5cywgY2FzdEFycmF5TGlrZU9iamVjdCk7XG5cbiAgICAgIGNvbXBhcmF0b3IgPSB0eXBlb2YgY29tcGFyYXRvciA9PSAnZnVuY3Rpb24nID8gY29tcGFyYXRvciA6IHVuZGVmaW5lZDtcbiAgICAgIGlmIChjb21wYXJhdG9yKSB7XG4gICAgICAgIG1hcHBlZC5wb3AoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAobWFwcGVkLmxlbmd0aCAmJiBtYXBwZWRbMF0gPT09IGFycmF5c1swXSlcbiAgICAgICAgPyBiYXNlSW50ZXJzZWN0aW9uKG1hcHBlZCwgdW5kZWZpbmVkLCBjb21wYXJhdG9yKVxuICAgICAgICA6IFtdO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYWxsIGVsZW1lbnRzIGluIGBhcnJheWAgaW50byBhIHN0cmluZyBzZXBhcmF0ZWQgYnkgYHNlcGFyYXRvcmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gY29udmVydC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3NlcGFyYXRvcj0nLCddIFRoZSBlbGVtZW50IHNlcGFyYXRvci5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBqb2luZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmpvaW4oWydhJywgJ2InLCAnYyddLCAnficpO1xuICAgICAqIC8vID0+ICdhfmJ+YydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBqb2luKGFycmF5LCBzZXBhcmF0b3IpIHtcbiAgICAgIHJldHVybiBhcnJheSA9PSBudWxsID8gJycgOiBuYXRpdmVKb2luLmNhbGwoYXJyYXksIHNlcGFyYXRvcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbGFzdCBlbGVtZW50IG9mIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGxhc3QgZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmxhc3QoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGFzdChhcnJheSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgcmV0dXJuIGxlbmd0aCA/IGFycmF5W2xlbmd0aCAtIDFdIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaW5kZXhPZmAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZlxuICAgICAqIGBhcnJheWAgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD1hcnJheS5sZW5ndGgtMV0gVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubGFzdEluZGV4T2YoWzEsIDIsIDEsIDJdLCAyKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiAvLyBTZWFyY2ggZnJvbSB0aGUgYGZyb21JbmRleGAuXG4gICAgICogXy5sYXN0SW5kZXhPZihbMSwgMiwgMSwgMl0sIDIsIDIpO1xuICAgICAqIC8vID0+IDFcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsYXN0SW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gbGVuZ3RoO1xuICAgICAgaWYgKGZyb21JbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGluZGV4ID0gdG9JbnRlZ2VyKGZyb21JbmRleCk7XG4gICAgICAgIGluZGV4ID0gaW5kZXggPCAwID8gbmF0aXZlTWF4KGxlbmd0aCArIGluZGV4LCAwKSA6IG5hdGl2ZU1pbihpbmRleCwgbGVuZ3RoIC0gMSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWUgPT09IHZhbHVlXG4gICAgICAgID8gc3RyaWN0TGFzdEluZGV4T2YoYXJyYXksIHZhbHVlLCBpbmRleClcbiAgICAgICAgOiBiYXNlRmluZEluZGV4KGFycmF5LCBiYXNlSXNOYU4sIGluZGV4LCB0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBlbGVtZW50IGF0IGluZGV4IGBuYCBvZiBgYXJyYXlgLiBJZiBgbmAgaXMgbmVnYXRpdmUsIHRoZSBudGhcbiAgICAgKiBlbGVtZW50IGZyb20gdGhlIGVuZCBpcyByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjExLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTBdIFRoZSBpbmRleCBvZiB0aGUgZWxlbWVudCB0byByZXR1cm4uXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG50aCBlbGVtZW50IG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsnYScsICdiJywgJ2MnLCAnZCddO1xuICAgICAqXG4gICAgICogXy5udGgoYXJyYXksIDEpO1xuICAgICAqIC8vID0+ICdiJ1xuICAgICAqXG4gICAgICogXy5udGgoYXJyYXksIC0yKTtcbiAgICAgKiAvLyA9PiAnYyc7XG4gICAgICovXG4gICAgZnVuY3Rpb24gbnRoKGFycmF5LCBuKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkgPyBiYXNlTnRoKGFycmF5LCB0b0ludGVnZXIobikpIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGdpdmVuIHZhbHVlcyBmcm9tIGBhcnJheWAgdXNpbmdcbiAgICAgKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8ud2l0aG91dGAsIHRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YC4gVXNlIGBfLnJlbW92ZWBcbiAgICAgKiB0byByZW1vdmUgZWxlbWVudHMgZnJvbSBhbiBhcnJheSBieSBwcmVkaWNhdGUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsnYScsICdiJywgJ2MnLCAnYScsICdiJywgJ2MnXTtcbiAgICAgKlxuICAgICAqIF8ucHVsbChhcnJheSwgJ2EnLCAnYycpO1xuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbJ2InLCAnYiddXG4gICAgICovXG4gICAgdmFyIHB1bGwgPSBiYXNlUmVzdChwdWxsQWxsKTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ucHVsbGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBhbiBhcnJheSBvZiB2YWx1ZXMgdG8gcmVtb3ZlLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5kaWZmZXJlbmNlYCwgdGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsnYScsICdiJywgJ2MnLCAnYScsICdiJywgJ2MnXTtcbiAgICAgKlxuICAgICAqIF8ucHVsbEFsbChhcnJheSwgWydhJywgJ2MnXSk7XG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsnYicsICdiJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwdWxsQWxsKGFycmF5LCB2YWx1ZXMpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoICYmIHZhbHVlcyAmJiB2YWx1ZXMubGVuZ3RoKVxuICAgICAgICA/IGJhc2VQdWxsQWxsKGFycmF5LCB2YWx1ZXMpXG4gICAgICAgIDogYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5wdWxsQWxsYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgb2YgYGFycmF5YCBhbmQgYHZhbHVlc2AgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvblxuICAgICAqIGJ5IHdoaWNoIHRoZXkncmUgY29tcGFyZWQuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5kaWZmZXJlbmNlQnlgLCB0aGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIHJlbW92ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFt7ICd4JzogMSB9LCB7ICd4JzogMiB9LCB7ICd4JzogMyB9LCB7ICd4JzogMSB9XTtcbiAgICAgKlxuICAgICAqIF8ucHVsbEFsbEJ5KGFycmF5LCBbeyAneCc6IDEgfSwgeyAneCc6IDMgfV0sICd4Jyk7XG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMiB9XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHB1bGxBbGxCeShhcnJheSwgdmFsdWVzLCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGggJiYgdmFsdWVzICYmIHZhbHVlcy5sZW5ndGgpXG4gICAgICAgID8gYmFzZVB1bGxBbGwoYXJyYXksIHZhbHVlcywgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKVxuICAgICAgICA6IGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ucHVsbEFsbGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY29tcGFyYXRvcmAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIHRvIGNvbXBhcmUgZWxlbWVudHMgb2YgYGFycmF5YCB0byBgdmFsdWVzYC4gVGhlIGNvbXBhcmF0b3IgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggdHdvIGFyZ3VtZW50czogKGFyclZhbCwgb3RoVmFsKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8uZGlmZmVyZW5jZVdpdGhgLCB0aGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC42LjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIHJlbW92ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDMsICd5JzogNCB9LCB7ICd4JzogNSwgJ3knOiA2IH1dO1xuICAgICAqXG4gICAgICogXy5wdWxsQWxsV2l0aChhcnJheSwgW3sgJ3gnOiAzLCAneSc6IDQgfV0sIF8uaXNFcXVhbCk7XG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiA1LCAneSc6IDYgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwdWxsQWxsV2l0aChhcnJheSwgdmFsdWVzLCBjb21wYXJhdG9yKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCAmJiB2YWx1ZXMgJiYgdmFsdWVzLmxlbmd0aClcbiAgICAgICAgPyBiYXNlUHVsbEFsbChhcnJheSwgdmFsdWVzLCB1bmRlZmluZWQsIGNvbXBhcmF0b3IpXG4gICAgICAgIDogYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBlbGVtZW50cyBmcm9tIGBhcnJheWAgY29ycmVzcG9uZGluZyB0byBgaW5kZXhlc2AgYW5kIHJldHVybnMgYW5cbiAgICAgKiBhcnJheSBvZiByZW1vdmVkIGVsZW1lbnRzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5hdGAsIHRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHsuLi4obnVtYmVyfG51bWJlcltdKX0gW2luZGV4ZXNdIFRoZSBpbmRleGVzIG9mIGVsZW1lbnRzIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiByZW1vdmVkIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbJ2EnLCAnYicsICdjJywgJ2QnXTtcbiAgICAgKiB2YXIgcHVsbGVkID0gXy5wdWxsQXQoYXJyYXksIFsxLCAzXSk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWydhJywgJ2MnXVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2cocHVsbGVkKTtcbiAgICAgKiAvLyA9PiBbJ2InLCAnZCddXG4gICAgICovXG4gICAgdmFyIHB1bGxBdCA9IGZsYXRSZXN0KGZ1bmN0aW9uKGFycmF5LCBpbmRleGVzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0gYmFzZUF0KGFycmF5LCBpbmRleGVzKTtcblxuICAgICAgYmFzZVB1bGxBdChhcnJheSwgYXJyYXlNYXAoaW5kZXhlcywgZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGlzSW5kZXgoaW5kZXgsIGxlbmd0aCkgPyAraW5kZXggOiBpbmRleDtcbiAgICAgIH0pLnNvcnQoY29tcGFyZUFzY2VuZGluZykpO1xuXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgZWxlbWVudHMgZnJvbSBgYXJyYXlgIHRoYXQgYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yXG4gICAgICogYW5kIHJldHVybnMgYW4gYXJyYXkgb2YgdGhlIHJlbW92ZWQgZWxlbWVudHMuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4LCBhcnJheSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLmZpbHRlcmAsIHRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YC4gVXNlIGBfLnB1bGxgXG4gICAgICogdG8gcHVsbCBlbGVtZW50cyBmcm9tIGFuIGFycmF5IGJ5IHZhbHVlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgcmVtb3ZlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzEsIDIsIDMsIDRdO1xuICAgICAqIHZhciBldmVucyA9IF8ucmVtb3ZlKGFycmF5LCBmdW5jdGlvbihuKSB7XG4gICAgICogICByZXR1cm4gbiAlIDIgPT0gMDtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMSwgM11cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGV2ZW5zKTtcbiAgICAgKiAvLyA9PiBbMiwgNF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZW1vdmUoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgaWYgKCEoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgaW5kZXhlcyA9IFtdLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgICAgcHJlZGljYXRlID0gZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICAgICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgICBpbmRleGVzLnB1c2goaW5kZXgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBiYXNlUHVsbEF0KGFycmF5LCBpbmRleGVzKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV2ZXJzZXMgYGFycmF5YCBzbyB0aGF0IHRoZSBmaXJzdCBlbGVtZW50IGJlY29tZXMgdGhlIGxhc3QsIHRoZSBzZWNvbmRcbiAgICAgKiBlbGVtZW50IGJlY29tZXMgdGhlIHNlY29uZCB0byBsYXN0LCBhbmQgc28gb24uXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgIGFuZCBpcyBiYXNlZCBvblxuICAgICAqIFtgQXJyYXkjcmV2ZXJzZWBdKGh0dHBzOi8vbWRuLmlvL0FycmF5L3JldmVyc2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzEsIDIsIDNdO1xuICAgICAqXG4gICAgICogXy5yZXZlcnNlKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMywgMiwgMV1cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMywgMiwgMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZXZlcnNlKGFycmF5KSB7XG4gICAgICByZXR1cm4gYXJyYXkgPT0gbnVsbCA/IGFycmF5IDogbmF0aXZlUmV2ZXJzZS5jYWxsKGFycmF5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCBmcm9tIGBzdGFydGAgdXAgdG8sIGJ1dCBub3QgaW5jbHVkaW5nLCBgZW5kYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyB1c2VkIGluc3RlYWQgb2ZcbiAgICAgKiBbYEFycmF5I3NsaWNlYF0oaHR0cHM6Ly9tZG4uaW8vQXJyYXkvc2xpY2UpIHRvIGVuc3VyZSBkZW5zZSBhcnJheXMgYXJlXG4gICAgICogcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2xpY2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlbmQ9YXJyYXkubGVuZ3RoXSBUaGUgZW5kIHBvc2l0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzbGljZShhcnJheSwgc3RhcnQsIGVuZCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgaWYgKGVuZCAmJiB0eXBlb2YgZW5kICE9ICdudW1iZXInICYmIGlzSXRlcmF0ZWVDYWxsKGFycmF5LCBzdGFydCwgZW5kKSkge1xuICAgICAgICBzdGFydCA9IDA7XG4gICAgICAgIGVuZCA9IGxlbmd0aDtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBzdGFydCA9IHN0YXJ0ID09IG51bGwgPyAwIDogdG9JbnRlZ2VyKHN0YXJ0KTtcbiAgICAgICAgZW5kID0gZW5kID09PSB1bmRlZmluZWQgPyBsZW5ndGggOiB0b0ludGVnZXIoZW5kKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlU2xpY2UoYXJyYXksIHN0YXJ0LCBlbmQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZXMgYSBiaW5hcnkgc2VhcmNoIHRvIGRldGVybWluZSB0aGUgbG93ZXN0IGluZGV4IGF0IHdoaWNoIGB2YWx1ZWBcbiAgICAgKiBzaG91bGQgYmUgaW5zZXJ0ZWQgaW50byBgYXJyYXlgIGluIG9yZGVyIHRvIG1haW50YWluIGl0cyBzb3J0IG9yZGVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIHNvcnRlZCBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGV2YWx1YXRlLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkXG4gICAgICogIGludG8gYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zb3J0ZWRJbmRleChbMzAsIDUwXSwgNDApO1xuICAgICAqIC8vID0+IDFcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRJbmRleChhcnJheSwgdmFsdWUpIHtcbiAgICAgIHJldHVybiBiYXNlU29ydGVkSW5kZXgoYXJyYXksIHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnNvcnRlZEluZGV4YCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWBcbiAgICAgKiB3aGljaCBpcyBpbnZva2VkIGZvciBgdmFsdWVgIGFuZCBlYWNoIGVsZW1lbnQgb2YgYGFycmF5YCB0byBjb21wdXRlIHRoZWlyXG4gICAgICogc29ydCByYW5raW5nLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBzb3J0ZWQgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBldmFsdWF0ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggYXQgd2hpY2ggYHZhbHVlYCBzaG91bGQgYmUgaW5zZXJ0ZWRcbiAgICAgKiAgaW50byBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICd4JzogNCB9LCB7ICd4JzogNSB9XTtcbiAgICAgKlxuICAgICAqIF8uc29ydGVkSW5kZXhCeShvYmplY3RzLCB7ICd4JzogNCB9LCBmdW5jdGlvbihvKSB7IHJldHVybiBvLng7IH0pO1xuICAgICAqIC8vID0+IDBcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uc29ydGVkSW5kZXhCeShvYmplY3RzLCB7ICd4JzogNCB9LCAneCcpO1xuICAgICAqIC8vID0+IDBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRJbmRleEJ5KGFycmF5LCB2YWx1ZSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBiYXNlU29ydGVkSW5kZXhCeShhcnJheSwgdmFsdWUsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pbmRleE9mYCBleGNlcHQgdGhhdCBpdCBwZXJmb3JtcyBhIGJpbmFyeVxuICAgICAqIHNlYXJjaCBvbiBhIHNvcnRlZCBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvcnRlZEluZGV4T2YoWzQsIDUsIDUsIDUsIDZdLCA1KTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkSW5kZXhPZihhcnJheSwgdmFsdWUpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmIChsZW5ndGgpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gYmFzZVNvcnRlZEluZGV4KGFycmF5LCB2YWx1ZSk7XG4gICAgICAgIGlmIChpbmRleCA8IGxlbmd0aCAmJiBlcShhcnJheVtpbmRleF0sIHZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uc29ydGVkSW5kZXhgIGV4Y2VwdCB0aGF0IGl0IHJldHVybnMgdGhlIGhpZ2hlc3RcbiAgICAgKiBpbmRleCBhdCB3aGljaCBgdmFsdWVgIHNob3VsZCBiZSBpbnNlcnRlZCBpbnRvIGBhcnJheWAgaW4gb3JkZXIgdG9cbiAgICAgKiBtYWludGFpbiBpdHMgc29ydCBvcmRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBzb3J0ZWQgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBldmFsdWF0ZS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBhdCB3aGljaCBgdmFsdWVgIHNob3VsZCBiZSBpbnNlcnRlZFxuICAgICAqICBpbnRvIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc29ydGVkTGFzdEluZGV4KFs0LCA1LCA1LCA1LCA2XSwgNSk7XG4gICAgICogLy8gPT4gNFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZExhc3RJbmRleChhcnJheSwgdmFsdWUpIHtcbiAgICAgIHJldHVybiBiYXNlU29ydGVkSW5kZXgoYXJyYXksIHZhbHVlLCB0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnNvcnRlZExhc3RJbmRleGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgXG4gICAgICogd2hpY2ggaXMgaW52b2tlZCBmb3IgYHZhbHVlYCBhbmQgZWFjaCBlbGVtZW50IG9mIGBhcnJheWAgdG8gY29tcHV0ZSB0aGVpclxuICAgICAqIHNvcnQgcmFua2luZy4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgc29ydGVkIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZXZhbHVhdGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkXG4gICAgICogIGludG8gYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAneCc6IDQgfSwgeyAneCc6IDUgfV07XG4gICAgICpcbiAgICAgKiBfLnNvcnRlZExhc3RJbmRleEJ5KG9iamVjdHMsIHsgJ3gnOiA0IH0sIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8ueDsgfSk7XG4gICAgICogLy8gPT4gMVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5zb3J0ZWRMYXN0SW5kZXhCeShvYmplY3RzLCB7ICd4JzogNCB9LCAneCcpO1xuICAgICAqIC8vID0+IDFcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRMYXN0SW5kZXhCeShhcnJheSwgdmFsdWUsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gYmFzZVNvcnRlZEluZGV4QnkoYXJyYXksIHZhbHVlLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMiksIHRydWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ubGFzdEluZGV4T2ZgIGV4Y2VwdCB0aGF0IGl0IHBlcmZvcm1zIGEgYmluYXJ5XG4gICAgICogc2VhcmNoIG9uIGEgc29ydGVkIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc29ydGVkTGFzdEluZGV4T2YoWzQsIDUsIDUsIDUsIDZdLCA1KTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkTGFzdEluZGV4T2YoYXJyYXksIHZhbHVlKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAobGVuZ3RoKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGJhc2VTb3J0ZWRJbmRleChhcnJheSwgdmFsdWUsIHRydWUpIC0gMTtcbiAgICAgICAgaWYgKGVxKGFycmF5W2luZGV4XSwgdmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51bmlxYCBleGNlcHQgdGhhdCBpdCdzIGRlc2lnbmVkIGFuZCBvcHRpbWl6ZWRcbiAgICAgKiBmb3Igc29ydGVkIGFycmF5cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGR1cGxpY2F0ZSBmcmVlIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvcnRlZFVuaXEoWzEsIDEsIDJdKTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRVbmlxKGFycmF5KSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlU29ydGVkVW5pcShhcnJheSlcbiAgICAgICAgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVuaXFCeWAgZXhjZXB0IHRoYXQgaXQncyBkZXNpZ25lZCBhbmQgb3B0aW1pemVkXG4gICAgICogZm9yIHNvcnRlZCBhcnJheXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWVdIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGR1cGxpY2F0ZSBmcmVlIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvcnRlZFVuaXFCeShbMS4xLCAxLjIsIDIuMywgMi40XSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4gWzEuMSwgMi4zXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZFVuaXFCeShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VTb3J0ZWRVbmlxKGFycmF5LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpXG4gICAgICAgIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhbGwgYnV0IHRoZSBmaXJzdCBlbGVtZW50IG9mIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRhaWwoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0YWlsKGFycmF5KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICByZXR1cm4gbGVuZ3RoID8gYmFzZVNsaWNlKGFycmF5LCAxLCBsZW5ndGgpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgd2l0aCBgbmAgZWxlbWVudHMgdGFrZW4gZnJvbSB0aGUgYmVnaW5uaW5nLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0xXSBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIHRha2UuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGFrZShbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IFsxXVxuICAgICAqXG4gICAgICogXy50YWtlKFsxLCAyLCAzXSwgMik7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICpcbiAgICAgKiBfLnRha2UoWzEsIDIsIDNdLCA1KTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIF8udGFrZShbMSwgMiwgM10sIDApO1xuICAgICAqIC8vID0+IFtdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGFrZShhcnJheSwgbiwgZ3VhcmQpIHtcbiAgICAgIGlmICghKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgbiA9IChndWFyZCB8fCBuID09PSB1bmRlZmluZWQpID8gMSA6IHRvSW50ZWdlcihuKTtcbiAgICAgIHJldHVybiBiYXNlU2xpY2UoYXJyYXksIDAsIG4gPCAwID8gMCA6IG4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIHdpdGggYG5gIGVsZW1lbnRzIHRha2VuIGZyb20gdGhlIGVuZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249MV0gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byB0YWtlLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRha2VSaWdodChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IFszXVxuICAgICAqXG4gICAgICogXy50YWtlUmlnaHQoWzEsIDIsIDNdLCAyKTtcbiAgICAgKiAvLyA9PiBbMiwgM11cbiAgICAgKlxuICAgICAqIF8udGFrZVJpZ2h0KFsxLCAyLCAzXSwgNSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiBfLnRha2VSaWdodChbMSwgMiwgM10sIDApO1xuICAgICAqIC8vID0+IFtdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGFrZVJpZ2h0KGFycmF5LCBuLCBndWFyZCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgbiA9IChndWFyZCB8fCBuID09PSB1bmRlZmluZWQpID8gMSA6IHRvSW50ZWdlcihuKTtcbiAgICAgIG4gPSBsZW5ndGggLSBuO1xuICAgICAgcmV0dXJuIGJhc2VTbGljZShhcnJheSwgbiA8IDAgPyAwIDogbiwgbGVuZ3RoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCB3aXRoIGVsZW1lbnRzIHRha2VuIGZyb20gdGhlIGVuZC4gRWxlbWVudHMgYXJlXG4gICAgICogdGFrZW4gdW50aWwgYHByZWRpY2F0ZWAgcmV0dXJucyBmYWxzZXkuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZCB3aXRoXG4gICAgICogdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4LCBhcnJheSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy50YWtlUmlnaHRXaGlsZSh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gIW8uYWN0aXZlOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnLCAncGViYmxlcyddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udGFrZVJpZ2h0V2hpbGUodXNlcnMsIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ3BlYmJsZXMnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udGFrZVJpZ2h0V2hpbGUodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnLCAncGViYmxlcyddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnRha2VSaWdodFdoaWxlKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0YWtlUmlnaHRXaGlsZShhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlV2hpbGUoYXJyYXksIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyksIGZhbHNlLCB0cnVlKVxuICAgICAgICA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIHdpdGggZWxlbWVudHMgdGFrZW4gZnJvbSB0aGUgYmVnaW5uaW5nLiBFbGVtZW50c1xuICAgICAqIGFyZSB0YWtlbiB1bnRpbCBgcHJlZGljYXRlYCByZXR1cm5zIGZhbHNleS4gVGhlIHByZWRpY2F0ZSBpcyBpbnZva2VkIHdpdGhcbiAgICAgKiB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXgsIGFycmF5KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLnRha2VXaGlsZSh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gIW8uYWN0aXZlOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leScsICdmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy50YWtlV2hpbGUodXNlcnMsIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5J11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnRha2VXaGlsZSh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5JywgJ2ZyZWQnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy50YWtlV2hpbGUodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRha2VXaGlsZShhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlV2hpbGUoYXJyYXksIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMykpXG4gICAgICAgIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB1bmlxdWUgdmFsdWVzLCBpbiBvcmRlciwgZnJvbSBhbGwgZ2l2ZW4gYXJyYXlzIHVzaW5nXG4gICAgICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgY29tYmluZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVuaW9uKFsyXSwgWzEsIDJdKTtcbiAgICAgKiAvLyA9PiBbMiwgMV1cbiAgICAgKi9cbiAgICB2YXIgdW5pb24gPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHJldHVybiBiYXNlVW5pcShiYXNlRmxhdHRlbihhcnJheXMsIDEsIGlzQXJyYXlMaWtlT2JqZWN0LCB0cnVlKSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVuaW9uYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgb2YgZWFjaCBgYXJyYXlzYCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uIGJ5XG4gICAgICogd2hpY2ggdW5pcXVlbmVzcyBpcyBjb21wdXRlZC4gUmVzdWx0IHZhbHVlcyBhcmUgY2hvc2VuIGZyb20gdGhlIGZpcnN0XG4gICAgICogYXJyYXkgaW4gd2hpY2ggdGhlIHZhbHVlIG9jY3Vycy4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6XG4gICAgICogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgY29tYmluZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVuaW9uQnkoWzIuMV0sIFsxLjIsIDIuM10sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IFsyLjEsIDEuMl1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udW5pb25CeShbeyAneCc6IDEgfV0sIFt7ICd4JzogMiB9LCB7ICd4JzogMSB9XSwgJ3gnKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDEgfSwgeyAneCc6IDIgfV1cbiAgICAgKi9cbiAgICB2YXIgdW5pb25CeSA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgdmFyIGl0ZXJhdGVlID0gbGFzdChhcnJheXMpO1xuICAgICAgaWYgKGlzQXJyYXlMaWtlT2JqZWN0KGl0ZXJhdGVlKSkge1xuICAgICAgICBpdGVyYXRlZSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlVW5pcShiYXNlRmxhdHRlbihhcnJheXMsIDEsIGlzQXJyYXlMaWtlT2JqZWN0LCB0cnVlKSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udW5pb25gIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGNvbXBhcmF0b3JgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCB0byBjb21wYXJlIGVsZW1lbnRzIG9mIGBhcnJheXNgLiBSZXN1bHQgdmFsdWVzIGFyZSBjaG9zZW4gZnJvbVxuICAgICAqIHRoZSBmaXJzdCBhcnJheSBpbiB3aGljaCB0aGUgdmFsdWUgb2NjdXJzLiBUaGUgY29tcGFyYXRvciBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0d28gYXJndW1lbnRzOiAoYXJyVmFsLCBvdGhWYWwpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGNvbWJpbmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMiwgJ3knOiAxIH1dO1xuICAgICAqIHZhciBvdGhlcnMgPSBbeyAneCc6IDEsICd5JzogMSB9LCB7ICd4JzogMSwgJ3knOiAyIH1dO1xuICAgICAqXG4gICAgICogXy51bmlvbldpdGgob2JqZWN0cywgb3RoZXJzLCBfLmlzRXF1YWwpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAyLCAneSc6IDEgfSwgeyAneCc6IDEsICd5JzogMSB9XVxuICAgICAqL1xuICAgIHZhciB1bmlvbldpdGggPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBjb21wYXJhdG9yID0gbGFzdChhcnJheXMpO1xuICAgICAgY29tcGFyYXRvciA9IHR5cGVvZiBjb21wYXJhdG9yID09ICdmdW5jdGlvbicgPyBjb21wYXJhdG9yIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIGJhc2VVbmlxKGJhc2VGbGF0dGVuKGFycmF5cywgMSwgaXNBcnJheUxpa2VPYmplY3QsIHRydWUpLCB1bmRlZmluZWQsIGNvbXBhcmF0b3IpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGR1cGxpY2F0ZS1mcmVlIHZlcnNpb24gb2YgYW4gYXJyYXksIHVzaW5nXG4gICAgICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMsIGluIHdoaWNoIG9ubHkgdGhlIGZpcnN0IG9jY3VycmVuY2Ugb2YgZWFjaCBlbGVtZW50XG4gICAgICogaXMga2VwdC4gVGhlIG9yZGVyIG9mIHJlc3VsdCB2YWx1ZXMgaXMgZGV0ZXJtaW5lZCBieSB0aGUgb3JkZXIgdGhleSBvY2N1clxuICAgICAqIGluIHRoZSBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGR1cGxpY2F0ZSBmcmVlIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVuaXEoWzIsIDEsIDJdKTtcbiAgICAgKiAvLyA9PiBbMiwgMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bmlxKGFycmF5KSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkgPyBiYXNlVW5pcShhcnJheSkgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVuaXFgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBpbiBgYXJyYXlgIHRvIGdlbmVyYXRlIHRoZSBjcml0ZXJpb24gYnkgd2hpY2hcbiAgICAgKiB1bmlxdWVuZXNzIGlzIGNvbXB1dGVkLiBUaGUgb3JkZXIgb2YgcmVzdWx0IHZhbHVlcyBpcyBkZXRlcm1pbmVkIGJ5IHRoZVxuICAgICAqIG9yZGVyIHRoZXkgb2NjdXIgaW4gdGhlIGFycmF5LiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDpcbiAgICAgKiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGR1cGxpY2F0ZSBmcmVlIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVuaXFCeShbMi4xLCAxLjIsIDIuM10sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IFsyLjEsIDEuMl1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udW5pcUJ5KFt7ICd4JzogMSB9LCB7ICd4JzogMiB9LCB7ICd4JzogMSB9XSwgJ3gnKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDEgfSwgeyAneCc6IDIgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bmlxQnkoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkgPyBiYXNlVW5pcShhcnJheSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udW5pcWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY29tcGFyYXRvcmAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIHRvIGNvbXBhcmUgZWxlbWVudHMgb2YgYGFycmF5YC4gVGhlIG9yZGVyIG9mIHJlc3VsdCB2YWx1ZXMgaXNcbiAgICAgKiBkZXRlcm1pbmVkIGJ5IHRoZSBvcmRlciB0aGV5IG9jY3VyIGluIHRoZSBhcnJheS5UaGUgY29tcGFyYXRvciBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0d28gYXJndW1lbnRzOiAoYXJyVmFsLCBvdGhWYWwpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZHVwbGljYXRlIGZyZWUgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDIsICd5JzogMSB9LCB7ICd4JzogMSwgJ3knOiAyIH1dO1xuICAgICAqXG4gICAgICogXy51bmlxV2l0aChvYmplY3RzLCBfLmlzRXF1YWwpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAyLCAneSc6IDEgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bmlxV2l0aChhcnJheSwgY29tcGFyYXRvcikge1xuICAgICAgY29tcGFyYXRvciA9IHR5cGVvZiBjb21wYXJhdG9yID09ICdmdW5jdGlvbicgPyBjb21wYXJhdG9yIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpID8gYmFzZVVuaXEoYXJyYXksIHVuZGVmaW5lZCwgY29tcGFyYXRvcikgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnppcGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBhbiBhcnJheSBvZiBncm91cGVkXG4gICAgICogZWxlbWVudHMgYW5kIGNyZWF0ZXMgYW4gYXJyYXkgcmVncm91cGluZyB0aGUgZWxlbWVudHMgdG8gdGhlaXIgcHJlLXppcFxuICAgICAqIGNvbmZpZ3VyYXRpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgb2YgZ3JvdXBlZCBlbGVtZW50cyB0byBwcm9jZXNzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHJlZ3JvdXBlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHppcHBlZCA9IF8uemlwKFsnYScsICdiJ10sIFsxLCAyXSwgW3RydWUsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gW1snYScsIDEsIHRydWVdLCBbJ2InLCAyLCBmYWxzZV1dXG4gICAgICpcbiAgICAgKiBfLnVuemlwKHppcHBlZCk7XG4gICAgICogLy8gPT4gW1snYScsICdiJ10sIFsxLCAyXSwgW3RydWUsIGZhbHNlXV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bnppcChhcnJheSkge1xuICAgICAgaWYgKCEoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgbGVuZ3RoID0gMDtcbiAgICAgIGFycmF5ID0gYXJyYXlGaWx0ZXIoYXJyYXksIGZ1bmN0aW9uKGdyb3VwKSB7XG4gICAgICAgIGlmIChpc0FycmF5TGlrZU9iamVjdChncm91cCkpIHtcbiAgICAgICAgICBsZW5ndGggPSBuYXRpdmVNYXgoZ3JvdXAubGVuZ3RoLCBsZW5ndGgpO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBiYXNlVGltZXMobGVuZ3RoLCBmdW5jdGlvbihpbmRleCkge1xuICAgICAgICByZXR1cm4gYXJyYXlNYXAoYXJyYXksIGJhc2VQcm9wZXJ0eShpbmRleCkpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51bnppcGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHRvIHNwZWNpZnlcbiAgICAgKiBob3cgcmVncm91cGVkIHZhbHVlcyBzaG91bGQgYmUgY29tYmluZWQuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggdGhlXG4gICAgICogZWxlbWVudHMgb2YgZWFjaCBncm91cDogKC4uLmdyb3VwKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjguMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSBvZiBncm91cGVkIGVsZW1lbnRzIHRvIHByb2Nlc3MuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiB0byBjb21iaW5lXG4gICAgICogIHJlZ3JvdXBlZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgcmVncm91cGVkIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgemlwcGVkID0gXy56aXAoWzEsIDJdLCBbMTAsIDIwXSwgWzEwMCwgMjAwXSk7XG4gICAgICogLy8gPT4gW1sxLCAxMCwgMTAwXSwgWzIsIDIwLCAyMDBdXVxuICAgICAqXG4gICAgICogXy51bnppcFdpdGgoemlwcGVkLCBfLmFkZCk7XG4gICAgICogLy8gPT4gWzMsIDMwLCAzMDBdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW56aXBXaXRoKGFycmF5LCBpdGVyYXRlZSkge1xuICAgICAgaWYgKCEoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gdW56aXAoYXJyYXkpO1xuICAgICAgaWYgKGl0ZXJhdGVlID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheU1hcChyZXN1bHQsIGZ1bmN0aW9uKGdyb3VwKSB7XG4gICAgICAgIHJldHVybiBhcHBseShpdGVyYXRlZSwgdW5kZWZpbmVkLCBncm91cCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IGV4Y2x1ZGluZyBhbGwgZ2l2ZW4gdmFsdWVzIHVzaW5nXG4gICAgICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLnB1bGxgLCB0aGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIGV4Y2x1ZGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBzZWUgXy5kaWZmZXJlbmNlLCBfLnhvclxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLndpdGhvdXQoWzIsIDEsIDIsIDNdLCAxLCAyKTtcbiAgICAgKiAvLyA9PiBbM11cbiAgICAgKi9cbiAgICB2YXIgd2l0aG91dCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5LCB2YWx1ZXMpIHtcbiAgICAgIHJldHVybiBpc0FycmF5TGlrZU9iamVjdChhcnJheSlcbiAgICAgICAgPyBiYXNlRGlmZmVyZW5jZShhcnJheSwgdmFsdWVzKVxuICAgICAgICA6IFtdO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB1bmlxdWUgdmFsdWVzIHRoYXQgaXMgdGhlXG4gICAgICogW3N5bW1ldHJpYyBkaWZmZXJlbmNlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9TeW1tZXRyaWNfZGlmZmVyZW5jZSlcbiAgICAgKiBvZiB0aGUgZ2l2ZW4gYXJyYXlzLiBUaGUgb3JkZXIgb2YgcmVzdWx0IHZhbHVlcyBpcyBkZXRlcm1pbmVkIGJ5IHRoZSBvcmRlclxuICAgICAqIHRoZXkgb2NjdXIgaW4gdGhlIGFycmF5cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjQuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQHNlZSBfLmRpZmZlcmVuY2UsIF8ud2l0aG91dFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnhvcihbMiwgMV0sIFsyLCAzXSk7XG4gICAgICogLy8gPT4gWzEsIDNdXG4gICAgICovXG4gICAgdmFyIHhvciA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgcmV0dXJuIGJhc2VYb3IoYXJyYXlGaWx0ZXIoYXJyYXlzLCBpc0FycmF5TGlrZU9iamVjdCkpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy54b3JgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBvZiBlYWNoIGBhcnJheXNgIHRvIGdlbmVyYXRlIHRoZSBjcml0ZXJpb24gYnlcbiAgICAgKiB3aGljaCBieSB3aGljaCB0aGV5J3JlIGNvbXBhcmVkLiBUaGUgb3JkZXIgb2YgcmVzdWx0IHZhbHVlcyBpcyBkZXRlcm1pbmVkXG4gICAgICogYnkgdGhlIG9yZGVyIHRoZXkgb2NjdXIgaW4gdGhlIGFycmF5cy4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmVcbiAgICAgKiBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnhvckJ5KFsyLjEsIDEuMl0sIFsyLjMsIDMuNF0sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IFsxLjIsIDMuNF1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ueG9yQnkoW3sgJ3gnOiAxIH1dLCBbeyAneCc6IDIgfSwgeyAneCc6IDEgfV0sICd4Jyk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAyIH1dXG4gICAgICovXG4gICAgdmFyIHhvckJ5ID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgaXRlcmF0ZWUgPSBsYXN0KGFycmF5cyk7XG4gICAgICBpZiAoaXNBcnJheUxpa2VPYmplY3QoaXRlcmF0ZWUpKSB7XG4gICAgICAgIGl0ZXJhdGVlID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VYb3IoYXJyYXlGaWx0ZXIoYXJyYXlzLCBpc0FycmF5TGlrZU9iamVjdCksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnhvcmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY29tcGFyYXRvcmAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIHRvIGNvbXBhcmUgZWxlbWVudHMgb2YgYGFycmF5c2AuIFRoZSBvcmRlciBvZiByZXN1bHQgdmFsdWVzIGlzXG4gICAgICogZGV0ZXJtaW5lZCBieSB0aGUgb3JkZXIgdGhleSBvY2N1ciBpbiB0aGUgYXJyYXlzLiBUaGUgY29tcGFyYXRvciBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0d28gYXJndW1lbnRzOiAoYXJyVmFsLCBvdGhWYWwpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMiwgJ3knOiAxIH1dO1xuICAgICAqIHZhciBvdGhlcnMgPSBbeyAneCc6IDEsICd5JzogMSB9LCB7ICd4JzogMSwgJ3knOiAyIH1dO1xuICAgICAqXG4gICAgICogXy54b3JXaXRoKG9iamVjdHMsIG90aGVycywgXy5pc0VxdWFsKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDIsICd5JzogMSB9LCB7ICd4JzogMSwgJ3knOiAxIH1dXG4gICAgICovXG4gICAgdmFyIHhvcldpdGggPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBjb21wYXJhdG9yID0gbGFzdChhcnJheXMpO1xuICAgICAgY29tcGFyYXRvciA9IHR5cGVvZiBjb21wYXJhdG9yID09ICdmdW5jdGlvbicgPyBjb21wYXJhdG9yIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIGJhc2VYb3IoYXJyYXlGaWx0ZXIoYXJyYXlzLCBpc0FycmF5TGlrZU9iamVjdCksIHVuZGVmaW5lZCwgY29tcGFyYXRvcik7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGdyb3VwZWQgZWxlbWVudHMsIHRoZSBmaXJzdCBvZiB3aGljaCBjb250YWlucyB0aGVcbiAgICAgKiBmaXJzdCBlbGVtZW50cyBvZiB0aGUgZ2l2ZW4gYXJyYXlzLCB0aGUgc2Vjb25kIG9mIHdoaWNoIGNvbnRhaW5zIHRoZVxuICAgICAqIHNlY29uZCBlbGVtZW50cyBvZiB0aGUgZ2l2ZW4gYXJyYXlzLCBhbmQgc28gb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIHByb2Nlc3MuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZ3JvdXBlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy56aXAoWydhJywgJ2InXSwgWzEsIDJdLCBbdHJ1ZSwgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBbWydhJywgMSwgdHJ1ZV0sIFsnYicsIDIsIGZhbHNlXV1cbiAgICAgKi9cbiAgICB2YXIgemlwID0gYmFzZVJlc3QodW56aXApO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mcm9tUGFpcnNgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgdHdvIGFycmF5cyxcbiAgICAgKiBvbmUgb2YgcHJvcGVydHkgaWRlbnRpZmllcnMgYW5kIG9uZSBvZiBjb3JyZXNwb25kaW5nIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjQuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wcz1bXV0gVGhlIHByb3BlcnR5IGlkZW50aWZpZXJzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFt2YWx1ZXM9W11dIFRoZSBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy56aXBPYmplY3QoWydhJywgJ2InXSwgWzEsIDJdKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB6aXBPYmplY3QocHJvcHMsIHZhbHVlcykge1xuICAgICAgcmV0dXJuIGJhc2VaaXBPYmplY3QocHJvcHMgfHwgW10sIHZhbHVlcyB8fCBbXSwgYXNzaWduVmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uemlwT2JqZWN0YCBleGNlcHQgdGhhdCBpdCBzdXBwb3J0cyBwcm9wZXJ0eSBwYXRocy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wcz1bXV0gVGhlIHByb3BlcnR5IGlkZW50aWZpZXJzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFt2YWx1ZXM9W11dIFRoZSBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy56aXBPYmplY3REZWVwKFsnYS5iWzBdLmMnLCAnYS5iWzFdLmQnXSwgWzEsIDJdKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogeyAnYic6IFt7ICdjJzogMSB9LCB7ICdkJzogMiB9XSB9IH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB6aXBPYmplY3REZWVwKHByb3BzLCB2YWx1ZXMpIHtcbiAgICAgIHJldHVybiBiYXNlWmlwT2JqZWN0KHByb3BzIHx8IFtdLCB2YWx1ZXMgfHwgW10sIGJhc2VTZXQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uemlwYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgdG8gc3BlY2lmeVxuICAgICAqIGhvdyBncm91cGVkIHZhbHVlcyBzaG91bGQgYmUgY29tYmluZWQuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggdGhlXG4gICAgICogZWxlbWVudHMgb2YgZWFjaCBncm91cDogKC4uLmdyb3VwKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjguMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIHRvIGNvbWJpbmVcbiAgICAgKiAgZ3JvdXBlZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZ3JvdXBlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy56aXBXaXRoKFsxLCAyXSwgWzEwLCAyMF0sIFsxMDAsIDIwMF0sIGZ1bmN0aW9uKGEsIGIsIGMpIHtcbiAgICAgKiAgIHJldHVybiBhICsgYiArIGM7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gWzExMSwgMjIyXVxuICAgICAqL1xuICAgIHZhciB6aXBXaXRoID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXlzLmxlbmd0aCxcbiAgICAgICAgICBpdGVyYXRlZSA9IGxlbmd0aCA+IDEgPyBhcnJheXNbbGVuZ3RoIC0gMV0gOiB1bmRlZmluZWQ7XG5cbiAgICAgIGl0ZXJhdGVlID0gdHlwZW9mIGl0ZXJhdGVlID09ICdmdW5jdGlvbicgPyAoYXJyYXlzLnBvcCgpLCBpdGVyYXRlZSkgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gdW56aXBXaXRoKGFycmF5cywgaXRlcmF0ZWUpO1xuICAgIH0pO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UgdGhhdCB3cmFwcyBgdmFsdWVgIHdpdGggZXhwbGljaXQgbWV0aG9kXG4gICAgICogY2hhaW4gc2VxdWVuY2VzIGVuYWJsZWQuIFRoZSByZXN1bHQgb2Ygc3VjaCBzZXF1ZW5jZXMgbXVzdCBiZSB1bndyYXBwZWRcbiAgICAgKiB3aXRoIGBfI3ZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjMuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byB3cmFwLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWdlJzogMzYgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhZ2UnOiA0MCB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FnZSc6IDEgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiB2YXIgeW91bmdlc3QgPSBfXG4gICAgICogICAuY2hhaW4odXNlcnMpXG4gICAgICogICAuc29ydEJ5KCdhZ2UnKVxuICAgICAqICAgLm1hcChmdW5jdGlvbihvKSB7XG4gICAgICogICAgIHJldHVybiBvLnVzZXIgKyAnIGlzICcgKyBvLmFnZTtcbiAgICAgKiAgIH0pXG4gICAgICogICAuaGVhZCgpXG4gICAgICogICAudmFsdWUoKTtcbiAgICAgKiAvLyA9PiAncGViYmxlcyBpcyAxJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNoYWluKHZhbHVlKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbG9kYXNoKHZhbHVlKTtcbiAgICAgIHJlc3VsdC5fX2NoYWluX18gPSB0cnVlO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpbnZva2VzIGBpbnRlcmNlcHRvcmAgYW5kIHJldHVybnMgYHZhbHVlYC4gVGhlIGludGVyY2VwdG9yXG4gICAgICogaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDsgKHZhbHVlKS4gVGhlIHB1cnBvc2Ugb2YgdGhpcyBtZXRob2QgaXMgdG9cbiAgICAgKiBcInRhcCBpbnRvXCIgYSBtZXRob2QgY2hhaW4gc2VxdWVuY2UgaW4gb3JkZXIgdG8gbW9kaWZ5IGludGVybWVkaWF0ZSByZXN1bHRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb3ZpZGUgdG8gYGludGVyY2VwdG9yYC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpbnRlcmNlcHRvciBUaGUgZnVuY3Rpb24gdG8gaW52b2tlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIGB2YWx1ZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8oWzEsIDIsIDNdKVxuICAgICAqICAudGFwKGZ1bmN0aW9uKGFycmF5KSB7XG4gICAgICogICAgLy8gTXV0YXRlIGlucHV0IGFycmF5LlxuICAgICAqICAgIGFycmF5LnBvcCgpO1xuICAgICAqICB9KVxuICAgICAqICAucmV2ZXJzZSgpXG4gICAgICogIC52YWx1ZSgpO1xuICAgICAqIC8vID0+IFsyLCAxXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRhcCh2YWx1ZSwgaW50ZXJjZXB0b3IpIHtcbiAgICAgIGludGVyY2VwdG9yKHZhbHVlKTtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnRhcGAgZXhjZXB0IHRoYXQgaXQgcmV0dXJucyB0aGUgcmVzdWx0IG9mIGBpbnRlcmNlcHRvcmAuXG4gICAgICogVGhlIHB1cnBvc2Ugb2YgdGhpcyBtZXRob2QgaXMgdG8gXCJwYXNzIHRocnVcIiB2YWx1ZXMgcmVwbGFjaW5nIGludGVybWVkaWF0ZVxuICAgICAqIHJlc3VsdHMgaW4gYSBtZXRob2QgY2hhaW4gc2VxdWVuY2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvdmlkZSB0byBgaW50ZXJjZXB0b3JgLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGludGVyY2VwdG9yIFRoZSBmdW5jdGlvbiB0byBpbnZva2UuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc3VsdCBvZiBgaW50ZXJjZXB0b3JgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfKCcgIGFiYyAgJylcbiAgICAgKiAgLmNoYWluKClcbiAgICAgKiAgLnRyaW0oKVxuICAgICAqICAudGhydShmdW5jdGlvbih2YWx1ZSkge1xuICAgICAqICAgIHJldHVybiBbdmFsdWVdO1xuICAgICAqICB9KVxuICAgICAqICAudmFsdWUoKTtcbiAgICAgKiAvLyA9PiBbJ2FiYyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGhydSh2YWx1ZSwgaW50ZXJjZXB0b3IpIHtcbiAgICAgIHJldHVybiBpbnRlcmNlcHRvcih2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgdGhlIHdyYXBwZXIgdmVyc2lvbiBvZiBgXy5hdGAuXG4gICAgICpcbiAgICAgKiBAbmFtZSBhdFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMC4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEBwYXJhbSB7Li4uKHN0cmluZ3xzdHJpbmdbXSl9IFtwYXRoc10gVGhlIHByb3BlcnR5IHBhdGhzIHRvIHBpY2suXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogMyB9IH0sIDRdIH07XG4gICAgICpcbiAgICAgKiBfKG9iamVjdCkuYXQoWydhWzBdLmIuYycsICdhWzFdJ10pLnZhbHVlKCk7XG4gICAgICogLy8gPT4gWzMsIDRdXG4gICAgICovXG4gICAgdmFyIHdyYXBwZXJBdCA9IGZsYXRSZXN0KGZ1bmN0aW9uKHBhdGhzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gcGF0aHMubGVuZ3RoLFxuICAgICAgICAgIHN0YXJ0ID0gbGVuZ3RoID8gcGF0aHNbMF0gOiAwLFxuICAgICAgICAgIHZhbHVlID0gdGhpcy5fX3dyYXBwZWRfXyxcbiAgICAgICAgICBpbnRlcmNlcHRvciA9IGZ1bmN0aW9uKG9iamVjdCkgeyByZXR1cm4gYmFzZUF0KG9iamVjdCwgcGF0aHMpOyB9O1xuXG4gICAgICBpZiAobGVuZ3RoID4gMSB8fCB0aGlzLl9fYWN0aW9uc19fLmxlbmd0aCB8fFxuICAgICAgICAgICEodmFsdWUgaW5zdGFuY2VvZiBMYXp5V3JhcHBlcikgfHwgIWlzSW5kZXgoc3RhcnQpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRocnUoaW50ZXJjZXB0b3IpO1xuICAgICAgfVxuICAgICAgdmFsdWUgPSB2YWx1ZS5zbGljZShzdGFydCwgK3N0YXJ0ICsgKGxlbmd0aCA/IDEgOiAwKSk7XG4gICAgICB2YWx1ZS5fX2FjdGlvbnNfXy5wdXNoKHtcbiAgICAgICAgJ2Z1bmMnOiB0aHJ1LFxuICAgICAgICAnYXJncyc6IFtpbnRlcmNlcHRvcl0sXG4gICAgICAgICd0aGlzQXJnJzogdW5kZWZpbmVkXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBuZXcgTG9kYXNoV3JhcHBlcih2YWx1ZSwgdGhpcy5fX2NoYWluX18pLnRocnUoZnVuY3Rpb24oYXJyYXkpIHtcbiAgICAgICAgaWYgKGxlbmd0aCAmJiAhYXJyYXkubGVuZ3RoKSB7XG4gICAgICAgICAgYXJyYXkucHVzaCh1bmRlZmluZWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcnJheTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2Ugd2l0aCBleHBsaWNpdCBtZXRob2QgY2hhaW4gc2VxdWVuY2VzIGVuYWJsZWQuXG4gICAgICpcbiAgICAgKiBAbmFtZSBjaGFpblxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDAgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyBBIHNlcXVlbmNlIHdpdGhvdXQgZXhwbGljaXQgY2hhaW5pbmcuXG4gICAgICogXyh1c2VycykuaGVhZCgpO1xuICAgICAqIC8vID0+IHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2IH1cbiAgICAgKlxuICAgICAqIC8vIEEgc2VxdWVuY2Ugd2l0aCBleHBsaWNpdCBjaGFpbmluZy5cbiAgICAgKiBfKHVzZXJzKVxuICAgICAqICAgLmNoYWluKClcbiAgICAgKiAgIC5oZWFkKClcbiAgICAgKiAgIC5waWNrKCd1c2VyJylcbiAgICAgKiAgIC52YWx1ZSgpO1xuICAgICAqIC8vID0+IHsgJ3VzZXInOiAnYmFybmV5JyB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlckNoYWluKCkge1xuICAgICAgcmV0dXJuIGNoYWluKHRoaXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4ZWN1dGVzIHRoZSBjaGFpbiBzZXF1ZW5jZSBhbmQgcmV0dXJucyB0aGUgd3JhcHBlZCByZXN1bHQuXG4gICAgICpcbiAgICAgKiBAbmFtZSBjb21taXRcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjIuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzEsIDJdO1xuICAgICAqIHZhciB3cmFwcGVkID0gXyhhcnJheSkucHVzaCgzKTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKlxuICAgICAqIHdyYXBwZWQgPSB3cmFwcGVkLmNvbW1pdCgpO1xuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIHdyYXBwZWQubGFzdCgpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyQ29tbWl0KCkge1xuICAgICAgcmV0dXJuIG5ldyBMb2Rhc2hXcmFwcGVyKHRoaXMudmFsdWUoKSwgdGhpcy5fX2NoYWluX18pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIG5leHQgdmFsdWUgb24gYSB3cmFwcGVkIG9iamVjdCBmb2xsb3dpbmcgdGhlXG4gICAgICogW2l0ZXJhdG9yIHByb3RvY29sXShodHRwczovL21kbi5pby9pdGVyYXRpb25fcHJvdG9jb2xzI2l0ZXJhdG9yKS5cbiAgICAgKlxuICAgICAqIEBuYW1lIG5leHRcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXh0IGl0ZXJhdG9yIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgd3JhcHBlZCA9IF8oWzEsIDJdKTtcbiAgICAgKlxuICAgICAqIHdyYXBwZWQubmV4dCgpO1xuICAgICAqIC8vID0+IHsgJ2RvbmUnOiBmYWxzZSwgJ3ZhbHVlJzogMSB9XG4gICAgICpcbiAgICAgKiB3cmFwcGVkLm5leHQoKTtcbiAgICAgKiAvLyA9PiB7ICdkb25lJzogZmFsc2UsICd2YWx1ZSc6IDIgfVxuICAgICAqXG4gICAgICogd3JhcHBlZC5uZXh0KCk7XG4gICAgICogLy8gPT4geyAnZG9uZSc6IHRydWUsICd2YWx1ZSc6IHVuZGVmaW5lZCB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlck5leHQoKSB7XG4gICAgICBpZiAodGhpcy5fX3ZhbHVlc19fID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5fX3ZhbHVlc19fID0gdG9BcnJheSh0aGlzLnZhbHVlKCkpO1xuICAgICAgfVxuICAgICAgdmFyIGRvbmUgPSB0aGlzLl9faW5kZXhfXyA+PSB0aGlzLl9fdmFsdWVzX18ubGVuZ3RoLFxuICAgICAgICAgIHZhbHVlID0gZG9uZSA/IHVuZGVmaW5lZCA6IHRoaXMuX192YWx1ZXNfX1t0aGlzLl9faW5kZXhfXysrXTtcblxuICAgICAgcmV0dXJuIHsgJ2RvbmUnOiBkb25lLCAndmFsdWUnOiB2YWx1ZSB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgdGhlIHdyYXBwZXIgdG8gYmUgaXRlcmFibGUuXG4gICAgICpcbiAgICAgKiBAbmFtZSBTeW1ib2wuaXRlcmF0b3JcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSB3cmFwcGVyIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHdyYXBwZWQgPSBfKFsxLCAyXSk7XG4gICAgICpcbiAgICAgKiB3cmFwcGVkW1N5bWJvbC5pdGVyYXRvcl0oKSA9PT0gd3JhcHBlZDtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBBcnJheS5mcm9tKHdyYXBwZWQpO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJUb0l0ZXJhdG9yKCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoZSBjaGFpbiBzZXF1ZW5jZSBwbGFudGluZyBgdmFsdWVgIGFzIHRoZSB3cmFwcGVkIHZhbHVlLlxuICAgICAqXG4gICAgICogQG5hbWUgcGxhbnRcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjIuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwbGFudC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gc3F1YXJlKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICogbjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgd3JhcHBlZCA9IF8oWzEsIDJdKS5tYXAoc3F1YXJlKTtcbiAgICAgKiB2YXIgb3RoZXIgPSB3cmFwcGVkLnBsYW50KFszLCA0XSk7XG4gICAgICpcbiAgICAgKiBvdGhlci52YWx1ZSgpO1xuICAgICAqIC8vID0+IFs5LCAxNl1cbiAgICAgKlxuICAgICAqIHdyYXBwZWQudmFsdWUoKTtcbiAgICAgKiAvLyA9PiBbMSwgNF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyUGxhbnQodmFsdWUpIHtcbiAgICAgIHZhciByZXN1bHQsXG4gICAgICAgICAgcGFyZW50ID0gdGhpcztcblxuICAgICAgd2hpbGUgKHBhcmVudCBpbnN0YW5jZW9mIGJhc2VMb2Rhc2gpIHtcbiAgICAgICAgdmFyIGNsb25lID0gd3JhcHBlckNsb25lKHBhcmVudCk7XG4gICAgICAgIGNsb25lLl9faW5kZXhfXyA9IDA7XG4gICAgICAgIGNsb25lLl9fdmFsdWVzX18gPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBwcmV2aW91cy5fX3dyYXBwZWRfXyA9IGNsb25lO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc3VsdCA9IGNsb25lO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwcmV2aW91cyA9IGNsb25lO1xuICAgICAgICBwYXJlbnQgPSBwYXJlbnQuX193cmFwcGVkX187XG4gICAgICB9XG4gICAgICBwcmV2aW91cy5fX3dyYXBwZWRfXyA9IHZhbHVlO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyB0aGUgd3JhcHBlciB2ZXJzaW9uIG9mIGBfLnJldmVyc2VgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgdGhlIHdyYXBwZWQgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAbmFtZSByZXZlcnNlXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxLCAyLCAzXTtcbiAgICAgKlxuICAgICAqIF8oYXJyYXkpLnJldmVyc2UoKS52YWx1ZSgpXG4gICAgICogLy8gPT4gWzMsIDIsIDFdXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzMsIDIsIDFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlclJldmVyc2UoKSB7XG4gICAgICB2YXIgdmFsdWUgPSB0aGlzLl9fd3JhcHBlZF9fO1xuICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgTGF6eVdyYXBwZXIpIHtcbiAgICAgICAgdmFyIHdyYXBwZWQgPSB2YWx1ZTtcbiAgICAgICAgaWYgKHRoaXMuX19hY3Rpb25zX18ubGVuZ3RoKSB7XG4gICAgICAgICAgd3JhcHBlZCA9IG5ldyBMYXp5V3JhcHBlcih0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB3cmFwcGVkID0gd3JhcHBlZC5yZXZlcnNlKCk7XG4gICAgICAgIHdyYXBwZWQuX19hY3Rpb25zX18ucHVzaCh7XG4gICAgICAgICAgJ2Z1bmMnOiB0aHJ1LFxuICAgICAgICAgICdhcmdzJzogW3JldmVyc2VdLFxuICAgICAgICAgICd0aGlzQXJnJzogdW5kZWZpbmVkXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbmV3IExvZGFzaFdyYXBwZXIod3JhcHBlZCwgdGhpcy5fX2NoYWluX18pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMudGhydShyZXZlcnNlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeGVjdXRlcyB0aGUgY2hhaW4gc2VxdWVuY2UgdG8gcmVzb2x2ZSB0aGUgdW53cmFwcGVkIHZhbHVlLlxuICAgICAqXG4gICAgICogQG5hbWUgdmFsdWVcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBhbGlhcyB0b0pTT04sIHZhbHVlT2ZcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHVud3JhcHBlZCB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXyhbMSwgMiwgM10pLnZhbHVlKCk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlclZhbHVlKCkge1xuICAgICAgcmV0dXJuIGJhc2VXcmFwcGVyVmFsdWUodGhpcy5fX3dyYXBwZWRfXywgdGhpcy5fX2FjdGlvbnNfXyk7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2Yga2V5cyBnZW5lcmF0ZWQgZnJvbSB0aGUgcmVzdWx0cyBvZiBydW5uaW5nXG4gICAgICogZWFjaCBlbGVtZW50IG9mIGBjb2xsZWN0aW9uYCB0aHJ1IGBpdGVyYXRlZWAuIFRoZSBjb3JyZXNwb25kaW5nIHZhbHVlIG9mXG4gICAgICogZWFjaCBrZXkgaXMgdGhlIG51bWJlciBvZiB0aW1lcyB0aGUga2V5IHdhcyByZXR1cm5lZCBieSBgaXRlcmF0ZWVgLiBUaGVcbiAgICAgKiBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuNS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSB0byB0cmFuc2Zvcm0ga2V5cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjb21wb3NlZCBhZ2dyZWdhdGUgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNvdW50QnkoWzYuMSwgNC4yLCA2LjNdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiB7ICc0JzogMSwgJzYnOiAyIH1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uY291bnRCeShbJ29uZScsICd0d28nLCAndGhyZWUnXSwgJ2xlbmd0aCcpO1xuICAgICAqIC8vID0+IHsgJzMnOiAyLCAnNSc6IDEgfVxuICAgICAqL1xuICAgIHZhciBjb3VudEJ5ID0gY3JlYXRlQWdncmVnYXRvcihmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHJlc3VsdCwga2V5KSkge1xuICAgICAgICArK3Jlc3VsdFtrZXldO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYmFzZUFzc2lnblZhbHVlKHJlc3VsdCwga2V5LCAxKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3IgKiphbGwqKiBlbGVtZW50cyBvZiBgY29sbGVjdGlvbmAuXG4gICAgICogSXRlcmF0aW9uIGlzIHN0b3BwZWQgb25jZSBgcHJlZGljYXRlYCByZXR1cm5zIGZhbHNleS4gVGhlIHByZWRpY2F0ZSBpc1xuICAgICAqIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCByZXR1cm5zIGB0cnVlYCBmb3JcbiAgICAgKiBbZW1wdHkgY29sbGVjdGlvbnNdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0VtcHR5X3NldCkgYmVjYXVzZVxuICAgICAqIFtldmVyeXRoaW5nIGlzIHRydWVdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1ZhY3VvdXNfdHJ1dGgpIG9mXG4gICAgICogZWxlbWVudHMgb2YgZW1wdHkgY29sbGVjdGlvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYWxsIGVsZW1lbnRzIHBhc3MgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmV2ZXJ5KFt0cnVlLCAxLCBudWxsLCAneWVzJ10sIEJvb2xlYW4pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmV2ZXJ5KHVzZXJzLCB7ICd1c2VyJzogJ2Jhcm5leScsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZXZlcnkodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmV2ZXJ5KHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBldmVyeShjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGd1YXJkKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheUV2ZXJ5IDogYmFzZUV2ZXJ5O1xuICAgICAgaWYgKGd1YXJkICYmIGlzSXRlcmF0ZWVDYWxsKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSwgZ3VhcmQpKSB7XG4gICAgICAgIHByZWRpY2F0ZSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2YgYGNvbGxlY3Rpb25gLCByZXR1cm5pbmcgYW4gYXJyYXkgb2YgYWxsIGVsZW1lbnRzXG4gICAgICogYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yLiBUaGUgcHJlZGljYXRlIGlzIGludm9rZWQgd2l0aCB0aHJlZVxuICAgICAqIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5yZW1vdmVgLCB0aGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZpbHRlcmVkIGFycmF5LlxuICAgICAqIEBzZWUgXy5yZWplY3RcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzYsICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5maWx0ZXIodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuICFvLmFjdGl2ZTsgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maWx0ZXIodXNlcnMsIHsgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leSddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maWx0ZXIodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maWx0ZXIodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leSddXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmlsdGVyKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlGaWx0ZXIgOiBiYXNlRmlsdGVyO1xuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZiBgY29sbGVjdGlvbmAsIHJldHVybmluZyB0aGUgZmlyc3QgZWxlbWVudFxuICAgICAqIGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvci4gVGhlIHByZWRpY2F0ZSBpcyBpbnZva2VkIHdpdGggdGhyZWVcbiAgICAgKiBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9MF0gVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtYXRjaGVkIGVsZW1lbnQsIGVsc2UgYHVuZGVmaW5lZGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWdlJzogMSwgICdhY3RpdmUnOiB0cnVlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5maW5kKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLmFnZSA8IDQwOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3QgZm9yICdiYXJuZXknXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZCh1c2VycywgeyAnYWdlJzogMSwgJ2FjdGl2ZSc6IHRydWUgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0IGZvciAncGViYmxlcydcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmQodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3QgZm9yICdmcmVkJ1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gb2JqZWN0IGZvciAnYmFybmV5J1xuICAgICAqL1xuICAgIHZhciBmaW5kID0gY3JlYXRlRmluZChmaW5kSW5kZXgpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5maW5kYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mXG4gICAgICogYGNvbGxlY3Rpb25gIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9Y29sbGVjdGlvbi5sZW5ndGgtMV0gVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtYXRjaGVkIGVsZW1lbnQsIGVsc2UgYHVuZGVmaW5lZGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZmluZExhc3QoWzEsIDIsIDMsIDRdLCBmdW5jdGlvbihuKSB7XG4gICAgICogICByZXR1cm4gbiAlIDIgPT0gMTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICovXG4gICAgdmFyIGZpbmRMYXN0ID0gY3JlYXRlRmluZChmaW5kTGFzdEluZGV4KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmbGF0dGVuZWQgYXJyYXkgb2YgdmFsdWVzIGJ5IHJ1bm5pbmcgZWFjaCBlbGVtZW50IGluIGBjb2xsZWN0aW9uYFxuICAgICAqIHRocnUgYGl0ZXJhdGVlYCBhbmQgZmxhdHRlbmluZyB0aGUgbWFwcGVkIHJlc3VsdHMuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZsYXR0ZW5lZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gZHVwbGljYXRlKG4pIHtcbiAgICAgKiAgIHJldHVybiBbbiwgbl07XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5mbGF0TWFwKFsxLCAyXSwgZHVwbGljYXRlKTtcbiAgICAgKiAvLyA9PiBbMSwgMSwgMiwgMl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGF0TWFwKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gYmFzZUZsYXR0ZW4obWFwKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSwgMSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mbGF0TWFwYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBmbGF0dGVucyB0aGVcbiAgICAgKiBtYXBwZWQgcmVzdWx0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjcuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZsYXR0ZW5lZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gZHVwbGljYXRlKG4pIHtcbiAgICAgKiAgIHJldHVybiBbW1tuLCBuXV1dO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIF8uZmxhdE1hcERlZXAoWzEsIDJdLCBkdXBsaWNhdGUpO1xuICAgICAqIC8vID0+IFsxLCAxLCAyLCAyXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsYXRNYXBEZWVwKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gYmFzZUZsYXR0ZW4obWFwKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSwgSU5GSU5JVFkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZmxhdE1hcGAgZXhjZXB0IHRoYXQgaXQgcmVjdXJzaXZlbHkgZmxhdHRlbnMgdGhlXG4gICAgICogbWFwcGVkIHJlc3VsdHMgdXAgdG8gYGRlcHRoYCB0aW1lcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjcuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZGVwdGg9MV0gVGhlIG1heGltdW0gcmVjdXJzaW9uIGRlcHRoLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZsYXR0ZW5lZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gZHVwbGljYXRlKG4pIHtcbiAgICAgKiAgIHJldHVybiBbW1tuLCBuXV1dO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIF8uZmxhdE1hcERlcHRoKFsxLCAyXSwgZHVwbGljYXRlLCAyKTtcbiAgICAgKiAvLyA9PiBbWzEsIDFdLCBbMiwgMl1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdE1hcERlcHRoKGNvbGxlY3Rpb24sIGl0ZXJhdGVlLCBkZXB0aCkge1xuICAgICAgZGVwdGggPSBkZXB0aCA9PT0gdW5kZWZpbmVkID8gMSA6IHRvSW50ZWdlcihkZXB0aCk7XG4gICAgICByZXR1cm4gYmFzZUZsYXR0ZW4obWFwKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSwgZGVwdGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2YgYGNvbGxlY3Rpb25gIGFuZCBpbnZva2VzIGBpdGVyYXRlZWAgZm9yIGVhY2ggZWxlbWVudC5cbiAgICAgKiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqIEl0ZXJhdGVlIGZ1bmN0aW9ucyBtYXkgZXhpdCBpdGVyYXRpb24gZWFybHkgYnkgZXhwbGljaXRseSByZXR1cm5pbmcgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBBcyB3aXRoIG90aGVyIFwiQ29sbGVjdGlvbnNcIiBtZXRob2RzLCBvYmplY3RzIHdpdGggYSBcImxlbmd0aFwiXG4gICAgICogcHJvcGVydHkgYXJlIGl0ZXJhdGVkIGxpa2UgYXJyYXlzLiBUbyBhdm9pZCB0aGlzIGJlaGF2aW9yIHVzZSBgXy5mb3JJbmBcbiAgICAgKiBvciBgXy5mb3JPd25gIGZvciBvYmplY3QgaXRlcmF0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGFsaWFzIGVhY2hcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl8T2JqZWN0fSBSZXR1cm5zIGBjb2xsZWN0aW9uYC5cbiAgICAgKiBAc2VlIF8uZm9yRWFjaFJpZ2h0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZm9yRWFjaChbMSwgMl0sIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICogICBjb25zb2xlLmxvZyh2YWx1ZSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyBgMWAgdGhlbiBgMmAuXG4gICAgICpcbiAgICAgKiBfLmZvckVhY2goeyAnYSc6IDEsICdiJzogMiB9LCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICogICBjb25zb2xlLmxvZyhrZXkpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgJ2EnIHRoZW4gJ2InIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvckVhY2goY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5RWFjaCA6IGJhc2VFYWNoO1xuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZvckVhY2hgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2ZcbiAgICAgKiBgY29sbGVjdGlvbmAgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGFsaWFzIGVhY2hSaWdodFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheXxPYmplY3R9IFJldHVybnMgYGNvbGxlY3Rpb25gLlxuICAgICAqIEBzZWUgXy5mb3JFYWNoXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZm9yRWFjaFJpZ2h0KFsxLCAyXSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKHZhbHVlKTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBMb2dzIGAyYCB0aGVuIGAxYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmb3JFYWNoUmlnaHQoY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5RWFjaFJpZ2h0IDogYmFzZUVhY2hSaWdodDtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2Yga2V5cyBnZW5lcmF0ZWQgZnJvbSB0aGUgcmVzdWx0cyBvZiBydW5uaW5nXG4gICAgICogZWFjaCBlbGVtZW50IG9mIGBjb2xsZWN0aW9uYCB0aHJ1IGBpdGVyYXRlZWAuIFRoZSBvcmRlciBvZiBncm91cGVkIHZhbHVlc1xuICAgICAqIGlzIGRldGVybWluZWQgYnkgdGhlIG9yZGVyIHRoZXkgb2NjdXIgaW4gYGNvbGxlY3Rpb25gLiBUaGUgY29ycmVzcG9uZGluZ1xuICAgICAqIHZhbHVlIG9mIGVhY2gga2V5IGlzIGFuIGFycmF5IG9mIGVsZW1lbnRzIHJlc3BvbnNpYmxlIGZvciBnZW5lcmF0aW5nIHRoZVxuICAgICAqIGtleS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIHRvIHRyYW5zZm9ybSBrZXlzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNvbXBvc2VkIGFnZ3JlZ2F0ZSBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZ3JvdXBCeShbNi4xLCA0LjIsIDYuM10sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IHsgJzQnOiBbNC4yXSwgJzYnOiBbNi4xLCA2LjNdIH1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZ3JvdXBCeShbJ29uZScsICd0d28nLCAndGhyZWUnXSwgJ2xlbmd0aCcpO1xuICAgICAqIC8vID0+IHsgJzMnOiBbJ29uZScsICd0d28nXSwgJzUnOiBbJ3RocmVlJ10gfVxuICAgICAqL1xuICAgIHZhciBncm91cEJ5ID0gY3JlYXRlQWdncmVnYXRvcihmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHJlc3VsdCwga2V5KSkge1xuICAgICAgICByZXN1bHRba2V5XS5wdXNoKHZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJhc2VBc3NpZ25WYWx1ZShyZXN1bHQsIGtleSwgW3ZhbHVlXSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBpbiBgY29sbGVjdGlvbmAuIElmIGBjb2xsZWN0aW9uYCBpcyBhIHN0cmluZywgaXQnc1xuICAgICAqIGNoZWNrZWQgZm9yIGEgc3Vic3RyaW5nIG9mIGB2YWx1ZWAsIG90aGVyd2lzZVxuICAgICAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogaXMgdXNlZCBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuIElmIGBmcm9tSW5kZXhgIGlzIG5lZ2F0aXZlLCBpdCdzIHVzZWQgYXNcbiAgICAgKiB0aGUgb2Zmc2V0IGZyb20gdGhlIGVuZCBvZiBgY29sbGVjdGlvbmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9MF0gVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLnJlZHVjZWAuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pbmNsdWRlcyhbMSwgMiwgM10sIDEpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaW5jbHVkZXMoWzEsIDIsIDNdLCAxLCAyKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pbmNsdWRlcyh7ICdhJzogMSwgJ2InOiAyIH0sIDEpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaW5jbHVkZXMoJ2FiY2QnLCAnYmMnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5jbHVkZXMoY29sbGVjdGlvbiwgdmFsdWUsIGZyb21JbmRleCwgZ3VhcmQpIHtcbiAgICAgIGNvbGxlY3Rpb24gPSBpc0FycmF5TGlrZShjb2xsZWN0aW9uKSA/IGNvbGxlY3Rpb24gOiB2YWx1ZXMoY29sbGVjdGlvbik7XG4gICAgICBmcm9tSW5kZXggPSAoZnJvbUluZGV4ICYmICFndWFyZCkgPyB0b0ludGVnZXIoZnJvbUluZGV4KSA6IDA7XG5cbiAgICAgIHZhciBsZW5ndGggPSBjb2xsZWN0aW9uLmxlbmd0aDtcbiAgICAgIGlmIChmcm9tSW5kZXggPCAwKSB7XG4gICAgICAgIGZyb21JbmRleCA9IG5hdGl2ZU1heChsZW5ndGggKyBmcm9tSW5kZXgsIDApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGlzU3RyaW5nKGNvbGxlY3Rpb24pXG4gICAgICAgID8gKGZyb21JbmRleCA8PSBsZW5ndGggJiYgY29sbGVjdGlvbi5pbmRleE9mKHZhbHVlLCBmcm9tSW5kZXgpID4gLTEpXG4gICAgICAgIDogKCEhbGVuZ3RoICYmIGJhc2VJbmRleE9mKGNvbGxlY3Rpb24sIHZhbHVlLCBmcm9tSW5kZXgpID4gLTEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEludm9rZXMgdGhlIG1ldGhvZCBhdCBgcGF0aGAgb2YgZWFjaCBlbGVtZW50IGluIGBjb2xsZWN0aW9uYCwgcmV0dXJuaW5nXG4gICAgICogYW4gYXJyYXkgb2YgdGhlIHJlc3VsdHMgb2YgZWFjaCBpbnZva2VkIG1ldGhvZC4gQW55IGFkZGl0aW9uYWwgYXJndW1lbnRzXG4gICAgICogYXJlIHByb3ZpZGVkIHRvIGVhY2ggaW52b2tlZCBtZXRob2QuIElmIGBwYXRoYCBpcyBhIGZ1bmN0aW9uLCBpdCdzIGludm9rZWRcbiAgICAgKiBmb3IsIGFuZCBgdGhpc2AgYm91bmQgdG8sIGVhY2ggZWxlbWVudCBpbiBgY29sbGVjdGlvbmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0FycmF5fEZ1bmN0aW9ufHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgbWV0aG9kIHRvIGludm9rZSBvclxuICAgICAqICB0aGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ3NdIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIGVhY2ggbWV0aG9kIHdpdGguXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiByZXN1bHRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmludm9rZU1hcChbWzUsIDEsIDddLCBbMywgMiwgMV1dLCAnc29ydCcpO1xuICAgICAqIC8vID0+IFtbMSwgNSwgN10sIFsxLCAyLCAzXV1cbiAgICAgKlxuICAgICAqIF8uaW52b2tlTWFwKFsxMjMsIDQ1Nl0sIFN0cmluZy5wcm90b3R5cGUuc3BsaXQsICcnKTtcbiAgICAgKiAvLyA9PiBbWycxJywgJzInLCAnMyddLCBbJzQnLCAnNScsICc2J11dXG4gICAgICovXG4gICAgdmFyIGludm9rZU1hcCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGNvbGxlY3Rpb24sIHBhdGgsIGFyZ3MpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGlzRnVuYyA9IHR5cGVvZiBwYXRoID09ICdmdW5jdGlvbicsXG4gICAgICAgICAgcmVzdWx0ID0gaXNBcnJheUxpa2UoY29sbGVjdGlvbikgPyBBcnJheShjb2xsZWN0aW9uLmxlbmd0aCkgOiBbXTtcblxuICAgICAgYmFzZUVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmVzdWx0WysraW5kZXhdID0gaXNGdW5jID8gYXBwbHkocGF0aCwgdmFsdWUsIGFyZ3MpIDogYmFzZUludm9rZSh2YWx1ZSwgcGF0aCwgYXJncyk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZiBrZXlzIGdlbmVyYXRlZCBmcm9tIHRoZSByZXN1bHRzIG9mIHJ1bm5pbmdcbiAgICAgKiBlYWNoIGVsZW1lbnQgb2YgYGNvbGxlY3Rpb25gIHRocnUgYGl0ZXJhdGVlYC4gVGhlIGNvcnJlc3BvbmRpbmcgdmFsdWUgb2ZcbiAgICAgKiBlYWNoIGtleSBpcyB0aGUgbGFzdCBlbGVtZW50IHJlc3BvbnNpYmxlIGZvciBnZW5lcmF0aW5nIHRoZSBrZXkuIFRoZVxuICAgICAqIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIHRvIHRyYW5zZm9ybSBrZXlzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNvbXBvc2VkIGFnZ3JlZ2F0ZSBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFtcbiAgICAgKiAgIHsgJ2Rpcic6ICdsZWZ0JywgJ2NvZGUnOiA5NyB9LFxuICAgICAqICAgeyAnZGlyJzogJ3JpZ2h0JywgJ2NvZGUnOiAxMDAgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmtleUJ5KGFycmF5LCBmdW5jdGlvbihvKSB7XG4gICAgICogICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShvLmNvZGUpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiB7ICdkaXInOiAnbGVmdCcsICdjb2RlJzogOTcgfSwgJ2QnOiB7ICdkaXInOiAncmlnaHQnLCAnY29kZSc6IDEwMCB9IH1cbiAgICAgKlxuICAgICAqIF8ua2V5QnkoYXJyYXksICdkaXInKTtcbiAgICAgKiAvLyA9PiB7ICdsZWZ0JzogeyAnZGlyJzogJ2xlZnQnLCAnY29kZSc6IDk3IH0sICdyaWdodCc6IHsgJ2Rpcic6ICdyaWdodCcsICdjb2RlJzogMTAwIH0gfVxuICAgICAqL1xuICAgIHZhciBrZXlCeSA9IGNyZWF0ZUFnZ3JlZ2F0b3IoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICBiYXNlQXNzaWduVmFsdWUocmVzdWx0LCBrZXksIHZhbHVlKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdmFsdWVzIGJ5IHJ1bm5pbmcgZWFjaCBlbGVtZW50IGluIGBjb2xsZWN0aW9uYCB0aHJ1XG4gICAgICogYGl0ZXJhdGVlYC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6XG4gICAgICogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogTWFueSBsb2Rhc2ggbWV0aG9kcyBhcmUgZ3VhcmRlZCB0byB3b3JrIGFzIGl0ZXJhdGVlcyBmb3IgbWV0aG9kcyBsaWtlXG4gICAgICogYF8uZXZlcnlgLCBgXy5maWx0ZXJgLCBgXy5tYXBgLCBgXy5tYXBWYWx1ZXNgLCBgXy5yZWplY3RgLCBhbmQgYF8uc29tZWAuXG4gICAgICpcbiAgICAgKiBUaGUgZ3VhcmRlZCBtZXRob2RzIGFyZTpcbiAgICAgKiBgYXJ5YCwgYGNodW5rYCwgYGN1cnJ5YCwgYGN1cnJ5UmlnaHRgLCBgZHJvcGAsIGBkcm9wUmlnaHRgLCBgZXZlcnlgLFxuICAgICAqIGBmaWxsYCwgYGludmVydGAsIGBwYXJzZUludGAsIGByYW5kb21gLCBgcmFuZ2VgLCBgcmFuZ2VSaWdodGAsIGByZXBlYXRgLFxuICAgICAqIGBzYW1wbGVTaXplYCwgYHNsaWNlYCwgYHNvbWVgLCBgc29ydEJ5YCwgYHNwbGl0YCwgYHRha2VgLCBgdGFrZVJpZ2h0YCxcbiAgICAgKiBgdGVtcGxhdGVgLCBgdHJpbWAsIGB0cmltRW5kYCwgYHRyaW1TdGFydGAsIGFuZCBgd29yZHNgXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBtYXBwZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIHNxdWFyZShuKSB7XG4gICAgICogICByZXR1cm4gbiAqIG47XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5tYXAoWzQsIDhdLCBzcXVhcmUpO1xuICAgICAqIC8vID0+IFsxNiwgNjRdXG4gICAgICpcbiAgICAgKiBfLm1hcCh7ICdhJzogNCwgJ2InOiA4IH0sIHNxdWFyZSk7XG4gICAgICogLy8gPT4gWzE2LCA2NF0gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JyB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJyB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ubWFwKHVzZXJzLCAndXNlcicpO1xuICAgICAqIC8vID0+IFsnYmFybmV5JywgJ2ZyZWQnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcChjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlNYXAgOiBiYXNlTWFwO1xuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnNvcnRCeWAgZXhjZXB0IHRoYXQgaXQgYWxsb3dzIHNwZWNpZnlpbmcgdGhlIHNvcnRcbiAgICAgKiBvcmRlcnMgb2YgdGhlIGl0ZXJhdGVlcyB0byBzb3J0IGJ5LiBJZiBgb3JkZXJzYCBpcyB1bnNwZWNpZmllZCwgYWxsIHZhbHVlc1xuICAgICAqIGFyZSBzb3J0ZWQgaW4gYXNjZW5kaW5nIG9yZGVyLiBPdGhlcndpc2UsIHNwZWNpZnkgYW4gb3JkZXIgb2YgXCJkZXNjXCIgZm9yXG4gICAgICogZGVzY2VuZGluZyBvciBcImFzY1wiIGZvciBhc2NlbmRpbmcgc29ydCBvcmRlciBvZiBjb3JyZXNwb25kaW5nIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7QXJyYXlbXXxGdW5jdGlvbltdfE9iamVjdFtdfHN0cmluZ1tdfSBbaXRlcmF0ZWVzPVtfLmlkZW50aXR5XV1cbiAgICAgKiAgVGhlIGl0ZXJhdGVlcyB0byBzb3J0IGJ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IFtvcmRlcnNdIFRoZSBzb3J0IG9yZGVycyBvZiBgaXRlcmF0ZWVzYC5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5yZWR1Y2VgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IHNvcnRlZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDggfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM0IH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCB9LFxuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzYgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyBTb3J0IGJ5IGB1c2VyYCBpbiBhc2NlbmRpbmcgb3JkZXIgYW5kIGJ5IGBhZ2VgIGluIGRlc2NlbmRpbmcgb3JkZXIuXG4gICAgICogXy5vcmRlckJ5KHVzZXJzLCBbJ3VzZXInLCAnYWdlJ10sIFsnYXNjJywgJ2Rlc2MnXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgW1snYmFybmV5JywgMzZdLCBbJ2Jhcm5leScsIDM0XSwgWydmcmVkJywgNDhdLCBbJ2ZyZWQnLCA0MF1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gb3JkZXJCeShjb2xsZWN0aW9uLCBpdGVyYXRlZXMsIG9yZGVycywgZ3VhcmQpIHtcbiAgICAgIGlmIChjb2xsZWN0aW9uID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgaWYgKCFpc0FycmF5KGl0ZXJhdGVlcykpIHtcbiAgICAgICAgaXRlcmF0ZWVzID0gaXRlcmF0ZWVzID09IG51bGwgPyBbXSA6IFtpdGVyYXRlZXNdO1xuICAgICAgfVxuICAgICAgb3JkZXJzID0gZ3VhcmQgPyB1bmRlZmluZWQgOiBvcmRlcnM7XG4gICAgICBpZiAoIWlzQXJyYXkob3JkZXJzKSkge1xuICAgICAgICBvcmRlcnMgPSBvcmRlcnMgPT0gbnVsbCA/IFtdIDogW29yZGVyc107XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZU9yZGVyQnkoY29sbGVjdGlvbiwgaXRlcmF0ZWVzLCBvcmRlcnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgZWxlbWVudHMgc3BsaXQgaW50byB0d28gZ3JvdXBzLCB0aGUgZmlyc3Qgb2Ygd2hpY2hcbiAgICAgKiBjb250YWlucyBlbGVtZW50cyBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3IsIHRoZSBzZWNvbmQgb2Ygd2hpY2hcbiAgICAgKiBjb250YWlucyBlbGVtZW50cyBgcHJlZGljYXRlYCByZXR1cm5zIGZhbHNleSBmb3IuIFRoZSBwcmVkaWNhdGUgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgZ3JvdXBlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FnZSc6IDM2LCAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhZ2UnOiAxLCAgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5wYXJ0aXRpb24odXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8uYWN0aXZlOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbWydmcmVkJ10sIFsnYmFybmV5JywgJ3BlYmJsZXMnXV1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5wYXJ0aXRpb24odXNlcnMsIHsgJ2FnZSc6IDEsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbWydwZWJibGVzJ10sIFsnYmFybmV5JywgJ2ZyZWQnXV1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnBhcnRpdGlvbih1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ2Jhcm5leScsICdwZWJibGVzJ10sIFsnZnJlZCddXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5wYXJ0aXRpb24odXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbWydmcmVkJ10sIFsnYmFybmV5JywgJ3BlYmJsZXMnXV1cbiAgICAgKi9cbiAgICB2YXIgcGFydGl0aW9uID0gY3JlYXRlQWdncmVnYXRvcihmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgIHJlc3VsdFtrZXkgPyAwIDogMV0ucHVzaCh2YWx1ZSk7XG4gICAgfSwgZnVuY3Rpb24oKSB7IHJldHVybiBbW10sIFtdXTsgfSk7XG5cbiAgICAvKipcbiAgICAgKiBSZWR1Y2VzIGBjb2xsZWN0aW9uYCB0byBhIHZhbHVlIHdoaWNoIGlzIHRoZSBhY2N1bXVsYXRlZCByZXN1bHQgb2YgcnVubmluZ1xuICAgICAqIGVhY2ggZWxlbWVudCBpbiBgY29sbGVjdGlvbmAgdGhydSBgaXRlcmF0ZWVgLCB3aGVyZSBlYWNoIHN1Y2Nlc3NpdmVcbiAgICAgKiBpbnZvY2F0aW9uIGlzIHN1cHBsaWVkIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIHByZXZpb3VzLiBJZiBgYWNjdW11bGF0b3JgXG4gICAgICogaXMgbm90IGdpdmVuLCB0aGUgZmlyc3QgZWxlbWVudCBvZiBgY29sbGVjdGlvbmAgaXMgdXNlZCBhcyB0aGUgaW5pdGlhbFxuICAgICAqIHZhbHVlLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIGZvdXIgYXJndW1lbnRzOlxuICAgICAqIChhY2N1bXVsYXRvciwgdmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiBNYW55IGxvZGFzaCBtZXRob2RzIGFyZSBndWFyZGVkIHRvIHdvcmsgYXMgaXRlcmF0ZWVzIGZvciBtZXRob2RzIGxpa2VcbiAgICAgKiBgXy5yZWR1Y2VgLCBgXy5yZWR1Y2VSaWdodGAsIGFuZCBgXy50cmFuc2Zvcm1gLlxuICAgICAqXG4gICAgICogVGhlIGd1YXJkZWQgbWV0aG9kcyBhcmU6XG4gICAgICogYGFzc2lnbmAsIGBkZWZhdWx0c2AsIGBkZWZhdWx0c0RlZXBgLCBgaW5jbHVkZXNgLCBgbWVyZ2VgLCBgb3JkZXJCeWAsXG4gICAgICogYW5kIGBzb3J0QnlgXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0geyp9IFthY2N1bXVsYXRvcl0gVGhlIGluaXRpYWwgdmFsdWUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGFjY3VtdWxhdGVkIHZhbHVlLlxuICAgICAqIEBzZWUgXy5yZWR1Y2VSaWdodFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJlZHVjZShbMSwgMl0sIGZ1bmN0aW9uKHN1bSwgbikge1xuICAgICAqICAgcmV0dXJuIHN1bSArIG47XG4gICAgICogfSwgMCk7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy5yZWR1Y2UoeyAnYSc6IDEsICdiJzogMiwgJ2MnOiAxIH0sIGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAqICAgKHJlc3VsdFt2YWx1ZV0gfHwgKHJlc3VsdFt2YWx1ZV0gPSBbXSkpLnB1c2goa2V5KTtcbiAgICAgKiAgIHJldHVybiByZXN1bHQ7XG4gICAgICogfSwge30pO1xuICAgICAqIC8vID0+IHsgJzEnOiBbJ2EnLCAnYyddLCAnMic6IFsnYiddIH0gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZWR1Y2UoY29sbGVjdGlvbiwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheVJlZHVjZSA6IGJhc2VSZWR1Y2UsXG4gICAgICAgICAgaW5pdEFjY3VtID0gYXJndW1lbnRzLmxlbmd0aCA8IDM7XG5cbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCA0KSwgYWNjdW11bGF0b3IsIGluaXRBY2N1bSwgYmFzZUVhY2gpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ucmVkdWNlYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mXG4gICAgICogYGNvbGxlY3Rpb25gIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Kn0gW2FjY3VtdWxhdG9yXSBUaGUgaW5pdGlhbCB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG4gICAgICogQHNlZSBfLnJlZHVjZVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbWzAsIDFdLCBbMiwgM10sIFs0LCA1XV07XG4gICAgICpcbiAgICAgKiBfLnJlZHVjZVJpZ2h0KGFycmF5LCBmdW5jdGlvbihmbGF0dGVuZWQsIG90aGVyKSB7XG4gICAgICogICByZXR1cm4gZmxhdHRlbmVkLmNvbmNhdChvdGhlcik7XG4gICAgICogfSwgW10pO1xuICAgICAqIC8vID0+IFs0LCA1LCAyLCAzLCAwLCAxXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlZHVjZVJpZ2h0KGNvbGxlY3Rpb24sIGl0ZXJhdGVlLCBhY2N1bXVsYXRvcikge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlSZWR1Y2VSaWdodCA6IGJhc2VSZWR1Y2UsXG4gICAgICAgICAgaW5pdEFjY3VtID0gYXJndW1lbnRzLmxlbmd0aCA8IDM7XG5cbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCA0KSwgYWNjdW11bGF0b3IsIGluaXRBY2N1bSwgYmFzZUVhY2hSaWdodCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIG9wcG9zaXRlIG9mIGBfLmZpbHRlcmA7IHRoaXMgbWV0aG9kIHJldHVybnMgdGhlIGVsZW1lbnRzIG9mIGBjb2xsZWN0aW9uYFxuICAgICAqIHRoYXQgYHByZWRpY2F0ZWAgZG9lcyAqKm5vdCoqIHJldHVybiB0cnV0aHkgZm9yLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZpbHRlcmVkIGFycmF5LlxuICAgICAqIEBzZWUgXy5maWx0ZXJcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzYsICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDAsICdhY3RpdmUnOiB0cnVlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5yZWplY3QodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuICFvLmFjdGl2ZTsgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5yZWplY3QodXNlcnMsIHsgJ2FnZSc6IDQwLCAnYWN0aXZlJzogdHJ1ZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leSddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5yZWplY3QodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5yZWplY3QodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leSddXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVqZWN0KGNvbGxlY3Rpb24sIHByZWRpY2F0ZSkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlGaWx0ZXIgOiBiYXNlRmlsdGVyO1xuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgbmVnYXRlKGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMykpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGEgcmFuZG9tIGVsZW1lbnQgZnJvbSBgY29sbGVjdGlvbmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIHNhbXBsZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmFuZG9tIGVsZW1lbnQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc2FtcGxlKFsxLCAyLCAzLCA0XSk7XG4gICAgICogLy8gPT4gMlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNhbXBsZShjb2xsZWN0aW9uKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheVNhbXBsZSA6IGJhc2VTYW1wbGU7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGBuYCByYW5kb20gZWxlbWVudHMgYXQgdW5pcXVlIGtleXMgZnJvbSBgY29sbGVjdGlvbmAgdXAgdG8gdGhlXG4gICAgICogc2l6ZSBvZiBgY29sbGVjdGlvbmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIHNhbXBsZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249MV0gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byBzYW1wbGUuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHJhbmRvbSBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zYW1wbGVTaXplKFsxLCAyLCAzXSwgMik7XG4gICAgICogLy8gPT4gWzMsIDFdXG4gICAgICpcbiAgICAgKiBfLnNhbXBsZVNpemUoWzEsIDIsIDNdLCA0KTtcbiAgICAgKiAvLyA9PiBbMiwgMywgMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzYW1wbGVTaXplKGNvbGxlY3Rpb24sIG4sIGd1YXJkKSB7XG4gICAgICBpZiAoKGd1YXJkID8gaXNJdGVyYXRlZUNhbGwoY29sbGVjdGlvbiwgbiwgZ3VhcmQpIDogbiA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICBuID0gMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG4gPSB0b0ludGVnZXIobik7XG4gICAgICB9XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheVNhbXBsZVNpemUgOiBiYXNlU2FtcGxlU2l6ZTtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIG4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2Ygc2h1ZmZsZWQgdmFsdWVzLCB1c2luZyBhIHZlcnNpb24gb2YgdGhlXG4gICAgICogW0Zpc2hlci1ZYXRlcyBzaHVmZmxlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9GaXNoZXItWWF0ZXNfc2h1ZmZsZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIHNodWZmbGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgc2h1ZmZsZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc2h1ZmZsZShbMSwgMiwgMywgNF0pO1xuICAgICAqIC8vID0+IFs0LCAxLCAzLCAyXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNodWZmbGUoY29sbGVjdGlvbikge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlTaHVmZmxlIDogYmFzZVNodWZmbGU7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBzaXplIG9mIGBjb2xsZWN0aW9uYCBieSByZXR1cm5pbmcgaXRzIGxlbmd0aCBmb3IgYXJyYXktbGlrZVxuICAgICAqIHZhbHVlcyBvciB0aGUgbnVtYmVyIG9mIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIGZvciBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjb2xsZWN0aW9uIHNpemUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc2l6ZShbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIF8uc2l6ZSh7ICdhJzogMSwgJ2InOiAyIH0pO1xuICAgICAqIC8vID0+IDJcbiAgICAgKlxuICAgICAqIF8uc2l6ZSgncGViYmxlcycpO1xuICAgICAqIC8vID0+IDdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzaXplKGNvbGxlY3Rpb24pIHtcbiAgICAgIGlmIChjb2xsZWN0aW9uID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9XG4gICAgICBpZiAoaXNBcnJheUxpa2UoY29sbGVjdGlvbikpIHtcbiAgICAgICAgcmV0dXJuIGlzU3RyaW5nKGNvbGxlY3Rpb24pID8gc3RyaW5nU2l6ZShjb2xsZWN0aW9uKSA6IGNvbGxlY3Rpb24ubGVuZ3RoO1xuICAgICAgfVxuICAgICAgdmFyIHRhZyA9IGdldFRhZyhjb2xsZWN0aW9uKTtcbiAgICAgIGlmICh0YWcgPT0gbWFwVGFnIHx8IHRhZyA9PSBzZXRUYWcpIHtcbiAgICAgICAgcmV0dXJuIGNvbGxlY3Rpb24uc2l6ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlS2V5cyhjb2xsZWN0aW9uKS5sZW5ndGg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvciAqKmFueSoqIGVsZW1lbnQgb2YgYGNvbGxlY3Rpb25gLlxuICAgICAqIEl0ZXJhdGlvbiBpcyBzdG9wcGVkIG9uY2UgYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkuIFRoZSBwcmVkaWNhdGUgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW55IGVsZW1lbnQgcGFzc2VzIHRoZSBwcmVkaWNhdGUgY2hlY2ssXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zb21lKFtudWxsLCAwLCAneWVzJywgZmFsc2VdLCBCb29sZWFuKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhY3RpdmUnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5zb21lKHVzZXJzLCB7ICd1c2VyJzogJ2Jhcm5leScsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uc29tZSh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uc29tZSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb21lKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSwgZ3VhcmQpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5U29tZSA6IGJhc2VTb21lO1xuICAgICAgaWYgKGd1YXJkICYmIGlzSXRlcmF0ZWVDYWxsKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSwgZ3VhcmQpKSB7XG4gICAgICAgIHByZWRpY2F0ZSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgZWxlbWVudHMsIHNvcnRlZCBpbiBhc2NlbmRpbmcgb3JkZXIgYnkgdGhlIHJlc3VsdHMgb2ZcbiAgICAgKiBydW5uaW5nIGVhY2ggZWxlbWVudCBpbiBhIGNvbGxlY3Rpb24gdGhydSBlYWNoIGl0ZXJhdGVlLiBUaGlzIG1ldGhvZFxuICAgICAqIHBlcmZvcm1zIGEgc3RhYmxlIHNvcnQsIHRoYXQgaXMsIGl0IHByZXNlcnZlcyB0aGUgb3JpZ2luYWwgc29ydCBvcmRlciBvZlxuICAgICAqIGVxdWFsIGVsZW1lbnRzLiBUaGUgaXRlcmF0ZWVzIGFyZSBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHsuLi4oRnVuY3Rpb258RnVuY3Rpb25bXSl9IFtpdGVyYXRlZXM9W18uaWRlbnRpdHldXVxuICAgICAqICBUaGUgaXRlcmF0ZWVzIHRvIHNvcnQgYnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgc29ydGVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0OCB9LFxuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzYgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQwIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNCB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uc29ydEJ5KHVzZXJzLCBbZnVuY3Rpb24obykgeyByZXR1cm4gby51c2VyOyB9XSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgW1snYmFybmV5JywgMzZdLCBbJ2Jhcm5leScsIDM0XSwgWydmcmVkJywgNDhdLCBbJ2ZyZWQnLCA0MF1dXG4gICAgICpcbiAgICAgKiBfLnNvcnRCeSh1c2VycywgWyd1c2VyJywgJ2FnZSddKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbWydiYXJuZXknLCAzNF0sIFsnYmFybmV5JywgMzZdLCBbJ2ZyZWQnLCA0MF0sIFsnZnJlZCcsIDQ4XV1cbiAgICAgKi9cbiAgICB2YXIgc29ydEJ5ID0gYmFzZVJlc3QoZnVuY3Rpb24oY29sbGVjdGlvbiwgaXRlcmF0ZWVzKSB7XG4gICAgICBpZiAoY29sbGVjdGlvbiA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHZhciBsZW5ndGggPSBpdGVyYXRlZXMubGVuZ3RoO1xuICAgICAgaWYgKGxlbmd0aCA+IDEgJiYgaXNJdGVyYXRlZUNhbGwoY29sbGVjdGlvbiwgaXRlcmF0ZWVzWzBdLCBpdGVyYXRlZXNbMV0pKSB7XG4gICAgICAgIGl0ZXJhdGVlcyA9IFtdO1xuICAgICAgfSBlbHNlIGlmIChsZW5ndGggPiAyICYmIGlzSXRlcmF0ZWVDYWxsKGl0ZXJhdGVlc1swXSwgaXRlcmF0ZWVzWzFdLCBpdGVyYXRlZXNbMl0pKSB7XG4gICAgICAgIGl0ZXJhdGVlcyA9IFtpdGVyYXRlZXNbMF1dO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VPcmRlckJ5KGNvbGxlY3Rpb24sIGJhc2VGbGF0dGVuKGl0ZXJhdGVlcywgMSksIFtdKTtcbiAgICB9KTtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHRpbWVzdGFtcCBvZiB0aGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0aGF0IGhhdmUgZWxhcHNlZCBzaW5jZVxuICAgICAqIHRoZSBVbml4IGVwb2NoICgxIEphbnVhcnkgMTk3MCAwMDowMDowMCBVVEMpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuNC4wXG4gICAgICogQGNhdGVnb3J5IERhdGVcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSB0aW1lc3RhbXAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGVmZXIoZnVuY3Rpb24oc3RhbXApIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKF8ubm93KCkgLSBzdGFtcCk7XG4gICAgICogfSwgXy5ub3coKSk7XG4gICAgICogLy8gPT4gTG9ncyB0aGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBpdCB0b29rIGZvciB0aGUgZGVmZXJyZWQgaW52b2NhdGlvbi5cbiAgICAgKi9cbiAgICB2YXIgbm93ID0gY3R4Tm93IHx8IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHJvb3QuRGF0ZS5ub3coKTtcbiAgICB9O1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogVGhlIG9wcG9zaXRlIG9mIGBfLmJlZm9yZWA7IHRoaXMgbWV0aG9kIGNyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXNcbiAgICAgKiBgZnVuY2Agb25jZSBpdCdzIGNhbGxlZCBgbmAgb3IgbW9yZSB0aW1lcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgY2FsbHMgYmVmb3JlIGBmdW5jYCBpcyBpbnZva2VkLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHJlc3RyaWN0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHJlc3RyaWN0ZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBzYXZlcyA9IFsncHJvZmlsZScsICdzZXR0aW5ncyddO1xuICAgICAqXG4gICAgICogdmFyIGRvbmUgPSBfLmFmdGVyKHNhdmVzLmxlbmd0aCwgZnVuY3Rpb24oKSB7XG4gICAgICogICBjb25zb2xlLmxvZygnZG9uZSBzYXZpbmchJyk7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBfLmZvckVhY2goc2F2ZXMsIGZ1bmN0aW9uKHR5cGUpIHtcbiAgICAgKiAgIGFzeW5jU2F2ZSh7ICd0eXBlJzogdHlwZSwgJ2NvbXBsZXRlJzogZG9uZSB9KTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBMb2dzICdkb25lIHNhdmluZyEnIGFmdGVyIHRoZSB0d28gYXN5bmMgc2F2ZXMgaGF2ZSBjb21wbGV0ZWQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYWZ0ZXIobiwgZnVuYykge1xuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgbiA9IHRvSW50ZWdlcihuKTtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKC0tbiA8IDEpIHtcbiAgICAgICAgICByZXR1cm4gZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgLCB3aXRoIHVwIHRvIGBuYCBhcmd1bWVudHMsXG4gICAgICogaWdub3JpbmcgYW55IGFkZGl0aW9uYWwgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2FwIGFyZ3VtZW50cyBmb3IuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPWZ1bmMubGVuZ3RoXSBUaGUgYXJpdHkgY2FwLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY2FwcGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLm1hcChbJzYnLCAnOCcsICcxMCddLCBfLmFyeShwYXJzZUludCwgMSkpO1xuICAgICAqIC8vID0+IFs2LCA4LCAxMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhcnkoZnVuYywgbiwgZ3VhcmQpIHtcbiAgICAgIG4gPSBndWFyZCA/IHVuZGVmaW5lZCA6IG47XG4gICAgICBuID0gKGZ1bmMgJiYgbiA9PSBudWxsKSA/IGZ1bmMubGVuZ3RoIDogbjtcbiAgICAgIHJldHVybiBjcmVhdGVXcmFwKGZ1bmMsIFdSQVBfQVJZX0ZMQUcsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2AsIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIGFuZCBhcmd1bWVudHNcbiAgICAgKiBvZiB0aGUgY3JlYXRlZCBmdW5jdGlvbiwgd2hpbGUgaXQncyBjYWxsZWQgbGVzcyB0aGFuIGBuYCB0aW1lcy4gU3Vic2VxdWVudFxuICAgICAqIGNhbGxzIHRvIHRoZSBjcmVhdGVkIGZ1bmN0aW9uIHJldHVybiB0aGUgcmVzdWx0IG9mIHRoZSBsYXN0IGBmdW5jYCBpbnZvY2F0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiBjYWxscyBhdCB3aGljaCBgZnVuY2AgaXMgbm8gbG9uZ2VyIGludm9rZWQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcmVzdHJpY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcmVzdHJpY3RlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogalF1ZXJ5KGVsZW1lbnQpLm9uKCdjbGljaycsIF8uYmVmb3JlKDUsIGFkZENvbnRhY3RUb0xpc3QpKTtcbiAgICAgKiAvLyA9PiBBbGxvd3MgYWRkaW5nIHVwIHRvIDQgY29udGFjdHMgdG8gdGhlIGxpc3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmVmb3JlKG4sIGZ1bmMpIHtcbiAgICAgIHZhciByZXN1bHQ7XG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICBuID0gdG9JbnRlZ2VyKG4pO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoLS1uID4gMCkge1xuICAgICAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobiA8PSAxKSB7XG4gICAgICAgICAgZnVuYyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiBgdGhpc0FyZ2BcbiAgICAgKiBhbmQgYHBhcnRpYWxzYCBwcmVwZW5kZWQgdG8gdGhlIGFyZ3VtZW50cyBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIFRoZSBgXy5iaW5kLnBsYWNlaG9sZGVyYCB2YWx1ZSwgd2hpY2ggZGVmYXVsdHMgdG8gYF9gIGluIG1vbm9saXRoaWMgYnVpbGRzLFxuICAgICAqIG1heSBiZSB1c2VkIGFzIGEgcGxhY2Vob2xkZXIgZm9yIHBhcnRpYWxseSBhcHBsaWVkIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgbmF0aXZlIGBGdW5jdGlvbiNiaW5kYCwgdGhpcyBtZXRob2QgZG9lc24ndCBzZXQgdGhlIFwibGVuZ3RoXCJcbiAgICAgKiBwcm9wZXJ0eSBvZiBib3VuZCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBiaW5kLlxuICAgICAqIEBwYXJhbSB7Kn0gdGhpc0FyZyBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW3BhcnRpYWxzXSBUaGUgYXJndW1lbnRzIHRvIGJlIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGJvdW5kIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBncmVldChncmVldGluZywgcHVuY3R1YXRpb24pIHtcbiAgICAgKiAgIHJldHVybiBncmVldGluZyArICcgJyArIHRoaXMudXNlciArIHB1bmN0dWF0aW9uO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICd1c2VyJzogJ2ZyZWQnIH07XG4gICAgICpcbiAgICAgKiB2YXIgYm91bmQgPSBfLmJpbmQoZ3JlZXQsIG9iamVjdCwgJ2hpJyk7XG4gICAgICogYm91bmQoJyEnKTtcbiAgICAgKiAvLyA9PiAnaGkgZnJlZCEnXG4gICAgICpcbiAgICAgKiAvLyBCb3VuZCB3aXRoIHBsYWNlaG9sZGVycy5cbiAgICAgKiB2YXIgYm91bmQgPSBfLmJpbmQoZ3JlZXQsIG9iamVjdCwgXywgJyEnKTtcbiAgICAgKiBib3VuZCgnaGknKTtcbiAgICAgKiAvLyA9PiAnaGkgZnJlZCEnXG4gICAgICovXG4gICAgdmFyIGJpbmQgPSBiYXNlUmVzdChmdW5jdGlvbihmdW5jLCB0aGlzQXJnLCBwYXJ0aWFscykge1xuICAgICAgdmFyIGJpdG1hc2sgPSBXUkFQX0JJTkRfRkxBRztcbiAgICAgIGlmIChwYXJ0aWFscy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGhvbGRlcnMgPSByZXBsYWNlSG9sZGVycyhwYXJ0aWFscywgZ2V0SG9sZGVyKGJpbmQpKTtcbiAgICAgICAgYml0bWFzayB8PSBXUkFQX1BBUlRJQUxfRkxBRztcbiAgICAgIH1cbiAgICAgIHJldHVybiBjcmVhdGVXcmFwKGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIHBhcnRpYWxzLCBob2xkZXJzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgdGhlIG1ldGhvZCBhdCBgb2JqZWN0W2tleV1gIHdpdGggYHBhcnRpYWxzYFxuICAgICAqIHByZXBlbmRlZCB0byB0aGUgYXJndW1lbnRzIGl0IHJlY2VpdmVzLlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2QgZGlmZmVycyBmcm9tIGBfLmJpbmRgIGJ5IGFsbG93aW5nIGJvdW5kIGZ1bmN0aW9ucyB0byByZWZlcmVuY2VcbiAgICAgKiBtZXRob2RzIHRoYXQgbWF5IGJlIHJlZGVmaW5lZCBvciBkb24ndCB5ZXQgZXhpc3QuIFNlZVxuICAgICAqIFtQZXRlciBNaWNoYXV4J3MgYXJ0aWNsZV0oaHR0cDovL3BldGVyLm1pY2hhdXguY2EvYXJ0aWNsZXMvbGF6eS1mdW5jdGlvbi1kZWZpbml0aW9uLXBhdHRlcm4pXG4gICAgICogZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKlxuICAgICAqIFRoZSBgXy5iaW5kS2V5LnBsYWNlaG9sZGVyYCB2YWx1ZSwgd2hpY2ggZGVmYXVsdHMgdG8gYF9gIGluIG1vbm9saXRoaWNcbiAgICAgKiBidWlsZHMsIG1heSBiZSB1c2VkIGFzIGEgcGxhY2Vob2xkZXIgZm9yIHBhcnRpYWxseSBhcHBsaWVkIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEwLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW52b2tlIHRoZSBtZXRob2Qgb24uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBtZXRob2QuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gYmUgcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYm91bmQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7XG4gICAgICogICAndXNlcic6ICdmcmVkJyxcbiAgICAgKiAgICdncmVldCc6IGZ1bmN0aW9uKGdyZWV0aW5nLCBwdW5jdHVhdGlvbikge1xuICAgICAqICAgICByZXR1cm4gZ3JlZXRpbmcgKyAnICcgKyB0aGlzLnVzZXIgKyBwdW5jdHVhdGlvbjtcbiAgICAgKiAgIH1cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogdmFyIGJvdW5kID0gXy5iaW5kS2V5KG9iamVjdCwgJ2dyZWV0JywgJ2hpJyk7XG4gICAgICogYm91bmQoJyEnKTtcbiAgICAgKiAvLyA9PiAnaGkgZnJlZCEnXG4gICAgICpcbiAgICAgKiBvYmplY3QuZ3JlZXQgPSBmdW5jdGlvbihncmVldGluZywgcHVuY3R1YXRpb24pIHtcbiAgICAgKiAgIHJldHVybiBncmVldGluZyArICd5YSAnICsgdGhpcy51c2VyICsgcHVuY3R1YXRpb247XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIGJvdW5kKCchJyk7XG4gICAgICogLy8gPT4gJ2hpeWEgZnJlZCEnXG4gICAgICpcbiAgICAgKiAvLyBCb3VuZCB3aXRoIHBsYWNlaG9sZGVycy5cbiAgICAgKiB2YXIgYm91bmQgPSBfLmJpbmRLZXkob2JqZWN0LCAnZ3JlZXQnLCBfLCAnIScpO1xuICAgICAqIGJvdW5kKCdoaScpO1xuICAgICAqIC8vID0+ICdoaXlhIGZyZWQhJ1xuICAgICAqL1xuICAgIHZhciBiaW5kS2V5ID0gYmFzZVJlc3QoZnVuY3Rpb24ob2JqZWN0LCBrZXksIHBhcnRpYWxzKSB7XG4gICAgICB2YXIgYml0bWFzayA9IFdSQVBfQklORF9GTEFHIHwgV1JBUF9CSU5EX0tFWV9GTEFHO1xuICAgICAgaWYgKHBhcnRpYWxzLmxlbmd0aCkge1xuICAgICAgICB2YXIgaG9sZGVycyA9IHJlcGxhY2VIb2xkZXJzKHBhcnRpYWxzLCBnZXRIb2xkZXIoYmluZEtleSkpO1xuICAgICAgICBiaXRtYXNrIHw9IFdSQVBfUEFSVElBTF9GTEFHO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoa2V5LCBiaXRtYXNrLCBvYmplY3QsIHBhcnRpYWxzLCBob2xkZXJzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGFjY2VwdHMgYXJndW1lbnRzIG9mIGBmdW5jYCBhbmQgZWl0aGVyIGludm9rZXNcbiAgICAgKiBgZnVuY2AgcmV0dXJuaW5nIGl0cyByZXN1bHQsIGlmIGF0IGxlYXN0IGBhcml0eWAgbnVtYmVyIG9mIGFyZ3VtZW50cyBoYXZlXG4gICAgICogYmVlbiBwcm92aWRlZCwgb3IgcmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgYWNjZXB0cyB0aGUgcmVtYWluaW5nIGBmdW5jYFxuICAgICAqIGFyZ3VtZW50cywgYW5kIHNvIG9uLiBUaGUgYXJpdHkgb2YgYGZ1bmNgIG1heSBiZSBzcGVjaWZpZWQgaWYgYGZ1bmMubGVuZ3RoYFxuICAgICAqIGlzIG5vdCBzdWZmaWNpZW50LlxuICAgICAqXG4gICAgICogVGhlIGBfLmN1cnJ5LnBsYWNlaG9sZGVyYCB2YWx1ZSwgd2hpY2ggZGVmYXVsdHMgdG8gYF9gIGluIG1vbm9saXRoaWMgYnVpbGRzLFxuICAgICAqIG1heSBiZSB1c2VkIGFzIGEgcGxhY2Vob2xkZXIgZm9yIHByb3ZpZGVkIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBkb2Vzbid0IHNldCB0aGUgXCJsZW5ndGhcIiBwcm9wZXJ0eSBvZiBjdXJyaWVkIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGN1cnJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJpdHk9ZnVuYy5sZW5ndGhdIFRoZSBhcml0eSBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjdXJyaWVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYWJjID0gZnVuY3Rpb24oYSwgYiwgYykge1xuICAgICAqICAgcmV0dXJuIFthLCBiLCBjXTtcbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogdmFyIGN1cnJpZWQgPSBfLmN1cnJ5KGFiYyk7XG4gICAgICpcbiAgICAgKiBjdXJyaWVkKDEpKDIpKDMpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogY3VycmllZCgxLCAyKSgzKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIGN1cnJpZWQoMSwgMiwgMyk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiAvLyBDdXJyaWVkIHdpdGggcGxhY2Vob2xkZXJzLlxuICAgICAqIGN1cnJpZWQoMSkoXywgMykoMik7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3VycnkoZnVuYywgYXJpdHksIGd1YXJkKSB7XG4gICAgICBhcml0eSA9IGd1YXJkID8gdW5kZWZpbmVkIDogYXJpdHk7XG4gICAgICB2YXIgcmVzdWx0ID0gY3JlYXRlV3JhcChmdW5jLCBXUkFQX0NVUlJZX0ZMQUcsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBhcml0eSk7XG4gICAgICByZXN1bHQucGxhY2Vob2xkZXIgPSBjdXJyeS5wbGFjZWhvbGRlcjtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5jdXJyeWAgZXhjZXB0IHRoYXQgYXJndW1lbnRzIGFyZSBhcHBsaWVkIHRvIGBmdW5jYFxuICAgICAqIGluIHRoZSBtYW5uZXIgb2YgYF8ucGFydGlhbFJpZ2h0YCBpbnN0ZWFkIG9mIGBfLnBhcnRpYWxgLlxuICAgICAqXG4gICAgICogVGhlIGBfLmN1cnJ5UmlnaHQucGxhY2Vob2xkZXJgIHZhbHVlLCB3aGljaCBkZWZhdWx0cyB0byBgX2AgaW4gbW9ub2xpdGhpY1xuICAgICAqIGJ1aWxkcywgbWF5IGJlIHVzZWQgYXMgYSBwbGFjZWhvbGRlciBmb3IgcHJvdmlkZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGRvZXNuJ3Qgc2V0IHRoZSBcImxlbmd0aFwiIHByb3BlcnR5IG9mIGN1cnJpZWQgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY3VycnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcml0eT1mdW5jLmxlbmd0aF0gVGhlIGFyaXR5IG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGN1cnJpZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhYmMgPSBmdW5jdGlvbihhLCBiLCBjKSB7XG4gICAgICogICByZXR1cm4gW2EsIGIsIGNdO1xuICAgICAqIH07XG4gICAgICpcbiAgICAgKiB2YXIgY3VycmllZCA9IF8uY3VycnlSaWdodChhYmMpO1xuICAgICAqXG4gICAgICogY3VycmllZCgzKSgyKSgxKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIGN1cnJpZWQoMiwgMykoMSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiBjdXJyaWVkKDEsIDIsIDMpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogLy8gQ3VycmllZCB3aXRoIHBsYWNlaG9sZGVycy5cbiAgICAgKiBjdXJyaWVkKDMpKDEsIF8pKDIpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGN1cnJ5UmlnaHQoZnVuYywgYXJpdHksIGd1YXJkKSB7XG4gICAgICBhcml0eSA9IGd1YXJkID8gdW5kZWZpbmVkIDogYXJpdHk7XG4gICAgICB2YXIgcmVzdWx0ID0gY3JlYXRlV3JhcChmdW5jLCBXUkFQX0NVUlJZX1JJR0hUX0ZMQUcsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBhcml0eSk7XG4gICAgICByZXN1bHQucGxhY2Vob2xkZXIgPSBjdXJyeVJpZ2h0LnBsYWNlaG9sZGVyO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZGVib3VuY2VkIGZ1bmN0aW9uIHRoYXQgZGVsYXlzIGludm9raW5nIGBmdW5jYCB1bnRpbCBhZnRlciBgd2FpdGBcbiAgICAgKiBtaWxsaXNlY29uZHMgaGF2ZSBlbGFwc2VkIHNpbmNlIHRoZSBsYXN0IHRpbWUgdGhlIGRlYm91bmNlZCBmdW5jdGlvbiB3YXNcbiAgICAgKiBpbnZva2VkLiBUaGUgZGVib3VuY2VkIGZ1bmN0aW9uIGNvbWVzIHdpdGggYSBgY2FuY2VsYCBtZXRob2QgdG8gY2FuY2VsXG4gICAgICogZGVsYXllZCBgZnVuY2AgaW52b2NhdGlvbnMgYW5kIGEgYGZsdXNoYCBtZXRob2QgdG8gaW1tZWRpYXRlbHkgaW52b2tlIHRoZW0uXG4gICAgICogUHJvdmlkZSBgb3B0aW9uc2AgdG8gaW5kaWNhdGUgd2hldGhlciBgZnVuY2Agc2hvdWxkIGJlIGludm9rZWQgb24gdGhlXG4gICAgICogbGVhZGluZyBhbmQvb3IgdHJhaWxpbmcgZWRnZSBvZiB0aGUgYHdhaXRgIHRpbWVvdXQuIFRoZSBgZnVuY2AgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdGhlIGxhc3QgYXJndW1lbnRzIHByb3ZpZGVkIHRvIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb24uIFN1YnNlcXVlbnRcbiAgICAgKiBjYWxscyB0byB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uIHJldHVybiB0aGUgcmVzdWx0IG9mIHRoZSBsYXN0IGBmdW5jYFxuICAgICAqIGludm9jYXRpb24uXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogSWYgYGxlYWRpbmdgIGFuZCBgdHJhaWxpbmdgIG9wdGlvbnMgYXJlIGB0cnVlYCwgYGZ1bmNgIGlzXG4gICAgICogaW52b2tlZCBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dCBvbmx5IGlmIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb25cbiAgICAgKiBpcyBpbnZva2VkIG1vcmUgdGhhbiBvbmNlIGR1cmluZyB0aGUgYHdhaXRgIHRpbWVvdXQuXG4gICAgICpcbiAgICAgKiBJZiBgd2FpdGAgaXMgYDBgIGFuZCBgbGVhZGluZ2AgaXMgYGZhbHNlYCwgYGZ1bmNgIGludm9jYXRpb24gaXMgZGVmZXJyZWRcbiAgICAgKiB1bnRpbCB0byB0aGUgbmV4dCB0aWNrLCBzaW1pbGFyIHRvIGBzZXRUaW1lb3V0YCB3aXRoIGEgdGltZW91dCBvZiBgMGAuXG4gICAgICpcbiAgICAgKiBTZWUgW0RhdmlkIENvcmJhY2hvJ3MgYXJ0aWNsZV0oaHR0cHM6Ly9jc3MtdHJpY2tzLmNvbS9kZWJvdW5jaW5nLXRocm90dGxpbmctZXhwbGFpbmVkLWV4YW1wbGVzLylcbiAgICAgKiBmb3IgZGV0YWlscyBvdmVyIHRoZSBkaWZmZXJlbmNlcyBiZXR3ZWVuIGBfLmRlYm91bmNlYCBhbmQgYF8udGhyb3R0bGVgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZGVib3VuY2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt3YWl0PTBdIFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIGRlbGF5LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMubGVhZGluZz1mYWxzZV1cbiAgICAgKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgbGVhZGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5tYXhXYWl0XVxuICAgICAqICBUaGUgbWF4aW11bSB0aW1lIGBmdW5jYCBpcyBhbGxvd2VkIHRvIGJlIGRlbGF5ZWQgYmVmb3JlIGl0J3MgaW52b2tlZC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRyYWlsaW5nPXRydWVdXG4gICAgICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZGVib3VuY2VkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAvLyBBdm9pZCBjb3N0bHkgY2FsY3VsYXRpb25zIHdoaWxlIHRoZSB3aW5kb3cgc2l6ZSBpcyBpbiBmbHV4LlxuICAgICAqIGpRdWVyeSh3aW5kb3cpLm9uKCdyZXNpemUnLCBfLmRlYm91bmNlKGNhbGN1bGF0ZUxheW91dCwgMTUwKSk7XG4gICAgICpcbiAgICAgKiAvLyBJbnZva2UgYHNlbmRNYWlsYCB3aGVuIGNsaWNrZWQsIGRlYm91bmNpbmcgc3Vic2VxdWVudCBjYWxscy5cbiAgICAgKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgXy5kZWJvdW5jZShzZW5kTWFpbCwgMzAwLCB7XG4gICAgICogICAnbGVhZGluZyc6IHRydWUsXG4gICAgICogICAndHJhaWxpbmcnOiBmYWxzZVxuICAgICAqIH0pKTtcbiAgICAgKlxuICAgICAqIC8vIEVuc3VyZSBgYmF0Y2hMb2dgIGlzIGludm9rZWQgb25jZSBhZnRlciAxIHNlY29uZCBvZiBkZWJvdW5jZWQgY2FsbHMuXG4gICAgICogdmFyIGRlYm91bmNlZCA9IF8uZGVib3VuY2UoYmF0Y2hMb2csIDI1MCwgeyAnbWF4V2FpdCc6IDEwMDAgfSk7XG4gICAgICogdmFyIHNvdXJjZSA9IG5ldyBFdmVudFNvdXJjZSgnL3N0cmVhbScpO1xuICAgICAqIGpRdWVyeShzb3VyY2UpLm9uKCdtZXNzYWdlJywgZGVib3VuY2VkKTtcbiAgICAgKlxuICAgICAqIC8vIENhbmNlbCB0aGUgdHJhaWxpbmcgZGVib3VuY2VkIGludm9jYXRpb24uXG4gICAgICogalF1ZXJ5KHdpbmRvdykub24oJ3BvcHN0YXRlJywgZGVib3VuY2VkLmNhbmNlbCk7XG4gICAgICovXG4gICAgZnVuY3Rpb24gZGVib3VuY2UoZnVuYywgd2FpdCwgb3B0aW9ucykge1xuICAgICAgdmFyIGxhc3RBcmdzLFxuICAgICAgICAgIGxhc3RUaGlzLFxuICAgICAgICAgIG1heFdhaXQsXG4gICAgICAgICAgcmVzdWx0LFxuICAgICAgICAgIHRpbWVySWQsXG4gICAgICAgICAgbGFzdENhbGxUaW1lLFxuICAgICAgICAgIGxhc3RJbnZva2VUaW1lID0gMCxcbiAgICAgICAgICBsZWFkaW5nID0gZmFsc2UsXG4gICAgICAgICAgbWF4aW5nID0gZmFsc2UsXG4gICAgICAgICAgdHJhaWxpbmcgPSB0cnVlO1xuXG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICB3YWl0ID0gdG9OdW1iZXIod2FpdCkgfHwgMDtcbiAgICAgIGlmIChpc09iamVjdChvcHRpb25zKSkge1xuICAgICAgICBsZWFkaW5nID0gISFvcHRpb25zLmxlYWRpbmc7XG4gICAgICAgIG1heGluZyA9ICdtYXhXYWl0JyBpbiBvcHRpb25zO1xuICAgICAgICBtYXhXYWl0ID0gbWF4aW5nID8gbmF0aXZlTWF4KHRvTnVtYmVyKG9wdGlvbnMubWF4V2FpdCkgfHwgMCwgd2FpdCkgOiBtYXhXYWl0O1xuICAgICAgICB0cmFpbGluZyA9ICd0cmFpbGluZycgaW4gb3B0aW9ucyA/ICEhb3B0aW9ucy50cmFpbGluZyA6IHRyYWlsaW5nO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBpbnZva2VGdW5jKHRpbWUpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBsYXN0QXJncyxcbiAgICAgICAgICAgIHRoaXNBcmcgPSBsYXN0VGhpcztcblxuICAgICAgICBsYXN0QXJncyA9IGxhc3RUaGlzID0gdW5kZWZpbmVkO1xuICAgICAgICBsYXN0SW52b2tlVGltZSA9IHRpbWU7XG4gICAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpc0FyZywgYXJncyk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGxlYWRpbmdFZGdlKHRpbWUpIHtcbiAgICAgICAgLy8gUmVzZXQgYW55IGBtYXhXYWl0YCB0aW1lci5cbiAgICAgICAgbGFzdEludm9rZVRpbWUgPSB0aW1lO1xuICAgICAgICAvLyBTdGFydCB0aGUgdGltZXIgZm9yIHRoZSB0cmFpbGluZyBlZGdlLlxuICAgICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgICAgICAvLyBJbnZva2UgdGhlIGxlYWRpbmcgZWRnZS5cbiAgICAgICAgcmV0dXJuIGxlYWRpbmcgPyBpbnZva2VGdW5jKHRpbWUpIDogcmVzdWx0O1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiByZW1haW5pbmdXYWl0KHRpbWUpIHtcbiAgICAgICAgdmFyIHRpbWVTaW5jZUxhc3RDYWxsID0gdGltZSAtIGxhc3RDYWxsVGltZSxcbiAgICAgICAgICAgIHRpbWVTaW5jZUxhc3RJbnZva2UgPSB0aW1lIC0gbGFzdEludm9rZVRpbWUsXG4gICAgICAgICAgICB0aW1lV2FpdGluZyA9IHdhaXQgLSB0aW1lU2luY2VMYXN0Q2FsbDtcblxuICAgICAgICByZXR1cm4gbWF4aW5nXG4gICAgICAgICAgPyBuYXRpdmVNaW4odGltZVdhaXRpbmcsIG1heFdhaXQgLSB0aW1lU2luY2VMYXN0SW52b2tlKVxuICAgICAgICAgIDogdGltZVdhaXRpbmc7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHNob3VsZEludm9rZSh0aW1lKSB7XG4gICAgICAgIHZhciB0aW1lU2luY2VMYXN0Q2FsbCA9IHRpbWUgLSBsYXN0Q2FsbFRpbWUsXG4gICAgICAgICAgICB0aW1lU2luY2VMYXN0SW52b2tlID0gdGltZSAtIGxhc3RJbnZva2VUaW1lO1xuXG4gICAgICAgIC8vIEVpdGhlciB0aGlzIGlzIHRoZSBmaXJzdCBjYWxsLCBhY3Rpdml0eSBoYXMgc3RvcHBlZCBhbmQgd2UncmUgYXQgdGhlXG4gICAgICAgIC8vIHRyYWlsaW5nIGVkZ2UsIHRoZSBzeXN0ZW0gdGltZSBoYXMgZ29uZSBiYWNrd2FyZHMgYW5kIHdlJ3JlIHRyZWF0aW5nXG4gICAgICAgIC8vIGl0IGFzIHRoZSB0cmFpbGluZyBlZGdlLCBvciB3ZSd2ZSBoaXQgdGhlIGBtYXhXYWl0YCBsaW1pdC5cbiAgICAgICAgcmV0dXJuIChsYXN0Q2FsbFRpbWUgPT09IHVuZGVmaW5lZCB8fCAodGltZVNpbmNlTGFzdENhbGwgPj0gd2FpdCkgfHxcbiAgICAgICAgICAodGltZVNpbmNlTGFzdENhbGwgPCAwKSB8fCAobWF4aW5nICYmIHRpbWVTaW5jZUxhc3RJbnZva2UgPj0gbWF4V2FpdCkpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiB0aW1lckV4cGlyZWQoKSB7XG4gICAgICAgIHZhciB0aW1lID0gbm93KCk7XG4gICAgICAgIGlmIChzaG91bGRJbnZva2UodGltZSkpIHtcbiAgICAgICAgICByZXR1cm4gdHJhaWxpbmdFZGdlKHRpbWUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlc3RhcnQgdGhlIHRpbWVyLlxuICAgICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHJlbWFpbmluZ1dhaXQodGltZSkpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiB0cmFpbGluZ0VkZ2UodGltZSkge1xuICAgICAgICB0aW1lcklkID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIC8vIE9ubHkgaW52b2tlIGlmIHdlIGhhdmUgYGxhc3RBcmdzYCB3aGljaCBtZWFucyBgZnVuY2AgaGFzIGJlZW5cbiAgICAgICAgLy8gZGVib3VuY2VkIGF0IGxlYXN0IG9uY2UuXG4gICAgICAgIGlmICh0cmFpbGluZyAmJiBsYXN0QXJncykge1xuICAgICAgICAgIHJldHVybiBpbnZva2VGdW5jKHRpbWUpO1xuICAgICAgICB9XG4gICAgICAgIGxhc3RBcmdzID0gbGFzdFRoaXMgPSB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGNhbmNlbCgpIHtcbiAgICAgICAgaWYgKHRpbWVySWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lcklkKTtcbiAgICAgICAgfVxuICAgICAgICBsYXN0SW52b2tlVGltZSA9IDA7XG4gICAgICAgIGxhc3RBcmdzID0gbGFzdENhbGxUaW1lID0gbGFzdFRoaXMgPSB0aW1lcklkID0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBmbHVzaCgpIHtcbiAgICAgICAgcmV0dXJuIHRpbWVySWQgPT09IHVuZGVmaW5lZCA/IHJlc3VsdCA6IHRyYWlsaW5nRWRnZShub3coKSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGRlYm91bmNlZCgpIHtcbiAgICAgICAgdmFyIHRpbWUgPSBub3coKSxcbiAgICAgICAgICAgIGlzSW52b2tpbmcgPSBzaG91bGRJbnZva2UodGltZSk7XG5cbiAgICAgICAgbGFzdEFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgIGxhc3RUaGlzID0gdGhpcztcbiAgICAgICAgbGFzdENhbGxUaW1lID0gdGltZTtcblxuICAgICAgICBpZiAoaXNJbnZva2luZykge1xuICAgICAgICAgIGlmICh0aW1lcklkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBsZWFkaW5nRWRnZShsYXN0Q2FsbFRpbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAobWF4aW5nKSB7XG4gICAgICAgICAgICAvLyBIYW5kbGUgaW52b2NhdGlvbnMgaW4gYSB0aWdodCBsb29wLlxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVySWQpO1xuICAgICAgICAgICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCB3YWl0KTtcbiAgICAgICAgICAgIHJldHVybiBpbnZva2VGdW5jKGxhc3RDYWxsVGltZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aW1lcklkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICBkZWJvdW5jZWQuY2FuY2VsID0gY2FuY2VsO1xuICAgICAgZGVib3VuY2VkLmZsdXNoID0gZmx1c2g7XG4gICAgICByZXR1cm4gZGVib3VuY2VkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlZmVycyBpbnZva2luZyB0aGUgYGZ1bmNgIHVudGlsIHRoZSBjdXJyZW50IGNhbGwgc3RhY2sgaGFzIGNsZWFyZWQuIEFueVxuICAgICAqIGFkZGl0aW9uYWwgYXJndW1lbnRzIGFyZSBwcm92aWRlZCB0byBgZnVuY2Agd2hlbiBpdCdzIGludm9rZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBkZWZlci5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSBgZnVuY2Agd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSB0aW1lciBpZC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kZWZlcihmdW5jdGlvbih0ZXh0KSB7XG4gICAgICogICBjb25zb2xlLmxvZyh0ZXh0KTtcbiAgICAgKiB9LCAnZGVmZXJyZWQnKTtcbiAgICAgKiAvLyA9PiBMb2dzICdkZWZlcnJlZCcgYWZ0ZXIgb25lIG1pbGxpc2Vjb25kLlxuICAgICAqL1xuICAgIHZhciBkZWZlciA9IGJhc2VSZXN0KGZ1bmN0aW9uKGZ1bmMsIGFyZ3MpIHtcbiAgICAgIHJldHVybiBiYXNlRGVsYXkoZnVuYywgMSwgYXJncyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBJbnZva2VzIGBmdW5jYCBhZnRlciBgd2FpdGAgbWlsbGlzZWNvbmRzLiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHMgYXJlXG4gICAgICogcHJvdmlkZWQgdG8gYGZ1bmNgIHdoZW4gaXQncyBpbnZva2VkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZGVsYXkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdhaXQgVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gZGVsYXkgaW52b2NhdGlvbi5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSBgZnVuY2Agd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSB0aW1lciBpZC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kZWxheShmdW5jdGlvbih0ZXh0KSB7XG4gICAgICogICBjb25zb2xlLmxvZyh0ZXh0KTtcbiAgICAgKiB9LCAxMDAwLCAnbGF0ZXInKTtcbiAgICAgKiAvLyA9PiBMb2dzICdsYXRlcicgYWZ0ZXIgb25lIHNlY29uZC5cbiAgICAgKi9cbiAgICB2YXIgZGVsYXkgPSBiYXNlUmVzdChmdW5jdGlvbihmdW5jLCB3YWl0LCBhcmdzKSB7XG4gICAgICByZXR1cm4gYmFzZURlbGF5KGZ1bmMsIHRvTnVtYmVyKHdhaXQpIHx8IDAsIGFyZ3MpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBhcmd1bWVudHMgcmV2ZXJzZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBmbGlwIGFyZ3VtZW50cyBmb3IuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZmxpcHBlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGZsaXBwZWQgPSBfLmZsaXAoZnVuY3Rpb24oKSB7XG4gICAgICogICByZXR1cm4gXy50b0FycmF5KGFyZ3VtZW50cyk7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBmbGlwcGVkKCdhJywgJ2InLCAnYycsICdkJyk7XG4gICAgICogLy8gPT4gWydkJywgJ2MnLCAnYicsICdhJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGlwKGZ1bmMpIHtcbiAgICAgIHJldHVybiBjcmVhdGVXcmFwKGZ1bmMsIFdSQVBfRkxJUF9GTEFHKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBtZW1vaXplcyB0aGUgcmVzdWx0IG9mIGBmdW5jYC4gSWYgYHJlc29sdmVyYCBpc1xuICAgICAqIHByb3ZpZGVkLCBpdCBkZXRlcm1pbmVzIHRoZSBjYWNoZSBrZXkgZm9yIHN0b3JpbmcgdGhlIHJlc3VsdCBiYXNlZCBvbiB0aGVcbiAgICAgKiBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlIG1lbW9pemVkIGZ1bmN0aW9uLiBCeSBkZWZhdWx0LCB0aGUgZmlyc3QgYXJndW1lbnRcbiAgICAgKiBwcm92aWRlZCB0byB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24gaXMgdXNlZCBhcyB0aGUgbWFwIGNhY2hlIGtleS4gVGhlIGBmdW5jYFxuICAgICAqIGlzIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgdGhlIG1lbW9pemVkIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoZSBjYWNoZSBpcyBleHBvc2VkIGFzIHRoZSBgY2FjaGVgIHByb3BlcnR5IG9uIHRoZSBtZW1vaXplZFxuICAgICAqIGZ1bmN0aW9uLiBJdHMgY3JlYXRpb24gbWF5IGJlIGN1c3RvbWl6ZWQgYnkgcmVwbGFjaW5nIHRoZSBgXy5tZW1vaXplLkNhY2hlYFxuICAgICAqIGNvbnN0cnVjdG9yIHdpdGggb25lIHdob3NlIGluc3RhbmNlcyBpbXBsZW1lbnQgdGhlXG4gICAgICogW2BNYXBgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1wcm9wZXJ0aWVzLW9mLXRoZS1tYXAtcHJvdG90eXBlLW9iamVjdClcbiAgICAgKiBtZXRob2QgaW50ZXJmYWNlIG9mIGBjbGVhcmAsIGBkZWxldGVgLCBgZ2V0YCwgYGhhc2AsIGFuZCBgc2V0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGhhdmUgaXRzIG91dHB1dCBtZW1vaXplZC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcmVzb2x2ZXJdIFRoZSBmdW5jdGlvbiB0byByZXNvbHZlIHRoZSBjYWNoZSBrZXkuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgbWVtb2l6ZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAyIH07XG4gICAgICogdmFyIG90aGVyID0geyAnYyc6IDMsICdkJzogNCB9O1xuICAgICAqXG4gICAgICogdmFyIHZhbHVlcyA9IF8ubWVtb2l6ZShfLnZhbHVlcyk7XG4gICAgICogdmFsdWVzKG9iamVjdCk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICpcbiAgICAgKiB2YWx1ZXMob3RoZXIpO1xuICAgICAqIC8vID0+IFszLCA0XVxuICAgICAqXG4gICAgICogb2JqZWN0LmEgPSAyO1xuICAgICAqIHZhbHVlcyhvYmplY3QpO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqXG4gICAgICogLy8gTW9kaWZ5IHRoZSByZXN1bHQgY2FjaGUuXG4gICAgICogdmFsdWVzLmNhY2hlLnNldChvYmplY3QsIFsnYScsICdiJ10pO1xuICAgICAqIHZhbHVlcyhvYmplY3QpO1xuICAgICAqIC8vID0+IFsnYScsICdiJ11cbiAgICAgKlxuICAgICAqIC8vIFJlcGxhY2UgYF8ubWVtb2l6ZS5DYWNoZWAuXG4gICAgICogXy5tZW1vaXplLkNhY2hlID0gV2Vha01hcDtcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtZW1vaXplKGZ1bmMsIHJlc29sdmVyKSB7XG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJyB8fCAocmVzb2x2ZXIgIT0gbnVsbCAmJiB0eXBlb2YgcmVzb2x2ZXIgIT0gJ2Z1bmN0aW9uJykpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgdmFyIG1lbW9pemVkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzLFxuICAgICAgICAgICAga2V5ID0gcmVzb2x2ZXIgPyByZXNvbHZlci5hcHBseSh0aGlzLCBhcmdzKSA6IGFyZ3NbMF0sXG4gICAgICAgICAgICBjYWNoZSA9IG1lbW9pemVkLmNhY2hlO1xuXG4gICAgICAgIGlmIChjYWNoZS5oYXMoa2V5KSkge1xuICAgICAgICAgIHJldHVybiBjYWNoZS5nZXQoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVzdWx0ID0gZnVuYy5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgbWVtb2l6ZWQuY2FjaGUgPSBjYWNoZS5zZXQoa2V5LCByZXN1bHQpIHx8IGNhY2hlO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICAgIG1lbW9pemVkLmNhY2hlID0gbmV3IChtZW1vaXplLkNhY2hlIHx8IE1hcENhY2hlKTtcbiAgICAgIHJldHVybiBtZW1vaXplZDtcbiAgICB9XG5cbiAgICAvLyBFeHBvc2UgYE1hcENhY2hlYC5cbiAgICBtZW1vaXplLkNhY2hlID0gTWFwQ2FjaGU7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBuZWdhdGVzIHRoZSByZXN1bHQgb2YgdGhlIHByZWRpY2F0ZSBgZnVuY2AuIFRoZVxuICAgICAqIGBmdW5jYCBwcmVkaWNhdGUgaXMgaW52b2tlZCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBhbmQgYXJndW1lbnRzIG9mIHRoZVxuICAgICAqIGNyZWF0ZWQgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIHByZWRpY2F0ZSB0byBuZWdhdGUuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgbmVnYXRlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gaXNFdmVuKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICUgMiA9PSAwO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIF8uZmlsdGVyKFsxLCAyLCAzLCA0LCA1LCA2XSwgXy5uZWdhdGUoaXNFdmVuKSk7XG4gICAgICogLy8gPT4gWzEsIDMsIDVdXG4gICAgICovXG4gICAgZnVuY3Rpb24gbmVnYXRlKHByZWRpY2F0ZSkge1xuICAgICAgaWYgKHR5cGVvZiBwcmVkaWNhdGUgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgICBzd2l0Y2ggKGFyZ3MubGVuZ3RoKSB7XG4gICAgICAgICAgY2FzZSAwOiByZXR1cm4gIXByZWRpY2F0ZS5jYWxsKHRoaXMpO1xuICAgICAgICAgIGNhc2UgMTogcmV0dXJuICFwcmVkaWNhdGUuY2FsbCh0aGlzLCBhcmdzWzBdKTtcbiAgICAgICAgICBjYXNlIDI6IHJldHVybiAhcHJlZGljYXRlLmNhbGwodGhpcywgYXJnc1swXSwgYXJnc1sxXSk7XG4gICAgICAgICAgY2FzZSAzOiByZXR1cm4gIXByZWRpY2F0ZS5jYWxsKHRoaXMsIGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAhcHJlZGljYXRlLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpcyByZXN0cmljdGVkIHRvIGludm9raW5nIGBmdW5jYCBvbmNlLiBSZXBlYXQgY2FsbHNcbiAgICAgKiB0byB0aGUgZnVuY3Rpb24gcmV0dXJuIHRoZSB2YWx1ZSBvZiB0aGUgZmlyc3QgaW52b2NhdGlvbi4gVGhlIGBmdW5jYCBpc1xuICAgICAqIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgYW5kIGFyZ3VtZW50cyBvZiB0aGUgY3JlYXRlZCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHJlc3RyaWN0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHJlc3RyaWN0ZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBpbml0aWFsaXplID0gXy5vbmNlKGNyZWF0ZUFwcGxpY2F0aW9uKTtcbiAgICAgKiBpbml0aWFsaXplKCk7XG4gICAgICogaW5pdGlhbGl6ZSgpO1xuICAgICAqIC8vID0+IGBjcmVhdGVBcHBsaWNhdGlvbmAgaXMgaW52b2tlZCBvbmNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gb25jZShmdW5jKSB7XG4gICAgICByZXR1cm4gYmVmb3JlKDIsIGZ1bmMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggaXRzIGFyZ3VtZW50cyB0cmFuc2Zvcm1lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHsuLi4oRnVuY3Rpb258RnVuY3Rpb25bXSl9IFt0cmFuc2Zvcm1zPVtfLmlkZW50aXR5XV1cbiAgICAgKiAgVGhlIGFyZ3VtZW50IHRyYW5zZm9ybXMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGRvdWJsZWQobikge1xuICAgICAqICAgcmV0dXJuIG4gKiAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIHNxdWFyZShuKSB7XG4gICAgICogICByZXR1cm4gbiAqIG47XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGZ1bmMgPSBfLm92ZXJBcmdzKGZ1bmN0aW9uKHgsIHkpIHtcbiAgICAgKiAgIHJldHVybiBbeCwgeV07XG4gICAgICogfSwgW3NxdWFyZSwgZG91YmxlZF0pO1xuICAgICAqXG4gICAgICogZnVuYyg5LCAzKTtcbiAgICAgKiAvLyA9PiBbODEsIDZdXG4gICAgICpcbiAgICAgKiBmdW5jKDEwLCA1KTtcbiAgICAgKiAvLyA9PiBbMTAwLCAxMF1cbiAgICAgKi9cbiAgICB2YXIgb3ZlckFyZ3MgPSBjYXN0UmVzdChmdW5jdGlvbihmdW5jLCB0cmFuc2Zvcm1zKSB7XG4gICAgICB0cmFuc2Zvcm1zID0gKHRyYW5zZm9ybXMubGVuZ3RoID09IDEgJiYgaXNBcnJheSh0cmFuc2Zvcm1zWzBdKSlcbiAgICAgICAgPyBhcnJheU1hcCh0cmFuc2Zvcm1zWzBdLCBiYXNlVW5hcnkoZ2V0SXRlcmF0ZWUoKSkpXG4gICAgICAgIDogYXJyYXlNYXAoYmFzZUZsYXR0ZW4odHJhbnNmb3JtcywgMSksIGJhc2VVbmFyeShnZXRJdGVyYXRlZSgpKSk7XG5cbiAgICAgIHZhciBmdW5jc0xlbmd0aCA9IHRyYW5zZm9ybXMubGVuZ3RoO1xuICAgICAgcmV0dXJuIGJhc2VSZXN0KGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgICBsZW5ndGggPSBuYXRpdmVNaW4oYXJncy5sZW5ndGgsIGZ1bmNzTGVuZ3RoKTtcblxuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIGFyZ3NbaW5kZXhdID0gdHJhbnNmb3Jtc1tpbmRleF0uY2FsbCh0aGlzLCBhcmdzW2luZGV4XSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFwcGx5KGZ1bmMsIHRoaXMsIGFyZ3MpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGBwYXJ0aWFsc2AgcHJlcGVuZGVkIHRvIHRoZVxuICAgICAqIGFyZ3VtZW50cyBpdCByZWNlaXZlcy4gVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5iaW5kYCBleGNlcHQgaXQgZG9lcyAqKm5vdCoqXG4gICAgICogYWx0ZXIgdGhlIGB0aGlzYCBiaW5kaW5nLlxuICAgICAqXG4gICAgICogVGhlIGBfLnBhcnRpYWwucGxhY2Vob2xkZXJgIHZhbHVlLCB3aGljaCBkZWZhdWx0cyB0byBgX2AgaW4gbW9ub2xpdGhpY1xuICAgICAqIGJ1aWxkcywgbWF5IGJlIHVzZWQgYXMgYSBwbGFjZWhvbGRlciBmb3IgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGRvZXNuJ3Qgc2V0IHRoZSBcImxlbmd0aFwiIHByb3BlcnR5IG9mIHBhcnRpYWxseVxuICAgICAqIGFwcGxpZWQgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMi4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcGFydGlhbGx5IGFwcGx5IGFyZ3VtZW50cyB0by5cbiAgICAgKiBAcGFyYW0gey4uLip9IFtwYXJ0aWFsc10gVGhlIGFyZ3VtZW50cyB0byBiZSBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBwYXJ0aWFsbHkgYXBwbGllZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gZ3JlZXQoZ3JlZXRpbmcsIG5hbWUpIHtcbiAgICAgKiAgIHJldHVybiBncmVldGluZyArICcgJyArIG5hbWU7XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIHNheUhlbGxvVG8gPSBfLnBhcnRpYWwoZ3JlZXQsICdoZWxsbycpO1xuICAgICAqIHNheUhlbGxvVG8oJ2ZyZWQnKTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gZnJlZCdcbiAgICAgKlxuICAgICAqIC8vIFBhcnRpYWxseSBhcHBsaWVkIHdpdGggcGxhY2Vob2xkZXJzLlxuICAgICAqIHZhciBncmVldEZyZWQgPSBfLnBhcnRpYWwoZ3JlZXQsIF8sICdmcmVkJyk7XG4gICAgICogZ3JlZXRGcmVkKCdoaScpO1xuICAgICAqIC8vID0+ICdoaSBmcmVkJ1xuICAgICAqL1xuICAgIHZhciBwYXJ0aWFsID0gYmFzZVJlc3QoZnVuY3Rpb24oZnVuYywgcGFydGlhbHMpIHtcbiAgICAgIHZhciBob2xkZXJzID0gcmVwbGFjZUhvbGRlcnMocGFydGlhbHMsIGdldEhvbGRlcihwYXJ0aWFsKSk7XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcChmdW5jLCBXUkFQX1BBUlRJQUxfRkxBRywgdW5kZWZpbmVkLCBwYXJ0aWFscywgaG9sZGVycyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnBhcnRpYWxgIGV4Y2VwdCB0aGF0IHBhcnRpYWxseSBhcHBsaWVkIGFyZ3VtZW50c1xuICAgICAqIGFyZSBhcHBlbmRlZCB0byB0aGUgYXJndW1lbnRzIGl0IHJlY2VpdmVzLlxuICAgICAqXG4gICAgICogVGhlIGBfLnBhcnRpYWxSaWdodC5wbGFjZWhvbGRlcmAgdmFsdWUsIHdoaWNoIGRlZmF1bHRzIHRvIGBfYCBpbiBtb25vbGl0aGljXG4gICAgICogYnVpbGRzLCBtYXkgYmUgdXNlZCBhcyBhIHBsYWNlaG9sZGVyIGZvciBwYXJ0aWFsbHkgYXBwbGllZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgZG9lc24ndCBzZXQgdGhlIFwibGVuZ3RoXCIgcHJvcGVydHkgb2YgcGFydGlhbGx5XG4gICAgICogYXBwbGllZCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBwYXJ0aWFsbHkgYXBwbHkgYXJndW1lbnRzIHRvLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW3BhcnRpYWxzXSBUaGUgYXJndW1lbnRzIHRvIGJlIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHBhcnRpYWxseSBhcHBsaWVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBncmVldChncmVldGluZywgbmFtZSkge1xuICAgICAqICAgcmV0dXJuIGdyZWV0aW5nICsgJyAnICsgbmFtZTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgZ3JlZXRGcmVkID0gXy5wYXJ0aWFsUmlnaHQoZ3JlZXQsICdmcmVkJyk7XG4gICAgICogZ3JlZXRGcmVkKCdoaScpO1xuICAgICAqIC8vID0+ICdoaSBmcmVkJ1xuICAgICAqXG4gICAgICogLy8gUGFydGlhbGx5IGFwcGxpZWQgd2l0aCBwbGFjZWhvbGRlcnMuXG4gICAgICogdmFyIHNheUhlbGxvVG8gPSBfLnBhcnRpYWxSaWdodChncmVldCwgJ2hlbGxvJywgXyk7XG4gICAgICogc2F5SGVsbG9UbygnZnJlZCcpO1xuICAgICAqIC8vID0+ICdoZWxsbyBmcmVkJ1xuICAgICAqL1xuICAgIHZhciBwYXJ0aWFsUmlnaHQgPSBiYXNlUmVzdChmdW5jdGlvbihmdW5jLCBwYXJ0aWFscykge1xuICAgICAgdmFyIGhvbGRlcnMgPSByZXBsYWNlSG9sZGVycyhwYXJ0aWFscywgZ2V0SG9sZGVyKHBhcnRpYWxSaWdodCkpO1xuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoZnVuYywgV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUcsIHVuZGVmaW5lZCwgcGFydGlhbHMsIGhvbGRlcnMpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBhcmd1bWVudHMgYXJyYW5nZWQgYWNjb3JkaW5nXG4gICAgICogdG8gdGhlIHNwZWNpZmllZCBgaW5kZXhlc2Agd2hlcmUgdGhlIGFyZ3VtZW50IHZhbHVlIGF0IHRoZSBmaXJzdCBpbmRleCBpc1xuICAgICAqIHByb3ZpZGVkIGFzIHRoZSBmaXJzdCBhcmd1bWVudCwgdGhlIGFyZ3VtZW50IHZhbHVlIGF0IHRoZSBzZWNvbmQgaW5kZXggaXNcbiAgICAgKiBwcm92aWRlZCBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50LCBhbmQgc28gb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byByZWFycmFuZ2UgYXJndW1lbnRzIGZvci5cbiAgICAgKiBAcGFyYW0gey4uLihudW1iZXJ8bnVtYmVyW10pfSBpbmRleGVzIFRoZSBhcnJhbmdlZCBhcmd1bWVudCBpbmRleGVzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgcmVhcmdlZCA9IF8ucmVhcmcoZnVuY3Rpb24oYSwgYiwgYykge1xuICAgICAqICAgcmV0dXJuIFthLCBiLCBjXTtcbiAgICAgKiB9LCBbMiwgMCwgMV0pO1xuICAgICAqXG4gICAgICogcmVhcmdlZCgnYicsICdjJywgJ2EnKVxuICAgICAqIC8vID0+IFsnYScsICdiJywgJ2MnXVxuICAgICAqL1xuICAgIHZhciByZWFyZyA9IGZsYXRSZXN0KGZ1bmN0aW9uKGZ1bmMsIGluZGV4ZXMpIHtcbiAgICAgIHJldHVybiBjcmVhdGVXcmFwKGZ1bmMsIFdSQVBfUkVBUkdfRkxBRywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgaW5kZXhlcyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiB0aGVcbiAgICAgKiBjcmVhdGVkIGZ1bmN0aW9uIGFuZCBhcmd1bWVudHMgZnJvbSBgc3RhcnRgIGFuZCBiZXlvbmQgcHJvdmlkZWQgYXNcbiAgICAgKiBhbiBhcnJheS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvbiB0aGVcbiAgICAgKiBbcmVzdCBwYXJhbWV0ZXJdKGh0dHBzOi8vbWRuLmlvL3Jlc3RfcGFyYW1ldGVycykuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhcHBseSBhIHJlc3QgcGFyYW1ldGVyIHRvLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9ZnVuYy5sZW5ndGgtMV0gVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSByZXN0IHBhcmFtZXRlci5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHNheSA9IF8ucmVzdChmdW5jdGlvbih3aGF0LCBuYW1lcykge1xuICAgICAqICAgcmV0dXJuIHdoYXQgKyAnICcgKyBfLmluaXRpYWwobmFtZXMpLmpvaW4oJywgJykgK1xuICAgICAqICAgICAoXy5zaXplKG5hbWVzKSA+IDEgPyAnLCAmICcgOiAnJykgKyBfLmxhc3QobmFtZXMpO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogc2F5KCdoZWxsbycsICdmcmVkJywgJ2Jhcm5leScsICdwZWJibGVzJyk7XG4gICAgICogLy8gPT4gJ2hlbGxvIGZyZWQsIGJhcm5leSwgJiBwZWJibGVzJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlc3QoZnVuYywgc3RhcnQpIHtcbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHN0YXJ0ID0gc3RhcnQgPT09IHVuZGVmaW5lZCA/IHN0YXJ0IDogdG9JbnRlZ2VyKHN0YXJ0KTtcbiAgICAgIHJldHVybiBiYXNlUmVzdChmdW5jLCBzdGFydCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgdGhlXG4gICAgICogY3JlYXRlIGZ1bmN0aW9uIGFuZCBhbiBhcnJheSBvZiBhcmd1bWVudHMgbXVjaCBsaWtlXG4gICAgICogW2BGdW5jdGlvbiNhcHBseWBdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1mdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uIHRoZVxuICAgICAqIFtzcHJlYWQgb3BlcmF0b3JdKGh0dHBzOi8vbWRuLmlvL3NwcmVhZF9vcGVyYXRvcikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBzcHJlYWQgYXJndW1lbnRzIG92ZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgcG9zaXRpb24gb2YgdGhlIHNwcmVhZC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHNheSA9IF8uc3ByZWFkKGZ1bmN0aW9uKHdobywgd2hhdCkge1xuICAgICAqICAgcmV0dXJuIHdobyArICcgc2F5cyAnICsgd2hhdDtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIHNheShbJ2ZyZWQnLCAnaGVsbG8nXSk7XG4gICAgICogLy8gPT4gJ2ZyZWQgc2F5cyBoZWxsbydcbiAgICAgKlxuICAgICAqIHZhciBudW1iZXJzID0gUHJvbWlzZS5hbGwoW1xuICAgICAqICAgUHJvbWlzZS5yZXNvbHZlKDQwKSxcbiAgICAgKiAgIFByb21pc2UucmVzb2x2ZSgzNilcbiAgICAgKiBdKTtcbiAgICAgKlxuICAgICAqIG51bWJlcnMudGhlbihfLnNwcmVhZChmdW5jdGlvbih4LCB5KSB7XG4gICAgICogICByZXR1cm4geCArIHk7XG4gICAgICogfSkpO1xuICAgICAqIC8vID0+IGEgUHJvbWlzZSBvZiA3NlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNwcmVhZChmdW5jLCBzdGFydCkge1xuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgc3RhcnQgPSBzdGFydCA9PSBudWxsID8gMCA6IG5hdGl2ZU1heCh0b0ludGVnZXIoc3RhcnQpLCAwKTtcbiAgICAgIHJldHVybiBiYXNlUmVzdChmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgIHZhciBhcnJheSA9IGFyZ3Nbc3RhcnRdLFxuICAgICAgICAgICAgb3RoZXJBcmdzID0gY2FzdFNsaWNlKGFyZ3MsIDAsIHN0YXJ0KTtcblxuICAgICAgICBpZiAoYXJyYXkpIHtcbiAgICAgICAgICBhcnJheVB1c2gob3RoZXJBcmdzLCBhcnJheSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFwcGx5KGZ1bmMsIHRoaXMsIG90aGVyQXJncyk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgdGhyb3R0bGVkIGZ1bmN0aW9uIHRoYXQgb25seSBpbnZva2VzIGBmdW5jYCBhdCBtb3N0IG9uY2UgcGVyXG4gICAgICogZXZlcnkgYHdhaXRgIG1pbGxpc2Vjb25kcy4gVGhlIHRocm90dGxlZCBmdW5jdGlvbiBjb21lcyB3aXRoIGEgYGNhbmNlbGBcbiAgICAgKiBtZXRob2QgdG8gY2FuY2VsIGRlbGF5ZWQgYGZ1bmNgIGludm9jYXRpb25zIGFuZCBhIGBmbHVzaGAgbWV0aG9kIHRvXG4gICAgICogaW1tZWRpYXRlbHkgaW52b2tlIHRoZW0uIFByb3ZpZGUgYG9wdGlvbnNgIHRvIGluZGljYXRlIHdoZXRoZXIgYGZ1bmNgXG4gICAgICogc2hvdWxkIGJlIGludm9rZWQgb24gdGhlIGxlYWRpbmcgYW5kL29yIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIGB3YWl0YFxuICAgICAqIHRpbWVvdXQuIFRoZSBgZnVuY2AgaXMgaW52b2tlZCB3aXRoIHRoZSBsYXN0IGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGVcbiAgICAgKiB0aHJvdHRsZWQgZnVuY3Rpb24uIFN1YnNlcXVlbnQgY2FsbHMgdG8gdGhlIHRocm90dGxlZCBmdW5jdGlvbiByZXR1cm4gdGhlXG4gICAgICogcmVzdWx0IG9mIHRoZSBsYXN0IGBmdW5jYCBpbnZvY2F0aW9uLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIElmIGBsZWFkaW5nYCBhbmQgYHRyYWlsaW5nYCBvcHRpb25zIGFyZSBgdHJ1ZWAsIGBmdW5jYCBpc1xuICAgICAqIGludm9rZWQgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQgb25seSBpZiB0aGUgdGhyb3R0bGVkIGZ1bmN0aW9uXG4gICAgICogaXMgaW52b2tlZCBtb3JlIHRoYW4gb25jZSBkdXJpbmcgdGhlIGB3YWl0YCB0aW1lb3V0LlxuICAgICAqXG4gICAgICogSWYgYHdhaXRgIGlzIGAwYCBhbmQgYGxlYWRpbmdgIGlzIGBmYWxzZWAsIGBmdW5jYCBpbnZvY2F0aW9uIGlzIGRlZmVycmVkXG4gICAgICogdW50aWwgdG8gdGhlIG5leHQgdGljaywgc2ltaWxhciB0byBgc2V0VGltZW91dGAgd2l0aCBhIHRpbWVvdXQgb2YgYDBgLlxuICAgICAqXG4gICAgICogU2VlIFtEYXZpZCBDb3JiYWNobydzIGFydGljbGVdKGh0dHBzOi8vY3NzLXRyaWNrcy5jb20vZGVib3VuY2luZy10aHJvdHRsaW5nLWV4cGxhaW5lZC1leGFtcGxlcy8pXG4gICAgICogZm9yIGRldGFpbHMgb3ZlciB0aGUgZGlmZmVyZW5jZXMgYmV0d2VlbiBgXy50aHJvdHRsZWAgYW5kIGBfLmRlYm91bmNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHRocm90dGxlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbd2FpdD0wXSBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byB0aHJvdHRsZSBpbnZvY2F0aW9ucyB0by5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmxlYWRpbmc9dHJ1ZV1cbiAgICAgKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgbGVhZGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudHJhaWxpbmc9dHJ1ZV1cbiAgICAgKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB0aHJvdHRsZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIC8vIEF2b2lkIGV4Y2Vzc2l2ZWx5IHVwZGF0aW5nIHRoZSBwb3NpdGlvbiB3aGlsZSBzY3JvbGxpbmcuXG4gICAgICogalF1ZXJ5KHdpbmRvdykub24oJ3Njcm9sbCcsIF8udGhyb3R0bGUodXBkYXRlUG9zaXRpb24sIDEwMCkpO1xuICAgICAqXG4gICAgICogLy8gSW52b2tlIGByZW5ld1Rva2VuYCB3aGVuIHRoZSBjbGljayBldmVudCBpcyBmaXJlZCwgYnV0IG5vdCBtb3JlIHRoYW4gb25jZSBldmVyeSA1IG1pbnV0ZXMuXG4gICAgICogdmFyIHRocm90dGxlZCA9IF8udGhyb3R0bGUocmVuZXdUb2tlbiwgMzAwMDAwLCB7ICd0cmFpbGluZyc6IGZhbHNlIH0pO1xuICAgICAqIGpRdWVyeShlbGVtZW50KS5vbignY2xpY2snLCB0aHJvdHRsZWQpO1xuICAgICAqXG4gICAgICogLy8gQ2FuY2VsIHRoZSB0cmFpbGluZyB0aHJvdHRsZWQgaW52b2NhdGlvbi5cbiAgICAgKiBqUXVlcnkod2luZG93KS5vbigncG9wc3RhdGUnLCB0aHJvdHRsZWQuY2FuY2VsKTtcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0aHJvdHRsZShmdW5jLCB3YWl0LCBvcHRpb25zKSB7XG4gICAgICB2YXIgbGVhZGluZyA9IHRydWUsXG4gICAgICAgICAgdHJhaWxpbmcgPSB0cnVlO1xuXG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICBpZiAoaXNPYmplY3Qob3B0aW9ucykpIHtcbiAgICAgICAgbGVhZGluZyA9ICdsZWFkaW5nJyBpbiBvcHRpb25zID8gISFvcHRpb25zLmxlYWRpbmcgOiBsZWFkaW5nO1xuICAgICAgICB0cmFpbGluZyA9ICd0cmFpbGluZycgaW4gb3B0aW9ucyA/ICEhb3B0aW9ucy50cmFpbGluZyA6IHRyYWlsaW5nO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRlYm91bmNlKGZ1bmMsIHdhaXQsIHtcbiAgICAgICAgJ2xlYWRpbmcnOiBsZWFkaW5nLFxuICAgICAgICAnbWF4V2FpdCc6IHdhaXQsXG4gICAgICAgICd0cmFpbGluZyc6IHRyYWlsaW5nXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBhY2NlcHRzIHVwIHRvIG9uZSBhcmd1bWVudCwgaWdub3JpbmcgYW55XG4gICAgICogYWRkaXRpb25hbCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjYXAgYXJndW1lbnRzIGZvci5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjYXBwZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWFwKFsnNicsICc4JywgJzEwJ10sIF8udW5hcnkocGFyc2VJbnQpKTtcbiAgICAgKiAvLyA9PiBbNiwgOCwgMTBdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5hcnkoZnVuYykge1xuICAgICAgcmV0dXJuIGFyeShmdW5jLCAxKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBwcm92aWRlcyBgdmFsdWVgIHRvIGB3cmFwcGVyYCBhcyBpdHMgZmlyc3RcbiAgICAgKiBhcmd1bWVudC4gQW55IGFkZGl0aW9uYWwgYXJndW1lbnRzIHByb3ZpZGVkIHRvIHRoZSBmdW5jdGlvbiBhcmUgYXBwZW5kZWRcbiAgICAgKiB0byB0aG9zZSBwcm92aWRlZCB0byB0aGUgYHdyYXBwZXJgLiBUaGUgd3JhcHBlciBpcyBpbnZva2VkIHdpdGggdGhlIGB0aGlzYFxuICAgICAqIGJpbmRpbmcgb2YgdGhlIGNyZWF0ZWQgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFt3cmFwcGVyPWlkZW50aXR5XSBUaGUgd3JhcHBlciBmdW5jdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHAgPSBfLndyYXAoXy5lc2NhcGUsIGZ1bmN0aW9uKGZ1bmMsIHRleHQpIHtcbiAgICAgKiAgIHJldHVybiAnPHA+JyArIGZ1bmModGV4dCkgKyAnPC9wPic7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBwKCdmcmVkLCBiYXJuZXksICYgcGViYmxlcycpO1xuICAgICAqIC8vID0+ICc8cD5mcmVkLCBiYXJuZXksICZhbXA7IHBlYmJsZXM8L3A+J1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXAodmFsdWUsIHdyYXBwZXIpIHtcbiAgICAgIHJldHVybiBwYXJ0aWFsKGNhc3RGdW5jdGlvbih3cmFwcGVyKSwgdmFsdWUpO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENhc3RzIGB2YWx1ZWAgYXMgYW4gYXJyYXkgaWYgaXQncyBub3Qgb25lLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY2FzdCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5jYXN0QXJyYXkoMSk7XG4gICAgICogLy8gPT4gWzFdXG4gICAgICpcbiAgICAgKiBfLmNhc3RBcnJheSh7ICdhJzogMSB9KTtcbiAgICAgKiAvLyA9PiBbeyAnYSc6IDEgfV1cbiAgICAgKlxuICAgICAqIF8uY2FzdEFycmF5KCdhYmMnKTtcbiAgICAgKiAvLyA9PiBbJ2FiYyddXG4gICAgICpcbiAgICAgKiBfLmNhc3RBcnJheShudWxsKTtcbiAgICAgKiAvLyA9PiBbbnVsbF1cbiAgICAgKlxuICAgICAqIF8uY2FzdEFycmF5KHVuZGVmaW5lZCk7XG4gICAgICogLy8gPT4gW3VuZGVmaW5lZF1cbiAgICAgKlxuICAgICAqIF8uY2FzdEFycmF5KCk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxLCAyLCAzXTtcbiAgICAgKiBjb25zb2xlLmxvZyhfLmNhc3RBcnJheShhcnJheSkgPT09IGFycmF5KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2FzdEFycmF5KCkge1xuICAgICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHZhciB2YWx1ZSA9IGFyZ3VtZW50c1swXTtcbiAgICAgIHJldHVybiBpc0FycmF5KHZhbHVlKSA/IHZhbHVlIDogW3ZhbHVlXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2hhbGxvdyBjbG9uZSBvZiBgdmFsdWVgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGxvb3NlbHkgYmFzZWQgb24gdGhlXG4gICAgICogW3N0cnVjdHVyZWQgY2xvbmUgYWxnb3JpdGhtXShodHRwczovL21kbi5pby9TdHJ1Y3R1cmVkX2Nsb25lX2FsZ29yaXRobSlcbiAgICAgKiBhbmQgc3VwcG9ydHMgY2xvbmluZyBhcnJheXMsIGFycmF5IGJ1ZmZlcnMsIGJvb2xlYW5zLCBkYXRlIG9iamVjdHMsIG1hcHMsXG4gICAgICogbnVtYmVycywgYE9iamVjdGAgb2JqZWN0cywgcmVnZXhlcywgc2V0cywgc3RyaW5ncywgc3ltYm9scywgYW5kIHR5cGVkXG4gICAgICogYXJyYXlzLiBUaGUgb3duIGVudW1lcmFibGUgcHJvcGVydGllcyBvZiBgYXJndW1lbnRzYCBvYmplY3RzIGFyZSBjbG9uZWRcbiAgICAgKiBhcyBwbGFpbiBvYmplY3RzLiBBbiBlbXB0eSBvYmplY3QgaXMgcmV0dXJuZWQgZm9yIHVuY2xvbmVhYmxlIHZhbHVlcyBzdWNoXG4gICAgICogYXMgZXJyb3Igb2JqZWN0cywgZnVuY3Rpb25zLCBET00gbm9kZXMsIGFuZCBXZWFrTWFwcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2xvbmUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGNsb25lZCB2YWx1ZS5cbiAgICAgKiBAc2VlIF8uY2xvbmVEZWVwXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ2EnOiAxIH0sIHsgJ2InOiAyIH1dO1xuICAgICAqXG4gICAgICogdmFyIHNoYWxsb3cgPSBfLmNsb25lKG9iamVjdHMpO1xuICAgICAqIGNvbnNvbGUubG9nKHNoYWxsb3dbMF0gPT09IG9iamVjdHNbMF0pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGJhc2VDbG9uZSh2YWx1ZSwgQ0xPTkVfU1lNQk9MU19GTEFHKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmNsb25lYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYCB3aGljaFxuICAgICAqIGlzIGludm9rZWQgdG8gcHJvZHVjZSB0aGUgY2xvbmVkIHZhbHVlLiBJZiBgY3VzdG9taXplcmAgcmV0dXJucyBgdW5kZWZpbmVkYCxcbiAgICAgKiBjbG9uaW5nIGlzIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgIGlzIGludm9rZWQgd2l0aFxuICAgICAqIHVwIHRvIGZvdXIgYXJndW1lbnRzOyAodmFsdWUgWywgaW5kZXh8a2V5LCBvYmplY3QsIHN0YWNrXSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNsb25lLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNsb25pbmcuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGNsb25lZCB2YWx1ZS5cbiAgICAgKiBAc2VlIF8uY2xvbmVEZWVwV2l0aFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBjdXN0b21pemVyKHZhbHVlKSB7XG4gICAgICogICBpZiAoXy5pc0VsZW1lbnQodmFsdWUpKSB7XG4gICAgICogICAgIHJldHVybiB2YWx1ZS5jbG9uZU5vZGUoZmFsc2UpO1xuICAgICAqICAgfVxuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBlbCA9IF8uY2xvbmVXaXRoKGRvY3VtZW50LmJvZHksIGN1c3RvbWl6ZXIpO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2coZWwgPT09IGRvY3VtZW50LmJvZHkpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICogY29uc29sZS5sb2coZWwubm9kZU5hbWUpO1xuICAgICAqIC8vID0+ICdCT0RZJ1xuICAgICAqIGNvbnNvbGUubG9nKGVsLmNoaWxkTm9kZXMubGVuZ3RoKTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVXaXRoKHZhbHVlLCBjdXN0b21pemVyKSB7XG4gICAgICBjdXN0b21pemVyID0gdHlwZW9mIGN1c3RvbWl6ZXIgPT0gJ2Z1bmN0aW9uJyA/IGN1c3RvbWl6ZXIgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gYmFzZUNsb25lKHZhbHVlLCBDTE9ORV9TWU1CT0xTX0ZMQUcsIGN1c3RvbWl6ZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uY2xvbmVgIGV4Y2VwdCB0aGF0IGl0IHJlY3Vyc2l2ZWx5IGNsb25lcyBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byByZWN1cnNpdmVseSBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZGVlcCBjbG9uZWQgdmFsdWUuXG4gICAgICogQHNlZSBfLmNsb25lXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ2EnOiAxIH0sIHsgJ2InOiAyIH1dO1xuICAgICAqXG4gICAgICogdmFyIGRlZXAgPSBfLmNsb25lRGVlcChvYmplY3RzKTtcbiAgICAgKiBjb25zb2xlLmxvZyhkZWVwWzBdID09PSBvYmplY3RzWzBdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lRGVlcCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGJhc2VDbG9uZSh2YWx1ZSwgQ0xPTkVfREVFUF9GTEFHIHwgQ0xPTkVfU1lNQk9MU19GTEFHKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmNsb25lV2l0aGAgZXhjZXB0IHRoYXQgaXQgcmVjdXJzaXZlbHkgY2xvbmVzIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHJlY3Vyc2l2ZWx5IGNsb25lLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNsb25pbmcuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGRlZXAgY2xvbmVkIHZhbHVlLlxuICAgICAqIEBzZWUgXy5jbG9uZVdpdGhcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gY3VzdG9taXplcih2YWx1ZSkge1xuICAgICAqICAgaWYgKF8uaXNFbGVtZW50KHZhbHVlKSkge1xuICAgICAqICAgICByZXR1cm4gdmFsdWUuY2xvbmVOb2RlKHRydWUpO1xuICAgICAqICAgfVxuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBlbCA9IF8uY2xvbmVEZWVwV2l0aChkb2N1bWVudC5ib2R5LCBjdXN0b21pemVyKTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGVsID09PSBkb2N1bWVudC5ib2R5KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqIGNvbnNvbGUubG9nKGVsLm5vZGVOYW1lKTtcbiAgICAgKiAvLyA9PiAnQk9EWSdcbiAgICAgKiBjb25zb2xlLmxvZyhlbC5jaGlsZE5vZGVzLmxlbmd0aCk7XG4gICAgICogLy8gPT4gMjBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZURlZXBXaXRoKHZhbHVlLCBjdXN0b21pemVyKSB7XG4gICAgICBjdXN0b21pemVyID0gdHlwZW9mIGN1c3RvbWl6ZXIgPT0gJ2Z1bmN0aW9uJyA/IGN1c3RvbWl6ZXIgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gYmFzZUNsb25lKHZhbHVlLCBDTE9ORV9ERUVQX0ZMQUcgfCBDTE9ORV9TWU1CT0xTX0ZMQUcsIGN1c3RvbWl6ZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgb2JqZWN0YCBjb25mb3JtcyB0byBgc291cmNlYCBieSBpbnZva2luZyB0aGUgcHJlZGljYXRlXG4gICAgICogcHJvcGVydGllcyBvZiBgc291cmNlYCB3aXRoIHRoZSBjb3JyZXNwb25kaW5nIHByb3BlcnR5IHZhbHVlcyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBlcXVpdmFsZW50IHRvIGBfLmNvbmZvcm1zYCB3aGVuIGBzb3VyY2VgIGlzXG4gICAgICogcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xNC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgcHJlZGljYXRlcyB0byBjb25mb3JtIHRvLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgb2JqZWN0YCBjb25mb3JtcywgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogMiB9O1xuICAgICAqXG4gICAgICogXy5jb25mb3Jtc1RvKG9iamVjdCwgeyAnYic6IGZ1bmN0aW9uKG4pIHsgcmV0dXJuIG4gPiAxOyB9IH0pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uY29uZm9ybXNUbyhvYmplY3QsIHsgJ2InOiBmdW5jdGlvbihuKSB7IHJldHVybiBuID4gMjsgfSB9KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbmZvcm1zVG8ob2JqZWN0LCBzb3VyY2UpIHtcbiAgICAgIHJldHVybiBzb3VyY2UgPT0gbnVsbCB8fCBiYXNlQ29uZm9ybXNUbyhvYmplY3QsIHNvdXJjZSwga2V5cyhzb3VyY2UpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyBhXG4gICAgICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBjb21wYXJpc29uIGJldHdlZW4gdHdvIHZhbHVlcyB0byBkZXRlcm1pbmUgaWYgdGhleSBhcmUgZXF1aXZhbGVudC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSB9O1xuICAgICAqIHZhciBvdGhlciA9IHsgJ2EnOiAxIH07XG4gICAgICpcbiAgICAgKiBfLmVxKG9iamVjdCwgb2JqZWN0KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmVxKG9iamVjdCwgb3RoZXIpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmVxKCdhJywgJ2EnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmVxKCdhJywgT2JqZWN0KCdhJykpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmVxKE5hTiwgTmFOKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXEodmFsdWUsIG90aGVyKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT09IG90aGVyIHx8ICh2YWx1ZSAhPT0gdmFsdWUgJiYgb3RoZXIgIT09IG90aGVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBncmVhdGVyIHRoYW4gYG90aGVyYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjkuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGdyZWF0ZXIgdGhhbiBgb3RoZXJgLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQHNlZSBfLmx0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZ3QoMywgMSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5ndCgzLCAzKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5ndCgxLCAzKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBndCA9IGNyZWF0ZVJlbGF0aW9uYWxPcGVyYXRpb24oYmFzZUd0KTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byBgb3RoZXJgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuOS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvXG4gICAgICogIGBvdGhlcmAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAc2VlIF8ubHRlXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZ3RlKDMsIDEpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uZ3RlKDMsIDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uZ3RlKDEsIDMpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGd0ZSA9IGNyZWF0ZVJlbGF0aW9uYWxPcGVyYXRpb24oZnVuY3Rpb24odmFsdWUsIG90aGVyKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPj0gb3RoZXI7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsaWtlbHkgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBgYXJndW1lbnRzYCBvYmplY3QsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0FyZ3VtZW50cyhmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJndW1lbnRzKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNBcmd1bWVudHMgPSBiYXNlSXNBcmd1bWVudHMoZnVuY3Rpb24oKSB7IHJldHVybiBhcmd1bWVudHM7IH0oKSkgPyBiYXNlSXNBcmd1bWVudHMgOiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgJ2NhbGxlZScpICYmXG4gICAgICAgICFwcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHZhbHVlLCAnY2FsbGVlJyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYW4gYEFycmF5YCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheShbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheShkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5KCdhYmMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5KF8ubm9vcCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGFuIGBBcnJheUJ1ZmZlcmAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMy4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBhcnJheSBidWZmZXIsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5QnVmZmVyKG5ldyBBcnJheUJ1ZmZlcigyKSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5QnVmZmVyKG5ldyBBcnJheSgyKSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNBcnJheUJ1ZmZlciA9IG5vZGVJc0FycmF5QnVmZmVyID8gYmFzZVVuYXJ5KG5vZGVJc0FycmF5QnVmZmVyKSA6IGJhc2VJc0FycmF5QnVmZmVyO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYXJyYXktbGlrZS4gQSB2YWx1ZSBpcyBjb25zaWRlcmVkIGFycmF5LWxpa2UgaWYgaXQnc1xuICAgICAqIG5vdCBhIGZ1bmN0aW9uIGFuZCBoYXMgYSBgdmFsdWUubGVuZ3RoYCB0aGF0J3MgYW4gaW50ZWdlciBncmVhdGVyIHRoYW4gb3JcbiAgICAgKiBlcXVhbCB0byBgMGAgYW5kIGxlc3MgdGhhbiBvciBlcXVhbCB0byBgTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVJgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2UoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlKGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2UoJ2FiYycpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2UoXy5ub29wKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzQXJyYXlMaWtlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiBpc0xlbmd0aCh2YWx1ZS5sZW5ndGgpICYmICFpc0Z1bmN0aW9uKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmlzQXJyYXlMaWtlYCBleGNlcHQgdGhhdCBpdCBhbHNvIGNoZWNrcyBpZiBgdmFsdWVgXG4gICAgICogaXMgYW4gb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBhcnJheS1saWtlIG9iamVjdCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlT2JqZWN0KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZU9iamVjdChkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlT2JqZWN0KCdhYmMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZU9iamVjdChfLm5vb3ApO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNBcnJheUxpa2VPYmplY3QodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGlzQXJyYXlMaWtlKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYm9vbGVhbiBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGJvb2xlYW4sIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0Jvb2xlYW4oZmFsc2UpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNCb29sZWFuKG51bGwpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNCb29sZWFuKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT09IHRydWUgfHwgdmFsdWUgPT09IGZhbHNlIHx8XG4gICAgICAgIChpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IGJvb2xUYWcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgYnVmZmVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMy4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGJ1ZmZlciwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzQnVmZmVyKG5ldyBCdWZmZXIoMikpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNCdWZmZXIobmV3IFVpbnQ4QXJyYXkoMikpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzQnVmZmVyID0gbmF0aXZlSXNCdWZmZXIgfHwgc3R1YkZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBEYXRlYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgZGF0ZSBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0RhdGUobmV3IERhdGUpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNEYXRlKCdNb24gQXByaWwgMjMgMjAxMicpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzRGF0ZSA9IG5vZGVJc0RhdGUgPyBiYXNlVW5hcnkobm9kZUlzRGF0ZSkgOiBiYXNlSXNEYXRlO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGEgRE9NIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgRE9NIGVsZW1lbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0VsZW1lbnQoZG9jdW1lbnQuYm9keSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0VsZW1lbnQoJzxib2R5PicpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNFbGVtZW50KHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiB2YWx1ZS5ub2RlVHlwZSA9PT0gMSAmJiAhaXNQbGFpbk9iamVjdCh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYW4gZW1wdHkgb2JqZWN0LCBjb2xsZWN0aW9uLCBtYXAsIG9yIHNldC5cbiAgICAgKlxuICAgICAqIE9iamVjdHMgYXJlIGNvbnNpZGVyZWQgZW1wdHkgaWYgdGhleSBoYXZlIG5vIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZFxuICAgICAqIHByb3BlcnRpZXMuXG4gICAgICpcbiAgICAgKiBBcnJheS1saWtlIHZhbHVlcyBzdWNoIGFzIGBhcmd1bWVudHNgIG9iamVjdHMsIGFycmF5cywgYnVmZmVycywgc3RyaW5ncywgb3JcbiAgICAgKiBqUXVlcnktbGlrZSBjb2xsZWN0aW9ucyBhcmUgY29uc2lkZXJlZCBlbXB0eSBpZiB0aGV5IGhhdmUgYSBgbGVuZ3RoYCBvZiBgMGAuXG4gICAgICogU2ltaWxhcmx5LCBtYXBzIGFuZCBzZXRzIGFyZSBjb25zaWRlcmVkIGVtcHR5IGlmIHRoZXkgaGF2ZSBhIGBzaXplYCBvZiBgMGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGVtcHR5LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNFbXB0eShudWxsKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRW1wdHkodHJ1ZSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0VtcHR5KDEpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNFbXB0eShbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzRW1wdHkoeyAnYSc6IDEgfSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0VtcHR5KHZhbHVlKSB7XG4gICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc0FycmF5TGlrZSh2YWx1ZSkgJiZcbiAgICAgICAgICAoaXNBcnJheSh2YWx1ZSkgfHwgdHlwZW9mIHZhbHVlID09ICdzdHJpbmcnIHx8IHR5cGVvZiB2YWx1ZS5zcGxpY2UgPT0gJ2Z1bmN0aW9uJyB8fFxuICAgICAgICAgICAgaXNCdWZmZXIodmFsdWUpIHx8IGlzVHlwZWRBcnJheSh2YWx1ZSkgfHwgaXNBcmd1bWVudHModmFsdWUpKSkge1xuICAgICAgICByZXR1cm4gIXZhbHVlLmxlbmd0aDtcbiAgICAgIH1cbiAgICAgIHZhciB0YWcgPSBnZXRUYWcodmFsdWUpO1xuICAgICAgaWYgKHRhZyA9PSBtYXBUYWcgfHwgdGFnID09IHNldFRhZykge1xuICAgICAgICByZXR1cm4gIXZhbHVlLnNpemU7XG4gICAgICB9XG4gICAgICBpZiAoaXNQcm90b3R5cGUodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiAhYmFzZUtleXModmFsdWUpLmxlbmd0aDtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGtleSBpbiB2YWx1ZSkge1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwga2V5KSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgYSBkZWVwIGNvbXBhcmlzb24gYmV0d2VlbiB0d28gdmFsdWVzIHRvIGRldGVybWluZSBpZiB0aGV5IGFyZVxuICAgICAqIGVxdWl2YWxlbnQuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2Qgc3VwcG9ydHMgY29tcGFyaW5nIGFycmF5cywgYXJyYXkgYnVmZmVycywgYm9vbGVhbnMsXG4gICAgICogZGF0ZSBvYmplY3RzLCBlcnJvciBvYmplY3RzLCBtYXBzLCBudW1iZXJzLCBgT2JqZWN0YCBvYmplY3RzLCByZWdleGVzLFxuICAgICAqIHNldHMsIHN0cmluZ3MsIHN5bWJvbHMsIGFuZCB0eXBlZCBhcnJheXMuIGBPYmplY3RgIG9iamVjdHMgYXJlIGNvbXBhcmVkXG4gICAgICogYnkgdGhlaXIgb3duLCBub3QgaW5oZXJpdGVkLCBlbnVtZXJhYmxlIHByb3BlcnRpZXMuIEZ1bmN0aW9ucyBhbmQgRE9NXG4gICAgICogbm9kZXMgYXJlIGNvbXBhcmVkIGJ5IHN0cmljdCBlcXVhbGl0eSwgaS5lLiBgPT09YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSB9O1xuICAgICAqIHZhciBvdGhlciA9IHsgJ2EnOiAxIH07XG4gICAgICpcbiAgICAgKiBfLmlzRXF1YWwob2JqZWN0LCBvdGhlcik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogb2JqZWN0ID09PSBvdGhlcjtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRXF1YWwodmFsdWUsIG90aGVyKSB7XG4gICAgICByZXR1cm4gYmFzZUlzRXF1YWwodmFsdWUsIG90aGVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmlzRXF1YWxgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCB0byBjb21wYXJlIHZhbHVlcy4gSWYgYGN1c3RvbWl6ZXJgIHJldHVybnMgYHVuZGVmaW5lZGAsIGNvbXBhcmlzb25zXG4gICAgICogYXJlIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgIGlzIGludm9rZWQgd2l0aCB1cCB0b1xuICAgICAqIHNpeCBhcmd1bWVudHM6IChvYmpWYWx1ZSwgb3RoVmFsdWUgWywgaW5kZXh8a2V5LCBvYmplY3QsIG90aGVyLCBzdGFja10pLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gaXNHcmVldGluZyh2YWx1ZSkge1xuICAgICAqICAgcmV0dXJuIC9eaCg/Oml8ZWxsbykkLy50ZXN0KHZhbHVlKTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBjdXN0b21pemVyKG9ialZhbHVlLCBvdGhWYWx1ZSkge1xuICAgICAqICAgaWYgKGlzR3JlZXRpbmcob2JqVmFsdWUpICYmIGlzR3JlZXRpbmcob3RoVmFsdWUpKSB7XG4gICAgICogICAgIHJldHVybiB0cnVlO1xuICAgICAqICAgfVxuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsnaGVsbG8nLCAnZ29vZGJ5ZSddO1xuICAgICAqIHZhciBvdGhlciA9IFsnaGknLCAnZ29vZGJ5ZSddO1xuICAgICAqXG4gICAgICogXy5pc0VxdWFsV2l0aChhcnJheSwgb3RoZXIsIGN1c3RvbWl6ZXIpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0VxdWFsV2l0aCh2YWx1ZSwgb3RoZXIsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGN1c3RvbWl6ZXIgPSB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nID8gY3VzdG9taXplciA6IHVuZGVmaW5lZDtcbiAgICAgIHZhciByZXN1bHQgPSBjdXN0b21pemVyID8gY3VzdG9taXplcih2YWx1ZSwgb3RoZXIpIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIHJlc3VsdCA9PT0gdW5kZWZpbmVkID8gYmFzZUlzRXF1YWwodmFsdWUsIG90aGVyLCB1bmRlZmluZWQsIGN1c3RvbWl6ZXIpIDogISFyZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYW4gYEVycm9yYCwgYEV2YWxFcnJvcmAsIGBSYW5nZUVycm9yYCwgYFJlZmVyZW5jZUVycm9yYCxcbiAgICAgKiBgU3ludGF4RXJyb3JgLCBgVHlwZUVycm9yYCwgb3IgYFVSSUVycm9yYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGVycm9yIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzRXJyb3IobmV3IEVycm9yKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRXJyb3IoRXJyb3IpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNFcnJvcih2YWx1ZSkge1xuICAgICAgaWYgKCFpc09iamVjdExpa2UodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciB0YWcgPSBiYXNlR2V0VGFnKHZhbHVlKTtcbiAgICAgIHJldHVybiB0YWcgPT0gZXJyb3JUYWcgfHwgdGFnID09IGRvbUV4Y1RhZyB8fFxuICAgICAgICAodHlwZW9mIHZhbHVlLm1lc3NhZ2UgPT0gJ3N0cmluZycgJiYgdHlwZW9mIHZhbHVlLm5hbWUgPT0gJ3N0cmluZycgJiYgIWlzUGxhaW5PYmplY3QodmFsdWUpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIGZpbml0ZSBwcmltaXRpdmUgbnVtYmVyLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uXG4gICAgICogW2BOdW1iZXIuaXNGaW5pdGVgXShodHRwczovL21kbi5pby9OdW1iZXIvaXNGaW5pdGUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGZpbml0ZSBudW1iZXIsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0Zpbml0ZSgzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRmluaXRlKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNGaW5pdGUoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzRmluaXRlKCczJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0Zpbml0ZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyAmJiBuYXRpdmVJc0Zpbml0ZSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBGdW5jdGlvbmAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGZ1bmN0aW9uLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNGdW5jdGlvbihfKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRnVuY3Rpb24oL2FiYy8pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNGdW5jdGlvbih2YWx1ZSkge1xuICAgICAgaWYgKCFpc09iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgLy8gVGhlIHVzZSBvZiBgT2JqZWN0I3RvU3RyaW5nYCBhdm9pZHMgaXNzdWVzIHdpdGggdGhlIGB0eXBlb2ZgIG9wZXJhdG9yXG4gICAgICAvLyBpbiBTYWZhcmkgOSB3aGljaCByZXR1cm5zICdvYmplY3QnIGZvciB0eXBlZCBhcnJheXMgYW5kIG90aGVyIGNvbnN0cnVjdG9ycy5cbiAgICAgIHZhciB0YWcgPSBiYXNlR2V0VGFnKHZhbHVlKTtcbiAgICAgIHJldHVybiB0YWcgPT0gZnVuY1RhZyB8fCB0YWcgPT0gZ2VuVGFnIHx8IHRhZyA9PSBhc3luY1RhZyB8fCB0YWcgPT0gcHJveHlUYWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYW4gaW50ZWdlci5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgTnVtYmVyLmlzSW50ZWdlcmBdKGh0dHBzOi8vbWRuLmlvL051bWJlci9pc0ludGVnZXIpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBpbnRlZ2VyLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNJbnRlZ2VyKDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNJbnRlZ2VyKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzSW50ZWdlcihJbmZpbml0eSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNJbnRlZ2VyKCczJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0ludGVnZXIodmFsdWUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgJiYgdmFsdWUgPT0gdG9JbnRlZ2VyKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGFycmF5LWxpa2UgbGVuZ3RoLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGxvb3NlbHkgYmFzZWQgb25cbiAgICAgKiBbYFRvTGVuZ3RoYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtdG9sZW5ndGgpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGxlbmd0aCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzTGVuZ3RoKDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNMZW5ndGgoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNMZW5ndGgoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzTGVuZ3RoKCczJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0xlbmd0aCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyAmJlxuICAgICAgICB2YWx1ZSA+IC0xICYmIHZhbHVlICUgMSA9PSAwICYmIHZhbHVlIDw9IE1BWF9TQUZFX0lOVEVHRVI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgdGhlXG4gICAgICogW2xhbmd1YWdlIHR5cGVdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1lY21hc2NyaXB0LWxhbmd1YWdlLXR5cGVzKVxuICAgICAqIG9mIGBPYmplY3RgLiAoZS5nLiBhcnJheXMsIGZ1bmN0aW9ucywgb2JqZWN0cywgcmVnZXhlcywgYG5ldyBOdW1iZXIoMClgLCBhbmQgYG5ldyBTdHJpbmcoJycpYClcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3Qoe30pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3QoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0KF8ubm9vcCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdChudWxsKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gICAgICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgICAgIHJldHVybiB2YWx1ZSAhPSBudWxsICYmICh0eXBlID09ICdvYmplY3QnIHx8IHR5cGUgPT0gJ2Z1bmN0aW9uJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuIEEgdmFsdWUgaXMgb2JqZWN0LWxpa2UgaWYgaXQncyBub3QgYG51bGxgXG4gICAgICogYW5kIGhhcyBhIGB0eXBlb2ZgIHJlc3VsdCBvZiBcIm9iamVjdFwiLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0TGlrZSh7fSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdExpa2UoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0TGlrZShfLm5vb3ApO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0TGlrZShudWxsKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgTWFwYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbWFwLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNNYXAobmV3IE1hcCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc01hcChuZXcgV2Vha01hcCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNNYXAgPSBub2RlSXNNYXAgPyBiYXNlVW5hcnkobm9kZUlzTWFwKSA6IGJhc2VJc01hcDtcblxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIGEgcGFydGlhbCBkZWVwIGNvbXBhcmlzb24gYmV0d2VlbiBgb2JqZWN0YCBhbmQgYHNvdXJjZWAgdG9cbiAgICAgKiBkZXRlcm1pbmUgaWYgYG9iamVjdGAgY29udGFpbnMgZXF1aXZhbGVudCBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgZXF1aXZhbGVudCB0byBgXy5tYXRjaGVzYCB3aGVuIGBzb3VyY2VgIGlzXG4gICAgICogcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICpcbiAgICAgKiBQYXJ0aWFsIGNvbXBhcmlzb25zIHdpbGwgbWF0Y2ggZW1wdHkgYXJyYXkgYW5kIGVtcHR5IG9iamVjdCBgc291cmNlYFxuICAgICAqIHZhbHVlcyBhZ2FpbnN0IGFueSBhcnJheSBvciBvYmplY3QgdmFsdWUsIHJlc3BlY3RpdmVseS4gU2VlIGBfLmlzRXF1YWxgXG4gICAgICogZm9yIGEgbGlzdCBvZiBzdXBwb3J0ZWQgdmFsdWUgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSB2YWx1ZXMgdG8gbWF0Y2guXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBvYmplY3RgIGlzIGEgbWF0Y2gsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6IDIgfTtcbiAgICAgKlxuICAgICAqIF8uaXNNYXRjaChvYmplY3QsIHsgJ2InOiAyIH0pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNNYXRjaChvYmplY3QsIHsgJ2InOiAxIH0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNNYXRjaChvYmplY3QsIHNvdXJjZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PT0gc291cmNlIHx8IGJhc2VJc01hdGNoKG9iamVjdCwgc291cmNlLCBnZXRNYXRjaERhdGEoc291cmNlKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pc01hdGNoYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYCB3aGljaFxuICAgICAqIGlzIGludm9rZWQgdG8gY29tcGFyZSB2YWx1ZXMuIElmIGBjdXN0b21pemVyYCByZXR1cm5zIGB1bmRlZmluZWRgLCBjb21wYXJpc29uc1xuICAgICAqIGFyZSBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYCBpcyBpbnZva2VkIHdpdGggZml2ZVxuICAgICAqIGFyZ3VtZW50czogKG9ialZhbHVlLCBzcmNWYWx1ZSwgaW5kZXh8a2V5LCBvYmplY3QsIHNvdXJjZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSB2YWx1ZXMgdG8gbWF0Y2guXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBvYmplY3RgIGlzIGEgbWF0Y2gsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gaXNHcmVldGluZyh2YWx1ZSkge1xuICAgICAqICAgcmV0dXJuIC9eaCg/Oml8ZWxsbykkLy50ZXN0KHZhbHVlKTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSkge1xuICAgICAqICAgaWYgKGlzR3JlZXRpbmcob2JqVmFsdWUpICYmIGlzR3JlZXRpbmcoc3JjVmFsdWUpKSB7XG4gICAgICogICAgIHJldHVybiB0cnVlO1xuICAgICAqICAgfVxuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdncmVldGluZyc6ICdoZWxsbycgfTtcbiAgICAgKiB2YXIgc291cmNlID0geyAnZ3JlZXRpbmcnOiAnaGknIH07XG4gICAgICpcbiAgICAgKiBfLmlzTWF0Y2hXaXRoKG9iamVjdCwgc291cmNlLCBjdXN0b21pemVyKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNNYXRjaFdpdGgob2JqZWN0LCBzb3VyY2UsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGN1c3RvbWl6ZXIgPSB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nID8gY3VzdG9taXplciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBiYXNlSXNNYXRjaChvYmplY3QsIHNvdXJjZSwgZ2V0TWF0Y2hEYXRhKHNvdXJjZSksIGN1c3RvbWl6ZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGBOYU5gLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uXG4gICAgICogW2BOdW1iZXIuaXNOYU5gXShodHRwczovL21kbi5pby9OdW1iZXIvaXNOYU4pIGFuZCBpcyBub3QgdGhlIHNhbWUgYXNcbiAgICAgKiBnbG9iYWwgW2Bpc05hTmBdKGh0dHBzOi8vbWRuLmlvL2lzTmFOKSB3aGljaCByZXR1cm5zIGB0cnVlYCBmb3JcbiAgICAgKiBgdW5kZWZpbmVkYCBhbmQgb3RoZXIgbm9uLW51bWJlciB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGBOYU5gLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNOYU4oTmFOKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTmFOKG5ldyBOdW1iZXIoTmFOKSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogaXNOYU4odW5kZWZpbmVkKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTmFOKHVuZGVmaW5lZCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc05hTih2YWx1ZSkge1xuICAgICAgLy8gQW4gYE5hTmAgcHJpbWl0aXZlIGlzIHRoZSBvbmx5IHZhbHVlIHRoYXQgaXMgbm90IGVxdWFsIHRvIGl0c2VsZi5cbiAgICAgIC8vIFBlcmZvcm0gdGhlIGB0b1N0cmluZ1RhZ2AgY2hlY2sgZmlyc3QgdG8gYXZvaWQgZXJyb3JzIHdpdGggc29tZVxuICAgICAgLy8gQWN0aXZlWCBvYmplY3RzIGluIElFLlxuICAgICAgcmV0dXJuIGlzTnVtYmVyKHZhbHVlKSAmJiB2YWx1ZSAhPSArdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBwcmlzdGluZSBuYXRpdmUgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgY2FuJ3QgcmVsaWFibHkgZGV0ZWN0IG5hdGl2ZSBmdW5jdGlvbnMgaW4gdGhlIHByZXNlbmNlXG4gICAgICogb2YgdGhlIGNvcmUtanMgcGFja2FnZSBiZWNhdXNlIGNvcmUtanMgY2lyY3VtdmVudHMgdGhpcyBraW5kIG9mIGRldGVjdGlvbi5cbiAgICAgKiBEZXNwaXRlIG11bHRpcGxlIHJlcXVlc3RzLCB0aGUgY29yZS1qcyBtYWludGFpbmVyIGhhcyBtYWRlIGl0IGNsZWFyOiBhbnlcbiAgICAgKiBhdHRlbXB0IHRvIGZpeCB0aGUgZGV0ZWN0aW9uIHdpbGwgYmUgb2JzdHJ1Y3RlZC4gQXMgYSByZXN1bHQsIHdlJ3JlIGxlZnRcbiAgICAgKiB3aXRoIGxpdHRsZSBjaG9pY2UgYnV0IHRvIHRocm93IGFuIGVycm9yLiBVbmZvcnR1bmF0ZWx5LCB0aGlzIGFsc28gYWZmZWN0c1xuICAgICAqIHBhY2thZ2VzLCBsaWtlIFtiYWJlbC1wb2x5ZmlsbF0oaHR0cHM6Ly93d3cubnBtanMuY29tL3BhY2thZ2UvYmFiZWwtcG9seWZpbGwpLFxuICAgICAqIHdoaWNoIHJlbHkgb24gY29yZS1qcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBuYXRpdmUgZnVuY3Rpb24sXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc05hdGl2ZShBcnJheS5wcm90b3R5cGUucHVzaCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc05hdGl2ZShfKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTmF0aXZlKHZhbHVlKSB7XG4gICAgICBpZiAoaXNNYXNrYWJsZSh2YWx1ZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKENPUkVfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZUlzTmF0aXZlKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBgbnVsbGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGBudWxsYCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzTnVsbChudWxsKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTnVsbCh2b2lkIDApO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNOdWxsKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT09IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYG51bGxgIG9yIGB1bmRlZmluZWRgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBudWxsaXNoLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNOaWwobnVsbCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc05pbCh2b2lkIDApO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOaWwoTmFOKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTmlsKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYE51bWJlcmAgcHJpbWl0aXZlIG9yIG9iamVjdC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUbyBleGNsdWRlIGBJbmZpbml0eWAsIGAtSW5maW5pdHlgLCBhbmQgYE5hTmAsIHdoaWNoIGFyZVxuICAgICAqIGNsYXNzaWZpZWQgYXMgbnVtYmVycywgdXNlIHRoZSBgXy5pc0Zpbml0ZWAgbWV0aG9kLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG51bWJlciwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzTnVtYmVyKDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOdW1iZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc051bWJlcihJbmZpbml0eSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc051bWJlcignMycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNOdW1iZXIodmFsdWUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgfHxcbiAgICAgICAgKGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gbnVtYmVyVGFnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHBsYWluIG9iamVjdCwgdGhhdCBpcywgYW4gb2JqZWN0IGNyZWF0ZWQgYnkgdGhlXG4gICAgICogYE9iamVjdGAgY29uc3RydWN0b3Igb3Igb25lIHdpdGggYSBgW1tQcm90b3R5cGVdXWAgb2YgYG51bGxgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuOC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHBsYWluIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIF8uaXNQbGFpbk9iamVjdChuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc1BsYWluT2JqZWN0KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNQbGFpbk9iamVjdCh7ICd4JzogMCwgJ3knOiAwIH0pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNQbGFpbk9iamVjdChPYmplY3QuY3JlYXRlKG51bGwpKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNQbGFpbk9iamVjdCh2YWx1ZSkge1xuICAgICAgaWYgKCFpc09iamVjdExpa2UodmFsdWUpIHx8IGJhc2VHZXRUYWcodmFsdWUpICE9IG9iamVjdFRhZykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgcHJvdG8gPSBnZXRQcm90b3R5cGUodmFsdWUpO1xuICAgICAgaWYgKHByb3RvID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgdmFyIEN0b3IgPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKHByb3RvLCAnY29uc3RydWN0b3InKSAmJiBwcm90by5jb25zdHJ1Y3RvcjtcbiAgICAgIHJldHVybiB0eXBlb2YgQ3RvciA9PSAnZnVuY3Rpb24nICYmIEN0b3IgaW5zdGFuY2VvZiBDdG9yICYmXG4gICAgICAgIGZ1bmNUb1N0cmluZy5jYWxsKEN0b3IpID09IG9iamVjdEN0b3JTdHJpbmc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBSZWdFeHBgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSByZWdleHAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1JlZ0V4cCgvYWJjLyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1JlZ0V4cCgnL2FiYy8nKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc1JlZ0V4cCA9IG5vZGVJc1JlZ0V4cCA/IGJhc2VVbmFyeShub2RlSXNSZWdFeHApIDogYmFzZUlzUmVnRXhwO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBzYWZlIGludGVnZXIuIEFuIGludGVnZXIgaXMgc2FmZSBpZiBpdCdzIGFuIElFRUUtNzU0XG4gICAgICogZG91YmxlIHByZWNpc2lvbiBudW1iZXIgd2hpY2ggaXNuJ3QgdGhlIHJlc3VsdCBvZiBhIHJvdW5kZWQgdW5zYWZlIGludGVnZXIuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb25cbiAgICAgKiBbYE51bWJlci5pc1NhZmVJbnRlZ2VyYF0oaHR0cHM6Ly9tZG4uaW8vTnVtYmVyL2lzU2FmZUludGVnZXIpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHNhZmUgaW50ZWdlciwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzU2FmZUludGVnZXIoMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1NhZmVJbnRlZ2VyKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzU2FmZUludGVnZXIoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzU2FmZUludGVnZXIoJzMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzU2FmZUludGVnZXIodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc0ludGVnZXIodmFsdWUpICYmIHZhbHVlID49IC1NQVhfU0FGRV9JTlRFR0VSICYmIHZhbHVlIDw9IE1BWF9TQUZFX0lOVEVHRVI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBTZXRgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjMuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzZXQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1NldChuZXcgU2V0KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzU2V0KG5ldyBXZWFrU2V0KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc1NldCA9IG5vZGVJc1NldCA/IGJhc2VVbmFyeShub2RlSXNTZXQpIDogYmFzZUlzU2V0O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBTdHJpbmdgIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc3RyaW5nLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNTdHJpbmcoJ2FiYycpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNTdHJpbmcoMSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1N0cmluZyh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJyB8fFxuICAgICAgICAoIWlzQXJyYXkodmFsdWUpICYmIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gc3RyaW5nVGFnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFN5bWJvbGAgcHJpbWl0aXZlIG9yIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzeW1ib2wsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1N5bWJvbChTeW1ib2wuaXRlcmF0b3IpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNTeW1ib2woJ2FiYycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNTeW1ib2wodmFsdWUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ3N5bWJvbCcgfHxcbiAgICAgICAgKGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gc3ltYm9sVGFnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgdHlwZWQgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdHlwZWQgYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1R5cGVkQXJyYXkobmV3IFVpbnQ4QXJyYXkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNUeXBlZEFycmF5KFtdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc1R5cGVkQXJyYXkgPSBub2RlSXNUeXBlZEFycmF5ID8gYmFzZVVuYXJ5KG5vZGVJc1R5cGVkQXJyYXkpIDogYmFzZUlzVHlwZWRBcnJheTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGB1bmRlZmluZWRgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBgdW5kZWZpbmVkYCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzVW5kZWZpbmVkKHZvaWQgMCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1VuZGVmaW5lZChudWxsKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzVW5kZWZpbmVkKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFdlYWtNYXBgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjMuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB3ZWFrIG1hcCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzV2Vha01hcChuZXcgV2Vha01hcCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1dlYWtNYXAobmV3IE1hcCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1dlYWtNYXAodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGdldFRhZyh2YWx1ZSkgPT0gd2Vha01hcFRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFdlYWtTZXRgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjMuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB3ZWFrIHNldCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzV2Vha1NldChuZXcgV2Vha1NldCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1dlYWtTZXQobmV3IFNldCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1dlYWtTZXQodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IHdlYWtTZXRUYWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGVzcyB0aGFuIGBvdGhlcmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy45LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBsZXNzIHRoYW4gYG90aGVyYCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBzZWUgXy5ndFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmx0KDEsIDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8ubHQoMywgMyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8ubHQoMywgMSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgbHQgPSBjcmVhdGVSZWxhdGlvbmFsT3BlcmF0aW9uKGJhc2VMdCk7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gYG90aGVyYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjkuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGxlc3MgdGhhbiBvciBlcXVhbCB0b1xuICAgICAqICBgb3RoZXJgLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQHNlZSBfLmd0ZVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmx0ZSgxLCAzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmx0ZSgzLCAzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmx0ZSgzLCAxKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBsdGUgPSBjcmVhdGVSZWxhdGlvbmFsT3BlcmF0aW9uKGZ1bmN0aW9uKHZhbHVlLCBvdGhlcikge1xuICAgICAgcmV0dXJuIHZhbHVlIDw9IG90aGVyO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhbiBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b0FycmF5KHsgJ2EnOiAxLCAnYic6IDIgfSk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICpcbiAgICAgKiBfLnRvQXJyYXkoJ2FiYycpO1xuICAgICAqIC8vID0+IFsnYScsICdiJywgJ2MnXVxuICAgICAqXG4gICAgICogXy50b0FycmF5KDEpO1xuICAgICAqIC8vID0+IFtdXG4gICAgICpcbiAgICAgKiBfLnRvQXJyYXkobnVsbCk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0FycmF5KHZhbHVlKSB7XG4gICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIGlmIChpc0FycmF5TGlrZSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGlzU3RyaW5nKHZhbHVlKSA/IHN0cmluZ1RvQXJyYXkodmFsdWUpIDogY29weUFycmF5KHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGlmIChzeW1JdGVyYXRvciAmJiB2YWx1ZVtzeW1JdGVyYXRvcl0pIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhdG9yVG9BcnJheSh2YWx1ZVtzeW1JdGVyYXRvcl0oKSk7XG4gICAgICB9XG4gICAgICB2YXIgdGFnID0gZ2V0VGFnKHZhbHVlKSxcbiAgICAgICAgICBmdW5jID0gdGFnID09IG1hcFRhZyA/IG1hcFRvQXJyYXkgOiAodGFnID09IHNldFRhZyA/IHNldFRvQXJyYXkgOiB2YWx1ZXMpO1xuXG4gICAgICByZXR1cm4gZnVuYyh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIGZpbml0ZSBudW1iZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMi4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9GaW5pdGUoMy4yKTtcbiAgICAgKiAvLyA9PiAzLjJcbiAgICAgKlxuICAgICAqIF8udG9GaW5pdGUoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gNWUtMzI0XG4gICAgICpcbiAgICAgKiBfLnRvRmluaXRlKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiAxLjc5NzY5MzEzNDg2MjMxNTdlKzMwOFxuICAgICAqXG4gICAgICogXy50b0Zpbml0ZSgnMy4yJyk7XG4gICAgICogLy8gPT4gMy4yXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9GaW5pdGUodmFsdWUpIHtcbiAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlID09PSAwID8gdmFsdWUgOiAwO1xuICAgICAgfVxuICAgICAgdmFsdWUgPSB0b051bWJlcih2YWx1ZSk7XG4gICAgICBpZiAodmFsdWUgPT09IElORklOSVRZIHx8IHZhbHVlID09PSAtSU5GSU5JVFkpIHtcbiAgICAgICAgdmFyIHNpZ24gPSAodmFsdWUgPCAwID8gLTEgOiAxKTtcbiAgICAgICAgcmV0dXJuIHNpZ24gKiBNQVhfSU5URUdFUjtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gdmFsdWUgPyB2YWx1ZSA6IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhbiBpbnRlZ2VyLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGxvb3NlbHkgYmFzZWQgb25cbiAgICAgKiBbYFRvSW50ZWdlcmBdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy10b2ludGVnZXIpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBpbnRlZ2VyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvSW50ZWdlcigzLjIpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIF8udG9JbnRlZ2VyKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IDBcbiAgICAgKlxuICAgICAqIF8udG9JbnRlZ2VyKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiAxLjc5NzY5MzEzNDg2MjMxNTdlKzMwOFxuICAgICAqXG4gICAgICogXy50b0ludGVnZXIoJzMuMicpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0ludGVnZXIodmFsdWUpIHtcbiAgICAgIHZhciByZXN1bHQgPSB0b0Zpbml0ZSh2YWx1ZSksXG4gICAgICAgICAgcmVtYWluZGVyID0gcmVzdWx0ICUgMTtcblxuICAgICAgcmV0dXJuIHJlc3VsdCA9PT0gcmVzdWx0ID8gKHJlbWFpbmRlciA/IHJlc3VsdCAtIHJlbWFpbmRlciA6IHJlc3VsdCkgOiAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYW4gaW50ZWdlciBzdWl0YWJsZSBmb3IgdXNlIGFzIHRoZSBsZW5ndGggb2YgYW5cbiAgICAgKiBhcnJheS1saWtlIG9iamVjdC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgVG9MZW5ndGhgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy10b2xlbmd0aCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29udmVydGVkIGludGVnZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9MZW5ndGgoMy4yKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLnRvTGVuZ3RoKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IDBcbiAgICAgKlxuICAgICAqIF8udG9MZW5ndGgoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IDQyOTQ5NjcyOTVcbiAgICAgKlxuICAgICAqIF8udG9MZW5ndGgoJzMuMicpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0xlbmd0aCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID8gYmFzZUNsYW1wKHRvSW50ZWdlcih2YWx1ZSksIDAsIE1BWF9BUlJBWV9MRU5HVEgpIDogMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgbnVtYmVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm9jZXNzLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG51bWJlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b051bWJlcigzLjIpO1xuICAgICAqIC8vID0+IDMuMlxuICAgICAqXG4gICAgICogXy50b051bWJlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiA1ZS0zMjRcbiAgICAgKlxuICAgICAqIF8udG9OdW1iZXIoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IEluZmluaXR5XG4gICAgICpcbiAgICAgKiBfLnRvTnVtYmVyKCczLjInKTtcbiAgICAgKiAvLyA9PiAzLjJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b051bWJlcih2YWx1ZSkge1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJykge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAoaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBOQU47XG4gICAgICB9XG4gICAgICBpZiAoaXNPYmplY3QodmFsdWUpKSB7XG4gICAgICAgIHZhciBvdGhlciA9IHR5cGVvZiB2YWx1ZS52YWx1ZU9mID09ICdmdW5jdGlvbicgPyB2YWx1ZS52YWx1ZU9mKCkgOiB2YWx1ZTtcbiAgICAgICAgdmFsdWUgPSBpc09iamVjdChvdGhlcikgPyAob3RoZXIgKyAnJykgOiBvdGhlcjtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlID09PSAwID8gdmFsdWUgOiArdmFsdWU7XG4gICAgICB9XG4gICAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UocmVUcmltLCAnJyk7XG4gICAgICB2YXIgaXNCaW5hcnkgPSByZUlzQmluYXJ5LnRlc3QodmFsdWUpO1xuICAgICAgcmV0dXJuIChpc0JpbmFyeSB8fCByZUlzT2N0YWwudGVzdCh2YWx1ZSkpXG4gICAgICAgID8gZnJlZVBhcnNlSW50KHZhbHVlLnNsaWNlKDIpLCBpc0JpbmFyeSA/IDIgOiA4KVxuICAgICAgICA6IChyZUlzQmFkSGV4LnRlc3QodmFsdWUpID8gTkFOIDogK3ZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgcGxhaW4gb2JqZWN0IGZsYXR0ZW5pbmcgaW5oZXJpdGVkIGVudW1lcmFibGUgc3RyaW5nXG4gICAgICoga2V5ZWQgcHJvcGVydGllcyBvZiBgdmFsdWVgIHRvIG93biBwcm9wZXJ0aWVzIG9mIHRoZSBwbGFpbiBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY29udmVydGVkIHBsYWluIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy5hc3NpZ24oeyAnYSc6IDEgfSwgbmV3IEZvbyk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiB9XG4gICAgICpcbiAgICAgKiBfLmFzc2lnbih7ICdhJzogMSB9LCBfLnRvUGxhaW5PYmplY3QobmV3IEZvbykpO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMyB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9QbGFpbk9iamVjdCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGNvcHlPYmplY3QodmFsdWUsIGtleXNJbih2YWx1ZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzYWZlIGludGVnZXIuIEEgc2FmZSBpbnRlZ2VyIGNhbiBiZSBjb21wYXJlZCBhbmRcbiAgICAgKiByZXByZXNlbnRlZCBjb3JyZWN0bHkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29udmVydGVkIGludGVnZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9TYWZlSW50ZWdlcigzLjIpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIF8udG9TYWZlSW50ZWdlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICpcbiAgICAgKiBfLnRvU2FmZUludGVnZXIoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IDkwMDcxOTkyNTQ3NDA5OTFcbiAgICAgKlxuICAgICAqIF8udG9TYWZlSW50ZWdlcignMy4yJyk7XG4gICAgICogLy8gPT4gM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvU2FmZUludGVnZXIodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZVxuICAgICAgICA/IGJhc2VDbGFtcCh0b0ludGVnZXIodmFsdWUpLCAtTUFYX1NBRkVfSU5URUdFUiwgTUFYX1NBRkVfSU5URUdFUilcbiAgICAgICAgOiAodmFsdWUgPT09IDAgPyB2YWx1ZSA6IDApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcuIEFuIGVtcHR5IHN0cmluZyBpcyByZXR1cm5lZCBmb3IgYG51bGxgXG4gICAgICogYW5kIGB1bmRlZmluZWRgIHZhbHVlcy4gVGhlIHNpZ24gb2YgYC0wYCBpcyBwcmVzZXJ2ZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY29udmVydGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b1N0cmluZyhudWxsKTtcbiAgICAgKiAvLyA9PiAnJ1xuICAgICAqXG4gICAgICogXy50b1N0cmluZygtMCk7XG4gICAgICogLy8gPT4gJy0wJ1xuICAgICAqXG4gICAgICogXy50b1N0cmluZyhbMSwgMiwgM10pO1xuICAgICAqIC8vID0+ICcxLDIsMydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b1N0cmluZyh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID09IG51bGwgPyAnJyA6IGJhc2VUb1N0cmluZyh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQXNzaWducyBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBvZiBzb3VyY2Ugb2JqZWN0cyB0byB0aGVcbiAgICAgKiBkZXN0aW5hdGlvbiBvYmplY3QuIFNvdXJjZSBvYmplY3RzIGFyZSBhcHBsaWVkIGZyb20gbGVmdCB0byByaWdodC5cbiAgICAgKiBTdWJzZXF1ZW50IHNvdXJjZXMgb3ZlcndyaXRlIHByb3BlcnR5IGFzc2lnbm1lbnRzIG9mIHByZXZpb3VzIHNvdXJjZXMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YCBhbmQgaXMgbG9vc2VseSBiYXNlZCBvblxuICAgICAqIFtgT2JqZWN0LmFzc2lnbmBdKGh0dHBzOi8vbWRuLmlvL09iamVjdC9hc3NpZ24pLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMTAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi5PYmplY3R9IFtzb3VyY2VzXSBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uYXNzaWduSW5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBCYXIoKSB7XG4gICAgICogICB0aGlzLmMgPSAzO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYiA9IDI7XG4gICAgICogQmFyLnByb3RvdHlwZS5kID0gNDtcbiAgICAgKlxuICAgICAqIF8uYXNzaWduKHsgJ2EnOiAwIH0sIG5ldyBGb28sIG5ldyBCYXIpO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYyc6IDMgfVxuICAgICAqL1xuICAgIHZhciBhc3NpZ24gPSBjcmVhdGVBc3NpZ25lcihmdW5jdGlvbihvYmplY3QsIHNvdXJjZSkge1xuICAgICAgaWYgKGlzUHJvdG90eXBlKHNvdXJjZSkgfHwgaXNBcnJheUxpa2Uoc291cmNlKSkge1xuICAgICAgICBjb3B5T2JqZWN0KHNvdXJjZSwga2V5cyhzb3VyY2UpLCBvYmplY3QpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgIGFzc2lnblZhbHVlKG9iamVjdCwga2V5LCBzb3VyY2Vba2V5XSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uYXNzaWduYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIG93biBhbmRcbiAgICAgKiBpbmhlcml0ZWQgc291cmNlIHByb3BlcnRpZXMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBhbGlhcyBleHRlbmRcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBbc291cmNlc10gVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmFzc2lnblxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEJhcigpIHtcbiAgICAgKiAgIHRoaXMuYyA9IDM7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5iID0gMjtcbiAgICAgKiBCYXIucHJvdG90eXBlLmQgPSA0O1xuICAgICAqXG4gICAgICogXy5hc3NpZ25Jbih7ICdhJzogMCB9LCBuZXcgRm9vLCBuZXcgQmFyKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDMsICdkJzogNCB9XG4gICAgICovXG4gICAgdmFyIGFzc2lnbkluID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UpIHtcbiAgICAgIGNvcHlPYmplY3Qoc291cmNlLCBrZXlzSW4oc291cmNlKSwgb2JqZWN0KTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uYXNzaWduSW5gIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgXG4gICAgICogd2hpY2ggaXMgaW52b2tlZCB0byBwcm9kdWNlIHRoZSBhc3NpZ25lZCB2YWx1ZXMuIElmIGBjdXN0b21pemVyYCByZXR1cm5zXG4gICAgICogYHVuZGVmaW5lZGAsIGFzc2lnbm1lbnQgaXMgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmBcbiAgICAgKiBpcyBpbnZva2VkIHdpdGggZml2ZSBhcmd1bWVudHM6IChvYmpWYWx1ZSwgc3JjVmFsdWUsIGtleSwgb2JqZWN0LCBzb3VyY2UpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAYWxpYXMgZXh0ZW5kV2l0aFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi5PYmplY3R9IHNvdXJjZXMgVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5hc3NpZ25XaXRoXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGN1c3RvbWl6ZXIob2JqVmFsdWUsIHNyY1ZhbHVlKSB7XG4gICAgICogICByZXR1cm4gXy5pc1VuZGVmaW5lZChvYmpWYWx1ZSkgPyBzcmNWYWx1ZSA6IG9ialZhbHVlO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBkZWZhdWx0cyA9IF8ucGFydGlhbFJpZ2h0KF8uYXNzaWduSW5XaXRoLCBjdXN0b21pemVyKTtcbiAgICAgKlxuICAgICAqIGRlZmF1bHRzKHsgJ2EnOiAxIH0sIHsgJ2InOiAyIH0sIHsgJ2EnOiAzIH0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIgfVxuICAgICAqL1xuICAgIHZhciBhc3NpZ25JbldpdGggPSBjcmVhdGVBc3NpZ25lcihmdW5jdGlvbihvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGNvcHlPYmplY3Qoc291cmNlLCBrZXlzSW4oc291cmNlKSwgb2JqZWN0LCBjdXN0b21pemVyKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uYXNzaWduYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYFxuICAgICAqIHdoaWNoIGlzIGludm9rZWQgdG8gcHJvZHVjZSB0aGUgYXNzaWduZWQgdmFsdWVzLiBJZiBgY3VzdG9taXplcmAgcmV0dXJuc1xuICAgICAqIGB1bmRlZmluZWRgLCBhc3NpZ25tZW50IGlzIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgXG4gICAgICogaXMgaW52b2tlZCB3aXRoIGZpdmUgYXJndW1lbnRzOiAob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCwgc291cmNlKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gc291cmNlcyBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgYXNzaWduZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmFzc2lnbkluV2l0aFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSkge1xuICAgICAqICAgcmV0dXJuIF8uaXNVbmRlZmluZWQob2JqVmFsdWUpID8gc3JjVmFsdWUgOiBvYmpWYWx1ZTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgZGVmYXVsdHMgPSBfLnBhcnRpYWxSaWdodChfLmFzc2lnbldpdGgsIGN1c3RvbWl6ZXIpO1xuICAgICAqXG4gICAgICogZGVmYXVsdHMoeyAnYSc6IDEgfSwgeyAnYic6IDIgfSwgeyAnYSc6IDMgfSk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiB9XG4gICAgICovXG4gICAgdmFyIGFzc2lnbldpdGggPSBjcmVhdGVBc3NpZ25lcihmdW5jdGlvbihvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGNvcHlPYmplY3Qoc291cmNlLCBrZXlzKHNvdXJjZSksIG9iamVjdCwgY3VzdG9taXplcik7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHZhbHVlcyBjb3JyZXNwb25kaW5nIHRvIGBwYXRoc2Agb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0gey4uLihzdHJpbmd8c3RyaW5nW10pfSBbcGF0aHNdIFRoZSBwcm9wZXJ0eSBwYXRocyB0byBwaWNrLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcGlja2VkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MnOiAzIH0gfSwgNF0gfTtcbiAgICAgKlxuICAgICAqIF8uYXQob2JqZWN0LCBbJ2FbMF0uYi5jJywgJ2FbMV0nXSk7XG4gICAgICogLy8gPT4gWzMsIDRdXG4gICAgICovXG4gICAgdmFyIGF0ID0gZmxhdFJlc3QoYmFzZUF0KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IHRoYXQgaW5oZXJpdHMgZnJvbSB0aGUgYHByb3RvdHlwZWAgb2JqZWN0LiBJZiBhXG4gICAgICogYHByb3BlcnRpZXNgIG9iamVjdCBpcyBnaXZlbiwgaXRzIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzXG4gICAgICogYXJlIGFzc2lnbmVkIHRvIHRoZSBjcmVhdGVkIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjMuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJvdG90eXBlIFRoZSBvYmplY3QgdG8gaW5oZXJpdCBmcm9tLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbcHJvcGVydGllc10gVGhlIHByb3BlcnRpZXMgdG8gYXNzaWduIHRvIHRoZSBvYmplY3QuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gU2hhcGUoKSB7XG4gICAgICogICB0aGlzLnggPSAwO1xuICAgICAqICAgdGhpcy55ID0gMDtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBDaXJjbGUoKSB7XG4gICAgICogICBTaGFwZS5jYWxsKHRoaXMpO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIENpcmNsZS5wcm90b3R5cGUgPSBfLmNyZWF0ZShTaGFwZS5wcm90b3R5cGUsIHtcbiAgICAgKiAgICdjb25zdHJ1Y3Rvcic6IENpcmNsZVxuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogdmFyIGNpcmNsZSA9IG5ldyBDaXJjbGU7XG4gICAgICogY2lyY2xlIGluc3RhbmNlb2YgQ2lyY2xlO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIGNpcmNsZSBpbnN0YW5jZW9mIFNoYXBlO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGUocHJvdG90eXBlLCBwcm9wZXJ0aWVzKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gYmFzZUNyZWF0ZShwcm90b3R5cGUpO1xuICAgICAgcmV0dXJuIHByb3BlcnRpZXMgPT0gbnVsbCA/IHJlc3VsdCA6IGJhc2VBc3NpZ24ocmVzdWx0LCBwcm9wZXJ0aWVzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBc3NpZ25zIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgb2Ygc291cmNlXG4gICAgICogb2JqZWN0cyB0byB0aGUgZGVzdGluYXRpb24gb2JqZWN0IGZvciBhbGwgZGVzdGluYXRpb24gcHJvcGVydGllcyB0aGF0XG4gICAgICogcmVzb2x2ZSB0byBgdW5kZWZpbmVkYC4gU291cmNlIG9iamVjdHMgYXJlIGFwcGxpZWQgZnJvbSBsZWZ0IHRvIHJpZ2h0LlxuICAgICAqIE9uY2UgYSBwcm9wZXJ0eSBpcyBzZXQsIGFkZGl0aW9uYWwgdmFsdWVzIG9mIHRoZSBzYW1lIHByb3BlcnR5IGFyZSBpZ25vcmVkLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBbc291cmNlc10gVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmRlZmF1bHRzRGVlcFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlZmF1bHRzKHsgJ2EnOiAxIH0sIHsgJ2InOiAyIH0sIHsgJ2EnOiAzIH0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIgfVxuICAgICAqL1xuICAgIHZhciBkZWZhdWx0cyA9IGJhc2VSZXN0KGZ1bmN0aW9uKG9iamVjdCwgc291cmNlcykge1xuICAgICAgb2JqZWN0ID0gT2JqZWN0KG9iamVjdCk7XG5cbiAgICAgIHZhciBpbmRleCA9IC0xO1xuICAgICAgdmFyIGxlbmd0aCA9IHNvdXJjZXMubGVuZ3RoO1xuICAgICAgdmFyIGd1YXJkID0gbGVuZ3RoID4gMiA/IHNvdXJjZXNbMl0gOiB1bmRlZmluZWQ7XG5cbiAgICAgIGlmIChndWFyZCAmJiBpc0l0ZXJhdGVlQ2FsbChzb3VyY2VzWzBdLCBzb3VyY2VzWzFdLCBndWFyZCkpIHtcbiAgICAgICAgbGVuZ3RoID0gMTtcbiAgICAgIH1cblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHNvdXJjZSA9IHNvdXJjZXNbaW5kZXhdO1xuICAgICAgICB2YXIgcHJvcHMgPSBrZXlzSW4oc291cmNlKTtcbiAgICAgICAgdmFyIHByb3BzSW5kZXggPSAtMTtcbiAgICAgICAgdmFyIHByb3BzTGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuXG4gICAgICAgIHdoaWxlICgrK3Byb3BzSW5kZXggPCBwcm9wc0xlbmd0aCkge1xuICAgICAgICAgIHZhciBrZXkgPSBwcm9wc1twcm9wc0luZGV4XTtcbiAgICAgICAgICB2YXIgdmFsdWUgPSBvYmplY3Rba2V5XTtcblxuICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICAgIChlcSh2YWx1ZSwgb2JqZWN0UHJvdG9ba2V5XSkgJiYgIWhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpKSkge1xuICAgICAgICAgICAgb2JqZWN0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZGVmYXVsdHNgIGV4Y2VwdCB0aGF0IGl0IHJlY3Vyc2l2ZWx5IGFzc2lnbnNcbiAgICAgKiBkZWZhdWx0IHByb3BlcnRpZXMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjEwLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBbc291cmNlc10gVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmRlZmF1bHRzXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGVmYXVsdHNEZWVwKHsgJ2EnOiB7ICdiJzogMiB9IH0sIHsgJ2EnOiB7ICdiJzogMSwgJ2MnOiAzIH0gfSk7XG4gICAgICogLy8gPT4geyAnYSc6IHsgJ2InOiAyLCAnYyc6IDMgfSB9XG4gICAgICovXG4gICAgdmFyIGRlZmF1bHRzRGVlcCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgIGFyZ3MucHVzaCh1bmRlZmluZWQsIGN1c3RvbURlZmF1bHRzTWVyZ2UpO1xuICAgICAgcmV0dXJuIGFwcGx5KG1lcmdlV2l0aCwgdW5kZWZpbmVkLCBhcmdzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZmluZGAgZXhjZXB0IHRoYXQgaXQgcmV0dXJucyB0aGUga2V5IG9mIHRoZSBmaXJzdFxuICAgICAqIGVsZW1lbnQgYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yIGluc3RlYWQgb2YgdGhlIGVsZW1lbnQgaXRzZWxmLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMS4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfHVuZGVmaW5lZH0gUmV0dXJucyB0aGUga2V5IG9mIHRoZSBtYXRjaGVkIGVsZW1lbnQsXG4gICAgICogIGVsc2UgYHVuZGVmaW5lZGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IHtcbiAgICAgKiAgICdiYXJuZXknOiAgeyAnYWdlJzogMzYsICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICAnZnJlZCc6ICAgIHsgJ2FnZSc6IDQwLCAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgICdwZWJibGVzJzogeyAnYWdlJzogMSwgICdhY3RpdmUnOiB0cnVlIH1cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogXy5maW5kS2V5KHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLmFnZSA8IDQwOyB9KTtcbiAgICAgKiAvLyA9PiAnYmFybmV5JyAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRLZXkodXNlcnMsIHsgJ2FnZSc6IDEsICdhY3RpdmUnOiB0cnVlIH0pO1xuICAgICAqIC8vID0+ICdwZWJibGVzJ1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZEtleSh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+ICdmcmVkJ1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kS2V5KHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gJ2Jhcm5leSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaW5kS2V5KG9iamVjdCwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gYmFzZUZpbmRLZXkob2JqZWN0LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCBiYXNlRm9yT3duKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZpbmRLZXlgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2ZcbiAgICAgKiBhIGNvbGxlY3Rpb24gaW4gdGhlIG9wcG9zaXRlIG9yZGVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfHVuZGVmaW5lZH0gUmV0dXJucyB0aGUga2V5IG9mIHRoZSBtYXRjaGVkIGVsZW1lbnQsXG4gICAgICogIGVsc2UgYHVuZGVmaW5lZGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IHtcbiAgICAgKiAgICdiYXJuZXknOiAgeyAnYWdlJzogMzYsICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICAnZnJlZCc6ICAgIHsgJ2FnZSc6IDQwLCAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgICdwZWJibGVzJzogeyAnYWdlJzogMSwgICdhY3RpdmUnOiB0cnVlIH1cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogXy5maW5kTGFzdEtleSh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby5hZ2UgPCA0MDsgfSk7XG4gICAgICogLy8gPT4gcmV0dXJucyAncGViYmxlcycgYXNzdW1pbmcgYF8uZmluZEtleWAgcmV0dXJucyAnYmFybmV5J1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRMYXN0S2V5KHVzZXJzLCB7ICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfSk7XG4gICAgICogLy8gPT4gJ2Jhcm5leSdcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRMYXN0S2V5KHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gJ2ZyZWQnXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRMYXN0S2V5KHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gJ3BlYmJsZXMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZExhc3RLZXkob2JqZWN0LCBwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiBiYXNlRmluZEtleShvYmplY3QsIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyksIGJhc2VGb3JPd25SaWdodCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXRlcmF0ZXMgb3ZlciBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIG9mIGFuXG4gICAgICogb2JqZWN0IGFuZCBpbnZva2VzIGBpdGVyYXRlZWAgZm9yIGVhY2ggcHJvcGVydHkuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwga2V5LCBvYmplY3QpLiBJdGVyYXRlZSBmdW5jdGlvbnMgbWF5IGV4aXRcbiAgICAgKiBpdGVyYXRpb24gZWFybHkgYnkgZXhwbGljaXRseSByZXR1cm5pbmcgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjMuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmZvckluUmlnaHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8uZm9ySW4obmV3IEZvbywgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAqICAgY29uc29sZS5sb2coa2V5KTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBMb2dzICdhJywgJ2InLCB0aGVuICdjJyAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmb3JJbihvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGxcbiAgICAgICAgPyBvYmplY3RcbiAgICAgICAgOiBiYXNlRm9yKG9iamVjdCwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpLCBrZXlzSW4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZm9ySW5gIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgcHJvcGVydGllcyBvZlxuICAgICAqIGBvYmplY3RgIGluIHRoZSBvcHBvc2l0ZSBvcmRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmZvckluXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLmZvckluUmlnaHQobmV3IEZvbywgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAqICAgY29uc29sZS5sb2coa2V5KTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBMb2dzICdjJywgJ2InLCB0aGVuICdhJyBhc3N1bWluZyBgXy5mb3JJbmAgbG9ncyAnYScsICdiJywgdGhlbiAnYycuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9ySW5SaWdodChvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGxcbiAgICAgICAgPyBvYmplY3RcbiAgICAgICAgOiBiYXNlRm9yUmlnaHQob2JqZWN0LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMyksIGtleXNJbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXRlcmF0ZXMgb3ZlciBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBvZiBhbiBvYmplY3QgYW5kXG4gICAgICogaW52b2tlcyBgaXRlcmF0ZWVgIGZvciBlYWNoIHByb3BlcnR5LiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIHRocmVlXG4gICAgICogYXJndW1lbnRzOiAodmFsdWUsIGtleSwgb2JqZWN0KS4gSXRlcmF0ZWUgZnVuY3Rpb25zIG1heSBleGl0IGl0ZXJhdGlvblxuICAgICAqIGVhcmx5IGJ5IGV4cGxpY2l0bHkgcmV0dXJuaW5nIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5mb3JPd25SaWdodFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy5mb3JPd24obmV3IEZvbywgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAqICAgY29uc29sZS5sb2coa2V5KTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBMb2dzICdhJyB0aGVuICdiJyAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmb3JPd24ob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAmJiBiYXNlRm9yT3duKG9iamVjdCwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZvck93bmAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBwcm9wZXJ0aWVzIG9mXG4gICAgICogYG9iamVjdGAgaW4gdGhlIG9wcG9zaXRlIG9yZGVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uZm9yT3duXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLmZvck93blJpZ2h0KG5ldyBGb28sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyAnYicgdGhlbiAnYScgYXNzdW1pbmcgYF8uZm9yT3duYCBsb2dzICdhJyB0aGVuICdiJy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmb3JPd25SaWdodChvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICYmIGJhc2VGb3JPd25SaWdodChvYmplY3QsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBmdW5jdGlvbiBwcm9wZXJ0eSBuYW1lcyBmcm9tIG93biBlbnVtZXJhYmxlIHByb3BlcnRpZXNcbiAgICAgKiBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGZ1bmN0aW9uIG5hbWVzLlxuICAgICAqIEBzZWUgXy5mdW5jdGlvbnNJblxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSBfLmNvbnN0YW50KCdhJyk7XG4gICAgICogICB0aGlzLmIgPSBfLmNvbnN0YW50KCdiJyk7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gXy5jb25zdGFudCgnYycpO1xuICAgICAqXG4gICAgICogXy5mdW5jdGlvbnMobmV3IEZvbyk7XG4gICAgICogLy8gPT4gWydhJywgJ2InXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZ1bmN0aW9ucyhvYmplY3QpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IFtdIDogYmFzZUZ1bmN0aW9ucyhvYmplY3QsIGtleXMob2JqZWN0KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBmdW5jdGlvbiBwcm9wZXJ0eSBuYW1lcyBmcm9tIG93biBhbmQgaW5oZXJpdGVkXG4gICAgICogZW51bWVyYWJsZSBwcm9wZXJ0aWVzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgZnVuY3Rpb24gbmFtZXMuXG4gICAgICogQHNlZSBfLmZ1bmN0aW9uc1xuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSBfLmNvbnN0YW50KCdhJyk7XG4gICAgICogICB0aGlzLmIgPSBfLmNvbnN0YW50KCdiJyk7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gXy5jb25zdGFudCgnYycpO1xuICAgICAqXG4gICAgICogXy5mdW5jdGlvbnNJbihuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYicsICdjJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmdW5jdGlvbnNJbihvYmplY3QpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IFtdIDogYmFzZUZ1bmN0aW9ucyhvYmplY3QsIGtleXNJbihvYmplY3QpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSB2YWx1ZSBhdCBgcGF0aGAgb2YgYG9iamVjdGAuIElmIHRoZSByZXNvbHZlZCB2YWx1ZSBpc1xuICAgICAqIGB1bmRlZmluZWRgLCB0aGUgYGRlZmF1bHRWYWx1ZWAgaXMgcmV0dXJuZWQgaW4gaXRzIHBsYWNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuNy4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gW2RlZmF1bHRWYWx1ZV0gVGhlIHZhbHVlIHJldHVybmVkIGZvciBgdW5kZWZpbmVkYCByZXNvbHZlZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IDMgfSB9XSB9O1xuICAgICAqXG4gICAgICogXy5nZXQob2JqZWN0LCAnYVswXS5iLmMnKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLmdldChvYmplY3QsIFsnYScsICcwJywgJ2InLCAnYyddKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLmdldChvYmplY3QsICdhLmIuYycsICdkZWZhdWx0Jyk7XG4gICAgICogLy8gPT4gJ2RlZmF1bHQnXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0KG9iamVjdCwgcGF0aCwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBiYXNlR2V0KG9iamVjdCwgcGF0aCk7XG4gICAgICByZXR1cm4gcmVzdWx0ID09PSB1bmRlZmluZWQgPyBkZWZhdWx0VmFsdWUgOiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBwYXRoYCBpcyBhIGRpcmVjdCBwcm9wZXJ0eSBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBwYXRoYCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiB7ICdiJzogMiB9IH07XG4gICAgICogdmFyIG90aGVyID0gXy5jcmVhdGUoeyAnYSc6IF8uY3JlYXRlKHsgJ2InOiAyIH0pIH0pO1xuICAgICAqXG4gICAgICogXy5oYXMob2JqZWN0LCAnYScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaGFzKG9iamVjdCwgJ2EuYicpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaGFzKG9iamVjdCwgWydhJywgJ2InXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5oYXMob3RoZXIsICdhJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXMob2JqZWN0LCBwYXRoKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICE9IG51bGwgJiYgaGFzUGF0aChvYmplY3QsIHBhdGgsIGJhc2VIYXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgcGF0aGAgaXMgYSBkaXJlY3Qgb3IgaW5oZXJpdGVkIHByb3BlcnR5IG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHBhdGhgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0gXy5jcmVhdGUoeyAnYSc6IF8uY3JlYXRlKHsgJ2InOiAyIH0pIH0pO1xuICAgICAqXG4gICAgICogXy5oYXNJbihvYmplY3QsICdhJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5oYXNJbihvYmplY3QsICdhLmInKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmhhc0luKG9iamVjdCwgWydhJywgJ2InXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5oYXNJbihvYmplY3QsICdiJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXNJbihvYmplY3QsIHBhdGgpIHtcbiAgICAgIHJldHVybiBvYmplY3QgIT0gbnVsbCAmJiBoYXNQYXRoKG9iamVjdCwgcGF0aCwgYmFzZUhhc0luKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZiB0aGUgaW52ZXJ0ZWQga2V5cyBhbmQgdmFsdWVzIG9mIGBvYmplY3RgLlxuICAgICAqIElmIGBvYmplY3RgIGNvbnRhaW5zIGR1cGxpY2F0ZSB2YWx1ZXMsIHN1YnNlcXVlbnQgdmFsdWVzIG92ZXJ3cml0ZVxuICAgICAqIHByb3BlcnR5IGFzc2lnbm1lbnRzIG9mIHByZXZpb3VzIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjcuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW52ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBpbnZlcnRlZCBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDEgfTtcbiAgICAgKlxuICAgICAqIF8uaW52ZXJ0KG9iamVjdCk7XG4gICAgICogLy8gPT4geyAnMSc6ICdjJywgJzInOiAnYicgfVxuICAgICAqL1xuICAgIHZhciBpbnZlcnQgPSBjcmVhdGVJbnZlcnRlcihmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgIGlmICh2YWx1ZSAhPSBudWxsICYmXG4gICAgICAgICAgdHlwZW9mIHZhbHVlLnRvU3RyaW5nICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdmFsdWUgPSBuYXRpdmVPYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgICAgIH1cblxuICAgICAgcmVzdWx0W3ZhbHVlXSA9IGtleTtcbiAgICB9LCBjb25zdGFudChpZGVudGl0eSkpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pbnZlcnRgIGV4Y2VwdCB0aGF0IHRoZSBpbnZlcnRlZCBvYmplY3QgaXMgZ2VuZXJhdGVkXG4gICAgICogZnJvbSB0aGUgcmVzdWx0cyBvZiBydW5uaW5nIGVhY2ggZWxlbWVudCBvZiBgb2JqZWN0YCB0aHJ1IGBpdGVyYXRlZWAuIFRoZVxuICAgICAqIGNvcnJlc3BvbmRpbmcgaW52ZXJ0ZWQgdmFsdWUgb2YgZWFjaCBpbnZlcnRlZCBrZXkgaXMgYW4gYXJyYXkgb2Yga2V5c1xuICAgICAqIHJlc3BvbnNpYmxlIGZvciBnZW5lcmF0aW5nIHRoZSBpbnZlcnRlZCB2YWx1ZS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW52ZXJ0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgaW52ZXJ0ZWQgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogMiwgJ2MnOiAxIH07XG4gICAgICpcbiAgICAgKiBfLmludmVydEJ5KG9iamVjdCk7XG4gICAgICogLy8gPT4geyAnMSc6IFsnYScsICdjJ10sICcyJzogWydiJ10gfVxuICAgICAqXG4gICAgICogXy5pbnZlcnRCeShvYmplY3QsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICogICByZXR1cm4gJ2dyb3VwJyArIHZhbHVlO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IHsgJ2dyb3VwMSc6IFsnYScsICdjJ10sICdncm91cDInOiBbJ2InXSB9XG4gICAgICovXG4gICAgdmFyIGludmVydEJ5ID0gY3JlYXRlSW52ZXJ0ZXIoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICBpZiAodmFsdWUgIT0gbnVsbCAmJlxuICAgICAgICAgIHR5cGVvZiB2YWx1ZS50b1N0cmluZyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZhbHVlID0gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHJlc3VsdCwgdmFsdWUpKSB7XG4gICAgICAgIHJlc3VsdFt2YWx1ZV0ucHVzaChrZXkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0W3ZhbHVlXSA9IFtrZXldO1xuICAgICAgfVxuICAgIH0sIGdldEl0ZXJhdGVlKTtcblxuICAgIC8qKlxuICAgICAqIEludm9rZXMgdGhlIG1ldGhvZCBhdCBgcGF0aGAgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBtZXRob2QgdG8gaW52b2tlLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ3NdIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIHRoZSBtZXRob2Qgd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzdWx0IG9mIHRoZSBpbnZva2VkIG1ldGhvZC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MnOiBbMSwgMiwgMywgNF0gfSB9XSB9O1xuICAgICAqXG4gICAgICogXy5pbnZva2Uob2JqZWN0LCAnYVswXS5iLmMuc2xpY2UnLCAxLCAzKTtcbiAgICAgKiAvLyA9PiBbMiwgM11cbiAgICAgKi9cbiAgICB2YXIgaW52b2tlID0gYmFzZVJlc3QoYmFzZUludm9rZSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBOb24tb2JqZWN0IHZhbHVlcyBhcmUgY29lcmNlZCB0byBvYmplY3RzLiBTZWUgdGhlXG4gICAgICogW0VTIHNwZWNdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5rZXlzKVxuICAgICAqIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLmtleXMobmV3IEZvbyk7XG4gICAgICogLy8gPT4gWydhJywgJ2InXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqXG4gICAgICogXy5rZXlzKCdoaScpO1xuICAgICAqIC8vID0+IFsnMCcsICcxJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBrZXlzKG9iamVjdCkge1xuICAgICAgcmV0dXJuIGlzQXJyYXlMaWtlKG9iamVjdCkgPyBhcnJheUxpa2VLZXlzKG9iamVjdCkgOiBiYXNlS2V5cyhvYmplY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogTm9uLW9iamVjdCB2YWx1ZXMgYXJlIGNvZXJjZWQgdG8gb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8ua2V5c0luKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFsnYScsICdiJywgJ2MnXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGtleXNJbihvYmplY3QpIHtcbiAgICAgIHJldHVybiBpc0FycmF5TGlrZShvYmplY3QpID8gYXJyYXlMaWtlS2V5cyhvYmplY3QsIHRydWUpIDogYmFzZUtleXNJbihvYmplY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBvcHBvc2l0ZSBvZiBgXy5tYXBWYWx1ZXNgOyB0aGlzIG1ldGhvZCBjcmVhdGVzIGFuIG9iamVjdCB3aXRoIHRoZVxuICAgICAqIHNhbWUgdmFsdWVzIGFzIGBvYmplY3RgIGFuZCBrZXlzIGdlbmVyYXRlZCBieSBydW5uaW5nIGVhY2ggb3duIGVudW1lcmFibGVcbiAgICAgKiBzdHJpbmcga2V5ZWQgcHJvcGVydHkgb2YgYG9iamVjdGAgdGhydSBgaXRlcmF0ZWVgLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGtleSwgb2JqZWN0KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjguMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBtYXBwZWQgb2JqZWN0LlxuICAgICAqIEBzZWUgXy5tYXBWYWx1ZXNcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5tYXBLZXlzKHsgJ2EnOiAxLCAnYic6IDIgfSwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAqICAgcmV0dXJuIGtleSArIHZhbHVlO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IHsgJ2ExJzogMSwgJ2IyJzogMiB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFwS2V5cyhvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgICBpdGVyYXRlZSA9IGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKTtcblxuICAgICAgYmFzZUZvck93bihvYmplY3QsIGZ1bmN0aW9uKHZhbHVlLCBrZXksIG9iamVjdCkge1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUocmVzdWx0LCBpdGVyYXRlZSh2YWx1ZSwga2V5LCBvYmplY3QpLCB2YWx1ZSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3Qgd2l0aCB0aGUgc2FtZSBrZXlzIGFzIGBvYmplY3RgIGFuZCB2YWx1ZXMgZ2VuZXJhdGVkXG4gICAgICogYnkgcnVubmluZyBlYWNoIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0eSBvZiBgb2JqZWN0YCB0aHJ1XG4gICAgICogYGl0ZXJhdGVlYC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6XG4gICAgICogKHZhbHVlLCBrZXksIG9iamVjdCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi40LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgbWFwcGVkIG9iamVjdC5cbiAgICAgKiBAc2VlIF8ubWFwS2V5c1xuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSB7XG4gICAgICogICAnZnJlZCc6ICAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhZ2UnOiA0MCB9LFxuICAgICAqICAgJ3BlYmJsZXMnOiB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWdlJzogMSB9XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIF8ubWFwVmFsdWVzKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLmFnZTsgfSk7XG4gICAgICogLy8gPT4geyAnZnJlZCc6IDQwLCAncGViYmxlcyc6IDEgfSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5tYXBWYWx1ZXModXNlcnMsICdhZ2UnKTtcbiAgICAgKiAvLyA9PiB7ICdmcmVkJzogNDAsICdwZWJibGVzJzogMSB9IChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFwVmFsdWVzKG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICAgIGl0ZXJhdGVlID0gZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpO1xuXG4gICAgICBiYXNlRm9yT3duKG9iamVjdCwgZnVuY3Rpb24odmFsdWUsIGtleSwgb2JqZWN0KSB7XG4gICAgICAgIGJhc2VBc3NpZ25WYWx1ZShyZXN1bHQsIGtleSwgaXRlcmF0ZWUodmFsdWUsIGtleSwgb2JqZWN0KSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5hc3NpZ25gIGV4Y2VwdCB0aGF0IGl0IHJlY3Vyc2l2ZWx5IG1lcmdlcyBvd24gYW5kXG4gICAgICogaW5oZXJpdGVkIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgb2Ygc291cmNlIG9iamVjdHMgaW50byB0aGVcbiAgICAgKiBkZXN0aW5hdGlvbiBvYmplY3QuIFNvdXJjZSBwcm9wZXJ0aWVzIHRoYXQgcmVzb2x2ZSB0byBgdW5kZWZpbmVkYCBhcmVcbiAgICAgKiBza2lwcGVkIGlmIGEgZGVzdGluYXRpb24gdmFsdWUgZXhpc3RzLiBBcnJheSBhbmQgcGxhaW4gb2JqZWN0IHByb3BlcnRpZXNcbiAgICAgKiBhcmUgbWVyZ2VkIHJlY3Vyc2l2ZWx5LiBPdGhlciBvYmplY3RzIGFuZCB2YWx1ZSB0eXBlcyBhcmUgb3ZlcnJpZGRlbiBieVxuICAgICAqIGFzc2lnbm1lbnQuIFNvdXJjZSBvYmplY3RzIGFyZSBhcHBsaWVkIGZyb20gbGVmdCB0byByaWdodC4gU3Vic2VxdWVudFxuICAgICAqIHNvdXJjZXMgb3ZlcndyaXRlIHByb3BlcnR5IGFzc2lnbm1lbnRzIG9mIHByZXZpb3VzIHNvdXJjZXMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjUuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi5PYmplY3R9IFtzb3VyY2VzXSBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHtcbiAgICAgKiAgICdhJzogW3sgJ2InOiAyIH0sIHsgJ2QnOiA0IH1dXG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIHZhciBvdGhlciA9IHtcbiAgICAgKiAgICdhJzogW3sgJ2MnOiAzIH0sIHsgJ2UnOiA1IH1dXG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIF8ubWVyZ2Uob2JqZWN0LCBvdGhlcik7XG4gICAgICogLy8gPT4geyAnYSc6IFt7ICdiJzogMiwgJ2MnOiAzIH0sIHsgJ2QnOiA0LCAnZSc6IDUgfV0gfVxuICAgICAqL1xuICAgIHZhciBtZXJnZSA9IGNyZWF0ZUFzc2lnbmVyKGZ1bmN0aW9uKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCkge1xuICAgICAgYmFzZU1lcmdlKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLm1lcmdlYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYCB3aGljaFxuICAgICAqIGlzIGludm9rZWQgdG8gcHJvZHVjZSB0aGUgbWVyZ2VkIHZhbHVlcyBvZiB0aGUgZGVzdGluYXRpb24gYW5kIHNvdXJjZVxuICAgICAqIHByb3BlcnRpZXMuIElmIGBjdXN0b21pemVyYCByZXR1cm5zIGB1bmRlZmluZWRgLCBtZXJnaW5nIGlzIGhhbmRsZWQgYnkgdGhlXG4gICAgICogbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmAgaXMgaW52b2tlZCB3aXRoIHNpeCBhcmd1bWVudHM6XG4gICAgICogKG9ialZhbHVlLCBzcmNWYWx1ZSwga2V5LCBvYmplY3QsIHNvdXJjZSwgc3RhY2spLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBzb3VyY2VzIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgYXNzaWduZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGN1c3RvbWl6ZXIob2JqVmFsdWUsIHNyY1ZhbHVlKSB7XG4gICAgICogICBpZiAoXy5pc0FycmF5KG9ialZhbHVlKSkge1xuICAgICAqICAgICByZXR1cm4gb2JqVmFsdWUuY29uY2F0KHNyY1ZhbHVlKTtcbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFsxXSwgJ2InOiBbMl0gfTtcbiAgICAgKiB2YXIgb3RoZXIgPSB7ICdhJzogWzNdLCAnYic6IFs0XSB9O1xuICAgICAqXG4gICAgICogXy5tZXJnZVdpdGgob2JqZWN0LCBvdGhlciwgY3VzdG9taXplcik7XG4gICAgICogLy8gPT4geyAnYSc6IFsxLCAzXSwgJ2InOiBbMiwgNF0gfVxuICAgICAqL1xuICAgIHZhciBtZXJnZVdpdGggPSBjcmVhdGVBc3NpZ25lcihmdW5jdGlvbihvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGJhc2VNZXJnZShvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgsIGN1c3RvbWl6ZXIpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG9wcG9zaXRlIG9mIGBfLnBpY2tgOyB0aGlzIG1ldGhvZCBjcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZiB0aGVcbiAgICAgKiBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHByb3BlcnR5IHBhdGhzIG9mIGBvYmplY3RgIHRoYXQgYXJlIG5vdCBvbWl0dGVkLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGNvbnNpZGVyYWJseSBzbG93ZXIgdGhhbiBgXy5waWNrYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uKHN0cmluZ3xzdHJpbmdbXSl9IFtwYXRoc10gVGhlIHByb3BlcnR5IHBhdGhzIHRvIG9taXQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6ICcyJywgJ2MnOiAzIH07XG4gICAgICpcbiAgICAgKiBfLm9taXQob2JqZWN0LCBbJ2EnLCAnYyddKTtcbiAgICAgKiAvLyA9PiB7ICdiJzogJzInIH1cbiAgICAgKi9cbiAgICB2YXIgb21pdCA9IGZsYXRSZXN0KGZ1bmN0aW9uKG9iamVjdCwgcGF0aHMpIHtcbiAgICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICAgIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgdmFyIGlzRGVlcCA9IGZhbHNlO1xuICAgICAgcGF0aHMgPSBhcnJheU1hcChwYXRocywgZnVuY3Rpb24ocGF0aCkge1xuICAgICAgICBwYXRoID0gY2FzdFBhdGgocGF0aCwgb2JqZWN0KTtcbiAgICAgICAgaXNEZWVwIHx8IChpc0RlZXAgPSBwYXRoLmxlbmd0aCA+IDEpO1xuICAgICAgICByZXR1cm4gcGF0aDtcbiAgICAgIH0pO1xuICAgICAgY29weU9iamVjdChvYmplY3QsIGdldEFsbEtleXNJbihvYmplY3QpLCByZXN1bHQpO1xuICAgICAgaWYgKGlzRGVlcCkge1xuICAgICAgICByZXN1bHQgPSBiYXNlQ2xvbmUocmVzdWx0LCBDTE9ORV9ERUVQX0ZMQUcgfCBDTE9ORV9GTEFUX0ZMQUcgfCBDTE9ORV9TWU1CT0xTX0ZMQUcsIGN1c3RvbU9taXRDbG9uZSk7XG4gICAgICB9XG4gICAgICB2YXIgbGVuZ3RoID0gcGF0aHMubGVuZ3RoO1xuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIGJhc2VVbnNldChyZXN1bHQsIHBhdGhzW2xlbmd0aF0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBvcHBvc2l0ZSBvZiBgXy5waWNrQnlgOyB0aGlzIG1ldGhvZCBjcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZlxuICAgICAqIHRoZSBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIG9mIGBvYmplY3RgIHRoYXRcbiAgICAgKiBgcHJlZGljYXRlYCBkb2Vzbid0IHJldHVybiB0cnV0aHkgZm9yLiBUaGUgcHJlZGljYXRlIGlzIGludm9rZWQgd2l0aCB0d29cbiAgICAgKiBhcmd1bWVudHM6ICh2YWx1ZSwga2V5KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIHByb3BlcnR5LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAnMicsICdjJzogMyB9O1xuICAgICAqXG4gICAgICogXy5vbWl0Qnkob2JqZWN0LCBfLmlzTnVtYmVyKTtcbiAgICAgKiAvLyA9PiB7ICdiJzogJzInIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvbWl0Qnkob2JqZWN0LCBwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiBwaWNrQnkob2JqZWN0LCBuZWdhdGUoZ2V0SXRlcmF0ZWUocHJlZGljYXRlKSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIHRoZSBwaWNrZWQgYG9iamVjdGAgcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uKHN0cmluZ3xzdHJpbmdbXSl9IFtwYXRoc10gVGhlIHByb3BlcnR5IHBhdGhzIHRvIHBpY2suXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6ICcyJywgJ2MnOiAzIH07XG4gICAgICpcbiAgICAgKiBfLnBpY2sob2JqZWN0LCBbJ2EnLCAnYyddKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2MnOiAzIH1cbiAgICAgKi9cbiAgICB2YXIgcGljayA9IGZsYXRSZXN0KGZ1bmN0aW9uKG9iamVjdCwgcGF0aHMpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHt9IDogYmFzZVBpY2sob2JqZWN0LCBwYXRocyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZiB0aGUgYG9iamVjdGAgcHJvcGVydGllcyBgcHJlZGljYXRlYCByZXR1cm5zXG4gICAgICogdHJ1dGh5IGZvci4gVGhlIHByZWRpY2F0ZSBpcyBpbnZva2VkIHdpdGggdHdvIGFyZ3VtZW50czogKHZhbHVlLCBrZXkpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgcHJvcGVydHkuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6ICcyJywgJ2MnOiAzIH07XG4gICAgICpcbiAgICAgKiBfLnBpY2tCeShvYmplY3QsIF8uaXNOdW1iZXIpO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYyc6IDMgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBpY2tCeShvYmplY3QsIHByZWRpY2F0ZSkge1xuICAgICAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICAgIH1cbiAgICAgIHZhciBwcm9wcyA9IGFycmF5TWFwKGdldEFsbEtleXNJbihvYmplY3QpLCBmdW5jdGlvbihwcm9wKSB7XG4gICAgICAgIHJldHVybiBbcHJvcF07XG4gICAgICB9KTtcbiAgICAgIHByZWRpY2F0ZSA9IGdldEl0ZXJhdGVlKHByZWRpY2F0ZSk7XG4gICAgICByZXR1cm4gYmFzZVBpY2tCeShvYmplY3QsIHByb3BzLCBmdW5jdGlvbih2YWx1ZSwgcGF0aCkge1xuICAgICAgICByZXR1cm4gcHJlZGljYXRlKHZhbHVlLCBwYXRoWzBdKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZ2V0YCBleGNlcHQgdGhhdCBpZiB0aGUgcmVzb2x2ZWQgdmFsdWUgaXMgYVxuICAgICAqIGZ1bmN0aW9uIGl0J3MgaW52b2tlZCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiBpdHMgcGFyZW50IG9iamVjdCBhbmRcbiAgICAgKiBpdHMgcmVzdWx0IGlzIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gcmVzb2x2ZS5cbiAgICAgKiBAcGFyYW0geyp9IFtkZWZhdWx0VmFsdWVdIFRoZSB2YWx1ZSByZXR1cm5lZCBmb3IgYHVuZGVmaW5lZGAgcmVzb2x2ZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXNvbHZlZCB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MxJzogMywgJ2MyJzogXy5jb25zdGFudCg0KSB9IH1dIH07XG4gICAgICpcbiAgICAgKiBfLnJlc3VsdChvYmplY3QsICdhWzBdLmIuYzEnKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLnJlc3VsdChvYmplY3QsICdhWzBdLmIuYzInKTtcbiAgICAgKiAvLyA9PiA0XG4gICAgICpcbiAgICAgKiBfLnJlc3VsdChvYmplY3QsICdhWzBdLmIuYzMnLCAnZGVmYXVsdCcpO1xuICAgICAqIC8vID0+ICdkZWZhdWx0J1xuICAgICAqXG4gICAgICogXy5yZXN1bHQob2JqZWN0LCAnYVswXS5iLmMzJywgXy5jb25zdGFudCgnZGVmYXVsdCcpKTtcbiAgICAgKiAvLyA9PiAnZGVmYXVsdCdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZXN1bHQob2JqZWN0LCBwYXRoLCBkZWZhdWx0VmFsdWUpIHtcbiAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuXG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBwYXRoLmxlbmd0aDtcblxuICAgICAgLy8gRW5zdXJlIHRoZSBsb29wIGlzIGVudGVyZWQgd2hlbiBwYXRoIGlzIGVtcHR5LlxuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgbGVuZ3RoID0gMTtcbiAgICAgICAgb2JqZWN0ID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3RbdG9LZXkocGF0aFtpbmRleF0pXTtcbiAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBpbmRleCA9IGxlbmd0aDtcbiAgICAgICAgICB2YWx1ZSA9IGRlZmF1bHRWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBvYmplY3QgPSBpc0Z1bmN0aW9uKHZhbHVlKSA/IHZhbHVlLmNhbGwob2JqZWN0KSA6IHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSB2YWx1ZSBhdCBgcGF0aGAgb2YgYG9iamVjdGAuIElmIGEgcG9ydGlvbiBvZiBgcGF0aGAgZG9lc24ndCBleGlzdCxcbiAgICAgKiBpdCdzIGNyZWF0ZWQuIEFycmF5cyBhcmUgY3JlYXRlZCBmb3IgbWlzc2luZyBpbmRleCBwcm9wZXJ0aWVzIHdoaWxlIG9iamVjdHNcbiAgICAgKiBhcmUgY3JlYXRlZCBmb3IgYWxsIG90aGVyIG1pc3NpbmcgcHJvcGVydGllcy4gVXNlIGBfLnNldFdpdGhgIHRvIGN1c3RvbWl6ZVxuICAgICAqIGBwYXRoYCBjcmVhdGlvbi5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuNy4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHNldC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MnOiAzIH0gfV0gfTtcbiAgICAgKlxuICAgICAqIF8uc2V0KG9iamVjdCwgJ2FbMF0uYi5jJywgNCk7XG4gICAgICogY29uc29sZS5sb2cob2JqZWN0LmFbMF0uYi5jKTtcbiAgICAgKiAvLyA9PiA0XG4gICAgICpcbiAgICAgKiBfLnNldChvYmplY3QsIFsneCcsICcwJywgJ3knLCAneiddLCA1KTtcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3QueFswXS55LnopO1xuICAgICAqIC8vID0+IDVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZXQob2JqZWN0LCBwYXRoLCB2YWx1ZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gb2JqZWN0IDogYmFzZVNldChvYmplY3QsIHBhdGgsIHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnNldGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIHRvIHByb2R1Y2UgdGhlIG9iamVjdHMgb2YgYHBhdGhgLiAgSWYgYGN1c3RvbWl6ZXJgIHJldHVybnMgYHVuZGVmaW5lZGBcbiAgICAgKiBwYXRoIGNyZWF0aW9uIGlzIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHRocmVlIGFyZ3VtZW50czogKG5zVmFsdWUsIGtleSwgbnNPYmplY3QpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25lZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHt9O1xuICAgICAqXG4gICAgICogXy5zZXRXaXRoKG9iamVjdCwgJ1swXVsxXScsICdhJywgT2JqZWN0KTtcbiAgICAgKiAvLyA9PiB7ICcwJzogeyAnMSc6ICdhJyB9IH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZXRXaXRoKG9iamVjdCwgcGF0aCwgdmFsdWUsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGN1c3RvbWl6ZXIgPSB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nID8gY3VzdG9taXplciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IG9iamVjdCA6IGJhc2VTZXQob2JqZWN0LCBwYXRoLCB2YWx1ZSwgY3VzdG9taXplcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQtdmFsdWUgcGFpcnMgZm9yIGBvYmplY3RgXG4gICAgICogd2hpY2ggY2FuIGJlIGNvbnN1bWVkIGJ5IGBfLmZyb21QYWlyc2AuIElmIGBvYmplY3RgIGlzIGEgbWFwIG9yIHNldCwgaXRzXG4gICAgICogZW50cmllcyBhcmUgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAYWxpYXMgZW50cmllc1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBrZXktdmFsdWUgcGFpcnMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLnRvUGFpcnMobmV3IEZvbyk7XG4gICAgICogLy8gPT4gW1snYScsIDFdLCBbJ2InLCAyXV0gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKi9cbiAgICB2YXIgdG9QYWlycyA9IGNyZWF0ZVRvUGFpcnMoa2V5cyk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgc3RyaW5nIGtleWVkLXZhbHVlIHBhaXJzXG4gICAgICogZm9yIGBvYmplY3RgIHdoaWNoIGNhbiBiZSBjb25zdW1lZCBieSBgXy5mcm9tUGFpcnNgLiBJZiBgb2JqZWN0YCBpcyBhIG1hcFxuICAgICAqIG9yIHNldCwgaXRzIGVudHJpZXMgYXJlIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGFsaWFzIGVudHJpZXNJblxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBrZXktdmFsdWUgcGFpcnMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLnRvUGFpcnNJbihuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBbWydhJywgMV0sIFsnYicsIDJdLCBbJ2MnLCAzXV0gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKi9cbiAgICB2YXIgdG9QYWlyc0luID0gY3JlYXRlVG9QYWlycyhrZXlzSW4pO1xuXG4gICAgLyoqXG4gICAgICogQW4gYWx0ZXJuYXRpdmUgdG8gYF8ucmVkdWNlYDsgdGhpcyBtZXRob2QgdHJhbnNmb3JtcyBgb2JqZWN0YCB0byBhIG5ld1xuICAgICAqIGBhY2N1bXVsYXRvcmAgb2JqZWN0IHdoaWNoIGlzIHRoZSByZXN1bHQgb2YgcnVubmluZyBlYWNoIG9mIGl0cyBvd25cbiAgICAgKiBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIHRocnUgYGl0ZXJhdGVlYCwgd2l0aCBlYWNoIGludm9jYXRpb25cbiAgICAgKiBwb3RlbnRpYWxseSBtdXRhdGluZyB0aGUgYGFjY3VtdWxhdG9yYCBvYmplY3QuIElmIGBhY2N1bXVsYXRvcmAgaXMgbm90XG4gICAgICogcHJvdmlkZWQsIGEgbmV3IG9iamVjdCB3aXRoIHRoZSBzYW1lIGBbW1Byb3RvdHlwZV1dYCB3aWxsIGJlIHVzZWQuIFRoZVxuICAgICAqIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBmb3VyIGFyZ3VtZW50czogKGFjY3VtdWxhdG9yLCB2YWx1ZSwga2V5LCBvYmplY3QpLlxuICAgICAqIEl0ZXJhdGVlIGZ1bmN0aW9ucyBtYXkgZXhpdCBpdGVyYXRpb24gZWFybHkgYnkgZXhwbGljaXRseSByZXR1cm5pbmcgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjMuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Kn0gW2FjY3VtdWxhdG9yXSBUaGUgY3VzdG9tIGFjY3VtdWxhdG9yIHZhbHVlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBhY2N1bXVsYXRlZCB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50cmFuc2Zvcm0oWzIsIDMsIDRdLCBmdW5jdGlvbihyZXN1bHQsIG4pIHtcbiAgICAgKiAgIHJlc3VsdC5wdXNoKG4gKj0gbik7XG4gICAgICogICByZXR1cm4gbiAlIDIgPT0gMDtcbiAgICAgKiB9LCBbXSk7XG4gICAgICogLy8gPT4gWzQsIDldXG4gICAgICpcbiAgICAgKiBfLnRyYW5zZm9ybSh7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDEgfSwgZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICogICAocmVzdWx0W3ZhbHVlXSB8fCAocmVzdWx0W3ZhbHVlXSA9IFtdKSkucHVzaChrZXkpO1xuICAgICAqIH0sIHt9KTtcbiAgICAgKiAvLyA9PiB7ICcxJzogWydhJywgJ2MnXSwgJzInOiBbJ2InXSB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gdHJhbnNmb3JtKG9iamVjdCwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yKSB7XG4gICAgICB2YXIgaXNBcnIgPSBpc0FycmF5KG9iamVjdCksXG4gICAgICAgICAgaXNBcnJMaWtlID0gaXNBcnIgfHwgaXNCdWZmZXIob2JqZWN0KSB8fCBpc1R5cGVkQXJyYXkob2JqZWN0KTtcblxuICAgICAgaXRlcmF0ZWUgPSBnZXRJdGVyYXRlZShpdGVyYXRlZSwgNCk7XG4gICAgICBpZiAoYWNjdW11bGF0b3IgPT0gbnVsbCkge1xuICAgICAgICB2YXIgQ3RvciA9IG9iamVjdCAmJiBvYmplY3QuY29uc3RydWN0b3I7XG4gICAgICAgIGlmIChpc0Fyckxpa2UpIHtcbiAgICAgICAgICBhY2N1bXVsYXRvciA9IGlzQXJyID8gbmV3IEN0b3IgOiBbXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc09iamVjdChvYmplY3QpKSB7XG4gICAgICAgICAgYWNjdW11bGF0b3IgPSBpc0Z1bmN0aW9uKEN0b3IpID8gYmFzZUNyZWF0ZShnZXRQcm90b3R5cGUob2JqZWN0KSkgOiB7fTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBhY2N1bXVsYXRvciA9IHt9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAoaXNBcnJMaWtlID8gYXJyYXlFYWNoIDogYmFzZUZvck93bikob2JqZWN0LCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIG9iamVjdCkge1xuICAgICAgICByZXR1cm4gaXRlcmF0ZWUoYWNjdW11bGF0b3IsIHZhbHVlLCBpbmRleCwgb2JqZWN0KTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIHByb3BlcnR5IGF0IGBwYXRoYCBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHVuc2V0LlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgcHJvcGVydHkgaXMgZGVsZXRlZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IDcgfSB9XSB9O1xuICAgICAqIF8udW5zZXQob2JqZWN0LCAnYVswXS5iLmMnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3QpO1xuICAgICAqIC8vID0+IHsgJ2EnOiBbeyAnYic6IHt9IH1dIH07XG4gICAgICpcbiAgICAgKiBfLnVuc2V0KG9iamVjdCwgWydhJywgJzAnLCAnYicsICdjJ10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdCk7XG4gICAgICogLy8gPT4geyAnYSc6IFt7ICdiJzoge30gfV0gfTtcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bnNldChvYmplY3QsIHBhdGgpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHRydWUgOiBiYXNlVW5zZXQob2JqZWN0LCBwYXRoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnNldGAgZXhjZXB0IHRoYXQgYWNjZXB0cyBgdXBkYXRlcmAgdG8gcHJvZHVjZSB0aGVcbiAgICAgKiB2YWx1ZSB0byBzZXQuIFVzZSBgXy51cGRhdGVXaXRoYCB0byBjdXN0b21pemUgYHBhdGhgIGNyZWF0aW9uLiBUaGUgYHVwZGF0ZXJgXG4gICAgICogaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNi4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHNldC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB1cGRhdGVyIFRoZSBmdW5jdGlvbiB0byBwcm9kdWNlIHRoZSB1cGRhdGVkIHZhbHVlLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogMyB9IH1dIH07XG4gICAgICpcbiAgICAgKiBfLnVwZGF0ZShvYmplY3QsICdhWzBdLmIuYycsIGZ1bmN0aW9uKG4pIHsgcmV0dXJuIG4gKiBuOyB9KTtcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3QuYVswXS5iLmMpO1xuICAgICAqIC8vID0+IDlcbiAgICAgKlxuICAgICAqIF8udXBkYXRlKG9iamVjdCwgJ3hbMF0ueS56JywgZnVuY3Rpb24obikgeyByZXR1cm4gbiA/IG4gKyAxIDogMDsgfSk7XG4gICAgICogY29uc29sZS5sb2cob2JqZWN0LnhbMF0ueS56KTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICovXG4gICAgZnVuY3Rpb24gdXBkYXRlKG9iamVjdCwgcGF0aCwgdXBkYXRlcikge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gb2JqZWN0IDogYmFzZVVwZGF0ZShvYmplY3QsIHBhdGgsIGNhc3RGdW5jdGlvbih1cGRhdGVyKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51cGRhdGVgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCB0byBwcm9kdWNlIHRoZSBvYmplY3RzIG9mIGBwYXRoYC4gIElmIGBjdXN0b21pemVyYCByZXR1cm5zIGB1bmRlZmluZWRgXG4gICAgICogcGF0aCBjcmVhdGlvbiBpcyBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYCBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0aHJlZSBhcmd1bWVudHM6IChuc1ZhbHVlLCBrZXksIG5zT2JqZWN0KS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNi4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHNldC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB1cGRhdGVyIFRoZSBmdW5jdGlvbiB0byBwcm9kdWNlIHRoZSB1cGRhdGVkIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0ge307XG4gICAgICpcbiAgICAgKiBfLnVwZGF0ZVdpdGgob2JqZWN0LCAnWzBdWzFdJywgXy5jb25zdGFudCgnYScpLCBPYmplY3QpO1xuICAgICAqIC8vID0+IHsgJzAnOiB7ICcxJzogJ2EnIH0gfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVwZGF0ZVdpdGgob2JqZWN0LCBwYXRoLCB1cGRhdGVyLCBjdXN0b21pemVyKSB7XG4gICAgICBjdXN0b21pemVyID0gdHlwZW9mIGN1c3RvbWl6ZXIgPT0gJ2Z1bmN0aW9uJyA/IGN1c3RvbWl6ZXIgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBvYmplY3QgOiBiYXNlVXBkYXRlKG9iamVjdCwgcGF0aCwgY2FzdEZ1bmN0aW9uKHVwZGF0ZXIpLCBjdXN0b21pemVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydHkgdmFsdWVzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE5vbi1vYmplY3QgdmFsdWVzIGFyZSBjb2VyY2VkIHRvIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy52YWx1ZXMobmV3IEZvbyk7XG4gICAgICogLy8gPT4gWzEsIDJdIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICpcbiAgICAgKiBfLnZhbHVlcygnaGknKTtcbiAgICAgKiAvLyA9PiBbJ2gnLCAnaSddXG4gICAgICovXG4gICAgZnVuY3Rpb24gdmFsdWVzKG9iamVjdCkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gW10gOiBiYXNlVmFsdWVzKG9iamVjdCwga2V5cyhvYmplY3QpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0eVxuICAgICAqIHZhbHVlcyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBOb24tb2JqZWN0IHZhbHVlcyBhcmUgY29lcmNlZCB0byBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8udmFsdWVzSW4obmV3IEZvbyk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICovXG4gICAgZnVuY3Rpb24gdmFsdWVzSW4ob2JqZWN0KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBbXSA6IGJhc2VWYWx1ZXMob2JqZWN0LCBrZXlzSW4ob2JqZWN0KSk7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ2xhbXBzIGBudW1iZXJgIHdpdGhpbiB0aGUgaW5jbHVzaXZlIGBsb3dlcmAgYW5kIGB1cHBlcmAgYm91bmRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE51bWJlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBudW1iZXIgVGhlIG51bWJlciB0byBjbGFtcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xvd2VyXSBUaGUgbG93ZXIgYm91bmQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHVwcGVyIFRoZSB1cHBlciBib3VuZC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjbGFtcGVkIG51bWJlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5jbGFtcCgtMTAsIC01LCA1KTtcbiAgICAgKiAvLyA9PiAtNVxuICAgICAqXG4gICAgICogXy5jbGFtcCgxMCwgLTUsIDUpO1xuICAgICAqIC8vID0+IDVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbGFtcChudW1iZXIsIGxvd2VyLCB1cHBlcikge1xuICAgICAgaWYgKHVwcGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdXBwZXIgPSBsb3dlcjtcbiAgICAgICAgbG93ZXIgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBpZiAodXBwZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB1cHBlciA9IHRvTnVtYmVyKHVwcGVyKTtcbiAgICAgICAgdXBwZXIgPSB1cHBlciA9PT0gdXBwZXIgPyB1cHBlciA6IDA7XG4gICAgICB9XG4gICAgICBpZiAobG93ZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBsb3dlciA9IHRvTnVtYmVyKGxvd2VyKTtcbiAgICAgICAgbG93ZXIgPSBsb3dlciA9PT0gbG93ZXIgPyBsb3dlciA6IDA7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZUNsYW1wKHRvTnVtYmVyKG51bWJlciksIGxvd2VyLCB1cHBlcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBuYCBpcyBiZXR3ZWVuIGBzdGFydGAgYW5kIHVwIHRvLCBidXQgbm90IGluY2x1ZGluZywgYGVuZGAuIElmXG4gICAgICogYGVuZGAgaXMgbm90IHNwZWNpZmllZCwgaXQncyBzZXQgdG8gYHN0YXJ0YCB3aXRoIGBzdGFydGAgdGhlbiBzZXQgdG8gYDBgLlxuICAgICAqIElmIGBzdGFydGAgaXMgZ3JlYXRlciB0aGFuIGBlbmRgIHRoZSBwYXJhbXMgYXJlIHN3YXBwZWQgdG8gc3VwcG9ydFxuICAgICAqIG5lZ2F0aXZlIHJhbmdlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjMuMFxuICAgICAqIEBjYXRlZ29yeSBOdW1iZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gY2hlY2suXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgVGhlIGVuZCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBudW1iZXJgIGlzIGluIHRoZSByYW5nZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBzZWUgXy5yYW5nZSwgXy5yYW5nZVJpZ2h0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW5SYW5nZSgzLCAyLCA0KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmluUmFuZ2UoNCwgOCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKDQsIDIpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmluUmFuZ2UoMiwgMik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaW5SYW5nZSgxLjIsIDIpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaW5SYW5nZSg1LjIsIDQpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmluUmFuZ2UoLTMsIC0yLCAtNik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluUmFuZ2UobnVtYmVyLCBzdGFydCwgZW5kKSB7XG4gICAgICBzdGFydCA9IHRvRmluaXRlKHN0YXJ0KTtcbiAgICAgIGlmIChlbmQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBlbmQgPSBzdGFydDtcbiAgICAgICAgc3RhcnQgPSAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZW5kID0gdG9GaW5pdGUoZW5kKTtcbiAgICAgIH1cbiAgICAgIG51bWJlciA9IHRvTnVtYmVyKG51bWJlcik7XG4gICAgICByZXR1cm4gYmFzZUluUmFuZ2UobnVtYmVyLCBzdGFydCwgZW5kKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQcm9kdWNlcyBhIHJhbmRvbSBudW1iZXIgYmV0d2VlbiB0aGUgaW5jbHVzaXZlIGBsb3dlcmAgYW5kIGB1cHBlcmAgYm91bmRzLlxuICAgICAqIElmIG9ubHkgb25lIGFyZ3VtZW50IGlzIHByb3ZpZGVkIGEgbnVtYmVyIGJldHdlZW4gYDBgIGFuZCB0aGUgZ2l2ZW4gbnVtYmVyXG4gICAgICogaXMgcmV0dXJuZWQuIElmIGBmbG9hdGluZ2AgaXMgYHRydWVgLCBvciBlaXRoZXIgYGxvd2VyYCBvciBgdXBwZXJgIGFyZVxuICAgICAqIGZsb2F0cywgYSBmbG9hdGluZy1wb2ludCBudW1iZXIgaXMgcmV0dXJuZWQgaW5zdGVhZCBvZiBhbiBpbnRlZ2VyLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIEphdmFTY3JpcHQgZm9sbG93cyB0aGUgSUVFRS03NTQgc3RhbmRhcmQgZm9yIHJlc29sdmluZ1xuICAgICAqIGZsb2F0aW5nLXBvaW50IHZhbHVlcyB3aGljaCBjYW4gcHJvZHVjZSB1bmV4cGVjdGVkIHJlc3VsdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgTnVtYmVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsb3dlcj0wXSBUaGUgbG93ZXIgYm91bmQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt1cHBlcj0xXSBUaGUgdXBwZXIgYm91bmQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZmxvYXRpbmddIFNwZWNpZnkgcmV0dXJuaW5nIGEgZmxvYXRpbmctcG9pbnQgbnVtYmVyLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHJhbmRvbSBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucmFuZG9tKDAsIDUpO1xuICAgICAqIC8vID0+IGFuIGludGVnZXIgYmV0d2VlbiAwIGFuZCA1XG4gICAgICpcbiAgICAgKiBfLnJhbmRvbSg1KTtcbiAgICAgKiAvLyA9PiBhbHNvIGFuIGludGVnZXIgYmV0d2VlbiAwIGFuZCA1XG4gICAgICpcbiAgICAgKiBfLnJhbmRvbSg1LCB0cnVlKTtcbiAgICAgKiAvLyA9PiBhIGZsb2F0aW5nLXBvaW50IG51bWJlciBiZXR3ZWVuIDAgYW5kIDVcbiAgICAgKlxuICAgICAqIF8ucmFuZG9tKDEuMiwgNS4yKTtcbiAgICAgKiAvLyA9PiBhIGZsb2F0aW5nLXBvaW50IG51bWJlciBiZXR3ZWVuIDEuMiBhbmQgNS4yXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmFuZG9tKGxvd2VyLCB1cHBlciwgZmxvYXRpbmcpIHtcbiAgICAgIGlmIChmbG9hdGluZyAmJiB0eXBlb2YgZmxvYXRpbmcgIT0gJ2Jvb2xlYW4nICYmIGlzSXRlcmF0ZWVDYWxsKGxvd2VyLCB1cHBlciwgZmxvYXRpbmcpKSB7XG4gICAgICAgIHVwcGVyID0gZmxvYXRpbmcgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBpZiAoZmxvYXRpbmcgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAodHlwZW9mIHVwcGVyID09ICdib29sZWFuJykge1xuICAgICAgICAgIGZsb2F0aW5nID0gdXBwZXI7XG4gICAgICAgICAgdXBwZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGxvd2VyID09ICdib29sZWFuJykge1xuICAgICAgICAgIGZsb2F0aW5nID0gbG93ZXI7XG4gICAgICAgICAgbG93ZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChsb3dlciA9PT0gdW5kZWZpbmVkICYmIHVwcGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbG93ZXIgPSAwO1xuICAgICAgICB1cHBlciA9IDE7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgbG93ZXIgPSB0b0Zpbml0ZShsb3dlcik7XG4gICAgICAgIGlmICh1cHBlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdXBwZXIgPSBsb3dlcjtcbiAgICAgICAgICBsb3dlciA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdXBwZXIgPSB0b0Zpbml0ZSh1cHBlcik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChsb3dlciA+IHVwcGVyKSB7XG4gICAgICAgIHZhciB0ZW1wID0gbG93ZXI7XG4gICAgICAgIGxvd2VyID0gdXBwZXI7XG4gICAgICAgIHVwcGVyID0gdGVtcDtcbiAgICAgIH1cbiAgICAgIGlmIChmbG9hdGluZyB8fCBsb3dlciAlIDEgfHwgdXBwZXIgJSAxKSB7XG4gICAgICAgIHZhciByYW5kID0gbmF0aXZlUmFuZG9tKCk7XG4gICAgICAgIHJldHVybiBuYXRpdmVNaW4obG93ZXIgKyAocmFuZCAqICh1cHBlciAtIGxvd2VyICsgZnJlZVBhcnNlRmxvYXQoJzFlLScgKyAoKHJhbmQgKyAnJykubGVuZ3RoIC0gMSkpKSksIHVwcGVyKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlUmFuZG9tKGxvd2VyLCB1cHBlcik7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AgdG8gW2NhbWVsIGNhc2VdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NhbWVsQ2FzZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjYW1lbCBjYXNlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY2FtZWxDYXNlKCdGb28gQmFyJyk7XG4gICAgICogLy8gPT4gJ2Zvb0JhcidcbiAgICAgKlxuICAgICAqIF8uY2FtZWxDYXNlKCctLWZvby1iYXItLScpO1xuICAgICAqIC8vID0+ICdmb29CYXInXG4gICAgICpcbiAgICAgKiBfLmNhbWVsQ2FzZSgnX19GT09fQkFSX18nKTtcbiAgICAgKiAvLyA9PiAnZm9vQmFyJ1xuICAgICAqL1xuICAgIHZhciBjYW1lbENhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHdvcmQgPSB3b3JkLnRvTG93ZXJDYXNlKCk7XG4gICAgICByZXR1cm4gcmVzdWx0ICsgKGluZGV4ID8gY2FwaXRhbGl6ZSh3b3JkKSA6IHdvcmQpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgdGhlIGZpcnN0IGNoYXJhY3RlciBvZiBgc3RyaW5nYCB0byB1cHBlciBjYXNlIGFuZCB0aGUgcmVtYWluaW5nXG4gICAgICogdG8gbG93ZXIgY2FzZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjYXBpdGFsaXplLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNhcGl0YWxpemVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5jYXBpdGFsaXplKCdGUkVEJyk7XG4gICAgICogLy8gPT4gJ0ZyZWQnXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2FwaXRhbGl6ZShzdHJpbmcpIHtcbiAgICAgIHJldHVybiB1cHBlckZpcnN0KHRvU3RyaW5nKHN0cmluZykudG9Mb3dlckNhc2UoKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVidXJycyBgc3RyaW5nYCBieSBjb252ZXJ0aW5nXG4gICAgICogW0xhdGluLTEgU3VwcGxlbWVudF0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGF0aW4tMV9TdXBwbGVtZW50XyhVbmljb2RlX2Jsb2NrKSNDaGFyYWN0ZXJfdGFibGUpXG4gICAgICogYW5kIFtMYXRpbiBFeHRlbmRlZC1BXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MYXRpbl9FeHRlbmRlZC1BKVxuICAgICAqIGxldHRlcnMgdG8gYmFzaWMgTGF0aW4gbGV0dGVycyBhbmQgcmVtb3ZpbmdcbiAgICAgKiBbY29tYmluaW5nIGRpYWNyaXRpY2FsIG1hcmtzXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Db21iaW5pbmdfRGlhY3JpdGljYWxfTWFya3MpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGRlYnVyci5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBkZWJ1cnJlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGVidXJyKCdkw6lqw6AgdnUnKTtcbiAgICAgKiAvLyA9PiAnZGVqYSB2dSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkZWJ1cnIoc3RyaW5nKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgcmV0dXJuIHN0cmluZyAmJiBzdHJpbmcucmVwbGFjZShyZUxhdGluLCBkZWJ1cnJMZXR0ZXIpLnJlcGxhY2UocmVDb21ib01hcmssICcnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHN0cmluZ2AgZW5kcyB3aXRoIHRoZSBnaXZlbiB0YXJnZXQgc3RyaW5nLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFt0YXJnZXRdIFRoZSBzdHJpbmcgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Bvc2l0aW9uPXN0cmluZy5sZW5ndGhdIFRoZSBwb3NpdGlvbiB0byBzZWFyY2ggdXAgdG8uXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBzdHJpbmdgIGVuZHMgd2l0aCBgdGFyZ2V0YCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmVuZHNXaXRoKCdhYmMnLCAnYycpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uZW5kc1dpdGgoJ2FiYycsICdiJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uZW5kc1dpdGgoJ2FiYycsICdiJywgMik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVuZHNXaXRoKHN0cmluZywgdGFyZ2V0LCBwb3NpdGlvbikge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHRhcmdldCA9IGJhc2VUb1N0cmluZyh0YXJnZXQpO1xuXG4gICAgICB2YXIgbGVuZ3RoID0gc3RyaW5nLmxlbmd0aDtcbiAgICAgIHBvc2l0aW9uID0gcG9zaXRpb24gPT09IHVuZGVmaW5lZFxuICAgICAgICA/IGxlbmd0aFxuICAgICAgICA6IGJhc2VDbGFtcCh0b0ludGVnZXIocG9zaXRpb24pLCAwLCBsZW5ndGgpO1xuXG4gICAgICB2YXIgZW5kID0gcG9zaXRpb247XG4gICAgICBwb3NpdGlvbiAtPSB0YXJnZXQubGVuZ3RoO1xuICAgICAgcmV0dXJuIHBvc2l0aW9uID49IDAgJiYgc3RyaW5nLnNsaWNlKHBvc2l0aW9uLCBlbmQpID09IHRhcmdldDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgY2hhcmFjdGVycyBcIiZcIiwgXCI8XCIsIFwiPlwiLCAnXCInLCBhbmQgXCInXCIgaW4gYHN0cmluZ2AgdG8gdGhlaXJcbiAgICAgKiBjb3JyZXNwb25kaW5nIEhUTUwgZW50aXRpZXMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogTm8gb3RoZXIgY2hhcmFjdGVycyBhcmUgZXNjYXBlZC4gVG8gZXNjYXBlIGFkZGl0aW9uYWxcbiAgICAgKiBjaGFyYWN0ZXJzIHVzZSBhIHRoaXJkLXBhcnR5IGxpYnJhcnkgbGlrZSBbX2hlX10oaHR0cHM6Ly9tdGhzLmJlL2hlKS5cbiAgICAgKlxuICAgICAqIFRob3VnaCB0aGUgXCI+XCIgY2hhcmFjdGVyIGlzIGVzY2FwZWQgZm9yIHN5bW1ldHJ5LCBjaGFyYWN0ZXJzIGxpa2VcbiAgICAgKiBcIj5cIiBhbmQgXCIvXCIgZG9uJ3QgbmVlZCBlc2NhcGluZyBpbiBIVE1MIGFuZCBoYXZlIG5vIHNwZWNpYWwgbWVhbmluZ1xuICAgICAqIHVubGVzcyB0aGV5J3JlIHBhcnQgb2YgYSB0YWcgb3IgdW5xdW90ZWQgYXR0cmlidXRlIHZhbHVlLiBTZWVcbiAgICAgKiBbTWF0aGlhcyBCeW5lbnMncyBhcnRpY2xlXShodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvYW1iaWd1b3VzLWFtcGVyc2FuZHMpXG4gICAgICogKHVuZGVyIFwic2VtaS1yZWxhdGVkIGZ1biBmYWN0XCIpIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICpcbiAgICAgKiBXaGVuIHdvcmtpbmcgd2l0aCBIVE1MIHlvdSBzaG91bGQgYWx3YXlzXG4gICAgICogW3F1b3RlIGF0dHJpYnV0ZSB2YWx1ZXNdKGh0dHA6Ly93b25rby5jb20vcG9zdC9odG1sLWVzY2FwaW5nKSB0byByZWR1Y2VcbiAgICAgKiBYU1MgdmVjdG9ycy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBlc2NhcGUuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZXNjYXBlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZXNjYXBlKCdmcmVkLCBiYXJuZXksICYgcGViYmxlcycpO1xuICAgICAqIC8vID0+ICdmcmVkLCBiYXJuZXksICZhbXA7IHBlYmJsZXMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXNjYXBlKHN0cmluZykge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHJldHVybiAoc3RyaW5nICYmIHJlSGFzVW5lc2NhcGVkSHRtbC50ZXN0KHN0cmluZykpXG4gICAgICAgID8gc3RyaW5nLnJlcGxhY2UocmVVbmVzY2FwZWRIdG1sLCBlc2NhcGVIdG1sQ2hhcilcbiAgICAgICAgOiBzdHJpbmc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXNjYXBlcyB0aGUgYFJlZ0V4cGAgc3BlY2lhbCBjaGFyYWN0ZXJzIFwiXlwiLCBcIiRcIiwgXCJcXFwiLCBcIi5cIiwgXCIqXCIsIFwiK1wiLFxuICAgICAqIFwiP1wiLCBcIihcIiwgXCIpXCIsIFwiW1wiLCBcIl1cIiwgXCJ7XCIsIFwifVwiLCBhbmQgXCJ8XCIgaW4gYHN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gZXNjYXBlLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGVzY2FwZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmVzY2FwZVJlZ0V4cCgnW2xvZGFzaF0oaHR0cHM6Ly9sb2Rhc2guY29tLyknKTtcbiAgICAgKiAvLyA9PiAnXFxbbG9kYXNoXFxdXFwoaHR0cHM6Ly9sb2Rhc2hcXC5jb20vXFwpJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVzY2FwZVJlZ0V4cChzdHJpbmcpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICByZXR1cm4gKHN0cmluZyAmJiByZUhhc1JlZ0V4cENoYXIudGVzdChzdHJpbmcpKVxuICAgICAgICA/IHN0cmluZy5yZXBsYWNlKHJlUmVnRXhwQ2hhciwgJ1xcXFwkJicpXG4gICAgICAgIDogc3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgIHRvXG4gICAgICogW2tlYmFiIGNhc2VdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xldHRlcl9jYXNlI1NwZWNpYWxfY2FzZV9zdHlsZXMpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUga2ViYWIgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmtlYmFiQ2FzZSgnRm9vIEJhcicpO1xuICAgICAqIC8vID0+ICdmb28tYmFyJ1xuICAgICAqXG4gICAgICogXy5rZWJhYkNhc2UoJ2Zvb0JhcicpO1xuICAgICAqIC8vID0+ICdmb28tYmFyJ1xuICAgICAqXG4gICAgICogXy5rZWJhYkNhc2UoJ19fRk9PX0JBUl9fJyk7XG4gICAgICogLy8gPT4gJ2Zvby1iYXInXG4gICAgICovXG4gICAgdmFyIGtlYmFiQ2FzZSA9IGNyZWF0ZUNvbXBvdW5kZXIoZnVuY3Rpb24ocmVzdWx0LCB3b3JkLCBpbmRleCkge1xuICAgICAgcmV0dXJuIHJlc3VsdCArIChpbmRleCA/ICctJyA6ICcnKSArIHdvcmQudG9Mb3dlckNhc2UoKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgLCBhcyBzcGFjZSBzZXBhcmF0ZWQgd29yZHMsIHRvIGxvd2VyIGNhc2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBsb3dlciBjYXNlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubG93ZXJDYXNlKCctLUZvby1CYXItLScpO1xuICAgICAqIC8vID0+ICdmb28gYmFyJ1xuICAgICAqXG4gICAgICogXy5sb3dlckNhc2UoJ2Zvb0JhcicpO1xuICAgICAqIC8vID0+ICdmb28gYmFyJ1xuICAgICAqXG4gICAgICogXy5sb3dlckNhc2UoJ19fRk9PX0JBUl9fJyk7XG4gICAgICogLy8gPT4gJ2ZvbyBiYXInXG4gICAgICovXG4gICAgdmFyIGxvd2VyQ2FzZSA9IGNyZWF0ZUNvbXBvdW5kZXIoZnVuY3Rpb24ocmVzdWx0LCB3b3JkLCBpbmRleCkge1xuICAgICAgcmV0dXJuIHJlc3VsdCArIChpbmRleCA/ICcgJyA6ICcnKSArIHdvcmQudG9Mb3dlckNhc2UoKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIHRoZSBmaXJzdCBjaGFyYWN0ZXIgb2YgYHN0cmluZ2AgdG8gbG93ZXIgY2FzZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubG93ZXJGaXJzdCgnRnJlZCcpO1xuICAgICAqIC8vID0+ICdmcmVkJ1xuICAgICAqXG4gICAgICogXy5sb3dlckZpcnN0KCdGUkVEJyk7XG4gICAgICogLy8gPT4gJ2ZSRUQnXG4gICAgICovXG4gICAgdmFyIGxvd2VyRmlyc3QgPSBjcmVhdGVDYXNlRmlyc3QoJ3RvTG93ZXJDYXNlJyk7XG5cbiAgICAvKipcbiAgICAgKiBQYWRzIGBzdHJpbmdgIG9uIHRoZSBsZWZ0IGFuZCByaWdodCBzaWRlcyBpZiBpdCdzIHNob3J0ZXIgdGhhbiBgbGVuZ3RoYC5cbiAgICAgKiBQYWRkaW5nIGNoYXJhY3RlcnMgYXJlIHRydW5jYXRlZCBpZiB0aGV5IGNhbid0IGJlIGV2ZW5seSBkaXZpZGVkIGJ5IGBsZW5ndGhgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIHBhZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aD0wXSBUaGUgcGFkZGluZyBsZW5ndGguXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtjaGFycz0nICddIFRoZSBzdHJpbmcgdXNlZCBhcyBwYWRkaW5nLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHBhZGRlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucGFkKCdhYmMnLCA4KTtcbiAgICAgKiAvLyA9PiAnICBhYmMgICAnXG4gICAgICpcbiAgICAgKiBfLnBhZCgnYWJjJywgOCwgJ18tJyk7XG4gICAgICogLy8gPT4gJ18tYWJjXy1fJ1xuICAgICAqXG4gICAgICogXy5wYWQoJ2FiYycsIDMpO1xuICAgICAqIC8vID0+ICdhYmMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gcGFkKHN0cmluZywgbGVuZ3RoLCBjaGFycykge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIGxlbmd0aCA9IHRvSW50ZWdlcihsZW5ndGgpO1xuXG4gICAgICB2YXIgc3RyTGVuZ3RoID0gbGVuZ3RoID8gc3RyaW5nU2l6ZShzdHJpbmcpIDogMDtcbiAgICAgIGlmICghbGVuZ3RoIHx8IHN0ckxlbmd0aCA+PSBsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZztcbiAgICAgIH1cbiAgICAgIHZhciBtaWQgPSAobGVuZ3RoIC0gc3RyTGVuZ3RoKSAvIDI7XG4gICAgICByZXR1cm4gKFxuICAgICAgICBjcmVhdGVQYWRkaW5nKG5hdGl2ZUZsb29yKG1pZCksIGNoYXJzKSArXG4gICAgICAgIHN0cmluZyArXG4gICAgICAgIGNyZWF0ZVBhZGRpbmcobmF0aXZlQ2VpbChtaWQpLCBjaGFycylcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGFkcyBgc3RyaW5nYCBvbiB0aGUgcmlnaHQgc2lkZSBpZiBpdCdzIHNob3J0ZXIgdGhhbiBgbGVuZ3RoYC4gUGFkZGluZ1xuICAgICAqIGNoYXJhY3RlcnMgYXJlIHRydW5jYXRlZCBpZiB0aGV5IGV4Y2VlZCBgbGVuZ3RoYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBwYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9MF0gVGhlIHBhZGRpbmcgbGVuZ3RoLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9JyAnXSBUaGUgc3RyaW5nIHVzZWQgYXMgcGFkZGluZy5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBwYWRkZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnBhZEVuZCgnYWJjJywgNik7XG4gICAgICogLy8gPT4gJ2FiYyAgICdcbiAgICAgKlxuICAgICAqIF8ucGFkRW5kKCdhYmMnLCA2LCAnXy0nKTtcbiAgICAgKiAvLyA9PiAnYWJjXy1fJ1xuICAgICAqXG4gICAgICogXy5wYWRFbmQoJ2FiYycsIDMpO1xuICAgICAqIC8vID0+ICdhYmMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gcGFkRW5kKHN0cmluZywgbGVuZ3RoLCBjaGFycykge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIGxlbmd0aCA9IHRvSW50ZWdlcihsZW5ndGgpO1xuXG4gICAgICB2YXIgc3RyTGVuZ3RoID0gbGVuZ3RoID8gc3RyaW5nU2l6ZShzdHJpbmcpIDogMDtcbiAgICAgIHJldHVybiAobGVuZ3RoICYmIHN0ckxlbmd0aCA8IGxlbmd0aClcbiAgICAgICAgPyAoc3RyaW5nICsgY3JlYXRlUGFkZGluZyhsZW5ndGggLSBzdHJMZW5ndGgsIGNoYXJzKSlcbiAgICAgICAgOiBzdHJpbmc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGFkcyBgc3RyaW5nYCBvbiB0aGUgbGVmdCBzaWRlIGlmIGl0J3Mgc2hvcnRlciB0aGFuIGBsZW5ndGhgLiBQYWRkaW5nXG4gICAgICogY2hhcmFjdGVycyBhcmUgdHJ1bmNhdGVkIGlmIHRoZXkgZXhjZWVkIGBsZW5ndGhgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIHBhZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aD0wXSBUaGUgcGFkZGluZyBsZW5ndGguXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtjaGFycz0nICddIFRoZSBzdHJpbmcgdXNlZCBhcyBwYWRkaW5nLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHBhZGRlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucGFkU3RhcnQoJ2FiYycsIDYpO1xuICAgICAqIC8vID0+ICcgICBhYmMnXG4gICAgICpcbiAgICAgKiBfLnBhZFN0YXJ0KCdhYmMnLCA2LCAnXy0nKTtcbiAgICAgKiAvLyA9PiAnXy1fYWJjJ1xuICAgICAqXG4gICAgICogXy5wYWRTdGFydCgnYWJjJywgMyk7XG4gICAgICogLy8gPT4gJ2FiYydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwYWRTdGFydChzdHJpbmcsIGxlbmd0aCwgY2hhcnMpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBsZW5ndGggPSB0b0ludGVnZXIobGVuZ3RoKTtcblxuICAgICAgdmFyIHN0ckxlbmd0aCA9IGxlbmd0aCA/IHN0cmluZ1NpemUoc3RyaW5nKSA6IDA7XG4gICAgICByZXR1cm4gKGxlbmd0aCAmJiBzdHJMZW5ndGggPCBsZW5ndGgpXG4gICAgICAgID8gKGNyZWF0ZVBhZGRpbmcobGVuZ3RoIC0gc3RyTGVuZ3RoLCBjaGFycykgKyBzdHJpbmcpXG4gICAgICAgIDogc3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgIHRvIGFuIGludGVnZXIgb2YgdGhlIHNwZWNpZmllZCByYWRpeC4gSWYgYHJhZGl4YCBpc1xuICAgICAqIGB1bmRlZmluZWRgIG9yIGAwYCwgYSBgcmFkaXhgIG9mIGAxMGAgaXMgdXNlZCB1bmxlc3MgYHZhbHVlYCBpcyBhXG4gICAgICogaGV4YWRlY2ltYWwsIGluIHdoaWNoIGNhc2UgYSBgcmFkaXhgIG9mIGAxNmAgaXMgdXNlZC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBhbGlnbnMgd2l0aCB0aGVcbiAgICAgKiBbRVM1IGltcGxlbWVudGF0aW9uXShodHRwczovL2VzNS5naXRodWIuaW8vI3gxNS4xLjIuMikgb2YgYHBhcnNlSW50YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjEuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3JhZGl4PTEwXSBUaGUgcmFkaXggdG8gaW50ZXJwcmV0IGB2YWx1ZWAgYnkuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgaW50ZWdlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5wYXJzZUludCgnMDgnKTtcbiAgICAgKiAvLyA9PiA4XG4gICAgICpcbiAgICAgKiBfLm1hcChbJzYnLCAnMDgnLCAnMTAnXSwgXy5wYXJzZUludCk7XG4gICAgICogLy8gPT4gWzYsIDgsIDEwXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBhcnNlSW50KHN0cmluZywgcmFkaXgsIGd1YXJkKSB7XG4gICAgICBpZiAoZ3VhcmQgfHwgcmFkaXggPT0gbnVsbCkge1xuICAgICAgICByYWRpeCA9IDA7XG4gICAgICB9IGVsc2UgaWYgKHJhZGl4KSB7XG4gICAgICAgIHJhZGl4ID0gK3JhZGl4O1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5hdGl2ZVBhcnNlSW50KHRvU3RyaW5nKHN0cmluZykucmVwbGFjZShyZVRyaW1TdGFydCwgJycpLCByYWRpeCB8fCAwKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXBlYXRzIHRoZSBnaXZlbiBzdHJpbmcgYG5gIHRpbWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIHJlcGVhdC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249MV0gVGhlIG51bWJlciBvZiB0aW1lcyB0byByZXBlYXQgdGhlIHN0cmluZy5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHJlcGVhdGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5yZXBlYXQoJyonLCAzKTtcbiAgICAgKiAvLyA9PiAnKioqJ1xuICAgICAqXG4gICAgICogXy5yZXBlYXQoJ2FiYycsIDIpO1xuICAgICAqIC8vID0+ICdhYmNhYmMnXG4gICAgICpcbiAgICAgKiBfLnJlcGVhdCgnYWJjJywgMCk7XG4gICAgICogLy8gPT4gJydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZXBlYXQoc3RyaW5nLCBuLCBndWFyZCkge1xuICAgICAgaWYgKChndWFyZCA/IGlzSXRlcmF0ZWVDYWxsKHN0cmluZywgbiwgZ3VhcmQpIDogbiA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICBuID0gMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG4gPSB0b0ludGVnZXIobik7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZVJlcGVhdCh0b1N0cmluZyhzdHJpbmcpLCBuKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXBsYWNlcyBtYXRjaGVzIGZvciBgcGF0dGVybmAgaW4gYHN0cmluZ2Agd2l0aCBgcmVwbGFjZW1lbnRgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uXG4gICAgICogW2BTdHJpbmcjcmVwbGFjZWBdKGh0dHBzOi8vbWRuLmlvL1N0cmluZy9yZXBsYWNlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtSZWdFeHB8c3RyaW5nfSBwYXR0ZXJuIFRoZSBwYXR0ZXJuIHRvIHJlcGxhY2UuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxzdHJpbmd9IHJlcGxhY2VtZW50IFRoZSBtYXRjaCByZXBsYWNlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBtb2RpZmllZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucmVwbGFjZSgnSGkgRnJlZCcsICdGcmVkJywgJ0Jhcm5leScpO1xuICAgICAqIC8vID0+ICdIaSBCYXJuZXknXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVwbGFjZSgpIHtcbiAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzLFxuICAgICAgICAgIHN0cmluZyA9IHRvU3RyaW5nKGFyZ3NbMF0pO1xuXG4gICAgICByZXR1cm4gYXJncy5sZW5ndGggPCAzID8gc3RyaW5nIDogc3RyaW5nLnJlcGxhY2UoYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AgdG9cbiAgICAgKiBbc25ha2UgY2FzZV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvU25ha2VfY2FzZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzbmFrZSBjYXNlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc25ha2VDYXNlKCdGb28gQmFyJyk7XG4gICAgICogLy8gPT4gJ2Zvb19iYXInXG4gICAgICpcbiAgICAgKiBfLnNuYWtlQ2FzZSgnZm9vQmFyJyk7XG4gICAgICogLy8gPT4gJ2Zvb19iYXInXG4gICAgICpcbiAgICAgKiBfLnNuYWtlQ2FzZSgnLS1GT08tQkFSLS0nKTtcbiAgICAgKiAvLyA9PiAnZm9vX2JhcidcbiAgICAgKi9cbiAgICB2YXIgc25ha2VDYXNlID0gY3JlYXRlQ29tcG91bmRlcihmdW5jdGlvbihyZXN1bHQsIHdvcmQsIGluZGV4KSB7XG4gICAgICByZXR1cm4gcmVzdWx0ICsgKGluZGV4ID8gJ18nIDogJycpICsgd29yZC50b0xvd2VyQ2FzZSgpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogU3BsaXRzIGBzdHJpbmdgIGJ5IGBzZXBhcmF0b3JgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uXG4gICAgICogW2BTdHJpbmcjc3BsaXRgXShodHRwczovL21kbi5pby9TdHJpbmcvc3BsaXQpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIHNwbGl0LlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfHN0cmluZ30gc2VwYXJhdG9yIFRoZSBzZXBhcmF0b3IgcGF0dGVybiB0byBzcGxpdCBieS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xpbWl0XSBUaGUgbGVuZ3RoIHRvIHRydW5jYXRlIHJlc3VsdHMgdG8uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzdHJpbmcgc2VnbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc3BsaXQoJ2EtYi1jJywgJy0nLCAyKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYiddXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3BsaXQoc3RyaW5nLCBzZXBhcmF0b3IsIGxpbWl0KSB7XG4gICAgICBpZiAobGltaXQgJiYgdHlwZW9mIGxpbWl0ICE9ICdudW1iZXInICYmIGlzSXRlcmF0ZWVDYWxsKHN0cmluZywgc2VwYXJhdG9yLCBsaW1pdCkpIHtcbiAgICAgICAgc2VwYXJhdG9yID0gbGltaXQgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBsaW1pdCA9IGxpbWl0ID09PSB1bmRlZmluZWQgPyBNQVhfQVJSQVlfTEVOR1RIIDogbGltaXQgPj4+IDA7XG4gICAgICBpZiAoIWxpbWl0KSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBpZiAoc3RyaW5nICYmIChcbiAgICAgICAgICAgIHR5cGVvZiBzZXBhcmF0b3IgPT0gJ3N0cmluZycgfHxcbiAgICAgICAgICAgIChzZXBhcmF0b3IgIT0gbnVsbCAmJiAhaXNSZWdFeHAoc2VwYXJhdG9yKSlcbiAgICAgICAgICApKSB7XG4gICAgICAgIHNlcGFyYXRvciA9IGJhc2VUb1N0cmluZyhzZXBhcmF0b3IpO1xuICAgICAgICBpZiAoIXNlcGFyYXRvciAmJiBoYXNVbmljb2RlKHN0cmluZykpIHtcbiAgICAgICAgICByZXR1cm4gY2FzdFNsaWNlKHN0cmluZ1RvQXJyYXkoc3RyaW5nKSwgMCwgbGltaXQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gc3RyaW5nLnNwbGl0KHNlcGFyYXRvciwgbGltaXQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgIHRvXG4gICAgICogW3N0YXJ0IGNhc2VdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xldHRlcl9jYXNlI1N0eWxpc3RpY19vcl9zcGVjaWFsaXNlZF91c2FnZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzdGFydCBjYXNlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc3RhcnRDYXNlKCctLWZvby1iYXItLScpO1xuICAgICAqIC8vID0+ICdGb28gQmFyJ1xuICAgICAqXG4gICAgICogXy5zdGFydENhc2UoJ2Zvb0JhcicpO1xuICAgICAqIC8vID0+ICdGb28gQmFyJ1xuICAgICAqXG4gICAgICogXy5zdGFydENhc2UoJ19fRk9PX0JBUl9fJyk7XG4gICAgICogLy8gPT4gJ0ZPTyBCQVInXG4gICAgICovXG4gICAgdmFyIHN0YXJ0Q2FzZSA9IGNyZWF0ZUNvbXBvdW5kZXIoZnVuY3Rpb24ocmVzdWx0LCB3b3JkLCBpbmRleCkge1xuICAgICAgcmV0dXJuIHJlc3VsdCArIChpbmRleCA/ICcgJyA6ICcnKSArIHVwcGVyRmlyc3Qod29yZCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHN0cmluZ2Agc3RhcnRzIHdpdGggdGhlIGdpdmVuIHRhcmdldCBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3RhcmdldF0gVGhlIHN0cmluZyB0byBzZWFyY2ggZm9yLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcG9zaXRpb249MF0gVGhlIHBvc2l0aW9uIHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgc3RyaW5nYCBzdGFydHMgd2l0aCBgdGFyZ2V0YCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnN0YXJ0c1dpdGgoJ2FiYycsICdhJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5zdGFydHNXaXRoKCdhYmMnLCAnYicpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLnN0YXJ0c1dpdGgoJ2FiYycsICdiJywgMSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0YXJ0c1dpdGgoc3RyaW5nLCB0YXJnZXQsIHBvc2l0aW9uKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgcG9zaXRpb24gPSBwb3NpdGlvbiA9PSBudWxsXG4gICAgICAgID8gMFxuICAgICAgICA6IGJhc2VDbGFtcCh0b0ludGVnZXIocG9zaXRpb24pLCAwLCBzdHJpbmcubGVuZ3RoKTtcblxuICAgICAgdGFyZ2V0ID0gYmFzZVRvU3RyaW5nKHRhcmdldCk7XG4gICAgICByZXR1cm4gc3RyaW5nLnNsaWNlKHBvc2l0aW9uLCBwb3NpdGlvbiArIHRhcmdldC5sZW5ndGgpID09IHRhcmdldDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY29tcGlsZWQgdGVtcGxhdGUgZnVuY3Rpb24gdGhhdCBjYW4gaW50ZXJwb2xhdGUgZGF0YSBwcm9wZXJ0aWVzXG4gICAgICogaW4gXCJpbnRlcnBvbGF0ZVwiIGRlbGltaXRlcnMsIEhUTUwtZXNjYXBlIGludGVycG9sYXRlZCBkYXRhIHByb3BlcnRpZXMgaW5cbiAgICAgKiBcImVzY2FwZVwiIGRlbGltaXRlcnMsIGFuZCBleGVjdXRlIEphdmFTY3JpcHQgaW4gXCJldmFsdWF0ZVwiIGRlbGltaXRlcnMuIERhdGFcbiAgICAgKiBwcm9wZXJ0aWVzIG1heSBiZSBhY2Nlc3NlZCBhcyBmcmVlIHZhcmlhYmxlcyBpbiB0aGUgdGVtcGxhdGUuIElmIGEgc2V0dGluZ1xuICAgICAqIG9iamVjdCBpcyBnaXZlbiwgaXQgdGFrZXMgcHJlY2VkZW5jZSBvdmVyIGBfLnRlbXBsYXRlU2V0dGluZ3NgIHZhbHVlcy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBJbiB0aGUgZGV2ZWxvcG1lbnQgYnVpbGQgYF8udGVtcGxhdGVgIHV0aWxpemVzXG4gICAgICogW3NvdXJjZVVSTHNdKGh0dHA6Ly93d3cuaHRtbDVyb2Nrcy5jb20vZW4vdHV0b3JpYWxzL2RldmVsb3BlcnRvb2xzL3NvdXJjZW1hcHMvI3RvYy1zb3VyY2V1cmwpXG4gICAgICogZm9yIGVhc2llciBkZWJ1Z2dpbmcuXG4gICAgICpcbiAgICAgKiBGb3IgbW9yZSBpbmZvcm1hdGlvbiBvbiBwcmVjb21waWxpbmcgdGVtcGxhdGVzIHNlZVxuICAgICAqIFtsb2Rhc2gncyBjdXN0b20gYnVpbGRzIGRvY3VtZW50YXRpb25dKGh0dHBzOi8vbG9kYXNoLmNvbS9jdXN0b20tYnVpbGRzKS5cbiAgICAgKlxuICAgICAqIEZvciBtb3JlIGluZm9ybWF0aW9uIG9uIENocm9tZSBleHRlbnNpb24gc2FuZGJveGVzIHNlZVxuICAgICAqIFtDaHJvbWUncyBleHRlbnNpb25zIGRvY3VtZW50YXRpb25dKGh0dHBzOi8vZGV2ZWxvcGVyLmNocm9tZS5jb20vZXh0ZW5zaW9ucy9zYW5kYm94aW5nRXZhbCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSB0ZW1wbGF0ZSBzdHJpbmcuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtSZWdFeHB9IFtvcHRpb25zLmVzY2FwZT1fLnRlbXBsYXRlU2V0dGluZ3MuZXNjYXBlXVxuICAgICAqICBUaGUgSFRNTCBcImVzY2FwZVwiIGRlbGltaXRlci5cbiAgICAgKiBAcGFyYW0ge1JlZ0V4cH0gW29wdGlvbnMuZXZhbHVhdGU9Xy50ZW1wbGF0ZVNldHRpbmdzLmV2YWx1YXRlXVxuICAgICAqICBUaGUgXCJldmFsdWF0ZVwiIGRlbGltaXRlci5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMuaW1wb3J0cz1fLnRlbXBsYXRlU2V0dGluZ3MuaW1wb3J0c11cbiAgICAgKiAgQW4gb2JqZWN0IHRvIGltcG9ydCBpbnRvIHRoZSB0ZW1wbGF0ZSBhcyBmcmVlIHZhcmlhYmxlcy5cbiAgICAgKiBAcGFyYW0ge1JlZ0V4cH0gW29wdGlvbnMuaW50ZXJwb2xhdGU9Xy50ZW1wbGF0ZVNldHRpbmdzLmludGVycG9sYXRlXVxuICAgICAqICBUaGUgXCJpbnRlcnBvbGF0ZVwiIGRlbGltaXRlci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuc291cmNlVVJMPSdsb2Rhc2gudGVtcGxhdGVTb3VyY2VzW25dJ11cbiAgICAgKiAgVGhlIHNvdXJjZVVSTCBvZiB0aGUgY29tcGlsZWQgdGVtcGxhdGUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnZhcmlhYmxlPSdvYmonXVxuICAgICAqICBUaGUgZGF0YSBvYmplY3QgdmFyaWFibGUgbmFtZS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgY29tcGlsZWQgdGVtcGxhdGUgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgXCJpbnRlcnBvbGF0ZVwiIGRlbGltaXRlciB0byBjcmVhdGUgYSBjb21waWxlZCB0ZW1wbGF0ZS5cbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCdoZWxsbyA8JT0gdXNlciAlPiEnKTtcbiAgICAgKiBjb21waWxlZCh7ICd1c2VyJzogJ2ZyZWQnIH0pO1xuICAgICAqIC8vID0+ICdoZWxsbyBmcmVkISdcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgSFRNTCBcImVzY2FwZVwiIGRlbGltaXRlciB0byBlc2NhcGUgZGF0YSBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnPGI+PCUtIHZhbHVlICU+PC9iPicpO1xuICAgICAqIGNvbXBpbGVkKHsgJ3ZhbHVlJzogJzxzY3JpcHQ+JyB9KTtcbiAgICAgKiAvLyA9PiAnPGI+Jmx0O3NjcmlwdCZndDs8L2I+J1xuICAgICAqXG4gICAgICogLy8gVXNlIHRoZSBcImV2YWx1YXRlXCIgZGVsaW1pdGVyIHRvIGV4ZWN1dGUgSmF2YVNjcmlwdCBhbmQgZ2VuZXJhdGUgSFRNTC5cbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCc8JSBfLmZvckVhY2godXNlcnMsIGZ1bmN0aW9uKHVzZXIpIHsgJT48bGk+PCUtIHVzZXIgJT48L2xpPjwlIH0pOyAlPicpO1xuICAgICAqIGNvbXBpbGVkKHsgJ3VzZXJzJzogWydmcmVkJywgJ2Jhcm5leSddIH0pO1xuICAgICAqIC8vID0+ICc8bGk+ZnJlZDwvbGk+PGxpPmJhcm5leTwvbGk+J1xuICAgICAqXG4gICAgICogLy8gVXNlIHRoZSBpbnRlcm5hbCBgcHJpbnRgIGZ1bmN0aW9uIGluIFwiZXZhbHVhdGVcIiBkZWxpbWl0ZXJzLlxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJzwlIHByaW50KFwiaGVsbG8gXCIgKyB1c2VyKTsgJT4hJyk7XG4gICAgICogY29tcGlsZWQoeyAndXNlcic6ICdiYXJuZXknIH0pO1xuICAgICAqIC8vID0+ICdoZWxsbyBiYXJuZXkhJ1xuICAgICAqXG4gICAgICogLy8gVXNlIHRoZSBFUyB0ZW1wbGF0ZSBsaXRlcmFsIGRlbGltaXRlciBhcyBhbiBcImludGVycG9sYXRlXCIgZGVsaW1pdGVyLlxuICAgICAqIC8vIERpc2FibGUgc3VwcG9ydCBieSByZXBsYWNpbmcgdGhlIFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXIuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnaGVsbG8gJHsgdXNlciB9IScpO1xuICAgICAqIGNvbXBpbGVkKHsgJ3VzZXInOiAncGViYmxlcycgfSk7XG4gICAgICogLy8gPT4gJ2hlbGxvIHBlYmJsZXMhJ1xuICAgICAqXG4gICAgICogLy8gVXNlIGJhY2tzbGFzaGVzIHRvIHRyZWF0IGRlbGltaXRlcnMgYXMgcGxhaW4gdGV4dC5cbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCc8JT0gXCJcXFxcPCUtIHZhbHVlICVcXFxcPlwiICU+Jyk7XG4gICAgICogY29tcGlsZWQoeyAndmFsdWUnOiAnaWdub3JlZCcgfSk7XG4gICAgICogLy8gPT4gJzwlLSB2YWx1ZSAlPidcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgYGltcG9ydHNgIG9wdGlvbiB0byBpbXBvcnQgYGpRdWVyeWAgYXMgYGpxYC5cbiAgICAgKiB2YXIgdGV4dCA9ICc8JSBqcS5lYWNoKHVzZXJzLCBmdW5jdGlvbih1c2VyKSB7ICU+PGxpPjwlLSB1c2VyICU+PC9saT48JSB9KTsgJT4nO1xuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUodGV4dCwgeyAnaW1wb3J0cyc6IHsgJ2pxJzogalF1ZXJ5IH0gfSk7XG4gICAgICogY29tcGlsZWQoeyAndXNlcnMnOiBbJ2ZyZWQnLCAnYmFybmV5J10gfSk7XG4gICAgICogLy8gPT4gJzxsaT5mcmVkPC9saT48bGk+YmFybmV5PC9saT4nXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIGBzb3VyY2VVUkxgIG9wdGlvbiB0byBzcGVjaWZ5IGEgY3VzdG9tIHNvdXJjZVVSTCBmb3IgdGhlIHRlbXBsYXRlLlxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJ2hlbGxvIDwlPSB1c2VyICU+IScsIHsgJ3NvdXJjZVVSTCc6ICcvYmFzaWMvZ3JlZXRpbmcuanN0JyB9KTtcbiAgICAgKiBjb21waWxlZChkYXRhKTtcbiAgICAgKiAvLyA9PiBGaW5kIHRoZSBzb3VyY2Ugb2YgXCJncmVldGluZy5qc3RcIiB1bmRlciB0aGUgU291cmNlcyB0YWIgb3IgUmVzb3VyY2VzIHBhbmVsIG9mIHRoZSB3ZWIgaW5zcGVjdG9yLlxuICAgICAqXG4gICAgICogLy8gVXNlIHRoZSBgdmFyaWFibGVgIG9wdGlvbiB0byBlbnN1cmUgYSB3aXRoLXN0YXRlbWVudCBpc24ndCB1c2VkIGluIHRoZSBjb21waWxlZCB0ZW1wbGF0ZS5cbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCdoaSA8JT0gZGF0YS51c2VyICU+IScsIHsgJ3ZhcmlhYmxlJzogJ2RhdGEnIH0pO1xuICAgICAqIGNvbXBpbGVkLnNvdXJjZTtcbiAgICAgKiAvLyA9PiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICogLy8gICB2YXIgX190LCBfX3AgPSAnJztcbiAgICAgKiAvLyAgIF9fcCArPSAnaGkgJyArICgoX190ID0gKCBkYXRhLnVzZXIgKSkgPT0gbnVsbCA/ICcnIDogX190KSArICchJztcbiAgICAgKiAvLyAgIHJldHVybiBfX3A7XG4gICAgICogLy8gfVxuICAgICAqXG4gICAgICogLy8gVXNlIGN1c3RvbSB0ZW1wbGF0ZSBkZWxpbWl0ZXJzLlxuICAgICAqIF8udGVtcGxhdGVTZXR0aW5ncy5pbnRlcnBvbGF0ZSA9IC97eyhbXFxzXFxTXSs/KX19L2c7XG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnaGVsbG8ge3sgdXNlciB9fSEnKTtcbiAgICAgKiBjb21waWxlZCh7ICd1c2VyJzogJ211c3RhY2hlJyB9KTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gbXVzdGFjaGUhJ1xuICAgICAqXG4gICAgICogLy8gVXNlIHRoZSBgc291cmNlYCBwcm9wZXJ0eSB0byBpbmxpbmUgY29tcGlsZWQgdGVtcGxhdGVzIGZvciBtZWFuaW5nZnVsXG4gICAgICogLy8gbGluZSBudW1iZXJzIGluIGVycm9yIG1lc3NhZ2VzIGFuZCBzdGFjayB0cmFjZXMuXG4gICAgICogZnMud3JpdGVGaWxlU3luYyhwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgJ2pzdC5qcycpLCAnXFxcbiAgICAgKiAgIHZhciBKU1QgPSB7XFxcbiAgICAgKiAgICAgXCJtYWluXCI6ICcgKyBfLnRlbXBsYXRlKG1haW5UZXh0KS5zb3VyY2UgKyAnXFxcbiAgICAgKiAgIH07XFxcbiAgICAgKiAnKTtcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0ZW1wbGF0ZShzdHJpbmcsIG9wdGlvbnMsIGd1YXJkKSB7XG4gICAgICAvLyBCYXNlZCBvbiBKb2huIFJlc2lnJ3MgYHRtcGxgIGltcGxlbWVudGF0aW9uXG4gICAgICAvLyAoaHR0cDovL2Vqb2huLm9yZy9ibG9nL2phdmFzY3JpcHQtbWljcm8tdGVtcGxhdGluZy8pXG4gICAgICAvLyBhbmQgTGF1cmEgRG9rdG9yb3ZhJ3MgZG9ULmpzIChodHRwczovL2dpdGh1Yi5jb20vb2xhZG8vZG9UKS5cbiAgICAgIHZhciBzZXR0aW5ncyA9IGxvZGFzaC50ZW1wbGF0ZVNldHRpbmdzO1xuXG4gICAgICBpZiAoZ3VhcmQgJiYgaXNJdGVyYXRlZUNhbGwoc3RyaW5nLCBvcHRpb25zLCBndWFyZCkpIHtcbiAgICAgICAgb3B0aW9ucyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBvcHRpb25zID0gYXNzaWduSW5XaXRoKHt9LCBvcHRpb25zLCBzZXR0aW5ncywgY3VzdG9tRGVmYXVsdHNBc3NpZ25Jbik7XG5cbiAgICAgIHZhciBpbXBvcnRzID0gYXNzaWduSW5XaXRoKHt9LCBvcHRpb25zLmltcG9ydHMsIHNldHRpbmdzLmltcG9ydHMsIGN1c3RvbURlZmF1bHRzQXNzaWduSW4pLFxuICAgICAgICAgIGltcG9ydHNLZXlzID0ga2V5cyhpbXBvcnRzKSxcbiAgICAgICAgICBpbXBvcnRzVmFsdWVzID0gYmFzZVZhbHVlcyhpbXBvcnRzLCBpbXBvcnRzS2V5cyk7XG5cbiAgICAgIHZhciBpc0VzY2FwaW5nLFxuICAgICAgICAgIGlzRXZhbHVhdGluZyxcbiAgICAgICAgICBpbmRleCA9IDAsXG4gICAgICAgICAgaW50ZXJwb2xhdGUgPSBvcHRpb25zLmludGVycG9sYXRlIHx8IHJlTm9NYXRjaCxcbiAgICAgICAgICBzb3VyY2UgPSBcIl9fcCArPSAnXCI7XG5cbiAgICAgIC8vIENvbXBpbGUgdGhlIHJlZ2V4cCB0byBtYXRjaCBlYWNoIGRlbGltaXRlci5cbiAgICAgIHZhciByZURlbGltaXRlcnMgPSBSZWdFeHAoXG4gICAgICAgIChvcHRpb25zLmVzY2FwZSB8fCByZU5vTWF0Y2gpLnNvdXJjZSArICd8JyArXG4gICAgICAgIGludGVycG9sYXRlLnNvdXJjZSArICd8JyArXG4gICAgICAgIChpbnRlcnBvbGF0ZSA9PT0gcmVJbnRlcnBvbGF0ZSA/IHJlRXNUZW1wbGF0ZSA6IHJlTm9NYXRjaCkuc291cmNlICsgJ3wnICtcbiAgICAgICAgKG9wdGlvbnMuZXZhbHVhdGUgfHwgcmVOb01hdGNoKS5zb3VyY2UgKyAnfCQnXG4gICAgICAsICdnJyk7XG5cbiAgICAgIC8vIFVzZSBhIHNvdXJjZVVSTCBmb3IgZWFzaWVyIGRlYnVnZ2luZy5cbiAgICAgIC8vIFRoZSBzb3VyY2VVUkwgZ2V0cyBpbmplY3RlZCBpbnRvIHRoZSBzb3VyY2UgdGhhdCdzIGV2YWwtZWQsIHNvIGJlIGNhcmVmdWxcbiAgICAgIC8vIHdpdGggbG9va3VwIChpbiBjYXNlIG9mIGUuZy4gcHJvdG90eXBlIHBvbGx1dGlvbiksIGFuZCBzdHJpcCBuZXdsaW5lcyBpZiBhbnkuXG4gICAgICAvLyBBIG5ld2xpbmUgd291bGRuJ3QgYmUgYSB2YWxpZCBzb3VyY2VVUkwgYW55d2F5LCBhbmQgaXQnZCBlbmFibGUgY29kZSBpbmplY3Rpb24uXG4gICAgICB2YXIgc291cmNlVVJMID0gJy8vIyBzb3VyY2VVUkw9JyArXG4gICAgICAgIChoYXNPd25Qcm9wZXJ0eS5jYWxsKG9wdGlvbnMsICdzb3VyY2VVUkwnKVxuICAgICAgICAgID8gKG9wdGlvbnMuc291cmNlVVJMICsgJycpLnJlcGxhY2UoL1tcXHJcXG5dL2csICcgJylcbiAgICAgICAgICA6ICgnbG9kYXNoLnRlbXBsYXRlU291cmNlc1snICsgKCsrdGVtcGxhdGVDb3VudGVyKSArICddJylcbiAgICAgICAgKSArICdcXG4nO1xuXG4gICAgICBzdHJpbmcucmVwbGFjZShyZURlbGltaXRlcnMsIGZ1bmN0aW9uKG1hdGNoLCBlc2NhcGVWYWx1ZSwgaW50ZXJwb2xhdGVWYWx1ZSwgZXNUZW1wbGF0ZVZhbHVlLCBldmFsdWF0ZVZhbHVlLCBvZmZzZXQpIHtcbiAgICAgICAgaW50ZXJwb2xhdGVWYWx1ZSB8fCAoaW50ZXJwb2xhdGVWYWx1ZSA9IGVzVGVtcGxhdGVWYWx1ZSk7XG5cbiAgICAgICAgLy8gRXNjYXBlIGNoYXJhY3RlcnMgdGhhdCBjYW4ndCBiZSBpbmNsdWRlZCBpbiBzdHJpbmcgbGl0ZXJhbHMuXG4gICAgICAgIHNvdXJjZSArPSBzdHJpbmcuc2xpY2UoaW5kZXgsIG9mZnNldCkucmVwbGFjZShyZVVuZXNjYXBlZFN0cmluZywgZXNjYXBlU3RyaW5nQ2hhcik7XG5cbiAgICAgICAgLy8gUmVwbGFjZSBkZWxpbWl0ZXJzIHdpdGggc25pcHBldHMuXG4gICAgICAgIGlmIChlc2NhcGVWYWx1ZSkge1xuICAgICAgICAgIGlzRXNjYXBpbmcgPSB0cnVlO1xuICAgICAgICAgIHNvdXJjZSArPSBcIicgK1xcbl9fZShcIiArIGVzY2FwZVZhbHVlICsgXCIpICtcXG4nXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV2YWx1YXRlVmFsdWUpIHtcbiAgICAgICAgICBpc0V2YWx1YXRpbmcgPSB0cnVlO1xuICAgICAgICAgIHNvdXJjZSArPSBcIic7XFxuXCIgKyBldmFsdWF0ZVZhbHVlICsgXCI7XFxuX19wICs9ICdcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW50ZXJwb2xhdGVWYWx1ZSkge1xuICAgICAgICAgIHNvdXJjZSArPSBcIicgK1xcbigoX190ID0gKFwiICsgaW50ZXJwb2xhdGVWYWx1ZSArIFwiKSkgPT0gbnVsbCA/ICcnIDogX190KSArXFxuJ1wiO1xuICAgICAgICB9XG4gICAgICAgIGluZGV4ID0gb2Zmc2V0ICsgbWF0Y2gubGVuZ3RoO1xuXG4gICAgICAgIC8vIFRoZSBKUyBlbmdpbmUgZW1iZWRkZWQgaW4gQWRvYmUgcHJvZHVjdHMgbmVlZHMgYG1hdGNoYCByZXR1cm5lZCBpblxuICAgICAgICAvLyBvcmRlciB0byBwcm9kdWNlIHRoZSBjb3JyZWN0IGBvZmZzZXRgIHZhbHVlLlxuICAgICAgICByZXR1cm4gbWF0Y2g7XG4gICAgICB9KTtcblxuICAgICAgc291cmNlICs9IFwiJztcXG5cIjtcblxuICAgICAgLy8gSWYgYHZhcmlhYmxlYCBpcyBub3Qgc3BlY2lmaWVkIHdyYXAgYSB3aXRoLXN0YXRlbWVudCBhcm91bmQgdGhlIGdlbmVyYXRlZFxuICAgICAgLy8gY29kZSB0byBhZGQgdGhlIGRhdGEgb2JqZWN0IHRvIHRoZSB0b3Agb2YgdGhlIHNjb3BlIGNoYWluLlxuICAgICAgLy8gTGlrZSB3aXRoIHNvdXJjZVVSTCwgd2UgdGFrZSBjYXJlIHRvIG5vdCBjaGVjayB0aGUgb3B0aW9uJ3MgcHJvdG90eXBlLFxuICAgICAgLy8gYXMgdGhpcyBjb25maWd1cmF0aW9uIGlzIGEgY29kZSBpbmplY3Rpb24gdmVjdG9yLlxuICAgICAgdmFyIHZhcmlhYmxlID0gaGFzT3duUHJvcGVydHkuY2FsbChvcHRpb25zLCAndmFyaWFibGUnKSAmJiBvcHRpb25zLnZhcmlhYmxlO1xuICAgICAgaWYgKCF2YXJpYWJsZSkge1xuICAgICAgICBzb3VyY2UgPSAnd2l0aCAob2JqKSB7XFxuJyArIHNvdXJjZSArICdcXG59XFxuJztcbiAgICAgIH1cbiAgICAgIC8vIENsZWFudXAgY29kZSBieSBzdHJpcHBpbmcgZW1wdHkgc3RyaW5ncy5cbiAgICAgIHNvdXJjZSA9IChpc0V2YWx1YXRpbmcgPyBzb3VyY2UucmVwbGFjZShyZUVtcHR5U3RyaW5nTGVhZGluZywgJycpIDogc291cmNlKVxuICAgICAgICAucmVwbGFjZShyZUVtcHR5U3RyaW5nTWlkZGxlLCAnJDEnKVxuICAgICAgICAucmVwbGFjZShyZUVtcHR5U3RyaW5nVHJhaWxpbmcsICckMTsnKTtcblxuICAgICAgLy8gRnJhbWUgY29kZSBhcyB0aGUgZnVuY3Rpb24gYm9keS5cbiAgICAgIHNvdXJjZSA9ICdmdW5jdGlvbignICsgKHZhcmlhYmxlIHx8ICdvYmonKSArICcpIHtcXG4nICtcbiAgICAgICAgKHZhcmlhYmxlXG4gICAgICAgICAgPyAnJ1xuICAgICAgICAgIDogJ29iaiB8fCAob2JqID0ge30pO1xcbidcbiAgICAgICAgKSArXG4gICAgICAgIFwidmFyIF9fdCwgX19wID0gJydcIiArXG4gICAgICAgIChpc0VzY2FwaW5nXG4gICAgICAgICAgID8gJywgX19lID0gXy5lc2NhcGUnXG4gICAgICAgICAgIDogJydcbiAgICAgICAgKSArXG4gICAgICAgIChpc0V2YWx1YXRpbmdcbiAgICAgICAgICA/ICcsIF9faiA9IEFycmF5LnByb3RvdHlwZS5qb2luO1xcbicgK1xuICAgICAgICAgICAgXCJmdW5jdGlvbiBwcmludCgpIHsgX19wICs9IF9fai5jYWxsKGFyZ3VtZW50cywgJycpIH1cXG5cIlxuICAgICAgICAgIDogJztcXG4nXG4gICAgICAgICkgK1xuICAgICAgICBzb3VyY2UgK1xuICAgICAgICAncmV0dXJuIF9fcFxcbn0nO1xuXG4gICAgICB2YXIgcmVzdWx0ID0gYXR0ZW1wdChmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIEZ1bmN0aW9uKGltcG9ydHNLZXlzLCBzb3VyY2VVUkwgKyAncmV0dXJuICcgKyBzb3VyY2UpXG4gICAgICAgICAgLmFwcGx5KHVuZGVmaW5lZCwgaW1wb3J0c1ZhbHVlcyk7XG4gICAgICB9KTtcblxuICAgICAgLy8gUHJvdmlkZSB0aGUgY29tcGlsZWQgZnVuY3Rpb24ncyBzb3VyY2UgYnkgaXRzIGB0b1N0cmluZ2AgbWV0aG9kIG9yXG4gICAgICAvLyB0aGUgYHNvdXJjZWAgcHJvcGVydHkgYXMgYSBjb252ZW5pZW5jZSBmb3IgaW5saW5pbmcgY29tcGlsZWQgdGVtcGxhdGVzLlxuICAgICAgcmVzdWx0LnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgIGlmIChpc0Vycm9yKHJlc3VsdCkpIHtcbiAgICAgICAgdGhyb3cgcmVzdWx0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCwgYXMgYSB3aG9sZSwgdG8gbG93ZXIgY2FzZSBqdXN0IGxpa2VcbiAgICAgKiBbU3RyaW5nI3RvTG93ZXJDYXNlXShodHRwczovL21kbi5pby90b0xvd2VyQ2FzZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBsb3dlciBjYXNlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9Mb3dlcignLS1Gb28tQmFyLS0nKTtcbiAgICAgKiAvLyA9PiAnLS1mb28tYmFyLS0nXG4gICAgICpcbiAgICAgKiBfLnRvTG93ZXIoJ2Zvb0JhcicpO1xuICAgICAqIC8vID0+ICdmb29iYXInXG4gICAgICpcbiAgICAgKiBfLnRvTG93ZXIoJ19fRk9PX0JBUl9fJyk7XG4gICAgICogLy8gPT4gJ19fZm9vX2Jhcl9fJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvTG93ZXIodmFsdWUpIHtcbiAgICAgIHJldHVybiB0b1N0cmluZyh2YWx1ZSkudG9Mb3dlckNhc2UoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCwgYXMgYSB3aG9sZSwgdG8gdXBwZXIgY2FzZSBqdXN0IGxpa2VcbiAgICAgKiBbU3RyaW5nI3RvVXBwZXJDYXNlXShodHRwczovL21kbi5pby90b1VwcGVyQ2FzZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB1cHBlciBjYXNlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9VcHBlcignLS1mb28tYmFyLS0nKTtcbiAgICAgKiAvLyA9PiAnLS1GT08tQkFSLS0nXG4gICAgICpcbiAgICAgKiBfLnRvVXBwZXIoJ2Zvb0JhcicpO1xuICAgICAqIC8vID0+ICdGT09CQVInXG4gICAgICpcbiAgICAgKiBfLnRvVXBwZXIoJ19fZm9vX2Jhcl9fJyk7XG4gICAgICogLy8gPT4gJ19fRk9PX0JBUl9fJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvVXBwZXIodmFsdWUpIHtcbiAgICAgIHJldHVybiB0b1N0cmluZyh2YWx1ZSkudG9VcHBlckNhc2UoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGxlYWRpbmcgYW5kIHRyYWlsaW5nIHdoaXRlc3BhY2Ugb3Igc3BlY2lmaWVkIGNoYXJhY3RlcnMgZnJvbSBgc3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byB0cmltLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9d2hpdGVzcGFjZV0gVGhlIGNoYXJhY3RlcnMgdG8gdHJpbS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHRyaW1tZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRyaW0oJyAgYWJjICAnKTtcbiAgICAgKiAvLyA9PiAnYWJjJ1xuICAgICAqXG4gICAgICogXy50cmltKCctXy1hYmMtXy0nLCAnXy0nKTtcbiAgICAgKiAvLyA9PiAnYWJjJ1xuICAgICAqXG4gICAgICogXy5tYXAoWycgIGZvbyAgJywgJyAgYmFyICAnXSwgXy50cmltKTtcbiAgICAgKiAvLyA9PiBbJ2ZvbycsICdiYXInXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRyaW0oc3RyaW5nLCBjaGFycywgZ3VhcmQpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBpZiAoc3RyaW5nICYmIChndWFyZCB8fCBjaGFycyA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UocmVUcmltLCAnJyk7XG4gICAgICB9XG4gICAgICBpZiAoIXN0cmluZyB8fCAhKGNoYXJzID0gYmFzZVRvU3RyaW5nKGNoYXJzKSkpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZztcbiAgICAgIH1cbiAgICAgIHZhciBzdHJTeW1ib2xzID0gc3RyaW5nVG9BcnJheShzdHJpbmcpLFxuICAgICAgICAgIGNoclN5bWJvbHMgPSBzdHJpbmdUb0FycmF5KGNoYXJzKSxcbiAgICAgICAgICBzdGFydCA9IGNoYXJzU3RhcnRJbmRleChzdHJTeW1ib2xzLCBjaHJTeW1ib2xzKSxcbiAgICAgICAgICBlbmQgPSBjaGFyc0VuZEluZGV4KHN0clN5bWJvbHMsIGNoclN5bWJvbHMpICsgMTtcblxuICAgICAgcmV0dXJuIGNhc3RTbGljZShzdHJTeW1ib2xzLCBzdGFydCwgZW5kKS5qb2luKCcnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRyYWlsaW5nIHdoaXRlc3BhY2Ugb3Igc3BlY2lmaWVkIGNoYXJhY3RlcnMgZnJvbSBgc3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byB0cmltLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9d2hpdGVzcGFjZV0gVGhlIGNoYXJhY3RlcnMgdG8gdHJpbS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHRyaW1tZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRyaW1FbmQoJyAgYWJjICAnKTtcbiAgICAgKiAvLyA9PiAnICBhYmMnXG4gICAgICpcbiAgICAgKiBfLnRyaW1FbmQoJy1fLWFiYy1fLScsICdfLScpO1xuICAgICAqIC8vID0+ICctXy1hYmMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gdHJpbUVuZChzdHJpbmcsIGNoYXJzLCBndWFyZCkge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIGlmIChzdHJpbmcgJiYgKGd1YXJkIHx8IGNoYXJzID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmcucmVwbGFjZShyZVRyaW1FbmQsICcnKTtcbiAgICAgIH1cbiAgICAgIGlmICghc3RyaW5nIHx8ICEoY2hhcnMgPSBiYXNlVG9TdHJpbmcoY2hhcnMpKSkge1xuICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgICAgfVxuICAgICAgdmFyIHN0clN5bWJvbHMgPSBzdHJpbmdUb0FycmF5KHN0cmluZyksXG4gICAgICAgICAgZW5kID0gY2hhcnNFbmRJbmRleChzdHJTeW1ib2xzLCBzdHJpbmdUb0FycmF5KGNoYXJzKSkgKyAxO1xuXG4gICAgICByZXR1cm4gY2FzdFNsaWNlKHN0clN5bWJvbHMsIDAsIGVuZCkuam9pbignJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBsZWFkaW5nIHdoaXRlc3BhY2Ugb3Igc3BlY2lmaWVkIGNoYXJhY3RlcnMgZnJvbSBgc3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byB0cmltLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9d2hpdGVzcGFjZV0gVGhlIGNoYXJhY3RlcnMgdG8gdHJpbS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHRyaW1tZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRyaW1TdGFydCgnICBhYmMgICcpO1xuICAgICAqIC8vID0+ICdhYmMgICdcbiAgICAgKlxuICAgICAqIF8udHJpbVN0YXJ0KCctXy1hYmMtXy0nLCAnXy0nKTtcbiAgICAgKiAvLyA9PiAnYWJjLV8tJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRyaW1TdGFydChzdHJpbmcsIGNoYXJzLCBndWFyZCkge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIGlmIChzdHJpbmcgJiYgKGd1YXJkIHx8IGNoYXJzID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmcucmVwbGFjZShyZVRyaW1TdGFydCwgJycpO1xuICAgICAgfVxuICAgICAgaWYgKCFzdHJpbmcgfHwgIShjaGFycyA9IGJhc2VUb1N0cmluZyhjaGFycykpKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmc7XG4gICAgICB9XG4gICAgICB2YXIgc3RyU3ltYm9scyA9IHN0cmluZ1RvQXJyYXkoc3RyaW5nKSxcbiAgICAgICAgICBzdGFydCA9IGNoYXJzU3RhcnRJbmRleChzdHJTeW1ib2xzLCBzdHJpbmdUb0FycmF5KGNoYXJzKSk7XG5cbiAgICAgIHJldHVybiBjYXN0U2xpY2Uoc3RyU3ltYm9scywgc3RhcnQpLmpvaW4oJycpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRydW5jYXRlcyBgc3RyaW5nYCBpZiBpdCdzIGxvbmdlciB0aGFuIHRoZSBnaXZlbiBtYXhpbXVtIHN0cmluZyBsZW5ndGguXG4gICAgICogVGhlIGxhc3QgY2hhcmFjdGVycyBvZiB0aGUgdHJ1bmNhdGVkIHN0cmluZyBhcmUgcmVwbGFjZWQgd2l0aCB0aGUgb21pc3Npb25cbiAgICAgKiBzdHJpbmcgd2hpY2ggZGVmYXVsdHMgdG8gXCIuLi5cIi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byB0cnVuY2F0ZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubGVuZ3RoPTMwXSBUaGUgbWF4aW11bSBzdHJpbmcgbGVuZ3RoLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5vbWlzc2lvbj0nLi4uJ10gVGhlIHN0cmluZyB0byBpbmRpY2F0ZSB0ZXh0IGlzIG9taXR0ZWQuXG4gICAgICogQHBhcmFtIHtSZWdFeHB8c3RyaW5nfSBbb3B0aW9ucy5zZXBhcmF0b3JdIFRoZSBzZXBhcmF0b3IgcGF0dGVybiB0byB0cnVuY2F0ZSB0by5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB0cnVuY2F0ZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRydW5jYXRlKCdoaS1kaWRkbHktaG8gdGhlcmUsIG5laWdoYm9yaW5vJyk7XG4gICAgICogLy8gPT4gJ2hpLWRpZGRseS1obyB0aGVyZSwgbmVpZ2hiby4uLidcbiAgICAgKlxuICAgICAqIF8udHJ1bmNhdGUoJ2hpLWRpZGRseS1obyB0aGVyZSwgbmVpZ2hib3Jpbm8nLCB7XG4gICAgICogICAnbGVuZ3RoJzogMjQsXG4gICAgICogICAnc2VwYXJhdG9yJzogJyAnXG4gICAgICogfSk7XG4gICAgICogLy8gPT4gJ2hpLWRpZGRseS1obyB0aGVyZSwuLi4nXG4gICAgICpcbiAgICAgKiBfLnRydW5jYXRlKCdoaS1kaWRkbHktaG8gdGhlcmUsIG5laWdoYm9yaW5vJywge1xuICAgICAqICAgJ2xlbmd0aCc6IDI0LFxuICAgICAqICAgJ3NlcGFyYXRvcic6IC8sPyArL1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+ICdoaS1kaWRkbHktaG8gdGhlcmUuLi4nXG4gICAgICpcbiAgICAgKiBfLnRydW5jYXRlKCdoaS1kaWRkbHktaG8gdGhlcmUsIG5laWdoYm9yaW5vJywge1xuICAgICAqICAgJ29taXNzaW9uJzogJyBbLi4uXSdcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiAnaGktZGlkZGx5LWhvIHRoZXJlLCBuZWlnIFsuLi5dJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRydW5jYXRlKHN0cmluZywgb3B0aW9ucykge1xuICAgICAgdmFyIGxlbmd0aCA9IERFRkFVTFRfVFJVTkNfTEVOR1RILFxuICAgICAgICAgIG9taXNzaW9uID0gREVGQVVMVF9UUlVOQ19PTUlTU0lPTjtcblxuICAgICAgaWYgKGlzT2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgICAgIHZhciBzZXBhcmF0b3IgPSAnc2VwYXJhdG9yJyBpbiBvcHRpb25zID8gb3B0aW9ucy5zZXBhcmF0b3IgOiBzZXBhcmF0b3I7XG4gICAgICAgIGxlbmd0aCA9ICdsZW5ndGgnIGluIG9wdGlvbnMgPyB0b0ludGVnZXIob3B0aW9ucy5sZW5ndGgpIDogbGVuZ3RoO1xuICAgICAgICBvbWlzc2lvbiA9ICdvbWlzc2lvbicgaW4gb3B0aW9ucyA/IGJhc2VUb1N0cmluZyhvcHRpb25zLm9taXNzaW9uKSA6IG9taXNzaW9uO1xuICAgICAgfVxuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcblxuICAgICAgdmFyIHN0ckxlbmd0aCA9IHN0cmluZy5sZW5ndGg7XG4gICAgICBpZiAoaGFzVW5pY29kZShzdHJpbmcpKSB7XG4gICAgICAgIHZhciBzdHJTeW1ib2xzID0gc3RyaW5nVG9BcnJheShzdHJpbmcpO1xuICAgICAgICBzdHJMZW5ndGggPSBzdHJTeW1ib2xzLmxlbmd0aDtcbiAgICAgIH1cbiAgICAgIGlmIChsZW5ndGggPj0gc3RyTGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmc7XG4gICAgICB9XG4gICAgICB2YXIgZW5kID0gbGVuZ3RoIC0gc3RyaW5nU2l6ZShvbWlzc2lvbik7XG4gICAgICBpZiAoZW5kIDwgMSkge1xuICAgICAgICByZXR1cm4gb21pc3Npb247XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gc3RyU3ltYm9sc1xuICAgICAgICA/IGNhc3RTbGljZShzdHJTeW1ib2xzLCAwLCBlbmQpLmpvaW4oJycpXG4gICAgICAgIDogc3RyaW5nLnNsaWNlKDAsIGVuZCk7XG5cbiAgICAgIGlmIChzZXBhcmF0b3IgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gcmVzdWx0ICsgb21pc3Npb247XG4gICAgICB9XG4gICAgICBpZiAoc3RyU3ltYm9scykge1xuICAgICAgICBlbmQgKz0gKHJlc3VsdC5sZW5ndGggLSBlbmQpO1xuICAgICAgfVxuICAgICAgaWYgKGlzUmVnRXhwKHNlcGFyYXRvcikpIHtcbiAgICAgICAgaWYgKHN0cmluZy5zbGljZShlbmQpLnNlYXJjaChzZXBhcmF0b3IpKSB7XG4gICAgICAgICAgdmFyIG1hdGNoLFxuICAgICAgICAgICAgICBzdWJzdHJpbmcgPSByZXN1bHQ7XG5cbiAgICAgICAgICBpZiAoIXNlcGFyYXRvci5nbG9iYWwpIHtcbiAgICAgICAgICAgIHNlcGFyYXRvciA9IFJlZ0V4cChzZXBhcmF0b3Iuc291cmNlLCB0b1N0cmluZyhyZUZsYWdzLmV4ZWMoc2VwYXJhdG9yKSkgKyAnZycpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXBhcmF0b3IubGFzdEluZGV4ID0gMDtcbiAgICAgICAgICB3aGlsZSAoKG1hdGNoID0gc2VwYXJhdG9yLmV4ZWMoc3Vic3RyaW5nKSkpIHtcbiAgICAgICAgICAgIHZhciBuZXdFbmQgPSBtYXRjaC5pbmRleDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnNsaWNlKDAsIG5ld0VuZCA9PT0gdW5kZWZpbmVkID8gZW5kIDogbmV3RW5kKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChzdHJpbmcuaW5kZXhPZihiYXNlVG9TdHJpbmcoc2VwYXJhdG9yKSwgZW5kKSAhPSBlbmQpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gcmVzdWx0Lmxhc3RJbmRleE9mKHNlcGFyYXRvcik7XG4gICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnNsaWNlKDAsIGluZGV4KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdCArIG9taXNzaW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBpbnZlcnNlIG9mIGBfLmVzY2FwZWA7IHRoaXMgbWV0aG9kIGNvbnZlcnRzIHRoZSBIVE1MIGVudGl0aWVzXG4gICAgICogYCZhbXA7YCwgYCZsdDtgLCBgJmd0O2AsIGAmcXVvdDtgLCBhbmQgYCYjMzk7YCBpbiBgc3RyaW5nYCB0b1xuICAgICAqIHRoZWlyIGNvcnJlc3BvbmRpbmcgY2hhcmFjdGVycy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBObyBvdGhlciBIVE1MIGVudGl0aWVzIGFyZSB1bmVzY2FwZWQuIFRvIHVuZXNjYXBlIGFkZGl0aW9uYWxcbiAgICAgKiBIVE1MIGVudGl0aWVzIHVzZSBhIHRoaXJkLXBhcnR5IGxpYnJhcnkgbGlrZSBbX2hlX10oaHR0cHM6Ly9tdGhzLmJlL2hlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjYuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byB1bmVzY2FwZS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB1bmVzY2FwZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVuZXNjYXBlKCdmcmVkLCBiYXJuZXksICZhbXA7IHBlYmJsZXMnKTtcbiAgICAgKiAvLyA9PiAnZnJlZCwgYmFybmV5LCAmIHBlYmJsZXMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5lc2NhcGUoc3RyaW5nKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgcmV0dXJuIChzdHJpbmcgJiYgcmVIYXNFc2NhcGVkSHRtbC50ZXN0KHN0cmluZykpXG4gICAgICAgID8gc3RyaW5nLnJlcGxhY2UocmVFc2NhcGVkSHRtbCwgdW5lc2NhcGVIdG1sQ2hhcilcbiAgICAgICAgOiBzdHJpbmc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AsIGFzIHNwYWNlIHNlcGFyYXRlZCB3b3JkcywgdG8gdXBwZXIgY2FzZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHVwcGVyIGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51cHBlckNhc2UoJy0tZm9vLWJhcicpO1xuICAgICAqIC8vID0+ICdGT08gQkFSJ1xuICAgICAqXG4gICAgICogXy51cHBlckNhc2UoJ2Zvb0JhcicpO1xuICAgICAqIC8vID0+ICdGT08gQkFSJ1xuICAgICAqXG4gICAgICogXy51cHBlckNhc2UoJ19fZm9vX2Jhcl9fJyk7XG4gICAgICogLy8gPT4gJ0ZPTyBCQVInXG4gICAgICovXG4gICAgdmFyIHVwcGVyQ2FzZSA9IGNyZWF0ZUNvbXBvdW5kZXIoZnVuY3Rpb24ocmVzdWx0LCB3b3JkLCBpbmRleCkge1xuICAgICAgcmV0dXJuIHJlc3VsdCArIChpbmRleCA/ICcgJyA6ICcnKSArIHdvcmQudG9VcHBlckNhc2UoKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIHRoZSBmaXJzdCBjaGFyYWN0ZXIgb2YgYHN0cmluZ2AgdG8gdXBwZXIgY2FzZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udXBwZXJGaXJzdCgnZnJlZCcpO1xuICAgICAqIC8vID0+ICdGcmVkJ1xuICAgICAqXG4gICAgICogXy51cHBlckZpcnN0KCdGUkVEJyk7XG4gICAgICogLy8gPT4gJ0ZSRUQnXG4gICAgICovXG4gICAgdmFyIHVwcGVyRmlyc3QgPSBjcmVhdGVDYXNlRmlyc3QoJ3RvVXBwZXJDYXNlJyk7XG5cbiAgICAvKipcbiAgICAgKiBTcGxpdHMgYHN0cmluZ2AgaW50byBhbiBhcnJheSBvZiBpdHMgd29yZHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge1JlZ0V4cHxzdHJpbmd9IFtwYXR0ZXJuXSBUaGUgcGF0dGVybiB0byBtYXRjaCB3b3Jkcy5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgd29yZHMgb2YgYHN0cmluZ2AuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ud29yZHMoJ2ZyZWQsIGJhcm5leSwgJiBwZWJibGVzJyk7XG4gICAgICogLy8gPT4gWydmcmVkJywgJ2Jhcm5leScsICdwZWJibGVzJ11cbiAgICAgKlxuICAgICAqIF8ud29yZHMoJ2ZyZWQsIGJhcm5leSwgJiBwZWJibGVzJywgL1teLCBdKy9nKTtcbiAgICAgKiAvLyA9PiBbJ2ZyZWQnLCAnYmFybmV5JywgJyYnLCAncGViYmxlcyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gd29yZHMoc3RyaW5nLCBwYXR0ZXJuLCBndWFyZCkge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHBhdHRlcm4gPSBndWFyZCA/IHVuZGVmaW5lZCA6IHBhdHRlcm47XG5cbiAgICAgIGlmIChwYXR0ZXJuID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGhhc1VuaWNvZGVXb3JkKHN0cmluZykgPyB1bmljb2RlV29yZHMoc3RyaW5nKSA6IGFzY2lpV29yZHMoc3RyaW5nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzdHJpbmcubWF0Y2gocGF0dGVybikgfHwgW107XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQXR0ZW1wdHMgdG8gaW52b2tlIGBmdW5jYCwgcmV0dXJuaW5nIGVpdGhlciB0aGUgcmVzdWx0IG9yIHRoZSBjYXVnaHQgZXJyb3JcbiAgICAgKiBvYmplY3QuIEFueSBhZGRpdGlvbmFsIGFyZ3VtZW50cyBhcmUgcHJvdmlkZWQgdG8gYGZ1bmNgIHdoZW4gaXQncyBpbnZva2VkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhdHRlbXB0LlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ3NdIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIGBmdW5jYCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBgZnVuY2AgcmVzdWx0IG9yIGVycm9yIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogLy8gQXZvaWQgdGhyb3dpbmcgZXJyb3JzIGZvciBpbnZhbGlkIHNlbGVjdG9ycy5cbiAgICAgKiB2YXIgZWxlbWVudHMgPSBfLmF0dGVtcHQoZnVuY3Rpb24oc2VsZWN0b3IpIHtcbiAgICAgKiAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcbiAgICAgKiB9LCAnPl8+Jyk7XG4gICAgICpcbiAgICAgKiBpZiAoXy5pc0Vycm9yKGVsZW1lbnRzKSkge1xuICAgICAqICAgZWxlbWVudHMgPSBbXTtcbiAgICAgKiB9XG4gICAgICovXG4gICAgdmFyIGF0dGVtcHQgPSBiYXNlUmVzdChmdW5jdGlvbihmdW5jLCBhcmdzKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gYXBwbHkoZnVuYywgdW5kZWZpbmVkLCBhcmdzKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIGlzRXJyb3IoZSkgPyBlIDogbmV3IEVycm9yKGUpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQmluZHMgbWV0aG9kcyBvZiBhbiBvYmplY3QgdG8gdGhlIG9iamVjdCBpdHNlbGYsIG92ZXJ3cml0aW5nIHRoZSBleGlzdGluZ1xuICAgICAqIG1ldGhvZC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBkb2Vzbid0IHNldCB0aGUgXCJsZW5ndGhcIiBwcm9wZXJ0eSBvZiBib3VuZCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBiaW5kIGFuZCBhc3NpZ24gdGhlIGJvdW5kIG1ldGhvZHMgdG8uXG4gICAgICogQHBhcmFtIHsuLi4oc3RyaW5nfHN0cmluZ1tdKX0gbWV0aG9kTmFtZXMgVGhlIG9iamVjdCBtZXRob2QgbmFtZXMgdG8gYmluZC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdmlldyA9IHtcbiAgICAgKiAgICdsYWJlbCc6ICdkb2NzJyxcbiAgICAgKiAgICdjbGljayc6IGZ1bmN0aW9uKCkge1xuICAgICAqICAgICBjb25zb2xlLmxvZygnY2xpY2tlZCAnICsgdGhpcy5sYWJlbCk7XG4gICAgICogICB9XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIF8uYmluZEFsbCh2aWV3LCBbJ2NsaWNrJ10pO1xuICAgICAqIGpRdWVyeShlbGVtZW50KS5vbignY2xpY2snLCB2aWV3LmNsaWNrKTtcbiAgICAgKiAvLyA9PiBMb2dzICdjbGlja2VkIGRvY3MnIHdoZW4gY2xpY2tlZC5cbiAgICAgKi9cbiAgICB2YXIgYmluZEFsbCA9IGZsYXRSZXN0KGZ1bmN0aW9uKG9iamVjdCwgbWV0aG9kTmFtZXMpIHtcbiAgICAgIGFycmF5RWFjaChtZXRob2ROYW1lcywgZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIGtleSA9IHRvS2V5KGtleSk7XG4gICAgICAgIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgYmluZChvYmplY3Rba2V5XSwgb2JqZWN0KSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpdGVyYXRlcyBvdmVyIGBwYWlyc2AgYW5kIGludm9rZXMgdGhlIGNvcnJlc3BvbmRpbmdcbiAgICAgKiBmdW5jdGlvbiBvZiB0aGUgZmlyc3QgcHJlZGljYXRlIHRvIHJldHVybiB0cnV0aHkuIFRoZSBwcmVkaWNhdGUtZnVuY3Rpb25cbiAgICAgKiBwYWlycyBhcmUgaW52b2tlZCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBhbmQgYXJndW1lbnRzIG9mIHRoZSBjcmVhdGVkXG4gICAgICogZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhaXJzIFRoZSBwcmVkaWNhdGUtZnVuY3Rpb24gcGFpcnMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY29tcG9zaXRlIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8uY29uZChbXG4gICAgICogICBbXy5tYXRjaGVzKHsgJ2EnOiAxIH0pLCAgICAgICAgICAgXy5jb25zdGFudCgnbWF0Y2hlcyBBJyldLFxuICAgICAqICAgW18uY29uZm9ybXMoeyAnYic6IF8uaXNOdW1iZXIgfSksIF8uY29uc3RhbnQoJ21hdGNoZXMgQicpXSxcbiAgICAgKiAgIFtfLnN0dWJUcnVlLCAgICAgICAgICAgICAgICAgICAgICBfLmNvbnN0YW50KCdubyBtYXRjaCcpXVxuICAgICAqIF0pO1xuICAgICAqXG4gICAgICogZnVuYyh7ICdhJzogMSwgJ2InOiAyIH0pO1xuICAgICAqIC8vID0+ICdtYXRjaGVzIEEnXG4gICAgICpcbiAgICAgKiBmdW5jKHsgJ2EnOiAwLCAnYic6IDEgfSk7XG4gICAgICogLy8gPT4gJ21hdGNoZXMgQidcbiAgICAgKlxuICAgICAqIGZ1bmMoeyAnYSc6ICcxJywgJ2InOiAnMicgfSk7XG4gICAgICogLy8gPT4gJ25vIG1hdGNoJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbmQocGFpcnMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBwYWlycyA9PSBudWxsID8gMCA6IHBhaXJzLmxlbmd0aCxcbiAgICAgICAgICB0b0l0ZXJhdGVlID0gZ2V0SXRlcmF0ZWUoKTtcblxuICAgICAgcGFpcnMgPSAhbGVuZ3RoID8gW10gOiBhcnJheU1hcChwYWlycywgZnVuY3Rpb24ocGFpcikge1xuICAgICAgICBpZiAodHlwZW9mIHBhaXJbMV0gIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW3RvSXRlcmF0ZWUocGFpclswXSksIHBhaXJbMV1dO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBiYXNlUmVzdChmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgIHZhciBpbmRleCA9IC0xO1xuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIHZhciBwYWlyID0gcGFpcnNbaW5kZXhdO1xuICAgICAgICAgIGlmIChhcHBseShwYWlyWzBdLCB0aGlzLCBhcmdzKSkge1xuICAgICAgICAgICAgcmV0dXJuIGFwcGx5KHBhaXJbMV0sIHRoaXMsIGFyZ3MpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyB0aGUgcHJlZGljYXRlIHByb3BlcnRpZXMgb2YgYHNvdXJjZWAgd2l0aFxuICAgICAqIHRoZSBjb3JyZXNwb25kaW5nIHByb3BlcnR5IHZhbHVlcyBvZiBhIGdpdmVuIG9iamVjdCwgcmV0dXJuaW5nIGB0cnVlYCBpZlxuICAgICAqIGFsbCBwcmVkaWNhdGVzIHJldHVybiB0cnV0aHksIGVsc2UgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGUgY3JlYXRlZCBmdW5jdGlvbiBpcyBlcXVpdmFsZW50IHRvIGBfLmNvbmZvcm1zVG9gIHdpdGhcbiAgICAgKiBgc291cmNlYCBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHByZWRpY2F0ZXMgdG8gY29uZm9ybSB0by5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzcGVjIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFtcbiAgICAgKiAgIHsgJ2EnOiAyLCAnYic6IDEgfSxcbiAgICAgKiAgIHsgJ2EnOiAxLCAnYic6IDIgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbHRlcihvYmplY3RzLCBfLmNvbmZvcm1zKHsgJ2InOiBmdW5jdGlvbihuKSB7IHJldHVybiBuID4gMTsgfSB9KSk7XG4gICAgICogLy8gPT4gW3sgJ2EnOiAxLCAnYic6IDIgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb25mb3Jtcyhzb3VyY2UpIHtcbiAgICAgIHJldHVybiBiYXNlQ29uZm9ybXMoYmFzZUNsb25lKHNvdXJjZSwgQ0xPTkVfREVFUF9GTEFHKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuNC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byByZXR1cm4gZnJvbSB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbnN0YW50IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IF8udGltZXMoMiwgXy5jb25zdGFudCh7ICdhJzogMSB9KSk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3RzKTtcbiAgICAgKiAvLyA9PiBbeyAnYSc6IDEgfSwgeyAnYSc6IDEgfV1cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdHNbMF0gPT09IG9iamVjdHNbMV0pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb25zdGFudCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBgdmFsdWVgIHRvIGRldGVybWluZSB3aGV0aGVyIGEgZGVmYXVsdCB2YWx1ZSBzaG91bGQgYmUgcmV0dXJuZWQgaW5cbiAgICAgKiBpdHMgcGxhY2UuIFRoZSBgZGVmYXVsdFZhbHVlYCBpcyByZXR1cm5lZCBpZiBgdmFsdWVgIGlzIGBOYU5gLCBgbnVsbGAsXG4gICAgICogb3IgYHVuZGVmaW5lZGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xNC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcGFyYW0geyp9IGRlZmF1bHRWYWx1ZSBUaGUgZGVmYXVsdCB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGVmYXVsdFRvKDEsIDEwKTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICpcbiAgICAgKiBfLmRlZmF1bHRUbyh1bmRlZmluZWQsIDEwKTtcbiAgICAgKiAvLyA9PiAxMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRlZmF1bHRUbyh2YWx1ZSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICByZXR1cm4gKHZhbHVlID09IG51bGwgfHwgdmFsdWUgIT09IHZhbHVlKSA/IGRlZmF1bHRWYWx1ZSA6IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIHJlc3VsdCBvZiBpbnZva2luZyB0aGUgZ2l2ZW4gZnVuY3Rpb25zXG4gICAgICogd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgdGhlIGNyZWF0ZWQgZnVuY3Rpb24sIHdoZXJlIGVhY2ggc3VjY2Vzc2l2ZVxuICAgICAqIGludm9jYXRpb24gaXMgc3VwcGxpZWQgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgcHJldmlvdXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbZnVuY3NdIFRoZSBmdW5jdGlvbnMgdG8gaW52b2tlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbXBvc2l0ZSBmdW5jdGlvbi5cbiAgICAgKiBAc2VlIF8uZmxvd1JpZ2h0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIHNxdWFyZShuKSB7XG4gICAgICogICByZXR1cm4gbiAqIG47XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGFkZFNxdWFyZSA9IF8uZmxvdyhbXy5hZGQsIHNxdWFyZV0pO1xuICAgICAqIGFkZFNxdWFyZSgxLCAyKTtcbiAgICAgKiAvLyA9PiA5XG4gICAgICovXG4gICAgdmFyIGZsb3cgPSBjcmVhdGVGbG93KCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZsb3dgIGV4Y2VwdCB0aGF0IGl0IGNyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0XG4gICAgICogaW52b2tlcyB0aGUgZ2l2ZW4gZnVuY3Rpb25zIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsuLi4oRnVuY3Rpb258RnVuY3Rpb25bXSl9IFtmdW5jc10gVGhlIGZ1bmN0aW9ucyB0byBpbnZva2UuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY29tcG9zaXRlIGZ1bmN0aW9uLlxuICAgICAqIEBzZWUgXy5mbG93XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIHNxdWFyZShuKSB7XG4gICAgICogICByZXR1cm4gbiAqIG47XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGFkZFNxdWFyZSA9IF8uZmxvd1JpZ2h0KFtzcXVhcmUsIF8uYWRkXSk7XG4gICAgICogYWRkU3F1YXJlKDEsIDIpO1xuICAgICAqIC8vID0+IDlcbiAgICAgKi9cbiAgICB2YXIgZmxvd1JpZ2h0ID0gY3JlYXRlRmxvdyh0cnVlKTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHJldHVybnMgdGhlIGZpcnN0IGFyZ3VtZW50IGl0IHJlY2VpdmVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIEFueSB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyBgdmFsdWVgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEgfTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKF8uaWRlbnRpdHkob2JqZWN0KSA9PT0gb2JqZWN0KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaWRlbnRpdHkodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIHRoZSBhcmd1bWVudHMgb2YgdGhlIGNyZWF0ZWRcbiAgICAgKiBmdW5jdGlvbi4gSWYgYGZ1bmNgIGlzIGEgcHJvcGVydHkgbmFtZSwgdGhlIGNyZWF0ZWQgZnVuY3Rpb24gcmV0dXJucyB0aGVcbiAgICAgKiBwcm9wZXJ0eSB2YWx1ZSBmb3IgYSBnaXZlbiBlbGVtZW50LiBJZiBgZnVuY2AgaXMgYW4gYXJyYXkgb3Igb2JqZWN0LCB0aGVcbiAgICAgKiBjcmVhdGVkIGZ1bmN0aW9uIHJldHVybnMgYHRydWVgIGZvciBlbGVtZW50cyB0aGF0IGNvbnRhaW4gdGhlIGVxdWl2YWxlbnRcbiAgICAgKiBzb3VyY2UgcHJvcGVydGllcywgb3RoZXJ3aXNlIGl0IHJldHVybnMgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSBbZnVuYz1fLmlkZW50aXR5XSBUaGUgdmFsdWUgdG8gY29udmVydCB0byBhIGNhbGxiYWNrLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgY2FsbGJhY2suXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDAsICdhY3RpdmUnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maWx0ZXIodXNlcnMsIF8uaXRlcmF0ZWUoeyAndXNlcic6ICdiYXJuZXknLCAnYWN0aXZlJzogdHJ1ZSB9KSk7XG4gICAgICogLy8gPT4gW3sgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9XVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCBfLml0ZXJhdGVlKFsndXNlcicsICdmcmVkJ10pKTtcbiAgICAgKiAvLyA9PiBbeyAndXNlcic6ICdmcmVkJywgJ2FnZSc6IDQwIH1dXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLm1hcCh1c2VycywgXy5pdGVyYXRlZSgndXNlcicpKTtcbiAgICAgKiAvLyA9PiBbJ2Jhcm5leScsICdmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIENyZWF0ZSBjdXN0b20gaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKiBfLml0ZXJhdGVlID0gXy53cmFwKF8uaXRlcmF0ZWUsIGZ1bmN0aW9uKGl0ZXJhdGVlLCBmdW5jKSB7XG4gICAgICogICByZXR1cm4gIV8uaXNSZWdFeHAoZnVuYykgPyBpdGVyYXRlZShmdW5jKSA6IGZ1bmN0aW9uKHN0cmluZykge1xuICAgICAqICAgICByZXR1cm4gZnVuYy50ZXN0KHN0cmluZyk7XG4gICAgICogICB9O1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogXy5maWx0ZXIoWydhYmMnLCAnZGVmJ10sIC9lZi8pO1xuICAgICAqIC8vID0+IFsnZGVmJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpdGVyYXRlZShmdW5jKSB7XG4gICAgICByZXR1cm4gYmFzZUl0ZXJhdGVlKHR5cGVvZiBmdW5jID09ICdmdW5jdGlvbicgPyBmdW5jIDogYmFzZUNsb25lKGZ1bmMsIENMT05FX0RFRVBfRkxBRykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHBlcmZvcm1zIGEgcGFydGlhbCBkZWVwIGNvbXBhcmlzb24gYmV0d2VlbiBhIGdpdmVuXG4gICAgICogb2JqZWN0IGFuZCBgc291cmNlYCwgcmV0dXJuaW5nIGB0cnVlYCBpZiB0aGUgZ2l2ZW4gb2JqZWN0IGhhcyBlcXVpdmFsZW50XG4gICAgICogcHJvcGVydHkgdmFsdWVzLCBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhlIGNyZWF0ZWQgZnVuY3Rpb24gaXMgZXF1aXZhbGVudCB0byBgXy5pc01hdGNoYCB3aXRoIGBzb3VyY2VgXG4gICAgICogcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICpcbiAgICAgKiBQYXJ0aWFsIGNvbXBhcmlzb25zIHdpbGwgbWF0Y2ggZW1wdHkgYXJyYXkgYW5kIGVtcHR5IG9iamVjdCBgc291cmNlYFxuICAgICAqIHZhbHVlcyBhZ2FpbnN0IGFueSBhcnJheSBvciBvYmplY3QgdmFsdWUsIHJlc3BlY3RpdmVseS4gU2VlIGBfLmlzRXF1YWxgXG4gICAgICogZm9yIGEgbGlzdCBvZiBzdXBwb3J0ZWQgdmFsdWUgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSB2YWx1ZXMgdG8gbWF0Y2guXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbXG4gICAgICogICB7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDMgfSxcbiAgICAgKiAgIHsgJ2EnOiA0LCAnYic6IDUsICdjJzogNiB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZmlsdGVyKG9iamVjdHMsIF8ubWF0Y2hlcyh7ICdhJzogNCwgJ2MnOiA2IH0pKTtcbiAgICAgKiAvLyA9PiBbeyAnYSc6IDQsICdiJzogNSwgJ2MnOiA2IH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWF0Y2hlcyhzb3VyY2UpIHtcbiAgICAgIHJldHVybiBiYXNlTWF0Y2hlcyhiYXNlQ2xvbmUoc291cmNlLCBDTE9ORV9ERUVQX0ZMQUcpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBwZXJmb3JtcyBhIHBhcnRpYWwgZGVlcCBjb21wYXJpc29uIGJldHdlZW4gdGhlXG4gICAgICogdmFsdWUgYXQgYHBhdGhgIG9mIGEgZ2l2ZW4gb2JqZWN0IHRvIGBzcmNWYWx1ZWAsIHJldHVybmluZyBgdHJ1ZWAgaWYgdGhlXG4gICAgICogb2JqZWN0IHZhbHVlIGlzIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBQYXJ0aWFsIGNvbXBhcmlzb25zIHdpbGwgbWF0Y2ggZW1wdHkgYXJyYXkgYW5kIGVtcHR5IG9iamVjdFxuICAgICAqIGBzcmNWYWx1ZWAgdmFsdWVzIGFnYWluc3QgYW55IGFycmF5IG9yIG9iamVjdCB2YWx1ZSwgcmVzcGVjdGl2ZWx5LiBTZWVcbiAgICAgKiBgXy5pc0VxdWFsYCBmb3IgYSBsaXN0IG9mIHN1cHBvcnRlZCB2YWx1ZSBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjIuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcGFyYW0geyp9IHNyY1ZhbHVlIFRoZSB2YWx1ZSB0byBtYXRjaC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzcGVjIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFtcbiAgICAgKiAgIHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMyB9LFxuICAgICAqICAgeyAnYSc6IDQsICdiJzogNSwgJ2MnOiA2IH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5maW5kKG9iamVjdHMsIF8ubWF0Y2hlc1Byb3BlcnR5KCdhJywgNCkpO1xuICAgICAqIC8vID0+IHsgJ2EnOiA0LCAnYic6IDUsICdjJzogNiB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gbWF0Y2hlc1Byb3BlcnR5KHBhdGgsIHNyY1ZhbHVlKSB7XG4gICAgICByZXR1cm4gYmFzZU1hdGNoZXNQcm9wZXJ0eShwYXRoLCBiYXNlQ2xvbmUoc3JjVmFsdWUsIENMT05FX0RFRVBfRkxBRykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgdGhlIG1ldGhvZCBhdCBgcGF0aGAgb2YgYSBnaXZlbiBvYmplY3QuXG4gICAgICogQW55IGFkZGl0aW9uYWwgYXJndW1lbnRzIGFyZSBwcm92aWRlZCB0byB0aGUgaW52b2tlZCBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy43LjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBtZXRob2QgdG8gaW52b2tlLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ3NdIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIHRoZSBtZXRob2Qgd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBpbnZva2VyIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFtcbiAgICAgKiAgIHsgJ2EnOiB7ICdiJzogXy5jb25zdGFudCgyKSB9IH0sXG4gICAgICogICB7ICdhJzogeyAnYic6IF8uY29uc3RhbnQoMSkgfSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8ubWFwKG9iamVjdHMsIF8ubWV0aG9kKCdhLmInKSk7XG4gICAgICogLy8gPT4gWzIsIDFdXG4gICAgICpcbiAgICAgKiBfLm1hcChvYmplY3RzLCBfLm1ldGhvZChbJ2EnLCAnYiddKSk7XG4gICAgICogLy8gPT4gWzIsIDFdXG4gICAgICovXG4gICAgdmFyIG1ldGhvZCA9IGJhc2VSZXN0KGZ1bmN0aW9uKHBhdGgsIGFyZ3MpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VJbnZva2Uob2JqZWN0LCBwYXRoLCBhcmdzKTtcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8ubWV0aG9kYDsgdGhpcyBtZXRob2QgY3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlc1xuICAgICAqIHRoZSBtZXRob2QgYXQgYSBnaXZlbiBwYXRoIG9mIGBvYmplY3RgLiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHMgYXJlXG4gICAgICogcHJvdmlkZWQgdG8gdGhlIGludm9rZWQgbWV0aG9kLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuNy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbYXJnc10gVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgdGhlIG1ldGhvZCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGludm9rZXIgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IF8udGltZXMoMywgXy5jb25zdGFudCksXG4gICAgICogICAgIG9iamVjdCA9IHsgJ2EnOiBhcnJheSwgJ2InOiBhcnJheSwgJ2MnOiBhcnJheSB9O1xuICAgICAqXG4gICAgICogXy5tYXAoWydhWzJdJywgJ2NbMF0nXSwgXy5tZXRob2RPZihvYmplY3QpKTtcbiAgICAgKiAvLyA9PiBbMiwgMF1cbiAgICAgKlxuICAgICAqIF8ubWFwKFtbJ2EnLCAnMiddLCBbJ2MnLCAnMCddXSwgXy5tZXRob2RPZihvYmplY3QpKTtcbiAgICAgKiAvLyA9PiBbMiwgMF1cbiAgICAgKi9cbiAgICB2YXIgbWV0aG9kT2YgPSBiYXNlUmVzdChmdW5jdGlvbihvYmplY3QsIGFyZ3MpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihwYXRoKSB7XG4gICAgICAgIHJldHVybiBiYXNlSW52b2tlKG9iamVjdCwgcGF0aCwgYXJncyk7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBhbGwgb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIGZ1bmN0aW9uIHByb3BlcnRpZXMgb2YgYSBzb3VyY2VcbiAgICAgKiBvYmplY3QgdG8gdGhlIGRlc3RpbmF0aW9uIG9iamVjdC4gSWYgYG9iamVjdGAgaXMgYSBmdW5jdGlvbiwgdGhlbiBtZXRob2RzXG4gICAgICogYXJlIGFkZGVkIHRvIGl0cyBwcm90b3R5cGUgYXMgd2VsbC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVc2UgYF8ucnVuSW5Db250ZXh0YCB0byBjcmVhdGUgYSBwcmlzdGluZSBgbG9kYXNoYCBmdW5jdGlvbiB0b1xuICAgICAqIGF2b2lkIGNvbmZsaWN0cyBjYXVzZWQgYnkgbW9kaWZ5aW5nIHRoZSBvcmlnaW5hbC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxPYmplY3R9IFtvYmplY3Q9bG9kYXNoXSBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBmdW5jdGlvbnMgdG8gYWRkLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hhaW49dHJ1ZV0gU3BlY2lmeSB3aGV0aGVyIG1peGlucyBhcmUgY2hhaW5hYmxlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbnxPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIHZvd2VscyhzdHJpbmcpIHtcbiAgICAgKiAgIHJldHVybiBfLmZpbHRlcihzdHJpbmcsIGZ1bmN0aW9uKHYpIHtcbiAgICAgKiAgICAgcmV0dXJuIC9bYWVpb3VdL2kudGVzdCh2KTtcbiAgICAgKiAgIH0pO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIF8ubWl4aW4oeyAndm93ZWxzJzogdm93ZWxzIH0pO1xuICAgICAqIF8udm93ZWxzKCdmcmVkJyk7XG4gICAgICogLy8gPT4gWydlJ11cbiAgICAgKlxuICAgICAqIF8oJ2ZyZWQnKS52b3dlbHMoKS52YWx1ZSgpO1xuICAgICAqIC8vID0+IFsnZSddXG4gICAgICpcbiAgICAgKiBfLm1peGluKHsgJ3Zvd2Vscyc6IHZvd2VscyB9LCB7ICdjaGFpbic6IGZhbHNlIH0pO1xuICAgICAqIF8oJ2ZyZWQnKS52b3dlbHMoKTtcbiAgICAgKiAvLyA9PiBbJ2UnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1peGluKG9iamVjdCwgc291cmNlLCBvcHRpb25zKSB7XG4gICAgICB2YXIgcHJvcHMgPSBrZXlzKHNvdXJjZSksXG4gICAgICAgICAgbWV0aG9kTmFtZXMgPSBiYXNlRnVuY3Rpb25zKHNvdXJjZSwgcHJvcHMpO1xuXG4gICAgICBpZiAob3B0aW9ucyA9PSBudWxsICYmXG4gICAgICAgICAgIShpc09iamVjdChzb3VyY2UpICYmIChtZXRob2ROYW1lcy5sZW5ndGggfHwgIXByb3BzLmxlbmd0aCkpKSB7XG4gICAgICAgIG9wdGlvbnMgPSBzb3VyY2U7XG4gICAgICAgIHNvdXJjZSA9IG9iamVjdDtcbiAgICAgICAgb2JqZWN0ID0gdGhpcztcbiAgICAgICAgbWV0aG9kTmFtZXMgPSBiYXNlRnVuY3Rpb25zKHNvdXJjZSwga2V5cyhzb3VyY2UpKTtcbiAgICAgIH1cbiAgICAgIHZhciBjaGFpbiA9ICEoaXNPYmplY3Qob3B0aW9ucykgJiYgJ2NoYWluJyBpbiBvcHRpb25zKSB8fCAhIW9wdGlvbnMuY2hhaW4sXG4gICAgICAgICAgaXNGdW5jID0gaXNGdW5jdGlvbihvYmplY3QpO1xuXG4gICAgICBhcnJheUVhY2gobWV0aG9kTmFtZXMsIGZ1bmN0aW9uKG1ldGhvZE5hbWUpIHtcbiAgICAgICAgdmFyIGZ1bmMgPSBzb3VyY2VbbWV0aG9kTmFtZV07XG4gICAgICAgIG9iamVjdFttZXRob2ROYW1lXSA9IGZ1bmM7XG4gICAgICAgIGlmIChpc0Z1bmMpIHtcbiAgICAgICAgICBvYmplY3QucHJvdG90eXBlW21ldGhvZE5hbWVdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgY2hhaW5BbGwgPSB0aGlzLl9fY2hhaW5fXztcbiAgICAgICAgICAgIGlmIChjaGFpbiB8fCBjaGFpbkFsbCkge1xuICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gb2JqZWN0KHRoaXMuX193cmFwcGVkX18pLFxuICAgICAgICAgICAgICAgICAgYWN0aW9ucyA9IHJlc3VsdC5fX2FjdGlvbnNfXyA9IGNvcHlBcnJheSh0aGlzLl9fYWN0aW9uc19fKTtcblxuICAgICAgICAgICAgICBhY3Rpb25zLnB1c2goeyAnZnVuYyc6IGZ1bmMsICdhcmdzJzogYXJndW1lbnRzLCAndGhpc0FyZyc6IG9iamVjdCB9KTtcbiAgICAgICAgICAgICAgcmVzdWx0Ll9fY2hhaW5fXyA9IGNoYWluQWxsO1xuICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkob2JqZWN0LCBhcnJheVB1c2goW3RoaXMudmFsdWUoKV0sIGFyZ3VtZW50cykpO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldmVydHMgdGhlIGBfYCB2YXJpYWJsZSB0byBpdHMgcHJldmlvdXMgdmFsdWUgYW5kIHJldHVybnMgYSByZWZlcmVuY2UgdG9cbiAgICAgKiB0aGUgYGxvZGFzaGAgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgYGxvZGFzaGAgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBsb2Rhc2ggPSBfLm5vQ29uZmxpY3QoKTtcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBub0NvbmZsaWN0KCkge1xuICAgICAgaWYgKHJvb3QuXyA9PT0gdGhpcykge1xuICAgICAgICByb290Ll8gPSBvbGREYXNoO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBgdW5kZWZpbmVkYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjMuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGltZXMoMiwgXy5ub29wKTtcbiAgICAgKiAvLyA9PiBbdW5kZWZpbmVkLCB1bmRlZmluZWRdXG4gICAgICovXG4gICAgZnVuY3Rpb24gbm9vcCgpIHtcbiAgICAgIC8vIE5vIG9wZXJhdGlvbiBwZXJmb3JtZWQuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgZ2V0cyB0aGUgYXJndW1lbnQgYXQgaW5kZXggYG5gLiBJZiBgbmAgaXMgbmVnYXRpdmUsXG4gICAgICogdGhlIG50aCBhcmd1bWVudCBmcm9tIHRoZSBlbmQgaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0wXSBUaGUgaW5kZXggb2YgdGhlIGFyZ3VtZW50IHRvIHJldHVybi5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBwYXNzLXRocnUgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBmdW5jID0gXy5udGhBcmcoMSk7XG4gICAgICogZnVuYygnYScsICdiJywgJ2MnLCAnZCcpO1xuICAgICAqIC8vID0+ICdiJ1xuICAgICAqXG4gICAgICogdmFyIGZ1bmMgPSBfLm50aEFyZygtMik7XG4gICAgICogZnVuYygnYScsICdiJywgJ2MnLCAnZCcpO1xuICAgICAqIC8vID0+ICdjJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG50aEFyZyhuKSB7XG4gICAgICBuID0gdG9JbnRlZ2VyKG4pO1xuICAgICAgcmV0dXJuIGJhc2VSZXN0KGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VOdGgoYXJncywgbik7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBpdGVyYXRlZXNgIHdpdGggdGhlIGFyZ3VtZW50cyBpdCByZWNlaXZlc1xuICAgICAqIGFuZCByZXR1cm5zIHRoZWlyIHJlc3VsdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbaXRlcmF0ZWVzPVtfLmlkZW50aXR5XV1cbiAgICAgKiAgVGhlIGl0ZXJhdGVlcyB0byBpbnZva2UuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBmdW5jID0gXy5vdmVyKFtNYXRoLm1heCwgTWF0aC5taW5dKTtcbiAgICAgKlxuICAgICAqIGZ1bmMoMSwgMiwgMywgNCk7XG4gICAgICogLy8gPT4gWzQsIDFdXG4gICAgICovXG4gICAgdmFyIG92ZXIgPSBjcmVhdGVPdmVyKGFycmF5TWFwKTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGNoZWNrcyBpZiAqKmFsbCoqIG9mIHRoZSBgcHJlZGljYXRlc2AgcmV0dXJuXG4gICAgICogdHJ1dGh5IHdoZW4gaW52b2tlZCB3aXRoIHRoZSBhcmd1bWVudHMgaXQgcmVjZWl2ZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbcHJlZGljYXRlcz1bXy5pZGVudGl0eV1dXG4gICAgICogIFRoZSBwcmVkaWNhdGVzIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ub3ZlckV2ZXJ5KFtCb29sZWFuLCBpc0Zpbml0ZV0pO1xuICAgICAqXG4gICAgICogZnVuYygnMScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIGZ1bmMobnVsbCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIGZ1bmMoTmFOKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBvdmVyRXZlcnkgPSBjcmVhdGVPdmVyKGFycmF5RXZlcnkpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgY2hlY2tzIGlmICoqYW55Kiogb2YgdGhlIGBwcmVkaWNhdGVzYCByZXR1cm5cbiAgICAgKiB0cnV0aHkgd2hlbiBpbnZva2VkIHdpdGggdGhlIGFyZ3VtZW50cyBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsuLi4oRnVuY3Rpb258RnVuY3Rpb25bXSl9IFtwcmVkaWNhdGVzPVtfLmlkZW50aXR5XV1cbiAgICAgKiAgVGhlIHByZWRpY2F0ZXMgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBmdW5jID0gXy5vdmVyU29tZShbQm9vbGVhbiwgaXNGaW5pdGVdKTtcbiAgICAgKlxuICAgICAqIGZ1bmMoJzEnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBmdW5jKG51bGwpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIGZ1bmMoTmFOKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBvdmVyU29tZSA9IGNyZWF0ZU92ZXIoYXJyYXlTb21lKTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIHZhbHVlIGF0IGBwYXRoYCBvZiBhIGdpdmVuIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjQuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhY2Nlc3NvciBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbXG4gICAgICogICB7ICdhJzogeyAnYic6IDIgfSB9LFxuICAgICAqICAgeyAnYSc6IHsgJ2InOiAxIH0gfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLm1hcChvYmplY3RzLCBfLnByb3BlcnR5KCdhLmInKSk7XG4gICAgICogLy8gPT4gWzIsIDFdXG4gICAgICpcbiAgICAgKiBfLm1hcChfLnNvcnRCeShvYmplY3RzLCBfLnByb3BlcnR5KFsnYScsICdiJ10pKSwgJ2EuYicpO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHByb3BlcnR5KHBhdGgpIHtcbiAgICAgIHJldHVybiBpc0tleShwYXRoKSA/IGJhc2VQcm9wZXJ0eSh0b0tleShwYXRoKSkgOiBiYXNlUHJvcGVydHlEZWVwKHBhdGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBvcHBvc2l0ZSBvZiBgXy5wcm9wZXJ0eWA7IHRoaXMgbWV0aG9kIGNyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnNcbiAgICAgKiB0aGUgdmFsdWUgYXQgYSBnaXZlbiBwYXRoIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWNjZXNzb3IgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFswLCAxLCAyXSxcbiAgICAgKiAgICAgb2JqZWN0ID0geyAnYSc6IGFycmF5LCAnYic6IGFycmF5LCAnYyc6IGFycmF5IH07XG4gICAgICpcbiAgICAgKiBfLm1hcChbJ2FbMl0nLCAnY1swXSddLCBfLnByb3BlcnR5T2Yob2JqZWN0KSk7XG4gICAgICogLy8gPT4gWzIsIDBdXG4gICAgICpcbiAgICAgKiBfLm1hcChbWydhJywgJzInXSwgWydjJywgJzAnXV0sIF8ucHJvcGVydHlPZihvYmplY3QpKTtcbiAgICAgKiAvLyA9PiBbMiwgMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwcm9wZXJ0eU9mKG9iamVjdCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHBhdGgpIHtcbiAgICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogYmFzZUdldChvYmplY3QsIHBhdGgpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIG51bWJlcnMgKHBvc2l0aXZlIGFuZC9vciBuZWdhdGl2ZSkgcHJvZ3Jlc3NpbmcgZnJvbVxuICAgICAqIGBzdGFydGAgdXAgdG8sIGJ1dCBub3QgaW5jbHVkaW5nLCBgZW5kYC4gQSBzdGVwIG9mIGAtMWAgaXMgdXNlZCBpZiBhIG5lZ2F0aXZlXG4gICAgICogYHN0YXJ0YCBpcyBzcGVjaWZpZWQgd2l0aG91dCBhbiBgZW5kYCBvciBgc3RlcGAuIElmIGBlbmRgIGlzIG5vdCBzcGVjaWZpZWQsXG4gICAgICogaXQncyBzZXQgdG8gYHN0YXJ0YCB3aXRoIGBzdGFydGAgdGhlbiBzZXQgdG8gYDBgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIEphdmFTY3JpcHQgZm9sbG93cyB0aGUgSUVFRS03NTQgc3RhbmRhcmQgZm9yIHJlc29sdmluZ1xuICAgICAqIGZsb2F0aW5nLXBvaW50IHZhbHVlcyB3aGljaCBjYW4gcHJvZHVjZSB1bmV4cGVjdGVkIHJlc3VsdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIFRoZSBlbmQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RlcD0xXSBUaGUgdmFsdWUgdG8gaW5jcmVtZW50IG9yIGRlY3JlbWVudCBieS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHJhbmdlIG9mIG51bWJlcnMuXG4gICAgICogQHNlZSBfLmluUmFuZ2UsIF8ucmFuZ2VSaWdodFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDQpO1xuICAgICAqIC8vID0+IFswLCAxLCAyLCAzXVxuICAgICAqXG4gICAgICogXy5yYW5nZSgtNCk7XG4gICAgICogLy8gPT4gWzAsIC0xLCAtMiwgLTNdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDEsIDUpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzLCA0XVxuICAgICAqXG4gICAgICogXy5yYW5nZSgwLCAyMCwgNSk7XG4gICAgICogLy8gPT4gWzAsIDUsIDEwLCAxNV1cbiAgICAgKlxuICAgICAqIF8ucmFuZ2UoMCwgLTQsIC0xKTtcbiAgICAgKiAvLyA9PiBbMCwgLTEsIC0yLCAtM11cbiAgICAgKlxuICAgICAqIF8ucmFuZ2UoMSwgNCwgMCk7XG4gICAgICogLy8gPT4gWzEsIDEsIDFdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDApO1xuICAgICAqIC8vID0+IFtdXG4gICAgICovXG4gICAgdmFyIHJhbmdlID0gY3JlYXRlUmFuZ2UoKTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ucmFuZ2VgIGV4Y2VwdCB0aGF0IGl0IHBvcHVsYXRlcyB2YWx1ZXMgaW5cbiAgICAgKiBkZXNjZW5kaW5nIG9yZGVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBUaGUgZW5kIG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0ZXA9MV0gVGhlIHZhbHVlIHRvIGluY3JlbWVudCBvciBkZWNyZW1lbnQgYnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSByYW5nZSBvZiBudW1iZXJzLlxuICAgICAqIEBzZWUgXy5pblJhbmdlLCBfLnJhbmdlXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucmFuZ2VSaWdodCg0KTtcbiAgICAgKiAvLyA9PiBbMywgMiwgMSwgMF1cbiAgICAgKlxuICAgICAqIF8ucmFuZ2VSaWdodCgtNCk7XG4gICAgICogLy8gPT4gWy0zLCAtMiwgLTEsIDBdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoMSwgNSk7XG4gICAgICogLy8gPT4gWzQsIDMsIDIsIDFdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoMCwgMjAsIDUpO1xuICAgICAqIC8vID0+IFsxNSwgMTAsIDUsIDBdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoMCwgLTQsIC0xKTtcbiAgICAgKiAvLyA9PiBbLTMsIC0yLCAtMSwgMF1cbiAgICAgKlxuICAgICAqIF8ucmFuZ2VSaWdodCgxLCA0LCAwKTtcbiAgICAgKiAvLyA9PiBbMSwgMSwgMV1cbiAgICAgKlxuICAgICAqIF8ucmFuZ2VSaWdodCgwKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIHZhciByYW5nZVJpZ2h0ID0gY3JlYXRlUmFuZ2UodHJ1ZSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGVtcHR5IGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTMuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZW1wdHkgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheXMgPSBfLnRpbWVzKDIsIF8uc3R1YkFycmF5KTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5cyk7XG4gICAgICogLy8gPT4gW1tdLCBbXV1cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5c1swXSA9PT0gYXJyYXlzWzFdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0dWJBcnJheSgpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRpbWVzKDIsIF8uc3R1YkZhbHNlKTtcbiAgICAgKiAvLyA9PiBbZmFsc2UsIGZhbHNlXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0dWJGYWxzZSgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGVtcHR5IG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEzLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBlbXB0eSBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gXy50aW1lcygyLCBfLnN0dWJPYmplY3QpO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2cob2JqZWN0cyk7XG4gICAgICogLy8gPT4gW3t9LCB7fV1cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdHNbMF0gPT09IG9iamVjdHNbMV0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3R1Yk9iamVjdCgpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIGFuIGVtcHR5IHN0cmluZy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEzLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGVtcHR5IHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50aW1lcygyLCBfLnN0dWJTdHJpbmcpO1xuICAgICAqIC8vID0+IFsnJywgJyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3R1YlN0cmluZygpIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIGB0cnVlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEzLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50aW1lcygyLCBfLnN0dWJUcnVlKTtcbiAgICAgKiAvLyA9PiBbdHJ1ZSwgdHJ1ZV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdHViVHJ1ZSgpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEludm9rZXMgdGhlIGl0ZXJhdGVlIGBuYCB0aW1lcywgcmV0dXJuaW5nIGFuIGFycmF5IG9mIHRoZSByZXN1bHRzIG9mXG4gICAgICogZWFjaCBpbnZvY2F0aW9uLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDsgKGluZGV4KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiB0aW1lcyB0byBpbnZva2UgYGl0ZXJhdGVlYC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHJlc3VsdHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGltZXMoMywgU3RyaW5nKTtcbiAgICAgKiAvLyA9PiBbJzAnLCAnMScsICcyJ11cbiAgICAgKlxuICAgICAqICBfLnRpbWVzKDQsIF8uY29uc3RhbnQoMCkpO1xuICAgICAqIC8vID0+IFswLCAwLCAwLCAwXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRpbWVzKG4sIGl0ZXJhdGVlKSB7XG4gICAgICBuID0gdG9JbnRlZ2VyKG4pO1xuICAgICAgaWYgKG4gPCAxIHx8IG4gPiBNQVhfU0FGRV9JTlRFR0VSKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IE1BWF9BUlJBWV9MRU5HVEgsXG4gICAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWluKG4sIE1BWF9BUlJBWV9MRU5HVEgpO1xuXG4gICAgICBpdGVyYXRlZSA9IGdldEl0ZXJhdGVlKGl0ZXJhdGVlKTtcbiAgICAgIG4gLT0gTUFYX0FSUkFZX0xFTkdUSDtcblxuICAgICAgdmFyIHJlc3VsdCA9IGJhc2VUaW1lcyhsZW5ndGgsIGl0ZXJhdGVlKTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbikge1xuICAgICAgICBpdGVyYXRlZShpbmRleCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IHByb3BlcnR5IHBhdGggYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9QYXRoKCdhLmIuYycpO1xuICAgICAqIC8vID0+IFsnYScsICdiJywgJ2MnXVxuICAgICAqXG4gICAgICogXy50b1BhdGgoJ2FbMF0uYi5jJyk7XG4gICAgICogLy8gPT4gWydhJywgJzAnLCAnYicsICdjJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b1BhdGgodmFsdWUpIHtcbiAgICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gYXJyYXlNYXAodmFsdWUsIHRvS2V5KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpc1N5bWJvbCh2YWx1ZSkgPyBbdmFsdWVdIDogY29weUFycmF5KHN0cmluZ1RvUGF0aCh0b1N0cmluZyh2YWx1ZSkpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgYSB1bmlxdWUgSUQuIElmIGBwcmVmaXhgIGlzIGdpdmVuLCB0aGUgSUQgaXMgYXBwZW5kZWQgdG8gaXQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcHJlZml4PScnXSBUaGUgdmFsdWUgdG8gcHJlZml4IHRoZSBJRCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHVuaXF1ZSBJRC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51bmlxdWVJZCgnY29udGFjdF8nKTtcbiAgICAgKiAvLyA9PiAnY29udGFjdF8xMDQnXG4gICAgICpcbiAgICAgKiBfLnVuaXF1ZUlkKCk7XG4gICAgICogLy8gPT4gJzEwNSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bmlxdWVJZChwcmVmaXgpIHtcbiAgICAgIHZhciBpZCA9ICsraWRDb3VudGVyO1xuICAgICAgcmV0dXJuIHRvU3RyaW5nKHByZWZpeCkgKyBpZDtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBBZGRzIHR3byBudW1iZXJzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuNC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYXVnZW5kIFRoZSBmaXJzdCBudW1iZXIgaW4gYW4gYWRkaXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFkZGVuZCBUaGUgc2Vjb25kIG51bWJlciBpbiBhbiBhZGRpdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSB0b3RhbC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5hZGQoNiwgNCk7XG4gICAgICogLy8gPT4gMTBcbiAgICAgKi9cbiAgICB2YXIgYWRkID0gY3JlYXRlTWF0aE9wZXJhdGlvbihmdW5jdGlvbihhdWdlbmQsIGFkZGVuZCkge1xuICAgICAgcmV0dXJuIGF1Z2VuZCArIGFkZGVuZDtcbiAgICB9LCAwKTtcblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIGBudW1iZXJgIHJvdW5kZWQgdXAgdG8gYHByZWNpc2lvbmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4xMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gcm91bmQgdXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwcmVjaXNpb249MF0gVGhlIHByZWNpc2lvbiB0byByb3VuZCB1cCB0by5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSByb3VuZGVkIHVwIG51bWJlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5jZWlsKDQuMDA2KTtcbiAgICAgKiAvLyA9PiA1XG4gICAgICpcbiAgICAgKiBfLmNlaWwoNi4wMDQsIDIpO1xuICAgICAqIC8vID0+IDYuMDFcbiAgICAgKlxuICAgICAqIF8uY2VpbCg2MDQwLCAtMik7XG4gICAgICogLy8gPT4gNjEwMFxuICAgICAqL1xuICAgIHZhciBjZWlsID0gY3JlYXRlUm91bmQoJ2NlaWwnKTtcblxuICAgIC8qKlxuICAgICAqIERpdmlkZSB0d28gbnVtYmVycy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjcuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRpdmlkZW5kIFRoZSBmaXJzdCBudW1iZXIgaW4gYSBkaXZpc2lvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGl2aXNvciBUaGUgc2Vjb25kIG51bWJlciBpbiBhIGRpdmlzaW9uLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHF1b3RpZW50LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRpdmlkZSg2LCA0KTtcbiAgICAgKiAvLyA9PiAxLjVcbiAgICAgKi9cbiAgICB2YXIgZGl2aWRlID0gY3JlYXRlTWF0aE9wZXJhdGlvbihmdW5jdGlvbihkaXZpZGVuZCwgZGl2aXNvcikge1xuICAgICAgcmV0dXJuIGRpdmlkZW5kIC8gZGl2aXNvcjtcbiAgICB9LCAxKTtcblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIGBudW1iZXJgIHJvdW5kZWQgZG93biB0byBgcHJlY2lzaW9uYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjEwLjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBudW1iZXIgVGhlIG51bWJlciB0byByb3VuZCBkb3duLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcHJlY2lzaW9uPTBdIFRoZSBwcmVjaXNpb24gdG8gcm91bmQgZG93biB0by5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSByb3VuZGVkIGRvd24gbnVtYmVyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZsb29yKDQuMDA2KTtcbiAgICAgKiAvLyA9PiA0XG4gICAgICpcbiAgICAgKiBfLmZsb29yKDAuMDQ2LCAyKTtcbiAgICAgKiAvLyA9PiAwLjA0XG4gICAgICpcbiAgICAgKiBfLmZsb29yKDQwNjAsIC0yKTtcbiAgICAgKiAvLyA9PiA0MDAwXG4gICAgICovXG4gICAgdmFyIGZsb29yID0gY3JlYXRlUm91bmQoJ2Zsb29yJyk7XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyB0aGUgbWF4aW11bSB2YWx1ZSBvZiBgYXJyYXlgLiBJZiBgYXJyYXlgIGlzIGVtcHR5IG9yIGZhbHNleSxcbiAgICAgKiBgdW5kZWZpbmVkYCBpcyByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWF4aW11bSB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5tYXgoWzQsIDIsIDgsIDZdKTtcbiAgICAgKiAvLyA9PiA4XG4gICAgICpcbiAgICAgKiBfLm1heChbXSk7XG4gICAgICogLy8gPT4gdW5kZWZpbmVkXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWF4KGFycmF5KSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlRXh0cmVtdW0oYXJyYXksIGlkZW50aXR5LCBiYXNlR3QpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ubWF4YCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgaW4gYGFycmF5YCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uIGJ5IHdoaWNoXG4gICAgICogdGhlIHZhbHVlIGlzIHJhbmtlZC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtYXhpbXVtIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICduJzogMSB9LCB7ICduJzogMiB9XTtcbiAgICAgKlxuICAgICAqIF8ubWF4Qnkob2JqZWN0cywgZnVuY3Rpb24obykgeyByZXR1cm4gby5uOyB9KTtcbiAgICAgKiAvLyA9PiB7ICduJzogMiB9XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLm1heEJ5KG9iamVjdHMsICduJyk7XG4gICAgICogLy8gPT4geyAnbic6IDIgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1heEJ5KGFycmF5LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZUV4dHJlbXVtKGFycmF5LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMiksIGJhc2VHdClcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgdGhlIG1lYW4gb2YgdGhlIHZhbHVlcyBpbiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG1lYW4uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWVhbihbNCwgMiwgOCwgNl0pO1xuICAgICAqIC8vID0+IDVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtZWFuKGFycmF5KSB7XG4gICAgICByZXR1cm4gYmFzZU1lYW4oYXJyYXksIGlkZW50aXR5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLm1lYW5gIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBpbiBgYXJyYXlgIHRvIGdlbmVyYXRlIHRoZSB2YWx1ZSB0byBiZSBhdmVyYWdlZC5cbiAgICAgKiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjcuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgbWVhbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAnbic6IDQgfSwgeyAnbic6IDIgfSwgeyAnbic6IDggfSwgeyAnbic6IDYgfV07XG4gICAgICpcbiAgICAgKiBfLm1lYW5CeShvYmplY3RzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLm47IH0pO1xuICAgICAqIC8vID0+IDVcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ubWVhbkJ5KG9iamVjdHMsICduJyk7XG4gICAgICogLy8gPT4gNVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1lYW5CeShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBiYXNlTWVhbihhcnJheSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyB0aGUgbWluaW11bSB2YWx1ZSBvZiBgYXJyYXlgLiBJZiBgYXJyYXlgIGlzIGVtcHR5IG9yIGZhbHNleSxcbiAgICAgKiBgdW5kZWZpbmVkYCBpcyByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWluaW11bSB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5taW4oWzQsIDIsIDgsIDZdKTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICpcbiAgICAgKiBfLm1pbihbXSk7XG4gICAgICogLy8gPT4gdW5kZWZpbmVkXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWluKGFycmF5KSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlRXh0cmVtdW0oYXJyYXksIGlkZW50aXR5LCBiYXNlTHQpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ubWluYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgaW4gYGFycmF5YCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uIGJ5IHdoaWNoXG4gICAgICogdGhlIHZhbHVlIGlzIHJhbmtlZC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtaW5pbXVtIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICduJzogMSB9LCB7ICduJzogMiB9XTtcbiAgICAgKlxuICAgICAqIF8ubWluQnkob2JqZWN0cywgZnVuY3Rpb24obykgeyByZXR1cm4gby5uOyB9KTtcbiAgICAgKiAvLyA9PiB7ICduJzogMSB9XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLm1pbkJ5KG9iamVjdHMsICduJyk7XG4gICAgICogLy8gPT4geyAnbic6IDEgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1pbkJ5KGFycmF5LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZUV4dHJlbXVtKGFycmF5LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMiksIGJhc2VMdClcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTXVsdGlwbHkgdHdvIG51bWJlcnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtdWx0aXBsaWVyIFRoZSBmaXJzdCBudW1iZXIgaW4gYSBtdWx0aXBsaWNhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbXVsdGlwbGljYW5kIFRoZSBzZWNvbmQgbnVtYmVyIGluIGEgbXVsdGlwbGljYXRpb24uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcHJvZHVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5tdWx0aXBseSg2LCA0KTtcbiAgICAgKiAvLyA9PiAyNFxuICAgICAqL1xuICAgIHZhciBtdWx0aXBseSA9IGNyZWF0ZU1hdGhPcGVyYXRpb24oZnVuY3Rpb24obXVsdGlwbGllciwgbXVsdGlwbGljYW5kKSB7XG4gICAgICByZXR1cm4gbXVsdGlwbGllciAqIG11bHRpcGxpY2FuZDtcbiAgICB9LCAxKTtcblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIGBudW1iZXJgIHJvdW5kZWQgdG8gYHByZWNpc2lvbmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4xMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gcm91bmQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwcmVjaXNpb249MF0gVGhlIHByZWNpc2lvbiB0byByb3VuZCB0by5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSByb3VuZGVkIG51bWJlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5yb3VuZCg0LjAwNik7XG4gICAgICogLy8gPT4gNFxuICAgICAqXG4gICAgICogXy5yb3VuZCg0LjAwNiwgMik7XG4gICAgICogLy8gPT4gNC4wMVxuICAgICAqXG4gICAgICogXy5yb3VuZCg0MDYwLCAtMik7XG4gICAgICogLy8gPT4gNDEwMFxuICAgICAqL1xuICAgIHZhciByb3VuZCA9IGNyZWF0ZVJvdW5kKCdyb3VuZCcpO1xuXG4gICAgLyoqXG4gICAgICogU3VidHJhY3QgdHdvIG51bWJlcnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtaW51ZW5kIFRoZSBmaXJzdCBudW1iZXIgaW4gYSBzdWJ0cmFjdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3VidHJhaGVuZCBUaGUgc2Vjb25kIG51bWJlciBpbiBhIHN1YnRyYWN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGRpZmZlcmVuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc3VidHJhY3QoNiwgNCk7XG4gICAgICogLy8gPT4gMlxuICAgICAqL1xuICAgIHZhciBzdWJ0cmFjdCA9IGNyZWF0ZU1hdGhPcGVyYXRpb24oZnVuY3Rpb24obWludWVuZCwgc3VidHJhaGVuZCkge1xuICAgICAgcmV0dXJuIG1pbnVlbmQgLSBzdWJ0cmFoZW5kO1xuICAgIH0sIDApO1xuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgdGhlIHN1bSBvZiB0aGUgdmFsdWVzIGluIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy40LjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc3VtLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnN1bShbNCwgMiwgOCwgNl0pO1xuICAgICAqIC8vID0+IDIwXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3VtKGFycmF5KSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlU3VtKGFycmF5LCBpZGVudGl0eSlcbiAgICAgICAgOiAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uc3VtYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgaW4gYGFycmF5YCB0byBnZW5lcmF0ZSB0aGUgdmFsdWUgdG8gYmUgc3VtbWVkLlxuICAgICAqIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzdW0uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ24nOiA0IH0sIHsgJ24nOiAyIH0sIHsgJ24nOiA4IH0sIHsgJ24nOiA2IH1dO1xuICAgICAqXG4gICAgICogXy5zdW1CeShvYmplY3RzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLm47IH0pO1xuICAgICAqIC8vID0+IDIwXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnN1bUJ5KG9iamVjdHMsICduJyk7XG4gICAgICogLy8gPT4gMjBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdW1CeShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VTdW0oYXJyYXksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSlcbiAgICAgICAgOiAwO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8vIEFkZCBtZXRob2RzIHRoYXQgcmV0dXJuIHdyYXBwZWQgdmFsdWVzIGluIGNoYWluIHNlcXVlbmNlcy5cbiAgICBsb2Rhc2guYWZ0ZXIgPSBhZnRlcjtcbiAgICBsb2Rhc2guYXJ5ID0gYXJ5O1xuICAgIGxvZGFzaC5hc3NpZ24gPSBhc3NpZ247XG4gICAgbG9kYXNoLmFzc2lnbkluID0gYXNzaWduSW47XG4gICAgbG9kYXNoLmFzc2lnbkluV2l0aCA9IGFzc2lnbkluV2l0aDtcbiAgICBsb2Rhc2guYXNzaWduV2l0aCA9IGFzc2lnbldpdGg7XG4gICAgbG9kYXNoLmF0ID0gYXQ7XG4gICAgbG9kYXNoLmJlZm9yZSA9IGJlZm9yZTtcbiAgICBsb2Rhc2guYmluZCA9IGJpbmQ7XG4gICAgbG9kYXNoLmJpbmRBbGwgPSBiaW5kQWxsO1xuICAgIGxvZGFzaC5iaW5kS2V5ID0gYmluZEtleTtcbiAgICBsb2Rhc2guY2FzdEFycmF5ID0gY2FzdEFycmF5O1xuICAgIGxvZGFzaC5jaGFpbiA9IGNoYWluO1xuICAgIGxvZGFzaC5jaHVuayA9IGNodW5rO1xuICAgIGxvZGFzaC5jb21wYWN0ID0gY29tcGFjdDtcbiAgICBsb2Rhc2guY29uY2F0ID0gY29uY2F0O1xuICAgIGxvZGFzaC5jb25kID0gY29uZDtcbiAgICBsb2Rhc2guY29uZm9ybXMgPSBjb25mb3JtcztcbiAgICBsb2Rhc2guY29uc3RhbnQgPSBjb25zdGFudDtcbiAgICBsb2Rhc2guY291bnRCeSA9IGNvdW50Qnk7XG4gICAgbG9kYXNoLmNyZWF0ZSA9IGNyZWF0ZTtcbiAgICBsb2Rhc2guY3VycnkgPSBjdXJyeTtcbiAgICBsb2Rhc2guY3VycnlSaWdodCA9IGN1cnJ5UmlnaHQ7XG4gICAgbG9kYXNoLmRlYm91bmNlID0gZGVib3VuY2U7XG4gICAgbG9kYXNoLmRlZmF1bHRzID0gZGVmYXVsdHM7XG4gICAgbG9kYXNoLmRlZmF1bHRzRGVlcCA9IGRlZmF1bHRzRGVlcDtcbiAgICBsb2Rhc2guZGVmZXIgPSBkZWZlcjtcbiAgICBsb2Rhc2guZGVsYXkgPSBkZWxheTtcbiAgICBsb2Rhc2guZGlmZmVyZW5jZSA9IGRpZmZlcmVuY2U7XG4gICAgbG9kYXNoLmRpZmZlcmVuY2VCeSA9IGRpZmZlcmVuY2VCeTtcbiAgICBsb2Rhc2guZGlmZmVyZW5jZVdpdGggPSBkaWZmZXJlbmNlV2l0aDtcbiAgICBsb2Rhc2guZHJvcCA9IGRyb3A7XG4gICAgbG9kYXNoLmRyb3BSaWdodCA9IGRyb3BSaWdodDtcbiAgICBsb2Rhc2guZHJvcFJpZ2h0V2hpbGUgPSBkcm9wUmlnaHRXaGlsZTtcbiAgICBsb2Rhc2guZHJvcFdoaWxlID0gZHJvcFdoaWxlO1xuICAgIGxvZGFzaC5maWxsID0gZmlsbDtcbiAgICBsb2Rhc2guZmlsdGVyID0gZmlsdGVyO1xuICAgIGxvZGFzaC5mbGF0TWFwID0gZmxhdE1hcDtcbiAgICBsb2Rhc2guZmxhdE1hcERlZXAgPSBmbGF0TWFwRGVlcDtcbiAgICBsb2Rhc2guZmxhdE1hcERlcHRoID0gZmxhdE1hcERlcHRoO1xuICAgIGxvZGFzaC5mbGF0dGVuID0gZmxhdHRlbjtcbiAgICBsb2Rhc2guZmxhdHRlbkRlZXAgPSBmbGF0dGVuRGVlcDtcbiAgICBsb2Rhc2guZmxhdHRlbkRlcHRoID0gZmxhdHRlbkRlcHRoO1xuICAgIGxvZGFzaC5mbGlwID0gZmxpcDtcbiAgICBsb2Rhc2guZmxvdyA9IGZsb3c7XG4gICAgbG9kYXNoLmZsb3dSaWdodCA9IGZsb3dSaWdodDtcbiAgICBsb2Rhc2guZnJvbVBhaXJzID0gZnJvbVBhaXJzO1xuICAgIGxvZGFzaC5mdW5jdGlvbnMgPSBmdW5jdGlvbnM7XG4gICAgbG9kYXNoLmZ1bmN0aW9uc0luID0gZnVuY3Rpb25zSW47XG4gICAgbG9kYXNoLmdyb3VwQnkgPSBncm91cEJ5O1xuICAgIGxvZGFzaC5pbml0aWFsID0gaW5pdGlhbDtcbiAgICBsb2Rhc2guaW50ZXJzZWN0aW9uID0gaW50ZXJzZWN0aW9uO1xuICAgIGxvZGFzaC5pbnRlcnNlY3Rpb25CeSA9IGludGVyc2VjdGlvbkJ5O1xuICAgIGxvZGFzaC5pbnRlcnNlY3Rpb25XaXRoID0gaW50ZXJzZWN0aW9uV2l0aDtcbiAgICBsb2Rhc2guaW52ZXJ0ID0gaW52ZXJ0O1xuICAgIGxvZGFzaC5pbnZlcnRCeSA9IGludmVydEJ5O1xuICAgIGxvZGFzaC5pbnZva2VNYXAgPSBpbnZva2VNYXA7XG4gICAgbG9kYXNoLml0ZXJhdGVlID0gaXRlcmF0ZWU7XG4gICAgbG9kYXNoLmtleUJ5ID0ga2V5Qnk7XG4gICAgbG9kYXNoLmtleXMgPSBrZXlzO1xuICAgIGxvZGFzaC5rZXlzSW4gPSBrZXlzSW47XG4gICAgbG9kYXNoLm1hcCA9IG1hcDtcbiAgICBsb2Rhc2gubWFwS2V5cyA9IG1hcEtleXM7XG4gICAgbG9kYXNoLm1hcFZhbHVlcyA9IG1hcFZhbHVlcztcbiAgICBsb2Rhc2gubWF0Y2hlcyA9IG1hdGNoZXM7XG4gICAgbG9kYXNoLm1hdGNoZXNQcm9wZXJ0eSA9IG1hdGNoZXNQcm9wZXJ0eTtcbiAgICBsb2Rhc2gubWVtb2l6ZSA9IG1lbW9pemU7XG4gICAgbG9kYXNoLm1lcmdlID0gbWVyZ2U7XG4gICAgbG9kYXNoLm1lcmdlV2l0aCA9IG1lcmdlV2l0aDtcbiAgICBsb2Rhc2gubWV0aG9kID0gbWV0aG9kO1xuICAgIGxvZGFzaC5tZXRob2RPZiA9IG1ldGhvZE9mO1xuICAgIGxvZGFzaC5taXhpbiA9IG1peGluO1xuICAgIGxvZGFzaC5uZWdhdGUgPSBuZWdhdGU7XG4gICAgbG9kYXNoLm50aEFyZyA9IG50aEFyZztcbiAgICBsb2Rhc2gub21pdCA9IG9taXQ7XG4gICAgbG9kYXNoLm9taXRCeSA9IG9taXRCeTtcbiAgICBsb2Rhc2gub25jZSA9IG9uY2U7XG4gICAgbG9kYXNoLm9yZGVyQnkgPSBvcmRlckJ5O1xuICAgIGxvZGFzaC5vdmVyID0gb3ZlcjtcbiAgICBsb2Rhc2gub3ZlckFyZ3MgPSBvdmVyQXJncztcbiAgICBsb2Rhc2gub3ZlckV2ZXJ5ID0gb3ZlckV2ZXJ5O1xuICAgIGxvZGFzaC5vdmVyU29tZSA9IG92ZXJTb21lO1xuICAgIGxvZGFzaC5wYXJ0aWFsID0gcGFydGlhbDtcbiAgICBsb2Rhc2gucGFydGlhbFJpZ2h0ID0gcGFydGlhbFJpZ2h0O1xuICAgIGxvZGFzaC5wYXJ0aXRpb24gPSBwYXJ0aXRpb247XG4gICAgbG9kYXNoLnBpY2sgPSBwaWNrO1xuICAgIGxvZGFzaC5waWNrQnkgPSBwaWNrQnk7XG4gICAgbG9kYXNoLnByb3BlcnR5ID0gcHJvcGVydHk7XG4gICAgbG9kYXNoLnByb3BlcnR5T2YgPSBwcm9wZXJ0eU9mO1xuICAgIGxvZGFzaC5wdWxsID0gcHVsbDtcbiAgICBsb2Rhc2gucHVsbEFsbCA9IHB1bGxBbGw7XG4gICAgbG9kYXNoLnB1bGxBbGxCeSA9IHB1bGxBbGxCeTtcbiAgICBsb2Rhc2gucHVsbEFsbFdpdGggPSBwdWxsQWxsV2l0aDtcbiAgICBsb2Rhc2gucHVsbEF0ID0gcHVsbEF0O1xuICAgIGxvZGFzaC5yYW5nZSA9IHJhbmdlO1xuICAgIGxvZGFzaC5yYW5nZVJpZ2h0ID0gcmFuZ2VSaWdodDtcbiAgICBsb2Rhc2gucmVhcmcgPSByZWFyZztcbiAgICBsb2Rhc2gucmVqZWN0ID0gcmVqZWN0O1xuICAgIGxvZGFzaC5yZW1vdmUgPSByZW1vdmU7XG4gICAgbG9kYXNoLnJlc3QgPSByZXN0O1xuICAgIGxvZGFzaC5yZXZlcnNlID0gcmV2ZXJzZTtcbiAgICBsb2Rhc2guc2FtcGxlU2l6ZSA9IHNhbXBsZVNpemU7XG4gICAgbG9kYXNoLnNldCA9IHNldDtcbiAgICBsb2Rhc2guc2V0V2l0aCA9IHNldFdpdGg7XG4gICAgbG9kYXNoLnNodWZmbGUgPSBzaHVmZmxlO1xuICAgIGxvZGFzaC5zbGljZSA9IHNsaWNlO1xuICAgIGxvZGFzaC5zb3J0QnkgPSBzb3J0Qnk7XG4gICAgbG9kYXNoLnNvcnRlZFVuaXEgPSBzb3J0ZWRVbmlxO1xuICAgIGxvZGFzaC5zb3J0ZWRVbmlxQnkgPSBzb3J0ZWRVbmlxQnk7XG4gICAgbG9kYXNoLnNwbGl0ID0gc3BsaXQ7XG4gICAgbG9kYXNoLnNwcmVhZCA9IHNwcmVhZDtcbiAgICBsb2Rhc2gudGFpbCA9IHRhaWw7XG4gICAgbG9kYXNoLnRha2UgPSB0YWtlO1xuICAgIGxvZGFzaC50YWtlUmlnaHQgPSB0YWtlUmlnaHQ7XG4gICAgbG9kYXNoLnRha2VSaWdodFdoaWxlID0gdGFrZVJpZ2h0V2hpbGU7XG4gICAgbG9kYXNoLnRha2VXaGlsZSA9IHRha2VXaGlsZTtcbiAgICBsb2Rhc2gudGFwID0gdGFwO1xuICAgIGxvZGFzaC50aHJvdHRsZSA9IHRocm90dGxlO1xuICAgIGxvZGFzaC50aHJ1ID0gdGhydTtcbiAgICBsb2Rhc2gudG9BcnJheSA9IHRvQXJyYXk7XG4gICAgbG9kYXNoLnRvUGFpcnMgPSB0b1BhaXJzO1xuICAgIGxvZGFzaC50b1BhaXJzSW4gPSB0b1BhaXJzSW47XG4gICAgbG9kYXNoLnRvUGF0aCA9IHRvUGF0aDtcbiAgICBsb2Rhc2gudG9QbGFpbk9iamVjdCA9IHRvUGxhaW5PYmplY3Q7XG4gICAgbG9kYXNoLnRyYW5zZm9ybSA9IHRyYW5zZm9ybTtcbiAgICBsb2Rhc2gudW5hcnkgPSB1bmFyeTtcbiAgICBsb2Rhc2gudW5pb24gPSB1bmlvbjtcbiAgICBsb2Rhc2gudW5pb25CeSA9IHVuaW9uQnk7XG4gICAgbG9kYXNoLnVuaW9uV2l0aCA9IHVuaW9uV2l0aDtcbiAgICBsb2Rhc2gudW5pcSA9IHVuaXE7XG4gICAgbG9kYXNoLnVuaXFCeSA9IHVuaXFCeTtcbiAgICBsb2Rhc2gudW5pcVdpdGggPSB1bmlxV2l0aDtcbiAgICBsb2Rhc2gudW5zZXQgPSB1bnNldDtcbiAgICBsb2Rhc2gudW56aXAgPSB1bnppcDtcbiAgICBsb2Rhc2gudW56aXBXaXRoID0gdW56aXBXaXRoO1xuICAgIGxvZGFzaC51cGRhdGUgPSB1cGRhdGU7XG4gICAgbG9kYXNoLnVwZGF0ZVdpdGggPSB1cGRhdGVXaXRoO1xuICAgIGxvZGFzaC52YWx1ZXMgPSB2YWx1ZXM7XG4gICAgbG9kYXNoLnZhbHVlc0luID0gdmFsdWVzSW47XG4gICAgbG9kYXNoLndpdGhvdXQgPSB3aXRob3V0O1xuICAgIGxvZGFzaC53b3JkcyA9IHdvcmRzO1xuICAgIGxvZGFzaC53cmFwID0gd3JhcDtcbiAgICBsb2Rhc2gueG9yID0geG9yO1xuICAgIGxvZGFzaC54b3JCeSA9IHhvckJ5O1xuICAgIGxvZGFzaC54b3JXaXRoID0geG9yV2l0aDtcbiAgICBsb2Rhc2guemlwID0gemlwO1xuICAgIGxvZGFzaC56aXBPYmplY3QgPSB6aXBPYmplY3Q7XG4gICAgbG9kYXNoLnppcE9iamVjdERlZXAgPSB6aXBPYmplY3REZWVwO1xuICAgIGxvZGFzaC56aXBXaXRoID0gemlwV2l0aDtcblxuICAgIC8vIEFkZCBhbGlhc2VzLlxuICAgIGxvZGFzaC5lbnRyaWVzID0gdG9QYWlycztcbiAgICBsb2Rhc2guZW50cmllc0luID0gdG9QYWlyc0luO1xuICAgIGxvZGFzaC5leHRlbmQgPSBhc3NpZ25JbjtcbiAgICBsb2Rhc2guZXh0ZW5kV2l0aCA9IGFzc2lnbkluV2l0aDtcblxuICAgIC8vIEFkZCBtZXRob2RzIHRvIGBsb2Rhc2gucHJvdG90eXBlYC5cbiAgICBtaXhpbihsb2Rhc2gsIGxvZGFzaCk7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0aGF0IHJldHVybiB1bndyYXBwZWQgdmFsdWVzIGluIGNoYWluIHNlcXVlbmNlcy5cbiAgICBsb2Rhc2guYWRkID0gYWRkO1xuICAgIGxvZGFzaC5hdHRlbXB0ID0gYXR0ZW1wdDtcbiAgICBsb2Rhc2guY2FtZWxDYXNlID0gY2FtZWxDYXNlO1xuICAgIGxvZGFzaC5jYXBpdGFsaXplID0gY2FwaXRhbGl6ZTtcbiAgICBsb2Rhc2guY2VpbCA9IGNlaWw7XG4gICAgbG9kYXNoLmNsYW1wID0gY2xhbXA7XG4gICAgbG9kYXNoLmNsb25lID0gY2xvbmU7XG4gICAgbG9kYXNoLmNsb25lRGVlcCA9IGNsb25lRGVlcDtcbiAgICBsb2Rhc2guY2xvbmVEZWVwV2l0aCA9IGNsb25lRGVlcFdpdGg7XG4gICAgbG9kYXNoLmNsb25lV2l0aCA9IGNsb25lV2l0aDtcbiAgICBsb2Rhc2guY29uZm9ybXNUbyA9IGNvbmZvcm1zVG87XG4gICAgbG9kYXNoLmRlYnVyciA9IGRlYnVycjtcbiAgICBsb2Rhc2guZGVmYXVsdFRvID0gZGVmYXVsdFRvO1xuICAgIGxvZGFzaC5kaXZpZGUgPSBkaXZpZGU7XG4gICAgbG9kYXNoLmVuZHNXaXRoID0gZW5kc1dpdGg7XG4gICAgbG9kYXNoLmVxID0gZXE7XG4gICAgbG9kYXNoLmVzY2FwZSA9IGVzY2FwZTtcbiAgICBsb2Rhc2guZXNjYXBlUmVnRXhwID0gZXNjYXBlUmVnRXhwO1xuICAgIGxvZGFzaC5ldmVyeSA9IGV2ZXJ5O1xuICAgIGxvZGFzaC5maW5kID0gZmluZDtcbiAgICBsb2Rhc2guZmluZEluZGV4ID0gZmluZEluZGV4O1xuICAgIGxvZGFzaC5maW5kS2V5ID0gZmluZEtleTtcbiAgICBsb2Rhc2guZmluZExhc3QgPSBmaW5kTGFzdDtcbiAgICBsb2Rhc2guZmluZExhc3RJbmRleCA9IGZpbmRMYXN0SW5kZXg7XG4gICAgbG9kYXNoLmZpbmRMYXN0S2V5ID0gZmluZExhc3RLZXk7XG4gICAgbG9kYXNoLmZsb29yID0gZmxvb3I7XG4gICAgbG9kYXNoLmZvckVhY2ggPSBmb3JFYWNoO1xuICAgIGxvZGFzaC5mb3JFYWNoUmlnaHQgPSBmb3JFYWNoUmlnaHQ7XG4gICAgbG9kYXNoLmZvckluID0gZm9ySW47XG4gICAgbG9kYXNoLmZvckluUmlnaHQgPSBmb3JJblJpZ2h0O1xuICAgIGxvZGFzaC5mb3JPd24gPSBmb3JPd247XG4gICAgbG9kYXNoLmZvck93blJpZ2h0ID0gZm9yT3duUmlnaHQ7XG4gICAgbG9kYXNoLmdldCA9IGdldDtcbiAgICBsb2Rhc2guZ3QgPSBndDtcbiAgICBsb2Rhc2guZ3RlID0gZ3RlO1xuICAgIGxvZGFzaC5oYXMgPSBoYXM7XG4gICAgbG9kYXNoLmhhc0luID0gaGFzSW47XG4gICAgbG9kYXNoLmhlYWQgPSBoZWFkO1xuICAgIGxvZGFzaC5pZGVudGl0eSA9IGlkZW50aXR5O1xuICAgIGxvZGFzaC5pbmNsdWRlcyA9IGluY2x1ZGVzO1xuICAgIGxvZGFzaC5pbmRleE9mID0gaW5kZXhPZjtcbiAgICBsb2Rhc2guaW5SYW5nZSA9IGluUmFuZ2U7XG4gICAgbG9kYXNoLmludm9rZSA9IGludm9rZTtcbiAgICBsb2Rhc2guaXNBcmd1bWVudHMgPSBpc0FyZ3VtZW50cztcbiAgICBsb2Rhc2guaXNBcnJheSA9IGlzQXJyYXk7XG4gICAgbG9kYXNoLmlzQXJyYXlCdWZmZXIgPSBpc0FycmF5QnVmZmVyO1xuICAgIGxvZGFzaC5pc0FycmF5TGlrZSA9IGlzQXJyYXlMaWtlO1xuICAgIGxvZGFzaC5pc0FycmF5TGlrZU9iamVjdCA9IGlzQXJyYXlMaWtlT2JqZWN0O1xuICAgIGxvZGFzaC5pc0Jvb2xlYW4gPSBpc0Jvb2xlYW47XG4gICAgbG9kYXNoLmlzQnVmZmVyID0gaXNCdWZmZXI7XG4gICAgbG9kYXNoLmlzRGF0ZSA9IGlzRGF0ZTtcbiAgICBsb2Rhc2guaXNFbGVtZW50ID0gaXNFbGVtZW50O1xuICAgIGxvZGFzaC5pc0VtcHR5ID0gaXNFbXB0eTtcbiAgICBsb2Rhc2guaXNFcXVhbCA9IGlzRXF1YWw7XG4gICAgbG9kYXNoLmlzRXF1YWxXaXRoID0gaXNFcXVhbFdpdGg7XG4gICAgbG9kYXNoLmlzRXJyb3IgPSBpc0Vycm9yO1xuICAgIGxvZGFzaC5pc0Zpbml0ZSA9IGlzRmluaXRlO1xuICAgIGxvZGFzaC5pc0Z1bmN0aW9uID0gaXNGdW5jdGlvbjtcbiAgICBsb2Rhc2guaXNJbnRlZ2VyID0gaXNJbnRlZ2VyO1xuICAgIGxvZGFzaC5pc0xlbmd0aCA9IGlzTGVuZ3RoO1xuICAgIGxvZGFzaC5pc01hcCA9IGlzTWFwO1xuICAgIGxvZGFzaC5pc01hdGNoID0gaXNNYXRjaDtcbiAgICBsb2Rhc2guaXNNYXRjaFdpdGggPSBpc01hdGNoV2l0aDtcbiAgICBsb2Rhc2guaXNOYU4gPSBpc05hTjtcbiAgICBsb2Rhc2guaXNOYXRpdmUgPSBpc05hdGl2ZTtcbiAgICBsb2Rhc2guaXNOaWwgPSBpc05pbDtcbiAgICBsb2Rhc2guaXNOdWxsID0gaXNOdWxsO1xuICAgIGxvZGFzaC5pc051bWJlciA9IGlzTnVtYmVyO1xuICAgIGxvZGFzaC5pc09iamVjdCA9IGlzT2JqZWN0O1xuICAgIGxvZGFzaC5pc09iamVjdExpa2UgPSBpc09iamVjdExpa2U7XG4gICAgbG9kYXNoLmlzUGxhaW5PYmplY3QgPSBpc1BsYWluT2JqZWN0O1xuICAgIGxvZGFzaC5pc1JlZ0V4cCA9IGlzUmVnRXhwO1xuICAgIGxvZGFzaC5pc1NhZmVJbnRlZ2VyID0gaXNTYWZlSW50ZWdlcjtcbiAgICBsb2Rhc2guaXNTZXQgPSBpc1NldDtcbiAgICBsb2Rhc2guaXNTdHJpbmcgPSBpc1N0cmluZztcbiAgICBsb2Rhc2guaXNTeW1ib2wgPSBpc1N5bWJvbDtcbiAgICBsb2Rhc2guaXNUeXBlZEFycmF5ID0gaXNUeXBlZEFycmF5O1xuICAgIGxvZGFzaC5pc1VuZGVmaW5lZCA9IGlzVW5kZWZpbmVkO1xuICAgIGxvZGFzaC5pc1dlYWtNYXAgPSBpc1dlYWtNYXA7XG4gICAgbG9kYXNoLmlzV2Vha1NldCA9IGlzV2Vha1NldDtcbiAgICBsb2Rhc2guam9pbiA9IGpvaW47XG4gICAgbG9kYXNoLmtlYmFiQ2FzZSA9IGtlYmFiQ2FzZTtcbiAgICBsb2Rhc2gubGFzdCA9IGxhc3Q7XG4gICAgbG9kYXNoLmxhc3RJbmRleE9mID0gbGFzdEluZGV4T2Y7XG4gICAgbG9kYXNoLmxvd2VyQ2FzZSA9IGxvd2VyQ2FzZTtcbiAgICBsb2Rhc2gubG93ZXJGaXJzdCA9IGxvd2VyRmlyc3Q7XG4gICAgbG9kYXNoLmx0ID0gbHQ7XG4gICAgbG9kYXNoLmx0ZSA9IGx0ZTtcbiAgICBsb2Rhc2gubWF4ID0gbWF4O1xuICAgIGxvZGFzaC5tYXhCeSA9IG1heEJ5O1xuICAgIGxvZGFzaC5tZWFuID0gbWVhbjtcbiAgICBsb2Rhc2gubWVhbkJ5ID0gbWVhbkJ5O1xuICAgIGxvZGFzaC5taW4gPSBtaW47XG4gICAgbG9kYXNoLm1pbkJ5ID0gbWluQnk7XG4gICAgbG9kYXNoLnN0dWJBcnJheSA9IHN0dWJBcnJheTtcbiAgICBsb2Rhc2guc3R1YkZhbHNlID0gc3R1YkZhbHNlO1xuICAgIGxvZGFzaC5zdHViT2JqZWN0ID0gc3R1Yk9iamVjdDtcbiAgICBsb2Rhc2guc3R1YlN0cmluZyA9IHN0dWJTdHJpbmc7XG4gICAgbG9kYXNoLnN0dWJUcnVlID0gc3R1YlRydWU7XG4gICAgbG9kYXNoLm11bHRpcGx5ID0gbXVsdGlwbHk7XG4gICAgbG9kYXNoLm50aCA9IG50aDtcbiAgICBsb2Rhc2gubm9Db25mbGljdCA9IG5vQ29uZmxpY3Q7XG4gICAgbG9kYXNoLm5vb3AgPSBub29wO1xuICAgIGxvZGFzaC5ub3cgPSBub3c7XG4gICAgbG9kYXNoLnBhZCA9IHBhZDtcbiAgICBsb2Rhc2gucGFkRW5kID0gcGFkRW5kO1xuICAgIGxvZGFzaC5wYWRTdGFydCA9IHBhZFN0YXJ0O1xuICAgIGxvZGFzaC5wYXJzZUludCA9IHBhcnNlSW50O1xuICAgIGxvZGFzaC5yYW5kb20gPSByYW5kb207XG4gICAgbG9kYXNoLnJlZHVjZSA9IHJlZHVjZTtcbiAgICBsb2Rhc2gucmVkdWNlUmlnaHQgPSByZWR1Y2VSaWdodDtcbiAgICBsb2Rhc2gucmVwZWF0ID0gcmVwZWF0O1xuICAgIGxvZGFzaC5yZXBsYWNlID0gcmVwbGFjZTtcbiAgICBsb2Rhc2gucmVzdWx0ID0gcmVzdWx0O1xuICAgIGxvZGFzaC5yb3VuZCA9IHJvdW5kO1xuICAgIGxvZGFzaC5ydW5JbkNvbnRleHQgPSBydW5JbkNvbnRleHQ7XG4gICAgbG9kYXNoLnNhbXBsZSA9IHNhbXBsZTtcbiAgICBsb2Rhc2guc2l6ZSA9IHNpemU7XG4gICAgbG9kYXNoLnNuYWtlQ2FzZSA9IHNuYWtlQ2FzZTtcbiAgICBsb2Rhc2guc29tZSA9IHNvbWU7XG4gICAgbG9kYXNoLnNvcnRlZEluZGV4ID0gc29ydGVkSW5kZXg7XG4gICAgbG9kYXNoLnNvcnRlZEluZGV4QnkgPSBzb3J0ZWRJbmRleEJ5O1xuICAgIGxvZGFzaC5zb3J0ZWRJbmRleE9mID0gc29ydGVkSW5kZXhPZjtcbiAgICBsb2Rhc2guc29ydGVkTGFzdEluZGV4ID0gc29ydGVkTGFzdEluZGV4O1xuICAgIGxvZGFzaC5zb3J0ZWRMYXN0SW5kZXhCeSA9IHNvcnRlZExhc3RJbmRleEJ5O1xuICAgIGxvZGFzaC5zb3J0ZWRMYXN0SW5kZXhPZiA9IHNvcnRlZExhc3RJbmRleE9mO1xuICAgIGxvZGFzaC5zdGFydENhc2UgPSBzdGFydENhc2U7XG4gICAgbG9kYXNoLnN0YXJ0c1dpdGggPSBzdGFydHNXaXRoO1xuICAgIGxvZGFzaC5zdWJ0cmFjdCA9IHN1YnRyYWN0O1xuICAgIGxvZGFzaC5zdW0gPSBzdW07XG4gICAgbG9kYXNoLnN1bUJ5ID0gc3VtQnk7XG4gICAgbG9kYXNoLnRlbXBsYXRlID0gdGVtcGxhdGU7XG4gICAgbG9kYXNoLnRpbWVzID0gdGltZXM7XG4gICAgbG9kYXNoLnRvRmluaXRlID0gdG9GaW5pdGU7XG4gICAgbG9kYXNoLnRvSW50ZWdlciA9IHRvSW50ZWdlcjtcbiAgICBsb2Rhc2gudG9MZW5ndGggPSB0b0xlbmd0aDtcbiAgICBsb2Rhc2gudG9Mb3dlciA9IHRvTG93ZXI7XG4gICAgbG9kYXNoLnRvTnVtYmVyID0gdG9OdW1iZXI7XG4gICAgbG9kYXNoLnRvU2FmZUludGVnZXIgPSB0b1NhZmVJbnRlZ2VyO1xuICAgIGxvZGFzaC50b1N0cmluZyA9IHRvU3RyaW5nO1xuICAgIGxvZGFzaC50b1VwcGVyID0gdG9VcHBlcjtcbiAgICBsb2Rhc2gudHJpbSA9IHRyaW07XG4gICAgbG9kYXNoLnRyaW1FbmQgPSB0cmltRW5kO1xuICAgIGxvZGFzaC50cmltU3RhcnQgPSB0cmltU3RhcnQ7XG4gICAgbG9kYXNoLnRydW5jYXRlID0gdHJ1bmNhdGU7XG4gICAgbG9kYXNoLnVuZXNjYXBlID0gdW5lc2NhcGU7XG4gICAgbG9kYXNoLnVuaXF1ZUlkID0gdW5pcXVlSWQ7XG4gICAgbG9kYXNoLnVwcGVyQ2FzZSA9IHVwcGVyQ2FzZTtcbiAgICBsb2Rhc2gudXBwZXJGaXJzdCA9IHVwcGVyRmlyc3Q7XG5cbiAgICAvLyBBZGQgYWxpYXNlcy5cbiAgICBsb2Rhc2guZWFjaCA9IGZvckVhY2g7XG4gICAgbG9kYXNoLmVhY2hSaWdodCA9IGZvckVhY2hSaWdodDtcbiAgICBsb2Rhc2guZmlyc3QgPSBoZWFkO1xuXG4gICAgbWl4aW4obG9kYXNoLCAoZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc291cmNlID0ge307XG4gICAgICBiYXNlRm9yT3duKGxvZGFzaCwgZnVuY3Rpb24oZnVuYywgbWV0aG9kTmFtZSkge1xuICAgICAgICBpZiAoIWhhc093blByb3BlcnR5LmNhbGwobG9kYXNoLnByb3RvdHlwZSwgbWV0aG9kTmFtZSkpIHtcbiAgICAgICAgICBzb3VyY2VbbWV0aG9kTmFtZV0gPSBmdW5jO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBzb3VyY2U7XG4gICAgfSgpKSwgeyAnY2hhaW4nOiBmYWxzZSB9KTtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIFRoZSBzZW1hbnRpYyB2ZXJzaW9uIG51bWJlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgbG9kYXNoLlZFUlNJT04gPSBWRVJTSU9OO1xuXG4gICAgLy8gQXNzaWduIGRlZmF1bHQgcGxhY2Vob2xkZXJzLlxuICAgIGFycmF5RWFjaChbJ2JpbmQnLCAnYmluZEtleScsICdjdXJyeScsICdjdXJyeVJpZ2h0JywgJ3BhcnRpYWwnLCAncGFydGlhbFJpZ2h0J10sIGZ1bmN0aW9uKG1ldGhvZE5hbWUpIHtcbiAgICAgIGxvZGFzaFttZXRob2ROYW1lXS5wbGFjZWhvbGRlciA9IGxvZGFzaDtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBgTGF6eVdyYXBwZXJgIG1ldGhvZHMgZm9yIGBfLmRyb3BgIGFuZCBgXy50YWtlYCB2YXJpYW50cy5cbiAgICBhcnJheUVhY2goWydkcm9wJywgJ3Rha2UnXSwgZnVuY3Rpb24obWV0aG9kTmFtZSwgaW5kZXgpIHtcbiAgICAgIExhenlXcmFwcGVyLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKG4pIHtcbiAgICAgICAgbiA9IG4gPT09IHVuZGVmaW5lZCA/IDEgOiBuYXRpdmVNYXgodG9JbnRlZ2VyKG4pLCAwKTtcblxuICAgICAgICB2YXIgcmVzdWx0ID0gKHRoaXMuX19maWx0ZXJlZF9fICYmICFpbmRleClcbiAgICAgICAgICA/IG5ldyBMYXp5V3JhcHBlcih0aGlzKVxuICAgICAgICAgIDogdGhpcy5jbG9uZSgpO1xuXG4gICAgICAgIGlmIChyZXN1bHQuX19maWx0ZXJlZF9fKSB7XG4gICAgICAgICAgcmVzdWx0Ll9fdGFrZUNvdW50X18gPSBuYXRpdmVNaW4obiwgcmVzdWx0Ll9fdGFrZUNvdW50X18pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc3VsdC5fX3ZpZXdzX18ucHVzaCh7XG4gICAgICAgICAgICAnc2l6ZSc6IG5hdGl2ZU1pbihuLCBNQVhfQVJSQVlfTEVOR1RIKSxcbiAgICAgICAgICAgICd0eXBlJzogbWV0aG9kTmFtZSArIChyZXN1bHQuX19kaXJfXyA8IDAgPyAnUmlnaHQnIDogJycpXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG5cbiAgICAgIExhenlXcmFwcGVyLnByb3RvdHlwZVttZXRob2ROYW1lICsgJ1JpZ2h0J10gPSBmdW5jdGlvbihuKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJldmVyc2UoKVttZXRob2ROYW1lXShuKS5yZXZlcnNlKCk7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgLy8gQWRkIGBMYXp5V3JhcHBlcmAgbWV0aG9kcyB0aGF0IGFjY2VwdCBhbiBgaXRlcmF0ZWVgIHZhbHVlLlxuICAgIGFycmF5RWFjaChbJ2ZpbHRlcicsICdtYXAnLCAndGFrZVdoaWxlJ10sIGZ1bmN0aW9uKG1ldGhvZE5hbWUsIGluZGV4KSB7XG4gICAgICB2YXIgdHlwZSA9IGluZGV4ICsgMSxcbiAgICAgICAgICBpc0ZpbHRlciA9IHR5cGUgPT0gTEFaWV9GSUxURVJfRkxBRyB8fCB0eXBlID09IExBWllfV0hJTEVfRkxBRztcblxuICAgICAgTGF6eVdyYXBwZXIucHJvdG90eXBlW21ldGhvZE5hbWVdID0gZnVuY3Rpb24oaXRlcmF0ZWUpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuY2xvbmUoKTtcbiAgICAgICAgcmVzdWx0Ll9faXRlcmF0ZWVzX18ucHVzaCh7XG4gICAgICAgICAgJ2l0ZXJhdGVlJzogZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpLFxuICAgICAgICAgICd0eXBlJzogdHlwZVxuICAgICAgICB9KTtcbiAgICAgICAgcmVzdWx0Ll9fZmlsdGVyZWRfXyA9IHJlc3VsdC5fX2ZpbHRlcmVkX18gfHwgaXNGaWx0ZXI7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgLy8gQWRkIGBMYXp5V3JhcHBlcmAgbWV0aG9kcyBmb3IgYF8uaGVhZGAgYW5kIGBfLmxhc3RgLlxuICAgIGFycmF5RWFjaChbJ2hlYWQnLCAnbGFzdCddLCBmdW5jdGlvbihtZXRob2ROYW1lLCBpbmRleCkge1xuICAgICAgdmFyIHRha2VOYW1lID0gJ3Rha2UnICsgKGluZGV4ID8gJ1JpZ2h0JyA6ICcnKTtcblxuICAgICAgTGF6eVdyYXBwZXIucHJvdG90eXBlW21ldGhvZE5hbWVdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzW3Rha2VOYW1lXSgxKS52YWx1ZSgpWzBdO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBgTGF6eVdyYXBwZXJgIG1ldGhvZHMgZm9yIGBfLmluaXRpYWxgIGFuZCBgXy50YWlsYC5cbiAgICBhcnJheUVhY2goWydpbml0aWFsJywgJ3RhaWwnXSwgZnVuY3Rpb24obWV0aG9kTmFtZSwgaW5kZXgpIHtcbiAgICAgIHZhciBkcm9wTmFtZSA9ICdkcm9wJyArIChpbmRleCA/ICcnIDogJ1JpZ2h0Jyk7XG5cbiAgICAgIExhenlXcmFwcGVyLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fX2ZpbHRlcmVkX18gPyBuZXcgTGF6eVdyYXBwZXIodGhpcykgOiB0aGlzW2Ryb3BOYW1lXSgxKTtcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUuY29tcGFjdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZmlsdGVyKGlkZW50aXR5KTtcbiAgICB9O1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmZpbmQgPSBmdW5jdGlvbihwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiB0aGlzLmZpbHRlcihwcmVkaWNhdGUpLmhlYWQoKTtcbiAgICB9O1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmZpbmRMYXN0ID0gZnVuY3Rpb24ocHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gdGhpcy5yZXZlcnNlKCkuZmluZChwcmVkaWNhdGUpO1xuICAgIH07XG5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUuaW52b2tlTWFwID0gYmFzZVJlc3QoZnVuY3Rpb24ocGF0aCwgYXJncykge1xuICAgICAgaWYgKHR5cGVvZiBwYXRoID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBMYXp5V3JhcHBlcih0aGlzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gYmFzZUludm9rZSh2YWx1ZSwgcGF0aCwgYXJncyk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5yZWplY3QgPSBmdW5jdGlvbihwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiB0aGlzLmZpbHRlcihuZWdhdGUoZ2V0SXRlcmF0ZWUocHJlZGljYXRlKSkpO1xuICAgIH07XG5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUuc2xpY2UgPSBmdW5jdGlvbihzdGFydCwgZW5kKSB7XG4gICAgICBzdGFydCA9IHRvSW50ZWdlcihzdGFydCk7XG5cbiAgICAgIHZhciByZXN1bHQgPSB0aGlzO1xuICAgICAgaWYgKHJlc3VsdC5fX2ZpbHRlcmVkX18gJiYgKHN0YXJ0ID4gMCB8fCBlbmQgPCAwKSkge1xuICAgICAgICByZXR1cm4gbmV3IExhenlXcmFwcGVyKHJlc3VsdCk7XG4gICAgICB9XG4gICAgICBpZiAoc3RhcnQgPCAwKSB7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC50YWtlUmlnaHQoLXN0YXJ0KTtcbiAgICAgIH0gZWxzZSBpZiAoc3RhcnQpIHtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0LmRyb3Aoc3RhcnQpO1xuICAgICAgfVxuICAgICAgaWYgKGVuZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGVuZCA9IHRvSW50ZWdlcihlbmQpO1xuICAgICAgICByZXN1bHQgPSBlbmQgPCAwID8gcmVzdWx0LmRyb3BSaWdodCgtZW5kKSA6IHJlc3VsdC50YWtlKGVuZCAtIHN0YXJ0KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS50YWtlUmlnaHRXaGlsZSA9IGZ1bmN0aW9uKHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIHRoaXMucmV2ZXJzZSgpLnRha2VXaGlsZShwcmVkaWNhdGUpLnJldmVyc2UoKTtcbiAgICB9O1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLnRvQXJyYXkgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnRha2UoTUFYX0FSUkFZX0xFTkdUSCk7XG4gICAgfTtcblxuICAgIC8vIEFkZCBgTGF6eVdyYXBwZXJgIG1ldGhvZHMgdG8gYGxvZGFzaC5wcm90b3R5cGVgLlxuICAgIGJhc2VGb3JPd24oTGF6eVdyYXBwZXIucHJvdG90eXBlLCBmdW5jdGlvbihmdW5jLCBtZXRob2ROYW1lKSB7XG4gICAgICB2YXIgY2hlY2tJdGVyYXRlZSA9IC9eKD86ZmlsdGVyfGZpbmR8bWFwfHJlamVjdCl8V2hpbGUkLy50ZXN0KG1ldGhvZE5hbWUpLFxuICAgICAgICAgIGlzVGFrZXIgPSAvXig/OmhlYWR8bGFzdCkkLy50ZXN0KG1ldGhvZE5hbWUpLFxuICAgICAgICAgIGxvZGFzaEZ1bmMgPSBsb2Rhc2hbaXNUYWtlciA/ICgndGFrZScgKyAobWV0aG9kTmFtZSA9PSAnbGFzdCcgPyAnUmlnaHQnIDogJycpKSA6IG1ldGhvZE5hbWVdLFxuICAgICAgICAgIHJldFVud3JhcHBlZCA9IGlzVGFrZXIgfHwgL15maW5kLy50ZXN0KG1ldGhvZE5hbWUpO1xuXG4gICAgICBpZiAoIWxvZGFzaEZ1bmMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbG9kYXNoLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLl9fd3JhcHBlZF9fLFxuICAgICAgICAgICAgYXJncyA9IGlzVGFrZXIgPyBbMV0gOiBhcmd1bWVudHMsXG4gICAgICAgICAgICBpc0xhenkgPSB2YWx1ZSBpbnN0YW5jZW9mIExhenlXcmFwcGVyLFxuICAgICAgICAgICAgaXRlcmF0ZWUgPSBhcmdzWzBdLFxuICAgICAgICAgICAgdXNlTGF6eSA9IGlzTGF6eSB8fCBpc0FycmF5KHZhbHVlKTtcblxuICAgICAgICB2YXIgaW50ZXJjZXB0b3IgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIHZhciByZXN1bHQgPSBsb2Rhc2hGdW5jLmFwcGx5KGxvZGFzaCwgYXJyYXlQdXNoKFt2YWx1ZV0sIGFyZ3MpKTtcbiAgICAgICAgICByZXR1cm4gKGlzVGFrZXIgJiYgY2hhaW5BbGwpID8gcmVzdWx0WzBdIDogcmVzdWx0O1xuICAgICAgICB9O1xuXG4gICAgICAgIGlmICh1c2VMYXp5ICYmIGNoZWNrSXRlcmF0ZWUgJiYgdHlwZW9mIGl0ZXJhdGVlID09ICdmdW5jdGlvbicgJiYgaXRlcmF0ZWUubGVuZ3RoICE9IDEpIHtcbiAgICAgICAgICAvLyBBdm9pZCBsYXp5IHVzZSBpZiB0aGUgaXRlcmF0ZWUgaGFzIGEgXCJsZW5ndGhcIiB2YWx1ZSBvdGhlciB0aGFuIGAxYC5cbiAgICAgICAgICBpc0xhenkgPSB1c2VMYXp5ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNoYWluQWxsID0gdGhpcy5fX2NoYWluX18sXG4gICAgICAgICAgICBpc0h5YnJpZCA9ICEhdGhpcy5fX2FjdGlvbnNfXy5sZW5ndGgsXG4gICAgICAgICAgICBpc1Vud3JhcHBlZCA9IHJldFVud3JhcHBlZCAmJiAhY2hhaW5BbGwsXG4gICAgICAgICAgICBvbmx5TGF6eSA9IGlzTGF6eSAmJiAhaXNIeWJyaWQ7XG5cbiAgICAgICAgaWYgKCFyZXRVbndyYXBwZWQgJiYgdXNlTGF6eSkge1xuICAgICAgICAgIHZhbHVlID0gb25seUxhenkgPyB2YWx1ZSA6IG5ldyBMYXp5V3JhcHBlcih0aGlzKTtcbiAgICAgICAgICB2YXIgcmVzdWx0ID0gZnVuYy5hcHBseSh2YWx1ZSwgYXJncyk7XG4gICAgICAgICAgcmVzdWx0Ll9fYWN0aW9uc19fLnB1c2goeyAnZnVuYyc6IHRocnUsICdhcmdzJzogW2ludGVyY2VwdG9yXSwgJ3RoaXNBcmcnOiB1bmRlZmluZWQgfSk7XG4gICAgICAgICAgcmV0dXJuIG5ldyBMb2Rhc2hXcmFwcGVyKHJlc3VsdCwgY2hhaW5BbGwpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1Vud3JhcHBlZCAmJiBvbmx5TGF6eSkge1xuICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdCA9IHRoaXMudGhydShpbnRlcmNlcHRvcik7XG4gICAgICAgIHJldHVybiBpc1Vud3JhcHBlZCA/IChpc1Rha2VyID8gcmVzdWx0LnZhbHVlKClbMF0gOiByZXN1bHQudmFsdWUoKSkgOiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgLy8gQWRkIGBBcnJheWAgbWV0aG9kcyB0byBgbG9kYXNoLnByb3RvdHlwZWAuXG4gICAgYXJyYXlFYWNoKFsncG9wJywgJ3B1c2gnLCAnc2hpZnQnLCAnc29ydCcsICdzcGxpY2UnLCAndW5zaGlmdCddLCBmdW5jdGlvbihtZXRob2ROYW1lKSB7XG4gICAgICB2YXIgZnVuYyA9IGFycmF5UHJvdG9bbWV0aG9kTmFtZV0sXG4gICAgICAgICAgY2hhaW5OYW1lID0gL14oPzpwdXNofHNvcnR8dW5zaGlmdCkkLy50ZXN0KG1ldGhvZE5hbWUpID8gJ3RhcCcgOiAndGhydScsXG4gICAgICAgICAgcmV0VW53cmFwcGVkID0gL14oPzpwb3B8c2hpZnQpJC8udGVzdChtZXRob2ROYW1lKTtcblxuICAgICAgbG9kYXNoLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgaWYgKHJldFVud3JhcHBlZCAmJiAhdGhpcy5fX2NoYWluX18pIHtcbiAgICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLnZhbHVlKCk7XG4gICAgICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkoaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZSA6IFtdLCBhcmdzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpc1tjaGFpbk5hbWVdKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkoaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZSA6IFtdLCBhcmdzKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgLy8gTWFwIG1pbmlmaWVkIG1ldGhvZCBuYW1lcyB0byB0aGVpciByZWFsIG5hbWVzLlxuICAgIGJhc2VGb3JPd24oTGF6eVdyYXBwZXIucHJvdG90eXBlLCBmdW5jdGlvbihmdW5jLCBtZXRob2ROYW1lKSB7XG4gICAgICB2YXIgbG9kYXNoRnVuYyA9IGxvZGFzaFttZXRob2ROYW1lXTtcbiAgICAgIGlmIChsb2Rhc2hGdW5jKSB7XG4gICAgICAgIHZhciBrZXkgPSBsb2Rhc2hGdW5jLm5hbWUgKyAnJztcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wZXJ0eS5jYWxsKHJlYWxOYW1lcywga2V5KSkge1xuICAgICAgICAgIHJlYWxOYW1lc1trZXldID0gW107XG4gICAgICAgIH1cbiAgICAgICAgcmVhbE5hbWVzW2tleV0ucHVzaCh7ICduYW1lJzogbWV0aG9kTmFtZSwgJ2Z1bmMnOiBsb2Rhc2hGdW5jIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmVhbE5hbWVzW2NyZWF0ZUh5YnJpZCh1bmRlZmluZWQsIFdSQVBfQklORF9LRVlfRkxBRykubmFtZV0gPSBbe1xuICAgICAgJ25hbWUnOiAnd3JhcHBlcicsXG4gICAgICAnZnVuYyc6IHVuZGVmaW5lZFxuICAgIH1dO1xuXG4gICAgLy8gQWRkIG1ldGhvZHMgdG8gYExhenlXcmFwcGVyYC5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUuY2xvbmUgPSBsYXp5Q2xvbmU7XG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLnJldmVyc2UgPSBsYXp5UmV2ZXJzZTtcbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUudmFsdWUgPSBsYXp5VmFsdWU7XG5cbiAgICAvLyBBZGQgY2hhaW4gc2VxdWVuY2UgbWV0aG9kcyB0byB0aGUgYGxvZGFzaGAgd3JhcHBlci5cbiAgICBsb2Rhc2gucHJvdG90eXBlLmF0ID0gd3JhcHBlckF0O1xuICAgIGxvZGFzaC5wcm90b3R5cGUuY2hhaW4gPSB3cmFwcGVyQ2hhaW47XG4gICAgbG9kYXNoLnByb3RvdHlwZS5jb21taXQgPSB3cmFwcGVyQ29tbWl0O1xuICAgIGxvZGFzaC5wcm90b3R5cGUubmV4dCA9IHdyYXBwZXJOZXh0O1xuICAgIGxvZGFzaC5wcm90b3R5cGUucGxhbnQgPSB3cmFwcGVyUGxhbnQ7XG4gICAgbG9kYXNoLnByb3RvdHlwZS5yZXZlcnNlID0gd3JhcHBlclJldmVyc2U7XG4gICAgbG9kYXNoLnByb3RvdHlwZS50b0pTT04gPSBsb2Rhc2gucHJvdG90eXBlLnZhbHVlT2YgPSBsb2Rhc2gucHJvdG90eXBlLnZhbHVlID0gd3JhcHBlclZhbHVlO1xuXG4gICAgLy8gQWRkIGxhenkgYWxpYXNlcy5cbiAgICBsb2Rhc2gucHJvdG90eXBlLmZpcnN0ID0gbG9kYXNoLnByb3RvdHlwZS5oZWFkO1xuXG4gICAgaWYgKHN5bUl0ZXJhdG9yKSB7XG4gICAgICBsb2Rhc2gucHJvdG90eXBlW3N5bUl0ZXJhdG9yXSA9IHdyYXBwZXJUb0l0ZXJhdG9yO1xuICAgIH1cbiAgICByZXR1cm4gbG9kYXNoO1xuICB9KTtcblxuICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAvLyBFeHBvcnQgbG9kYXNoLlxuICB2YXIgXyA9IHJ1bkluQ29udGV4dCgpO1xuXG4gIC8vIFNvbWUgQU1EIGJ1aWxkIG9wdGltaXplcnMsIGxpa2Ugci5qcywgY2hlY2sgZm9yIGNvbmRpdGlvbiBwYXR0ZXJucyBsaWtlOlxuICBpZiAodHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBkZWZpbmUuYW1kID09ICdvYmplY3QnICYmIGRlZmluZS5hbWQpIHtcbiAgICAvLyBFeHBvc2UgTG9kYXNoIG9uIHRoZSBnbG9iYWwgb2JqZWN0IHRvIHByZXZlbnQgZXJyb3JzIHdoZW4gTG9kYXNoIGlzXG4gICAgLy8gbG9hZGVkIGJ5IGEgc2NyaXB0IHRhZyBpbiB0aGUgcHJlc2VuY2Ugb2YgYW4gQU1EIGxvYWRlci5cbiAgICAvLyBTZWUgaHR0cDovL3JlcXVpcmVqcy5vcmcvZG9jcy9lcnJvcnMuaHRtbCNtaXNtYXRjaCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgIC8vIFVzZSBgXy5ub0NvbmZsaWN0YCB0byByZW1vdmUgTG9kYXNoIGZyb20gdGhlIGdsb2JhbCBvYmplY3QuXG4gICAgcm9vdC5fID0gXztcblxuICAgIC8vIERlZmluZSBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlIHNvLCB0aHJvdWdoIHBhdGggbWFwcGluZywgaXQgY2FuIGJlXG4gICAgLy8gcmVmZXJlbmNlZCBhcyB0aGUgXCJ1bmRlcnNjb3JlXCIgbW9kdWxlLlxuICAgIGRlZmluZShmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBfO1xuICAgIH0pO1xuICB9XG4gIC8vIENoZWNrIGZvciBgZXhwb3J0c2AgYWZ0ZXIgYGRlZmluZWAgaW4gY2FzZSBhIGJ1aWxkIG9wdGltaXplciBhZGRzIGl0LlxuICBlbHNlIGlmIChmcmVlTW9kdWxlKSB7XG4gICAgLy8gRXhwb3J0IGZvciBOb2RlLmpzLlxuICAgIChmcmVlTW9kdWxlLmV4cG9ydHMgPSBfKS5fID0gXztcbiAgICAvLyBFeHBvcnQgZm9yIENvbW1vbkpTIHN1cHBvcnQuXG4gICAgZnJlZUV4cG9ydHMuXyA9IF87XG4gIH1cbiAgZWxzZSB7XG4gICAgLy8gRXhwb3J0IHRvIHRoZSBnbG9iYWwgb2JqZWN0LlxuICAgIHJvb3QuXyA9IF87XG4gIH1cbn0uY2FsbCh0aGlzKSk7XG4iLCI7KGZ1bmN0aW9uKHJvb3QsIGZhY3RvcnkpIHtcbiAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgIGlmICh0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICBkZWZpbmUoW10sIGZhY3RvcnkpXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgbW9kdWxlID09PSBcIm9iamVjdFwiICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpXG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgcm9vdC5yZWdleHBUb0FzdCA9IGZhY3RvcnkoKVxuICAgIH1cbn0pKFxuICAgIHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiXG4gICAgICAgID8gLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgICBzZWxmXG4gICAgICAgIDogdGhpcyxcbiAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gcmVmZXJlbmNlc1xuICAgICAgICAvLyBodHRwczovL2hhY2tlcm5vb24uY29tL3RoZS1tYWRuZXNzLW9mLXBhcnNpbmctcmVhbC13b3JsZC1qYXZhc2NyaXB0LXJlZ2V4cHMtZDllZTMzNmRmOTgzXG4gICAgICAgIC8vIGh0dHBzOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvOC4wL2luZGV4Lmh0bWwjcHJvZC1QYXR0ZXJuXG4gICAgICAgIGZ1bmN0aW9uIFJlZ0V4cFBhcnNlcigpIHt9XG5cbiAgICAgICAgUmVnRXhwUGFyc2VyLnByb3RvdHlwZS5zYXZlU3RhdGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgaWR4OiB0aGlzLmlkeCxcbiAgICAgICAgICAgICAgICBpbnB1dDogdGhpcy5pbnB1dCxcbiAgICAgICAgICAgICAgICBncm91cElkeDogdGhpcy5ncm91cElkeFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgUmVnRXhwUGFyc2VyLnByb3RvdHlwZS5yZXN0b3JlU3RhdGUgPSBmdW5jdGlvbihuZXdTdGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5pZHggPSBuZXdTdGF0ZS5pZHhcbiAgICAgICAgICAgIHRoaXMuaW5wdXQgPSBuZXdTdGF0ZS5pbnB1dFxuICAgICAgICAgICAgdGhpcy5ncm91cElkeCA9IG5ld1N0YXRlLmdyb3VwSWR4XG4gICAgICAgIH1cblxuICAgICAgICBSZWdFeHBQYXJzZXIucHJvdG90eXBlLnBhdHRlcm4gPSBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICAgICAgLy8gcGFyc2VyIHN0YXRlXG4gICAgICAgICAgICB0aGlzLmlkeCA9IDBcbiAgICAgICAgICAgIHRoaXMuaW5wdXQgPSBpbnB1dFxuICAgICAgICAgICAgdGhpcy5ncm91cElkeCA9IDBcblxuICAgICAgICAgICAgdGhpcy5jb25zdW1lQ2hhcihcIi9cIilcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuZGlzanVuY3Rpb24oKVxuICAgICAgICAgICAgdGhpcy5jb25zdW1lQ2hhcihcIi9cIilcblxuICAgICAgICAgICAgdmFyIGZsYWdzID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwiRmxhZ3NcIixcbiAgICAgICAgICAgICAgICBsb2M6IHsgYmVnaW46IHRoaXMuaWR4LCBlbmQ6IGlucHV0Lmxlbmd0aCB9LFxuICAgICAgICAgICAgICAgIGdsb2JhbDogZmFsc2UsXG4gICAgICAgICAgICAgICAgaWdub3JlQ2FzZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgbXVsdGlMaW5lOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB1bmljb2RlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBzdGlja3k6IGZhbHNlXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHdoaWxlICh0aGlzLmlzUmVnRXhwRmxhZygpKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoICh0aGlzLnBvcENoYXIoKSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZ1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkRmxhZyhmbGFncywgXCJnbG9iYWxcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJpXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRGbGFnKGZsYWdzLCBcImlnbm9yZUNhc2VcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJtXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRGbGFnKGZsYWdzLCBcIm11bHRpTGluZVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZEZsYWcoZmxhZ3MsIFwidW5pY29kZVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInlcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZEZsYWcoZmxhZ3MsIFwic3RpY2t5XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMuaWR4ICE9PSB0aGlzLmlucHV0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICAgICAgICBcIlJlZHVuZGFudCBpbnB1dDogXCIgKyB0aGlzLmlucHV0LnN1YnN0cmluZyh0aGlzLmlkeClcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwiUGF0dGVyblwiLFxuICAgICAgICAgICAgICAgIGZsYWdzOiBmbGFncyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgbG9jOiB0aGlzLmxvYygwKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgUmVnRXhwUGFyc2VyLnByb3RvdHlwZS5kaXNqdW5jdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGFsdHMgPSBbXVxuICAgICAgICAgICAgdmFyIGJlZ2luID0gdGhpcy5pZHhcblxuICAgICAgICAgICAgYWx0cy5wdXNoKHRoaXMuYWx0ZXJuYXRpdmUoKSlcblxuICAgICAgICAgICAgd2hpbGUgKHRoaXMucGVla0NoYXIoKSA9PT0gXCJ8XCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnN1bWVDaGFyKFwifFwiKVxuICAgICAgICAgICAgICAgIGFsdHMucHVzaCh0aGlzLmFsdGVybmF0aXZlKCkpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB7IHR5cGU6IFwiRGlzanVuY3Rpb25cIiwgdmFsdWU6IGFsdHMsIGxvYzogdGhpcy5sb2MoYmVnaW4pIH1cbiAgICAgICAgfVxuXG4gICAgICAgIFJlZ0V4cFBhcnNlci5wcm90b3R5cGUuYWx0ZXJuYXRpdmUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciB0ZXJtcyA9IFtdXG4gICAgICAgICAgICB2YXIgYmVnaW4gPSB0aGlzLmlkeFxuXG4gICAgICAgICAgICB3aGlsZSAodGhpcy5pc1Rlcm0oKSkge1xuICAgICAgICAgICAgICAgIHRlcm1zLnB1c2godGhpcy50ZXJtKCkpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB7IHR5cGU6IFwiQWx0ZXJuYXRpdmVcIiwgdmFsdWU6IHRlcm1zLCBsb2M6IHRoaXMubG9jKGJlZ2luKSB9XG4gICAgICAgIH1cblxuICAgICAgICBSZWdFeHBQYXJzZXIucHJvdG90eXBlLnRlcm0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzQXNzZXJ0aW9uKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5hc3NlcnRpb24oKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5hdG9tKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIFJlZ0V4cFBhcnNlci5wcm90b3R5cGUuYXNzZXJ0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgYmVnaW4gPSB0aGlzLmlkeFxuICAgICAgICAgICAgc3dpdGNoICh0aGlzLnBvcENoYXIoKSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJeXCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIlN0YXJ0QW5jaG9yXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2M6IHRoaXMubG9jKGJlZ2luKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBcIiRcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdHlwZTogXCJFbmRBbmNob3JcIiwgbG9jOiB0aGlzLmxvYyhiZWdpbikgfVxuICAgICAgICAgICAgICAgIC8vICdcXGInIG9yICdcXEInXG4gICAgICAgICAgICAgICAgY2FzZSBcIlxcXFxcIjpcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0aGlzLnBvcENoYXIoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImJcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIldvcmRCb3VuZGFyeVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2M6IHRoaXMubG9jKGJlZ2luKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJCXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJOb25Xb3JkQm91bmRhcnlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jOiB0aGlzLmxvYyhiZWdpbilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJJbnZhbGlkIEFzc2VydGlvbiBFc2NhcGVcIilcbiAgICAgICAgICAgICAgICAvLyAnKD89JyBvciAnKD8hJ1xuICAgICAgICAgICAgICAgIGNhc2UgXCIoXCI6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29uc3VtZUNoYXIoXCI/XCIpXG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHR5cGVcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0aGlzLnBvcENoYXIoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIj1cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlID0gXCJMb29rYWhlYWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiIVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUgPSBcIk5lZ2F0aXZlTG9va2FoZWFkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIEFTU0VSVF9FWElTVFModHlwZSlcblxuICAgICAgICAgICAgICAgICAgICB2YXIgZGlzanVuY3Rpb24gPSB0aGlzLmRpc2p1bmN0aW9uKClcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnN1bWVDaGFyKFwiKVwiKVxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGRpc2p1bmN0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgbG9jOiB0aGlzLmxvYyhiZWdpbilcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgICAgIEFTU0VSVF9ORVZFUl9SRUFDSF9IRVJFKClcbiAgICAgICAgfVxuXG4gICAgICAgIFJlZ0V4cFBhcnNlci5wcm90b3R5cGUucXVhbnRpZmllciA9IGZ1bmN0aW9uKGlzQmFja3RyYWNraW5nKSB7XG4gICAgICAgICAgICB2YXIgcmFuZ2VcbiAgICAgICAgICAgIHZhciBiZWdpbiA9IHRoaXMuaWR4XG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMucG9wQ2hhcigpKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcIipcIjpcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2UgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhdExlYXN0OiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXRNb3N0OiBJbmZpbml0eVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSBcIitcIjpcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2UgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhdExlYXN0OiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXRNb3N0OiBJbmZpbml0eVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSBcIj9cIjpcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2UgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhdExlYXN0OiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXRNb3N0OiAxXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlIFwie1wiOlxuICAgICAgICAgICAgICAgICAgICB2YXIgYXRMZWFzdCA9IHRoaXMuaW50ZWdlckluY2x1ZGluZ1plcm8oKVxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRoaXMucG9wQ2hhcigpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwifVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdExlYXN0OiBhdExlYXN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdE1vc3Q6IGF0TGVhc3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCIsXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGF0TW9zdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzRGlnaXQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdE1vc3QgPSB0aGlzLmludGVnZXJJbmNsdWRpbmdaZXJvKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2UgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdExlYXN0OiBhdExlYXN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXRNb3N0OiBhdE1vc3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXRMZWFzdDogYXRMZWFzdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0TW9zdDogSW5maW5pdHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnN1bWVDaGFyKFwifVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gdGhyb3dpbmcgZXhjZXB0aW9ucyBmcm9tIFwiQVNTRVJUX0VYSVNUU1wiIGR1cmluZyBiYWNrdHJhY2tpbmdcbiAgICAgICAgICAgICAgICAgICAgLy8gY2F1c2VzIHNldmVyZSBwZXJmb3JtYW5jZSBkZWdyYWRhdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzQmFja3RyYWNraW5nID09PSB0cnVlICYmIHJhbmdlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBBU1NFUlRfRVhJU1RTKHJhbmdlKVxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyB0aHJvd2luZyBleGNlcHRpb25zIGZyb20gXCJBU1NFUlRfRVhJU1RTXCIgZHVyaW5nIGJhY2t0cmFja2luZ1xuICAgICAgICAgICAgLy8gY2F1c2VzIHNldmVyZSBwZXJmb3JtYW5jZSBkZWdyYWRhdGlvbnNcbiAgICAgICAgICAgIGlmIChpc0JhY2t0cmFja2luZyA9PT0gdHJ1ZSAmJiByYW5nZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBBU1NFUlRfRVhJU1RTKHJhbmdlKVxuXG4gICAgICAgICAgICBpZiAodGhpcy5wZWVrQ2hhcigwKSA9PT0gXCI/XCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnN1bWVDaGFyKFwiP1wiKVxuICAgICAgICAgICAgICAgIHJhbmdlLmdyZWVkeSA9IGZhbHNlXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJhbmdlLmdyZWVkeSA9IHRydWVcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmFuZ2UudHlwZSA9IFwiUXVhbnRpZmllclwiXG4gICAgICAgICAgICByYW5nZS5sb2MgPSB0aGlzLmxvYyhiZWdpbilcbiAgICAgICAgICAgIHJldHVybiByYW5nZVxuICAgICAgICB9XG5cbiAgICAgICAgUmVnRXhwUGFyc2VyLnByb3RvdHlwZS5hdG9tID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgYXRvbVxuICAgICAgICAgICAgdmFyIGJlZ2luID0gdGhpcy5pZHhcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5wZWVrQ2hhcigpKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcIi5cIjpcbiAgICAgICAgICAgICAgICAgICAgYXRvbSA9IHRoaXMuZG90QWxsKClcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlIFwiXFxcXFwiOlxuICAgICAgICAgICAgICAgICAgICBhdG9tID0gdGhpcy5hdG9tRXNjYXBlKClcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlIFwiW1wiOlxuICAgICAgICAgICAgICAgICAgICBhdG9tID0gdGhpcy5jaGFyYWN0ZXJDbGFzcygpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSBcIihcIjpcbiAgICAgICAgICAgICAgICAgICAgYXRvbSA9IHRoaXMuZ3JvdXAoKVxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoYXRvbSA9PT0gdW5kZWZpbmVkICYmIHRoaXMuaXNQYXR0ZXJuQ2hhcmFjdGVyKCkpIHtcbiAgICAgICAgICAgICAgICBhdG9tID0gdGhpcy5wYXR0ZXJuQ2hhcmFjdGVyKClcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgQVNTRVJUX0VYSVNUUyhhdG9tKVxuXG4gICAgICAgICAgICBhdG9tLmxvYyA9IHRoaXMubG9jKGJlZ2luKVxuXG4gICAgICAgICAgICBpZiAodGhpcy5pc1F1YW50aWZpZXIoKSkge1xuICAgICAgICAgICAgICAgIGF0b20ucXVhbnRpZmllciA9IHRoaXMucXVhbnRpZmllcigpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBhdG9tXG4gICAgICAgIH1cblxuICAgICAgICBSZWdFeHBQYXJzZXIucHJvdG90eXBlLmRvdEFsbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5jb25zdW1lQ2hhcihcIi5cIilcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJTZXRcIixcbiAgICAgICAgICAgICAgICBjb21wbGVtZW50OiB0cnVlLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBbY2MoXCJcXG5cIiksIGNjKFwiXFxyXCIpLCBjYyhcIlxcdTIwMjhcIiksIGNjKFwiXFx1MjAyOVwiKV1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIFJlZ0V4cFBhcnNlci5wcm90b3R5cGUuYXRvbUVzY2FwZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5jb25zdW1lQ2hhcihcIlxcXFxcIilcblxuICAgICAgICAgICAgc3dpdGNoICh0aGlzLnBlZWtDaGFyKCkpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiMVwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCIyXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIjNcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiNFwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCI1XCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIjZcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiN1wiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCI4XCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIjlcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVjaW1hbEVzY2FwZUF0b20oKVxuICAgICAgICAgICAgICAgIGNhc2UgXCJkXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIkRcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwic1wiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJTXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIndcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiV1wiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jaGFyYWN0ZXJDbGFzc0VzY2FwZSgpXG4gICAgICAgICAgICAgICAgY2FzZSBcImZcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiblwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJyXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcInRcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwidlwiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb250cm9sRXNjYXBlQXRvbSgpXG4gICAgICAgICAgICAgICAgY2FzZSBcImNcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29udHJvbExldHRlckVzY2FwZUF0b20oKVxuICAgICAgICAgICAgICAgIGNhc2UgXCIwXCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm51bENoYXJhY3RlckF0b20oKVxuICAgICAgICAgICAgICAgIGNhc2UgXCJ4XCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmhleEVzY2FwZVNlcXVlbmNlQXRvbSgpXG4gICAgICAgICAgICAgICAgY2FzZSBcInVcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVnRXhwVW5pY29kZUVzY2FwZVNlcXVlbmNlQXRvbSgpXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaWRlbnRpdHlFc2NhcGVBdG9tKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIFJlZ0V4cFBhcnNlci5wcm90b3R5cGUuZGVjaW1hbEVzY2FwZUF0b20gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHRoaXMucG9zaXRpdmVJbnRlZ2VyKClcblxuICAgICAgICAgICAgcmV0dXJuIHsgdHlwZTogXCJHcm91cEJhY2tSZWZlcmVuY2VcIiwgdmFsdWU6IHZhbHVlIH1cbiAgICAgICAgfVxuXG4gICAgICAgIFJlZ0V4cFBhcnNlci5wcm90b3R5cGUuY2hhcmFjdGVyQ2xhc3NFc2NhcGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBzZXRcbiAgICAgICAgICAgIHZhciBjb21wbGVtZW50ID0gZmFsc2VcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5wb3BDaGFyKCkpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiZFwiOlxuICAgICAgICAgICAgICAgICAgICBzZXQgPSBkaWdpdHNDaGFyQ29kZXNcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlIFwiRFwiOlxuICAgICAgICAgICAgICAgICAgICBzZXQgPSBkaWdpdHNDaGFyQ29kZXNcbiAgICAgICAgICAgICAgICAgICAgY29tcGxlbWVudCA9IHRydWVcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlIFwic1wiOlxuICAgICAgICAgICAgICAgICAgICBzZXQgPSB3aGl0ZXNwYWNlQ29kZXNcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlIFwiU1wiOlxuICAgICAgICAgICAgICAgICAgICBzZXQgPSB3aGl0ZXNwYWNlQ29kZXNcbiAgICAgICAgICAgICAgICAgICAgY29tcGxlbWVudCA9IHRydWVcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlIFwid1wiOlxuICAgICAgICAgICAgICAgICAgICBzZXQgPSB3b3JkQ2hhckNvZGVzXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSBcIldcIjpcbiAgICAgICAgICAgICAgICAgICAgc2V0ID0gd29yZENoYXJDb2Rlc1xuICAgICAgICAgICAgICAgICAgICBjb21wbGVtZW50ID0gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBBU1NFUlRfRVhJU1RTKHNldClcblxuICAgICAgICAgICAgcmV0dXJuIHsgdHlwZTogXCJTZXRcIiwgdmFsdWU6IHNldCwgY29tcGxlbWVudDogY29tcGxlbWVudCB9XG4gICAgICAgIH1cblxuICAgICAgICBSZWdFeHBQYXJzZXIucHJvdG90eXBlLmNvbnRyb2xFc2NhcGVBdG9tID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgZXNjYXBlQ29kZVxuICAgICAgICAgICAgc3dpdGNoICh0aGlzLnBvcENoYXIoKSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJmXCI6XG4gICAgICAgICAgICAgICAgICAgIGVzY2FwZUNvZGUgPSBjYyhcIlxcZlwiKVxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgXCJuXCI6XG4gICAgICAgICAgICAgICAgICAgIGVzY2FwZUNvZGUgPSBjYyhcIlxcblwiKVxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgXCJyXCI6XG4gICAgICAgICAgICAgICAgICAgIGVzY2FwZUNvZGUgPSBjYyhcIlxcclwiKVxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgXCJ0XCI6XG4gICAgICAgICAgICAgICAgICAgIGVzY2FwZUNvZGUgPSBjYyhcIlxcdFwiKVxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgXCJ2XCI6XG4gICAgICAgICAgICAgICAgICAgIGVzY2FwZUNvZGUgPSBjYyhcIlxcdlwiKVxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgQVNTRVJUX0VYSVNUUyhlc2NhcGVDb2RlKVxuXG4gICAgICAgICAgICByZXR1cm4geyB0eXBlOiBcIkNoYXJhY3RlclwiLCB2YWx1ZTogZXNjYXBlQ29kZSB9XG4gICAgICAgIH1cblxuICAgICAgICBSZWdFeHBQYXJzZXIucHJvdG90eXBlLmNvbnRyb2xMZXR0ZXJFc2NhcGVBdG9tID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnN1bWVDaGFyKFwiY1wiKVxuICAgICAgICAgICAgdmFyIGxldHRlciA9IHRoaXMucG9wQ2hhcigpXG4gICAgICAgICAgICBpZiAoL1thLXpBLVpdLy50ZXN0KGxldHRlcikgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJJbnZhbGlkIFwiKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgbGV0dGVyQ29kZSA9IGxldHRlci50b1VwcGVyQ2FzZSgpLmNoYXJDb2RlQXQoMCkgLSA2NFxuICAgICAgICAgICAgcmV0dXJuIHsgdHlwZTogXCJDaGFyYWN0ZXJcIiwgdmFsdWU6IGxldHRlckNvZGUgfVxuICAgICAgICB9XG5cbiAgICAgICAgUmVnRXhwUGFyc2VyLnByb3RvdHlwZS5udWxDaGFyYWN0ZXJBdG9tID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAvLyBUT0RPIGltcGxlbWVudCAnW2xvb2thaGVhZCDiiIkgRGVjaW1hbERpZ2l0XSdcbiAgICAgICAgICAgIC8vIFRPRE86IGZvciB0aGUgZGVwcmVjYXRlZCBvY3RhbCBlc2NhcGUgc2VxdWVuY2VcbiAgICAgICAgICAgIHRoaXMuY29uc3VtZUNoYXIoXCIwXCIpXG4gICAgICAgICAgICByZXR1cm4geyB0eXBlOiBcIkNoYXJhY3RlclwiLCB2YWx1ZTogY2MoXCJcXDBcIikgfVxuICAgICAgICB9XG5cbiAgICAgICAgUmVnRXhwUGFyc2VyLnByb3RvdHlwZS5oZXhFc2NhcGVTZXF1ZW5jZUF0b20gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMuY29uc3VtZUNoYXIoXCJ4XCIpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJzZUhleERpZ2l0cygyKVxuICAgICAgICB9XG5cbiAgICAgICAgUmVnRXhwUGFyc2VyLnByb3RvdHlwZS5yZWdFeHBVbmljb2RlRXNjYXBlU2VxdWVuY2VBdG9tID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnN1bWVDaGFyKFwidVwiKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VIZXhEaWdpdHMoNClcbiAgICAgICAgfVxuXG4gICAgICAgIFJlZ0V4cFBhcnNlci5wcm90b3R5cGUuaWRlbnRpdHlFc2NhcGVBdG9tID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBpbXBsZW1lbnQgXCJTb3VyY2VDaGFyYWN0ZXIgYnV0IG5vdCBVbmljb2RlSURDb250aW51ZVwiXG4gICAgICAgICAgICAvLyAvLyBodHRwOi8vdW5pY29kZS5vcmcvcmVwb3J0cy90cjMxLyNTcGVjaWZpY19DaGFyYWN0ZXJfQWRqdXN0bWVudHNcbiAgICAgICAgICAgIHZhciBlc2NhcGVkQ2hhciA9IHRoaXMucG9wQ2hhcigpXG4gICAgICAgICAgICByZXR1cm4geyB0eXBlOiBcIkNoYXJhY3RlclwiLCB2YWx1ZTogY2MoZXNjYXBlZENoYXIpIH1cbiAgICAgICAgfVxuXG4gICAgICAgIFJlZ0V4cFBhcnNlci5wcm90b3R5cGUuY2xhc3NQYXR0ZXJuQ2hhcmFjdGVyQXRvbSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc3dpdGNoICh0aGlzLnBlZWtDaGFyKCkpIHtcbiAgICAgICAgICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICAgICAgICAgIGNhc2UgXCJcXG5cIjpcbiAgICAgICAgICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICAgICAgICAgIGNhc2UgXCJcXHJcIjpcbiAgICAgICAgICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICAgICAgICAgIGNhc2UgXCJcXHUyMDI4XCI6XG4gICAgICAgICAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgICAgICAgICBjYXNlIFwiXFx1MjAyOVwiOlxuICAgICAgICAgICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgICAgICAgICAgY2FzZSBcIlxcXFxcIjpcbiAgICAgICAgICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICAgICAgICAgIGNhc2UgXCJdXCI6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwiVEJEXCIpXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5leHRDaGFyID0gdGhpcy5wb3BDaGFyKClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdHlwZTogXCJDaGFyYWN0ZXJcIiwgdmFsdWU6IGNjKG5leHRDaGFyKSB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBSZWdFeHBQYXJzZXIucHJvdG90eXBlLmNoYXJhY3RlckNsYXNzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgc2V0ID0gW11cbiAgICAgICAgICAgIHZhciBjb21wbGVtZW50ID0gZmFsc2VcbiAgICAgICAgICAgIHRoaXMuY29uc3VtZUNoYXIoXCJbXCIpXG4gICAgICAgICAgICBpZiAodGhpcy5wZWVrQ2hhcigwKSA9PT0gXCJeXCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnN1bWVDaGFyKFwiXlwiKVxuICAgICAgICAgICAgICAgIGNvbXBsZW1lbnQgPSB0cnVlXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHdoaWxlICh0aGlzLmlzQ2xhc3NBdG9tKCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgZnJvbSA9IHRoaXMuY2xhc3NBdG9tKClcbiAgICAgICAgICAgICAgICB2YXIgaXNGcm9tU2luZ2xlQ2hhciA9IGZyb20udHlwZSA9PT0gXCJDaGFyYWN0ZXJcIlxuICAgICAgICAgICAgICAgIGlmIChpc0Zyb21TaW5nbGVDaGFyICYmIHRoaXMuaXNSYW5nZURhc2goKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnN1bWVDaGFyKFwiLVwiKVxuICAgICAgICAgICAgICAgICAgICB2YXIgdG8gPSB0aGlzLmNsYXNzQXRvbSgpXG4gICAgICAgICAgICAgICAgICAgIHZhciBpc1RvU2luZ2xlQ2hhciA9IHRvLnR5cGUgPT09IFwiQ2hhcmFjdGVyXCJcblxuICAgICAgICAgICAgICAgICAgICAvLyBhIHJhbmdlIGNhbiBvbmx5IGJlIHVzZWQgd2hlbiBib3RoIHNpZGVzIGFyZSBzaW5nbGUgY2hhcmFjdGVyc1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNUb1NpbmdsZUNoYXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0by52YWx1ZSA8IGZyb20udmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIlJhbmdlIG91dCBvZiBvcmRlciBpbiBjaGFyYWN0ZXIgY2xhc3NcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHNldC5wdXNoKHsgZnJvbTogZnJvbS52YWx1ZSwgdG86IHRvLnZhbHVlIH0pXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBsaXRlcmFsIGRhc2hcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc2VydFRvU2V0KGZyb20udmFsdWUsIHNldClcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldC5wdXNoKGNjKFwiLVwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc2VydFRvU2V0KHRvLnZhbHVlLCBzZXQpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpbnNlcnRUb1NldChmcm9tLnZhbHVlLCBzZXQpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmNvbnN1bWVDaGFyKFwiXVwiKVxuXG4gICAgICAgICAgICByZXR1cm4geyB0eXBlOiBcIlNldFwiLCBjb21wbGVtZW50OiBjb21wbGVtZW50LCB2YWx1ZTogc2V0IH1cbiAgICAgICAgfVxuXG4gICAgICAgIFJlZ0V4cFBhcnNlci5wcm90b3R5cGUuY2xhc3NBdG9tID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMucGVla0NoYXIoKSkge1xuICAgICAgICAgICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgICAgICAgICAgY2FzZSBcIl1cIjpcbiAgICAgICAgICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICAgICAgICAgIGNhc2UgXCJcXG5cIjpcbiAgICAgICAgICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICAgICAgICAgIGNhc2UgXCJcXHJcIjpcbiAgICAgICAgICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICAgICAgICAgIGNhc2UgXCJcXHUyMDI4XCI6XG4gICAgICAgICAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgICAgICAgICBjYXNlIFwiXFx1MjAyOVwiOlxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIlRCRFwiKVxuICAgICAgICAgICAgICAgIGNhc2UgXCJcXFxcXCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNsYXNzRXNjYXBlKClcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jbGFzc1BhdHRlcm5DaGFyYWN0ZXJBdG9tKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIFJlZ0V4cFBhcnNlci5wcm90b3R5cGUuY2xhc3NFc2NhcGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMuY29uc3VtZUNoYXIoXCJcXFxcXCIpXG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMucGVla0NoYXIoKSkge1xuICAgICAgICAgICAgICAgIC8vIE1hdGNoZXMgYSBiYWNrc3BhY2UuXG4gICAgICAgICAgICAgICAgLy8gKE5vdCB0byBiZSBjb25mdXNlZCB3aXRoIFxcYiB3b3JkIGJvdW5kYXJ5IG91dHNpZGUgY2hhcmFjdGVyQ2xhc3MpXG4gICAgICAgICAgICAgICAgY2FzZSBcImJcIjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25zdW1lQ2hhcihcImJcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdHlwZTogXCJDaGFyYWN0ZXJcIiwgdmFsdWU6IGNjKFwiXFx1MDAwOFwiKSB9XG4gICAgICAgICAgICAgICAgY2FzZSBcImRcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiRFwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJzXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIlNcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwid1wiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJXXCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNoYXJhY3RlckNsYXNzRXNjYXBlKClcbiAgICAgICAgICAgICAgICBjYXNlIFwiZlwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJuXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcInJcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwidFwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJ2XCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnRyb2xFc2NhcGVBdG9tKClcbiAgICAgICAgICAgICAgICBjYXNlIFwiY1wiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb250cm9sTGV0dGVyRXNjYXBlQXRvbSgpXG4gICAgICAgICAgICAgICAgY2FzZSBcIjBcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubnVsQ2hhcmFjdGVyQXRvbSgpXG4gICAgICAgICAgICAgICAgY2FzZSBcInhcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaGV4RXNjYXBlU2VxdWVuY2VBdG9tKClcbiAgICAgICAgICAgICAgICBjYXNlIFwidVwiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZWdFeHBVbmljb2RlRXNjYXBlU2VxdWVuY2VBdG9tKClcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5pZGVudGl0eUVzY2FwZUF0b20oKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgUmVnRXhwUGFyc2VyLnByb3RvdHlwZS5ncm91cCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGNhcHR1cmluZyA9IHRydWVcbiAgICAgICAgICAgIHRoaXMuY29uc3VtZUNoYXIoXCIoXCIpXG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMucGVla0NoYXIoMCkpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiP1wiOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnN1bWVDaGFyKFwiP1wiKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnN1bWVDaGFyKFwiOlwiKVxuICAgICAgICAgICAgICAgICAgICBjYXB0dXJpbmcgPSBmYWxzZVxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ3JvdXBJZHgrK1xuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHZhbHVlID0gdGhpcy5kaXNqdW5jdGlvbigpXG4gICAgICAgICAgICB0aGlzLmNvbnN1bWVDaGFyKFwiKVwiKVxuXG4gICAgICAgICAgICB2YXIgZ3JvdXBBc3QgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJHcm91cFwiLFxuICAgICAgICAgICAgICAgIGNhcHR1cmluZzogY2FwdHVyaW5nLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY2FwdHVyaW5nKSB7XG4gICAgICAgICAgICAgICAgZ3JvdXBBc3QuaWR4ID0gdGhpcy5ncm91cElkeFxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZ3JvdXBBc3RcbiAgICAgICAgfVxuXG4gICAgICAgIFJlZ0V4cFBhcnNlci5wcm90b3R5cGUucG9zaXRpdmVJbnRlZ2VyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgbnVtYmVyID0gdGhpcy5wb3BDaGFyKClcblxuICAgICAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHQgLSBjYW4ndCBldmVyIGdldCBoZXJlIGR1ZSB0byBwcmV2aW91cyBsb29rYWhlYWQgY2hlY2tzXG4gICAgICAgICAgICAvLyBzdGlsbCBpbXBsZW1lbnRpbmcgdGhpcyBlcnJvciBjaGVja2luZyBpbiBjYXNlIHRoaXMgZXZlciBjaGFuZ2VzLlxuICAgICAgICAgICAgaWYgKGRlY2ltYWxQYXR0ZXJuTm9aZXJvLnRlc3QobnVtYmVyKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIkV4cGVjdGluZyBhIHBvc2l0aXZlIGludGVnZXJcIilcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgd2hpbGUgKGRlY2ltYWxQYXR0ZXJuLnRlc3QodGhpcy5wZWVrQ2hhcigwKSkpIHtcbiAgICAgICAgICAgICAgICBudW1iZXIgKz0gdGhpcy5wb3BDaGFyKClcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KG51bWJlciwgMTApXG4gICAgICAgIH1cblxuICAgICAgICBSZWdFeHBQYXJzZXIucHJvdG90eXBlLmludGVnZXJJbmNsdWRpbmdaZXJvID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgbnVtYmVyID0gdGhpcy5wb3BDaGFyKClcbiAgICAgICAgICAgIGlmIChkZWNpbWFsUGF0dGVybi50ZXN0KG51bWJlcikgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJFeHBlY3RpbmcgYW4gaW50ZWdlclwiKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB3aGlsZSAoZGVjaW1hbFBhdHRlcm4udGVzdCh0aGlzLnBlZWtDaGFyKDApKSkge1xuICAgICAgICAgICAgICAgIG51bWJlciArPSB0aGlzLnBvcENoYXIoKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQobnVtYmVyLCAxMClcbiAgICAgICAgfVxuXG4gICAgICAgIFJlZ0V4cFBhcnNlci5wcm90b3R5cGUucGF0dGVybkNoYXJhY3RlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIG5leHRDaGFyID0gdGhpcy5wb3BDaGFyKClcbiAgICAgICAgICAgIHN3aXRjaCAobmV4dENoYXIpIHtcbiAgICAgICAgICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICAgICAgICAgIGNhc2UgXCJcXG5cIjpcbiAgICAgICAgICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICAgICAgICAgIGNhc2UgXCJcXHJcIjpcbiAgICAgICAgICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICAgICAgICAgIGNhc2UgXCJcXHUyMDI4XCI6XG4gICAgICAgICAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgICAgICAgICBjYXNlIFwiXFx1MjAyOVwiOlxuICAgICAgICAgICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgICAgICAgICAgY2FzZSBcIl5cIjpcbiAgICAgICAgICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICAgICAgICAgIGNhc2UgXCIkXCI6XG4gICAgICAgICAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgICAgICAgICBjYXNlIFwiXFxcXFwiOlxuICAgICAgICAgICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgICAgICAgICAgY2FzZSBcIi5cIjpcbiAgICAgICAgICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICAgICAgICAgIGNhc2UgXCIqXCI6XG4gICAgICAgICAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgICAgICAgICBjYXNlIFwiK1wiOlxuICAgICAgICAgICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgICAgICAgICAgY2FzZSBcIj9cIjpcbiAgICAgICAgICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICAgICAgICAgIGNhc2UgXCIoXCI6XG4gICAgICAgICAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgICAgICAgICBjYXNlIFwiKVwiOlxuICAgICAgICAgICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgICAgICAgICAgY2FzZSBcIltcIjpcbiAgICAgICAgICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICAgICAgICAgIGNhc2UgXCJ8XCI6XG4gICAgICAgICAgICAgICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwiVEJEXCIpXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdHlwZTogXCJDaGFyYWN0ZXJcIiwgdmFsdWU6IGNjKG5leHRDaGFyKSB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgUmVnRXhwUGFyc2VyLnByb3RvdHlwZS5pc1JlZ0V4cEZsYWcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5wZWVrQ2hhcigwKSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJnXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcImlcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwibVwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJ1XCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcInlcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIFJlZ0V4cFBhcnNlci5wcm90b3R5cGUuaXNSYW5nZURhc2ggPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBlZWtDaGFyKCkgPT09IFwiLVwiICYmIHRoaXMuaXNDbGFzc0F0b20oMSlcbiAgICAgICAgfVxuXG4gICAgICAgIFJlZ0V4cFBhcnNlci5wcm90b3R5cGUuaXNEaWdpdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIGRlY2ltYWxQYXR0ZXJuLnRlc3QodGhpcy5wZWVrQ2hhcigwKSlcbiAgICAgICAgfVxuXG4gICAgICAgIFJlZ0V4cFBhcnNlci5wcm90b3R5cGUuaXNDbGFzc0F0b20gPSBmdW5jdGlvbihob3dNdWNoKSB7XG4gICAgICAgICAgICBpZiAoaG93TXVjaCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgaG93TXVjaCA9IDBcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc3dpdGNoICh0aGlzLnBlZWtDaGFyKGhvd011Y2gpKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcIl1cIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiXFxuXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIlxcclwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJcXHUyMDI4XCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIlxcdTIwMjlcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIFJlZ0V4cFBhcnNlci5wcm90b3R5cGUuaXNUZXJtID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pc0F0b20oKSB8fCB0aGlzLmlzQXNzZXJ0aW9uKClcbiAgICAgICAgfVxuXG4gICAgICAgIFJlZ0V4cFBhcnNlci5wcm90b3R5cGUuaXNBdG9tID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc1BhdHRlcm5DaGFyYWN0ZXIoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5wZWVrQ2hhcigwKSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCIuXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIlxcXFxcIjogLy8gYXRvbUVzY2FwZVxuICAgICAgICAgICAgICAgIGNhc2UgXCJbXCI6IC8vIGNoYXJhY3RlckNsYXNzXG4gICAgICAgICAgICAgICAgLy8gVE9ETzogaXNBdG9tIG11c3QgYmUgY2FsbGVkIGJlZm9yZSBpc0Fzc2VydGlvbiAtIGRpc2FtYmlndWF0ZVxuICAgICAgICAgICAgICAgIGNhc2UgXCIoXCI6IC8vIGdyb3VwXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBSZWdFeHBQYXJzZXIucHJvdG90eXBlLmlzQXNzZXJ0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMucGVla0NoYXIoMCkpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiXlwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCIkXCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgICAgICAgICAgLy8gJ1xcYicgb3IgJ1xcQidcbiAgICAgICAgICAgICAgICBjYXNlIFwiXFxcXFwiOlxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRoaXMucGVla0NoYXIoMSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJiXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiQlwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gJyg/PScgb3IgJyg/ISdcbiAgICAgICAgICAgICAgICBjYXNlIFwiKFwiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wZWVrQ2hhcigxKSA9PT0gXCI/XCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICh0aGlzLnBlZWtDaGFyKDIpID09PSBcIj1cIiB8fCB0aGlzLnBlZWtDaGFyKDIpID09PSBcIiFcIilcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgUmVnRXhwUGFyc2VyLnByb3RvdHlwZS5pc1F1YW50aWZpZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBwcmV2U3RhdGUgPSB0aGlzLnNhdmVTdGF0ZSgpXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnF1YW50aWZpZXIodHJ1ZSkgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc3RvcmVTdGF0ZShwcmV2U3RhdGUpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBSZWdFeHBQYXJzZXIucHJvdG90eXBlLmlzUGF0dGVybkNoYXJhY3RlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc3dpdGNoICh0aGlzLnBlZWtDaGFyKCkpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiXlwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCIkXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIlxcXFxcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiLlwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCIqXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIitcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiP1wiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCIoXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIilcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiW1wiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJ8XCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIi9cIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiXFxuXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIlxcclwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJcXHUyMDI4XCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIlxcdTIwMjlcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIFJlZ0V4cFBhcnNlci5wcm90b3R5cGUucGFyc2VIZXhEaWdpdHMgPSBmdW5jdGlvbihob3dNYW55KSB7XG4gICAgICAgICAgICB2YXIgaGV4U3RyaW5nID0gXCJcIlxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBob3dNYW55OyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgaGV4Q2hhciA9IHRoaXMucG9wQ2hhcigpXG4gICAgICAgICAgICAgICAgaWYgKGhleERpZ2l0UGF0dGVybi50ZXN0KGhleENoYXIpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIkV4cGVjdGluZyBhIEhleERlY2ltYWwgZGlnaXRzXCIpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGhleFN0cmluZyArPSBoZXhDaGFyXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgY2hhckNvZGUgPSBwYXJzZUludChoZXhTdHJpbmcsIDE2KVxuICAgICAgICAgICAgcmV0dXJuIHsgdHlwZTogXCJDaGFyYWN0ZXJcIiwgdmFsdWU6IGNoYXJDb2RlIH1cbiAgICAgICAgfVxuXG4gICAgICAgIFJlZ0V4cFBhcnNlci5wcm90b3R5cGUucGVla0NoYXIgPSBmdW5jdGlvbihob3dNdWNoKSB7XG4gICAgICAgICAgICBpZiAoaG93TXVjaCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgaG93TXVjaCA9IDBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmlucHV0W3RoaXMuaWR4ICsgaG93TXVjaF1cbiAgICAgICAgfVxuXG4gICAgICAgIFJlZ0V4cFBhcnNlci5wcm90b3R5cGUucG9wQ2hhciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIG5leHRDaGFyID0gdGhpcy5wZWVrQ2hhcigwKVxuICAgICAgICAgICAgdGhpcy5jb25zdW1lQ2hhcigpXG4gICAgICAgICAgICByZXR1cm4gbmV4dENoYXJcbiAgICAgICAgfVxuXG4gICAgICAgIFJlZ0V4cFBhcnNlci5wcm90b3R5cGUuY29uc3VtZUNoYXIgPSBmdW5jdGlvbihjaGFyKSB7XG4gICAgICAgICAgICBpZiAoY2hhciAhPT0gdW5kZWZpbmVkICYmIHRoaXMuaW5wdXRbdGhpcy5pZHhdICE9PSBjaGFyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgIFwiRXhwZWN0ZWQ6ICdcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFyICtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiJyBidXQgZm91bmQ6ICdcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlucHV0W3RoaXMuaWR4XSArXG4gICAgICAgICAgICAgICAgICAgICAgICBcIicgYXQgb2Zmc2V0OiBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlkeFxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMuaWR4ID49IHRoaXMuaW5wdXQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJVbmV4cGVjdGVkIGVuZCBvZiBpbnB1dFwiKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5pZHgrK1xuICAgICAgICB9XG5cbiAgICAgICAgUmVnRXhwUGFyc2VyLnByb3RvdHlwZS5sb2MgPSBmdW5jdGlvbihiZWdpbikge1xuICAgICAgICAgICAgcmV0dXJuIHsgYmVnaW46IGJlZ2luLCBlbmQ6IHRoaXMuaWR4IH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNvbnN0cyBhbmQgdXRpbGl0aWVzXG4gICAgICAgIHZhciBoZXhEaWdpdFBhdHRlcm4gPSAvWzAtOWEtZkEtRl0vXG4gICAgICAgIHZhciBkZWNpbWFsUGF0dGVybiA9IC9bMC05XS9cbiAgICAgICAgdmFyIGRlY2ltYWxQYXR0ZXJuTm9aZXJvID0gL1sxLTldL1xuXG4gICAgICAgIGZ1bmN0aW9uIGNjKGNoYXIpIHtcbiAgICAgICAgICAgIHJldHVybiBjaGFyLmNoYXJDb2RlQXQoMClcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGluc2VydFRvU2V0KGl0ZW0sIHNldCkge1xuICAgICAgICAgICAgaWYgKGl0ZW0ubGVuZ3RoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBpdGVtLmZvckVhY2goZnVuY3Rpb24oc3ViSXRlbSkge1xuICAgICAgICAgICAgICAgICAgICBzZXQucHVzaChzdWJJdGVtKVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNldC5wdXNoKGl0ZW0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBhZGRGbGFnKGZsYWdPYmosIGZsYWdLZXkpIHtcbiAgICAgICAgICAgIGlmIChmbGFnT2JqW2ZsYWdLZXldID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgXCJkdXBsaWNhdGUgZmxhZyBcIiArIGZsYWdLZXlcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZmxhZ09ialtmbGFnS2V5XSA9IHRydWVcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIEFTU0VSVF9FWElTVFMob2JqKSB7XG4gICAgICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICAgICAgaWYgKG9iaiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJJbnRlcm5hbCBFcnJvciAtIFNob3VsZCBuZXZlciBnZXQgaGVyZSFcIilcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgIGZ1bmN0aW9uIEFTU0VSVF9ORVZFUl9SRUFDSF9IRVJFKCkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJJbnRlcm5hbCBFcnJvciAtIFNob3VsZCBuZXZlciBnZXQgaGVyZSFcIilcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpXG4gICAgICAgIHZhciBkaWdpdHNDaGFyQ29kZXMgPSBbXVxuICAgICAgICBmb3IgKGkgPSBjYyhcIjBcIik7IGkgPD0gY2MoXCI5XCIpOyBpKyspIHtcbiAgICAgICAgICAgIGRpZ2l0c0NoYXJDb2Rlcy5wdXNoKGkpXG4gICAgICAgIH1cblxuICAgICAgICB2YXIgd29yZENoYXJDb2RlcyA9IFtjYyhcIl9cIildLmNvbmNhdChkaWdpdHNDaGFyQ29kZXMpXG4gICAgICAgIGZvciAoaSA9IGNjKFwiYVwiKTsgaSA8PSBjYyhcInpcIik7IGkrKykge1xuICAgICAgICAgICAgd29yZENoYXJDb2Rlcy5wdXNoKGkpXG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGkgPSBjYyhcIkFcIik7IGkgPD0gY2MoXCJaXCIpOyBpKyspIHtcbiAgICAgICAgICAgIHdvcmRDaGFyQ29kZXMucHVzaChpKVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvUmVnRXhwI2NoYXJhY3Rlci1jbGFzc2VzXG4gICAgICAgIHZhciB3aGl0ZXNwYWNlQ29kZXMgPSBbXG4gICAgICAgICAgICBjYyhcIiBcIiksXG4gICAgICAgICAgICBjYyhcIlxcZlwiKSxcbiAgICAgICAgICAgIGNjKFwiXFxuXCIpLFxuICAgICAgICAgICAgY2MoXCJcXHJcIiksXG4gICAgICAgICAgICBjYyhcIlxcdFwiKSxcbiAgICAgICAgICAgIGNjKFwiXFx2XCIpLFxuICAgICAgICAgICAgY2MoXCJcXHRcIiksXG4gICAgICAgICAgICBjYyhcIlxcdTAwYTBcIiksXG4gICAgICAgICAgICBjYyhcIlxcdTE2ODBcIiksXG4gICAgICAgICAgICBjYyhcIlxcdTIwMDBcIiksXG4gICAgICAgICAgICBjYyhcIlxcdTIwMDFcIiksXG4gICAgICAgICAgICBjYyhcIlxcdTIwMDJcIiksXG4gICAgICAgICAgICBjYyhcIlxcdTIwMDNcIiksXG4gICAgICAgICAgICBjYyhcIlxcdTIwMDRcIiksXG4gICAgICAgICAgICBjYyhcIlxcdTIwMDVcIiksXG4gICAgICAgICAgICBjYyhcIlxcdTIwMDZcIiksXG4gICAgICAgICAgICBjYyhcIlxcdTIwMDdcIiksXG4gICAgICAgICAgICBjYyhcIlxcdTIwMDhcIiksXG4gICAgICAgICAgICBjYyhcIlxcdTIwMDlcIiksXG4gICAgICAgICAgICBjYyhcIlxcdTIwMGFcIiksXG4gICAgICAgICAgICBjYyhcIlxcdTIwMjhcIiksXG4gICAgICAgICAgICBjYyhcIlxcdTIwMjlcIiksXG4gICAgICAgICAgICBjYyhcIlxcdTIwMmZcIiksXG4gICAgICAgICAgICBjYyhcIlxcdTIwNWZcIiksXG4gICAgICAgICAgICBjYyhcIlxcdTMwMDBcIiksXG4gICAgICAgICAgICBjYyhcIlxcdWZlZmZcIilcbiAgICAgICAgXVxuXG4gICAgICAgIGZ1bmN0aW9uIEJhc2VSZWdFeHBWaXNpdG9yKCkge31cblxuICAgICAgICBCYXNlUmVnRXhwVmlzaXRvci5wcm90b3R5cGUudmlzaXRDaGlsZHJlbiA9IGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBub2RlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkID0gbm9kZVtrZXldXG4gICAgICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgICAgICAgICBpZiAobm9kZS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZC50eXBlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudmlzaXQoY2hpbGQpXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShjaGlsZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkLmZvckVhY2goZnVuY3Rpb24oc3ViQ2hpbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnZpc2l0KHN1YkNoaWxkKVxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgdGhpcylcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIEJhc2VSZWdFeHBWaXNpdG9yLnByb3RvdHlwZS52aXNpdCA9IGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgICAgICAgIHN3aXRjaCAobm9kZS50eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcIlBhdHRlcm5cIjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aXNpdFBhdHRlcm4obm9kZSlcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlIFwiRmxhZ3NcIjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aXNpdEZsYWdzKG5vZGUpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSBcIkRpc2p1bmN0aW9uXCI6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlzaXREaXNqdW5jdGlvbihub2RlKVxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgXCJBbHRlcm5hdGl2ZVwiOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpc2l0QWx0ZXJuYXRpdmUobm9kZSlcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlIFwiU3RhcnRBbmNob3JcIjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aXNpdFN0YXJ0QW5jaG9yKG5vZGUpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSBcIkVuZEFuY2hvclwiOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpc2l0RW5kQW5jaG9yKG5vZGUpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSBcIldvcmRCb3VuZGFyeVwiOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpc2l0V29yZEJvdW5kYXJ5KG5vZGUpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSBcIk5vbldvcmRCb3VuZGFyeVwiOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpc2l0Tm9uV29yZEJvdW5kYXJ5KG5vZGUpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSBcIkxvb2thaGVhZFwiOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpc2l0TG9va2FoZWFkKG5vZGUpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSBcIk5lZ2F0aXZlTG9va2FoZWFkXCI6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlzaXROZWdhdGl2ZUxvb2thaGVhZChub2RlKVxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgXCJDaGFyYWN0ZXJcIjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aXNpdENoYXJhY3Rlcihub2RlKVxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgXCJTZXRcIjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aXNpdFNldChub2RlKVxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgXCJHcm91cFwiOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpc2l0R3JvdXAobm9kZSlcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlIFwiR3JvdXBCYWNrUmVmZXJlbmNlXCI6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlzaXRHcm91cEJhY2tSZWZlcmVuY2Uobm9kZSlcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlIFwiUXVhbnRpZmllclwiOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpc2l0UXVhbnRpZmllcihub2RlKVxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnZpc2l0Q2hpbGRyZW4obm9kZSlcbiAgICAgICAgfVxuXG4gICAgICAgIEJhc2VSZWdFeHBWaXNpdG9yLnByb3RvdHlwZS52aXNpdFBhdHRlcm4gPSBmdW5jdGlvbihub2RlKSB7fVxuXG4gICAgICAgIEJhc2VSZWdFeHBWaXNpdG9yLnByb3RvdHlwZS52aXNpdEZsYWdzID0gZnVuY3Rpb24obm9kZSkge31cblxuICAgICAgICBCYXNlUmVnRXhwVmlzaXRvci5wcm90b3R5cGUudmlzaXREaXNqdW5jdGlvbiA9IGZ1bmN0aW9uKG5vZGUpIHt9XG5cbiAgICAgICAgQmFzZVJlZ0V4cFZpc2l0b3IucHJvdG90eXBlLnZpc2l0QWx0ZXJuYXRpdmUgPSBmdW5jdGlvbihub2RlKSB7fVxuXG4gICAgICAgIC8vIEFzc2VydGlvblxuICAgICAgICBCYXNlUmVnRXhwVmlzaXRvci5wcm90b3R5cGUudmlzaXRTdGFydEFuY2hvciA9IGZ1bmN0aW9uKG5vZGUpIHt9XG5cbiAgICAgICAgQmFzZVJlZ0V4cFZpc2l0b3IucHJvdG90eXBlLnZpc2l0RW5kQW5jaG9yID0gZnVuY3Rpb24obm9kZSkge31cblxuICAgICAgICBCYXNlUmVnRXhwVmlzaXRvci5wcm90b3R5cGUudmlzaXRXb3JkQm91bmRhcnkgPSBmdW5jdGlvbihub2RlKSB7fVxuXG4gICAgICAgIEJhc2VSZWdFeHBWaXNpdG9yLnByb3RvdHlwZS52aXNpdE5vbldvcmRCb3VuZGFyeSA9IGZ1bmN0aW9uKG5vZGUpIHt9XG5cbiAgICAgICAgQmFzZVJlZ0V4cFZpc2l0b3IucHJvdG90eXBlLnZpc2l0TG9va2FoZWFkID0gZnVuY3Rpb24obm9kZSkge31cblxuICAgICAgICBCYXNlUmVnRXhwVmlzaXRvci5wcm90b3R5cGUudmlzaXROZWdhdGl2ZUxvb2thaGVhZCA9IGZ1bmN0aW9uKG5vZGUpIHt9XG5cbiAgICAgICAgLy8gYXRvbXNcbiAgICAgICAgQmFzZVJlZ0V4cFZpc2l0b3IucHJvdG90eXBlLnZpc2l0Q2hhcmFjdGVyID0gZnVuY3Rpb24obm9kZSkge31cblxuICAgICAgICBCYXNlUmVnRXhwVmlzaXRvci5wcm90b3R5cGUudmlzaXRTZXQgPSBmdW5jdGlvbihub2RlKSB7fVxuXG4gICAgICAgIEJhc2VSZWdFeHBWaXNpdG9yLnByb3RvdHlwZS52aXNpdEdyb3VwID0gZnVuY3Rpb24obm9kZSkge31cblxuICAgICAgICBCYXNlUmVnRXhwVmlzaXRvci5wcm90b3R5cGUudmlzaXRHcm91cEJhY2tSZWZlcmVuY2UgPSBmdW5jdGlvbihub2RlKSB7fVxuXG4gICAgICAgIEJhc2VSZWdFeHBWaXNpdG9yLnByb3RvdHlwZS52aXNpdFF1YW50aWZpZXIgPSBmdW5jdGlvbihub2RlKSB7fVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBSZWdFeHBQYXJzZXI6IFJlZ0V4cFBhcnNlcixcbiAgICAgICAgICAgIEJhc2VSZWdFeHBWaXNpdG9yOiBCYXNlUmVnRXhwVmlzaXRvcixcbiAgICAgICAgICAgIFZFUlNJT046IFwiMC41LjBcIlxuICAgICAgICB9XG4gICAgfVxuKVxuIiwiZXhwb3J0IGRlZmF1bHQgXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUJvQUFGM0tDQU1BQUFET3FDaWtBQUFBQkdkQlRVRUFBSy9JTndXSzZRQUFBQmwwUlZoMFUyOW1kSGRoY21VQVFXUnZZbVVnU1cxaFoyVlNaV0ZrZVhISlpUd0FBQUFKVUV4VVJZS0NndDdlM3ZEdzhBSG9xc2tBQUVBcFNVUkJWSGphN0ozYmN1dzRya1F4K1ArUG5vZTJYYm9nSVJFVU55bDduWWlaMHhFYXV5dTBuQ1NRQlNiTjFmLzl6M2owa2tjbUg1bDhaTWxQL2ROSGY0NlhTU2oyOVIveEM2M3lCNkEvaHZ5RVp2OTlSSGdONG1XWkhLejkzMldHdms3dlY4akJ0QnphMzd4OVNhVlpzSTYrZGkreHRFWTlxa3IwTlhROXJQRXllSFUveW5melVzMm1pNHBTdlpFOVFsOGo1WUMrRnVSMThlYmgxZkhJNU5zd1UrL1EzUFRySGZFSVhvZXRJWHdiWnFxVCtnSm1qYi93K1VmbzY3YStQSkdEK2dQUTlZYnBvc0x3TjRiek1zMkw5YkNiVit4dm1DbC93NzdmYldHVEV2N0dwV0R4TjNaL3ZZcFh1RWJaOTV2M2RxV2dyMW4xWVlrWDlXRS9MMHYwRlZZTzFsRlVsT29OL0kyaC9aYy9MVDMwTmF0ZlZ2NEd2RzQ5TWxOdnc3WjFZTlREdHZNeTEzOEE2dEhYV2cydm5TL25pcGY4cGxqN0czcHIyNVNIRWEvNFkzeVhOZkRxMUZlN3Y3RjVFdktLaW9yL2VPRnZET1psaWI1WUR4OVlEMDJ1aDVLWGxmYXYwTjh3VnloLzFrUDhqWjIrRkMvVitGaWhYMFpmVSt2REVpL3F3MzVlbHVpci9Uc3BiV0xVNnczOGphSDlsMnJBMGRmcit1WFkzNERYTkY2V09FdnFwN0ovbC82RStCdFArQnVXV1BkcTE4djJTa3QvSWZycTdaY3ZlUVgxUnRZNzZJb0lYcy94c2tSZnJJY3IrUnRYKzFma2IxanlCL0Q5Q2ZFM3h2Z2JGN3pRMTJMK0J2WGh1L3dOUzRZMHl2VUcvc2JRL2t2S0FYMjlyVjlPOWtwNDNYbWszUjdUNzdDaUZQc3VEVnNOTHNlUGl2ZWI2QkJLMkVtWjlEZVNYVytIaS9NcC8xeGZTV1dlOHRLbFNONDcwSDhONUdXSnZsZ1BIMWdQVGE2SGtwZVY5aStWdjVFTWFUQy9jZGFYNGlYT3A2aCsrWklYK3BwV0g1WjRVUi8yODdKRVgyb2M5K0tick1qRTZLZzM4RGVHOWw5eEE0NitYdGd2eS93TmVOMzBvOVRieUdkZ3ZOMEp4RDk4aWxkMlprU3NiTjdzYnlST0JmTWIvMEJmcmY2R08vTWJ5L0ppZm1Qd2VtaHlQWlM4ckxSL01iL3hpTDRVTHpYVDdzMzlNdnFhWEI4Kzl5MG52SnA0V2FJdjljMklOL3NiUGZVRy9zYlEvb3Y1alYvVEx6Ty8wY3ZMbStkdGFyd01mVDNGcS9GOFNzM2ZxRDNDMzNoS1g2MytodUZ2ck12TEVoR3hIajZ3SHJhY1Q2bjVHNGEvOGFDK1dzNm4xUHBsOURXNVBpenhvajdzNTlWNlBxWG1iL1RVRy9nYlEvc3ZmMDU2Nkd0dXY0eS8wZk1vVHlNcGhiN3FFSnRTdnMxUFBqNjgvQ3E5OCtLbUJtc01FUzNsaTJhUDBGZUx2dHl6MEx5bjhrVS9JVWIwWHdONVBaWXZ5bm9ZcjRjNjJWV0hzSlgycjhaODBlelJYOVpYQWtWSnJ6VTBEMzNOclE5THZLZ1ArM2xab2krdmhjdy9saSthUFVKZkQvVmZEK2FMb3ErNS9YSnJ2aWk4SHZDanJ1d2ovUG14dkZybk4xem5pMTcvUXVZMzV1akxQZnM2bVBtTlYvRmlmbVB3ZXRnMHYrRTZYL1J5LzJKKzR4RjlOYzF2dU02cnZQd3FFMzNOcWc5THZLZ1ArM2sxejI5Y2wzUE1iN3lwLzJKKzQ5ZjB5OHh2TE1YcjRzMmpyOFg4all1dERYOWpzWDc1QmkvOGpRVjVXYUl2MXNOMS9JM3IvUXQvWXlWLzQ1SVgrbHJLMzZBK2ZKZS9rZVZ2ZE5RYitCdEQreTgzV1crZ3IzZjF5L2diNVVjbTM4YkhVenErUTNQVHIzZkVJM2dGYitPNEUyMDl3UDJMMnZBNit4dW10N2J5SS95TnAvVGxXaWtwRkhQMXlPUW54TjhZek1zU0ViRWVQckFlbWx3UEpTOHJiVkluZnlOSGliOFIvL1VxWG9jMXl2WnYzcHQ1b2E5cDlXR0pGL1ZoUHk5TDlIV29IS3k3cUNqVkcvZ2JRL3N2ZjA1NjZHdHV2M3oyTitCMTk1RWRhckROaXpJWE4vUGFUNmNjMkVkMldQb2Vld1F2MzFWckh2SDZVRHZ5MmxDNytRdWZmNFMrR3ZYbGlSekVtNDlIU1hlSDlZVDA4RGZHOGpMTmkvV3dtOWRwZm1PekVwcmtaYVZONmp5L2NRTWwvc2J4cjFmeE9xNVJtM3JEcElpczZjMmpyMzlUSDVaNFVSLzI4N0pFWDZldnhyYjdWNldvS05VYitCdEQreTkvV25yb2ExYS9ITXh2d0d1d0grV0pmU1RlL0c1aEMwd25WNC95UkpjL3lxdHhmdU9IU2pCdUlmcmxZM2tZOFlvTi96UUJGWDNkMTVkcmZhVzh6Qld2NlB1VVBKRU1YZy94c2tSZnJJY1BySWN0OHh1ZlhhcXdmMFh6R3lwRWRMc2U0bStVNXplKy9zRk03VjhKTC9RMXJUNHM4YUkrN09mVk9yL2hyc2R4aFluUldXL2did3p0djl4a3ZZRyszdFV2aC9NYjhKckh5elF2NXFNVzlEZE05OHVjVDFtd1g3N2t4Zm1VQlhsWm9pL1d3NVg4amF2OWkvTXBhL2tiRjd6UTEyTCtCdlhodS93TjAvNEc1MU1XN2IrRXY0RyszdGN2Y3o2bGk5ZlgrdzE0L2ZjR1kxNVdPay8wWFJvMmJXMmZINGFYSC9hYmdGZnNiMWdwZjJPTDY3YjFvUjZocjFaOUpaVjV5a3VYSXVicUVmN0dZRjZXNkl2MThJSDEwT1I2S0hsWmFmOEs1emN5ZzB0SGovNWxmU2xlb2I5aHBUd0g5RFczUGl6eG9qN3M1MldKdmtKL3cwcjVHeDMxQnY3RzBQNHJ6dDlBWHkvc2wrUDVEWGpkOTZNVXIzQUdabk95c3RrSnhEOThpbGZvYjloV2F3R3ZWbjhqTVRHWTMvZ0grbXIxTjl5WjMxaVdGL01iZzlkRGsrdWg1R1dsL1l2NWpVZjBwWGlGK2FMYkgycmtoYjZtMVljbFh0U0gvYndzMFZlWUwycHlLRFR4TjNycURmeU5vZjBYOHh1L3BsOW1mcU9YbDdmbndaWjRrZDg3N2Y2VWtyL0IvU2x6OWRYcWIzQi95c0s4dUQ5bDhIcllkSDlLeWQvZy9wUnA5NmVVK21YME5iays1UDZVU2J5YTcwOHArUnZjbjdKcy84WDlLYittWDhiZjZPRmxpUjhWSnA5WVIwaFVLZC9tWnlvSVhqcTkwMlNTNFRZWjJ4cERSRXY1b3VvUittclZsM3NXbXZkVXZ1Z254SWorYXlDdngvSkZXUS9qOWREa2VpaDVXV24vYXN3WFZZLyt1cjRVTDVHL29mcmxTMTdvYTFwOVdPSkZmZGpQeXhKOWlmeU5TbWg1UjcyQnZ6RzAvM293WHhSOXplMlhXL05GNFRYMFBsOS9lclFEUCtxQitRM1grYUxYMWozekczUDA1WjU5SGN6OHhxdDRNYjh4ZUQxc210OXduUzk2dVg4eHYvR0l2cHJtTjF6blZWNStsWW0rWnRXSEpWN1VoLzI4bXVjM3JzczU1amZlMUg4eHYvRnIrbVhtTjViaWRmSG0wZGRpL3NiRjFvYS9zVmkvZklNWC9zYUN2Q3pSRit2aE92N0c5ZjZGdjdHU3YzSEpDMzB0NVc5UUg3N0wzOGp5TnpycURmeU5vZjJYbTZ3MzBOZTcrbVg4amVLajdYdll2NDN0Mnp1L3crU1JmdlBtK2c5QVBkck5Bc0ZyOXg1YzhUcDNVc2NJMzF2OThtNWJPMnlJNnRGK2RzdmgxYW12Rm4vRFhKVWlXMTc3b21MTEMzOWpNQzlMOU1WNitNQjZhSEk5bEx5c3RIOGQvSTM5ZWloNTRXOGM5S1Y0blJzZksvVEw2R3VCK3JERWkvcXduNWNsK2pvWFpsYndOM3JyRGZ5Tm9mM1h1UUZIWHkvdGw0LytCcnlhZU8yK1kvcmYvaGhzUERuejB5bXIwTmZva2JsNlpLNGU3YkltNExVM0RrNmV3MDhUZFg1UkgyRG5yYzI5OWY2VTNmKzN3MS9VWnVBRGZYWHF5N1crRkpSZ2xQUzRZc2I2d3Q4WXpNczBMOWJEYmw2UnY3Ry9GVEhpWmFYOUsvSTNRcFQ3NVJCL1k2OHZ4U3Z5Ti9ZcGlHMjgwTmUwK3JERWkvcXduNWNsK29yOGpYMEtSN3gvK2FQMUJ2N0cwUDRyOURmUTF4djc1ZERmZ05kUVA4bzl1OVJHODRxaVZPemsrdTU1aVVTWHY4MnJjWDVqdjR2ZDc1ZWpLRXM3Vi9VUkwveU5ibjIxK3h0UjN0ZjVTY1FMZjJNd0wwdjB4WHI0d0hyWU1yL3gyYVVLKzFmb2IwUWhvb2YxRUgralBML3hWVzgwOTh2b2EycDlXT0pGZmRqUHEzVit3ejM3a2t2N0cvVjZBMzlqYVA4bC9BMzA5YjUrT2ZZMzREV05seVYrRlBOUjYva2Jsc3dEY0Q1bHZYNzVraGZuVXhia1pZbStXQTlYOGpldTlpL09wNnpsYjF6d1FsK0wrUnZVaCsveU55eVozK0I4eXByOWw1cmZRRit2NjVjNW45TEY2K3Y5eHZNMmtwZVZ6aE45bDRiaGZKVGs1WEZnenAvbUZma2JQMjh3bkQrczVHOXNjVVc4WW4vRE9aL3lqTDdjRy9NM2RsK05STHpFdktnenZ6R2NseVg2WWoxOFlEMDB1UjVLWGxiYXY4VDVGT2x2Q08vcnIrdEw4UkxuVXlwNUR1aHJibjFZNGtWOTJNL0xFbjJKOHltVi9JMk9lZ04vWTJqL0ZlZHZvSzhYOXN2cWZBcTg3dnBSaXBlNFkvZG41MnJsaFgvNEdLL1EzL2o1MzNuTXE5WGZpSjBLNWpmK2xiNWEvWTJlNzFQd053YnpZbjVqOEhwb2NqMlV2S3kwZnpHLzhZaStGSzh3WDNUN1E0MjgwTmUwK3JERWkvcXduNWNsK2dyelJac3ZuV2QrWStuK2kvbU5YOU12TTcvUnk4dmI4MkJMdk1qdm5YWi9Tc25mNFA2VXVmcHE5VGU0UDJWaFh0eWZNbmc5YkxvL3BlUnZjSC9LdFB0VFN2MHkrcHBjSDNKL3lpUmV6ZmVubFB3TjdrOVp0di9pL3BSZjB5L2piL1R3c3NTUGlwTlBza2QyWFBvZXlMZjV5Y2VIbDNtYzNybmZ1ZUw4RGVWdnhDR2lIZm1pOG1zQzlOV29MOWY2OHVmeVJUOGhSdlJmQTNrOWxpL0tlaGl2aHliWFE4bkxTdnRYWTc1bytBaDlTVjRpZjBQZngzSEJDMzFOcXc5THZLZ1ArM2xab2krUnY2SHZUNG1LaXU1NkEzOWphUC8xWUw0bytwcmJMN2ZtaThKcjZIMitiakl2QmY5dzJ2eUc2M3hSazNtVnpHL00xWmRyZlRuekd5L2p4ZnpHNFBXd2FYN0RkYjdvNWY3Ri9NWWorbXFhMzNDZFYzbkZDMzFOcXc5THZLZ1ArM2sxejIrNHpoYzFtUy9LL01heS9SZnpHNyttWDJaK1l5bGUyWG1pLzd4bDlMV1N2NUhsT1lRM3ZlSnZUTzJYYi9EQzMxaVFseVg2WWoxY3g5KzQzci93TjFieU55NTVvYStsL0EzcXczZjVHMW4rUmtlOWdiOHh0UCtLNXpmUTF3djdaZnlOWlhpWjVpVi9LdnQzNlU5SVBmK0V2Mkc2WDVhN1hyWlg2aytJdnA3b2wyL3kydFViV2UrZ0t5SjRQYzNMRW4yeEhxN2hiOXpidi9iK2hpVi9BUHRQaUwveHRMOXhpeGY2V3NiZm9ENThsNzloMnQvb3JUZndONGIyWDRFYzBOYzcrK1ZrcjRUWE5hL2RFTnJ4dmh0NW5zakM4MFQ3MjUvdW5VTEt6aTdwVC9nWGVibStmWFhYUkoxZjFBZlkwWi9Qcm5PMS9OOFZiNGpjRC91Y3ZsenJ5N05UdEVHOTRlSFo5djExVXZnYkkzbFpjdXFaOWJDWGw3Z2ZWdVp2V0ppL2NXLy9pdnlORU9YaEUrSnY3RU5NQkM5eFAyeVU1M0NMRi9xYVZoK1dlRkVmOXZPeVJGL2lmdGp3ME91eG1udXUzc0RmR05wL2hmNEcrbnBqdjV4a1ZjRnJrQi9sMm85S2VRVlJLdG5kT2pyUjVhL3phcHpmMk85aTkvdmxJTW95dTJ0TUo2Q2lyNEsrMnYyTklPOHJ1M3RSSjVMQjYybGVsdWlMOWZDQjliQmxmdU96U3hYMnI5RGZDRU5FOStzaC9rWjVmdU9yM21qdWw5SFgxUHF3eEl2NnNKOVg2L3lHdTV6ZlNQMk5lcjJCdnpHMC94TCtCdnA2WDcrYzNLVU9yeG04TFBHam1JOWF6OSt3WkI2QTh5bnI5Y3VYdkRpZnNpQXZTL1RGZXJpU3YzRzFmM0UrWlMxLzQ0SVgrbHJNMzZBK2ZKZS9ZY244QnVkVDF1eS8xUHdHK25wZHY4ejVsQzVlWCs4M25yZVJ2S3gwbnVpN05Bem5veVF2RndmSy9qS3YrSDVZay82R2xmSTN0cmdpWHJHLzRaeFBlVVpmN28zNUc3dXZSaUplWWw3VW1kOFl6c3NTZmJFZVByQWVtbHdQSlM4cjdWL2lmSXIwTjJMdjY4L3JTL0VTNTFNcWVRN29hMjU5V09KRmZkalB5eEo5aWZNcGxmeU5qbm9EZjJOby94WG5iNkN2Ri9iTDZud0t2Tzc2VVlwWE9BT3pjZVpiZWVFZlBzWXJPek1pVmpadjlqZENwNEw1algrbXIxWi9vK2Y3RlB5TndieVkzeGk4SHBwY0R5VXZLKzFmekc4OG9pL0ZLOHdYM2Y1UUl5LzBOYTArTFBHaVB1em5aWW0rMURjajN1eHY5TlFiK0J0RCt5L21OMzVOdjh6OFJpOHZiOCtETGZFaXYzZmEvU2tsZjRQN1UrYnFxOVhmNFA2VWhYbHhmOHJnOWJEcC9wU1N2OEg5S2RQdVR5bjF5K2hyY24zSS9TbVRlRFhmbjFMeU43Zy9aZG4raS90VGZrMi9qTC9SdzhzU1A2b3g2WHA3Y3VMQi9LaWZmSHg0cWZUT3c1VW04cVlHa2IraFhQMWF2cWo4bWdCOU5lckx0Yjc4dVh6UlQ0Z1IvZGRBWG8vbGk3SWV4dXVoeWZWUUo1T1g5cS9HZk5INEVmcFN2RVQraHI2UDQ0SVgrcHBXSDVaNFVSLzI4N0pFWDluTmEwbDkrRmkrcUJ6VFFsL1A5VjhQNW91aXI3bjljbXUrS0x5RzN1ZnJKdk5TOEErbnpXKzR6aGMxbVZmSi9NWmNmYm5XbHpPLzhUSmV6RzhNWGcrYjVqZGM1NHRlN2wvTWJ6eWlyNmI1RGRkNWxWZTgwTmUwK3JERWkvcXduMWZ6L0licmZGR1QrYUxNYnl6YmZ6Ry84V3Y2WmVZM2x1S1ZuU2Y2ejF0R1h5djVHMW1lZzU0VndkK1kxUy9mNElXL3NTQXZTL1RGZXJpT3YzRzlmK0Z2ck9SdlhQSkNYMHY1RzlTSDcvSTNzdnlOam5vRGYyTm8veFhQYjZDdkYvYkwrQnZsUjU5Sm05Tk9wTjloeFFuY0p2ZTIvQUZzcEFxdlhYS3ZLMTdIVHNxa3Y1SHNldnVrNWZzYjRuWnBkWGgxNml1cHpGTmUrcXVXK0c0Qy9JMS93TXNTZmJFZVByQWVtbHdQSlM4cjdWOTdmeU0xdUhicm9hTXZpLzJOSGE5alR5VDc1WnU4ME5lMCtyREVpL3F3bjVjbCtqcCtKM1Z6VW5kdlluVFhHL2diUS91dll3T092bDdiTC91NU1vZlhmVjQvaDRwUHZPS2JlVGVYM2FpYmhvSkh0azkwdTN0QWFYdk9DRjc3QTNZSGxKOG02b1J5QSt5NHRibjRoYm0vNGZKanBJL1FWNXUrWE9zcjlEZjJ6MFhnZ0hpRXZ6R1lsMmxlcklmZHZDSi80L05jOGJMUy9oWDVHNWNvOFRlTytsSzhJbi9qYS91NmZlb1pmUzFSSDVaNFVSLzI4N0pFWDVHLzhiTi9KYWx1L21pOWdiOHh0UDhLL1EzMDljWitPZlEzNERYVWozTHRSNlc4ZEpSS2ZyY085L2tlZURYT2IreU14SVorV1VkWjVuZU40Vzg4b2E5MmYwTkhnZVYzTHhyK3htaGVsdWlMOWZDQjliQmxmbU5iZURUdlg2Ry9vVUpFTitzaC9rWjVmdVB6SnIyWkYvcWFWaCtXZUZFZjl2TnFuZDl3bC9NYnFiOVJyemZ3TjRiMlg4TGZRRi92NjVkamZ3TmUwM2haNGtjeEg3V2V2MkhKUEFEblU5YnJseTk1Y1Q1bFFWNlc2SXYxY0NWLzQyci80bnpLV3Y3R0JTLzB0WmkvUVgzNExuL0RrdmtOenFlczJYK3ArUTMwOWJwK21mTXBYYngyVmVKeDNrYnlzdEo1b3QzWXpYR29Sdkp5RVpqemwzbEYvc1orQ2pIZzFaeS9zWnRDaktBMFBVSmZqZnB5Yjh6ZjJIMDFFb3JJMVNQOGpjRzhMTkVYNitFRDY2SEo5VkR5c3RMK0pjNm5TSDlEUGZyaitsSzh4UG1VU3A0RCtwcGJINVo0VVIvMjg3SkVYK0o4U2lWL282UGV3TjhZMm4vRitSdm82NFg5c2pxZkFxKzdmcFRpRmQreCs5bTVXbm5oSHo3R0svUTNiS3ZDZ0ZlcnY1R1lHTXh2L0FOOXRmb2JQZCtuNEc4TTVzWDh4dUQxME9SNktIbFphZjlpZnVNUmZTbGVZYjdvOW9jYWVhR3ZhZlZoaVJmMVlUOHZTL1FWNW92ZXVKWFBINjAzOERlRzlsL01iL3lhZnBuNWpWNWUzcDRIVytKRmZ1KzArMU5LL2diM3A4elZWNnUvd2YwcEMvUGkvcFRCNjJIVC9Ta2xmNFA3VTZiZG4xTHFsOUhYNVBxUSsxTW04V3ErUDZYa2IzQi95ckw5Ri9lbi9KcCtHWCtqaDVjbGZsU1kwV282RkNYNHp3UDVOai81K1BBeW1kNXBLc253OEc3RDg1Vm5WNzhuWDFRK1FsK04rbkt0TDM4dVgvUVRZa1QvTlpEWFkvbWlySWZ4ZW1oeVBaUzhyTFIvTmVhTHlrZC9YRitLbDhqZjBQZHhYUEJDWDlQcXd4SXY2c04rWHBib1MrUnY2UHRUZ3FLaXY5N0EzeGphZnoyWUw0cSs1dmJMcmZtaThCcDZuNitiekV2QlA1dzJ2K0U2WDlSa1hpWHpHM1AxNVZwZnp2ekd5M2d4dnpGNFBXeWEzM0NkTDNxNWZ6Ry84WWkrbXVZM1hPZFZYdkZDWDlQcXd4SXY2c04rWHMzekc2N3pSVTNtaXpLL3NXei94ZnpHcittWG1kOVlpbGQybnVpLy8wSmZLL2tiV1o2RHV1a1ZmMk5ldjN5REYvN0dncndzMFJmcjRUcit4dlgraGIreGtyOXh5UXQ5TGVWdlVCKyt5OS9JOGpjNjZnMzhqYUg5Vnp5L2diNWUyQy9qYnhRZmJTZHQ3TlFVdTM3ejNzd3JnWkw5MVBhendXczNHZVdLVjlCSmViTy9rWmdZMlUvdFNEbThPdlYxMzkvd3BCUko2bzNOWjhQZkdNekxFbjJ4SGo2d0hwcGNEeVV2SysxZmUzL0RFbjlqdng0NitsTCt4dkhFa0tnM2J2Zkw2R3VKK3JERWkvcXduNWNsK2pwL00rTE4va1ovdllHL01iVC9DdVNBdnQ3Wkx4LzJTbmkxOGZvNVZIemlKVy9tOVUxZWJIQ2VLRHFGNUplbmtNS3pTNXRPR1Y2ZTNHbXl2VHJGTEtCc1ozL2pzS3VkWHE5NGxQM1V6dHBBWDUzNmNxMFVGemZ6QnFPa3AvSW0xQmYreG1CZXBubXhIbmJ6aXZ5TnowM2FpcGVWOXEvSTN3aFI3cGREL0kyOXZoU3Z5Ti80MnI3aVBJY0xYdWhyV24xWTRrVjkyTS9MRW4xRi9zYlAvcVY0cVV0Z3kvVUcvc2JRL2l2ME45RFhHL3ZsME4rQTExQS95clVmbGZLS29sUmM1NlZzdldoNGRjeHYvRkRSKzFmWUwwZFJscTVEUkhmZkhlQnY5T3FyM2QrSW9zQmNoM3B0ZU9GdkRPWmxpYjVZRHg5WUQxdm1OejY3VkdIL0N2Mk5NRVIwdng3aWI1VG5ONzdxamVaK0dYMU5yUTlMdktnUCszbTF6bSs0Ni95TnpOK28xeHY0RzBQN0wrRnZvSy8zOWN1eHZ3R3ZhYndzOGFPWWoxclAzN0JrSG9EektldjF5NWU4T0oreUlDOUw5TVY2dUpLL2NiVi9jVDVsTFgvamdoZjZXc3pmb0Q1OGw3OWh5ZndHNTFQVzdML1UvQWI2ZWwyL3pQbVVMbDY3bExianZJM2taYVh6Ukx2VTVhT0xKWG01T0ZEMmwzbEYvc2JQR3d6bkR5djVHN3NRK29CWDdHODQ1MU9lMFZkU21hZTg0bmxSV1c5OGZoWmU0M2hab2kvV3d3ZldRNVByb2VSbHBmMUxuRStSL29hTDZORS9yaS9GUzV4UHFlUTVvSys1OVdHSkYvVmhQeTlMOUNYT3AxVHlOenJxRGZ5Tm9mMVhuTCtCdmw3WUw2dnpLZkM2NjBjcFh0RU16TzZIR25uaEh6N0dLL1EzZHFjc0ExNnQva2JpNmpPLzhRLzAxZXB2OUh5ZmdyOHhtQmZ6RzRQWFE1UHJvZVJscGYyTCtZMUg5S1Y0aGZtaU85UnR2TkRYdFBxd3hJdjZzSitYSmZvSzgwWERTK2V2L0kyZWVnTi9ZMmoveGZ6R3IrbVhtZC9vNWVYdGViQWxYdVQzVHJzL3BlUnZjSC9LWEgyMStodmNuN0l3TCs1UEdid2VOdDJmVXZJM3VEOWwydjBwcFg0WmZVMnVEN2svWlJLdjV2dFRTdjRHOTZjczIzOXhmOHF2NlpmeE4zcDRXZUpIaFhHNzJ6c1hQRDVQNUkvbVIvM2s0OE5yNDh5NzRxWHlONVMvRVlhSXV0ZnpSZU5INkt0ZFg2NzE1Yy9saTM1Q2pPaS9Cdko2TEYrVTlUQmVEMDJ1aDVLWGxmYXZ4bnpSK0JINlVyeEUvb2EraitPQ0YvcWFWaCtXZUZFZjl2T3lSRjhpZjBQZm54SVVGZjMxQnY3RzBQN3J3WHhSOURXM1gyN05GNFhYMFB0ODNXUmVDdjdodFBrTjEvbWlKdk1xbWQrWXF5L1grbkxtTjE3R2kvbU53ZXRoMC95RzYzelJ5LzJMK1kxSDlOVTB2K0U2ci9LS0YvcWFWaCtXZUZFZjl2TnFudC9RbFo2YnpCZGxmbVBaL292NWpWL1RMek8vc1JTdjdEelJmdzRZK2xySjM4anlIS0paRWZ5TnVmM3lEVjc0R3d2eXNrUmZySWZyK0J2WCt4Zit4a3IreGlVdjlMV1V2MEY5K0M1L0k4dmY2S2czOERlRzlsL3gvQWI2ZW1HL2pMOVI1eVhlUnZJT2E3eHFqK0RsOTl5RHBKT3ErUnUxUi9nYnorcnJ2cjloenZ6RzRyd3NFUkhyNFFQcm9YN3ovZjdHN2hIK3hpUDZzbHRyVksxZlJsOUwxSWNsWHRTSC9id3MwZGNUL2taL3ZZRy9NYlQvOGlla2g3NVc2SmZ4TjdwNC9Sd3FQdkVLYitiZEpsV3FtNGFlZXBSOHdyL0lhMjhjblB6RHpkWFhaOWZ4RzFqNFU4a3ZiSHVVZkVMMDFhNHYxMHB4Y1dudmVaVFVUbC9maEo4UWYyTXdMOU84V0ErN2VVWCt4dWNtYmNYTFNwdVV1QjgyTURGME5ndjZrcnpFL2JBNnorR0NGL3FhVmgrV2VGRWY5dk95UkYvaWZ0aDZVVkdxTi9BM2h2WmYvb1QwME5jSy9iSzZIeFplNC93bzE2YVROMGFwWE9hbHhJa3VmNXhYNC96R0Q1V2t5Ym9aUFhxWkx4b25vS0t2ZG4yMSt4dVZ2Szg0a1F4ZUQvT3lSRitzaHcrc2h5M3pHNTlkcXJCL05lYUxXblJLQW4wMXpXOTgxUnZOUlR2Nm1sb2ZsbmhSSC9iemFwM2ZjTmY1RzVtSlVhODM4RGVHOWw5K085b1hmUzNlTDdmbWk4SnJNQzlML0NqbW85YnpOeXl4N2ptZnNsNi9mTW1MOHlrTDhySkVYNnlISy9rYlYvc1g1MVBXOGpjdWVLR3Z4ZndONnNOMytSdVdER2x3UG1YTi9rdk5iNkN2MS9YTG5FL3A0dlgxZm9YZFozTGVwbktlNkxzMHZMbTE3U3BEZU8wcWVWZThZbi9EU3ZrYlcxdzNyQS9YZXlYNkt1Z3JxY3hUWHJvVUVmT2l6dnpHY0Y2VzZJdjE4SUgxME9SNktIbFphZjhTNTFPa3Z4RStRbCtLbHppZlVzbHpRRjl6NjhNU0wrckRmbDZXNkV1Y1Q2bmtiM1RVRy9nYlEvdXZ1QUZIWHkvc2w5WDVGSGpkOWFNVXIyZ0daaHZwMnNvTC8vQXhYdG1aa1NoZmRIZks4bTYvbkxqNnpHLzhBMzIxK2hzOTM2Zmdid3pteGZ6RzRQWFE1SG9vZVZscC8ySis0eEY5S1Y1aHZ1aE9aVzI4ME5lMCtyREVpL3F3bjVjbCtncnpSVzlNQmZ1ajlRYit4dEQraS9tTlg5TXZNNy9SeTh2YjgyQkx2TWp2blhaL1NzbmY0UDZVdWZwcTlUZTRQMlZoWHR5Zk1uZzliTG8vcGVSdmNIL0t0UHRUU3YweStwcGNIM0oveWlSZXpmZW5sUHdON2s5WnR2L2kvcFJmMHkvamIvVHdzc1NQQ3BOUHRpbk4zaGdTVmNxMytjbkhoNWRLNzh5U0RQZVoxVzBob3FWODBmZ1IrbXJYbDNzV212ZFV2dWdueElqK2F5Q3Z4L0pGV1EvajlWQW51MHBlVnRxL0d2TkY0MGZvU3liakJmN0dydEJyNUlXK3B0V0hKVjdVaC8yOExOR1h5TitvaEpaMzFCdjRHMFA3cndmelJkSFgzSDY1TlY4VVhrUHY4L1huUmp2d295U3YxdmtOMS9taTE3K1ErWTA1K25LdEwyZCs0Mlc4bU44WXZCNDJ6Vys0emhlOTNMK1kzM2hFWDAzekc2N3pLaSsveWtSZnMrckRFaS9xdzM1ZXpmTWJ1dEp6ay9taXpHOHMyMzh4di9GcittWG1ONWJpZFlFU2ZTM21iMXhzYmZnYmkvWExOM2poYnl6SXl4SjlzUjZ1NDI5YzcxLzRHeXY1RzVlODBOZFMvZ2IxNGJ2OGpTeC9vNlBld044WTJuKzV5WG9EZmIyclg4YmZxRDNhVGRxYzNvYUNrajR5THp3eXp4L0JLK0IxY2cvTTQwNXE5OGdPUDdVZmc3cjVhRDlJZkg2RXYvR1V2bHlMS09WbHJuZ2Q2NDBQTC95Tndid3MwUmZyNFFQcm9ZUmlrcGVWOXErOXYzRThXR0Z5UFhUMFpiRy9jWVNpcEdkU1JKWXVsZWhyVG4xWTRrVjkyTS9MRW4xbHBlUHRvcUs3M3NEZkdOcC8rWDNwb2ErMSsrWGpYZ212Smw0L2g0cFB2TUtiZWYxd2s5c0ppbnZqSS9NN2orQjFpTjQ0dm8zUEVMeEZqeXp5Tnp5NXpsVS8ydjMvMjQvUVY3TytYSXRJdmZuektLa2ZWMHdoUGZ5TnNieE04Mkk5N09ZVitSdWZtN1FWTHl2dFg1Ry9jWWtTZitPb0w4VXI4amUrdGkrVElySjBxVVJmYytyREVpL3F3MzVlbHVncnJQU3NzYWpvcmpmd040YjJYMzVmZXVocjdYNDU5RGZnTmRTUGNtMDZwYnlDS0pYalBhUm5xeXBLZFBucnZCcm5OMzcrRjBtVEZUMEtvaXozVDZMUmp1aFVDL29xNkt2ZDN3anl2b0luRVMvOGpjRzhMTkVYNitFRDYySEwvTWJuZjFIWXYwSi9JODRYM2EySCtCdmwrWTJ2ZXFPNVgwWmZVK3ZERWkvcXczNWVyZk1iN3RuWFZkcmZxTmNiK0J0RCt5L2hiNkN2OS9YTHNiOEJyMm04TFBHam1JOWF6OSt3eExybmZNcDYvZklsTDg2bkxNakxFbjJ4SHE3a2IxenRYNXhQV2N2ZnVPQ0Z2aGJ6TjZnUDMrVnZXREsvd2ZtVU5mc3ZOYitCdmw3WEwzTStwWXZYMS91TjUyMGtMeXVkSi9vdURjT2hHc25Md3dObGY1dFh2RW1aOURlc2xMK3h4UlZDdWY4SWZiWHJ5NzB4ZjJQMzFVZ29JbGVQOERjRzg3SkVYNnlIRDZ5SEp0ZER5Y3RLKzVjNG55TDlqZGo3K3ZQNlVyekUrWlJLbmdQNm1sc2ZsbmhSSC9ienNrUmY0bnhLSlgram85N0EzeGphZjhYNUcranJoZjJ5T3A4Q3I3dCtsT0lWenNCc2cxMGJlZUVmUHNaTGJWSWUreHMveTFxVHY1R1lHTXh2L0FOOXRmb2I3c3h2TE11TCtZM0I2NkhKOVZEeXN0TCt4ZnpHSS9wU3ZNSjgwUjNxTmw3b2ExcDlXT0pGZmRqUHl4SjloYU8vSm9kQ0UzK2pwOTdBM3hqYWZ6Ry84V3Y2WmVZM2VubDVleDVzaVJmNXZkUHVUeW41Rzl5Zk1sZGZyZjRHOTZjc3pJdjdVd2F2aDAzM3A1VDhEZTVQbVhaL1NxbGZSbCtUNjBQdVQ1bkVxL24rbEpLL3dmMHB5L1pmM0oveWEvcGwvSTBlWHBiNFVYSHlTZkpJaDloMDVOdnNxMFI0NmZtTk9NblFqL2NtM3drUjdjZ1hWVjhUb0s5V2ZibG5vWGxQNVl2dVV4RGhOWWpYWS9taXJJZnhlaWlobU9SbHBmMnJNVjgwZm9TK0VpaEtldmREODlEWEN2VmhpUmYxWVQ4dlMvU1ZsWTYzaTRydWVnTi9ZMmovOVdDK0tQcWEyeSszNW92Q2EraDl2dDVxVmVGSEZYaTF6bSs0emhlOXR1NlozNWlqTDlmNmN1WTNYc2FMK1kzQjYySFQvSWJyZk5ITC9ZdjVqVWYwMVRTLzRUcXY4dktyVFBRMXF6NHM4YUkrN09mVlBML2grdENyeVh4UjVqZVc3YitZMy9nMS9UTHpHMHZ4dWtDSnZoYnpOeTYyTnZ5TnhmcmxHN3p3Tnhia1pZbStXQS9YOFRldTl5LzhqWlg4alV0ZTZHc3BmNFA2OEYzK1JwYS8wVkZ2NEc4TTdiL2NaTDJCdnQ3VkwrTnZGQjl0MzhQK2JXemYzdUVkSm8rMlR0VDluN3I4aGZBSzNzWitKOXEvUFlueTZHL3NuTVBrRjk1OWxIeEM5RlhRbDJ0OTVYOEFydjhBMUNmRTN4ak15eElSc1I0K3NCNmFsb05wT1JUMnI3Mi9jZmtIZ0w4Ui8vWGFyVFhxK09hOW1SZjZtbFlmbG5oUkgvYnpza1JmamVYY2RWRlJxamZ3TjRiMlh3LytRdlExdDE5TzlrcDRYZlA2T1ZSODRoWGV6THZ0bE9QWEd4MDEycTZmOXg4bG4vQXY4dG9iQjZmQmlaOG15cUpIRnM1dlhQN0N0a2ZKTDBSZjdmcnlSQTVSbGJMN3IvQ1J5VStJdnpHWWwybGVySWZkdkNKLzQzT1R0dUpscGYwcjhqZENsSWRQaUwreER6RVJ2Q0ovNDJ2N2l2cmxTMTdvYTFwOVdPSkZmZGpQeXhKOWhaV0RSZmtiNTJydXVYb0RmMk5vL3lWK0lmcDZYNzhzOWtwNERmU2pQTEdQTWw1QmxNcng5dTJ6d1NVU1hmNDByOGI1RFhjNXY1SDJ5MEdVNWQ2Wmp3eC9rWUNLdmxyMTFlNXZCSGxmTzE1UnZhRVN5ZUQxS0M5TDlNVjYrTUI2MkRLLzhkbWxDdnRYNkcvRSthSzc5UkIvb3p5LzhWVnZOUGZMNkd0cWZWamlSWDNZejZ0MWZzTmRqK05tSmthOTNzRGZHTnAvcVFZY2ZiMnVYNDc5RFhoTjQyV0pIOFY4MUhyK2hpWHpBSnhQV2E5ZnZ1VEYrWlFGZVZtaUw5YkRsZnlOcS8yTDh5bHIrUnNYdk5EWFl2NEc5ZUc3L0ExTGhqUTRuN0ptLzZYbU45RFg2L3BsenFkMDhmcDZ2OEx1TTIzM0ZjNFRmWmVHclFhWDQwY2RLM2xYdk9KT3lrcjVHMXRjTFlZLzUxTWUwWmQ3WS83Rzdxc1IwZEFKWHZnYmczbFpvaS9Xd3dmV1E1UHJvZVJscGYxTG5FOUpCbmljK1kyenZoUXZjVDZsa3VlQXZ1YldoeVZlMUlmOXZDelJseHJITGVSdmROUWIrQnREKzYrNEFVZGZMK3lYMWZrVWVOMzFveFN2YUFabW14elZ5Z3YvOERGZTJaa1JzYko1czcvaHp2ekdUSDIxK2hzOTM2Zmdid3pteGZ6RzRQWFE1SG9vZVZscC8ySis0eEY5S1Y1aHZ1ajJoeHA1b2E5cDlXR0pGL1ZoUHk5TDlLVytHZkZtZjZPbjNzRGZHTnAvTWIveGEvcGw1amQ2ZVhsN0hteUpGL205MCs1UEtma2IzSjh5VjErdC9nYjNweXpNaS90VEJxK0hUZmVubFB3TjdrK1pkbjlLcVY5R1g1UHJRKzVQbWNTcitmNlVrci9CL1NuTDlsL2NuL0pyK21YOGpSNWVsdmhSeGJoZEhXSlR5cmZaM2VvTHIyUis0L0ttQnBHL29WejlXcjVvL0FoOXRldkx0Yjc4dVh6UlQ0Z1IvZGRBWG8vbGk3SWV4dXVoaEdJNm1ieTBmelhtaThhUDBGY0NSVWxQNURuNG8vbWk2T3V4K3JERWkvcXduNWNsK3NwS3g2UStmQ3hmTkg2RXZoN3R2eDdNRjBWZmMvdmwxbnhSZUEyOXo5ZE41cVhnSDA2YjMzQ2RMM3I5QzVuZm1LTXY5K3pyWU9ZM1hzV0wrWTNCNjJIVC9JYnJmTkhML1l2NWpVZjAxVFMvNFRxdjhvb1grcHBXSDVaNFVSLzI4MnFlMzdndTU1amZlRlAveGZ6R3IrbVhtZDlZaWxkMm51Zy9ieGw5cmVSdlpIa09lbFlFZjJOV3YzeURGLzdHZ3J3czBSZnI0VHIreHZYK2hiK3hrcjl4eVF0OUxlVnZVQisreTkvSThqYzY2ZzM4amFIOWx3aUlRRi92NjVmeE54YmhkZkhtOFE4WDh6Y3V0amJtTnhicmwyL3p3dDlZa0pjbCttSTlYTUhmdUx0LzRXK3M0Vy9jNUlXK0Z2RTNxQS9mNVc4a1F4cjk5UWIreHREK3kwM1dHK2pyWGYweS9rWVhyNTlEeFdlN0w3bVoxOXFQR3RVUEtEbThUcS9qME41dW15aUxIbGswditIN1krcUhmNWZsL3k3eFUrSVRvcTkyZmJsblVRL24vV3YvL1BwcysvWVQ0bThNNW1XYUYrdGhOeTl4UDZ6TTM3QWdmK1B1L2lYdWg5VUJMSTYvRWZ6MUtsN2lmdGh6bnNOTlh1aHJXbjFZNGtWOTJNL0xFbjJKT0xXcmFJN0EzK2lwTi9BM2h2WmZvYitCdnQ3WUx5ZFpWZkFhNUVkNStranpxdVRiaElrdWY1MVg0L3lHdTV6ZlNQdmxTcjVvbUlDS3ZncjZhdmMzS25sZllTSVp2SjdtWlltK1dBOGZXQTliNWpjK3UxUmgvMnJNRjdYb2xBVDZhcHJmK0tvM212dGw5RFcxUGl6eG9qN3M1OVU2ditIcEkrMXYxT3NOL0kyaC9aZndOOURYKy9ybDFueFJlQTNtWllrZnhYelVldjZHSmZNQW5FOVpyMSsrNU1YNWxBVjVXYUl2MXNPVi9JMnIvWXZ6S1d2NUd4ZTgwTmRpL2diMTRidjhEVXZtTnppZnNtYi9wZVkzME5mcittWE9wM1R4K25xLzRqb2gwM1pmNFR6UmQybDQ4dzlnVnhuQ2ExZkp1K0lsa2d4TCtSdGJYRGMyeEgwbGo3L1JxNitrTWs5NW1XdUR5d1V2L0kzQnZDelJGK3ZoQSt1aHlmVlE4ckxTL2lYT3AwaC9JM3lFdmhRdmNUNmxrdWVBdnViV2h5VmUxSWY5dkN6Umx4ckhMZVJ2ZE5RYitCdEQrNjg0ZndOOXZiQmZWdWRUNEhYWGo1Snh1OXYzdVlmU2VNa1gvdUhEdkxJekkxRlI4YjJzTmZrYmlhdlAvTVkvMEZlcnY5SHpmUXIreG1CZXpHOE1YZzlOcm9lU2w1WDJMK1kzSHRHWDRoWG1pMjUvcUpFWCtwcFdINVo0VVIvMjg3SkVYMkU1MTNqcFBQTWJpL2RmekcvOG1uNlorWTFlWHQ2ZUIxdmlSWDd2dFB0VFN2NEc5NmZNMVZlcnY4SDlLUXZ6NHY2VXdldGgwLzBwSlgrRCsxT20zWjlTNnBmUjErVDZrUHRUSnZGcXZqK2w1Rzl3ZjhxeS9SZjNwL3lhZmhsL280ZVhKWDVVWTl5dUJmOTVJTi9tSng4ZlhpcTlNMGt5UE1SWngxTlZIdmZMdFh6UitCSDZhdGVYYTMzNWMvbWlueEFqK3ErQnZCN0xGMlU5ak5kRG5leXFROWhLKzFkanZtajhDSDBsVUpUMDFGVHdvL21pNk91eCtyREVpL3F3bjVjbCt2SzdJZk9IL2NzZnJUZndONGIyWHcvbWk2S3Z1ZjF5YTc0b3ZJYmU1K3NtODFMd0Q2Zk5iN2pPRnpXWlY4bjh4bHg5dWRhWE03L3hNbDdNYnd4ZUQ1dm1OMXpuaTE3dVg4eHZQS0t2cHZrTjEzbVZWN3pRMTdUNnNNU0wrckNmVi9QOGhuN2tKdk5GbWQ5WXR2OWlmdVBYOU12TWJ5ekZLenRQdEZzVjRiV0V2NUhsT2VoWkVmeU5XZjN5RFY3NEd3dnlza1JmcklmcitCdlgreGYreGtyK3hpVXY5TFdVdjBGOStDNS9JOHZmNktnMzhEZUc5bC94L0FiNmVtRy9qTDlSZUdUeWJYemNwT003TkRmOWVrYzhncGZrOWRtSmpydytuZFNKMTliZk1MMjFsUi9oYnp5ckw5ZEtTYUdZcTBjbVArRWY5emZHODdKRVJLeUhENnlISnRkRHljdEttOVRHMzhoUjRtOWsrbEs4ZnRZb2k5NjhOL05DWDlQcXd4SXY2c04rWHBibzY2ZHlzSWVLaWxLOThjZjlqZEg5bHo4aFBmUzFRcis4OVRmZzFjeHI5ODg3WHNlYmVUZTgzSTduaVV3Zk5Tby9FcC93VC9xSEorUGdzM3paNmVycmI1Um5ZTGI5aGNkajZ0MlBYTjY2Z3I0SytuS3RsTEFVMlQrUEhwbjhoUGdiZzNtWjVzVjYyTTByOGpjK04ya3JYbGJhcENKL0kwUjUrSVQ0Rzd1L1hzVXI4amUrdGkrVElySjBxVVJmYytyREVpL3F3MzVlbHVncjhqZCs5cTlLVVZHcU4vQTNodlpmL29UMDBOY0svWExvYjhCcnFCL2wyblJLZVIyalZFem5wUnk5YUhoMXpHKzR5L21OdEY4K1JsbWF6aGM5ZlhlQXY5R3JyM1ovNDVqM1pUcnY2OEFMZjJNd0wwdjB4WHI0d0hyWU1yL3gyYVVLKzFmb2I1eENSTS9ySWY1R2VYN2pxOTVvTHRyUjE5VDZzTVNMK3JDZlYrdjhSdkN0MlMwVG8xNXY0RzhNN2IrRXY0RyszdGN2eC80R3ZLYnhzc1NQWWo1cVBYL0RFdXVlOHlucjljdVh2RGlmc2lBdlMvVEZlcmlTdjNHMWYzRStaUzEvNDRJWCtsck0zNkErZkplL1ljbVFCdWRUMXV5LzFQd0crbnBkdjh6NWxDNWVYKzgzbnJlUnZLeDBudWk3Tkx5NXRlMHFRM2p0S25sWHZHSi93MHI1RzF0Y042eVBmU1dQdjlHcnI2UXlUM25wVWtUTWl6cnpHOE41V2FJdjFzTUgxa09UNjZIa1phWDlTNXhQa2Y2R1I5R2o2RXZ4RXVkVEtua082R3R1ZlZqaVJYM1l6OHNTZlluektaWDhqWTU2QTM5amFQOFY1MitncnhmMnkrcDhDcnp1K2xHSzEyRUd4dlp2M3B0NTRSOCt4aXYwTjM1U2REM20xZXB2Sks0Kzh4di9RRit0L2tiUDl5bjRHNE41TWI4eGVEMDB1UjVLWGxiYXY1amZlRVJmaWxlWUw3cTdEcVdORi9xYVZoK1dlRkVmOXZPeVJGOWh2cWpKb2RERTMraXBOL0EzaHZaZnpHLzhtbjZaK1kxZVh0NmVCMXZpUlg3dnRQdFRTdjRHOTZmTTFWZXJ2OEg5S1F2ejR2NlV3ZXRoMC8wcEpYK0QrMU9tM1o5UzZwZlIxK1Q2a1B0VEp2RnF2aitsNUc5d2Y4cXkvUmYzcC95YWZobC9vNGVYSlg3VUlmbkV1a09pU3ZrMlAvbjQ4SXJTTzAwbUdWb1FaOTBXSWxyS0Z6MC9nbGROWCs1WmFONVQrYUtmRUNQNnI0RzhIc3NYWlQyTTEwT1Q2NkhrWmFYOXF6RmY5UHdJWHVKOGlzdjdVenk1aitPQ0YvcWFWaCtXZUZFZjl2T3lSRjhpZjZNU1d0NVJiK0J2RE8yL0hzd1hSVjl6KytYV2ZGRjREYjNQMTU4YjdjQ1BrcnhhNXpkYzU0dGVXL2ZNYjh6UmwydDlPZk1iTCtQRi9NYmc5YkJwZnNOMXZ1amwvc1g4eGlQNmFwcmZjSjFYZWZsVkp2cWFWUitXZUZFZjl2TnFudC9RbFo2YnpCZGxmbVBaL292NWpWL1RMek8vc1JTdkM1VG9hekYvNDJKcnc5OVlyRisrd1F0L1kwRmVsdWlMOVhBZGYrTjYvOExmV01uZnVPU0Z2cGJ5TjZnUDMrVnZaUGtiSGZVRy9zYlEvc3ROMWh2bzYxMzlNdjVHNWRIaG91U3RIUFozMW16ZW9mMzB5T2ZYZXhqQ2VmQVJ2S0tMclYzeDJuUlNSMTViZitNME5QWFlJL3lOcC9UbFdpa3BGSFAxeU9Rbi9PUCt4bmhlbG9pSTlmQ0I5ZERrZWloNVdXbVQydmdiZDFEaWI4Ui92WXJYWjQwNjFSc21SV1RwVW9tKzV0U0hKVjdVaC8yOExOSFg1cXV4OC81VktTcEs5Y1lmOXpkRzkxLytuUFRRMTl4K2VidFh3cXVKMTZrRysrRjFYaFgvWjF2YnlJN25pUTYvOFBGSGY1M1g2WkRrWnZuYVhGSisvS2JZL0VUdCtoYysvd2g5VmZUbGlSeE9wWWdmR1lRZlEzNUMvSTNCdkV6ellqM3M1blgwTjNhTG91UmxwVTNxNUcvY1FZbS9jZnpyVmJ3Ty9zYTIzakFwSXJ2NTV0SFh2NndQUzd5b0QvdDVXYUt2ZzcreDM3OHFSVVdwM3NEZkdOcC8rZFBTUTEreit1V3p2d0d2MFg2VUovYVJlUE83aFMwd25WdzlPaVc2d0d1M0U5MlozL2loRW94YmlINzVXQjVHdkdMRC8zU3FCVjQxZmJuV1Y4ckxYUEdLdms4NUpaTEJhd1F2Uy9URmV2akFldGd5di9IWnBRcjdWelMvRVlTSW50WkQvSTN5L01aWHZXR205cStFRi9xYVZoK1dlRkVmOXZOcW5kOXcxK080d3NUb3JEZndONGIyWDI2eTNrQmY3K3FYdy9rTmVNM2paWm9YODFFTCtodW0rMlhPcHl6WUwxL3k0bnpLZ3J3czBSZnI0VXIreHRYK3hmbVV0ZnlOQzE3b2F6Ri9nL3J3WGY2R2FYK0Q4eW1MOWwvQzMwQmY3K3VYT1ovU3hldnIvUWE4L251RE1TOHJuU2Y2TGcyYnRyYlBEOFBMRC90TndDdjJONnlVdjdIRmRkdjZDQjdCcTZTdnBESlBlZWxTeEZ3OXd0OFl6TXNTZmJFZVByQWVtbHdQSlM4cjdWL2gvRVptY0owZXdTdnF2elpUdktMZWFEMVVqcjdtMW9jbFh0U0gvYndzMFZmb2IxZ3BmNk9qM3NEZkdOcC94ZmtiNk91Ri9YSTh2d0d2KzM2VTRuV2NnVG1lckd4MkF2RVBuK0lWK2h2ZnJ6aklqL3BlMXRvbU1aejVqWm42YXZVM2VyNVB3ZDhZekl2NWpjSHJvY24xVVBLeTB2N0YvTVlqK2xLOHduelI3UTgxOGtKZjArckRFaS9xdzM1ZWx1Z3J6QmMxT1JTYStCczk5UWIreHREK2kvbU5YOU12TTcvUnk4dmI4MkJMdk1qdm5YWi9Tc25mNFA2VXVmcHE5VGU0UDJWaFh0eWZNbmc5YkxvL3BlUnZjSC9LdFB0VFN2MHkrcHBjSDNKL3lpUmV6ZmVubFB3TjdrOVp0di9pL3BSZjB5L2piL1R3c3NTUE9pYWZISk9XbTBPaVN2azJQMU5COEFyVE8wL0oySEgraHZJM3NoRFJVcjVvOEFoZUpYMjVaNkY1VCtXTGZrS002TDhHOG5vc1g1VDFNRjRQVGE2SGtwZVY5cS9HZk5IZ0ViemkrWGtQN2svWjFodXRvWG5vYTI1OVdPSkZmZGpQeXhKOWlmeU5TbWg1UjcyQnZ6RzAvM293WHhSOXplMlhXL05GNFRYMFBsOS9lclFEUCtxQitRM1grYUxYMWozekczUDA1WjU5SGN6OHhxdDRNYjh4ZUQxc210OXduUzk2dVg4eHYvR0l2cHJtTjF6blZWNStsWW0rWnRXSEpWN1VoLzI4bXVjM3JzczU1amZlMUg4eHYvRnIrbVhtTjViaWRmSG0wZGRpL3NiRjFvYS9zVmkvZklNWC9zYUN2Q3pSRit2aE92N0c5ZjZGdjdHU3YzSEpDMzB0NVc5UUg3N0wzOGp5TnpycURmeU5vZjJYbTZ3MzBOZTcrbVg4amNLajQzdjR2STBqcWM4N1BOMTBzMzI5aHlHYzA2TjlzYmw5dEhsOGVMU2JCWUxYN2oyNDR2WHBwTTQzRTIzOGpkUFExT0hSYmx2YlBUcVBTSVc4L3JhLzhZaStYT3NyNVdXdWVObnVFMjU1L1hGL1l6d3ZTL1RGZXZqQWVtaHlQWlM4ckxSL2Jmd05NWGNkcjRlT3ZnSi80OFRyWjQwNjF4dG1hdjlLZUtHdmFmVmhpUmYxWVQ4dlMvVDFVemxFKzVldUQvZEZSWGU5OGNmOWpkSDlsNXVzTjlEWHUvcmwzWGNCOEdybHRmdm5IYS9qemJ5MnU5M3BNRlJ6T01RWDhvb2ZiYzdJeHJ5T24vRFArb2UyUDFXKzhROTNUZFIrZm1NUDdHRHFldlFMcis1UDJlVnI3Qjd0dzBIUVY2ZStYT3NyOURmMjZBSjl4ZlhHN3AvaE5ZaVhhVjZzaDkyOEluOWpmeXRpeE10SysxZmtiNFFvOThzaC9zWmVYNHBYNUcvc1V4RGJlS0d2YWZWaGlSZjFZVDh2Uy9RVitSdjdGSTU0Ly9KSDZ3MzhqYUg5Vitodm9LODM5c3VodndHdm9YNlVhejhxNVhXTVVySHpHbnJpZFU1MGdaYzN6bS9zZDdINy9mSXh5dklVRHhYTWI1d1RVT0ZWMDFlN3YzSE0rd3FOckpBWC9zWmdYcGJvaS9Yd2dmV3daWDdqczBzVjlxL1EzemlGaUo3WFEveU44dnpHVjczUjNDK2pyNm4xWVlrWDlXRS9yOWI1amZOM1V2ZjhqWHE5Z2I4eHRQOFMvZ2I2ZWwrL0hQc2I4SnJHeXhJL2l2bW85ZndOUytZQk9KK3lYcjk4eVl2ektRdnlza1JmckljcitSdFgreGZuVTlieU55NTRvYS9GL0EzcXczZjVHNWJNYjNBK1pjMytTODF2b0svWDljdWNUK25pOWZWKzQza2J5Y3RLNTRtK1M4TndQa3J5OGxOZ0Ryd2lmK1BuRFliemg1WDhqUzJ1aUZmc2J6am5VNTdSbDN0ai9zYnVxNUdJbDVnWGRlWTNodk95UkYrc2h3K3NoeWJYUThuTFN2dVhPSjhpL1kzVEkzaXA4eW5TMzdCU25nUDZtbHNmbG5oUkgvYnpza1JmNG54S0pYK2pvOTdBM3hqYWY4WDVHK2pyaGYyeU9wOENyN3QrbE9KMW1JSFo1cVdZcWZORUNTLzh3OGQ0aGY3R041NGdQK3A3V1d2eU4ySlhuL21OZjZXdlZuK2o1L3NVL0kzQnZKamZHTHdlbWx3UEpTOHI3Vi9NYnp5aUw4VXJ6QmZkL2xBakwvUTFyVDRzOGFJKzdPZGxpYjdDZkZFemxiK1IrQnM5OVFiK3h0RCtpL21OWDlNdk03L1J5OHZiODJCTHZNanZuWFovU3NuZjRQNlV1ZnBxOVRlNFAyVmhYdHlmTW5nOWJMby9wZVJ2Y0gvS3RQdFRTdjB5K3BwY0gzSi95aVJlemZlbmxQd043azladHYvaS9wUmYweS9qYi9Ud3NzU1BPaVNmMkRFMFdaMG44a2Z6bzM3eThlRjF5dVFQZUtuOERlVnZ4Q0dpSGZtaTUwZndxdW5MdGI3OHVYelJUNGdSL2RkQVhvL2xpN0lleHV1aHlmVlE4ckxTL3RXWUwzcCtCQzl4UHNYbC9TbWUzTWR4d1F0OVRhc1BTN3lvRC90NVdhSXZrYitoNzArSmlvcnVlZ04vWTJqLzlXQytLUHFhMnkrMzVvdkNhK2g5dm00eUx3WC9jTnI4aHV0OFVaTjVsY3h2ek5XWGEzMDU4eHN2NDhYOHh1RDFzR2wrdzNXKzZPWCt4ZnpHSS9wcW10OXduVmQ1eFF0OVRhc1BTN3lvRC90NU5jOXZ1TTRYTlprdnl2ekdzdjBYOHh1L3BsOW1mbU1wWHRsNW92KzhaZlMxa3IrUjVUbWNibnJGMzVqZUw5L2doYit4SUM5TDlNVjZ1STYvY2IxLzRXK3M1RzljOGtKZlMva2IxSWZ2OGpleS9JMk9lZ04vWTJqL0ZjOXZvSzhYOXN2NEc4dndNczFML3BRbHZ6RCtoUEI2eXQ4dzNTL0xYYytTRFRIK2hQQjZxbCsreVd0WGI4UzlRMVlSd1dzRUwwdjB4WHE0aHI5eGIvL2EreHVXL0FIc1B5SCt4dFAreGkxZTZHc1pmNFA2OEYzK2htbC9vN2Zld044WTJuK2QvQTMwOWRaKytlQnZ3S3VOMSs2ZmovZmR5UE5FRnA0bnNwUHJ1K01WUGpMOVNIekN2OGpyZkRMaHMzd2RtNmdQeWpNdzIvMUNqNjl6UFIzTDNEMHkvY2k1SC9aSmZibldWK2h2N1A0cjBsZGNiK3p1bG9MWElGNm1lYkVlZHZNUzk4UEsvQTBMOHpmdTdWK1J2eEdpUEh4Qy9JMTlpSW5nSmU2SGpmSWNidkZDWDlQcXd4SXY2c04rWHBib1M5d1BHeDU2UGFWd1BGWnY0RzhNN2I5Q2Z3Tjl2YkZmRHYwTmVBMzFvMXo3VVNtdklFb2x2bHNuUzNTQjEzWW51alcvc2QvRjd2ZkxRWlJsZk5kWWxvQUtyNksrMnYyTklPOHJ2bnN4U3lTRDF3aGVsdWlMOWZDQjliQmxmdU96U3hYMnI5RGZpUEpGRCtzaC9rWjVmdU9yM21qdWw5SFgxUHF3eEl2NnNKOVg2L3pHK1R1cGUvNUd2ZDdBM3hqYWZ3bC9BMzI5cjErTy9RMTRUZU5saVIvRmZOUjYvb1lsOHdDY1QxbXZYNzdreGZtVUJYbFpvaS9XdzVYOGphdjlpL01wYS9rYkY3elExMkwrQnZYaHUvd05TK1kzT0oreVp2K2w1amZRMSt2NlpjNm5kUEg2ZXIveHZJM2taYVh6Uk4rbFlUZ2ZKWG41OFVBWnZEeStIOWFrdjJHbC9JMHRyb2hYN0c4NDUxT2UwWmQ3WS83RzdxdVJpSmVZRjNYbU40Ynpza1JmckljUHJJY20xMFBKeTByN2x6aWZJdjJOMHlONHFmTXAwdCt3VXA0RCtwcGJINVo0VVIvMjg3SkVYK0o4U2lWL282UGV3TjhZMm4vRitSdm82NFg5c2pxZkFxKzdmcFRpZFppQnNmMmI5MlplK0llUDhRcjlqZThYSGVSSGZTOXJUZjVHYUdJd3YvSFA5TlhxYi9SOG40Sy9NWmdYOHh1RDEwT1Q2NkhrWmFYOWkvbU5SL1NsZUlYNW90c2ZhdVNGdnFiVmh5VmUxSWY5dkN6UlY1Z3ZLaTZkei8yTm5ub0RmMk5vLzhYOHhxL3BsNW5mNk9YbDdYbXdKVjdrOTA2N1A2WGtiM0IveWx4OXRmb2IzSit5TUMvdVR4bThIamJkbjFMeU43Zy9aZHI5S2FWK0dYMU5yZys1UDJVU3IrYjdVMHIrQnZlbkxOdC9jWC9LcittWDhUZDZlRm5pUngyU1Qrd2lpWGQ3Y3VMQi9LaWZmSHg0UmVtZDU1NDN6dDlRL2tZWUlycDM1dHZ5UmMrUDRGWFRsMnQ5K1hQNW9wOFFJL3F2Z2J3ZXl4ZGxQWXpYUTVQcm9lUmxwZjJyTVYvMC9BaGU0bnlLeS90VFBMbVA0NElYK3BwV0g1WjRVUi8yODdKRVh5Si9ROStmRWhRVi9mVUcvc2JRL3V2QmZGSDBOYmRmYnMwWGhkZlErM3pkWkY0Sy91RzArUTNYK2FJbTh5cVozNWlyTDlmNmN1WTNYc2FMK1kzQjYySFQvSWJyZk5ITC9ZdjVqVWYwMVRTLzRUcXY4b29YK3BwV0g1WjRVUi8yODJxZTMzQ2RMMm95WDVUNWpXWDdMK1kzZmsyL3pQekdVcnl5ODBUL2Vjdm9heVYvSTh0ek9OMzBpcjh4dlYrK3dRdC9ZMEZlbHVpTDlYQWRmK042LzhMZldNbmZ1T1NGdnBieU42Z1AzK1Z2WlBrYkhmVUcvc2JRL2l1ZTMwQmZMK3lYOFRlS3ZMWkpzSHRlMnlUWUl5K3JPSUhiNU43NzFyMXZwUXF2WFhLdksxNUhmOE9rdjVFNEZmdWs1YnVqSFR0ZStCdmQra29xODVTWC9xckYzQVV2L0kzQnZDelJGK3ZoQSt1aHlmVlE4ckxTL3JYM04xS0RhN2NlT3ZxeTJOL1k4VHI0R3liNzVadTgwTmUwK3JERWkvcXduNWNsK2pyNEczWnpVbmR2WW5UWEcvZ2JRL3V2ZzcrQnZ0N2JMeC84RFhpMThkcmRMTFBqZGJ5WmQxOFdtanJKRlIwMTJ1SHlPQ28yZi9USGVaMkFiWGFpQTdCUEp4VUFzKzB2UEI1VDN6NksvWTN6aWMxYmo5QlhTVit1OVJYNkcvdm5vWWhjUGNMZkdNekxOQy9XdzI1ZWtiK3hYeG9qWGxiYXZ5Si80eElsL3NaUlg0cFg1Rzk4YlY5UnYzekpDMzFOcXc5THZLZ1ArM2xab3EvSTMvalp2eFN2ME4vb3FUZndONGIyWDZHL2diN2UyQytIL2dhOGh2cFJydjJvbEplT1VnbnpVajdmbDhGcno2dHhmc05kem0ray9iS09zZ3p6UmJlODhEZTY5ZFh1Yitnb3NERHZhOE1MZjJNd0wwdjB4WHI0d0hyWU1yL2hMdWMzcnZldjBOOEk4MFgzNnlIK1JubCs0L01tdlprWCtwcFdINVo0VVIvMjgycWQzd2krTmJ2bGI5VHJEZnlOb2YyWDhEZlExL3Y2NWRqZmdOYzBYcGI0VWN4SHJlZHZXRElQd1BtVTlmcmxTMTZjVDFtUWx5WDZZajFjeWQrNDJyODRuN0tXdjNIQkMzMHQ1bTlRSDc3TDM3Qmtmb1B6S1d2MlgycCtBMzI5cmwvbWZFb1hyMTJWZUp5M2tieXNkSjVvTjNaekhLcVJ2UHg0b0F4ZW9iK3huMElNZURYbmIreW1FQ01vOXg3QnE2WXY5OGI4amQxWEk2R0lYRDNDM3hqTXl4SjlzUjQrc0I2YVhBOGxMeXZ0WCtKOGl2UTNUby9ncGM2blNIL0RTbmtPNkd0dWZWamlSWDNZejhzU2ZZbnpLWlg4alk1NkEzOWphUDhWNTIrZ3J4ZjJ5K3A4Q3J6dStsR0sxMkVHWnB1WEVsMXFjOGtMLy9BeFhxRy84ZjNLZ3Z5b2JialE3WDQ1TVRHWTMvZ0grbXIxTjNxK1Q4SGZHTXlMK1kzQjY2SEo5VkR5c3RMK3hmekdJL3BTdk1KODBlMFBOZkpDWDlQcXd4SXY2c04rWHBib0s4d1hqUzZkdi9RM2V1b04vSTJoL1Jmekc3K21YMlorbzVlWHQrZkJsbmlSM3p2dC9wU1N2OEg5S1hQMTFlcHZjSC9Ld3J5NFAyWHdldGgwZjBySjMrRCtsR24zcDVUNlpmUTF1VDdrL3BSSnZKcnZUeW41Rzl5ZnNtei94ZjBwdjZaZnh0L280V1dKSDNWSVB0bXZXam9QTmdpeDZjbTMrZm1zOExJZ3ZmUElTK1Z2S0g4akRCSHR5UmM5UDRKWFRWK3U5ZVhQNVl0K1Fvem92d2J5ZWl4ZmxQVXdYZzlOcm9lU2w1WDJyOFo4MGZNamVJbnpLUzd2VC9Ia1BvNExYdWhyV24xWTRrVjkyTS9MRW4ySi9BMTlmMHBRVlBUWEcvZ2JRL3V2Qi9ORjBkZmNmcmsxWHhSZVErL3pkWk41S2ZpSDArWTNYT2VMbXN5clpINWpycjVjNjh1WjMzZ1pMK1kzQnErSFRmTWJydk5GTC9jdjVqY2UwVmZUL0licnZNb3JYdWhyV24xWTRrVjkyTStyZVg3RGRiNm95WHhSNWplVzdiK1kzL2cxL1RMekcwdnh5czRUL2ZkZjZHc2xmeVBMY3pqZDlJcS9NYjFmdnNFTGYyTkJYcGJvaS9Wd0hYL2pldi9DMzFqSjM3amtoYjZXOGplb0Q5L2xiMlQ1R3gzMUJ2N0cwUDRybnQ5QVh5L3NsL0UzaXJ5Mmt6WUhYb2NURFJ0ZTJ6bW4rN3dTS05sUGJUL2JNRjcvRjJBQThpaVB5NG5BZ0JZQUFBQUFTVVZPUks1Q1lJST1cIiIsInZhciBnO1xuXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxuZyA9IChmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXM7XG59KSgpO1xuXG50cnkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcblx0ZyA9IGcgfHwgbmV3IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTtcbn0gY2F0Y2ggKGUpIHtcblx0Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcblx0aWYgKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpIGcgPSB3aW5kb3c7XG59XG5cbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cbi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XG5cbm1vZHVsZS5leHBvcnRzID0gZztcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obW9kdWxlKSB7XG5cdGlmICghbW9kdWxlLndlYnBhY2tQb2x5ZmlsbCkge1xuXHRcdG1vZHVsZS5kZXByZWNhdGUgPSBmdW5jdGlvbigpIHt9O1xuXHRcdG1vZHVsZS5wYXRocyA9IFtdO1xuXHRcdC8vIG1vZHVsZS5wYXJlbnQgPSB1bmRlZmluZWQgYnkgZGVmYXVsdFxuXHRcdGlmICghbW9kdWxlLmNoaWxkcmVuKSBtb2R1bGUuY2hpbGRyZW4gPSBbXTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImxvYWRlZFwiLCB7XG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIG1vZHVsZS5sO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsIFwiaWRcIiwge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBtb2R1bGUuaTtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRtb2R1bGUud2VicGFja1BvbHlmaWxsID0gMTtcblx0fVxuXHRyZXR1cm4gbW9kdWxlO1xufTtcbiIsInZhciBhcGkgPSByZXF1aXJlKFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiKTtcbiAgICAgICAgICAgIHZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9tYWluLmNzc1wiKTtcblxuICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQuX19lc01vZHVsZSA/IGNvbnRlbnQuZGVmYXVsdCA6IGNvbnRlbnQ7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuICAgICAgICAgICAgfVxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLmluc2VydCA9IFwiaGVhZFwiO1xub3B0aW9ucy5zaW5nbGV0b24gPSBmYWxzZTtcblxudmFyIHVwZGF0ZSA9IGFwaShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHMgfHwge307IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBpc09sZElFID0gZnVuY3Rpb24gaXNPbGRJRSgpIHtcbiAgdmFyIG1lbW87XG4gIHJldHVybiBmdW5jdGlvbiBtZW1vcml6ZSgpIHtcbiAgICBpZiAodHlwZW9mIG1lbW8gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBUZXN0IGZvciBJRSA8PSA5IGFzIHByb3Bvc2VkIGJ5IEJyb3dzZXJoYWNrc1xuICAgICAgLy8gQHNlZSBodHRwOi8vYnJvd3NlcmhhY2tzLmNvbS8jaGFjay1lNzFkODY5MmY2NTMzNDE3M2ZlZTcxNWMyMjJjYjgwNVxuICAgICAgLy8gVGVzdHMgZm9yIGV4aXN0ZW5jZSBvZiBzdGFuZGFyZCBnbG9iYWxzIGlzIHRvIGFsbG93IHN0eWxlLWxvYWRlclxuICAgICAgLy8gdG8gb3BlcmF0ZSBjb3JyZWN0bHkgaW50byBub24tc3RhbmRhcmQgZW52aXJvbm1lbnRzXG4gICAgICAvLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyL2lzc3Vlcy8xNzdcbiAgICAgIG1lbW8gPSBCb29sZWFuKHdpbmRvdyAmJiBkb2N1bWVudCAmJiBkb2N1bWVudC5hbGwgJiYgIXdpbmRvdy5hdG9iKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWVtbztcbiAgfTtcbn0oKTtcblxudmFyIGdldFRhcmdldCA9IGZ1bmN0aW9uIGdldFRhcmdldCgpIHtcbiAgdmFyIG1lbW8gPSB7fTtcbiAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9yaXplKHRhcmdldCkge1xuICAgIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdmFyIHN0eWxlVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpOyAvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuXG4gICAgICBpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcbiAgICAgICAgICAvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuICAgICAgICAgIHN0eWxlVGFyZ2V0ID0gc3R5bGVUYXJnZXQuY29udGVudERvY3VtZW50LmhlYWQ7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICAgIHN0eWxlVGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcbiAgICB9XG5cbiAgICByZXR1cm4gbWVtb1t0YXJnZXRdO1xuICB9O1xufSgpO1xuXG52YXIgc3R5bGVzSW5Eb20gPSBbXTtcblxuZnVuY3Rpb24gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcikge1xuICB2YXIgcmVzdWx0ID0gLTE7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXNJbkRvbS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChzdHlsZXNJbkRvbVtpXS5pZGVudGlmaWVyID09PSBpZGVudGlmaWVyKSB7XG4gICAgICByZXN1bHQgPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpIHtcbiAgdmFyIGlkQ291bnRNYXAgPSB7fTtcbiAgdmFyIGlkZW50aWZpZXJzID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBsaXN0W2ldO1xuICAgIHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuICAgIHZhciBjb3VudCA9IGlkQ291bnRNYXBbaWRdIHx8IDA7XG4gICAgdmFyIGlkZW50aWZpZXIgPSBcIlwiLmNvbmNhdChpZCwgXCIgXCIpLmNvbmNhdChjb3VudCk7XG4gICAgaWRDb3VudE1hcFtpZF0gPSBjb3VudCArIDE7XG4gICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgdmFyIG9iaiA9IHtcbiAgICAgIGNzczogaXRlbVsxXSxcbiAgICAgIG1lZGlhOiBpdGVtWzJdLFxuICAgICAgc291cmNlTWFwOiBpdGVtWzNdXG4gICAgfTtcblxuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS5yZWZlcmVuY2VzKys7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0udXBkYXRlcihvYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZXNJbkRvbS5wdXNoKHtcbiAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpZmllcixcbiAgICAgICAgdXBkYXRlcjogYWRkU3R5bGUob2JqLCBvcHRpb25zKSxcbiAgICAgICAgcmVmZXJlbmNlczogMVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWRlbnRpZmllcnMucHVzaChpZGVudGlmaWVyKTtcbiAgfVxuXG4gIHJldHVybiBpZGVudGlmaWVycztcbn1cblxuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgdmFyIGF0dHJpYnV0ZXMgPSBvcHRpb25zLmF0dHJpYnV0ZXMgfHwge307XG5cbiAgaWYgKHR5cGVvZiBhdHRyaWJ1dGVzLm5vbmNlID09PSAndW5kZWZpbmVkJykge1xuICAgIHZhciBub25jZSA9IHR5cGVvZiBfX3dlYnBhY2tfbm9uY2VfXyAhPT0gJ3VuZGVmaW5lZCcgPyBfX3dlYnBhY2tfbm9uY2VfXyA6IG51bGw7XG5cbiAgICBpZiAobm9uY2UpIHtcbiAgICAgIGF0dHJpYnV0ZXMubm9uY2UgPSBub25jZTtcbiAgICB9XG4gIH1cblxuICBPYmplY3Qua2V5cyhhdHRyaWJ1dGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoa2V5LCBhdHRyaWJ1dGVzW2tleV0pO1xuICB9KTtcblxuICBpZiAodHlwZW9mIG9wdGlvbnMuaW5zZXJ0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgb3B0aW9ucy5pbnNlcnQoc3R5bGUpO1xuICB9IGVsc2Uge1xuICAgIHZhciB0YXJnZXQgPSBnZXRUYXJnZXQob3B0aW9ucy5pbnNlcnQgfHwgJ2hlYWQnKTtcblxuICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydCcgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuICAgIH1cblxuICAgIHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gIH1cblxuICByZXR1cm4gc3R5bGU7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSkge1xuICAvLyBpc3RhbmJ1bCBpZ25vcmUgaWZcbiAgaWYgKHN0eWxlLnBhcmVudE5vZGUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBzdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlKTtcbn1cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuXG5cbnZhciByZXBsYWNlVGV4dCA9IGZ1bmN0aW9uIHJlcGxhY2VUZXh0KCkge1xuICB2YXIgdGV4dFN0b3JlID0gW107XG4gIHJldHVybiBmdW5jdGlvbiByZXBsYWNlKGluZGV4LCByZXBsYWNlbWVudCkge1xuICAgIHRleHRTdG9yZVtpbmRleF0gPSByZXBsYWNlbWVudDtcbiAgICByZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcbiAgfTtcbn0oKTtcblxuZnVuY3Rpb24gYXBwbHlUb1NpbmdsZXRvblRhZyhzdHlsZSwgaW5kZXgsIHJlbW92ZSwgb2JqKSB7XG4gIHZhciBjc3MgPSByZW1vdmUgPyAnJyA6IG9iai5tZWRpYSA/IFwiQG1lZGlhIFwiLmNvbmNhdChvYmoubWVkaWEsIFwiIHtcIikuY29uY2F0KG9iai5jc3MsIFwifVwiKSA6IG9iai5jc3M7IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cbiAgaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSByZXBsYWNlVGV4dChpbmRleCwgY3NzKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XG4gICAgdmFyIGNoaWxkTm9kZXMgPSBzdHlsZS5jaGlsZE5vZGVzO1xuXG4gICAgaWYgKGNoaWxkTm9kZXNbaW5kZXhdKSB7XG4gICAgICBzdHlsZS5yZW1vdmVDaGlsZChjaGlsZE5vZGVzW2luZGV4XSk7XG4gICAgfVxuXG4gICAgaWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XG4gICAgICBzdHlsZS5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZS5hcHBlbmRDaGlsZChjc3NOb2RlKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gYXBwbHlUb1RhZyhzdHlsZSwgb3B0aW9ucywgb2JqKSB7XG4gIHZhciBjc3MgPSBvYmouY3NzO1xuICB2YXIgbWVkaWEgPSBvYmoubWVkaWE7XG4gIHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuXG4gIGlmIChtZWRpYSkge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZSgnbWVkaWEnLCBtZWRpYSk7XG4gIH0gZWxzZSB7XG4gICAgc3R5bGUucmVtb3ZlQXR0cmlidXRlKCdtZWRpYScpO1xuICB9XG5cbiAgaWYgKHNvdXJjZU1hcCAmJiBidG9hKSB7XG4gICAgY3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIi5jb25jYXQoYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSwgXCIgKi9cIik7XG4gIH0gLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuXG4gIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChzdHlsZS5maXJzdENoaWxkKSB7XG4gICAgICBzdHlsZS5yZW1vdmVDaGlsZChzdHlsZS5maXJzdENoaWxkKTtcbiAgICB9XG5cbiAgICBzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgfVxufVxuXG52YXIgc2luZ2xldG9uID0gbnVsbDtcbnZhciBzaW5nbGV0b25Db3VudGVyID0gMDtcblxuZnVuY3Rpb24gYWRkU3R5bGUob2JqLCBvcHRpb25zKSB7XG4gIHZhciBzdHlsZTtcbiAgdmFyIHVwZGF0ZTtcbiAgdmFyIHJlbW92ZTtcblxuICBpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcbiAgICB2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcbiAgICBzdHlsZSA9IHNpbmdsZXRvbiB8fCAoc2luZ2xldG9uID0gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpKTtcbiAgICB1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIGZhbHNlKTtcbiAgICByZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIHRydWUpO1xuICB9IGVsc2Uge1xuICAgIHN0eWxlID0gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuICAgIHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZSwgb3B0aW9ucyk7XG5cbiAgICByZW1vdmUgPSBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuICAgIH07XG4gIH1cblxuICB1cGRhdGUob2JqKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlKG5ld09iaikge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB1cGRhdGUob2JqID0gbmV3T2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVtb3ZlKCk7XG4gICAgfVxuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChsaXN0LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9OyAvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cbiAgLy8gdGFncyBpdCB3aWxsIGFsbG93IG9uIGEgcGFnZVxuXG4gIGlmICghb3B0aW9ucy5zaW5nbGV0b24gJiYgdHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uICE9PSAnYm9vbGVhbicpIHtcbiAgICBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcbiAgfVxuXG4gIGxpc3QgPSBsaXN0IHx8IFtdO1xuICB2YXIgbGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICBuZXdMaXN0ID0gbmV3TGlzdCB8fCBbXTtcblxuICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobmV3TGlzdCkgIT09ICdbb2JqZWN0IEFycmF5XScpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGlkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbaV07XG4gICAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS5yZWZlcmVuY2VzLS07XG4gICAgfVxuXG4gICAgdmFyIG5ld0xhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShuZXdMaXN0LCBvcHRpb25zKTtcblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgX2lkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbX2ldO1xuXG4gICAgICB2YXIgX2luZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoX2lkZW50aWZpZXIpO1xuXG4gICAgICBpZiAoc3R5bGVzSW5Eb21bX2luZGV4XS5yZWZlcmVuY2VzID09PSAwKSB7XG4gICAgICAgIHN0eWxlc0luRG9tW19pbmRleF0udXBkYXRlcigpO1xuXG4gICAgICAgIHN0eWxlc0luRG9tLnNwbGljZShfaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxhc3RJZGVudGlmaWVycyA9IG5ld0xhc3RJZGVudGlmaWVycztcbiAgfTtcbn07IiwiLy8gSW1wb3J0c1xudmFyIF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyA9IHJlcXVpcmUoXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCIpO1xudmFyIF9fX0NTU19MT0FERVJfR0VUX1VSTF9JTVBPUlRfX18gPSByZXF1aXJlKFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2dldFVybC5qc1wiKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfMF9fXyA9IHJlcXVpcmUoXCIuLi9pbWFnZS9saW5lcy5wbmdcIik7XG5leHBvcnRzID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKGZhbHNlKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8wX19fID0gX19fQ1NTX0xPQURFUl9HRVRfVVJMX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfMF9fXyk7XG4vLyBNb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcImJvZHkge1xcbiAgY29sb3I6IGRhcmtzbGF0ZWdyZXk7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiBsaWdodGJsdWU7XFxufVxcblxcbi5jb2RlIHtcXG4gIHdoaXRlLXNwYWNlOiBwcmU7XFxuICBmb250LWZhbWlseTogbW9ub3NwYWNlO1xcbn1cXG5cXG4uZWRpdG9yIHtcXG4gIGJhY2tncm91bmQ6IHVybChcIiArIF9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzBfX18gKyBcIik7XFxuICBiYWNrZ3JvdW5kLWF0dGFjaG1lbnQ6IGxvY2FsO1xcbiAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcXG4gIHBhZGRpbmctbGVmdDogMzBweDtcXG4gIHBhZGRpbmctdG9wOiAxMHB4O1xcbiAgYm9yZGVyLWNvbG9yOiAjY2NjO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogYmxhbmNoZWRhbG1vbmQ7XFxuICBmb250LXNpemU6IDE0cHg7XFxufVxcblxcbi5pbmZvIHtcXG4gIGNvbG9yOiBkYXJrc2xhdGVncmV5O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogbGlnaHR5ZWxsb3c7XFxufVxcblxcbi5zdWNjZXNzIHtcXG4gIGNvbG9yOiBkYXJrc2xhdGVncmV5O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogbGlnaHRncmVlbjtcXG59XFxuXFxuLmVycm9yIHtcXG4gIGNvbG9yOiByZWQ7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiBsaWdodHBpbms7XFxufVxcblwiLCBcIlwiXSk7XG4vLyBFeHBvcnRzXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHM7XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuLypcbiAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcbiAgQXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbi8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodXNlU291cmNlTWFwKSB7XG4gIHZhciBsaXN0ID0gW107IC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcblxuICBsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICB2YXIgY29udGVudCA9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKTtcblxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgcmV0dXJuIFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpLmNvbmNhdChjb250ZW50LCBcIn1cIik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH0pLmpvaW4oJycpO1xuICB9OyAvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuXG5cbiAgbGlzdC5pID0gZnVuY3Rpb24gKG1vZHVsZXMsIG1lZGlhUXVlcnksIGRlZHVwZSkge1xuICAgIGlmICh0eXBlb2YgbW9kdWxlcyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgbW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgJyddXTtcbiAgICB9XG5cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXG4gICAgaWYgKGRlZHVwZSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItZGVzdHJ1Y3R1cmluZ1xuICAgICAgICB2YXIgaWQgPSB0aGlzW2ldWzBdO1xuXG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IG1vZHVsZXMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19pXSk7XG5cbiAgICAgIGlmIChkZWR1cGUgJiYgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29udGludWVcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChtZWRpYVF1ZXJ5KSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMl0gPSBcIlwiLmNvbmNhdChtZWRpYVF1ZXJ5LCBcIiBhbmQgXCIpLmNvbmNhdChpdGVtWzJdKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBsaXN0O1xufTtcblxuZnVuY3Rpb24gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApIHtcbiAgdmFyIGNvbnRlbnQgPSBpdGVtWzFdIHx8ICcnOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWRlc3RydWN0dXJpbmdcblxuICB2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG5cbiAgaWYgKCFjc3NNYXBwaW5nKSB7XG4gICAgcmV0dXJuIGNvbnRlbnQ7XG4gIH1cblxuICBpZiAodXNlU291cmNlTWFwICYmIHR5cGVvZiBidG9hID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdmFyIHNvdXJjZU1hcHBpbmcgPSB0b0NvbW1lbnQoY3NzTWFwcGluZyk7XG4gICAgdmFyIHNvdXJjZVVSTHMgPSBjc3NNYXBwaW5nLnNvdXJjZXMubWFwKGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgIHJldHVybiBcIi8qIyBzb3VyY2VVUkw9XCIuY29uY2F0KGNzc01hcHBpbmcuc291cmNlUm9vdCB8fCAnJykuY29uY2F0KHNvdXJjZSwgXCIgKi9cIik7XG4gICAgfSk7XG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbignXFxuJyk7XG4gIH1cblxuICByZXR1cm4gW2NvbnRlbnRdLmpvaW4oJ1xcbicpO1xufSAvLyBBZGFwdGVkIGZyb20gY29udmVydC1zb3VyY2UtbWFwIChNSVQpXG5cblxuZnVuY3Rpb24gdG9Db21tZW50KHNvdXJjZU1hcCkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSk7XG4gIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgcmV0dXJuIFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbn0iLCJcInVzZSBzdHJpY3RcIjtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodXJsLCBvcHRpb25zKSB7XG4gIGlmICghb3B0aW9ucykge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgIG9wdGlvbnMgPSB7fTtcbiAgfSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZXJzY29yZS1kYW5nbGUsIG5vLXBhcmFtLXJlYXNzaWduXG5cblxuICB1cmwgPSB1cmwgJiYgdXJsLl9fZXNNb2R1bGUgPyB1cmwuZGVmYXVsdCA6IHVybDtcblxuICBpZiAodHlwZW9mIHVybCAhPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gdXJsO1xuICB9IC8vIElmIHVybCBpcyBhbHJlYWR5IHdyYXBwZWQgaW4gcXVvdGVzLCByZW1vdmUgdGhlbVxuXG5cbiAgaWYgKC9eWydcIl0uKlsnXCJdJC8udGVzdCh1cmwpKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgdXJsID0gdXJsLnNsaWNlKDEsIC0xKTtcbiAgfVxuXG4gIGlmIChvcHRpb25zLmhhc2gpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICB1cmwgKz0gb3B0aW9ucy5oYXNoO1xuICB9IC8vIFNob3VsZCB1cmwgYmUgd3JhcHBlZD9cbiAgLy8gU2VlIGh0dHBzOi8vZHJhZnRzLmNzc3dnLm9yZy9jc3MtdmFsdWVzLTMvI3VybHNcblxuXG4gIGlmICgvW1wiJygpIFxcdFxcbl0vLnRlc3QodXJsKSB8fCBvcHRpb25zLm5lZWRRdW90ZXMpIHtcbiAgICByZXR1cm4gXCJcXFwiXCIuY29uY2F0KHVybC5yZXBsYWNlKC9cIi9nLCAnXFxcXFwiJykucmVwbGFjZSgvXFxuL2csICdcXFxcbicpLCBcIlxcXCJcIik7XG4gIH1cblxuICByZXR1cm4gdXJsO1xufTsiLCJpbXBvcnQgeyBMZXhlciwgY3JlYXRlVG9rZW4gfSBmcm9tIFwiY2hldnJvdGFpblwiXG5cbmNvbnN0IFdoaXRlU3BhY2UgPSBjcmVhdGVUb2tlbih7IG5hbWU6IFwiV2hpdGVTcGFjZVwiLCBwYXR0ZXJuOiAvXFxzKy8sIGdyb3VwOiBMZXhlci5TS0lQUEVEIH0pXG5leHBvcnQgY29uc3QgVmFyID0gY3JlYXRlVG9rZW4oeyBuYW1lOiBcIlZhclwiLCBwYXR0ZXJuOiAvdmFyLyB9KVxuZXhwb3J0IGNvbnN0IFByaW50ID0gY3JlYXRlVG9rZW4oeyBuYW1lOiBcIlByaW50XCIsIHBhdHRlcm46IC9wcmludC8gfSlcbmV4cG9ydCBjb25zdCBQcmludGxuID0gY3JlYXRlVG9rZW4oeyBuYW1lOiBcIlByaW50bG5cIiwgcGF0dGVybjogL3ByaW50bG4vIH0pXG5leHBvcnQgY29uc3QgSWRlbnRpZmllciA9IGNyZWF0ZVRva2VuKHsgbmFtZTogXCJJZGVudGlmaWVyXCIsIHBhdHRlcm46IC9bYS16QS1aXVxcdyovIH0pXG5leHBvcnQgY29uc3QgTGl0ZXJhbCA9IGNyZWF0ZVRva2VuKHsgbmFtZTogXCJMaXRlcmFsXCIsIHBhdHRlcm46IC9cIig6P1teXFxcXFwiXSt8XFxcXCg6P1tiZm5ydHZcIlxcXFwvXXx1WzAtOWEtZkEtRl17NH0pKSpcIi8gfSlcbmV4cG9ydCBjb25zdCBJbnRlZ2VyID0gY3JlYXRlVG9rZW4oeyBuYW1lOiBcIkludGVnZXJcIiwgcGF0dGVybjogLzB8WzEtOV1cXGQqLyB9KVxuXG5leHBvcnQgY29uc3QgUGFyZW50aGVzZXNPcGVuID0gY3JlYXRlVG9rZW4oeyBuYW1lOiBcIlBhcmVudGhlc2VzT3BlblwiLCBwYXR0ZXJuOiAvXFwoLyB9KVxuZXhwb3J0IGNvbnN0IFBhcmVudGhlc2VzQ2xvc2UgPSBjcmVhdGVUb2tlbih7IG5hbWU6IFwiUGFyZW50aGVzZXNDbG9zZVwiLCBwYXR0ZXJuOiAvXFwpLyB9KVxuZXhwb3J0IGNvbnN0IEJsb2NrT3BlbiA9IGNyZWF0ZVRva2VuKHsgbmFtZTogXCJCbG9ja09wZW5cIiwgcGF0dGVybjogL3svIH0pXG5leHBvcnQgY29uc3QgQmxvY2tDbG9zZSA9IGNyZWF0ZVRva2VuKHsgbmFtZTogXCJCbG9ja0Nsb3NlXCIsIHBhdHRlcm46IC99LyB9KVxuZXhwb3J0IGNvbnN0IENvbW1hID0gY3JlYXRlVG9rZW4oeyBuYW1lOiBcIkNvbW1hXCIsIHBhdHRlcm46IC8sLyB9KVxuZXhwb3J0IGNvbnN0IFNlbWlDb2xvbiA9IGNyZWF0ZVRva2VuKHsgbmFtZTogXCJTZW1pQ29sb25cIiwgcGF0dGVybjogLzsvIH0pXG5leHBvcnQgY29uc3QgRXF1YWxzID0gY3JlYXRlVG9rZW4oeyBuYW1lOiBcIkVxdWFsc1wiLCBwYXR0ZXJuOiAvPS8gfSlcbmV4cG9ydCBjb25zdCBBZGRpdGlvbk9wID0gY3JlYXRlVG9rZW4oeyBuYW1lOiBcIkFkZGl0aW9uT3BcIiwgcGF0dGVybjogTGV4ZXIuTkEgfSlcbmV4cG9ydCBjb25zdCBNdWx0aXBsaWNhdGlvbk9wID0gY3JlYXRlVG9rZW4oeyBuYW1lOiBcIk11bHRpcGxpY2F0aW9uT3BcIiwgcGF0dGVybjogTGV4ZXIuTkEgfSlcbmV4cG9ydCBjb25zdCBQbHVzID0gY3JlYXRlVG9rZW4oeyBuYW1lOiBcIlBsdXNcIiwgcGF0dGVybjogL1xcKy8sIGNhdGVnb3JpZXM6IEFkZGl0aW9uT3AgfSlcbmV4cG9ydCBjb25zdCBNaW51cyA9IGNyZWF0ZVRva2VuKHsgbmFtZTogXCJNaW51c1wiLCBwYXR0ZXJuOiAvLS8sIGNhdGVnb3JpZXM6IEFkZGl0aW9uT3AgfSlcbmV4cG9ydCBjb25zdCBEaXYgPSBjcmVhdGVUb2tlbih7IG5hbWU6IFwiRGl2XCIsIHBhdHRlcm46IC9cXC8vLCBjYXRlZ29yaWVzOiBNdWx0aXBsaWNhdGlvbk9wIH0pXG5leHBvcnQgY29uc3QgTXVsdCA9IGNyZWF0ZVRva2VuKHsgbmFtZTogXCJNdWx0XCIsIHBhdHRlcm46IC9cXCovLCBjYXRlZ29yaWVzOiBNdWx0aXBsaWNhdGlvbk9wIH0pXG5cbmV4cG9ydCBjb25zdCB2b2NhYnVsYXJ5ID0gW1xuICBXaGl0ZVNwYWNlLFxuICAvLyBrZXl3b3Jkc1xuICBWYXIsXG4gIFByaW50bG4sXG4gIFByaW50LFxuICAvLyBpZGVudGlmaWVyLCBsaXRlcmFsIGFuZCBudW1iZXJzXG4gIElkZW50aWZpZXIsXG4gIExpdGVyYWwsXG4gIEludGVnZXIsXG4gIC8vIHNlcGFyYXRvcnNcbiAgUGFyZW50aGVzZXNPcGVuLFxuICBQYXJlbnRoZXNlc0Nsb3NlLFxuICBCbG9ja09wZW4sXG4gIEJsb2NrQ2xvc2UsXG4gIENvbW1hLFxuICBTZW1pQ29sb24sXG4gIC8vIG9wZXJhdG9yc1xuICBFcXVhbHMsXG4gIFBsdXMsXG4gIE1pbnVzLFxuICBEaXYsXG4gIE11bHQsXG4gIEFkZGl0aW9uT3AsXG4gIE11bHRpcGxpY2F0aW9uT3AsXG5dXG5cbmV4cG9ydCBjb25zdCBtajFMZXhlciA9IG5ldyBMZXhlcih2b2NhYnVsYXJ5KTtcbiIsImltcG9ydCB7IENzdFBhcnNlciB9IGZyb20gXCJjaGV2cm90YWluXCJcbmltcG9ydCB7XG4gIHZvY2FidWxhcnksIFZhciwgUHJpbnRsbiwgUHJpbnQsIElkZW50aWZpZXIsIExpdGVyYWwsIEludGVnZXIsIFBhcmVudGhlc2VzT3BlbiwgUGFyZW50aGVzZXNDbG9zZSxcbiAgQmxvY2tPcGVuLCBCbG9ja0Nsb3NlLCBDb21tYSwgU2VtaUNvbG9uLCBFcXVhbHMsIE1pbnVzLCBBZGRpdGlvbk9wLCBNdWx0aXBsaWNhdGlvbk9wLFxufSBmcm9tIFwiLi9sZXhlclwiXG5cbmNsYXNzIE1qMVBhcnNlciBleHRlbmRzIENzdFBhcnNlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKHZvY2FidWxhcnkpXG5cbiAgICBjb25zdCAkID0gdGhpc1xuXG4gICAgLy8gcHJvZ3JhbSAtPiBtZXRob2RcbiAgICAkLlJVTEUoXCJwcm9ncmFtXCIsICgpID0+IHtcbiAgICAgICQuU1VCUlVMRSgkLm1ldGhvZClcbiAgICB9KVxuXG4gICAgLy8gbWV0aG9kIC0+IGlkZW50KGlkZW50TGlzdG9wdCkgeyBkZWNsYXJhdGlvbm9wdCBzdGF0ZW1lbnRyZXAgfVxuICAgICQuUlVMRShcIm1ldGhvZFwiLCAoKSA9PiB7XG4gICAgICAkLkNPTlNVTUUoSWRlbnRpZmllcilcbiAgICAgICQuQ09OU1VNRShQYXJlbnRoZXNlc09wZW4pXG4gICAgICAkLk9QVElPTjEoKCkgPT4ge1xuICAgICAgICAkLlNVQlJVTEUoJC5pZGVudExpc3QpXG4gICAgICB9KVxuICAgICAgJC5DT05TVU1FKFBhcmVudGhlc2VzQ2xvc2UpXG4gICAgICAkLkNPTlNVTUUoQmxvY2tPcGVuKVxuICAgICAgJC5PUFRJT04yKCgpID0+IHtcbiAgICAgICAgJC5TVUJSVUxFKCQuZGVjbGFyYXRpb24pXG4gICAgICB9KVxuICAgICAgJC5NQU5ZKCgpID0+IHtcbiAgICAgICAgJC5TVUJSVUxFKCQuc3RhdGVtZW50KVxuICAgICAgfSlcbiAgICAgICQuQ09OU1VNRShCbG9ja0Nsb3NlKVxuICAgIH0pXG5cbiAgICAvLyBpZGVudExpc3QgLT4gaWRlbnQgfCBpZGVudExpc3QsIGlkZW50XG4gICAgJC5SVUxFKFwiaWRlbnRMaXN0XCIsICgpID0+IHtcbiAgICAgICQuTUFOWV9TRVAoe1xuICAgICAgICBTRVA6IENvbW1hLFxuICAgICAgICBERUY6ICgpID0+IHtcbiAgICAgICAgICAkLkNPTlNVTUUoSWRlbnRpZmllcilcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9KVxuXG4gICAgLy8gZGVjbGFyYXRpb24gLT4gdmFyIGlkZW50TGlzdDtcbiAgICAkLlJVTEUoXCJkZWNsYXJhdGlvblwiLCAoKSA9PiB7XG4gICAgICAkLkNPTlNVTUUoVmFyKVxuICAgICAgJC5TVUJSVUxFKCQuaWRlbnRMaXN0KVxuICAgICAgJC5DT05TVU1FKFNlbWlDb2xvbilcbiAgICB9KVxuXG4gICAgLy8gc3RhdGVtZW50IC0+IGFzc2lnbm1lbnQgfCBwcmludFN0YXRcbiAgICAkLlJVTEUoXCJzdGF0ZW1lbnRcIiwgKCkgPT4ge1xuICAgICAgJC5PUihbXG4gICAgICAgIHsgQUxUOiAoKSA9PiAkLlNVQlJVTEUoJC5hc3NpZ25tZW50KSB9LFxuICAgICAgICB7IEFMVDogKCkgPT4gJC5TVUJSVUxFKCQucHJpbnRTdGF0KSB9XG4gICAgICBdKVxuICAgIH0pXG5cbiAgICAvLyBhc3NpZ25tZW50IC0+IHZhcmlhYmxlID0gZXhwcmVzc2lvbjtcbiAgICAkLlJVTEUoXCJhc3NpZ25tZW50XCIsICgpID0+IHtcbiAgICAgICQuU1VCUlVMRSgkLnZhcmlhYmxlKVxuICAgICAgJC5DT05TVU1FKEVxdWFscylcbiAgICAgICQuU1VCUlVMRSgkLmV4cHJlc3Npb24pXG4gICAgICAkLkNPTlNVTUUoU2VtaUNvbG9uKVxuICAgIH0pXG5cbiAgICAvLyBleHByZXNzaW9uIC0+IC1vcHQgdGVybSB8IGV4cHJlc3Npb24gKyB0ZXJtIHwgZXhwcmVzc2lvbiDigJMgdGVybVxuICAgIC8vIHRlcm0gLT4gZmFjdG9yIHwgdGVybSAqIGZhY3RvciB8IHRlcm0gLyBmYWN0b3JcbiAgICAkLlJVTEUoXCJleHByZXNzaW9uXCIsICgpID0+IHtcbiAgICAgICQuT1BUSU9OKCgpID0+IHtcbiAgICAgICAgJC5DT05TVU1FKE1pbnVzKVxuICAgICAgfSlcbiAgICAgICQuU1VCUlVMRSgkLmFkZGl0aW9uRXhwcmVzc2lvbilcbiAgICB9KVxuXG4gICAgJC5SVUxFKFwiYWRkaXRpb25FeHByZXNzaW9uXCIsICgpID0+IHtcbiAgICAgICQuU1VCUlVMRTEoJC5tdWx0aXBsaWNhdGlvbkV4cHJlc3Npb24sIHsgTEFCRUw6IFwibGhzXCIgfSlcbiAgICAgICQuTUFOWSgoKSA9PiB7XG4gICAgICAgICQuQ09OU1VNRShBZGRpdGlvbk9wKVxuICAgICAgICAkLlNVQlJVTEUyKCQubXVsdGlwbGljYXRpb25FeHByZXNzaW9uLCB7IExBQkVMOiBcInJoc1wiIH0pXG4gICAgICB9KVxuICAgIH0pXG5cbiAgICAkLlJVTEUoXCJtdWx0aXBsaWNhdGlvbkV4cHJlc3Npb25cIiwgKCkgPT4ge1xuICAgICAgJC5TVUJSVUxFMSgkLmZhY3RvciwgeyBMQUJFTDogXCJsaHNcIiB9KVxuICAgICAgJC5NQU5ZKCgpID0+IHtcbiAgICAgICAgJC5DT05TVU1FKE11bHRpcGxpY2F0aW9uT3ApXG4gICAgICAgICQuU1VCUlVMRTIoJC5mYWN0b3IsIHsgTEFCRUw6IFwicmhzXCIgfSlcbiAgICAgIH0pXG4gICAgfSlcblxuICAgIC8vIGZhY3RvciAtPiBudW1iZXIgfCB2YXJpYWJsZSB8IChleHByZXNzaW9uKVxuICAgICQuUlVMRShcImZhY3RvclwiLCAoKSA9PiB7XG4gICAgICAkLk9SKFtcbiAgICAgICAgeyBBTFQ6ICgpID0+ICQuU1VCUlVMRSgkLm51bWJlcikgfSxcbiAgICAgICAgeyBBTFQ6ICgpID0+ICQuU1VCUlVMRSgkLnZhcmlhYmxlKSB9LFxuICAgICAgICB7XG4gICAgICAgICAgQUxUOiAoKSA9PiB7XG4gICAgICAgICAgICAkLkNPTlNVTUUoUGFyZW50aGVzZXNPcGVuKVxuICAgICAgICAgICAgJC5TVUJSVUxFKCQuZXhwcmVzc2lvbilcbiAgICAgICAgICAgICQuQ09OU1VNRShQYXJlbnRoZXNlc0Nsb3NlKVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgIF0pXG4gICAgfSlcblxuICAgIC8vIHZhcmlhYmxlIC0+IGlkZW50XG4gICAgJC5SVUxFKFwidmFyaWFibGVcIiwgKCkgPT4ge1xuICAgICAgJC5DT05TVU1FKElkZW50aWZpZXIpXG4gICAgfSlcblxuICAgIC8vIG51bWJlciAtPiBpbnRlZ2VyXG4gICAgJC5SVUxFKFwibnVtYmVyXCIsICgpID0+IHtcbiAgICAgICQuQ09OU1VNRShJbnRlZ2VyKVxuICAgIH0pXG5cbiAgICAvLyBwcmludFN0YXQgLT4gcHJpbnQgaXRlbUxpc3Q7IHwgcHJpbnRsbiBpdGVtTGlzdCBvcHQ7XG4gICAgJC5SVUxFKFwicHJpbnRTdGF0XCIsICgpID0+IHtcbiAgICAgICQuT1IoW1xuICAgICAgICB7XG4gICAgICAgICAgQUxUOiAoKSA9PiB7XG4gICAgICAgICAgICAkLkNPTlNVTUUoUHJpbnQpXG4gICAgICAgICAgICAkLlNVQlJVTEUxKCQuaXRlbUxpc3QpXG4gICAgICAgICAgICAkLkNPTlNVTUUxKFNlbWlDb2xvbilcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBBTFQ6ICgpID0+IHtcbiAgICAgICAgICAgICQuQ09OU1VNRShQcmludGxuKVxuICAgICAgICAgICAgJC5PUFRJT04oKCkgPT4ge1xuICAgICAgICAgICAgICAkLlNVQlJVTEUyKCQuaXRlbUxpc3QpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgJC5DT05TVU1FMihTZW1pQ29sb24pXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgXSlcbiAgICB9KVxuXG4gICAgLy8gaXRlbUxpc3QgLT4gcHJpbnRJdGVtIHwgaXRlbUxpc3QsIHByaW50SXRlbVxuICAgICQuUlVMRShcIml0ZW1MaXN0XCIsICgpID0+IHtcbiAgICAgICQuTUFOWV9TRVAoe1xuICAgICAgICBTRVA6IENvbW1hLFxuICAgICAgICBERUY6ICgpID0+IHtcbiAgICAgICAgICAkLlNVQlJVTEUoJC5wcmludEl0ZW0pXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSlcblxuICAgIC8vIHByaW50SXRlbSAtPiBsaXRlcmFsIHwgZXhwcmVzc2lvbiB8IGV4cHJlc3Npb24gOiBleHByZXNzaW9uXG4gICAgJC5SVUxFKFwicHJpbnRJdGVtXCIsICgpID0+IHtcbiAgICAgICQuT1IoW1xuICAgICAgICB7IEFMVDogKCkgPT4gJC5DT05TVU1FKExpdGVyYWwpIH0sXG4gICAgICAgIHsgQUxUOiAoKSA9PiAkLlNVQlJVTEUoJC5leHByZXNzaW9uKSB9LFxuICAgICAgXSlcbiAgICB9KVxuXG4gICAgdGhpcy5wZXJmb3JtU2VsZkFuYWx5c2lzKClcblxuICB9XG59XG5cbmV4cG9ydCBjb25zdCBtajFQYXJzZXIgPSBuZXcgTWoxUGFyc2VyKCk7XG4iLCJpbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHsgdG9rZW5NYXRjaGVyIH0gZnJvbSBcImNoZXZyb3RhaW5cIlxuaW1wb3J0IHsgbWoxUGFyc2VyIGFzIHBhcnNlciB9IGZyb20gXCIuL3BhcnNlclwiO1xuaW1wb3J0IHsgTXVsdCwgUGx1cyB9IGZyb20gXCIuL2xleGVyXCJcblxuY29uc3QgQmFzZUNzdFZpc2l0b3IgPSBwYXJzZXIuZ2V0QmFzZUNzdFZpc2l0b3JDb25zdHJ1Y3RvcigpXG5cbmNsYXNzIE1qMUludGVycHJldGVyIGV4dGVuZHMgQmFzZUNzdFZpc2l0b3Ige1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKClcbiAgICB0aGlzLnZhbGlkYXRlVmlzaXRvcigpXG4gICAgdGhpcy5yZXNldCgpXG4gIH1cblxuICByZXNldCgpIHtcbiAgICB0aGlzLmZyYW1lID0ge31cbiAgICB0aGlzLm91dHB1dCA9ICcnXG4gIH1cblxuICBwcm9ncmFtKGN0eCkge1xuICAgIHRoaXMucmVzZXQoKVxuICAgIHRoaXMudmlzaXQoY3R4Lm1ldGhvZClcbiAgICBjb25zb2xlLmxvZyh0aGlzLm91dHB1dClcbiAgfVxuXG4gIG1ldGhvZChjdHgpIHtcbiAgICB0aGlzLmZyYW1lID0gdGhpcy52aXNpdChjdHguaWRlbnRMaXN0KVxuICAgIGlmIChjdHguZGVjbGFyYXRpb24pIHtcbiAgICAgIGNvbnN0IHZhcnMgPSB0aGlzLnZpc2l0KGN0eC5kZWNsYXJhdGlvbilcbiAgICAgIHRoaXMuZnJhbWUgPSBfLmFzc2lnbih0aGlzLmZyYW1lLCB2YXJzKVxuICAgIH1cblxuICAgIGlmIChjdHguc3RhdGVtZW50KSB7XG4gICAgICBfLmNoYWluKGN0eC5zdGF0ZW1lbnQpXG4gICAgICAgIC5tYXAoKHN0YXRlbWVudCA9PiB7XG4gICAgICAgICAgdGhpcy52aXNpdChzdGF0ZW1lbnQpXG4gICAgICAgIH0pKVxuICAgICAgICAudmFsdWUoKVxuICAgIH1cbiAgfVxuXG4gIGlkZW50TGlzdChjdHgpIHtcbiAgICBpZiAoY3R4LklkZW50aWZpZXIpIHtcbiAgICAgIHJldHVybiBfXG4gICAgICAgIC5jaGFpbihjdHguSWRlbnRpZmllcilcbiAgICAgICAgLmtleUJ5KCdpbWFnZScpXG4gICAgICAgIC5tYXBWYWx1ZXMoKCkgPT4gbnVsbClcbiAgICAgICAgLnZhbHVlKClcbiAgICB9XG4gICAgcmV0dXJuIHt9XG4gIH1cblxuICBkZWNsYXJhdGlvbihjdHgpIHtcbiAgICByZXR1cm4gdGhpcy52aXNpdChjdHguaWRlbnRMaXN0KVxuICB9XG5cbiAgc3RhdGVtZW50KGN0eCkge1xuICAgIGlmIChjdHgucHJpbnRTdGF0KSB7XG4gICAgICB0aGlzLnZpc2l0KGN0eC5wcmludFN0YXQpXG4gICAgfSBlbHNlIGlmIChjdHguYXNzaWdubWVudCkge1xuICAgICAgdGhpcy52aXNpdChjdHguYXNzaWdubWVudClcbiAgICB9XG4gIH1cblxuICBhc3NpZ25tZW50KGN0eCkge1xuICAgIGNvbnN0IG5hbWUgPSB0aGlzLnZpc2l0KGN0eC52YXJpYWJsZSlcbiAgICBjb25zdCB2YWx1ZSA9IHRoaXMudmlzaXQoY3R4LmV4cHJlc3Npb24pXG4gICAgdGhpcy5mcmFtZVtuYW1lXSA9IHZhbHVlXG4gIH1cblxuICBleHByZXNzaW9uKGN0eCkge1xuICAgIGNvbnN0IHZhbHVlID0gdGhpcy52aXNpdChjdHguYWRkaXRpb25FeHByZXNzaW9uKVxuICAgIGlmIChjdHguTWludXMpIHtcbiAgICAgIHJldHVybiAtdmFsdWVcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlXG4gIH1cblxuICBhZGRpdGlvbkV4cHJlc3Npb24oY3R4KSB7XG4gICAgbGV0IHJlc3VsdCA9IHRoaXMudmlzaXQoY3R4LmxocylcblxuICAgIGlmIChjdHgucmhzKSB7XG4gICAgICBjdHgucmhzLmZvckVhY2goKHJoc09wZXJhbmQsIGlkeCkgPT4ge1xuICAgICAgICBsZXQgcmhzVmFsdWUgPSB0aGlzLnZpc2l0KHJoc09wZXJhbmQpXG4gICAgICAgIGxldCBvcGVyYXRvciA9IGN0eC5BZGRpdGlvbk9wW2lkeF1cblxuICAgICAgICBpZiAodG9rZW5NYXRjaGVyKG9wZXJhdG9yLCBQbHVzKSkge1xuICAgICAgICAgIHJlc3VsdCArPSByaHNWYWx1ZVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc3VsdCAtPSByaHNWYWx1ZVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHRcbiAgfVxuXG4gIG11bHRpcGxpY2F0aW9uRXhwcmVzc2lvbihjdHgpIHtcbiAgICBsZXQgcmVzdWx0ID0gdGhpcy52aXNpdChjdHgubGhzKVxuICAgIGlmIChjdHgucmhzKSB7XG4gICAgICBjdHgucmhzLmZvckVhY2goKHJoc09wZXJhbmQsIGlkeCkgPT4ge1xuICAgICAgICBsZXQgcmhzVmFsdWUgPSB0aGlzLnZpc2l0KHJoc09wZXJhbmQpXG4gICAgICAgIGxldCBvcGVyYXRvciA9IGN0eC5NdWx0aXBsaWNhdGlvbk9wW2lkeF1cblxuICAgICAgICBpZiAodG9rZW5NYXRjaGVyKG9wZXJhdG9yLCBNdWx0KSkge1xuICAgICAgICAgIHJlc3VsdCAqPSByaHNWYWx1ZVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc3VsdCAvPSByaHNWYWx1ZVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHRcbiAgfVxuXG4gIGZhY3RvcihjdHgpIHtcbiAgICBpZiAoY3R4Lm51bWJlcikge1xuICAgICAgcmV0dXJuIHRoaXMudmlzaXQoY3R4Lm51bWJlcilcbiAgICB9IGVsc2UgaWYgKGN0eC52YXJpYWJsZSkge1xuICAgICAgY29uc3QgbmFtZSA9IHRoaXMudmlzaXQoY3R4LnZhcmlhYmxlKVxuICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLmZyYW1lW25hbWVdXG4gICAgICByZXR1cm4gdmFsdWVcbiAgICB9IGVsc2UgaWYgKGN0eC5leHByZXNzaW9uKSB7XG4gICAgICByZXR1cm4gdGhpcy52aXNpdChjdHguZXhwcmVzc2lvbilcbiAgICB9XG4gIH1cblxuICB2YXJpYWJsZShjdHgpIHtcbiAgICByZXR1cm4gY3R4LklkZW50aWZpZXJbMF0uaW1hZ2VcbiAgfVxuXG4gIG51bWJlcihjdHgpIHtcbiAgICByZXR1cm4gcGFyc2VJbnQoY3R4LkludGVnZXJbMF0uaW1hZ2UsIDEwKVxuICB9XG5cbiAgcHJpbnRTdGF0KGN0eCkge1xuICAgIGNvbnN0IGl0ZW1zID0gdGhpcy52aXNpdChjdHguaXRlbUxpc3QpXG4gICAgaWYgKGN0eC5QcmludCkge1xuICAgICAgdGhpcy5kb1ByaW50KGl0ZW1zKVxuICAgIH0gZWxzZSBpZiAoY3R4LlByaW50bG4pIHtcbiAgICAgIHRoaXMuZG9QcmludGxuKGl0ZW1zKVxuICAgIH1cbiAgfVxuXG4gIGl0ZW1MaXN0KGN0eCkge1xuICAgIGlmIChjdHgucHJpbnRJdGVtKSB7XG4gICAgICByZXR1cm4gX1xuICAgICAgICAuY2hhaW4oY3R4LnByaW50SXRlbSlcbiAgICAgICAgLm1hcCgocGkpID0+IHtcbiAgICAgICAgICByZXR1cm4gdGhpcy52aXNpdChwaSlcbiAgICAgICAgfSlcbiAgICAgICAgLnZhbHVlKClcbiAgICB9XG4gICAgcmV0dXJuIFtdXG4gIH1cblxuICBwcmludEl0ZW0oY3R4KSB7XG4gICAgaWYgKGN0eC5MaXRlcmFsKSB7XG4gICAgICByZXR1cm4gXy50cmltKGN0eC5MaXRlcmFsWzBdLmltYWdlLCAnXCInKVxuICAgIH0gZWxzZSBpZiAoY3R4LmV4cHJlc3Npb24pIHtcbiAgICAgIHJldHVybiB0aGlzLnZpc2l0KGN0eC5leHByZXNzaW9uKVxuICAgIH1cbiAgfVxuXG4gIGRvUHJpbnQoaXRlbXMpIHtcbiAgICB0aGlzLm91dHB1dCArPSBfLmpvaW4oaXRlbXMsICcnKVxuICB9XG5cbiAgZG9QcmludGxuKGl0ZW1zKSB7XG4gICAgdGhpcy5vdXRwdXQgKz0gXy5qb2luKGl0ZW1zLCAnJykgKyAnXFxuJ1xuICB9XG5cbn1cblxuZXhwb3J0IGNvbnN0IG1qMUludGVycHJldGVyID0gbmV3IE1qMUludGVycHJldGVyKClcbiIsImltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgJy4vbWFpbi5jc3MnO1xuaW1wb3J0ICcuLi9pbWFnZS9saW5lcy5wbmcnO1xuaW1wb3J0IHsgcGFyc2UgfSBmcm9tICcuL21qMSc7XG5cblxuZnVuY3Rpb24gZXZhbHVhdGUoc291cmNlKSB7XG4gIGNvbnN0IHJlc3VsdFZpZXcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzdWx0JylcbiAgY29uc3QgdG9rZW5WaWV3ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Rva2VucycpXG4gIGlmICghc291cmNlKSB7XG4gICAgY29uc3QgY29kZUVkaXRvciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb2RlJylcbiAgICBzb3VyY2UgPSBjb2RlRWRpdG9yLmlubmVySFRNTFxuICB9XG4gIGNvbnN0IHJlc3VsdCA9IHBhcnNlKHNvdXJjZSk7XG5cbiAgaWYgKHJlc3VsdC5lcnJvcnMubGVuZ3RoID4gMCkge1xuICAgIHJlc3VsdFZpZXcuY2xhc3NMaXN0LnJlbW92ZSgnc3VjY2VzcycpO1xuICAgIHJlc3VsdFZpZXcuY2xhc3NMaXN0LmFkZCgnZXJyb3InKTtcbiAgICByZXN1bHRWaWV3LmlubmVySFRNTCA9IF9cbiAgICAgIC5jaGFpbihyZXN1bHQuZXJyb3JzKVxuICAgICAgLm1hcCgoZSkgPT4gYExpbmUgJHtlLnRva2VuLnN0YXJ0TGluZX06ICR7ZS5tZXNzYWdlfWApXG4gICAgICAuam9pbignXFxuJyk7XG4gIH0gZWxzZSB7XG4gICAgcmVzdWx0Vmlldy5jbGFzc0xpc3QucmVtb3ZlKCdlcnJvcicpO1xuICAgIHJlc3VsdFZpZXcuY2xhc3NMaXN0LmFkZCgnc3VjY2VzcycpO1xuICAgIHJlc3VsdFZpZXcuaW5uZXJIVE1MID0gcmVzdWx0LnZhbHVlXG4gIH1cblxuICBpZiAocmVzdWx0LmxleEVycm9ycy5sZW5ndGggPiAwKSB7XG4gICAgdG9rZW5WaWV3LmlubmVySFRNTCA9IF9cbiAgICAgIC5jaGFpbihyZXN1bHQubGV4RXJyb3JzKVxuICAgICAgLm1hcCgoZSkgPT4gYExpbmUgJHtlLmxpbmV9OiAke2UubWVzc2FnZX1gKVxuICAgICAgLmpvaW4oJ1xcbicpO1xuICB9IGVsc2Uge1xuICAgIHRva2VuVmlldy5pbm5lckhUTUwgPSBfXG4gICAgICAuY2hhaW4ocmVzdWx0LnRva2VucylcbiAgICAgIC5tYXAoKHRvaykgPT4gYCR7dG9rLnRva2VuVHlwZS5uYW1lfSAke3Rvay5pbWFnZX1gKVxuICAgICAgLmpvaW4oJ1xcbicpO1xuICB9XG59XG5cbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb2RlJykuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIChlKSA9PiBldmFsdWF0ZShlLnRhcmdldC52YWx1ZSkpXG5ldmFsdWF0ZSgpO1xuIiwiaW1wb3J0IHsgbWoxTGV4ZXIgYXMgbGV4ZXIgfSBmcm9tIFwiLi9sZXhlclwiO1xuaW1wb3J0IHsgbWoxUGFyc2VyIGFzIHBhcnNlciB9IGZyb20gXCIuL3BhcnNlclwiO1xuaW1wb3J0IHsgbWoxSW50ZXJwcmV0ZXIgYXMgaW50ZXJwcmV0ZXIgfSBmcm9tIFwiLi9pbnRlcnByZXRlclwiO1xuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2UoaW5wdXQpIHtcbiAgY29uc3QgbGV4ID0gbGV4ZXIudG9rZW5pemUoaW5wdXQpXG4gIHBhcnNlci5pbnB1dCA9IGxleC50b2tlbnNcbiAgY29uc3QgY3N0ID0gcGFyc2VyLnByb2dyYW0oKVxuICBpbnRlcnByZXRlci52aXNpdChjc3QpXG5cbiAgcmV0dXJuIHtcbiAgICB2YWx1ZTogaW50ZXJwcmV0ZXIub3V0cHV0LFxuICAgIHRva2VuczogbGV4LnRva2VucyxcbiAgICBsZXhFcnJvcnM6IGxleC5lcnJvcnMsXG4gICAgZXJyb3JzOiBwYXJzZXIuZXJyb3JzXG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=