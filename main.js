!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=12)}([function(t,e,n){"use strict";function r(t){return t&&0===t.length}function i(t){return null==t?[]:Object.keys(t)}function o(t){for(var e=[],n=Object.keys(t),r=0;r<n.length;r++)e.push(t[n[r]]);return e}function a(t,e){for(var n=[],r=i(t),o=0;o<r.length;o++){var a=r[o];n.push(e.call(null,t[a],a))}return n}function u(t,e){for(var n=[],r=0;r<t.length;r++)n.push(e.call(null,t[r],r));return n}function c(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];Array.isArray(r)?e=e.concat(c(r)):e.push(r)}return e}function s(t){return r(t)?void 0:t[0]}function f(t){var e=t&&t.length;return e?t[e-1]:void 0}function l(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e.call(null,t[n],n);else{if(!j(t))throw Error("non exhaustive match");var r=i(t);for(n=0;n<r.length;n++){var o=r[n],a=t[o];e.call(null,a,o)}}}function h(t){return"string"==typeof t}function p(t){return void 0===t}function v(t){return t instanceof Function}function d(t,e){return void 0===e&&(e=1),t.slice(e,t.length)}function y(t,e){return void 0===e&&(e=1),t.slice(0,t.length-e)}function m(t,e){var n=[];if(Array.isArray(t))for(var r=0;r<t.length;r++){var i=t[r];e.call(null,i)&&n.push(i)}return n}function g(t,e){return m(t,(function(t){return!e(t)}))}function b(t,e){for(var n=Object.keys(t),r={},i=0;i<n.length;i++){var o=n[i],a=t[o];e(a)&&(r[o]=a)}return r}function O(t,e){return!!j(t)&&t.hasOwnProperty(e)}function T(t,e){return void 0!==_(t,(function(t){return t===e}))}function E(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n]);return e}function R(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function _(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(e.call(null,r))return r}}function N(t,e){for(var n=[],r=0;r<t.length;r++){var i=t[r];e.call(null,i)&&n.push(i)}return n}function I(t,e,n){for(var r=Array.isArray(t),a=r?t:o(t),u=r?[]:i(t),c=n,s=0;s<a.length;s++)c=e.call(null,c,a[s],r?s:u[s]);return c}function A(t){return g(t,(function(t){return null==t}))}function L(t,e){void 0===e&&(e=function(t){return t});var n=[];return I(t,(function(t,r){var i=e(r);return T(n,i)?t:(n.push(i),t.concat(r))}),[])}function x(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=[null],i=r.concat(e);return Function.bind.apply(t,i)}function S(t){return Array.isArray(t)}function k(t){return t instanceof RegExp}function j(t){return t instanceof Object}function P(t,e){for(var n=0;n<t.length;n++)if(!e(t[n],n))return!1;return!0}function w(t,e){return g(t,(function(t){return T(e,t)}))}function C(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return!0;return!1}function M(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}function X(t,e){var n=E(t);return n.sort((function(t,n){return e(t)-e(n)})),n}function U(t,e){if(t.length!==e.length)throw Error("can't zipObject with different number of keys and values!");for(var n={},r=0;r<t.length;r++)n[t[r]]=e[r];return n}function D(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r++)for(var o=e[r],a=i(o),u=0;u<a.length;u++){var c=a[u];t[c]=o[c]}return t}function F(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r++)for(var o=e[r],a=i(o),u=0;u<a.length;u++){var c=a[u];O(t,c)||(t[c]=o[c])}return t}function z(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return F.apply(null,[{}].concat(t))}function G(t,e){var n={};return l(t,(function(t){var r=e(t),i=n[r];i?i.push(t):n[r]=[t]})),n}function B(t,e){for(var n=R(t),r=i(e),o=0;o<r.length;o++){var a=r[o],u=e[a];n[a]=u}return n}function H(){}function W(t){return t}function K(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];e.push(void 0!==r?r:void 0)}return e}function V(t){console&&console.error&&console.error("Error: "+t)}function Y(t){console&&console.warn&&console.warn("Warning: "+t)}function q(){return"function"==typeof Map}function Z(t,e){e.forEach((function(e){var n=e.prototype;Object.getOwnPropertyNames(n).forEach((function(r){if("constructor"!==r){var i=Object.getOwnPropertyDescriptor(n,r);i&&(i.get||i.set)?Object.defineProperty(t.prototype,r,i):t.prototype[r]=e.prototype[r]}}))}))}function J(t){function e(){}e.prototype=t;var n=new e;function r(){return typeof n.bar}return r(),r(),t}function Q(t){return t[t.length-1]}function $(t){var e=(new Date).getTime(),n=t();return{time:(new Date).getTime()-e,value:n}}n.d(e,"A",(function(){return r})),n.d(e,"G",(function(){return i})),n.d(e,"U",(function(){return o})),n.d(e,"J",(function(){return a})),n.d(e,"I",(function(){return u})),n.d(e,"t",(function(){return c})),n.d(e,"s",(function(){return s})),n.d(e,"H",(function(){return f})),n.d(e,"u",(function(){return l})),n.d(e,"E",(function(){return h})),n.d(e,"F",(function(){return p})),n.d(e,"B",(function(){return v})),n.d(e,"m",(function(){return d})),n.d(e,"n",(function(){return y})),n.d(e,"p",(function(){return m})),n.d(e,"P",(function(){return g})),n.d(e,"N",(function(){return b})),n.d(e,"w",(function(){return O})),n.d(e,"j",(function(){return T})),n.d(e,"g",(function(){return E})),n.d(e,"h",(function(){return R})),n.d(e,"q",(function(){return _})),n.d(e,"r",(function(){return N})),n.d(e,"O",(function(){return I})),n.d(e,"i",(function(){return A})),n.d(e,"T",(function(){return L})),n.d(e,"y",(function(){return S})),n.d(e,"D",(function(){return k})),n.d(e,"C",(function(){return j})),n.d(e,"o",(function(){return P})),n.d(e,"l",(function(){return w})),n.d(e,"Q",(function(){return C})),n.d(e,"x",(function(){return M})),n.d(e,"f",(function(){return D})),n.d(e,"k",(function(){return z})),n.d(e,"v",(function(){return G})),n.d(e,"K",(function(){return B})),n.d(e,"b",(function(){return H})),n.d(e,"a",(function(){return W})),n.d(e,"L",(function(){return K})),n.d(e,"c",(function(){return V})),n.d(e,"d",(function(){return Y})),n.d(e,"z",(function(){return q})),n.d(e,"e",(function(){return Z})),n.d(e,"S",(function(){return J})),n.d(e,"M",(function(){return Q})),n.d(e,"R",(function(){return $}))},function(t,e,n){"use strict";n.r(e),n.d(e,"VERSION",(function(){return r})),n.d(e,"CstParser",(function(){return rn})),n.d(e,"EmbeddedActionsParser",(function(){return on})),n.d(e,"ParserDefinitionErrorType",(function(){return Qe})),n.d(e,"EMPTY_ALT",(function(){return en})),n.d(e,"Lexer",(function(){return Y})),n.d(e,"LexerDefinitionErrorType",(function(){return W})),n.d(e,"createToken",(function(){return Q})),n.d(e,"createTokenInstance",(function(){return tt})),n.d(e,"EOF",(function(){return $})),n.d(e,"tokenLabel",(function(){return q})),n.d(e,"tokenMatcher",(function(){return et})),n.d(e,"tokenName",(function(){return Z})),n.d(e,"defaultGrammarResolverErrorProvider",(function(){return xt})),n.d(e,"defaultGrammarValidatorErrorProvider",(function(){return St})),n.d(e,"defaultParserErrorProvider",(function(){return Lt})),n.d(e,"EarlyExitException",(function(){return me})),n.d(e,"isRecognitionException",(function(){return pe})),n.d(e,"MismatchedTokenException",(function(){return ve})),n.d(e,"NotAllInputParsedException",(function(){return ye})),n.d(e,"NoViableAltException",(function(){return de})),n.d(e,"defaultLexerErrorProvider",(function(){return K})),n.d(e,"Alternation",(function(){return ht})),n.d(e,"Alternative",(function(){return at})),n.d(e,"NonTerminal",(function(){return it})),n.d(e,"Option",(function(){return ut})),n.d(e,"Repetition",(function(){return ft})),n.d(e,"RepetitionMandatory",(function(){return ct})),n.d(e,"RepetitionMandatoryWithSeparator",(function(){return st})),n.d(e,"RepetitionWithSeparator",(function(){return lt})),n.d(e,"Rule",(function(){return ot})),n.d(e,"Terminal",(function(){return pt})),n.d(e,"serializeGrammar",(function(){return vt})),n.d(e,"serializeProduction",(function(){return dt})),n.d(e,"GAstVisitor",(function(){return gt})),n.d(e,"assignOccurrenceIndices",(function(){return le})),n.d(e,"resolveGrammar",(function(){return se})),n.d(e,"validateGrammar",(function(){return fe})),n.d(e,"clearCache",(function(){return mn})),n.d(e,"createSyntaxDiagramsCode",(function(){return an})),n.d(e,"generateParserFactory",(function(){return dn})),n.d(e,"generateParserModule",(function(){return yn})),n.d(e,"Parser",(function(){return gn}));var r="7.0.1",i=n(0),o=n(3),a={},u=new o.RegExpParser;function c(t){var e=t.toString();if(a.hasOwnProperty(e))return a[e];var n=u.pattern(e);return a[e]=n,n}var s,f=(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l='Unable to use "first char" lexer optimizations:\n';function h(t,e){void 0===e&&(e=!1);try{var n=c(t);return function t(e,n,r){switch(e.type){case"Disjunction":for(var o=0;o<e.value.length;o++)t(e.value[o],n,r);break;case"Alternative":var a=e.value;for(o=0;o<a.length;o++){var u=a[o];switch(u.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}var c=u;switch(c.type){case"Character":p(c.value,n,r);break;case"Set":if(!0===c.complement)throw Error("Complement Sets are not supported for first char optimization");Object(i.u)(c.value,(function(t){if("number"==typeof t)p(t,n,r);else{var e=t;if(!0===r)for(var i=e.from;i<=e.to;i++)p(i,n,r);else{for(i=e.from;i<=e.to&&i<w;i++)p(i,n,r);if(e.to>=w)for(var o=e.from>=w?e.from:w,a=e.to,u=C(o),c=C(a),s=u;s<=c;s++)n[s]=s}}}));break;case"Group":t(c.value,n,r);break;default:throw Error("Non Exhaustive Match")}var s=void 0!==c.quantifier&&0===c.quantifier.atLeast;if("Group"===c.type&&!1===d(c)||"Group"!==c.type&&!1===s)break}break;default:throw Error("non exhaustive match!")}return Object(i.U)(n)}(n.value,{},n.flags.ignoreCase)}catch(n){if("Complement Sets are not supported for first char optimization"===n.message)e&&Object(i.d)(l+"\tUnable to optimize: < "+t.toString()+" >\n\tComplement Sets cannot be automatically optimized.\n\tThis will disable the lexer's first char optimizations.\n\tSee: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.");else{var r="";e&&(r="\n\tThis will disable the lexer's first char optimizations.\n\tSee: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details."),Object(i.c)(l+"\n\tFailed parsing: < "+t.toString()+" >\n\tUsing the regexp-to-ast library version: "+o.VERSION+"\n\tPlease open an issue at: https://github.com/bd82/regexp-to-ast/issues"+r)}}return[]}function p(t,e,n){var r=C(t);e[r]=r,!0===n&&function(t,e){var n=String.fromCharCode(t),r=n.toUpperCase();if(r!==n){var i=C(r.charCodeAt(0));e[i]=i}else{var o=n.toLowerCase();if(o!==n){i=C(o.charCodeAt(0));e[i]=i}}}(t,e)}function v(t,e){return Object(i.q)(t.value,(function(t){if("number"==typeof t)return Object(i.j)(e,t);var n=t;return void 0!==Object(i.q)(e,(function(t){return n.from<=t&&t<=n.to}))}))}function d(t){return!(!t.quantifier||0!==t.quantifier.atLeast)||!!t.value&&(Object(i.y)(t.value)?Object(i.o)(t.value,d):d(t.value))}var y=function(t){function e(e){var n=t.call(this)||this;return n.targetCharCodes=e,n.found=!1,n}return f(e,t),e.prototype.visitChildren=function(e){if(!0!==this.found){switch(e.type){case"Lookahead":return void this.visitLookahead(e);case"NegativeLookahead":return void this.visitNegativeLookahead(e)}t.prototype.visitChildren.call(this,e)}},e.prototype.visitCharacter=function(t){Object(i.j)(this.targetCharCodes,t.value)&&(this.found=!0)},e.prototype.visitSet=function(t){t.complement?void 0===v(t,this.targetCharCodes)&&(this.found=!0):void 0!==v(t,this.targetCharCodes)&&(this.found=!0)},e}(o.BaseRegExpVisitor);function m(t,e){if(e instanceof RegExp){var n=c(e),r=new y(t);return r.visit(n),r.found}return void 0!==Object(i.q)(e,(function(e){return Object(i.j)(t,e.charCodeAt(0))}))}var g=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),b="PATTERN",O="boolean"==typeof new RegExp("(?:)").sticky;function T(t,e){var n,r=(e=Object(i.k)(e,{useSticky:O,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r","\n"],tracer:function(t,e){return e()}})).tracer;r("initCharCodeToOptimizedIndexMap",(function(){!function(){if(Object(i.A)(M)){M=new Array(65536);for(var t=0;t<65536;t++)M[t]=t>255?255+~~(t/255):t}}()})),r("Reject Lexer.NA",(function(){n=Object(i.P)(t,(function(t){return t[b]===Y.NA}))}));var o,a,u,c,s,f,p,v,d,y,g,T=!1;r("Transform Patterns",(function(){T=!1,o=Object(i.I)(n,(function(t){var n=t[b];if(Object(i.D)(n)){var r=n.source;return 1!==r.length||"^"===r||"$"===r||"."===r||n.ignoreCase?2!==r.length||"\\"!==r[0]||Object(i.j)(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],r[1])?e.useSticky?I(n):N(n):r[1]:r}if(Object(i.B)(n))return T=!0,{exec:n};if(Object(i.w)(n,"exec"))return T=!0,n;if("string"==typeof n){if(1===n.length)return n;var o=n.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),a=new RegExp(o);return e.useSticky?I(a):N(a)}throw Error("non exhaustive match")}))})),r("misc mapping",(function(){a=Object(i.I)(n,(function(t){return t.tokenTypeIdx})),u=Object(i.I)(n,(function(t){var e=t.GROUP;if(e!==Y.SKIPPED){if(Object(i.E)(e))return e;if(Object(i.F)(e))return!1;throw Error("non exhaustive match")}})),c=Object(i.I)(n,(function(t){var e=t.LONGER_ALT;if(e)return Object(i.x)(n,e)})),s=Object(i.I)(n,(function(t){return t.PUSH_MODE})),f=Object(i.I)(n,(function(t){return Object(i.w)(t,"POP_MODE")}))})),r("Line Terminator Handling",(function(){var t=j(e.lineTerminatorCharacters);p=Object(i.I)(n,(function(t){return!1})),"onlyOffset"!==e.positionTracking&&(p=Object(i.I)(n,(function(e){return Object(i.w)(e,"LINE_BREAKS")?e.LINE_BREAKS:!1===k(e,t)?m(t,e.PATTERN):void 0})))})),r("Misc Mapping #2",(function(){v=Object(i.I)(n,L),d=Object(i.I)(o,x),y=Object(i.O)(n,(function(t,e){var n=e.GROUP;return Object(i.E)(n)&&n!==Y.SKIPPED&&(t[n]=[]),t}),{}),g=Object(i.I)(o,(function(t,e){return{pattern:o[e],longerAlt:c[e],canLineTerminator:p[e],isCustom:v[e],short:d[e],group:u[e],push:s[e],pop:f[e],tokenTypeIdx:a[e],tokenType:n[e]}}))}));var E=!0,R=[];return e.safeMode||r("First Char Optimization",(function(){R=Object(i.O)(n,(function(t,n,r){if("string"==typeof n.PATTERN){var o=C(n.PATTERN.charCodeAt(0));P(t,o,g[r])}else if(Object(i.y)(n.START_CHARS_HINT)){var a;Object(i.u)(n.START_CHARS_HINT,(function(e){var n=C("string"==typeof e?e.charCodeAt(0):e);a!==n&&(a=n,P(t,n,g[r]))}))}else if(Object(i.D)(n.PATTERN))if(n.PATTERN.unicode)E=!1,e.ensureOptimizations&&Object(i.c)(l+"\tUnable to analyze < "+n.PATTERN.toString()+" > pattern.\n\tThe regexp unicode flag is not currently supported by the regexp-to-ast library.\n\tThis will disable the lexer's first char optimizations.\n\tFor details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE");else{var u=h(n.PATTERN,e.ensureOptimizations);Object(i.A)(u)&&(E=!1),Object(i.u)(u,(function(e){P(t,e,g[r])}))}else e.ensureOptimizations&&Object(i.c)(l+"\tTokenType: <"+n.name+"> is using a custom token pattern without providing <start_chars_hint> parameter.\n\tThis will disable the lexer's first char optimizations.\n\tFor details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE"),E=!1;return t}),[])})),r("ArrayPacking",(function(){R=Object(i.L)(R)})),{emptyGroups:y,patternIdxToConfig:g,charCodeToPatternIdxToConfig:R,hasCustom:T,canBeOptimized:E}}function E(t,e){var n=[],r=function(t){var e=Object(i.p)(t,(function(t){return!Object(i.w)(t,b)})),n=Object(i.I)(e,(function(t){return{message:"Token Type: ->"+t.name+"<- missing static 'PATTERN' property",type:W.MISSING_PATTERN,tokenTypes:[t]}})),r=Object(i.l)(t,e);return{errors:n,valid:r}}(t);n=n.concat(r.errors);var a=function(t){var e=Object(i.p)(t,(function(t){var e=t[b];return!(Object(i.D)(e)||Object(i.B)(e)||Object(i.w)(e,"exec")||Object(i.E)(e))})),n=Object(i.I)(e,(function(t){return{message:"Token Type: ->"+t.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:W.INVALID_PATTERN,tokenTypes:[t]}})),r=Object(i.l)(t,e);return{errors:n,valid:r}}(r.valid),u=a.valid;return n=(n=(n=(n=(n=n.concat(a.errors)).concat(function(t){var e=[],n=Object(i.p)(t,(function(t){return Object(i.D)(t[b])}));return e=(e=(e=(e=(e=e.concat(function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.found=!1,e}return g(e,t),e.prototype.visitEndAnchor=function(t){this.found=!0},e}(o.BaseRegExpVisitor),n=Object(i.p)(t,(function(t){var n=t[b];try{var r=c(n),i=new e;return i.visit(r),i.found}catch(t){return R.test(n.source)}}));return Object(i.I)(n,(function(t){return{message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+t.name+"<- static 'PATTERN' cannot contain end of input anchor '$'\n\tSee sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#ANCHORS\tfor details.",type:W.EOI_ANCHOR_FOUND,tokenTypes:[t]}}))}(n))).concat(function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.found=!1,e}return g(e,t),e.prototype.visitStartAnchor=function(t){this.found=!0},e}(o.BaseRegExpVisitor),n=Object(i.p)(t,(function(t){var n=t[b];try{var r=c(n),i=new e;return i.visit(r),i.found}catch(t){return _.test(n.source)}}));return Object(i.I)(n,(function(t){return{message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+t.name+"<- static 'PATTERN' cannot contain start of input anchor '^'\n\tSee https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#ANCHORS\tfor details.",type:W.SOI_ANCHOR_FOUND,tokenTypes:[t]}}))}(n))).concat(function(t){var e=Object(i.p)(t,(function(t){var e=t[b];return e instanceof RegExp&&(e.multiline||e.global)}));return Object(i.I)(e,(function(t){return{message:"Token Type: ->"+t.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:W.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[t]}}))}(n))).concat(function(t){var e=[],n=Object(i.I)(t,(function(n){return Object(i.O)(t,(function(t,r){return n.PATTERN.source!==r.PATTERN.source||Object(i.j)(e,r)||r.PATTERN===Y.NA||(e.push(r),t.push(r)),t}),[])}));n=Object(i.i)(n);var r=Object(i.p)(n,(function(t){return t.length>1}));return Object(i.I)(r,(function(t){var e=Object(i.I)(t,(function(t){return t.name}));return{message:"The same RegExp pattern ->"+Object(i.s)(t).PATTERN+"<-has been used in all of the following Token Types: "+e.join(", ")+" <-",type:W.DUPLICATE_PATTERNS_FOUND,tokenTypes:t}}))}(n))).concat(function(t){var e=Object(i.p)(t,(function(t){return t[b].test("")}));return Object(i.I)(e,(function(t){return{message:"Token Type: ->"+t.name+"<- static 'PATTERN' must not match an empty string",type:W.EMPTY_MATCH_PATTERN,tokenTypes:[t]}}))}(n))}(u))).concat(function(t){var e=Object(i.p)(t,(function(t){if(!Object(i.w)(t,"GROUP"))return!1;var e=t.GROUP;return e!==Y.SKIPPED&&e!==Y.NA&&!Object(i.E)(e)}));return Object(i.I)(e,(function(t){return{message:"Token Type: ->"+t.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:W.INVALID_GROUP_TYPE_FOUND,tokenTypes:[t]}}))}(u))).concat(function(t,e){var n=Object(i.p)(t,(function(t){return void 0!==t.PUSH_MODE&&!Object(i.j)(e,t.PUSH_MODE)}));return Object(i.I)(n,(function(t){return{message:"Token Type: ->"+t.name+"<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->"+t.PUSH_MODE+"<-which does not exist",type:W.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[t]}}))}(u,e))).concat(function(t){var e=[],n=Object(i.O)(t,(function(t,e,n){var r,o=e.PATTERN;return o===Y.NA||(Object(i.E)(o)?t.push({str:o,idx:n,tokenType:e}):Object(i.D)(o)&&(r=o,void 0===Object(i.q)([".","\\","[","]","|","^","$","(",")","?","*","+","{"],(function(t){return-1!==r.source.indexOf(t)})))&&t.push({str:o.source,idx:n,tokenType:e})),t}),[]);return Object(i.u)(t,(function(t,r){Object(i.u)(n,(function(n){var o=n.str,a=n.idx,u=n.tokenType;if(r<a&&function(t,e){if(Object(i.D)(e)){var n=e.exec(t);return null!==n&&0===n.index}if(Object(i.B)(e))return e(t,0,[],{});if(Object(i.w)(e,"exec"))return e.exec(t,0,[],{});if("string"==typeof e)return e===t;throw Error("non exhaustive match")}(o,t.PATTERN)){var c="Token: ->"+u.name+"<- can never be matched.\nBecause it appears AFTER the Token Type ->"+t.name+"<-in the lexer's definition.\nSee https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#UNREACHABLE";e.push({message:c,type:W.UNREACHABLE_PATTERN,tokenTypes:[t,u]})}}))})),e}(u))}var R=/[^\\][\$]/;var _=/[^\\[][\^]|^\^/;function N(t){var e=t.ignoreCase?"i":"";return new RegExp("^(?:"+t.source+")",e)}function I(t){var e=t.ignoreCase?"iy":"y";return new RegExp(""+t.source,e)}function A(t,e,n){var r=[],o=!1,a=Object(i.i)(Object(i.t)(Object(i.J)(t.modes,(function(t){return t})))),u=Object(i.P)(a,(function(t){return t[b]===Y.NA})),c=j(n);return e&&Object(i.u)(u,(function(t){var e=k(t,c);if(!1!==e){var n={message:function(t,e){if(e.issue===W.IDENTIFY_TERMINATOR)return"Warning: unable to identify line terminator usage in pattern.\n\tThe problem is in the <"+t.name+"> Token Type\n\t Root cause: "+e.errMsg+".\n\tFor details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR";if(e.issue===W.CUSTOM_LINE_BREAK)return"Warning: A Custom Token Pattern should specify the <line_breaks> option.\n\tThe problem is in the <"+t.name+"> Token Type\n\tFor details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK";throw Error("non exhaustive match")}(t,e),type:e.issue,tokenType:t};r.push(n)}else Object(i.w)(t,"LINE_BREAKS")?!0===t.LINE_BREAKS&&(o=!0):m(c,t.PATTERN)&&(o=!0)})),e&&!o&&r.push({message:"Warning: No LINE_BREAKS Found.\n\tThis Lexer has been defined to track line and column information,\n\tBut none of the Token Types can be identified as matching a line terminator.\n\tSee https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#LINE_BREAKS \n\tfor details.",type:W.NO_LINE_BREAKS_FLAGS}),r}function L(t){var e=t.PATTERN;if(Object(i.D)(e))return!1;if(Object(i.B)(e))return!0;if(Object(i.w)(e,"exec"))return!0;if(Object(i.E)(e))return!1;throw Error("non exhaustive match")}function x(t){return!(!Object(i.E)(t)||1!==t.length)&&t.charCodeAt(0)}var S={test:function(t){for(var e=t.length,n=this.lastIndex;n<e;n++){var r=t.charCodeAt(n);if(10===r)return this.lastIndex=n+1,!0;if(13===r)return 10===t.charCodeAt(n+1)?this.lastIndex=n+2:this.lastIndex=n+1,!0}return!1},lastIndex:0};function k(t,e){if(Object(i.w)(t,"LINE_BREAKS"))return!1;if(Object(i.D)(t.PATTERN)){try{m(e,t.PATTERN)}catch(t){return{issue:W.IDENTIFY_TERMINATOR,errMsg:t.message}}return!1}if(Object(i.E)(t.PATTERN))return!1;if(L(t))return{issue:W.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}function j(t){return Object(i.I)(t,(function(t){return Object(i.E)(t)&&t.length>0?t.charCodeAt(0):t}))}function P(t,e,n){void 0===t[e]?t[e]=[n]:t[e].push(n)}var w=256;function C(t){return t<w?t:M[t]}var M=[];function X(t,e){var n=t.tokenTypeIdx;return n===e.tokenTypeIdx||!0===e.isParent&&!0===e.categoryMatchesMap[n]}function U(t,e){return t.tokenTypeIdx===e.tokenTypeIdx}var D=1,F={};function z(t){var e=function(t){var e=Object(i.g)(t),n=t,r=!0;for(;r;){n=Object(i.i)(Object(i.t)(Object(i.I)(n,(function(t){return t.CATEGORIES}))));var o=Object(i.l)(n,e);e=e.concat(o),Object(i.A)(o)?r=!1:n=o}return e}(t);!function(t){Object(i.u)(t,(function(t){var e;G(t)||(F[D]=t,t.tokenTypeIdx=D++),B(t)&&!Object(i.y)(t.CATEGORIES)&&(t.CATEGORIES=[t.CATEGORIES]),B(t)||(t.CATEGORIES=[]),e=t,Object(i.w)(e,"categoryMatches")||(t.categoryMatches=[]),function(t){return Object(i.w)(t,"categoryMatchesMap")}(t)||(t.categoryMatchesMap={})}))}(e),function(t){Object(i.u)(t,(function(t){!function t(e,n){Object(i.u)(e,(function(t){n.categoryMatchesMap[t.tokenTypeIdx]=!0})),Object(i.u)(n.CATEGORIES,(function(r){var o=e.concat(n);Object(i.j)(o,r)||t(o,r)}))}([],t)}))}(e),function(t){Object(i.u)(t,(function(t){t.categoryMatches=[],Object(i.u)(t.categoryMatchesMap,(function(e,n){t.categoryMatches.push(F[n].tokenTypeIdx)}))}))}(e),Object(i.u)(e,(function(t){t.isParent=t.categoryMatches.length>0}))}function G(t){return Object(i.w)(t,"tokenTypeIdx")}function B(t){return Object(i.w)(t,"CATEGORIES")}function H(t){return Object(i.w)(t,"tokenTypeIdx")}var W,K={buildUnableToPopLexerModeMessage:function(t){return"Unable to pop Lexer Mode after encountering Token ->"+t.image+"<- The Mode Stack is empty"},buildUnexpectedCharactersMessage:function(t,e,n,r,i){return"unexpected character: ->"+t.charAt(e)+"<- at offset: "+e+", skipped "+n+" characters."}};!function(t){t[t.MISSING_PATTERN=0]="MISSING_PATTERN",t[t.INVALID_PATTERN=1]="INVALID_PATTERN",t[t.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",t[t.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",t[t.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",t[t.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",t[t.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",t[t.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",t[t.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",t[t.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",t[t.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",t[t.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",t[t.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",t[t.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",t[t.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",t[t.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",t[t.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK"}(W||(W={}));var V={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:["\n","\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:K,traceInitPerf:!1,skipValidations:!1};Object.freeze(V);var Y=function(){function t(t,e){var n=this;if(void 0===e&&(e=V),this.lexerDefinition=t,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.config=void 0,this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},"boolean"==typeof e)throw Error("The second argument to the Lexer constructor is now an ILexerConfig Object.\na boolean 2nd argument is no longer supported");this.config=Object(i.K)(V,e);var r=this.config.traceInitPerf;!0===r?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):"number"==typeof r&&(this.traceInitMaxIdent=r,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",(function(){var r,o=!0;n.TRACE_INIT("Lexer Config handling",(function(){if(n.config.lineTerminatorsPattern===V.lineTerminatorsPattern)n.config.lineTerminatorsPattern=S;else if(n.config.lineTerminatorCharacters===V.lineTerminatorCharacters)throw Error("Error: Missing <lineTerminatorCharacters> property on the Lexer config.\n\tFor details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS");if(e.safeMode&&e.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');n.trackStartLines=/full|onlyStart/i.test(n.config.positionTracking),n.trackEndLines=/full/i.test(n.config.positionTracking),Object(i.y)(t)?((r={modes:{}}).modes.defaultMode=Object(i.g)(t),r.defaultMode="defaultMode"):(o=!1,r=Object(i.h)(t))})),!1===n.config.skipValidations&&(n.TRACE_INIT("performRuntimeChecks",(function(){n.lexerDefinitionErrors=n.lexerDefinitionErrors.concat(function(t,e,n){var r=[];return Object(i.w)(t,"defaultMode")||r.push({message:"A MultiMode Lexer cannot be initialized without a <defaultMode> property in its definition\n",type:W.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),Object(i.w)(t,"modes")||r.push({message:"A MultiMode Lexer cannot be initialized without a <modes> property in its definition\n",type:W.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),Object(i.w)(t,"modes")&&Object(i.w)(t,"defaultMode")&&!Object(i.w)(t.modes,t.defaultMode)&&r.push({message:"A MultiMode Lexer cannot be initialized with a defaultMode: <"+t.defaultMode+">which does not exist\n",type:W.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),Object(i.w)(t,"modes")&&Object(i.u)(t.modes,(function(t,e){Object(i.u)(t,(function(t,n){Object(i.F)(t)&&r.push({message:"A Lexer cannot be initialized using an undefined Token Type. Mode:<"+e+"> at index: <"+n+">\n",type:W.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED})}))})),r}(r,n.trackStartLines,n.config.lineTerminatorCharacters))})),n.TRACE_INIT("performWarningRuntimeChecks",(function(){n.lexerDefinitionWarning=n.lexerDefinitionWarning.concat(A(r,n.trackStartLines,n.config.lineTerminatorCharacters))}))),r.modes=r.modes?r.modes:{},Object(i.u)(r.modes,(function(t,e){r.modes[e]=Object(i.P)(t,(function(t){return Object(i.F)(t)}))}));var u=Object(i.G)(r.modes);if(Object(i.u)(r.modes,(function(t,r){n.TRACE_INIT("Mode: <"+r+"> processing",(function(){var o;(n.modes.push(r),!1===n.config.skipValidations&&n.TRACE_INIT("validatePatterns",(function(){n.lexerDefinitionErrors=n.lexerDefinitionErrors.concat(E(t,u))})),Object(i.A)(n.lexerDefinitionErrors))&&(z(t),n.TRACE_INIT("analyzeTokenTypes",(function(){o=T(t,{lineTerminatorCharacters:n.config.lineTerminatorCharacters,positionTracking:e.positionTracking,ensureOptimizations:e.ensureOptimizations,safeMode:e.safeMode,tracer:n.TRACE_INIT.bind(n)})})),n.patternIdxToConfig[r]=o.patternIdxToConfig,n.charCodeToPatternIdxToConfig[r]=o.charCodeToPatternIdxToConfig,n.emptyGroups=Object(i.K)(n.emptyGroups,o.emptyGroups),n.hasCustom=o.hasCustom||n.hasCustom,n.canModeBeOptimized[r]=o.canBeOptimized)}))})),n.defaultMode=r.defaultMode,!Object(i.A)(n.lexerDefinitionErrors)&&!n.config.deferDefinitionErrorsHandling){var c=Object(i.I)(n.lexerDefinitionErrors,(function(t){return t.message})).join("-----------------------\n");throw new Error("Errors detected in definition of Lexer:\n"+c)}Object(i.u)(n.lexerDefinitionWarning,(function(t){Object(i.d)(t.message)})),n.TRACE_INIT("Choosing sub-methods implementations",(function(){if(O?(n.chopInput=i.a,n.match=n.matchWithTest):(n.updateLastIndex=i.b,n.match=n.matchWithExec),o&&(n.handleModes=i.b),!1===n.trackStartLines&&(n.computeNewColumn=i.a),!1===n.trackEndLines&&(n.updateTokenEndLineColumnLocation=i.b),/full/i.test(n.config.positionTracking))n.createTokenInstance=n.createFullToken;else if(/onlyStart/i.test(n.config.positionTracking))n.createTokenInstance=n.createStartOnlyToken;else{if(!/onlyOffset/i.test(n.config.positionTracking))throw Error('Invalid <positionTracking> config option: "'+n.config.positionTracking+'"');n.createTokenInstance=n.createOffsetOnlyToken}n.hasCustom?(n.addToken=n.addTokenUsingPush,n.handlePayload=n.handlePayloadWithCustom):(n.addToken=n.addTokenUsingMemberAccess,n.handlePayload=n.handlePayloadNoCustom)})),n.TRACE_INIT("Failed Optimization Warnings",(function(){var t=Object(i.O)(n.canModeBeOptimized,(function(t,e,n){return!1===e&&t.push(n),t}),[]);if(e.ensureOptimizations&&!Object(i.A)(t))throw Error("Lexer Modes: < "+t.join(", ")+' > cannot be optimized.\n\t Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.\n\t Or inspect the console log for details on how to resolve these issues.')})),n.TRACE_INIT("clearRegExpParserCache",(function(){a={}})),n.TRACE_INIT("toFastProperties",(function(){Object(i.S)(n)}))}))}return t.prototype.tokenize=function(t,e){if(void 0===e&&(e=this.defaultMode),!Object(i.A)(this.lexerDefinitionErrors)){var n=Object(i.I)(this.lexerDefinitionErrors,(function(t){return t.message})).join("-----------------------\n");throw new Error("Unable to Tokenize because Errors detected in definition of Lexer:\n"+n)}return this.tokenizeInternal(t,e)},t.prototype.tokenizeInternal=function(t,e){var n,r,o,a,u,c,s,f,l,h,p,v,d,y,m,g,b,O=this,T=t,E=T.length,R=0,_=0,N=this.hasCustom?0:Math.floor(t.length/10),I=new Array(N),A=[],L=this.trackStartLines?1:void 0,x=this.trackStartLines?1:void 0,S=(m=this.emptyGroups,g={},b=Object(i.G)(m),Object(i.u)(b,(function(t){var e=m[t];if(!Object(i.y)(e))throw Error("non exhaustive match");g[t]=[]})),g),k=this.trackStartLines,j=this.config.lineTerminatorsPattern,P=0,w=[],M=[],X=[],U=[];Object.freeze(U);var D=void 0;function F(){return w}function z(t){var e=C(t),n=M[e];return void 0===n?U:n}var G,B=function(t){if(1===X.length&&void 0===t.tokenType.PUSH_MODE){var e=O.config.errorMessageProvider.buildUnableToPopLexerModeMessage(t);A.push({offset:t.startOffset,line:void 0!==t.startLine?t.startLine:void 0,column:void 0!==t.startColumn?t.startColumn:void 0,length:t.image.length,message:e})}else{X.pop();var n=Object(i.H)(X);w=O.patternIdxToConfig[n],M=O.charCodeToPatternIdxToConfig[n],P=w.length;var r=O.canModeBeOptimized[n]&&!1===O.config.safeMode;D=M&&r?z:F}};function H(t){X.push(t),M=this.charCodeToPatternIdxToConfig[t],w=this.patternIdxToConfig[t],P=w.length,P=w.length;var e=this.canModeBeOptimized[t]&&!1===this.config.safeMode;D=M&&e?z:F}for(H.call(this,e);R<E;){u=null;var W=T.charCodeAt(R),K=D(W),V=K.length;for(n=0;n<V;n++){var Y=(G=K[n]).pattern;if(c=null,!1!==(it=G.short)?W===it&&(u=Y):!0===G.isCustom?null!==(y=Y.exec(T,R,I,S))?(u=y[0],void 0!==y.payload&&(c=y.payload)):u=null:(this.updateLastIndex(Y,R),u=this.match(Y,t,R)),null!==u){if(void 0!==(a=G.longerAlt)){var q=w[a],Z=q.pattern;s=null,!0===q.isCustom?null!==(y=Z.exec(T,R,I,S))?(o=y[0],void 0!==y.payload&&(s=y.payload)):o=null:(this.updateLastIndex(Z,R),o=this.match(Z,t,R)),o&&o.length>u.length&&(u=o,c=s,G=q)}break}}if(null!==u){if(f=u.length,void 0!==(l=G.group)&&(h=G.tokenTypeIdx,p=this.createTokenInstance(u,R,h,G.tokenType,L,x,f),this.handlePayload(p,c),!1===l?_=this.addToken(I,_,p):S[l].push(p)),t=this.chopInput(t,f),R+=f,x=this.computeNewColumn(x,f),!0===k&&!0===G.canLineTerminator){var J=0,Q=void 0,$=void 0;j.lastIndex=0;do{!0===(Q=j.test(u))&&($=j.lastIndex-1,J++)}while(!0===Q);0!==J&&(L+=J,x=f-$,this.updateTokenEndLineColumnLocation(p,l,$,J,L,x,f))}this.handleModes(G,B,H,p)}else{for(var tt=R,et=L,nt=x,rt=!1;!rt&&R<E;)for(T.charCodeAt(R),t=this.chopInput(t,1),R++,r=0;r<P;r++){var it,ot=w[r];Y=ot.pattern;if(!1!==(it=ot.short)?T.charCodeAt(R)===it&&(rt=!0):!0===ot.isCustom?rt=null!==Y.exec(T,R,I,S):(this.updateLastIndex(Y,R),rt=null!==Y.exec(t)),!0===rt)break}v=R-tt,d=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(T,tt,v,et,nt),A.push({offset:tt,line:et,column:nt,length:v,message:d})}}return this.hasCustom||(I.length=_),{tokens:I,groups:S,errors:A}},t.prototype.handleModes=function(t,e,n,r){if(!0===t.pop){var i=t.push;e(r),void 0!==i&&n.call(this,i)}else void 0!==t.push&&n.call(this,t.push)},t.prototype.chopInput=function(t,e){return t.substring(e)},t.prototype.updateLastIndex=function(t,e){t.lastIndex=e},t.prototype.updateTokenEndLineColumnLocation=function(t,e,n,r,i,o,a){var u,c;void 0!==e&&(c=(u=n===a-1)?-1:0,1===r&&!0===u||(t.endLine=i+c,t.endColumn=o-1-c))},t.prototype.computeNewColumn=function(t,e){return t+e},t.prototype.createTokenInstance=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return null},t.prototype.createOffsetOnlyToken=function(t,e,n,r){return{image:t,startOffset:e,tokenTypeIdx:n,tokenType:r}},t.prototype.createStartOnlyToken=function(t,e,n,r,i,o){return{image:t,startOffset:e,startLine:i,startColumn:o,tokenTypeIdx:n,tokenType:r}},t.prototype.createFullToken=function(t,e,n,r,i,o,a){return{image:t,startOffset:e,endOffset:e+a-1,startLine:i,endLine:i,startColumn:o,endColumn:o+a-1,tokenTypeIdx:n,tokenType:r}},t.prototype.addToken=function(t,e,n){return 666},t.prototype.addTokenUsingPush=function(t,e,n){return t.push(n),e},t.prototype.addTokenUsingMemberAccess=function(t,e,n){return t[e]=n,++e},t.prototype.handlePayload=function(t,e){},t.prototype.handlePayloadNoCustom=function(t,e){},t.prototype.handlePayloadWithCustom=function(t,e){null!==e&&(t.payload=e)},t.prototype.match=function(t,e,n){return null},t.prototype.matchWithTest=function(t,e,n){return!0===t.test(e)?e.substring(n,t.lastIndex):null},t.prototype.matchWithExec=function(t,e){var n=t.exec(e);return null!==n?n[0]:n},t.prototype.TRACE_INIT=function(t,e){if(!0===this.traceInitPerf){this.traceInitIndent++;var n=new Array(this.traceInitIndent+1).join("\t");this.traceInitIndent<this.traceInitMaxIdent&&console.log(n+"--\x3e <"+t+">");var r=Object(i.R)(e),o=r.time,a=r.value,u=o>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&u(n+"<-- <"+t+"> time: "+o+"ms"),this.traceInitIndent--,a}return e()},t.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.",t.NA=/NOT_APPLICABLE/,t}();function q(t){return J(t)?t.LABEL:t.name}function Z(t){return t.name}function J(t){return Object(i.E)(t.LABEL)&&""!==t.LABEL}function Q(t){return function(t){var e=t.pattern,n={};n.name=t.name,Object(i.F)(e)||(n.PATTERN=e);if(Object(i.w)(t,"parent"))throw"The parent property is no longer supported.\nSee: https://github.com/SAP/chevrotain/issues/564#issuecomment-349062346 for details.";Object(i.w)(t,"categories")&&(n.CATEGORIES=t.categories);z([n]),Object(i.w)(t,"label")&&(n.LABEL=t.label);Object(i.w)(t,"group")&&(n.GROUP=t.group);Object(i.w)(t,"pop_mode")&&(n.POP_MODE=t.pop_mode);Object(i.w)(t,"push_mode")&&(n.PUSH_MODE=t.push_mode);Object(i.w)(t,"longer_alt")&&(n.LONGER_ALT=t.longer_alt);Object(i.w)(t,"line_breaks")&&(n.LINE_BREAKS=t.line_breaks);Object(i.w)(t,"start_chars_hint")&&(n.START_CHARS_HINT=t.start_chars_hint);return n}(t)}var $=Q({name:"EOF",pattern:Y.NA});function tt(t,e,n,r,i,o,a,u){return{image:e,startOffset:n,endOffset:r,startLine:i,endLine:o,startColumn:a,endColumn:u,tokenTypeIdx:t.tokenTypeIdx,tokenType:t}}function et(t,e){return X(t,e)}z([$]);var nt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),rt=function(){function t(t){this.definition=t}return t.prototype.accept=function(t){t.visit(this),Object(i.u)(this.definition,(function(e){e.accept(t)}))},t}(),it=function(t){function e(e){var n=t.call(this,[])||this;return n.idx=1,Object(i.f)(n,Object(i.N)(e,(function(t){return void 0!==t}))),n}return nt(e,t),Object.defineProperty(e.prototype,"definition",{get:function(){return void 0!==this.referencedRule?this.referencedRule.definition:[]},set:function(t){},enumerable:!0,configurable:!0}),e.prototype.accept=function(t){t.visit(this)},e}(rt),ot=function(t){function e(e){var n=t.call(this,e.definition)||this;return n.orgText="",Object(i.f)(n,Object(i.N)(e,(function(t){return void 0!==t}))),n}return nt(e,t),e}(rt),at=function(t){function e(e){var n=t.call(this,e.definition)||this;return n.ignoreAmbiguities=!1,Object(i.f)(n,Object(i.N)(e,(function(t){return void 0!==t}))),n}return nt(e,t),e}(rt),ut=function(t){function e(e){var n=t.call(this,e.definition)||this;return n.idx=1,Object(i.f)(n,Object(i.N)(e,(function(t){return void 0!==t}))),n}return nt(e,t),e}(rt),ct=function(t){function e(e){var n=t.call(this,e.definition)||this;return n.idx=1,Object(i.f)(n,Object(i.N)(e,(function(t){return void 0!==t}))),n}return nt(e,t),e}(rt),st=function(t){function e(e){var n=t.call(this,e.definition)||this;return n.idx=1,Object(i.f)(n,Object(i.N)(e,(function(t){return void 0!==t}))),n}return nt(e,t),e}(rt),ft=function(t){function e(e){var n=t.call(this,e.definition)||this;return n.idx=1,Object(i.f)(n,Object(i.N)(e,(function(t){return void 0!==t}))),n}return nt(e,t),e}(rt),lt=function(t){function e(e){var n=t.call(this,e.definition)||this;return n.idx=1,Object(i.f)(n,Object(i.N)(e,(function(t){return void 0!==t}))),n}return nt(e,t),e}(rt),ht=function(t){function e(e){var n=t.call(this,e.definition)||this;return n.idx=1,n.ignoreAmbiguities=!1,n.hasPredicates=!1,Object(i.f)(n,Object(i.N)(e,(function(t){return void 0!==t}))),n}return nt(e,t),e}(rt),pt=function(){function t(t){this.idx=1,Object(i.f)(this,Object(i.N)(t,(function(t){return void 0!==t})))}return t.prototype.accept=function(t){t.visit(this)},t}();function vt(t){return Object(i.I)(t,dt)}function dt(t){function e(t){return Object(i.I)(t,dt)}if(t instanceof it)return{type:"NonTerminal",name:t.nonTerminalName,idx:t.idx};if(t instanceof at)return{type:"Alternative",definition:e(t.definition)};if(t instanceof ut)return{type:"Option",idx:t.idx,definition:e(t.definition)};if(t instanceof ct)return{type:"RepetitionMandatory",idx:t.idx,definition:e(t.definition)};if(t instanceof st)return{type:"RepetitionMandatoryWithSeparator",idx:t.idx,separator:dt(new pt({terminalType:t.separator})),definition:e(t.definition)};if(t instanceof lt)return{type:"RepetitionWithSeparator",idx:t.idx,separator:dt(new pt({terminalType:t.separator})),definition:e(t.definition)};if(t instanceof ft)return{type:"Repetition",idx:t.idx,definition:e(t.definition)};if(t instanceof ht)return{type:"Alternation",idx:t.idx,definition:e(t.definition)};if(t instanceof pt){var n={type:"Terminal",name:t.terminalType.name,label:q(t.terminalType),idx:t.idx},r=t.terminalType.PATTERN;return t.terminalType.PATTERN&&(n.pattern=Object(i.D)(r)?r.source:r),n}if(t instanceof ot)return{type:"Rule",name:t.name,orgText:t.orgText,definition:e(t.definition)};throw Error("non exhaustive match")}var yt=function(){function t(){}return t.prototype.walk=function(t,e){var n=this;void 0===e&&(e=[]),Object(i.u)(t.definition,(function(r,o){var a=Object(i.m)(t.definition,o+1);if(r instanceof it)n.walkProdRef(r,a,e);else if(r instanceof pt)n.walkTerminal(r,a,e);else if(r instanceof at)n.walkFlat(r,a,e);else if(r instanceof ut)n.walkOption(r,a,e);else if(r instanceof ct)n.walkAtLeastOne(r,a,e);else if(r instanceof st)n.walkAtLeastOneSep(r,a,e);else if(r instanceof lt)n.walkManySep(r,a,e);else if(r instanceof ft)n.walkMany(r,a,e);else{if(!(r instanceof ht))throw Error("non exhaustive match");n.walkOr(r,a,e)}}))},t.prototype.walkTerminal=function(t,e,n){},t.prototype.walkProdRef=function(t,e,n){},t.prototype.walkFlat=function(t,e,n){var r=e.concat(n);this.walk(t,r)},t.prototype.walkOption=function(t,e,n){var r=e.concat(n);this.walk(t,r)},t.prototype.walkAtLeastOne=function(t,e,n){var r=[new ut({definition:t.definition})].concat(e,n);this.walk(t,r)},t.prototype.walkAtLeastOneSep=function(t,e,n){var r=mt(t,e,n);this.walk(t,r)},t.prototype.walkMany=function(t,e,n){var r=[new ut({definition:t.definition})].concat(e,n);this.walk(t,r)},t.prototype.walkManySep=function(t,e,n){var r=mt(t,e,n);this.walk(t,r)},t.prototype.walkOr=function(t,e,n){var r=this,o=e.concat(n);Object(i.u)(t.definition,(function(t){var e=new at({definition:[t]});r.walk(e,o)}))},t}();function mt(t,e,n){return[new ut({definition:[new pt({terminalType:t.separator})].concat(t.definition)})].concat(e,n)}var gt=function(){function t(){}return t.prototype.visit=function(t){var e=t;switch(e.constructor){case it:return this.visitNonTerminal(e);case at:return this.visitAlternative(e);case ut:return this.visitOption(e);case ct:return this.visitRepetitionMandatory(e);case st:return this.visitRepetitionMandatoryWithSeparator(e);case lt:return this.visitRepetitionWithSeparator(e);case ft:return this.visitRepetition(e);case ht:return this.visitAlternation(e);case pt:return this.visitTerminal(e);case ot:return this.visitRule(e);default:throw Error("non exhaustive match")}},t.prototype.visitNonTerminal=function(t){},t.prototype.visitAlternative=function(t){},t.prototype.visitOption=function(t){},t.prototype.visitRepetition=function(t){},t.prototype.visitRepetitionMandatory=function(t){},t.prototype.visitRepetitionMandatoryWithSeparator=function(t){},t.prototype.visitRepetitionWithSeparator=function(t){},t.prototype.visitAlternation=function(t){},t.prototype.visitTerminal=function(t){},t.prototype.visitRule=function(t){},t}(),bt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function Ot(t,e){return void 0===e&&(e=[]),!!(t instanceof ut||t instanceof ft||t instanceof lt)||(t instanceof ht?Object(i.Q)(t.definition,(function(t){return Ot(t,e)})):!(t instanceof it&&Object(i.j)(e,t))&&(t instanceof rt&&(t instanceof it&&e.push(t),Object(i.o)(t.definition,(function(t){return Ot(t,e)})))))}function Tt(t){if(t instanceof it)return"SUBRULE";if(t instanceof ut)return"OPTION";if(t instanceof ht)return"OR";if(t instanceof ct)return"AT_LEAST_ONE";if(t instanceof st)return"AT_LEAST_ONE_SEP";if(t instanceof lt)return"MANY_SEP";if(t instanceof ft)return"MANY";if(t instanceof pt)return"CONSUME";throw Error("non exhaustive match")}var Et=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.separator="-",e.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]},e}return bt(e,t),e.prototype.reset=function(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}},e.prototype.visitTerminal=function(t){var e=t.terminalType.name+this.separator+"Terminal";Object(i.w)(this.dslMethods,e)||(this.dslMethods[e]=[]),this.dslMethods[e].push(t)},e.prototype.visitNonTerminal=function(t){var e=t.nonTerminalName+this.separator+"Terminal";Object(i.w)(this.dslMethods,e)||(this.dslMethods[e]=[]),this.dslMethods[e].push(t)},e.prototype.visitOption=function(t){this.dslMethods.option.push(t)},e.prototype.visitRepetitionWithSeparator=function(t){this.dslMethods.repetitionWithSeparator.push(t)},e.prototype.visitRepetitionMandatory=function(t){this.dslMethods.repetitionMandatory.push(t)},e.prototype.visitRepetitionMandatoryWithSeparator=function(t){this.dslMethods.repetitionMandatoryWithSeparator.push(t)},e.prototype.visitRepetition=function(t){this.dslMethods.repetition.push(t)},e.prototype.visitAlternation=function(t){this.dslMethods.alternation.push(t)},e}(gt),Rt=new Et;function _t(t){if(t instanceof it)return _t(t.referencedRule);if(t instanceof pt)return[t.terminalType];if(function(t){return t instanceof at||t instanceof ut||t instanceof ft||t instanceof ct||t instanceof st||t instanceof lt||t instanceof pt||t instanceof ot}(t))return function(t){var e,n=[],r=t.definition,o=0,a=r.length>o,u=!0;for(;a&&u;)e=r[o],u=Ot(e),n=n.concat(_t(e)),o+=1,a=r.length>o;return Object(i.T)(n)}(t);if(function(t){return t instanceof ht}(t))return function(t){var e=Object(i.I)(t.definition,(function(t){return _t(t)}));return Object(i.T)(Object(i.t)(e))}(t);throw Error("non exhaustive match")}var Nt="_~IN~_",It=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),At=function(t){function e(e){var n=t.call(this)||this;return n.topProd=e,n.follows={},n}return It(e,t),e.prototype.startWalking=function(){return this.walk(this.topProd),this.follows},e.prototype.walkTerminal=function(t,e,n){},e.prototype.walkProdRef=function(t,e,n){var r,i,o=(r=t.referencedRule,i=t.idx,r.name+i+Nt+this.topProd.name),a=e.concat(n),u=_t(new at({definition:a}));this.follows[o]=u},e}(yt);var Lt={buildMismatchTokenMessage:function(t){var e=t.expected,n=t.actual;t.previous,t.ruleName;return"Expecting "+(J(e)?"--\x3e "+q(e)+" <--":"token of type --\x3e "+e.name+" <--")+" but found --\x3e '"+n.image+"' <--"},buildNotAllInputParsedMessage:function(t){var e=t.firstRedundant;t.ruleName;return"Redundant input, expecting EOF but found: "+e.image},buildNoViableAltMessage:function(t){var e=t.expectedPathsPerAlt,n=t.actual,r=(t.previous,t.customUserDescription),o=(t.ruleName,"\nbut found: '"+Object(i.s)(n).image+"'");if(r)return"Expecting: "+r+o;var a=Object(i.O)(e,(function(t,e){return t.concat(e)}),[]),u=Object(i.I)(a,(function(t){return"["+Object(i.I)(t,(function(t){return q(t)})).join(", ")+"]"}));return"Expecting: "+("one of these possible Token sequences:\n"+Object(i.I)(u,(function(t,e){return"  "+(e+1)+". "+t})).join("\n"))+o},buildEarlyExitMessage:function(t){var e=t.expectedIterationPaths,n=t.actual,r=t.customUserDescription,o=(t.ruleName,"\nbut found: '"+Object(i.s)(n).image+"'");return r?"Expecting: "+r+o:"Expecting: "+("expecting at least one iteration which starts with one of these possible Token sequences::\n  <"+Object(i.I)(e,(function(t){return"["+Object(i.I)(t,(function(t){return q(t)})).join(",")+"]"})).join(" ,")+">")+o}};Object.freeze(Lt);var xt={buildRuleNotFoundError:function(t,e){return"Invalid grammar, reference to a rule which is not defined: ->"+e.nonTerminalName+"<-\ninside top level rule: ->"+t.name+"<-"}},St={buildDuplicateFoundError:function(t,e){var n,r=t.name,o=Object(i.s)(e),a=o.idx,u=Tt(o),c=(n=o)instanceof pt?n.terminalType.name:n instanceof it?n.nonTerminalName:"",s="->"+u+(a>0?a:"")+"<- "+(c?"with argument: ->"+c+"<-":"")+"\n                  appears more than once ("+e.length+" times) in the top level rule: ->"+r+"<-.                  \n                  For further details see: https://sap.github.io/chevrotain/docs/FAQ.html#NUMERICAL_SUFFIXES \n                  ";return s=(s=s.replace(/[ \t]+/g," ")).replace(/\s\s+/g,"\n")},buildNamespaceConflictError:function(t){return"Namespace conflict found in grammar.\nThe grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <"+t.name+">.\nTo resolve this make sure each Terminal and Non-Terminal names are unique\nThis is easy to accomplish by using the convention that Terminal names start with an uppercase letter\nand Non-Terminal names start with a lower case letter."},buildAlternationPrefixAmbiguityError:function(t){var e=Object(i.I)(t.prefixPath,(function(t){return q(t)})).join(", "),n=0===t.alternation.idx?"":t.alternation.idx;return"Ambiguous alternatives: <"+t.ambiguityIndices.join(" ,")+"> due to common lookahead prefix\nin <OR"+n+"> inside <"+t.topLevelRule.name+"> Rule,\n<"+e+"> may appears as a prefix path in all these alternatives.\nSee: https://sap.github.io/chevrotain/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX\nFor Further details."},buildAlternationAmbiguityError:function(t){var e=Object(i.I)(t.prefixPath,(function(t){return q(t)})).join(", "),n=0===t.alternation.idx?"":t.alternation.idx,r="Ambiguous Alternatives Detected: <"+t.ambiguityIndices.join(" ,")+"> in <OR"+n+"> inside <"+t.topLevelRule.name+"> Rule,\n<"+e+"> may appears as a prefix path in all these alternatives.\n";return r+="See: https://sap.github.io/chevrotain/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES\nFor Further details."},buildEmptyRepetitionError:function(t){var e=Tt(t.repetition);return 0!==t.repetition.idx&&(e+=t.repetition.idx),"The repetition <"+e+"> within Rule <"+t.topLevelRule.name+"> can never consume any tokens.\nThis could lead to an infinite loop."},buildTokenNameError:function(t){return"Invalid Grammar Token name: ->"+t.tokenType.name+"<- it must match the pattern: ->"+t.expectedPattern.toString()+"<-"},buildEmptyAlternationError:function(t){return"Ambiguous empty alternative: <"+(t.emptyChoiceIdx+1)+"> in <OR"+t.alternation.idx+"> inside <"+t.topLevelRule.name+"> Rule.\nOnly the last alternative may be an empty alternative."},buildTooManyAlternativesError:function(t){return"An Alternation cannot have more than 256 alternatives:\n<OR"+t.alternation.idx+"> inside <"+t.topLevelRule.name+"> Rule.\n has "+(t.alternation.definition.length+1)+" alternatives."},buildLeftRecursionError:function(t){var e=t.topLevelRule.name;return"Left Recursion found in grammar.\nrule: <"+e+"> can be invoked from itself (directly or indirectly)\nwithout consuming any Tokens. The grammar path that causes this is: \n "+(e+" --\x3e "+i.I(t.leftRecursionPath,(function(t){return t.name})).concat([e]).join(" --\x3e "))+"\n To fix this refactor your grammar to remove the left recursion.\nsee: https://en.wikipedia.org/wiki/LL_parser#Left_Factoring."},buildInvalidRuleNameError:function(t){return"Invalid grammar rule name: ->"+t.topLevelRule.name+"<- it must match the pattern: ->"+t.expectedPattern.toString()+"<-"},buildDuplicateRuleNameError:function(t){return"Duplicate definition, rule: ->"+(t.topLevelRule instanceof ot?t.topLevelRule.name:t.topLevelRule)+"<- is already defined in the grammar: ->"+t.grammarName+"<-"}},kt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();var jt=function(t){function e(e,n){var r=t.call(this)||this;return r.nameToTopRule=e,r.errMsgProvider=n,r.errors=[],r}return kt(e,t),e.prototype.resolveRefs=function(){var t=this;Object(i.u)(Object(i.U)(this.nameToTopRule),(function(e){t.currTopLevel=e,e.accept(t)}))},e.prototype.visitNonTerminal=function(t){var e=this.nameToTopRule[t.nonTerminalName];if(e)t.referencedRule=e;else{var n=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,t);this.errors.push({message:n,type:Qe.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:t.nonTerminalName})}},e}(gt),Pt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),wt=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.path=n,r.nextTerminalName="",r.nextTerminalOccurrence=0,r.nextTerminalName=r.path.lastTok.name,r.nextTerminalOccurrence=r.path.lastTokOccurrence,r}return Pt(e,t),e.prototype.walkTerminal=function(t,e,n){if(this.isAtEndOfPath&&t.terminalType.name===this.nextTerminalName&&t.idx===this.nextTerminalOccurrence&&!this.found){var r=e.concat(n),i=new at({definition:r});this.possibleTokTypes=_t(i),this.found=!0}},e}(function(t){function e(e,n){var r=t.call(this)||this;return r.topProd=e,r.path=n,r.possibleTokTypes=[],r.nextProductionName="",r.nextProductionOccurrence=0,r.found=!1,r.isAtEndOfPath=!1,r}return Pt(e,t),e.prototype.startWalking=function(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=Object(i.g)(this.path.ruleStack).reverse(),this.occurrenceStack=Object(i.g)(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes},e.prototype.walk=function(e,n){void 0===n&&(n=[]),this.found||t.prototype.walk.call(this,e,n)},e.prototype.walkProdRef=function(t,e,n){if(t.referencedRule.name===this.nextProductionName&&t.idx===this.nextProductionOccurrence){var r=e.concat(n);this.updateExpectedNext(),this.walk(t.referencedRule,r)}},e.prototype.updateExpectedNext=function(){Object(i.A)(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())},e}(yt)),Ct=function(t){function e(e,n){var r=t.call(this)||this;return r.topRule=e,r.occurrence=n,r.result={token:void 0,occurrence:void 0,isEndOfRule:void 0},r}return Pt(e,t),e.prototype.startWalking=function(){return this.walk(this.topRule),this.result},e}(yt),Mt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Pt(e,t),e.prototype.walkMany=function(e,n,r){if(e.idx===this.occurrence){var o=Object(i.s)(n.concat(r));this.result.isEndOfRule=void 0===o,o instanceof pt&&(this.result.token=o.terminalType,this.result.occurrence=o.idx)}else t.prototype.walkMany.call(this,e,n,r)},e}(Ct),Xt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Pt(e,t),e.prototype.walkManySep=function(e,n,r){if(e.idx===this.occurrence){var o=Object(i.s)(n.concat(r));this.result.isEndOfRule=void 0===o,o instanceof pt&&(this.result.token=o.terminalType,this.result.occurrence=o.idx)}else t.prototype.walkManySep.call(this,e,n,r)},e}(Ct),Ut=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Pt(e,t),e.prototype.walkAtLeastOne=function(e,n,r){if(e.idx===this.occurrence){var o=Object(i.s)(n.concat(r));this.result.isEndOfRule=void 0===o,o instanceof pt&&(this.result.token=o.terminalType,this.result.occurrence=o.idx)}else t.prototype.walkAtLeastOne.call(this,e,n,r)},e}(Ct),Dt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Pt(e,t),e.prototype.walkAtLeastOneSep=function(e,n,r){if(e.idx===this.occurrence){var o=Object(i.s)(n.concat(r));this.result.isEndOfRule=void 0===o,o instanceof pt&&(this.result.token=o.terminalType,this.result.occurrence=o.idx)}else t.prototype.walkAtLeastOneSep.call(this,e,n,r)},e}(Ct);function Ft(t,e,n){void 0===n&&(n=[]),n=Object(i.g)(n);var r=[],o=0;function a(a){var u=Ft(a.concat(Object(i.m)(t,o+1)),e,n);return r.concat(u)}for(;n.length<e&&o<t.length;){var u=t[o];if(u instanceof at)return a(u.definition);if(u instanceof it)return a(u.definition);if(u instanceof ut)r=a(u.definition);else{if(u instanceof ct)return a(c=u.definition.concat([new ft({definition:u.definition})]));if(u instanceof st)return a(c=[new at({definition:u.definition}),new ft({definition:[new pt({terminalType:u.separator})].concat(u.definition)})]);if(u instanceof lt){var c=u.definition.concat([new ft({definition:[new pt({terminalType:u.separator})].concat(u.definition)})]);r=a(c)}else if(u instanceof ft){c=u.definition.concat([new ft({definition:u.definition})]);r=a(c)}else{if(u instanceof ht)return Object(i.u)(u.definition,(function(t){r=a(t.definition)})),r;if(!(u instanceof pt))throw Error("non exhaustive match");n.push(u.terminalType)}}o++}return r.push({partialPath:n,suffixDef:Object(i.m)(t,o)}),r}function zt(t,e,n,r){var o=["EXIT_NONE_TERMINAL"],a=!1,u=e.length,c=u-r-1,s=[],f=[];for(f.push({idx:-1,def:t,ruleStack:[],occurrenceStack:[]});!Object(i.A)(f);){var l=f.pop();if("EXIT_ALTERNATIVE"!==l){var h=l.def,p=l.idx,v=l.ruleStack,d=l.occurrenceStack;if(!Object(i.A)(h)){var y=h[0];if("EXIT_NONE_TERMINAL"===y){var m={idx:p,def:Object(i.m)(h),ruleStack:Object(i.n)(v),occurrenceStack:Object(i.n)(d)};f.push(m)}else if(y instanceof pt)if(p<u-1){var g=p+1;if(n(e[g],y.terminalType)){m={idx:g,def:Object(i.m)(h),ruleStack:v,occurrenceStack:d};f.push(m)}}else{if(p!==u-1)throw Error("non exhaustive match");s.push({nextTokenType:y.terminalType,nextTokenOccurrence:y.idx,ruleStack:v,occurrenceStack:d}),a=!0}else if(y instanceof it){var b=Object(i.g)(v);b.push(y.nonTerminalName);var O=Object(i.g)(d);O.push(y.idx);m={idx:p,def:y.definition.concat(o,Object(i.m)(h)),ruleStack:b,occurrenceStack:O};f.push(m)}else if(y instanceof ut){var T={idx:p,def:Object(i.m)(h),ruleStack:v,occurrenceStack:d};f.push(T),f.push("EXIT_ALTERNATIVE");var E={idx:p,def:y.definition.concat(Object(i.m)(h)),ruleStack:v,occurrenceStack:d};f.push(E)}else if(y instanceof ct){var R=new ft({definition:y.definition,idx:y.idx});m={idx:p,def:y.definition.concat([R],Object(i.m)(h)),ruleStack:v,occurrenceStack:d};f.push(m)}else if(y instanceof st){var _=new pt({terminalType:y.separator});R=new ft({definition:[_].concat(y.definition),idx:y.idx}),m={idx:p,def:y.definition.concat([R],Object(i.m)(h)),ruleStack:v,occurrenceStack:d};f.push(m)}else if(y instanceof lt){T={idx:p,def:Object(i.m)(h),ruleStack:v,occurrenceStack:d};f.push(T),f.push("EXIT_ALTERNATIVE");_=new pt({terminalType:y.separator});var N=new ft({definition:[_].concat(y.definition),idx:y.idx});E={idx:p,def:y.definition.concat([N],Object(i.m)(h)),ruleStack:v,occurrenceStack:d};f.push(E)}else if(y instanceof ft){T={idx:p,def:Object(i.m)(h),ruleStack:v,occurrenceStack:d};f.push(T),f.push("EXIT_ALTERNATIVE");N=new ft({definition:y.definition,idx:y.idx}),E={idx:p,def:y.definition.concat([N],Object(i.m)(h)),ruleStack:v,occurrenceStack:d};f.push(E)}else if(y instanceof ht)for(var I=y.definition.length-1;I>=0;I--){var A={idx:p,def:y.definition[I].definition.concat(Object(i.m)(h)),ruleStack:v,occurrenceStack:d};f.push(A),f.push("EXIT_ALTERNATIVE")}else if(y instanceof at)f.push({idx:p,def:y.definition.concat(Object(i.m)(h)),ruleStack:v,occurrenceStack:d});else{if(!(y instanceof ot))throw Error("non exhaustive match");f.push(Gt(y,p,v,d))}}}else a&&Object(i.H)(f).idx<=c&&f.pop()}return s}function Gt(t,e,n,r){var o=Object(i.g)(n);o.push(t.name);var a=Object(i.g)(r);return a.push(1),{idx:e,def:t.definition,ruleStack:o,occurrenceStack:a}}var Bt,Ht=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){t[t.OPTION=0]="OPTION",t[t.REPETITION=1]="REPETITION",t[t.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",t[t.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",t[t.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",t[t.ALTERNATION=5]="ALTERNATION"}(Bt||(Bt={}));var Wt=function(t){function e(e,n,r){var i=t.call(this)||this;return i.topProd=e,i.targetOccurrence=n,i.targetProdType=r,i}return Ht(e,t),e.prototype.startWalking=function(){return this.walk(this.topProd),this.restDef},e.prototype.checkIsTarget=function(t,e,n,r){return t.idx===this.targetOccurrence&&this.targetProdType===e&&(this.restDef=n.concat(r),!0)},e.prototype.walkOption=function(e,n,r){this.checkIsTarget(e,Bt.OPTION,n,r)||t.prototype.walkOption.call(this,e,n,r)},e.prototype.walkAtLeastOne=function(e,n,r){this.checkIsTarget(e,Bt.REPETITION_MANDATORY,n,r)||t.prototype.walkOption.call(this,e,n,r)},e.prototype.walkAtLeastOneSep=function(e,n,r){this.checkIsTarget(e,Bt.REPETITION_MANDATORY_WITH_SEPARATOR,n,r)||t.prototype.walkOption.call(this,e,n,r)},e.prototype.walkMany=function(e,n,r){this.checkIsTarget(e,Bt.REPETITION,n,r)||t.prototype.walkOption.call(this,e,n,r)},e.prototype.walkManySep=function(e,n,r){this.checkIsTarget(e,Bt.REPETITION_WITH_SEPARATOR,n,r)||t.prototype.walkOption.call(this,e,n,r)},e}(yt),Kt=function(t){function e(e,n,r){var i=t.call(this)||this;return i.targetOccurrence=e,i.targetProdType=n,i.targetRef=r,i.result=[],i}return Ht(e,t),e.prototype.checkIsTarget=function(t,e){t.idx!==this.targetOccurrence||this.targetProdType!==e||void 0!==this.targetRef&&t!==this.targetRef||(this.result=t.definition)},e.prototype.visitOption=function(t){this.checkIsTarget(t,Bt.OPTION)},e.prototype.visitRepetition=function(t){this.checkIsTarget(t,Bt.REPETITION)},e.prototype.visitRepetitionMandatory=function(t){this.checkIsTarget(t,Bt.REPETITION_MANDATORY)},e.prototype.visitRepetitionMandatoryWithSeparator=function(t){this.checkIsTarget(t,Bt.REPETITION_MANDATORY_WITH_SEPARATOR)},e.prototype.visitRepetitionWithSeparator=function(t){this.checkIsTarget(t,Bt.REPETITION_WITH_SEPARATOR)},e.prototype.visitAlternation=function(t){this.checkIsTarget(t,Bt.ALTERNATION)},e}(gt);function Vt(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=[];return e}function Yt(t){for(var e=[""],n=0;n<t.length;n++){for(var r=t[n],i=[],o=0;o<e.length;o++){var a=e[o];i.push(a+"_"+r.tokenTypeIdx);for(var u=0;u<r.categoryMatches.length;u++){var c="_"+r.categoryMatches[u];i.push(a+c)}}e=i}return e}function qt(t,e,n){for(var r=0;r<t.length;r++)if(r!==n)for(var i=t[r],o=0;o<e.length;o++){if(!0===i[e[o]])return!1}return!0}function Zt(t,e){for(var n=Object(i.I)(t,(function(t){return Ft([t],1)})),r=Vt(n.length),o=Object(i.I)(n,(function(t){var e={};return Object(i.u)(t,(function(t){var n=Yt(t.partialPath);Object(i.u)(n,(function(t){e[t]=!0}))})),e})),a=n,u=1;u<=e;u++){var c=a;a=Vt(c.length);for(var s=function(t){for(var n=c[t],s=0;s<n.length;s++){var f=n[s].partialPath,l=n[s].suffixDef,h=Yt(f);if(qt(o,h,t)||Object(i.A)(l)||f.length===e){var p=r[t];if(!1===$t(p,f)){p.push(f);for(var v=0;v<h.length;v++){var d=h[v];o[t][d]=!0}}}else{var y=Ft(l,u+1,f);a[t]=a[t].concat(y),Object(i.u)(y,(function(e){var n=Yt(e.partialPath);Object(i.u)(n,(function(e){o[t][e]=!0}))}))}}},f=0;f<c.length;f++)s(f)}return r}function Jt(t,e,n,r){var i=new Kt(t,Bt.ALTERNATION,r);return e.accept(i),Zt(i.result,n)}function Qt(t,e,n,r){var i=new Kt(t,n);e.accept(i);var o=i.result,a=new Wt(e,t,n).startWalking();return Zt([new at({definition:o}),new at({definition:a})],r)}function $t(t,e){t:for(var n=0;n<t.length;n++){var r=t[n];if(r.length===e.length){for(var i=0;i<r.length;i++){var o=e[i],a=r[i];if(!1===(o===a||void 0!==a.categoryMatchesMap[o.tokenTypeIdx]))continue t}return!0}}return!1}function te(t){return Object(i.o)(t,(function(t){return Object(i.o)(t,(function(t){return Object(i.o)(t,(function(t){return Object(i.A)(t.categoryMatches)}))}))}))}var ee=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function ne(t,e,n,r,o){var a=i.I(t,(function(t){return function(t,e){var n=new oe;t.accept(n);var r=n.allProductions,o=i.v(r,re),a=i.N(o,(function(t){return t.length>1}));return i.I(i.U(a),(function(n){var r=i.s(n),o=e.buildDuplicateFoundError(t,n),a=Tt(r),u={message:o,type:Qe.DUPLICATE_PRODUCTIONS,ruleName:t.name,dslName:a,occurrence:r.idx},c=ie(r);return c&&(u.parameter=c),u}))}(t,r)})),u=i.I(t,(function(t){return function t(e,n,r,o){void 0===o&&(o=[]);var a=[],u=function t(e){var n=[];if(i.A(e))return n;var r=i.s(e);if(r instanceof it)n.push(r.referencedRule);else if(r instanceof at||r instanceof ut||r instanceof ct||r instanceof st||r instanceof lt||r instanceof ft)n=n.concat(t(r.definition));else if(r instanceof ht)n=i.t(i.I(r.definition,(function(e){return t(e.definition)})));else if(!(r instanceof pt))throw Error("non exhaustive match");var o=Ot(r),a=e.length>1;if(o&&a){var u=i.m(e);return n.concat(t(u))}return n}(n.definition);if(i.A(u))return[];var c=e.name;i.j(u,e)&&a.push({message:r.buildLeftRecursionError({topLevelRule:e,leftRecursionPath:o}),type:Qe.LEFT_RECURSION,ruleName:c});var s=i.l(u,o.concat([e])),f=i.I(s,(function(n){var a=i.g(o);return a.push(n),t(e,n,r,a)}));return a.concat(i.t(f))}(t,t,r)})),c=[],s=[],f=[];Object(i.o)(u,i.A)&&(c=Object(i.I)(t,(function(t){return function(t,e){var n=new ue;t.accept(n);var r=n.alternations;return i.O(r,(function(n,r){var o=i.n(r.definition),a=i.I(o,(function(n,o){var a=zt([n],[],null,1);return i.A(a)?{message:e.buildEmptyAlternationError({topLevelRule:t,alternation:r,emptyChoiceIdx:o}),type:Qe.NONE_LAST_EMPTY_ALT,ruleName:t.name,occurrence:r.idx,alternative:o+1}:null}));return n.concat(i.i(a))}),[])}(t,r)})),s=Object(i.I)(t,(function(t){return function(t,e,n){var r=new ue;t.accept(r);var o=r.alternations;return o=Object(i.P)(o,(function(t){return!0===t.ignoreAmbiguities})),i.O(o,(function(r,o){var a=o.idx,u=o.maxLookahead||e,c=Jt(a,t,u,o),s=function(t,e,n,r){var o=[],a=Object(i.O)(t,(function(n,r,a){return!0===e.definition[a].ignoreAmbiguities||Object(i.u)(r,(function(r){var u=[a];Object(i.u)(t,(function(t,n){a!==n&&$t(t,r)&&!0!==e.definition[n].ignoreAmbiguities&&u.push(n)})),u.length>1&&!$t(o,r)&&(o.push(r),n.push({alts:u,path:r}))})),n}),[]);return i.I(a,(function(t){var o=Object(i.I)(t.alts,(function(t){return t+1}));return{message:r.buildAlternationAmbiguityError({topLevelRule:n,alternation:e,ambiguityIndices:o,prefixPath:t.path}),type:Qe.AMBIGUOUS_ALTS,ruleName:n.name,occurrence:e.idx,alternatives:[t.alts]}}))}(c,o,t,n),f=function(t,e,n,r){var o=[],a=Object(i.O)(t,(function(t,e,n){var r=Object(i.I)(e,(function(t){return{idx:n,path:t}}));return t.concat(r)}),[]);return Object(i.u)(a,(function(t){if(!0!==e.definition[t.idx].ignoreAmbiguities){var u=t.idx,c=t.path,s=Object(i.r)(a,(function(t){return!0!==e.definition[t.idx].ignoreAmbiguities&&t.idx<u&&(n=t.path,r=c,n.length<r.length&&Object(i.o)(n,(function(t,e){var n=r[e];return t===n||n.categoryMatchesMap[t.tokenTypeIdx]})));var n,r})),f=Object(i.I)(s,(function(t){var i=[t.idx+1,u+1],o=0===e.idx?"":e.idx;return{message:r.buildAlternationPrefixAmbiguityError({topLevelRule:n,alternation:e,ambiguityIndices:i,prefixPath:t.path}),type:Qe.AMBIGUOUS_PREFIX_ALTS,ruleName:n.name,occurrence:o,alternatives:i}}));o=o.concat(f)}})),o}(c,o,t,n);return r.concat(s,f)}),[])}(t,e,r)})),f=function(t,e,n){var r=[];return Object(i.u)(t,(function(t){var o=new ce;t.accept(o);var a=o.allProductions;Object(i.u)(a,(function(o){var a=function(t){if(t instanceof ut)return Bt.OPTION;if(t instanceof ft)return Bt.REPETITION;if(t instanceof ct)return Bt.REPETITION_MANDATORY;if(t instanceof st)return Bt.REPETITION_MANDATORY_WITH_SEPARATOR;if(t instanceof lt)return Bt.REPETITION_WITH_SEPARATOR;if(t instanceof ht)return Bt.ALTERNATION;throw Error("non exhaustive match")}(o),u=o.maxLookahead||e,c=Qt(o.idx,t,a,u)[0];if(Object(i.A)(Object(i.t)(c))){var s=n.buildEmptyRepetitionError({topLevelRule:t,repetition:o});r.push({message:s,type:Qe.NO_NON_EMPTY_LOOKAHEAD,ruleName:t.name})}}))})),r}(t,e,r));var l=function(t,e,n){var r=[],o=Object(i.I)(e,(function(t){return t.name}));return Object(i.u)(t,(function(t){var e=t.name;if(Object(i.j)(o,e)){var a=n.buildNamespaceConflictError(t);r.push({message:a,type:Qe.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:e})}})),r}(t,n,r),h=i.I(n,(function(t){return function(t,e){var n=[];t.name.match(ae)||n.push({message:e.buildTokenNameError({tokenType:t,expectedPattern:ae}),type:Qe.INVALID_TOKEN_NAME});return n}(t,r)})),p=Object(i.I)(t,(function(t){return function(t,e){var n=new ue;t.accept(n);var r=n.alternations;return i.O(r,(function(n,r){return r.definition.length>255&&n.push({message:e.buildTooManyAlternativesError({topLevelRule:t,alternation:r}),type:Qe.TOO_MANY_ALTS,ruleName:t.name,occurrence:r.idx}),n}),[])}(t,r)})),v=Object(i.I)(t,(function(t){return function(t,e){var n=[],r=t.name;r.match(ae)||n.push({message:e.buildInvalidRuleNameError({topLevelRule:t,expectedPattern:ae}),type:Qe.INVALID_RULE_NAME,ruleName:r});return n}(t,r)})),d=Object(i.I)(t,(function(e){return function(t,e,n,r){var o=[];if(Object(i.O)(e,(function(e,n){return n.name===t.name?e+1:e}),0)>1){var a=r.buildDuplicateRuleNameError({topLevelRule:t,grammarName:n});o.push({message:a,type:Qe.DUPLICATE_RULE_NAME,ruleName:t.name})}return o}(e,t,o,r)}));return i.t(a.concat(h,f,u,c,s,l,p,v,d))}function re(t){return Tt(t)+"_#_"+t.idx+"_#_"+ie(t)}function ie(t){return t instanceof pt?t.terminalType.name:t instanceof it?t.nonTerminalName:""}var oe=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.allProductions=[],e}return ee(e,t),e.prototype.visitNonTerminal=function(t){this.allProductions.push(t)},e.prototype.visitOption=function(t){this.allProductions.push(t)},e.prototype.visitRepetitionWithSeparator=function(t){this.allProductions.push(t)},e.prototype.visitRepetitionMandatory=function(t){this.allProductions.push(t)},e.prototype.visitRepetitionMandatoryWithSeparator=function(t){this.allProductions.push(t)},e.prototype.visitRepetition=function(t){this.allProductions.push(t)},e.prototype.visitAlternation=function(t){this.allProductions.push(t)},e.prototype.visitTerminal=function(t){this.allProductions.push(t)},e}(gt),ae=/^[a-zA-Z_]\w*$/;var ue=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.alternations=[],e}return ee(e,t),e.prototype.visitAlternation=function(t){this.alternations.push(t)},e}(gt);var ce=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.allProductions=[],e}return ee(e,t),e.prototype.visitRepetitionWithSeparator=function(t){this.allProductions.push(t)},e.prototype.visitRepetitionMandatory=function(t){this.allProductions.push(t)},e.prototype.visitRepetitionMandatoryWithSeparator=function(t){this.allProductions.push(t)},e.prototype.visitRepetition=function(t){this.allProductions.push(t)},e}(gt);function se(t){t=Object(i.k)(t,{errMsgProvider:xt});var e,n,r,o={};return Object(i.u)(t.rules,(function(t){o[t.name]=t})),e=o,n=t.errMsgProvider,(r=new jt(e,n)).resolveRefs(),r.errors}function fe(t){return ne((t=Object(i.k)(t,{errMsgProvider:St})).rules,t.maxLookahead,t.tokenTypes,t.errMsgProvider,t.grammarName)}function le(t){Object(i.u)(t.rules,(function(t){var e=new Et;t.accept(e),Object(i.u)(e.dslMethods,(function(t){Object(i.u)(t,(function(t,e){t.idx=e+1}))}))}))}var he=["MismatchedTokenException","NoViableAltException","EarlyExitException","NotAllInputParsedException"];function pe(t){return Object(i.j)(he,t.name)}function ve(t,e,n){this.name="MismatchedTokenException",this.message=t,this.token=e,this.previousToken=n,this.resyncedTokens=[]}function de(t,e,n){this.name="NoViableAltException",this.message=t,this.token=e,this.previousToken=n,this.resyncedTokens=[]}function ye(t,e){this.name="NotAllInputParsedException",this.message=t,this.token=e,this.resyncedTokens=[]}function me(t,e,n){this.name="EarlyExitException",this.message=t,this.token=e,this.previousToken=n,this.resyncedTokens=[]}Object.freeze(he),ve.prototype=Error.prototype,de.prototype=Error.prototype,ye.prototype=Error.prototype,me.prototype=Error.prototype;var ge={};function be(t){this.name="InRuleRecoveryException",this.message=t}be.prototype=Error.prototype;var Oe=function(){function t(){}return t.prototype.initRecoverable=function(t){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=Object(i.w)(t,"recoveryEnabled")?t.recoveryEnabled:$e.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=Te)},t.prototype.getTokenToInsert=function(t){var e=tt(t,"",NaN,NaN,NaN,NaN,NaN,NaN);return e.isInsertedInRecovery=!0,e},t.prototype.canTokenTypeBeInsertedInRecovery=function(t){return!0},t.prototype.tryInRepetitionRecovery=function(t,e,n,r){for(var o=this,a=this.findReSyncTokenType(),u=this.exportLexerState(),c=[],s=!1,f=this.LA(1),l=this.LA(1),h=function(){var t=o.LA(0),e=new ve(o.errorMessageProvider.buildMismatchTokenMessage({expected:r,actual:f,previous:t,ruleName:o.getCurrRuleFullName()}),f,o.LA(0));e.resyncedTokens=Object(i.n)(c),o.SAVE_ERROR(e)};!s;){if(this.tokenMatcher(l,r))return void h();if(n.call(this))return h(),void t.apply(this,e);this.tokenMatcher(l,a)?s=!0:(l=this.SKIP_TOKEN(),this.addToResyncTokens(l,c))}this.importLexerState(u)},t.prototype.shouldInRepetitionRecoveryBeTried=function(t,e,n){return!1!==n&&(void 0!==t&&void 0!==e&&(!this.tokenMatcher(this.LA(1),t)&&(!this.isBackTracking()&&!this.canPerformInRuleRecovery(t,this.getFollowsForInRuleRecovery(t,e)))))},t.prototype.getFollowsForInRuleRecovery=function(t,e){var n=this.getCurrentGrammarPath(t,e);return this.getNextPossibleTokenTypes(n)},t.prototype.tryInRuleRecovery=function(t,e){if(this.canRecoverWithSingleTokenInsertion(t,e))return this.getTokenToInsert(t);if(this.canRecoverWithSingleTokenDeletion(t)){var n=this.SKIP_TOKEN();return this.consumeToken(),n}throw new be("sad sad panda")},t.prototype.canPerformInRuleRecovery=function(t,e){return this.canRecoverWithSingleTokenInsertion(t,e)||this.canRecoverWithSingleTokenDeletion(t)},t.prototype.canRecoverWithSingleTokenInsertion=function(t,e){var n=this;if(!this.canTokenTypeBeInsertedInRecovery(t))return!1;if(Object(i.A)(e))return!1;var r=this.LA(1);return void 0!==Object(i.q)(e,(function(t){return n.tokenMatcher(r,t)}))},t.prototype.canRecoverWithSingleTokenDeletion=function(t){return this.tokenMatcher(this.LA(2),t)},t.prototype.isInCurrentRuleReSyncSet=function(t){var e=this.getCurrFollowKey(),n=this.getFollowSetFromFollowKey(e);return Object(i.j)(n,t)},t.prototype.findReSyncTokenType=function(){for(var t=this.flattenFollowSet(),e=this.LA(1),n=2;;){var r=e.tokenType;if(Object(i.j)(t,r))return r;e=this.LA(n),n++}},t.prototype.getCurrFollowKey=function(){if(1===this.RULE_STACK.length)return ge;var t=this.getLastExplicitRuleShortName(),e=this.getLastExplicitRuleOccurrenceIndex(),n=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(t),idxInCallingRule:e,inRule:this.shortRuleNameToFullName(n)}},t.prototype.buildFullFollowKeyStack=function(){var t=this,e=this.RULE_STACK,n=this.RULE_OCCURRENCE_STACK;return Object(i.I)(e,(function(r,i){return 0===i?ge:{ruleName:t.shortRuleNameToFullName(r),idxInCallingRule:n[i],inRule:t.shortRuleNameToFullName(e[i-1])}}))},t.prototype.flattenFollowSet=function(){var t=this,e=Object(i.I)(this.buildFullFollowKeyStack(),(function(e){return t.getFollowSetFromFollowKey(e)}));return Object(i.t)(e)},t.prototype.getFollowSetFromFollowKey=function(t){if(t===ge)return[$];var e=t.ruleName+t.idxInCallingRule+Nt+t.inRule;return this.resyncFollows[e]},t.prototype.addToResyncTokens=function(t,e){return this.tokenMatcher(t,$)||e.push(t),e},t.prototype.reSyncTo=function(t){for(var e=[],n=this.LA(1);!1===this.tokenMatcher(n,t);)n=this.SKIP_TOKEN(),this.addToResyncTokens(n,e);return Object(i.n)(e)},t.prototype.attemptInRepetitionRecovery=function(t,e,n,r,i,o,a){},t.prototype.getCurrentGrammarPath=function(t,e){return{ruleStack:this.getHumanReadableRuleStack(),occurrenceStack:Object(i.g)(this.RULE_OCCURRENCE_STACK),lastTok:t,lastTokOccurrence:e}},t.prototype.getHumanReadableRuleStack=function(){var t=this;return Object(i.I)(this.RULE_STACK,(function(e){return t.shortRuleNameToFullName(e)}))},t}();function Te(t,e,n,r,i,o,a){var u=this.getKeyForAutomaticLookahead(r,i),c=this.firstAfterRepMap[u];if(void 0===c){var s=this.getCurrRuleFullName();c=new o(this.getGAstProductions()[s],i).startWalking(),this.firstAfterRepMap[u]=c}var f=c.token,l=c.occurrence,h=c.isEndOfRule;1===this.RULE_STACK.length&&h&&void 0===f&&(f=$,l=1),this.shouldInRepetitionRecoveryBeTried(f,l,a)&&this.tryInRepetitionRecovery(t,e,n,f)}function Ee(t,e,n){return n|e|t}var Re=function(){function t(){}return t.prototype.initLooksAhead=function(t){this.dynamicTokensEnabled=Object(i.w)(t,"dynamicTokensEnabled")?t.dynamicTokensEnabled:$e.dynamicTokensEnabled,this.maxLookahead=Object(i.w)(t,"maxLookahead")?t.maxLookahead:$e.maxLookahead,this.lookAheadFuncsCache=Object(i.z)()?new Map:[],Object(i.z)()?(this.getLaFuncFromCache=this.getLaFuncFromMap,this.setLaFuncCache=this.setLaFuncCacheUsingMap):(this.getLaFuncFromCache=this.getLaFuncFromObj,this.setLaFuncCache=this.setLaFuncUsingObj)},t.prototype.preComputeLookaheadFunctions=function(t){var e=this;Object(i.u)(t,(function(t){e.TRACE_INIT(t.name+" Rule Lookahead",(function(){var n=function(t){Rt.reset(),t.accept(Rt);var e=Rt.dslMethods;return Rt.reset(),e}(t),r=n.alternation,o=n.repetition,a=n.option,u=n.repetitionMandatory,c=n.repetitionMandatoryWithSeparator,s=n.repetitionWithSeparator;Object(i.u)(r,(function(n){var r=0===n.idx?"":n.idx;e.TRACE_INIT(""+Tt(n)+r,(function(){var r,i,o,a,u,c,s,f=(r=n.idx,i=t,o=n.maxLookahead||e.maxLookahead,a=n.hasPredicates,u=e.dynamicTokensEnabled,c=e.lookAheadBuilderForAlternatives,s=Jt(r,i,o),c(s,a,te(s)?U:X,u)),l=Ee(e.fullRuleNameToShort[t.name],256,n.idx);e.setLaFuncCache(l,f)}))})),Object(i.u)(o,(function(n){e.computeLookaheadFunc(t,n.idx,768,Bt.REPETITION,n.maxLookahead,Tt(n))})),Object(i.u)(a,(function(n){e.computeLookaheadFunc(t,n.idx,512,Bt.OPTION,n.maxLookahead,Tt(n))})),Object(i.u)(u,(function(n){e.computeLookaheadFunc(t,n.idx,1024,Bt.REPETITION_MANDATORY,n.maxLookahead,Tt(n))})),Object(i.u)(c,(function(n){e.computeLookaheadFunc(t,n.idx,1536,Bt.REPETITION_MANDATORY_WITH_SEPARATOR,n.maxLookahead,Tt(n))})),Object(i.u)(s,(function(n){e.computeLookaheadFunc(t,n.idx,1280,Bt.REPETITION_WITH_SEPARATOR,n.maxLookahead,Tt(n))}))}))}))},t.prototype.computeLookaheadFunc=function(t,e,n,r,i,o){var a=this;this.TRACE_INIT(""+o+(0===e?"":e),(function(){var o=function(t,e,n,r,i,o){var a=Qt(t,e,i,n),u=te(a)?U:X;return o(a[0],u,r)}(e,t,i||a.maxLookahead,a.dynamicTokensEnabled,r,a.lookAheadBuilderForOptional),u=Ee(a.fullRuleNameToShort[t.name],n,e);a.setLaFuncCache(u,o)}))},t.prototype.lookAheadBuilderForOptional=function(t,e,n){return function(t,e,n){var r=Object(i.o)(t,(function(t){return 1===t.length})),o=t.length;if(r&&!n){var a=Object(i.t)(t);if(1===a.length&&Object(i.A)(a[0].categoryMatches)){var u=a[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===u}}var c=Object(i.O)(a,(function(t,e,n){return t[e.tokenTypeIdx]=!0,Object(i.u)(e.categoryMatches,(function(e){t[e]=!0})),t}),[]);return function(){var t=this.LA(1);return!0===c[t.tokenTypeIdx]}}return function(){t:for(var n=0;n<o;n++){for(var r=t[n],i=r.length,a=0;a<i;a++){var u=this.LA(a+1);if(!1===e(u,r[a]))continue t}return!0}return!1}}(t,e,n)},t.prototype.lookAheadBuilderForAlternatives=function(t,e,n,r){return function(t,e,n,r){var o=t.length,a=Object(i.o)(t,(function(t){return Object(i.o)(t,(function(t){return 1===t.length}))}));if(e)return function(e){for(var r=Object(i.I)(e,(function(t){return t.GATE})),a=0;a<o;a++){var u=t[a],c=u.length,s=r[a];if(void 0===s||!1!==s.call(this))t:for(var f=0;f<c;f++){for(var l=u[f],h=l.length,p=0;p<h;p++){var v=this.LA(p+1);if(!1===n(v,l[p]))continue t}return a}}};if(a&&!r){var u=Object(i.I)(t,(function(t){return Object(i.t)(t)})),c=Object(i.O)(u,(function(t,e,n){return Object(i.u)(e,(function(e){Object(i.w)(t,e.tokenTypeIdx)||(t[e.tokenTypeIdx]=n),Object(i.u)(e.categoryMatches,(function(e){Object(i.w)(t,e)||(t[e]=n)}))})),t}),[]);return function(){var t=this.LA(1);return c[t.tokenTypeIdx]}}return function(){for(var e=0;e<o;e++){var r=t[e],i=r.length;t:for(var a=0;a<i;a++){for(var u=r[a],c=u.length,s=0;s<c;s++){var f=this.LA(s+1);if(!1===n(f,u[s]))continue t}return e}}}}(t,e,n,r)},t.prototype.getKeyForAutomaticLookahead=function(t,e){return Ee(this.getLastExplicitRuleShortName(),t,e)},t.prototype.getLaFuncFromCache=function(t){},t.prototype.getLaFuncFromMap=function(t){return this.lookAheadFuncsCache.get(t)},t.prototype.getLaFuncFromObj=function(t){return this.lookAheadFuncsCache[t]},t.prototype.setLaFuncCache=function(t,e){},t.prototype.setLaFuncCacheUsingMap=function(t,e){this.lookAheadFuncsCache.set(t,e)},t.prototype.setLaFuncUsingObj=function(t,e){this.lookAheadFuncsCache[t]=e},t}();function _e(t,e){!0===isNaN(t.startOffset)?(t.startOffset=e.startOffset,t.endOffset=e.endOffset):t.endOffset<e.endOffset==!0&&(t.endOffset=e.endOffset)}function Ne(t,e){!0===isNaN(t.startOffset)?(t.startOffset=e.startOffset,t.startColumn=e.startColumn,t.startLine=e.startLine,t.endOffset=e.endOffset,t.endColumn=e.endColumn,t.endLine=e.endLine):t.endOffset<e.endOffset==!0&&(t.endOffset=e.endOffset,t.endColumn=e.endColumn,t.endLine=e.endLine)}var Ie,Ae=/^\s*function\s*(\S*)\s*\(/;function Le(t){var e=t.name;return e||t.toString().match(Ae)[1]}function xe(t,e){var n=Object.getOwnPropertyDescriptor(t,"name");return!(!Object(i.F)(n)&&!n.configurable)&&(Object.defineProperty(t,"name",{enumerable:!1,configurable:!0,writable:!1,value:e}),!0)}function Se(t,e){for(var n=Object(i.G)(t),r=n.length,o=0;o<r;o++)for(var a=t[n[o]],u=a.length,c=0;c<u;c++){var s=a[c];void 0===s.tokenTypeIdx&&this[s.name](s.children,e)}}function ke(t,e){var n=function(){};return xe(n,t+"BaseSemantics"),(n.prototype={visit:function(t,e){if(Object(i.y)(t)&&(t=t[0]),!Object(i.F)(t))return this[t.name](t.children,e)},validateVisitor:function(){var t=function(t,e){var n=function(t,e){var n=Object(i.I)(e,(function(e){if(!Object(i.B)(t[e]))return{msg:"Missing visitor method: <"+e+"> on "+Le(t.constructor)+" CST Visitor.",type:Ie.MISSING_METHOD,methodName:e}}));return Object(i.i)(n)}(t,e),r=function(t,e){var n=[];for(var r in t)ae.test(r)&&Object(i.B)(t[r])&&!Object(i.j)(je,r)&&!Object(i.j)(e,r)&&n.push({msg:"Redundant visitor method: <"+r+"> on "+Le(t.constructor)+" CST Visitor\nThere is no Grammar Rule corresponding to this method's name.\nFor utility methods on visitor classes use methods names that do not match /"+ae.source+"/.",type:Ie.REDUNDANT_METHOD,methodName:r});return n}(t,e);return n.concat(r)}(this,e);if(!Object(i.A)(t)){var n=Object(i.I)(t,(function(t){return t.msg}));throw Error("Errors Detected in CST Visitor <"+Le(this.constructor)+">:\n\t"+n.join("\n\n").replace(/\n/g,"\n\t"))}}}).constructor=n,n._RULE_NAMES=e,n}!function(t){t[t.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",t[t.MISSING_METHOD=1]="MISSING_METHOD"}(Ie||(Ie={}));var je=["constructor","visit","validateVisitor"];var Pe=function(){function t(){}return t.prototype.initTreeBuilder=function(t){if(this.CST_STACK=[],this.outputCst=t.outputCst,this.nodeLocationTracking=Object(i.w)(t,"nodeLocationTracking")?t.nodeLocationTracking:$e.nodeLocationTracking,this.outputCst)if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=Ne,this.setNodeLocationFromNode=Ne,this.cstPostRule=i.b,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=i.b,this.setNodeLocationFromNode=i.b,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=_e,this.setNodeLocationFromNode=_e,this.cstPostRule=i.b,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=i.b,this.setNodeLocationFromNode=i.b,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else{if(!/none/i.test(this.nodeLocationTracking))throw Error('Invalid <nodeLocationTracking> config option: "'+t.nodeLocationTracking+'"');this.setNodeLocationFromToken=i.b,this.setNodeLocationFromNode=i.b,this.cstPostRule=i.b,this.setInitialNodeLocation=i.b}else this.cstInvocationStateUpdate=i.b,this.cstFinallyStateUpdate=i.b,this.cstPostTerminal=i.b,this.cstPostNonTerminal=i.b,this.cstPostRule=i.b},t.prototype.setInitialNodeLocationOnlyOffsetRecovery=function(t){t.location={startOffset:NaN,endOffset:NaN}},t.prototype.setInitialNodeLocationOnlyOffsetRegular=function(t){t.location={startOffset:this.LA(1).startOffset,endOffset:NaN}},t.prototype.setInitialNodeLocationFullRecovery=function(t){t.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}},t.prototype.setInitialNodeLocationFullRegular=function(t){var e=this.LA(1);t.location={startOffset:e.startOffset,startLine:e.startLine,startColumn:e.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}},t.prototype.cstInvocationStateUpdate=function(t,e){var n={name:t,children:{}};this.setInitialNodeLocation(n),this.CST_STACK.push(n)},t.prototype.cstFinallyStateUpdate=function(){this.CST_STACK.pop()},t.prototype.cstPostRuleFull=function(t){var e=this.LA(0),n=t.location;n.startOffset<=e.startOffset==!0?(n.endOffset=e.endOffset,n.endLine=e.endLine,n.endColumn=e.endColumn):(n.startOffset=NaN,n.startLine=NaN,n.startColumn=NaN)},t.prototype.cstPostRuleOnlyOffset=function(t){var e=this.LA(0),n=t.location;n.startOffset<=e.startOffset==!0?n.endOffset=e.endOffset:n.startOffset=NaN},t.prototype.cstPostTerminal=function(t,e){var n,r,i,o=this.CST_STACK[this.CST_STACK.length-1];r=e,i=t,void 0===(n=o).children[i]?n.children[i]=[r]:n.children[i].push(r),this.setNodeLocationFromToken(o.location,e)},t.prototype.cstPostNonTerminal=function(t,e){var n=this.CST_STACK[this.CST_STACK.length-1];!function(t,e,n){void 0===t.children[e]?t.children[e]=[n]:t.children[e].push(n)}(n,e,t),this.setNodeLocationFromNode(n.location,t.location)},t.prototype.getBaseCstVisitorConstructor=function(){if(Object(i.F)(this.baseCstVisitorConstructor)){var t=ke(this.className,Object(i.G)(this.gastProductionsCache));return this.baseCstVisitorConstructor=t,t}return this.baseCstVisitorConstructor},t.prototype.getBaseCstVisitorConstructorWithDefaults=function(){if(Object(i.F)(this.baseCstVisitorWithDefaultsConstructor)){var t=function(t,e,n){var r=function(){};xe(r,t+"BaseSemanticsWithDefaults");var o=Object.create(n.prototype);return Object(i.u)(e,(function(t){o[t]=Se})),(r.prototype=o).constructor=r,r}(this.className,Object(i.G)(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=t,t}return this.baseCstVisitorWithDefaultsConstructor},t.prototype.getLastExplicitRuleShortName=function(){var t=this.RULE_STACK;return t[t.length-1]},t.prototype.getPreviousExplicitRuleShortName=function(){var t=this.RULE_STACK;return t[t.length-2]},t.prototype.getLastExplicitRuleOccurrenceIndex=function(){var t=this.RULE_OCCURRENCE_STACK;return t[t.length-1]},t}(),we=function(){function t(){}return t.prototype.initLexerAdapter=function(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1},Object.defineProperty(t.prototype,"input",{get:function(){return this.tokVector},set:function(t){if(!0!==this.selfAnalysisDone)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=t,this.tokVectorLength=t.length},enumerable:!0,configurable:!0}),t.prototype.SKIP_TOKEN=function(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):Je},t.prototype.LA=function(t){var e=this.currIdx+t;return e<0||this.tokVectorLength<=e?Je:this.tokVector[e]},t.prototype.consumeToken=function(){this.currIdx++},t.prototype.exportLexerState=function(){return this.currIdx},t.prototype.importLexerState=function(t){this.currIdx=t},t.prototype.resetLexerState=function(){this.currIdx=-1},t.prototype.moveToTerminatedState=function(){this.currIdx=this.tokVector.length-1},t.prototype.getLexerPosition=function(){return this.exportLexerState()},t}(),Ce=function(){function t(){}return t.prototype.ACTION=function(t){return t.call(this)},t.prototype.consume=function(t,e,n){return this.consumeInternal(e,t,n)},t.prototype.subrule=function(t,e,n){return this.subruleInternal(e,t,n)},t.prototype.option=function(t,e){return this.optionInternal(e,t)},t.prototype.or=function(t,e){return this.orInternal(e,t)},t.prototype.many=function(t,e){return this.manyInternal(t,e)},t.prototype.atLeastOne=function(t,e){return this.atLeastOneInternal(t,e)},t.prototype.CONSUME=function(t,e){return this.consumeInternal(t,0,e)},t.prototype.CONSUME1=function(t,e){return this.consumeInternal(t,1,e)},t.prototype.CONSUME2=function(t,e){return this.consumeInternal(t,2,e)},t.prototype.CONSUME3=function(t,e){return this.consumeInternal(t,3,e)},t.prototype.CONSUME4=function(t,e){return this.consumeInternal(t,4,e)},t.prototype.CONSUME5=function(t,e){return this.consumeInternal(t,5,e)},t.prototype.CONSUME6=function(t,e){return this.consumeInternal(t,6,e)},t.prototype.CONSUME7=function(t,e){return this.consumeInternal(t,7,e)},t.prototype.CONSUME8=function(t,e){return this.consumeInternal(t,8,e)},t.prototype.CONSUME9=function(t,e){return this.consumeInternal(t,9,e)},t.prototype.SUBRULE=function(t,e){return this.subruleInternal(t,0,e)},t.prototype.SUBRULE1=function(t,e){return this.subruleInternal(t,1,e)},t.prototype.SUBRULE2=function(t,e){return this.subruleInternal(t,2,e)},t.prototype.SUBRULE3=function(t,e){return this.subruleInternal(t,3,e)},t.prototype.SUBRULE4=function(t,e){return this.subruleInternal(t,4,e)},t.prototype.SUBRULE5=function(t,e){return this.subruleInternal(t,5,e)},t.prototype.SUBRULE6=function(t,e){return this.subruleInternal(t,6,e)},t.prototype.SUBRULE7=function(t,e){return this.subruleInternal(t,7,e)},t.prototype.SUBRULE8=function(t,e){return this.subruleInternal(t,8,e)},t.prototype.SUBRULE9=function(t,e){return this.subruleInternal(t,9,e)},t.prototype.OPTION=function(t){return this.optionInternal(t,0)},t.prototype.OPTION1=function(t){return this.optionInternal(t,1)},t.prototype.OPTION2=function(t){return this.optionInternal(t,2)},t.prototype.OPTION3=function(t){return this.optionInternal(t,3)},t.prototype.OPTION4=function(t){return this.optionInternal(t,4)},t.prototype.OPTION5=function(t){return this.optionInternal(t,5)},t.prototype.OPTION6=function(t){return this.optionInternal(t,6)},t.prototype.OPTION7=function(t){return this.optionInternal(t,7)},t.prototype.OPTION8=function(t){return this.optionInternal(t,8)},t.prototype.OPTION9=function(t){return this.optionInternal(t,9)},t.prototype.OR=function(t){return this.orInternal(t,0)},t.prototype.OR1=function(t){return this.orInternal(t,1)},t.prototype.OR2=function(t){return this.orInternal(t,2)},t.prototype.OR3=function(t){return this.orInternal(t,3)},t.prototype.OR4=function(t){return this.orInternal(t,4)},t.prototype.OR5=function(t){return this.orInternal(t,5)},t.prototype.OR6=function(t){return this.orInternal(t,6)},t.prototype.OR7=function(t){return this.orInternal(t,7)},t.prototype.OR8=function(t){return this.orInternal(t,8)},t.prototype.OR9=function(t){return this.orInternal(t,9)},t.prototype.MANY=function(t){this.manyInternal(0,t)},t.prototype.MANY1=function(t){this.manyInternal(1,t)},t.prototype.MANY2=function(t){this.manyInternal(2,t)},t.prototype.MANY3=function(t){this.manyInternal(3,t)},t.prototype.MANY4=function(t){this.manyInternal(4,t)},t.prototype.MANY5=function(t){this.manyInternal(5,t)},t.prototype.MANY6=function(t){this.manyInternal(6,t)},t.prototype.MANY7=function(t){this.manyInternal(7,t)},t.prototype.MANY8=function(t){this.manyInternal(8,t)},t.prototype.MANY9=function(t){this.manyInternal(9,t)},t.prototype.MANY_SEP=function(t){this.manySepFirstInternal(0,t)},t.prototype.MANY_SEP1=function(t){this.manySepFirstInternal(1,t)},t.prototype.MANY_SEP2=function(t){this.manySepFirstInternal(2,t)},t.prototype.MANY_SEP3=function(t){this.manySepFirstInternal(3,t)},t.prototype.MANY_SEP4=function(t){this.manySepFirstInternal(4,t)},t.prototype.MANY_SEP5=function(t){this.manySepFirstInternal(5,t)},t.prototype.MANY_SEP6=function(t){this.manySepFirstInternal(6,t)},t.prototype.MANY_SEP7=function(t){this.manySepFirstInternal(7,t)},t.prototype.MANY_SEP8=function(t){this.manySepFirstInternal(8,t)},t.prototype.MANY_SEP9=function(t){this.manySepFirstInternal(9,t)},t.prototype.AT_LEAST_ONE=function(t){this.atLeastOneInternal(0,t)},t.prototype.AT_LEAST_ONE1=function(t){return this.atLeastOneInternal(1,t)},t.prototype.AT_LEAST_ONE2=function(t){this.atLeastOneInternal(2,t)},t.prototype.AT_LEAST_ONE3=function(t){this.atLeastOneInternal(3,t)},t.prototype.AT_LEAST_ONE4=function(t){this.atLeastOneInternal(4,t)},t.prototype.AT_LEAST_ONE5=function(t){this.atLeastOneInternal(5,t)},t.prototype.AT_LEAST_ONE6=function(t){this.atLeastOneInternal(6,t)},t.prototype.AT_LEAST_ONE7=function(t){this.atLeastOneInternal(7,t)},t.prototype.AT_LEAST_ONE8=function(t){this.atLeastOneInternal(8,t)},t.prototype.AT_LEAST_ONE9=function(t){this.atLeastOneInternal(9,t)},t.prototype.AT_LEAST_ONE_SEP=function(t){this.atLeastOneSepFirstInternal(0,t)},t.prototype.AT_LEAST_ONE_SEP1=function(t){this.atLeastOneSepFirstInternal(1,t)},t.prototype.AT_LEAST_ONE_SEP2=function(t){this.atLeastOneSepFirstInternal(2,t)},t.prototype.AT_LEAST_ONE_SEP3=function(t){this.atLeastOneSepFirstInternal(3,t)},t.prototype.AT_LEAST_ONE_SEP4=function(t){this.atLeastOneSepFirstInternal(4,t)},t.prototype.AT_LEAST_ONE_SEP5=function(t){this.atLeastOneSepFirstInternal(5,t)},t.prototype.AT_LEAST_ONE_SEP6=function(t){this.atLeastOneSepFirstInternal(6,t)},t.prototype.AT_LEAST_ONE_SEP7=function(t){this.atLeastOneSepFirstInternal(7,t)},t.prototype.AT_LEAST_ONE_SEP8=function(t){this.atLeastOneSepFirstInternal(8,t)},t.prototype.AT_LEAST_ONE_SEP9=function(t){this.atLeastOneSepFirstInternal(9,t)},t.prototype.RULE=function(t,e,n){if(void 0===n&&(n=tn),Object(i.j)(this.definedRulesNames,t)){var r={message:St.buildDuplicateRuleNameError({topLevelRule:t,grammarName:this.className}),type:Qe.DUPLICATE_RULE_NAME,ruleName:t};this.definitionErrors.push(r)}this.definedRulesNames.push(t);var o=this.defineRule(t,e,n);return this[t]=o,o},t.prototype.OVERRIDE_RULE=function(t,e,n){void 0===n&&(n=tn);var r,o,a,u,c,s=[];s=s.concat((r=t,o=this.definedRulesNames,a=this.className,c=[],i.j(o,r)||(u="Invalid rule override, rule: ->"+r+"<- cannot be overridden in the grammar: ->"+a+"<-as it is not defined in any of the super grammars ",c.push({message:u,type:Qe.INVALID_RULE_OVERRIDE,ruleName:r})),c)),this.definitionErrors.push.apply(this.definitionErrors,s);var f=this.defineRule(t,e,n);return this[t]=f,f},t.prototype.BACKTRACK=function(t,e){return function(){this.isBackTrackingStack.push(1);var n=this.saveRecogState();try{return t.apply(this,e),!0}catch(t){if(pe(t))return!1;throw t}finally{this.reloadRecogState(n),this.isBackTrackingStack.pop()}}},t.prototype.getGAstProductions=function(){return this.gastProductionsCache},t.prototype.getSerializedGastProductions=function(){return vt(Object(i.U)(this.gastProductionsCache))},t}(),Me=function(){function t(){}return t.prototype.initRecognizerEngine=function(t,e){if(this.className=Le(this.constructor),this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=U,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},Object(i.w)(e,"serializedGrammar"))throw Error("The Parser's configuration can no longer contain a <serializedGrammar> property.\n\tSee: https://sap.github.io/chevrotain/docs/changes/BREAKING_CHANGES.html#_6-0-0\n\tFor Further details.");if(Object(i.y)(t)){if(Object(i.A)(t))throw Error("A Token Vocabulary cannot be empty.\n\tNote that the first argument for the parser constructor\n\tis no longer a Token vector (since v4.0).");if("number"==typeof t[0].startOffset)throw Error("The Parser constructor no longer accepts a token vector as the first argument.\n\tSee: https://sap.github.io/chevrotain/docs/changes/BREAKING_CHANGES.html#_4-0-0\n\tFor Further details.")}if(Object(i.y)(t))this.tokensMap=Object(i.O)(t,(function(t,e){return t[e.name]=e,t}),{});else if(Object(i.w)(t,"modes")&&Object(i.o)(Object(i.t)(Object(i.U)(t.modes)),H)){var n=Object(i.t)(Object(i.U)(t.modes)),r=Object(i.T)(n);this.tokensMap=Object(i.O)(r,(function(t,e){return t[e.name]=e,t}),{})}else{if(!Object(i.C)(t))throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap=Object(i.h)(t)}this.tokensMap.EOF=$;var o=Object(i.o)(Object(i.U)(t),(function(t){return Object(i.A)(t.categoryMatches)}));this.tokenMatcher=o?U:X,z(Object(i.U)(this.tokensMap))},t.prototype.defineRule=function(t,e,n){if(this.selfAnalysisDone)throw Error("Grammar rule <"+t+"> may not be defined after the 'performSelfAnalysis' method has been called'\nMake sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.");var r,o=Object(i.w)(n,"resyncEnabled")?n.resyncEnabled:tn.resyncEnabled,a=Object(i.w)(n,"recoveryValueFunc")?n.recoveryValueFunc:tn.recoveryValueFunc,u=this.ruleShortNameIdx<<12;function c(t){try{if(!0===this.outputCst){e.apply(this,t);var n=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(n),n}return e.apply(this,t)}catch(t){return this.invokeRuleCatch(t,o,a)}finally{this.ruleFinallyStateUpdate()}}this.ruleShortNameIdx++,this.shortRuleNameToFull[u]=t,this.fullRuleNameToShort[t]=u;return(r=function(e,n){return void 0===e&&(e=0),this.ruleInvocationStateUpdate(u,t,e),c.call(this,n)}).ruleName=t,r.originalGrammarAction=e,r},t.prototype.invokeRuleCatch=function(t,e,n){var r=1===this.RULE_STACK.length,i=e&&!this.isBackTracking()&&this.recoveryEnabled;if(pe(t)){var o=t;if(i){var a,u=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(u))return o.resyncedTokens=this.reSyncTo(u),this.outputCst?((a=this.CST_STACK[this.CST_STACK.length-1]).recoveredNode=!0,a):n();throw this.outputCst&&((a=this.CST_STACK[this.CST_STACK.length-1]).recoveredNode=!0,o.partialCstResult=a),o}if(r)return this.moveToTerminatedState(),n();throw o}throw t},t.prototype.optionInternal=function(t,e){var n=this.getKeyForAutomaticLookahead(512,e);return this.optionInternalLogic(t,e,n)},t.prototype.optionInternalLogic=function(t,e,n){var r,i,o=this,a=this.getLaFuncFromCache(n);if(void 0!==t.DEF){if(r=t.DEF,void 0!==(i=t.GATE)){var u=a;a=function(){return i.call(o)&&u.call(o)}}}else r=t;if(!0===a.call(this))return r.call(this)},t.prototype.atLeastOneInternal=function(t,e){var n=this.getKeyForAutomaticLookahead(1024,t);return this.atLeastOneInternalLogic(t,e,n)},t.prototype.atLeastOneInternalLogic=function(t,e,n){var r,i,o=this,a=this.getLaFuncFromCache(n);if(void 0!==e.DEF){if(r=e.DEF,void 0!==(i=e.GATE)){var u=a;a=function(){return i.call(o)&&u.call(o)}}}else r=e;if(!0!==a.call(this))throw this.raiseEarlyExitException(t,Bt.REPETITION_MANDATORY,e.ERR_MSG);for(var c=this.doSingleRepetition(r);!0===a.call(this)&&!0===c;)c=this.doSingleRepetition(r);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[t,e],a,1024,t,Ut)},t.prototype.atLeastOneSepFirstInternal=function(t,e){var n=this.getKeyForAutomaticLookahead(1536,t);this.atLeastOneSepFirstInternalLogic(t,e,n)},t.prototype.atLeastOneSepFirstInternalLogic=function(t,e,n){var r=this,i=e.DEF,o=e.SEP;if(!0!==this.getLaFuncFromCache(n).call(this))throw this.raiseEarlyExitException(t,Bt.REPETITION_MANDATORY_WITH_SEPARATOR,e.ERR_MSG);i.call(this);for(var a=function(){return r.tokenMatcher(r.LA(1),o)};!0===this.tokenMatcher(this.LA(1),o);)this.CONSUME(o),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,o,a,i,Dt],a,1536,t,Dt)},t.prototype.manyInternal=function(t,e){var n=this.getKeyForAutomaticLookahead(768,t);return this.manyInternalLogic(t,e,n)},t.prototype.manyInternalLogic=function(t,e,n){var r,i,o=this,a=this.getLaFuncFromCache(n);if(void 0!==e.DEF){if(r=e.DEF,void 0!==(i=e.GATE)){var u=a;a=function(){return i.call(o)&&u.call(o)}}}else r=e;for(var c=!0;!0===a.call(this)&&!0===c;)c=this.doSingleRepetition(r);this.attemptInRepetitionRecovery(this.manyInternal,[t,e],a,768,t,Mt,c)},t.prototype.manySepFirstInternal=function(t,e){var n=this.getKeyForAutomaticLookahead(1280,t);this.manySepFirstInternalLogic(t,e,n)},t.prototype.manySepFirstInternalLogic=function(t,e,n){var r=this,i=e.DEF,o=e.SEP;if(!0===this.getLaFuncFromCache(n).call(this)){i.call(this);for(var a=function(){return r.tokenMatcher(r.LA(1),o)};!0===this.tokenMatcher(this.LA(1),o);)this.CONSUME(o),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,o,a,i,Xt],a,1280,t,Xt)}},t.prototype.repetitionSepSecondInternal=function(t,e,n,r,i){for(;n();)this.CONSUME(e),r.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,e,n,r,i],n,1536,t,i)},t.prototype.doSingleRepetition=function(t){var e=this.getLexerPosition();return t.call(this),this.getLexerPosition()>e},t.prototype.orInternal=function(t,e){var n=this.getKeyForAutomaticLookahead(256,e),r=Object(i.y)(t)?t:t.DEF,o=this.getLaFuncFromCache(n).call(this,r);if(void 0!==o)return r[o].ALT.call(this);this.raiseNoAltException(e,t.ERR_MSG)},t.prototype.ruleFinallyStateUpdate=function(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),0===this.RULE_STACK.length&&!1===this.isAtEndOfInput()){var t=this.LA(1),e=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:t,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new ye(e,t))}},t.prototype.subruleInternal=function(t,e,n){var r;try{var i=void 0!==n?n.ARGS:void 0;return r=t.call(this,e,i),this.cstPostNonTerminal(r,void 0!==n&&void 0!==n.LABEL?n.LABEL:t.ruleName),r}catch(e){this.subruleInternalError(e,n,t.ruleName)}},t.prototype.subruleInternalError=function(t,e,n){throw pe(t)&&void 0!==t.partialCstResult&&(this.cstPostNonTerminal(t.partialCstResult,void 0!==e&&void 0!==e.LABEL?e.LABEL:n),delete t.partialCstResult),t},t.prototype.consumeInternal=function(t,e,n){var r;try{var i=this.LA(1);!0===this.tokenMatcher(i,t)?(this.consumeToken(),r=i):this.consumeInternalError(t,i,n)}catch(n){r=this.consumeInternalRecovery(t,e,n)}return this.cstPostTerminal(void 0!==n&&void 0!==n.LABEL?n.LABEL:t.name,r),r},t.prototype.consumeInternalError=function(t,e,n){var r,i=this.LA(0);throw r=void 0!==n&&n.ERR_MSG?n.ERR_MSG:this.errorMessageProvider.buildMismatchTokenMessage({expected:t,actual:e,previous:i,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new ve(r,e,i))},t.prototype.consumeInternalRecovery=function(t,e,n){if(!this.recoveryEnabled||"MismatchedTokenException"!==n.name||this.isBackTracking())throw n;var r=this.getFollowsForInRuleRecovery(t,e);try{return this.tryInRuleRecovery(t,r)}catch(t){throw"InRuleRecoveryException"===t.name?n:t}},t.prototype.saveRecogState=function(){var t=this.errors,e=Object(i.g)(this.RULE_STACK);return{errors:t,lexerState:this.exportLexerState(),RULE_STACK:e,CST_STACK:this.CST_STACK}},t.prototype.reloadRecogState=function(t){this.errors=t.errors,this.importLexerState(t.lexerState),this.RULE_STACK=t.RULE_STACK},t.prototype.ruleInvocationStateUpdate=function(t,e,n){this.RULE_OCCURRENCE_STACK.push(n),this.RULE_STACK.push(t),this.cstInvocationStateUpdate(e,t)},t.prototype.isBackTracking=function(){return 0!==this.isBackTrackingStack.length},t.prototype.getCurrRuleFullName=function(){var t=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[t]},t.prototype.shortRuleNameToFullName=function(t){return this.shortRuleNameToFull[t]},t.prototype.isAtEndOfInput=function(){return this.tokenMatcher(this.LA(1),$)},t.prototype.reset=function(){this.resetLexerState(),this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]},t}(),Xe=function(){function t(){}return t.prototype.initErrorHandler=function(t){this._errors=[],this.errorMessageProvider=Object(i.w)(t,"errorMessageProvider")?t.errorMessageProvider:$e.errorMessageProvider},t.prototype.SAVE_ERROR=function(t){if(pe(t))return t.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:Object(i.g)(this.RULE_OCCURRENCE_STACK)},this._errors.push(t),t;throw Error("Trying to save an Error which is not a RecognitionException")},Object.defineProperty(t.prototype,"errors",{get:function(){return Object(i.g)(this._errors)},set:function(t){this._errors=t},enumerable:!0,configurable:!0}),t.prototype.raiseEarlyExitException=function(t,e,n){for(var r=this.getCurrRuleFullName(),i=Qt(t,this.getGAstProductions()[r],e,this.maxLookahead)[0],o=[],a=1;a<=this.maxLookahead;a++)o.push(this.LA(a));var u=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:i,actual:o,previous:this.LA(0),customUserDescription:n,ruleName:r});throw this.SAVE_ERROR(new me(u,this.LA(1),this.LA(0)))},t.prototype.raiseNoAltException=function(t,e){for(var n=this.getCurrRuleFullName(),r=Jt(t,this.getGAstProductions()[n],this.maxLookahead),i=[],o=1;o<=this.maxLookahead;o++)i.push(this.LA(o));var a=this.LA(0),u=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:r,actual:i,previous:a,customUserDescription:e,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new de(u,this.LA(1),a))},t}(),Ue=function(){function t(){}return t.prototype.initContentAssist=function(){},t.prototype.computeContentAssist=function(t,e){var n=this.gastProductionsCache[t];if(Object(i.F)(n))throw Error("Rule ->"+t+"<- does not exist in this grammar.");return zt([n],e,this.tokenMatcher,this.maxLookahead)},t.prototype.getNextPossibleTokenTypes=function(t){var e=Object(i.s)(t.ruleStack),n=this.getGAstProductions()[e];return new wt(n,t).startWalking()},t}(),De={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(De);var Fe=Math.pow(2,8)-1,ze=Q({name:"RECORDING_PHASE_TOKEN",pattern:Y.NA});z([ze]);var Ge=tt(ze,"This IToken indicates the Parser is in Recording Phase\n\tSee: https://sap.github.io/chevrotain/docs/guide/internals.html#grammar-recording for details",-1,-1,-1,-1,-1,-1);Object.freeze(Ge);var Be={name:"This CSTNode indicates the Parser is in Recording Phase\n\tSee: https://sap.github.io/chevrotain/docs/guide/internals.html#grammar-recording for details",children:{}},He=function(){function t(){}return t.prototype.initGastRecorder=function(t){this.recordingProdStack=[],this.RECORDING_PHASE=!1},t.prototype.enableRecording=function(){var t=this;this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",(function(){for(var e=function(e){var n=e>0?e:"";t["CONSUME"+n]=function(t,n){return this.consumeInternalRecord(t,e,n)},t["SUBRULE"+n]=function(t,n){return this.subruleInternalRecord(t,e,n)},t["OPTION"+n]=function(t){return this.optionInternalRecord(t,e)},t["OR"+n]=function(t){return this.orInternalRecord(t,e)},t["MANY"+n]=function(t){this.manyInternalRecord(e,t)},t["MANY_SEP"+n]=function(t){this.manySepFirstInternalRecord(e,t)},t["AT_LEAST_ONE"+n]=function(t){this.atLeastOneInternalRecord(e,t)},t["AT_LEAST_ONE_SEP"+n]=function(t){this.atLeastOneSepFirstInternalRecord(e,t)}},n=0;n<10;n++)e(n);t.consume=function(t,e,n){return this.consumeInternalRecord(e,t,n)},t.subrule=function(t,e,n){return this.subruleInternalRecord(e,t,n)},t.option=function(t,e){return this.optionInternalRecord(e,t)},t.or=function(t,e){return this.orInternalRecord(e,t)},t.many=function(t,e){this.manyInternalRecord(t,e)},t.atLeastOne=function(t,e){this.atLeastOneInternalRecord(t,e)},t.ACTION=t.ACTION_RECORD,t.BACKTRACK=t.BACKTRACK_RECORD,t.LA=t.LA_RECORD}))},t.prototype.disableRecording=function(){var t=this;this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",(function(){for(var e=0;e<10;e++){var n=e>0?e:"";delete t["CONSUME"+n],delete t["SUBRULE"+n],delete t["OPTION"+n],delete t["OR"+n],delete t["MANY"+n],delete t["MANY_SEP"+n],delete t["AT_LEAST_ONE"+n],delete t["AT_LEAST_ONE_SEP"+n]}delete t.consume,delete t.subrule,delete t.option,delete t.or,delete t.many,delete t.atLeastOne,delete t.ACTION,delete t.BACKTRACK,delete t.LA}))},t.prototype.ACTION_RECORD=function(t){},t.prototype.BACKTRACK_RECORD=function(t,e){return function(){return!0}},t.prototype.LA_RECORD=function(t){return Je},t.prototype.topLevelRuleRecord=function(t,e){try{var n=new ot({definition:[],name:t});return n.name=t,this.recordingProdStack.push(n),e.call(this),this.recordingProdStack.pop(),n}catch(t){if(!0!==t.KNOWN_RECORDER_ERROR)try{t.message=t.message+'\n\t This error was thrown during the "grammar recording phase" For more info see:\n\thttps://sap.github.io/chevrotain/docs/guide/internals.html#grammar-recording'}catch(e){throw t}throw t}},t.prototype.optionInternalRecord=function(t,e){return We.call(this,ut,t,e)},t.prototype.atLeastOneInternalRecord=function(t,e){We.call(this,ct,e,t)},t.prototype.atLeastOneSepFirstInternalRecord=function(t,e){We.call(this,st,e,t,!0)},t.prototype.manyInternalRecord=function(t,e){We.call(this,ft,e,t)},t.prototype.manySepFirstInternalRecord=function(t,e){We.call(this,lt,e,t,!0)},t.prototype.orInternalRecord=function(t,e){return Ke.call(this,t,e)},t.prototype.subruleInternalRecord=function(t,e,n){if(Ye(e),!t||!1===Object(i.w)(t,"ruleName")){var r=new Error("<SUBRULE"+Ve(e)+"> argument is invalid expecting a Parser method reference but got: <"+JSON.stringify(t)+">\n inside top level rule: <"+this.recordingProdStack[0].name+">");throw r.KNOWN_RECORDER_ERROR=!0,r}var o=Object(i.M)(this.recordingProdStack),a=t.ruleName,u=new it({idx:e,nonTerminalName:a,referencedRule:void 0});return o.definition.push(u),this.outputCst?Be:De},t.prototype.consumeInternalRecord=function(t,e,n){if(Ye(e),!G(t)){var r=new Error("<CONSUME"+Ve(e)+"> argument is invalid expecting a TokenType reference but got: <"+JSON.stringify(t)+">\n inside top level rule: <"+this.recordingProdStack[0].name+">");throw r.KNOWN_RECORDER_ERROR=!0,r}var o=Object(i.M)(this.recordingProdStack),a=new pt({idx:e,terminalType:t});return o.definition.push(a),Ge},t}();function We(t,e,n,r){void 0===r&&(r=!1),Ye(n);var o=Object(i.M)(this.recordingProdStack),a=Object(i.B)(e)?e:e.DEF,u=new t({definition:[],idx:n});return r&&(u.separator=e.SEP),Object(i.w)(e,"MAX_LOOKAHEAD")&&(u.maxLookahead=e.MAX_LOOKAHEAD),this.recordingProdStack.push(u),a.call(this),o.definition.push(u),this.recordingProdStack.pop(),De}function Ke(t,e){var n=this;Ye(e);var r=Object(i.M)(this.recordingProdStack),o=!1===Object(i.y)(t),a=!1===o?t:t.DEF,u=new ht({definition:[],idx:e,ignoreAmbiguities:o&&!0===t.IGNORE_AMBIGUITIES});Object(i.w)(t,"MAX_LOOKAHEAD")&&(u.maxLookahead=t.MAX_LOOKAHEAD);var c=Object(i.Q)(a,(function(t){return Object(i.B)(t.GATE)}));return u.hasPredicates=c,r.definition.push(u),Object(i.u)(a,(function(t){var e=new at({definition:[]});u.definition.push(e),Object(i.w)(t,"IGNORE_AMBIGUITIES")?e.ignoreAmbiguities=t.IGNORE_AMBIGUITIES:Object(i.w)(t,"GATE")&&(e.ignoreAmbiguities=!0),n.recordingProdStack.push(e),t.ALT.call(n),n.recordingProdStack.pop()})),De}function Ve(t){return 0===t?"":""+t}function Ye(t){if(t<0||t>Fe){var e=new Error("Invalid DSL Method idx value: <"+t+">\n\tIdx value must be a none negative value smaller than "+(Fe+1));throw e.KNOWN_RECORDER_ERROR=!0,e}}var qe=function(){function t(){}return t.prototype.initPerformanceTracer=function(t){if(Object(i.w)(t,"traceInitPerf")){var e=t.traceInitPerf,n="number"==typeof e;this.traceInitMaxIdent=n?e:1/0,this.traceInitPerf=n?e>0:e}else this.traceInitMaxIdent=0,this.traceInitPerf=$e.traceInitPerf;this.traceInitIndent=-1},t.prototype.TRACE_INIT=function(t,e){if(!0===this.traceInitPerf){this.traceInitIndent++;var n=new Array(this.traceInitIndent+1).join("\t");this.traceInitIndent<this.traceInitMaxIdent&&console.log(n+"--\x3e <"+t+">");var r=Object(i.R)(e),o=r.time,a=r.value,u=o>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&u(n+"<-- <"+t+"> time: "+o+"ms"),this.traceInitIndent--,a}return e()},t}(),Ze=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Je=tt($,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(Je);var Qe,$e=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:Lt,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),tn=Object.freeze({recoveryValueFunc:function(){},resyncEnabled:!0});function en(t){return void 0===t&&(t=void 0),function(){return t}}!function(t){t[t.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",t[t.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",t[t.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",t[t.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",t[t.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",t[t.LEFT_RECURSION=5]="LEFT_RECURSION",t[t.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",t[t.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",t[t.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",t[t.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",t[t.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",t[t.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",t[t.TOO_MANY_ALTS=12]="TOO_MANY_ALTS"}(Qe||(Qe={}));var nn=function(){function t(t,e){this.definitionErrors=[],this.selfAnalysisDone=!1;if(this.initErrorHandler(e),this.initLexerAdapter(),this.initLooksAhead(e),this.initRecognizerEngine(t,e),this.initRecoverable(e),this.initTreeBuilder(e),this.initContentAssist(),this.initGastRecorder(e),this.initPerformanceTracer(e),Object(i.w)(e,"ignoredIssues"))throw new Error("The <ignoredIssues> IParserConfig property has been deprecated.\n\tPlease use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.\n\tSee: https://sap.github.io/chevrotain/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES\n\tFor further details.");this.skipValidations=Object(i.w)(e,"skipValidations")?e.skipValidations:$e.skipValidations}return t.performSelfAnalysis=function(t){throw Error("The **static** `performSelfAnalysis` method has been deprecated.\t\nUse the **instance** method with the same name instead.")},t.prototype.performSelfAnalysis=function(){var e=this;this.TRACE_INIT("performSelfAnalysis",(function(){var n;e.selfAnalysisDone=!0;var r=e.className;e.TRACE_INIT("toFastProps",(function(){Object(i.S)(e)})),e.TRACE_INIT("Grammar Recording",(function(){try{e.enableRecording(),Object(i.u)(e.definedRulesNames,(function(t){var n=e[t].originalGrammarAction,r=void 0;e.TRACE_INIT(t+" Rule",(function(){r=e.topLevelRuleRecord(t,n)})),e.gastProductionsCache[t]=r}))}finally{e.disableRecording()}}));var o=[];if(e.TRACE_INIT("Grammar Resolving",(function(){o=se({rules:Object(i.U)(e.gastProductionsCache)}),e.definitionErrors.push.apply(e.definitionErrors,o)})),e.TRACE_INIT("Grammar Validations",(function(){if(Object(i.A)(o)&&!1===e.skipValidations){var t=fe({rules:Object(i.U)(e.gastProductionsCache),maxLookahead:e.maxLookahead,tokenTypes:Object(i.U)(e.tokensMap),errMsgProvider:St,grammarName:r});e.definitionErrors.push.apply(e.definitionErrors,t)}})),Object(i.A)(e.definitionErrors)&&(e.recoveryEnabled&&e.TRACE_INIT("computeAllProdsFollows",(function(){var t,n,r=(t=Object(i.U)(e.gastProductionsCache),n={},Object(i.u)(t,(function(t){var e=new At(t).startWalking();Object(i.f)(n,e)})),n);e.resyncFollows=r})),e.TRACE_INIT("ComputeLookaheadFunctions",(function(){e.preComputeLookaheadFunctions(Object(i.U)(e.gastProductionsCache))}))),!t.DEFER_DEFINITION_ERRORS_HANDLING&&!Object(i.A)(e.definitionErrors))throw n=Object(i.I)(e.definitionErrors,(function(t){return t.message})),new Error("Parser Definition Errors detected:\n "+n.join("\n-------------------------------\n"))}))},t.DEFER_DEFINITION_ERRORS_HANDLING=!1,t}();Object(i.e)(nn,[Oe,Re,Pe,we,Me,Ce,Xe,Ue,He,qe]);var rn=function(t){function e(e,n){void 0===n&&(n=$e);var r=Object(i.h)(n);return r.outputCst=!0,t.call(this,e,r)||this}return Ze(e,t),e}(nn),on=function(t){function e(e,n){void 0===n&&(n=$e);var r=Object(i.h)(n);return r.outputCst=!1,t.call(this,e,r)||this}return Ze(e,t),e}(nn);function an(t,e){var n=void 0===e?{}:e,i=n.resourceBase,o=void 0===i?"https://unpkg.com/chevrotain@"+r+"/diagrams/":i,a=n.css;return'\n\x3c!-- This is a generated file --\x3e\n<!DOCTYPE html>\n<meta charset="utf-8">\n<style>\n  body {\n    background-color: hsl(30, 20%, 95%)\n  }\n</style>\n\n'+("\n<link rel='stylesheet' href='"+(void 0===a?"https://unpkg.com/chevrotain@"+r+"/diagrams/diagrams.css":a)+"'>\n")+("\n<script src='"+o+"vendor/railroad-diagrams.js'><\/script>\n<script src='"+o+"src/diagrams_builder.js'><\/script>\n<script src='"+o+"src/diagrams_behavior.js'><\/script>\n<script src='"+o+"src/main.js'><\/script>\n")+'\n<div id="diagrams" align="center"></div>    \n'+("\n<script>\n    window.serializedGrammar = "+JSON.stringify(t,null,"  ")+";\n<\/script>\n")+'\n<script>\n    var diagramsDiv = document.getElementById("diagrams");\n    main.drawDiagramsFromSerializedGrammar(serializedGrammar, diagramsDiv);\n<\/script>\n'}var un="\n";function cn(t){var e;return"\nfunction "+t.name+"(tokenVocabulary, config) {\n    // invoke super constructor\n    // No support for embedded actions currently, so we can 'hardcode'\n    // The use of CstParser.\n    chevrotain.CstParser.call(this, tokenVocabulary, config)\n\n    const $ = this\n\n    "+(e=t.rules,Object(i.I)(e,(function(t){return r=vn(n=1,'$.RULE("'+(e=t).name+'", function() {')+un,r+=pn(e.definition,n+1),r+=vn(n+1,"})")+un;var e,n,r})).join("\n")+"\n\n    // very important to call this after all the rules have been defined.\n    // otherwise the parser may not work correctly as it will lack information\n    // derived during the self analysis phase.\n    this.performSelfAnalysis(this)\n}\n\n// inheritance as implemented in javascript in the previous decade... :(\n")+t.name+".prototype = Object.create(chevrotain.CstParser.prototype)\n"+t.name+".prototype.constructor = "+t.name+"    \n    "}function sn(t,e){var n=vn(e,"$.OR"+t.idx+"([")+un,r=Object(i.I)(t.definition,(function(t){return function(t,e){var n=vn(e,"{")+un;return n+=vn(e+1,"ALT: function() {")+un,n+=pn(t.definition,e+1),n+=vn(e+1,"}")+un,n+=vn(e,"}")}(t,e+1)}));return n+=r.join(",\n"),n+=un+vn(e,"])\n")}function fn(t,e){if(t instanceof it)return function(t,e){return vn(e,"$.SUBRULE"+t.idx+"($."+t.nonTerminalName+")"+un)}(t,e);if(t instanceof ut)return ln("OPTION",t,e);if(t instanceof ct)return ln("AT_LEAST_ONE",t,e);if(t instanceof st)return ln("AT_LEAST_ONE_SEP",t,e);if(t instanceof lt)return ln("MANY_SEP",t,e);if(t instanceof ft)return ln("MANY",t,e);if(t instanceof ht)return sn(t,e);if(t instanceof pt)return function(t,e){var n=t.terminalType.name;return vn(e,"$.CONSUME"+t.idx+"(this.tokensMap."+n+")"+un)}(t,e);if(t instanceof at)return pn(t.definition,e);throw Error("non exhaustive match")}function ln(t,e,n){var r=vn(n,"$."+(t+e.idx)+"(");return e.separator?(r+="{\n",r+=vn(n+1,"SEP: this.tokensMap."+e.separator.name)+","+un,r+="DEF: "+hn(e.definition,n+2)+un,r+=vn(n,"}")+un):r+=hn(e.definition,n+1),r+=vn(n,")")+un}function hn(t,e){var n="function() {\n";return n+=pn(t,e),n+=vn(e,"}")+un}function pn(t,e){var n="";return Object(i.u)(t,(function(t){n+=fn(t,e+1)})),n}function vn(t,e){return Array(4*t+1).join(" ")+e}function dn(t){var e=function(t){return"    \n"+cn(t)+"\nreturn new "+t.name+"(tokenVocabulary, config)    \n"}({name:t.name,rules:t.rules}),r=new Function("tokenVocabulary","config","chevrotain",e);return function(e){return r(t.tokenVocabulary,e,n(1))}}function yn(t){return function(t){return"\n(function (root, factory) {\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define(['chevrotain'], factory);\n    } else if (typeof module === 'object' && module.exports) {\n        // Node. Does not work with strict CommonJS, but\n        // only CommonJS-like environments that support module.exports,\n        // like Node.\n        module.exports = factory(require('chevrotain'));\n    } else {\n        // Browser globals (root is window)\n        root.returnExports = factory(root.b);\n    }\n}(typeof self !== 'undefined' ? self : this, function (chevrotain) {\n\n"+cn(t)+"\n    \nreturn {\n    "+t.name+": "+t.name+" \n}\n}));\n"}({name:t.name,rules:t.rules})}function mn(){console.warn("The clearCache function was 'soft' removed from the Chevrotain API.\n\t It performs no action other than printing this message.\n\t Please avoid using it as it will be completely removed in the future")}var gn=function(){throw new Error("The Parser class has been deprecated, use CstParser or EmbeddedActionsParser instead.\t\nSee: https://sap.github.io/chevrotain/docs/changes/BREAKING_CHANGES.html#_7-0-0")}},function(t,e,n){(function(t,r){var i;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var o="Expected a function",a="__lodash_placeholder__",u=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],c="[object Arguments]",s="[object Array]",f="[object Boolean]",l="[object Date]",h="[object Error]",p="[object Function]",v="[object GeneratorFunction]",d="[object Map]",y="[object Number]",m="[object Object]",g="[object RegExp]",b="[object Set]",O="[object String]",T="[object Symbol]",E="[object WeakMap]",R="[object ArrayBuffer]",_="[object DataView]",N="[object Float32Array]",I="[object Float64Array]",A="[object Int8Array]",L="[object Int16Array]",x="[object Int32Array]",S="[object Uint8Array]",k="[object Uint16Array]",j="[object Uint32Array]",P=/\b__p \+= '';/g,w=/\b(__p \+=) '' \+/g,C=/(__e\(.*?\)|\b__t\)) \+\n'';/g,M=/&(?:amp|lt|gt|quot|#39);/g,X=/[&<>"']/g,U=RegExp(M.source),D=RegExp(X.source),F=/<%-([\s\S]+?)%>/g,z=/<%([\s\S]+?)%>/g,G=/<%=([\s\S]+?)%>/g,B=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,H=/^\w*$/,W=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,K=/[\\^$.*+?()[\]{}|]/g,V=RegExp(K.source),Y=/^\s+|\s+$/g,q=/^\s+/,Z=/\s+$/,J=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Q=/\{\n\/\* \[wrapped with (.+)\] \*/,$=/,? & /,tt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,et=/\\(\\)?/g,nt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,rt=/\w*$/,it=/^[-+]0x[0-9a-f]+$/i,ot=/^0b[01]+$/i,at=/^\[object .+?Constructor\]$/,ut=/^0o[0-7]+$/i,ct=/^(?:0|[1-9]\d*)$/,st=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ft=/($^)/,lt=/['\n\r\u2028\u2029\\]/g,ht="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",pt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",vt="[\\ud800-\\udfff]",dt="["+pt+"]",yt="["+ht+"]",mt="\\d+",gt="[\\u2700-\\u27bf]",bt="[a-z\\xdf-\\xf6\\xf8-\\xff]",Ot="[^\\ud800-\\udfff"+pt+mt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",Tt="\\ud83c[\\udffb-\\udfff]",Et="[^\\ud800-\\udfff]",Rt="(?:\\ud83c[\\udde6-\\uddff]){2}",_t="[\\ud800-\\udbff][\\udc00-\\udfff]",Nt="[A-Z\\xc0-\\xd6\\xd8-\\xde]",It="(?:"+bt+"|"+Ot+")",At="(?:"+Nt+"|"+Ot+")",Lt="(?:"+yt+"|"+Tt+")"+"?",xt="[\\ufe0e\\ufe0f]?"+Lt+("(?:\\u200d(?:"+[Et,Rt,_t].join("|")+")[\\ufe0e\\ufe0f]?"+Lt+")*"),St="(?:"+[gt,Rt,_t].join("|")+")"+xt,kt="(?:"+[Et+yt+"?",yt,Rt,_t,vt].join("|")+")",jt=RegExp("[']","g"),Pt=RegExp(yt,"g"),wt=RegExp(Tt+"(?="+Tt+")|"+kt+xt,"g"),Ct=RegExp([Nt+"?"+bt+"+(?:['](?:d|ll|m|re|s|t|ve))?(?="+[dt,Nt,"$"].join("|")+")",At+"+(?:['](?:D|LL|M|RE|S|T|VE))?(?="+[dt,Nt+It,"$"].join("|")+")",Nt+"?"+It+"+(?:['](?:d|ll|m|re|s|t|ve))?",Nt+"+(?:['](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",mt,St].join("|"),"g"),Mt=RegExp("[\\u200d\\ud800-\\udfff"+ht+"\\ufe0e\\ufe0f]"),Xt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ut=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Dt=-1,Ft={};Ft[N]=Ft[I]=Ft[A]=Ft[L]=Ft[x]=Ft[S]=Ft["[object Uint8ClampedArray]"]=Ft[k]=Ft[j]=!0,Ft[c]=Ft[s]=Ft[R]=Ft[f]=Ft[_]=Ft[l]=Ft[h]=Ft[p]=Ft[d]=Ft[y]=Ft[m]=Ft[g]=Ft[b]=Ft[O]=Ft[E]=!1;var zt={};zt[c]=zt[s]=zt[R]=zt[_]=zt[f]=zt[l]=zt[N]=zt[I]=zt[A]=zt[L]=zt[x]=zt[d]=zt[y]=zt[m]=zt[g]=zt[b]=zt[O]=zt[T]=zt[S]=zt["[object Uint8ClampedArray]"]=zt[k]=zt[j]=!0,zt[h]=zt[p]=zt[E]=!1;var Gt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Bt=parseFloat,Ht=parseInt,Wt="object"==typeof t&&t&&t.Object===Object&&t,Kt="object"==typeof self&&self&&self.Object===Object&&self,Vt=Wt||Kt||Function("return this")(),Yt=e&&!e.nodeType&&e,qt=Yt&&"object"==typeof r&&r&&!r.nodeType&&r,Zt=qt&&qt.exports===Yt,Jt=Zt&&Wt.process,Qt=function(){try{var t=qt&&qt.require&&qt.require("util").types;return t||Jt&&Jt.binding&&Jt.binding("util")}catch(t){}}(),$t=Qt&&Qt.isArrayBuffer,te=Qt&&Qt.isDate,ee=Qt&&Qt.isMap,ne=Qt&&Qt.isRegExp,re=Qt&&Qt.isSet,ie=Qt&&Qt.isTypedArray;function oe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function ae(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function ue(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function ce(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function se(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function fe(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function le(t,e){return!!(null==t?0:t.length)&&Te(t,e,0)>-1}function he(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function pe(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function ve(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function de(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function ye(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function me(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var ge=Ne("length");function be(t,e,n){var r;return n(t,(function(t,n,i){if(e(t,n,i))return r=n,!1})),r}function Oe(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function Te(t,e,n){return e==e?function(t,e,n){var r=n-1,i=t.length;for(;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):Oe(t,Re,n)}function Ee(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function Re(t){return t!=t}function _e(t,e){var n=null==t?0:t.length;return n?Le(t,e)/n:NaN}function Ne(t){return function(e){return null==e?void 0:e[t]}}function Ie(t){return function(e){return null==t?void 0:t[e]}}function Ae(t,e,n,r,i){return i(t,(function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)})),n}function Le(t,e){for(var n,r=-1,i=t.length;++r<i;){var o=e(t[r]);void 0!==o&&(n=void 0===n?o:n+o)}return n}function xe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function Se(t){return function(e){return t(e)}}function ke(t,e){return pe(e,(function(e){return t[e]}))}function je(t,e){return t.has(e)}function Pe(t,e){for(var n=-1,r=t.length;++n<r&&Te(e,t[n],0)>-1;);return n}function we(t,e){for(var n=t.length;n--&&Te(e,t[n],0)>-1;);return n}function Ce(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}var Me=Ie({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),Xe=Ie({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Ue(t){return"\\"+Gt[t]}function De(t){return Mt.test(t)}function Fe(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function ze(t,e){return function(n){return t(e(n))}}function Ge(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var u=t[n];u!==e&&u!==a||(t[n]=a,o[i++]=n)}return o}function Be(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function He(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function We(t){return De(t)?function(t){var e=wt.lastIndex=0;for(;wt.test(t);)++e;return e}(t):ge(t)}function Ke(t){return De(t)?function(t){return t.match(wt)||[]}(t):function(t){return t.split("")}(t)}var Ve=Ie({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Ye=function t(e){var n,r=(e=null==e?Vt:Ye.defaults(Vt.Object(),e,Ye.pick(Vt,Ut))).Array,i=e.Date,ht=e.Error,pt=e.Function,vt=e.Math,dt=e.Object,yt=e.RegExp,mt=e.String,gt=e.TypeError,bt=r.prototype,Ot=pt.prototype,Tt=dt.prototype,Et=e["__core-js_shared__"],Rt=Ot.toString,_t=Tt.hasOwnProperty,Nt=0,It=(n=/[^.]+$/.exec(Et&&Et.keys&&Et.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",At=Tt.toString,Lt=Rt.call(dt),xt=Vt._,St=yt("^"+Rt.call(_t).replace(K,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),kt=Zt?e.Buffer:void 0,wt=e.Symbol,Mt=e.Uint8Array,Gt=kt?kt.allocUnsafe:void 0,Wt=ze(dt.getPrototypeOf,dt),Kt=dt.create,Yt=Tt.propertyIsEnumerable,qt=bt.splice,Jt=wt?wt.isConcatSpreadable:void 0,Qt=wt?wt.iterator:void 0,ge=wt?wt.toStringTag:void 0,Ie=function(){try{var t=$i(dt,"defineProperty");return t({},"",{}),t}catch(t){}}(),qe=e.clearTimeout!==Vt.clearTimeout&&e.clearTimeout,Ze=i&&i.now!==Vt.Date.now&&i.now,Je=e.setTimeout!==Vt.setTimeout&&e.setTimeout,Qe=vt.ceil,$e=vt.floor,tn=dt.getOwnPropertySymbols,en=kt?kt.isBuffer:void 0,nn=e.isFinite,rn=bt.join,on=ze(dt.keys,dt),an=vt.max,un=vt.min,cn=i.now,sn=e.parseInt,fn=vt.random,ln=bt.reverse,hn=$i(e,"DataView"),pn=$i(e,"Map"),vn=$i(e,"Promise"),dn=$i(e,"Set"),yn=$i(e,"WeakMap"),mn=$i(dt,"create"),gn=yn&&new yn,bn={},On=Ao(hn),Tn=Ao(pn),En=Ao(vn),Rn=Ao(dn),_n=Ao(yn),Nn=wt?wt.prototype:void 0,In=Nn?Nn.valueOf:void 0,An=Nn?Nn.toString:void 0;function Ln(t){if(Ha(t)&&!Pa(t)&&!(t instanceof jn)){if(t instanceof kn)return t;if(_t.call(t,"__wrapped__"))return Lo(t)}return new kn(t)}var xn=function(){function t(){}return function(e){if(!Ba(e))return{};if(Kt)return Kt(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function Sn(){}function kn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}function jn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Pn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function wn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Cn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Mn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Cn;++e<n;)this.add(t[e])}function Xn(t){var e=this.__data__=new wn(t);this.size=e.size}function Un(t,e){var n=Pa(t),r=!n&&ja(t),i=!n&&!r&&Xa(t),o=!n&&!r&&!i&&Qa(t),a=n||r||i||o,u=a?xe(t.length,mt):[],c=u.length;for(var s in t)!e&&!_t.call(t,s)||a&&("length"==s||i&&("offset"==s||"parent"==s)||o&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||ao(s,c))||u.push(s);return u}function Dn(t){var e=t.length;return e?t[Mr(0,e-1)]:void 0}function Fn(t,e){return _o(mi(t),qn(e,0,t.length))}function zn(t){return _o(mi(t))}function Gn(t,e,n){(void 0!==n&&!xa(t[e],n)||void 0===n&&!(e in t))&&Vn(t,e,n)}function Bn(t,e,n){var r=t[e];_t.call(t,e)&&xa(r,n)&&(void 0!==n||e in t)||Vn(t,e,n)}function Hn(t,e){for(var n=t.length;n--;)if(xa(t[n][0],e))return n;return-1}function Wn(t,e,n,r){return tr(t,(function(t,i,o){e(r,t,n(t),o)})),r}function Kn(t,e){return t&&gi(e,Ou(e),t)}function Vn(t,e,n){"__proto__"==e&&Ie?Ie(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Yn(t,e){for(var n=-1,i=e.length,o=r(i),a=null==t;++n<i;)o[n]=a?void 0:du(t,e[n]);return o}function qn(t,e,n){return t==t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t}function Zn(t,e,n,r,i,o){var a,u=1&e,s=2&e,h=4&e;if(n&&(a=i?n(t,r,i,o):n(t)),void 0!==a)return a;if(!Ba(t))return t;var E=Pa(t);if(E){if(a=function(t){var e=t.length,n=new t.constructor(e);e&&"string"==typeof t[0]&&_t.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!u)return mi(t,a)}else{var P=no(t),w=P==p||P==v;if(Xa(t))return li(t,u);if(P==m||P==c||w&&!i){if(a=s||w?{}:io(t),!u)return s?function(t,e){return gi(t,eo(t),e)}(t,function(t,e){return t&&gi(e,Tu(e),t)}(a,t)):function(t,e){return gi(t,to(t),e)}(t,Kn(a,t))}else{if(!zt[P])return i?t:{};a=function(t,e,n){var r=t.constructor;switch(e){case R:return hi(t);case f:case l:return new r(+t);case _:return function(t,e){var n=e?hi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case N:case I:case A:case L:case x:case S:case"[object Uint8ClampedArray]":case k:case j:return pi(t,n);case d:return new r;case y:case O:return new r(t);case g:return function(t){var e=new t.constructor(t.source,rt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case b:return new r;case T:return i=t,In?dt(In.call(i)):{}}var i}(t,P,u)}}o||(o=new Xn);var C=o.get(t);if(C)return C;o.set(t,a),qa(t)?t.forEach((function(r){a.add(Zn(r,e,n,r,t,o))})):Wa(t)&&t.forEach((function(r,i){a.set(i,Zn(r,e,n,i,t,o))}));var M=E?void 0:(h?s?Ki:Wi:s?Tu:Ou)(t);return ue(M||t,(function(r,i){M&&(r=t[i=r]),Bn(a,i,Zn(r,e,n,i,t,o))})),a}function Jn(t,e,n){var r=n.length;if(null==t)return!r;for(t=dt(t);r--;){var i=n[r],o=e[i],a=t[i];if(void 0===a&&!(i in t)||!o(a))return!1}return!0}function Qn(t,e,n){if("function"!=typeof t)throw new gt(o);return Oo((function(){t.apply(void 0,n)}),e)}function $n(t,e,n,r){var i=-1,o=le,a=!0,u=t.length,c=[],s=e.length;if(!u)return c;n&&(e=pe(e,Se(n))),r?(o=he,a=!1):e.length>=200&&(o=je,a=!1,e=new Mn(e));t:for(;++i<u;){var f=t[i],l=null==n?f:n(f);if(f=r||0!==f?f:0,a&&l==l){for(var h=s;h--;)if(e[h]===l)continue t;c.push(f)}else o(e,l,r)||c.push(f)}return c}Ln.templateSettings={escape:F,evaluate:z,interpolate:G,variable:"",imports:{_:Ln}},Ln.prototype=Sn.prototype,Ln.prototype.constructor=Ln,kn.prototype=xn(Sn.prototype),kn.prototype.constructor=kn,jn.prototype=xn(Sn.prototype),jn.prototype.constructor=jn,Pn.prototype.clear=function(){this.__data__=mn?mn(null):{},this.size=0},Pn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Pn.prototype.get=function(t){var e=this.__data__;if(mn){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return _t.call(e,t)?e[t]:void 0},Pn.prototype.has=function(t){var e=this.__data__;return mn?void 0!==e[t]:_t.call(e,t)},Pn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=mn&&void 0===e?"__lodash_hash_undefined__":e,this},wn.prototype.clear=function(){this.__data__=[],this.size=0},wn.prototype.delete=function(t){var e=this.__data__,n=Hn(e,t);return!(n<0)&&(n==e.length-1?e.pop():qt.call(e,n,1),--this.size,!0)},wn.prototype.get=function(t){var e=this.__data__,n=Hn(e,t);return n<0?void 0:e[n][1]},wn.prototype.has=function(t){return Hn(this.__data__,t)>-1},wn.prototype.set=function(t,e){var n=this.__data__,r=Hn(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Cn.prototype.clear=function(){this.size=0,this.__data__={hash:new Pn,map:new(pn||wn),string:new Pn}},Cn.prototype.delete=function(t){var e=Ji(this,t).delete(t);return this.size-=e?1:0,e},Cn.prototype.get=function(t){return Ji(this,t).get(t)},Cn.prototype.has=function(t){return Ji(this,t).has(t)},Cn.prototype.set=function(t,e){var n=Ji(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Mn.prototype.add=Mn.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Mn.prototype.has=function(t){return this.__data__.has(t)},Xn.prototype.clear=function(){this.__data__=new wn,this.size=0},Xn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Xn.prototype.get=function(t){return this.__data__.get(t)},Xn.prototype.has=function(t){return this.__data__.has(t)},Xn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof wn){var r=n.__data__;if(!pn||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Cn(r)}return n.set(t,e),this.size=n.size,this};var tr=Ti(cr),er=Ti(sr,!0);function nr(t,e){var n=!0;return tr(t,(function(t,r,i){return n=!!e(t,r,i)})),n}function rr(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(null!=a&&(void 0===u?a==a&&!Ja(a):n(a,u)))var u=a,c=o}return c}function ir(t,e){var n=[];return tr(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}function or(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=oo),i||(i=[]);++o<a;){var u=t[o];e>0&&n(u)?e>1?or(u,e-1,n,r,i):ve(i,u):r||(i[i.length]=u)}return i}var ar=Ei(),ur=Ei(!0);function cr(t,e){return t&&ar(t,e,Ou)}function sr(t,e){return t&&ur(t,e,Ou)}function fr(t,e){return fe(e,(function(e){return Fa(t[e])}))}function lr(t,e){for(var n=0,r=(e=ui(e,t)).length;null!=t&&n<r;)t=t[Io(e[n++])];return n&&n==r?t:void 0}function hr(t,e,n){var r=e(t);return Pa(t)?r:ve(r,n(t))}function pr(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":ge&&ge in dt(t)?function(t){var e=_t.call(t,ge),n=t[ge];try{t[ge]=void 0;var r=!0}catch(t){}var i=At.call(t);r&&(e?t[ge]=n:delete t[ge]);return i}(t):function(t){return At.call(t)}(t)}function vr(t,e){return t>e}function dr(t,e){return null!=t&&_t.call(t,e)}function yr(t,e){return null!=t&&e in dt(t)}function mr(t,e,n){for(var i=n?he:le,o=t[0].length,a=t.length,u=a,c=r(a),s=1/0,f=[];u--;){var l=t[u];u&&e&&(l=pe(l,Se(e))),s=un(l.length,s),c[u]=!n&&(e||o>=120&&l.length>=120)?new Mn(u&&l):void 0}l=t[0];var h=-1,p=c[0];t:for(;++h<o&&f.length<s;){var v=l[h],d=e?e(v):v;if(v=n||0!==v?v:0,!(p?je(p,d):i(f,d,n))){for(u=a;--u;){var y=c[u];if(!(y?je(y,d):i(t[u],d,n)))continue t}p&&p.push(d),f.push(v)}}return f}function gr(t,e,n){var r=null==(t=yo(t,e=ui(e,t)))?t:t[Io(Do(e))];return null==r?void 0:oe(r,t,n)}function br(t){return Ha(t)&&pr(t)==c}function Or(t,e,n,r,i){return t===e||(null==t||null==e||!Ha(t)&&!Ha(e)?t!=t&&e!=e:function(t,e,n,r,i,o){var a=Pa(t),u=Pa(e),p=a?s:no(t),v=u?s:no(e),E=(p=p==c?m:p)==m,N=(v=v==c?m:v)==m,I=p==v;if(I&&Xa(t)){if(!Xa(e))return!1;a=!0,E=!1}if(I&&!E)return o||(o=new Xn),a||Qa(t)?Bi(t,e,n,r,i,o):function(t,e,n,r,i,o,a){switch(n){case _:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case R:return!(t.byteLength!=e.byteLength||!o(new Mt(t),new Mt(e)));case f:case l:case y:return xa(+t,+e);case h:return t.name==e.name&&t.message==e.message;case g:case O:return t==e+"";case d:var u=Fe;case b:var c=1&r;if(u||(u=Be),t.size!=e.size&&!c)return!1;var s=a.get(t);if(s)return s==e;r|=2,a.set(t,e);var p=Bi(u(t),u(e),r,i,o,a);return a.delete(t),p;case T:if(In)return In.call(t)==In.call(e)}return!1}(t,e,p,n,r,i,o);if(!(1&n)){var A=E&&_t.call(t,"__wrapped__"),L=N&&_t.call(e,"__wrapped__");if(A||L){var x=A?t.value():t,S=L?e.value():e;return o||(o=new Xn),i(x,S,n,r,o)}}if(!I)return!1;return o||(o=new Xn),function(t,e,n,r,i,o){var a=1&n,u=Wi(t),c=u.length,s=Wi(e).length;if(c!=s&&!a)return!1;var f=c;for(;f--;){var l=u[f];if(!(a?l in e:_t.call(e,l)))return!1}var h=o.get(t);if(h&&o.get(e))return h==e;var p=!0;o.set(t,e),o.set(e,t);var v=a;for(;++f<c;){l=u[f];var d=t[l],y=e[l];if(r)var m=a?r(y,d,l,e,t,o):r(d,y,l,t,e,o);if(!(void 0===m?d===y||i(d,y,n,r,o):m)){p=!1;break}v||(v="constructor"==l)}if(p&&!v){var g=t.constructor,b=e.constructor;g==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof g&&g instanceof g&&"function"==typeof b&&b instanceof b||(p=!1)}return o.delete(t),o.delete(e),p}(t,e,n,r,i,o)}(t,e,n,r,Or,i))}function Tr(t,e,n,r){var i=n.length,o=i,a=!r;if(null==t)return!o;for(t=dt(t);i--;){var u=n[i];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++i<o;){var c=(u=n[i])[0],s=t[c],f=u[1];if(a&&u[2]){if(void 0===s&&!(c in t))return!1}else{var l=new Xn;if(r)var h=r(s,f,c,t,e,l);if(!(void 0===h?Or(f,s,3,r,l):h))return!1}}return!0}function Er(t){return!(!Ba(t)||(e=t,It&&It in e))&&(Fa(t)?St:at).test(Ao(t));var e}function Rr(t){return"function"==typeof t?t:null==t?Ku:"object"==typeof t?Pa(t)?xr(t[0],t[1]):Lr(t):ec(t)}function _r(t){if(!lo(t))return on(t);var e=[];for(var n in dt(t))_t.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Nr(t){if(!Ba(t))return function(t){var e=[];if(null!=t)for(var n in dt(t))e.push(n);return e}(t);var e=lo(t),n=[];for(var r in t)("constructor"!=r||!e&&_t.call(t,r))&&n.push(r);return n}function Ir(t,e){return t<e}function Ar(t,e){var n=-1,i=Ca(t)?r(t.length):[];return tr(t,(function(t,r,o){i[++n]=e(t,r,o)})),i}function Lr(t){var e=Qi(t);return 1==e.length&&e[0][2]?po(e[0][0],e[0][1]):function(n){return n===t||Tr(n,t,e)}}function xr(t,e){return co(t)&&ho(e)?po(Io(t),e):function(n){var r=du(n,t);return void 0===r&&r===e?yu(n,t):Or(e,r,3)}}function Sr(t,e,n,r,i){t!==e&&ar(e,(function(o,a){if(i||(i=new Xn),Ba(o))!function(t,e,n,r,i,o,a){var u=go(t,n),c=go(e,n),s=a.get(c);if(s)return void Gn(t,n,s);var f=o?o(u,c,n+"",t,e,a):void 0,l=void 0===f;if(l){var h=Pa(c),p=!h&&Xa(c),v=!h&&!p&&Qa(c);f=c,h||p||v?Pa(u)?f=u:Ma(u)?f=mi(u):p?(l=!1,f=li(c,!0)):v?(l=!1,f=pi(c,!0)):f=[]:Va(c)||ja(c)?(f=u,ja(u)?f=au(u):Ba(u)&&!Fa(u)||(f=io(c))):l=!1}l&&(a.set(c,f),i(f,c,r,o,a),a.delete(c));Gn(t,n,f)}(t,e,a,n,Sr,r,i);else{var u=r?r(go(t,a),o,a+"",t,e,i):void 0;void 0===u&&(u=o),Gn(t,a,u)}}),Tu)}function kr(t,e){var n=t.length;if(n)return ao(e+=e<0?n:0,n)?t[e]:void 0}function jr(t,e,n){var r=-1;return e=pe(e.length?e:[Ku],Se(Zi())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(Ar(t,(function(t,n,i){return{criteria:pe(e,(function(e){return e(t)})),index:++r,value:t}})),(function(t,e){return function(t,e,n){var r=-1,i=t.criteria,o=e.criteria,a=i.length,u=n.length;for(;++r<a;){var c=vi(i[r],o[r]);if(c){if(r>=u)return c;var s=n[r];return c*("desc"==s?-1:1)}}return t.index-e.index}(t,e,n)}))}function Pr(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],u=lr(t,a);n(u,a)&&zr(o,ui(a,t),u)}return o}function wr(t,e,n,r){var i=r?Ee:Te,o=-1,a=e.length,u=t;for(t===e&&(e=mi(e)),n&&(u=pe(t,Se(n)));++o<a;)for(var c=0,s=e[o],f=n?n(s):s;(c=i(u,f,c,r))>-1;)u!==t&&qt.call(u,c,1),qt.call(t,c,1);return t}function Cr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;ao(i)?qt.call(t,i,1):$r(t,i)}}return t}function Mr(t,e){return t+$e(fn()*(e-t+1))}function Xr(t,e){var n="";if(!t||e<1||e>9007199254740991)return n;do{e%2&&(n+=t),(e=$e(e/2))&&(t+=t)}while(e);return n}function Ur(t,e){return To(vo(t,e,Ku),t+"")}function Dr(t){return Dn(xu(t))}function Fr(t,e){var n=xu(t);return _o(n,qn(e,0,n.length))}function zr(t,e,n,r){if(!Ba(t))return t;for(var i=-1,o=(e=ui(e,t)).length,a=o-1,u=t;null!=u&&++i<o;){var c=Io(e[i]),s=n;if(i!=a){var f=u[c];void 0===(s=r?r(f,c,u):void 0)&&(s=Ba(f)?f:ao(e[i+1])?[]:{})}Bn(u,c,s),u=u[c]}return t}var Gr=gn?function(t,e){return gn.set(t,e),t}:Ku,Br=Ie?function(t,e){return Ie(t,"toString",{configurable:!0,enumerable:!1,value:Bu(e),writable:!0})}:Ku;function Hr(t){return _o(xu(t))}function Wr(t,e,n){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var a=r(o);++i<o;)a[i]=t[i+e];return a}function Kr(t,e){var n;return tr(t,(function(t,r,i){return!(n=e(t,r,i))})),!!n}function Vr(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!Ja(a)&&(n?a<=e:a<e)?r=o+1:i=o}return i}return Yr(t,e,Ku,n)}function Yr(t,e,n,r){e=n(e);for(var i=0,o=null==t?0:t.length,a=e!=e,u=null===e,c=Ja(e),s=void 0===e;i<o;){var f=$e((i+o)/2),l=n(t[f]),h=void 0!==l,p=null===l,v=l==l,d=Ja(l);if(a)var y=r||v;else y=s?v&&(r||h):u?v&&h&&(r||!p):c?v&&h&&!p&&(r||!d):!p&&!d&&(r?l<=e:l<e);y?i=f+1:o=f}return un(o,4294967294)}function qr(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n],u=e?e(a):a;if(!n||!xa(u,c)){var c=u;o[i++]=0===a?0:a}}return o}function Zr(t){return"number"==typeof t?t:Ja(t)?NaN:+t}function Jr(t){if("string"==typeof t)return t;if(Pa(t))return pe(t,Jr)+"";if(Ja(t))return An?An.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Qr(t,e,n){var r=-1,i=le,o=t.length,a=!0,u=[],c=u;if(n)a=!1,i=he;else if(o>=200){var s=e?null:Xi(t);if(s)return Be(s);a=!1,i=je,c=new Mn}else c=e?[]:u;t:for(;++r<o;){var f=t[r],l=e?e(f):f;if(f=n||0!==f?f:0,a&&l==l){for(var h=c.length;h--;)if(c[h]===l)continue t;e&&c.push(l),u.push(f)}else i(c,l,n)||(c!==u&&c.push(l),u.push(f))}return u}function $r(t,e){return null==(t=yo(t,e=ui(e,t)))||delete t[Io(Do(e))]}function ti(t,e,n,r){return zr(t,e,n(lr(t,e)),r)}function ei(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?Wr(t,r?0:o,r?o+1:i):Wr(t,r?o+1:0,r?i:o)}function ni(t,e){var n=t;return n instanceof jn&&(n=n.value()),de(e,(function(t,e){return e.func.apply(e.thisArg,ve([t],e.args))}),n)}function ri(t,e,n){var i=t.length;if(i<2)return i?Qr(t[0]):[];for(var o=-1,a=r(i);++o<i;)for(var u=t[o],c=-1;++c<i;)c!=o&&(a[o]=$n(a[o]||u,t[c],e,n));return Qr(or(a,1),e,n)}function ii(t,e,n){for(var r=-1,i=t.length,o=e.length,a={};++r<i;){var u=r<o?e[r]:void 0;n(a,t[r],u)}return a}function oi(t){return Ma(t)?t:[]}function ai(t){return"function"==typeof t?t:Ku}function ui(t,e){return Pa(t)?t:co(t,e)?[t]:No(uu(t))}var ci=Ur;function si(t,e,n){var r=t.length;return n=void 0===n?r:n,!e&&n>=r?t:Wr(t,e,n)}var fi=qe||function(t){return Vt.clearTimeout(t)};function li(t,e){if(e)return t.slice();var n=t.length,r=Gt?Gt(n):new t.constructor(n);return t.copy(r),r}function hi(t){var e=new t.constructor(t.byteLength);return new Mt(e).set(new Mt(t)),e}function pi(t,e){var n=e?hi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function vi(t,e){if(t!==e){var n=void 0!==t,r=null===t,i=t==t,o=Ja(t),a=void 0!==e,u=null===e,c=e==e,s=Ja(e);if(!u&&!s&&!o&&t>e||o&&a&&c&&!u&&!s||r&&a&&c||!n&&c||!i)return 1;if(!r&&!o&&!s&&t<e||s&&n&&i&&!r&&!o||u&&n&&i||!a&&i||!c)return-1}return 0}function di(t,e,n,i){for(var o=-1,a=t.length,u=n.length,c=-1,s=e.length,f=an(a-u,0),l=r(s+f),h=!i;++c<s;)l[c]=e[c];for(;++o<u;)(h||o<a)&&(l[n[o]]=t[o]);for(;f--;)l[c++]=t[o++];return l}function yi(t,e,n,i){for(var o=-1,a=t.length,u=-1,c=n.length,s=-1,f=e.length,l=an(a-c,0),h=r(l+f),p=!i;++o<l;)h[o]=t[o];for(var v=o;++s<f;)h[v+s]=e[s];for(;++u<c;)(p||o<a)&&(h[v+n[u]]=t[o++]);return h}function mi(t,e){var n=-1,i=t.length;for(e||(e=r(i));++n<i;)e[n]=t[n];return e}function gi(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var u=e[o],c=r?r(n[u],t[u],u,n,t):void 0;void 0===c&&(c=t[u]),i?Vn(n,u,c):Bn(n,u,c)}return n}function bi(t,e){return function(n,r){var i=Pa(n)?ae:Wn,o=e?e():{};return i(n,t,Zi(r,2),o)}}function Oi(t){return Ur((function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=t.length>3&&"function"==typeof o?(i--,o):void 0,a&&uo(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),e=dt(e);++r<i;){var u=n[r];u&&t(e,u,r,o)}return e}))}function Ti(t,e){return function(n,r){if(null==n)return n;if(!Ca(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=dt(n);(e?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function Ei(t){return function(e,n,r){for(var i=-1,o=dt(e),a=r(e),u=a.length;u--;){var c=a[t?u:++i];if(!1===n(o[c],c,o))break}return e}}function Ri(t){return function(e){var n=De(e=uu(e))?Ke(e):void 0,r=n?n[0]:e.charAt(0),i=n?si(n,1).join(""):e.slice(1);return r[t]()+i}}function _i(t){return function(e){return de(Fu(ju(e).replace(jt,"")),t,"")}}function Ni(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=xn(t.prototype),r=t.apply(n,e);return Ba(r)?r:n}}function Ii(t){return function(e,n,r){var i=dt(e);if(!Ca(e)){var o=Zi(n,3);e=Ou(e),n=function(t){return o(i[t],t,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}function Ai(t){return Hi((function(e){var n=e.length,r=n,i=kn.prototype.thru;for(t&&e.reverse();r--;){var a=e[r];if("function"!=typeof a)throw new gt(o);if(i&&!u&&"wrapper"==Yi(a))var u=new kn([],!0)}for(r=u?r:n;++r<n;){var c=Yi(a=e[r]),s="wrapper"==c?Vi(a):void 0;u=s&&so(s[0])&&424==s[1]&&!s[4].length&&1==s[9]?u[Yi(s[0])].apply(u,s[3]):1==a.length&&so(a)?u[c]():u.thru(a)}return function(){var t=arguments,r=t[0];if(u&&1==t.length&&Pa(r))return u.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}}))}function Li(t,e,n,i,o,a,u,c,s,f){var l=128&e,h=1&e,p=2&e,v=24&e,d=512&e,y=p?void 0:Ni(t);return function m(){for(var g=arguments.length,b=r(g),O=g;O--;)b[O]=arguments[O];if(v)var T=qi(m),E=Ce(b,T);if(i&&(b=di(b,i,o,v)),a&&(b=yi(b,a,u,v)),g-=E,v&&g<f){var R=Ge(b,T);return Ci(t,e,Li,m.placeholder,n,b,R,c,s,f-g)}var _=h?n:this,N=p?_[t]:t;return g=b.length,c?b=mo(b,c):d&&g>1&&b.reverse(),l&&s<g&&(b.length=s),this&&this!==Vt&&this instanceof m&&(N=y||Ni(N)),N.apply(_,b)}}function xi(t,e){return function(n,r){return function(t,e,n,r){return cr(t,(function(t,i,o){e(r,n(t),i,o)})),r}(n,t,e(r),{})}}function Si(t,e){return function(n,r){var i;if(void 0===n&&void 0===r)return e;if(void 0!==n&&(i=n),void 0!==r){if(void 0===i)return r;"string"==typeof n||"string"==typeof r?(n=Jr(n),r=Jr(r)):(n=Zr(n),r=Zr(r)),i=t(n,r)}return i}}function ki(t){return Hi((function(e){return e=pe(e,Se(Zi())),Ur((function(n){var r=this;return t(e,(function(t){return oe(t,r,n)}))}))}))}function ji(t,e){var n=(e=void 0===e?" ":Jr(e)).length;if(n<2)return n?Xr(e,t):e;var r=Xr(e,Qe(t/We(e)));return De(e)?si(Ke(r),0,t).join(""):r.slice(0,t)}function Pi(t){return function(e,n,i){return i&&"number"!=typeof i&&uo(e,n,i)&&(n=i=void 0),e=nu(e),void 0===n?(n=e,e=0):n=nu(n),function(t,e,n,i){for(var o=-1,a=an(Qe((e-t)/(n||1)),0),u=r(a);a--;)u[i?a:++o]=t,t+=n;return u}(e,n,i=void 0===i?e<n?1:-1:nu(i),t)}}function wi(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=ou(e),n=ou(n)),t(e,n)}}function Ci(t,e,n,r,i,o,a,u,c,s){var f=8&e;e|=f?32:64,4&(e&=~(f?64:32))||(e&=-4);var l=[t,e,i,f?o:void 0,f?a:void 0,f?void 0:o,f?void 0:a,u,c,s],h=n.apply(void 0,l);return so(t)&&bo(h,l),h.placeholder=r,Eo(h,t,e)}function Mi(t){var e=vt[t];return function(t,n){if(t=ou(t),(n=null==n?0:un(ru(n),292))&&nn(t)){var r=(uu(t)+"e").split("e");return+((r=(uu(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var Xi=dn&&1/Be(new dn([,-0]))[1]==1/0?function(t){return new dn(t)}:Ju;function Ui(t){return function(e){var n=no(e);return n==d?Fe(e):n==b?He(e):function(t,e){return pe(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Di(t,e,n,i,u,c,s,f){var l=2&e;if(!l&&"function"!=typeof t)throw new gt(o);var h=i?i.length:0;if(h||(e&=-97,i=u=void 0),s=void 0===s?s:an(ru(s),0),f=void 0===f?f:ru(f),h-=u?u.length:0,64&e){var p=i,v=u;i=u=void 0}var d=l?void 0:Vi(t),y=[t,e,n,i,u,p,v,c,s,f];if(d&&function(t,e){var n=t[1],r=e[1],i=n|r,o=i<131,u=128==r&&8==n||128==r&&256==n&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n;if(!o&&!u)return t;1&r&&(t[2]=e[2],i|=1&n?0:4);var c=e[3];if(c){var s=t[3];t[3]=s?di(s,c,e[4]):c,t[4]=s?Ge(t[3],a):e[4]}(c=e[5])&&(s=t[5],t[5]=s?yi(s,c,e[6]):c,t[6]=s?Ge(t[5],a):e[6]);(c=e[7])&&(t[7]=c);128&r&&(t[8]=null==t[8]?e[8]:un(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=i}(y,d),t=y[0],e=y[1],n=y[2],i=y[3],u=y[4],!(f=y[9]=void 0===y[9]?l?0:t.length:an(y[9]-h,0))&&24&e&&(e&=-25),e&&1!=e)m=8==e||16==e?function(t,e,n){var i=Ni(t);return function o(){for(var a=arguments.length,u=r(a),c=a,s=qi(o);c--;)u[c]=arguments[c];var f=a<3&&u[0]!==s&&u[a-1]!==s?[]:Ge(u,s);if((a-=f.length)<n)return Ci(t,e,Li,o.placeholder,void 0,u,f,void 0,void 0,n-a);var l=this&&this!==Vt&&this instanceof o?i:t;return oe(l,this,u)}}(t,e,f):32!=e&&33!=e||u.length?Li.apply(void 0,y):function(t,e,n,i){var o=1&e,a=Ni(t);return function e(){for(var u=-1,c=arguments.length,s=-1,f=i.length,l=r(f+c),h=this&&this!==Vt&&this instanceof e?a:t;++s<f;)l[s]=i[s];for(;c--;)l[s++]=arguments[++u];return oe(h,o?n:this,l)}}(t,e,n,i);else var m=function(t,e,n){var r=1&e,i=Ni(t);return function e(){var o=this&&this!==Vt&&this instanceof e?i:t;return o.apply(r?n:this,arguments)}}(t,e,n);return Eo((d?Gr:bo)(m,y),t,e)}function Fi(t,e,n,r){return void 0===t||xa(t,Tt[n])&&!_t.call(r,n)?e:t}function zi(t,e,n,r,i,o){return Ba(t)&&Ba(e)&&(o.set(e,t),Sr(t,e,void 0,zi,o),o.delete(e)),t}function Gi(t){return Va(t)?void 0:t}function Bi(t,e,n,r,i,o){var a=1&n,u=t.length,c=e.length;if(u!=c&&!(a&&c>u))return!1;var s=o.get(t);if(s&&o.get(e))return s==e;var f=-1,l=!0,h=2&n?new Mn:void 0;for(o.set(t,e),o.set(e,t);++f<u;){var p=t[f],v=e[f];if(r)var d=a?r(v,p,f,e,t,o):r(p,v,f,t,e,o);if(void 0!==d){if(d)continue;l=!1;break}if(h){if(!me(e,(function(t,e){if(!je(h,e)&&(p===t||i(p,t,n,r,o)))return h.push(e)}))){l=!1;break}}else if(p!==v&&!i(p,v,n,r,o)){l=!1;break}}return o.delete(t),o.delete(e),l}function Hi(t){return To(vo(t,void 0,wo),t+"")}function Wi(t){return hr(t,Ou,to)}function Ki(t){return hr(t,Tu,eo)}var Vi=gn?function(t){return gn.get(t)}:Ju;function Yi(t){for(var e=t.name+"",n=bn[e],r=_t.call(bn,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function qi(t){return(_t.call(Ln,"placeholder")?Ln:t).placeholder}function Zi(){var t=Ln.iteratee||Vu;return t=t===Vu?Rr:t,arguments.length?t(arguments[0],arguments[1]):t}function Ji(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function Qi(t){for(var e=Ou(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,ho(i)]}return e}function $i(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Er(n)?n:void 0}var to=tn?function(t){return null==t?[]:(t=dt(t),fe(tn(t),(function(e){return Yt.call(t,e)})))}:ic,eo=tn?function(t){for(var e=[];t;)ve(e,to(t)),t=Wt(t);return e}:ic,no=pr;function ro(t,e,n){for(var r=-1,i=(e=ui(e,t)).length,o=!1;++r<i;){var a=Io(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Ga(i)&&ao(a,i)&&(Pa(t)||ja(t))}function io(t){return"function"!=typeof t.constructor||lo(t)?{}:xn(Wt(t))}function oo(t){return Pa(t)||ja(t)||!!(Jt&&t&&t[Jt])}function ao(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&ct.test(t))&&t>-1&&t%1==0&&t<e}function uo(t,e,n){if(!Ba(n))return!1;var r=typeof e;return!!("number"==r?Ca(n)&&ao(e,n.length):"string"==r&&e in n)&&xa(n[e],t)}function co(t,e){if(Pa(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Ja(t))||(H.test(t)||!B.test(t)||null!=e&&t in dt(e))}function so(t){var e=Yi(t),n=Ln[e];if("function"!=typeof n||!(e in jn.prototype))return!1;if(t===n)return!0;var r=Vi(n);return!!r&&t===r[0]}(hn&&no(new hn(new ArrayBuffer(1)))!=_||pn&&no(new pn)!=d||vn&&"[object Promise]"!=no(vn.resolve())||dn&&no(new dn)!=b||yn&&no(new yn)!=E)&&(no=function(t){var e=pr(t),n=e==m?t.constructor:void 0,r=n?Ao(n):"";if(r)switch(r){case On:return _;case Tn:return d;case En:return"[object Promise]";case Rn:return b;case _n:return E}return e});var fo=Et?Fa:oc;function lo(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Tt)}function ho(t){return t==t&&!Ba(t)}function po(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in dt(n)))}}function vo(t,e,n){return e=an(void 0===e?t.length-1:e,0),function(){for(var i=arguments,o=-1,a=an(i.length-e,0),u=r(a);++o<a;)u[o]=i[e+o];o=-1;for(var c=r(e+1);++o<e;)c[o]=i[o];return c[e]=n(u),oe(t,this,c)}}function yo(t,e){return e.length<2?t:lr(t,Wr(e,0,-1))}function mo(t,e){for(var n=t.length,r=un(e.length,n),i=mi(t);r--;){var o=e[r];t[r]=ao(o,n)?i[o]:void 0}return t}function go(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var bo=Ro(Gr),Oo=Je||function(t,e){return Vt.setTimeout(t,e)},To=Ro(Br);function Eo(t,e,n){var r=e+"";return To(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(J,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return ue(u,(function(n){var r="_."+n[0];e&n[1]&&!le(t,r)&&t.push(r)})),t.sort()}(function(t){var e=t.match(Q);return e?e[1].split($):[]}(r),n)))}function Ro(t){var e=0,n=0;return function(){var r=cn(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function _o(t,e){var n=-1,r=t.length,i=r-1;for(e=void 0===e?r:e;++n<e;){var o=Mr(n,i),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t}var No=function(t){var e=Ra(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(W,(function(t,n,r,i){e.push(r?i.replace(et,"$1"):n||t)})),e}));function Io(t){if("string"==typeof t||Ja(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Ao(t){if(null!=t){try{return Rt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Lo(t){if(t instanceof jn)return t.clone();var e=new kn(t.__wrapped__,t.__chain__);return e.__actions__=mi(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var xo=Ur((function(t,e){return Ma(t)?$n(t,or(e,1,Ma,!0)):[]})),So=Ur((function(t,e){var n=Do(e);return Ma(n)&&(n=void 0),Ma(t)?$n(t,or(e,1,Ma,!0),Zi(n,2)):[]})),ko=Ur((function(t,e){var n=Do(e);return Ma(n)&&(n=void 0),Ma(t)?$n(t,or(e,1,Ma,!0),void 0,n):[]}));function jo(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:ru(n);return i<0&&(i=an(r+i,0)),Oe(t,Zi(e,3),i)}function Po(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return void 0!==n&&(i=ru(n),i=n<0?an(r+i,0):un(i,r-1)),Oe(t,Zi(e,3),i,!0)}function wo(t){return(null==t?0:t.length)?or(t,1):[]}function Co(t){return t&&t.length?t[0]:void 0}var Mo=Ur((function(t){var e=pe(t,oi);return e.length&&e[0]===t[0]?mr(e):[]})),Xo=Ur((function(t){var e=Do(t),n=pe(t,oi);return e===Do(n)?e=void 0:n.pop(),n.length&&n[0]===t[0]?mr(n,Zi(e,2)):[]})),Uo=Ur((function(t){var e=Do(t),n=pe(t,oi);return(e="function"==typeof e?e:void 0)&&n.pop(),n.length&&n[0]===t[0]?mr(n,void 0,e):[]}));function Do(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}var Fo=Ur(zo);function zo(t,e){return t&&t.length&&e&&e.length?wr(t,e):t}var Go=Hi((function(t,e){var n=null==t?0:t.length,r=Yn(t,e);return Cr(t,pe(e,(function(t){return ao(t,n)?+t:t})).sort(vi)),r}));function Bo(t){return null==t?t:ln.call(t)}var Ho=Ur((function(t){return Qr(or(t,1,Ma,!0))})),Wo=Ur((function(t){var e=Do(t);return Ma(e)&&(e=void 0),Qr(or(t,1,Ma,!0),Zi(e,2))})),Ko=Ur((function(t){var e=Do(t);return e="function"==typeof e?e:void 0,Qr(or(t,1,Ma,!0),void 0,e)}));function Vo(t){if(!t||!t.length)return[];var e=0;return t=fe(t,(function(t){if(Ma(t))return e=an(t.length,e),!0})),xe(e,(function(e){return pe(t,Ne(e))}))}function Yo(t,e){if(!t||!t.length)return[];var n=Vo(t);return null==e?n:pe(n,(function(t){return oe(e,void 0,t)}))}var qo=Ur((function(t,e){return Ma(t)?$n(t,e):[]})),Zo=Ur((function(t){return ri(fe(t,Ma))})),Jo=Ur((function(t){var e=Do(t);return Ma(e)&&(e=void 0),ri(fe(t,Ma),Zi(e,2))})),Qo=Ur((function(t){var e=Do(t);return e="function"==typeof e?e:void 0,ri(fe(t,Ma),void 0,e)})),$o=Ur(Vo);var ta=Ur((function(t){var e=t.length,n=e>1?t[e-1]:void 0;return n="function"==typeof n?(t.pop(),n):void 0,Yo(t,n)}));function ea(t){var e=Ln(t);return e.__chain__=!0,e}function na(t,e){return e(t)}var ra=Hi((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,i=function(e){return Yn(e,t)};return!(e>1||this.__actions__.length)&&r instanceof jn&&ao(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:na,args:[i],thisArg:void 0}),new kn(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(void 0),t}))):this.thru(i)}));var ia=bi((function(t,e,n){_t.call(t,n)?++t[n]:Vn(t,n,1)}));var oa=Ii(jo),aa=Ii(Po);function ua(t,e){return(Pa(t)?ue:tr)(t,Zi(e,3))}function ca(t,e){return(Pa(t)?ce:er)(t,Zi(e,3))}var sa=bi((function(t,e,n){_t.call(t,n)?t[n].push(e):Vn(t,n,[e])}));var fa=Ur((function(t,e,n){var i=-1,o="function"==typeof e,a=Ca(t)?r(t.length):[];return tr(t,(function(t){a[++i]=o?oe(e,t,n):gr(t,e,n)})),a})),la=bi((function(t,e,n){Vn(t,n,e)}));function ha(t,e){return(Pa(t)?pe:Ar)(t,Zi(e,3))}var pa=bi((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));var va=Ur((function(t,e){if(null==t)return[];var n=e.length;return n>1&&uo(t,e[0],e[1])?e=[]:n>2&&uo(e[0],e[1],e[2])&&(e=[e[0]]),jr(t,or(e,1),[])})),da=Ze||function(){return Vt.Date.now()};function ya(t,e,n){return e=n?void 0:e,Di(t,128,void 0,void 0,void 0,void 0,e=t&&null==e?t.length:e)}function ma(t,e){var n;if("function"!=typeof e)throw new gt(o);return t=ru(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}}var ga=Ur((function(t,e,n){var r=1;if(n.length){var i=Ge(n,qi(ga));r|=32}return Di(t,r,e,n,i)})),ba=Ur((function(t,e,n){var r=3;if(n.length){var i=Ge(n,qi(ba));r|=32}return Di(e,r,t,n,i)}));function Oa(t,e,n){var r,i,a,u,c,s,f=0,l=!1,h=!1,p=!0;if("function"!=typeof t)throw new gt(o);function v(e){var n=r,o=i;return r=i=void 0,f=e,u=t.apply(o,n)}function d(t){return f=t,c=Oo(m,e),l?v(t):u}function y(t){var n=t-s;return void 0===s||n>=e||n<0||h&&t-f>=a}function m(){var t=da();if(y(t))return g(t);c=Oo(m,function(t){var n=e-(t-s);return h?un(n,a-(t-f)):n}(t))}function g(t){return c=void 0,p&&r?v(t):(r=i=void 0,u)}function b(){var t=da(),n=y(t);if(r=arguments,i=this,s=t,n){if(void 0===c)return d(s);if(h)return fi(c),c=Oo(m,e),v(s)}return void 0===c&&(c=Oo(m,e)),u}return e=ou(e)||0,Ba(n)&&(l=!!n.leading,a=(h="maxWait"in n)?an(ou(n.maxWait)||0,e):a,p="trailing"in n?!!n.trailing:p),b.cancel=function(){void 0!==c&&fi(c),f=0,r=s=i=c=void 0},b.flush=function(){return void 0===c?u:g(da())},b}var Ta=Ur((function(t,e){return Qn(t,1,e)})),Ea=Ur((function(t,e,n){return Qn(t,ou(e)||0,n)}));function Ra(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new gt(o);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Ra.Cache||Cn),n}function _a(t){if("function"!=typeof t)throw new gt(o);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Ra.Cache=Cn;var Na=ci((function(t,e){var n=(e=1==e.length&&Pa(e[0])?pe(e[0],Se(Zi())):pe(or(e,1),Se(Zi()))).length;return Ur((function(r){for(var i=-1,o=un(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return oe(t,this,r)}))})),Ia=Ur((function(t,e){return Di(t,32,void 0,e,Ge(e,qi(Ia)))})),Aa=Ur((function(t,e){return Di(t,64,void 0,e,Ge(e,qi(Aa)))})),La=Hi((function(t,e){return Di(t,256,void 0,void 0,void 0,e)}));function xa(t,e){return t===e||t!=t&&e!=e}var Sa=wi(vr),ka=wi((function(t,e){return t>=e})),ja=br(function(){return arguments}())?br:function(t){return Ha(t)&&_t.call(t,"callee")&&!Yt.call(t,"callee")},Pa=r.isArray,wa=$t?Se($t):function(t){return Ha(t)&&pr(t)==R};function Ca(t){return null!=t&&Ga(t.length)&&!Fa(t)}function Ma(t){return Ha(t)&&Ca(t)}var Xa=en||oc,Ua=te?Se(te):function(t){return Ha(t)&&pr(t)==l};function Da(t){if(!Ha(t))return!1;var e=pr(t);return e==h||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!Va(t)}function Fa(t){if(!Ba(t))return!1;var e=pr(t);return e==p||e==v||"[object AsyncFunction]"==e||"[object Proxy]"==e}function za(t){return"number"==typeof t&&t==ru(t)}function Ga(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function Ba(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Ha(t){return null!=t&&"object"==typeof t}var Wa=ee?Se(ee):function(t){return Ha(t)&&no(t)==d};function Ka(t){return"number"==typeof t||Ha(t)&&pr(t)==y}function Va(t){if(!Ha(t)||pr(t)!=m)return!1;var e=Wt(t);if(null===e)return!0;var n=_t.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Rt.call(n)==Lt}var Ya=ne?Se(ne):function(t){return Ha(t)&&pr(t)==g};var qa=re?Se(re):function(t){return Ha(t)&&no(t)==b};function Za(t){return"string"==typeof t||!Pa(t)&&Ha(t)&&pr(t)==O}function Ja(t){return"symbol"==typeof t||Ha(t)&&pr(t)==T}var Qa=ie?Se(ie):function(t){return Ha(t)&&Ga(t.length)&&!!Ft[pr(t)]};var $a=wi(Ir),tu=wi((function(t,e){return t<=e}));function eu(t){if(!t)return[];if(Ca(t))return Za(t)?Ke(t):mi(t);if(Qt&&t[Qt])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Qt]());var e=no(t);return(e==d?Fe:e==b?Be:xu)(t)}function nu(t){return t?(t=ou(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function ru(t){var e=nu(t),n=e%1;return e==e?n?e-n:e:0}function iu(t){return t?qn(ru(t),0,4294967295):0}function ou(t){if("number"==typeof t)return t;if(Ja(t))return NaN;if(Ba(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Ba(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Y,"");var n=ot.test(t);return n||ut.test(t)?Ht(t.slice(2),n?2:8):it.test(t)?NaN:+t}function au(t){return gi(t,Tu(t))}function uu(t){return null==t?"":Jr(t)}var cu=Oi((function(t,e){if(lo(e)||Ca(e))gi(e,Ou(e),t);else for(var n in e)_t.call(e,n)&&Bn(t,n,e[n])})),su=Oi((function(t,e){gi(e,Tu(e),t)})),fu=Oi((function(t,e,n,r){gi(e,Tu(e),t,r)})),lu=Oi((function(t,e,n,r){gi(e,Ou(e),t,r)})),hu=Hi(Yn);var pu=Ur((function(t,e){t=dt(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&uo(e[0],e[1],i)&&(r=1);++n<r;)for(var o=e[n],a=Tu(o),u=-1,c=a.length;++u<c;){var s=a[u],f=t[s];(void 0===f||xa(f,Tt[s])&&!_t.call(t,s))&&(t[s]=o[s])}return t})),vu=Ur((function(t){return t.push(void 0,zi),oe(Ru,void 0,t)}));function du(t,e,n){var r=null==t?void 0:lr(t,e);return void 0===r?n:r}function yu(t,e){return null!=t&&ro(t,e,yr)}var mu=xi((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=At.call(e)),t[e]=n}),Bu(Ku)),gu=xi((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=At.call(e)),_t.call(t,e)?t[e].push(n):t[e]=[n]}),Zi),bu=Ur(gr);function Ou(t){return Ca(t)?Un(t):_r(t)}function Tu(t){return Ca(t)?Un(t,!0):Nr(t)}var Eu=Oi((function(t,e,n){Sr(t,e,n)})),Ru=Oi((function(t,e,n,r){Sr(t,e,n,r)})),_u=Hi((function(t,e){var n={};if(null==t)return n;var r=!1;e=pe(e,(function(e){return e=ui(e,t),r||(r=e.length>1),e})),gi(t,Ki(t),n),r&&(n=Zn(n,7,Gi));for(var i=e.length;i--;)$r(n,e[i]);return n}));var Nu=Hi((function(t,e){return null==t?{}:function(t,e){return Pr(t,e,(function(e,n){return yu(t,n)}))}(t,e)}));function Iu(t,e){if(null==t)return{};var n=pe(Ki(t),(function(t){return[t]}));return e=Zi(e),Pr(t,n,(function(t,n){return e(t,n[0])}))}var Au=Ui(Ou),Lu=Ui(Tu);function xu(t){return null==t?[]:ke(t,Ou(t))}var Su=_i((function(t,e,n){return e=e.toLowerCase(),t+(n?ku(e):e)}));function ku(t){return Du(uu(t).toLowerCase())}function ju(t){return(t=uu(t))&&t.replace(st,Me).replace(Pt,"")}var Pu=_i((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),wu=_i((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Cu=Ri("toLowerCase");var Mu=_i((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));var Xu=_i((function(t,e,n){return t+(n?" ":"")+Du(e)}));var Uu=_i((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Du=Ri("toUpperCase");function Fu(t,e,n){return t=uu(t),void 0===(e=n?void 0:e)?function(t){return Xt.test(t)}(t)?function(t){return t.match(Ct)||[]}(t):function(t){return t.match(tt)||[]}(t):t.match(e)||[]}var zu=Ur((function(t,e){try{return oe(t,void 0,e)}catch(t){return Da(t)?t:new ht(t)}})),Gu=Hi((function(t,e){return ue(e,(function(e){e=Io(e),Vn(t,e,ga(t[e],t))})),t}));function Bu(t){return function(){return t}}var Hu=Ai(),Wu=Ai(!0);function Ku(t){return t}function Vu(t){return Rr("function"==typeof t?t:Zn(t,1))}var Yu=Ur((function(t,e){return function(n){return gr(n,t,e)}})),qu=Ur((function(t,e){return function(n){return gr(t,n,e)}}));function Zu(t,e,n){var r=Ou(e),i=fr(e,r);null!=n||Ba(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=fr(e,Ou(e)));var o=!(Ba(n)&&"chain"in n&&!n.chain),a=Fa(t);return ue(i,(function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),i=n.__actions__=mi(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,ve([this.value()],arguments))})})),t}function Ju(){}var Qu=ki(pe),$u=ki(se),tc=ki(me);function ec(t){return co(t)?Ne(Io(t)):function(t){return function(e){return lr(e,t)}}(t)}var nc=Pi(),rc=Pi(!0);function ic(){return[]}function oc(){return!1}var ac=Si((function(t,e){return t+e}),0),uc=Mi("ceil"),cc=Si((function(t,e){return t/e}),1),sc=Mi("floor");var fc,lc=Si((function(t,e){return t*e}),1),hc=Mi("round"),pc=Si((function(t,e){return t-e}),0);return Ln.after=function(t,e){if("function"!=typeof e)throw new gt(o);return t=ru(t),function(){if(--t<1)return e.apply(this,arguments)}},Ln.ary=ya,Ln.assign=cu,Ln.assignIn=su,Ln.assignInWith=fu,Ln.assignWith=lu,Ln.at=hu,Ln.before=ma,Ln.bind=ga,Ln.bindAll=Gu,Ln.bindKey=ba,Ln.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Pa(t)?t:[t]},Ln.chain=ea,Ln.chunk=function(t,e,n){e=(n?uo(t,e,n):void 0===e)?1:an(ru(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var o=0,a=0,u=r(Qe(i/e));o<i;)u[a++]=Wr(t,o,o+=e);return u},Ln.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},Ln.concat=function(){var t=arguments.length;if(!t)return[];for(var e=r(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return ve(Pa(n)?mi(n):[n],or(e,1))},Ln.cond=function(t){var e=null==t?0:t.length,n=Zi();return t=e?pe(t,(function(t){if("function"!=typeof t[1])throw new gt(o);return[n(t[0]),t[1]]})):[],Ur((function(n){for(var r=-1;++r<e;){var i=t[r];if(oe(i[0],this,n))return oe(i[1],this,n)}}))},Ln.conforms=function(t){return function(t){var e=Ou(t);return function(n){return Jn(n,t,e)}}(Zn(t,1))},Ln.constant=Bu,Ln.countBy=ia,Ln.create=function(t,e){var n=xn(t);return null==e?n:Kn(n,e)},Ln.curry=function t(e,n,r){var i=Di(e,8,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=t.placeholder,i},Ln.curryRight=function t(e,n,r){var i=Di(e,16,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=t.placeholder,i},Ln.debounce=Oa,Ln.defaults=pu,Ln.defaultsDeep=vu,Ln.defer=Ta,Ln.delay=Ea,Ln.difference=xo,Ln.differenceBy=So,Ln.differenceWith=ko,Ln.drop=function(t,e,n){var r=null==t?0:t.length;return r?Wr(t,(e=n||void 0===e?1:ru(e))<0?0:e,r):[]},Ln.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?Wr(t,0,(e=r-(e=n||void 0===e?1:ru(e)))<0?0:e):[]},Ln.dropRightWhile=function(t,e){return t&&t.length?ei(t,Zi(e,3),!0,!0):[]},Ln.dropWhile=function(t,e){return t&&t.length?ei(t,Zi(e,3),!0):[]},Ln.fill=function(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&uo(t,e,n)&&(n=0,r=i),function(t,e,n,r){var i=t.length;for((n=ru(n))<0&&(n=-n>i?0:i+n),(r=void 0===r||r>i?i:ru(r))<0&&(r+=i),r=n>r?0:iu(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},Ln.filter=function(t,e){return(Pa(t)?fe:ir)(t,Zi(e,3))},Ln.flatMap=function(t,e){return or(ha(t,e),1)},Ln.flatMapDeep=function(t,e){return or(ha(t,e),1/0)},Ln.flatMapDepth=function(t,e,n){return n=void 0===n?1:ru(n),or(ha(t,e),n)},Ln.flatten=wo,Ln.flattenDeep=function(t){return(null==t?0:t.length)?or(t,1/0):[]},Ln.flattenDepth=function(t,e){return(null==t?0:t.length)?or(t,e=void 0===e?1:ru(e)):[]},Ln.flip=function(t){return Di(t,512)},Ln.flow=Hu,Ln.flowRight=Wu,Ln.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},Ln.functions=function(t){return null==t?[]:fr(t,Ou(t))},Ln.functionsIn=function(t){return null==t?[]:fr(t,Tu(t))},Ln.groupBy=sa,Ln.initial=function(t){return(null==t?0:t.length)?Wr(t,0,-1):[]},Ln.intersection=Mo,Ln.intersectionBy=Xo,Ln.intersectionWith=Uo,Ln.invert=mu,Ln.invertBy=gu,Ln.invokeMap=fa,Ln.iteratee=Vu,Ln.keyBy=la,Ln.keys=Ou,Ln.keysIn=Tu,Ln.map=ha,Ln.mapKeys=function(t,e){var n={};return e=Zi(e,3),cr(t,(function(t,r,i){Vn(n,e(t,r,i),t)})),n},Ln.mapValues=function(t,e){var n={};return e=Zi(e,3),cr(t,(function(t,r,i){Vn(n,r,e(t,r,i))})),n},Ln.matches=function(t){return Lr(Zn(t,1))},Ln.matchesProperty=function(t,e){return xr(t,Zn(e,1))},Ln.memoize=Ra,Ln.merge=Eu,Ln.mergeWith=Ru,Ln.method=Yu,Ln.methodOf=qu,Ln.mixin=Zu,Ln.negate=_a,Ln.nthArg=function(t){return t=ru(t),Ur((function(e){return kr(e,t)}))},Ln.omit=_u,Ln.omitBy=function(t,e){return Iu(t,_a(Zi(e)))},Ln.once=function(t){return ma(2,t)},Ln.orderBy=function(t,e,n,r){return null==t?[]:(Pa(e)||(e=null==e?[]:[e]),Pa(n=r?void 0:n)||(n=null==n?[]:[n]),jr(t,e,n))},Ln.over=Qu,Ln.overArgs=Na,Ln.overEvery=$u,Ln.overSome=tc,Ln.partial=Ia,Ln.partialRight=Aa,Ln.partition=pa,Ln.pick=Nu,Ln.pickBy=Iu,Ln.property=ec,Ln.propertyOf=function(t){return function(e){return null==t?void 0:lr(t,e)}},Ln.pull=Fo,Ln.pullAll=zo,Ln.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?wr(t,e,Zi(n,2)):t},Ln.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?wr(t,e,void 0,n):t},Ln.pullAt=Go,Ln.range=nc,Ln.rangeRight=rc,Ln.rearg=La,Ln.reject=function(t,e){return(Pa(t)?fe:ir)(t,_a(Zi(e,3)))},Ln.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=Zi(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return Cr(t,i),n},Ln.rest=function(t,e){if("function"!=typeof t)throw new gt(o);return Ur(t,e=void 0===e?e:ru(e))},Ln.reverse=Bo,Ln.sampleSize=function(t,e,n){return e=(n?uo(t,e,n):void 0===e)?1:ru(e),(Pa(t)?Fn:Fr)(t,e)},Ln.set=function(t,e,n){return null==t?t:zr(t,e,n)},Ln.setWith=function(t,e,n,r){return r="function"==typeof r?r:void 0,null==t?t:zr(t,e,n,r)},Ln.shuffle=function(t){return(Pa(t)?zn:Hr)(t)},Ln.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&uo(t,e,n)?(e=0,n=r):(e=null==e?0:ru(e),n=void 0===n?r:ru(n)),Wr(t,e,n)):[]},Ln.sortBy=va,Ln.sortedUniq=function(t){return t&&t.length?qr(t):[]},Ln.sortedUniqBy=function(t,e){return t&&t.length?qr(t,Zi(e,2)):[]},Ln.split=function(t,e,n){return n&&"number"!=typeof n&&uo(t,e,n)&&(e=n=void 0),(n=void 0===n?4294967295:n>>>0)?(t=uu(t))&&("string"==typeof e||null!=e&&!Ya(e))&&!(e=Jr(e))&&De(t)?si(Ke(t),0,n):t.split(e,n):[]},Ln.spread=function(t,e){if("function"!=typeof t)throw new gt(o);return e=null==e?0:an(ru(e),0),Ur((function(n){var r=n[e],i=si(n,0,e);return r&&ve(i,r),oe(t,this,i)}))},Ln.tail=function(t){var e=null==t?0:t.length;return e?Wr(t,1,e):[]},Ln.take=function(t,e,n){return t&&t.length?Wr(t,0,(e=n||void 0===e?1:ru(e))<0?0:e):[]},Ln.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?Wr(t,(e=r-(e=n||void 0===e?1:ru(e)))<0?0:e,r):[]},Ln.takeRightWhile=function(t,e){return t&&t.length?ei(t,Zi(e,3),!1,!0):[]},Ln.takeWhile=function(t,e){return t&&t.length?ei(t,Zi(e,3)):[]},Ln.tap=function(t,e){return e(t),t},Ln.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new gt(o);return Ba(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Oa(t,e,{leading:r,maxWait:e,trailing:i})},Ln.thru=na,Ln.toArray=eu,Ln.toPairs=Au,Ln.toPairsIn=Lu,Ln.toPath=function(t){return Pa(t)?pe(t,Io):Ja(t)?[t]:mi(No(uu(t)))},Ln.toPlainObject=au,Ln.transform=function(t,e,n){var r=Pa(t),i=r||Xa(t)||Qa(t);if(e=Zi(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:Ba(t)&&Fa(o)?xn(Wt(t)):{}}return(i?ue:cr)(t,(function(t,r,i){return e(n,t,r,i)})),n},Ln.unary=function(t){return ya(t,1)},Ln.union=Ho,Ln.unionBy=Wo,Ln.unionWith=Ko,Ln.uniq=function(t){return t&&t.length?Qr(t):[]},Ln.uniqBy=function(t,e){return t&&t.length?Qr(t,Zi(e,2)):[]},Ln.uniqWith=function(t,e){return e="function"==typeof e?e:void 0,t&&t.length?Qr(t,void 0,e):[]},Ln.unset=function(t,e){return null==t||$r(t,e)},Ln.unzip=Vo,Ln.unzipWith=Yo,Ln.update=function(t,e,n){return null==t?t:ti(t,e,ai(n))},Ln.updateWith=function(t,e,n,r){return r="function"==typeof r?r:void 0,null==t?t:ti(t,e,ai(n),r)},Ln.values=xu,Ln.valuesIn=function(t){return null==t?[]:ke(t,Tu(t))},Ln.without=qo,Ln.words=Fu,Ln.wrap=function(t,e){return Ia(ai(e),t)},Ln.xor=Zo,Ln.xorBy=Jo,Ln.xorWith=Qo,Ln.zip=$o,Ln.zipObject=function(t,e){return ii(t||[],e||[],Bn)},Ln.zipObjectDeep=function(t,e){return ii(t||[],e||[],zr)},Ln.zipWith=ta,Ln.entries=Au,Ln.entriesIn=Lu,Ln.extend=su,Ln.extendWith=fu,Zu(Ln,Ln),Ln.add=ac,Ln.attempt=zu,Ln.camelCase=Su,Ln.capitalize=ku,Ln.ceil=uc,Ln.clamp=function(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=(n=ou(n))==n?n:0),void 0!==e&&(e=(e=ou(e))==e?e:0),qn(ou(t),e,n)},Ln.clone=function(t){return Zn(t,4)},Ln.cloneDeep=function(t){return Zn(t,5)},Ln.cloneDeepWith=function(t,e){return Zn(t,5,e="function"==typeof e?e:void 0)},Ln.cloneWith=function(t,e){return Zn(t,4,e="function"==typeof e?e:void 0)},Ln.conformsTo=function(t,e){return null==e||Jn(t,e,Ou(e))},Ln.deburr=ju,Ln.defaultTo=function(t,e){return null==t||t!=t?e:t},Ln.divide=cc,Ln.endsWith=function(t,e,n){t=uu(t),e=Jr(e);var r=t.length,i=n=void 0===n?r:qn(ru(n),0,r);return(n-=e.length)>=0&&t.slice(n,i)==e},Ln.eq=xa,Ln.escape=function(t){return(t=uu(t))&&D.test(t)?t.replace(X,Xe):t},Ln.escapeRegExp=function(t){return(t=uu(t))&&V.test(t)?t.replace(K,"\\$&"):t},Ln.every=function(t,e,n){var r=Pa(t)?se:nr;return n&&uo(t,e,n)&&(e=void 0),r(t,Zi(e,3))},Ln.find=oa,Ln.findIndex=jo,Ln.findKey=function(t,e){return be(t,Zi(e,3),cr)},Ln.findLast=aa,Ln.findLastIndex=Po,Ln.findLastKey=function(t,e){return be(t,Zi(e,3),sr)},Ln.floor=sc,Ln.forEach=ua,Ln.forEachRight=ca,Ln.forIn=function(t,e){return null==t?t:ar(t,Zi(e,3),Tu)},Ln.forInRight=function(t,e){return null==t?t:ur(t,Zi(e,3),Tu)},Ln.forOwn=function(t,e){return t&&cr(t,Zi(e,3))},Ln.forOwnRight=function(t,e){return t&&sr(t,Zi(e,3))},Ln.get=du,Ln.gt=Sa,Ln.gte=ka,Ln.has=function(t,e){return null!=t&&ro(t,e,dr)},Ln.hasIn=yu,Ln.head=Co,Ln.identity=Ku,Ln.includes=function(t,e,n,r){t=Ca(t)?t:xu(t),n=n&&!r?ru(n):0;var i=t.length;return n<0&&(n=an(i+n,0)),Za(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&Te(t,e,n)>-1},Ln.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:ru(n);return i<0&&(i=an(r+i,0)),Te(t,e,i)},Ln.inRange=function(t,e,n){return e=nu(e),void 0===n?(n=e,e=0):n=nu(n),function(t,e,n){return t>=un(e,n)&&t<an(e,n)}(t=ou(t),e,n)},Ln.invoke=bu,Ln.isArguments=ja,Ln.isArray=Pa,Ln.isArrayBuffer=wa,Ln.isArrayLike=Ca,Ln.isArrayLikeObject=Ma,Ln.isBoolean=function(t){return!0===t||!1===t||Ha(t)&&pr(t)==f},Ln.isBuffer=Xa,Ln.isDate=Ua,Ln.isElement=function(t){return Ha(t)&&1===t.nodeType&&!Va(t)},Ln.isEmpty=function(t){if(null==t)return!0;if(Ca(t)&&(Pa(t)||"string"==typeof t||"function"==typeof t.splice||Xa(t)||Qa(t)||ja(t)))return!t.length;var e=no(t);if(e==d||e==b)return!t.size;if(lo(t))return!_r(t).length;for(var n in t)if(_t.call(t,n))return!1;return!0},Ln.isEqual=function(t,e){return Or(t,e)},Ln.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:void 0)?n(t,e):void 0;return void 0===r?Or(t,e,void 0,n):!!r},Ln.isError=Da,Ln.isFinite=function(t){return"number"==typeof t&&nn(t)},Ln.isFunction=Fa,Ln.isInteger=za,Ln.isLength=Ga,Ln.isMap=Wa,Ln.isMatch=function(t,e){return t===e||Tr(t,e,Qi(e))},Ln.isMatchWith=function(t,e,n){return n="function"==typeof n?n:void 0,Tr(t,e,Qi(e),n)},Ln.isNaN=function(t){return Ka(t)&&t!=+t},Ln.isNative=function(t){if(fo(t))throw new ht("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Er(t)},Ln.isNil=function(t){return null==t},Ln.isNull=function(t){return null===t},Ln.isNumber=Ka,Ln.isObject=Ba,Ln.isObjectLike=Ha,Ln.isPlainObject=Va,Ln.isRegExp=Ya,Ln.isSafeInteger=function(t){return za(t)&&t>=-9007199254740991&&t<=9007199254740991},Ln.isSet=qa,Ln.isString=Za,Ln.isSymbol=Ja,Ln.isTypedArray=Qa,Ln.isUndefined=function(t){return void 0===t},Ln.isWeakMap=function(t){return Ha(t)&&no(t)==E},Ln.isWeakSet=function(t){return Ha(t)&&"[object WeakSet]"==pr(t)},Ln.join=function(t,e){return null==t?"":rn.call(t,e)},Ln.kebabCase=Pu,Ln.last=Do,Ln.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return void 0!==n&&(i=(i=ru(n))<0?an(r+i,0):un(i,r-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,i):Oe(t,Re,i,!0)},Ln.lowerCase=wu,Ln.lowerFirst=Cu,Ln.lt=$a,Ln.lte=tu,Ln.max=function(t){return t&&t.length?rr(t,Ku,vr):void 0},Ln.maxBy=function(t,e){return t&&t.length?rr(t,Zi(e,2),vr):void 0},Ln.mean=function(t){return _e(t,Ku)},Ln.meanBy=function(t,e){return _e(t,Zi(e,2))},Ln.min=function(t){return t&&t.length?rr(t,Ku,Ir):void 0},Ln.minBy=function(t,e){return t&&t.length?rr(t,Zi(e,2),Ir):void 0},Ln.stubArray=ic,Ln.stubFalse=oc,Ln.stubObject=function(){return{}},Ln.stubString=function(){return""},Ln.stubTrue=function(){return!0},Ln.multiply=lc,Ln.nth=function(t,e){return t&&t.length?kr(t,ru(e)):void 0},Ln.noConflict=function(){return Vt._===this&&(Vt._=xt),this},Ln.noop=Ju,Ln.now=da,Ln.pad=function(t,e,n){t=uu(t);var r=(e=ru(e))?We(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return ji($e(i),n)+t+ji(Qe(i),n)},Ln.padEnd=function(t,e,n){t=uu(t);var r=(e=ru(e))?We(t):0;return e&&r<e?t+ji(e-r,n):t},Ln.padStart=function(t,e,n){t=uu(t);var r=(e=ru(e))?We(t):0;return e&&r<e?ji(e-r,n)+t:t},Ln.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),sn(uu(t).replace(q,""),e||0)},Ln.random=function(t,e,n){if(n&&"boolean"!=typeof n&&uo(t,e,n)&&(e=n=void 0),void 0===n&&("boolean"==typeof e?(n=e,e=void 0):"boolean"==typeof t&&(n=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=nu(t),void 0===e?(e=t,t=0):e=nu(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=fn();return un(t+i*(e-t+Bt("1e-"+((i+"").length-1))),e)}return Mr(t,e)},Ln.reduce=function(t,e,n){var r=Pa(t)?de:Ae,i=arguments.length<3;return r(t,Zi(e,4),n,i,tr)},Ln.reduceRight=function(t,e,n){var r=Pa(t)?ye:Ae,i=arguments.length<3;return r(t,Zi(e,4),n,i,er)},Ln.repeat=function(t,e,n){return e=(n?uo(t,e,n):void 0===e)?1:ru(e),Xr(uu(t),e)},Ln.replace=function(){var t=arguments,e=uu(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Ln.result=function(t,e,n){var r=-1,i=(e=ui(e,t)).length;for(i||(i=1,t=void 0);++r<i;){var o=null==t?void 0:t[Io(e[r])];void 0===o&&(r=i,o=n),t=Fa(o)?o.call(t):o}return t},Ln.round=hc,Ln.runInContext=t,Ln.sample=function(t){return(Pa(t)?Dn:Dr)(t)},Ln.size=function(t){if(null==t)return 0;if(Ca(t))return Za(t)?We(t):t.length;var e=no(t);return e==d||e==b?t.size:_r(t).length},Ln.snakeCase=Mu,Ln.some=function(t,e,n){var r=Pa(t)?me:Kr;return n&&uo(t,e,n)&&(e=void 0),r(t,Zi(e,3))},Ln.sortedIndex=function(t,e){return Vr(t,e)},Ln.sortedIndexBy=function(t,e,n){return Yr(t,e,Zi(n,2))},Ln.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=Vr(t,e);if(r<n&&xa(t[r],e))return r}return-1},Ln.sortedLastIndex=function(t,e){return Vr(t,e,!0)},Ln.sortedLastIndexBy=function(t,e,n){return Yr(t,e,Zi(n,2),!0)},Ln.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=Vr(t,e,!0)-1;if(xa(t[n],e))return n}return-1},Ln.startCase=Xu,Ln.startsWith=function(t,e,n){return t=uu(t),n=null==n?0:qn(ru(n),0,t.length),e=Jr(e),t.slice(n,n+e.length)==e},Ln.subtract=pc,Ln.sum=function(t){return t&&t.length?Le(t,Ku):0},Ln.sumBy=function(t,e){return t&&t.length?Le(t,Zi(e,2)):0},Ln.template=function(t,e,n){var r=Ln.templateSettings;n&&uo(t,e,n)&&(e=void 0),t=uu(t),e=fu({},e,r,Fi);var i,o,a=fu({},e.imports,r.imports,Fi),u=Ou(a),c=ke(a,u),s=0,f=e.interpolate||ft,l="__p += '",h=yt((e.escape||ft).source+"|"+f.source+"|"+(f===G?nt:ft).source+"|"+(e.evaluate||ft).source+"|$","g"),p="//# sourceURL="+(_t.call(e,"sourceURL")?(e.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++Dt+"]")+"\n";t.replace(h,(function(e,n,r,a,u,c){return r||(r=a),l+=t.slice(s,c).replace(lt,Ue),n&&(i=!0,l+="' +\n__e("+n+") +\n'"),u&&(o=!0,l+="';\n"+u+";\n__p += '"),r&&(l+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),s=c+e.length,e})),l+="';\n";var v=_t.call(e,"variable")&&e.variable;v||(l="with (obj) {\n"+l+"\n}\n"),l=(o?l.replace(P,""):l).replace(w,"$1").replace(C,"$1;"),l="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+l+"return __p\n}";var d=zu((function(){return pt(u,p+"return "+l).apply(void 0,c)}));if(d.source=l,Da(d))throw d;return d},Ln.times=function(t,e){if((t=ru(t))<1||t>9007199254740991)return[];var n=4294967295,r=un(t,4294967295);t-=4294967295;for(var i=xe(r,e=Zi(e));++n<t;)e(n);return i},Ln.toFinite=nu,Ln.toInteger=ru,Ln.toLength=iu,Ln.toLower=function(t){return uu(t).toLowerCase()},Ln.toNumber=ou,Ln.toSafeInteger=function(t){return t?qn(ru(t),-9007199254740991,9007199254740991):0===t?t:0},Ln.toString=uu,Ln.toUpper=function(t){return uu(t).toUpperCase()},Ln.trim=function(t,e,n){if((t=uu(t))&&(n||void 0===e))return t.replace(Y,"");if(!t||!(e=Jr(e)))return t;var r=Ke(t),i=Ke(e);return si(r,Pe(r,i),we(r,i)+1).join("")},Ln.trimEnd=function(t,e,n){if((t=uu(t))&&(n||void 0===e))return t.replace(Z,"");if(!t||!(e=Jr(e)))return t;var r=Ke(t);return si(r,0,we(r,Ke(e))+1).join("")},Ln.trimStart=function(t,e,n){if((t=uu(t))&&(n||void 0===e))return t.replace(q,"");if(!t||!(e=Jr(e)))return t;var r=Ke(t);return si(r,Pe(r,Ke(e))).join("")},Ln.truncate=function(t,e){var n=30,r="...";if(Ba(e)){var i="separator"in e?e.separator:i;n="length"in e?ru(e.length):n,r="omission"in e?Jr(e.omission):r}var o=(t=uu(t)).length;if(De(t)){var a=Ke(t);o=a.length}if(n>=o)return t;var u=n-We(r);if(u<1)return r;var c=a?si(a,0,u).join(""):t.slice(0,u);if(void 0===i)return c+r;if(a&&(u+=c.length-u),Ya(i)){if(t.slice(u).search(i)){var s,f=c;for(i.global||(i=yt(i.source,uu(rt.exec(i))+"g")),i.lastIndex=0;s=i.exec(f);)var l=s.index;c=c.slice(0,void 0===l?u:l)}}else if(t.indexOf(Jr(i),u)!=u){var h=c.lastIndexOf(i);h>-1&&(c=c.slice(0,h))}return c+r},Ln.unescape=function(t){return(t=uu(t))&&U.test(t)?t.replace(M,Ve):t},Ln.uniqueId=function(t){var e=++Nt;return uu(t)+e},Ln.upperCase=Uu,Ln.upperFirst=Du,Ln.each=ua,Ln.eachRight=ca,Ln.first=Co,Zu(Ln,(fc={},cr(Ln,(function(t,e){_t.call(Ln.prototype,e)||(fc[e]=t)})),fc),{chain:!1}),Ln.VERSION="4.17.15",ue(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Ln[t].placeholder=Ln})),ue(["drop","take"],(function(t,e){jn.prototype[t]=function(n){n=void 0===n?1:an(ru(n),0);var r=this.__filtered__&&!e?new jn(this):this.clone();return r.__filtered__?r.__takeCount__=un(n,r.__takeCount__):r.__views__.push({size:un(n,4294967295),type:t+(r.__dir__<0?"Right":"")}),r},jn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),ue(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=1==n||3==n;jn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Zi(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),ue(["head","last"],(function(t,e){var n="take"+(e?"Right":"");jn.prototype[t]=function(){return this[n](1).value()[0]}})),ue(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");jn.prototype[t]=function(){return this.__filtered__?new jn(this):this[n](1)}})),jn.prototype.compact=function(){return this.filter(Ku)},jn.prototype.find=function(t){return this.filter(t).head()},jn.prototype.findLast=function(t){return this.reverse().find(t)},jn.prototype.invokeMap=Ur((function(t,e){return"function"==typeof t?new jn(this):this.map((function(n){return gr(n,t,e)}))})),jn.prototype.reject=function(t){return this.filter(_a(Zi(t)))},jn.prototype.slice=function(t,e){t=ru(t);var n=this;return n.__filtered__&&(t>0||e<0)?new jn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),void 0!==e&&(n=(e=ru(e))<0?n.dropRight(-e):n.take(e-t)),n)},jn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},jn.prototype.toArray=function(){return this.take(4294967295)},cr(jn.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),i=Ln[r?"take"+("last"==e?"Right":""):e],o=r||/^find/.test(e);i&&(Ln.prototype[e]=function(){var e=this.__wrapped__,a=r?[1]:arguments,u=e instanceof jn,c=a[0],s=u||Pa(e),f=function(t){var e=i.apply(Ln,ve([t],a));return r&&l?e[0]:e};s&&n&&"function"==typeof c&&1!=c.length&&(u=s=!1);var l=this.__chain__,h=!!this.__actions__.length,p=o&&!l,v=u&&!h;if(!o&&s){e=v?e:new jn(this);var d=t.apply(e,a);return d.__actions__.push({func:na,args:[f],thisArg:void 0}),new kn(d,l)}return p&&v?t.apply(this,a):(d=this.thru(f),p?r?d.value()[0]:d.value():d)})})),ue(["pop","push","shift","sort","splice","unshift"],(function(t){var e=bt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);Ln.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(Pa(i)?i:[],t)}return this[n]((function(n){return e.apply(Pa(n)?n:[],t)}))}})),cr(jn.prototype,(function(t,e){var n=Ln[e];if(n){var r=n.name+"";_t.call(bn,r)||(bn[r]=[]),bn[r].push({name:e,func:n})}})),bn[Li(void 0,2).name]=[{name:"wrapper",func:void 0}],jn.prototype.clone=function(){var t=new jn(this.__wrapped__);return t.__actions__=mi(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=mi(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=mi(this.__views__),t},jn.prototype.reverse=function(){if(this.__filtered__){var t=new jn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},jn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Pa(t),r=e<0,i=n?t.length:0,o=function(t,e,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=un(e,t+a);break;case"takeRight":t=an(t,e-a)}}return{start:t,end:e}}(0,i,this.__views__),a=o.start,u=o.end,c=u-a,s=r?u:a-1,f=this.__iteratees__,l=f.length,h=0,p=un(c,this.__takeCount__);if(!n||!r&&i==c&&p==c)return ni(t,this.__actions__);var v=[];t:for(;c--&&h<p;){for(var d=-1,y=t[s+=e];++d<l;){var m=f[d],g=m.iteratee,b=m.type,O=g(y);if(2==b)y=O;else if(!O){if(1==b)continue t;break t}}v[h++]=y}return v},Ln.prototype.at=ra,Ln.prototype.chain=function(){return ea(this)},Ln.prototype.commit=function(){return new kn(this.value(),this.__chain__)},Ln.prototype.next=function(){void 0===this.__values__&&(this.__values__=eu(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?void 0:this.__values__[this.__index__++]}},Ln.prototype.plant=function(t){for(var e,n=this;n instanceof Sn;){var r=Lo(n);r.__index__=0,r.__values__=void 0,e?i.__wrapped__=r:e=r;var i=r;n=n.__wrapped__}return i.__wrapped__=t,e},Ln.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof jn){var e=t;return this.__actions__.length&&(e=new jn(this)),(e=e.reverse()).__actions__.push({func:na,args:[Bo],thisArg:void 0}),new kn(e,this.__chain__)}return this.thru(Bo)},Ln.prototype.toJSON=Ln.prototype.valueOf=Ln.prototype.value=function(){return ni(this.__wrapped__,this.__actions__)},Ln.prototype.first=Ln.prototype.head,Qt&&(Ln.prototype[Qt]=function(){return this}),Ln}();Vt._=Ye,void 0===(i=function(){return Ye}.call(e,n,e,r))||(r.exports=i)}).call(this)}).call(this,n(5),n(6)(t))},function(t,e,n){var r,i,o;"undefined"!=typeof self&&self,i=[],void 0===(o="function"==typeof(r=function(){function t(){}t.prototype.saveState=function(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}},t.prototype.restoreState=function(t){this.idx=t.idx,this.input=t.input,this.groupIdx=t.groupIdx},t.prototype.pattern=function(t){this.idx=0,this.input=t,this.groupIdx=0,this.consumeChar("/");var e=this.disjunction();this.consumeChar("/");for(var n={type:"Flags",loc:{begin:this.idx,end:t.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};this.isRegExpFlag();)switch(this.popChar()){case"g":u(n,"global");break;case"i":u(n,"ignoreCase");break;case"m":u(n,"multiLine");break;case"u":u(n,"unicode");break;case"y":u(n,"sticky")}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:n,value:e,loc:this.loc(0)}},t.prototype.disjunction=function(){var t=[],e=this.idx;for(t.push(this.alternative());"|"===this.peekChar();)this.consumeChar("|"),t.push(this.alternative());return{type:"Disjunction",value:t,loc:this.loc(e)}},t.prototype.alternative=function(){for(var t=[],e=this.idx;this.isTerm();)t.push(this.term());return{type:"Alternative",value:t,loc:this.loc(e)}},t.prototype.term=function(){return this.isAssertion()?this.assertion():this.atom()},t.prototype.assertion=function(){var t=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(t)};case"$":return{type:"EndAnchor",loc:this.loc(t)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(t)};case"B":return{type:"NonWordBoundary",loc:this.loc(t)}}throw Error("Invalid Assertion Escape");case"(":var e;switch(this.consumeChar("?"),this.popChar()){case"=":e="Lookahead";break;case"!":e="NegativeLookahead"}c(e);var n=this.disjunction();return this.consumeChar(")"),{type:e,value:n,loc:this.loc(t)}}!function(){throw Error("Internal Error - Should never get here!")}()},t.prototype.quantifier=function(t){var e,n=this.idx;switch(this.popChar()){case"*":e={atLeast:0,atMost:1/0};break;case"+":e={atLeast:1,atMost:1/0};break;case"?":e={atLeast:0,atMost:1};break;case"{":var r=this.integerIncludingZero();switch(this.popChar()){case"}":e={atLeast:r,atMost:r};break;case",":e=this.isDigit()?{atLeast:r,atMost:this.integerIncludingZero()}:{atLeast:r,atMost:1/0},this.consumeChar("}")}if(!0===t&&void 0===e)return;c(e)}if(!0!==t||void 0!==e)return c(e),"?"===this.peekChar(0)?(this.consumeChar("?"),e.greedy=!1):e.greedy=!0,e.type="Quantifier",e.loc=this.loc(n),e},t.prototype.atom=function(){var t,e=this.idx;switch(this.peekChar()){case".":t=this.dotAll();break;case"\\":t=this.atomEscape();break;case"[":t=this.characterClass();break;case"(":t=this.group()}return void 0===t&&this.isPatternCharacter()&&(t=this.patternCharacter()),c(t),t.loc=this.loc(e),this.isQuantifier()&&(t.quantifier=this.quantifier()),t},t.prototype.dotAll=function(){return this.consumeChar("."),{type:"Set",complement:!0,value:[o("\n"),o("\r"),o("\u2028"),o("\u2029")]}},t.prototype.atomEscape=function(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}},t.prototype.decimalEscapeAtom=function(){return{type:"GroupBackReference",value:this.positiveInteger()}},t.prototype.characterClassEscape=function(){var t,e=!1;switch(this.popChar()){case"d":t=s;break;case"D":t=s,e=!0;break;case"s":t=l;break;case"S":t=l,e=!0;break;case"w":t=f;break;case"W":t=f,e=!0}return c(t),{type:"Set",value:t,complement:e}},t.prototype.controlEscapeAtom=function(){var t;switch(this.popChar()){case"f":t=o("\f");break;case"n":t=o("\n");break;case"r":t=o("\r");break;case"t":t=o("\t");break;case"v":t=o("\v")}return c(t),{type:"Character",value:t}},t.prototype.controlLetterEscapeAtom=function(){this.consumeChar("c");var t=this.popChar();if(!1===/[a-zA-Z]/.test(t))throw Error("Invalid ");return{type:"Character",value:t.toUpperCase().charCodeAt(0)-64}},t.prototype.nulCharacterAtom=function(){return this.consumeChar("0"),{type:"Character",value:o("\0")}},t.prototype.hexEscapeSequenceAtom=function(){return this.consumeChar("x"),this.parseHexDigits(2)},t.prototype.regExpUnicodeEscapeSequenceAtom=function(){return this.consumeChar("u"),this.parseHexDigits(4)},t.prototype.identityEscapeAtom=function(){return{type:"Character",value:o(this.popChar())}},t.prototype.classPatternCharacterAtom=function(){switch(this.peekChar()){case"\n":case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:return{type:"Character",value:o(this.popChar())}}},t.prototype.characterClass=function(){var t=[],e=!1;for(this.consumeChar("["),"^"===this.peekChar(0)&&(this.consumeChar("^"),e=!0);this.isClassAtom();){var n=this.classAtom();if("Character"===n.type&&this.isRangeDash()){this.consumeChar("-");var r=this.classAtom();if("Character"===r.type){if(r.value<n.value)throw Error("Range out of order in character class");t.push({from:n.value,to:r.value})}else a(n.value,t),t.push(o("-")),a(r.value,t)}else a(n.value,t)}return this.consumeChar("]"),{type:"Set",complement:e,value:t}},t.prototype.classAtom=function(){switch(this.peekChar()){case"]":case"\n":case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}},t.prototype.classEscape=function(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:o("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}},t.prototype.group=function(){var t=!0;switch(this.consumeChar("("),this.peekChar(0)){case"?":this.consumeChar("?"),this.consumeChar(":"),t=!1;break;default:this.groupIdx++}var e=this.disjunction();this.consumeChar(")");var n={type:"Group",capturing:t,value:e};return t&&(n.idx=this.groupIdx),n},t.prototype.positiveInteger=function(){var t=this.popChar();if(!1===i.test(t))throw Error("Expecting a positive integer");for(;r.test(this.peekChar(0));)t+=this.popChar();return parseInt(t,10)},t.prototype.integerIncludingZero=function(){var t=this.popChar();if(!1===r.test(t))throw Error("Expecting an integer");for(;r.test(this.peekChar(0));)t+=this.popChar();return parseInt(t,10)},t.prototype.patternCharacter=function(){var t=this.popChar();switch(t){case"\n":case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:o(t)}}},t.prototype.isRegExpFlag=function(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}},t.prototype.isRangeDash=function(){return"-"===this.peekChar()&&this.isClassAtom(1)},t.prototype.isDigit=function(){return r.test(this.peekChar(0))},t.prototype.isClassAtom=function(t){switch(void 0===t&&(t=0),this.peekChar(t)){case"]":case"\n":case"\r":case"\u2028":case"\u2029":return!1;default:return!0}},t.prototype.isTerm=function(){return this.isAtom()||this.isAssertion()},t.prototype.isAtom=function(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}},t.prototype.isAssertion=function(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return"?"===this.peekChar(1)&&("="===this.peekChar(2)||"!"===this.peekChar(2));default:return!1}},t.prototype.isQuantifier=function(){var t=this.saveState();try{return void 0!==this.quantifier(!0)}catch(t){return!1}finally{this.restoreState(t)}},t.prototype.isPatternCharacter=function(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case"\n":case"\r":case"\u2028":case"\u2029":return!1;default:return!0}},t.prototype.parseHexDigits=function(t){for(var e="",r=0;r<t;r++){var i=this.popChar();if(!1===n.test(i))throw Error("Expecting a HexDecimal digits");e+=i}return{type:"Character",value:parseInt(e,16)}},t.prototype.peekChar=function(t){return void 0===t&&(t=0),this.input[this.idx+t]},t.prototype.popChar=function(){var t=this.peekChar(0);return this.consumeChar(),t},t.prototype.consumeChar=function(t){if(void 0!==t&&this.input[this.idx]!==t)throw Error("Expected: '"+t+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++},t.prototype.loc=function(t){return{begin:t,end:this.idx}};var e,n=/[0-9a-fA-F]/,r=/[0-9]/,i=/[1-9]/;function o(t){return t.charCodeAt(0)}function a(t,e){void 0!==t.length?t.forEach((function(t){e.push(t)})):e.push(t)}function u(t,e){if(!0===t[e])throw"duplicate flag "+e;t[e]=!0}function c(t){if(void 0===t)throw Error("Internal Error - Should never get here!")}var s=[];for(e=o("0");e<=o("9");e++)s.push(e);var f=[o("_")].concat(s);for(e=o("a");e<=o("z");e++)f.push(e);for(e=o("A");e<=o("Z");e++)f.push(e);var l=[o(" "),o("\f"),o("\n"),o("\r"),o("\t"),o("\v"),o("\t"),o(""),o(""),o(""),o(""),o(""),o(""),o(""),o(""),o(""),o(""),o(""),o(""),o(""),o("\u2028"),o("\u2029"),o(""),o(""),o(""),o("\ufeff")];function h(){}return h.prototype.visitChildren=function(t){for(var e in t){var n=t[e];t.hasOwnProperty(e)&&(void 0!==n.type?this.visit(n):Array.isArray(n)&&n.forEach((function(t){this.visit(t)}),this))}},h.prototype.visit=function(t){switch(t.type){case"Pattern":this.visitPattern(t);break;case"Flags":this.visitFlags(t);break;case"Disjunction":this.visitDisjunction(t);break;case"Alternative":this.visitAlternative(t);break;case"StartAnchor":this.visitStartAnchor(t);break;case"EndAnchor":this.visitEndAnchor(t);break;case"WordBoundary":this.visitWordBoundary(t);break;case"NonWordBoundary":this.visitNonWordBoundary(t);break;case"Lookahead":this.visitLookahead(t);break;case"NegativeLookahead":this.visitNegativeLookahead(t);break;case"Character":this.visitCharacter(t);break;case"Set":this.visitSet(t);break;case"Group":this.visitGroup(t);break;case"GroupBackReference":this.visitGroupBackReference(t);break;case"Quantifier":this.visitQuantifier(t)}this.visitChildren(t)},h.prototype.visitPattern=function(t){},h.prototype.visitFlags=function(t){},h.prototype.visitDisjunction=function(t){},h.prototype.visitAlternative=function(t){},h.prototype.visitStartAnchor=function(t){},h.prototype.visitEndAnchor=function(t){},h.prototype.visitWordBoundary=function(t){},h.prototype.visitNonWordBoundary=function(t){},h.prototype.visitLookahead=function(t){},h.prototype.visitNegativeLookahead=function(t){},h.prototype.visitCharacter=function(t){},h.prototype.visitSet=function(t){},h.prototype.visitGroup=function(t){},h.prototype.visitGroupBackReference=function(t){},h.prototype.visitQuantifier=function(t){},{RegExpParser:t,BaseRegExpVisitor:h,VERSION:"0.5.0"}})?r.apply(e,i):r)||(t.exports=o)},function(t,e,n){"use strict";n.r(e),e.default="data:image/png;base64,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"},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){var r=n(8),i=n(9);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);t.exports=i.locals||{}},function(t,e,n){"use strict";var r,i=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},o=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),a=[];function u(t){for(var e=-1,n=0;n<a.length;n++)if(a[n].identifier===t){e=n;break}return e}function c(t,e){for(var n={},r=[],i=0;i<t.length;i++){var o=t[i],c=e.base?o[0]+e.base:o[0],s=n[c]||0,f="".concat(c," ").concat(s);n[c]=s+1;var l=u(f),h={css:o[1],media:o[2],sourceMap:o[3]};-1!==l?(a[l].references++,a[l].updater(h)):a.push({identifier:f,updater:y(h,e),references:1}),r.push(f)}return r}function s(t){var e=document.createElement("style"),r=t.attributes||{};if(void 0===r.nonce){var i=n.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(t){e.setAttribute(t,r[t])})),"function"==typeof t.insert)t.insert(e);else{var a=o(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var f,l=(f=[],function(t,e){return f[t]=e,f.filter(Boolean).join("\n")});function h(t,e,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(t.styleSheet)t.styleSheet.cssText=l(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function p(t,e,n){var r=n.css,i=n.media,o=n.sourceMap;if(i?t.setAttribute("media",i):t.removeAttribute("media"),o&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var v=null,d=0;function y(t,e){var n,r,i;if(e.singleton){var o=d++;n=v||(v=s(e)),r=h.bind(null,n,o,!1),i=h.bind(null,n,o,!0)}else n=s(e),r=p.bind(null,n,e),i=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=i());var n=c(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<n.length;r++){var i=u(n[r]);a[i].references--}for(var o=c(t,e),s=0;s<n.length;s++){var f=u(n[s]);0===a[f].references&&(a[f].updater(),a.splice(f,1))}n=o}}}},function(t,e,n){var r=n(10),i=n(11),o=n(4);e=r(!1);var a=i(o);e.push([t.i,"body {\n  color: darkslategrey;\n  background-color: lightblue;\n}\n\n.code {\n  white-space: pre;\n  font-family: monospace;\n}\n\n.editor {\n  background: url("+a+");\n  background-attachment: local;\n  background-repeat: no-repeat;\n  padding-left: 30px;\n  padding-top: 10px;\n  border-color: #ccc;\n  background-color: blanchedalmond;\n  font-size: 14px;\n}\n\n.info {\n  color: darkslategrey;\n  background-color: lightyellow;\n}\n\n.success {\n  color: darkslategrey;\n  background-color: lightgreen;\n}\n\n.error {\n  color: red;\n  background-color: lightpink;\n}\n",""]),t.exports=e},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var i=(a=r,u=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(u),"/*# ".concat(c," */")),o=r.sources.map((function(t){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(t," */")}));return[n].concat(o).concat([i]).join("\n")}var a,u,c;return[n].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(i[a]=!0)}for(var u=0;u<t.length;u++){var c=[].concat(t[u]);r&&i[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),e.push(c))}},e}},function(t,e,n){"use strict";t.exports=function(t,e){return e||(e={}),"string"!=typeof(t=t&&t.__esModule?t.default:t)?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t)}},function(t,e,n){"use strict";n.r(e);var r=n(2),i=n.n(r),o=(n(7),n(4),n(1));const a=Object(o.createToken)({name:"WhiteSpace",pattern:/\s+/,group:o.Lexer.SKIPPED}),u=Object(o.createToken)({name:"Var",pattern:/var/}),c=Object(o.createToken)({name:"Print",pattern:/print/}),s=Object(o.createToken)({name:"Println",pattern:/println/}),f=Object(o.createToken)({name:"Identifier",pattern:/[a-zA-Z]\w*/}),l=Object(o.createToken)({name:"Literal",pattern:/"(:?[^\\"]+|\\(:?[bfnrtv"\\/]|u[0-9a-fA-F]{4}))*"/}),h=Object(o.createToken)({name:"Integer",pattern:/0|[1-9]\d*/}),p=Object(o.createToken)({name:"ParenthesesOpen",pattern:/\(/}),v=Object(o.createToken)({name:"ParenthesesClose",pattern:/\)/}),d=Object(o.createToken)({name:"BlockOpen",pattern:/{/}),y=Object(o.createToken)({name:"BlockClose",pattern:/}/}),m=Object(o.createToken)({name:"Comma",pattern:/,/}),g=Object(o.createToken)({name:"SemiColon",pattern:/;/}),b=Object(o.createToken)({name:"Equals",pattern:/=/}),O=Object(o.createToken)({name:"AdditionOp",pattern:o.Lexer.NA}),T=Object(o.createToken)({name:"MultiplicationOp",pattern:o.Lexer.NA}),E=Object(o.createToken)({name:"Plus",pattern:/\+/,categories:O}),R=Object(o.createToken)({name:"Minus",pattern:/-/,categories:O}),_=Object(o.createToken)({name:"Div",pattern:/\//,categories:T}),N=Object(o.createToken)({name:"Mult",pattern:/\*/,categories:T}),I=[a,u,s,c,f,l,h,p,v,d,y,m,g,b,E,R,_,N,O,T],A=new o.Lexer(I);class L extends o.CstParser{constructor(){super(I);const t=this;t.RULE("program",()=>{t.SUBRULE(t.method)}),t.RULE("method",()=>{t.CONSUME(f),t.CONSUME(p),t.OPTION1(()=>{t.SUBRULE(t.identList)}),t.CONSUME(v),t.CONSUME(d),t.OPTION2(()=>{t.SUBRULE(t.declaration)}),t.MANY(()=>{t.SUBRULE(t.statement)}),t.CONSUME(y)}),t.RULE("identList",()=>{t.MANY_SEP({SEP:m,DEF:()=>{t.CONSUME(f)}})}),t.RULE("declaration",()=>{t.CONSUME(u),t.SUBRULE(t.identList),t.CONSUME(g)}),t.RULE("statement",()=>{t.OR([{ALT:()=>t.SUBRULE(t.assignment)},{ALT:()=>t.SUBRULE(t.printStat)}])}),t.RULE("assignment",()=>{t.SUBRULE(t.variable),t.CONSUME(b),t.SUBRULE(t.expression),t.CONSUME(g)}),t.RULE("expression",()=>{t.OPTION(()=>{t.CONSUME(R)}),t.SUBRULE(t.additionExpression)}),t.RULE("additionExpression",()=>{t.SUBRULE1(t.multiplicationExpression,{LABEL:"lhs"}),t.MANY(()=>{t.CONSUME(O),t.SUBRULE2(t.multiplicationExpression,{LABEL:"rhs"})})}),t.RULE("multiplicationExpression",()=>{t.SUBRULE1(t.factor,{LABEL:"lhs"}),t.MANY(()=>{t.CONSUME(T),t.SUBRULE2(t.factor,{LABEL:"rhs"})})}),t.RULE("factor",()=>{t.OR([{ALT:()=>t.SUBRULE(t.number)},{ALT:()=>t.SUBRULE(t.variable)},{ALT:()=>{t.CONSUME(p),t.SUBRULE(t.expression),t.CONSUME(v)}}])}),t.RULE("variable",()=>{t.CONSUME(f)}),t.RULE("number",()=>{t.CONSUME(h)}),t.RULE("printStat",()=>{t.OR([{ALT:()=>{t.CONSUME(c),t.SUBRULE1(t.itemList),t.CONSUME1(g)}},{ALT:()=>{t.CONSUME(s),t.OPTION(()=>{t.SUBRULE2(t.itemList)}),t.CONSUME2(g)}}])}),t.RULE("itemList",()=>{t.MANY_SEP({SEP:m,DEF:()=>{t.SUBRULE(t.printItem)}})}),t.RULE("printItem",()=>{t.OR([{ALT:()=>t.CONSUME(l)},{ALT:()=>t.SUBRULE(t.expression)}])}),this.performSelfAnalysis()}}const x=new L,S=x.getBaseCstVisitorConstructor();const k=new class extends S{constructor(){super(),this.validateVisitor(),this.reset()}reset(){this.frame={},this.output=""}program(t){this.reset(),this.visit(t.method),console.log(this.output)}method(t){if(this.frame=this.visit(t.identList),t.declaration){const e=this.visit(t.declaration);this.frame=i.a.assign(this.frame,e)}t.statement&&i.a.chain(t.statement).map(t=>{this.visit(t)}).value()}identList(t){return t.Identifier?i.a.chain(t.Identifier).keyBy("image").mapValues(()=>null).value():{}}declaration(t){return this.visit(t.identList)}statement(t){t.printStat?this.visit(t.printStat):t.assignment&&this.visit(t.assignment)}assignment(t){const e=this.visit(t.variable),n=this.visit(t.expression);this.frame[e]=n}expression(t){const e=this.visit(t.additionExpression);return t.Minus?-e:e}additionExpression(t){let e=this.visit(t.lhs);return t.rhs&&t.rhs.forEach((n,r)=>{let i=this.visit(n),a=t.AdditionOp[r];Object(o.tokenMatcher)(a,E)?e+=i:e-=i}),e}multiplicationExpression(t){let e=this.visit(t.lhs);return t.rhs&&t.rhs.forEach((n,r)=>{let i=this.visit(n),a=t.MultiplicationOp[r];Object(o.tokenMatcher)(a,N)?e*=i:e/=i}),e}factor(t){if(t.number)return this.visit(t.number);if(t.variable){const e=this.visit(t.variable);return this.frame[e]}return t.expression?this.visit(t.expression):void 0}variable(t){return t.Identifier[0].image}number(t){return parseInt(t.Integer[0].image,10)}printStat(t){const e=this.visit(t.itemList);t.Print?this.doPrint(e):t.Println&&this.doPrintln(e)}itemList(t){return t.printItem?i.a.chain(t.printItem).map(t=>this.visit(t)).value():[]}printItem(t){return t.Literal?i.a.trim(t.Literal[0].image,'"'):t.expression?this.visit(t.expression):void 0}doPrint(t){this.output+=i.a.join(t,"")}doPrintln(t){this.output+=i.a.join(t,"")+"\n"}};function j(t){const e=document.getElementById("result"),n=document.getElementById("tokens");if(!t){t=document.getElementById("code").innerHTML}const r=function(t){const e=A.tokenize(t);x.input=e.tokens;const n=x.program();return k.visit(n),{value:k.output,tokens:e.tokens,lexErrors:e.errors,errors:x.errors}}(t);r.errors.length>0?(e.classList.remove("success"),e.classList.add("error"),e.innerHTML=i.a.chain(r.errors).map(t=>`Line ${t.token.startLine}: ${t.message}`).join("\n")):(e.classList.remove("error"),e.classList.add("success"),e.innerHTML=r.value,n.innerHTML=i.a.chain(r.tokens).map(t=>`${t.tokenType.name} ${t.image}`).join("\n"))}document.getElementById("code").addEventListener("input",t=>j(t.target.value)),j()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NoZXZyb3RhaW4vbGliX2VzbS9zcmMvdXRpbHMvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NoZXZyb3RhaW4vbGliX2VzbS9zcmMvdmVyc2lvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWJfZXNtL3NyYy9zY2FuL3JlZ19leHBfcGFyc2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYl9lc20vc3JjL3NjYW4vcmVnX2V4cC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWJfZXNtL3NyYy9zY2FuL2xleGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYl9lc20vc3JjL3NjYW4vdG9rZW5zLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYl9lc20vc3JjL3NjYW4vbGV4ZXJfZXJyb3JzX3B1YmxpYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWJfZXNtL3NyYy9zY2FuL2xleGVyX3B1YmxpYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWJfZXNtL3NyYy9zY2FuL3Rva2Vuc19wdWJsaWMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NoZXZyb3RhaW4vbGliX2VzbS9zcmMvcGFyc2UvZ3JhbW1hci9nYXN0L2dhc3RfcHVibGljLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYl9lc20vc3JjL3BhcnNlL2dyYW1tYXIvcmVzdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWJfZXNtL3NyYy9wYXJzZS9ncmFtbWFyL2dhc3QvZ2FzdF92aXNpdG9yX3B1YmxpYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWJfZXNtL3NyYy9wYXJzZS9ncmFtbWFyL2dhc3QvZ2FzdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWJfZXNtL3NyYy9wYXJzZS9ncmFtbWFyL2ZpcnN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYl9lc20vc3JjL3BhcnNlL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWJfZXNtL3NyYy9wYXJzZS9ncmFtbWFyL2ZvbGxvdy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWJfZXNtL3NyYy9wYXJzZS9lcnJvcnNfcHVibGljLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYl9lc20vc3JjL3BhcnNlL2dyYW1tYXIvcmVzb2x2ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NoZXZyb3RhaW4vbGliX2VzbS9zcmMvcGFyc2UvZ3JhbW1hci9pbnRlcnByZXRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWJfZXNtL3NyYy9wYXJzZS9ncmFtbWFyL2xvb2thaGVhZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWJfZXNtL3NyYy9wYXJzZS9ncmFtbWFyL2NoZWNrcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWJfZXNtL3NyYy9wYXJzZS9ncmFtbWFyL2dhc3QvZ2FzdF9yZXNvbHZlcl9wdWJsaWMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NoZXZyb3RhaW4vbGliX2VzbS9zcmMvcGFyc2UvZXhjZXB0aW9uc19wdWJsaWMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NoZXZyb3RhaW4vbGliX2VzbS9zcmMvcGFyc2UvcGFyc2VyL3RyYWl0cy9yZWNvdmVyYWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWJfZXNtL3NyYy9wYXJzZS9ncmFtbWFyL2tleXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NoZXZyb3RhaW4vbGliX2VzbS9zcmMvcGFyc2UvcGFyc2VyL3RyYWl0cy9sb29rc2FoZWFkLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYl9lc20vc3JjL3BhcnNlL2NzdC9jc3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NoZXZyb3RhaW4vbGliX2VzbS9zcmMvbGFuZy9sYW5nX2V4dGVuc2lvbnMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NoZXZyb3RhaW4vbGliX2VzbS9zcmMvcGFyc2UvY3N0L2NzdF92aXNpdG9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYl9lc20vc3JjL3BhcnNlL3BhcnNlci90cmFpdHMvdHJlZV9idWlsZGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYl9lc20vc3JjL3BhcnNlL3BhcnNlci90cmFpdHMvbGV4ZXJfYWRhcHRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWJfZXNtL3NyYy9wYXJzZS9wYXJzZXIvdHJhaXRzL3JlY29nbml6ZXJfYXBpLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYl9lc20vc3JjL3BhcnNlL3BhcnNlci90cmFpdHMvcmVjb2duaXplcl9lbmdpbmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NoZXZyb3RhaW4vbGliX2VzbS9zcmMvcGFyc2UvcGFyc2VyL3RyYWl0cy9lcnJvcl9oYW5kbGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYl9lc20vc3JjL3BhcnNlL3BhcnNlci90cmFpdHMvY29udGV4dF9hc3Npc3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NoZXZyb3RhaW4vbGliX2VzbS9zcmMvcGFyc2UvcGFyc2VyL3RyYWl0cy9nYXN0X3JlY29yZGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYl9lc20vc3JjL3BhcnNlL3BhcnNlci90cmFpdHMvcGVyZl90cmFjZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NoZXZyb3RhaW4vbGliX2VzbS9zcmMvcGFyc2UvcGFyc2VyL3BhcnNlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWJfZXNtL3NyYy9kaWFncmFtcy9yZW5kZXJfcHVibGljLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYl9lc20vc3JjL2dlbmVyYXRlL2dlbmVyYXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jaGV2cm90YWluL2xpYl9lc20vc3JjL2dlbmVyYXRlL2dlbmVyYXRlX3B1YmxpYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY2hldnJvdGFpbi9saWJfZXNtL3NyYy9hcGkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9sb2Rhc2guanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlZ2V4cC10by1hc3QvbGliL3JlZ2V4cC10by1hc3QuanMiLCJ3ZWJwYWNrOi8vLy4vaW1hZ2UvbGluZXMucG5nIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL21vZHVsZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbWFpbi5jc3M/ZGRkMyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21haW4uY3NzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2dldFVybC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbGV4ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BhcnNlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaW50ZXJwcmV0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9tajEuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJpc0VtcHR5IiwiYXJyIiwibGVuZ3RoIiwia2V5cyIsIm9iaiIsInZhbHVlcyIsInZhbHMiLCJwdXNoIiwibWFwVmFsdWVzIiwiY2FsbGJhY2siLCJyZXN1bHQiLCJvYmpLZXlzIiwiaWR4IiwiY3VycktleSIsIm1hcCIsImZsYXR0ZW4iLCJjdXJySXRlbSIsIkFycmF5IiwiaXNBcnJheSIsImNvbmNhdCIsImZpcnN0IiwidW5kZWZpbmVkIiwibGFzdCIsImxlbiIsImZvckVhY2giLCJjb2xsZWN0aW9uIiwiaXRlcmF0b3JDYWxsYmFjayIsImlzT2JqZWN0IiwiRXJyb3IiLCJjb2xLZXlzIiwiaXNTdHJpbmciLCJpdGVtIiwiaXNVbmRlZmluZWQiLCJpc0Z1bmN0aW9uIiwiRnVuY3Rpb24iLCJkcm9wIiwiaG93TXVjaCIsInNsaWNlIiwiZHJvcFJpZ2h0IiwiZmlsdGVyIiwicHJlZGljYXRlIiwicmVqZWN0IiwicGljayIsImhhcyIsInByb3AiLCJjb250YWlucyIsImZpbmQiLCJjbG9uZUFyciIsIm5ld0FyciIsImNsb25lT2JqIiwiY2xvbmVkT2JqIiwiZmluZEFsbCIsImZvdW5kIiwicmVkdWNlIiwiYXJyT3JPYmoiLCJpdGVyYXRvciIsImluaXRpYWwiLCJpc0FyciIsImFjY3VtdWxhdG9yIiwiY29tcGFjdCIsInVuaXEiLCJpZGVudGl0eSIsImlkZW50aXRpZXMiLCJjdXJySWRlbnRpdHkiLCJwYXJ0aWFsIiwiZnVuYyIsInJlc3RBcmdzIiwiX2kiLCJhcmd1bWVudHMiLCJmaXJzdEFyZyIsImFsbEFyZ3MiLCJhcHBseSIsImlzUmVnRXhwIiwiUmVnRXhwIiwiZXZlcnkiLCJkaWZmZXJlbmNlIiwic29tZSIsImluZGV4T2YiLCJzb3J0QnkiLCJvcmRlckZ1bmMiLCJzb3J0IiwiYSIsImIiLCJ6aXBPYmplY3QiLCJhc3NpZ24iLCJ0YXJnZXQiLCJzb3VyY2VzIiwiY3VyU291cmNlIiwiY3VyclNvdXJjZUtleXMiLCJqIiwiYXNzaWduTm9PdmVyd3JpdGUiLCJkZWZhdWx0cyIsImdyb3VwQnkiLCJncm91cEtleUZ1bmMiLCJjdXJyR3JvdXBLZXkiLCJjdXJyR3JvdXBBcnIiLCJtZXJnZSIsIm9iajEiLCJvYmoyIiwia2V5czIiLCJOT09QIiwiSURFTlRJVFkiLCJwYWNrQXJyYXkiLCJob2xleUFyciIsIm9yZ1ZhbHVlIiwiUFJJTlRfRVJST1IiLCJtc2ciLCJjb25zb2xlIiwiZXJyb3IiLCJQUklOVF9XQVJOSU5HIiwid2FybiIsImlzRVMyMDE1TWFwU3VwcG9ydGVkIiwiTWFwIiwiYXBwbHlNaXhpbnMiLCJkZXJpdmVkQ3RvciIsImJhc2VDdG9ycyIsImJhc2VDdG9yIiwiYmFzZVByb3RvIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsInByb3BOYW1lIiwiYmFzZVByb3BEZXNjcmlwdG9yIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwic2V0IiwidG9GYXN0UHJvcGVydGllcyIsInRvQmVjb21lRmFzdCIsIkZha2VDb25zdHJ1Y3RvciIsImZha2VJbnN0YW5jZSIsImZha2VBY2Nlc3MiLCJiYXIiLCJwZWVrIiwidGltZXIiLCJzdGFydCIsIkRhdGUiLCJnZXRUaW1lIiwidmFsIiwidGltZSIsIlZFUlNJT04iLCJyZWdFeHBBc3RDYWNoZSIsInJlZ0V4cFBhcnNlciIsImdldFJlZ0V4cEFzdCIsInJlZ0V4cCIsInJlZ0V4cFN0ciIsInRvU3RyaW5nIiwicmVnRXhwQXN0IiwicGF0dGVybiIsImV4dGVuZFN0YXRpY3MiLCJfX2V4dGVuZHMiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsIl9fIiwidGhpcyIsImNvbnN0cnVjdG9yIiwiZmFpbGVkT3B0aW1pemF0aW9uUHJlZml4TXNnIiwiZ2V0T3B0aW1pemVkU3RhcnRDb2Rlc0luZGljZXMiLCJlbnN1cmVPcHRpbWl6YXRpb25zIiwiYXN0IiwiZmlyc3RDaGFyT3B0aW1pemVkSW5kaWNlcyIsImlnbm9yZUNhc2UiLCJ0eXBlIiwidGVybXMiLCJ0ZXJtIiwiYXRvbSIsImFkZE9wdGltaXplZElkeFRvUmVzdWx0IiwiY29tcGxlbWVudCIsImNvZGUiLCJyYW5nZSIsInJhbmdlQ29kZSIsImZyb20iLCJ0byIsIm1pbk9wdGltaXphdGlvblZhbCIsIm1pblVuT3B0VmFsIiwibWF4VW5PcHRWYWwiLCJtaW5PcHRJZHgiLCJjaGFyQ29kZVRvT3B0aW1pemVkSW5kZXgiLCJtYXhPcHRJZHgiLCJjdXJyT3B0SWR4IiwiaXNPcHRpb25hbFF1YW50aWZpZXIiLCJxdWFudGlmaWVyIiwiYXRMZWFzdCIsImlzV2hvbGVPcHRpb25hbCIsImZsYWdzIiwiZSIsIm1lc3NhZ2UiLCJtc2dTdWZmaXgiLCJvcHRpbWl6ZWRDaGFySWR4IiwiY2hhciIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsInVwcGVyQ2hhciIsInRvVXBwZXJDYXNlIiwiY2hhckNvZGVBdCIsImxvd2VyQ2hhciIsInRvTG93ZXJDYXNlIiwiaGFuZGxlSWdub3JlQ2FzZSIsImZpbmRDb2RlIiwic2V0Tm9kZSIsInRhcmdldENoYXJDb2RlcyIsImNvZGVPclJhbmdlIiwicmFuZ2VfMSIsInRhcmdldENvZGUiLCJfc3VwZXIiLCJDaGFyQ29kZUZpbmRlciIsIl90aGlzIiwidmlzaXRDaGlsZHJlbiIsIm5vZGUiLCJ2aXNpdExvb2thaGVhZCIsInZpc2l0TmVnYXRpdmVMb29rYWhlYWQiLCJ2aXNpdENoYXJhY3RlciIsInZpc2l0U2V0IiwiY2FuTWF0Y2hDaGFyQ29kZSIsImNoYXJDb2RlcyIsImNoYXJDb2RlRmluZGVyIiwidmlzaXQiLCJQQVRURVJOIiwiU1VQUE9SVF9TVElDS1kiLCJzdGlja3kiLCJhbmFseXplVG9rZW5UeXBlcyIsInRva2VuVHlwZXMiLCJvcHRpb25zIiwib25seVJlbGV2YW50VHlwZXMiLCJ0cmFjZXIiLCJ1c2VTdGlja3kiLCJkZWJ1ZyIsInNhZmVNb2RlIiwicG9zaXRpb25UcmFja2luZyIsImxpbmVUZXJtaW5hdG9yQ2hhcmFjdGVycyIsImFjdGlvbiIsImNoYXJDb2RlVG9PcHRpbWl6ZWRJZHhNYXAiLCJpbml0Q2hhckNvZGVUb09wdGltaXplZEluZGV4TWFwIiwiY3VyclR5cGUiLCJOQSIsImFsbFRyYW5zZm9ybWVkUGF0dGVybnMiLCJwYXR0ZXJuSWR4VG9UeXBlIiwicGF0dGVybklkeFRvR3JvdXAiLCJwYXR0ZXJuSWR4VG9Mb25nZXJBbHRJZHgiLCJwYXR0ZXJuSWR4VG9QdXNoTW9kZSIsInBhdHRlcm5JZHhUb1BvcE1vZGUiLCJwYXR0ZXJuSWR4VG9DYW5MaW5lVGVybWluYXRvciIsInBhdHRlcm5JZHhUb0lzQ3VzdG9tIiwicGF0dGVybklkeFRvU2hvcnQiLCJlbXB0eUdyb3VwcyIsInBhdHRlcm5JZHhUb0NvbmZpZyIsImhhc0N1c3RvbSIsImN1cnJQYXR0ZXJuIiwicmVnRXhwU291cmNlIiwic291cmNlIiwiYWRkU3RpY2t5RmxhZyIsImFkZFN0YXJ0T2ZJbnB1dCIsImV4ZWMiLCJlc2NhcGVkUmVnRXhwU3RyaW5nIiwicmVwbGFjZSIsIndyYXBwZWRSZWdFeHAiLCJ0b2tlblR5cGVJZHgiLCJjbGF6eiIsImdyb3VwTmFtZSIsIkdST1VQIiwiU0tJUFBFRCIsImxvbmdlckFsdFR5cGUiLCJMT05HRVJfQUxUIiwiUFVTSF9NT0RFIiwibGluZVRlcm1pbmF0b3JDaGFyQ29kZXMiLCJnZXRDaGFyQ29kZXMiLCJ0b2tUeXBlIiwiTElORV9CUkVBS1MiLCJjaGVja0xpbmVCcmVha3NJc3N1ZXMiLCJpc0N1c3RvbVBhdHRlcm4iLCJpc1Nob3J0UGF0dGVybiIsImFjYyIsIngiLCJsb25nZXJBbHQiLCJjYW5MaW5lVGVybWluYXRvciIsImlzQ3VzdG9tIiwic2hvcnQiLCJncm91cCIsInBvcCIsInRva2VuVHlwZSIsImNhbkJlT3B0aW1pemVkIiwiY2hhckNvZGVUb1BhdHRlcm5JZHhUb0NvbmZpZyIsImN1cnJUb2tUeXBlIiwib3B0aW1pemVkSWR4IiwiYWRkVG9NYXBPZkFycmF5cyIsIlNUQVJUX0NIQVJTX0hJTlQiLCJsYXN0T3B0aW1pemVkSWR4XzEiLCJjaGFyT3JJbnQiLCJjdXJyT3B0aW1pemVkSWR4IiwidW5pY29kZSIsIm9wdGltaXplZENvZGVzIiwidmFsaWRhdGVQYXR0ZXJucyIsInZhbGlkTW9kZXNOYW1lcyIsImVycm9ycyIsIm1pc3NpbmdSZXN1bHQiLCJ0b2tlblR5cGVzV2l0aE1pc3NpbmdQYXR0ZXJuIiwiTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlIiwiTUlTU0lOR19QQVRURVJOIiwidmFsaWQiLCJmaW5kTWlzc2luZ1BhdHRlcm5zIiwiaW52YWxpZFJlc3VsdCIsInRva2VuVHlwZXNXaXRoSW52YWxpZFBhdHRlcm4iLCJJTlZBTElEX1BBVFRFUk4iLCJmaW5kSW52YWxpZFBhdHRlcm5zIiwidmFsaWRUb2tlblR5cGVzIiwid2l0aFJlZ0V4cFBhdHRlcm5zIiwiRW5kQW5jaG9yRmluZGVyIiwidmlzaXRFbmRBbmNob3IiLCJpbnZhbGlkUmVnZXgiLCJyZWdleHBBc3QiLCJlbmRBbmNob3JWaXNpdG9yIiwiZW5kX29mX2lucHV0IiwidGVzdCIsIkVPSV9BTkNIT1JfRk9VTkQiLCJmaW5kRW5kT2ZJbnB1dEFuY2hvciIsIlN0YXJ0QW5jaG9yRmluZGVyIiwidmlzaXRTdGFydEFuY2hvciIsInN0YXJ0QW5jaG9yVmlzaXRvciIsInN0YXJ0X29mX2lucHV0IiwiU09JX0FOQ0hPUl9GT1VORCIsImZpbmRTdGFydE9mSW5wdXRBbmNob3IiLCJpbnZhbGlkRmxhZ3MiLCJtdWx0aWxpbmUiLCJnbG9iYWwiLCJVTlNVUFBPUlRFRF9GTEFHU19GT1VORCIsImZpbmRVbnN1cHBvcnRlZEZsYWdzIiwiaWRlbnRpY2FsUGF0dGVybnMiLCJvdXRlclR5cGUiLCJpbm5lclR5cGUiLCJkdXBsaWNhdGVQYXR0ZXJucyIsImN1cnJJZGVudGljYWxTZXQiLCJzZXRPZklkZW50aWNhbCIsInRva2VuVHlwZU5hbWVzIiwiam9pbiIsIkRVUExJQ0FURV9QQVRURVJOU19GT1VORCIsImZpbmREdXBsaWNhdGVQYXR0ZXJucyIsIm1hdGNoZXNFbXB0eVN0cmluZyIsIkVNUFRZX01BVENIX1BBVFRFUk4iLCJmaW5kRW1wdHlNYXRjaFJlZ0V4cHMiLCJ2YWxpZGF0ZVJlZ0V4cFBhdHRlcm4iLCJpbnZhbGlkVHlwZXMiLCJJTlZBTElEX0dST1VQX1RZUEVfRk9VTkQiLCJmaW5kSW52YWxpZEdyb3VwVHlwZSIsInZhbGlkTW9kZXMiLCJpbnZhbGlkTW9kZXMiLCJQVVNIX01PREVfRE9FU19OT1RfRVhJU1QiLCJmaW5kTW9kZXNUaGF0RG9Ob3RFeGlzdCIsImNhbkJlVGVzdGVkIiwic3RyIiwidGVzdElkeCIsIl9hIiwicmVnRXhwQXJyYXkiLCJpbmRleCIsInRlc3RUb2tlblR5cGUiLCJVTlJFQUNIQUJMRV9QQVRURVJOIiwiZmluZFVucmVhY2hhYmxlUGF0dGVybnMiLCJwZXJmb3JtV2FybmluZ1J1bnRpbWVDaGVja3MiLCJsZXhlckRlZmluaXRpb24iLCJ0cmFja0xpbmVzIiwid2FybmluZ3MiLCJoYXNBbnlMaW5lQnJlYWsiLCJhbGxUb2tlblR5cGVzIiwibW9kZXMiLCJ0b2tUeXBlcyIsImNvbmNyZXRlVG9rZW5UeXBlcyIsInRlcm1pbmF0b3JDaGFyQ29kZXMiLCJjdXJySXNzdWUiLCJ3YXJuaW5nRGVzY3JpcHRvciIsImRldGFpbHMiLCJpc3N1ZSIsIklERU5USUZZX1RFUk1JTkFUT1IiLCJlcnJNc2ciLCJDVVNUT01fTElORV9CUkVBSyIsImJ1aWxkTGluZUJyZWFrSXNzdWVNZXNzYWdlIiwiTk9fTElORV9CUkVBS1NfRkxBR1MiLCJMaW5lVGVybWluYXRvck9wdGltaXplZFRlc3RlciIsInRleHQiLCJsYXN0SW5kZXgiLCJjaGFyc09yQ29kZXMiLCJudW1PclN0cmluZyIsImNoYXJDb2RlIiwidG9rZW5TdHJ1Y3R1cmVkTWF0Y2hlciIsInRva0luc3RhbmNlIiwidG9rQ29uc3RydWN0b3IiLCJpbnN0YW5jZVR5cGUiLCJpc1BhcmVudCIsImNhdGVnb3J5TWF0Y2hlc01hcCIsInRva2VuU3RydWN0dXJlZE1hdGNoZXJOb0NhdGVnb3JpZXMiLCJ0b2tlbiIsInRva2VuU2hvcnROYW1lSWR4IiwidG9rZW5JZHhUb0NsYXNzIiwiYXVnbWVudFRva2VuVHlwZXMiLCJ0b2tlblR5cGVzQW5kUGFyZW50cyIsImNhdGVnb3JpZXMiLCJzZWFyY2hpbmciLCJDQVRFR09SSUVTIiwibmV3Q2F0ZWdvcmllcyIsImV4cGFuZENhdGVnb3JpZXMiLCJoYXNTaG9ydEtleVByb3BlcnR5IiwiaGFzQ2F0ZWdvcmllc1Byb3BlcnR5IiwiY2F0ZWdvcnlNYXRjaGVzIiwiaGFzRXh0ZW5kaW5nVG9rZW5zVHlwZXNNYXBQcm9wZXJ0eSIsImFzc2lnblRva2VuRGVmYXVsdFByb3BzIiwic2luZ2xlQXNzaWduQ2F0ZWdvcmllc1Rva3NNYXAiLCJwYXRoIiwibmV4dE5vZGUiLCJwYXRoTm9kZSIsIm5leHRDYXRlZ29yeSIsIm5ld1BhdGgiLCJhc3NpZ25DYXRlZ29yaWVzTWFwUHJvcCIsImFzc2lnbkNhdGVnb3JpZXNUb2tlbnNQcm9wIiwiaXNUb2tlblR5cGUiLCJkZWZhdWx0TGV4ZXJFcnJvclByb3ZpZGVyIiwiYnVpbGRVbmFibGVUb1BvcExleGVyTW9kZU1lc3NhZ2UiLCJpbWFnZSIsImJ1aWxkVW5leHBlY3RlZENoYXJhY3RlcnNNZXNzYWdlIiwiZnVsbFRleHQiLCJzdGFydE9mZnNldCIsImxpbmUiLCJjb2x1bW4iLCJjaGFyQXQiLCJERUZBVUxUX0xFWEVSX0NPTkZJRyIsImRlZmVyRGVmaW5pdGlvbkVycm9yc0hhbmRsaW5nIiwibGluZVRlcm1pbmF0b3JzUGF0dGVybiIsImVycm9yTWVzc2FnZVByb3ZpZGVyIiwidHJhY2VJbml0UGVyZiIsInNraXBWYWxpZGF0aW9ucyIsImZyZWV6ZSIsIkxleGVyIiwiY29uZmlnIiwibGV4ZXJEZWZpbml0aW9uRXJyb3JzIiwibGV4ZXJEZWZpbml0aW9uV2FybmluZyIsInRyYWNrU3RhcnRMaW5lcyIsInRyYWNrRW5kTGluZXMiLCJjYW5Nb2RlQmVPcHRpbWl6ZWQiLCJ0cmFjZUluaXRWYWwiLCJ0cmFjZUluaXRNYXhJZGVudCIsIkluZmluaXR5IiwidHJhY2VJbml0SW5kZW50IiwiVFJBQ0VfSU5JVCIsImFjdHVhbERlZmluaXRpb24iLCJoYXNPbmx5U2luZ2xlTW9kZSIsIk1VTFRJX01PREVfTEVYRVJfV0lUSE9VVF9ERUZBVUxUX01PREUiLCJNVUxUSV9NT0RFX0xFWEVSX1dJVEhPVVRfTU9ERVNfUFJPUEVSVFkiLCJkZWZhdWx0TW9kZSIsIk1VTFRJX01PREVfTEVYRVJfREVGQVVMVF9NT0RFX1ZBTFVFX0RPRVNfTk9UX0VYSVNUIiwiY3Vyck1vZGVWYWx1ZSIsImN1cnJNb2RlTmFtZSIsImN1cnJJZHgiLCJMRVhFUl9ERUZJTklUSU9OX0NBTk5PVF9DT05UQUlOX1VOREVGSU5FRCIsInBlcmZvcm1SdW50aW1lQ2hlY2tzIiwiYWxsTW9kZU5hbWVzIiwiY3Vyck1vZERlZiIsImN1cnJNb2ROYW1lIiwiY3VyckFuYWx5emVSZXN1bHRfMSIsImFsbEVyck1lc3NhZ2VzU3RyaW5nIiwiY2hvcElucHV0IiwibWF0Y2giLCJtYXRjaFdpdGhUZXN0IiwidXBkYXRlTGFzdEluZGV4IiwibWF0Y2hXaXRoRXhlYyIsImhhbmRsZU1vZGVzIiwiY29tcHV0ZU5ld0NvbHVtbiIsInVwZGF0ZVRva2VuRW5kTGluZUNvbHVtbkxvY2F0aW9uIiwiY3JlYXRlVG9rZW5JbnN0YW5jZSIsImNyZWF0ZUZ1bGxUb2tlbiIsImNyZWF0ZVN0YXJ0T25seVRva2VuIiwiY3JlYXRlT2Zmc2V0T25seVRva2VuIiwiYWRkVG9rZW4iLCJhZGRUb2tlblVzaW5nUHVzaCIsImhhbmRsZVBheWxvYWQiLCJoYW5kbGVQYXlsb2FkV2l0aEN1c3RvbSIsImFkZFRva2VuVXNpbmdNZW1iZXJBY2Nlc3MiLCJoYW5kbGVQYXlsb2FkTm9DdXN0b20iLCJ1bk9wdGltaXplZE1vZGVzIiwiY2Fubm90QmVPcHRpbWl6ZWQiLCJtb2RlTmFtZSIsInRva2VuaXplIiwiaW5pdGlhbE1vZGUiLCJ0b2tlbml6ZUludGVybmFsIiwibWF0Y2hBbHRJbWFnZSIsImxvbmdlckFsdElkeCIsIm1hdGNoZWRJbWFnZSIsInBheWxvYWQiLCJhbHRQYXlsb2FkIiwiaW1hZ2VMZW5ndGgiLCJuZXdUb2tlbiIsImVyckxlbmd0aCIsImNsb25lZFJlc3VsdCIsImdyb3VwS2V5cyIsIm9yZ1RleHQiLCJvcmdMZW5ndGgiLCJvZmZzZXQiLCJtYXRjaGVkVG9rZW5zSW5kZXgiLCJndWVzc2VkTnVtYmVyT2ZUb2tlbnMiLCJNYXRoIiwiZmxvb3IiLCJtYXRjaGVkVG9rZW5zIiwiZ3JvdXBzIiwiY3Vyckdyb3VwVmFsdWUiLCJsaW5lVGVybWluYXRvclBhdHRlcm4iLCJjdXJyTW9kZVBhdHRlcm5zTGVuZ3RoIiwiY3VyckNoYXJDb2RlVG9QYXR0ZXJuSWR4VG9Db25maWciLCJtb2RlU3RhY2siLCJlbXB0eUFycmF5IiwiZ2V0UG9zc2libGVQYXR0ZXJucyIsImdldFBvc3NpYmxlUGF0dGVybnNTbG93IiwiZ2V0UG9zc2libGVQYXR0ZXJuc09wdGltaXplZCIsInBvc3NpYmxlUGF0dGVybnMiLCJjdXJyQ29uZmlnIiwicG9wX21vZGUiLCJwb3BUb2tlbiIsIm1zZ18xIiwic3RhcnRMaW5lIiwic3RhcnRDb2x1bW4iLCJuZXdNb2RlIiwibW9kZUNhbkJlT3B0aW1pemVkIiwicHVzaF9tb2RlIiwibmV4dENoYXJDb2RlIiwiY2hvc2VuUGF0dGVybklkeFRvQ29uZmlnIiwiY2hvc2VuUGF0dGVybnNMZW5ndGgiLCJzaW5nbGVDaGFyQ29kZSIsImxvbmdlckFsdENvbmZpZyIsImxvbmdlckFsdFBhdHRlcm4iLCJudW1PZkxUc0luTWF0Y2giLCJmb3VuZFRlcm1pbmF0b3IiLCJsYXN0TFRFbmRPZmZzZXQiLCJlcnJvclN0YXJ0T2Zmc2V0IiwiZXJyb3JMaW5lIiwiZXJyb3JDb2x1bW4iLCJmb3VuZFJlc3luY1BvaW50IiwiY3VyckNvbmZpZ18xIiwidG9rZW5zIiwicHVzaE1vZGUiLCJzdWJzdHJpbmciLCJuZXdMYXN0SW5kZXgiLCJsYXN0TFRJZHgiLCJsYXN0Q2hhcklzTFQiLCJmaXhGb3JFbmRpbmdJbkxUIiwiZW5kTGluZSIsImVuZENvbHVtbiIsIm9sZENvbHVtbiIsImFyZ3MiLCJlbmRPZmZzZXQiLCJ0b2tlblZlY3RvciIsInRva2VuVG9BZGQiLCJwaGFzZURlc2MiLCJwaGFzZUltcGwiLCJpbmRlbnQiLCJsb2ciLCJ0cmFjZU1ldGhvZCIsInRva2VuTGFiZWwiLCJoYXNUb2tlbkxhYmVsIiwiTEFCRUwiLCJ0b2tlbk5hbWUiLCJjcmVhdGVUb2tlbiIsIlBPUF9NT0RFIiwiY3JlYXRlVG9rZW5JbnRlcm5hbCIsIkVPRiIsIkFic3RyYWN0UHJvZHVjdGlvbiIsImRlZmluaXRpb24iLCJhY2NlcHQiLCJ2aXNpdG9yIiwicHJvZCIsIk5vblRlcm1pbmFsIiwidiIsInJlZmVyZW5jZWRSdWxlIiwiY29uZmlndXJhYmxlIiwiUnVsZSIsIkFsdGVybmF0aXZlIiwiaWdub3JlQW1iaWd1aXRpZXMiLCJPcHRpb24iLCJSZXBldGl0aW9uTWFuZGF0b3J5IiwiUmVwZXRpdGlvbk1hbmRhdG9yeVdpdGhTZXBhcmF0b3IiLCJSZXBldGl0aW9uIiwiUmVwZXRpdGlvbldpdGhTZXBhcmF0b3IiLCJBbHRlcm5hdGlvbiIsImhhc1ByZWRpY2F0ZXMiLCJUZXJtaW5hbCIsInNlcmlhbGl6ZUdyYW1tYXIiLCJ0b3BSdWxlcyIsInNlcmlhbGl6ZVByb2R1Y3Rpb24iLCJjb252ZXJ0RGVmaW5pdGlvbiIsIm5vblRlcm1pbmFsTmFtZSIsInNlcGFyYXRvciIsInRlcm1pbmFsVHlwZSIsInNlcmlhbGl6ZWRUZXJtaW5hbCIsImxhYmVsIiwiUmVzdFdhbGtlciIsIndhbGsiLCJwcmV2UmVzdCIsInN1YlByb2QiLCJjdXJyUmVzdCIsIndhbGtQcm9kUmVmIiwid2Fsa1Rlcm1pbmFsIiwid2Fsa0ZsYXQiLCJ3YWxrT3B0aW9uIiwid2Fsa0F0TGVhc3RPbmUiLCJ3YWxrQXRMZWFzdE9uZVNlcCIsIndhbGtNYW55U2VwIiwid2Fsa01hbnkiLCJ3YWxrT3IiLCJ0ZXJtaW5hbCIsInJlZlByb2QiLCJmbGF0UHJvZCIsImZ1bGxPclJlc3QiLCJvcHRpb25Qcm9kIiwiYXRMZWFzdE9uZVByb2QiLCJmdWxsQXRMZWFzdE9uZVJlc3QiLCJhdExlYXN0T25lU2VwUHJvZCIsImZ1bGxBdExlYXN0T25lU2VwUmVzdCIsInJlc3RGb3JSZXBldGl0aW9uV2l0aFNlcGFyYXRvciIsIm1hbnlQcm9kIiwiZnVsbE1hbnlSZXN0IiwibWFueVNlcFByb2QiLCJmdWxsTWFueVNlcFJlc3QiLCJvclByb2QiLCJhbHQiLCJwcm9kV3JhcHBlciIsInJlcFNlcFByb2QiLCJHQXN0VmlzaXRvciIsIm5vZGVBbnkiLCJ2aXNpdE5vblRlcm1pbmFsIiwidmlzaXRBbHRlcm5hdGl2ZSIsInZpc2l0T3B0aW9uIiwidmlzaXRSZXBldGl0aW9uTWFuZGF0b3J5IiwidmlzaXRSZXBldGl0aW9uTWFuZGF0b3J5V2l0aFNlcGFyYXRvciIsInZpc2l0UmVwZXRpdGlvbldpdGhTZXBhcmF0b3IiLCJ2aXNpdFJlcGV0aXRpb24iLCJ2aXNpdEFsdGVybmF0aW9uIiwidmlzaXRUZXJtaW5hbCIsInZpc2l0UnVsZSIsImlzT3B0aW9uYWxQcm9kIiwiYWxyZWFkeVZpc2l0ZWQiLCJnZXRQcm9kdWN0aW9uRHNsTmFtZSIsIkRzbE1ldGhvZHNDb2xsZWN0b3JWaXNpdG9yIiwiZHNsTWV0aG9kcyIsIm9wdGlvbiIsImFsdGVybmF0aW9uIiwicmVwZXRpdGlvbiIsInJlcGV0aXRpb25XaXRoU2VwYXJhdG9yIiwicmVwZXRpdGlvbk1hbmRhdG9yeSIsInJlcGV0aXRpb25NYW5kYXRvcnlXaXRoU2VwYXJhdG9yIiwicmVzZXQiLCJzdWJydWxlIiwibWFueVNlcCIsImF0TGVhc3RPbmUiLCJhdExlYXN0T25lU2VwIiwibWFueSIsIm9yIiwiaXNTZXF1ZW5jZVByb2QiLCJjdXJyU3ViUHJvZCIsImZpcnN0U2V0Iiwic2VxIiwibmV4dFN1YlByb2RJZHgiLCJoYXNJbm5lclByb2RzUmVtYWluaW5nIiwiaXNMYXN0SW5uZXJQcm9kT3B0aW9uYWwiLCJmaXJzdEZvclNlcXVlbmNlIiwiaXNCcmFuY2hpbmdQcm9kIiwiYWxsQWx0ZXJuYXRpdmVzRmlyc3RzIiwiaW5uZXJQcm9kIiwiZmlyc3RGb3JCcmFuY2hpbmciLCJJTiIsIlJlc3luY0ZvbGxvd3NXYWxrZXIiLCJ0b3BQcm9kIiwiZm9sbG93cyIsInN0YXJ0V2Fsa2luZyIsImlubmVyIiwib2NjdXJlbmNlSW5QYXJlbnQiLCJmb2xsb3dOYW1lIiwiZnVsbFJlc3QiLCJ0X2luX3RvcFByb2RfZm9sbG93cyIsImRlZmF1bHRQYXJzZXJFcnJvclByb3ZpZGVyIiwiYnVpbGRNaXNtYXRjaFRva2VuTWVzc2FnZSIsImV4cGVjdGVkIiwiYWN0dWFsIiwicHJldmlvdXMiLCJydWxlTmFtZSIsImJ1aWxkTm90QWxsSW5wdXRQYXJzZWRNZXNzYWdlIiwiZmlyc3RSZWR1bmRhbnQiLCJidWlsZE5vVmlhYmxlQWx0TWVzc2FnZSIsImV4cGVjdGVkUGF0aHNQZXJBbHQiLCJjdXN0b21Vc2VyRGVzY3JpcHRpb24iLCJlcnJTdWZmaXgiLCJhbGxMb29rQWhlYWRQYXRocyIsImN1cnJBbHRQYXRocyIsIm5leHRWYWxpZFRva2VuU2VxdWVuY2VzIiwiY3VyclBhdGgiLCJjdXJyVG9rZW5UeXBlIiwiaXRlbU1zZyIsImJ1aWxkRWFybHlFeGl0TWVzc2FnZSIsImV4cGVjdGVkSXRlcmF0aW9uUGF0aHMiLCJkZWZhdWx0R3JhbW1hclJlc29sdmVyRXJyb3JQcm92aWRlciIsImJ1aWxkUnVsZU5vdEZvdW5kRXJyb3IiLCJ0b3BMZXZlbFJ1bGUiLCJ1bmRlZmluZWRSdWxlIiwiZGVmYXVsdEdyYW1tYXJWYWxpZGF0b3JFcnJvclByb3ZpZGVyIiwiYnVpbGREdXBsaWNhdGVGb3VuZEVycm9yIiwiZHVwbGljYXRlUHJvZHMiLCJ0b3BMZXZlbE5hbWUiLCJkdXBsaWNhdGVQcm9kIiwiZHNsTmFtZSIsImV4dHJhQXJndW1lbnQiLCJidWlsZE5hbWVzcGFjZUNvbmZsaWN0RXJyb3IiLCJydWxlIiwiYnVpbGRBbHRlcm5hdGlvblByZWZpeEFtYmlndWl0eUVycm9yIiwicGF0aE1zZyIsInByZWZpeFBhdGgiLCJjdXJyVG9rIiwib2NjdXJyZW5jZSIsImFtYmlndWl0eUluZGljZXMiLCJidWlsZEFsdGVybmF0aW9uQW1iaWd1aXR5RXJyb3IiLCJjdXJydG9rIiwiY3Vyck1lc3NhZ2UiLCJidWlsZEVtcHR5UmVwZXRpdGlvbkVycm9yIiwiYnVpbGRUb2tlbk5hbWVFcnJvciIsImV4cGVjdGVkUGF0dGVybiIsImJ1aWxkRW1wdHlBbHRlcm5hdGlvbkVycm9yIiwiZW1wdHlDaG9pY2VJZHgiLCJidWlsZFRvb01hbnlBbHRlcm5hdGl2ZXNFcnJvciIsImJ1aWxkTGVmdFJlY3Vyc2lvbkVycm9yIiwidXRpbHMiLCJsZWZ0UmVjdXJzaW9uUGF0aCIsImN1cnJSdWxlIiwiYnVpbGRJbnZhbGlkUnVsZU5hbWVFcnJvciIsImJ1aWxkRHVwbGljYXRlUnVsZU5hbWVFcnJvciIsImdyYW1tYXJOYW1lIiwiR2FzdFJlZlJlc29sdmVyVmlzaXRvciIsIm5hbWVUb1RvcFJ1bGUiLCJlcnJNc2dQcm92aWRlciIsInJlc29sdmVSZWZzIiwiY3VyclRvcExldmVsIiwicmVmIiwiUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZSIsIlVOUkVTT0xWRURfU1VCUlVMRV9SRUYiLCJ1bnJlc29sdmVkUmVmTmFtZSIsIk5leHRBZnRlclRva2VuV2Fsa2VyIiwibmV4dFRlcm1pbmFsTmFtZSIsIm5leHRUZXJtaW5hbE9jY3VycmVuY2UiLCJsYXN0VG9rIiwibGFzdFRva09jY3VycmVuY2UiLCJpc0F0RW5kT2ZQYXRoIiwicmVzdFByb2QiLCJwb3NzaWJsZVRva1R5cGVzIiwiQWJzdHJhY3ROZXh0UG9zc2libGVUb2tlbnNXYWxrZXIiLCJuZXh0UHJvZHVjdGlvbk5hbWUiLCJuZXh0UHJvZHVjdGlvbk9jY3VycmVuY2UiLCJydWxlU3RhY2siLCJyZXZlcnNlIiwib2NjdXJyZW5jZVN0YWNrIiwidXBkYXRlRXhwZWN0ZWROZXh0IiwiQWJzdHJhY3ROZXh0VGVybWluYWxBZnRlclByb2R1Y3Rpb25XYWxrZXIiLCJ0b3BSdWxlIiwiaXNFbmRPZlJ1bGUiLCJOZXh0VGVybWluYWxBZnRlck1hbnlXYWxrZXIiLCJmaXJzdEFmdGVyTWFueSIsIk5leHRUZXJtaW5hbEFmdGVyTWFueVNlcFdhbGtlciIsImZpcnN0QWZ0ZXJNYW55U2VwIiwiTmV4dFRlcm1pbmFsQWZ0ZXJBdExlYXN0T25lV2Fsa2VyIiwiZmlyc3RBZnRlckF0TGVhc3RPbmUiLCJOZXh0VGVybWluYWxBZnRlckF0TGVhc3RPbmVTZXBXYWxrZXIiLCJhdGxlYXN0T25lU2VwUHJvZCIsImZpcnN0QWZ0ZXJmaXJzdEFmdGVyQXRMZWFzdE9uZVNlcCIsInBvc3NpYmxlUGF0aHNGcm9tIiwidGFyZ2V0RGVmIiwibWF4TGVuZ3RoIiwiZ2V0QWx0ZXJuYXRpdmVzRm9yUHJvZCIsImFsdGVybmF0aXZlcyIsIm5ld0RlZiIsImN1cnJBbHQiLCJwYXJ0aWFsUGF0aCIsInN1ZmZpeERlZiIsIm5leHRQb3NzaWJsZVRva2Vuc0FmdGVyIiwiaW5pdGlhbERlZiIsInRva01hdGNoZXIiLCJtYXhMb29rQWhlYWQiLCJFWElUX05PTl9URVJNSU5BTF9BUlIiLCJmb3VuZENvbXBsZXRlUGF0aCIsInRva2VuVmVjdG9yTGVuZ3RoIiwibWluaW1hbEFsdGVybmF0aXZlc0luZGV4IiwicG9zc2libGVQYXRocyIsImRlZiIsImN1cnJEZWYiLCJjdXJyUnVsZVN0YWNrIiwiY3Vyck9jY3VycmVuY2VTdGFjayIsIm5leHRQYXRoIiwibmV4dElkeCIsIm5leHRUb2tlblR5cGUiLCJuZXh0VG9rZW5PY2N1cnJlbmNlIiwibmV3UnVsZVN0YWNrIiwibmV3T2NjdXJyZW5jZVN0YWNrIiwibmV4dFBhdGhXaXRob3V0IiwibmV4dFBhdGhXaXRoIiwic2Vjb25kSXRlcmF0aW9uIiwic2VwYXJhdG9yR2FzdCIsIm50aFJlcGV0aXRpb24iLCJjdXJyQWx0UGF0aCIsImV4cGFuZFRvcExldmVsUnVsZSIsIm5ld0N1cnJPY2N1cnJlbmNlU3RhY2siLCJQUk9EX1RZUEUiLCJSZXN0RGVmaW5pdGlvbkZpbmRlcldhbGtlciIsInRhcmdldE9jY3VycmVuY2UiLCJ0YXJnZXRQcm9kVHlwZSIsInJlc3REZWYiLCJjaGVja0lzVGFyZ2V0IiwiZXhwZWN0ZWRQcm9kVHlwZSIsIk9QVElPTiIsIlJFUEVUSVRJT05fTUFOREFUT1JZIiwiUkVQRVRJVElPTl9NQU5EQVRPUllfV0lUSF9TRVBBUkFUT1IiLCJSRVBFVElUSU9OIiwiUkVQRVRJVElPTl9XSVRIX1NFUEFSQVRPUiIsIkluc2lkZURlZmluaXRpb25GaW5kZXJWaXNpdG9yIiwidGFyZ2V0UmVmIiwiZXhwZWN0ZWRQcm9kTmFtZSIsIkFMVEVSTkFUSU9OIiwiaW5pdGlhbGl6ZUFycmF5T2ZBcnJheXMiLCJzaXplIiwicGF0aFRvSGFzaEtleXMiLCJsb25nZXJLZXlzIiwiY3VyclNob3J0ZXJLZXkiLCJjYXRlZ29yaWVzS2V5U3VmZml4IiwiaXNVbmlxdWVQcmVmaXhIYXNoIiwiYWx0S25vd25QYXRoc0tleXMiLCJzZWFyY2hQYXRoS2V5cyIsImN1cnJBbHRJZHgiLCJvdGhlckFsdEtub3duUGF0aHNLZXlzIiwic2VhcmNoSWR4IiwibG9va0FoZWFkU2VxdWVuY2VGcm9tQWx0ZXJuYXRpdmVzIiwiYWx0c0RlZnMiLCJrIiwicGFydGlhbEFsdHMiLCJmaW5hbFJlc3VsdCIsImFsdHNIYXNoZXMiLCJkaWN0IiwibmV3RGF0YSIsInBhdGhMZW5ndGgiLCJjdXJyRGF0YXNldCIsIl9sb29wXzEiLCJhbHRJZHgiLCJjdXJyQWx0UGF0aHNBbmRTdWZmaXhlcyIsImN1cnJQYXRoSWR4IiwiY3VyclBhdGhQcmVmaXgiLCJwcmVmaXhLZXlzIiwiY3VyckFsdFJlc3VsdCIsImNvbnRhaW5zUGF0aCIsIm5ld1BhcnRpYWxQYXRoc0FuZFN1ZmZpeGVzIiwiZ2V0TG9va2FoZWFkUGF0aHNGb3JPciIsInJ1bGVHcmFtbWFyIiwiZ2V0TG9va2FoZWFkUGF0aHNGb3JPcHRpb25hbFByb2QiLCJwcm9kVHlwZSIsImluc2lkZURlZlZpc2l0b3IiLCJpbnNpZGVEZWYiLCJhZnRlckRlZiIsImFsdGVybmF0aXZlIiwic2VhcmNoUGF0aCIsImNvbXBhcmVPdGhlclBhdGgiLCJvdGhlclBhdGgiLCJzZWFyY2hUb2siLCJvdGhlclRvayIsImFyZVRva2VuQ2F0ZWdvcmllc05vdFVzZWQiLCJsb29rQWhlYWRQYXRocyIsInNpbmdsZUFsdFBhdGhzIiwic2luZ2xlUGF0aCIsInZhbGlkYXRlR3JhbW1hciIsInRvcExldmVscyIsImdsb2JhbE1heExvb2thaGVhZCIsImR1cGxpY2F0ZUVycm9ycyIsImNvbGxlY3RvclZpc2l0b3IiLCJPY2N1cnJlbmNlVmFsaWRhdGlvbkNvbGxlY3RvciIsImFsbFJ1bGVQcm9kdWN0aW9ucyIsImFsbFByb2R1Y3Rpb25zIiwicHJvZHVjdGlvbkdyb3VwcyIsImlkZW50aWZ5UHJvZHVjdGlvbkZvckR1cGxpY2F0ZXMiLCJkdXBsaWNhdGVzIiwiY3Vyckdyb3VwIiwiY3VyckR1cGxpY2F0ZXMiLCJmaXJzdFByb2QiLCJkZWZFcnJvciIsIkRVUExJQ0FURV9QUk9EVUNUSU9OUyIsInBhcmFtIiwicGFyYW1ldGVyIiwidmFsaWRhdGVEdXBsaWNhdGVQcm9kdWN0aW9ucyIsImxlZnRSZWN1cnNpb25FcnJvcnMiLCJjdXJyVG9wUnVsZSIsInZhbGlkYXRlTm9MZWZ0UmVjdXJzaW9uIiwibmV4dE5vblRlcm1pbmFscyIsImdldEZpcnN0Tm9uZVRlcm1pbmFsIiwiY3VyclN1YkRlZiIsImlzRmlyc3RPcHRpb25hbCIsImhhc01vcmUiLCJyZXN0IiwiTEVGVF9SRUNVUlNJT04iLCJ2YWxpZE5leHRTdGVwcyIsImVycm9yc0Zyb21OZXh0U3RlcHMiLCJjdXJyUmVmUnVsZSIsImVtcHR5QWx0RXJyb3JzIiwiYW1iaWd1b3VzQWx0c0Vycm9ycyIsImVtcHR5UmVwZXRpdGlvbkVycm9ycyIsIm9yQ29sbGVjdG9yIiwiT3JDb2xsZWN0b3IiLCJvcnMiLCJhbHRlcm5hdGlvbnMiLCJjdXJyT3IiLCJleGNlcHRMYXN0IiwiY3VyckVycm9ycyIsImN1cnJBbHRlcm5hdGl2ZSIsInBvc3NpYmxlRmlyc3RJbkFsdCIsIk5PTkVfTEFTVF9FTVBUWV9BTFQiLCJ2YWxpZGF0ZUVtcHR5T3JBbHRlcm5hdGl2ZSIsImN1cnJPY2N1cnJlbmNlIiwiYWN0dWFsTWF4TG9va2FoZWFkIiwibWF4TG9va2FoZWFkIiwiYWx0c0FtYmlndWl0eUVycm9ycyIsImZvdW5kQW1iaWd1b3VzUGF0aHMiLCJpZGVudGljYWxBbWJpZ3VpdGllcyIsImFsdHNDdXJyUGF0aEFwcGVhcnNJbiIsImN1cnJPdGhlckFsdCIsImN1cnJPdGhlckFsdElkeCIsImFsdHMiLCJjdXJyQW1iRGVzY3JpcHRvciIsImFtYmdJbmRpY2VzIiwiQU1CSUdVT1VTX0FMVFMiLCJjaGVja0FsdGVybmF0aXZlc0FtYmlndWl0aWVzIiwiYWx0c1ByZWZpeEFtYmlndWl0eUVycm9ycyIsInBhdGhzQW5kSW5kaWNlcyIsImN1cnJQYXRoc0FuZElkeCIsImN1cnJQYXRoQW5kSWR4IiwidGFyZ2V0SWR4IiwidGFyZ2V0UGF0aCIsInByZWZpeEFtYmlndWl0aWVzUGF0aHNBbmRJbmRpY2VzIiwic2VhcmNoUGF0aEFuZElkeCIsInByZWZpeCIsIm90aGVyIiwib3RoZXJUb2tUeXBlIiwiY3VyclBhdGhQcmVmaXhFcnJvcnMiLCJjdXJyQW1iUGF0aEFuZElkeCIsIkFNQklHVU9VU19QUkVGSVhfQUxUUyIsImNoZWNrUHJlZml4QWx0ZXJuYXRpdmVzQW1iaWd1aXRpZXMiLCJ2YWxpZGF0ZUFtYmlndW91c0FsdGVybmF0aW9uQWx0ZXJuYXRpdmVzIiwidG9wTGV2ZWxSdWxlcyIsIlJlcGV0aW9uQ29sbGVjdG9yIiwiY3VyclByb2QiLCJnZXRQcm9kVHlwZSIsInBhdGhzSW5zaWRlUHJvZHVjdGlvbiIsIk5PX05PTl9FTVBUWV9MT09LQUhFQUQiLCJ2YWxpZGF0ZVNvbWVOb25FbXB0eUxvb2thaGVhZFBhdGgiLCJ0ZXJtc05hbWVzcGFjZUNvbmZsaWN0RXJyb3JzIiwidG9rZW5OYW1lcyIsImN1cnJUb2tlbiIsImN1cnJSdWxlTmFtZSIsIkNPTkZMSUNUX1RPS0VOU19SVUxFU19OQU1FU1BBQ0UiLCJjaGVja1Rlcm1pbmFsQW5kTm9uZVRlcm1pbmFsc05hbWVTcGFjZSIsInRva2VuTmFtZUVycm9ycyIsInZhbGlkVGVybXNQYXR0ZXJuIiwiSU5WQUxJRF9UT0tFTl9OQU1FIiwidmFsaWRhdGVUb2tlbk5hbWUiLCJ0b29NYW55QWx0c0Vycm9ycyIsImN1clJ1bGUiLCJUT09fTUFOWV9BTFRTIiwidmFsaWRhdGVUb29NYW55QWx0cyIsInJ1bGVOYW1lRXJyb3JzIiwiSU5WQUxJRF9SVUxFX05BTUUiLCJ2YWxpZGF0ZVJ1bGVOYW1lIiwiZHVwbGljYXRlUnVsZXNFcnJvciIsImFsbFJ1bGVzIiwiY2xhc3NOYW1lIiwiRFVQTElDQVRFX1JVTEVfTkFNRSIsInZhbGlkYXRlUnVsZURvZXNOb3RBbHJlYWR5RXhpc3QiLCJyZWZSZXNvbHZlciIsInRvcFJ1bGVzVGFibGUiLCJydWxlcyIsImFzc2lnbk9jY3VycmVuY2VJbmRpY2VzIiwibWV0aG9kc0NvbGxlY3RvciIsIm1ldGhvZHMiLCJjdXJyTWV0aG9kIiwiYXJySWR4IiwiUkVDT0dOSVRJT05fRVhDRVBUSU9OX05BTUVTIiwiaXNSZWNvZ25pdGlvbkV4Y2VwdGlvbiIsIk1pc21hdGNoZWRUb2tlbkV4Y2VwdGlvbiIsInByZXZpb3VzVG9rZW4iLCJyZXN5bmNlZFRva2VucyIsIk5vVmlhYmxlQWx0RXhjZXB0aW9uIiwiTm90QWxsSW5wdXRQYXJzZWRFeGNlcHRpb24iLCJFYXJseUV4aXRFeGNlcHRpb24iLCJFT0ZfRk9MTE9XX0tFWSIsIkluUnVsZVJlY292ZXJ5RXhjZXB0aW9uIiwiUmVjb3ZlcmFibGUiLCJpbml0UmVjb3ZlcmFibGUiLCJmaXJzdEFmdGVyUmVwTWFwIiwicmVzeW5jRm9sbG93cyIsInJlY292ZXJ5RW5hYmxlZCIsIkRFRkFVTFRfUEFSU0VSX0NPTkZJRyIsImF0dGVtcHRJblJlcGV0aXRpb25SZWNvdmVyeSIsImdldFRva2VuVG9JbnNlcnQiLCJ0b2tUb0luc2VydCIsIk5hTiIsImlzSW5zZXJ0ZWRJblJlY292ZXJ5IiwiY2FuVG9rZW5UeXBlQmVJbnNlcnRlZEluUmVjb3ZlcnkiLCJ0cnlJblJlcGV0aXRpb25SZWNvdmVyeSIsImdyYW1tYXJSdWxlIiwiZ3JhbW1hclJ1bGVBcmdzIiwibG9va0FoZWFkRnVuYyIsImV4cGVjdGVkVG9rVHlwZSIsInJlU3luY1Rva1R5cGUiLCJmaW5kUmVTeW5jVG9rZW5UeXBlIiwic2F2ZWRMZXhlclN0YXRlIiwiZXhwb3J0TGV4ZXJTdGF0ZSIsInBhc3NlZFJlc3luY1BvaW50IiwibmV4dFRva2VuV2l0aG91dFJlc3luYyIsIkxBIiwiZ2VuZXJhdGVFcnJvck1lc3NhZ2UiLCJnZXRDdXJyUnVsZUZ1bGxOYW1lIiwiU0FWRV9FUlJPUiIsInRva2VuTWF0Y2hlciIsIlNLSVBfVE9LRU4iLCJhZGRUb1Jlc3luY1Rva2VucyIsImltcG9ydExleGVyU3RhdGUiLCJzaG91bGRJblJlcGV0aXRpb25SZWNvdmVyeUJlVHJpZWQiLCJleHBlY3RUb2tBZnRlckxhc3RNYXRjaCIsIm5leHRUb2tJZHgiLCJub3RTdHVjayIsImlzQmFja1RyYWNraW5nIiwiY2FuUGVyZm9ybUluUnVsZVJlY292ZXJ5IiwiZ2V0Rm9sbG93c0ZvckluUnVsZVJlY292ZXJ5IiwidG9rSWR4SW5SdWxlIiwiZ3JhbW1hclBhdGgiLCJnZXRDdXJyZW50R3JhbW1hclBhdGgiLCJnZXROZXh0UG9zc2libGVUb2tlblR5cGVzIiwidHJ5SW5SdWxlUmVjb3ZlcnkiLCJjYW5SZWNvdmVyV2l0aFNpbmdsZVRva2VuSW5zZXJ0aW9uIiwiY2FuUmVjb3ZlcldpdGhTaW5nbGVUb2tlbkRlbGV0aW9uIiwibmV4dFRvayIsImNvbnN1bWVUb2tlbiIsImV4cGVjdGVkVG9rZW4iLCJtaXNtYXRjaGVkVG9rIiwicG9zc2libGVGb2xsb3dzVG9rVHlwZSIsImlzSW5DdXJyZW50UnVsZVJlU3luY1NldCIsImZvbGxvd0tleSIsImdldEN1cnJGb2xsb3dLZXkiLCJjdXJyZW50UnVsZVJlU3luY1NldCIsImdldEZvbGxvd1NldEZyb21Gb2xsb3dLZXkiLCJhbGxQb3NzaWJsZVJlU3luY1Rva1R5cGVzIiwiZmxhdHRlbkZvbGxvd1NldCIsIm5leHRUb2tlbiIsIlJVTEVfU1RBQ0siLCJjdXJyUnVsZVNob3J0TmFtZSIsImdldExhc3RFeHBsaWNpdFJ1bGVTaG9ydE5hbWUiLCJjdXJyUnVsZUlkeCIsImdldExhc3RFeHBsaWNpdFJ1bGVPY2N1cnJlbmNlSW5kZXgiLCJwcmV2UnVsZVNob3J0TmFtZSIsImdldFByZXZpb3VzRXhwbGljaXRSdWxlU2hvcnROYW1lIiwic2hvcnRSdWxlTmFtZVRvRnVsbE5hbWUiLCJpZHhJbkNhbGxpbmdSdWxlIiwiaW5SdWxlIiwiYnVpbGRGdWxsRm9sbG93S2V5U3RhY2siLCJleHBsaWNpdFJ1bGVTdGFjayIsImV4cGxpY2l0T2NjdXJyZW5jZVN0YWNrIiwiUlVMRV9PQ0NVUlJFTkNFX1NUQUNLIiwiZm9sbG93U3RhY2siLCJyZXN5bmNUb2tlbnMiLCJyZVN5bmNUbyIsInByb2RGdW5jIiwibG9va2FoZWFkRnVuYyIsImRzbE1ldGhvZElkeCIsInByb2RPY2N1cnJlbmNlIiwibmV4dFRva3NXYWxrZXIiLCJnZXRIdW1hblJlYWRhYmxlUnVsZVN0YWNrIiwiY3VyclNob3J0TmFtZSIsImdldEtleUZvckF1dG9tYXRpY0xvb2thaGVhZCIsImZpcnN0QWZ0ZXJSZXBJbmZvIiwiZ2V0R0FzdFByb2R1Y3Rpb25zIiwicnVsZUlkeCIsIkxvb2tzQWhlYWQiLCJpbml0TG9va3NBaGVhZCIsImR5bmFtaWNUb2tlbnNFbmFibGVkIiwibG9va0FoZWFkRnVuY3NDYWNoZSIsImdldExhRnVuY0Zyb21DYWNoZSIsImdldExhRnVuY0Zyb21NYXAiLCJzZXRMYUZ1bmNDYWNoZSIsInNldExhRnVuY0NhY2hlVXNpbmdNYXAiLCJnZXRMYUZ1bmNGcm9tT2JqIiwic2V0TGFGdW5jVXNpbmdPYmoiLCJwcmVDb21wdXRlTG9va2FoZWFkRnVuY3Rpb25zIiwiY29sbGVjdE1ldGhvZHMiLCJwcm9kSWR4IiwibGFGdW5jQnVpbGRlciIsImxhRnVuYyIsImxvb2tBaGVhZEJ1aWxkZXJGb3JBbHRlcm5hdGl2ZXMiLCJmdWxsUnVsZU5hbWVUb1Nob3J0IiwiY29tcHV0ZUxvb2thaGVhZEZ1bmMiLCJwcm9kS2V5IiwicHJvZE1heExvb2thaGVhZCIsImRzbE1ldGhvZE5hbWUiLCJsb29rYWhlYWRCdWlsZGVyIiwiYnVpbGRMb29rYWhlYWRGdW5jRm9yT3B0aW9uYWxQcm9kIiwibG9va0FoZWFkQnVpbGRlckZvck9wdGlvbmFsIiwiYXJlQWxsT25lVG9rZW5Mb29rYWhlYWQiLCJudW1PZlBhdGhzIiwic2luZ2xlVG9rZW5zVHlwZXMiLCJleHBlY3RlZFRva2VuVW5pcXVlS2V5XzEiLCJjaG9pY2VUb0FsdF8yIiwiY3VyckV4dGVuZGluZ1R5cGUiLCJjdXJyUGF0aExlbmd0aCIsImJ1aWxkU2luZ2xlQWx0ZXJuYXRpdmVMb29rYWhlYWRGdW5jdGlvbiIsIm51bU9mQWx0cyIsIm9yQWx0cyIsInByZWRpY2F0ZXMiLCJHQVRFIiwiY3Vyck51bU9mUGF0aHMiLCJjdXJyUHJlZGljYXRlIiwic2luZ2xlVG9rZW5BbHRzIiwiY2hvaWNlVG9BbHRfMSIsImJ1aWxkQWx0ZXJuYXRpdmVzTG9va0FoZWFkRnVuYyIsInNldE5vZGVMb2NhdGlvbk9ubHlPZmZzZXQiLCJjdXJyTm9kZUxvY2F0aW9uIiwibmV3TG9jYXRpb25JbmZvIiwiaXNOYU4iLCJzZXROb2RlTG9jYXRpb25GdWxsIiwiQ3N0VmlzaXRvckRlZmluaXRpb25FcnJvciIsIkZVTkNfTkFNRV9SRUdFWFAiLCJmdW5jdGlvbk5hbWUiLCJleGlzdGluZ05hbWVQcm9wIiwiZGVmaW5lTmFtZVByb3AiLCJuYW1lVmFsdWUiLCJuYW1lUHJvcERlc2NyaXB0b3IiLCJ3cml0YWJsZSIsImRlZmF1bHRWaXNpdCIsImN0eCIsImNoaWxkcmVuTmFtZXMiLCJjaGlsZHJlbk5hbWVzTGVuZ3RoIiwiY3VyckNoaWxkQXJyYXkiLCJjdXJyQ2hpbGRBcnJheUxlbmd0aCIsImN1cnJDaGlsZCIsImNoaWxkcmVuIiwiY3JlYXRlQmFzZVNlbWFudGljVmlzaXRvckNvbnN0cnVjdG9yIiwicnVsZU5hbWVzIiwiZGVyaXZlZENvbnN0cnVjdG9yIiwiY3N0Tm9kZSIsInZhbGlkYXRlVmlzaXRvciIsInNlbWFudGljRGVmaW5pdGlvbkVycm9ycyIsInZpc2l0b3JJbnN0YW5jZSIsIm1pc3NpbmdFcnJvcnMiLCJNSVNTSU5HX01FVEhPRCIsIm1ldGhvZE5hbWUiLCJ2YWxpZGF0ZU1pc3NpbmdDc3RNZXRob2RzIiwicmVkdW5kYW50RXJyb3JzIiwiVkFMSURfUFJPUF9OQU1FUyIsIlJFRFVOREFOVF9NRVRIT0QiLCJ2YWxpZGF0ZVJlZHVuZGFudE1ldGhvZHMiLCJlcnJvck1lc3NhZ2VzIiwiY3VyckRlZkVycm9yIiwiX1JVTEVfTkFNRVMiLCJUcmVlQnVpbGRlciIsImluaXRUcmVlQnVpbGRlciIsIkNTVF9TVEFDSyIsIm91dHB1dENzdCIsIm5vZGVMb2NhdGlvblRyYWNraW5nIiwic2V0Tm9kZUxvY2F0aW9uRnJvbVRva2VuIiwic2V0Tm9kZUxvY2F0aW9uRnJvbU5vZGUiLCJjc3RQb3N0UnVsZSIsInNldEluaXRpYWxOb2RlTG9jYXRpb24iLCJzZXRJbml0aWFsTm9kZUxvY2F0aW9uRnVsbFJlY292ZXJ5IiwiY3N0UG9zdFJ1bGVGdWxsIiwic2V0SW5pdGlhbE5vZGVMb2NhdGlvbkZ1bGxSZWd1bGFyIiwic2V0SW5pdGlhbE5vZGVMb2NhdGlvbk9ubHlPZmZzZXRSZWNvdmVyeSIsImNzdFBvc3RSdWxlT25seU9mZnNldCIsInNldEluaXRpYWxOb2RlTG9jYXRpb25Pbmx5T2Zmc2V0UmVndWxhciIsImNzdEludm9jYXRpb25TdGF0ZVVwZGF0ZSIsImNzdEZpbmFsbHlTdGF0ZVVwZGF0ZSIsImNzdFBvc3RUZXJtaW5hbCIsImNzdFBvc3ROb25UZXJtaW5hbCIsImxvY2F0aW9uIiwiZnVsbFJ1bGVOYW1lIiwic2hvcnROYW1lIiwicnVsZUNzdE5vZGUiLCJwcmV2VG9rZW4iLCJsb2MiLCJjb25zdW1lZFRva2VuIiwidG9rZW5UeXBlTmFtZSIsInJvb3RDc3QiLCJydWxlQ3N0UmVzdWx0IiwicHJlQ3N0Tm9kZSIsInJ1bGVSZXN1bHQiLCJhZGROb25lVGVybWluYWxUb0NzdCIsImdldEJhc2VDc3RWaXNpdG9yQ29uc3RydWN0b3IiLCJiYXNlQ3N0VmlzaXRvckNvbnN0cnVjdG9yIiwibmV3QmFzZUNzdFZpc2l0b3JDb25zdHJ1Y3RvciIsImdhc3RQcm9kdWN0aW9uc0NhY2hlIiwiZ2V0QmFzZUNzdFZpc2l0b3JDb25zdHJ1Y3RvcldpdGhEZWZhdWx0cyIsImJhc2VDc3RWaXNpdG9yV2l0aERlZmF1bHRzQ29uc3RydWN0b3IiLCJuZXdDb25zdHJ1Y3RvciIsImJhc2VDb25zdHJ1Y3RvciIsIndpdGhEZWZhdWx0c1Byb3RvIiwiY3JlYXRlQmFzZVZpc2l0b3JDb25zdHJ1Y3RvcldpdGhEZWZhdWx0cyIsIkxleGVyQWRhcHRlciIsImluaXRMZXhlckFkYXB0ZXIiLCJ0b2tWZWN0b3IiLCJ0b2tWZWN0b3JMZW5ndGgiLCJuZXdJbnB1dCIsInNlbGZBbmFseXNpc0RvbmUiLCJFTkRfT0ZfRklMRSIsInNvdWdodElkeCIsIm5ld1N0YXRlIiwicmVzZXRMZXhlclN0YXRlIiwibW92ZVRvVGVybWluYXRlZFN0YXRlIiwiZ2V0TGV4ZXJQb3NpdGlvbiIsIlJlY29nbml6ZXJBcGkiLCJBQ1RJT04iLCJpbXBsIiwiY29uc3VtZSIsImNvbnN1bWVJbnRlcm5hbCIsInJ1bGVUb0NhbGwiLCJzdWJydWxlSW50ZXJuYWwiLCJhY3Rpb25PUk1ldGhvZERlZiIsIm9wdGlvbkludGVybmFsIiwiYWx0c09yT3B0cyIsIm9ySW50ZXJuYWwiLCJtYW55SW50ZXJuYWwiLCJhdExlYXN0T25lSW50ZXJuYWwiLCJDT05TVU1FIiwiQ09OU1VNRTEiLCJDT05TVU1FMiIsIkNPTlNVTUUzIiwiQ09OU1VNRTQiLCJDT05TVU1FNSIsIkNPTlNVTUU2IiwiQ09OU1VNRTciLCJDT05TVU1FOCIsIkNPTlNVTUU5IiwiU1VCUlVMRSIsIlNVQlJVTEUxIiwiU1VCUlVMRTIiLCJTVUJSVUxFMyIsIlNVQlJVTEU0IiwiU1VCUlVMRTUiLCJTVUJSVUxFNiIsIlNVQlJVTEU3IiwiU1VCUlVMRTgiLCJTVUJSVUxFOSIsIk9QVElPTjEiLCJPUFRJT04yIiwiT1BUSU9OMyIsIk9QVElPTjQiLCJPUFRJT041IiwiT1BUSU9ONiIsIk9QVElPTjciLCJPUFRJT044IiwiT1BUSU9OOSIsIk9SIiwiT1IxIiwiT1IyIiwiT1IzIiwiT1I0IiwiT1I1IiwiT1I2IiwiT1I3IiwiT1I4IiwiT1I5IiwiTUFOWSIsIk1BTlkxIiwiTUFOWTIiLCJNQU5ZMyIsIk1BTlk0IiwiTUFOWTUiLCJNQU5ZNiIsIk1BTlk3IiwiTUFOWTgiLCJNQU5ZOSIsIk1BTllfU0VQIiwibWFueVNlcEZpcnN0SW50ZXJuYWwiLCJNQU5ZX1NFUDEiLCJNQU5ZX1NFUDIiLCJNQU5ZX1NFUDMiLCJNQU5ZX1NFUDQiLCJNQU5ZX1NFUDUiLCJNQU5ZX1NFUDYiLCJNQU5ZX1NFUDciLCJNQU5ZX1NFUDgiLCJNQU5ZX1NFUDkiLCJBVF9MRUFTVF9PTkUiLCJBVF9MRUFTVF9PTkUxIiwiQVRfTEVBU1RfT05FMiIsIkFUX0xFQVNUX09ORTMiLCJBVF9MRUFTVF9PTkU0IiwiQVRfTEVBU1RfT05FNSIsIkFUX0xFQVNUX09ORTYiLCJBVF9MRUFTVF9PTkU3IiwiQVRfTEVBU1RfT05FOCIsIkFUX0xFQVNUX09ORTkiLCJBVF9MRUFTVF9PTkVfU0VQIiwiYXRMZWFzdE9uZVNlcEZpcnN0SW50ZXJuYWwiLCJBVF9MRUFTVF9PTkVfU0VQMSIsIkFUX0xFQVNUX09ORV9TRVAyIiwiQVRfTEVBU1RfT05FX1NFUDMiLCJBVF9MRUFTVF9PTkVfU0VQNCIsIkFUX0xFQVNUX09ORV9TRVA1IiwiQVRfTEVBU1RfT05FX1NFUDYiLCJBVF9MRUFTVF9PTkVfU0VQNyIsIkFUX0xFQVNUX09ORV9TRVA4IiwiQVRfTEVBU1RfT05FX1NFUDkiLCJSVUxFIiwiaW1wbGVtZW50YXRpb24iLCJERUZBVUxUX1JVTEVfQ09ORklHIiwiZGVmaW5lZFJ1bGVzTmFtZXMiLCJkZWZpbml0aW9uRXJyb3JzIiwicnVsZUltcGxlbWVudGF0aW9uIiwiZGVmaW5lUnVsZSIsIk9WRVJSSURFX1JVTEUiLCJydWxlRXJyb3JzIiwiSU5WQUxJRF9SVUxFX09WRVJSSURFIiwiQkFDS1RSQUNLIiwiaXNCYWNrVHJhY2tpbmdTdGFjayIsIm9yZ1N0YXRlIiwic2F2ZVJlY29nU3RhdGUiLCJyZWxvYWRSZWNvZ1N0YXRlIiwiZ2V0U2VyaWFsaXplZEdhc3RQcm9kdWN0aW9ucyIsIlJlY29nbml6ZXJFbmdpbmUiLCJpbml0UmVjb2duaXplckVuZ2luZSIsInRva2VuVm9jYWJ1bGFyeSIsInNob3J0UnVsZU5hbWVUb0Z1bGwiLCJydWxlU2hvcnROYW1lSWR4IiwidG9rZW5zTWFwIiwidW5pcXVlVG9rZW5zIiwibm9Ub2tlbkNhdGVnb3JpZXNVc2VkIiwidG9rZW5Db25zdHJ1Y3RvciIsIndyYXBwZWRHcmFtbWFyUnVsZSIsInJlc3luY0VuYWJsZWQiLCJyZWNvdmVyeVZhbHVlRnVuYyIsImludm9rZVJ1bGVXaXRoVHJ5IiwiY3N0IiwiaW52b2tlUnVsZUNhdGNoIiwicnVsZUZpbmFsbHlTdGF0ZVVwZGF0ZSIsInJ1bGVJbnZvY2F0aW9uU3RhdGVVcGRhdGUiLCJyZXN5bmNFbmFibGVkQ29uZmlnIiwiaXNGaXJzdEludm9rZWRSdWxlIiwicmVTeW5jRW5hYmxlZCIsInJlY29nRXJyb3IiLCJwYXJ0aWFsQ3N0UmVzdWx0IiwicmVjb3ZlcmVkTm9kZSIsIm9wdGlvbkludGVybmFsTG9naWMiLCJERUYiLCJvcmdMb29rYWhlYWRGdW5jdGlvbl8xIiwibGFLZXkiLCJhdExlYXN0T25lSW50ZXJuYWxMb2dpYyIsIm9yZ0xvb2thaGVhZEZ1bmN0aW9uXzIiLCJyYWlzZUVhcmx5RXhpdEV4Y2VwdGlvbiIsIkVSUl9NU0ciLCJkb1NpbmdsZVJlcGV0aXRpb24iLCJhdExlYXN0T25lU2VwRmlyc3RJbnRlcm5hbExvZ2ljIiwiU0VQIiwic2VwYXJhdG9yTG9va0FoZWFkRnVuYyIsInJlcGV0aXRpb25TZXBTZWNvbmRJbnRlcm5hbCIsIm1hbnlJbnRlcm5hbExvZ2ljIiwibG9va2FoZWFkRnVuY3Rpb24iLCJvcmdMb29rYWhlYWRGdW5jdGlvbl8zIiwibWFueVNlcEZpcnN0SW50ZXJuYWxMb2dpYyIsIm5leHRUZXJtaW5hbEFmdGVyV2Fsa2VyIiwiYmVmb3JlSXRlcmF0aW9uIiwiYWx0SWR4VG9UYWtlIiwiQUxUIiwicmFpc2VOb0FsdEV4Y2VwdGlvbiIsImlzQXRFbmRPZklucHV0IiwiZmlyc3RSZWR1bmRhbnRUb2siLCJBUkdTIiwic3VicnVsZUludGVybmFsRXJyb3IiLCJjb25zdW1lSW50ZXJuYWxFcnJvciIsImVGcm9tQ29uc3VtcHRpb24iLCJjb25zdW1lSW50ZXJuYWxSZWNvdmVyeSIsImVGcm9tSW5SdWxlUmVjb3ZlcnkiLCJzYXZlZEVycm9ycyIsInNhdmVkUnVsZVN0YWNrIiwibGV4ZXJTdGF0ZSIsImZ1bGxOYW1lIiwiRXJyb3JIYW5kbGVyIiwiaW5pdEVycm9ySGFuZGxlciIsIl9lcnJvcnMiLCJjb250ZXh0IiwicnVsZU9jY3VycmVuY2VTdGFjayIsIm5ld0Vycm9ycyIsInVzZXJEZWZpbmVkRXJyTXNnIiwiaW5zaWRlUHJvZFBhdGhzIiwiYWN0dWFsVG9rZW5zIiwiZXJyTXNnVHlwZXMiLCJsb29rQWhlYWRQYXRoc1BlckFsdGVybmF0aXZlIiwiQ29udGVudEFzc2lzdCIsImluaXRDb250ZW50QXNzaXN0IiwiY29tcHV0ZUNvbnRlbnRBc3Npc3QiLCJzdGFydFJ1bGVOYW1lIiwicHJlY2VkaW5nSW5wdXQiLCJzdGFydFJ1bGVHYXN0IiwidG9wUnVsZU5hbWUiLCJ0b3BQcm9kdWN0aW9uIiwiUkVDT1JESU5HX05VTExfT0JKRUNUIiwiZGVzY3JpcHRpb24iLCJNQVhfTUVUSE9EX0lEWCIsInBvdyIsIlJGVCIsIlJFQ09SRElOR19QSEFTRV9UT0tFTiIsIlJFQ09SRElOR19QSEFTRV9DU1ROT0RFIiwiR2FzdFJlY29yZGVyIiwiaW5pdEdhc3RSZWNvcmRlciIsInJlY29yZGluZ1Byb2RTdGFjayIsIlJFQ09SRElOR19QSEFTRSIsImVuYWJsZVJlY29yZGluZyIsImFyZzEiLCJhcmcyIiwiY29uc3VtZUludGVybmFsUmVjb3JkIiwic3VicnVsZUludGVybmFsUmVjb3JkIiwib3B0aW9uSW50ZXJuYWxSZWNvcmQiLCJvckludGVybmFsUmVjb3JkIiwibWFueUludGVybmFsUmVjb3JkIiwibWFueVNlcEZpcnN0SW50ZXJuYWxSZWNvcmQiLCJhdExlYXN0T25lSW50ZXJuYWxSZWNvcmQiLCJhdExlYXN0T25lU2VwRmlyc3RJbnRlcm5hbFJlY29yZCIsIkFDVElPTl9SRUNPUkQiLCJCQUNLVFJBQ0tfUkVDT1JEIiwiTEFfUkVDT1JEIiwiZGlzYWJsZVJlY29yZGluZyIsInRvcExldmVsUnVsZVJlY29yZCIsIm5ld1RvcExldmVsUnVsZSIsIm9yaWdpbmFsRXJyb3IiLCJLTk9XTl9SRUNPUkRFUl9FUlJPUiIsIm11dGFiaWxpdHlFcnJvciIsInJlY29yZFByb2QiLCJyZWNvcmRPclByb2QiLCJhc3NlcnRNZXRob2RJZHhJc1ZhbGlkIiwiZ2V0SWR4U3VmZml4IiwiSlNPTiIsInN0cmluZ2lmeSIsInByZXZQcm9kIiwibmV3Tm9uZVRlcm1pbmFsIiwicHJvZENvbnN0cnVjdG9yIiwibWFpblByb2RBcmciLCJoYW5kbGVTZXAiLCJncmFtbWFyQWN0aW9uIiwibmV3UHJvZCIsIk1BWF9MT09LQUhFQUQiLCJoYXNPcHRpb25zIiwibmV3T3JQcm9kIiwiSUdOT1JFX0FNQklHVUlUSUVTIiwiY3VyckFsdEZsYXQiLCJQZXJmb3JtYW5jZVRyYWNlciIsImluaXRQZXJmb3JtYW5jZVRyYWNlciIsInVzZXJUcmFjZUluaXRQZXJmIiwidHJhY2VJc051bWJlciIsIkVNUFRZX0FMVCIsIlBhcnNlciIsInBlcmZvcm1TZWxmQW5hbHlzaXMiLCJwYXJzZXJJbnN0YW5jZSIsImRlZkVycm9yc01zZ3MiLCJvcmlnaW5hbEdyYW1tYXJBY3Rpb24iLCJyZWNvcmRlZFJ1bGVHYXN0IiwicmVzb2x2ZXJFcnJvcnMiLCJ2YWxpZGF0aW9uRXJyb3JzIiwidG9wUHJvZHVjdGlvbnMiLCJyZVN5bmNGb2xsb3dzIiwiYWxsRm9sbG93cyIsImN1cnJSZWZzRm9sbG93IiwiREVGRVJfREVGSU5JVElPTl9FUlJPUlNfSEFORExJTkciLCJDc3RQYXJzZXIiLCJjb25maWdDbG9uZSIsIkVtYmVkZGVkQWN0aW9uc1BhcnNlciIsImNyZWF0ZVN5bnRheERpYWdyYW1zQ29kZSIsImdyYW1tYXIiLCJfYiIsIl9jIiwicmVzb3VyY2VCYXNlIiwiX2QiLCJjc3MiLCJOTCIsImdlbkNsYXNzIiwiZ2VuRGVmaW5pdGlvbiIsImdlbkFsdGVybmF0aW9uIiwiYWx0RGVmIiwiZ2VuU2luZ2xlQWx0IiwiZ2VuUHJvZCIsImdlbk5vblRlcm1pbmFsIiwiZ2VuRFNMUnVsZSIsImdlblRlcm1pbmFsIiwiZ2VuRGVmRnVuY3Rpb24iLCJnZW5lcmF0ZVBhcnNlckZhY3RvcnkiLCJ3cmFwcGVyVGV4dCIsImdlbldyYXBwZXJGdW5jdGlvbiIsImNvbnN0cnVjdG9yV3JhcHBlciIsImdlbmVyYXRlUGFyc2VyTW9kdWxlIiwiZ2VuVW1kTW9kdWxlIiwiY2xlYXJDYWNoZSIsIkZVTkNfRVJST1JfVEVYVCIsIlBMQUNFSE9MREVSIiwid3JhcEZsYWdzIiwiYXJnc1RhZyIsImFycmF5VGFnIiwiYm9vbFRhZyIsImRhdGVUYWciLCJlcnJvclRhZyIsImZ1bmNUYWciLCJnZW5UYWciLCJtYXBUYWciLCJudW1iZXJUYWciLCJvYmplY3RUYWciLCJyZWdleHBUYWciLCJzZXRUYWciLCJzdHJpbmdUYWciLCJzeW1ib2xUYWciLCJ3ZWFrTWFwVGFnIiwiYXJyYXlCdWZmZXJUYWciLCJkYXRhVmlld1RhZyIsImZsb2F0MzJUYWciLCJmbG9hdDY0VGFnIiwiaW50OFRhZyIsImludDE2VGFnIiwiaW50MzJUYWciLCJ1aW50OFRhZyIsInVpbnQxNlRhZyIsInVpbnQzMlRhZyIsInJlRW1wdHlTdHJpbmdMZWFkaW5nIiwicmVFbXB0eVN0cmluZ01pZGRsZSIsInJlRW1wdHlTdHJpbmdUcmFpbGluZyIsInJlRXNjYXBlZEh0bWwiLCJyZVVuZXNjYXBlZEh0bWwiLCJyZUhhc0VzY2FwZWRIdG1sIiwicmVIYXNVbmVzY2FwZWRIdG1sIiwicmVFc2NhcGUiLCJyZUV2YWx1YXRlIiwicmVJbnRlcnBvbGF0ZSIsInJlSXNEZWVwUHJvcCIsInJlSXNQbGFpblByb3AiLCJyZVByb3BOYW1lIiwicmVSZWdFeHBDaGFyIiwicmVIYXNSZWdFeHBDaGFyIiwicmVUcmltIiwicmVUcmltU3RhcnQiLCJyZVRyaW1FbmQiLCJyZVdyYXBDb21tZW50IiwicmVXcmFwRGV0YWlscyIsInJlU3BsaXREZXRhaWxzIiwicmVBc2NpaVdvcmQiLCJyZUVzY2FwZUNoYXIiLCJyZUVzVGVtcGxhdGUiLCJyZUZsYWdzIiwicmVJc0JhZEhleCIsInJlSXNCaW5hcnkiLCJyZUlzSG9zdEN0b3IiLCJyZUlzT2N0YWwiLCJyZUlzVWludCIsInJlTGF0aW4iLCJyZU5vTWF0Y2giLCJyZVVuZXNjYXBlZFN0cmluZyIsInJzQ29tYm9SYW5nZSIsInJzQ29tYm9NYXJrc1JhbmdlIiwicnNCcmVha1JhbmdlIiwicnNNYXRoT3BSYW5nZSIsInJzQXN0cmFsIiwicnNCcmVhayIsInJzQ29tYm8iLCJyc0RpZ2l0cyIsInJzRGluZ2JhdCIsInJzTG93ZXIiLCJyc01pc2MiLCJyc0ZpdHoiLCJyc05vbkFzdHJhbCIsInJzUmVnaW9uYWwiLCJyc1N1cnJQYWlyIiwicnNVcHBlciIsInJzTWlzY0xvd2VyIiwicnNNaXNjVXBwZXIiLCJyZU9wdE1vZCIsInJzU2VxIiwicnNFbW9qaSIsInJzU3ltYm9sIiwicmVBcG9zIiwicmVDb21ib01hcmsiLCJyZVVuaWNvZGUiLCJyZVVuaWNvZGVXb3JkIiwicmVIYXNVbmljb2RlIiwicmVIYXNVbmljb2RlV29yZCIsImNvbnRleHRQcm9wcyIsInRlbXBsYXRlQ291bnRlciIsInR5cGVkQXJyYXlUYWdzIiwiY2xvbmVhYmxlVGFncyIsInN0cmluZ0VzY2FwZXMiLCJmcmVlUGFyc2VGbG9hdCIsInBhcnNlRmxvYXQiLCJmcmVlUGFyc2VJbnQiLCJwYXJzZUludCIsImZyZWVHbG9iYWwiLCJmcmVlU2VsZiIsInNlbGYiLCJyb290IiwiZnJlZUV4cG9ydHMiLCJub2RlVHlwZSIsImZyZWVNb2R1bGUiLCJtb2R1bGVFeHBvcnRzIiwiZnJlZVByb2Nlc3MiLCJwcm9jZXNzIiwibm9kZVV0aWwiLCJ0eXBlcyIsInJlcXVpcmUiLCJiaW5kaW5nIiwibm9kZUlzQXJyYXlCdWZmZXIiLCJpc0FycmF5QnVmZmVyIiwibm9kZUlzRGF0ZSIsImlzRGF0ZSIsIm5vZGVJc01hcCIsImlzTWFwIiwibm9kZUlzUmVnRXhwIiwibm9kZUlzU2V0IiwiaXNTZXQiLCJub2RlSXNUeXBlZEFycmF5IiwiaXNUeXBlZEFycmF5IiwidGhpc0FyZyIsImFycmF5QWdncmVnYXRvciIsImFycmF5Iiwic2V0dGVyIiwiaXRlcmF0ZWUiLCJhcnJheUVhY2giLCJhcnJheUVhY2hSaWdodCIsImFycmF5RXZlcnkiLCJhcnJheUZpbHRlciIsInJlc0luZGV4IiwiYXJyYXlJbmNsdWRlcyIsImJhc2VJbmRleE9mIiwiYXJyYXlJbmNsdWRlc1dpdGgiLCJjb21wYXJhdG9yIiwiYXJyYXlNYXAiLCJhcnJheVB1c2giLCJhcnJheVJlZHVjZSIsImluaXRBY2N1bSIsImFycmF5UmVkdWNlUmlnaHQiLCJhcnJheVNvbWUiLCJhc2NpaVNpemUiLCJiYXNlUHJvcGVydHkiLCJiYXNlRmluZEtleSIsImVhY2hGdW5jIiwiYmFzZUZpbmRJbmRleCIsImZyb21JbmRleCIsImZyb21SaWdodCIsInN0cmljdEluZGV4T2YiLCJiYXNlSXNOYU4iLCJiYXNlSW5kZXhPZldpdGgiLCJiYXNlTWVhbiIsImJhc2VTdW0iLCJiYXNlUHJvcGVydHlPZiIsImJhc2VSZWR1Y2UiLCJjdXJyZW50IiwiYmFzZVRpbWVzIiwiYmFzZVVuYXJ5IiwiYmFzZVZhbHVlcyIsInByb3BzIiwiY2FjaGVIYXMiLCJjYWNoZSIsImNoYXJzU3RhcnRJbmRleCIsInN0clN5bWJvbHMiLCJjaHJTeW1ib2xzIiwiY2hhcnNFbmRJbmRleCIsImNvdW50SG9sZGVycyIsInBsYWNlaG9sZGVyIiwiZGVidXJyTGV0dGVyIiwiZXNjYXBlSHRtbENoYXIiLCJlc2NhcGVTdHJpbmdDaGFyIiwiY2hyIiwiaGFzVW5pY29kZSIsInN0cmluZyIsIm1hcFRvQXJyYXkiLCJvdmVyQXJnIiwidHJhbnNmb3JtIiwiYXJnIiwicmVwbGFjZUhvbGRlcnMiLCJzZXRUb0FycmF5Iiwic2V0VG9QYWlycyIsInN0cmluZ1NpemUiLCJ1bmljb2RlU2l6ZSIsInN0cmluZ1RvQXJyYXkiLCJ1bmljb2RlVG9BcnJheSIsInNwbGl0IiwiYXNjaWlUb0FycmF5IiwidW5lc2NhcGVIdG1sQ2hhciIsIl8iLCJydW5JbkNvbnRleHQiLCJ1aWQiLCJUeXBlRXJyb3IiLCJhcnJheVByb3RvIiwiZnVuY1Byb3RvIiwib2JqZWN0UHJvdG8iLCJjb3JlSnNEYXRhIiwiZnVuY1RvU3RyaW5nIiwiaWRDb3VudGVyIiwibWFza1NyY0tleSIsIklFX1BST1RPIiwibmF0aXZlT2JqZWN0VG9TdHJpbmciLCJvYmplY3RDdG9yU3RyaW5nIiwib2xkRGFzaCIsInJlSXNOYXRpdmUiLCJCdWZmZXIiLCJVaW50OEFycmF5IiwiYWxsb2NVbnNhZmUiLCJnZXRQcm90b3R5cGUiLCJnZXRQcm90b3R5cGVPZiIsIm9iamVjdENyZWF0ZSIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwic3BsaWNlIiwic3ByZWFkYWJsZVN5bWJvbCIsImlzQ29uY2F0U3ByZWFkYWJsZSIsInN5bUl0ZXJhdG9yIiwic3ltVG9TdHJpbmdUYWciLCJnZXROYXRpdmUiLCJjdHhDbGVhclRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJjdHhOb3ciLCJub3ciLCJjdHhTZXRUaW1lb3V0Iiwic2V0VGltZW91dCIsIm5hdGl2ZUNlaWwiLCJjZWlsIiwibmF0aXZlRmxvb3IiLCJuYXRpdmVHZXRTeW1ib2xzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwibmF0aXZlSXNCdWZmZXIiLCJpc0J1ZmZlciIsIm5hdGl2ZUlzRmluaXRlIiwiaXNGaW5pdGUiLCJuYXRpdmVKb2luIiwibmF0aXZlS2V5cyIsIm5hdGl2ZU1heCIsIm1heCIsIm5hdGl2ZU1pbiIsIm1pbiIsIm5hdGl2ZU5vdyIsIm5hdGl2ZVBhcnNlSW50IiwibmF0aXZlUmFuZG9tIiwicmFuZG9tIiwibmF0aXZlUmV2ZXJzZSIsIkRhdGFWaWV3IiwiUHJvbWlzZSIsIlNldCIsIldlYWtNYXAiLCJuYXRpdmVDcmVhdGUiLCJtZXRhTWFwIiwicmVhbE5hbWVzIiwiZGF0YVZpZXdDdG9yU3RyaW5nIiwidG9Tb3VyY2UiLCJtYXBDdG9yU3RyaW5nIiwicHJvbWlzZUN0b3JTdHJpbmciLCJzZXRDdG9yU3RyaW5nIiwid2Vha01hcEN0b3JTdHJpbmciLCJzeW1ib2xQcm90byIsInN5bWJvbFZhbHVlT2YiLCJ2YWx1ZU9mIiwic3ltYm9sVG9TdHJpbmciLCJsb2Rhc2giLCJpc09iamVjdExpa2UiLCJMYXp5V3JhcHBlciIsIkxvZGFzaFdyYXBwZXIiLCJ3cmFwcGVyQ2xvbmUiLCJiYXNlQ3JlYXRlIiwicHJvdG8iLCJiYXNlTG9kYXNoIiwiY2hhaW5BbGwiLCJfX3dyYXBwZWRfXyIsIl9fYWN0aW9uc19fIiwiX19jaGFpbl9fIiwiX19pbmRleF9fIiwiX192YWx1ZXNfXyIsIl9fZGlyX18iLCJfX2ZpbHRlcmVkX18iLCJfX2l0ZXJhdGVlc19fIiwiX190YWtlQ291bnRfXyIsIl9fdmlld3NfXyIsIkhhc2giLCJlbnRyaWVzIiwiY2xlYXIiLCJlbnRyeSIsIkxpc3RDYWNoZSIsIk1hcENhY2hlIiwiU2V0Q2FjaGUiLCJfX2RhdGFfXyIsImFkZCIsIlN0YWNrIiwiZGF0YSIsImFycmF5TGlrZUtleXMiLCJpbmhlcml0ZWQiLCJpc0FyZyIsImlzQXJndW1lbnRzIiwiaXNCdWZmIiwiaXNUeXBlIiwic2tpcEluZGV4ZXMiLCJpc0luZGV4IiwiYXJyYXlTYW1wbGUiLCJiYXNlUmFuZG9tIiwiYXJyYXlTYW1wbGVTaXplIiwic2h1ZmZsZVNlbGYiLCJjb3B5QXJyYXkiLCJiYXNlQ2xhbXAiLCJhcnJheVNodWZmbGUiLCJhc3NpZ25NZXJnZVZhbHVlIiwiZXEiLCJiYXNlQXNzaWduVmFsdWUiLCJhc3NpZ25WYWx1ZSIsIm9ialZhbHVlIiwiYXNzb2NJbmRleE9mIiwiYmFzZUFnZ3JlZ2F0b3IiLCJiYXNlRWFjaCIsImJhc2VBc3NpZ24iLCJjb3B5T2JqZWN0IiwiYmFzZUF0IiwicGF0aHMiLCJza2lwIiwibnVtYmVyIiwibG93ZXIiLCJ1cHBlciIsImJhc2VDbG9uZSIsImJpdG1hc2siLCJjdXN0b21pemVyIiwic3RhY2siLCJpc0RlZXAiLCJpc0ZsYXQiLCJpc0Z1bGwiLCJpbnB1dCIsImluaXRDbG9uZUFycmF5IiwidGFnIiwiZ2V0VGFnIiwiaXNGdW5jIiwiY2xvbmVCdWZmZXIiLCJpbml0Q2xvbmVPYmplY3QiLCJnZXRTeW1ib2xzSW4iLCJjb3B5U3ltYm9sc0luIiwia2V5c0luIiwiYmFzZUFzc2lnbkluIiwiZ2V0U3ltYm9scyIsImNvcHlTeW1ib2xzIiwiQ3RvciIsImNsb25lQXJyYXlCdWZmZXIiLCJkYXRhVmlldyIsImJ1ZmZlciIsImJ5dGVPZmZzZXQiLCJieXRlTGVuZ3RoIiwiY2xvbmVEYXRhVmlldyIsImNsb25lVHlwZWRBcnJheSIsInJlZ2V4cCIsImNsb25lUmVnRXhwIiwic3ltYm9sIiwiaW5pdENsb25lQnlUYWciLCJzdGFja2VkIiwic3ViVmFsdWUiLCJnZXRBbGxLZXlzSW4iLCJnZXRBbGxLZXlzIiwiYmFzZUNvbmZvcm1zVG8iLCJiYXNlRGVsYXkiLCJ3YWl0IiwiYmFzZURpZmZlcmVuY2UiLCJpbmNsdWRlcyIsImlzQ29tbW9uIiwidmFsdWVzTGVuZ3RoIiwib3V0ZXIiLCJjb21wdXRlZCIsInZhbHVlc0luZGV4IiwidGVtcGxhdGVTZXR0aW5ncyIsImdldE1hcERhdGEiLCJwYWlycyIsIkxBUkdFX0FSUkFZX1NJWkUiLCJjcmVhdGVCYXNlRWFjaCIsImJhc2VGb3JPd24iLCJiYXNlRWFjaFJpZ2h0IiwiYmFzZUZvck93blJpZ2h0IiwiYmFzZUV2ZXJ5IiwiYmFzZUV4dHJlbXVtIiwiaXNTeW1ib2wiLCJiYXNlRmlsdGVyIiwiYmFzZUZsYXR0ZW4iLCJkZXB0aCIsImlzU3RyaWN0IiwiaXNGbGF0dGVuYWJsZSIsImJhc2VGb3IiLCJjcmVhdGVCYXNlRm9yIiwiYmFzZUZvclJpZ2h0IiwiYmFzZUZ1bmN0aW9ucyIsImJhc2VHZXQiLCJjYXN0UGF0aCIsInRvS2V5IiwiYmFzZUdldEFsbEtleXMiLCJrZXlzRnVuYyIsInN5bWJvbHNGdW5jIiwiYmFzZUdldFRhZyIsImlzT3duIiwidW5tYXNrZWQiLCJnZXRSYXdUYWciLCJvYmplY3RUb1N0cmluZyIsImJhc2VHdCIsImJhc2VIYXMiLCJiYXNlSGFzSW4iLCJiYXNlSW50ZXJzZWN0aW9uIiwiYXJyYXlzIiwib3RoTGVuZ3RoIiwib3RoSW5kZXgiLCJjYWNoZXMiLCJzZWVuIiwiYmFzZUludm9rZSIsInBhcmVudCIsImJhc2VJc0FyZ3VtZW50cyIsImJhc2VJc0VxdWFsIiwiZXF1YWxGdW5jIiwib2JqSXNBcnIiLCJvdGhJc0FyciIsIm9ialRhZyIsIm90aFRhZyIsIm9iaklzT2JqIiwib3RoSXNPYmoiLCJpc1NhbWVUYWciLCJlcXVhbEFycmF5cyIsImNvbnZlcnQiLCJpc1BhcnRpYWwiLCJlcXVhbEJ5VGFnIiwib2JqSXNXcmFwcGVkIiwib3RoSXNXcmFwcGVkIiwib2JqVW53cmFwcGVkIiwib3RoVW53cmFwcGVkIiwib2JqUHJvcHMiLCJvYmpMZW5ndGgiLCJza2lwQ3RvciIsIm90aFZhbHVlIiwiY29tcGFyZWQiLCJvYmpDdG9yIiwib3RoQ3RvciIsImVxdWFsT2JqZWN0cyIsImJhc2VJc0VxdWFsRGVlcCIsImJhc2VJc01hdGNoIiwibWF0Y2hEYXRhIiwibm9DdXN0b21pemVyIiwic3JjVmFsdWUiLCJDT01QQVJFX1BBUlRJQUxfRkxBRyIsImJhc2VJc05hdGl2ZSIsImJhc2VJdGVyYXRlZSIsImJhc2VNYXRjaGVzUHJvcGVydHkiLCJiYXNlTWF0Y2hlcyIsImJhc2VLZXlzIiwiaXNQcm90b3R5cGUiLCJiYXNlS2V5c0luIiwibmF0aXZlS2V5c0luIiwiaXNQcm90byIsImJhc2VMdCIsImJhc2VNYXAiLCJpc0FycmF5TGlrZSIsImdldE1hdGNoRGF0YSIsIm1hdGNoZXNTdHJpY3RDb21wYXJhYmxlIiwiaXNLZXkiLCJpc1N0cmljdENvbXBhcmFibGUiLCJoYXNJbiIsImJhc2VNZXJnZSIsInNyY0luZGV4IiwibWVyZ2VGdW5jIiwic2FmZUdldCIsIm5ld1ZhbHVlIiwiaXNUeXBlZCIsImlzQXJyYXlMaWtlT2JqZWN0IiwiaXNQbGFpbk9iamVjdCIsInRvUGxhaW5PYmplY3QiLCJiYXNlTWVyZ2VEZWVwIiwiYmFzZU50aCIsImJhc2VPcmRlckJ5IiwiaXRlcmF0ZWVzIiwib3JkZXJzIiwiZ2V0SXRlcmF0ZWUiLCJjb21wYXJlciIsImJhc2VTb3J0QnkiLCJvYmpDcml0ZXJpYSIsImNyaXRlcmlhIiwib3RoQ3JpdGVyaWEiLCJvcmRlcnNMZW5ndGgiLCJjb21wYXJlQXNjZW5kaW5nIiwib3JkZXIiLCJjb21wYXJlTXVsdGlwbGUiLCJiYXNlUGlja0J5IiwiYmFzZVNldCIsImJhc2VQdWxsQWxsIiwiYmFzZVB1bGxBdCIsImluZGV4ZXMiLCJiYXNlVW5zZXQiLCJiYXNlUmVwZWF0IiwiYmFzZVJlc3QiLCJzZXRUb1N0cmluZyIsIm92ZXJSZXN0IiwiYmFzZVNhbXBsZSIsImJhc2VTYW1wbGVTaXplIiwibmVzdGVkIiwiYmFzZVNldERhdGEiLCJiYXNlU2V0VG9TdHJpbmciLCJjb25zdGFudCIsImJhc2VTaHVmZmxlIiwiYmFzZVNsaWNlIiwiZW5kIiwiYmFzZVNvbWUiLCJiYXNlU29ydGVkSW5kZXgiLCJyZXRIaWdoZXN0IiwibG93IiwiaGlnaCIsIk1BWF9BUlJBWV9MRU5HVEgiLCJtaWQiLCJiYXNlU29ydGVkSW5kZXhCeSIsInZhbElzTmFOIiwidmFsSXNOdWxsIiwidmFsSXNTeW1ib2wiLCJ2YWxJc1VuZGVmaW5lZCIsIm90aElzRGVmaW5lZCIsIm90aElzTnVsbCIsIm90aElzUmVmbGV4aXZlIiwib3RoSXNTeW1ib2wiLCJzZXRMb3ciLCJiYXNlU29ydGVkVW5pcSIsImJhc2VUb051bWJlciIsImJhc2VUb1N0cmluZyIsImJhc2VVbmlxIiwiY3JlYXRlU2V0Iiwic2VlbkluZGV4IiwiYmFzZVVwZGF0ZSIsInVwZGF0ZXIiLCJiYXNlV2hpbGUiLCJpc0Ryb3AiLCJiYXNlV3JhcHBlclZhbHVlIiwiYWN0aW9ucyIsImJhc2VYb3IiLCJiYXNlWmlwT2JqZWN0IiwiYXNzaWduRnVuYyIsInZhbHNMZW5ndGgiLCJjYXN0QXJyYXlMaWtlT2JqZWN0IiwiY2FzdEZ1bmN0aW9uIiwic3RyaW5nVG9QYXRoIiwiY2FzdFJlc3QiLCJjYXN0U2xpY2UiLCJpZCIsImNvcHkiLCJhcnJheUJ1ZmZlciIsInR5cGVkQXJyYXkiLCJ2YWxJc0RlZmluZWQiLCJ2YWxJc1JlZmxleGl2ZSIsImNvbXBvc2VBcmdzIiwicGFydGlhbHMiLCJob2xkZXJzIiwiaXNDdXJyaWVkIiwiYXJnc0luZGV4IiwiYXJnc0xlbmd0aCIsImhvbGRlcnNMZW5ndGgiLCJsZWZ0SW5kZXgiLCJsZWZ0TGVuZ3RoIiwicmFuZ2VMZW5ndGgiLCJpc1VuY3VycmllZCIsImNvbXBvc2VBcmdzUmlnaHQiLCJob2xkZXJzSW5kZXgiLCJyaWdodEluZGV4IiwicmlnaHRMZW5ndGgiLCJpc05ldyIsImNyZWF0ZUFnZ3JlZ2F0b3IiLCJpbml0aWFsaXplciIsImNyZWF0ZUFzc2lnbmVyIiwiYXNzaWduZXIiLCJndWFyZCIsImlzSXRlcmF0ZWVDYWxsIiwiaXRlcmFibGUiLCJjcmVhdGVDYXNlRmlyc3QiLCJ0cmFpbGluZyIsImNyZWF0ZUNvbXBvdW5kZXIiLCJ3b3JkcyIsImRlYnVyciIsImNyZWF0ZUN0b3IiLCJ0aGlzQmluZGluZyIsImNyZWF0ZUZpbmQiLCJmaW5kSW5kZXhGdW5jIiwiY3JlYXRlRmxvdyIsImZsYXRSZXN0IiwiZnVuY3MiLCJwcmVyZXEiLCJ0aHJ1Iiwid3JhcHBlciIsImdldEZ1bmNOYW1lIiwiZnVuY05hbWUiLCJnZXREYXRhIiwiaXNMYXppYWJsZSIsInBsYW50IiwiY3JlYXRlSHlicmlkIiwicGFydGlhbHNSaWdodCIsImhvbGRlcnNSaWdodCIsImFyZ1BvcyIsImFyeSIsImFyaXR5IiwiaXNBcnkiLCJpc0JpbmQiLCJpc0JpbmRLZXkiLCJpc0ZsaXAiLCJnZXRIb2xkZXIiLCJob2xkZXJzQ291bnQiLCJuZXdIb2xkZXJzIiwiY3JlYXRlUmVjdXJyeSIsImZuIiwicmVvcmRlciIsImNyZWF0ZUludmVydGVyIiwidG9JdGVyYXRlZSIsImJhc2VJbnZlcnRlciIsImNyZWF0ZU1hdGhPcGVyYXRpb24iLCJvcGVyYXRvciIsImRlZmF1bHRWYWx1ZSIsImNyZWF0ZU92ZXIiLCJhcnJheUZ1bmMiLCJjcmVhdGVQYWRkaW5nIiwiY2hhcnMiLCJjaGFyc0xlbmd0aCIsImNyZWF0ZVJhbmdlIiwic3RlcCIsInRvRmluaXRlIiwiYmFzZVJhbmdlIiwiY3JlYXRlUmVsYXRpb25hbE9wZXJhdGlvbiIsInRvTnVtYmVyIiwid3JhcEZ1bmMiLCJpc0N1cnJ5Iiwic2V0RGF0YSIsInNldFdyYXBUb1N0cmluZyIsImNyZWF0ZVJvdW5kIiwicHJlY2lzaW9uIiwidG9JbnRlZ2VyIiwicGFpciIsIm5vb3AiLCJjcmVhdGVUb1BhaXJzIiwiYmFzZVRvUGFpcnMiLCJjcmVhdGVXcmFwIiwic3JjQml0bWFzayIsIm5ld0JpdG1hc2siLCJpc0NvbWJvIiwibWVyZ2VEYXRhIiwiY3JlYXRlQ3VycnkiLCJjcmVhdGVQYXJ0aWFsIiwiY3JlYXRlQmluZCIsImN1c3RvbURlZmF1bHRzQXNzaWduSW4iLCJjdXN0b21EZWZhdWx0c01lcmdlIiwiY3VzdG9tT21pdENsb25lIiwiYXJyTGVuZ3RoIiwiYXJyVmFsdWUiLCJvdGhlckZ1bmMiLCJnZXRWYWx1ZSIsInN0dWJBcnJheSIsImhhc1BhdGgiLCJoYXNGdW5jIiwiaXNMZW5ndGgiLCJBcnJheUJ1ZmZlciIsInJlc29sdmUiLCJjdG9yU3RyaW5nIiwiaXNNYXNrYWJsZSIsInN0dWJGYWxzZSIsIm90aGVyQXJncyIsIm9sZEFycmF5Iiwic2hvcnRPdXQiLCJyZWZlcmVuY2UiLCJpbnNlcnRXcmFwRGV0YWlscyIsInVwZGF0ZVdyYXBEZXRhaWxzIiwiZ2V0V3JhcERldGFpbHMiLCJjb3VudCIsImxhc3RDYWxsZWQiLCJzdGFtcCIsInJlbWFpbmluZyIsInJhbmQiLCJtZW1vaXplIiwibWVtb2l6ZUNhcHBlZCIsInF1b3RlIiwic3ViU3RyaW5nIiwiY2xvbmUiLCJkaWZmZXJlbmNlQnkiLCJkaWZmZXJlbmNlV2l0aCIsImZpbmRJbmRleCIsImZpbmRMYXN0SW5kZXgiLCJoZWFkIiwiaW50ZXJzZWN0aW9uIiwibWFwcGVkIiwiaW50ZXJzZWN0aW9uQnkiLCJpbnRlcnNlY3Rpb25XaXRoIiwicHVsbCIsInB1bGxBbGwiLCJwdWxsQXQiLCJ1bmlvbiIsInVuaW9uQnkiLCJ1bmlvbldpdGgiLCJ1bnppcCIsInVuemlwV2l0aCIsIndpdGhvdXQiLCJ4b3IiLCJ4b3JCeSIsInhvcldpdGgiLCJ6aXAiLCJ6aXBXaXRoIiwiY2hhaW4iLCJpbnRlcmNlcHRvciIsIndyYXBwZXJBdCIsImNvdW50QnkiLCJmaW5kTGFzdCIsImZvckVhY2hSaWdodCIsImludm9rZU1hcCIsImtleUJ5IiwicGFydGl0aW9uIiwiYmVmb3JlIiwiYmluZEtleSIsIldSQVBfQklORF9GTEFHIiwiZGVib3VuY2UiLCJsYXN0QXJncyIsImxhc3RUaGlzIiwibWF4V2FpdCIsInRpbWVySWQiLCJsYXN0Q2FsbFRpbWUiLCJsYXN0SW52b2tlVGltZSIsImxlYWRpbmciLCJtYXhpbmciLCJpbnZva2VGdW5jIiwibGVhZGluZ0VkZ2UiLCJ0aW1lckV4cGlyZWQiLCJzaG91bGRJbnZva2UiLCJ0aW1lU2luY2VMYXN0Q2FsbCIsInRyYWlsaW5nRWRnZSIsInRpbWVXYWl0aW5nIiwicmVtYWluaW5nV2FpdCIsImRlYm91bmNlZCIsImlzSW52b2tpbmciLCJjYW5jZWwiLCJmbHVzaCIsImRlZmVyIiwiZGVsYXkiLCJyZXNvbHZlciIsIm1lbW9pemVkIiwiQ2FjaGUiLCJuZWdhdGUiLCJvdmVyQXJncyIsInRyYW5zZm9ybXMiLCJmdW5jc0xlbmd0aCIsInBhcnRpYWxSaWdodCIsInJlYXJnIiwiZ3QiLCJndGUiLCJpc0Vycm9yIiwiaXNJbnRlZ2VyIiwiaXNOdW1iZXIiLCJsdCIsImx0ZSIsInRvQXJyYXkiLCJuZXh0IiwiZG9uZSIsIml0ZXJhdG9yVG9BcnJheSIsInJlbWFpbmRlciIsInRvTGVuZ3RoIiwiaXNCaW5hcnkiLCJhc3NpZ25JbiIsImFzc2lnbkluV2l0aCIsImFzc2lnbldpdGgiLCJhdCIsInByb3BzSW5kZXgiLCJwcm9wc0xlbmd0aCIsImRlZmF1bHRzRGVlcCIsIm1lcmdlV2l0aCIsImludmVydCIsImludmVydEJ5IiwiaW52b2tlIiwib21pdCIsIkNMT05FX0RFRVBfRkxBRyIsImJhc2VQaWNrIiwicGlja0J5IiwidG9QYWlycyIsInRvUGFpcnNJbiIsImNhbWVsQ2FzZSIsIndvcmQiLCJjYXBpdGFsaXplIiwidXBwZXJGaXJzdCIsImtlYmFiQ2FzZSIsImxvd2VyQ2FzZSIsImxvd2VyRmlyc3QiLCJzbmFrZUNhc2UiLCJzdGFydENhc2UiLCJ1cHBlckNhc2UiLCJoYXNVbmljb2RlV29yZCIsInVuaWNvZGVXb3JkcyIsImFzY2lpV29yZHMiLCJhdHRlbXB0IiwiYmluZEFsbCIsIm1ldGhvZE5hbWVzIiwiZmxvdyIsImZsb3dSaWdodCIsIm1ldGhvZCIsIm1ldGhvZE9mIiwibWl4aW4iLCJvdmVyIiwib3ZlckV2ZXJ5Iiwib3ZlclNvbWUiLCJiYXNlUHJvcGVydHlEZWVwIiwicmFuZ2VSaWdodCIsImF1Z2VuZCIsImFkZGVuZCIsImRpdmlkZSIsImRpdmlkZW5kIiwiZGl2aXNvciIsIm11bHRpcGx5IiwibXVsdGlwbGllciIsIm11bHRpcGxpY2FuZCIsInJvdW5kIiwic3VidHJhY3QiLCJtaW51ZW5kIiwic3VidHJhaGVuZCIsImFmdGVyIiwiY2FzdEFycmF5IiwiY2h1bmsiLCJjb25kIiwiY29uZm9ybXMiLCJiYXNlQ29uZm9ybXMiLCJwcm9wZXJ0aWVzIiwiY3VycnkiLCJjdXJyeVJpZ2h0IiwiZHJvcFJpZ2h0V2hpbGUiLCJkcm9wV2hpbGUiLCJmaWxsIiwiYmFzZUZpbGwiLCJmbGF0TWFwIiwiZmxhdE1hcERlZXAiLCJmbGF0TWFwRGVwdGgiLCJmbGF0dGVuRGVlcCIsImZsYXR0ZW5EZXB0aCIsImZsaXAiLCJmcm9tUGFpcnMiLCJmdW5jdGlvbnMiLCJmdW5jdGlvbnNJbiIsIm1hcEtleXMiLCJtYXRjaGVzIiwibWF0Y2hlc1Byb3BlcnR5IiwibnRoQXJnIiwib21pdEJ5Iiwib25jZSIsIm9yZGVyQnkiLCJwcm9wZXJ0eU9mIiwicHVsbEFsbEJ5IiwicHVsbEFsbFdpdGgiLCJyZW1vdmUiLCJzYW1wbGVTaXplIiwic2V0V2l0aCIsInNodWZmbGUiLCJzb3J0ZWRVbmlxIiwic29ydGVkVW5pcUJ5IiwibGltaXQiLCJzcHJlYWQiLCJ0YWlsIiwidGFrZSIsInRha2VSaWdodCIsInRha2VSaWdodFdoaWxlIiwidGFrZVdoaWxlIiwidGFwIiwidGhyb3R0bGUiLCJ0b1BhdGgiLCJpc0Fyckxpa2UiLCJ1bmFyeSIsInVuaXFCeSIsInVuaXFXaXRoIiwidW5zZXQiLCJ1cGRhdGUiLCJ1cGRhdGVXaXRoIiwidmFsdWVzSW4iLCJ3cmFwIiwiemlwT2JqZWN0RGVlcCIsImVudHJpZXNJbiIsImV4dGVuZCIsImV4dGVuZFdpdGgiLCJjbGFtcCIsImNsb25lRGVlcCIsImNsb25lRGVlcFdpdGgiLCJjbG9uZVdpdGgiLCJjb25mb3Jtc1RvIiwiZGVmYXVsdFRvIiwiZW5kc1dpdGgiLCJwb3NpdGlvbiIsImVzY2FwZSIsImVzY2FwZVJlZ0V4cCIsImZpbmRLZXkiLCJmaW5kTGFzdEtleSIsImZvckluIiwiZm9ySW5SaWdodCIsImZvck93biIsImZvck93blJpZ2h0IiwiaW5SYW5nZSIsImJhc2VJblJhbmdlIiwiaXNCb29sZWFuIiwiaXNFbGVtZW50IiwiaXNFcXVhbCIsImlzRXF1YWxXaXRoIiwiaXNNYXRjaCIsImlzTWF0Y2hXaXRoIiwiaXNOYXRpdmUiLCJpc05pbCIsImlzTnVsbCIsImlzU2FmZUludGVnZXIiLCJpc1dlYWtNYXAiLCJpc1dlYWtTZXQiLCJsYXN0SW5kZXhPZiIsInN0cmljdExhc3RJbmRleE9mIiwibWF4QnkiLCJtZWFuIiwibWVhbkJ5IiwibWluQnkiLCJzdHViT2JqZWN0Iiwic3R1YlN0cmluZyIsInN0dWJUcnVlIiwibnRoIiwibm9Db25mbGljdCIsInBhZCIsInN0ckxlbmd0aCIsInBhZEVuZCIsInBhZFN0YXJ0IiwicmFkaXgiLCJmbG9hdGluZyIsInRlbXAiLCJyZWR1Y2VSaWdodCIsInJlcGVhdCIsInNhbXBsZSIsInNvcnRlZEluZGV4Iiwic29ydGVkSW5kZXhCeSIsInNvcnRlZEluZGV4T2YiLCJzb3J0ZWRMYXN0SW5kZXgiLCJzb3J0ZWRMYXN0SW5kZXhCeSIsInNvcnRlZExhc3RJbmRleE9mIiwic3RhcnRzV2l0aCIsInN1bSIsInN1bUJ5IiwidGVtcGxhdGUiLCJzZXR0aW5ncyIsImlzRXNjYXBpbmciLCJpc0V2YWx1YXRpbmciLCJpbXBvcnRzIiwiaW1wb3J0c0tleXMiLCJpbXBvcnRzVmFsdWVzIiwiaW50ZXJwb2xhdGUiLCJyZURlbGltaXRlcnMiLCJldmFsdWF0ZSIsInNvdXJjZVVSTCIsImVzY2FwZVZhbHVlIiwiaW50ZXJwb2xhdGVWYWx1ZSIsImVzVGVtcGxhdGVWYWx1ZSIsImV2YWx1YXRlVmFsdWUiLCJ2YXJpYWJsZSIsInRpbWVzIiwidG9Mb3dlciIsInRvU2FmZUludGVnZXIiLCJ0b1VwcGVyIiwidHJpbSIsInRyaW1FbmQiLCJ0cmltU3RhcnQiLCJ0cnVuY2F0ZSIsIm9taXNzaW9uIiwic2VhcmNoIiwibmV3RW5kIiwidW5lc2NhcGUiLCJ1bmlxdWVJZCIsImVhY2giLCJlYWNoUmlnaHQiLCJpc0ZpbHRlciIsInRha2VOYW1lIiwiZHJvcE5hbWUiLCJjaGVja0l0ZXJhdGVlIiwiaXNUYWtlciIsImxvZGFzaEZ1bmMiLCJyZXRVbndyYXBwZWQiLCJpc0xhenkiLCJ1c2VMYXp5IiwiaXNIeWJyaWQiLCJpc1Vud3JhcHBlZCIsIm9ubHlMYXp5IiwiY2hhaW5OYW1lIiwiZGlyIiwiaXNSaWdodCIsInZpZXciLCJnZXRWaWV3IiwiaXRlckxlbmd0aCIsInRha2VDb3VudCIsIml0ZXJJbmRleCIsImNvbW1pdCIsIndyYXBwZWQiLCJ0b0pTT04iLCJSZWdFeHBQYXJzZXIiLCJzYXZlU3RhdGUiLCJncm91cElkeCIsInJlc3RvcmVTdGF0ZSIsImNvbnN1bWVDaGFyIiwiZGlzanVuY3Rpb24iLCJiZWdpbiIsIm11bHRpTGluZSIsImlzUmVnRXhwRmxhZyIsInBvcENoYXIiLCJhZGRGbGFnIiwicGVla0NoYXIiLCJpc1Rlcm0iLCJpc0Fzc2VydGlvbiIsImFzc2VydGlvbiIsIkFTU0VSVF9FWElTVFMiLCJBU1NFUlRfTkVWRVJfUkVBQ0hfSEVSRSIsImlzQmFja3RyYWNraW5nIiwiYXRNb3N0IiwiaW50ZWdlckluY2x1ZGluZ1plcm8iLCJpc0RpZ2l0IiwiZ3JlZWR5IiwiZG90QWxsIiwiYXRvbUVzY2FwZSIsImNoYXJhY3RlckNsYXNzIiwiaXNQYXR0ZXJuQ2hhcmFjdGVyIiwicGF0dGVybkNoYXJhY3RlciIsImlzUXVhbnRpZmllciIsImNjIiwiZGVjaW1hbEVzY2FwZUF0b20iLCJjaGFyYWN0ZXJDbGFzc0VzY2FwZSIsImNvbnRyb2xFc2NhcGVBdG9tIiwiY29udHJvbExldHRlckVzY2FwZUF0b20iLCJudWxDaGFyYWN0ZXJBdG9tIiwiaGV4RXNjYXBlU2VxdWVuY2VBdG9tIiwicmVnRXhwVW5pY29kZUVzY2FwZVNlcXVlbmNlQXRvbSIsImlkZW50aXR5RXNjYXBlQXRvbSIsInBvc2l0aXZlSW50ZWdlciIsImRpZ2l0c0NoYXJDb2RlcyIsIndoaXRlc3BhY2VDb2RlcyIsIndvcmRDaGFyQ29kZXMiLCJlc2NhcGVDb2RlIiwibGV0dGVyIiwicGFyc2VIZXhEaWdpdHMiLCJjbGFzc1BhdHRlcm5DaGFyYWN0ZXJBdG9tIiwiaXNDbGFzc0F0b20iLCJjbGFzc0F0b20iLCJpc1JhbmdlRGFzaCIsImluc2VydFRvU2V0IiwiY2xhc3NFc2NhcGUiLCJjYXB0dXJpbmciLCJncm91cEFzdCIsImRlY2ltYWxQYXR0ZXJuTm9aZXJvIiwiZGVjaW1hbFBhdHRlcm4iLCJuZXh0Q2hhciIsImlzQXRvbSIsInByZXZTdGF0ZSIsImhvd01hbnkiLCJoZXhTdHJpbmciLCJoZXhDaGFyIiwiaGV4RGlnaXRQYXR0ZXJuIiwic3ViSXRlbSIsImZsYWdPYmoiLCJmbGFnS2V5IiwiQmFzZVJlZ0V4cFZpc2l0b3IiLCJjaGlsZCIsInN1YkNoaWxkIiwidmlzaXRQYXR0ZXJuIiwidmlzaXRGbGFncyIsInZpc2l0RGlzanVuY3Rpb24iLCJ2aXNpdFdvcmRCb3VuZGFyeSIsInZpc2l0Tm9uV29yZEJvdW5kYXJ5IiwidmlzaXRHcm91cCIsInZpc2l0R3JvdXBCYWNrUmVmZXJlbmNlIiwidmlzaXRRdWFudGlmaWVyIiwiZyIsIndpbmRvdyIsIndlYnBhY2tQb2x5ZmlsbCIsImRlcHJlY2F0ZSIsImFwaSIsImNvbnRlbnQiLCJkZWZhdWx0IiwibG9jYWxzIiwibWVtbyIsImlzT2xkSUUiLCJCb29sZWFuIiwiZG9jdW1lbnQiLCJhbGwiLCJhdG9iIiwiZ2V0VGFyZ2V0Iiwic3R5bGVUYXJnZXQiLCJxdWVyeVNlbGVjdG9yIiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJzdHlsZXNJbkRvbSIsImdldEluZGV4QnlJZGVudGlmaWVyIiwiaWRlbnRpZmllciIsIm1vZHVsZXNUb0RvbSIsImxpc3QiLCJpZENvdW50TWFwIiwiaWRlbnRpZmllcnMiLCJiYXNlIiwibWVkaWEiLCJzb3VyY2VNYXAiLCJyZWZlcmVuY2VzIiwiYWRkU3R5bGUiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJzdHlsZSIsImNyZWF0ZUVsZW1lbnQiLCJhdHRyaWJ1dGVzIiwibm9uY2UiLCJzZXRBdHRyaWJ1dGUiLCJpbnNlcnQiLCJhcHBlbmRDaGlsZCIsInRleHRTdG9yZSIsInJlcGxhY2VUZXh0IiwicmVwbGFjZW1lbnQiLCJhcHBseVRvU2luZ2xldG9uVGFnIiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJjc3NOb2RlIiwiY3JlYXRlVGV4dE5vZGUiLCJjaGlsZE5vZGVzIiwicmVtb3ZlQ2hpbGQiLCJpbnNlcnRCZWZvcmUiLCJhcHBseVRvVGFnIiwicmVtb3ZlQXR0cmlidXRlIiwiYnRvYSIsImVuY29kZVVSSUNvbXBvbmVudCIsImZpcnN0Q2hpbGQiLCJzaW5nbGV0b24iLCJzaW5nbGV0b25Db3VudGVyIiwic3R5bGVJbmRleCIsInBhcmVudE5vZGUiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJuZXdPYmoiLCJsYXN0SWRlbnRpZmllcnMiLCJuZXdMaXN0IiwibmV3TGFzdElkZW50aWZpZXJzIiwiX2luZGV4IiwiX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIiwiX19fQ1NTX0xPQURFUl9HRVRfVVJMX0lNUE9SVF9fXyIsIl9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8wX19fIiwiX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMF9fXyIsInVzZVNvdXJjZU1hcCIsImNzc01hcHBpbmciLCJzb3VyY2VNYXBwaW5nIiwiYmFzZTY0Iiwic291cmNlVVJMcyIsInNvdXJjZVJvb3QiLCJjc3NXaXRoTWFwcGluZ1RvU3RyaW5nIiwibWVkaWFRdWVyeSIsImRlZHVwZSIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJ1cmwiLCJoYXNoIiwibmVlZFF1b3RlcyIsIldoaXRlU3BhY2UiLCJWYXIiLCJQcmludCIsIlByaW50bG4iLCJJZGVudGlmaWVyIiwiTGl0ZXJhbCIsIkludGVnZXIiLCJQYXJlbnRoZXNlc09wZW4iLCJQYXJlbnRoZXNlc0Nsb3NlIiwiQmxvY2tPcGVuIiwiQmxvY2tDbG9zZSIsIkNvbW1hIiwiU2VtaUNvbG9uIiwiRXF1YWxzIiwiQWRkaXRpb25PcCIsIk11bHRpcGxpY2F0aW9uT3AiLCJQbHVzIiwiTWludXMiLCJEaXYiLCJNdWx0Iiwidm9jYWJ1bGFyeSIsIm1qMUxleGVyIiwic3VwZXIiLCIkIiwiaWRlbnRMaXN0IiwiZGVjbGFyYXRpb24iLCJzdGF0ZW1lbnQiLCJhc3NpZ25tZW50IiwicHJpbnRTdGF0IiwiZXhwcmVzc2lvbiIsImFkZGl0aW9uRXhwcmVzc2lvbiIsIm11bHRpcGxpY2F0aW9uRXhwcmVzc2lvbiIsImZhY3RvciIsIml0ZW1MaXN0IiwicHJpbnRJdGVtIiwibWoxUGFyc2VyIiwiQmFzZUNzdFZpc2l0b3IiLCJtajFJbnRlcnByZXRlciIsImZyYW1lIiwib3V0cHV0IiwidmFycyIsImxocyIsInJocyIsInJoc09wZXJhbmQiLCJyaHNWYWx1ZSIsIml0ZW1zIiwiZG9QcmludCIsImRvUHJpbnRsbiIsInBpIiwicmVzdWx0VmlldyIsImdldEVsZW1lbnRCeUlkIiwidG9rZW5WaWV3IiwiaW5uZXJIVE1MIiwibGV4IiwicHJvZ3JhbSIsImxleEVycm9ycyIsInBhcnNlIiwiY2xhc3NMaXN0IiwidG9rIiwiYWRkRXZlbnRMaXN0ZW5lciJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBS2ZGLEVBQW9CUSxFQUFJRixFQUd4Qk4sRUFBb0JTLEVBQUlWLEVBR3hCQyxFQUFvQlUsRUFBSSxTQUFTUixFQUFTUyxFQUFNQyxHQUMzQ1osRUFBb0JhLEVBQUVYLEVBQVNTLElBQ2xDRyxPQUFPQyxlQUFlYixFQUFTUyxFQUFNLENBQUVLLFlBQVksRUFBTUMsSUFBS0wsS0FLaEVaLEVBQW9Ca0IsRUFBSSxTQUFTaEIsR0FDWCxvQkFBWGlCLFFBQTBCQSxPQUFPQyxhQUMxQ04sT0FBT0MsZUFBZWIsRUFBU2lCLE9BQU9DLFlBQWEsQ0FBRUMsTUFBTyxXQUU3RFAsT0FBT0MsZUFBZWIsRUFBUyxhQUFjLENBQUVtQixPQUFPLEtBUXZEckIsRUFBb0JzQixFQUFJLFNBQVNELEVBQU9FLEdBRXZDLEdBRFUsRUFBUEEsSUFBVUYsRUFBUXJCLEVBQW9CcUIsSUFDL0IsRUFBUEUsRUFBVSxPQUFPRixFQUNwQixHQUFXLEVBQVBFLEdBQThCLGlCQUFWRixHQUFzQkEsR0FBU0EsRUFBTUcsV0FBWSxPQUFPSCxFQUNoRixJQUFJSSxFQUFLWCxPQUFPWSxPQUFPLE1BR3ZCLEdBRkExQixFQUFvQmtCLEVBQUVPLEdBQ3RCWCxPQUFPQyxlQUFlVSxFQUFJLFVBQVcsQ0FBRVQsWUFB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QUFRLElBQUssSUFBUSxJQUMxRSxJQUFRLElBQU0sSUFBUSxJQUN0QixJQUFRLElBQU0sSUFBUSxJQUN0QixJQUFRLElBQU0sSUFBUSxJQUFLLElBQVEsSUFBSyxJQUFRLElBQ2hELElBQVEsSUFBTSxJQUFRLElBQUssSUFBUSxJQUFLLElBQVEsSUFDaEQsSUFBUSxJQUFNLElBQVEsSUFBSyxJQUFRLElBQUssSUFBUSxJQUNoRCxJQUFRLElBQU0sSUFBUSxJQUFLLElBQVEsSUFBSyxJQUFRLElBQ2hELElBQVEsSUFBTSxJQUFRLElBQ3RCLElBQVEsSUFBTSxJQUFRLElBQUssSUFBUSxJQUFLLElBQVEsSUFBSyxJQUFRLElBQUssSUFBUSxJQUMxRSxJQUFRLElBQU0sSUFBUSxJQUFLLElBQVEsSUFBSyxJQUFRLElBQUssSUFBUSxJQUFLLElBQVEsSUFDMUUsSUFBUSxJQUFNLElBQVEsSUFBSyxJQUFRLElBQUssSUFBUSxJQUNoRCxJQUFRLElBQU0sSUFBUSxJQUFLLElBQVEsSUFBSyxJQUFRLElBQ2hELElBQVEsSUFBTSxJQUFRLElBQUssSUFBUSxJQUNuQyxJQUFRLEtBQU0sSUFBUSxLQUN0QixJQUFRLEtBQU0sSUFBUSxLQUN0QixJQUFRLEtBRVIsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQ3pDLElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUN6QyxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQ3hELElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFDeEQsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN4RCxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN2RSxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN2RSxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQ3hELElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFDeEQsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN4RCxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN2RSxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN2RSxJQUFVLElBQU0sSUFBVSxJQUMxQixJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFDekMsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFDdkUsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFDdkUsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN4RCxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQ3hELElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUN6QyxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFDekMsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQ3pDLElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUN6QyxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQ3hELElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFDeEQsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQ3pDLElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUN6QyxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFDdEYsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQ3RGLElBQVUsSUFBTSxJQUFVLElBQzFCLElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUN6QyxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFDekMsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQ3pDLElBQVUsS0FBTSxJQUFV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UjB5RSxFQUFXUSxVQUFVclcsT0FBTyxTQUM1QjZWLEVBQVdRLFVBQVUvNEIsSUFBSSxXQUN6QnU0QixFQUFXRyxVQUFZNW1GLEVBQU96QixNQUM5Qm9vRixFQUFVQyxVQUFZLElBQ25CamYsTUFBTTNuRSxFQUFPc2dCLFFBQ2JsZ0IsSUFBSzhtRixHQUFRLEdBQUdBLEVBQUl6MkUsVUFBVTVTLFFBQVFxcEYsRUFBSWx1RSxTQUMxQ2pGLEtBQUssT0FJWmtyRSxTQUFTeUgsZUFBZSxRQUFRUyxpQkFBaUIsUUFBVXg4RSxHQUFNbXNFLEVBQVNuc0UsRUFBRWhHLE9BQU9wRyxRQUNuRnU0RSIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDEyKTtcbiIsIi8qXG4gVXRpbHMgdXNpbmcgbG9kYXNoIHN0eWxlIEFQSS4gKG5vdCBuZWNlc3NhcmlseSAxMDAlIGNvbXBsaWFudCkgZm9yIGZ1bmN0aW9uYWwgYW5kIG90aGVyIHV0aWxzLlxuIFRoZXNlIHV0aWxzIHNob3VsZCByZXBsYWNlIHVzYWdlIG9mIGxvZGFzaCBpbiB0aGUgcHJvZHVjdGlvbiBjb2RlIGJhc2UuIG5vdCBiZWNhdXNlIHRoZXkgYXJlIGFueSBiZXR0ZXIuLi5cbiBidXQgZm9yIHRoZSBwdXJwb3NlIG9mIGJlaW5nIGEgZGVwZW5kZW5jeSBmcmVlIGxpYnJhcnkuXG5cbiBUaGUgaG90c3BvdHMgaW4gdGhlIGNvZGUgYXJlIGFscmVhZHkgd3JpdHRlbiBpbiBpbXBlcmF0aXZlIHN0eWxlIGZvciBwZXJmb3JtYW5jZSByZWFzb25zLlxuIHNvIHdyaXRpbmcgc2V2ZXJhbCBkb3plbiB1dGlscyB3aGljaCBtYXkgYmUgc2xvd2VyIHRoYW4gdGhlIG9yaWdpbmFsIGxvZGFzaCwgZG9lcyBub3QgbWF0dGVyIGFzIG11Y2hcbiBjb25zaWRlcmluZyB0aGV5IHdpbGwgbm90IGJlIGludm9rZWQgaW4gaG90c3BvdHMuLi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzRW1wdHkoYXJyKSB7XG4gICAgcmV0dXJuIGFyciAmJiBhcnIubGVuZ3RoID09PSAwO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGtleXMob2JqKSB7XG4gICAgaWYgKG9iaiA9PT0gdW5kZWZpbmVkIHx8IG9iaiA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIHJldHVybiBPYmplY3Qua2V5cyhvYmopO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHZhbHVlcyhvYmopIHtcbiAgICB2YXIgdmFscyA9IFtdO1xuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFscy5wdXNoKG9ialtrZXlzW2ldXSk7XG4gICAgfVxuICAgIHJldHVybiB2YWxzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG1hcFZhbHVlcyhvYmosIGNhbGxiYWNrKSB7XG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIHZhciBvYmpLZXlzID0ga2V5cyhvYmopO1xuICAgIGZvciAodmFyIGlkeCA9IDA7IGlkeCA8IG9iaktleXMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICB2YXIgY3VycktleSA9IG9iaktleXNbaWR4XTtcbiAgICAgICAgcmVzdWx0LnB1c2goY2FsbGJhY2suY2FsbChudWxsLCBvYmpbY3VycktleV0sIGN1cnJLZXkpKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBtYXAoYXJyLCBjYWxsYmFjaykge1xuICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICBmb3IgKHZhciBpZHggPSAwOyBpZHggPCBhcnIubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICByZXN1bHQucHVzaChjYWxsYmFjay5jYWxsKG51bGwsIGFycltpZHhdLCBpZHgpKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmbGF0dGVuKGFycikge1xuICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICBmb3IgKHZhciBpZHggPSAwOyBpZHggPCBhcnIubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICB2YXIgY3Vyckl0ZW0gPSBhcnJbaWR4XTtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY3Vyckl0ZW0pKSB7XG4gICAgICAgICAgICByZXN1bHQgPSByZXN1bHQuY29uY2F0KGZsYXR0ZW4oY3Vyckl0ZW0pKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGN1cnJJdGVtKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZpcnN0KGFycikge1xuICAgIHJldHVybiBpc0VtcHR5KGFycikgPyB1bmRlZmluZWQgOiBhcnJbMF07XG59XG5leHBvcnQgZnVuY3Rpb24gbGFzdChhcnIpIHtcbiAgICB2YXIgbGVuID0gYXJyICYmIGFyci5sZW5ndGg7XG4gICAgcmV0dXJuIGxlbiA/IGFycltsZW4gLSAxXSA6IHVuZGVmaW5lZDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmb3JFYWNoKGNvbGxlY3Rpb24sIGl0ZXJhdG9yQ2FsbGJhY2spIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgIGlmIChBcnJheS5pc0FycmF5KGNvbGxlY3Rpb24pKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29sbGVjdGlvbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaXRlcmF0b3JDYWxsYmFjay5jYWxsKG51bGwsIGNvbGxlY3Rpb25baV0sIGkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzT2JqZWN0KGNvbGxlY3Rpb24pKSB7XG4gICAgICAgIHZhciBjb2xLZXlzID0ga2V5cyhjb2xsZWN0aW9uKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb2xLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIga2V5ID0gY29sS2V5c1tpXTtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IGNvbGxlY3Rpb25ba2V5XTtcbiAgICAgICAgICAgIGl0ZXJhdG9yQ2FsbGJhY2suY2FsbChudWxsLCB2YWx1ZSwga2V5KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJub24gZXhoYXVzdGl2ZSBtYXRjaFwiKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gaXNTdHJpbmcoaXRlbSkge1xuICAgIHJldHVybiB0eXBlb2YgaXRlbSA9PT0gXCJzdHJpbmdcIjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1VuZGVmaW5lZChpdGVtKSB7XG4gICAgcmV0dXJuIGl0ZW0gPT09IHVuZGVmaW5lZDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0Z1bmN0aW9uKGl0ZW0pIHtcbiAgICByZXR1cm4gaXRlbSBpbnN0YW5jZW9mIEZ1bmN0aW9uO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGRyb3AoYXJyLCBob3dNdWNoKSB7XG4gICAgaWYgKGhvd011Y2ggPT09IHZvaWQgMCkgeyBob3dNdWNoID0gMTsgfVxuICAgIHJldHVybiBhcnIuc2xpY2UoaG93TXVjaCwgYXJyLmxlbmd0aCk7XG59XG5leHBvcnQgZnVuY3Rpb24gZHJvcFJpZ2h0KGFyciwgaG93TXVjaCkge1xuICAgIGlmIChob3dNdWNoID09PSB2b2lkIDApIHsgaG93TXVjaCA9IDE7IH1cbiAgICByZXR1cm4gYXJyLnNsaWNlKDAsIGFyci5sZW5ndGggLSBob3dNdWNoKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmaWx0ZXIoYXJyLCBwcmVkaWNhdGUpIHtcbiAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGl0ZW0gPSBhcnJbaV07XG4gICAgICAgICAgICBpZiAocHJlZGljYXRlLmNhbGwobnVsbCwgaXRlbSkpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChpdGVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlamVjdChhcnIsIHByZWRpY2F0ZSkge1xuICAgIHJldHVybiBmaWx0ZXIoYXJyLCBmdW5jdGlvbiAoaXRlbSkgeyByZXR1cm4gIXByZWRpY2F0ZShpdGVtKTsgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gcGljayhvYmosIHByZWRpY2F0ZSkge1xuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqKTtcbiAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBjdXJyS2V5ID0ga2V5c1tpXTtcbiAgICAgICAgdmFyIGN1cnJJdGVtID0gb2JqW2N1cnJLZXldO1xuICAgICAgICBpZiAocHJlZGljYXRlKGN1cnJJdGVtKSkge1xuICAgICAgICAgICAgcmVzdWx0W2N1cnJLZXldID0gY3Vyckl0ZW07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBoYXMob2JqLCBwcm9wKSB7XG4gICAgaWYgKGlzT2JqZWN0KG9iaikpIHtcbiAgICAgICAgcmV0dXJuIG9iai5oYXNPd25Qcm9wZXJ0eShwcm9wKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNvbnRhaW5zKGFyciwgaXRlbSkge1xuICAgIHJldHVybiBmaW5kKGFyciwgZnVuY3Rpb24gKGN1cnJJdGVtKSB7IHJldHVybiBjdXJySXRlbSA9PT0gaXRlbTsgfSkgIT09IHVuZGVmaW5lZCA/IHRydWUgOiBmYWxzZTtcbn1cbi8qKlxuICogc2hhbGxvdyBjbG9uZVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xvbmVBcnIoYXJyKSB7XG4gICAgdmFyIG5ld0FyciA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIG5ld0Fyci5wdXNoKGFycltpXSk7XG4gICAgfVxuICAgIHJldHVybiBuZXdBcnI7XG59XG4vKipcbiAqIHNoYWxsb3cgY2xvbmVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsb25lT2JqKG9iaikge1xuICAgIHZhciBjbG9uZWRPYmogPSB7fTtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7XG4gICAgICAgICAgICBjbG9uZWRPYmpba2V5XSA9IG9ialtrZXldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjbG9uZWRPYmo7XG59XG5leHBvcnQgZnVuY3Rpb24gZmluZChhcnIsIHByZWRpY2F0ZSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBpdGVtID0gYXJyW2ldO1xuICAgICAgICBpZiAocHJlZGljYXRlLmNhbGwobnVsbCwgaXRlbSkpIHtcbiAgICAgICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5leHBvcnQgZnVuY3Rpb24gZmluZEFsbChhcnIsIHByZWRpY2F0ZSkge1xuICAgIHZhciBmb3VuZCA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBpdGVtID0gYXJyW2ldO1xuICAgICAgICBpZiAocHJlZGljYXRlLmNhbGwobnVsbCwgaXRlbSkpIHtcbiAgICAgICAgICAgIGZvdW5kLnB1c2goaXRlbSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZvdW5kO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlZHVjZShhcnJPck9iaiwgaXRlcmF0b3IsIGluaXRpYWwpIHtcbiAgICB2YXIgaXNBcnIgPSBBcnJheS5pc0FycmF5KGFyck9yT2JqKTtcbiAgICB2YXIgdmFscyA9IGlzQXJyID8gYXJyT3JPYmogOiB2YWx1ZXMoYXJyT3JPYmopO1xuICAgIHZhciBvYmpLZXlzID0gaXNBcnIgPyBbXSA6IGtleXMoYXJyT3JPYmopO1xuICAgIHZhciBhY2N1bXVsYXRvciA9IGluaXRpYWw7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGFjY3VtdWxhdG9yID0gaXRlcmF0b3IuY2FsbChudWxsLCBhY2N1bXVsYXRvciwgdmFsc1tpXSwgaXNBcnIgPyBpIDogb2JqS2V5c1tpXSk7XG4gICAgfVxuICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjb21wYWN0KGFycikge1xuICAgIHJldHVybiByZWplY3QoYXJyLCBmdW5jdGlvbiAoaXRlbSkgeyByZXR1cm4gaXRlbSA9PT0gbnVsbCB8fCBpdGVtID09PSB1bmRlZmluZWQ7IH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHVuaXEoYXJyLCBpZGVudGl0eSkge1xuICAgIGlmIChpZGVudGl0eSA9PT0gdm9pZCAwKSB7IGlkZW50aXR5ID0gZnVuY3Rpb24gKGl0ZW0pIHsgcmV0dXJuIGl0ZW07IH07IH1cbiAgICB2YXIgaWRlbnRpdGllcyA9IFtdO1xuICAgIHJldHVybiByZWR1Y2UoYXJyLCBmdW5jdGlvbiAocmVzdWx0LCBjdXJySXRlbSkge1xuICAgICAgICB2YXIgY3VycklkZW50aXR5ID0gaWRlbnRpdHkoY3Vyckl0ZW0pO1xuICAgICAgICBpZiAoY29udGFpbnMoaWRlbnRpdGllcywgY3VycklkZW50aXR5KSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlkZW50aXRpZXMucHVzaChjdXJySWRlbnRpdHkpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5jb25jYXQoY3Vyckl0ZW0pO1xuICAgICAgICB9XG4gICAgfSwgW10pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHBhcnRpYWwoZnVuYykge1xuICAgIHZhciByZXN0QXJncyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHJlc3RBcmdzW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICB2YXIgZmlyc3RBcmcgPSBbbnVsbF07XG4gICAgdmFyIGFsbEFyZ3MgPSBmaXJzdEFyZy5jb25jYXQocmVzdEFyZ3MpO1xuICAgIHJldHVybiBGdW5jdGlvbi5iaW5kLmFwcGx5KGZ1bmMsIGFsbEFyZ3MpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQXJyYXkob2JqKSB7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkob2JqKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1JlZ0V4cChvYmopIHtcbiAgICByZXR1cm4gb2JqIGluc3RhbmNlb2YgUmVnRXhwO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzT2JqZWN0KG9iaikge1xuICAgIHJldHVybiBvYmogaW5zdGFuY2VvZiBPYmplY3Q7XG59XG5leHBvcnQgZnVuY3Rpb24gZXZlcnkoYXJyLCBwcmVkaWNhdGUpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoIXByZWRpY2F0ZShhcnJbaV0sIGkpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5leHBvcnQgZnVuY3Rpb24gZGlmZmVyZW5jZShhcnIsIHZhbHVlcykge1xuICAgIHJldHVybiByZWplY3QoYXJyLCBmdW5jdGlvbiAoaXRlbSkgeyByZXR1cm4gY29udGFpbnModmFsdWVzLCBpdGVtKTsgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gc29tZShhcnIsIHByZWRpY2F0ZSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChwcmVkaWNhdGUoYXJyW2ldKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGluZGV4T2YoYXJyLCB2YWx1ZSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChhcnJbaV0gPT09IHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG59XG5leHBvcnQgZnVuY3Rpb24gc29ydEJ5KGFyciwgb3JkZXJGdW5jKSB7XG4gICAgdmFyIHJlc3VsdCA9IGNsb25lQXJyKGFycik7XG4gICAgcmVzdWx0LnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIG9yZGVyRnVuYyhhKSAtIG9yZGVyRnVuYyhiKTsgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydCBmdW5jdGlvbiB6aXBPYmplY3Qoa2V5cywgdmFsdWVzKSB7XG4gICAgaWYgKGtleXMubGVuZ3RoICE9PSB2YWx1ZXMubGVuZ3RoKSB7XG4gICAgICAgIHRocm93IEVycm9yKFwiY2FuJ3QgemlwT2JqZWN0IHdpdGggZGlmZmVyZW50IG51bWJlciBvZiBrZXlzIGFuZCB2YWx1ZXMhXCIpO1xuICAgIH1cbiAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHJlc3VsdFtrZXlzW2ldXSA9IHZhbHVlc1tpXTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbi8qKlxuICogbXV0YXRlcyEgKGFuZCByZXR1cm5zKSB0YXJnZXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2lnbih0YXJnZXQpIHtcbiAgICB2YXIgc291cmNlcyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHNvdXJjZXNbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc291cmNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgY3VyU291cmNlID0gc291cmNlc1tpXTtcbiAgICAgICAgdmFyIGN1cnJTb3VyY2VLZXlzID0ga2V5cyhjdXJTb3VyY2UpO1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGN1cnJTb3VyY2VLZXlzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICB2YXIgY3VycktleSA9IGN1cnJTb3VyY2VLZXlzW2pdO1xuICAgICAgICAgICAgdGFyZ2V0W2N1cnJLZXldID0gY3VyU291cmNlW2N1cnJLZXldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXQ7XG59XG4vKipcbiAqIG11dGF0ZXMhIChhbmQgcmV0dXJucykgdGFyZ2V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NpZ25Ob092ZXJ3cml0ZSh0YXJnZXQpIHtcbiAgICB2YXIgc291cmNlcyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHNvdXJjZXNbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc291cmNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgY3VyU291cmNlID0gc291cmNlc1tpXTtcbiAgICAgICAgdmFyIGN1cnJTb3VyY2VLZXlzID0ga2V5cyhjdXJTb3VyY2UpO1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGN1cnJTb3VyY2VLZXlzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICB2YXIgY3VycktleSA9IGN1cnJTb3VyY2VLZXlzW2pdO1xuICAgICAgICAgICAgaWYgKCFoYXModGFyZ2V0LCBjdXJyS2V5KSkge1xuICAgICAgICAgICAgICAgIHRhcmdldFtjdXJyS2V5XSA9IGN1clNvdXJjZVtjdXJyS2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGFyZ2V0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGRlZmF1bHRzKCkge1xuICAgIHZhciBzb3VyY2VzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgc291cmNlc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICByZXR1cm4gYXNzaWduTm9PdmVyd3JpdGUuYXBwbHkobnVsbCwgW3t9XS5jb25jYXQoc291cmNlcykpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdyb3VwQnkoYXJyLCBncm91cEtleUZ1bmMpIHtcbiAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgZm9yRWFjaChhcnIsIGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHZhciBjdXJyR3JvdXBLZXkgPSBncm91cEtleUZ1bmMoaXRlbSk7XG4gICAgICAgIHZhciBjdXJyR3JvdXBBcnIgPSByZXN1bHRbY3Vyckdyb3VwS2V5XTtcbiAgICAgICAgaWYgKGN1cnJHcm91cEFycikge1xuICAgICAgICAgICAgY3Vyckdyb3VwQXJyLnB1c2goaXRlbSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXN1bHRbY3Vyckdyb3VwS2V5XSA9IFtpdGVtXTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG4vKipcbiAqIE1lcmdlIG9iajIgaW50byBvYmoxLlxuICogV2lsbCBvdmVyd3JpdGUgZXhpc3RpbmcgcHJvcGVydGllcyB3aXRoIHRoZSBzYW1lIG5hbWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlKG9iajEsIG9iajIpIHtcbiAgICB2YXIgcmVzdWx0ID0gY2xvbmVPYmoob2JqMSk7XG4gICAgdmFyIGtleXMyID0ga2V5cyhvYmoyKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBrZXkgPSBrZXlzMltpXTtcbiAgICAgICAgdmFyIHZhbHVlID0gb2JqMltrZXldO1xuICAgICAgICByZXN1bHRba2V5XSA9IHZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIE5PT1AoKSB7IH1cbmV4cG9ydCBmdW5jdGlvbiBJREVOVElUWShpdGVtKSB7XG4gICAgcmV0dXJuIGl0ZW07XG59XG4vKipcbiAqIFdpbGwgcmV0dXJuIGEgbmV3IHBhY2tlZCBhcnJheSB3aXRoIHNhbWUgdmFsdWVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFja0FycmF5KGhvbGV5QXJyKSB7XG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaG9sZXlBcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIG9yZ1ZhbHVlID0gaG9sZXlBcnJbaV07XG4gICAgICAgIHJlc3VsdC5wdXNoKG9yZ1ZhbHVlICE9PSB1bmRlZmluZWQgPyBvcmdWYWx1ZSA6IHVuZGVmaW5lZCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5leHBvcnQgZnVuY3Rpb24gUFJJTlRfRVJST1IobXNnKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgLSBjYW4ndCBvdmVycmlkZSBnbG9iYWwuY29uc29sZSBpbiBub2RlLmpzICovXG4gICAgaWYgKGNvbnNvbGUgJiYgY29uc29sZS5lcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3I6IFwiICsgbXNnKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gUFJJTlRfV0FSTklORyhtc2cpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAtIGNhbid0IG92ZXJyaWRlIGdsb2JhbC5jb25zb2xlIGluIG5vZGUuanMqL1xuICAgIGlmIChjb25zb2xlICYmIGNvbnNvbGUud2Fybikge1xuICAgICAgICAvLyBUT0RPOiBtb2RpZnkgZG9jcyBhY2NvcmRpbmdseVxuICAgICAgICBjb25zb2xlLndhcm4oXCJXYXJuaW5nOiBcIiArIG1zZyk7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGlzRVMyMDE1TWFwU3VwcG9ydGVkKCkge1xuICAgIHJldHVybiB0eXBlb2YgTWFwID09PSBcImZ1bmN0aW9uXCI7XG59XG5leHBvcnQgZnVuY3Rpb24gYXBwbHlNaXhpbnMoZGVyaXZlZEN0b3IsIGJhc2VDdG9ycykge1xuICAgIGJhc2VDdG9ycy5mb3JFYWNoKGZ1bmN0aW9uIChiYXNlQ3Rvcikge1xuICAgICAgICB2YXIgYmFzZVByb3RvID0gYmFzZUN0b3IucHJvdG90eXBlO1xuICAgICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhiYXNlUHJvdG8pLmZvckVhY2goZnVuY3Rpb24gKHByb3BOYW1lKSB7XG4gICAgICAgICAgICBpZiAocHJvcE5hbWUgPT09IFwiY29uc3RydWN0b3JcIikge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBiYXNlUHJvcERlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGJhc2VQcm90bywgcHJvcE5hbWUpO1xuICAgICAgICAgICAgLy8gSGFuZGxlIEFjY2Vzc29yc1xuICAgICAgICAgICAgaWYgKGJhc2VQcm9wRGVzY3JpcHRvciAmJlxuICAgICAgICAgICAgICAgIChiYXNlUHJvcERlc2NyaXB0b3IuZ2V0IHx8IGJhc2VQcm9wRGVzY3JpcHRvci5zZXQpKSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGRlcml2ZWRDdG9yLnByb3RvdHlwZSwgcHJvcE5hbWUsIGJhc2VQcm9wRGVzY3JpcHRvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBkZXJpdmVkQ3Rvci5wcm90b3R5cGVbcHJvcE5hbWVdID0gYmFzZUN0b3IucHJvdG90eXBlW3Byb3BOYW1lXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG4vLyBiYXNlIG9uOiBodHRwczovL2dpdGh1Yi5jb20vcGV0a2FhbnRvbm92L2JsdWViaXJkL2Jsb2IvYjk3YzBkMmQ0ODdlOGM1MDc2ZThiZDg5N2UwZGNkNDYyMmQzMTg0Ni9zcmMvdXRpbC5qcyNMMjAxLUwyMTZcbmV4cG9ydCBmdW5jdGlvbiB0b0Zhc3RQcm9wZXJ0aWVzKHRvQmVjb21lRmFzdCkge1xuICAgIGZ1bmN0aW9uIEZha2VDb25zdHJ1Y3RvcigpIHsgfVxuICAgIC8vIElmIG91ciBvYmplY3QgaXMgdXNlZCBhcyBhIGNvbnN0cnVjdG9yIGl0IHdvdWxkIHJlY2VpdmVcbiAgICBGYWtlQ29uc3RydWN0b3IucHJvdG90eXBlID0gdG9CZWNvbWVGYXN0O1xuICAgIHZhciBmYWtlSW5zdGFuY2UgPSBuZXcgRmFrZUNvbnN0cnVjdG9yKCk7XG4gICAgZnVuY3Rpb24gZmFrZUFjY2VzcygpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBmYWtlSW5zdGFuY2UuYmFyO1xuICAgIH1cbiAgICAvLyBoZWxwIFY4IHVuZGVyc3RhbmQgdGhpcyBpcyBhIFwicmVhbFwiIHByb3RvdHlwZSBieSBhY3R1YWxseSB1c2luZ1xuICAgIC8vIHRoZSBmYWtlIGluc3RhbmNlLlxuICAgIGZha2VBY2Nlc3MoKTtcbiAgICBmYWtlQWNjZXNzKCk7XG4gICAgcmV0dXJuIHRvQmVjb21lRmFzdDtcbiAgICAvLyBFdmFsIHByZXZlbnRzIG9wdGltaXphdGlvbiBvZiB0aGlzIG1ldGhvZCAoZXZlbiB0aG91Z2ggdGhpcyBpcyBkZWFkIGNvZGUpXG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmVcbiAgICBldmFsKHRvQmVjb21lRmFzdCk7XG59XG5leHBvcnQgZnVuY3Rpb24gcGVlayhhcnIpIHtcbiAgICByZXR1cm4gYXJyW2Fyci5sZW5ndGggLSAxXTtcbn1cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0IC0gZm9yIHBlcmZvcm1hbmNlIHRyYWNpbmcqL1xuZXhwb3J0IGZ1bmN0aW9uIHRpbWVyKGZ1bmMpIHtcbiAgICB2YXIgc3RhcnQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICB2YXIgdmFsID0gZnVuYygpO1xuICAgIHZhciBlbmQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICB2YXIgdG90YWwgPSBlbmQgLSBzdGFydDtcbiAgICByZXR1cm4geyB0aW1lOiB0b3RhbCwgdmFsdWU6IHZhbCB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXRpbHMuanMubWFwIiwiLy8gbmVlZHMgYSBzZXBhcmF0ZSBtb2R1bGUgYXMgdGhpcyBpcyByZXF1aXJlZCBpbnNpZGUgY2hldnJvdGFpbiBwcm9kdWN0aXZlIGNvZGVcbi8vIGFuZCBhbHNvIGluIHRoZSBlbnRyeSBwb2ludCBmb3Igd2VicGFjayhhcGkudHMpLlxuLy8gQSBzZXBhcmF0ZSBmaWxlIGF2b2lkcyBjeWNsaWMgZGVwZW5kZW5jaWVzIGFuZCB3ZWJwYWNrIGVycm9ycy5cbmV4cG9ydCB2YXIgVkVSU0lPTiA9IFwiNy4wLjFcIjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZlcnNpb24uanMubWFwIiwiaW1wb3J0IHsgUmVnRXhwUGFyc2VyIH0gZnJvbSBcInJlZ2V4cC10by1hc3RcIjtcbnZhciByZWdFeHBBc3RDYWNoZSA9IHt9O1xudmFyIHJlZ0V4cFBhcnNlciA9IG5ldyBSZWdFeHBQYXJzZXIoKTtcbmV4cG9ydCBmdW5jdGlvbiBnZXRSZWdFeHBBc3QocmVnRXhwKSB7XG4gICAgdmFyIHJlZ0V4cFN0ciA9IHJlZ0V4cC50b1N0cmluZygpO1xuICAgIGlmIChyZWdFeHBBc3RDYWNoZS5oYXNPd25Qcm9wZXJ0eShyZWdFeHBTdHIpKSB7XG4gICAgICAgIHJldHVybiByZWdFeHBBc3RDYWNoZVtyZWdFeHBTdHJdO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdmFyIHJlZ0V4cEFzdCA9IHJlZ0V4cFBhcnNlci5wYXR0ZXJuKHJlZ0V4cFN0cik7XG4gICAgICAgIHJlZ0V4cEFzdENhY2hlW3JlZ0V4cFN0cl0gPSByZWdFeHBBc3Q7XG4gICAgICAgIHJldHVybiByZWdFeHBBc3Q7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyUmVnRXhwUGFyc2VyQ2FjaGUoKSB7XG4gICAgcmVnRXhwQXN0Q2FjaGUgPSB7fTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlZ19leHBfcGFyc2VyLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0IHsgVkVSU0lPTiwgQmFzZVJlZ0V4cFZpc2l0b3IgfSBmcm9tIFwicmVnZXhwLXRvLWFzdFwiO1xuaW1wb3J0IHsgZm9yRWFjaCwgY29udGFpbnMsIFBSSU5UX0VSUk9SLCBQUklOVF9XQVJOSU5HLCBmaW5kLCBpc0FycmF5LCBldmVyeSwgdmFsdWVzIH0gZnJvbSBcIi4uL3V0aWxzL3V0aWxzXCI7XG5pbXBvcnQgeyBnZXRSZWdFeHBBc3QgfSBmcm9tIFwiLi9yZWdfZXhwX3BhcnNlclwiO1xuaW1wb3J0IHsgY2hhckNvZGVUb09wdGltaXplZEluZGV4LCBtaW5PcHRpbWl6YXRpb25WYWwgfSBmcm9tIFwiLi9sZXhlclwiO1xudmFyIGNvbXBsZW1lbnRFcnJvck1lc3NhZ2UgPSBcIkNvbXBsZW1lbnQgU2V0cyBhcmUgbm90IHN1cHBvcnRlZCBmb3IgZmlyc3QgY2hhciBvcHRpbWl6YXRpb25cIjtcbmV4cG9ydCB2YXIgZmFpbGVkT3B0aW1pemF0aW9uUHJlZml4TXNnID0gJ1VuYWJsZSB0byB1c2UgXCJmaXJzdCBjaGFyXCIgbGV4ZXIgb3B0aW1pemF0aW9uczpcXG4nO1xuZXhwb3J0IGZ1bmN0aW9uIGdldE9wdGltaXplZFN0YXJ0Q29kZXNJbmRpY2VzKHJlZ0V4cCwgZW5zdXJlT3B0aW1pemF0aW9ucykge1xuICAgIGlmIChlbnN1cmVPcHRpbWl6YXRpb25zID09PSB2b2lkIDApIHsgZW5zdXJlT3B0aW1pemF0aW9ucyA9IGZhbHNlOyB9XG4gICAgdHJ5IHtcbiAgICAgICAgdmFyIGFzdCA9IGdldFJlZ0V4cEFzdChyZWdFeHApO1xuICAgICAgICB2YXIgZmlyc3RDaGFycyA9IGZpcnN0Q2hhck9wdGltaXplZEluZGljZXMoYXN0LnZhbHVlLCB7fSwgYXN0LmZsYWdzLmlnbm9yZUNhc2UpO1xuICAgICAgICByZXR1cm4gZmlyc3RDaGFycztcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgLy8gVGVzdGluZyB0aGlzIHJlbGllcyBvbiB0aGUgcmVnZXhwLXRvLWFzdCBsaWJyYXJ5IGhhdmluZyBhIGJ1Zy4uLiAqL1xuICAgICAgICAvLyBUT0RPOiBvbmx5IHRoZSBlbHNlIGJyYW5jaCBuZWVkcyB0byBiZSBpZ25vcmVkLCB0cnkgdG8gZml4IHdpdGggbmV3ZXIgcHJldHRpZXIgLyB0c2NcbiAgICAgICAgaWYgKGUubWVzc2FnZSA9PT0gY29tcGxlbWVudEVycm9yTWVzc2FnZSkge1xuICAgICAgICAgICAgaWYgKGVuc3VyZU9wdGltaXphdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBQUklOVF9XQVJOSU5HKFwiXCIgKyBmYWlsZWRPcHRpbWl6YXRpb25QcmVmaXhNc2cgK1xuICAgICAgICAgICAgICAgICAgICAoXCJcXHRVbmFibGUgdG8gb3B0aW1pemU6IDwgXCIgKyByZWdFeHAudG9TdHJpbmcoKSArIFwiID5cXG5cIikgK1xuICAgICAgICAgICAgICAgICAgICBcIlxcdENvbXBsZW1lbnQgU2V0cyBjYW5ub3QgYmUgYXV0b21hdGljYWxseSBvcHRpbWl6ZWQuXFxuXCIgK1xuICAgICAgICAgICAgICAgICAgICBcIlxcdFRoaXMgd2lsbCBkaXNhYmxlIHRoZSBsZXhlcidzIGZpcnN0IGNoYXIgb3B0aW1pemF0aW9ucy5cXG5cIiArXG4gICAgICAgICAgICAgICAgICAgIFwiXFx0U2VlOiBodHRwczovL3NhcC5naXRodWIuaW8vY2hldnJvdGFpbi9kb2NzL2d1aWRlL3Jlc29sdmluZ19sZXhlcl9lcnJvcnMuaHRtbCNDT01QTEVNRU5UIGZvciBkZXRhaWxzLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBtc2dTdWZmaXggPSBcIlwiO1xuICAgICAgICAgICAgaWYgKGVuc3VyZU9wdGltaXphdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBtc2dTdWZmaXggPVxuICAgICAgICAgICAgICAgICAgICBcIlxcblxcdFRoaXMgd2lsbCBkaXNhYmxlIHRoZSBsZXhlcidzIGZpcnN0IGNoYXIgb3B0aW1pemF0aW9ucy5cXG5cIiArXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlxcdFNlZTogaHR0cHM6Ly9zYXAuZ2l0aHViLmlvL2NoZXZyb3RhaW4vZG9jcy9ndWlkZS9yZXNvbHZpbmdfbGV4ZXJfZXJyb3JzLmh0bWwjUkVHRVhQX1BBUlNJTkcgZm9yIGRldGFpbHMuXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBQUklOVF9FUlJPUihmYWlsZWRPcHRpbWl6YXRpb25QcmVmaXhNc2cgKyBcIlxcblwiICtcbiAgICAgICAgICAgICAgICAoXCJcXHRGYWlsZWQgcGFyc2luZzogPCBcIiArIHJlZ0V4cC50b1N0cmluZygpICsgXCIgPlxcblwiKSArXG4gICAgICAgICAgICAgICAgKFwiXFx0VXNpbmcgdGhlIHJlZ2V4cC10by1hc3QgbGlicmFyeSB2ZXJzaW9uOiBcIiArIFZFUlNJT04gKyBcIlxcblwiKSArXG4gICAgICAgICAgICAgICAgXCJcXHRQbGVhc2Ugb3BlbiBhbiBpc3N1ZSBhdDogaHR0cHM6Ly9naXRodWIuY29tL2JkODIvcmVnZXhwLXRvLWFzdC9pc3N1ZXNcIiArXG4gICAgICAgICAgICAgICAgbXNnU3VmZml4KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gW107XG59XG5leHBvcnQgZnVuY3Rpb24gZmlyc3RDaGFyT3B0aW1pemVkSW5kaWNlcyhhc3QsIHJlc3VsdCwgaWdub3JlQ2FzZSkge1xuICAgIHN3aXRjaCAoYXN0LnR5cGUpIHtcbiAgICAgICAgY2FzZSBcIkRpc2p1bmN0aW9uXCI6XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFzdC52YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGZpcnN0Q2hhck9wdGltaXplZEluZGljZXMoYXN0LnZhbHVlW2ldLCByZXN1bHQsIGlnbm9yZUNhc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJBbHRlcm5hdGl2ZVwiOlxuICAgICAgICAgICAgdmFyIHRlcm1zID0gYXN0LnZhbHVlO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZXJtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciB0ZXJtID0gdGVybXNbaV07XG4gICAgICAgICAgICAgICAgLy8gc2tpcCB0ZXJtcyB0aGF0IGNhbm5vdCBlZmZlY3QgdGhlIGZpcnN0IGNoYXIgcmVzdWx0c1xuICAgICAgICAgICAgICAgIHN3aXRjaCAodGVybS50eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJFbmRBbmNob3JcIjpcbiAgICAgICAgICAgICAgICAgICAgLy8gQSBncm91cCBiYWNrIHJlZmVyZW5jZSBjYW5ub3QgYWZmZWN0IHBvdGVudGlhbCBzdGFydGluZyBjaGFyLlxuICAgICAgICAgICAgICAgICAgICAvLyBiZWNhdXNlIGlmIGEgYmFjayByZWZlcmVuY2UgaXMgdGhlIGZpcnN0IHByb2R1Y3Rpb24gdGhhbiBhdXRvbWF0aWNhbGx5XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZSBncm91cCBiZWluZyByZWZlcmVuY2VkIGhhcyBoYWQgdG8gY29tZSBCRUZPUkUgc28gaXRzIGNvZGVzIGhhdmUgYWxyZWFkeSBiZWVuIGFkZGVkXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJHcm91cEJhY2tSZWZlcmVuY2VcIjpcbiAgICAgICAgICAgICAgICAgICAgLy8gYXNzZXJ0aW9ucyBkbyBub3QgYWZmZWN0IHBvdGVudGlhbCBzdGFydGluZyBjb2Rlc1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiTG9va2FoZWFkXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJOZWdhdGl2ZUxvb2thaGVhZFwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiU3RhcnRBbmNob3JcIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIldvcmRCb3VuZGFyeVwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiTm9uV29yZEJvdW5kYXJ5XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIGF0b20gPSB0ZXJtO1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoYXRvbS50eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJDaGFyYWN0ZXJcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZE9wdGltaXplZElkeFRvUmVzdWx0KGF0b20udmFsdWUsIHJlc3VsdCwgaWdub3JlQ2FzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlNldFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF0b20uY29tcGxlbWVudCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKGNvbXBsZW1lbnRFcnJvck1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yRWFjaChhdG9tLnZhbHVlLCBmdW5jdGlvbiAoY29kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY29kZSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRPcHRpbWl6ZWRJZHhUb1Jlc3VsdChjb2RlLCByZXN1bHQsIGlnbm9yZUNhc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmFuZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJhbmdlID0gY29kZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2Fubm90IG9wdGltaXplIHdoZW4gaWdub3JlQ2FzZSBpc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaWdub3JlQ2FzZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcmFuZ2VDb2RlID0gcmFuZ2UuZnJvbTsgcmFuZ2VDb2RlIDw9IHJhbmdlLnRvOyByYW5nZUNvZGUrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZE9wdGltaXplZElkeFRvUmVzdWx0KHJhbmdlQ29kZSwgcmVzdWx0LCBpZ25vcmVDYXNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBPcHRpbWl6YXRpb24gKDIgb3JkZXJzIG9mIG1hZ25pdHVkZSBsZXNzIHdvcmsgZm9yIHZlcnkgbGFyZ2UgcmFuZ2VzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGhhbmRsZSB1bm9wdGltaXplZCB2YWx1ZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHJhbmdlQ29kZSA9IHJhbmdlLmZyb207IHJhbmdlQ29kZSA8PSByYW5nZS50byAmJiByYW5nZUNvZGUgPCBtaW5PcHRpbWl6YXRpb25WYWw7IHJhbmdlQ29kZSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkT3B0aW1pemVkSWR4VG9SZXN1bHQocmFuZ2VDb2RlLCByZXN1bHQsIGlnbm9yZUNhc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTGVzcyBjb21tb24gY2hhckNvZGUgd2hlcmUgd2Ugb3B0aW1pemUgZm9yIGZhc3RlciBpbml0IHRpbWUsIGJ5IHVzaW5nIGxhcmdlciBcImJ1Y2tldHNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJhbmdlLnRvID49IG1pbk9wdGltaXphdGlvblZhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtaW5Vbk9wdFZhbCA9IHJhbmdlLmZyb20gPj0gbWluT3B0aW1pemF0aW9uVmFsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gcmFuZ2UuZnJvbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG1pbk9wdGltaXphdGlvblZhbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWF4VW5PcHRWYWwgPSByYW5nZS50bztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWluT3B0SWR4ID0gY2hhckNvZGVUb09wdGltaXplZEluZGV4KG1pblVuT3B0VmFsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWF4T3B0SWR4ID0gY2hhckNvZGVUb09wdGltaXplZEluZGV4KG1heFVuT3B0VmFsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBjdXJyT3B0SWR4ID0gbWluT3B0SWR4OyBjdXJyT3B0SWR4IDw9IG1heE9wdElkeDsgY3Vyck9wdElkeCsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFtjdXJyT3B0SWR4XSA9IGN1cnJPcHRJZHg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdyb3VwXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBmaXJzdENoYXJPcHRpbWl6ZWRJbmRpY2VzKGF0b20udmFsdWUsIHJlc3VsdCwgaWdub3JlQ2FzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwiTm9uIEV4aGF1c3RpdmUgTWF0Y2hcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHJlYWNoZWQgYSBtYW5kYXRvcnkgcHJvZHVjdGlvbiwgbm8gbW9yZSAqKnN0YXJ0KiogY29kZXMgY2FuIGJlIGZvdW5kIG9uIHRoaXMgYWx0ZXJuYXRpdmVcbiAgICAgICAgICAgICAgICB2YXIgaXNPcHRpb25hbFF1YW50aWZpZXIgPSBhdG9tLnF1YW50aWZpZXIgIT09IHVuZGVmaW5lZCAmJiBhdG9tLnF1YW50aWZpZXIuYXRMZWFzdCA9PT0gMDtcbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgLy8gQSBncm91cCBtYXkgYmUgb3B0aW9uYWwgZHVlIHRvIGVtcHR5IGNvbnRlbnRzIC8oPzopL1xuICAgICAgICAgICAgICAgIC8vIG9yIGlmIGV2ZXJ5dGhpbmcgaW5zaWRlIGl0IGlzIG9wdGlvbmFsIC8oKGEpPykvXG4gICAgICAgICAgICAgICAgKGF0b20udHlwZSA9PT0gXCJHcm91cFwiICYmIGlzV2hvbGVPcHRpb25hbChhdG9tKSA9PT0gZmFsc2UpIHx8XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoaXMgdGVybSBpcyBub3QgYSBncm91cCBpdCBtYXkgb25seSBiZSBvcHRpb25hbCBpZiBpdCBoYXMgYW4gb3B0aW9uYWwgcXVhbnRpZmllclxuICAgICAgICAgICAgICAgICAgICAoYXRvbS50eXBlICE9PSBcIkdyb3VwXCIgJiYgaXNPcHRpb25hbFF1YW50aWZpZXIgPT09IGZhbHNlKSkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IEVycm9yKFwibm9uIGV4aGF1c3RpdmUgbWF0Y2ghXCIpO1xuICAgIH1cbiAgICAvLyBjb25zb2xlLmxvZyhPYmplY3Qua2V5cyhyZXN1bHQpLmxlbmd0aClcbiAgICByZXR1cm4gdmFsdWVzKHJlc3VsdCk7XG59XG5mdW5jdGlvbiBhZGRPcHRpbWl6ZWRJZHhUb1Jlc3VsdChjb2RlLCByZXN1bHQsIGlnbm9yZUNhc2UpIHtcbiAgICB2YXIgb3B0aW1pemVkQ2hhcklkeCA9IGNoYXJDb2RlVG9PcHRpbWl6ZWRJbmRleChjb2RlKTtcbiAgICByZXN1bHRbb3B0aW1pemVkQ2hhcklkeF0gPSBvcHRpbWl6ZWRDaGFySWR4O1xuICAgIGlmIChpZ25vcmVDYXNlID09PSB0cnVlKSB7XG4gICAgICAgIGhhbmRsZUlnbm9yZUNhc2UoY29kZSwgcmVzdWx0KTtcbiAgICB9XG59XG5mdW5jdGlvbiBoYW5kbGVJZ25vcmVDYXNlKGNvZGUsIHJlc3VsdCkge1xuICAgIHZhciBjaGFyID0gU3RyaW5nLmZyb21DaGFyQ29kZShjb2RlKTtcbiAgICB2YXIgdXBwZXJDaGFyID0gY2hhci50b1VwcGVyQ2FzZSgpO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgaWYgKHVwcGVyQ2hhciAhPT0gY2hhcikge1xuICAgICAgICB2YXIgb3B0aW1pemVkQ2hhcklkeCA9IGNoYXJDb2RlVG9PcHRpbWl6ZWRJbmRleCh1cHBlckNoYXIuY2hhckNvZGVBdCgwKSk7XG4gICAgICAgIHJlc3VsdFtvcHRpbWl6ZWRDaGFySWR4XSA9IG9wdGltaXplZENoYXJJZHg7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB2YXIgbG93ZXJDaGFyID0gY2hhci50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBpZiAobG93ZXJDaGFyICE9PSBjaGFyKSB7XG4gICAgICAgICAgICB2YXIgb3B0aW1pemVkQ2hhcklkeCA9IGNoYXJDb2RlVG9PcHRpbWl6ZWRJbmRleChsb3dlckNoYXIuY2hhckNvZGVBdCgwKSk7XG4gICAgICAgICAgICByZXN1bHRbb3B0aW1pemVkQ2hhcklkeF0gPSBvcHRpbWl6ZWRDaGFySWR4O1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gZmluZENvZGUoc2V0Tm9kZSwgdGFyZ2V0Q2hhckNvZGVzKSB7XG4gICAgcmV0dXJuIGZpbmQoc2V0Tm9kZS52YWx1ZSwgZnVuY3Rpb24gKGNvZGVPclJhbmdlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgY29kZU9yUmFuZ2UgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBjb250YWlucyh0YXJnZXRDaGFyQ29kZXMsIGNvZGVPclJhbmdlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIHJhbmdlXG4gICAgICAgICAgICB2YXIgcmFuZ2VfMSA9IGNvZGVPclJhbmdlO1xuICAgICAgICAgICAgcmV0dXJuIChmaW5kKHRhcmdldENoYXJDb2RlcywgZnVuY3Rpb24gKHRhcmdldENvZGUpIHsgcmV0dXJuIHJhbmdlXzEuZnJvbSA8PSB0YXJnZXRDb2RlICYmIHRhcmdldENvZGUgPD0gcmFuZ2VfMS50bzsgfSkgIT09IHVuZGVmaW5lZCk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGlzV2hvbGVPcHRpb25hbChhc3QpIHtcbiAgICBpZiAoYXN0LnF1YW50aWZpZXIgJiYgYXN0LnF1YW50aWZpZXIuYXRMZWFzdCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCFhc3QudmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gaXNBcnJheShhc3QudmFsdWUpXG4gICAgICAgID8gZXZlcnkoYXN0LnZhbHVlLCBpc1dob2xlT3B0aW9uYWwpXG4gICAgICAgIDogaXNXaG9sZU9wdGlvbmFsKGFzdC52YWx1ZSk7XG59XG52YXIgQ2hhckNvZGVGaW5kZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKENoYXJDb2RlRmluZGVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIENoYXJDb2RlRmluZGVyKHRhcmdldENoYXJDb2Rlcykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy50YXJnZXRDaGFyQ29kZXMgPSB0YXJnZXRDaGFyQ29kZXM7XG4gICAgICAgIF90aGlzLmZvdW5kID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQ2hhckNvZGVGaW5kZXIucHJvdG90eXBlLnZpc2l0Q2hpbGRyZW4gPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAvLyBObyBuZWVkIHRvIGtlZXAgbG9va2luZy4uLlxuICAgICAgICBpZiAodGhpcy5mb3VuZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIHN3aXRjaCBsb29rYWhlYWRzIGFzIHRoZXkgZG8gbm90IGFjdHVhbGx5IGNvbnN1bWUgYW55IGNoYXJhY3RlcnMgdGh1c1xuICAgICAgICAvLyBmaW5kaW5nIGEgY2hhckNvZGUgYXQgbG9va2FoZWFkIGNvbnRleHQgZG9lcyBub3QgbWVhbiB0aGF0IHJlZ2V4cCBjYW4gYWN0dWFsbHkgY29udGFpbiBpdCBpbiBhIG1hdGNoLlxuICAgICAgICBzd2l0Y2ggKG5vZGUudHlwZSkge1xuICAgICAgICAgICAgY2FzZSBcIkxvb2thaGVhZFwiOlxuICAgICAgICAgICAgICAgIHRoaXMudmlzaXRMb29rYWhlYWQobm9kZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY2FzZSBcIk5lZ2F0aXZlTG9va2FoZWFkXCI6XG4gICAgICAgICAgICAgICAgdGhpcy52aXNpdE5lZ2F0aXZlTG9va2FoZWFkKG5vZGUpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLnZpc2l0Q2hpbGRyZW4uY2FsbCh0aGlzLCBub2RlKTtcbiAgICB9O1xuICAgIENoYXJDb2RlRmluZGVyLnByb3RvdHlwZS52aXNpdENoYXJhY3RlciA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgIGlmIChjb250YWlucyh0aGlzLnRhcmdldENoYXJDb2Rlcywgbm9kZS52YWx1ZSkpIHtcbiAgICAgICAgICAgIHRoaXMuZm91bmQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBDaGFyQ29kZUZpbmRlci5wcm90b3R5cGUudmlzaXRTZXQgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICBpZiAobm9kZS5jb21wbGVtZW50KSB7XG4gICAgICAgICAgICBpZiAoZmluZENvZGUobm9kZSwgdGhpcy50YXJnZXRDaGFyQ29kZXMpID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChmaW5kQ29kZShub2RlLCB0aGlzLnRhcmdldENoYXJDb2RlcykgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQ2hhckNvZGVGaW5kZXI7XG59KEJhc2VSZWdFeHBWaXNpdG9yKSk7XG5leHBvcnQgZnVuY3Rpb24gY2FuTWF0Y2hDaGFyQ29kZShjaGFyQ29kZXMsIHBhdHRlcm4pIHtcbiAgICBpZiAocGF0dGVybiBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuICAgICAgICB2YXIgYXN0ID0gZ2V0UmVnRXhwQXN0KHBhdHRlcm4pO1xuICAgICAgICB2YXIgY2hhckNvZGVGaW5kZXIgPSBuZXcgQ2hhckNvZGVGaW5kZXIoY2hhckNvZGVzKTtcbiAgICAgICAgY2hhckNvZGVGaW5kZXIudmlzaXQoYXN0KTtcbiAgICAgICAgcmV0dXJuIGNoYXJDb2RlRmluZGVyLmZvdW5kO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIChmaW5kKHBhdHRlcm4sIGZ1bmN0aW9uIChjaGFyKSB7XG4gICAgICAgICAgICByZXR1cm4gY29udGFpbnMoY2hhckNvZGVzLCBjaGFyLmNoYXJDb2RlQXQoMCkpO1xuICAgICAgICB9KSAhPT0gdW5kZWZpbmVkKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZWdfZXhwLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0IHsgQmFzZVJlZ0V4cFZpc2l0b3IgfSBmcm9tIFwicmVnZXhwLXRvLWFzdFwiO1xuaW1wb3J0IHsgTGV4ZXIsIExleGVyRGVmaW5pdGlvbkVycm9yVHlwZSB9IGZyb20gXCIuL2xleGVyX3B1YmxpY1wiO1xuaW1wb3J0IHsgY29tcGFjdCwgY29udGFpbnMsIGRlZmF1bHRzLCBkaWZmZXJlbmNlLCBmaWx0ZXIsIGZpbmQsIGZpcnN0LCBmbGF0dGVuLCBmb3JFYWNoLCBoYXMsIGluZGV4T2YsIGlzQXJyYXksIGlzRW1wdHksIGlzRnVuY3Rpb24sIGlzUmVnRXhwLCBpc1N0cmluZywgaXNVbmRlZmluZWQsIGtleXMsIG1hcCwgbWFwVmFsdWVzLCBwYWNrQXJyYXksIFBSSU5UX0VSUk9SLCByZWR1Y2UsIHJlamVjdCB9IGZyb20gXCIuLi91dGlscy91dGlsc1wiO1xuaW1wb3J0IHsgY2FuTWF0Y2hDaGFyQ29kZSwgZmFpbGVkT3B0aW1pemF0aW9uUHJlZml4TXNnLCBnZXRPcHRpbWl6ZWRTdGFydENvZGVzSW5kaWNlcyB9IGZyb20gXCIuL3JlZ19leHBcIjtcbmltcG9ydCB7IGdldFJlZ0V4cEFzdCB9IGZyb20gXCIuL3JlZ19leHBfcGFyc2VyXCI7XG52YXIgUEFUVEVSTiA9IFwiUEFUVEVSTlwiO1xuZXhwb3J0IHZhciBERUZBVUxUX01PREUgPSBcImRlZmF1bHRNb2RlXCI7XG5leHBvcnQgdmFyIE1PREVTID0gXCJtb2Rlc1wiO1xuZXhwb3J0IHZhciBTVVBQT1JUX1NUSUNLWSA9IHR5cGVvZiBuZXcgUmVnRXhwKFwiKD86KVwiKS5zdGlja3kgPT09IFwiYm9vbGVhblwiO1xuZXhwb3J0IGZ1bmN0aW9uIGRpc2FibGVTdGlja3koKSB7XG4gICAgU1VQUE9SVF9TVElDS1kgPSBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBlbmFibGVTdGlja3koKSB7XG4gICAgU1VQUE9SVF9TVElDS1kgPSB0cnVlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGFuYWx5emVUb2tlblR5cGVzKHRva2VuVHlwZXMsIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gZGVmYXVsdHMob3B0aW9ucywge1xuICAgICAgICB1c2VTdGlja3k6IFNVUFBPUlRfU1RJQ0tZLFxuICAgICAgICBkZWJ1ZzogZmFsc2UsXG4gICAgICAgIHNhZmVNb2RlOiBmYWxzZSxcbiAgICAgICAgcG9zaXRpb25UcmFja2luZzogXCJmdWxsXCIsXG4gICAgICAgIGxpbmVUZXJtaW5hdG9yQ2hhcmFjdGVyczogW1wiXFxyXCIsIFwiXFxuXCJdLFxuICAgICAgICB0cmFjZXI6IGZ1bmN0aW9uIChtc2csIGFjdGlvbikgeyByZXR1cm4gYWN0aW9uKCk7IH1cbiAgICB9KTtcbiAgICB2YXIgdHJhY2VyID0gb3B0aW9ucy50cmFjZXI7XG4gICAgdHJhY2VyKFwiaW5pdENoYXJDb2RlVG9PcHRpbWl6ZWRJbmRleE1hcFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGluaXRDaGFyQ29kZVRvT3B0aW1pemVkSW5kZXhNYXAoKTtcbiAgICB9KTtcbiAgICB2YXIgb25seVJlbGV2YW50VHlwZXM7XG4gICAgdHJhY2VyKFwiUmVqZWN0IExleGVyLk5BXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgb25seVJlbGV2YW50VHlwZXMgPSByZWplY3QodG9rZW5UeXBlcywgZnVuY3Rpb24gKGN1cnJUeXBlKSB7XG4gICAgICAgICAgICByZXR1cm4gY3VyclR5cGVbUEFUVEVSTl0gPT09IExleGVyLk5BO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICB2YXIgaGFzQ3VzdG9tID0gZmFsc2U7XG4gICAgdmFyIGFsbFRyYW5zZm9ybWVkUGF0dGVybnM7XG4gICAgdHJhY2VyKFwiVHJhbnNmb3JtIFBhdHRlcm5zXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaGFzQ3VzdG9tID0gZmFsc2U7XG4gICAgICAgIGFsbFRyYW5zZm9ybWVkUGF0dGVybnMgPSBtYXAob25seVJlbGV2YW50VHlwZXMsIGZ1bmN0aW9uIChjdXJyVHlwZSkge1xuICAgICAgICAgICAgdmFyIGN1cnJQYXR0ZXJuID0gY3VyclR5cGVbUEFUVEVSTl07XG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICAgICAgaWYgKGlzUmVnRXhwKGN1cnJQYXR0ZXJuKSkge1xuICAgICAgICAgICAgICAgIHZhciByZWdFeHBTb3VyY2UgPSBjdXJyUGF0dGVybi5zb3VyY2U7XG4gICAgICAgICAgICAgICAgaWYgKHJlZ0V4cFNvdXJjZS5sZW5ndGggPT09IDEgJiZcbiAgICAgICAgICAgICAgICAgICAgLy8gb25seSB0aGVzZSByZWdFeHAgbWV0YSBjaGFyYWN0ZXJzIHdoaWNoIGNhbiBhcHBlYXIgaW4gYSBsZW5ndGggb25lIHJlZ0V4cFxuICAgICAgICAgICAgICAgICAgICByZWdFeHBTb3VyY2UgIT09IFwiXlwiICYmXG4gICAgICAgICAgICAgICAgICAgIHJlZ0V4cFNvdXJjZSAhPT0gXCIkXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgcmVnRXhwU291cmNlICE9PSBcIi5cIiAmJlxuICAgICAgICAgICAgICAgICAgICAhY3VyclBhdHRlcm4uaWdub3JlQ2FzZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnRXhwU291cmNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChyZWdFeHBTb3VyY2UubGVuZ3RoID09PSAyICYmXG4gICAgICAgICAgICAgICAgICAgIHJlZ0V4cFNvdXJjZVswXSA9PT0gXCJcXFxcXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgLy8gbm90IGEgbWV0YSBjaGFyYWN0ZXJcbiAgICAgICAgICAgICAgICAgICAgIWNvbnRhaW5zKFtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJEXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInNcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiU1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiY1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ2XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIndcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiV1wiXG4gICAgICAgICAgICAgICAgICAgIF0sIHJlZ0V4cFNvdXJjZVsxXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNjYXBlZCBtZXRhIENoYXJhY3RlcnM6IC9cXCsvIC9cXFsvXG4gICAgICAgICAgICAgICAgICAgIC8vIG9yIHJlZHVuZGFudCBlc2NhcGluZzogL1xcYS9cbiAgICAgICAgICAgICAgICAgICAgLy8gd2l0aG91dCB0aGUgZXNjYXBpbmcgXCJcXFwiXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdFeHBTb3VyY2VbMV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3B0aW9ucy51c2VTdGlja3lcbiAgICAgICAgICAgICAgICAgICAgICAgID8gYWRkU3RpY2t5RmxhZyhjdXJyUGF0dGVybilcbiAgICAgICAgICAgICAgICAgICAgICAgIDogYWRkU3RhcnRPZklucHV0KGN1cnJQYXR0ZXJuKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc0Z1bmN0aW9uKGN1cnJQYXR0ZXJuKSkge1xuICAgICAgICAgICAgICAgIGhhc0N1c3RvbSA9IHRydWU7XG4gICAgICAgICAgICAgICAgLy8gQ3VzdG9tUGF0dGVybk1hdGNoZXJGdW5jIC0gY3VzdG9tIHBhdHRlcm5zIGRvIG5vdCByZXF1aXJlIGFueSB0cmFuc2Zvcm1hdGlvbnMsIG9ubHkgd3JhcHBpbmcgaW4gYSBSZWdFeHAgTGlrZSBvYmplY3RcbiAgICAgICAgICAgICAgICByZXR1cm4geyBleGVjOiBjdXJyUGF0dGVybiB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaGFzKGN1cnJQYXR0ZXJuLCBcImV4ZWNcIikpIHtcbiAgICAgICAgICAgICAgICBoYXNDdXN0b20gPSB0cnVlO1xuICAgICAgICAgICAgICAgIC8vIElDdXN0b21QYXR0ZXJuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGN1cnJQYXR0ZXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIGN1cnJQYXR0ZXJuID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJQYXR0ZXJuLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3VyclBhdHRlcm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZXNjYXBlZFJlZ0V4cFN0cmluZyA9IGN1cnJQYXR0ZXJuLnJlcGxhY2UoL1tcXFxcXiQuKis/KClbXFxde318XS9nLCBcIlxcXFwkJlwiKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHdyYXBwZWRSZWdFeHAgPSBuZXcgUmVnRXhwKGVzY2FwZWRSZWdFeHBTdHJpbmcpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3B0aW9ucy51c2VTdGlja3lcbiAgICAgICAgICAgICAgICAgICAgICAgID8gYWRkU3RpY2t5RmxhZyh3cmFwcGVkUmVnRXhwKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBhZGRTdGFydE9mSW5wdXQod3JhcHBlZFJlZ0V4cCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJub24gZXhoYXVzdGl2ZSBtYXRjaFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgdmFyIHBhdHRlcm5JZHhUb1R5cGU7XG4gICAgdmFyIHBhdHRlcm5JZHhUb0dyb3VwO1xuICAgIHZhciBwYXR0ZXJuSWR4VG9Mb25nZXJBbHRJZHg7XG4gICAgdmFyIHBhdHRlcm5JZHhUb1B1c2hNb2RlO1xuICAgIHZhciBwYXR0ZXJuSWR4VG9Qb3BNb2RlO1xuICAgIHRyYWNlcihcIm1pc2MgbWFwcGluZ1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHBhdHRlcm5JZHhUb1R5cGUgPSBtYXAob25seVJlbGV2YW50VHlwZXMsIGZ1bmN0aW9uIChjdXJyVHlwZSkgeyByZXR1cm4gY3VyclR5cGUudG9rZW5UeXBlSWR4OyB9KTtcbiAgICAgICAgcGF0dGVybklkeFRvR3JvdXAgPSBtYXAob25seVJlbGV2YW50VHlwZXMsIGZ1bmN0aW9uIChjbGF6eikge1xuICAgICAgICAgICAgdmFyIGdyb3VwTmFtZSA9IGNsYXp6LkdST1VQO1xuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgICAgIGlmIChncm91cE5hbWUgPT09IExleGVyLlNLSVBQRUQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNTdHJpbmcoZ3JvdXBOYW1lKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBncm91cE5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc1VuZGVmaW5lZChncm91cE5hbWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJub24gZXhoYXVzdGl2ZSBtYXRjaFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHBhdHRlcm5JZHhUb0xvbmdlckFsdElkeCA9IG1hcChvbmx5UmVsZXZhbnRUeXBlcywgZnVuY3Rpb24gKGNsYXp6KSB7XG4gICAgICAgICAgICB2YXIgbG9uZ2VyQWx0VHlwZSA9IGNsYXp6LkxPTkdFUl9BTFQ7XG4gICAgICAgICAgICBpZiAobG9uZ2VyQWx0VHlwZSkge1xuICAgICAgICAgICAgICAgIHZhciBsb25nZXJBbHRJZHggPSBpbmRleE9mKG9ubHlSZWxldmFudFR5cGVzLCBsb25nZXJBbHRUeXBlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbG9uZ2VyQWx0SWR4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcGF0dGVybklkeFRvUHVzaE1vZGUgPSBtYXAob25seVJlbGV2YW50VHlwZXMsIGZ1bmN0aW9uIChjbGF6eikgeyByZXR1cm4gY2xhenouUFVTSF9NT0RFOyB9KTtcbiAgICAgICAgcGF0dGVybklkeFRvUG9wTW9kZSA9IG1hcChvbmx5UmVsZXZhbnRUeXBlcywgZnVuY3Rpb24gKGNsYXp6KSB7XG4gICAgICAgICAgICByZXR1cm4gaGFzKGNsYXp6LCBcIlBPUF9NT0RFXCIpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICB2YXIgcGF0dGVybklkeFRvQ2FuTGluZVRlcm1pbmF0b3I7XG4gICAgdHJhY2VyKFwiTGluZSBUZXJtaW5hdG9yIEhhbmRsaW5nXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGxpbmVUZXJtaW5hdG9yQ2hhckNvZGVzID0gZ2V0Q2hhckNvZGVzKG9wdGlvbnMubGluZVRlcm1pbmF0b3JDaGFyYWN0ZXJzKTtcbiAgICAgICAgcGF0dGVybklkeFRvQ2FuTGluZVRlcm1pbmF0b3IgPSBtYXAob25seVJlbGV2YW50VHlwZXMsIGZ1bmN0aW9uICh0b2tUeXBlKSB7IHJldHVybiBmYWxzZTsgfSk7XG4gICAgICAgIGlmIChvcHRpb25zLnBvc2l0aW9uVHJhY2tpbmcgIT09IFwib25seU9mZnNldFwiKSB7XG4gICAgICAgICAgICBwYXR0ZXJuSWR4VG9DYW5MaW5lVGVybWluYXRvciA9IG1hcChvbmx5UmVsZXZhbnRUeXBlcywgZnVuY3Rpb24gKHRva1R5cGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoaGFzKHRva1R5cGUsIFwiTElORV9CUkVBS1NcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRva1R5cGUuTElORV9CUkVBS1M7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2tMaW5lQnJlYWtzSXNzdWVzKHRva1R5cGUsIGxpbmVUZXJtaW5hdG9yQ2hhckNvZGVzKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjYW5NYXRjaENoYXJDb2RlKGxpbmVUZXJtaW5hdG9yQ2hhckNvZGVzLCB0b2tUeXBlLlBBVFRFUk4pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICB2YXIgcGF0dGVybklkeFRvSXNDdXN0b207XG4gICAgdmFyIHBhdHRlcm5JZHhUb1Nob3J0O1xuICAgIHZhciBlbXB0eUdyb3VwcztcbiAgICB2YXIgcGF0dGVybklkeFRvQ29uZmlnO1xuICAgIHRyYWNlcihcIk1pc2MgTWFwcGluZyAjMlwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHBhdHRlcm5JZHhUb0lzQ3VzdG9tID0gbWFwKG9ubHlSZWxldmFudFR5cGVzLCBpc0N1c3RvbVBhdHRlcm4pO1xuICAgICAgICBwYXR0ZXJuSWR4VG9TaG9ydCA9IG1hcChhbGxUcmFuc2Zvcm1lZFBhdHRlcm5zLCBpc1Nob3J0UGF0dGVybik7XG4gICAgICAgIGVtcHR5R3JvdXBzID0gcmVkdWNlKG9ubHlSZWxldmFudFR5cGVzLCBmdW5jdGlvbiAoYWNjLCBjbGF6eikge1xuICAgICAgICAgICAgdmFyIGdyb3VwTmFtZSA9IGNsYXp6LkdST1VQO1xuICAgICAgICAgICAgaWYgKGlzU3RyaW5nKGdyb3VwTmFtZSkgJiYgIShncm91cE5hbWUgPT09IExleGVyLlNLSVBQRUQpKSB7XG4gICAgICAgICAgICAgICAgYWNjW2dyb3VwTmFtZV0gPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH0sIHt9KTtcbiAgICAgICAgcGF0dGVybklkeFRvQ29uZmlnID0gbWFwKGFsbFRyYW5zZm9ybWVkUGF0dGVybnMsIGZ1bmN0aW9uICh4LCBpZHgpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgcGF0dGVybjogYWxsVHJhbnNmb3JtZWRQYXR0ZXJuc1tpZHhdLFxuICAgICAgICAgICAgICAgIGxvbmdlckFsdDogcGF0dGVybklkeFRvTG9uZ2VyQWx0SWR4W2lkeF0sXG4gICAgICAgICAgICAgICAgY2FuTGluZVRlcm1pbmF0b3I6IHBhdHRlcm5JZHhUb0NhbkxpbmVUZXJtaW5hdG9yW2lkeF0sXG4gICAgICAgICAgICAgICAgaXNDdXN0b206IHBhdHRlcm5JZHhUb0lzQ3VzdG9tW2lkeF0sXG4gICAgICAgICAgICAgICAgc2hvcnQ6IHBhdHRlcm5JZHhUb1Nob3J0W2lkeF0sXG4gICAgICAgICAgICAgICAgZ3JvdXA6IHBhdHRlcm5JZHhUb0dyb3VwW2lkeF0sXG4gICAgICAgICAgICAgICAgcHVzaDogcGF0dGVybklkeFRvUHVzaE1vZGVbaWR4XSxcbiAgICAgICAgICAgICAgICBwb3A6IHBhdHRlcm5JZHhUb1BvcE1vZGVbaWR4XSxcbiAgICAgICAgICAgICAgICB0b2tlblR5cGVJZHg6IHBhdHRlcm5JZHhUb1R5cGVbaWR4XSxcbiAgICAgICAgICAgICAgICB0b2tlblR5cGU6IG9ubHlSZWxldmFudFR5cGVzW2lkeF1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIHZhciBjYW5CZU9wdGltaXplZCA9IHRydWU7XG4gICAgdmFyIGNoYXJDb2RlVG9QYXR0ZXJuSWR4VG9Db25maWcgPSBbXTtcbiAgICBpZiAoIW9wdGlvbnMuc2FmZU1vZGUpIHtcbiAgICAgICAgdHJhY2VyKFwiRmlyc3QgQ2hhciBPcHRpbWl6YXRpb25cIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY2hhckNvZGVUb1BhdHRlcm5JZHhUb0NvbmZpZyA9IHJlZHVjZShvbmx5UmVsZXZhbnRUeXBlcywgZnVuY3Rpb24gKHJlc3VsdCwgY3VyclRva1R5cGUsIGlkeCkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY3VyclRva1R5cGUuUEFUVEVSTiA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY2hhckNvZGUgPSBjdXJyVG9rVHlwZS5QQVRURVJOLmNoYXJDb2RlQXQoMCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBvcHRpbWl6ZWRJZHggPSBjaGFyQ29kZVRvT3B0aW1pemVkSW5kZXgoY2hhckNvZGUpO1xuICAgICAgICAgICAgICAgICAgICBhZGRUb01hcE9mQXJyYXlzKHJlc3VsdCwgb3B0aW1pemVkSWR4LCBwYXR0ZXJuSWR4VG9Db25maWdbaWR4XSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzQXJyYXkoY3VyclRva1R5cGUuU1RBUlRfQ0hBUlNfSElOVCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxhc3RPcHRpbWl6ZWRJZHhfMTtcbiAgICAgICAgICAgICAgICAgICAgZm9yRWFjaChjdXJyVG9rVHlwZS5TVEFSVF9DSEFSU19ISU5ULCBmdW5jdGlvbiAoY2hhck9ySW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2hhckNvZGUgPSB0eXBlb2YgY2hhck9ySW50ID09PSBcInN0cmluZ1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBjaGFyT3JJbnQuY2hhckNvZGVBdCgwKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogY2hhck9ySW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJPcHRpbWl6ZWRJZHggPSBjaGFyQ29kZVRvT3B0aW1pemVkSW5kZXgoY2hhckNvZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQXZvaWQgYWRkaW5nIHRoZSBjb25maWcgbXVsdGlwbGUgdGltZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAtIERpZmZpY3VsdCB0byBjaGVjayB0aGlzIHNjZW5hcmlvIGVmZmVjdHMgYXMgaXQgaXMgb25seSBhIHBlcmZvcm1hbmNlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgIG9wdGltaXphdGlvbiB0aGF0IGRvZXMgbm90IGNoYW5nZSBjb3JyZWN0bmVzc1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxhc3RPcHRpbWl6ZWRJZHhfMSAhPT0gY3Vyck9wdGltaXplZElkeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RPcHRpbWl6ZWRJZHhfMSA9IGN1cnJPcHRpbWl6ZWRJZHg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9NYXBPZkFycmF5cyhyZXN1bHQsIGN1cnJPcHRpbWl6ZWRJZHgsIHBhdHRlcm5JZHhUb0NvbmZpZ1tpZHhdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzUmVnRXhwKGN1cnJUb2tUeXBlLlBBVFRFUk4pKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyVG9rVHlwZS5QQVRURVJOLnVuaWNvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbkJlT3B0aW1pemVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5lbnN1cmVPcHRpbWl6YXRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUFJJTlRfRVJST1IoXCJcIiArIGZhaWxlZE9wdGltaXphdGlvblByZWZpeE1zZyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChcIlxcdFVuYWJsZSB0byBhbmFseXplIDwgXCIgKyBjdXJyVG9rVHlwZS5QQVRURVJOLnRvU3RyaW5nKCkgKyBcIiA+IHBhdHRlcm4uXFxuXCIpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcXHRUaGUgcmVnZXhwIHVuaWNvZGUgZmxhZyBpcyBub3QgY3VycmVudGx5IHN1cHBvcnRlZCBieSB0aGUgcmVnZXhwLXRvLWFzdCBsaWJyYXJ5LlxcblwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcXHRUaGlzIHdpbGwgZGlzYWJsZSB0aGUgbGV4ZXIncyBmaXJzdCBjaGFyIG9wdGltaXphdGlvbnMuXFxuXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlxcdEZvciBkZXRhaWxzIFNlZTogaHR0cHM6Ly9zYXAuZ2l0aHViLmlvL2NoZXZyb3RhaW4vZG9jcy9ndWlkZS9yZXNvbHZpbmdfbGV4ZXJfZXJyb3JzLmh0bWwjVU5JQ09ERV9PUFRJTUlaRVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvcHRpbWl6ZWRDb2RlcyA9IGdldE9wdGltaXplZFN0YXJ0Q29kZXNJbmRpY2VzKGN1cnJUb2tUeXBlLlBBVFRFUk4sIG9wdGlvbnMuZW5zdXJlT3B0aW1pemF0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN0YXJ0IGNvZGUgd2lsbCBvbmx5IGJlIGVtcHR5IGdpdmVuIGFuIGVtcHR5IHJlZ0V4cCBvciBmYWlsdXJlIG9mIHJlZ2V4cC10by1hc3QgbGlicmFyeVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIGZpcnN0IHNob3VsZCBiZSBhIGRpZmZlcmVudCB2YWxpZGF0aW9uIGFuZCB0aGUgc2Vjb25kIGNhbm5vdCBiZSB0ZXN0ZWQuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNFbXB0eShvcHRpbWl6ZWRDb2RlcykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB3ZSBjYW5ub3QgdW5kZXJzdGFuZCB3aGF0IGNvZGVzIG1heSBzdGFydCBwb3NzaWJsZSBtYXRjaGVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIG9wdGltaXphdGlvbiBjb3JyZWN0bmVzcyByZXF1aXJlcyBrbm93aW5nIHN0YXJ0IGNvZGVzIGZvciBBTEwgcGF0dGVybnMuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTm90IGFjdHVhbGx5IHN1cmUgdGhpcyBpcyBhbiBlcnJvciwgbm8gZGVidWcgbWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbkJlT3B0aW1pemVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JFYWNoKG9wdGltaXplZENvZGVzLCBmdW5jdGlvbiAoY29kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvTWFwT2ZBcnJheXMocmVzdWx0LCBjb2RlLCBwYXR0ZXJuSWR4VG9Db25maWdbaWR4XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuZW5zdXJlT3B0aW1pemF0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgUFJJTlRfRVJST1IoXCJcIiArIGZhaWxlZE9wdGltaXphdGlvblByZWZpeE1zZyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKFwiXFx0VG9rZW5UeXBlOiA8XCIgKyBjdXJyVG9rVHlwZS5uYW1lICsgXCI+IGlzIHVzaW5nIGEgY3VzdG9tIHRva2VuIHBhdHRlcm4gd2l0aG91dCBwcm92aWRpbmcgPHN0YXJ0X2NoYXJzX2hpbnQ+IHBhcmFtZXRlci5cXG5cIikgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXFx0VGhpcyB3aWxsIGRpc2FibGUgdGhlIGxleGVyJ3MgZmlyc3QgY2hhciBvcHRpbWl6YXRpb25zLlxcblwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlxcdEZvciBkZXRhaWxzIFNlZTogaHR0cHM6Ly9zYXAuZ2l0aHViLmlvL2NoZXZyb3RhaW4vZG9jcy9ndWlkZS9yZXNvbHZpbmdfbGV4ZXJfZXJyb3JzLmh0bWwjQ1VTVE9NX09QVElNSVpFXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhbkJlT3B0aW1pemVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9LCBbXSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB0cmFjZXIoXCJBcnJheVBhY2tpbmdcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICBjaGFyQ29kZVRvUGF0dGVybklkeFRvQ29uZmlnID0gcGFja0FycmF5KGNoYXJDb2RlVG9QYXR0ZXJuSWR4VG9Db25maWcpO1xuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICAgIGVtcHR5R3JvdXBzOiBlbXB0eUdyb3VwcyxcbiAgICAgICAgcGF0dGVybklkeFRvQ29uZmlnOiBwYXR0ZXJuSWR4VG9Db25maWcsXG4gICAgICAgIGNoYXJDb2RlVG9QYXR0ZXJuSWR4VG9Db25maWc6IGNoYXJDb2RlVG9QYXR0ZXJuSWR4VG9Db25maWcsXG4gICAgICAgIGhhc0N1c3RvbTogaGFzQ3VzdG9tLFxuICAgICAgICBjYW5CZU9wdGltaXplZDogY2FuQmVPcHRpbWl6ZWRcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlUGF0dGVybnModG9rZW5UeXBlcywgdmFsaWRNb2Rlc05hbWVzKSB7XG4gICAgdmFyIGVycm9ycyA9IFtdO1xuICAgIHZhciBtaXNzaW5nUmVzdWx0ID0gZmluZE1pc3NpbmdQYXR0ZXJucyh0b2tlblR5cGVzKTtcbiAgICBlcnJvcnMgPSBlcnJvcnMuY29uY2F0KG1pc3NpbmdSZXN1bHQuZXJyb3JzKTtcbiAgICB2YXIgaW52YWxpZFJlc3VsdCA9IGZpbmRJbnZhbGlkUGF0dGVybnMobWlzc2luZ1Jlc3VsdC52YWxpZCk7XG4gICAgdmFyIHZhbGlkVG9rZW5UeXBlcyA9IGludmFsaWRSZXN1bHQudmFsaWQ7XG4gICAgZXJyb3JzID0gZXJyb3JzLmNvbmNhdChpbnZhbGlkUmVzdWx0LmVycm9ycyk7XG4gICAgZXJyb3JzID0gZXJyb3JzLmNvbmNhdCh2YWxpZGF0ZVJlZ0V4cFBhdHRlcm4odmFsaWRUb2tlblR5cGVzKSk7XG4gICAgZXJyb3JzID0gZXJyb3JzLmNvbmNhdChmaW5kSW52YWxpZEdyb3VwVHlwZSh2YWxpZFRva2VuVHlwZXMpKTtcbiAgICBlcnJvcnMgPSBlcnJvcnMuY29uY2F0KGZpbmRNb2Rlc1RoYXREb05vdEV4aXN0KHZhbGlkVG9rZW5UeXBlcywgdmFsaWRNb2Rlc05hbWVzKSk7XG4gICAgZXJyb3JzID0gZXJyb3JzLmNvbmNhdChmaW5kVW5yZWFjaGFibGVQYXR0ZXJucyh2YWxpZFRva2VuVHlwZXMpKTtcbiAgICByZXR1cm4gZXJyb3JzO1xufVxuZnVuY3Rpb24gdmFsaWRhdGVSZWdFeHBQYXR0ZXJuKHRva2VuVHlwZXMpIHtcbiAgICB2YXIgZXJyb3JzID0gW107XG4gICAgdmFyIHdpdGhSZWdFeHBQYXR0ZXJucyA9IGZpbHRlcih0b2tlblR5cGVzLCBmdW5jdGlvbiAoY3VyclRva1R5cGUpIHtcbiAgICAgICAgcmV0dXJuIGlzUmVnRXhwKGN1cnJUb2tUeXBlW1BBVFRFUk5dKTtcbiAgICB9KTtcbiAgICBlcnJvcnMgPSBlcnJvcnMuY29uY2F0KGZpbmRFbmRPZklucHV0QW5jaG9yKHdpdGhSZWdFeHBQYXR0ZXJucykpO1xuICAgIGVycm9ycyA9IGVycm9ycy5jb25jYXQoZmluZFN0YXJ0T2ZJbnB1dEFuY2hvcih3aXRoUmVnRXhwUGF0dGVybnMpKTtcbiAgICBlcnJvcnMgPSBlcnJvcnMuY29uY2F0KGZpbmRVbnN1cHBvcnRlZEZsYWdzKHdpdGhSZWdFeHBQYXR0ZXJucykpO1xuICAgIGVycm9ycyA9IGVycm9ycy5jb25jYXQoZmluZER1cGxpY2F0ZVBhdHRlcm5zKHdpdGhSZWdFeHBQYXR0ZXJucykpO1xuICAgIGVycm9ycyA9IGVycm9ycy5jb25jYXQoZmluZEVtcHR5TWF0Y2hSZWdFeHBzKHdpdGhSZWdFeHBQYXR0ZXJucykpO1xuICAgIHJldHVybiBlcnJvcnM7XG59XG5leHBvcnQgZnVuY3Rpb24gZmluZE1pc3NpbmdQYXR0ZXJucyh0b2tlblR5cGVzKSB7XG4gICAgdmFyIHRva2VuVHlwZXNXaXRoTWlzc2luZ1BhdHRlcm4gPSBmaWx0ZXIodG9rZW5UeXBlcywgZnVuY3Rpb24gKGN1cnJUeXBlKSB7XG4gICAgICAgIHJldHVybiAhaGFzKGN1cnJUeXBlLCBQQVRURVJOKTtcbiAgICB9KTtcbiAgICB2YXIgZXJyb3JzID0gbWFwKHRva2VuVHlwZXNXaXRoTWlzc2luZ1BhdHRlcm4sIGZ1bmN0aW9uIChjdXJyVHlwZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWVzc2FnZTogXCJUb2tlbiBUeXBlOiAtPlwiICtcbiAgICAgICAgICAgICAgICBjdXJyVHlwZS5uYW1lICtcbiAgICAgICAgICAgICAgICBcIjwtIG1pc3Npbmcgc3RhdGljICdQQVRURVJOJyBwcm9wZXJ0eVwiLFxuICAgICAgICAgICAgdHlwZTogTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlLk1JU1NJTkdfUEFUVEVSTixcbiAgICAgICAgICAgIHRva2VuVHlwZXM6IFtjdXJyVHlwZV1cbiAgICAgICAgfTtcbiAgICB9KTtcbiAgICB2YXIgdmFsaWQgPSBkaWZmZXJlbmNlKHRva2VuVHlwZXMsIHRva2VuVHlwZXNXaXRoTWlzc2luZ1BhdHRlcm4pO1xuICAgIHJldHVybiB7IGVycm9yczogZXJyb3JzLCB2YWxpZDogdmFsaWQgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmaW5kSW52YWxpZFBhdHRlcm5zKHRva2VuVHlwZXMpIHtcbiAgICB2YXIgdG9rZW5UeXBlc1dpdGhJbnZhbGlkUGF0dGVybiA9IGZpbHRlcih0b2tlblR5cGVzLCBmdW5jdGlvbiAoY3VyclR5cGUpIHtcbiAgICAgICAgdmFyIHBhdHRlcm4gPSBjdXJyVHlwZVtQQVRURVJOXTtcbiAgICAgICAgcmV0dXJuICghaXNSZWdFeHAocGF0dGVybikgJiZcbiAgICAgICAgICAgICFpc0Z1bmN0aW9uKHBhdHRlcm4pICYmXG4gICAgICAgICAgICAhaGFzKHBhdHRlcm4sIFwiZXhlY1wiKSAmJlxuICAgICAgICAgICAgIWlzU3RyaW5nKHBhdHRlcm4pKTtcbiAgICB9KTtcbiAgICB2YXIgZXJyb3JzID0gbWFwKHRva2VuVHlwZXNXaXRoSW52YWxpZFBhdHRlcm4sIGZ1bmN0aW9uIChjdXJyVHlwZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWVzc2FnZTogXCJUb2tlbiBUeXBlOiAtPlwiICtcbiAgICAgICAgICAgICAgICBjdXJyVHlwZS5uYW1lICtcbiAgICAgICAgICAgICAgICBcIjwtIHN0YXRpYyAnUEFUVEVSTicgY2FuIG9ubHkgYmUgYSBSZWdFeHAsIGFcIiArXG4gICAgICAgICAgICAgICAgXCIgRnVuY3Rpb24gbWF0Y2hpbmcgdGhlIHtDdXN0b21QYXR0ZXJuTWF0Y2hlckZ1bmN9IHR5cGUgb3IgYW4gT2JqZWN0IG1hdGNoaW5nIHRoZSB7SUN1c3RvbVBhdHRlcm59IGludGVyZmFjZS5cIixcbiAgICAgICAgICAgIHR5cGU6IExleGVyRGVmaW5pdGlvbkVycm9yVHlwZS5JTlZBTElEX1BBVFRFUk4sXG4gICAgICAgICAgICB0b2tlblR5cGVzOiBbY3VyclR5cGVdXG4gICAgICAgIH07XG4gICAgfSk7XG4gICAgdmFyIHZhbGlkID0gZGlmZmVyZW5jZSh0b2tlblR5cGVzLCB0b2tlblR5cGVzV2l0aEludmFsaWRQYXR0ZXJuKTtcbiAgICByZXR1cm4geyBlcnJvcnM6IGVycm9ycywgdmFsaWQ6IHZhbGlkIH07XG59XG52YXIgZW5kX29mX2lucHV0ID0gL1teXFxcXF1bXFwkXS87XG5leHBvcnQgZnVuY3Rpb24gZmluZEVuZE9mSW5wdXRBbmNob3IodG9rZW5UeXBlcykge1xuICAgIHZhciBFbmRBbmNob3JGaW5kZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgICAgIF9fZXh0ZW5kcyhFbmRBbmNob3JGaW5kZXIsIF9zdXBlcik7XG4gICAgICAgIGZ1bmN0aW9uIEVuZEFuY2hvckZpbmRlcigpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgICAgICAgX3RoaXMuZm91bmQgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgfVxuICAgICAgICBFbmRBbmNob3JGaW5kZXIucHJvdG90eXBlLnZpc2l0RW5kQW5jaG9yID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICAgIHRoaXMuZm91bmQgPSB0cnVlO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gRW5kQW5jaG9yRmluZGVyO1xuICAgIH0oQmFzZVJlZ0V4cFZpc2l0b3IpKTtcbiAgICB2YXIgaW52YWxpZFJlZ2V4ID0gZmlsdGVyKHRva2VuVHlwZXMsIGZ1bmN0aW9uIChjdXJyVHlwZSkge1xuICAgICAgICB2YXIgcGF0dGVybiA9IGN1cnJUeXBlW1BBVFRFUk5dO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIHJlZ2V4cEFzdCA9IGdldFJlZ0V4cEFzdChwYXR0ZXJuKTtcbiAgICAgICAgICAgIHZhciBlbmRBbmNob3JWaXNpdG9yID0gbmV3IEVuZEFuY2hvckZpbmRlcigpO1xuICAgICAgICAgICAgZW5kQW5jaG9yVmlzaXRvci52aXNpdChyZWdleHBBc3QpO1xuICAgICAgICAgICAgcmV0dXJuIGVuZEFuY2hvclZpc2l0b3IuZm91bmQ7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8vIG9sZCBiZWhhdmlvciBpbiBjYXNlIG9mIHJ1bnRpbWUgZXhjZXB0aW9ucyB3aXRoIHJlZ2V4cC10by1hc3QuXG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAtIGNhbm5vdCBlbnN1cmUgYW4gZXJyb3IgaW4gcmVnZXhwLXRvLWFzdCovXG4gICAgICAgICAgICByZXR1cm4gZW5kX29mX2lucHV0LnRlc3QocGF0dGVybi5zb3VyY2UpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgdmFyIGVycm9ycyA9IG1hcChpbnZhbGlkUmVnZXgsIGZ1bmN0aW9uIChjdXJyVHlwZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWVzc2FnZTogXCJVbmV4cGVjdGVkIFJlZ0V4cCBBbmNob3IgRXJyb3I6XFxuXCIgK1xuICAgICAgICAgICAgICAgIFwiXFx0VG9rZW4gVHlwZTogLT5cIiArXG4gICAgICAgICAgICAgICAgY3VyclR5cGUubmFtZSArXG4gICAgICAgICAgICAgICAgXCI8LSBzdGF0aWMgJ1BBVFRFUk4nIGNhbm5vdCBjb250YWluIGVuZCBvZiBpbnB1dCBhbmNob3IgJyQnXFxuXCIgK1xuICAgICAgICAgICAgICAgIFwiXFx0U2VlIHNhcC5naXRodWIuaW8vY2hldnJvdGFpbi9kb2NzL2d1aWRlL3Jlc29sdmluZ19sZXhlcl9lcnJvcnMuaHRtbCNBTkNIT1JTXCIgK1xuICAgICAgICAgICAgICAgIFwiXFx0Zm9yIGRldGFpbHMuXCIsXG4gICAgICAgICAgICB0eXBlOiBMZXhlckRlZmluaXRpb25FcnJvclR5cGUuRU9JX0FOQ0hPUl9GT1VORCxcbiAgICAgICAgICAgIHRva2VuVHlwZXM6IFtjdXJyVHlwZV1cbiAgICAgICAgfTtcbiAgICB9KTtcbiAgICByZXR1cm4gZXJyb3JzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZpbmRFbXB0eU1hdGNoUmVnRXhwcyh0b2tlblR5cGVzKSB7XG4gICAgdmFyIG1hdGNoZXNFbXB0eVN0cmluZyA9IGZpbHRlcih0b2tlblR5cGVzLCBmdW5jdGlvbiAoY3VyclR5cGUpIHtcbiAgICAgICAgdmFyIHBhdHRlcm4gPSBjdXJyVHlwZVtQQVRURVJOXTtcbiAgICAgICAgcmV0dXJuIHBhdHRlcm4udGVzdChcIlwiKTtcbiAgICB9KTtcbiAgICB2YXIgZXJyb3JzID0gbWFwKG1hdGNoZXNFbXB0eVN0cmluZywgZnVuY3Rpb24gKGN1cnJUeXBlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIlRva2VuIFR5cGU6IC0+XCIgK1xuICAgICAgICAgICAgICAgIGN1cnJUeXBlLm5hbWUgK1xuICAgICAgICAgICAgICAgIFwiPC0gc3RhdGljICdQQVRURVJOJyBtdXN0IG5vdCBtYXRjaCBhbiBlbXB0eSBzdHJpbmdcIixcbiAgICAgICAgICAgIHR5cGU6IExleGVyRGVmaW5pdGlvbkVycm9yVHlwZS5FTVBUWV9NQVRDSF9QQVRURVJOLFxuICAgICAgICAgICAgdG9rZW5UeXBlczogW2N1cnJUeXBlXVxuICAgICAgICB9O1xuICAgIH0pO1xuICAgIHJldHVybiBlcnJvcnM7XG59XG52YXIgc3RhcnRfb2ZfaW5wdXQgPSAvW15cXFxcW11bXFxeXXxeXFxeLztcbmV4cG9ydCBmdW5jdGlvbiBmaW5kU3RhcnRPZklucHV0QW5jaG9yKHRva2VuVHlwZXMpIHtcbiAgICB2YXIgU3RhcnRBbmNob3JGaW5kZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgICAgIF9fZXh0ZW5kcyhTdGFydEFuY2hvckZpbmRlciwgX3N1cGVyKTtcbiAgICAgICAgZnVuY3Rpb24gU3RhcnRBbmNob3JGaW5kZXIoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICAgICAgICAgIF90aGlzLmZvdW5kID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICAgIH1cbiAgICAgICAgU3RhcnRBbmNob3JGaW5kZXIucHJvdG90eXBlLnZpc2l0U3RhcnRBbmNob3IgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgICAgdGhpcy5mb3VuZCA9IHRydWU7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBTdGFydEFuY2hvckZpbmRlcjtcbiAgICB9KEJhc2VSZWdFeHBWaXNpdG9yKSk7XG4gICAgdmFyIGludmFsaWRSZWdleCA9IGZpbHRlcih0b2tlblR5cGVzLCBmdW5jdGlvbiAoY3VyclR5cGUpIHtcbiAgICAgICAgdmFyIHBhdHRlcm4gPSBjdXJyVHlwZVtQQVRURVJOXTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciByZWdleHBBc3QgPSBnZXRSZWdFeHBBc3QocGF0dGVybik7XG4gICAgICAgICAgICB2YXIgc3RhcnRBbmNob3JWaXNpdG9yID0gbmV3IFN0YXJ0QW5jaG9yRmluZGVyKCk7XG4gICAgICAgICAgICBzdGFydEFuY2hvclZpc2l0b3IudmlzaXQocmVnZXhwQXN0KTtcbiAgICAgICAgICAgIHJldHVybiBzdGFydEFuY2hvclZpc2l0b3IuZm91bmQ7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8vIG9sZCBiZWhhdmlvciBpbiBjYXNlIG9mIHJ1bnRpbWUgZXhjZXB0aW9ucyB3aXRoIHJlZ2V4cC10by1hc3QuXG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAtIGNhbm5vdCBlbnN1cmUgYW4gZXJyb3IgaW4gcmVnZXhwLXRvLWFzdCovXG4gICAgICAgICAgICByZXR1cm4gc3RhcnRfb2ZfaW5wdXQudGVzdChwYXR0ZXJuLnNvdXJjZSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICB2YXIgZXJyb3JzID0gbWFwKGludmFsaWRSZWdleCwgZnVuY3Rpb24gKGN1cnJUeXBlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIlVuZXhwZWN0ZWQgUmVnRXhwIEFuY2hvciBFcnJvcjpcXG5cIiArXG4gICAgICAgICAgICAgICAgXCJcXHRUb2tlbiBUeXBlOiAtPlwiICtcbiAgICAgICAgICAgICAgICBjdXJyVHlwZS5uYW1lICtcbiAgICAgICAgICAgICAgICBcIjwtIHN0YXRpYyAnUEFUVEVSTicgY2Fubm90IGNvbnRhaW4gc3RhcnQgb2YgaW5wdXQgYW5jaG9yICdeJ1xcblwiICtcbiAgICAgICAgICAgICAgICBcIlxcdFNlZSBodHRwczovL3NhcC5naXRodWIuaW8vY2hldnJvdGFpbi9kb2NzL2d1aWRlL3Jlc29sdmluZ19sZXhlcl9lcnJvcnMuaHRtbCNBTkNIT1JTXCIgK1xuICAgICAgICAgICAgICAgIFwiXFx0Zm9yIGRldGFpbHMuXCIsXG4gICAgICAgICAgICB0eXBlOiBMZXhlckRlZmluaXRpb25FcnJvclR5cGUuU09JX0FOQ0hPUl9GT1VORCxcbiAgICAgICAgICAgIHRva2VuVHlwZXM6IFtjdXJyVHlwZV1cbiAgICAgICAgfTtcbiAgICB9KTtcbiAgICByZXR1cm4gZXJyb3JzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZpbmRVbnN1cHBvcnRlZEZsYWdzKHRva2VuVHlwZXMpIHtcbiAgICB2YXIgaW52YWxpZEZsYWdzID0gZmlsdGVyKHRva2VuVHlwZXMsIGZ1bmN0aW9uIChjdXJyVHlwZSkge1xuICAgICAgICB2YXIgcGF0dGVybiA9IGN1cnJUeXBlW1BBVFRFUk5dO1xuICAgICAgICByZXR1cm4gcGF0dGVybiBpbnN0YW5jZW9mIFJlZ0V4cCAmJiAocGF0dGVybi5tdWx0aWxpbmUgfHwgcGF0dGVybi5nbG9iYWwpO1xuICAgIH0pO1xuICAgIHZhciBlcnJvcnMgPSBtYXAoaW52YWxpZEZsYWdzLCBmdW5jdGlvbiAoY3VyclR5cGUpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiVG9rZW4gVHlwZTogLT5cIiArXG4gICAgICAgICAgICAgICAgY3VyclR5cGUubmFtZSArXG4gICAgICAgICAgICAgICAgXCI8LSBzdGF0aWMgJ1BBVFRFUk4nIG1heSBOT1QgY29udGFpbiBnbG9iYWwoJ2cnKSBvciBtdWx0aWxpbmUoJ20nKVwiLFxuICAgICAgICAgICAgdHlwZTogTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlLlVOU1VQUE9SVEVEX0ZMQUdTX0ZPVU5ELFxuICAgICAgICAgICAgdG9rZW5UeXBlczogW2N1cnJUeXBlXVxuICAgICAgICB9O1xuICAgIH0pO1xuICAgIHJldHVybiBlcnJvcnM7XG59XG4vLyBUaGlzIGNhbiBvbmx5IHRlc3QgZm9yIGlkZW50aWNhbCBkdXBsaWNhdGUgUmVnRXhwcywgbm90IHNlbWFudGljYWxseSBlcXVpdmFsZW50IG9uZXMuXG5leHBvcnQgZnVuY3Rpb24gZmluZER1cGxpY2F0ZVBhdHRlcm5zKHRva2VuVHlwZXMpIHtcbiAgICB2YXIgZm91bmQgPSBbXTtcbiAgICB2YXIgaWRlbnRpY2FsUGF0dGVybnMgPSBtYXAodG9rZW5UeXBlcywgZnVuY3Rpb24gKG91dGVyVHlwZSkge1xuICAgICAgICByZXR1cm4gcmVkdWNlKHRva2VuVHlwZXMsIGZ1bmN0aW9uIChyZXN1bHQsIGlubmVyVHlwZSkge1xuICAgICAgICAgICAgaWYgKG91dGVyVHlwZS5QQVRURVJOLnNvdXJjZSA9PT0gaW5uZXJUeXBlLlBBVFRFUk4uc291cmNlICYmXG4gICAgICAgICAgICAgICAgIWNvbnRhaW5zKGZvdW5kLCBpbm5lclR5cGUpICYmXG4gICAgICAgICAgICAgICAgaW5uZXJUeXBlLlBBVFRFUk4gIT09IExleGVyLk5BKSB7XG4gICAgICAgICAgICAgICAgLy8gdGhpcyBhdm9pZHMgZHVwbGljYXRlcyBpbiB0aGUgcmVzdWx0LCBlYWNoIFRva2VuIFR5cGUgbWF5IG9ubHkgYXBwZWFyIGluIG9uZSBcInNldFwiXG4gICAgICAgICAgICAgICAgLy8gaW4gZXNzZW5jZSB3ZSBhcmUgY3JlYXRpbmcgRXF1aXZhbGVuY2UgY2xhc3NlcyBvbiBlcXVhbGl0eSByZWxhdGlvbi5cbiAgICAgICAgICAgICAgICBmb3VuZC5wdXNoKGlubmVyVHlwZSk7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goaW5uZXJUeXBlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfSwgW10pO1xuICAgIH0pO1xuICAgIGlkZW50aWNhbFBhdHRlcm5zID0gY29tcGFjdChpZGVudGljYWxQYXR0ZXJucyk7XG4gICAgdmFyIGR1cGxpY2F0ZVBhdHRlcm5zID0gZmlsdGVyKGlkZW50aWNhbFBhdHRlcm5zLCBmdW5jdGlvbiAoY3VycklkZW50aWNhbFNldCkge1xuICAgICAgICByZXR1cm4gY3VycklkZW50aWNhbFNldC5sZW5ndGggPiAxO1xuICAgIH0pO1xuICAgIHZhciBlcnJvcnMgPSBtYXAoZHVwbGljYXRlUGF0dGVybnMsIGZ1bmN0aW9uIChzZXRPZklkZW50aWNhbCkge1xuICAgICAgICB2YXIgdG9rZW5UeXBlTmFtZXMgPSBtYXAoc2V0T2ZJZGVudGljYWwsIGZ1bmN0aW9uIChjdXJyVHlwZSkge1xuICAgICAgICAgICAgcmV0dXJuIGN1cnJUeXBlLm5hbWU7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgZHVwUGF0dGVyblNyYyA9IGZpcnN0KHNldE9mSWRlbnRpY2FsKS5QQVRURVJOO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWVzc2FnZTogXCJUaGUgc2FtZSBSZWdFeHAgcGF0dGVybiAtPlwiICsgZHVwUGF0dGVyblNyYyArIFwiPC1cIiArXG4gICAgICAgICAgICAgICAgKFwiaGFzIGJlZW4gdXNlZCBpbiBhbGwgb2YgdGhlIGZvbGxvd2luZyBUb2tlbiBUeXBlczogXCIgKyB0b2tlblR5cGVOYW1lcy5qb2luKFwiLCBcIikgKyBcIiA8LVwiKSxcbiAgICAgICAgICAgIHR5cGU6IExleGVyRGVmaW5pdGlvbkVycm9yVHlwZS5EVVBMSUNBVEVfUEFUVEVSTlNfRk9VTkQsXG4gICAgICAgICAgICB0b2tlblR5cGVzOiBzZXRPZklkZW50aWNhbFxuICAgICAgICB9O1xuICAgIH0pO1xuICAgIHJldHVybiBlcnJvcnM7XG59XG5leHBvcnQgZnVuY3Rpb24gZmluZEludmFsaWRHcm91cFR5cGUodG9rZW5UeXBlcykge1xuICAgIHZhciBpbnZhbGlkVHlwZXMgPSBmaWx0ZXIodG9rZW5UeXBlcywgZnVuY3Rpb24gKGNsYXp6KSB7XG4gICAgICAgIGlmICghaGFzKGNsYXp6LCBcIkdST1VQXCIpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGdyb3VwID0gY2xhenouR1JPVVA7XG4gICAgICAgIHJldHVybiBncm91cCAhPT0gTGV4ZXIuU0tJUFBFRCAmJiBncm91cCAhPT0gTGV4ZXIuTkEgJiYgIWlzU3RyaW5nKGdyb3VwKTtcbiAgICB9KTtcbiAgICB2YXIgZXJyb3JzID0gbWFwKGludmFsaWRUeXBlcywgZnVuY3Rpb24gKGN1cnJUeXBlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIlRva2VuIFR5cGU6IC0+XCIgK1xuICAgICAgICAgICAgICAgIGN1cnJUeXBlLm5hbWUgK1xuICAgICAgICAgICAgICAgIFwiPC0gc3RhdGljICdHUk9VUCcgY2FuIG9ubHkgYmUgTGV4ZXIuU0tJUFBFRC9MZXhlci5OQS9BIFN0cmluZ1wiLFxuICAgICAgICAgICAgdHlwZTogTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlLklOVkFMSURfR1JPVVBfVFlQRV9GT1VORCxcbiAgICAgICAgICAgIHRva2VuVHlwZXM6IFtjdXJyVHlwZV1cbiAgICAgICAgfTtcbiAgICB9KTtcbiAgICByZXR1cm4gZXJyb3JzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZpbmRNb2Rlc1RoYXREb05vdEV4aXN0KHRva2VuVHlwZXMsIHZhbGlkTW9kZXMpIHtcbiAgICB2YXIgaW52YWxpZE1vZGVzID0gZmlsdGVyKHRva2VuVHlwZXMsIGZ1bmN0aW9uIChjbGF6eikge1xuICAgICAgICByZXR1cm4gKGNsYXp6LlBVU0hfTU9ERSAhPT0gdW5kZWZpbmVkICYmICFjb250YWlucyh2YWxpZE1vZGVzLCBjbGF6ei5QVVNIX01PREUpKTtcbiAgICB9KTtcbiAgICB2YXIgZXJyb3JzID0gbWFwKGludmFsaWRNb2RlcywgZnVuY3Rpb24gKHRva1R5cGUpIHtcbiAgICAgICAgdmFyIG1zZyA9IFwiVG9rZW4gVHlwZTogLT5cIiArIHRva1R5cGUubmFtZSArIFwiPC0gc3RhdGljICdQVVNIX01PREUnIHZhbHVlIGNhbm5vdCByZWZlciB0byBhIExleGVyIE1vZGUgLT5cIiArIHRva1R5cGUuUFVTSF9NT0RFICsgXCI8LVwiICtcbiAgICAgICAgICAgIFwid2hpY2ggZG9lcyBub3QgZXhpc3RcIjtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IG1zZyxcbiAgICAgICAgICAgIHR5cGU6IExleGVyRGVmaW5pdGlvbkVycm9yVHlwZS5QVVNIX01PREVfRE9FU19OT1RfRVhJU1QsXG4gICAgICAgICAgICB0b2tlblR5cGVzOiBbdG9rVHlwZV1cbiAgICAgICAgfTtcbiAgICB9KTtcbiAgICByZXR1cm4gZXJyb3JzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZpbmRVbnJlYWNoYWJsZVBhdHRlcm5zKHRva2VuVHlwZXMpIHtcbiAgICB2YXIgZXJyb3JzID0gW107XG4gICAgdmFyIGNhbkJlVGVzdGVkID0gcmVkdWNlKHRva2VuVHlwZXMsIGZ1bmN0aW9uIChyZXN1bHQsIHRva1R5cGUsIGlkeCkge1xuICAgICAgICB2YXIgcGF0dGVybiA9IHRva1R5cGUuUEFUVEVSTjtcbiAgICAgICAgaWYgKHBhdHRlcm4gPT09IExleGVyLk5BKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIC8vIGEgbW9yZSBjb21wcmVoZW5zaXZlIHZhbGlkYXRpb24gZm9yIGFsbCBmb3JtcyBvZiByZWdFeHBzIHdvdWxkIHJlcXVpcmVcbiAgICAgICAgLy8gZGVlcGVyIHJlZ0V4cCBhbmFseXNpcyBjYXBhYmlsaXRpZXNcbiAgICAgICAgaWYgKGlzU3RyaW5nKHBhdHRlcm4pKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaCh7IHN0cjogcGF0dGVybiwgaWR4OiBpZHgsIHRva2VuVHlwZTogdG9rVHlwZSB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc1JlZ0V4cChwYXR0ZXJuKSAmJiBub01ldGFDaGFyKHBhdHRlcm4pKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaCh7IHN0cjogcGF0dGVybi5zb3VyY2UsIGlkeDogaWR4LCB0b2tlblR5cGU6IHRva1R5cGUgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9LCBbXSk7XG4gICAgZm9yRWFjaCh0b2tlblR5cGVzLCBmdW5jdGlvbiAodG9rVHlwZSwgdGVzdElkeCkge1xuICAgICAgICBmb3JFYWNoKGNhbkJlVGVzdGVkLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgIHZhciBzdHIgPSBfYS5zdHIsIGlkeCA9IF9hLmlkeCwgdG9rZW5UeXBlID0gX2EudG9rZW5UeXBlO1xuICAgICAgICAgICAgaWYgKHRlc3RJZHggPCBpZHggJiYgdGVzdFRva2VuVHlwZShzdHIsIHRva1R5cGUuUEFUVEVSTikpIHtcbiAgICAgICAgICAgICAgICB2YXIgbXNnID0gXCJUb2tlbjogLT5cIiArIHRva2VuVHlwZS5uYW1lICsgXCI8LSBjYW4gbmV2ZXIgYmUgbWF0Y2hlZC5cXG5cIiArXG4gICAgICAgICAgICAgICAgICAgIChcIkJlY2F1c2UgaXQgYXBwZWFycyBBRlRFUiB0aGUgVG9rZW4gVHlwZSAtPlwiICsgdG9rVHlwZS5uYW1lICsgXCI8LVwiKSArXG4gICAgICAgICAgICAgICAgICAgIFwiaW4gdGhlIGxleGVyJ3MgZGVmaW5pdGlvbi5cXG5cIiArXG4gICAgICAgICAgICAgICAgICAgIFwiU2VlIGh0dHBzOi8vc2FwLmdpdGh1Yi5pby9jaGV2cm90YWluL2RvY3MvZ3VpZGUvcmVzb2x2aW5nX2xleGVyX2Vycm9ycy5odG1sI1VOUkVBQ0hBQkxFXCI7XG4gICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBtc2csXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IExleGVyRGVmaW5pdGlvbkVycm9yVHlwZS5VTlJFQUNIQUJMRV9QQVRURVJOLFxuICAgICAgICAgICAgICAgICAgICB0b2tlblR5cGVzOiBbdG9rVHlwZSwgdG9rZW5UeXBlXVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gZXJyb3JzO1xufVxuZnVuY3Rpb24gdGVzdFRva2VuVHlwZShzdHIsIHBhdHRlcm4pIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgIGlmIChpc1JlZ0V4cChwYXR0ZXJuKSkge1xuICAgICAgICB2YXIgcmVnRXhwQXJyYXkgPSBwYXR0ZXJuLmV4ZWMoc3RyKTtcbiAgICAgICAgcmV0dXJuIHJlZ0V4cEFycmF5ICE9PSBudWxsICYmIHJlZ0V4cEFycmF5LmluZGV4ID09PSAwO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc0Z1bmN0aW9uKHBhdHRlcm4pKSB7XG4gICAgICAgIC8vIG1haW50YWluIHRoZSBBUEkgb2YgY3VzdG9tIHBhdHRlcm5zXG4gICAgICAgIHJldHVybiBwYXR0ZXJuKHN0ciwgMCwgW10sIHt9KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaGFzKHBhdHRlcm4sIFwiZXhlY1wiKSkge1xuICAgICAgICAvLyBtYWludGFpbiB0aGUgQVBJIG9mIGN1c3RvbSBwYXR0ZXJuc1xuICAgICAgICByZXR1cm4gcGF0dGVybi5leGVjKHN0ciwgMCwgW10sIHt9KTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIHBhdHRlcm4gPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgcmV0dXJuIHBhdHRlcm4gPT09IHN0cjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IEVycm9yKFwibm9uIGV4aGF1c3RpdmUgbWF0Y2hcIik7XG4gICAgfVxufVxuZnVuY3Rpb24gbm9NZXRhQ2hhcihyZWdFeHApIHtcbiAgICAvL2h0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1JlZ0V4cFxuICAgIHZhciBtZXRhQ2hhcnMgPSBbXG4gICAgICAgIFwiLlwiLFxuICAgICAgICBcIlxcXFxcIixcbiAgICAgICAgXCJbXCIsXG4gICAgICAgIFwiXVwiLFxuICAgICAgICBcInxcIixcbiAgICAgICAgXCJeXCIsXG4gICAgICAgIFwiJFwiLFxuICAgICAgICBcIihcIixcbiAgICAgICAgXCIpXCIsXG4gICAgICAgIFwiP1wiLFxuICAgICAgICBcIipcIixcbiAgICAgICAgXCIrXCIsXG4gICAgICAgIFwie1wiXG4gICAgXTtcbiAgICByZXR1cm4gKGZpbmQobWV0YUNoYXJzLCBmdW5jdGlvbiAoY2hhcikgeyByZXR1cm4gcmVnRXhwLnNvdXJjZS5pbmRleE9mKGNoYXIpICE9PSAtMTsgfSkgPT09IHVuZGVmaW5lZCk7XG59XG5leHBvcnQgZnVuY3Rpb24gYWRkU3RhcnRPZklucHV0KHBhdHRlcm4pIHtcbiAgICB2YXIgZmxhZ3MgPSBwYXR0ZXJuLmlnbm9yZUNhc2UgPyBcImlcIiA6IFwiXCI7XG4gICAgLy8gYWx3YXlzIHdyYXBwaW5nIGluIGEgbm9uZSBjYXB0dXJpbmcgZ3JvdXAgcHJlY2VkZWQgYnkgJ14nIHRvIG1ha2Ugc3VyZSBtYXRjaGluZyBjYW4gb25seSB3b3JrIG9uIHN0YXJ0IG9mIGlucHV0LlxuICAgIC8vIGR1cGxpY2F0ZS9yZWR1bmRhbnQgc3RhcnQgb2YgaW5wdXQgbWFya2VycyBoYXZlIG5vIG1lYW5pbmcgKC9eXl5eQS8gPT09IC9eQS8pXG4gICAgcmV0dXJuIG5ldyBSZWdFeHAoXCJeKD86XCIgKyBwYXR0ZXJuLnNvdXJjZSArIFwiKVwiLCBmbGFncyk7XG59XG5leHBvcnQgZnVuY3Rpb24gYWRkU3RpY2t5RmxhZyhwYXR0ZXJuKSB7XG4gICAgdmFyIGZsYWdzID0gcGF0dGVybi5pZ25vcmVDYXNlID8gXCJpeVwiIDogXCJ5XCI7XG4gICAgLy8gYWx3YXlzIHdyYXBwaW5nIGluIGEgbm9uZSBjYXB0dXJpbmcgZ3JvdXAgcHJlY2VkZWQgYnkgJ14nIHRvIG1ha2Ugc3VyZSBtYXRjaGluZyBjYW4gb25seSB3b3JrIG9uIHN0YXJ0IG9mIGlucHV0LlxuICAgIC8vIGR1cGxpY2F0ZS9yZWR1bmRhbnQgc3RhcnQgb2YgaW5wdXQgbWFya2VycyBoYXZlIG5vIG1lYW5pbmcgKC9eXl5eQS8gPT09IC9eQS8pXG4gICAgcmV0dXJuIG5ldyBSZWdFeHAoXCJcIiArIHBhdHRlcm4uc291cmNlLCBmbGFncyk7XG59XG5leHBvcnQgZnVuY3Rpb24gcGVyZm9ybVJ1bnRpbWVDaGVja3MobGV4ZXJEZWZpbml0aW9uLCB0cmFja0xpbmVzLCBsaW5lVGVybWluYXRvckNoYXJhY3RlcnMpIHtcbiAgICB2YXIgZXJyb3JzID0gW107XG4gICAgLy8gc29tZSBydW4gdGltZSBjaGVja3MgdG8gaGVscCB0aGUgZW5kIHVzZXJzLlxuICAgIGlmICghaGFzKGxleGVyRGVmaW5pdGlvbiwgREVGQVVMVF9NT0RFKSkge1xuICAgICAgICBlcnJvcnMucHVzaCh7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIkEgTXVsdGlNb2RlIExleGVyIGNhbm5vdCBiZSBpbml0aWFsaXplZCB3aXRob3V0IGEgPFwiICtcbiAgICAgICAgICAgICAgICBERUZBVUxUX01PREUgK1xuICAgICAgICAgICAgICAgIFwiPiBwcm9wZXJ0eSBpbiBpdHMgZGVmaW5pdGlvblxcblwiLFxuICAgICAgICAgICAgdHlwZTogTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlLk1VTFRJX01PREVfTEVYRVJfV0lUSE9VVF9ERUZBVUxUX01PREVcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmICghaGFzKGxleGVyRGVmaW5pdGlvbiwgTU9ERVMpKSB7XG4gICAgICAgIGVycm9ycy5wdXNoKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiQSBNdWx0aU1vZGUgTGV4ZXIgY2Fubm90IGJlIGluaXRpYWxpemVkIHdpdGhvdXQgYSA8XCIgK1xuICAgICAgICAgICAgICAgIE1PREVTICtcbiAgICAgICAgICAgICAgICBcIj4gcHJvcGVydHkgaW4gaXRzIGRlZmluaXRpb25cXG5cIixcbiAgICAgICAgICAgIHR5cGU6IExleGVyRGVmaW5pdGlvbkVycm9yVHlwZS5NVUxUSV9NT0RFX0xFWEVSX1dJVEhPVVRfTU9ERVNfUFJPUEVSVFlcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChoYXMobGV4ZXJEZWZpbml0aW9uLCBNT0RFUykgJiZcbiAgICAgICAgaGFzKGxleGVyRGVmaW5pdGlvbiwgREVGQVVMVF9NT0RFKSAmJlxuICAgICAgICAhaGFzKGxleGVyRGVmaW5pdGlvbi5tb2RlcywgbGV4ZXJEZWZpbml0aW9uLmRlZmF1bHRNb2RlKSkge1xuICAgICAgICBlcnJvcnMucHVzaCh7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIkEgTXVsdGlNb2RlIExleGVyIGNhbm5vdCBiZSBpbml0aWFsaXplZCB3aXRoIGEgXCIgKyBERUZBVUxUX01PREUgKyBcIjogPFwiICsgbGV4ZXJEZWZpbml0aW9uLmRlZmF1bHRNb2RlICsgXCI+XCIgK1xuICAgICAgICAgICAgICAgIFwid2hpY2ggZG9lcyBub3QgZXhpc3RcXG5cIixcbiAgICAgICAgICAgIHR5cGU6IExleGVyRGVmaW5pdGlvbkVycm9yVHlwZS5NVUxUSV9NT0RFX0xFWEVSX0RFRkFVTFRfTU9ERV9WQUxVRV9ET0VTX05PVF9FWElTVFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGhhcyhsZXhlckRlZmluaXRpb24sIE1PREVTKSkge1xuICAgICAgICBmb3JFYWNoKGxleGVyRGVmaW5pdGlvbi5tb2RlcywgZnVuY3Rpb24gKGN1cnJNb2RlVmFsdWUsIGN1cnJNb2RlTmFtZSkge1xuICAgICAgICAgICAgZm9yRWFjaChjdXJyTW9kZVZhbHVlLCBmdW5jdGlvbiAoY3VyclRva1R5cGUsIGN1cnJJZHgpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNVbmRlZmluZWQoY3VyclRva1R5cGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiQSBMZXhlciBjYW5ub3QgYmUgaW5pdGlhbGl6ZWQgdXNpbmcgYW4gdW5kZWZpbmVkIFRva2VuIFR5cGUuIE1vZGU6XCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChcIjxcIiArIGN1cnJNb2RlTmFtZSArIFwiPiBhdCBpbmRleDogPFwiICsgY3VycklkeCArIFwiPlxcblwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IExleGVyRGVmaW5pdGlvbkVycm9yVHlwZS5MRVhFUl9ERUZJTklUSU9OX0NBTk5PVF9DT05UQUlOX1VOREVGSU5FRFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBlcnJvcnM7XG59XG5leHBvcnQgZnVuY3Rpb24gcGVyZm9ybVdhcm5pbmdSdW50aW1lQ2hlY2tzKGxleGVyRGVmaW5pdGlvbiwgdHJhY2tMaW5lcywgbGluZVRlcm1pbmF0b3JDaGFyYWN0ZXJzKSB7XG4gICAgdmFyIHdhcm5pbmdzID0gW107XG4gICAgdmFyIGhhc0FueUxpbmVCcmVhayA9IGZhbHNlO1xuICAgIHZhciBhbGxUb2tlblR5cGVzID0gY29tcGFjdChmbGF0dGVuKG1hcFZhbHVlcyhsZXhlckRlZmluaXRpb24ubW9kZXMsIGZ1bmN0aW9uICh0b2tUeXBlcykgeyByZXR1cm4gdG9rVHlwZXM7IH0pKSk7XG4gICAgdmFyIGNvbmNyZXRlVG9rZW5UeXBlcyA9IHJlamVjdChhbGxUb2tlblR5cGVzLCBmdW5jdGlvbiAoY3VyclR5cGUpIHsgcmV0dXJuIGN1cnJUeXBlW1BBVFRFUk5dID09PSBMZXhlci5OQTsgfSk7XG4gICAgdmFyIHRlcm1pbmF0b3JDaGFyQ29kZXMgPSBnZXRDaGFyQ29kZXMobGluZVRlcm1pbmF0b3JDaGFyYWN0ZXJzKTtcbiAgICBpZiAodHJhY2tMaW5lcykge1xuICAgICAgICBmb3JFYWNoKGNvbmNyZXRlVG9rZW5UeXBlcywgZnVuY3Rpb24gKHRva1R5cGUpIHtcbiAgICAgICAgICAgIHZhciBjdXJySXNzdWUgPSBjaGVja0xpbmVCcmVha3NJc3N1ZXModG9rVHlwZSwgdGVybWluYXRvckNoYXJDb2Rlcyk7XG4gICAgICAgICAgICBpZiAoY3Vycklzc3VlICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlID0gYnVpbGRMaW5lQnJlYWtJc3N1ZU1lc3NhZ2UodG9rVHlwZSwgY3Vycklzc3VlKTtcbiAgICAgICAgICAgICAgICB2YXIgd2FybmluZ0Rlc2NyaXB0b3IgPSB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IGN1cnJJc3N1ZS5pc3N1ZSxcbiAgICAgICAgICAgICAgICAgICAgdG9rZW5UeXBlOiB0b2tUeXBlXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB3YXJuaW5ncy5wdXNoKHdhcm5pbmdEZXNjcmlwdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIHdlIGRvbid0IHdhbnQgdG8gYXR0ZW1wdCB0byBzY2FuIGlmIHRoZSB1c2VyIGV4cGxpY2l0bHkgc3BlY2lmaWVkIHRoZSBsaW5lX2JyZWFrcyBvcHRpb24uXG4gICAgICAgICAgICAgICAgaWYgKGhhcyh0b2tUeXBlLCBcIkxJTkVfQlJFQUtTXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0b2tUeXBlLkxJTkVfQlJFQUtTID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNBbnlMaW5lQnJlYWsgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2FuTWF0Y2hDaGFyQ29kZSh0ZXJtaW5hdG9yQ2hhckNvZGVzLCB0b2tUeXBlLlBBVFRFUk4pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNBbnlMaW5lQnJlYWsgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKHRyYWNrTGluZXMgJiYgIWhhc0FueUxpbmVCcmVhaykge1xuICAgICAgICB3YXJuaW5ncy5wdXNoKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiV2FybmluZzogTm8gTElORV9CUkVBS1MgRm91bmQuXFxuXCIgK1xuICAgICAgICAgICAgICAgIFwiXFx0VGhpcyBMZXhlciBoYXMgYmVlbiBkZWZpbmVkIHRvIHRyYWNrIGxpbmUgYW5kIGNvbHVtbiBpbmZvcm1hdGlvbixcXG5cIiArXG4gICAgICAgICAgICAgICAgXCJcXHRCdXQgbm9uZSBvZiB0aGUgVG9rZW4gVHlwZXMgY2FuIGJlIGlkZW50aWZpZWQgYXMgbWF0Y2hpbmcgYSBsaW5lIHRlcm1pbmF0b3IuXFxuXCIgK1xuICAgICAgICAgICAgICAgIFwiXFx0U2VlIGh0dHBzOi8vc2FwLmdpdGh1Yi5pby9jaGV2cm90YWluL2RvY3MvZ3VpZGUvcmVzb2x2aW5nX2xleGVyX2Vycm9ycy5odG1sI0xJTkVfQlJFQUtTIFxcblwiICtcbiAgICAgICAgICAgICAgICBcIlxcdGZvciBkZXRhaWxzLlwiLFxuICAgICAgICAgICAgdHlwZTogTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlLk5PX0xJTkVfQlJFQUtTX0ZMQUdTXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gd2FybmluZ3M7XG59XG5leHBvcnQgZnVuY3Rpb24gY2xvbmVFbXB0eUdyb3VwcyhlbXB0eUdyb3Vwcykge1xuICAgIHZhciBjbG9uZWRSZXN1bHQgPSB7fTtcbiAgICB2YXIgZ3JvdXBLZXlzID0ga2V5cyhlbXB0eUdyb3Vwcyk7XG4gICAgZm9yRWFjaChncm91cEtleXMsIGZ1bmN0aW9uIChjdXJyS2V5KSB7XG4gICAgICAgIHZhciBjdXJyR3JvdXBWYWx1ZSA9IGVtcHR5R3JvdXBzW2N1cnJLZXldO1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICBpZiAoaXNBcnJheShjdXJyR3JvdXBWYWx1ZSkpIHtcbiAgICAgICAgICAgIGNsb25lZFJlc3VsdFtjdXJyS2V5XSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJub24gZXhoYXVzdGl2ZSBtYXRjaFwiKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBjbG9uZWRSZXN1bHQ7XG59XG4vLyBUT0RPOiByZWZhY3RvciB0byBhdm9pZCBkdXBsaWNhdGlvblxuZXhwb3J0IGZ1bmN0aW9uIGlzQ3VzdG9tUGF0dGVybih0b2tlblR5cGUpIHtcbiAgICB2YXIgcGF0dGVybiA9IHRva2VuVHlwZS5QQVRURVJOO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgaWYgKGlzUmVnRXhwKHBhdHRlcm4pKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNGdW5jdGlvbihwYXR0ZXJuKSkge1xuICAgICAgICAvLyBDdXN0b21QYXR0ZXJuTWF0Y2hlckZ1bmMgLSBjdXN0b20gcGF0dGVybnMgZG8gbm90IHJlcXVpcmUgYW55IHRyYW5zZm9ybWF0aW9ucywgb25seSB3cmFwcGluZyBpbiBhIFJlZ0V4cCBMaWtlIG9iamVjdFxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaGFzKHBhdHRlcm4sIFwiZXhlY1wiKSkge1xuICAgICAgICAvLyBJQ3VzdG9tUGF0dGVyblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNTdHJpbmcocGF0dGVybikpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJub24gZXhoYXVzdGl2ZSBtYXRjaFwiKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gaXNTaG9ydFBhdHRlcm4ocGF0dGVybikge1xuICAgIGlmIChpc1N0cmluZyhwYXR0ZXJuKSAmJiBwYXR0ZXJuLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gcGF0dGVybi5jaGFyQ29kZUF0KDApO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cbi8qKlxuICogRmFzdGVyIHRoYW4gdXNpbmcgYSBSZWdFeHAgZm9yIGRlZmF1bHQgbmV3bGluZSBkZXRlY3Rpb24gZHVyaW5nIGxleGluZy5cbiAqL1xuZXhwb3J0IHZhciBMaW5lVGVybWluYXRvck9wdGltaXplZFRlc3RlciA9IHtcbiAgICAvLyBpbXBsZW1lbnRzIC9cXG58XFxyXFxuPy9nLnRlc3RcbiAgICB0ZXN0OiBmdW5jdGlvbiAodGV4dCkge1xuICAgICAgICB2YXIgbGVuID0gdGV4dC5sZW5ndGg7XG4gICAgICAgIGZvciAodmFyIGkgPSB0aGlzLmxhc3RJbmRleDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYyA9IHRleHQuY2hhckNvZGVBdChpKTtcbiAgICAgICAgICAgIGlmIChjID09PSAxMCkge1xuICAgICAgICAgICAgICAgIHRoaXMubGFzdEluZGV4ID0gaSArIDE7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjID09PSAxMykge1xuICAgICAgICAgICAgICAgIGlmICh0ZXh0LmNoYXJDb2RlQXQoaSArIDEpID09PSAxMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxhc3RJbmRleCA9IGkgKyAyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXN0SW5kZXggPSBpICsgMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG4gICAgbGFzdEluZGV4OiAwXG59O1xuZnVuY3Rpb24gY2hlY2tMaW5lQnJlYWtzSXNzdWVzKHRva1R5cGUsIGxpbmVUZXJtaW5hdG9yQ2hhckNvZGVzKSB7XG4gICAgaWYgKGhhcyh0b2tUeXBlLCBcIkxJTkVfQlJFQUtTXCIpKSB7XG4gICAgICAgIC8vIGlmIHRoZSB1c2VyIGV4cGxpY2l0bHkgZGVjbGFyZWQgdGhlIGxpbmVfYnJlYWtzIG9wdGlvbiB3ZSB3aWxsIHJlc3BlY3QgdGhlaXIgY2hvaWNlXG4gICAgICAgIC8vIGFuZCBhc3N1bWUgaXQgaXMgY29ycmVjdC5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgaWYgKGlzUmVnRXhwKHRva1R5cGUuUEFUVEVSTikpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY2FuTWF0Y2hDaGFyQ29kZShsaW5lVGVybWluYXRvckNoYXJDb2RlcywgdG9rVHlwZS5QQVRURVJOKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgLSB0byB0ZXN0IHRoaXMgd2Ugd291bGQgaGF2ZSB0byBtb2NrIDxjYW5NYXRjaENoYXJDb2RlPiB0byB0aHJvdyBhbiBlcnJvciAqL1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGlzc3VlOiBMZXhlckRlZmluaXRpb25FcnJvclR5cGUuSURFTlRJRllfVEVSTUlOQVRPUixcbiAgICAgICAgICAgICAgICAgICAgZXJyTXNnOiBlLm1lc3NhZ2VcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzU3RyaW5nKHRva1R5cGUuUEFUVEVSTikpIHtcbiAgICAgICAgICAgIC8vIHN0cmluZyBsaXRlcmFsIHBhdHRlcm5zIGNhbiBhbHdheXMgYmUgYW5hbHl6ZWQgdG8gZGV0ZWN0IGxpbmUgdGVybWluYXRvciB1c2FnZVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzQ3VzdG9tUGF0dGVybih0b2tUeXBlKSkge1xuICAgICAgICAgICAgLy8gY3VzdG9tIHRva2VuIHR5cGVzXG4gICAgICAgICAgICByZXR1cm4geyBpc3N1ZTogTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlLkNVU1RPTV9MSU5FX0JSRUFLIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcIm5vbiBleGhhdXN0aXZlIG1hdGNoXCIpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkTGluZUJyZWFrSXNzdWVNZXNzYWdlKHRva1R5cGUsIGRldGFpbHMpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgIGlmIChkZXRhaWxzLmlzc3VlID09PSBMZXhlckRlZmluaXRpb25FcnJvclR5cGUuSURFTlRJRllfVEVSTUlOQVRPUikge1xuICAgICAgICByZXR1cm4gKFwiV2FybmluZzogdW5hYmxlIHRvIGlkZW50aWZ5IGxpbmUgdGVybWluYXRvciB1c2FnZSBpbiBwYXR0ZXJuLlxcblwiICtcbiAgICAgICAgICAgIChcIlxcdFRoZSBwcm9ibGVtIGlzIGluIHRoZSA8XCIgKyB0b2tUeXBlLm5hbWUgKyBcIj4gVG9rZW4gVHlwZVxcblwiKSArXG4gICAgICAgICAgICAoXCJcXHQgUm9vdCBjYXVzZTogXCIgKyBkZXRhaWxzLmVyck1zZyArIFwiLlxcblwiKSArXG4gICAgICAgICAgICBcIlxcdEZvciBkZXRhaWxzIFNlZTogaHR0cHM6Ly9zYXAuZ2l0aHViLmlvL2NoZXZyb3RhaW4vZG9jcy9ndWlkZS9yZXNvbHZpbmdfbGV4ZXJfZXJyb3JzLmh0bWwjSURFTlRJRllfVEVSTUlOQVRPUlwiKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZGV0YWlscy5pc3N1ZSA9PT0gTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlLkNVU1RPTV9MSU5FX0JSRUFLKSB7XG4gICAgICAgIHJldHVybiAoXCJXYXJuaW5nOiBBIEN1c3RvbSBUb2tlbiBQYXR0ZXJuIHNob3VsZCBzcGVjaWZ5IHRoZSA8bGluZV9icmVha3M+IG9wdGlvbi5cXG5cIiArXG4gICAgICAgICAgICAoXCJcXHRUaGUgcHJvYmxlbSBpcyBpbiB0aGUgPFwiICsgdG9rVHlwZS5uYW1lICsgXCI+IFRva2VuIFR5cGVcXG5cIikgK1xuICAgICAgICAgICAgXCJcXHRGb3IgZGV0YWlscyBTZWU6IGh0dHBzOi8vc2FwLmdpdGh1Yi5pby9jaGV2cm90YWluL2RvY3MvZ3VpZGUvcmVzb2x2aW5nX2xleGVyX2Vycm9ycy5odG1sI0NVU1RPTV9MSU5FX0JSRUFLXCIpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJub24gZXhoYXVzdGl2ZSBtYXRjaFwiKTtcbiAgICB9XG59XG5mdW5jdGlvbiBnZXRDaGFyQ29kZXMoY2hhcnNPckNvZGVzKSB7XG4gICAgdmFyIGNoYXJDb2RlcyA9IG1hcChjaGFyc09yQ29kZXMsIGZ1bmN0aW9uIChudW1PclN0cmluZykge1xuICAgICAgICBpZiAoaXNTdHJpbmcobnVtT3JTdHJpbmcpICYmIG51bU9yU3RyaW5nLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiBudW1PclN0cmluZy5jaGFyQ29kZUF0KDApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG51bU9yU3RyaW5nO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGNoYXJDb2Rlcztcbn1cbmZ1bmN0aW9uIGFkZFRvTWFwT2ZBcnJheXMobWFwLCBrZXksIHZhbHVlKSB7XG4gICAgaWYgKG1hcFtrZXldID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbWFwW2tleV0gPSBbdmFsdWVdO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbWFwW2tleV0ucHVzaCh2YWx1ZSk7XG4gICAgfVxufVxuZXhwb3J0IHZhciBtaW5PcHRpbWl6YXRpb25WYWwgPSAyNTY7XG4vKipcbiAqIFdlIGFlIG1hcHBpbmcgY2hhckNvZGUgYWJvdmUgQVNDSSAoMjU2KSBpbnRvIGJ1Y2tldHMgZWFjaCBpbiB0aGUgc2l6ZSBvZiAyNTYuXG4gKiBUaGlzIGlzIGJlY2F1c2UgQVNDSSBhcmUgdGhlIG1vc3QgY29tbW9uIHN0YXJ0IGNoYXJzIHNvIGVhY2ggb25lIG9mIHRob3NlIHdpbGwgZ2V0IGl0cyBvd25cbiAqIHBvc3NpYmxlIHRva2VuIGNvbmZpZ3MgdmVjdG9yLlxuICpcbiAqIFRva2VucyBzdGFydGluZyB3aXRoIGNoYXJDb2RlcyBcImFib3ZlXCIgQVNDSSBhcmUgdW5jb21tb24sIHNvIHdlIGNhbiBcImFmZm9yZFwiXG4gKiB0byBwbGFjZSB0aGVzZSBpbnRvIGJ1Y2tldHMgb2YgcG9zc2libGUgdG9rZW4gY29uZmlncywgV2hhdCB3ZSBnYWluIGZyb21cbiAqIHRoaXMgaXMgYXZvaWRpbmcgdGhlIGNhc2Ugb2YgY3JlYXRpbmcgYW4gb3B0aW1pemF0aW9uICdjaGFyQ29kZVRvUGF0dGVybklkeFRvQ29uZmlnJ1xuICogd2hpY2ggd291bGQgY29udGFpbiAxMCwwMDArIGFycmF5cyBvZiBzbWFsbCBzaXplIChlLmcgdW5pY29kZSBJZGVudGlmaWVycyBzY2VuYXJpbykuXG4gKiBPdXIgJ2NoYXJDb2RlVG9QYXR0ZXJuSWR4VG9Db25maWcnIG1heCBzaXplIHdpbGwgbm93IGJlOlxuICogMjU2ICsgKDJeMTYgLyAyXjgpIC0gMSA9PT0gNTExXG4gKlxuICogbm90ZSB0aGUgaGFjayBmb3IgZmFzdCBkaXZpc2lvbiBpbnRlZ2VyIHBhcnQgZXh0cmFjdGlvblxuICogU2VlOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNDIyODUyOFxuICovXG5leHBvcnQgZnVuY3Rpb24gY2hhckNvZGVUb09wdGltaXplZEluZGV4KGNoYXJDb2RlKSB7XG4gICAgcmV0dXJuIGNoYXJDb2RlIDwgbWluT3B0aW1pemF0aW9uVmFsXG4gICAgICAgID8gY2hhckNvZGVcbiAgICAgICAgOiBjaGFyQ29kZVRvT3B0aW1pemVkSWR4TWFwW2NoYXJDb2RlXTtcbn1cbi8qKlxuICogVGhpcyBpcyBhIGNvbXByb21pc2UgYmV0d2VlbiBjb2xkIHN0YXJ0IC8gaG90IHJ1bm5pbmcgcGVyZm9ybWFuY2VcbiAqIENyZWF0aW5nIHRoaXMgYXJyYXkgdGFrZXMgfjNtcyBvbiBhIG1vZGVybiBtYWNoaW5lLFxuICogQnV0IGlmIHdlIHBlcmZvcm0gdGhlIGNvbXB1dGF0aW9uIGF0IHJ1bnRpbWUgYXMgbmVlZGVkIHRoZSBDU1MgTGV4ZXIgYmVuY2htYXJrXG4gKiBwZXJmb3JtYW5jZSBkZWdyYWRlcyBieSB+MTAlXG4gKlxuICogVE9ETzogUGVyaGFwcyBpdCBzaG91bGQgYmUgbGF6eSBpbml0aWFsaXplZCBvbmx5IGlmIGEgY2hhckNvZGUgPiAyNTUgaXMgdXNlZC5cbiAqL1xudmFyIGNoYXJDb2RlVG9PcHRpbWl6ZWRJZHhNYXAgPSBbXTtcbmZ1bmN0aW9uIGluaXRDaGFyQ29kZVRvT3B0aW1pemVkSW5kZXhNYXAoKSB7XG4gICAgaWYgKGlzRW1wdHkoY2hhckNvZGVUb09wdGltaXplZElkeE1hcCkpIHtcbiAgICAgICAgY2hhckNvZGVUb09wdGltaXplZElkeE1hcCA9IG5ldyBBcnJheSg2NTUzNik7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNjU1MzY7IGkrKykge1xuICAgICAgICAgICAgLyogdHNsaW50OmRpc2FibGUgKi9cbiAgICAgICAgICAgIGNoYXJDb2RlVG9PcHRpbWl6ZWRJZHhNYXBbaV0gPSBpID4gMjU1ID8gMjU1ICsgfn4oaSAvIDI1NSkgOiBpO1xuICAgICAgICAgICAgLyogdHNsaW50OmVuYWJsZSAqL1xuICAgICAgICB9XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGV4ZXIuanMubWFwIiwiaW1wb3J0IHsgY2xvbmVBcnIsIGNvbXBhY3QsIGNvbnRhaW5zLCBkaWZmZXJlbmNlLCBmbGF0dGVuLCBmb3JFYWNoLCBoYXMsIGlzQXJyYXksIGlzRW1wdHksIG1hcCB9IGZyb20gXCIuLi91dGlscy91dGlsc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIHRva2VuU3RydWN0dXJlZE1hdGNoZXIodG9rSW5zdGFuY2UsIHRva0NvbnN0cnVjdG9yKSB7XG4gICAgdmFyIGluc3RhbmNlVHlwZSA9IHRva0luc3RhbmNlLnRva2VuVHlwZUlkeDtcbiAgICBpZiAoaW5zdGFuY2VUeXBlID09PSB0b2tDb25zdHJ1Y3Rvci50b2tlblR5cGVJZHgpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gKHRva0NvbnN0cnVjdG9yLmlzUGFyZW50ID09PSB0cnVlICYmXG4gICAgICAgICAgICB0b2tDb25zdHJ1Y3Rvci5jYXRlZ29yeU1hdGNoZXNNYXBbaW5zdGFuY2VUeXBlXSA9PT0gdHJ1ZSk7XG4gICAgfVxufVxuLy8gT3B0aW1pemVkIHRva2VuTWF0Y2hlciBpbiBjYXNlIG91ciBncmFtbWFyIGRvZXMgbm90IHVzZSB0b2tlbiBjYXRlZ29yaWVzXG4vLyBCZWluZyBzbyB0aW55IGl0IGlzIG11Y2ggbW9yZSBsaWtlbHkgdG8gYmUgaW4tbGluZWQgYW5kIHRoaXMgYXZvaWQgdGhlIGZ1bmN0aW9uIGNhbGwgb3ZlcmhlYWRcbmV4cG9ydCBmdW5jdGlvbiB0b2tlblN0cnVjdHVyZWRNYXRjaGVyTm9DYXRlZ29yaWVzKHRva2VuLCB0b2tUeXBlKSB7XG4gICAgcmV0dXJuIHRva2VuLnRva2VuVHlwZUlkeCA9PT0gdG9rVHlwZS50b2tlblR5cGVJZHg7XG59XG5leHBvcnQgdmFyIHRva2VuU2hvcnROYW1lSWR4ID0gMTtcbmV4cG9ydCB2YXIgdG9rZW5JZHhUb0NsYXNzID0ge307XG5leHBvcnQgZnVuY3Rpb24gYXVnbWVudFRva2VuVHlwZXModG9rZW5UeXBlcykge1xuICAgIC8vIGNvbGxlY3QgdGhlIHBhcmVudCBUb2tlbiBUeXBlcyBhcyB3ZWxsLlxuICAgIHZhciB0b2tlblR5cGVzQW5kUGFyZW50cyA9IGV4cGFuZENhdGVnb3JpZXModG9rZW5UeXBlcyk7XG4gICAgLy8gYWRkIHJlcXVpcmVkIHRva2VuVHlwZSBhbmQgY2F0ZWdvcnlNYXRjaGVzIHByb3BlcnRpZXNcbiAgICBhc3NpZ25Ub2tlbkRlZmF1bHRQcm9wcyh0b2tlblR5cGVzQW5kUGFyZW50cyk7XG4gICAgLy8gZmlsbCB1cCB0aGUgY2F0ZWdvcnlNYXRjaGVzXG4gICAgYXNzaWduQ2F0ZWdvcmllc01hcFByb3AodG9rZW5UeXBlc0FuZFBhcmVudHMpO1xuICAgIGFzc2lnbkNhdGVnb3JpZXNUb2tlbnNQcm9wKHRva2VuVHlwZXNBbmRQYXJlbnRzKTtcbiAgICBmb3JFYWNoKHRva2VuVHlwZXNBbmRQYXJlbnRzLCBmdW5jdGlvbiAodG9rVHlwZSkge1xuICAgICAgICB0b2tUeXBlLmlzUGFyZW50ID0gdG9rVHlwZS5jYXRlZ29yeU1hdGNoZXMubGVuZ3RoID4gMDtcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBleHBhbmRDYXRlZ29yaWVzKHRva2VuVHlwZXMpIHtcbiAgICB2YXIgcmVzdWx0ID0gY2xvbmVBcnIodG9rZW5UeXBlcyk7XG4gICAgdmFyIGNhdGVnb3JpZXMgPSB0b2tlblR5cGVzO1xuICAgIHZhciBzZWFyY2hpbmcgPSB0cnVlO1xuICAgIHdoaWxlIChzZWFyY2hpbmcpIHtcbiAgICAgICAgY2F0ZWdvcmllcyA9IGNvbXBhY3QoZmxhdHRlbihtYXAoY2F0ZWdvcmllcywgZnVuY3Rpb24gKGN1cnJUb2tUeXBlKSB7IHJldHVybiBjdXJyVG9rVHlwZS5DQVRFR09SSUVTOyB9KSkpO1xuICAgICAgICB2YXIgbmV3Q2F0ZWdvcmllcyA9IGRpZmZlcmVuY2UoY2F0ZWdvcmllcywgcmVzdWx0KTtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0LmNvbmNhdChuZXdDYXRlZ29yaWVzKTtcbiAgICAgICAgaWYgKGlzRW1wdHkobmV3Q2F0ZWdvcmllcykpIHtcbiAgICAgICAgICAgIHNlYXJjaGluZyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY2F0ZWdvcmllcyA9IG5ld0NhdGVnb3JpZXM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhc3NpZ25Ub2tlbkRlZmF1bHRQcm9wcyh0b2tlblR5cGVzKSB7XG4gICAgZm9yRWFjaCh0b2tlblR5cGVzLCBmdW5jdGlvbiAoY3VyclRva1R5cGUpIHtcbiAgICAgICAgaWYgKCFoYXNTaG9ydEtleVByb3BlcnR5KGN1cnJUb2tUeXBlKSkge1xuICAgICAgICAgICAgdG9rZW5JZHhUb0NsYXNzW3Rva2VuU2hvcnROYW1lSWR4XSA9IGN1cnJUb2tUeXBlO1xuICAgICAgICAgICAgY3VyclRva1R5cGUudG9rZW5UeXBlSWR4ID0gdG9rZW5TaG9ydE5hbWVJZHgrKztcbiAgICAgICAgfVxuICAgICAgICAvLyBDQVRFR09SSUVTPyA6IFRva2VuVHlwZSB8IFRva2VuVHlwZVtdXG4gICAgICAgIGlmIChoYXNDYXRlZ29yaWVzUHJvcGVydHkoY3VyclRva1R5cGUpICYmXG4gICAgICAgICAgICAhaXNBcnJheShjdXJyVG9rVHlwZS5DQVRFR09SSUVTKVxuICAgICAgICAvLyAmJlxuICAgICAgICAvLyAhaXNVbmRlZmluZWQoY3VyclRva1R5cGUuQ0FURUdPUklFUy5QQVRURVJOKVxuICAgICAgICApIHtcbiAgICAgICAgICAgIGN1cnJUb2tUeXBlLkNBVEVHT1JJRVMgPSBbY3VyclRva1R5cGUuQ0FURUdPUklFU107XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFoYXNDYXRlZ29yaWVzUHJvcGVydHkoY3VyclRva1R5cGUpKSB7XG4gICAgICAgICAgICBjdXJyVG9rVHlwZS5DQVRFR09SSUVTID0gW107XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFoYXNFeHRlbmRpbmdUb2tlbnNUeXBlc1Byb3BlcnR5KGN1cnJUb2tUeXBlKSkge1xuICAgICAgICAgICAgY3VyclRva1R5cGUuY2F0ZWdvcnlNYXRjaGVzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFoYXNFeHRlbmRpbmdUb2tlbnNUeXBlc01hcFByb3BlcnR5KGN1cnJUb2tUeXBlKSkge1xuICAgICAgICAgICAgY3VyclRva1R5cGUuY2F0ZWdvcnlNYXRjaGVzTWFwID0ge307XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhc3NpZ25DYXRlZ29yaWVzVG9rZW5zUHJvcCh0b2tlblR5cGVzKSB7XG4gICAgZm9yRWFjaCh0b2tlblR5cGVzLCBmdW5jdGlvbiAoY3VyclRva1R5cGUpIHtcbiAgICAgICAgLy8gYXZvaWQgZHVwbGljYXRpb25zXG4gICAgICAgIGN1cnJUb2tUeXBlLmNhdGVnb3J5TWF0Y2hlcyA9IFtdO1xuICAgICAgICBmb3JFYWNoKGN1cnJUb2tUeXBlLmNhdGVnb3J5TWF0Y2hlc01hcCwgZnVuY3Rpb24gKHZhbCwga2V5KSB7XG4gICAgICAgICAgICBjdXJyVG9rVHlwZS5jYXRlZ29yeU1hdGNoZXMucHVzaCh0b2tlbklkeFRvQ2xhc3Nba2V5XS50b2tlblR5cGVJZHgpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhc3NpZ25DYXRlZ29yaWVzTWFwUHJvcCh0b2tlblR5cGVzKSB7XG4gICAgZm9yRWFjaCh0b2tlblR5cGVzLCBmdW5jdGlvbiAoY3VyclRva1R5cGUpIHtcbiAgICAgICAgc2luZ2xlQXNzaWduQ2F0ZWdvcmllc1Rva3NNYXAoW10sIGN1cnJUb2tUeXBlKTtcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzaW5nbGVBc3NpZ25DYXRlZ29yaWVzVG9rc01hcChwYXRoLCBuZXh0Tm9kZSkge1xuICAgIGZvckVhY2gocGF0aCwgZnVuY3Rpb24gKHBhdGhOb2RlKSB7XG4gICAgICAgIG5leHROb2RlLmNhdGVnb3J5TWF0Y2hlc01hcFtwYXRoTm9kZS50b2tlblR5cGVJZHhdID0gdHJ1ZTtcbiAgICB9KTtcbiAgICBmb3JFYWNoKG5leHROb2RlLkNBVEVHT1JJRVMsIGZ1bmN0aW9uIChuZXh0Q2F0ZWdvcnkpIHtcbiAgICAgICAgdmFyIG5ld1BhdGggPSBwYXRoLmNvbmNhdChuZXh0Tm9kZSk7XG4gICAgICAgIC8vIGF2b2lkcyBpbmZpbml0ZSBsb29wcyBkdWUgdG8gY3ljbGljIGNhdGVnb3JpZXMuXG4gICAgICAgIGlmICghY29udGFpbnMobmV3UGF0aCwgbmV4dENhdGVnb3J5KSkge1xuICAgICAgICAgICAgc2luZ2xlQXNzaWduQ2F0ZWdvcmllc1Rva3NNYXAobmV3UGF0aCwgbmV4dENhdGVnb3J5KTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGhhc1Nob3J0S2V5UHJvcGVydHkodG9rVHlwZSkge1xuICAgIHJldHVybiBoYXModG9rVHlwZSwgXCJ0b2tlblR5cGVJZHhcIik7XG59XG5leHBvcnQgZnVuY3Rpb24gaGFzQ2F0ZWdvcmllc1Byb3BlcnR5KHRva1R5cGUpIHtcbiAgICByZXR1cm4gaGFzKHRva1R5cGUsIFwiQ0FURUdPUklFU1wiKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBoYXNFeHRlbmRpbmdUb2tlbnNUeXBlc1Byb3BlcnR5KHRva1R5cGUpIHtcbiAgICByZXR1cm4gaGFzKHRva1R5cGUsIFwiY2F0ZWdvcnlNYXRjaGVzXCIpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGhhc0V4dGVuZGluZ1Rva2Vuc1R5cGVzTWFwUHJvcGVydHkodG9rVHlwZSkge1xuICAgIHJldHVybiBoYXModG9rVHlwZSwgXCJjYXRlZ29yeU1hdGNoZXNNYXBcIik7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNUb2tlblR5cGUodG9rVHlwZSkge1xuICAgIHJldHVybiBoYXModG9rVHlwZSwgXCJ0b2tlblR5cGVJZHhcIik7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10b2tlbnMuanMubWFwIiwiZXhwb3J0IHZhciBkZWZhdWx0TGV4ZXJFcnJvclByb3ZpZGVyID0ge1xuICAgIGJ1aWxkVW5hYmxlVG9Qb3BMZXhlck1vZGVNZXNzYWdlOiBmdW5jdGlvbiAodG9rZW4pIHtcbiAgICAgICAgcmV0dXJuIFwiVW5hYmxlIHRvIHBvcCBMZXhlciBNb2RlIGFmdGVyIGVuY291bnRlcmluZyBUb2tlbiAtPlwiICsgdG9rZW4uaW1hZ2UgKyBcIjwtIFRoZSBNb2RlIFN0YWNrIGlzIGVtcHR5XCI7XG4gICAgfSxcbiAgICBidWlsZFVuZXhwZWN0ZWRDaGFyYWN0ZXJzTWVzc2FnZTogZnVuY3Rpb24gKGZ1bGxUZXh0LCBzdGFydE9mZnNldCwgbGVuZ3RoLCBsaW5lLCBjb2x1bW4pIHtcbiAgICAgICAgcmV0dXJuIChcInVuZXhwZWN0ZWQgY2hhcmFjdGVyOiAtPlwiICsgZnVsbFRleHQuY2hhckF0KHN0YXJ0T2Zmc2V0KSArIFwiPC0gYXQgb2Zmc2V0OiBcIiArIHN0YXJ0T2Zmc2V0ICsgXCIsXCIgKyAoXCIgc2tpcHBlZCBcIiArIGxlbmd0aCArIFwiIGNoYXJhY3RlcnMuXCIpKTtcbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGV4ZXJfZXJyb3JzX3B1YmxpYy5qcy5tYXAiLCJpbXBvcnQgeyBhbmFseXplVG9rZW5UeXBlcywgY2hhckNvZGVUb09wdGltaXplZEluZGV4LCBjbG9uZUVtcHR5R3JvdXBzLCBERUZBVUxUX01PREUsIExpbmVUZXJtaW5hdG9yT3B0aW1pemVkVGVzdGVyLCBwZXJmb3JtUnVudGltZUNoZWNrcywgcGVyZm9ybVdhcm5pbmdSdW50aW1lQ2hlY2tzLCBTVVBQT1JUX1NUSUNLWSwgdmFsaWRhdGVQYXR0ZXJucyB9IGZyb20gXCIuL2xleGVyXCI7XG5pbXBvcnQgeyBjbG9uZUFyciwgY2xvbmVPYmosIGZvckVhY2gsIElERU5USVRZLCBpc0FycmF5LCBpc0VtcHR5LCBpc1VuZGVmaW5lZCwga2V5cywgbGFzdCwgbWFwLCBtZXJnZSwgTk9PUCwgUFJJTlRfV0FSTklORywgcmVkdWNlLCByZWplY3QsIHRpbWVyLCB0b0Zhc3RQcm9wZXJ0aWVzIH0gZnJvbSBcIi4uL3V0aWxzL3V0aWxzXCI7XG5pbXBvcnQgeyBhdWdtZW50VG9rZW5UeXBlcyB9IGZyb20gXCIuL3Rva2Vuc1wiO1xuaW1wb3J0IHsgZGVmYXVsdExleGVyRXJyb3JQcm92aWRlciB9IGZyb20gXCIuLi9zY2FuL2xleGVyX2Vycm9yc19wdWJsaWNcIjtcbmltcG9ydCB7IGNsZWFyUmVnRXhwUGFyc2VyQ2FjaGUgfSBmcm9tIFwiLi9yZWdfZXhwX3BhcnNlclwiO1xuZXhwb3J0IHZhciBMZXhlckRlZmluaXRpb25FcnJvclR5cGU7XG4oZnVuY3Rpb24gKExleGVyRGVmaW5pdGlvbkVycm9yVHlwZSkge1xuICAgIExleGVyRGVmaW5pdGlvbkVycm9yVHlwZVtMZXhlckRlZmluaXRpb25FcnJvclR5cGVbXCJNSVNTSU5HX1BBVFRFUk5cIl0gPSAwXSA9IFwiTUlTU0lOR19QQVRURVJOXCI7XG4gICAgTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlW0xleGVyRGVmaW5pdGlvbkVycm9yVHlwZVtcIklOVkFMSURfUEFUVEVSTlwiXSA9IDFdID0gXCJJTlZBTElEX1BBVFRFUk5cIjtcbiAgICBMZXhlckRlZmluaXRpb25FcnJvclR5cGVbTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlW1wiRU9JX0FOQ0hPUl9GT1VORFwiXSA9IDJdID0gXCJFT0lfQU5DSE9SX0ZPVU5EXCI7XG4gICAgTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlW0xleGVyRGVmaW5pdGlvbkVycm9yVHlwZVtcIlVOU1VQUE9SVEVEX0ZMQUdTX0ZPVU5EXCJdID0gM10gPSBcIlVOU1VQUE9SVEVEX0ZMQUdTX0ZPVU5EXCI7XG4gICAgTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlW0xleGVyRGVmaW5pdGlvbkVycm9yVHlwZVtcIkRVUExJQ0FURV9QQVRURVJOU19GT1VORFwiXSA9IDRdID0gXCJEVVBMSUNBVEVfUEFUVEVSTlNfRk9VTkRcIjtcbiAgICBMZXhlckRlZmluaXRpb25FcnJvclR5cGVbTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlW1wiSU5WQUxJRF9HUk9VUF9UWVBFX0ZPVU5EXCJdID0gNV0gPSBcIklOVkFMSURfR1JPVVBfVFlQRV9GT1VORFwiO1xuICAgIExleGVyRGVmaW5pdGlvbkVycm9yVHlwZVtMZXhlckRlZmluaXRpb25FcnJvclR5cGVbXCJQVVNIX01PREVfRE9FU19OT1RfRVhJU1RcIl0gPSA2XSA9IFwiUFVTSF9NT0RFX0RPRVNfTk9UX0VYSVNUXCI7XG4gICAgTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlW0xleGVyRGVmaW5pdGlvbkVycm9yVHlwZVtcIk1VTFRJX01PREVfTEVYRVJfV0lUSE9VVF9ERUZBVUxUX01PREVcIl0gPSA3XSA9IFwiTVVMVElfTU9ERV9MRVhFUl9XSVRIT1VUX0RFRkFVTFRfTU9ERVwiO1xuICAgIExleGVyRGVmaW5pdGlvbkVycm9yVHlwZVtMZXhlckRlZmluaXRpb25FcnJvclR5cGVbXCJNVUxUSV9NT0RFX0xFWEVSX1dJVEhPVVRfTU9ERVNfUFJPUEVSVFlcIl0gPSA4XSA9IFwiTVVMVElfTU9ERV9MRVhFUl9XSVRIT1VUX01PREVTX1BST1BFUlRZXCI7XG4gICAgTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlW0xleGVyRGVmaW5pdGlvbkVycm9yVHlwZVtcIk1VTFRJX01PREVfTEVYRVJfREVGQVVMVF9NT0RFX1ZBTFVFX0RPRVNfTk9UX0VYSVNUXCJdID0gOV0gPSBcIk1VTFRJX01PREVfTEVYRVJfREVGQVVMVF9NT0RFX1ZBTFVFX0RPRVNfTk9UX0VYSVNUXCI7XG4gICAgTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlW0xleGVyRGVmaW5pdGlvbkVycm9yVHlwZVtcIkxFWEVSX0RFRklOSVRJT05fQ0FOTk9UX0NPTlRBSU5fVU5ERUZJTkVEXCJdID0gMTBdID0gXCJMRVhFUl9ERUZJTklUSU9OX0NBTk5PVF9DT05UQUlOX1VOREVGSU5FRFwiO1xuICAgIExleGVyRGVmaW5pdGlvbkVycm9yVHlwZVtMZXhlckRlZmluaXRpb25FcnJvclR5cGVbXCJTT0lfQU5DSE9SX0ZPVU5EXCJdID0gMTFdID0gXCJTT0lfQU5DSE9SX0ZPVU5EXCI7XG4gICAgTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlW0xleGVyRGVmaW5pdGlvbkVycm9yVHlwZVtcIkVNUFRZX01BVENIX1BBVFRFUk5cIl0gPSAxMl0gPSBcIkVNUFRZX01BVENIX1BBVFRFUk5cIjtcbiAgICBMZXhlckRlZmluaXRpb25FcnJvclR5cGVbTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlW1wiTk9fTElORV9CUkVBS1NfRkxBR1NcIl0gPSAxM10gPSBcIk5PX0xJTkVfQlJFQUtTX0ZMQUdTXCI7XG4gICAgTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlW0xleGVyRGVmaW5pdGlvbkVycm9yVHlwZVtcIlVOUkVBQ0hBQkxFX1BBVFRFUk5cIl0gPSAxNF0gPSBcIlVOUkVBQ0hBQkxFX1BBVFRFUk5cIjtcbiAgICBMZXhlckRlZmluaXRpb25FcnJvclR5cGVbTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlW1wiSURFTlRJRllfVEVSTUlOQVRPUlwiXSA9IDE1XSA9IFwiSURFTlRJRllfVEVSTUlOQVRPUlwiO1xuICAgIExleGVyRGVmaW5pdGlvbkVycm9yVHlwZVtMZXhlckRlZmluaXRpb25FcnJvclR5cGVbXCJDVVNUT01fTElORV9CUkVBS1wiXSA9IDE2XSA9IFwiQ1VTVE9NX0xJTkVfQlJFQUtcIjtcbn0pKExleGVyRGVmaW5pdGlvbkVycm9yVHlwZSB8fCAoTGV4ZXJEZWZpbml0aW9uRXJyb3JUeXBlID0ge30pKTtcbnZhciBERUZBVUxUX0xFWEVSX0NPTkZJRyA9IHtcbiAgICBkZWZlckRlZmluaXRpb25FcnJvcnNIYW5kbGluZzogZmFsc2UsXG4gICAgcG9zaXRpb25UcmFja2luZzogXCJmdWxsXCIsXG4gICAgbGluZVRlcm1pbmF0b3JzUGF0dGVybjogL1xcbnxcXHJcXG4/L2csXG4gICAgbGluZVRlcm1pbmF0b3JDaGFyYWN0ZXJzOiBbXCJcXG5cIiwgXCJcXHJcIl0sXG4gICAgZW5zdXJlT3B0aW1pemF0aW9uczogZmFsc2UsXG4gICAgc2FmZU1vZGU6IGZhbHNlLFxuICAgIGVycm9yTWVzc2FnZVByb3ZpZGVyOiBkZWZhdWx0TGV4ZXJFcnJvclByb3ZpZGVyLFxuICAgIHRyYWNlSW5pdFBlcmY6IGZhbHNlLFxuICAgIHNraXBWYWxpZGF0aW9uczogZmFsc2Vcbn07XG5PYmplY3QuZnJlZXplKERFRkFVTFRfTEVYRVJfQ09ORklHKTtcbnZhciBMZXhlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBMZXhlcihsZXhlckRlZmluaXRpb24sIGNvbmZpZykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0gREVGQVVMVF9MRVhFUl9DT05GSUc7IH1cbiAgICAgICAgdGhpcy5sZXhlckRlZmluaXRpb24gPSBsZXhlckRlZmluaXRpb247XG4gICAgICAgIHRoaXMubGV4ZXJEZWZpbml0aW9uRXJyb3JzID0gW107XG4gICAgICAgIHRoaXMubGV4ZXJEZWZpbml0aW9uV2FybmluZyA9IFtdO1xuICAgICAgICB0aGlzLnBhdHRlcm5JZHhUb0NvbmZpZyA9IHt9O1xuICAgICAgICB0aGlzLmNoYXJDb2RlVG9QYXR0ZXJuSWR4VG9Db25maWcgPSB7fTtcbiAgICAgICAgdGhpcy5tb2RlcyA9IFtdO1xuICAgICAgICB0aGlzLmVtcHR5R3JvdXBzID0ge307XG4gICAgICAgIHRoaXMuY29uZmlnID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnRyYWNrU3RhcnRMaW5lcyA9IHRydWU7XG4gICAgICAgIHRoaXMudHJhY2tFbmRMaW5lcyA9IHRydWU7XG4gICAgICAgIHRoaXMuaGFzQ3VzdG9tID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY2FuTW9kZUJlT3B0aW1pemVkID0ge307XG4gICAgICAgIGlmICh0eXBlb2YgY29uZmlnID09PSBcImJvb2xlYW5cIikge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJUaGUgc2Vjb25kIGFyZ3VtZW50IHRvIHRoZSBMZXhlciBjb25zdHJ1Y3RvciBpcyBub3cgYW4gSUxleGVyQ29uZmlnIE9iamVjdC5cXG5cIiArXG4gICAgICAgICAgICAgICAgXCJhIGJvb2xlYW4gMm5kIGFyZ3VtZW50IGlzIG5vIGxvbmdlciBzdXBwb3J0ZWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdG9kbzogZGVmYXVsdHMgZnVuYz9cbiAgICAgICAgdGhpcy5jb25maWcgPSBtZXJnZShERUZBVUxUX0xFWEVSX0NPTkZJRywgY29uZmlnKTtcbiAgICAgICAgdmFyIHRyYWNlSW5pdFZhbCA9IHRoaXMuY29uZmlnLnRyYWNlSW5pdFBlcmY7XG4gICAgICAgIGlmICh0cmFjZUluaXRWYWwgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHRoaXMudHJhY2VJbml0TWF4SWRlbnQgPSBJbmZpbml0eTtcbiAgICAgICAgICAgIHRoaXMudHJhY2VJbml0UGVyZiA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHRyYWNlSW5pdFZhbCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgdGhpcy50cmFjZUluaXRNYXhJZGVudCA9IHRyYWNlSW5pdFZhbDtcbiAgICAgICAgICAgIHRoaXMudHJhY2VJbml0UGVyZiA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50cmFjZUluaXRJbmRlbnQgPSAtMTtcbiAgICAgICAgdGhpcy5UUkFDRV9JTklUKFwiTGV4ZXIgQ29uc3RydWN0b3JcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFjdHVhbERlZmluaXRpb247XG4gICAgICAgICAgICB2YXIgaGFzT25seVNpbmdsZU1vZGUgPSB0cnVlO1xuICAgICAgICAgICAgX3RoaXMuVFJBQ0VfSU5JVChcIkxleGVyIENvbmZpZyBoYW5kbGluZ1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLmNvbmZpZy5saW5lVGVybWluYXRvcnNQYXR0ZXJuID09PVxuICAgICAgICAgICAgICAgICAgICBERUZBVUxUX0xFWEVSX0NPTkZJRy5saW5lVGVybWluYXRvcnNQYXR0ZXJuKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIG9wdGltaXplZCBidWlsdC1pbiBpbXBsZW1lbnRhdGlvbiBmb3IgdGhlIGRlZmF1bHRzIGRlZmluaXRpb24gb2YgbGluZVRlcm1pbmF0b3JzXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmNvbmZpZy5saW5lVGVybWluYXRvcnNQYXR0ZXJuID0gTGluZVRlcm1pbmF0b3JPcHRpbWl6ZWRUZXN0ZXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuY29uZmlnLmxpbmVUZXJtaW5hdG9yQ2hhcmFjdGVycyA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgIERFRkFVTFRfTEVYRVJfQ09ORklHLmxpbmVUZXJtaW5hdG9yQ2hhcmFjdGVycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJFcnJvcjogTWlzc2luZyA8bGluZVRlcm1pbmF0b3JDaGFyYWN0ZXJzPiBwcm9wZXJ0eSBvbiB0aGUgTGV4ZXIgY29uZmlnLlxcblwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlxcdEZvciBkZXRhaWxzIFNlZTogaHR0cHM6Ly9zYXAuZ2l0aHViLmlvL2NoZXZyb3RhaW4vZG9jcy9ndWlkZS9yZXNvbHZpbmdfbGV4ZXJfZXJyb3JzLmh0bWwjTUlTU0lOR19MSU5FX1RFUk1fQ0hBUlNcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGNvbmZpZy5zYWZlTW9kZSAmJiBjb25maWcuZW5zdXJlT3B0aW1pemF0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcignXCJzYWZlTW9kZVwiIGFuZCBcImVuc3VyZU9wdGltaXphdGlvbnNcIiBmbGFncyBhcmUgbXV0dWFsbHkgZXhjbHVzaXZlLicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfdGhpcy50cmFja1N0YXJ0TGluZXMgPSAvZnVsbHxvbmx5U3RhcnQvaS50ZXN0KF90aGlzLmNvbmZpZy5wb3NpdGlvblRyYWNraW5nKTtcbiAgICAgICAgICAgICAgICBfdGhpcy50cmFja0VuZExpbmVzID0gL2Z1bGwvaS50ZXN0KF90aGlzLmNvbmZpZy5wb3NpdGlvblRyYWNraW5nKTtcbiAgICAgICAgICAgICAgICAvLyBDb252ZXJ0IFNpbmdsZU1vZGVMZXhlckRlZmluaXRpb24gaW50byBhIElNdWx0aU1vZGVMZXhlckRlZmluaXRpb24uXG4gICAgICAgICAgICAgICAgaWYgKGlzQXJyYXkobGV4ZXJEZWZpbml0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICBhY3R1YWxEZWZpbml0aW9uID0geyBtb2Rlczoge30gfTtcbiAgICAgICAgICAgICAgICAgICAgYWN0dWFsRGVmaW5pdGlvbi5tb2Rlc1tERUZBVUxUX01PREVdID0gY2xvbmVBcnIobGV4ZXJEZWZpbml0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgYWN0dWFsRGVmaW5pdGlvbltERUZBVUxUX01PREVdID0gREVGQVVMVF9NT0RFO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gbm8gY29udmVyc2lvbiBuZWVkZWQsIGlucHV0IHNob3VsZCBhbHJlYWR5IGJlIGEgSU11bHRpTW9kZUxleGVyRGVmaW5pdGlvblxuICAgICAgICAgICAgICAgICAgICBoYXNPbmx5U2luZ2xlTW9kZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBhY3R1YWxEZWZpbml0aW9uID0gY2xvbmVPYmoobGV4ZXJEZWZpbml0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChfdGhpcy5jb25maWcuc2tpcFZhbGlkYXRpb25zID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIF90aGlzLlRSQUNFX0lOSVQoXCJwZXJmb3JtUnVudGltZUNoZWNrc1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmxleGVyRGVmaW5pdGlvbkVycm9ycyA9IF90aGlzLmxleGVyRGVmaW5pdGlvbkVycm9ycy5jb25jYXQocGVyZm9ybVJ1bnRpbWVDaGVja3MoYWN0dWFsRGVmaW5pdGlvbiwgX3RoaXMudHJhY2tTdGFydExpbmVzLCBfdGhpcy5jb25maWcubGluZVRlcm1pbmF0b3JDaGFyYWN0ZXJzKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgX3RoaXMuVFJBQ0VfSU5JVChcInBlcmZvcm1XYXJuaW5nUnVudGltZUNoZWNrc1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmxleGVyRGVmaW5pdGlvbldhcm5pbmcgPSBfdGhpcy5sZXhlckRlZmluaXRpb25XYXJuaW5nLmNvbmNhdChwZXJmb3JtV2FybmluZ1J1bnRpbWVDaGVja3MoYWN0dWFsRGVmaW5pdGlvbiwgX3RoaXMudHJhY2tTdGFydExpbmVzLCBfdGhpcy5jb25maWcubGluZVRlcm1pbmF0b3JDaGFyYWN0ZXJzKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBmb3IgZXh0cmEgcm9idXN0bmVzcyB0byBhdm9pZCB0aHJvd2luZyBhbiBub25lIGluZm9ybWF0aXZlIGVycm9yIG1lc3NhZ2VcbiAgICAgICAgICAgIGFjdHVhbERlZmluaXRpb24ubW9kZXMgPSBhY3R1YWxEZWZpbml0aW9uLm1vZGVzXG4gICAgICAgICAgICAgICAgPyBhY3R1YWxEZWZpbml0aW9uLm1vZGVzXG4gICAgICAgICAgICAgICAgOiB7fTtcbiAgICAgICAgICAgIC8vIGFuIGVycm9yIG9mIHVuZGVmaW5lZCBUb2tlblR5cGVzIHdpbGwgYmUgZGV0ZWN0ZWQgaW4gXCJwZXJmb3JtUnVudGltZUNoZWNrc1wiIGFib3ZlLlxuICAgICAgICAgICAgLy8gdGhpcyB0cmFuc2Zvcm1hdGlvbiBpcyB0byBpbmNyZWFzZSByb2J1c3RuZXNzIGluIHRoZSBjYXNlIG9mIHBhcnRpYWxseSBpbnZhbGlkIGxleGVyIGRlZmluaXRpb24uXG4gICAgICAgICAgICBmb3JFYWNoKGFjdHVhbERlZmluaXRpb24ubW9kZXMsIGZ1bmN0aW9uIChjdXJyTW9kZVZhbHVlLCBjdXJyTW9kZU5hbWUpIHtcbiAgICAgICAgICAgICAgICBhY3R1YWxEZWZpbml0aW9uLm1vZGVzW2N1cnJNb2RlTmFtZV0gPSByZWplY3QoY3Vyck1vZGVWYWx1ZSwgZnVuY3Rpb24gKGN1cnJUb2tUeXBlKSB7IHJldHVybiBpc1VuZGVmaW5lZChjdXJyVG9rVHlwZSk7IH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgYWxsTW9kZU5hbWVzID0ga2V5cyhhY3R1YWxEZWZpbml0aW9uLm1vZGVzKTtcbiAgICAgICAgICAgIGZvckVhY2goYWN0dWFsRGVmaW5pdGlvbi5tb2RlcywgZnVuY3Rpb24gKGN1cnJNb2REZWYsIGN1cnJNb2ROYW1lKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuVFJBQ0VfSU5JVChcIk1vZGU6IDxcIiArIGN1cnJNb2ROYW1lICsgXCI+IHByb2Nlc3NpbmdcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5tb2Rlcy5wdXNoKGN1cnJNb2ROYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLmNvbmZpZy5za2lwVmFsaWRhdGlvbnMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5UUkFDRV9JTklUKFwidmFsaWRhdGVQYXR0ZXJuc1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMubGV4ZXJEZWZpbml0aW9uRXJyb3JzID0gX3RoaXMubGV4ZXJEZWZpbml0aW9uRXJyb3JzLmNvbmNhdCh2YWxpZGF0ZVBhdHRlcm5zKGN1cnJNb2REZWYsIGFsbE1vZGVOYW1lcykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgZGVmaW5pdGlvbiBlcnJvcnMgd2VyZSBlbmNvdW50ZXJlZCwgdGhlIGFuYWx5c2lzIHBoYXNlIG1heSBmYWlsIHVuZXhwZWN0ZWRseS9cbiAgICAgICAgICAgICAgICAgICAgLy8gQ29uc2lkZXJpbmcgYSBsZXhlciB3aXRoIGRlZmluaXRpb24gZXJyb3JzIG1heSBuZXZlciBiZSB1c2VkLCB0aGVyZSBpcyBubyBwb2ludFxuICAgICAgICAgICAgICAgICAgICAvLyB0byBwZXJmb3JtaW5nIHRoZSBhbmFseXNpcyBhbnlob3cuLi5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzRW1wdHkoX3RoaXMubGV4ZXJEZWZpbml0aW9uRXJyb3JzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXVnbWVudFRva2VuVHlwZXMoY3Vyck1vZERlZik7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VyckFuYWx5emVSZXN1bHRfMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLlRSQUNFX0lOSVQoXCJhbmFseXplVG9rZW5UeXBlc1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyckFuYWx5emVSZXN1bHRfMSA9IGFuYWx5emVUb2tlblR5cGVzKGN1cnJNb2REZWYsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZVRlcm1pbmF0b3JDaGFyYWN0ZXJzOiBfdGhpcy5jb25maWdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5saW5lVGVybWluYXRvckNoYXJhY3RlcnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uVHJhY2tpbmc6IGNvbmZpZy5wb3NpdGlvblRyYWNraW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnN1cmVPcHRpbWl6YXRpb25zOiBjb25maWcuZW5zdXJlT3B0aW1pemF0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2FmZU1vZGU6IGNvbmZpZy5zYWZlTW9kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2VyOiBfdGhpcy5UUkFDRV9JTklULmJpbmQoX3RoaXMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBhdHRlcm5JZHhUb0NvbmZpZ1tjdXJyTW9kTmFtZV0gPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJBbmFseXplUmVzdWx0XzEucGF0dGVybklkeFRvQ29uZmlnO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY2hhckNvZGVUb1BhdHRlcm5JZHhUb0NvbmZpZ1tjdXJyTW9kTmFtZV0gPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJBbmFseXplUmVzdWx0XzEuY2hhckNvZGVUb1BhdHRlcm5JZHhUb0NvbmZpZztcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmVtcHR5R3JvdXBzID0gbWVyZ2UoX3RoaXMuZW1wdHlHcm91cHMsIGN1cnJBbmFseXplUmVzdWx0XzEuZW1wdHlHcm91cHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuaGFzQ3VzdG9tID0gY3VyckFuYWx5emVSZXN1bHRfMS5oYXNDdXN0b20gfHwgX3RoaXMuaGFzQ3VzdG9tO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY2FuTW9kZUJlT3B0aW1pemVkW2N1cnJNb2ROYW1lXSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyckFuYWx5emVSZXN1bHRfMS5jYW5CZU9wdGltaXplZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBfdGhpcy5kZWZhdWx0TW9kZSA9IGFjdHVhbERlZmluaXRpb24uZGVmYXVsdE1vZGU7XG4gICAgICAgICAgICBpZiAoIWlzRW1wdHkoX3RoaXMubGV4ZXJEZWZpbml0aW9uRXJyb3JzKSAmJlxuICAgICAgICAgICAgICAgICFfdGhpcy5jb25maWcuZGVmZXJEZWZpbml0aW9uRXJyb3JzSGFuZGxpbmcpIHtcbiAgICAgICAgICAgICAgICB2YXIgYWxsRXJyTWVzc2FnZXMgPSBtYXAoX3RoaXMubGV4ZXJEZWZpbml0aW9uRXJyb3JzLCBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLm1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdmFyIGFsbEVyck1lc3NhZ2VzU3RyaW5nID0gYWxsRXJyTWVzc2FnZXMuam9pbihcIi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXFxuXCIpO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkVycm9ycyBkZXRlY3RlZCBpbiBkZWZpbml0aW9uIG9mIExleGVyOlxcblwiICsgYWxsRXJyTWVzc2FnZXNTdHJpbmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gT25seSBwcmludCB3YXJuaW5nIGlmIHRoZXJlIGFyZSBubyBlcnJvcnMsIFRoaXMgd2lsbCBhdm9pZCBwbFxuICAgICAgICAgICAgZm9yRWFjaChfdGhpcy5sZXhlckRlZmluaXRpb25XYXJuaW5nLCBmdW5jdGlvbiAod2FybmluZ0Rlc2NyaXB0b3IpIHtcbiAgICAgICAgICAgICAgICBQUklOVF9XQVJOSU5HKHdhcm5pbmdEZXNjcmlwdG9yLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBfdGhpcy5UUkFDRV9JTklUKFwiQ2hvb3Npbmcgc3ViLW1ldGhvZHMgaW1wbGVtZW50YXRpb25zXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAvLyBDaG9vc2UgdGhlIHJlbGV2YW50IGludGVybmFsIGltcGxlbWVudGF0aW9ucyBmb3IgdGhpcyBzcGVjaWZpYyBwYXJzZXIuXG4gICAgICAgICAgICAgICAgLy8gVGhlc2UgaW1wbGVtZW50YXRpb25zIHNob3VsZCBiZSBpbi1saW5lZCBieSB0aGUgSmF2YVNjcmlwdCBlbmdpbmVcbiAgICAgICAgICAgICAgICAvLyB0byBwcm92aWRlIG9wdGltYWwgcGVyZm9ybWFuY2UgaW4gZWFjaCBzY2VuYXJpby5cbiAgICAgICAgICAgICAgICBpZiAoU1VQUE9SVF9TVElDS1kpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuY2hvcElucHV0ID0gSURFTlRJVFk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLm1hdGNoID0gX3RoaXMubWF0Y2hXaXRoVGVzdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnVwZGF0ZUxhc3RJbmRleCA9IE5PT1A7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLm1hdGNoID0gX3RoaXMubWF0Y2hXaXRoRXhlYztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGhhc09ubHlTaW5nbGVNb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmhhbmRsZU1vZGVzID0gTk9PUDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLnRyYWNrU3RhcnRMaW5lcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuY29tcHV0ZU5ld0NvbHVtbiA9IElERU5USVRZO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMudHJhY2tFbmRMaW5lcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMudXBkYXRlVG9rZW5FbmRMaW5lQ29sdW1uTG9jYXRpb24gPSBOT09QO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoL2Z1bGwvaS50ZXN0KF90aGlzLmNvbmZpZy5wb3NpdGlvblRyYWNraW5nKSkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5jcmVhdGVUb2tlbkluc3RhbmNlID0gX3RoaXMuY3JlYXRlRnVsbFRva2VuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICgvb25seVN0YXJ0L2kudGVzdChfdGhpcy5jb25maWcucG9zaXRpb25UcmFja2luZykpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuY3JlYXRlVG9rZW5JbnN0YW5jZSA9IF90aGlzLmNyZWF0ZVN0YXJ0T25seVRva2VuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICgvb25seU9mZnNldC9pLnRlc3QoX3RoaXMuY29uZmlnLnBvc2l0aW9uVHJhY2tpbmcpKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmNyZWF0ZVRva2VuSW5zdGFuY2UgPSBfdGhpcy5jcmVhdGVPZmZzZXRPbmx5VG9rZW47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIkludmFsaWQgPHBvc2l0aW9uVHJhY2tpbmc+IGNvbmZpZyBvcHRpb246IFxcXCJcIiArIF90aGlzLmNvbmZpZy5wb3NpdGlvblRyYWNraW5nICsgXCJcXFwiXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuaGFzQ3VzdG9tKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmFkZFRva2VuID0gX3RoaXMuYWRkVG9rZW5Vc2luZ1B1c2g7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmhhbmRsZVBheWxvYWQgPSBfdGhpcy5oYW5kbGVQYXlsb2FkV2l0aEN1c3RvbTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmFkZFRva2VuID0gX3RoaXMuYWRkVG9rZW5Vc2luZ01lbWJlckFjY2VzcztcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuaGFuZGxlUGF5bG9hZCA9IF90aGlzLmhhbmRsZVBheWxvYWROb0N1c3RvbTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIF90aGlzLlRSQUNFX0lOSVQoXCJGYWlsZWQgT3B0aW1pemF0aW9uIFdhcm5pbmdzXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgdW5PcHRpbWl6ZWRNb2RlcyA9IHJlZHVjZShfdGhpcy5jYW5Nb2RlQmVPcHRpbWl6ZWQsIGZ1bmN0aW9uIChjYW5ub3RCZU9wdGltaXplZCwgY2FuQmVPcHRpbWl6ZWQsIG1vZGVOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjYW5CZU9wdGltaXplZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbm5vdEJlT3B0aW1pemVkLnB1c2gobW9kZU5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjYW5ub3RCZU9wdGltaXplZDtcbiAgICAgICAgICAgICAgICB9LCBbXSk7XG4gICAgICAgICAgICAgICAgaWYgKGNvbmZpZy5lbnN1cmVPcHRpbWl6YXRpb25zICYmICFpc0VtcHR5KHVuT3B0aW1pemVkTW9kZXMpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwiTGV4ZXIgTW9kZXM6IDwgXCIgKyB1bk9wdGltaXplZE1vZGVzLmpvaW4oXCIsIFwiKSArIFwiID4gY2Fubm90IGJlIG9wdGltaXplZC5cXG5cIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAnXFx0IERpc2FibGUgdGhlIFwiZW5zdXJlT3B0aW1pemF0aW9uc1wiIGxleGVyIGNvbmZpZyBmbGFnIHRvIHNpbGVudGx5IGlnbm9yZSB0aGlzIGFuZCBydW4gdGhlIGxleGVyIGluIGFuIHVuLW9wdGltaXplZCBtb2RlLlxcbicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJcXHQgT3IgaW5zcGVjdCB0aGUgY29uc29sZSBsb2cgZm9yIGRldGFpbHMgb24gaG93IHRvIHJlc29sdmUgdGhlc2UgaXNzdWVzLlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIF90aGlzLlRSQUNFX0lOSVQoXCJjbGVhclJlZ0V4cFBhcnNlckNhY2hlXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBjbGVhclJlZ0V4cFBhcnNlckNhY2hlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIF90aGlzLlRSQUNFX0lOSVQoXCJ0b0Zhc3RQcm9wZXJ0aWVzXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB0b0Zhc3RQcm9wZXJ0aWVzKF90aGlzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgTGV4ZXIucHJvdG90eXBlLnRva2VuaXplID0gZnVuY3Rpb24gKHRleHQsIGluaXRpYWxNb2RlKSB7XG4gICAgICAgIGlmIChpbml0aWFsTW9kZSA9PT0gdm9pZCAwKSB7IGluaXRpYWxNb2RlID0gdGhpcy5kZWZhdWx0TW9kZTsgfVxuICAgICAgICBpZiAoIWlzRW1wdHkodGhpcy5sZXhlckRlZmluaXRpb25FcnJvcnMpKSB7XG4gICAgICAgICAgICB2YXIgYWxsRXJyTWVzc2FnZXMgPSBtYXAodGhpcy5sZXhlckRlZmluaXRpb25FcnJvcnMsIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci5tZXNzYWdlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgYWxsRXJyTWVzc2FnZXNTdHJpbmcgPSBhbGxFcnJNZXNzYWdlcy5qb2luKFwiLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cXG5cIik7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gVG9rZW5pemUgYmVjYXVzZSBFcnJvcnMgZGV0ZWN0ZWQgaW4gZGVmaW5pdGlvbiBvZiBMZXhlcjpcXG5cIiArXG4gICAgICAgICAgICAgICAgYWxsRXJyTWVzc2FnZXNTdHJpbmcpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsZXhSZXN1bHQgPSB0aGlzLnRva2VuaXplSW50ZXJuYWwodGV4dCwgaW5pdGlhbE1vZGUpO1xuICAgICAgICByZXR1cm4gbGV4UmVzdWx0O1xuICAgIH07XG4gICAgLy8gVGhlcmUgaXMgcXVpdGUgYSBiaXQgb2YgZHVwbGljYXRpb24gYmV0d2VlbiB0aGlzIGFuZCBcInRva2VuaXplSW50ZXJuYWxMYXp5XCJcbiAgICAvLyBUaGlzIGlzIGludGVudGlvbmFsIGR1ZSB0byBwZXJmb3JtYW5jZSBjb25zaWRlcmF0aW9ucy5cbiAgICBMZXhlci5wcm90b3R5cGUudG9rZW5pemVJbnRlcm5hbCA9IGZ1bmN0aW9uICh0ZXh0LCBpbml0aWFsTW9kZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgaSwgaiwgbWF0Y2hBbHRJbWFnZSwgbG9uZ2VyQWx0SWR4LCBtYXRjaGVkSW1hZ2UsIHBheWxvYWQsIGFsdFBheWxvYWQsIGltYWdlTGVuZ3RoLCBncm91cCwgdG9rVHlwZSwgbmV3VG9rZW4sIGVyckxlbmd0aCwgZHJvcHBlZENoYXIsIG1zZywgbWF0Y2g7XG4gICAgICAgIHZhciBvcmdUZXh0ID0gdGV4dDtcbiAgICAgICAgdmFyIG9yZ0xlbmd0aCA9IG9yZ1RleHQubGVuZ3RoO1xuICAgICAgICB2YXIgb2Zmc2V0ID0gMDtcbiAgICAgICAgdmFyIG1hdGNoZWRUb2tlbnNJbmRleCA9IDA7XG4gICAgICAgIC8vIGluaXRpYWxpemluZyB0aGUgdG9rZW5zQXJyYXkgdG8gdGhlIFwiZ3Vlc3NlZFwiIHNpemUuXG4gICAgICAgIC8vIGd1ZXNzaW5nIHRvbyBsaXR0bGUgd2lsbCBzdGlsbCByZWR1Y2UgdGhlIG51bWJlciBvZiBhcnJheSByZS1zaXplcyBvbiBwdXNoZXMuXG4gICAgICAgIC8vIGd1ZXNzaW5nIHRvbyBsYXJnZSAoVGVzdGVkIGJ5IGd1ZXNzaW5nIHg0IHRvbyBsYXJnZSkgbWF5IGNvc3QgYSBiaXQgbW9yZSBvZiBtZW1vcnlcbiAgICAgICAgLy8gYnV0IHdvdWxkIHN0aWxsIGhhdmUgYSBmYXN0ZXIgcnVudGltZSBieSBhdm9pZGluZyAoQWxsIGJ1dCBvbmUpIGFycmF5IHJlc2l6aW5nLlxuICAgICAgICB2YXIgZ3Vlc3NlZE51bWJlck9mVG9rZW5zID0gdGhpcy5oYXNDdXN0b21cbiAgICAgICAgICAgID8gMCAvLyB3aWxsIGJyZWFrIGN1c3RvbSB0b2tlbiBwYXR0ZXJuIEFQSXMgdGhlIG1hdGNoZWRUb2tlbnMgYXJyYXkgd2lsbCBjb250YWluIHVuZGVmaW5lZCBlbGVtZW50cy5cbiAgICAgICAgICAgIDogTWF0aC5mbG9vcih0ZXh0Lmxlbmd0aCAvIDEwKTtcbiAgICAgICAgdmFyIG1hdGNoZWRUb2tlbnMgPSBuZXcgQXJyYXkoZ3Vlc3NlZE51bWJlck9mVG9rZW5zKTtcbiAgICAgICAgdmFyIGVycm9ycyA9IFtdO1xuICAgICAgICB2YXIgbGluZSA9IHRoaXMudHJhY2tTdGFydExpbmVzID8gMSA6IHVuZGVmaW5lZDtcbiAgICAgICAgdmFyIGNvbHVtbiA9IHRoaXMudHJhY2tTdGFydExpbmVzID8gMSA6IHVuZGVmaW5lZDtcbiAgICAgICAgdmFyIGdyb3VwcyA9IGNsb25lRW1wdHlHcm91cHModGhpcy5lbXB0eUdyb3Vwcyk7XG4gICAgICAgIHZhciB0cmFja0xpbmVzID0gdGhpcy50cmFja1N0YXJ0TGluZXM7XG4gICAgICAgIHZhciBsaW5lVGVybWluYXRvclBhdHRlcm4gPSB0aGlzLmNvbmZpZy5saW5lVGVybWluYXRvcnNQYXR0ZXJuO1xuICAgICAgICB2YXIgY3Vyck1vZGVQYXR0ZXJuc0xlbmd0aCA9IDA7XG4gICAgICAgIHZhciBwYXR0ZXJuSWR4VG9Db25maWcgPSBbXTtcbiAgICAgICAgdmFyIGN1cnJDaGFyQ29kZVRvUGF0dGVybklkeFRvQ29uZmlnID0gW107XG4gICAgICAgIHZhciBtb2RlU3RhY2sgPSBbXTtcbiAgICAgICAgdmFyIGVtcHR5QXJyYXkgPSBbXTtcbiAgICAgICAgT2JqZWN0LmZyZWV6ZShlbXB0eUFycmF5KTtcbiAgICAgICAgdmFyIGdldFBvc3NpYmxlUGF0dGVybnMgPSB1bmRlZmluZWQ7XG4gICAgICAgIGZ1bmN0aW9uIGdldFBvc3NpYmxlUGF0dGVybnNTbG93KCkge1xuICAgICAgICAgICAgcmV0dXJuIHBhdHRlcm5JZHhUb0NvbmZpZztcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBnZXRQb3NzaWJsZVBhdHRlcm5zT3B0aW1pemVkKGNoYXJDb2RlKSB7XG4gICAgICAgICAgICB2YXIgb3B0aW1pemVkQ2hhcklkeCA9IGNoYXJDb2RlVG9PcHRpbWl6ZWRJbmRleChjaGFyQ29kZSk7XG4gICAgICAgICAgICB2YXIgcG9zc2libGVQYXR0ZXJucyA9IGN1cnJDaGFyQ29kZVRvUGF0dGVybklkeFRvQ29uZmlnW29wdGltaXplZENoYXJJZHhdO1xuICAgICAgICAgICAgaWYgKHBvc3NpYmxlUGF0dGVybnMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBlbXB0eUFycmF5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBvc3NpYmxlUGF0dGVybnM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHBvcF9tb2RlID0gZnVuY3Rpb24gKHBvcFRva2VuKSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBwZXJoYXBzIGF2b2lkIHRoaXMgZXJyb3IgaW4gdGhlIGVkZ2UgY2FzZSB0aGVyZSBpcyBubyBtb3JlIGlucHV0P1xuICAgICAgICAgICAgaWYgKG1vZGVTdGFjay5sZW5ndGggPT09IDEgJiZcbiAgICAgICAgICAgICAgICAvLyBpZiB3ZSBoYXZlIGJvdGggYSBQT1BfTU9ERSBhbmQgYSBQVVNIX01PREUgdGhpcyBpcyBpbi1mYWN0IGEgXCJ0cmFuc2l0aW9uXCJcbiAgICAgICAgICAgICAgICAvLyBTbyBubyBlcnJvciBzaG91bGQgb2NjdXIuXG4gICAgICAgICAgICAgICAgcG9wVG9rZW4udG9rZW5UeXBlLlBVU0hfTU9ERSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgLy8gaWYgd2UgdHJ5IHRvIHBvcCB0aGUgbGFzdCBtb2RlIHRoZXJlIGxleGVyIHdpbGwgbm8gbG9uZ2VyIGhhdmUgQU5ZIG1vZGUuXG4gICAgICAgICAgICAgICAgLy8gdGh1cyB0aGUgcG9wIGlzIGlnbm9yZWQsIGFuIGVycm9yIHdpbGwgYmUgY3JlYXRlZCBhbmQgdGhlIGxleGVyIHdpbGwgY29udGludWUgcGFyc2luZyBpbiB0aGUgcHJldmlvdXMgbW9kZS5cbiAgICAgICAgICAgICAgICB2YXIgbXNnXzEgPSBfdGhpcy5jb25maWcuZXJyb3JNZXNzYWdlUHJvdmlkZXIuYnVpbGRVbmFibGVUb1BvcExleGVyTW9kZU1lc3NhZ2UocG9wVG9rZW4pO1xuICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiBwb3BUb2tlbi5zdGFydE9mZnNldCxcbiAgICAgICAgICAgICAgICAgICAgbGluZTogcG9wVG9rZW4uc3RhcnRMaW5lICE9PSB1bmRlZmluZWQgPyBwb3BUb2tlbi5zdGFydExpbmUgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbjogcG9wVG9rZW4uc3RhcnRDb2x1bW4gIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgPyBwb3BUb2tlbi5zdGFydENvbHVtblxuICAgICAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIGxlbmd0aDogcG9wVG9rZW4uaW1hZ2UubGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBtc2dfMVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbW9kZVN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgICAgIHZhciBuZXdNb2RlID0gbGFzdChtb2RlU3RhY2spO1xuICAgICAgICAgICAgICAgIHBhdHRlcm5JZHhUb0NvbmZpZyA9IF90aGlzLnBhdHRlcm5JZHhUb0NvbmZpZ1tuZXdNb2RlXTtcbiAgICAgICAgICAgICAgICBjdXJyQ2hhckNvZGVUb1BhdHRlcm5JZHhUb0NvbmZpZyA9IF90aGlzLmNoYXJDb2RlVG9QYXR0ZXJuSWR4VG9Db25maWdbbmV3TW9kZV07XG4gICAgICAgICAgICAgICAgY3Vyck1vZGVQYXR0ZXJuc0xlbmd0aCA9IHBhdHRlcm5JZHhUb0NvbmZpZy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgdmFyIG1vZGVDYW5CZU9wdGltaXplZCA9IF90aGlzLmNhbk1vZGVCZU9wdGltaXplZFtuZXdNb2RlXSAmJiBfdGhpcy5jb25maWcuc2FmZU1vZGUgPT09IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmIChjdXJyQ2hhckNvZGVUb1BhdHRlcm5JZHhUb0NvbmZpZyAmJiBtb2RlQ2FuQmVPcHRpbWl6ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0UG9zc2libGVQYXR0ZXJucyA9IGdldFBvc3NpYmxlUGF0dGVybnNPcHRpbWl6ZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBnZXRQb3NzaWJsZVBhdHRlcm5zID0gZ2V0UG9zc2libGVQYXR0ZXJuc1Nsb3c7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBmdW5jdGlvbiBwdXNoX21vZGUobmV3TW9kZSkge1xuICAgICAgICAgICAgbW9kZVN0YWNrLnB1c2gobmV3TW9kZSk7XG4gICAgICAgICAgICBjdXJyQ2hhckNvZGVUb1BhdHRlcm5JZHhUb0NvbmZpZyA9IHRoaXMuY2hhckNvZGVUb1BhdHRlcm5JZHhUb0NvbmZpZ1tuZXdNb2RlXTtcbiAgICAgICAgICAgIHBhdHRlcm5JZHhUb0NvbmZpZyA9IHRoaXMucGF0dGVybklkeFRvQ29uZmlnW25ld01vZGVdO1xuICAgICAgICAgICAgY3Vyck1vZGVQYXR0ZXJuc0xlbmd0aCA9IHBhdHRlcm5JZHhUb0NvbmZpZy5sZW5ndGg7XG4gICAgICAgICAgICBjdXJyTW9kZVBhdHRlcm5zTGVuZ3RoID0gcGF0dGVybklkeFRvQ29uZmlnLmxlbmd0aDtcbiAgICAgICAgICAgIHZhciBtb2RlQ2FuQmVPcHRpbWl6ZWQgPSB0aGlzLmNhbk1vZGVCZU9wdGltaXplZFtuZXdNb2RlXSAmJiB0aGlzLmNvbmZpZy5zYWZlTW9kZSA9PT0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoY3VyckNoYXJDb2RlVG9QYXR0ZXJuSWR4VG9Db25maWcgJiYgbW9kZUNhbkJlT3B0aW1pemVkKSB7XG4gICAgICAgICAgICAgICAgZ2V0UG9zc2libGVQYXR0ZXJucyA9IGdldFBvc3NpYmxlUGF0dGVybnNPcHRpbWl6ZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBnZXRQb3NzaWJsZVBhdHRlcm5zID0gZ2V0UG9zc2libGVQYXR0ZXJuc1Nsb3c7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gdGhpcyBwYXR0ZXJuIHNlZW1zIHRvIGF2b2lkIGEgVjggZGUtb3B0aW1pemF0aW9uLCBhbHRob3VnaCB0aGF0IGRlLW9wdGltaXphdGlvbiBkb2VzIG5vdFxuICAgICAgICAvLyBzZWVtIHRvIG1hdHRlciBwZXJmb3JtYW5jZSB3aXNlLlxuICAgICAgICBwdXNoX21vZGUuY2FsbCh0aGlzLCBpbml0aWFsTW9kZSk7XG4gICAgICAgIHZhciBjdXJyQ29uZmlnO1xuICAgICAgICB3aGlsZSAob2Zmc2V0IDwgb3JnTGVuZ3RoKSB7XG4gICAgICAgICAgICBtYXRjaGVkSW1hZ2UgPSBudWxsO1xuICAgICAgICAgICAgdmFyIG5leHRDaGFyQ29kZSA9IG9yZ1RleHQuY2hhckNvZGVBdChvZmZzZXQpO1xuICAgICAgICAgICAgdmFyIGNob3NlblBhdHRlcm5JZHhUb0NvbmZpZyA9IGdldFBvc3NpYmxlUGF0dGVybnMobmV4dENoYXJDb2RlKTtcbiAgICAgICAgICAgIHZhciBjaG9zZW5QYXR0ZXJuc0xlbmd0aCA9IGNob3NlblBhdHRlcm5JZHhUb0NvbmZpZy5sZW5ndGg7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgY2hvc2VuUGF0dGVybnNMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGN1cnJDb25maWcgPSBjaG9zZW5QYXR0ZXJuSWR4VG9Db25maWdbaV07XG4gICAgICAgICAgICAgICAgdmFyIGN1cnJQYXR0ZXJuID0gY3VyckNvbmZpZy5wYXR0ZXJuO1xuICAgICAgICAgICAgICAgIHBheWxvYWQgPSBudWxsO1xuICAgICAgICAgICAgICAgIC8vIG1hbnVhbGx5IGluLWxpbmVkIGJlY2F1c2UgPiA2MDAgY2hhcnMgd29uJ3QgYmUgaW4tbGluZWQgaW4gVjhcbiAgICAgICAgICAgICAgICB2YXIgc2luZ2xlQ2hhckNvZGUgPSBjdXJyQ29uZmlnLnNob3J0O1xuICAgICAgICAgICAgICAgIGlmIChzaW5nbGVDaGFyQ29kZSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5leHRDaGFyQ29kZSA9PT0gc2luZ2xlQ2hhckNvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNpbmdsZSBjaGFyYWN0ZXIgc3RyaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVkSW1hZ2UgPSBjdXJyUGF0dGVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjdXJyQ29uZmlnLmlzQ3VzdG9tID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIG1hdGNoID0gY3VyclBhdHRlcm4uZXhlYyhvcmdUZXh0LCBvZmZzZXQsIG1hdGNoZWRUb2tlbnMsIGdyb3Vwcyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlZEltYWdlID0gbWF0Y2hbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2gucGF5bG9hZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF5bG9hZCA9IG1hdGNoLnBheWxvYWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVkSW1hZ2UgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUxhc3RJbmRleChjdXJyUGF0dGVybiwgb2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hlZEltYWdlID0gdGhpcy5tYXRjaChjdXJyUGF0dGVybiwgdGV4dCwgb2Zmc2V0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoZWRJbWFnZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBldmVuIHRob3VnaCB0aGlzIHBhdHRlcm4gbWF0Y2hlZCB3ZSBtdXN0IHRyeSBhIGFub3RoZXIgbG9uZ2VyIGFsdGVybmF0aXZlLlxuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIGNhbiBiZSB1c2VkIHRvIHByaW9yaXRpemUga2V5d29yZHMgb3ZlciBpZGVudGlmaWVyc1xuICAgICAgICAgICAgICAgICAgICBsb25nZXJBbHRJZHggPSBjdXJyQ29uZmlnLmxvbmdlckFsdDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxvbmdlckFsdElkeCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBtaWNybyBvcHRpbWl6ZSwgYXZvaWQgZXh0cmEgcHJvcCBhY2Nlc3NcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJ5IHNhdmluZy9saW5raW5nIGxvbmdlckFsdCBvbiB0aGUgb3JpZ2luYWwgY29uZmlnP1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxvbmdlckFsdENvbmZpZyA9IHBhdHRlcm5JZHhUb0NvbmZpZ1tsb25nZXJBbHRJZHhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxvbmdlckFsdFBhdHRlcm4gPSBsb25nZXJBbHRDb25maWcucGF0dGVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsdFBheWxvYWQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2luZ2xlIENoYXIgY2FuIG5ldmVyIGJlIGEgbG9uZ2VyIGFsdCBzbyBubyBuZWVkIHRvIHRlc3QgaXQuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBtYW51YWxseSBpbi1saW5lZCBiZWNhdXNlID4gNjAwIGNoYXJzIHdvbid0IGJlIGluLWxpbmVkIGluIFY4XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobG9uZ2VyQWx0Q29uZmlnLmlzQ3VzdG9tID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2ggPSBsb25nZXJBbHRQYXR0ZXJuLmV4ZWMob3JnVGV4dCwgb2Zmc2V0LCBtYXRjaGVkVG9rZW5zLCBncm91cHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaEFsdEltYWdlID0gbWF0Y2hbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaC5wYXlsb2FkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsdFBheWxvYWQgPSBtYXRjaC5wYXlsb2FkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaEFsdEltYWdlID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUxhc3RJbmRleChsb25nZXJBbHRQYXR0ZXJuLCBvZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoQWx0SW1hZ2UgPSB0aGlzLm1hdGNoKGxvbmdlckFsdFBhdHRlcm4sIHRleHQsIG9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hBbHRJbWFnZSAmJiBtYXRjaEFsdEltYWdlLmxlbmd0aCA+IG1hdGNoZWRJbWFnZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVkSW1hZ2UgPSBtYXRjaEFsdEltYWdlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBheWxvYWQgPSBhbHRQYXlsb2FkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJDb25maWcgPSBsb25nZXJBbHRDb25maWc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gc3VjY2Vzc2Z1bCBtYXRjaFxuICAgICAgICAgICAgaWYgKG1hdGNoZWRJbWFnZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGltYWdlTGVuZ3RoID0gbWF0Y2hlZEltYWdlLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBncm91cCA9IGN1cnJDb25maWcuZ3JvdXA7XG4gICAgICAgICAgICAgICAgaWYgKGdyb3VwICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdG9rVHlwZSA9IGN1cnJDb25maWcudG9rZW5UeXBlSWR4O1xuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBcIm9mZnNldCArIGltYWdlTGVuZ3RoXCIgYW5kIHRoZSBuZXcgY29sdW1uIG1heSBiZSBjb21wdXRlZCB0d2ljZSBpbiBjYXNlIG9mIFwiZnVsbFwiIGxvY2F0aW9uIGluZm9ybWF0aW9uIGluc2lkZVxuICAgICAgICAgICAgICAgICAgICAvLyBjcmVhdGVGdWxsVG9rZW4gbWV0aG9kXG4gICAgICAgICAgICAgICAgICAgIG5ld1Rva2VuID0gdGhpcy5jcmVhdGVUb2tlbkluc3RhbmNlKG1hdGNoZWRJbWFnZSwgb2Zmc2V0LCB0b2tUeXBlLCBjdXJyQ29uZmlnLnRva2VuVHlwZSwgbGluZSwgY29sdW1uLCBpbWFnZUxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlUGF5bG9hZChuZXdUb2tlbiwgcGF5bG9hZCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IG9wdGltaXplIE5PT1AgaW4gY2FzZSB0aGVyZSBhcmUgbm8gc3BlY2lhbCBncm91cHM/XG4gICAgICAgICAgICAgICAgICAgIGlmIChncm91cCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZWRUb2tlbnNJbmRleCA9IHRoaXMuYWRkVG9rZW4obWF0Y2hlZFRva2VucywgbWF0Y2hlZFRva2Vuc0luZGV4LCBuZXdUb2tlbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBncm91cHNbZ3JvdXBdLnB1c2gobmV3VG9rZW4pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRleHQgPSB0aGlzLmNob3BJbnB1dCh0ZXh0LCBpbWFnZUxlbmd0aCk7XG4gICAgICAgICAgICAgICAgb2Zmc2V0ID0gb2Zmc2V0ICsgaW1hZ2VMZW5ndGg7XG4gICAgICAgICAgICAgICAgLy8gVE9ETzogd2l0aCBuZXdsaW5lcyB0aGUgY29sdW1uIG1heSBiZSBhc3NpZ25lZCB0d2ljZVxuICAgICAgICAgICAgICAgIGNvbHVtbiA9IHRoaXMuY29tcHV0ZU5ld0NvbHVtbihjb2x1bW4sIGltYWdlTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICBpZiAodHJhY2tMaW5lcyA9PT0gdHJ1ZSAmJiBjdXJyQ29uZmlnLmNhbkxpbmVUZXJtaW5hdG9yID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBudW1PZkxUc0luTWF0Y2ggPSAwO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZm91bmRUZXJtaW5hdG9yID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbGFzdExURW5kT2Zmc2V0ID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgICBsaW5lVGVybWluYXRvclBhdHRlcm4ubGFzdEluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm91bmRUZXJtaW5hdG9yID0gbGluZVRlcm1pbmF0b3JQYXR0ZXJuLnRlc3QobWF0Y2hlZEltYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmb3VuZFRlcm1pbmF0b3IgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0TFRFbmRPZmZzZXQgPSBsaW5lVGVybWluYXRvclBhdHRlcm4ubGFzdEluZGV4IC0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBudW1PZkxUc0luTWF0Y2grKztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSB3aGlsZSAoZm91bmRUZXJtaW5hdG9yID09PSB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG51bU9mTFRzSW5NYXRjaCAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGluZSA9IGxpbmUgKyBudW1PZkxUc0luTWF0Y2g7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW4gPSBpbWFnZUxlbmd0aCAtIGxhc3RMVEVuZE9mZnNldDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVG9rZW5FbmRMaW5lQ29sdW1uTG9jYXRpb24obmV3VG9rZW4sIGdyb3VwLCBsYXN0TFRFbmRPZmZzZXQsIG51bU9mTFRzSW5NYXRjaCwgbGluZSwgY29sdW1uLCBpbWFnZUxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gd2lsbCBiZSBOT09QIGlmIG5vIG1vZGVzIHByZXNlbnRcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZU1vZGVzKGN1cnJDb25maWcsIHBvcF9tb2RlLCBwdXNoX21vZGUsIG5ld1Rva2VuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGVycm9yIHJlY292ZXJ5LCBkcm9wIGNoYXJhY3RlcnMgdW50aWwgd2UgaWRlbnRpZnkgYSB2YWxpZCB0b2tlbidzIHN0YXJ0IHBvaW50XG4gICAgICAgICAgICAgICAgdmFyIGVycm9yU3RhcnRPZmZzZXQgPSBvZmZzZXQ7XG4gICAgICAgICAgICAgICAgdmFyIGVycm9yTGluZSA9IGxpbmU7XG4gICAgICAgICAgICAgICAgdmFyIGVycm9yQ29sdW1uID0gY29sdW1uO1xuICAgICAgICAgICAgICAgIHZhciBmb3VuZFJlc3luY1BvaW50ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgd2hpbGUgKCFmb3VuZFJlc3luY1BvaW50ICYmIG9mZnNldCA8IG9yZ0xlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBkcm9wIGNoYXJzIHVudGlsIHdlIHN1Y2NlZWQgaW4gbWF0Y2hpbmcgc29tZXRoaW5nXG4gICAgICAgICAgICAgICAgICAgIGRyb3BwZWRDaGFyID0gb3JnVGV4dC5jaGFyQ29kZUF0KG9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIElkZW50aXR5IEZ1bmMgKHdoZW4gc3RpY2t5IGZsYWcgaXMgZW5hYmxlZClcbiAgICAgICAgICAgICAgICAgICAgdGV4dCA9IHRoaXMuY2hvcElucHV0KHRleHQsIDEpO1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXQrKztcbiAgICAgICAgICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IGN1cnJNb2RlUGF0dGVybnNMZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJDb25maWdfMSA9IHBhdHRlcm5JZHhUb0NvbmZpZ1tqXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJyUGF0dGVybiA9IGN1cnJDb25maWdfMS5wYXR0ZXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbWFudWFsbHkgaW4tbGluZWQgYmVjYXVzZSA+IDYwMCBjaGFycyB3b24ndCBiZSBpbi1saW5lZCBpbiBWOFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNpbmdsZUNoYXJDb2RlID0gY3VyckNvbmZpZ18xLnNob3J0O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNpbmdsZUNoYXJDb2RlICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcmdUZXh0LmNoYXJDb2RlQXQob2Zmc2V0KSA9PT0gc2luZ2xlQ2hhckNvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2luZ2xlIGNoYXJhY3RlciBzdHJpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm91bmRSZXN5bmNQb2ludCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoY3VyckNvbmZpZ18xLmlzQ3VzdG9tID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm91bmRSZXN5bmNQb2ludCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJQYXR0ZXJuLmV4ZWMob3JnVGV4dCwgb2Zmc2V0LCBtYXRjaGVkVG9rZW5zLCBncm91cHMpICE9PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlTGFzdEluZGV4KGN1cnJQYXR0ZXJuLCBvZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvdW5kUmVzeW5jUG9pbnQgPSBjdXJyUGF0dGVybi5leGVjKHRleHQpICE9PSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZvdW5kUmVzeW5jUG9pbnQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlcnJMZW5ndGggPSBvZmZzZXQgLSBlcnJvclN0YXJ0T2Zmc2V0O1xuICAgICAgICAgICAgICAgIC8vIGF0IHRoaXMgcG9pbnQgd2UgZWl0aGVyIHJlLXN5bmNlZCBvciByZWFjaGVkIHRoZSBlbmQgb2YgdGhlIGlucHV0IHRleHRcbiAgICAgICAgICAgICAgICBtc2cgPSB0aGlzLmNvbmZpZy5lcnJvck1lc3NhZ2VQcm92aWRlci5idWlsZFVuZXhwZWN0ZWRDaGFyYWN0ZXJzTWVzc2FnZShvcmdUZXh0LCBlcnJvclN0YXJ0T2Zmc2V0LCBlcnJMZW5ndGgsIGVycm9yTGluZSwgZXJyb3JDb2x1bW4pO1xuICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiBlcnJvclN0YXJ0T2Zmc2V0LFxuICAgICAgICAgICAgICAgICAgICBsaW5lOiBlcnJvckxpbmUsXG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbjogZXJyb3JDb2x1bW4sXG4gICAgICAgICAgICAgICAgICAgIGxlbmd0aDogZXJyTGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBtc2dcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBpZiB3ZSBkbyBoYXZlIGN1c3RvbSBwYXR0ZXJucyB3aGljaCBwdXNoIGRpcmVjdGx5IGludG8gdGhlXG4gICAgICAgIC8vIFRPRE86IGN1c3RvbSB0b2tlbnMgc2hvdWxkIG5vdCBwdXNoIGRpcmVjdGx5Pz9cbiAgICAgICAgaWYgKCF0aGlzLmhhc0N1c3RvbSkge1xuICAgICAgICAgICAgLy8gaWYgd2UgZ3Vlc3NlZCBhIHRvbyBsYXJnZSBzaXplIGZvciB0aGUgdG9rZW5zIGFycmF5IHRoaXMgd2lsbCBzaHJpbmsgaXQgdG8gdGhlIHJpZ2h0IHNpemUuXG4gICAgICAgICAgICBtYXRjaGVkVG9rZW5zLmxlbmd0aCA9IG1hdGNoZWRUb2tlbnNJbmRleDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdG9rZW5zOiBtYXRjaGVkVG9rZW5zLFxuICAgICAgICAgICAgZ3JvdXBzOiBncm91cHMsXG4gICAgICAgICAgICBlcnJvcnM6IGVycm9yc1xuICAgICAgICB9O1xuICAgIH07XG4gICAgTGV4ZXIucHJvdG90eXBlLmhhbmRsZU1vZGVzID0gZnVuY3Rpb24gKGNvbmZpZywgcG9wX21vZGUsIHB1c2hfbW9kZSwgbmV3VG9rZW4pIHtcbiAgICAgICAgaWYgKGNvbmZpZy5wb3AgPT09IHRydWUpIHtcbiAgICAgICAgICAgIC8vIG5lZWQgdG8gc2F2ZSB0aGUgUFVTSF9NT0RFIHByb3BlcnR5IGFzIGlmIHRoZSBtb2RlIGlzIHBvcHBlZFxuICAgICAgICAgICAgLy8gcGF0dGVybklkeFRvUG9wTW9kZSBpcyB1cGRhdGVkIHRvIHJlZmxlY3QgdGhlIG5ldyBtb2RlIGFmdGVyIHBvcHBpbmcgdGhlIHN0YWNrXG4gICAgICAgICAgICB2YXIgcHVzaE1vZGUgPSBjb25maWcucHVzaDtcbiAgICAgICAgICAgIHBvcF9tb2RlKG5ld1Rva2VuKTtcbiAgICAgICAgICAgIGlmIChwdXNoTW9kZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcHVzaF9tb2RlLmNhbGwodGhpcywgcHVzaE1vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNvbmZpZy5wdXNoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHB1c2hfbW9kZS5jYWxsKHRoaXMsIGNvbmZpZy5wdXNoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTGV4ZXIucHJvdG90eXBlLmNob3BJbnB1dCA9IGZ1bmN0aW9uICh0ZXh0LCBsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHRleHQuc3Vic3RyaW5nKGxlbmd0aCk7XG4gICAgfTtcbiAgICBMZXhlci5wcm90b3R5cGUudXBkYXRlTGFzdEluZGV4ID0gZnVuY3Rpb24gKHJlZ0V4cCwgbmV3TGFzdEluZGV4KSB7XG4gICAgICAgIHJlZ0V4cC5sYXN0SW5kZXggPSBuZXdMYXN0SW5kZXg7XG4gICAgfTtcbiAgICAvLyBUT0RPOiBkZWNyZWFzZSB0aGlzIHVuZGVyIDYwMCBjaGFyYWN0ZXJzPyBpbnNwZWN0IHN0cmlwcGluZyBjb21tZW50cyBvcHRpb24gaW4gVFNDIGNvbXBpbGVyXG4gICAgTGV4ZXIucHJvdG90eXBlLnVwZGF0ZVRva2VuRW5kTGluZUNvbHVtbkxvY2F0aW9uID0gZnVuY3Rpb24gKG5ld1Rva2VuLCBncm91cCwgbGFzdExUSWR4LCBudW1PZkxUc0luTWF0Y2gsIGxpbmUsIGNvbHVtbiwgaW1hZ2VMZW5ndGgpIHtcbiAgICAgICAgdmFyIGxhc3RDaGFySXNMVCwgZml4Rm9yRW5kaW5nSW5MVDtcbiAgICAgICAgaWYgKGdyb3VwICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8vIGEgbm9uZSBza2lwcGVkIG11bHRpIGxpbmUgVG9rZW4sIG5lZWQgdG8gdXBkYXRlIGVuZExpbmUvZW5kQ29sdW1uXG4gICAgICAgICAgICBsYXN0Q2hhcklzTFQgPSBsYXN0TFRJZHggPT09IGltYWdlTGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIGZpeEZvckVuZGluZ0luTFQgPSBsYXN0Q2hhcklzTFQgPyAtMSA6IDA7XG4gICAgICAgICAgICBpZiAoIShudW1PZkxUc0luTWF0Y2ggPT09IDEgJiYgbGFzdENoYXJJc0xUID09PSB0cnVlKSkge1xuICAgICAgICAgICAgICAgIC8vIGlmIGEgdG9rZW4gZW5kcyBpbiBhIExUIHRoYXQgbGFzdCBMVCBvbmx5IGFmZmVjdHMgdGhlIGxpbmUgbnVtYmVyaW5nIG9mIGZvbGxvd2luZyBUb2tlbnNcbiAgICAgICAgICAgICAgICBuZXdUb2tlbi5lbmRMaW5lID0gbGluZSArIGZpeEZvckVuZGluZ0luTFQ7XG4gICAgICAgICAgICAgICAgLy8gdGhlIGxhc3QgTFQgaW4gYSB0b2tlbiBkb2VzIG5vdCBhZmZlY3QgdGhlIGVuZENvbHVtbiBlaXRoZXIgYXMgdGhlIFtjb2x1bW5TdGFydCAuLi4gY29sdW1uRW5kKVxuICAgICAgICAgICAgICAgIC8vIGluY2x1c2l2ZSB0byBleGNsdXNpdmUgcmFuZ2UuXG4gICAgICAgICAgICAgICAgbmV3VG9rZW4uZW5kQ29sdW1uID0gY29sdW1uIC0gMSArIC1maXhGb3JFbmRpbmdJbkxUO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZWxzZSBzaW5nbGUgTFQgaW4gdGhlIGxhc3QgY2hhcmFjdGVyIG9mIGEgdG9rZW4sIG5vIG5lZWQgdG8gbW9kaWZ5IHRoZSBlbmRMaW5lL0VuZENvbHVtblxuICAgICAgICB9XG4gICAgfTtcbiAgICBMZXhlci5wcm90b3R5cGUuY29tcHV0ZU5ld0NvbHVtbiA9IGZ1bmN0aW9uIChvbGRDb2x1bW4sIGltYWdlTGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBvbGRDb2x1bW4gKyBpbWFnZUxlbmd0aDtcbiAgICB9O1xuICAgIC8vIFBsYWNlIGhvbGRlciwgd2lsbCBiZSByZXBsYWNlZCBieSB0aGUgY29ycmVjdCB2YXJpYW50IGFjY29yZGluZyB0byB0aGUgbG9jYXRpb25UcmFja2luZyBvcHRpb24gYXQgcnVudGltZS5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAtIHBsYWNlIGhvbGRlciAqL1xuICAgIExleGVyLnByb3RvdHlwZS5jcmVhdGVUb2tlbkluc3RhbmNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgTGV4ZXIucHJvdG90eXBlLmNyZWF0ZU9mZnNldE9ubHlUb2tlbiA9IGZ1bmN0aW9uIChpbWFnZSwgc3RhcnRPZmZzZXQsIHRva2VuVHlwZUlkeCwgdG9rZW5UeXBlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpbWFnZTogaW1hZ2UsXG4gICAgICAgICAgICBzdGFydE9mZnNldDogc3RhcnRPZmZzZXQsXG4gICAgICAgICAgICB0b2tlblR5cGVJZHg6IHRva2VuVHlwZUlkeCxcbiAgICAgICAgICAgIHRva2VuVHlwZTogdG9rZW5UeXBlXG4gICAgICAgIH07XG4gICAgfTtcbiAgICBMZXhlci5wcm90b3R5cGUuY3JlYXRlU3RhcnRPbmx5VG9rZW4gPSBmdW5jdGlvbiAoaW1hZ2UsIHN0YXJ0T2Zmc2V0LCB0b2tlblR5cGVJZHgsIHRva2VuVHlwZSwgc3RhcnRMaW5lLCBzdGFydENvbHVtbikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaW1hZ2U6IGltYWdlLFxuICAgICAgICAgICAgc3RhcnRPZmZzZXQ6IHN0YXJ0T2Zmc2V0LFxuICAgICAgICAgICAgc3RhcnRMaW5lOiBzdGFydExpbmUsXG4gICAgICAgICAgICBzdGFydENvbHVtbjogc3RhcnRDb2x1bW4sXG4gICAgICAgICAgICB0b2tlblR5cGVJZHg6IHRva2VuVHlwZUlkeCxcbiAgICAgICAgICAgIHRva2VuVHlwZTogdG9rZW5UeXBlXG4gICAgICAgIH07XG4gICAgfTtcbiAgICBMZXhlci5wcm90b3R5cGUuY3JlYXRlRnVsbFRva2VuID0gZnVuY3Rpb24gKGltYWdlLCBzdGFydE9mZnNldCwgdG9rZW5UeXBlSWR4LCB0b2tlblR5cGUsIHN0YXJ0TGluZSwgc3RhcnRDb2x1bW4sIGltYWdlTGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpbWFnZTogaW1hZ2UsXG4gICAgICAgICAgICBzdGFydE9mZnNldDogc3RhcnRPZmZzZXQsXG4gICAgICAgICAgICBlbmRPZmZzZXQ6IHN0YXJ0T2Zmc2V0ICsgaW1hZ2VMZW5ndGggLSAxLFxuICAgICAgICAgICAgc3RhcnRMaW5lOiBzdGFydExpbmUsXG4gICAgICAgICAgICBlbmRMaW5lOiBzdGFydExpbmUsXG4gICAgICAgICAgICBzdGFydENvbHVtbjogc3RhcnRDb2x1bW4sXG4gICAgICAgICAgICBlbmRDb2x1bW46IHN0YXJ0Q29sdW1uICsgaW1hZ2VMZW5ndGggLSAxLFxuICAgICAgICAgICAgdG9rZW5UeXBlSWR4OiB0b2tlblR5cGVJZHgsXG4gICAgICAgICAgICB0b2tlblR5cGU6IHRva2VuVHlwZVxuICAgICAgICB9O1xuICAgIH07XG4gICAgLy8gUGxhY2UgaG9sZGVyLCB3aWxsIGJlIHJlcGxhY2VkIGJ5IHRoZSBjb3JyZWN0IHZhcmlhbnQgYWNjb3JkaW5nIHRvIHRoZSBsb2NhdGlvblRyYWNraW5nIG9wdGlvbiBhdCBydW50aW1lLlxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0IC0gcGxhY2UgaG9sZGVyICovXG4gICAgTGV4ZXIucHJvdG90eXBlLmFkZFRva2VuID0gZnVuY3Rpb24gKHRva2VuVmVjdG9yLCBpbmRleCwgdG9rZW5Ub0FkZCkge1xuICAgICAgICByZXR1cm4gNjY2O1xuICAgIH07XG4gICAgTGV4ZXIucHJvdG90eXBlLmFkZFRva2VuVXNpbmdQdXNoID0gZnVuY3Rpb24gKHRva2VuVmVjdG9yLCBpbmRleCwgdG9rZW5Ub0FkZCkge1xuICAgICAgICB0b2tlblZlY3Rvci5wdXNoKHRva2VuVG9BZGQpO1xuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgfTtcbiAgICBMZXhlci5wcm90b3R5cGUuYWRkVG9rZW5Vc2luZ01lbWJlckFjY2VzcyA9IGZ1bmN0aW9uICh0b2tlblZlY3RvciwgaW5kZXgsIHRva2VuVG9BZGQpIHtcbiAgICAgICAgdG9rZW5WZWN0b3JbaW5kZXhdID0gdG9rZW5Ub0FkZDtcbiAgICAgICAgaW5kZXgrKztcbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH07XG4gICAgLy8gUGxhY2UgaG9sZGVyLCB3aWxsIGJlIHJlcGxhY2VkIGJ5IHRoZSBjb3JyZWN0IHZhcmlhbnQgYWNjb3JkaW5nIHRvIHRoZSBoYXNDdXN0b20gZmxhZyBvcHRpb24gYXQgcnVudGltZS5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAtIHBsYWNlIGhvbGRlciAqL1xuICAgIExleGVyLnByb3RvdHlwZS5oYW5kbGVQYXlsb2FkID0gZnVuY3Rpb24gKHRva2VuLCBwYXlsb2FkKSB7IH07XG4gICAgTGV4ZXIucHJvdG90eXBlLmhhbmRsZVBheWxvYWROb0N1c3RvbSA9IGZ1bmN0aW9uICh0b2tlbiwgcGF5bG9hZCkgeyB9O1xuICAgIExleGVyLnByb3RvdHlwZS5oYW5kbGVQYXlsb2FkV2l0aEN1c3RvbSA9IGZ1bmN0aW9uICh0b2tlbiwgcGF5bG9hZCkge1xuICAgICAgICBpZiAocGF5bG9hZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdG9rZW4ucGF5bG9hZCA9IHBheWxvYWQ7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0IC0gcGxhY2UgaG9sZGVyIHRvIGJlIHJlcGxhY2VkIHdpdGggY2hvc2VuIGFsdGVybmF0aXZlIGF0IHJ1bnRpbWUgKi9cbiAgICBMZXhlci5wcm90b3R5cGUubWF0Y2ggPSBmdW5jdGlvbiAocGF0dGVybiwgdGV4dCwgb2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgTGV4ZXIucHJvdG90eXBlLm1hdGNoV2l0aFRlc3QgPSBmdW5jdGlvbiAocGF0dGVybiwgdGV4dCwgb2Zmc2V0KSB7XG4gICAgICAgIHZhciBmb3VuZCA9IHBhdHRlcm4udGVzdCh0ZXh0KTtcbiAgICAgICAgaWYgKGZvdW5kID09PSB0cnVlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGV4dC5zdWJzdHJpbmcob2Zmc2V0LCBwYXR0ZXJuLmxhc3RJbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBMZXhlci5wcm90b3R5cGUubWF0Y2hXaXRoRXhlYyA9IGZ1bmN0aW9uIChwYXR0ZXJuLCB0ZXh0KSB7XG4gICAgICAgIHZhciByZWdFeHBBcnJheSA9IHBhdHRlcm4uZXhlYyh0ZXh0KTtcbiAgICAgICAgcmV0dXJuIHJlZ0V4cEFycmF5ICE9PSBudWxsID8gcmVnRXhwQXJyYXlbMF0gOiByZWdFeHBBcnJheTtcbiAgICB9O1xuICAgIC8vIER1cGxpY2F0ZWQgZnJvbSB0aGUgcGFyc2VyJ3MgcGVyZiB0cmFjZSB0cmFpdCB0byBhbGxvdyBmdXR1cmUgZXh0cmFjdGlvblxuICAgIC8vIG9mIHRoZSBsZXhlciB0byBhIHNlcGFyYXRlIHBhY2thZ2UuXG4gICAgTGV4ZXIucHJvdG90eXBlLlRSQUNFX0lOSVQgPSBmdW5jdGlvbiAocGhhc2VEZXNjLCBwaGFzZUltcGwpIHtcbiAgICAgICAgLy8gTm8gbmVlZCB0byBvcHRpbWl6ZSB0aGlzIHVzaW5nIE5PT1AgcGF0dGVybiBiZWNhdXNlXG4gICAgICAgIC8vIEl0IGlzIG5vdCBjYWxsZWQgaW4gYSBob3Qgc3BvdC4uLlxuICAgICAgICBpZiAodGhpcy50cmFjZUluaXRQZXJmID09PSB0cnVlKSB7XG4gICAgICAgICAgICB0aGlzLnRyYWNlSW5pdEluZGVudCsrO1xuICAgICAgICAgICAgdmFyIGluZGVudCA9IG5ldyBBcnJheSh0aGlzLnRyYWNlSW5pdEluZGVudCArIDEpLmpvaW4oXCJcXHRcIik7XG4gICAgICAgICAgICBpZiAodGhpcy50cmFjZUluaXRJbmRlbnQgPCB0aGlzLnRyYWNlSW5pdE1heElkZW50KSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coaW5kZW50ICsgXCItLT4gPFwiICsgcGhhc2VEZXNjICsgXCI+XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIF9hID0gdGltZXIocGhhc2VJbXBsKSwgdGltZSA9IF9hLnRpbWUsIHZhbHVlID0gX2EudmFsdWU7XG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAtIERpZmZpY3VsdCB0byByZXByb2R1Y2Ugc3BlY2lmaWMgcGVyZm9ybWFuY2UgYmVoYXZpb3IgKD4xMG1zKSBpbiB0ZXN0cyAqL1xuICAgICAgICAgICAgdmFyIHRyYWNlTWV0aG9kID0gdGltZSA+IDEwID8gY29uc29sZS53YXJuIDogY29uc29sZS5sb2c7XG4gICAgICAgICAgICBpZiAodGhpcy50cmFjZUluaXRJbmRlbnQgPCB0aGlzLnRyYWNlSW5pdE1heElkZW50KSB7XG4gICAgICAgICAgICAgICAgdHJhY2VNZXRob2QoaW5kZW50ICsgXCI8LS0gPFwiICsgcGhhc2VEZXNjICsgXCI+IHRpbWU6IFwiICsgdGltZSArIFwibXNcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnRyYWNlSW5pdEluZGVudC0tO1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHBoYXNlSW1wbCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBMZXhlci5TS0lQUEVEID0gXCJUaGlzIG1hcmtzIGEgc2tpcHBlZCBUb2tlbiBwYXR0ZXJuLCB0aGlzIG1lYW5zIGVhY2ggdG9rZW4gaWRlbnRpZmllZCBieSBpdCB3aWxsXCIgK1xuICAgICAgICBcImJlIGNvbnN1bWVkIGFuZCB0aGVuIHRocm93biBpbnRvIG9ibGl2aW9uLCB0aGlzIGNhbiBiZSB1c2VkIHRvIGZvciBleGFtcGxlIHRvIGNvbXBsZXRlbHkgaWdub3JlIHdoaXRlc3BhY2UuXCI7XG4gICAgTGV4ZXIuTkEgPSAvTk9UX0FQUExJQ0FCTEUvO1xuICAgIHJldHVybiBMZXhlcjtcbn0oKSk7XG5leHBvcnQgeyBMZXhlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGV4ZXJfcHVibGljLmpzLm1hcCIsImltcG9ydCB7IGhhcywgaXNTdHJpbmcsIGlzVW5kZWZpbmVkIH0gZnJvbSBcIi4uL3V0aWxzL3V0aWxzXCI7XG5pbXBvcnQgeyBMZXhlciB9IGZyb20gXCIuL2xleGVyX3B1YmxpY1wiO1xuaW1wb3J0IHsgYXVnbWVudFRva2VuVHlwZXMsIHRva2VuU3RydWN0dXJlZE1hdGNoZXIgfSBmcm9tIFwiLi90b2tlbnNcIjtcbmV4cG9ydCBmdW5jdGlvbiB0b2tlbkxhYmVsKHRva1R5cGUpIHtcbiAgICBpZiAoaGFzVG9rZW5MYWJlbCh0b2tUeXBlKSkge1xuICAgICAgICByZXR1cm4gdG9rVHlwZS5MQUJFTDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB0b2tUeXBlLm5hbWU7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIHRva2VuTmFtZSh0b2tUeXBlKSB7XG4gICAgcmV0dXJuIHRva1R5cGUubmFtZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBoYXNUb2tlbkxhYmVsKG9iaikge1xuICAgIHJldHVybiBpc1N0cmluZyhvYmouTEFCRUwpICYmIG9iai5MQUJFTCAhPT0gXCJcIjtcbn1cbnZhciBQQVJFTlQgPSBcInBhcmVudFwiO1xudmFyIENBVEVHT1JJRVMgPSBcImNhdGVnb3JpZXNcIjtcbnZhciBMQUJFTCA9IFwibGFiZWxcIjtcbnZhciBHUk9VUCA9IFwiZ3JvdXBcIjtcbnZhciBQVVNIX01PREUgPSBcInB1c2hfbW9kZVwiO1xudmFyIFBPUF9NT0RFID0gXCJwb3BfbW9kZVwiO1xudmFyIExPTkdFUl9BTFQgPSBcImxvbmdlcl9hbHRcIjtcbnZhciBMSU5FX0JSRUFLUyA9IFwibGluZV9icmVha3NcIjtcbnZhciBTVEFSVF9DSEFSU19ISU5UID0gXCJzdGFydF9jaGFyc19oaW50XCI7XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVG9rZW4oY29uZmlnKSB7XG4gICAgcmV0dXJuIGNyZWF0ZVRva2VuSW50ZXJuYWwoY29uZmlnKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVRva2VuSW50ZXJuYWwoY29uZmlnKSB7XG4gICAgdmFyIHBhdHRlcm4gPSBjb25maWcucGF0dGVybjtcbiAgICB2YXIgdG9rZW5UeXBlID0ge307XG4gICAgdG9rZW5UeXBlLm5hbWUgPSBjb25maWcubmFtZTtcbiAgICBpZiAoIWlzVW5kZWZpbmVkKHBhdHRlcm4pKSB7XG4gICAgICAgIHRva2VuVHlwZS5QQVRURVJOID0gcGF0dGVybjtcbiAgICB9XG4gICAgaWYgKGhhcyhjb25maWcsIFBBUkVOVCkpIHtcbiAgICAgICAgdGhyb3cgKFwiVGhlIHBhcmVudCBwcm9wZXJ0eSBpcyBubyBsb25nZXIgc3VwcG9ydGVkLlxcblwiICtcbiAgICAgICAgICAgIFwiU2VlOiBodHRwczovL2dpdGh1Yi5jb20vU0FQL2NoZXZyb3RhaW4vaXNzdWVzLzU2NCNpc3N1ZWNvbW1lbnQtMzQ5MDYyMzQ2IGZvciBkZXRhaWxzLlwiKTtcbiAgICB9XG4gICAgaWYgKGhhcyhjb25maWcsIENBVEVHT1JJRVMpKSB7XG4gICAgICAgIC8vIGNhc3RpbmcgdG8gQU5ZIGFzIHRoaXMgd2lsbCBiZSBmaXhlZCBpbnNpZGUgYGF1Z21lbnRUb2tlblR5cGVzYGBcbiAgICAgICAgdG9rZW5UeXBlLkNBVEVHT1JJRVMgPSBjb25maWdbQ0FURUdPUklFU107XG4gICAgfVxuICAgIGF1Z21lbnRUb2tlblR5cGVzKFt0b2tlblR5cGVdKTtcbiAgICBpZiAoaGFzKGNvbmZpZywgTEFCRUwpKSB7XG4gICAgICAgIHRva2VuVHlwZS5MQUJFTCA9IGNvbmZpZ1tMQUJFTF07XG4gICAgfVxuICAgIGlmIChoYXMoY29uZmlnLCBHUk9VUCkpIHtcbiAgICAgICAgdG9rZW5UeXBlLkdST1VQID0gY29uZmlnW0dST1VQXTtcbiAgICB9XG4gICAgaWYgKGhhcyhjb25maWcsIFBPUF9NT0RFKSkge1xuICAgICAgICB0b2tlblR5cGUuUE9QX01PREUgPSBjb25maWdbUE9QX01PREVdO1xuICAgIH1cbiAgICBpZiAoaGFzKGNvbmZpZywgUFVTSF9NT0RFKSkge1xuICAgICAgICB0b2tlblR5cGUuUFVTSF9NT0RFID0gY29uZmlnW1BVU0hfTU9ERV07XG4gICAgfVxuICAgIGlmIChoYXMoY29uZmlnLCBMT05HRVJfQUxUKSkge1xuICAgICAgICB0b2tlblR5cGUuTE9OR0VSX0FMVCA9IGNvbmZpZ1tMT05HRVJfQUxUXTtcbiAgICB9XG4gICAgaWYgKGhhcyhjb25maWcsIExJTkVfQlJFQUtTKSkge1xuICAgICAgICB0b2tlblR5cGUuTElORV9CUkVBS1MgPSBjb25maWdbTElORV9CUkVBS1NdO1xuICAgIH1cbiAgICBpZiAoaGFzKGNvbmZpZywgU1RBUlRfQ0hBUlNfSElOVCkpIHtcbiAgICAgICAgdG9rZW5UeXBlLlNUQVJUX0NIQVJTX0hJTlQgPSBjb25maWdbU1RBUlRfQ0hBUlNfSElOVF07XG4gICAgfVxuICAgIHJldHVybiB0b2tlblR5cGU7XG59XG5leHBvcnQgdmFyIEVPRiA9IGNyZWF0ZVRva2VuKHsgbmFtZTogXCJFT0ZcIiwgcGF0dGVybjogTGV4ZXIuTkEgfSk7XG5hdWdtZW50VG9rZW5UeXBlcyhbRU9GXSk7XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVG9rZW5JbnN0YW5jZSh0b2tUeXBlLCBpbWFnZSwgc3RhcnRPZmZzZXQsIGVuZE9mZnNldCwgc3RhcnRMaW5lLCBlbmRMaW5lLCBzdGFydENvbHVtbiwgZW5kQ29sdW1uKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaW1hZ2U6IGltYWdlLFxuICAgICAgICBzdGFydE9mZnNldDogc3RhcnRPZmZzZXQsXG4gICAgICAgIGVuZE9mZnNldDogZW5kT2Zmc2V0LFxuICAgICAgICBzdGFydExpbmU6IHN0YXJ0TGluZSxcbiAgICAgICAgZW5kTGluZTogZW5kTGluZSxcbiAgICAgICAgc3RhcnRDb2x1bW46IHN0YXJ0Q29sdW1uLFxuICAgICAgICBlbmRDb2x1bW46IGVuZENvbHVtbixcbiAgICAgICAgdG9rZW5UeXBlSWR4OiB0b2tUeXBlLnRva2VuVHlwZUlkeCxcbiAgICAgICAgdG9rZW5UeXBlOiB0b2tUeXBlXG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB0b2tlbk1hdGNoZXIodG9rZW4sIHRva1R5cGUpIHtcbiAgICByZXR1cm4gdG9rZW5TdHJ1Y3R1cmVkTWF0Y2hlcih0b2tlbiwgdG9rVHlwZSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10b2tlbnNfcHVibGljLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0IHsgYXNzaWduLCBmb3JFYWNoLCBpc1JlZ0V4cCwgbWFwLCBwaWNrIH0gZnJvbSBcIi4uLy4uLy4uL3V0aWxzL3V0aWxzXCI7XG5pbXBvcnQgeyB0b2tlbkxhYmVsIH0gZnJvbSBcIi4uLy4uLy4uL3NjYW4vdG9rZW5zX3B1YmxpY1wiO1xudmFyIEFic3RyYWN0UHJvZHVjdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBBYnN0cmFjdFByb2R1Y3Rpb24oZGVmaW5pdGlvbikge1xuICAgICAgICB0aGlzLmRlZmluaXRpb24gPSBkZWZpbml0aW9uO1xuICAgIH1cbiAgICBBYnN0cmFjdFByb2R1Y3Rpb24ucHJvdG90eXBlLmFjY2VwdCA9IGZ1bmN0aW9uICh2aXNpdG9yKSB7XG4gICAgICAgIHZpc2l0b3IudmlzaXQodGhpcyk7XG4gICAgICAgIGZvckVhY2godGhpcy5kZWZpbml0aW9uLCBmdW5jdGlvbiAocHJvZCkge1xuICAgICAgICAgICAgcHJvZC5hY2NlcHQodmlzaXRvcik7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIEFic3RyYWN0UHJvZHVjdGlvbjtcbn0oKSk7XG5leHBvcnQgeyBBYnN0cmFjdFByb2R1Y3Rpb24gfTtcbnZhciBOb25UZXJtaW5hbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTm9uVGVybWluYWwsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gTm9uVGVybWluYWwob3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBbXSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuaWR4ID0gMTtcbiAgICAgICAgYXNzaWduKF90aGlzLCBwaWNrKG9wdGlvbnMsIGZ1bmN0aW9uICh2KSB7IHJldHVybiB2ICE9PSB1bmRlZmluZWQ7IH0pKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTm9uVGVybWluYWwucHJvdG90eXBlLCBcImRlZmluaXRpb25cIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnJlZmVyZW5jZWRSdWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZWZlcmVuY2VkUnVsZS5kZWZpbml0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChkZWZpbml0aW9uKSB7XG4gICAgICAgICAgICAvLyBpbW11dGFibGVcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgTm9uVGVybWluYWwucHJvdG90eXBlLmFjY2VwdCA9IGZ1bmN0aW9uICh2aXNpdG9yKSB7XG4gICAgICAgIHZpc2l0b3IudmlzaXQodGhpcyk7XG4gICAgICAgIC8vIGRvbid0IHZpc2l0IGNoaWxkcmVuIG9mIGEgcmVmZXJlbmNlLCB3ZSB3aWxsIGdldCBjeWNsaWMgaW5maW5pdGUgbG9vcHMgaWYgd2UgZG8gc29cbiAgICB9O1xuICAgIHJldHVybiBOb25UZXJtaW5hbDtcbn0oQWJzdHJhY3RQcm9kdWN0aW9uKSk7XG5leHBvcnQgeyBOb25UZXJtaW5hbCB9O1xudmFyIFJ1bGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFJ1bGUsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUnVsZShvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG9wdGlvbnMuZGVmaW5pdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMub3JnVGV4dCA9IFwiXCI7XG4gICAgICAgIGFzc2lnbihfdGhpcywgcGljayhvcHRpb25zLCBmdW5jdGlvbiAodikgeyByZXR1cm4gdiAhPT0gdW5kZWZpbmVkOyB9KSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIFJ1bGU7XG59KEFic3RyYWN0UHJvZHVjdGlvbikpO1xuZXhwb3J0IHsgUnVsZSB9O1xudmFyIEFsdGVybmF0aXZlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhBbHRlcm5hdGl2ZSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBbHRlcm5hdGl2ZShvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG9wdGlvbnMuZGVmaW5pdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuaWdub3JlQW1iaWd1aXRpZXMgPSBmYWxzZTtcbiAgICAgICAgYXNzaWduKF90aGlzLCBwaWNrKG9wdGlvbnMsIGZ1bmN0aW9uICh2KSB7IHJldHVybiB2ICE9PSB1bmRlZmluZWQ7IH0pKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gQWx0ZXJuYXRpdmU7XG59KEFic3RyYWN0UHJvZHVjdGlvbikpO1xuZXhwb3J0IHsgQWx0ZXJuYXRpdmUgfTtcbnZhciBPcHRpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE9wdGlvbiwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBPcHRpb24ob3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBvcHRpb25zLmRlZmluaXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmlkeCA9IDE7XG4gICAgICAgIGFzc2lnbihfdGhpcywgcGljayhvcHRpb25zLCBmdW5jdGlvbiAodikgeyByZXR1cm4gdiAhPT0gdW5kZWZpbmVkOyB9KSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIE9wdGlvbjtcbn0oQWJzdHJhY3RQcm9kdWN0aW9uKSk7XG5leHBvcnQgeyBPcHRpb24gfTtcbnZhciBSZXBldGl0aW9uTWFuZGF0b3J5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhSZXBldGl0aW9uTWFuZGF0b3J5LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFJlcGV0aXRpb25NYW5kYXRvcnkob3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBvcHRpb25zLmRlZmluaXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmlkeCA9IDE7XG4gICAgICAgIGFzc2lnbihfdGhpcywgcGljayhvcHRpb25zLCBmdW5jdGlvbiAodikgeyByZXR1cm4gdiAhPT0gdW5kZWZpbmVkOyB9KSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIFJlcGV0aXRpb25NYW5kYXRvcnk7XG59KEFic3RyYWN0UHJvZHVjdGlvbikpO1xuZXhwb3J0IHsgUmVwZXRpdGlvbk1hbmRhdG9yeSB9O1xudmFyIFJlcGV0aXRpb25NYW5kYXRvcnlXaXRoU2VwYXJhdG9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhSZXBldGl0aW9uTWFuZGF0b3J5V2l0aFNlcGFyYXRvciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBSZXBldGl0aW9uTWFuZGF0b3J5V2l0aFNlcGFyYXRvcihvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG9wdGlvbnMuZGVmaW5pdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuaWR4ID0gMTtcbiAgICAgICAgYXNzaWduKF90aGlzLCBwaWNrKG9wdGlvbnMsIGZ1bmN0aW9uICh2KSB7IHJldHVybiB2ICE9PSB1bmRlZmluZWQ7IH0pKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gUmVwZXRpdGlvbk1hbmRhdG9yeVdpdGhTZXBhcmF0b3I7XG59KEFic3RyYWN0UHJvZHVjdGlvbikpO1xuZXhwb3J0IHsgUmVwZXRpdGlvbk1hbmRhdG9yeVdpdGhTZXBhcmF0b3IgfTtcbnZhciBSZXBldGl0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhSZXBldGl0aW9uLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFJlcGV0aXRpb24ob3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBvcHRpb25zLmRlZmluaXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmlkeCA9IDE7XG4gICAgICAgIGFzc2lnbihfdGhpcywgcGljayhvcHRpb25zLCBmdW5jdGlvbiAodikgeyByZXR1cm4gdiAhPT0gdW5kZWZpbmVkOyB9KSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIFJlcGV0aXRpb247XG59KEFic3RyYWN0UHJvZHVjdGlvbikpO1xuZXhwb3J0IHsgUmVwZXRpdGlvbiB9O1xudmFyIFJlcGV0aXRpb25XaXRoU2VwYXJhdG9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhSZXBldGl0aW9uV2l0aFNlcGFyYXRvciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBSZXBldGl0aW9uV2l0aFNlcGFyYXRvcihvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG9wdGlvbnMuZGVmaW5pdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuaWR4ID0gMTtcbiAgICAgICAgYXNzaWduKF90aGlzLCBwaWNrKG9wdGlvbnMsIGZ1bmN0aW9uICh2KSB7IHJldHVybiB2ICE9PSB1bmRlZmluZWQ7IH0pKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gUmVwZXRpdGlvbldpdGhTZXBhcmF0b3I7XG59KEFic3RyYWN0UHJvZHVjdGlvbikpO1xuZXhwb3J0IHsgUmVwZXRpdGlvbldpdGhTZXBhcmF0b3IgfTtcbnZhciBBbHRlcm5hdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQWx0ZXJuYXRpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQWx0ZXJuYXRpb24ob3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBvcHRpb25zLmRlZmluaXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmlkeCA9IDE7XG4gICAgICAgIF90aGlzLmlnbm9yZUFtYmlndWl0aWVzID0gZmFsc2U7XG4gICAgICAgIF90aGlzLmhhc1ByZWRpY2F0ZXMgPSBmYWxzZTtcbiAgICAgICAgYXNzaWduKF90aGlzLCBwaWNrKG9wdGlvbnMsIGZ1bmN0aW9uICh2KSB7IHJldHVybiB2ICE9PSB1bmRlZmluZWQ7IH0pKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gQWx0ZXJuYXRpb247XG59KEFic3RyYWN0UHJvZHVjdGlvbikpO1xuZXhwb3J0IHsgQWx0ZXJuYXRpb24gfTtcbnZhciBUZXJtaW5hbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUZXJtaW5hbChvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuaWR4ID0gMTtcbiAgICAgICAgYXNzaWduKHRoaXMsIHBpY2sob3B0aW9ucywgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHYgIT09IHVuZGVmaW5lZDsgfSkpO1xuICAgIH1cbiAgICBUZXJtaW5hbC5wcm90b3R5cGUuYWNjZXB0ID0gZnVuY3Rpb24gKHZpc2l0b3IpIHtcbiAgICAgICAgdmlzaXRvci52aXNpdCh0aGlzKTtcbiAgICB9O1xuICAgIHJldHVybiBUZXJtaW5hbDtcbn0oKSk7XG5leHBvcnQgeyBUZXJtaW5hbCB9O1xuZXhwb3J0IGZ1bmN0aW9uIHNlcmlhbGl6ZUdyYW1tYXIodG9wUnVsZXMpIHtcbiAgICByZXR1cm4gbWFwKHRvcFJ1bGVzLCBzZXJpYWxpemVQcm9kdWN0aW9uKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzZXJpYWxpemVQcm9kdWN0aW9uKG5vZGUpIHtcbiAgICBmdW5jdGlvbiBjb252ZXJ0RGVmaW5pdGlvbihkZWZpbml0aW9uKSB7XG4gICAgICAgIHJldHVybiBtYXAoZGVmaW5pdGlvbiwgc2VyaWFsaXplUHJvZHVjdGlvbik7XG4gICAgfVxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBOb25UZXJtaW5hbCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogXCJOb25UZXJtaW5hbFwiLFxuICAgICAgICAgICAgbmFtZTogbm9kZS5ub25UZXJtaW5hbE5hbWUsXG4gICAgICAgICAgICBpZHg6IG5vZGUuaWR4XG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKG5vZGUgaW5zdGFuY2VvZiBBbHRlcm5hdGl2ZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogXCJBbHRlcm5hdGl2ZVwiLFxuICAgICAgICAgICAgZGVmaW5pdGlvbjogY29udmVydERlZmluaXRpb24obm9kZS5kZWZpbml0aW9uKVxuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChub2RlIGluc3RhbmNlb2YgT3B0aW9uKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiBcIk9wdGlvblwiLFxuICAgICAgICAgICAgaWR4OiBub2RlLmlkeCxcbiAgICAgICAgICAgIGRlZmluaXRpb246IGNvbnZlcnREZWZpbml0aW9uKG5vZGUuZGVmaW5pdGlvbilcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAobm9kZSBpbnN0YW5jZW9mIFJlcGV0aXRpb25NYW5kYXRvcnkpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IFwiUmVwZXRpdGlvbk1hbmRhdG9yeVwiLFxuICAgICAgICAgICAgaWR4OiBub2RlLmlkeCxcbiAgICAgICAgICAgIGRlZmluaXRpb246IGNvbnZlcnREZWZpbml0aW9uKG5vZGUuZGVmaW5pdGlvbilcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAobm9kZSBpbnN0YW5jZW9mIFJlcGV0aXRpb25NYW5kYXRvcnlXaXRoU2VwYXJhdG9yKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiBcIlJlcGV0aXRpb25NYW5kYXRvcnlXaXRoU2VwYXJhdG9yXCIsXG4gICAgICAgICAgICBpZHg6IG5vZGUuaWR4LFxuICAgICAgICAgICAgc2VwYXJhdG9yOiAoc2VyaWFsaXplUHJvZHVjdGlvbihuZXcgVGVybWluYWwoeyB0ZXJtaW5hbFR5cGU6IG5vZGUuc2VwYXJhdG9yIH0pKSksXG4gICAgICAgICAgICBkZWZpbml0aW9uOiBjb252ZXJ0RGVmaW5pdGlvbihub2RlLmRlZmluaXRpb24pXG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKG5vZGUgaW5zdGFuY2VvZiBSZXBldGl0aW9uV2l0aFNlcGFyYXRvcikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogXCJSZXBldGl0aW9uV2l0aFNlcGFyYXRvclwiLFxuICAgICAgICAgICAgaWR4OiBub2RlLmlkeCxcbiAgICAgICAgICAgIHNlcGFyYXRvcjogKHNlcmlhbGl6ZVByb2R1Y3Rpb24obmV3IFRlcm1pbmFsKHsgdGVybWluYWxUeXBlOiBub2RlLnNlcGFyYXRvciB9KSkpLFxuICAgICAgICAgICAgZGVmaW5pdGlvbjogY29udmVydERlZmluaXRpb24obm9kZS5kZWZpbml0aW9uKVxuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChub2RlIGluc3RhbmNlb2YgUmVwZXRpdGlvbikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogXCJSZXBldGl0aW9uXCIsXG4gICAgICAgICAgICBpZHg6IG5vZGUuaWR4LFxuICAgICAgICAgICAgZGVmaW5pdGlvbjogY29udmVydERlZmluaXRpb24obm9kZS5kZWZpbml0aW9uKVxuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChub2RlIGluc3RhbmNlb2YgQWx0ZXJuYXRpb24pIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IFwiQWx0ZXJuYXRpb25cIixcbiAgICAgICAgICAgIGlkeDogbm9kZS5pZHgsXG4gICAgICAgICAgICBkZWZpbml0aW9uOiBjb252ZXJ0RGVmaW5pdGlvbihub2RlLmRlZmluaXRpb24pXG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKG5vZGUgaW5zdGFuY2VvZiBUZXJtaW5hbCkge1xuICAgICAgICB2YXIgc2VyaWFsaXplZFRlcm1pbmFsID0ge1xuICAgICAgICAgICAgdHlwZTogXCJUZXJtaW5hbFwiLFxuICAgICAgICAgICAgbmFtZTogbm9kZS50ZXJtaW5hbFR5cGUubmFtZSxcbiAgICAgICAgICAgIGxhYmVsOiB0b2tlbkxhYmVsKG5vZGUudGVybWluYWxUeXBlKSxcbiAgICAgICAgICAgIGlkeDogbm9kZS5pZHhcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHBhdHRlcm4gPSBub2RlLnRlcm1pbmFsVHlwZS5QQVRURVJOO1xuICAgICAgICBpZiAobm9kZS50ZXJtaW5hbFR5cGUuUEFUVEVSTikge1xuICAgICAgICAgICAgc2VyaWFsaXplZFRlcm1pbmFsLnBhdHRlcm4gPSBpc1JlZ0V4cChwYXR0ZXJuKVxuICAgICAgICAgICAgICAgID8gcGF0dGVybi5zb3VyY2VcbiAgICAgICAgICAgICAgICA6IHBhdHRlcm47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNlcmlhbGl6ZWRUZXJtaW5hbDtcbiAgICB9XG4gICAgZWxzZSBpZiAobm9kZSBpbnN0YW5jZW9mIFJ1bGUpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IFwiUnVsZVwiLFxuICAgICAgICAgICAgbmFtZTogbm9kZS5uYW1lLFxuICAgICAgICAgICAgb3JnVGV4dDogbm9kZS5vcmdUZXh0LFxuICAgICAgICAgICAgZGVmaW5pdGlvbjogY29udmVydERlZmluaXRpb24obm9kZS5kZWZpbml0aW9uKVxuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJub24gZXhoYXVzdGl2ZSBtYXRjaFwiKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nYXN0X3B1YmxpYy5qcy5tYXAiLCJpbXBvcnQgeyBkcm9wLCBmb3JFYWNoIH0gZnJvbSBcIi4uLy4uL3V0aWxzL3V0aWxzXCI7XG5pbXBvcnQgeyBBbHRlcm5hdGlvbiwgQWx0ZXJuYXRpdmUsIE5vblRlcm1pbmFsLCBPcHRpb24sIFJlcGV0aXRpb24sIFJlcGV0aXRpb25NYW5kYXRvcnksIFJlcGV0aXRpb25NYW5kYXRvcnlXaXRoU2VwYXJhdG9yLCBSZXBldGl0aW9uV2l0aFNlcGFyYXRvciwgVGVybWluYWwgfSBmcm9tIFwiLi9nYXN0L2dhc3RfcHVibGljXCI7XG4vKipcbiAqICBBIEdyYW1tYXIgV2Fsa2VyIHRoYXQgY29tcHV0ZXMgdGhlIFwicmVtYWluaW5nXCIgZ3JhbW1hciBcImFmdGVyXCIgYSBwcm9kdWN0aW9ucyBpbiB0aGUgZ3JhbW1hci5cbiAqL1xudmFyIFJlc3RXYWxrZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVzdFdhbGtlcigpIHtcbiAgICB9XG4gICAgUmVzdFdhbGtlci5wcm90b3R5cGUud2FsayA9IGZ1bmN0aW9uIChwcm9kLCBwcmV2UmVzdCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAocHJldlJlc3QgPT09IHZvaWQgMCkgeyBwcmV2UmVzdCA9IFtdOyB9XG4gICAgICAgIGZvckVhY2gocHJvZC5kZWZpbml0aW9uLCBmdW5jdGlvbiAoc3ViUHJvZCwgaW5kZXgpIHtcbiAgICAgICAgICAgIHZhciBjdXJyUmVzdCA9IGRyb3AocHJvZC5kZWZpbml0aW9uLCBpbmRleCArIDEpO1xuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgICAgIGlmIChzdWJQcm9kIGluc3RhbmNlb2YgTm9uVGVybWluYWwpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy53YWxrUHJvZFJlZihzdWJQcm9kLCBjdXJyUmVzdCwgcHJldlJlc3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc3ViUHJvZCBpbnN0YW5jZW9mIFRlcm1pbmFsKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMud2Fsa1Rlcm1pbmFsKHN1YlByb2QsIGN1cnJSZXN0LCBwcmV2UmVzdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChzdWJQcm9kIGluc3RhbmNlb2YgQWx0ZXJuYXRpdmUpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy53YWxrRmxhdChzdWJQcm9kLCBjdXJyUmVzdCwgcHJldlJlc3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc3ViUHJvZCBpbnN0YW5jZW9mIE9wdGlvbikge1xuICAgICAgICAgICAgICAgIF90aGlzLndhbGtPcHRpb24oc3ViUHJvZCwgY3VyclJlc3QsIHByZXZSZXN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHN1YlByb2QgaW5zdGFuY2VvZiBSZXBldGl0aW9uTWFuZGF0b3J5KSB7XG4gICAgICAgICAgICAgICAgX3RoaXMud2Fsa0F0TGVhc3RPbmUoc3ViUHJvZCwgY3VyclJlc3QsIHByZXZSZXN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHN1YlByb2QgaW5zdGFuY2VvZiBSZXBldGl0aW9uTWFuZGF0b3J5V2l0aFNlcGFyYXRvcikge1xuICAgICAgICAgICAgICAgIF90aGlzLndhbGtBdExlYXN0T25lU2VwKHN1YlByb2QsIGN1cnJSZXN0LCBwcmV2UmVzdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChzdWJQcm9kIGluc3RhbmNlb2YgUmVwZXRpdGlvbldpdGhTZXBhcmF0b3IpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy53YWxrTWFueVNlcChzdWJQcm9kLCBjdXJyUmVzdCwgcHJldlJlc3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc3ViUHJvZCBpbnN0YW5jZW9mIFJlcGV0aXRpb24pIHtcbiAgICAgICAgICAgICAgICBfdGhpcy53YWxrTWFueShzdWJQcm9kLCBjdXJyUmVzdCwgcHJldlJlc3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc3ViUHJvZCBpbnN0YW5jZW9mIEFsdGVybmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMud2Fsa09yKHN1YlByb2QsIGN1cnJSZXN0LCBwcmV2UmVzdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIm5vbiBleGhhdXN0aXZlIG1hdGNoXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFJlc3RXYWxrZXIucHJvdG90eXBlLndhbGtUZXJtaW5hbCA9IGZ1bmN0aW9uICh0ZXJtaW5hbCwgY3VyclJlc3QsIHByZXZSZXN0KSB7IH07XG4gICAgUmVzdFdhbGtlci5wcm90b3R5cGUud2Fsa1Byb2RSZWYgPSBmdW5jdGlvbiAocmVmUHJvZCwgY3VyclJlc3QsIHByZXZSZXN0KSB7IH07XG4gICAgUmVzdFdhbGtlci5wcm90b3R5cGUud2Fsa0ZsYXQgPSBmdW5jdGlvbiAoZmxhdFByb2QsIGN1cnJSZXN0LCBwcmV2UmVzdCkge1xuICAgICAgICAvLyBBQkNERUYgPT4gYWZ0ZXIgdGhlIEQgdGhlIHJlc3QgaXMgRUZcbiAgICAgICAgdmFyIGZ1bGxPclJlc3QgPSBjdXJyUmVzdC5jb25jYXQocHJldlJlc3QpO1xuICAgICAgICB0aGlzLndhbGsoZmxhdFByb2QsIGZ1bGxPclJlc3QpO1xuICAgIH07XG4gICAgUmVzdFdhbGtlci5wcm90b3R5cGUud2Fsa09wdGlvbiA9IGZ1bmN0aW9uIChvcHRpb25Qcm9kLCBjdXJyUmVzdCwgcHJldlJlc3QpIHtcbiAgICAgICAgLy8gQUJDKERFKT9GID0+IGFmdGVyIHRoZSAoREUpPyB0aGUgcmVzdCBpcyBGXG4gICAgICAgIHZhciBmdWxsT3JSZXN0ID0gY3VyclJlc3QuY29uY2F0KHByZXZSZXN0KTtcbiAgICAgICAgdGhpcy53YWxrKG9wdGlvblByb2QsIGZ1bGxPclJlc3QpO1xuICAgIH07XG4gICAgUmVzdFdhbGtlci5wcm90b3R5cGUud2Fsa0F0TGVhc3RPbmUgPSBmdW5jdGlvbiAoYXRMZWFzdE9uZVByb2QsIGN1cnJSZXN0LCBwcmV2UmVzdCkge1xuICAgICAgICAvLyBBQkMoREUpK0YgPT4gYWZ0ZXIgdGhlIChERSkrIHRoZSByZXN0IGlzIChERSk/RlxuICAgICAgICB2YXIgZnVsbEF0TGVhc3RPbmVSZXN0ID0gW1xuICAgICAgICAgICAgbmV3IE9wdGlvbih7IGRlZmluaXRpb246IGF0TGVhc3RPbmVQcm9kLmRlZmluaXRpb24gfSlcbiAgICAgICAgXS5jb25jYXQoY3VyclJlc3QsIHByZXZSZXN0KTtcbiAgICAgICAgdGhpcy53YWxrKGF0TGVhc3RPbmVQcm9kLCBmdWxsQXRMZWFzdE9uZVJlc3QpO1xuICAgIH07XG4gICAgUmVzdFdhbGtlci5wcm90b3R5cGUud2Fsa0F0TGVhc3RPbmVTZXAgPSBmdW5jdGlvbiAoYXRMZWFzdE9uZVNlcFByb2QsIGN1cnJSZXN0LCBwcmV2UmVzdCkge1xuICAgICAgICAvLyBBQkMgREUoLERFKSogRiA9PiBhZnRlciB0aGUgKCxERSkrIHRoZSByZXN0IGlzICgsREUpP0ZcbiAgICAgICAgdmFyIGZ1bGxBdExlYXN0T25lU2VwUmVzdCA9IHJlc3RGb3JSZXBldGl0aW9uV2l0aFNlcGFyYXRvcihhdExlYXN0T25lU2VwUHJvZCwgY3VyclJlc3QsIHByZXZSZXN0KTtcbiAgICAgICAgdGhpcy53YWxrKGF0TGVhc3RPbmVTZXBQcm9kLCBmdWxsQXRMZWFzdE9uZVNlcFJlc3QpO1xuICAgIH07XG4gICAgUmVzdFdhbGtlci5wcm90b3R5cGUud2Fsa01hbnkgPSBmdW5jdGlvbiAobWFueVByb2QsIGN1cnJSZXN0LCBwcmV2UmVzdCkge1xuICAgICAgICAvLyBBQkMoREUpKkYgPT4gYWZ0ZXIgdGhlIChERSkqIHRoZSByZXN0IGlzIChERSk/RlxuICAgICAgICB2YXIgZnVsbE1hbnlSZXN0ID0gW1xuICAgICAgICAgICAgbmV3IE9wdGlvbih7IGRlZmluaXRpb246IG1hbnlQcm9kLmRlZmluaXRpb24gfSlcbiAgICAgICAgXS5jb25jYXQoY3VyclJlc3QsIHByZXZSZXN0KTtcbiAgICAgICAgdGhpcy53YWxrKG1hbnlQcm9kLCBmdWxsTWFueVJlc3QpO1xuICAgIH07XG4gICAgUmVzdFdhbGtlci5wcm90b3R5cGUud2Fsa01hbnlTZXAgPSBmdW5jdGlvbiAobWFueVNlcFByb2QsIGN1cnJSZXN0LCBwcmV2UmVzdCkge1xuICAgICAgICAvLyBBQkMgKERFKCxERSkqKT8gRiA9PiBhZnRlciB0aGUgKCxERSkqIHRoZSByZXN0IGlzICgsREUpP0ZcbiAgICAgICAgdmFyIGZ1bGxNYW55U2VwUmVzdCA9IHJlc3RGb3JSZXBldGl0aW9uV2l0aFNlcGFyYXRvcihtYW55U2VwUHJvZCwgY3VyclJlc3QsIHByZXZSZXN0KTtcbiAgICAgICAgdGhpcy53YWxrKG1hbnlTZXBQcm9kLCBmdWxsTWFueVNlcFJlc3QpO1xuICAgIH07XG4gICAgUmVzdFdhbGtlci5wcm90b3R5cGUud2Fsa09yID0gZnVuY3Rpb24gKG9yUHJvZCwgY3VyclJlc3QsIHByZXZSZXN0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8vIEFCQyhEfEV8RilHID0+IHdoZW4gZmluZGluZyB0aGUgKER8RXxGKSB0aGUgcmVzdCBpcyBHXG4gICAgICAgIHZhciBmdWxsT3JSZXN0ID0gY3VyclJlc3QuY29uY2F0KHByZXZSZXN0KTtcbiAgICAgICAgLy8gd2FsayBhbGwgZGlmZmVyZW50IGFsdGVybmF0aXZlc1xuICAgICAgICBmb3JFYWNoKG9yUHJvZC5kZWZpbml0aW9uLCBmdW5jdGlvbiAoYWx0KSB7XG4gICAgICAgICAgICAvLyB3cmFwcGluZyBlYWNoIGFsdGVybmF0aXZlIGluIGEgc2luZ2xlIGRlZmluaXRpb24gd3JhcHBlclxuICAgICAgICAgICAgLy8gdG8gYXZvaWQgZXJyb3JzIGluIGNvbXB1dGluZyB0aGUgcmVzdCBvZiB0aGF0IGFsdGVybmF0aXZlIGluIHRoZSBpbnZvY2F0aW9uIHRvIGNvbXB1dGVJblByb2RGb2xsb3dzXG4gICAgICAgICAgICAvLyAob3RoZXJ3aXNlIGZvciBPUihbYWx0MSxhbHQyXSkgYWx0MiB3aWxsIGJlIGNvbnNpZGVyZWQgaW4gJ3Jlc3QnIG9mIGFsdDFcbiAgICAgICAgICAgIHZhciBwcm9kV3JhcHBlciA9IG5ldyBBbHRlcm5hdGl2ZSh7IGRlZmluaXRpb246IFthbHRdIH0pO1xuICAgICAgICAgICAgX3RoaXMud2Fsayhwcm9kV3JhcHBlciwgZnVsbE9yUmVzdCk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIFJlc3RXYWxrZXI7XG59KCkpO1xuZXhwb3J0IHsgUmVzdFdhbGtlciB9O1xuZnVuY3Rpb24gcmVzdEZvclJlcGV0aXRpb25XaXRoU2VwYXJhdG9yKHJlcFNlcFByb2QsIGN1cnJSZXN0LCBwcmV2UmVzdCkge1xuICAgIHZhciByZXBTZXBSZXN0ID0gW1xuICAgICAgICBuZXcgT3B0aW9uKHtcbiAgICAgICAgICAgIGRlZmluaXRpb246IFtuZXcgVGVybWluYWwoeyB0ZXJtaW5hbFR5cGU6IHJlcFNlcFByb2Quc2VwYXJhdG9yIH0pXS5jb25jYXQocmVwU2VwUHJvZC5kZWZpbml0aW9uKVxuICAgICAgICB9KVxuICAgIF07XG4gICAgdmFyIGZ1bGxSZXBTZXBSZXN0ID0gcmVwU2VwUmVzdC5jb25jYXQoY3VyclJlc3QsIHByZXZSZXN0KTtcbiAgICByZXR1cm4gZnVsbFJlcFNlcFJlc3Q7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXN0LmpzLm1hcCIsImltcG9ydCB7IEFsdGVybmF0aW9uLCBBbHRlcm5hdGl2ZSwgTm9uVGVybWluYWwsIE9wdGlvbiwgUmVwZXRpdGlvbiwgUmVwZXRpdGlvbk1hbmRhdG9yeSwgUmVwZXRpdGlvbk1hbmRhdG9yeVdpdGhTZXBhcmF0b3IsIFJlcGV0aXRpb25XaXRoU2VwYXJhdG9yLCBSdWxlLCBUZXJtaW5hbCB9IGZyb20gXCIuL2dhc3RfcHVibGljXCI7XG52YXIgR0FzdFZpc2l0b3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gR0FzdFZpc2l0b3IoKSB7XG4gICAgfVxuICAgIEdBc3RWaXNpdG9yLnByb3RvdHlwZS52aXNpdCA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgIHZhciBub2RlQW55ID0gbm9kZTtcbiAgICAgICAgc3dpdGNoIChub2RlQW55LmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICBjYXNlIE5vblRlcm1pbmFsOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnZpc2l0Tm9uVGVybWluYWwobm9kZUFueSk7XG4gICAgICAgICAgICBjYXNlIEFsdGVybmF0aXZlOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnZpc2l0QWx0ZXJuYXRpdmUobm9kZUFueSk7XG4gICAgICAgICAgICBjYXNlIE9wdGlvbjpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy52aXNpdE9wdGlvbihub2RlQW55KTtcbiAgICAgICAgICAgIGNhc2UgUmVwZXRpdGlvbk1hbmRhdG9yeTpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy52aXNpdFJlcGV0aXRpb25NYW5kYXRvcnkobm9kZUFueSk7XG4gICAgICAgICAgICBjYXNlIFJlcGV0aXRpb25NYW5kYXRvcnlXaXRoU2VwYXJhdG9yOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnZpc2l0UmVwZXRpdGlvbk1hbmRhdG9yeVdpdGhTZXBhcmF0b3Iobm9kZUFueSk7XG4gICAgICAgICAgICBjYXNlIFJlcGV0aXRpb25XaXRoU2VwYXJhdG9yOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnZpc2l0UmVwZXRpdGlvbldpdGhTZXBhcmF0b3Iobm9kZUFueSk7XG4gICAgICAgICAgICBjYXNlIFJlcGV0aXRpb246XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlzaXRSZXBldGl0aW9uKG5vZGVBbnkpO1xuICAgICAgICAgICAgY2FzZSBBbHRlcm5hdGlvbjpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy52aXNpdEFsdGVybmF0aW9uKG5vZGVBbnkpO1xuICAgICAgICAgICAgY2FzZSBUZXJtaW5hbDpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy52aXNpdFRlcm1pbmFsKG5vZGVBbnkpO1xuICAgICAgICAgICAgY2FzZSBSdWxlOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnZpc2l0UnVsZShub2RlQW55KTtcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwibm9uIGV4aGF1c3RpdmUgbWF0Y2hcIik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEdBc3RWaXNpdG9yLnByb3RvdHlwZS52aXNpdE5vblRlcm1pbmFsID0gZnVuY3Rpb24gKG5vZGUpIHsgfTtcbiAgICBHQXN0VmlzaXRvci5wcm90b3R5cGUudmlzaXRBbHRlcm5hdGl2ZSA9IGZ1bmN0aW9uIChub2RlKSB7IH07XG4gICAgR0FzdFZpc2l0b3IucHJvdG90eXBlLnZpc2l0T3B0aW9uID0gZnVuY3Rpb24gKG5vZGUpIHsgfTtcbiAgICBHQXN0VmlzaXRvci5wcm90b3R5cGUudmlzaXRSZXBldGl0aW9uID0gZnVuY3Rpb24gKG5vZGUpIHsgfTtcbiAgICBHQXN0VmlzaXRvci5wcm90b3R5cGUudmlzaXRSZXBldGl0aW9uTWFuZGF0b3J5ID0gZnVuY3Rpb24gKG5vZGUpIHsgfTtcbiAgICBHQXN0VmlzaXRvci5wcm90b3R5cGUudmlzaXRSZXBldGl0aW9uTWFuZGF0b3J5V2l0aFNlcGFyYXRvciA9IGZ1bmN0aW9uIChub2RlKSB7IH07XG4gICAgR0FzdFZpc2l0b3IucHJvdG90eXBlLnZpc2l0UmVwZXRpdGlvbldpdGhTZXBhcmF0b3IgPSBmdW5jdGlvbiAobm9kZSkgeyB9O1xuICAgIEdBc3RWaXNpdG9yLnByb3RvdHlwZS52aXNpdEFsdGVybmF0aW9uID0gZnVuY3Rpb24gKG5vZGUpIHsgfTtcbiAgICBHQXN0VmlzaXRvci5wcm90b3R5cGUudmlzaXRUZXJtaW5hbCA9IGZ1bmN0aW9uIChub2RlKSB7IH07XG4gICAgR0FzdFZpc2l0b3IucHJvdG90eXBlLnZpc2l0UnVsZSA9IGZ1bmN0aW9uIChub2RlKSB7IH07XG4gICAgcmV0dXJuIEdBc3RWaXNpdG9yO1xufSgpKTtcbmV4cG9ydCB7IEdBc3RWaXNpdG9yIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nYXN0X3Zpc2l0b3JfcHVibGljLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0IHsgY29udGFpbnMsIGV2ZXJ5LCBoYXMsIHNvbWUgfSBmcm9tIFwiLi4vLi4vLi4vdXRpbHMvdXRpbHNcIjtcbmltcG9ydCB7IEFic3RyYWN0UHJvZHVjdGlvbiwgQWx0ZXJuYXRpb24sIEFsdGVybmF0aXZlLCBOb25UZXJtaW5hbCwgT3B0aW9uLCBSZXBldGl0aW9uLCBSZXBldGl0aW9uTWFuZGF0b3J5LCBSZXBldGl0aW9uTWFuZGF0b3J5V2l0aFNlcGFyYXRvciwgUmVwZXRpdGlvbldpdGhTZXBhcmF0b3IsIFJ1bGUsIFRlcm1pbmFsIH0gZnJvbSBcIi4vZ2FzdF9wdWJsaWNcIjtcbmltcG9ydCB7IEdBc3RWaXNpdG9yIH0gZnJvbSBcIi4vZ2FzdF92aXNpdG9yX3B1YmxpY1wiO1xuZXhwb3J0IGZ1bmN0aW9uIGlzU2VxdWVuY2VQcm9kKHByb2QpIHtcbiAgICByZXR1cm4gKHByb2QgaW5zdGFuY2VvZiBBbHRlcm5hdGl2ZSB8fFxuICAgICAgICBwcm9kIGluc3RhbmNlb2YgT3B0aW9uIHx8XG4gICAgICAgIHByb2QgaW5zdGFuY2VvZiBSZXBldGl0aW9uIHx8XG4gICAgICAgIHByb2QgaW5zdGFuY2VvZiBSZXBldGl0aW9uTWFuZGF0b3J5IHx8XG4gICAgICAgIHByb2QgaW5zdGFuY2VvZiBSZXBldGl0aW9uTWFuZGF0b3J5V2l0aFNlcGFyYXRvciB8fFxuICAgICAgICBwcm9kIGluc3RhbmNlb2YgUmVwZXRpdGlvbldpdGhTZXBhcmF0b3IgfHxcbiAgICAgICAgcHJvZCBpbnN0YW5jZW9mIFRlcm1pbmFsIHx8XG4gICAgICAgIHByb2QgaW5zdGFuY2VvZiBSdWxlKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc09wdGlvbmFsUHJvZChwcm9kLCBhbHJlYWR5VmlzaXRlZCkge1xuICAgIGlmIChhbHJlYWR5VmlzaXRlZCA9PT0gdm9pZCAwKSB7IGFscmVhZHlWaXNpdGVkID0gW107IH1cbiAgICB2YXIgaXNEaXJlY3RseU9wdGlvbmFsID0gcHJvZCBpbnN0YW5jZW9mIE9wdGlvbiB8fFxuICAgICAgICBwcm9kIGluc3RhbmNlb2YgUmVwZXRpdGlvbiB8fFxuICAgICAgICBwcm9kIGluc3RhbmNlb2YgUmVwZXRpdGlvbldpdGhTZXBhcmF0b3I7XG4gICAgaWYgKGlzRGlyZWN0bHlPcHRpb25hbCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLy8gbm90ZSB0aGF0IHRoaXMgY2FuIGNhdXNlIGluZmluaXRlIGxvb3AgaWYgb25lIG9wdGlvbmFsIGVtcHR5IFRPUCBwcm9kdWN0aW9uIGhhcyBhIGN5Y2xpYyBkZXBlbmRlbmN5IHdpdGggYW5vdGhlclxuICAgIC8vIGVtcHR5IG9wdGlvbmFsIHRvcCBydWxlXG4gICAgLy8gbWF5IGJlIGluZGlyZWN0bHkgb3B0aW9uYWwgKChBP0I/Qz8pIHwgKEQ/RT9GPykpXG4gICAgaWYgKHByb2QgaW5zdGFuY2VvZiBBbHRlcm5hdGlvbikge1xuICAgICAgICAvLyBmb3IgT1IgaXRzIGVub3VnaCBmb3IganVzdCBvbmUgb2YgdGhlIGFsdGVybmF0aXZlcyB0byBiZSBvcHRpb25hbFxuICAgICAgICByZXR1cm4gc29tZShwcm9kLmRlZmluaXRpb24sIGZ1bmN0aW9uIChzdWJQcm9kKSB7XG4gICAgICAgICAgICByZXR1cm4gaXNPcHRpb25hbFByb2Qoc3ViUHJvZCwgYWxyZWFkeVZpc2l0ZWQpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSBpZiAocHJvZCBpbnN0YW5jZW9mIE5vblRlcm1pbmFsICYmIGNvbnRhaW5zKGFscmVhZHlWaXNpdGVkLCBwcm9kKSkge1xuICAgICAgICAvLyBhdm9pZGluZyBzdGFjayBvdmVyZmxvdyBkdWUgdG8gaW5maW5pdGUgcmVjdXJzaW9uXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZWxzZSBpZiAocHJvZCBpbnN0YW5jZW9mIEFic3RyYWN0UHJvZHVjdGlvbikge1xuICAgICAgICBpZiAocHJvZCBpbnN0YW5jZW9mIE5vblRlcm1pbmFsKSB7XG4gICAgICAgICAgICBhbHJlYWR5VmlzaXRlZC5wdXNoKHByb2QpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBldmVyeShwcm9kLmRlZmluaXRpb24sIGZ1bmN0aW9uIChzdWJQcm9kKSB7XG4gICAgICAgICAgICByZXR1cm4gaXNPcHRpb25hbFByb2Qoc3ViUHJvZCwgYWxyZWFkeVZpc2l0ZWQpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gaXNCcmFuY2hpbmdQcm9kKHByb2QpIHtcbiAgICByZXR1cm4gcHJvZCBpbnN0YW5jZW9mIEFsdGVybmF0aW9uO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldFByb2R1Y3Rpb25Ec2xOYW1lKHByb2QpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgIGlmIChwcm9kIGluc3RhbmNlb2YgTm9uVGVybWluYWwpIHtcbiAgICAgICAgcmV0dXJuIFwiU1VCUlVMRVwiO1xuICAgIH1cbiAgICBlbHNlIGlmIChwcm9kIGluc3RhbmNlb2YgT3B0aW9uKSB7XG4gICAgICAgIHJldHVybiBcIk9QVElPTlwiO1xuICAgIH1cbiAgICBlbHNlIGlmIChwcm9kIGluc3RhbmNlb2YgQWx0ZXJuYXRpb24pIHtcbiAgICAgICAgcmV0dXJuIFwiT1JcIjtcbiAgICB9XG4gICAgZWxzZSBpZiAocHJvZCBpbnN0YW5jZW9mIFJlcGV0aXRpb25NYW5kYXRvcnkpIHtcbiAgICAgICAgcmV0dXJuIFwiQVRfTEVBU1RfT05FXCI7XG4gICAgfVxuICAgIGVsc2UgaWYgKHByb2QgaW5zdGFuY2VvZiBSZXBldGl0aW9uTWFuZGF0b3J5V2l0aFNlcGFyYXRvcikge1xuICAgICAgICByZXR1cm4gXCJBVF9MRUFTVF9PTkVfU0VQXCI7XG4gICAgfVxuICAgIGVsc2UgaWYgKHByb2QgaW5zdGFuY2VvZiBSZXBldGl0aW9uV2l0aFNlcGFyYXRvcikge1xuICAgICAgICByZXR1cm4gXCJNQU5ZX1NFUFwiO1xuICAgIH1cbiAgICBlbHNlIGlmIChwcm9kIGluc3RhbmNlb2YgUmVwZXRpdGlvbikge1xuICAgICAgICByZXR1cm4gXCJNQU5ZXCI7XG4gICAgfVxuICAgIGVsc2UgaWYgKHByb2QgaW5zdGFuY2VvZiBUZXJtaW5hbCkge1xuICAgICAgICByZXR1cm4gXCJDT05TVU1FXCI7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBFcnJvcihcIm5vbiBleGhhdXN0aXZlIG1hdGNoXCIpO1xuICAgIH1cbn1cbnZhciBEc2xNZXRob2RzQ29sbGVjdG9yVmlzaXRvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoRHNsTWV0aG9kc0NvbGxlY3RvclZpc2l0b3IsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gRHNsTWV0aG9kc0NvbGxlY3RvclZpc2l0b3IoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgICAvLyBBIG1pbnVzIGlzIG5ldmVyIHZhbGlkIGluIGFuIGlkZW50aWZpZXIgbmFtZVxuICAgICAgICBfdGhpcy5zZXBhcmF0b3IgPSBcIi1cIjtcbiAgICAgICAgX3RoaXMuZHNsTWV0aG9kcyA9IHtcbiAgICAgICAgICAgIG9wdGlvbjogW10sXG4gICAgICAgICAgICBhbHRlcm5hdGlvbjogW10sXG4gICAgICAgICAgICByZXBldGl0aW9uOiBbXSxcbiAgICAgICAgICAgIHJlcGV0aXRpb25XaXRoU2VwYXJhdG9yOiBbXSxcbiAgICAgICAgICAgIHJlcGV0aXRpb25NYW5kYXRvcnk6IFtdLFxuICAgICAgICAgICAgcmVwZXRpdGlvbk1hbmRhdG9yeVdpdGhTZXBhcmF0b3I6IFtdXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgRHNsTWV0aG9kc0NvbGxlY3RvclZpc2l0b3IucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRzbE1ldGhvZHMgPSB7XG4gICAgICAgICAgICBvcHRpb246IFtdLFxuICAgICAgICAgICAgYWx0ZXJuYXRpb246IFtdLFxuICAgICAgICAgICAgcmVwZXRpdGlvbjogW10sXG4gICAgICAgICAgICByZXBldGl0aW9uV2l0aFNlcGFyYXRvcjogW10sXG4gICAgICAgICAgICByZXBldGl0aW9uTWFuZGF0b3J5OiBbXSxcbiAgICAgICAgICAgIHJlcGV0aXRpb25NYW5kYXRvcnlXaXRoU2VwYXJhdG9yOiBbXVxuICAgICAgICB9O1xuICAgIH07XG4gICAgRHNsTWV0aG9kc0NvbGxlY3RvclZpc2l0b3IucHJvdG90eXBlLnZpc2l0VGVybWluYWwgPSBmdW5jdGlvbiAodGVybWluYWwpIHtcbiAgICAgICAgdmFyIGtleSA9IHRlcm1pbmFsLnRlcm1pbmFsVHlwZS5uYW1lICsgdGhpcy5zZXBhcmF0b3IgKyBcIlRlcm1pbmFsXCI7XG4gICAgICAgIGlmICghaGFzKHRoaXMuZHNsTWV0aG9kcywga2V5KSkge1xuICAgICAgICAgICAgdGhpcy5kc2xNZXRob2RzW2tleV0gPSBbXTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRzbE1ldGhvZHNba2V5XS5wdXNoKHRlcm1pbmFsKTtcbiAgICB9O1xuICAgIERzbE1ldGhvZHNDb2xsZWN0b3JWaXNpdG9yLnByb3RvdHlwZS52aXNpdE5vblRlcm1pbmFsID0gZnVuY3Rpb24gKHN1YnJ1bGUpIHtcbiAgICAgICAgdmFyIGtleSA9IHN1YnJ1bGUubm9uVGVybWluYWxOYW1lICsgdGhpcy5zZXBhcmF0b3IgKyBcIlRlcm1pbmFsXCI7XG4gICAgICAgIGlmICghaGFzKHRoaXMuZHNsTWV0aG9kcywga2V5KSkge1xuICAgICAgICAgICAgdGhpcy5kc2xNZXRob2RzW2tleV0gPSBbXTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRzbE1ldGhvZHNba2V5XS5wdXNoKHN1YnJ1bGUpO1xuICAgIH07XG4gICAgRHNsTWV0aG9kc0NvbGxlY3RvclZpc2l0b3IucHJvdG90eXBlLnZpc2l0T3B0aW9uID0gZnVuY3Rpb24gKG9wdGlvbikge1xuICAgICAgICB0aGlzLmRzbE1ldGhvZHMub3B0aW9uLnB1c2gob3B0aW9uKTtcbiAgICB9O1xuICAgIERzbE1ldGhvZHNDb2xsZWN0b3JWaXNpdG9yLnByb3RvdHlwZS52aXNpdFJlcGV0aXRpb25XaXRoU2VwYXJhdG9yID0gZnVuY3Rpb24gKG1hbnlTZXApIHtcbiAgICAgICAgdGhpcy5kc2xNZXRob2RzLnJlcGV0aXRpb25XaXRoU2VwYXJhdG9yLnB1c2gobWFueVNlcCk7XG4gICAgfTtcbiAgICBEc2xNZXRob2RzQ29sbGVjdG9yVmlzaXRvci5wcm90b3R5cGUudmlzaXRSZXBldGl0aW9uTWFuZGF0b3J5ID0gZnVuY3Rpb24gKGF0TGVhc3RPbmUpIHtcbiAgICAgICAgdGhpcy5kc2xNZXRob2RzLnJlcGV0aXRpb25NYW5kYXRvcnkucHVzaChhdExlYXN0T25lKTtcbiAgICB9O1xuICAgIERzbE1ldGhvZHNDb2xsZWN0b3JWaXNpdG9yLnByb3RvdHlwZS52aXNpdFJlcGV0aXRpb25NYW5kYXRvcnlXaXRoU2VwYXJhdG9yID0gZnVuY3Rpb24gKGF0TGVhc3RPbmVTZXApIHtcbiAgICAgICAgdGhpcy5kc2xNZXRob2RzLnJlcGV0aXRpb25NYW5kYXRvcnlXaXRoU2VwYXJhdG9yLnB1c2goYXRMZWFzdE9uZVNlcCk7XG4gICAgfTtcbiAgICBEc2xNZXRob2RzQ29sbGVjdG9yVmlzaXRvci5wcm90b3R5cGUudmlzaXRSZXBldGl0aW9uID0gZnVuY3Rpb24gKG1hbnkpIHtcbiAgICAgICAgdGhpcy5kc2xNZXRob2RzLnJlcGV0aXRpb24ucHVzaChtYW55KTtcbiAgICB9O1xuICAgIERzbE1ldGhvZHNDb2xsZWN0b3JWaXNpdG9yLnByb3RvdHlwZS52aXNpdEFsdGVybmF0aW9uID0gZnVuY3Rpb24gKG9yKSB7XG4gICAgICAgIHRoaXMuZHNsTWV0aG9kcy5hbHRlcm5hdGlvbi5wdXNoKG9yKTtcbiAgICB9O1xuICAgIHJldHVybiBEc2xNZXRob2RzQ29sbGVjdG9yVmlzaXRvcjtcbn0oR0FzdFZpc2l0b3IpKTtcbmV4cG9ydCB7IERzbE1ldGhvZHNDb2xsZWN0b3JWaXNpdG9yIH07XG52YXIgY29sbGVjdG9yVmlzaXRvciA9IG5ldyBEc2xNZXRob2RzQ29sbGVjdG9yVmlzaXRvcigpO1xuZXhwb3J0IGZ1bmN0aW9uIGNvbGxlY3RNZXRob2RzKHJ1bGUpIHtcbiAgICBjb2xsZWN0b3JWaXNpdG9yLnJlc2V0KCk7XG4gICAgcnVsZS5hY2NlcHQoY29sbGVjdG9yVmlzaXRvcik7XG4gICAgdmFyIGRzbE1ldGhvZHMgPSBjb2xsZWN0b3JWaXNpdG9yLmRzbE1ldGhvZHM7XG4gICAgLy8gYXZvaWQgdW5jbGVhbmVkIHJlZmVyZW5jZXNcbiAgICBjb2xsZWN0b3JWaXNpdG9yLnJlc2V0KCk7XG4gICAgcmV0dXJuIGRzbE1ldGhvZHM7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nYXN0LmpzLm1hcCIsImltcG9ydCB7IHVuaXEsIG1hcCwgZmxhdHRlbiB9IGZyb20gXCIuLi8uLi91dGlscy91dGlsc1wiO1xuaW1wb3J0IHsgTm9uVGVybWluYWwsIFRlcm1pbmFsIH0gZnJvbSBcIi4vZ2FzdC9nYXN0X3B1YmxpY1wiO1xuaW1wb3J0IHsgaXNCcmFuY2hpbmdQcm9kLCBpc09wdGlvbmFsUHJvZCwgaXNTZXF1ZW5jZVByb2QgfSBmcm9tIFwiLi9nYXN0L2dhc3RcIjtcbmV4cG9ydCBmdW5jdGlvbiBmaXJzdChwcm9kKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICBpZiAocHJvZCBpbnN0YW5jZW9mIE5vblRlcm1pbmFsKSB7XG4gICAgICAgIC8vIHRoaXMgY291bGQgaW4gdGhlb3J5IGNhdXNlIGluZmluaXRlIGxvb3BzIGlmXG4gICAgICAgIC8vICgxKSBwcm9kIEEgcmVmcyBwcm9kIEIuXG4gICAgICAgIC8vICgyKSBwcm9kIEIgcmVmcyBwcm9kIEFcbiAgICAgICAgLy8gKDMpIEFCIGNhbiBtYXRjaCB0aGUgZW1wdHkgc2V0XG4gICAgICAgIC8vIGluIG90aGVyIHdvcmRzIGEgY3ljbGUgd2hlcmUgZXZlcnl0aGluZyBpcyBvcHRpb25hbCBzbyB0aGUgZmlyc3Qgd2lsbCBrZWVwXG4gICAgICAgIC8vIGxvb2tpbmcgYWhlYWQgZm9yIHRoZSBuZXh0IG9wdGlvbmFsIHBhcnQgYW5kIHdpbGwgbmV2ZXIgZXhpdFxuICAgICAgICAvLyBjdXJyZW50bHkgdGhlcmUgaXMgbm8gc2FmZWd1YXJkIGZvciB0aGlzIHVuaXF1ZSBlZGdlIGNhc2UgYmVjYXVzZVxuICAgICAgICAvLyAoMSkgbm90IHN1cmUgYSBncmFtbWFyIGluIHdoaWNoIHRoaXMgY2FuIGhhcHBlbiBpcyB1c2VmdWwgZm9yIGFueXRoaW5nIChwcm9kdWN0aXZlKVxuICAgICAgICByZXR1cm4gZmlyc3QocHJvZC5yZWZlcmVuY2VkUnVsZSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHByb2QgaW5zdGFuY2VvZiBUZXJtaW5hbCkge1xuICAgICAgICByZXR1cm4gZmlyc3RGb3JUZXJtaW5hbChwcm9kKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNTZXF1ZW5jZVByb2QocHJvZCkpIHtcbiAgICAgICAgcmV0dXJuIGZpcnN0Rm9yU2VxdWVuY2UocHJvZCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzQnJhbmNoaW5nUHJvZChwcm9kKSkge1xuICAgICAgICByZXR1cm4gZmlyc3RGb3JCcmFuY2hpbmcocHJvZCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBFcnJvcihcIm5vbiBleGhhdXN0aXZlIG1hdGNoXCIpO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBmaXJzdEZvclNlcXVlbmNlKHByb2QpIHtcbiAgICB2YXIgZmlyc3RTZXQgPSBbXTtcbiAgICB2YXIgc2VxID0gcHJvZC5kZWZpbml0aW9uO1xuICAgIHZhciBuZXh0U3ViUHJvZElkeCA9IDA7XG4gICAgdmFyIGhhc0lubmVyUHJvZHNSZW1haW5pbmcgPSBzZXEubGVuZ3RoID4gbmV4dFN1YlByb2RJZHg7XG4gICAgdmFyIGN1cnJTdWJQcm9kO1xuICAgIC8vIHNvIHdlIGVudGVyIHRoZSBsb29wIGF0IGxlYXN0IG9uY2UgKGlmIHRoZSBkZWZpbml0aW9uIGlzIG5vdCBlbXB0eVxuICAgIHZhciBpc0xhc3RJbm5lclByb2RPcHRpb25hbCA9IHRydWU7XG4gICAgLy8gc2NhbiBhIHNlcXVlbmNlIHVudGlsIGl0J3MgZW5kIG9yIHVudGlsIHdlIGhhdmUgZm91bmQgYSBOT05FIG9wdGlvbmFsIHByb2R1Y3Rpb24gaW4gaXRcbiAgICB3aGlsZSAoaGFzSW5uZXJQcm9kc1JlbWFpbmluZyAmJiBpc0xhc3RJbm5lclByb2RPcHRpb25hbCkge1xuICAgICAgICBjdXJyU3ViUHJvZCA9IHNlcVtuZXh0U3ViUHJvZElkeF07XG4gICAgICAgIGlzTGFzdElubmVyUHJvZE9wdGlvbmFsID0gaXNPcHRpb25hbFByb2QoY3VyclN1YlByb2QpO1xuICAgICAgICBmaXJzdFNldCA9IGZpcnN0U2V0LmNvbmNhdChmaXJzdChjdXJyU3ViUHJvZCkpO1xuICAgICAgICBuZXh0U3ViUHJvZElkeCA9IG5leHRTdWJQcm9kSWR4ICsgMTtcbiAgICAgICAgaGFzSW5uZXJQcm9kc1JlbWFpbmluZyA9IHNlcS5sZW5ndGggPiBuZXh0U3ViUHJvZElkeDtcbiAgICB9XG4gICAgcmV0dXJuIHVuaXEoZmlyc3RTZXQpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZpcnN0Rm9yQnJhbmNoaW5nKHByb2QpIHtcbiAgICB2YXIgYWxsQWx0ZXJuYXRpdmVzRmlyc3RzID0gbWFwKHByb2QuZGVmaW5pdGlvbiwgZnVuY3Rpb24gKGlubmVyUHJvZCkge1xuICAgICAgICByZXR1cm4gZmlyc3QoaW5uZXJQcm9kKTtcbiAgICB9KTtcbiAgICByZXR1cm4gdW5pcShmbGF0dGVuKGFsbEFsdGVybmF0aXZlc0ZpcnN0cykpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZpcnN0Rm9yVGVybWluYWwodGVybWluYWwpIHtcbiAgICByZXR1cm4gW3Rlcm1pbmFsLnRlcm1pbmFsVHlwZV07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1maXJzdC5qcy5tYXAiLCIvLyBUT0RPOiBjYW4gdGhpcyBiZSByZW1vdmVkPyB3aGVyZSBpcyBpdCB1c2VkP1xuZXhwb3J0IHZhciBJTiA9IFwiX35JTn5fXCI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25zdGFudHMuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5pbXBvcnQgeyBSZXN0V2Fsa2VyIH0gZnJvbSBcIi4vcmVzdFwiO1xuaW1wb3J0IHsgZmlyc3QgfSBmcm9tIFwiLi9maXJzdFwiO1xuaW1wb3J0IHsgYXNzaWduLCBmb3JFYWNoIH0gZnJvbSBcIi4uLy4uL3V0aWxzL3V0aWxzXCI7XG5pbXBvcnQgeyBJTiB9IGZyb20gXCIuLi9jb25zdGFudHNcIjtcbmltcG9ydCB7IEFsdGVybmF0aXZlIH0gZnJvbSBcIi4vZ2FzdC9nYXN0X3B1YmxpY1wiO1xuLy8gVGhpcyBSZXN5bmNGb2xsb3dzV2Fsa2VyIGNvbXB1dGVzIGFsbCBvZiB0aGUgZm9sbG93cyByZXF1aXJlZCBmb3IgUkVTWU5DXG4vLyAoc2tpcHBpbmcgcmVmZXJlbmNlIHByb2R1Y3Rpb24pLlxudmFyIFJlc3luY0ZvbGxvd3NXYWxrZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFJlc3luY0ZvbGxvd3NXYWxrZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUmVzeW5jRm9sbG93c1dhbGtlcih0b3BQcm9kKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnRvcFByb2QgPSB0b3BQcm9kO1xuICAgICAgICBfdGhpcy5mb2xsb3dzID0ge307XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgUmVzeW5jRm9sbG93c1dhbGtlci5wcm90b3R5cGUuc3RhcnRXYWxraW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLndhbGsodGhpcy50b3BQcm9kKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZm9sbG93cztcbiAgICB9O1xuICAgIFJlc3luY0ZvbGxvd3NXYWxrZXIucHJvdG90eXBlLndhbGtUZXJtaW5hbCA9IGZ1bmN0aW9uICh0ZXJtaW5hbCwgY3VyclJlc3QsIHByZXZSZXN0KSB7XG4gICAgICAgIC8vIGRvIG5vdGhpbmchIGp1c3QgbGlrZSBpbiB0aGUgcHVibGljIHNlY3RvciBhZnRlciAxMzowMFxuICAgIH07XG4gICAgUmVzeW5jRm9sbG93c1dhbGtlci5wcm90b3R5cGUud2Fsa1Byb2RSZWYgPSBmdW5jdGlvbiAocmVmUHJvZCwgY3VyclJlc3QsIHByZXZSZXN0KSB7XG4gICAgICAgIHZhciBmb2xsb3dOYW1lID0gYnVpbGRCZXR3ZWVuUHJvZHNGb2xsb3dQcmVmaXgocmVmUHJvZC5yZWZlcmVuY2VkUnVsZSwgcmVmUHJvZC5pZHgpICtcbiAgICAgICAgICAgIHRoaXMudG9wUHJvZC5uYW1lO1xuICAgICAgICB2YXIgZnVsbFJlc3QgPSBjdXJyUmVzdC5jb25jYXQocHJldlJlc3QpO1xuICAgICAgICB2YXIgcmVzdFByb2QgPSBuZXcgQWx0ZXJuYXRpdmUoeyBkZWZpbml0aW9uOiBmdWxsUmVzdCB9KTtcbiAgICAgICAgdmFyIHRfaW5fdG9wUHJvZF9mb2xsb3dzID0gZmlyc3QocmVzdFByb2QpO1xuICAgICAgICB0aGlzLmZvbGxvd3NbZm9sbG93TmFtZV0gPSB0X2luX3RvcFByb2RfZm9sbG93cztcbiAgICB9O1xuICAgIHJldHVybiBSZXN5bmNGb2xsb3dzV2Fsa2VyO1xufShSZXN0V2Fsa2VyKSk7XG5leHBvcnQgeyBSZXN5bmNGb2xsb3dzV2Fsa2VyIH07XG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZUFsbFByb2RzRm9sbG93cyh0b3BQcm9kdWN0aW9ucykge1xuICAgIHZhciByZVN5bmNGb2xsb3dzID0ge307XG4gICAgZm9yRWFjaCh0b3BQcm9kdWN0aW9ucywgZnVuY3Rpb24gKHRvcFByb2QpIHtcbiAgICAgICAgdmFyIGN1cnJSZWZzRm9sbG93ID0gbmV3IFJlc3luY0ZvbGxvd3NXYWxrZXIodG9wUHJvZCkuc3RhcnRXYWxraW5nKCk7XG4gICAgICAgIGFzc2lnbihyZVN5bmNGb2xsb3dzLCBjdXJyUmVmc0ZvbGxvdyk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlU3luY0ZvbGxvd3M7XG59XG5leHBvcnQgZnVuY3Rpb24gYnVpbGRCZXR3ZWVuUHJvZHNGb2xsb3dQcmVmaXgoaW5uZXIsIG9jY3VyZW5jZUluUGFyZW50KSB7XG4gICAgcmV0dXJuIGlubmVyLm5hbWUgKyBvY2N1cmVuY2VJblBhcmVudCArIElOO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkSW5Qcm9kRm9sbG93UHJlZml4KHRlcm1pbmFsKSB7XG4gICAgdmFyIHRlcm1pbmFsTmFtZSA9IHRlcm1pbmFsLnRlcm1pbmFsVHlwZS5uYW1lO1xuICAgIHJldHVybiB0ZXJtaW5hbE5hbWUgKyB0ZXJtaW5hbC5pZHggKyBJTjtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZvbGxvdy5qcy5tYXAiLCJpbXBvcnQgeyBoYXNUb2tlbkxhYmVsLCB0b2tlbkxhYmVsIH0gZnJvbSBcIi4uL3NjYW4vdG9rZW5zX3B1YmxpY1wiO1xuaW1wb3J0ICogYXMgdXRpbHMgZnJvbSBcIi4uL3V0aWxzL3V0aWxzXCI7XG5pbXBvcnQgeyBmaXJzdCwgbWFwLCByZWR1Y2UgfSBmcm9tIFwiLi4vdXRpbHMvdXRpbHNcIjtcbmltcG9ydCB7IE5vblRlcm1pbmFsLCBSdWxlLCBUZXJtaW5hbCB9IGZyb20gXCIuL2dyYW1tYXIvZ2FzdC9nYXN0X3B1YmxpY1wiO1xuaW1wb3J0IHsgZ2V0UHJvZHVjdGlvbkRzbE5hbWUgfSBmcm9tIFwiLi9ncmFtbWFyL2dhc3QvZ2FzdFwiO1xuZXhwb3J0IHZhciBkZWZhdWx0UGFyc2VyRXJyb3JQcm92aWRlciA9IHtcbiAgICBidWlsZE1pc21hdGNoVG9rZW5NZXNzYWdlOiBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIGV4cGVjdGVkID0gX2EuZXhwZWN0ZWQsIGFjdHVhbCA9IF9hLmFjdHVhbCwgcHJldmlvdXMgPSBfYS5wcmV2aW91cywgcnVsZU5hbWUgPSBfYS5ydWxlTmFtZTtcbiAgICAgICAgdmFyIGhhc0xhYmVsID0gaGFzVG9rZW5MYWJlbChleHBlY3RlZCk7XG4gICAgICAgIHZhciBleHBlY3RlZE1zZyA9IGhhc0xhYmVsXG4gICAgICAgICAgICA/IFwiLS0+IFwiICsgdG9rZW5MYWJlbChleHBlY3RlZCkgKyBcIiA8LS1cIlxuICAgICAgICAgICAgOiBcInRva2VuIG9mIHR5cGUgLS0+IFwiICsgZXhwZWN0ZWQubmFtZSArIFwiIDwtLVwiO1xuICAgICAgICB2YXIgbXNnID0gXCJFeHBlY3RpbmcgXCIgKyBleHBlY3RlZE1zZyArIFwiIGJ1dCBmb3VuZCAtLT4gJ1wiICsgYWN0dWFsLmltYWdlICsgXCInIDwtLVwiO1xuICAgICAgICByZXR1cm4gbXNnO1xuICAgIH0sXG4gICAgYnVpbGROb3RBbGxJbnB1dFBhcnNlZE1lc3NhZ2U6IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgZmlyc3RSZWR1bmRhbnQgPSBfYS5maXJzdFJlZHVuZGFudCwgcnVsZU5hbWUgPSBfYS5ydWxlTmFtZTtcbiAgICAgICAgcmV0dXJuIFwiUmVkdW5kYW50IGlucHV0LCBleHBlY3RpbmcgRU9GIGJ1dCBmb3VuZDogXCIgKyBmaXJzdFJlZHVuZGFudC5pbWFnZTtcbiAgICB9LFxuICAgIGJ1aWxkTm9WaWFibGVBbHRNZXNzYWdlOiBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIGV4cGVjdGVkUGF0aHNQZXJBbHQgPSBfYS5leHBlY3RlZFBhdGhzUGVyQWx0LCBhY3R1YWwgPSBfYS5hY3R1YWwsIHByZXZpb3VzID0gX2EucHJldmlvdXMsIGN1c3RvbVVzZXJEZXNjcmlwdGlvbiA9IF9hLmN1c3RvbVVzZXJEZXNjcmlwdGlvbiwgcnVsZU5hbWUgPSBfYS5ydWxlTmFtZTtcbiAgICAgICAgdmFyIGVyclByZWZpeCA9IFwiRXhwZWN0aW5nOiBcIjtcbiAgICAgICAgLy8gVE9ETzogaXNzdWU6IE5vIFZpYWJsZSBBbHRlcm5hdGl2ZSBFcnJvciBtYXkgaGF2ZSBpbmNvbXBsZXRlIGRldGFpbHMuICM1MDJcbiAgICAgICAgdmFyIGFjdHVhbFRleHQgPSBmaXJzdChhY3R1YWwpLmltYWdlO1xuICAgICAgICB2YXIgZXJyU3VmZml4ID0gXCJcXG5idXQgZm91bmQ6ICdcIiArIGFjdHVhbFRleHQgKyBcIidcIjtcbiAgICAgICAgaWYgKGN1c3RvbVVzZXJEZXNjcmlwdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuIGVyclByZWZpeCArIGN1c3RvbVVzZXJEZXNjcmlwdGlvbiArIGVyclN1ZmZpeDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBhbGxMb29rQWhlYWRQYXRocyA9IHJlZHVjZShleHBlY3RlZFBhdGhzUGVyQWx0LCBmdW5jdGlvbiAocmVzdWx0LCBjdXJyQWx0UGF0aHMpIHsgcmV0dXJuIHJlc3VsdC5jb25jYXQoY3VyckFsdFBhdGhzKTsgfSwgW10pO1xuICAgICAgICAgICAgdmFyIG5leHRWYWxpZFRva2VuU2VxdWVuY2VzID0gbWFwKGFsbExvb2tBaGVhZFBhdGhzLCBmdW5jdGlvbiAoY3VyclBhdGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJbXCIgKyBtYXAoY3VyclBhdGgsIGZ1bmN0aW9uIChjdXJyVG9rZW5UeXBlKSB7IHJldHVybiB0b2tlbkxhYmVsKGN1cnJUb2tlblR5cGUpOyB9KS5qb2luKFwiLCBcIikgKyBcIl1cIjtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIG5leHRWYWxpZFNlcXVlbmNlSXRlbXMgPSBtYXAobmV4dFZhbGlkVG9rZW5TZXF1ZW5jZXMsIGZ1bmN0aW9uIChpdGVtTXNnLCBpZHgpIHsgcmV0dXJuIFwiICBcIiArIChpZHggKyAxKSArIFwiLiBcIiArIGl0ZW1Nc2c7IH0pO1xuICAgICAgICAgICAgdmFyIGNhbGN1bGF0ZWREZXNjcmlwdGlvbiA9IFwib25lIG9mIHRoZXNlIHBvc3NpYmxlIFRva2VuIHNlcXVlbmNlczpcXG5cIiArIG5leHRWYWxpZFNlcXVlbmNlSXRlbXMuam9pbihcIlxcblwiKTtcbiAgICAgICAgICAgIHJldHVybiBlcnJQcmVmaXggKyBjYWxjdWxhdGVkRGVzY3JpcHRpb24gKyBlcnJTdWZmaXg7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGJ1aWxkRWFybHlFeGl0TWVzc2FnZTogZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciBleHBlY3RlZEl0ZXJhdGlvblBhdGhzID0gX2EuZXhwZWN0ZWRJdGVyYXRpb25QYXRocywgYWN0dWFsID0gX2EuYWN0dWFsLCBjdXN0b21Vc2VyRGVzY3JpcHRpb24gPSBfYS5jdXN0b21Vc2VyRGVzY3JpcHRpb24sIHJ1bGVOYW1lID0gX2EucnVsZU5hbWU7XG4gICAgICAgIHZhciBlcnJQcmVmaXggPSBcIkV4cGVjdGluZzogXCI7XG4gICAgICAgIC8vIFRPRE86IGlzc3VlOiBObyBWaWFibGUgQWx0ZXJuYXRpdmUgRXJyb3IgbWF5IGhhdmUgaW5jb21wbGV0ZSBkZXRhaWxzLiAjNTAyXG4gICAgICAgIHZhciBhY3R1YWxUZXh0ID0gZmlyc3QoYWN0dWFsKS5pbWFnZTtcbiAgICAgICAgdmFyIGVyclN1ZmZpeCA9IFwiXFxuYnV0IGZvdW5kOiAnXCIgKyBhY3R1YWxUZXh0ICsgXCInXCI7XG4gICAgICAgIGlmIChjdXN0b21Vc2VyRGVzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIHJldHVybiBlcnJQcmVmaXggKyBjdXN0b21Vc2VyRGVzY3JpcHRpb24gKyBlcnJTdWZmaXg7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgbmV4dFZhbGlkVG9rZW5TZXF1ZW5jZXMgPSBtYXAoZXhwZWN0ZWRJdGVyYXRpb25QYXRocywgZnVuY3Rpb24gKGN1cnJQYXRoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiW1wiICsgbWFwKGN1cnJQYXRoLCBmdW5jdGlvbiAoY3VyclRva2VuVHlwZSkgeyByZXR1cm4gdG9rZW5MYWJlbChjdXJyVG9rZW5UeXBlKTsgfSkuam9pbihcIixcIikgKyBcIl1cIjtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIGNhbGN1bGF0ZWREZXNjcmlwdGlvbiA9IFwiZXhwZWN0aW5nIGF0IGxlYXN0IG9uZSBpdGVyYXRpb24gd2hpY2ggc3RhcnRzIHdpdGggb25lIG9mIHRoZXNlIHBvc3NpYmxlIFRva2VuIHNlcXVlbmNlczo6XFxuICBcIiArXG4gICAgICAgICAgICAgICAgKFwiPFwiICsgbmV4dFZhbGlkVG9rZW5TZXF1ZW5jZXMuam9pbihcIiAsXCIpICsgXCI+XCIpO1xuICAgICAgICAgICAgcmV0dXJuIGVyclByZWZpeCArIGNhbGN1bGF0ZWREZXNjcmlwdGlvbiArIGVyclN1ZmZpeDtcbiAgICAgICAgfVxuICAgIH1cbn07XG5PYmplY3QuZnJlZXplKGRlZmF1bHRQYXJzZXJFcnJvclByb3ZpZGVyKTtcbmV4cG9ydCB2YXIgZGVmYXVsdEdyYW1tYXJSZXNvbHZlckVycm9yUHJvdmlkZXIgPSB7XG4gICAgYnVpbGRSdWxlTm90Rm91bmRFcnJvcjogZnVuY3Rpb24gKHRvcExldmVsUnVsZSwgdW5kZWZpbmVkUnVsZSkge1xuICAgICAgICB2YXIgbXNnID0gXCJJbnZhbGlkIGdyYW1tYXIsIHJlZmVyZW5jZSB0byBhIHJ1bGUgd2hpY2ggaXMgbm90IGRlZmluZWQ6IC0+XCIgK1xuICAgICAgICAgICAgdW5kZWZpbmVkUnVsZS5ub25UZXJtaW5hbE5hbWUgK1xuICAgICAgICAgICAgXCI8LVxcblwiICtcbiAgICAgICAgICAgIFwiaW5zaWRlIHRvcCBsZXZlbCBydWxlOiAtPlwiICtcbiAgICAgICAgICAgIHRvcExldmVsUnVsZS5uYW1lICtcbiAgICAgICAgICAgIFwiPC1cIjtcbiAgICAgICAgcmV0dXJuIG1zZztcbiAgICB9XG59O1xuZXhwb3J0IHZhciBkZWZhdWx0R3JhbW1hclZhbGlkYXRvckVycm9yUHJvdmlkZXIgPSB7XG4gICAgYnVpbGREdXBsaWNhdGVGb3VuZEVycm9yOiBmdW5jdGlvbiAodG9wTGV2ZWxSdWxlLCBkdXBsaWNhdGVQcm9kcykge1xuICAgICAgICBmdW5jdGlvbiBnZXRFeHRyYVByb2R1Y3Rpb25Bcmd1bWVudChwcm9kKSB7XG4gICAgICAgICAgICBpZiAocHJvZCBpbnN0YW5jZW9mIFRlcm1pbmFsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb2QudGVybWluYWxUeXBlLm5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChwcm9kIGluc3RhbmNlb2YgTm9uVGVybWluYWwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvZC5ub25UZXJtaW5hbE5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgdG9wTGV2ZWxOYW1lID0gdG9wTGV2ZWxSdWxlLm5hbWU7XG4gICAgICAgIHZhciBkdXBsaWNhdGVQcm9kID0gZmlyc3QoZHVwbGljYXRlUHJvZHMpO1xuICAgICAgICB2YXIgaW5kZXggPSBkdXBsaWNhdGVQcm9kLmlkeDtcbiAgICAgICAgdmFyIGRzbE5hbWUgPSBnZXRQcm9kdWN0aW9uRHNsTmFtZShkdXBsaWNhdGVQcm9kKTtcbiAgICAgICAgdmFyIGV4dHJhQXJndW1lbnQgPSBnZXRFeHRyYVByb2R1Y3Rpb25Bcmd1bWVudChkdXBsaWNhdGVQcm9kKTtcbiAgICAgICAgdmFyIGhhc0V4cGxpY2l0SW5kZXggPSBpbmRleCA+IDA7XG4gICAgICAgIHZhciBtc2cgPSBcIi0+XCIgKyBkc2xOYW1lICsgKGhhc0V4cGxpY2l0SW5kZXggPyBpbmRleCA6IFwiXCIpICsgXCI8LSBcIiArIChleHRyYUFyZ3VtZW50ID8gXCJ3aXRoIGFyZ3VtZW50OiAtPlwiICsgZXh0cmFBcmd1bWVudCArIFwiPC1cIiA6IFwiXCIpICsgXCJcXG4gICAgICAgICAgICAgICAgICBhcHBlYXJzIG1vcmUgdGhhbiBvbmNlIChcIiArIGR1cGxpY2F0ZVByb2RzLmxlbmd0aCArIFwiIHRpbWVzKSBpbiB0aGUgdG9wIGxldmVsIHJ1bGU6IC0+XCIgKyB0b3BMZXZlbE5hbWUgKyBcIjwtLiAgICAgICAgICAgICAgICAgIFxcbiAgICAgICAgICAgICAgICAgIEZvciBmdXJ0aGVyIGRldGFpbHMgc2VlOiBodHRwczovL3NhcC5naXRodWIuaW8vY2hldnJvdGFpbi9kb2NzL0ZBUS5odG1sI05VTUVSSUNBTF9TVUZGSVhFUyBcXG4gICAgICAgICAgICAgICAgICBcIjtcbiAgICAgICAgLy8gd2hpdGUgc3BhY2UgdHJpbW1pbmcgdGltZSEgYmV0dGVyIHRvIHRyaW0gYWZ0ZXJ3YXJkcyBhcyBpdCBhbGxvd3MgdG8gdXNlIFdFTEwgZm9ybWF0dGVkIG11bHRpIGxpbmUgdGVtcGxhdGUgc3RyaW5ncy4uLlxuICAgICAgICBtc2cgPSBtc2cucmVwbGFjZSgvWyBcXHRdKy9nLCBcIiBcIik7XG4gICAgICAgIG1zZyA9IG1zZy5yZXBsYWNlKC9cXHNcXHMrL2csIFwiXFxuXCIpO1xuICAgICAgICByZXR1cm4gbXNnO1xuICAgIH0sXG4gICAgYnVpbGROYW1lc3BhY2VDb25mbGljdEVycm9yOiBmdW5jdGlvbiAocnVsZSkge1xuICAgICAgICB2YXIgZXJyTXNnID0gXCJOYW1lc3BhY2UgY29uZmxpY3QgZm91bmQgaW4gZ3JhbW1hci5cXG5cIiArXG4gICAgICAgICAgICAoXCJUaGUgZ3JhbW1hciBoYXMgYm90aCBhIFRlcm1pbmFsKFRva2VuKSBhbmQgYSBOb24tVGVybWluYWwoUnVsZSkgbmFtZWQ6IDxcIiArIHJ1bGUubmFtZSArIFwiPi5cXG5cIikgK1xuICAgICAgICAgICAgXCJUbyByZXNvbHZlIHRoaXMgbWFrZSBzdXJlIGVhY2ggVGVybWluYWwgYW5kIE5vbi1UZXJtaW5hbCBuYW1lcyBhcmUgdW5pcXVlXFxuXCIgK1xuICAgICAgICAgICAgXCJUaGlzIGlzIGVhc3kgdG8gYWNjb21wbGlzaCBieSB1c2luZyB0aGUgY29udmVudGlvbiB0aGF0IFRlcm1pbmFsIG5hbWVzIHN0YXJ0IHdpdGggYW4gdXBwZXJjYXNlIGxldHRlclxcblwiICtcbiAgICAgICAgICAgIFwiYW5kIE5vbi1UZXJtaW5hbCBuYW1lcyBzdGFydCB3aXRoIGEgbG93ZXIgY2FzZSBsZXR0ZXIuXCI7XG4gICAgICAgIHJldHVybiBlcnJNc2c7XG4gICAgfSxcbiAgICBidWlsZEFsdGVybmF0aW9uUHJlZml4QW1iaWd1aXR5RXJyb3I6IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHZhciBwYXRoTXNnID0gbWFwKG9wdGlvbnMucHJlZml4UGF0aCwgZnVuY3Rpb24gKGN1cnJUb2spIHtcbiAgICAgICAgICAgIHJldHVybiB0b2tlbkxhYmVsKGN1cnJUb2spO1xuICAgICAgICB9KS5qb2luKFwiLCBcIik7XG4gICAgICAgIHZhciBvY2N1cnJlbmNlID0gb3B0aW9ucy5hbHRlcm5hdGlvbi5pZHggPT09IDAgPyBcIlwiIDogb3B0aW9ucy5hbHRlcm5hdGlvbi5pZHg7XG4gICAgICAgIHZhciBlcnJNc2cgPSBcIkFtYmlndW91cyBhbHRlcm5hdGl2ZXM6IDxcIiArIG9wdGlvbnMuYW1iaWd1aXR5SW5kaWNlcy5qb2luKFwiICxcIikgKyBcIj4gZHVlIHRvIGNvbW1vbiBsb29rYWhlYWQgcHJlZml4XFxuXCIgK1xuICAgICAgICAgICAgKFwiaW4gPE9SXCIgKyBvY2N1cnJlbmNlICsgXCI+IGluc2lkZSA8XCIgKyBvcHRpb25zLnRvcExldmVsUnVsZS5uYW1lICsgXCI+IFJ1bGUsXFxuXCIpICtcbiAgICAgICAgICAgIChcIjxcIiArIHBhdGhNc2cgKyBcIj4gbWF5IGFwcGVhcnMgYXMgYSBwcmVmaXggcGF0aCBpbiBhbGwgdGhlc2UgYWx0ZXJuYXRpdmVzLlxcblwiKSArXG4gICAgICAgICAgICBcIlNlZTogaHR0cHM6Ly9zYXAuZ2l0aHViLmlvL2NoZXZyb3RhaW4vZG9jcy9ndWlkZS9yZXNvbHZpbmdfZ3JhbW1hcl9lcnJvcnMuaHRtbCNDT01NT05fUFJFRklYXFxuXCIgK1xuICAgICAgICAgICAgXCJGb3IgRnVydGhlciBkZXRhaWxzLlwiO1xuICAgICAgICByZXR1cm4gZXJyTXNnO1xuICAgIH0sXG4gICAgYnVpbGRBbHRlcm5hdGlvbkFtYmlndWl0eUVycm9yOiBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB2YXIgcGF0aE1zZyA9IG1hcChvcHRpb25zLnByZWZpeFBhdGgsIGZ1bmN0aW9uIChjdXJydG9rKSB7XG4gICAgICAgICAgICByZXR1cm4gdG9rZW5MYWJlbChjdXJydG9rKTtcbiAgICAgICAgfSkuam9pbihcIiwgXCIpO1xuICAgICAgICB2YXIgb2NjdXJyZW5jZSA9IG9wdGlvbnMuYWx0ZXJuYXRpb24uaWR4ID09PSAwID8gXCJcIiA6IG9wdGlvbnMuYWx0ZXJuYXRpb24uaWR4O1xuICAgICAgICB2YXIgY3Vyck1lc3NhZ2UgPSBcIkFtYmlndW91cyBBbHRlcm5hdGl2ZXMgRGV0ZWN0ZWQ6IDxcIiArIG9wdGlvbnMuYW1iaWd1aXR5SW5kaWNlcy5qb2luKFwiICxcIikgKyBcIj4gaW4gPE9SXCIgKyBvY2N1cnJlbmNlICsgXCI+XCIgK1xuICAgICAgICAgICAgKFwiIGluc2lkZSA8XCIgKyBvcHRpb25zLnRvcExldmVsUnVsZS5uYW1lICsgXCI+IFJ1bGUsXFxuXCIpICtcbiAgICAgICAgICAgIChcIjxcIiArIHBhdGhNc2cgKyBcIj4gbWF5IGFwcGVhcnMgYXMgYSBwcmVmaXggcGF0aCBpbiBhbGwgdGhlc2UgYWx0ZXJuYXRpdmVzLlxcblwiKTtcbiAgICAgICAgY3Vyck1lc3NhZ2UgPVxuICAgICAgICAgICAgY3Vyck1lc3NhZ2UgK1xuICAgICAgICAgICAgICAgIFwiU2VlOiBodHRwczovL3NhcC5naXRodWIuaW8vY2hldnJvdGFpbi9kb2NzL2d1aWRlL3Jlc29sdmluZ19ncmFtbWFyX2Vycm9ycy5odG1sI0FNQklHVU9VU19BTFRFUk5BVElWRVNcXG5cIiArXG4gICAgICAgICAgICAgICAgXCJGb3IgRnVydGhlciBkZXRhaWxzLlwiO1xuICAgICAgICByZXR1cm4gY3Vyck1lc3NhZ2U7XG4gICAgfSxcbiAgICBidWlsZEVtcHR5UmVwZXRpdGlvbkVycm9yOiBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB2YXIgZHNsTmFtZSA9IGdldFByb2R1Y3Rpb25Ec2xOYW1lKG9wdGlvbnMucmVwZXRpdGlvbik7XG4gICAgICAgIGlmIChvcHRpb25zLnJlcGV0aXRpb24uaWR4ICE9PSAwKSB7XG4gICAgICAgICAgICBkc2xOYW1lICs9IG9wdGlvbnMucmVwZXRpdGlvbi5pZHg7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGVyck1zZyA9IFwiVGhlIHJlcGV0aXRpb24gPFwiICsgZHNsTmFtZSArIFwiPiB3aXRoaW4gUnVsZSA8XCIgKyBvcHRpb25zLnRvcExldmVsUnVsZS5uYW1lICsgXCI+IGNhbiBuZXZlciBjb25zdW1lIGFueSB0b2tlbnMuXFxuXCIgK1xuICAgICAgICAgICAgXCJUaGlzIGNvdWxkIGxlYWQgdG8gYW4gaW5maW5pdGUgbG9vcC5cIjtcbiAgICAgICAgcmV0dXJuIGVyck1zZztcbiAgICB9LFxuICAgIGJ1aWxkVG9rZW5OYW1lRXJyb3I6IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHZhciB0b2tUeXBlTmFtZSA9IG9wdGlvbnMudG9rZW5UeXBlLm5hbWU7XG4gICAgICAgIHZhciBlcnJNc2cgPSBcIkludmFsaWQgR3JhbW1hciBUb2tlbiBuYW1lOiAtPlwiICsgdG9rVHlwZU5hbWUgKyBcIjwtIGl0IG11c3QgbWF0Y2ggdGhlIHBhdHRlcm46IC0+XCIgKyBvcHRpb25zLmV4cGVjdGVkUGF0dGVybi50b1N0cmluZygpICsgXCI8LVwiO1xuICAgICAgICByZXR1cm4gZXJyTXNnO1xuICAgIH0sXG4gICAgYnVpbGRFbXB0eUFsdGVybmF0aW9uRXJyb3I6IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHZhciBlcnJNc2cgPSBcIkFtYmlndW91cyBlbXB0eSBhbHRlcm5hdGl2ZTogPFwiICsgKG9wdGlvbnMuZW1wdHlDaG9pY2VJZHggKyAxKSArIFwiPlwiICtcbiAgICAgICAgICAgIChcIiBpbiA8T1JcIiArIG9wdGlvbnMuYWx0ZXJuYXRpb24uaWR4ICsgXCI+IGluc2lkZSA8XCIgKyBvcHRpb25zLnRvcExldmVsUnVsZS5uYW1lICsgXCI+IFJ1bGUuXFxuXCIpICtcbiAgICAgICAgICAgIFwiT25seSB0aGUgbGFzdCBhbHRlcm5hdGl2ZSBtYXkgYmUgYW4gZW1wdHkgYWx0ZXJuYXRpdmUuXCI7XG4gICAgICAgIHJldHVybiBlcnJNc2c7XG4gICAgfSxcbiAgICBidWlsZFRvb01hbnlBbHRlcm5hdGl2ZXNFcnJvcjogZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGVyck1zZyA9IFwiQW4gQWx0ZXJuYXRpb24gY2Fubm90IGhhdmUgbW9yZSB0aGFuIDI1NiBhbHRlcm5hdGl2ZXM6XFxuXCIgK1xuICAgICAgICAgICAgKFwiPE9SXCIgKyBvcHRpb25zLmFsdGVybmF0aW9uLmlkeCArIFwiPiBpbnNpZGUgPFwiICsgb3B0aW9ucy50b3BMZXZlbFJ1bGUubmFtZSArIFwiPiBSdWxlLlxcbiBoYXMgXCIgKyAob3B0aW9ucy5hbHRlcm5hdGlvbi5kZWZpbml0aW9uLmxlbmd0aCArIDEpICsgXCIgYWx0ZXJuYXRpdmVzLlwiKTtcbiAgICAgICAgcmV0dXJuIGVyck1zZztcbiAgICB9LFxuICAgIGJ1aWxkTGVmdFJlY3Vyc2lvbkVycm9yOiBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB2YXIgcnVsZU5hbWUgPSBvcHRpb25zLnRvcExldmVsUnVsZS5uYW1lO1xuICAgICAgICB2YXIgcGF0aE5hbWVzID0gdXRpbHMubWFwKG9wdGlvbnMubGVmdFJlY3Vyc2lvblBhdGgsIGZ1bmN0aW9uIChjdXJyUnVsZSkgeyByZXR1cm4gY3VyclJ1bGUubmFtZTsgfSk7XG4gICAgICAgIHZhciBsZWZ0UmVjdXJzaXZlUGF0aCA9IHJ1bGVOYW1lICsgXCIgLS0+IFwiICsgcGF0aE5hbWVzXG4gICAgICAgICAgICAuY29uY2F0KFtydWxlTmFtZV0pXG4gICAgICAgICAgICAuam9pbihcIiAtLT4gXCIpO1xuICAgICAgICB2YXIgZXJyTXNnID0gXCJMZWZ0IFJlY3Vyc2lvbiBmb3VuZCBpbiBncmFtbWFyLlxcblwiICtcbiAgICAgICAgICAgIChcInJ1bGU6IDxcIiArIHJ1bGVOYW1lICsgXCI+IGNhbiBiZSBpbnZva2VkIGZyb20gaXRzZWxmIChkaXJlY3RseSBvciBpbmRpcmVjdGx5KVxcblwiKSArXG4gICAgICAgICAgICAoXCJ3aXRob3V0IGNvbnN1bWluZyBhbnkgVG9rZW5zLiBUaGUgZ3JhbW1hciBwYXRoIHRoYXQgY2F1c2VzIHRoaXMgaXM6IFxcbiBcIiArIGxlZnRSZWN1cnNpdmVQYXRoICsgXCJcXG5cIikgK1xuICAgICAgICAgICAgXCIgVG8gZml4IHRoaXMgcmVmYWN0b3IgeW91ciBncmFtbWFyIHRvIHJlbW92ZSB0aGUgbGVmdCByZWN1cnNpb24uXFxuXCIgK1xuICAgICAgICAgICAgXCJzZWU6IGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xMX3BhcnNlciNMZWZ0X0ZhY3RvcmluZy5cIjtcbiAgICAgICAgcmV0dXJuIGVyck1zZztcbiAgICB9LFxuICAgIGJ1aWxkSW52YWxpZFJ1bGVOYW1lRXJyb3I6IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHZhciBydWxlTmFtZSA9IG9wdGlvbnMudG9wTGV2ZWxSdWxlLm5hbWU7XG4gICAgICAgIHZhciBleHBlY3RlZFBhdHRlcm5TdHJpbmcgPSBvcHRpb25zLmV4cGVjdGVkUGF0dGVybi50b1N0cmluZygpO1xuICAgICAgICB2YXIgZXJyTXNnID0gXCJJbnZhbGlkIGdyYW1tYXIgcnVsZSBuYW1lOiAtPlwiICsgcnVsZU5hbWUgKyBcIjwtIGl0IG11c3QgbWF0Y2ggdGhlIHBhdHRlcm46IC0+XCIgKyBleHBlY3RlZFBhdHRlcm5TdHJpbmcgKyBcIjwtXCI7XG4gICAgICAgIHJldHVybiBlcnJNc2c7XG4gICAgfSxcbiAgICBidWlsZER1cGxpY2F0ZVJ1bGVOYW1lRXJyb3I6IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHZhciBydWxlTmFtZTtcbiAgICAgICAgaWYgKG9wdGlvbnMudG9wTGV2ZWxSdWxlIGluc3RhbmNlb2YgUnVsZSkge1xuICAgICAgICAgICAgcnVsZU5hbWUgPSBvcHRpb25zLnRvcExldmVsUnVsZS5uYW1lO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcnVsZU5hbWUgPSBvcHRpb25zLnRvcExldmVsUnVsZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZXJyTXNnID0gXCJEdXBsaWNhdGUgZGVmaW5pdGlvbiwgcnVsZTogLT5cIiArIHJ1bGVOYW1lICsgXCI8LSBpcyBhbHJlYWR5IGRlZmluZWQgaW4gdGhlIGdyYW1tYXI6IC0+XCIgKyBvcHRpb25zLmdyYW1tYXJOYW1lICsgXCI8LVwiO1xuICAgICAgICByZXR1cm4gZXJyTXNnO1xuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lcnJvcnNfcHVibGljLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0IHsgUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZSB9IGZyb20gXCIuLi9wYXJzZXIvcGFyc2VyXCI7XG5pbXBvcnQgeyBmb3JFYWNoLCB2YWx1ZXMgfSBmcm9tIFwiLi4vLi4vdXRpbHMvdXRpbHNcIjtcbmltcG9ydCB7IEdBc3RWaXNpdG9yIH0gZnJvbSBcIi4vZ2FzdC9nYXN0X3Zpc2l0b3JfcHVibGljXCI7XG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZUdyYW1tYXIodG9wTGV2ZWxzLCBlcnJNc2dQcm92aWRlcikge1xuICAgIHZhciByZWZSZXNvbHZlciA9IG5ldyBHYXN0UmVmUmVzb2x2ZXJWaXNpdG9yKHRvcExldmVscywgZXJyTXNnUHJvdmlkZXIpO1xuICAgIHJlZlJlc29sdmVyLnJlc29sdmVSZWZzKCk7XG4gICAgcmV0dXJuIHJlZlJlc29sdmVyLmVycm9ycztcbn1cbnZhciBHYXN0UmVmUmVzb2x2ZXJWaXNpdG9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhHYXN0UmVmUmVzb2x2ZXJWaXNpdG9yLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEdhc3RSZWZSZXNvbHZlclZpc2l0b3IobmFtZVRvVG9wUnVsZSwgZXJyTXNnUHJvdmlkZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMubmFtZVRvVG9wUnVsZSA9IG5hbWVUb1RvcFJ1bGU7XG4gICAgICAgIF90aGlzLmVyck1zZ1Byb3ZpZGVyID0gZXJyTXNnUHJvdmlkZXI7XG4gICAgICAgIF90aGlzLmVycm9ycyA9IFtdO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEdhc3RSZWZSZXNvbHZlclZpc2l0b3IucHJvdG90eXBlLnJlc29sdmVSZWZzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBmb3JFYWNoKHZhbHVlcyh0aGlzLm5hbWVUb1RvcFJ1bGUpLCBmdW5jdGlvbiAocHJvZCkge1xuICAgICAgICAgICAgX3RoaXMuY3VyclRvcExldmVsID0gcHJvZDtcbiAgICAgICAgICAgIHByb2QuYWNjZXB0KF90aGlzKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBHYXN0UmVmUmVzb2x2ZXJWaXNpdG9yLnByb3RvdHlwZS52aXNpdE5vblRlcm1pbmFsID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgdmFyIHJlZiA9IHRoaXMubmFtZVRvVG9wUnVsZVtub2RlLm5vblRlcm1pbmFsTmFtZV07XG4gICAgICAgIGlmICghcmVmKSB7XG4gICAgICAgICAgICB2YXIgbXNnID0gdGhpcy5lcnJNc2dQcm92aWRlci5idWlsZFJ1bGVOb3RGb3VuZEVycm9yKHRoaXMuY3VyclRvcExldmVsLCBub2RlKTtcbiAgICAgICAgICAgIHRoaXMuZXJyb3JzLnB1c2goe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG1zZyxcbiAgICAgICAgICAgICAgICB0eXBlOiBQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlLlVOUkVTT0xWRURfU1VCUlVMRV9SRUYsXG4gICAgICAgICAgICAgICAgcnVsZU5hbWU6IHRoaXMuY3VyclRvcExldmVsLm5hbWUsXG4gICAgICAgICAgICAgICAgdW5yZXNvbHZlZFJlZk5hbWU6IG5vZGUubm9uVGVybWluYWxOYW1lXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG5vZGUucmVmZXJlbmNlZFJ1bGUgPSByZWY7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBHYXN0UmVmUmVzb2x2ZXJWaXNpdG9yO1xufShHQXN0VmlzaXRvcikpO1xuZXhwb3J0IHsgR2FzdFJlZlJlc29sdmVyVmlzaXRvciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVzb2x2ZXIuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5pbXBvcnQgeyBSZXN0V2Fsa2VyIH0gZnJvbSBcIi4vcmVzdFwiO1xuaW1wb3J0IHsgY2xvbmVBcnIsIGRyb3AsIGRyb3BSaWdodCwgZmlyc3QgYXMgX2ZpcnN0LCBmb3JFYWNoLCBpc0VtcHR5LCBsYXN0IH0gZnJvbSBcIi4uLy4uL3V0aWxzL3V0aWxzXCI7XG5pbXBvcnQgeyBmaXJzdCB9IGZyb20gXCIuL2ZpcnN0XCI7XG5pbXBvcnQgeyBBbHRlcm5hdGlvbiwgQWx0ZXJuYXRpdmUsIE5vblRlcm1pbmFsLCBPcHRpb24sIFJlcGV0aXRpb24sIFJlcGV0aXRpb25NYW5kYXRvcnksIFJlcGV0aXRpb25NYW5kYXRvcnlXaXRoU2VwYXJhdG9yLCBSZXBldGl0aW9uV2l0aFNlcGFyYXRvciwgUnVsZSwgVGVybWluYWwgfSBmcm9tIFwiLi9nYXN0L2dhc3RfcHVibGljXCI7XG52YXIgQWJzdHJhY3ROZXh0UG9zc2libGVUb2tlbnNXYWxrZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEFic3RyYWN0TmV4dFBvc3NpYmxlVG9rZW5zV2Fsa2VyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEFic3RyYWN0TmV4dFBvc3NpYmxlVG9rZW5zV2Fsa2VyKHRvcFByb2QsIHBhdGgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMudG9wUHJvZCA9IHRvcFByb2Q7XG4gICAgICAgIF90aGlzLnBhdGggPSBwYXRoO1xuICAgICAgICBfdGhpcy5wb3NzaWJsZVRva1R5cGVzID0gW107XG4gICAgICAgIF90aGlzLm5leHRQcm9kdWN0aW9uTmFtZSA9IFwiXCI7XG4gICAgICAgIF90aGlzLm5leHRQcm9kdWN0aW9uT2NjdXJyZW5jZSA9IDA7XG4gICAgICAgIF90aGlzLmZvdW5kID0gZmFsc2U7XG4gICAgICAgIF90aGlzLmlzQXRFbmRPZlBhdGggPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBBYnN0cmFjdE5leHRQb3NzaWJsZVRva2Vuc1dhbGtlci5wcm90b3R5cGUuc3RhcnRXYWxraW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmZvdW5kID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLnBhdGgucnVsZVN0YWNrWzBdICE9PSB0aGlzLnRvcFByb2QubmFtZSkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJUaGUgcGF0aCBkb2VzIG5vdCBzdGFydCB3aXRoIHRoZSB3YWxrZXIncyB0b3AgUnVsZSFcIik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaW1tdXRhYmxlIGZvciB0aGUgd2luXG4gICAgICAgIHRoaXMucnVsZVN0YWNrID0gY2xvbmVBcnIodGhpcy5wYXRoLnJ1bGVTdGFjaykucmV2ZXJzZSgpOyAvLyBpbnRlbGlqIGJ1ZyByZXF1aXJlcyBhc3NlcnRpb25cbiAgICAgICAgdGhpcy5vY2N1cnJlbmNlU3RhY2sgPSBjbG9uZUFycih0aGlzLnBhdGgub2NjdXJyZW5jZVN0YWNrKS5yZXZlcnNlKCk7IC8vIGludGVsaWogYnVnIHJlcXVpcmVzIGFzc2VydGlvblxuICAgICAgICAvLyBhbHJlYWR5IHZlcmlmaWVkIHRoYXQgdGhlIGZpcnN0IHByb2R1Y3Rpb24gaXMgdmFsaWQsIHdlIG5vdyBzZWVrIHRoZSAybmQgcHJvZHVjdGlvblxuICAgICAgICB0aGlzLnJ1bGVTdGFjay5wb3AoKTtcbiAgICAgICAgdGhpcy5vY2N1cnJlbmNlU3RhY2sucG9wKCk7XG4gICAgICAgIHRoaXMudXBkYXRlRXhwZWN0ZWROZXh0KCk7XG4gICAgICAgIHRoaXMud2Fsayh0aGlzLnRvcFByb2QpO1xuICAgICAgICByZXR1cm4gdGhpcy5wb3NzaWJsZVRva1R5cGVzO1xuICAgIH07XG4gICAgQWJzdHJhY3ROZXh0UG9zc2libGVUb2tlbnNXYWxrZXIucHJvdG90eXBlLndhbGsgPSBmdW5jdGlvbiAocHJvZCwgcHJldlJlc3QpIHtcbiAgICAgICAgaWYgKHByZXZSZXN0ID09PSB2b2lkIDApIHsgcHJldlJlc3QgPSBbXTsgfVxuICAgICAgICAvLyBzdG9wIHNjYW5uaW5nIG9uY2Ugd2UgZm91bmQgdGhlIHBhdGhcbiAgICAgICAgaWYgKCF0aGlzLmZvdW5kKSB7XG4gICAgICAgICAgICBfc3VwZXIucHJvdG90eXBlLndhbGsuY2FsbCh0aGlzLCBwcm9kLCBwcmV2UmVzdCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFic3RyYWN0TmV4dFBvc3NpYmxlVG9rZW5zV2Fsa2VyLnByb3RvdHlwZS53YWxrUHJvZFJlZiA9IGZ1bmN0aW9uIChyZWZQcm9kLCBjdXJyUmVzdCwgcHJldlJlc3QpIHtcbiAgICAgICAgLy8gZm91bmQgdGhlIG5leHQgcHJvZHVjdGlvbiwgbmVlZCB0byBrZWVwIHdhbGtpbmcgaW4gaXRcbiAgICAgICAgaWYgKHJlZlByb2QucmVmZXJlbmNlZFJ1bGUubmFtZSA9PT0gdGhpcy5uZXh0UHJvZHVjdGlvbk5hbWUgJiZcbiAgICAgICAgICAgIHJlZlByb2QuaWR4ID09PSB0aGlzLm5leHRQcm9kdWN0aW9uT2NjdXJyZW5jZSkge1xuICAgICAgICAgICAgdmFyIGZ1bGxSZXN0ID0gY3VyclJlc3QuY29uY2F0KHByZXZSZXN0KTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlRXhwZWN0ZWROZXh0KCk7XG4gICAgICAgICAgICB0aGlzLndhbGsocmVmUHJvZC5yZWZlcmVuY2VkUnVsZSwgZnVsbFJlc3QpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBBYnN0cmFjdE5leHRQb3NzaWJsZVRva2Vuc1dhbGtlci5wcm90b3R5cGUudXBkYXRlRXhwZWN0ZWROZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBuZWVkIHRvIGNvbnN1bWUgdGhlIFRlcm1pbmFsXG4gICAgICAgIGlmIChpc0VtcHR5KHRoaXMucnVsZVN0YWNrKSkge1xuICAgICAgICAgICAgLy8gbXVzdCByZXNldCBuZXh0UHJvZHVjdGlvblhYWCB0byBhdm9pZCB3YWxraW5nIGRvd24gYW5vdGhlciBUb3AgTGV2ZWwgcHJvZHVjdGlvbiB3aGlsZSB3aGF0IHdlIGFyZVxuICAgICAgICAgICAgLy8gcmVhbGx5IHNlZWtpbmcgaXMgdGhlIGxhc3QgVGVybWluYWwuLi5cbiAgICAgICAgICAgIHRoaXMubmV4dFByb2R1Y3Rpb25OYW1lID0gXCJcIjtcbiAgICAgICAgICAgIHRoaXMubmV4dFByb2R1Y3Rpb25PY2N1cnJlbmNlID0gMDtcbiAgICAgICAgICAgIHRoaXMuaXNBdEVuZE9mUGF0aCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm5leHRQcm9kdWN0aW9uTmFtZSA9IHRoaXMucnVsZVN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgdGhpcy5uZXh0UHJvZHVjdGlvbk9jY3VycmVuY2UgPSB0aGlzLm9jY3VycmVuY2VTdGFjay5wb3AoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEFic3RyYWN0TmV4dFBvc3NpYmxlVG9rZW5zV2Fsa2VyO1xufShSZXN0V2Fsa2VyKSk7XG5leHBvcnQgeyBBYnN0cmFjdE5leHRQb3NzaWJsZVRva2Vuc1dhbGtlciB9O1xudmFyIE5leHRBZnRlclRva2VuV2Fsa2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhOZXh0QWZ0ZXJUb2tlbldhbGtlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBOZXh0QWZ0ZXJUb2tlbldhbGtlcih0b3BQcm9kLCBwYXRoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHRvcFByb2QsIHBhdGgpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnBhdGggPSBwYXRoO1xuICAgICAgICBfdGhpcy5uZXh0VGVybWluYWxOYW1lID0gXCJcIjtcbiAgICAgICAgX3RoaXMubmV4dFRlcm1pbmFsT2NjdXJyZW5jZSA9IDA7XG4gICAgICAgIF90aGlzLm5leHRUZXJtaW5hbE5hbWUgPSBfdGhpcy5wYXRoLmxhc3RUb2submFtZTtcbiAgICAgICAgX3RoaXMubmV4dFRlcm1pbmFsT2NjdXJyZW5jZSA9IF90aGlzLnBhdGgubGFzdFRva09jY3VycmVuY2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgTmV4dEFmdGVyVG9rZW5XYWxrZXIucHJvdG90eXBlLndhbGtUZXJtaW5hbCA9IGZ1bmN0aW9uICh0ZXJtaW5hbCwgY3VyclJlc3QsIHByZXZSZXN0KSB7XG4gICAgICAgIGlmICh0aGlzLmlzQXRFbmRPZlBhdGggJiZcbiAgICAgICAgICAgIHRlcm1pbmFsLnRlcm1pbmFsVHlwZS5uYW1lID09PSB0aGlzLm5leHRUZXJtaW5hbE5hbWUgJiZcbiAgICAgICAgICAgIHRlcm1pbmFsLmlkeCA9PT0gdGhpcy5uZXh0VGVybWluYWxPY2N1cnJlbmNlICYmXG4gICAgICAgICAgICAhdGhpcy5mb3VuZCkge1xuICAgICAgICAgICAgdmFyIGZ1bGxSZXN0ID0gY3VyclJlc3QuY29uY2F0KHByZXZSZXN0KTtcbiAgICAgICAgICAgIHZhciByZXN0UHJvZCA9IG5ldyBBbHRlcm5hdGl2ZSh7IGRlZmluaXRpb246IGZ1bGxSZXN0IH0pO1xuICAgICAgICAgICAgdGhpcy5wb3NzaWJsZVRva1R5cGVzID0gZmlyc3QocmVzdFByb2QpO1xuICAgICAgICAgICAgdGhpcy5mb3VuZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBOZXh0QWZ0ZXJUb2tlbldhbGtlcjtcbn0oQWJzdHJhY3ROZXh0UG9zc2libGVUb2tlbnNXYWxrZXIpKTtcbmV4cG9ydCB7IE5leHRBZnRlclRva2VuV2Fsa2VyIH07XG4vKipcbiAqIFRoaXMgd2Fsa2VyIG9ubHkgXCJ3YWxrc1wiIGEgc2luZ2xlIFwiVE9QXCIgbGV2ZWwgaW4gdGhlIEdyYW1tYXIgQXN0LCB0aGlzIG1lYW5zXG4gKiBpdCBuZXZlciBcImZvbGxvd3NcIiBwcm9kdWN0aW9uIHJlZnNcbiAqL1xudmFyIEFic3RyYWN0TmV4dFRlcm1pbmFsQWZ0ZXJQcm9kdWN0aW9uV2Fsa2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhBYnN0cmFjdE5leHRUZXJtaW5hbEFmdGVyUHJvZHVjdGlvbldhbGtlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBYnN0cmFjdE5leHRUZXJtaW5hbEFmdGVyUHJvZHVjdGlvbldhbGtlcih0b3BSdWxlLCBvY2N1cnJlbmNlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnRvcFJ1bGUgPSB0b3BSdWxlO1xuICAgICAgICBfdGhpcy5vY2N1cnJlbmNlID0gb2NjdXJyZW5jZTtcbiAgICAgICAgX3RoaXMucmVzdWx0ID0ge1xuICAgICAgICAgICAgdG9rZW46IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIG9jY3VycmVuY2U6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGlzRW5kT2ZSdWxlOiB1bmRlZmluZWRcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBBYnN0cmFjdE5leHRUZXJtaW5hbEFmdGVyUHJvZHVjdGlvbldhbGtlci5wcm90b3R5cGUuc3RhcnRXYWxraW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLndhbGsodGhpcy50b3BSdWxlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzdWx0O1xuICAgIH07XG4gICAgcmV0dXJuIEFic3RyYWN0TmV4dFRlcm1pbmFsQWZ0ZXJQcm9kdWN0aW9uV2Fsa2VyO1xufShSZXN0V2Fsa2VyKSk7XG5leHBvcnQgeyBBYnN0cmFjdE5leHRUZXJtaW5hbEFmdGVyUHJvZHVjdGlvbldhbGtlciB9O1xudmFyIE5leHRUZXJtaW5hbEFmdGVyTWFueVdhbGtlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTmV4dFRlcm1pbmFsQWZ0ZXJNYW55V2Fsa2VyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE5leHRUZXJtaW5hbEFmdGVyTWFueVdhbGtlcigpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBOZXh0VGVybWluYWxBZnRlck1hbnlXYWxrZXIucHJvdG90eXBlLndhbGtNYW55ID0gZnVuY3Rpb24gKG1hbnlQcm9kLCBjdXJyUmVzdCwgcHJldlJlc3QpIHtcbiAgICAgICAgaWYgKG1hbnlQcm9kLmlkeCA9PT0gdGhpcy5vY2N1cnJlbmNlKSB7XG4gICAgICAgICAgICB2YXIgZmlyc3RBZnRlck1hbnkgPSBfZmlyc3QoY3VyclJlc3QuY29uY2F0KHByZXZSZXN0KSk7XG4gICAgICAgICAgICB0aGlzLnJlc3VsdC5pc0VuZE9mUnVsZSA9IGZpcnN0QWZ0ZXJNYW55ID09PSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBpZiAoZmlyc3RBZnRlck1hbnkgaW5zdGFuY2VvZiBUZXJtaW5hbCkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVzdWx0LnRva2VuID0gZmlyc3RBZnRlck1hbnkudGVybWluYWxUeXBlO1xuICAgICAgICAgICAgICAgIHRoaXMucmVzdWx0Lm9jY3VycmVuY2UgPSBmaXJzdEFmdGVyTWFueS5pZHg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBfc3VwZXIucHJvdG90eXBlLndhbGtNYW55LmNhbGwodGhpcywgbWFueVByb2QsIGN1cnJSZXN0LCBwcmV2UmVzdCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBOZXh0VGVybWluYWxBZnRlck1hbnlXYWxrZXI7XG59KEFic3RyYWN0TmV4dFRlcm1pbmFsQWZ0ZXJQcm9kdWN0aW9uV2Fsa2VyKSk7XG5leHBvcnQgeyBOZXh0VGVybWluYWxBZnRlck1hbnlXYWxrZXIgfTtcbnZhciBOZXh0VGVybWluYWxBZnRlck1hbnlTZXBXYWxrZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE5leHRUZXJtaW5hbEFmdGVyTWFueVNlcFdhbGtlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBOZXh0VGVybWluYWxBZnRlck1hbnlTZXBXYWxrZXIoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgTmV4dFRlcm1pbmFsQWZ0ZXJNYW55U2VwV2Fsa2VyLnByb3RvdHlwZS53YWxrTWFueVNlcCA9IGZ1bmN0aW9uIChtYW55U2VwUHJvZCwgY3VyclJlc3QsIHByZXZSZXN0KSB7XG4gICAgICAgIGlmIChtYW55U2VwUHJvZC5pZHggPT09IHRoaXMub2NjdXJyZW5jZSkge1xuICAgICAgICAgICAgdmFyIGZpcnN0QWZ0ZXJNYW55U2VwID0gX2ZpcnN0KGN1cnJSZXN0LmNvbmNhdChwcmV2UmVzdCkpO1xuICAgICAgICAgICAgdGhpcy5yZXN1bHQuaXNFbmRPZlJ1bGUgPSBmaXJzdEFmdGVyTWFueVNlcCA9PT0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgaWYgKGZpcnN0QWZ0ZXJNYW55U2VwIGluc3RhbmNlb2YgVGVybWluYWwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc3VsdC50b2tlbiA9IGZpcnN0QWZ0ZXJNYW55U2VwLnRlcm1pbmFsVHlwZTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc3VsdC5vY2N1cnJlbmNlID0gZmlyc3RBZnRlck1hbnlTZXAuaWR4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgX3N1cGVyLnByb3RvdHlwZS53YWxrTWFueVNlcC5jYWxsKHRoaXMsIG1hbnlTZXBQcm9kLCBjdXJyUmVzdCwgcHJldlJlc3QpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gTmV4dFRlcm1pbmFsQWZ0ZXJNYW55U2VwV2Fsa2VyO1xufShBYnN0cmFjdE5leHRUZXJtaW5hbEFmdGVyUHJvZHVjdGlvbldhbGtlcikpO1xuZXhwb3J0IHsgTmV4dFRlcm1pbmFsQWZ0ZXJNYW55U2VwV2Fsa2VyIH07XG52YXIgTmV4dFRlcm1pbmFsQWZ0ZXJBdExlYXN0T25lV2Fsa2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhOZXh0VGVybWluYWxBZnRlckF0TGVhc3RPbmVXYWxrZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gTmV4dFRlcm1pbmFsQWZ0ZXJBdExlYXN0T25lV2Fsa2VyKCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgfVxuICAgIE5leHRUZXJtaW5hbEFmdGVyQXRMZWFzdE9uZVdhbGtlci5wcm90b3R5cGUud2Fsa0F0TGVhc3RPbmUgPSBmdW5jdGlvbiAoYXRMZWFzdE9uZVByb2QsIGN1cnJSZXN0LCBwcmV2UmVzdCkge1xuICAgICAgICBpZiAoYXRMZWFzdE9uZVByb2QuaWR4ID09PSB0aGlzLm9jY3VycmVuY2UpIHtcbiAgICAgICAgICAgIHZhciBmaXJzdEFmdGVyQXRMZWFzdE9uZSA9IF9maXJzdChjdXJyUmVzdC5jb25jYXQocHJldlJlc3QpKTtcbiAgICAgICAgICAgIHRoaXMucmVzdWx0LmlzRW5kT2ZSdWxlID0gZmlyc3RBZnRlckF0TGVhc3RPbmUgPT09IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmIChmaXJzdEFmdGVyQXRMZWFzdE9uZSBpbnN0YW5jZW9mIFRlcm1pbmFsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXN1bHQudG9rZW4gPSBmaXJzdEFmdGVyQXRMZWFzdE9uZS50ZXJtaW5hbFR5cGU7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXN1bHQub2NjdXJyZW5jZSA9IGZpcnN0QWZ0ZXJBdExlYXN0T25lLmlkeDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIF9zdXBlci5wcm90b3R5cGUud2Fsa0F0TGVhc3RPbmUuY2FsbCh0aGlzLCBhdExlYXN0T25lUHJvZCwgY3VyclJlc3QsIHByZXZSZXN0KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIE5leHRUZXJtaW5hbEFmdGVyQXRMZWFzdE9uZVdhbGtlcjtcbn0oQWJzdHJhY3ROZXh0VGVybWluYWxBZnRlclByb2R1Y3Rpb25XYWxrZXIpKTtcbmV4cG9ydCB7IE5leHRUZXJtaW5hbEFmdGVyQXRMZWFzdE9uZVdhbGtlciB9O1xuLy8gVE9ETzogcmVkdWNlIGNvZGUgZHVwbGljYXRpb24gaW4gdGhlIEFmdGVyV2Fsa2Vyc1xudmFyIE5leHRUZXJtaW5hbEFmdGVyQXRMZWFzdE9uZVNlcFdhbGtlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTmV4dFRlcm1pbmFsQWZ0ZXJBdExlYXN0T25lU2VwV2Fsa2VyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE5leHRUZXJtaW5hbEFmdGVyQXRMZWFzdE9uZVNlcFdhbGtlcigpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBOZXh0VGVybWluYWxBZnRlckF0TGVhc3RPbmVTZXBXYWxrZXIucHJvdG90eXBlLndhbGtBdExlYXN0T25lU2VwID0gZnVuY3Rpb24gKGF0bGVhc3RPbmVTZXBQcm9kLCBjdXJyUmVzdCwgcHJldlJlc3QpIHtcbiAgICAgICAgaWYgKGF0bGVhc3RPbmVTZXBQcm9kLmlkeCA9PT0gdGhpcy5vY2N1cnJlbmNlKSB7XG4gICAgICAgICAgICB2YXIgZmlyc3RBZnRlcmZpcnN0QWZ0ZXJBdExlYXN0T25lU2VwID0gX2ZpcnN0KGN1cnJSZXN0LmNvbmNhdChwcmV2UmVzdCkpO1xuICAgICAgICAgICAgdGhpcy5yZXN1bHQuaXNFbmRPZlJ1bGUgPSBmaXJzdEFmdGVyZmlyc3RBZnRlckF0TGVhc3RPbmVTZXAgPT09IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmIChmaXJzdEFmdGVyZmlyc3RBZnRlckF0TGVhc3RPbmVTZXAgaW5zdGFuY2VvZiBUZXJtaW5hbCkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVzdWx0LnRva2VuID0gZmlyc3RBZnRlcmZpcnN0QWZ0ZXJBdExlYXN0T25lU2VwLnRlcm1pbmFsVHlwZTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc3VsdC5vY2N1cnJlbmNlID0gZmlyc3RBZnRlcmZpcnN0QWZ0ZXJBdExlYXN0T25lU2VwLmlkeDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIF9zdXBlci5wcm90b3R5cGUud2Fsa0F0TGVhc3RPbmVTZXAuY2FsbCh0aGlzLCBhdGxlYXN0T25lU2VwUHJvZCwgY3VyclJlc3QsIHByZXZSZXN0KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIE5leHRUZXJtaW5hbEFmdGVyQXRMZWFzdE9uZVNlcFdhbGtlcjtcbn0oQWJzdHJhY3ROZXh0VGVybWluYWxBZnRlclByb2R1Y3Rpb25XYWxrZXIpKTtcbmV4cG9ydCB7IE5leHRUZXJtaW5hbEFmdGVyQXRMZWFzdE9uZVNlcFdhbGtlciB9O1xuZXhwb3J0IGZ1bmN0aW9uIHBvc3NpYmxlUGF0aHNGcm9tKHRhcmdldERlZiwgbWF4TGVuZ3RoLCBjdXJyUGF0aCkge1xuICAgIGlmIChjdXJyUGF0aCA9PT0gdm9pZCAwKSB7IGN1cnJQYXRoID0gW107IH1cbiAgICAvLyBhdm9pZCBzaWRlIGVmZmVjdHNcbiAgICBjdXJyUGF0aCA9IGNsb25lQXJyKGN1cnJQYXRoKTtcbiAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgdmFyIGkgPSAwO1xuICAgIC8vIFRPRE86IGF2b2lkIGlubmVyIGZ1bmNzXG4gICAgZnVuY3Rpb24gcmVtYWluaW5nUGF0aFdpdGgobmV4dERlZikge1xuICAgICAgICByZXR1cm4gbmV4dERlZi5jb25jYXQoZHJvcCh0YXJnZXREZWYsIGkgKyAxKSk7XG4gICAgfVxuICAgIC8vIFRPRE86IGF2b2lkIGlubmVyIGZ1bmNzXG4gICAgZnVuY3Rpb24gZ2V0QWx0ZXJuYXRpdmVzRm9yUHJvZChkZWZpbml0aW9uKSB7XG4gICAgICAgIHZhciBhbHRlcm5hdGl2ZXMgPSBwb3NzaWJsZVBhdGhzRnJvbShyZW1haW5pbmdQYXRoV2l0aChkZWZpbml0aW9uKSwgbWF4TGVuZ3RoLCBjdXJyUGF0aCk7XG4gICAgICAgIHJldHVybiByZXN1bHQuY29uY2F0KGFsdGVybmF0aXZlcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1hbmRhdG9yeSBwcm9kdWN0aW9ucyB3aWxsIGhhbHQgdGhlIGxvb3AgYXMgdGhlIHBhdGhzIGNvbXB1dGVkIGZyb20gdGhlaXIgcmVjdXJzaXZlIGNhbGxzIHdpbGwgYWxyZWFkeSBjb250YWluIHRoZVxuICAgICAqIGZvbGxvd2luZyAocmVzdCkgb2YgdGhlIHRhcmdldERlZi5cbiAgICAgKlxuICAgICAqIEZvciBvcHRpb25hbCBwcm9kdWN0aW9ucyAoT3B0aW9uL1JlcGV0aXRpb24vLi4uKSB0aGUgbG9vcCB3aWxsIGNvbnRpbnVlIHRvIHJlcHJlc2VudCB0aGUgcGF0aHMgdGhhdCBkbyBub3QgaW5jbHVkZSB0aGVcbiAgICAgKiB0aGUgb3B0aW9uYWwgcHJvZHVjdGlvbi5cbiAgICAgKi9cbiAgICB3aGlsZSAoY3VyclBhdGgubGVuZ3RoIDwgbWF4TGVuZ3RoICYmIGkgPCB0YXJnZXREZWYubGVuZ3RoKSB7XG4gICAgICAgIHZhciBwcm9kID0gdGFyZ2V0RGVmW2ldO1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICBpZiAocHJvZCBpbnN0YW5jZW9mIEFsdGVybmF0aXZlKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0QWx0ZXJuYXRpdmVzRm9yUHJvZChwcm9kLmRlZmluaXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHByb2QgaW5zdGFuY2VvZiBOb25UZXJtaW5hbCkge1xuICAgICAgICAgICAgcmV0dXJuIGdldEFsdGVybmF0aXZlc0ZvclByb2QocHJvZC5kZWZpbml0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwcm9kIGluc3RhbmNlb2YgT3B0aW9uKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBnZXRBbHRlcm5hdGl2ZXNGb3JQcm9kKHByb2QuZGVmaW5pdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocHJvZCBpbnN0YW5jZW9mIFJlcGV0aXRpb25NYW5kYXRvcnkpIHtcbiAgICAgICAgICAgIHZhciBuZXdEZWYgPSBwcm9kLmRlZmluaXRpb24uY29uY2F0KFtcbiAgICAgICAgICAgICAgICBuZXcgUmVwZXRpdGlvbih7XG4gICAgICAgICAgICAgICAgICAgIGRlZmluaXRpb246IHByb2QuZGVmaW5pdGlvblxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIHJldHVybiBnZXRBbHRlcm5hdGl2ZXNGb3JQcm9kKG5ld0RlZik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocHJvZCBpbnN0YW5jZW9mIFJlcGV0aXRpb25NYW5kYXRvcnlXaXRoU2VwYXJhdG9yKSB7XG4gICAgICAgICAgICB2YXIgbmV3RGVmID0gW1xuICAgICAgICAgICAgICAgIG5ldyBBbHRlcm5hdGl2ZSh7IGRlZmluaXRpb246IHByb2QuZGVmaW5pdGlvbiB9KSxcbiAgICAgICAgICAgICAgICBuZXcgUmVwZXRpdGlvbih7XG4gICAgICAgICAgICAgICAgICAgIGRlZmluaXRpb246IFtuZXcgVGVybWluYWwoeyB0ZXJtaW5hbFR5cGU6IHByb2Quc2VwYXJhdG9yIH0pXS5jb25jYXQocHJvZC5kZWZpbml0aW9uKVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgcmV0dXJuIGdldEFsdGVybmF0aXZlc0ZvclByb2QobmV3RGVmKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwcm9kIGluc3RhbmNlb2YgUmVwZXRpdGlvbldpdGhTZXBhcmF0b3IpIHtcbiAgICAgICAgICAgIHZhciBuZXdEZWYgPSBwcm9kLmRlZmluaXRpb24uY29uY2F0KFtcbiAgICAgICAgICAgICAgICBuZXcgUmVwZXRpdGlvbih7XG4gICAgICAgICAgICAgICAgICAgIGRlZmluaXRpb246IFtuZXcgVGVybWluYWwoeyB0ZXJtaW5hbFR5cGU6IHByb2Quc2VwYXJhdG9yIH0pXS5jb25jYXQocHJvZC5kZWZpbml0aW9uKVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIHJlc3VsdCA9IGdldEFsdGVybmF0aXZlc0ZvclByb2QobmV3RGVmKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwcm9kIGluc3RhbmNlb2YgUmVwZXRpdGlvbikge1xuICAgICAgICAgICAgdmFyIG5ld0RlZiA9IHByb2QuZGVmaW5pdGlvbi5jb25jYXQoW1xuICAgICAgICAgICAgICAgIG5ldyBSZXBldGl0aW9uKHtcbiAgICAgICAgICAgICAgICAgICAgZGVmaW5pdGlvbjogcHJvZC5kZWZpbml0aW9uXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgcmVzdWx0ID0gZ2V0QWx0ZXJuYXRpdmVzRm9yUHJvZChuZXdEZWYpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHByb2QgaW5zdGFuY2VvZiBBbHRlcm5hdGlvbikge1xuICAgICAgICAgICAgZm9yRWFjaChwcm9kLmRlZmluaXRpb24sIGZ1bmN0aW9uIChjdXJyQWx0KSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gZ2V0QWx0ZXJuYXRpdmVzRm9yUHJvZChjdXJyQWx0LmRlZmluaXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHByb2QgaW5zdGFuY2VvZiBUZXJtaW5hbCkge1xuICAgICAgICAgICAgY3VyclBhdGgucHVzaChwcm9kLnRlcm1pbmFsVHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcIm5vbiBleGhhdXN0aXZlIG1hdGNoXCIpO1xuICAgICAgICB9XG4gICAgICAgIGkrKztcbiAgICB9XG4gICAgcmVzdWx0LnB1c2goe1xuICAgICAgICBwYXJ0aWFsUGF0aDogY3VyclBhdGgsXG4gICAgICAgIHN1ZmZpeERlZjogZHJvcCh0YXJnZXREZWYsIGkpXG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBuZXh0UG9zc2libGVUb2tlbnNBZnRlcihpbml0aWFsRGVmLCB0b2tlblZlY3RvciwgdG9rTWF0Y2hlciwgbWF4TG9va0FoZWFkKSB7XG4gICAgdmFyIEVYSVRfTk9OX1RFUk1JTkFMID0gXCJFWElUX05PTkVfVEVSTUlOQUxcIjtcbiAgICAvLyB0byBhdm9pZCBjcmVhdGluZyBhIG5ldyBBcnJheSBlYWNoIHRpbWUuXG4gICAgdmFyIEVYSVRfTk9OX1RFUk1JTkFMX0FSUiA9IFtFWElUX05PTl9URVJNSU5BTF07XG4gICAgdmFyIEVYSVRfQUxURVJOQVRJVkUgPSBcIkVYSVRfQUxURVJOQVRJVkVcIjtcbiAgICB2YXIgZm91bmRDb21wbGV0ZVBhdGggPSBmYWxzZTtcbiAgICB2YXIgdG9rZW5WZWN0b3JMZW5ndGggPSB0b2tlblZlY3Rvci5sZW5ndGg7XG4gICAgdmFyIG1pbmltYWxBbHRlcm5hdGl2ZXNJbmRleCA9IHRva2VuVmVjdG9yTGVuZ3RoIC0gbWF4TG9va0FoZWFkIC0gMTtcbiAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgdmFyIHBvc3NpYmxlUGF0aHMgPSBbXTtcbiAgICBwb3NzaWJsZVBhdGhzLnB1c2goe1xuICAgICAgICBpZHg6IC0xLFxuICAgICAgICBkZWY6IGluaXRpYWxEZWYsXG4gICAgICAgIHJ1bGVTdGFjazogW10sXG4gICAgICAgIG9jY3VycmVuY2VTdGFjazogW11cbiAgICB9KTtcbiAgICB3aGlsZSAoIWlzRW1wdHkocG9zc2libGVQYXRocykpIHtcbiAgICAgICAgdmFyIGN1cnJQYXRoID0gcG9zc2libGVQYXRocy5wb3AoKTtcbiAgICAgICAgLy8gc2tpcCBhbHRlcm5hdGl2ZXMgaWYgbm8gbW9yZSByZXN1bHRzIGNhbiBiZSBmb3VuZCAoYXNzdW1pbmcgZGV0ZXJtaW5pc3RpYyBncmFtbWFyIHdpdGggZml4ZWQgbG9va2FoZWFkKVxuICAgICAgICBpZiAoY3VyclBhdGggPT09IEVYSVRfQUxURVJOQVRJVkUpIHtcbiAgICAgICAgICAgIGlmIChmb3VuZENvbXBsZXRlUGF0aCAmJlxuICAgICAgICAgICAgICAgIGxhc3QocG9zc2libGVQYXRocykuaWR4IDw9IG1pbmltYWxBbHRlcm5hdGl2ZXNJbmRleCkge1xuICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBpcnJlbGV2YW50IGFsdGVybmF0aXZlXG4gICAgICAgICAgICAgICAgcG9zc2libGVQYXRocy5wb3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjdXJyRGVmID0gY3VyclBhdGguZGVmO1xuICAgICAgICB2YXIgY3VycklkeCA9IGN1cnJQYXRoLmlkeDtcbiAgICAgICAgdmFyIGN1cnJSdWxlU3RhY2sgPSBjdXJyUGF0aC5ydWxlU3RhY2s7XG4gICAgICAgIHZhciBjdXJyT2NjdXJyZW5jZVN0YWNrID0gY3VyclBhdGgub2NjdXJyZW5jZVN0YWNrO1xuICAgICAgICAvLyBGb3IgRXhhbXBsZTogYW4gZW1wdHkgcGF0aCBjb3VsZCBleGlzdCBpbiBhIHZhbGlkIGdyYW1tYXIgaW4gdGhlIGNhc2Ugb2YgYW4gRU1QVFlfQUxUXG4gICAgICAgIGlmIChpc0VtcHR5KGN1cnJEZWYpKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcHJvZCA9IGN1cnJEZWZbMF07XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgIGlmIChwcm9kID09PSBFWElUX05PTl9URVJNSU5BTCkge1xuICAgICAgICAgICAgdmFyIG5leHRQYXRoID0ge1xuICAgICAgICAgICAgICAgIGlkeDogY3VycklkeCxcbiAgICAgICAgICAgICAgICBkZWY6IGRyb3AoY3VyckRlZiksXG4gICAgICAgICAgICAgICAgcnVsZVN0YWNrOiBkcm9wUmlnaHQoY3VyclJ1bGVTdGFjayksXG4gICAgICAgICAgICAgICAgb2NjdXJyZW5jZVN0YWNrOiBkcm9wUmlnaHQoY3Vyck9jY3VycmVuY2VTdGFjaylcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBwb3NzaWJsZVBhdGhzLnB1c2gobmV4dFBhdGgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHByb2QgaW5zdGFuY2VvZiBUZXJtaW5hbCkge1xuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgICAgIGlmIChjdXJySWR4IDwgdG9rZW5WZWN0b3JMZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5leHRJZHggPSBjdXJySWR4ICsgMTtcbiAgICAgICAgICAgICAgICB2YXIgYWN0dWFsVG9rZW4gPSB0b2tlblZlY3RvcltuZXh0SWR4XTtcbiAgICAgICAgICAgICAgICBpZiAodG9rTWF0Y2hlcihhY3R1YWxUb2tlbiwgcHJvZC50ZXJtaW5hbFR5cGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXh0UGF0aCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkeDogbmV4dElkeCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZjogZHJvcChjdXJyRGVmKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVTdGFjazogY3VyclJ1bGVTdGFjayxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9jY3VycmVuY2VTdGFjazogY3Vyck9jY3VycmVuY2VTdGFja1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBwb3NzaWJsZVBhdGhzLnB1c2gobmV4dFBhdGgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBlbmQgb2YgdGhlIGxpbmVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGN1cnJJZHggPT09IHRva2VuVmVjdG9yTGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgIC8vIElHTk9SRSBBQk9WRSBFTFNFXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBuZXh0VG9rZW5UeXBlOiBwcm9kLnRlcm1pbmFsVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgbmV4dFRva2VuT2NjdXJyZW5jZTogcHJvZC5pZHgsXG4gICAgICAgICAgICAgICAgICAgIHJ1bGVTdGFjazogY3VyclJ1bGVTdGFjayxcbiAgICAgICAgICAgICAgICAgICAgb2NjdXJyZW5jZVN0YWNrOiBjdXJyT2NjdXJyZW5jZVN0YWNrXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZm91bmRDb21wbGV0ZVBhdGggPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJub24gZXhoYXVzdGl2ZSBtYXRjaFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwcm9kIGluc3RhbmNlb2YgTm9uVGVybWluYWwpIHtcbiAgICAgICAgICAgIHZhciBuZXdSdWxlU3RhY2sgPSBjbG9uZUFycihjdXJyUnVsZVN0YWNrKTtcbiAgICAgICAgICAgIG5ld1J1bGVTdGFjay5wdXNoKHByb2Qubm9uVGVybWluYWxOYW1lKTtcbiAgICAgICAgICAgIHZhciBuZXdPY2N1cnJlbmNlU3RhY2sgPSBjbG9uZUFycihjdXJyT2NjdXJyZW5jZVN0YWNrKTtcbiAgICAgICAgICAgIG5ld09jY3VycmVuY2VTdGFjay5wdXNoKHByb2QuaWR4KTtcbiAgICAgICAgICAgIHZhciBuZXh0UGF0aCA9IHtcbiAgICAgICAgICAgICAgICBpZHg6IGN1cnJJZHgsXG4gICAgICAgICAgICAgICAgZGVmOiBwcm9kLmRlZmluaXRpb24uY29uY2F0KEVYSVRfTk9OX1RFUk1JTkFMX0FSUiwgZHJvcChjdXJyRGVmKSksXG4gICAgICAgICAgICAgICAgcnVsZVN0YWNrOiBuZXdSdWxlU3RhY2ssXG4gICAgICAgICAgICAgICAgb2NjdXJyZW5jZVN0YWNrOiBuZXdPY2N1cnJlbmNlU3RhY2tcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBwb3NzaWJsZVBhdGhzLnB1c2gobmV4dFBhdGgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHByb2QgaW5zdGFuY2VvZiBPcHRpb24pIHtcbiAgICAgICAgICAgIC8vIHRoZSBvcmRlciBvZiBhbHRlcm5hdGl2ZXMgaXMgbWVhbmluZ2Z1bCwgRklMTyAoTGFzdCBwYXRoIHdpbGwgYmUgdHJhdmVyc2VkIGZpcnN0KS5cbiAgICAgICAgICAgIHZhciBuZXh0UGF0aFdpdGhvdXQgPSB7XG4gICAgICAgICAgICAgICAgaWR4OiBjdXJySWR4LFxuICAgICAgICAgICAgICAgIGRlZjogZHJvcChjdXJyRGVmKSxcbiAgICAgICAgICAgICAgICBydWxlU3RhY2s6IGN1cnJSdWxlU3RhY2ssXG4gICAgICAgICAgICAgICAgb2NjdXJyZW5jZVN0YWNrOiBjdXJyT2NjdXJyZW5jZVN0YWNrXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcG9zc2libGVQYXRocy5wdXNoKG5leHRQYXRoV2l0aG91dCk7XG4gICAgICAgICAgICAvLyByZXF1aXJlZCBtYXJrZXIgdG8gYXZvaWQgYmFja3RyYWNraW5nIHBhdGhzIHdob3NlIGhpZ2hlciBwcmlvcml0eSBhbHRlcm5hdGl2ZXMgYWxyZWFkeSBtYXRjaGVkXG4gICAgICAgICAgICBwb3NzaWJsZVBhdGhzLnB1c2goRVhJVF9BTFRFUk5BVElWRSk7XG4gICAgICAgICAgICB2YXIgbmV4dFBhdGhXaXRoID0ge1xuICAgICAgICAgICAgICAgIGlkeDogY3VycklkeCxcbiAgICAgICAgICAgICAgICBkZWY6IHByb2QuZGVmaW5pdGlvbi5jb25jYXQoZHJvcChjdXJyRGVmKSksXG4gICAgICAgICAgICAgICAgcnVsZVN0YWNrOiBjdXJyUnVsZVN0YWNrLFxuICAgICAgICAgICAgICAgIG9jY3VycmVuY2VTdGFjazogY3Vyck9jY3VycmVuY2VTdGFja1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHBvc3NpYmxlUGF0aHMucHVzaChuZXh0UGF0aFdpdGgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHByb2QgaW5zdGFuY2VvZiBSZXBldGl0aW9uTWFuZGF0b3J5KSB7XG4gICAgICAgICAgICAvLyBUT0RPOihUSEUgTkVXIG9wZXJhdG9ycyBoZXJlIHRha2UgYSB3aGlsZS4uLikgKGNvbnZlcnQgb25jZT8pXG4gICAgICAgICAgICB2YXIgc2Vjb25kSXRlcmF0aW9uID0gbmV3IFJlcGV0aXRpb24oe1xuICAgICAgICAgICAgICAgIGRlZmluaXRpb246IHByb2QuZGVmaW5pdGlvbixcbiAgICAgICAgICAgICAgICBpZHg6IHByb2QuaWR4XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciBuZXh0RGVmID0gcHJvZC5kZWZpbml0aW9uLmNvbmNhdChbc2Vjb25kSXRlcmF0aW9uXSwgZHJvcChjdXJyRGVmKSk7XG4gICAgICAgICAgICB2YXIgbmV4dFBhdGggPSB7XG4gICAgICAgICAgICAgICAgaWR4OiBjdXJySWR4LFxuICAgICAgICAgICAgICAgIGRlZjogbmV4dERlZixcbiAgICAgICAgICAgICAgICBydWxlU3RhY2s6IGN1cnJSdWxlU3RhY2ssXG4gICAgICAgICAgICAgICAgb2NjdXJyZW5jZVN0YWNrOiBjdXJyT2NjdXJyZW5jZVN0YWNrXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcG9zc2libGVQYXRocy5wdXNoKG5leHRQYXRoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwcm9kIGluc3RhbmNlb2YgUmVwZXRpdGlvbk1hbmRhdG9yeVdpdGhTZXBhcmF0b3IpIHtcbiAgICAgICAgICAgIC8vIFRPRE86KFRIRSBORVcgb3BlcmF0b3JzIGhlcmUgdGFrZSBhIHdoaWxlLi4uKSAoY29udmVydCBvbmNlPylcbiAgICAgICAgICAgIHZhciBzZXBhcmF0b3JHYXN0ID0gbmV3IFRlcm1pbmFsKHtcbiAgICAgICAgICAgICAgICB0ZXJtaW5hbFR5cGU6IHByb2Quc2VwYXJhdG9yXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciBzZWNvbmRJdGVyYXRpb24gPSBuZXcgUmVwZXRpdGlvbih7XG4gICAgICAgICAgICAgICAgZGVmaW5pdGlvbjogW3NlcGFyYXRvckdhc3RdLmNvbmNhdChwcm9kLmRlZmluaXRpb24pLFxuICAgICAgICAgICAgICAgIGlkeDogcHJvZC5pZHhcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIG5leHREZWYgPSBwcm9kLmRlZmluaXRpb24uY29uY2F0KFtzZWNvbmRJdGVyYXRpb25dLCBkcm9wKGN1cnJEZWYpKTtcbiAgICAgICAgICAgIHZhciBuZXh0UGF0aCA9IHtcbiAgICAgICAgICAgICAgICBpZHg6IGN1cnJJZHgsXG4gICAgICAgICAgICAgICAgZGVmOiBuZXh0RGVmLFxuICAgICAgICAgICAgICAgIHJ1bGVTdGFjazogY3VyclJ1bGVTdGFjayxcbiAgICAgICAgICAgICAgICBvY2N1cnJlbmNlU3RhY2s6IGN1cnJPY2N1cnJlbmNlU3RhY2tcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBwb3NzaWJsZVBhdGhzLnB1c2gobmV4dFBhdGgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHByb2QgaW5zdGFuY2VvZiBSZXBldGl0aW9uV2l0aFNlcGFyYXRvcikge1xuICAgICAgICAgICAgLy8gdGhlIG9yZGVyIG9mIGFsdGVybmF0aXZlcyBpcyBtZWFuaW5nZnVsLCBGSUxPIChMYXN0IHBhdGggd2lsbCBiZSB0cmF2ZXJzZWQgZmlyc3QpLlxuICAgICAgICAgICAgdmFyIG5leHRQYXRoV2l0aG91dCA9IHtcbiAgICAgICAgICAgICAgICBpZHg6IGN1cnJJZHgsXG4gICAgICAgICAgICAgICAgZGVmOiBkcm9wKGN1cnJEZWYpLFxuICAgICAgICAgICAgICAgIHJ1bGVTdGFjazogY3VyclJ1bGVTdGFjayxcbiAgICAgICAgICAgICAgICBvY2N1cnJlbmNlU3RhY2s6IGN1cnJPY2N1cnJlbmNlU3RhY2tcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBwb3NzaWJsZVBhdGhzLnB1c2gobmV4dFBhdGhXaXRob3V0KTtcbiAgICAgICAgICAgIC8vIHJlcXVpcmVkIG1hcmtlciB0byBhdm9pZCBiYWNrdHJhY2tpbmcgcGF0aHMgd2hvc2UgaGlnaGVyIHByaW9yaXR5IGFsdGVybmF0aXZlcyBhbHJlYWR5IG1hdGNoZWRcbiAgICAgICAgICAgIHBvc3NpYmxlUGF0aHMucHVzaChFWElUX0FMVEVSTkFUSVZFKTtcbiAgICAgICAgICAgIHZhciBzZXBhcmF0b3JHYXN0ID0gbmV3IFRlcm1pbmFsKHtcbiAgICAgICAgICAgICAgICB0ZXJtaW5hbFR5cGU6IHByb2Quc2VwYXJhdG9yXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciBudGhSZXBldGl0aW9uID0gbmV3IFJlcGV0aXRpb24oe1xuICAgICAgICAgICAgICAgIGRlZmluaXRpb246IFtzZXBhcmF0b3JHYXN0XS5jb25jYXQocHJvZC5kZWZpbml0aW9uKSxcbiAgICAgICAgICAgICAgICBpZHg6IHByb2QuaWR4XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciBuZXh0RGVmID0gcHJvZC5kZWZpbml0aW9uLmNvbmNhdChbbnRoUmVwZXRpdGlvbl0sIGRyb3AoY3VyckRlZikpO1xuICAgICAgICAgICAgdmFyIG5leHRQYXRoV2l0aCA9IHtcbiAgICAgICAgICAgICAgICBpZHg6IGN1cnJJZHgsXG4gICAgICAgICAgICAgICAgZGVmOiBuZXh0RGVmLFxuICAgICAgICAgICAgICAgIHJ1bGVTdGFjazogY3VyclJ1bGVTdGFjayxcbiAgICAgICAgICAgICAgICBvY2N1cnJlbmNlU3RhY2s6IGN1cnJPY2N1cnJlbmNlU3RhY2tcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBwb3NzaWJsZVBhdGhzLnB1c2gobmV4dFBhdGhXaXRoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwcm9kIGluc3RhbmNlb2YgUmVwZXRpdGlvbikge1xuICAgICAgICAgICAgLy8gdGhlIG9yZGVyIG9mIGFsdGVybmF0aXZlcyBpcyBtZWFuaW5nZnVsLCBGSUxPIChMYXN0IHBhdGggd2lsbCBiZSB0cmF2ZXJzZWQgZmlyc3QpLlxuICAgICAgICAgICAgdmFyIG5leHRQYXRoV2l0aG91dCA9IHtcbiAgICAgICAgICAgICAgICBpZHg6IGN1cnJJZHgsXG4gICAgICAgICAgICAgICAgZGVmOiBkcm9wKGN1cnJEZWYpLFxuICAgICAgICAgICAgICAgIHJ1bGVTdGFjazogY3VyclJ1bGVTdGFjayxcbiAgICAgICAgICAgICAgICBvY2N1cnJlbmNlU3RhY2s6IGN1cnJPY2N1cnJlbmNlU3RhY2tcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBwb3NzaWJsZVBhdGhzLnB1c2gobmV4dFBhdGhXaXRob3V0KTtcbiAgICAgICAgICAgIC8vIHJlcXVpcmVkIG1hcmtlciB0byBhdm9pZCBiYWNrdHJhY2tpbmcgcGF0aHMgd2hvc2UgaGlnaGVyIHByaW9yaXR5IGFsdGVybmF0aXZlcyBhbHJlYWR5IG1hdGNoZWRcbiAgICAgICAgICAgIHBvc3NpYmxlUGF0aHMucHVzaChFWElUX0FMVEVSTkFUSVZFKTtcbiAgICAgICAgICAgIC8vIFRPRE86IGFuIGVtcHR5IHJlcGV0aXRpb24gd2lsbCBjYXVzZSBpbmZpbml0ZSBsb29wcyBoZXJlLCB3aWxsIHRoZSBwYXJzZXIgZGV0ZWN0IHRoaXMgaW4gc2VsZkFuYWx5c2lzP1xuICAgICAgICAgICAgdmFyIG50aFJlcGV0aXRpb24gPSBuZXcgUmVwZXRpdGlvbih7XG4gICAgICAgICAgICAgICAgZGVmaW5pdGlvbjogcHJvZC5kZWZpbml0aW9uLFxuICAgICAgICAgICAgICAgIGlkeDogcHJvZC5pZHhcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIG5leHREZWYgPSBwcm9kLmRlZmluaXRpb24uY29uY2F0KFtudGhSZXBldGl0aW9uXSwgZHJvcChjdXJyRGVmKSk7XG4gICAgICAgICAgICB2YXIgbmV4dFBhdGhXaXRoID0ge1xuICAgICAgICAgICAgICAgIGlkeDogY3VycklkeCxcbiAgICAgICAgICAgICAgICBkZWY6IG5leHREZWYsXG4gICAgICAgICAgICAgICAgcnVsZVN0YWNrOiBjdXJyUnVsZVN0YWNrLFxuICAgICAgICAgICAgICAgIG9jY3VycmVuY2VTdGFjazogY3Vyck9jY3VycmVuY2VTdGFja1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHBvc3NpYmxlUGF0aHMucHVzaChuZXh0UGF0aFdpdGgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHByb2QgaW5zdGFuY2VvZiBBbHRlcm5hdGlvbikge1xuICAgICAgICAgICAgLy8gdGhlIG9yZGVyIG9mIGFsdGVybmF0aXZlcyBpcyBtZWFuaW5nZnVsLCBGSUxPIChMYXN0IHBhdGggd2lsbCBiZSB0cmF2ZXJzZWQgZmlyc3QpLlxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IHByb2QuZGVmaW5pdGlvbi5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgICAgIHZhciBjdXJyQWx0ID0gcHJvZC5kZWZpbml0aW9uW2ldO1xuICAgICAgICAgICAgICAgIHZhciBjdXJyQWx0UGF0aCA9IHtcbiAgICAgICAgICAgICAgICAgICAgaWR4OiBjdXJySWR4LFxuICAgICAgICAgICAgICAgICAgICBkZWY6IGN1cnJBbHQuZGVmaW5pdGlvbi5jb25jYXQoZHJvcChjdXJyRGVmKSksXG4gICAgICAgICAgICAgICAgICAgIHJ1bGVTdGFjazogY3VyclJ1bGVTdGFjayxcbiAgICAgICAgICAgICAgICAgICAgb2NjdXJyZW5jZVN0YWNrOiBjdXJyT2NjdXJyZW5jZVN0YWNrXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBwb3NzaWJsZVBhdGhzLnB1c2goY3VyckFsdFBhdGgpO1xuICAgICAgICAgICAgICAgIHBvc3NpYmxlUGF0aHMucHVzaChFWElUX0FMVEVSTkFUSVZFKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwcm9kIGluc3RhbmNlb2YgQWx0ZXJuYXRpdmUpIHtcbiAgICAgICAgICAgIHBvc3NpYmxlUGF0aHMucHVzaCh7XG4gICAgICAgICAgICAgICAgaWR4OiBjdXJySWR4LFxuICAgICAgICAgICAgICAgIGRlZjogcHJvZC5kZWZpbml0aW9uLmNvbmNhdChkcm9wKGN1cnJEZWYpKSxcbiAgICAgICAgICAgICAgICBydWxlU3RhY2s6IGN1cnJSdWxlU3RhY2ssXG4gICAgICAgICAgICAgICAgb2NjdXJyZW5jZVN0YWNrOiBjdXJyT2NjdXJyZW5jZVN0YWNrXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwcm9kIGluc3RhbmNlb2YgUnVsZSkge1xuICAgICAgICAgICAgLy8gbGFzdCBiZWNhdXNlIHdlIHNob3VsZCBvbmx5IGVuY291bnRlciBhdCBtb3N0IGEgc2luZ2xlIG9uZSBvZiB0aGVzZSBwZXIgaW52b2NhdGlvbi5cbiAgICAgICAgICAgIHBvc3NpYmxlUGF0aHMucHVzaChleHBhbmRUb3BMZXZlbFJ1bGUocHJvZCwgY3VycklkeCwgY3VyclJ1bGVTdGFjaywgY3Vyck9jY3VycmVuY2VTdGFjaykpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJub24gZXhoYXVzdGl2ZSBtYXRjaFwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gZXhwYW5kVG9wTGV2ZWxSdWxlKHRvcFJ1bGUsIGN1cnJJZHgsIGN1cnJSdWxlU3RhY2ssIGN1cnJPY2N1cnJlbmNlU3RhY2spIHtcbiAgICB2YXIgbmV3UnVsZVN0YWNrID0gY2xvbmVBcnIoY3VyclJ1bGVTdGFjayk7XG4gICAgbmV3UnVsZVN0YWNrLnB1c2godG9wUnVsZS5uYW1lKTtcbiAgICB2YXIgbmV3Q3Vyck9jY3VycmVuY2VTdGFjayA9IGNsb25lQXJyKGN1cnJPY2N1cnJlbmNlU3RhY2spO1xuICAgIC8vIHRvcCBydWxlIGlzIGFsd2F5cyBhc3N1bWVkIHRvIGhhdmUgYmVlbiBjYWxsZWQgd2l0aCBvY2N1cnJlbmNlIGluZGV4IDFcbiAgICBuZXdDdXJyT2NjdXJyZW5jZVN0YWNrLnB1c2goMSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaWR4OiBjdXJySWR4LFxuICAgICAgICBkZWY6IHRvcFJ1bGUuZGVmaW5pdGlvbixcbiAgICAgICAgcnVsZVN0YWNrOiBuZXdSdWxlU3RhY2ssXG4gICAgICAgIG9jY3VycmVuY2VTdGFjazogbmV3Q3Vyck9jY3VycmVuY2VTdGFja1xuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbnRlcnByZXRlci5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbmltcG9ydCB7IG1hcCwgcmVkdWNlLCBldmVyeSwgaXNFbXB0eSwgZmxhdHRlbiwgZm9yRWFjaCwgaGFzIH0gZnJvbSBcIi4uLy4uL3V0aWxzL3V0aWxzXCI7XG5pbXBvcnQgeyBwb3NzaWJsZVBhdGhzRnJvbSB9IGZyb20gXCIuL2ludGVycHJldGVyXCI7XG5pbXBvcnQgeyBSZXN0V2Fsa2VyIH0gZnJvbSBcIi4vcmVzdFwiO1xuaW1wb3J0IHsgdG9rZW5TdHJ1Y3R1cmVkTWF0Y2hlciwgdG9rZW5TdHJ1Y3R1cmVkTWF0Y2hlck5vQ2F0ZWdvcmllcyB9IGZyb20gXCIuLi8uLi9zY2FuL3Rva2Vuc1wiO1xuaW1wb3J0IHsgQWx0ZXJuYXRpb24sIEFsdGVybmF0aXZlIGFzIEFsdGVybmF0aXZlR0FTVCwgT3B0aW9uLCBSZXBldGl0aW9uLCBSZXBldGl0aW9uTWFuZGF0b3J5LCBSZXBldGl0aW9uTWFuZGF0b3J5V2l0aFNlcGFyYXRvciwgUmVwZXRpdGlvbldpdGhTZXBhcmF0b3IgfSBmcm9tIFwiLi9nYXN0L2dhc3RfcHVibGljXCI7XG5pbXBvcnQgeyBHQXN0VmlzaXRvciB9IGZyb20gXCIuL2dhc3QvZ2FzdF92aXNpdG9yX3B1YmxpY1wiO1xuZXhwb3J0IHZhciBQUk9EX1RZUEU7XG4oZnVuY3Rpb24gKFBST0RfVFlQRSkge1xuICAgIFBST0RfVFlQRVtQUk9EX1RZUEVbXCJPUFRJT05cIl0gPSAwXSA9IFwiT1BUSU9OXCI7XG4gICAgUFJPRF9UWVBFW1BST0RfVFlQRVtcIlJFUEVUSVRJT05cIl0gPSAxXSA9IFwiUkVQRVRJVElPTlwiO1xuICAgIFBST0RfVFlQRVtQUk9EX1RZUEVbXCJSRVBFVElUSU9OX01BTkRBVE9SWVwiXSA9IDJdID0gXCJSRVBFVElUSU9OX01BTkRBVE9SWVwiO1xuICAgIFBST0RfVFlQRVtQUk9EX1RZUEVbXCJSRVBFVElUSU9OX01BTkRBVE9SWV9XSVRIX1NFUEFSQVRPUlwiXSA9IDNdID0gXCJSRVBFVElUSU9OX01BTkRBVE9SWV9XSVRIX1NFUEFSQVRPUlwiO1xuICAgIFBST0RfVFlQRVtQUk9EX1RZUEVbXCJSRVBFVElUSU9OX1dJVEhfU0VQQVJBVE9SXCJdID0gNF0gPSBcIlJFUEVUSVRJT05fV0lUSF9TRVBBUkFUT1JcIjtcbiAgICBQUk9EX1RZUEVbUFJPRF9UWVBFW1wiQUxURVJOQVRJT05cIl0gPSA1XSA9IFwiQUxURVJOQVRJT05cIjtcbn0pKFBST0RfVFlQRSB8fCAoUFJPRF9UWVBFID0ge30pKTtcbmV4cG9ydCBmdW5jdGlvbiBnZXRQcm9kVHlwZShwcm9kKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICBpZiAocHJvZCBpbnN0YW5jZW9mIE9wdGlvbikge1xuICAgICAgICByZXR1cm4gUFJPRF9UWVBFLk9QVElPTjtcbiAgICB9XG4gICAgZWxzZSBpZiAocHJvZCBpbnN0YW5jZW9mIFJlcGV0aXRpb24pIHtcbiAgICAgICAgcmV0dXJuIFBST0RfVFlQRS5SRVBFVElUSU9OO1xuICAgIH1cbiAgICBlbHNlIGlmIChwcm9kIGluc3RhbmNlb2YgUmVwZXRpdGlvbk1hbmRhdG9yeSkge1xuICAgICAgICByZXR1cm4gUFJPRF9UWVBFLlJFUEVUSVRJT05fTUFOREFUT1JZO1xuICAgIH1cbiAgICBlbHNlIGlmIChwcm9kIGluc3RhbmNlb2YgUmVwZXRpdGlvbk1hbmRhdG9yeVdpdGhTZXBhcmF0b3IpIHtcbiAgICAgICAgcmV0dXJuIFBST0RfVFlQRS5SRVBFVElUSU9OX01BTkRBVE9SWV9XSVRIX1NFUEFSQVRPUjtcbiAgICB9XG4gICAgZWxzZSBpZiAocHJvZCBpbnN0YW5jZW9mIFJlcGV0aXRpb25XaXRoU2VwYXJhdG9yKSB7XG4gICAgICAgIHJldHVybiBQUk9EX1RZUEUuUkVQRVRJVElPTl9XSVRIX1NFUEFSQVRPUjtcbiAgICB9XG4gICAgZWxzZSBpZiAocHJvZCBpbnN0YW5jZW9mIEFsdGVybmF0aW9uKSB7XG4gICAgICAgIHJldHVybiBQUk9EX1RZUEUuQUxURVJOQVRJT047XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBFcnJvcihcIm5vbiBleGhhdXN0aXZlIG1hdGNoXCIpO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBidWlsZExvb2thaGVhZEZ1bmNGb3JPcihvY2N1cnJlbmNlLCBydWxlR3JhbW1hciwgbWF4TG9va2FoZWFkLCBoYXNQcmVkaWNhdGVzLCBkeW5hbWljVG9rZW5zRW5hYmxlZCwgbGFGdW5jQnVpbGRlcikge1xuICAgIHZhciBsb29rQWhlYWRQYXRocyA9IGdldExvb2thaGVhZFBhdGhzRm9yT3Iob2NjdXJyZW5jZSwgcnVsZUdyYW1tYXIsIG1heExvb2thaGVhZCk7XG4gICAgdmFyIHRva2VuTWF0Y2hlciA9IGFyZVRva2VuQ2F0ZWdvcmllc05vdFVzZWQobG9va0FoZWFkUGF0aHMpXG4gICAgICAgID8gdG9rZW5TdHJ1Y3R1cmVkTWF0Y2hlck5vQ2F0ZWdvcmllc1xuICAgICAgICA6IHRva2VuU3RydWN0dXJlZE1hdGNoZXI7XG4gICAgcmV0dXJuIGxhRnVuY0J1aWxkZXIobG9va0FoZWFkUGF0aHMsIGhhc1ByZWRpY2F0ZXMsIHRva2VuTWF0Y2hlciwgZHluYW1pY1Rva2Vuc0VuYWJsZWQpO1xufVxuLyoqXG4gKiAgV2hlbiBkZWFsaW5nIHdpdGggYW4gT3B0aW9uYWwgcHJvZHVjdGlvbiAoT1BUSU9OL01BTlkvMm5kIGl0ZXJhdGlvbiBvZiBBVF9MRUFTVF9PTkUvLi4uKSB3ZSBuZWVkIHRvIGNvbXBhcmVcbiAqICB0aGUgbG9va2FoZWFkIFwiaW5zaWRlXCIgdGhlIHByb2R1Y3Rpb24gYW5kIHRoZSBsb29rYWhlYWQgaW1tZWRpYXRlbHkgXCJhZnRlclwiIGl0IGluIHRoZSBzYW1lIHRvcCBsZXZlbCBydWxlIChjb250ZXh0IGZyZWUpLlxuICpcbiAqICBFeGFtcGxlOiBnaXZlbiBhIHByb2R1Y3Rpb246XG4gKiAgQUJDKERFKT9ERlxuICpcbiAqICBUaGUgb3B0aW9uYWwgJyhERSk/JyBzaG91bGQgb25seSBiZSBlbnRlcmVkIGlmIHdlIHNlZSAnREUnLiBhIHNpbmdsZSBUb2tlbiAnRCcgaXMgbm90IHN1ZmZpY2llbnQgdG8gZGlzdGluZ3Vpc2ggYmV0d2VlbiB0aGUgdHdvXG4gKiAgYWx0ZXJuYXRpdmVzLlxuICpcbiAqICBAcmV0dXJucyBBIExvb2thaGVhZCBmdW5jdGlvbiB3aGljaCB3aWxsIHJldHVybiB0cnVlIElGRiB0aGUgcGFyc2VyIHNob3VsZCBwYXJzZSB0aGUgT3B0aW9uYWwgcHJvZHVjdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkTG9va2FoZWFkRnVuY0Zvck9wdGlvbmFsUHJvZChvY2N1cnJlbmNlLCBydWxlR3JhbW1hciwgaywgZHluYW1pY1Rva2Vuc0VuYWJsZWQsIHByb2RUeXBlLCBsb29rYWhlYWRCdWlsZGVyKSB7XG4gICAgdmFyIGxvb2tBaGVhZFBhdGhzID0gZ2V0TG9va2FoZWFkUGF0aHNGb3JPcHRpb25hbFByb2Qob2NjdXJyZW5jZSwgcnVsZUdyYW1tYXIsIHByb2RUeXBlLCBrKTtcbiAgICB2YXIgdG9rZW5NYXRjaGVyID0gYXJlVG9rZW5DYXRlZ29yaWVzTm90VXNlZChsb29rQWhlYWRQYXRocylcbiAgICAgICAgPyB0b2tlblN0cnVjdHVyZWRNYXRjaGVyTm9DYXRlZ29yaWVzXG4gICAgICAgIDogdG9rZW5TdHJ1Y3R1cmVkTWF0Y2hlcjtcbiAgICByZXR1cm4gbG9va2FoZWFkQnVpbGRlcihsb29rQWhlYWRQYXRoc1swXSwgdG9rZW5NYXRjaGVyLCBkeW5hbWljVG9rZW5zRW5hYmxlZCk7XG59XG5leHBvcnQgZnVuY3Rpb24gYnVpbGRBbHRlcm5hdGl2ZXNMb29rQWhlYWRGdW5jKGFsdHMsIGhhc1ByZWRpY2F0ZXMsIHRva2VuTWF0Y2hlciwgZHluYW1pY1Rva2Vuc0VuYWJsZWQpIHtcbiAgICB2YXIgbnVtT2ZBbHRzID0gYWx0cy5sZW5ndGg7XG4gICAgdmFyIGFyZUFsbE9uZVRva2VuTG9va2FoZWFkID0gZXZlcnkoYWx0cywgZnVuY3Rpb24gKGN1cnJBbHQpIHtcbiAgICAgICAgcmV0dXJuIGV2ZXJ5KGN1cnJBbHQsIGZ1bmN0aW9uIChjdXJyUGF0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGN1cnJQYXRoLmxlbmd0aCA9PT0gMTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgLy8gVGhpcyB2ZXJzaW9uIHRha2VzIGludG8gYWNjb3VudCB0aGUgcHJlZGljYXRlcyBhcyB3ZWxsLlxuICAgIGlmIChoYXNQcmVkaWNhdGVzKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSAtIFRoZSBjaG9zZW4gYWx0ZXJuYXRpdmUgaW5kZXhcbiAgICAgICAgICovXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAob3JBbHRzKSB7XG4gICAgICAgICAgICAvLyB1bmZvcnR1bmF0ZWx5IHRoZSBwcmVkaWNhdGVzIG11c3QgYmUgZXh0cmFjdGVkIGV2ZXJ5IHNpbmdsZSB0aW1lXG4gICAgICAgICAgICAvLyBhcyB0aGV5IGNhbm5vdCBiZSBjYWNoZWQgZHVlIHRvIHJlZmVyZW5jZXMgdG8gcGFyYW1ldGVycyh2YXJzKSB3aGljaCBhcmUgbm8gbG9uZ2VyIHZhbGlkLlxuICAgICAgICAgICAgLy8gbm90ZSB0aGF0IGluIHRoZSBjb21tb24gY2FzZSBvZiBubyBwcmVkaWNhdGVzLCBubyBjcHUgdGltZSB3aWxsIGJlIHdhc3RlZCBvbiB0aGlzIChzZWUgZWxzZSBibG9jaylcbiAgICAgICAgICAgIHZhciBwcmVkaWNhdGVzID0gbWFwKG9yQWx0cywgZnVuY3Rpb24gKGN1cnJBbHQpIHsgcmV0dXJuIGN1cnJBbHQuR0FURTsgfSk7XG4gICAgICAgICAgICBmb3IgKHZhciB0ID0gMDsgdCA8IG51bU9mQWx0czsgdCsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGN1cnJBbHQgPSBhbHRzW3RdO1xuICAgICAgICAgICAgICAgIHZhciBjdXJyTnVtT2ZQYXRocyA9IGN1cnJBbHQubGVuZ3RoO1xuICAgICAgICAgICAgICAgIHZhciBjdXJyUHJlZGljYXRlID0gcHJlZGljYXRlc1t0XTtcbiAgICAgICAgICAgICAgICBpZiAoY3VyclByZWRpY2F0ZSAhPT0gdW5kZWZpbmVkICYmIGN1cnJQcmVkaWNhdGUuY2FsbCh0aGlzKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgdGhlIHByZWRpY2F0ZSBkb2VzIG5vdCBtYXRjaCB0aGVyZSBpcyBubyBwb2ludCBpbiBjaGVja2luZyB0aGUgcGF0aHNcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG5leHRQYXRoOiBmb3IgKHZhciBqID0gMDsgaiA8IGN1cnJOdW1PZlBhdGhzOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJQYXRoID0gY3VyckFsdFtqXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJQYXRoTGVuZ3RoID0gY3VyclBhdGgubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGN1cnJQYXRoTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXh0VG9rZW4gPSB0aGlzLkxBKGkgKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbk1hdGNoZXIobmV4dFRva2VuLCBjdXJyUGF0aFtpXSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbWlzbWF0Y2ggaW4gY3VycmVudCBwYXRoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdHJ5IHRoZSBuZXh0IHB0aFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlIG5leHRQYXRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIGZvdW5kIGEgZnVsbCBwYXRoIHRoYXQgbWF0Y2hlcy5cbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyB3aWxsIGFsc28gd29yayBmb3IgYW4gZW1wdHkgQUxUIGFzIHRoZSBsb29wIHdpbGwgYmUgc2tpcHBlZFxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gbm9uZSBvZiB0aGUgcGF0aHMgZm9yIHRoZSBjdXJyZW50IGFsdGVybmF0aXZlIG1hdGNoZWRcbiAgICAgICAgICAgICAgICAvLyB0cnkgdGhlIG5leHQgYWx0ZXJuYXRpdmVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIG5vbmUgb2YgdGhlIGFsdGVybmF0aXZlcyBjb3VsZCBiZSBtYXRjaGVkXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChhcmVBbGxPbmVUb2tlbkxvb2thaGVhZCAmJiAhZHluYW1pY1Rva2Vuc0VuYWJsZWQpIHtcbiAgICAgICAgLy8gb3B0aW1pemVkIChjb21tb24pIGNhc2Ugb2YgYWxsIHRoZSBsb29rYWhlYWRzIHBhdGhzIHJlcXVpcmluZyBvbmx5XG4gICAgICAgIC8vIGEgc2luZ2xlIHRva2VuIGxvb2thaGVhZC4gVGhlc2UgT3B0aW1pemF0aW9ucyBjYW5ub3Qgd29yayBpZiBkeW5hbWljYWxseSBkZWZpbmVkIFRva2VucyBhcmUgdXNlZC5cbiAgICAgICAgdmFyIHNpbmdsZVRva2VuQWx0cyA9IG1hcChhbHRzLCBmdW5jdGlvbiAoY3VyckFsdCkge1xuICAgICAgICAgICAgcmV0dXJuIGZsYXR0ZW4oY3VyckFsdCk7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgY2hvaWNlVG9BbHRfMSA9IHJlZHVjZShzaW5nbGVUb2tlbkFsdHMsIGZ1bmN0aW9uIChyZXN1bHQsIGN1cnJBbHQsIGlkeCkge1xuICAgICAgICAgICAgZm9yRWFjaChjdXJyQWx0LCBmdW5jdGlvbiAoY3VyclRva1R5cGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWhhcyhyZXN1bHQsIGN1cnJUb2tUeXBlLnRva2VuVHlwZUlkeCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0W2N1cnJUb2tUeXBlLnRva2VuVHlwZUlkeF0gPSBpZHg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvckVhY2goY3VyclRva1R5cGUuY2F0ZWdvcnlNYXRjaGVzLCBmdW5jdGlvbiAoY3VyckV4dGVuZGluZ1R5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFoYXMocmVzdWx0LCBjdXJyRXh0ZW5kaW5nVHlwZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFtjdXJyRXh0ZW5kaW5nVHlwZV0gPSBpZHg7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfSwgW10pO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybnMge251bWJlcn0gLSBUaGUgY2hvc2VuIGFsdGVybmF0aXZlIGluZGV4XG4gICAgICAgICAqL1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIG5leHRUb2tlbiA9IHRoaXMuTEEoMSk7XG4gICAgICAgICAgICByZXR1cm4gY2hvaWNlVG9BbHRfMVtuZXh0VG9rZW4udG9rZW5UeXBlSWR4XTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIG9wdGltaXplZCBsb29rYWhlYWQgd2l0aG91dCBuZWVkaW5nIHRvIGNoZWNrIHRoZSBwcmVkaWNhdGVzIGF0IGFsbC5cbiAgICAgICAgLy8gdGhpcyBjYXVzZXMgY29kZSBkdXBsaWNhdGlvbiB3aGljaCBpcyBpbnRlbnRpb25hbCB0byBpbXByb3ZlIHBlcmZvcm1hbmNlLlxuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybnMge251bWJlcn0gLSBUaGUgY2hvc2VuIGFsdGVybmF0aXZlIGluZGV4XG4gICAgICAgICAqL1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZm9yICh2YXIgdCA9IDA7IHQgPCBudW1PZkFsdHM7IHQrKykge1xuICAgICAgICAgICAgICAgIHZhciBjdXJyQWx0ID0gYWx0c1t0XTtcbiAgICAgICAgICAgICAgICB2YXIgY3Vyck51bU9mUGF0aHMgPSBjdXJyQWx0Lmxlbmd0aDtcbiAgICAgICAgICAgICAgICBuZXh0UGF0aDogZm9yICh2YXIgaiA9IDA7IGogPCBjdXJyTnVtT2ZQYXRoczsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJyUGF0aCA9IGN1cnJBbHRbal07XG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJyUGF0aExlbmd0aCA9IGN1cnJQYXRoLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjdXJyUGF0aExlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmV4dFRva2VuID0gdGhpcy5MQShpICsgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW5NYXRjaGVyKG5leHRUb2tlbiwgY3VyclBhdGhbaV0pID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG1pc21hdGNoIGluIGN1cnJlbnQgcGF0aFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRyeSB0aGUgbmV4dCBwdGhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZSBuZXh0UGF0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBmb3VuZCBhIGZ1bGwgcGF0aCB0aGF0IG1hdGNoZXMuXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgd2lsbCBhbHNvIHdvcmsgZm9yIGFuIGVtcHR5IEFMVCBhcyB0aGUgbG9vcCB3aWxsIGJlIHNraXBwZWRcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIG5vbmUgb2YgdGhlIHBhdGhzIGZvciB0aGUgY3VycmVudCBhbHRlcm5hdGl2ZSBtYXRjaGVkXG4gICAgICAgICAgICAgICAgLy8gdHJ5IHRoZSBuZXh0IGFsdGVybmF0aXZlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBub25lIG9mIHRoZSBhbHRlcm5hdGl2ZXMgY291bGQgYmUgbWF0Y2hlZFxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gYnVpbGRTaW5nbGVBbHRlcm5hdGl2ZUxvb2thaGVhZEZ1bmN0aW9uKGFsdCwgdG9rZW5NYXRjaGVyLCBkeW5hbWljVG9rZW5zRW5hYmxlZCkge1xuICAgIHZhciBhcmVBbGxPbmVUb2tlbkxvb2thaGVhZCA9IGV2ZXJ5KGFsdCwgZnVuY3Rpb24gKGN1cnJQYXRoKSB7XG4gICAgICAgIHJldHVybiBjdXJyUGF0aC5sZW5ndGggPT09IDE7XG4gICAgfSk7XG4gICAgdmFyIG51bU9mUGF0aHMgPSBhbHQubGVuZ3RoO1xuICAgIC8vIG9wdGltaXplZCAoY29tbW9uKSBjYXNlIG9mIGFsbCB0aGUgbG9va2FoZWFkcyBwYXRocyByZXF1aXJpbmcgb25seVxuICAgIC8vIGEgc2luZ2xlIHRva2VuIGxvb2thaGVhZC5cbiAgICBpZiAoYXJlQWxsT25lVG9rZW5Mb29rYWhlYWQgJiYgIWR5bmFtaWNUb2tlbnNFbmFibGVkKSB7XG4gICAgICAgIHZhciBzaW5nbGVUb2tlbnNUeXBlcyA9IGZsYXR0ZW4oYWx0KTtcbiAgICAgICAgaWYgKHNpbmdsZVRva2Vuc1R5cGVzLmxlbmd0aCA9PT0gMSAmJlxuICAgICAgICAgICAgaXNFbXB0eShzaW5nbGVUb2tlbnNUeXBlc1swXS5jYXRlZ29yeU1hdGNoZXMpKSB7XG4gICAgICAgICAgICB2YXIgZXhwZWN0ZWRUb2tlblR5cGUgPSBzaW5nbGVUb2tlbnNUeXBlc1swXTtcbiAgICAgICAgICAgIHZhciBleHBlY3RlZFRva2VuVW5pcXVlS2V5XzEgPSBleHBlY3RlZFRva2VuVHlwZS50b2tlblR5cGVJZHg7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLkxBKDEpLnRva2VuVHlwZUlkeCA9PT0gZXhwZWN0ZWRUb2tlblVuaXF1ZUtleV8xO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBjaG9pY2VUb0FsdF8yID0gcmVkdWNlKHNpbmdsZVRva2Vuc1R5cGVzLCBmdW5jdGlvbiAocmVzdWx0LCBjdXJyVG9rVHlwZSwgaWR4KSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0W2N1cnJUb2tUeXBlLnRva2VuVHlwZUlkeF0gPSB0cnVlO1xuICAgICAgICAgICAgICAgIGZvckVhY2goY3VyclRva1R5cGUuY2F0ZWdvcnlNYXRjaGVzLCBmdW5jdGlvbiAoY3VyckV4dGVuZGluZ1R5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0W2N1cnJFeHRlbmRpbmdUeXBlXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH0sIFtdKTtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5leHRUb2tlbiA9IHRoaXMuTEEoMSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNob2ljZVRvQWx0XzJbbmV4dFRva2VuLnRva2VuVHlwZUlkeF0gPT09IHRydWU7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbmV4dFBhdGg6IGZvciAodmFyIGogPSAwOyBqIDwgbnVtT2ZQYXRoczsgaisrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGN1cnJQYXRoID0gYWx0W2pdO1xuICAgICAgICAgICAgICAgIHZhciBjdXJyUGF0aExlbmd0aCA9IGN1cnJQYXRoLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGN1cnJQYXRoTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5leHRUb2tlbiA9IHRoaXMuTEEoaSArIDEpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW5NYXRjaGVyKG5leHRUb2tlbiwgY3VyclBhdGhbaV0pID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbWlzbWF0Y2ggaW4gY3VycmVudCBwYXRoXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0cnkgdGhlIG5leHQgcHRoXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZSBuZXh0UGF0aDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBmb3VuZCBhIGZ1bGwgcGF0aCB0aGF0IG1hdGNoZXMuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBub25lIG9mIHRoZSBwYXRocyBtYXRjaGVkXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH07XG4gICAgfVxufVxudmFyIFJlc3REZWZpbml0aW9uRmluZGVyV2Fsa2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhSZXN0RGVmaW5pdGlvbkZpbmRlcldhbGtlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBSZXN0RGVmaW5pdGlvbkZpbmRlcldhbGtlcih0b3BQcm9kLCB0YXJnZXRPY2N1cnJlbmNlLCB0YXJnZXRQcm9kVHlwZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy50b3BQcm9kID0gdG9wUHJvZDtcbiAgICAgICAgX3RoaXMudGFyZ2V0T2NjdXJyZW5jZSA9IHRhcmdldE9jY3VycmVuY2U7XG4gICAgICAgIF90aGlzLnRhcmdldFByb2RUeXBlID0gdGFyZ2V0UHJvZFR5cGU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgUmVzdERlZmluaXRpb25GaW5kZXJXYWxrZXIucHJvdG90eXBlLnN0YXJ0V2Fsa2luZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy53YWxrKHRoaXMudG9wUHJvZCk7XG4gICAgICAgIHJldHVybiB0aGlzLnJlc3REZWY7XG4gICAgfTtcbiAgICBSZXN0RGVmaW5pdGlvbkZpbmRlcldhbGtlci5wcm90b3R5cGUuY2hlY2tJc1RhcmdldCA9IGZ1bmN0aW9uIChub2RlLCBleHBlY3RlZFByb2RUeXBlLCBjdXJyUmVzdCwgcHJldlJlc3QpIHtcbiAgICAgICAgaWYgKG5vZGUuaWR4ID09PSB0aGlzLnRhcmdldE9jY3VycmVuY2UgJiZcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0UHJvZFR5cGUgPT09IGV4cGVjdGVkUHJvZFR5cGUpIHtcbiAgICAgICAgICAgIHRoaXMucmVzdERlZiA9IGN1cnJSZXN0LmNvbmNhdChwcmV2UmVzdCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBwZXJmb3JtYW5jZSBvcHRpbWl6YXRpb24sIGRvIG5vdCBpdGVyYXRlIG92ZXIgdGhlIGVudGlyZSBHcmFtbWFyIGFzdCBhZnRlciB3ZSBoYXZlIGZvdW5kIHRoZSB0YXJnZXRcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgUmVzdERlZmluaXRpb25GaW5kZXJXYWxrZXIucHJvdG90eXBlLndhbGtPcHRpb24gPSBmdW5jdGlvbiAob3B0aW9uUHJvZCwgY3VyclJlc3QsIHByZXZSZXN0KSB7XG4gICAgICAgIGlmICghdGhpcy5jaGVja0lzVGFyZ2V0KG9wdGlvblByb2QsIFBST0RfVFlQRS5PUFRJT04sIGN1cnJSZXN0LCBwcmV2UmVzdCkpIHtcbiAgICAgICAgICAgIF9zdXBlci5wcm90b3R5cGUud2Fsa09wdGlvbi5jYWxsKHRoaXMsIG9wdGlvblByb2QsIGN1cnJSZXN0LCBwcmV2UmVzdCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJlc3REZWZpbml0aW9uRmluZGVyV2Fsa2VyLnByb3RvdHlwZS53YWxrQXRMZWFzdE9uZSA9IGZ1bmN0aW9uIChhdExlYXN0T25lUHJvZCwgY3VyclJlc3QsIHByZXZSZXN0KSB7XG4gICAgICAgIGlmICghdGhpcy5jaGVja0lzVGFyZ2V0KGF0TGVhc3RPbmVQcm9kLCBQUk9EX1RZUEUuUkVQRVRJVElPTl9NQU5EQVRPUlksIGN1cnJSZXN0LCBwcmV2UmVzdCkpIHtcbiAgICAgICAgICAgIF9zdXBlci5wcm90b3R5cGUud2Fsa09wdGlvbi5jYWxsKHRoaXMsIGF0TGVhc3RPbmVQcm9kLCBjdXJyUmVzdCwgcHJldlJlc3QpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBSZXN0RGVmaW5pdGlvbkZpbmRlcldhbGtlci5wcm90b3R5cGUud2Fsa0F0TGVhc3RPbmVTZXAgPSBmdW5jdGlvbiAoYXRMZWFzdE9uZVNlcFByb2QsIGN1cnJSZXN0LCBwcmV2UmVzdCkge1xuICAgICAgICBpZiAoIXRoaXMuY2hlY2tJc1RhcmdldChhdExlYXN0T25lU2VwUHJvZCwgUFJPRF9UWVBFLlJFUEVUSVRJT05fTUFOREFUT1JZX1dJVEhfU0VQQVJBVE9SLCBjdXJyUmVzdCwgcHJldlJlc3QpKSB7XG4gICAgICAgICAgICBfc3VwZXIucHJvdG90eXBlLndhbGtPcHRpb24uY2FsbCh0aGlzLCBhdExlYXN0T25lU2VwUHJvZCwgY3VyclJlc3QsIHByZXZSZXN0KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUmVzdERlZmluaXRpb25GaW5kZXJXYWxrZXIucHJvdG90eXBlLndhbGtNYW55ID0gZnVuY3Rpb24gKG1hbnlQcm9kLCBjdXJyUmVzdCwgcHJldlJlc3QpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNoZWNrSXNUYXJnZXQobWFueVByb2QsIFBST0RfVFlQRS5SRVBFVElUSU9OLCBjdXJyUmVzdCwgcHJldlJlc3QpKSB7XG4gICAgICAgICAgICBfc3VwZXIucHJvdG90eXBlLndhbGtPcHRpb24uY2FsbCh0aGlzLCBtYW55UHJvZCwgY3VyclJlc3QsIHByZXZSZXN0KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUmVzdERlZmluaXRpb25GaW5kZXJXYWxrZXIucHJvdG90eXBlLndhbGtNYW55U2VwID0gZnVuY3Rpb24gKG1hbnlTZXBQcm9kLCBjdXJyUmVzdCwgcHJldlJlc3QpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNoZWNrSXNUYXJnZXQobWFueVNlcFByb2QsIFBST0RfVFlQRS5SRVBFVElUSU9OX1dJVEhfU0VQQVJBVE9SLCBjdXJyUmVzdCwgcHJldlJlc3QpKSB7XG4gICAgICAgICAgICBfc3VwZXIucHJvdG90eXBlLndhbGtPcHRpb24uY2FsbCh0aGlzLCBtYW55U2VwUHJvZCwgY3VyclJlc3QsIHByZXZSZXN0KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFJlc3REZWZpbml0aW9uRmluZGVyV2Fsa2VyO1xufShSZXN0V2Fsa2VyKSk7XG4vKipcbiAqIFJldHVybnMgdGhlIGRlZmluaXRpb24gb2YgYSB0YXJnZXQgcHJvZHVjdGlvbiBpbiBhIHRvcCBsZXZlbCBsZXZlbCBydWxlLlxuICovXG52YXIgSW5zaWRlRGVmaW5pdGlvbkZpbmRlclZpc2l0b3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEluc2lkZURlZmluaXRpb25GaW5kZXJWaXNpdG9yLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEluc2lkZURlZmluaXRpb25GaW5kZXJWaXNpdG9yKHRhcmdldE9jY3VycmVuY2UsIHRhcmdldFByb2RUeXBlLCB0YXJnZXRSZWYpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMudGFyZ2V0T2NjdXJyZW5jZSA9IHRhcmdldE9jY3VycmVuY2U7XG4gICAgICAgIF90aGlzLnRhcmdldFByb2RUeXBlID0gdGFyZ2V0UHJvZFR5cGU7XG4gICAgICAgIF90aGlzLnRhcmdldFJlZiA9IHRhcmdldFJlZjtcbiAgICAgICAgX3RoaXMucmVzdWx0ID0gW107XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgSW5zaWRlRGVmaW5pdGlvbkZpbmRlclZpc2l0b3IucHJvdG90eXBlLmNoZWNrSXNUYXJnZXQgPSBmdW5jdGlvbiAobm9kZSwgZXhwZWN0ZWRQcm9kTmFtZSkge1xuICAgICAgICBpZiAobm9kZS5pZHggPT09IHRoaXMudGFyZ2V0T2NjdXJyZW5jZSAmJlxuICAgICAgICAgICAgdGhpcy50YXJnZXRQcm9kVHlwZSA9PT0gZXhwZWN0ZWRQcm9kTmFtZSAmJlxuICAgICAgICAgICAgKHRoaXMudGFyZ2V0UmVmID09PSB1bmRlZmluZWQgfHwgbm9kZSA9PT0gdGhpcy50YXJnZXRSZWYpKSB7XG4gICAgICAgICAgICB0aGlzLnJlc3VsdCA9IG5vZGUuZGVmaW5pdGlvbjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgSW5zaWRlRGVmaW5pdGlvbkZpbmRlclZpc2l0b3IucHJvdG90eXBlLnZpc2l0T3B0aW9uID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgdGhpcy5jaGVja0lzVGFyZ2V0KG5vZGUsIFBST0RfVFlQRS5PUFRJT04pO1xuICAgIH07XG4gICAgSW5zaWRlRGVmaW5pdGlvbkZpbmRlclZpc2l0b3IucHJvdG90eXBlLnZpc2l0UmVwZXRpdGlvbiA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgIHRoaXMuY2hlY2tJc1RhcmdldChub2RlLCBQUk9EX1RZUEUuUkVQRVRJVElPTik7XG4gICAgfTtcbiAgICBJbnNpZGVEZWZpbml0aW9uRmluZGVyVmlzaXRvci5wcm90b3R5cGUudmlzaXRSZXBldGl0aW9uTWFuZGF0b3J5ID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgdGhpcy5jaGVja0lzVGFyZ2V0KG5vZGUsIFBST0RfVFlQRS5SRVBFVElUSU9OX01BTkRBVE9SWSk7XG4gICAgfTtcbiAgICBJbnNpZGVEZWZpbml0aW9uRmluZGVyVmlzaXRvci5wcm90b3R5cGUudmlzaXRSZXBldGl0aW9uTWFuZGF0b3J5V2l0aFNlcGFyYXRvciA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgIHRoaXMuY2hlY2tJc1RhcmdldChub2RlLCBQUk9EX1RZUEUuUkVQRVRJVElPTl9NQU5EQVRPUllfV0lUSF9TRVBBUkFUT1IpO1xuICAgIH07XG4gICAgSW5zaWRlRGVmaW5pdGlvbkZpbmRlclZpc2l0b3IucHJvdG90eXBlLnZpc2l0UmVwZXRpdGlvbldpdGhTZXBhcmF0b3IgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICB0aGlzLmNoZWNrSXNUYXJnZXQobm9kZSwgUFJPRF9UWVBFLlJFUEVUSVRJT05fV0lUSF9TRVBBUkFUT1IpO1xuICAgIH07XG4gICAgSW5zaWRlRGVmaW5pdGlvbkZpbmRlclZpc2l0b3IucHJvdG90eXBlLnZpc2l0QWx0ZXJuYXRpb24gPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICB0aGlzLmNoZWNrSXNUYXJnZXQobm9kZSwgUFJPRF9UWVBFLkFMVEVSTkFUSU9OKTtcbiAgICB9O1xuICAgIHJldHVybiBJbnNpZGVEZWZpbml0aW9uRmluZGVyVmlzaXRvcjtcbn0oR0FzdFZpc2l0b3IpKTtcbmZ1bmN0aW9uIGluaXRpYWxpemVBcnJheU9mQXJyYXlzKHNpemUpIHtcbiAgICB2YXIgcmVzdWx0ID0gbmV3IEFycmF5KHNpemUpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2l6ZTsgaSsrKSB7XG4gICAgICAgIHJlc3VsdFtpXSA9IFtdO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLyoqXG4gKiBBIHNvcnQgb2YgaGFzaCBmdW5jdGlvbiBiZXR3ZWVuIGEgUGF0aCBpbiB0aGUgZ3JhbW1hciBhbmQgYSBzdHJpbmcuXG4gKiBOb3RlIHRoYXQgdGhpcyByZXR1cm5zIG11bHRpcGxlIFwiaGFzaGVzXCIgdG8gc3VwcG9ydCB0aGUgc2NlbmFyaW8gb2YgdG9rZW4gY2F0ZWdvcmllcy5cbiAqIC0gIEEgc2luZ2xlIHBhdGggd2l0aCBjYXRlZ29yaWVzIG1heSBtYXRjaCBtdWx0aXBsZSAqKmFjdHVhbCoqIHBhdGhzLlxuICovXG5mdW5jdGlvbiBwYXRoVG9IYXNoS2V5cyhwYXRoKSB7XG4gICAgdmFyIGtleXMgPSBbXCJcIl07XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciB0b2tUeXBlID0gcGF0aFtpXTtcbiAgICAgICAgdmFyIGxvbmdlcktleXMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBrZXlzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICB2YXIgY3VyclNob3J0ZXJLZXkgPSBrZXlzW2pdO1xuICAgICAgICAgICAgbG9uZ2VyS2V5cy5wdXNoKGN1cnJTaG9ydGVyS2V5ICsgXCJfXCIgKyB0b2tUeXBlLnRva2VuVHlwZUlkeCk7XG4gICAgICAgICAgICBmb3IgKHZhciB0ID0gMDsgdCA8IHRva1R5cGUuY2F0ZWdvcnlNYXRjaGVzLmxlbmd0aDsgdCsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNhdGVnb3JpZXNLZXlTdWZmaXggPSBcIl9cIiArIHRva1R5cGUuY2F0ZWdvcnlNYXRjaGVzW3RdO1xuICAgICAgICAgICAgICAgIGxvbmdlcktleXMucHVzaChjdXJyU2hvcnRlcktleSArIGNhdGVnb3JpZXNLZXlTdWZmaXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGtleXMgPSBsb25nZXJLZXlzO1xuICAgIH1cbiAgICByZXR1cm4ga2V5cztcbn1cbi8qKlxuICogSW1wZXJhdGl2ZSBzdHlsZSBkdWUgdG8gYmVpbmcgY2FsbGVkIGZyb20gYSBob3Qgc3BvdFxuICovXG5mdW5jdGlvbiBpc1VuaXF1ZVByZWZpeEhhc2goYWx0S25vd25QYXRoc0tleXMsIHNlYXJjaFBhdGhLZXlzLCBpZHgpIHtcbiAgICBmb3IgKHZhciBjdXJyQWx0SWR4ID0gMDsgY3VyckFsdElkeCA8IGFsdEtub3duUGF0aHNLZXlzLmxlbmd0aDsgY3VyckFsdElkeCsrKSB7XG4gICAgICAgIC8vIFdlIG9ubHkgd2FudCB0byB0ZXN0IHZzIHRoZSBvdGhlciBhbHRlcm5hdGl2ZXNcbiAgICAgICAgaWYgKGN1cnJBbHRJZHggPT09IGlkeCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG90aGVyQWx0S25vd25QYXRoc0tleXMgPSBhbHRLbm93blBhdGhzS2V5c1tjdXJyQWx0SWR4XTtcbiAgICAgICAgZm9yICh2YXIgc2VhcmNoSWR4ID0gMDsgc2VhcmNoSWR4IDwgc2VhcmNoUGF0aEtleXMubGVuZ3RoOyBzZWFyY2hJZHgrKykge1xuICAgICAgICAgICAgdmFyIHNlYXJjaEtleSA9IHNlYXJjaFBhdGhLZXlzW3NlYXJjaElkeF07XG4gICAgICAgICAgICBpZiAob3RoZXJBbHRLbm93blBhdGhzS2V5c1tzZWFyY2hLZXldID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIE5vbmUgb2YgdGhlIFNlYXJjaFBhdGhLZXlzIHdlcmUgZm91bmQgaW4gYW55IG9mIHRoZSBvdGhlciBhbHRlcm5hdGl2ZXNcbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBsb29rQWhlYWRTZXF1ZW5jZUZyb21BbHRlcm5hdGl2ZXMoYWx0c0RlZnMsIGspIHtcbiAgICB2YXIgcGFydGlhbEFsdHMgPSBtYXAoYWx0c0RlZnMsIGZ1bmN0aW9uIChjdXJyQWx0KSB7IHJldHVybiBwb3NzaWJsZVBhdGhzRnJvbShbY3VyckFsdF0sIDEpOyB9KTtcbiAgICB2YXIgZmluYWxSZXN1bHQgPSBpbml0aWFsaXplQXJyYXlPZkFycmF5cyhwYXJ0aWFsQWx0cy5sZW5ndGgpO1xuICAgIHZhciBhbHRzSGFzaGVzID0gbWFwKHBhcnRpYWxBbHRzLCBmdW5jdGlvbiAoY3VyckFsdFBhdGhzKSB7XG4gICAgICAgIHZhciBkaWN0ID0ge307XG4gICAgICAgIGZvckVhY2goY3VyckFsdFBhdGhzLCBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgdmFyIGtleXMgPSBwYXRoVG9IYXNoS2V5cyhpdGVtLnBhcnRpYWxQYXRoKTtcbiAgICAgICAgICAgIGZvckVhY2goa2V5cywgZnVuY3Rpb24gKGN1cnJLZXkpIHtcbiAgICAgICAgICAgICAgICBkaWN0W2N1cnJLZXldID0gdHJ1ZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGRpY3Q7XG4gICAgfSk7XG4gICAgdmFyIG5ld0RhdGEgPSBwYXJ0aWFsQWx0cztcbiAgICAvLyBtYXhMb29rYWhlYWQgbG9vcFxuICAgIGZvciAodmFyIHBhdGhMZW5ndGggPSAxOyBwYXRoTGVuZ3RoIDw9IGs7IHBhdGhMZW5ndGgrKykge1xuICAgICAgICB2YXIgY3VyckRhdGFzZXQgPSBuZXdEYXRhO1xuICAgICAgICBuZXdEYXRhID0gaW5pdGlhbGl6ZUFycmF5T2ZBcnJheXMoY3VyckRhdGFzZXQubGVuZ3RoKTtcbiAgICAgICAgdmFyIF9sb29wXzEgPSBmdW5jdGlvbiAoYWx0SWR4KSB7XG4gICAgICAgICAgICB2YXIgY3VyckFsdFBhdGhzQW5kU3VmZml4ZXMgPSBjdXJyRGF0YXNldFthbHRJZHhdO1xuICAgICAgICAgICAgLy8gcGF0aHMgaW4gY3VycmVudCBhbHRlcm5hdGl2ZSBsb29wXG4gICAgICAgICAgICBmb3IgKHZhciBjdXJyUGF0aElkeCA9IDA7IGN1cnJQYXRoSWR4IDwgY3VyckFsdFBhdGhzQW5kU3VmZml4ZXMubGVuZ3RoOyBjdXJyUGF0aElkeCsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGN1cnJQYXRoUHJlZml4ID0gY3VyckFsdFBhdGhzQW5kU3VmZml4ZXNbY3VyclBhdGhJZHhdLnBhcnRpYWxQYXRoO1xuICAgICAgICAgICAgICAgIHZhciBzdWZmaXhEZWYgPSBjdXJyQWx0UGF0aHNBbmRTdWZmaXhlc1tjdXJyUGF0aElkeF0uc3VmZml4RGVmO1xuICAgICAgICAgICAgICAgIHZhciBwcmVmaXhLZXlzID0gcGF0aFRvSGFzaEtleXMoY3VyclBhdGhQcmVmaXgpO1xuICAgICAgICAgICAgICAgIHZhciBpc1VuaXF1ZSA9IGlzVW5pcXVlUHJlZml4SGFzaChhbHRzSGFzaGVzLCBwcmVmaXhLZXlzLCBhbHRJZHgpO1xuICAgICAgICAgICAgICAgIC8vIEVuZCBvZiB0aGUgbGluZSBmb3IgdGhpcyBwYXRoLlxuICAgICAgICAgICAgICAgIGlmIChpc1VuaXF1ZSB8fCBpc0VtcHR5KHN1ZmZpeERlZikgfHwgY3VyclBhdGhQcmVmaXgubGVuZ3RoID09PSBrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJyQWx0UmVzdWx0ID0gZmluYWxSZXN1bHRbYWx0SWR4XTtcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogQ2FuIHdlIGltcGxlbWVudCBhIGNvbnRhaW5zUGF0aCB1c2luZyBNYXBzL0RpY3Rpb25hcmllcz9cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRhaW5zUGF0aChjdXJyQWx0UmVzdWx0LCBjdXJyUGF0aFByZWZpeCkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyQWx0UmVzdWx0LnB1c2goY3VyclBhdGhQcmVmaXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIGFsbCBuZXcgIGtleXMgZm9yIHRoZSBjdXJyZW50IHBhdGguXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHByZWZpeEtleXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VycktleSA9IHByZWZpeEtleXNbal07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWx0c0hhc2hlc1thbHRJZHhdW2N1cnJLZXldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBFeHBhbmQgbG9uZ2VyIHBhdGhzXG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdQYXJ0aWFsUGF0aHNBbmRTdWZmaXhlcyA9IHBvc3NpYmxlUGF0aHNGcm9tKHN1ZmZpeERlZiwgcGF0aExlbmd0aCArIDEsIGN1cnJQYXRoUHJlZml4KTtcbiAgICAgICAgICAgICAgICAgICAgbmV3RGF0YVthbHRJZHhdID0gbmV3RGF0YVthbHRJZHhdLmNvbmNhdChuZXdQYXJ0aWFsUGF0aHNBbmRTdWZmaXhlcyk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBrZXlzIGZvciBuZXcga25vd24gcGF0aHNcbiAgICAgICAgICAgICAgICAgICAgZm9yRWFjaChuZXdQYXJ0aWFsUGF0aHNBbmRTdWZmaXhlcywgZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcmVmaXhLZXlzID0gcGF0aFRvSGFzaEtleXMoaXRlbS5wYXJ0aWFsUGF0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JFYWNoKHByZWZpeEtleXMsIGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHRzSGFzaGVzW2FsdElkeF1ba2V5XSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvLyBhbHRlcm5hdGl2ZXMgbG9vcFxuICAgICAgICBmb3IgKHZhciBhbHRJZHggPSAwOyBhbHRJZHggPCBjdXJyRGF0YXNldC5sZW5ndGg7IGFsdElkeCsrKSB7XG4gICAgICAgICAgICBfbG9vcF8xKGFsdElkeCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZpbmFsUmVzdWx0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldExvb2thaGVhZFBhdGhzRm9yT3Iob2NjdXJyZW5jZSwgcnVsZUdyYW1tYXIsIGssIG9yUHJvZCkge1xuICAgIHZhciB2aXNpdG9yID0gbmV3IEluc2lkZURlZmluaXRpb25GaW5kZXJWaXNpdG9yKG9jY3VycmVuY2UsIFBST0RfVFlQRS5BTFRFUk5BVElPTiwgb3JQcm9kKTtcbiAgICBydWxlR3JhbW1hci5hY2NlcHQodmlzaXRvcik7XG4gICAgcmV0dXJuIGxvb2tBaGVhZFNlcXVlbmNlRnJvbUFsdGVybmF0aXZlcyh2aXNpdG9yLnJlc3VsdCwgayk7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0TG9va2FoZWFkUGF0aHNGb3JPcHRpb25hbFByb2Qob2NjdXJyZW5jZSwgcnVsZUdyYW1tYXIsIHByb2RUeXBlLCBrKSB7XG4gICAgdmFyIGluc2lkZURlZlZpc2l0b3IgPSBuZXcgSW5zaWRlRGVmaW5pdGlvbkZpbmRlclZpc2l0b3Iob2NjdXJyZW5jZSwgcHJvZFR5cGUpO1xuICAgIHJ1bGVHcmFtbWFyLmFjY2VwdChpbnNpZGVEZWZWaXNpdG9yKTtcbiAgICB2YXIgaW5zaWRlRGVmID0gaW5zaWRlRGVmVmlzaXRvci5yZXN1bHQ7XG4gICAgdmFyIGFmdGVyRGVmV2Fsa2VyID0gbmV3IFJlc3REZWZpbml0aW9uRmluZGVyV2Fsa2VyKHJ1bGVHcmFtbWFyLCBvY2N1cnJlbmNlLCBwcm9kVHlwZSk7XG4gICAgdmFyIGFmdGVyRGVmID0gYWZ0ZXJEZWZXYWxrZXIuc3RhcnRXYWxraW5nKCk7XG4gICAgdmFyIGluc2lkZUZsYXQgPSBuZXcgQWx0ZXJuYXRpdmVHQVNUKHsgZGVmaW5pdGlvbjogaW5zaWRlRGVmIH0pO1xuICAgIHZhciBhZnRlckZsYXQgPSBuZXcgQWx0ZXJuYXRpdmVHQVNUKHsgZGVmaW5pdGlvbjogYWZ0ZXJEZWYgfSk7XG4gICAgcmV0dXJuIGxvb2tBaGVhZFNlcXVlbmNlRnJvbUFsdGVybmF0aXZlcyhbaW5zaWRlRmxhdCwgYWZ0ZXJGbGF0XSwgayk7XG59XG5leHBvcnQgZnVuY3Rpb24gY29udGFpbnNQYXRoKGFsdGVybmF0aXZlLCBzZWFyY2hQYXRoKSB7XG4gICAgY29tcGFyZU90aGVyUGF0aDogZm9yICh2YXIgaSA9IDA7IGkgPCBhbHRlcm5hdGl2ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgb3RoZXJQYXRoID0gYWx0ZXJuYXRpdmVbaV07XG4gICAgICAgIGlmIChvdGhlclBhdGgubGVuZ3RoICE9PSBzZWFyY2hQYXRoLmxlbmd0aCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBvdGhlclBhdGgubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIHZhciBzZWFyY2hUb2sgPSBzZWFyY2hQYXRoW2pdO1xuICAgICAgICAgICAgdmFyIG90aGVyVG9rID0gb3RoZXJQYXRoW2pdO1xuICAgICAgICAgICAgdmFyIG1hdGNoaW5nVG9rZW5zID0gc2VhcmNoVG9rID09PSBvdGhlclRvayB8fFxuICAgICAgICAgICAgICAgIG90aGVyVG9rLmNhdGVnb3J5TWF0Y2hlc01hcFtzZWFyY2hUb2sudG9rZW5UeXBlSWR4XSAhPT0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgaWYgKG1hdGNoaW5nVG9rZW5zID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlIGNvbXBhcmVPdGhlclBhdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1N0cmljdFByZWZpeE9mUGF0aChwcmVmaXgsIG90aGVyKSB7XG4gICAgcmV0dXJuIChwcmVmaXgubGVuZ3RoIDwgb3RoZXIubGVuZ3RoICYmXG4gICAgICAgIGV2ZXJ5KHByZWZpeCwgZnVuY3Rpb24gKHRva1R5cGUsIGlkeCkge1xuICAgICAgICAgICAgdmFyIG90aGVyVG9rVHlwZSA9IG90aGVyW2lkeF07XG4gICAgICAgICAgICByZXR1cm4gKHRva1R5cGUgPT09IG90aGVyVG9rVHlwZSB8fFxuICAgICAgICAgICAgICAgIG90aGVyVG9rVHlwZS5jYXRlZ29yeU1hdGNoZXNNYXBbdG9rVHlwZS50b2tlblR5cGVJZHhdKTtcbiAgICAgICAgfSkpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGFyZVRva2VuQ2F0ZWdvcmllc05vdFVzZWQobG9va0FoZWFkUGF0aHMpIHtcbiAgICByZXR1cm4gZXZlcnkobG9va0FoZWFkUGF0aHMsIGZ1bmN0aW9uIChzaW5nbGVBbHRQYXRocykge1xuICAgICAgICByZXR1cm4gZXZlcnkoc2luZ2xlQWx0UGF0aHMsIGZ1bmN0aW9uIChzaW5nbGVQYXRoKSB7XG4gICAgICAgICAgICByZXR1cm4gZXZlcnkoc2luZ2xlUGF0aCwgZnVuY3Rpb24gKHRva2VuKSB7IHJldHVybiBpc0VtcHR5KHRva2VuLmNhdGVnb3J5TWF0Y2hlcyk7IH0pO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvb2thaGVhZC5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbmltcG9ydCAqIGFzIHV0aWxzIGZyb20gXCIuLi8uLi91dGlscy91dGlsc1wiO1xuaW1wb3J0IHsgY29udGFpbnMsIGV2ZXJ5LCBmaW5kQWxsLCBmbGF0dGVuLCBmb3JFYWNoLCBpc0VtcHR5LCBtYXAsIHJlZHVjZSwgcmVqZWN0IH0gZnJvbSBcIi4uLy4uL3V0aWxzL3V0aWxzXCI7XG5pbXBvcnQgeyBQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlIH0gZnJvbSBcIi4uL3BhcnNlci9wYXJzZXJcIjtcbmltcG9ydCB7IGdldFByb2R1Y3Rpb25Ec2xOYW1lLCBpc09wdGlvbmFsUHJvZCB9IGZyb20gXCIuL2dhc3QvZ2FzdFwiO1xuaW1wb3J0IHsgY29udGFpbnNQYXRoLCBnZXRMb29rYWhlYWRQYXRoc0Zvck9wdGlvbmFsUHJvZCwgZ2V0TG9va2FoZWFkUGF0aHNGb3JPciwgZ2V0UHJvZFR5cGUsIGlzU3RyaWN0UHJlZml4T2ZQYXRoIH0gZnJvbSBcIi4vbG9va2FoZWFkXCI7XG5pbXBvcnQgeyBuZXh0UG9zc2libGVUb2tlbnNBZnRlciB9IGZyb20gXCIuL2ludGVycHJldGVyXCI7XG5pbXBvcnQgeyBBbHRlcm5hdGlvbiwgQWx0ZXJuYXRpdmUgYXMgQWx0ZXJuYXRpdmVHQVNULCBOb25UZXJtaW5hbCwgT3B0aW9uLCBSZXBldGl0aW9uLCBSZXBldGl0aW9uTWFuZGF0b3J5LCBSZXBldGl0aW9uTWFuZGF0b3J5V2l0aFNlcGFyYXRvciwgUmVwZXRpdGlvbldpdGhTZXBhcmF0b3IsIFRlcm1pbmFsIH0gZnJvbSBcIi4vZ2FzdC9nYXN0X3B1YmxpY1wiO1xuaW1wb3J0IHsgR0FzdFZpc2l0b3IgfSBmcm9tIFwiLi9nYXN0L2dhc3RfdmlzaXRvcl9wdWJsaWNcIjtcbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZUdyYW1tYXIodG9wTGV2ZWxzLCBnbG9iYWxNYXhMb29rYWhlYWQsIHRva2VuVHlwZXMsIGVyck1zZ1Byb3ZpZGVyLCBncmFtbWFyTmFtZSkge1xuICAgIHZhciBkdXBsaWNhdGVFcnJvcnMgPSB1dGlscy5tYXAodG9wTGV2ZWxzLCBmdW5jdGlvbiAoY3VyclRvcExldmVsKSB7XG4gICAgICAgIHJldHVybiB2YWxpZGF0ZUR1cGxpY2F0ZVByb2R1Y3Rpb25zKGN1cnJUb3BMZXZlbCwgZXJyTXNnUHJvdmlkZXIpO1xuICAgIH0pO1xuICAgIHZhciBsZWZ0UmVjdXJzaW9uRXJyb3JzID0gdXRpbHMubWFwKHRvcExldmVscywgZnVuY3Rpb24gKGN1cnJUb3BSdWxlKSB7XG4gICAgICAgIHJldHVybiB2YWxpZGF0ZU5vTGVmdFJlY3Vyc2lvbihjdXJyVG9wUnVsZSwgY3VyclRvcFJ1bGUsIGVyck1zZ1Byb3ZpZGVyKTtcbiAgICB9KTtcbiAgICB2YXIgZW1wdHlBbHRFcnJvcnMgPSBbXTtcbiAgICB2YXIgYW1iaWd1b3VzQWx0c0Vycm9ycyA9IFtdO1xuICAgIHZhciBlbXB0eVJlcGV0aXRpb25FcnJvcnMgPSBbXTtcbiAgICAvLyBsZWZ0IHJlY3Vyc2lvbiBjb3VsZCBjYXVzZSBpbmZpbml0ZSBsb29wcyBpbiB0aGUgZm9sbG93aW5nIHZhbGlkYXRpb25zLlxuICAgIC8vIEl0IGlzIHNhZmVzdCB0byBmaXJzdCBoYXZlIHRoZSB1c2VyIGZpeCB0aGUgbGVmdCByZWN1cnNpb24gZXJyb3JzIGZpcnN0IGFuZCBvbmx5IHRoZW4gZXhhbWluZSBGdXJ0aGVyIGlzc3Vlcy5cbiAgICBpZiAoZXZlcnkobGVmdFJlY3Vyc2lvbkVycm9ycywgaXNFbXB0eSkpIHtcbiAgICAgICAgZW1wdHlBbHRFcnJvcnMgPSBtYXAodG9wTGV2ZWxzLCBmdW5jdGlvbiAoY3VyclRvcFJ1bGUpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWxpZGF0ZUVtcHR5T3JBbHRlcm5hdGl2ZShjdXJyVG9wUnVsZSwgZXJyTXNnUHJvdmlkZXIpO1xuICAgICAgICB9KTtcbiAgICAgICAgYW1iaWd1b3VzQWx0c0Vycm9ycyA9IG1hcCh0b3BMZXZlbHMsIGZ1bmN0aW9uIChjdXJyVG9wUnVsZSkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbGlkYXRlQW1iaWd1b3VzQWx0ZXJuYXRpb25BbHRlcm5hdGl2ZXMoY3VyclRvcFJ1bGUsIGdsb2JhbE1heExvb2thaGVhZCwgZXJyTXNnUHJvdmlkZXIpO1xuICAgICAgICB9KTtcbiAgICAgICAgZW1wdHlSZXBldGl0aW9uRXJyb3JzID0gdmFsaWRhdGVTb21lTm9uRW1wdHlMb29rYWhlYWRQYXRoKHRvcExldmVscywgZ2xvYmFsTWF4TG9va2FoZWFkLCBlcnJNc2dQcm92aWRlcik7XG4gICAgfVxuICAgIHZhciB0ZXJtc05hbWVzcGFjZUNvbmZsaWN0RXJyb3JzID0gY2hlY2tUZXJtaW5hbEFuZE5vbmVUZXJtaW5hbHNOYW1lU3BhY2UodG9wTGV2ZWxzLCB0b2tlblR5cGVzLCBlcnJNc2dQcm92aWRlcik7XG4gICAgdmFyIHRva2VuTmFtZUVycm9ycyA9IHV0aWxzLm1hcCh0b2tlblR5cGVzLCBmdW5jdGlvbiAoY3VyclRva1R5cGUpIHtcbiAgICAgICAgcmV0dXJuIHZhbGlkYXRlVG9rZW5OYW1lKGN1cnJUb2tUeXBlLCBlcnJNc2dQcm92aWRlcik7XG4gICAgfSk7XG4gICAgdmFyIHRvb01hbnlBbHRzRXJyb3JzID0gbWFwKHRvcExldmVscywgZnVuY3Rpb24gKGN1clJ1bGUpIHtcbiAgICAgICAgcmV0dXJuIHZhbGlkYXRlVG9vTWFueUFsdHMoY3VyUnVsZSwgZXJyTXNnUHJvdmlkZXIpO1xuICAgIH0pO1xuICAgIHZhciBydWxlTmFtZUVycm9ycyA9IG1hcCh0b3BMZXZlbHMsIGZ1bmN0aW9uIChjdXJSdWxlKSB7XG4gICAgICAgIHJldHVybiB2YWxpZGF0ZVJ1bGVOYW1lKGN1clJ1bGUsIGVyck1zZ1Byb3ZpZGVyKTtcbiAgICB9KTtcbiAgICB2YXIgZHVwbGljYXRlUnVsZXNFcnJvciA9IG1hcCh0b3BMZXZlbHMsIGZ1bmN0aW9uIChjdXJSdWxlKSB7XG4gICAgICAgIHJldHVybiB2YWxpZGF0ZVJ1bGVEb2VzTm90QWxyZWFkeUV4aXN0KGN1clJ1bGUsIHRvcExldmVscywgZ3JhbW1hck5hbWUsIGVyck1zZ1Byb3ZpZGVyKTtcbiAgICB9KTtcbiAgICByZXR1cm4gKHV0aWxzLmZsYXR0ZW4oZHVwbGljYXRlRXJyb3JzLmNvbmNhdCh0b2tlbk5hbWVFcnJvcnMsIGVtcHR5UmVwZXRpdGlvbkVycm9ycywgbGVmdFJlY3Vyc2lvbkVycm9ycywgZW1wdHlBbHRFcnJvcnMsIGFtYmlndW91c0FsdHNFcnJvcnMsIHRlcm1zTmFtZXNwYWNlQ29uZmxpY3RFcnJvcnMsIHRvb01hbnlBbHRzRXJyb3JzLCBydWxlTmFtZUVycm9ycywgZHVwbGljYXRlUnVsZXNFcnJvcikpKTtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlRHVwbGljYXRlUHJvZHVjdGlvbnModG9wTGV2ZWxSdWxlLCBlcnJNc2dQcm92aWRlcikge1xuICAgIHZhciBjb2xsZWN0b3JWaXNpdG9yID0gbmV3IE9jY3VycmVuY2VWYWxpZGF0aW9uQ29sbGVjdG9yKCk7XG4gICAgdG9wTGV2ZWxSdWxlLmFjY2VwdChjb2xsZWN0b3JWaXNpdG9yKTtcbiAgICB2YXIgYWxsUnVsZVByb2R1Y3Rpb25zID0gY29sbGVjdG9yVmlzaXRvci5hbGxQcm9kdWN0aW9ucztcbiAgICB2YXIgcHJvZHVjdGlvbkdyb3VwcyA9IHV0aWxzLmdyb3VwQnkoYWxsUnVsZVByb2R1Y3Rpb25zLCBpZGVudGlmeVByb2R1Y3Rpb25Gb3JEdXBsaWNhdGVzKTtcbiAgICB2YXIgZHVwbGljYXRlcyA9IHV0aWxzLnBpY2socHJvZHVjdGlvbkdyb3VwcywgZnVuY3Rpb24gKGN1cnJHcm91cCkge1xuICAgICAgICByZXR1cm4gY3Vyckdyb3VwLmxlbmd0aCA+IDE7XG4gICAgfSk7XG4gICAgdmFyIGVycm9ycyA9IHV0aWxzLm1hcCh1dGlscy52YWx1ZXMoZHVwbGljYXRlcyksIGZ1bmN0aW9uIChjdXJyRHVwbGljYXRlcykge1xuICAgICAgICB2YXIgZmlyc3RQcm9kID0gdXRpbHMuZmlyc3QoY3VyckR1cGxpY2F0ZXMpO1xuICAgICAgICB2YXIgbXNnID0gZXJyTXNnUHJvdmlkZXIuYnVpbGREdXBsaWNhdGVGb3VuZEVycm9yKHRvcExldmVsUnVsZSwgY3VyckR1cGxpY2F0ZXMpO1xuICAgICAgICB2YXIgZHNsTmFtZSA9IGdldFByb2R1Y3Rpb25Ec2xOYW1lKGZpcnN0UHJvZCk7XG4gICAgICAgIHZhciBkZWZFcnJvciA9IHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IG1zZyxcbiAgICAgICAgICAgIHR5cGU6IFBhcnNlckRlZmluaXRpb25FcnJvclR5cGUuRFVQTElDQVRFX1BST0RVQ1RJT05TLFxuICAgICAgICAgICAgcnVsZU5hbWU6IHRvcExldmVsUnVsZS5uYW1lLFxuICAgICAgICAgICAgZHNsTmFtZTogZHNsTmFtZSxcbiAgICAgICAgICAgIG9jY3VycmVuY2U6IGZpcnN0UHJvZC5pZHhcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHBhcmFtID0gZ2V0RXh0cmFQcm9kdWN0aW9uQXJndW1lbnQoZmlyc3RQcm9kKTtcbiAgICAgICAgaWYgKHBhcmFtKSB7XG4gICAgICAgICAgICBkZWZFcnJvci5wYXJhbWV0ZXIgPSBwYXJhbTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGVmRXJyb3I7XG4gICAgfSk7XG4gICAgcmV0dXJuIGVycm9ycztcbn1cbmV4cG9ydCBmdW5jdGlvbiBpZGVudGlmeVByb2R1Y3Rpb25Gb3JEdXBsaWNhdGVzKHByb2QpIHtcbiAgICByZXR1cm4gZ2V0UHJvZHVjdGlvbkRzbE5hbWUocHJvZCkgKyBcIl8jX1wiICsgcHJvZC5pZHggKyBcIl8jX1wiICsgZ2V0RXh0cmFQcm9kdWN0aW9uQXJndW1lbnQocHJvZCk7XG59XG5mdW5jdGlvbiBnZXRFeHRyYVByb2R1Y3Rpb25Bcmd1bWVudChwcm9kKSB7XG4gICAgaWYgKHByb2QgaW5zdGFuY2VvZiBUZXJtaW5hbCkge1xuICAgICAgICByZXR1cm4gcHJvZC50ZXJtaW5hbFR5cGUubmFtZTtcbiAgICB9XG4gICAgZWxzZSBpZiAocHJvZCBpbnN0YW5jZW9mIE5vblRlcm1pbmFsKSB7XG4gICAgICAgIHJldHVybiBwcm9kLm5vblRlcm1pbmFsTmFtZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cbn1cbnZhciBPY2N1cnJlbmNlVmFsaWRhdGlvbkNvbGxlY3RvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoT2NjdXJyZW5jZVZhbGlkYXRpb25Db2xsZWN0b3IsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gT2NjdXJyZW5jZVZhbGlkYXRpb25Db2xsZWN0b3IoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5hbGxQcm9kdWN0aW9ucyA9IFtdO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9jY3VycmVuY2VWYWxpZGF0aW9uQ29sbGVjdG9yLnByb3RvdHlwZS52aXNpdE5vblRlcm1pbmFsID0gZnVuY3Rpb24gKHN1YnJ1bGUpIHtcbiAgICAgICAgdGhpcy5hbGxQcm9kdWN0aW9ucy5wdXNoKHN1YnJ1bGUpO1xuICAgIH07XG4gICAgT2NjdXJyZW5jZVZhbGlkYXRpb25Db2xsZWN0b3IucHJvdG90eXBlLnZpc2l0T3B0aW9uID0gZnVuY3Rpb24gKG9wdGlvbikge1xuICAgICAgICB0aGlzLmFsbFByb2R1Y3Rpb25zLnB1c2gob3B0aW9uKTtcbiAgICB9O1xuICAgIE9jY3VycmVuY2VWYWxpZGF0aW9uQ29sbGVjdG9yLnByb3RvdHlwZS52aXNpdFJlcGV0aXRpb25XaXRoU2VwYXJhdG9yID0gZnVuY3Rpb24gKG1hbnlTZXApIHtcbiAgICAgICAgdGhpcy5hbGxQcm9kdWN0aW9ucy5wdXNoKG1hbnlTZXApO1xuICAgIH07XG4gICAgT2NjdXJyZW5jZVZhbGlkYXRpb25Db2xsZWN0b3IucHJvdG90eXBlLnZpc2l0UmVwZXRpdGlvbk1hbmRhdG9yeSA9IGZ1bmN0aW9uIChhdExlYXN0T25lKSB7XG4gICAgICAgIHRoaXMuYWxsUHJvZHVjdGlvbnMucHVzaChhdExlYXN0T25lKTtcbiAgICB9O1xuICAgIE9jY3VycmVuY2VWYWxpZGF0aW9uQ29sbGVjdG9yLnByb3RvdHlwZS52aXNpdFJlcGV0aXRpb25NYW5kYXRvcnlXaXRoU2VwYXJhdG9yID0gZnVuY3Rpb24gKGF0TGVhc3RPbmVTZXApIHtcbiAgICAgICAgdGhpcy5hbGxQcm9kdWN0aW9ucy5wdXNoKGF0TGVhc3RPbmVTZXApO1xuICAgIH07XG4gICAgT2NjdXJyZW5jZVZhbGlkYXRpb25Db2xsZWN0b3IucHJvdG90eXBlLnZpc2l0UmVwZXRpdGlvbiA9IGZ1bmN0aW9uIChtYW55KSB7XG4gICAgICAgIHRoaXMuYWxsUHJvZHVjdGlvbnMucHVzaChtYW55KTtcbiAgICB9O1xuICAgIE9jY3VycmVuY2VWYWxpZGF0aW9uQ29sbGVjdG9yLnByb3RvdHlwZS52aXNpdEFsdGVybmF0aW9uID0gZnVuY3Rpb24gKG9yKSB7XG4gICAgICAgIHRoaXMuYWxsUHJvZHVjdGlvbnMucHVzaChvcik7XG4gICAgfTtcbiAgICBPY2N1cnJlbmNlVmFsaWRhdGlvbkNvbGxlY3Rvci5wcm90b3R5cGUudmlzaXRUZXJtaW5hbCA9IGZ1bmN0aW9uICh0ZXJtaW5hbCkge1xuICAgICAgICB0aGlzLmFsbFByb2R1Y3Rpb25zLnB1c2godGVybWluYWwpO1xuICAgIH07XG4gICAgcmV0dXJuIE9jY3VycmVuY2VWYWxpZGF0aW9uQ29sbGVjdG9yO1xufShHQXN0VmlzaXRvcikpO1xuZXhwb3J0IHsgT2NjdXJyZW5jZVZhbGlkYXRpb25Db2xsZWN0b3IgfTtcbmV4cG9ydCB2YXIgdmFsaWRUZXJtc1BhdHRlcm4gPSAvXlthLXpBLVpfXVxcdyokLztcbi8vIFRPRE86IHJlbW92ZSB0aGlzIGxpbWl0YXRpb24gbm93IHRoYXQgd2UgdXNlIHJlY29yZGVyc1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlUnVsZU5hbWUocnVsZSwgZXJyTXNnUHJvdmlkZXIpIHtcbiAgICB2YXIgZXJyb3JzID0gW107XG4gICAgdmFyIHJ1bGVOYW1lID0gcnVsZS5uYW1lO1xuICAgIGlmICghcnVsZU5hbWUubWF0Y2godmFsaWRUZXJtc1BhdHRlcm4pKSB7XG4gICAgICAgIGVycm9ycy5wdXNoKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVyck1zZ1Byb3ZpZGVyLmJ1aWxkSW52YWxpZFJ1bGVOYW1lRXJyb3Ioe1xuICAgICAgICAgICAgICAgIHRvcExldmVsUnVsZTogcnVsZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZFBhdHRlcm46IHZhbGlkVGVybXNQYXR0ZXJuXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIHR5cGU6IFBhcnNlckRlZmluaXRpb25FcnJvclR5cGUuSU5WQUxJRF9SVUxFX05BTUUsXG4gICAgICAgICAgICBydWxlTmFtZTogcnVsZU5hbWVcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBlcnJvcnM7XG59XG4vLyBUT0RPOiByZW1vdmUgdGhpcyBsaW1pdGF0aW9uIG5vdyB0aGF0IHdlIHVzZSByZWNvcmRlcnNcbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZVRva2VuTmFtZSh0b2tlblR5cGUsIGVyck1zZ1Byb3ZpZGVyKSB7XG4gICAgdmFyIGVycm9ycyA9IFtdO1xuICAgIHZhciB0b2tUeXBlTmFtZSA9IHRva2VuVHlwZS5uYW1lO1xuICAgIGlmICghdG9rVHlwZU5hbWUubWF0Y2godmFsaWRUZXJtc1BhdHRlcm4pKSB7XG4gICAgICAgIGVycm9ycy5wdXNoKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVyck1zZ1Byb3ZpZGVyLmJ1aWxkVG9rZW5OYW1lRXJyb3Ioe1xuICAgICAgICAgICAgICAgIHRva2VuVHlwZTogdG9rZW5UeXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkUGF0dGVybjogdmFsaWRUZXJtc1BhdHRlcm5cbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgdHlwZTogUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZS5JTlZBTElEX1RPS0VOX05BTUVcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBlcnJvcnM7XG59XG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVSdWxlRG9lc05vdEFscmVhZHlFeGlzdChydWxlLCBhbGxSdWxlcywgY2xhc3NOYW1lLCBlcnJNc2dQcm92aWRlcikge1xuICAgIHZhciBlcnJvcnMgPSBbXTtcbiAgICB2YXIgb2NjdXJyZW5jZXMgPSByZWR1Y2UoYWxsUnVsZXMsIGZ1bmN0aW9uIChyZXN1bHQsIGN1clJ1bGUpIHtcbiAgICAgICAgaWYgKGN1clJ1bGUubmFtZSA9PT0gcnVsZS5uYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0ICsgMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0sIDApO1xuICAgIGlmIChvY2N1cnJlbmNlcyA+IDEpIHtcbiAgICAgICAgdmFyIGVyck1zZyA9IGVyck1zZ1Byb3ZpZGVyLmJ1aWxkRHVwbGljYXRlUnVsZU5hbWVFcnJvcih7XG4gICAgICAgICAgICB0b3BMZXZlbFJ1bGU6IHJ1bGUsXG4gICAgICAgICAgICBncmFtbWFyTmFtZTogY2xhc3NOYW1lXG4gICAgICAgIH0pO1xuICAgICAgICBlcnJvcnMucHVzaCh7XG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJNc2csXG4gICAgICAgICAgICB0eXBlOiBQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlLkRVUExJQ0FURV9SVUxFX05BTUUsXG4gICAgICAgICAgICBydWxlTmFtZTogcnVsZS5uYW1lXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZXJyb3JzO1xufVxuLy8gVE9ETzogaXMgdGhlcmUgYW55d2F5IHRvIGdldCBvbmx5IHRoZSBydWxlIG5hbWVzIG9mIHJ1bGVzIGluaGVyaXRlZCBmcm9tIHRoZSBzdXBlciBncmFtbWFycz9cbi8vIFRoaXMgaXMgbm90IHBhcnQgb2YgdGhlIElHcmFtbWFyRXJyb3JQcm92aWRlciBiZWNhdXNlIHRoZSB2YWxpZGF0aW9uIGNhbm5vdCBiZSBwZXJmb3JtZWQgb25cbi8vIFRoZSBncmFtbWFyIHN0cnVjdHVyZSwgb25seSBhdCBydW50aW1lLlxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlUnVsZUlzT3ZlcnJpZGRlbihydWxlTmFtZSwgZGVmaW5lZFJ1bGVzTmFtZXMsIGNsYXNzTmFtZSkge1xuICAgIHZhciBlcnJvcnMgPSBbXTtcbiAgICB2YXIgZXJyTXNnO1xuICAgIGlmICghdXRpbHMuY29udGFpbnMoZGVmaW5lZFJ1bGVzTmFtZXMsIHJ1bGVOYW1lKSkge1xuICAgICAgICBlcnJNc2cgPVxuICAgICAgICAgICAgXCJJbnZhbGlkIHJ1bGUgb3ZlcnJpZGUsIHJ1bGU6IC0+XCIgKyBydWxlTmFtZSArIFwiPC0gY2Fubm90IGJlIG92ZXJyaWRkZW4gaW4gdGhlIGdyYW1tYXI6IC0+XCIgKyBjbGFzc05hbWUgKyBcIjwtXCIgK1xuICAgICAgICAgICAgICAgIFwiYXMgaXQgaXMgbm90IGRlZmluZWQgaW4gYW55IG9mIHRoZSBzdXBlciBncmFtbWFycyBcIjtcbiAgICAgICAgZXJyb3JzLnB1c2goe1xuICAgICAgICAgICAgbWVzc2FnZTogZXJyTXNnLFxuICAgICAgICAgICAgdHlwZTogUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZS5JTlZBTElEX1JVTEVfT1ZFUlJJREUsXG4gICAgICAgICAgICBydWxlTmFtZTogcnVsZU5hbWVcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBlcnJvcnM7XG59XG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVOb0xlZnRSZWN1cnNpb24odG9wUnVsZSwgY3VyclJ1bGUsIGVyck1zZ1Byb3ZpZGVyLCBwYXRoKSB7XG4gICAgaWYgKHBhdGggPT09IHZvaWQgMCkgeyBwYXRoID0gW107IH1cbiAgICB2YXIgZXJyb3JzID0gW107XG4gICAgdmFyIG5leHROb25UZXJtaW5hbHMgPSBnZXRGaXJzdE5vbmVUZXJtaW5hbChjdXJyUnVsZS5kZWZpbml0aW9uKTtcbiAgICBpZiAodXRpbHMuaXNFbXB0eShuZXh0Tm9uVGVybWluYWxzKSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB2YXIgcnVsZU5hbWUgPSB0b3BSdWxlLm5hbWU7XG4gICAgICAgIHZhciBmb3VuZExlZnRSZWN1cnNpb24gPSB1dGlscy5jb250YWlucyhuZXh0Tm9uVGVybWluYWxzLCB0b3BSdWxlKTtcbiAgICAgICAgaWYgKGZvdW5kTGVmdFJlY3Vyc2lvbikge1xuICAgICAgICAgICAgZXJyb3JzLnB1c2goe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGVyck1zZ1Byb3ZpZGVyLmJ1aWxkTGVmdFJlY3Vyc2lvbkVycm9yKHtcbiAgICAgICAgICAgICAgICAgICAgdG9wTGV2ZWxSdWxlOiB0b3BSdWxlLFxuICAgICAgICAgICAgICAgICAgICBsZWZ0UmVjdXJzaW9uUGF0aDogcGF0aFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIHR5cGU6IFBhcnNlckRlZmluaXRpb25FcnJvclR5cGUuTEVGVF9SRUNVUlNJT04sXG4gICAgICAgICAgICAgICAgcnVsZU5hbWU6IHJ1bGVOYW1lXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyB3ZSBhcmUgb25seSBsb29raW5nIGZvciBjeWNsaWMgcGF0aHMgbGVhZGluZyBiYWNrIHRvIHRoZSBzcGVjaWZpYyB0b3BSdWxlXG4gICAgICAgIC8vIG90aGVyIGN5Y2xpYyBwYXRocyBhcmUgaWdub3JlZCwgd2Ugc3RpbGwgbmVlZCB0aGlzIGRpZmZlcmVuY2UgdG8gYXZvaWQgaW5maW5pdGUgbG9vcHMuLi5cbiAgICAgICAgdmFyIHZhbGlkTmV4dFN0ZXBzID0gdXRpbHMuZGlmZmVyZW5jZShuZXh0Tm9uVGVybWluYWxzLCBwYXRoLmNvbmNhdChbdG9wUnVsZV0pKTtcbiAgICAgICAgdmFyIGVycm9yc0Zyb21OZXh0U3RlcHMgPSB1dGlscy5tYXAodmFsaWROZXh0U3RlcHMsIGZ1bmN0aW9uIChjdXJyUmVmUnVsZSkge1xuICAgICAgICAgICAgdmFyIG5ld1BhdGggPSB1dGlscy5jbG9uZUFycihwYXRoKTtcbiAgICAgICAgICAgIG5ld1BhdGgucHVzaChjdXJyUmVmUnVsZSk7XG4gICAgICAgICAgICByZXR1cm4gdmFsaWRhdGVOb0xlZnRSZWN1cnNpb24odG9wUnVsZSwgY3VyclJlZlJ1bGUsIGVyck1zZ1Byb3ZpZGVyLCBuZXdQYXRoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBlcnJvcnMuY29uY2F0KHV0aWxzLmZsYXR0ZW4oZXJyb3JzRnJvbU5leHRTdGVwcykpO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRGaXJzdE5vbmVUZXJtaW5hbChkZWZpbml0aW9uKSB7XG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIGlmICh1dGlscy5pc0VtcHR5KGRlZmluaXRpb24pKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIHZhciBmaXJzdFByb2QgPSB1dGlscy5maXJzdChkZWZpbml0aW9uKTtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgIGlmIChmaXJzdFByb2QgaW5zdGFuY2VvZiBOb25UZXJtaW5hbCkge1xuICAgICAgICByZXN1bHQucHVzaChmaXJzdFByb2QucmVmZXJlbmNlZFJ1bGUpO1xuICAgIH1cbiAgICBlbHNlIGlmIChmaXJzdFByb2QgaW5zdGFuY2VvZiBBbHRlcm5hdGl2ZUdBU1QgfHxcbiAgICAgICAgZmlyc3RQcm9kIGluc3RhbmNlb2YgT3B0aW9uIHx8XG4gICAgICAgIGZpcnN0UHJvZCBpbnN0YW5jZW9mIFJlcGV0aXRpb25NYW5kYXRvcnkgfHxcbiAgICAgICAgZmlyc3RQcm9kIGluc3RhbmNlb2YgUmVwZXRpdGlvbk1hbmRhdG9yeVdpdGhTZXBhcmF0b3IgfHxcbiAgICAgICAgZmlyc3RQcm9kIGluc3RhbmNlb2YgUmVwZXRpdGlvbldpdGhTZXBhcmF0b3IgfHxcbiAgICAgICAgZmlyc3RQcm9kIGluc3RhbmNlb2YgUmVwZXRpdGlvbikge1xuICAgICAgICByZXN1bHQgPSByZXN1bHQuY29uY2F0KGdldEZpcnN0Tm9uZVRlcm1pbmFsKGZpcnN0UHJvZC5kZWZpbml0aW9uKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGZpcnN0UHJvZCBpbnN0YW5jZW9mIEFsdGVybmF0aW9uKSB7XG4gICAgICAgIC8vIGVhY2ggc3ViIGRlZmluaXRpb24gaW4gYWx0ZXJuYXRpb24gaXMgYSBGTEFUXG4gICAgICAgIHJlc3VsdCA9IHV0aWxzLmZsYXR0ZW4odXRpbHMubWFwKGZpcnN0UHJvZC5kZWZpbml0aW9uLCBmdW5jdGlvbiAoY3VyclN1YkRlZikge1xuICAgICAgICAgICAgcmV0dXJuIGdldEZpcnN0Tm9uZVRlcm1pbmFsKGN1cnJTdWJEZWYuZGVmaW5pdGlvbik7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZmlyc3RQcm9kIGluc3RhbmNlb2YgVGVybWluYWwpIHtcbiAgICAgICAgLy8gbm90aGluZyB0byBzZWUsIG1vdmUgYWxvbmdcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IEVycm9yKFwibm9uIGV4aGF1c3RpdmUgbWF0Y2hcIik7XG4gICAgfVxuICAgIHZhciBpc0ZpcnN0T3B0aW9uYWwgPSBpc09wdGlvbmFsUHJvZChmaXJzdFByb2QpO1xuICAgIHZhciBoYXNNb3JlID0gZGVmaW5pdGlvbi5sZW5ndGggPiAxO1xuICAgIGlmIChpc0ZpcnN0T3B0aW9uYWwgJiYgaGFzTW9yZSkge1xuICAgICAgICB2YXIgcmVzdCA9IHV0aWxzLmRyb3AoZGVmaW5pdGlvbik7XG4gICAgICAgIHJldHVybiByZXN1bHQuY29uY2F0KGdldEZpcnN0Tm9uZVRlcm1pbmFsKHJlc3QpKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxufVxudmFyIE9yQ29sbGVjdG9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhPckNvbGxlY3RvciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBPckNvbGxlY3RvcigpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmFsdGVybmF0aW9ucyA9IFtdO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9yQ29sbGVjdG9yLnByb3RvdHlwZS52aXNpdEFsdGVybmF0aW9uID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgdGhpcy5hbHRlcm5hdGlvbnMucHVzaChub2RlKTtcbiAgICB9O1xuICAgIHJldHVybiBPckNvbGxlY3Rvcjtcbn0oR0FzdFZpc2l0b3IpKTtcbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZUVtcHR5T3JBbHRlcm5hdGl2ZSh0b3BMZXZlbFJ1bGUsIGVyck1zZ1Byb3ZpZGVyKSB7XG4gICAgdmFyIG9yQ29sbGVjdG9yID0gbmV3IE9yQ29sbGVjdG9yKCk7XG4gICAgdG9wTGV2ZWxSdWxlLmFjY2VwdChvckNvbGxlY3Rvcik7XG4gICAgdmFyIG9ycyA9IG9yQ29sbGVjdG9yLmFsdGVybmF0aW9ucztcbiAgICB2YXIgZXJyb3JzID0gdXRpbHMucmVkdWNlKG9ycywgZnVuY3Rpb24gKGVycm9ycywgY3Vyck9yKSB7XG4gICAgICAgIHZhciBleGNlcHRMYXN0ID0gdXRpbHMuZHJvcFJpZ2h0KGN1cnJPci5kZWZpbml0aW9uKTtcbiAgICAgICAgdmFyIGN1cnJFcnJvcnMgPSB1dGlscy5tYXAoZXhjZXB0TGFzdCwgZnVuY3Rpb24gKGN1cnJBbHRlcm5hdGl2ZSwgY3VyckFsdElkeCkge1xuICAgICAgICAgICAgdmFyIHBvc3NpYmxlRmlyc3RJbkFsdCA9IG5leHRQb3NzaWJsZVRva2Vuc0FmdGVyKFtjdXJyQWx0ZXJuYXRpdmVdLCBbXSwgbnVsbCwgMSk7XG4gICAgICAgICAgICBpZiAodXRpbHMuaXNFbXB0eShwb3NzaWJsZUZpcnN0SW5BbHQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZXJyTXNnUHJvdmlkZXIuYnVpbGRFbXB0eUFsdGVybmF0aW9uRXJyb3Ioe1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9wTGV2ZWxSdWxlOiB0b3BMZXZlbFJ1bGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBhbHRlcm5hdGlvbjogY3Vyck9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgZW1wdHlDaG9pY2VJZHg6IGN1cnJBbHRJZHhcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFBhcnNlckRlZmluaXRpb25FcnJvclR5cGUuTk9ORV9MQVNUX0VNUFRZX0FMVCxcbiAgICAgICAgICAgICAgICAgICAgcnVsZU5hbWU6IHRvcExldmVsUnVsZS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICBvY2N1cnJlbmNlOiBjdXJyT3IuaWR4LFxuICAgICAgICAgICAgICAgICAgICBhbHRlcm5hdGl2ZTogY3VyckFsdElkeCArIDFcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZXJyb3JzLmNvbmNhdCh1dGlscy5jb21wYWN0KGN1cnJFcnJvcnMpKTtcbiAgICB9LCBbXSk7XG4gICAgcmV0dXJuIGVycm9ycztcbn1cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZUFtYmlndW91c0FsdGVybmF0aW9uQWx0ZXJuYXRpdmVzKHRvcExldmVsUnVsZSwgZ2xvYmFsTWF4TG9va2FoZWFkLCBlcnJNc2dQcm92aWRlcikge1xuICAgIHZhciBvckNvbGxlY3RvciA9IG5ldyBPckNvbGxlY3RvcigpO1xuICAgIHRvcExldmVsUnVsZS5hY2NlcHQob3JDb2xsZWN0b3IpO1xuICAgIHZhciBvcnMgPSBvckNvbGxlY3Rvci5hbHRlcm5hdGlvbnM7XG4gICAgLy8gTmV3IEhhbmRsaW5nIG9mIGlnbm9yaW5nIGFtYmlndWl0aWVzXG4gICAgLy8gLSBodHRwczovL2dpdGh1Yi5jb20vU0FQL2NoZXZyb3RhaW4vaXNzdWVzLzg2OVxuICAgIG9ycyA9IHJlamVjdChvcnMsIGZ1bmN0aW9uIChjdXJyT3IpIHsgcmV0dXJuIGN1cnJPci5pZ25vcmVBbWJpZ3VpdGllcyA9PT0gdHJ1ZTsgfSk7XG4gICAgdmFyIGVycm9ycyA9IHV0aWxzLnJlZHVjZShvcnMsIGZ1bmN0aW9uIChyZXN1bHQsIGN1cnJPcikge1xuICAgICAgICB2YXIgY3Vyck9jY3VycmVuY2UgPSBjdXJyT3IuaWR4O1xuICAgICAgICB2YXIgYWN0dWFsTWF4TG9va2FoZWFkID0gY3Vyck9yLm1heExvb2thaGVhZCB8fCBnbG9iYWxNYXhMb29rYWhlYWQ7XG4gICAgICAgIHZhciBhbHRlcm5hdGl2ZXMgPSBnZXRMb29rYWhlYWRQYXRoc0Zvck9yKGN1cnJPY2N1cnJlbmNlLCB0b3BMZXZlbFJ1bGUsIGFjdHVhbE1heExvb2thaGVhZCwgY3Vyck9yKTtcbiAgICAgICAgdmFyIGFsdHNBbWJpZ3VpdHlFcnJvcnMgPSBjaGVja0FsdGVybmF0aXZlc0FtYmlndWl0aWVzKGFsdGVybmF0aXZlcywgY3Vyck9yLCB0b3BMZXZlbFJ1bGUsIGVyck1zZ1Byb3ZpZGVyKTtcbiAgICAgICAgdmFyIGFsdHNQcmVmaXhBbWJpZ3VpdHlFcnJvcnMgPSBjaGVja1ByZWZpeEFsdGVybmF0aXZlc0FtYmlndWl0aWVzKGFsdGVybmF0aXZlcywgY3Vyck9yLCB0b3BMZXZlbFJ1bGUsIGVyck1zZ1Byb3ZpZGVyKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5jb25jYXQoYWx0c0FtYmlndWl0eUVycm9ycywgYWx0c1ByZWZpeEFtYmlndWl0eUVycm9ycyk7XG4gICAgfSwgW10pO1xuICAgIHJldHVybiBlcnJvcnM7XG59XG52YXIgUmVwZXRpb25Db2xsZWN0b3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFJlcGV0aW9uQ29sbGVjdG9yLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFJlcGV0aW9uQ29sbGVjdG9yKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuYWxsUHJvZHVjdGlvbnMgPSBbXTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBSZXBldGlvbkNvbGxlY3Rvci5wcm90b3R5cGUudmlzaXRSZXBldGl0aW9uV2l0aFNlcGFyYXRvciA9IGZ1bmN0aW9uIChtYW55U2VwKSB7XG4gICAgICAgIHRoaXMuYWxsUHJvZHVjdGlvbnMucHVzaChtYW55U2VwKTtcbiAgICB9O1xuICAgIFJlcGV0aW9uQ29sbGVjdG9yLnByb3RvdHlwZS52aXNpdFJlcGV0aXRpb25NYW5kYXRvcnkgPSBmdW5jdGlvbiAoYXRMZWFzdE9uZSkge1xuICAgICAgICB0aGlzLmFsbFByb2R1Y3Rpb25zLnB1c2goYXRMZWFzdE9uZSk7XG4gICAgfTtcbiAgICBSZXBldGlvbkNvbGxlY3Rvci5wcm90b3R5cGUudmlzaXRSZXBldGl0aW9uTWFuZGF0b3J5V2l0aFNlcGFyYXRvciA9IGZ1bmN0aW9uIChhdExlYXN0T25lU2VwKSB7XG4gICAgICAgIHRoaXMuYWxsUHJvZHVjdGlvbnMucHVzaChhdExlYXN0T25lU2VwKTtcbiAgICB9O1xuICAgIFJlcGV0aW9uQ29sbGVjdG9yLnByb3RvdHlwZS52aXNpdFJlcGV0aXRpb24gPSBmdW5jdGlvbiAobWFueSkge1xuICAgICAgICB0aGlzLmFsbFByb2R1Y3Rpb25zLnB1c2gobWFueSk7XG4gICAgfTtcbiAgICByZXR1cm4gUmVwZXRpb25Db2xsZWN0b3I7XG59KEdBc3RWaXNpdG9yKSk7XG5leHBvcnQgeyBSZXBldGlvbkNvbGxlY3RvciB9O1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlVG9vTWFueUFsdHModG9wTGV2ZWxSdWxlLCBlcnJNc2dQcm92aWRlcikge1xuICAgIHZhciBvckNvbGxlY3RvciA9IG5ldyBPckNvbGxlY3RvcigpO1xuICAgIHRvcExldmVsUnVsZS5hY2NlcHQob3JDb2xsZWN0b3IpO1xuICAgIHZhciBvcnMgPSBvckNvbGxlY3Rvci5hbHRlcm5hdGlvbnM7XG4gICAgdmFyIGVycm9ycyA9IHV0aWxzLnJlZHVjZShvcnMsIGZ1bmN0aW9uIChlcnJvcnMsIGN1cnJPcikge1xuICAgICAgICBpZiAoY3Vyck9yLmRlZmluaXRpb24ubGVuZ3RoID4gMjU1KSB7XG4gICAgICAgICAgICBlcnJvcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogZXJyTXNnUHJvdmlkZXIuYnVpbGRUb29NYW55QWx0ZXJuYXRpdmVzRXJyb3Ioe1xuICAgICAgICAgICAgICAgICAgICB0b3BMZXZlbFJ1bGU6IHRvcExldmVsUnVsZSxcbiAgICAgICAgICAgICAgICAgICAgYWx0ZXJuYXRpb246IGN1cnJPclxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIHR5cGU6IFBhcnNlckRlZmluaXRpb25FcnJvclR5cGUuVE9PX01BTllfQUxUUyxcbiAgICAgICAgICAgICAgICBydWxlTmFtZTogdG9wTGV2ZWxSdWxlLm5hbWUsXG4gICAgICAgICAgICAgICAgb2NjdXJyZW5jZTogY3Vyck9yLmlkeFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVycm9ycztcbiAgICB9LCBbXSk7XG4gICAgcmV0dXJuIGVycm9ycztcbn1cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZVNvbWVOb25FbXB0eUxvb2thaGVhZFBhdGgodG9wTGV2ZWxSdWxlcywgbWF4TG9va2FoZWFkLCBlcnJNc2dQcm92aWRlcikge1xuICAgIHZhciBlcnJvcnMgPSBbXTtcbiAgICBmb3JFYWNoKHRvcExldmVsUnVsZXMsIGZ1bmN0aW9uIChjdXJyVG9wUnVsZSkge1xuICAgICAgICB2YXIgY29sbGVjdG9yVmlzaXRvciA9IG5ldyBSZXBldGlvbkNvbGxlY3RvcigpO1xuICAgICAgICBjdXJyVG9wUnVsZS5hY2NlcHQoY29sbGVjdG9yVmlzaXRvcik7XG4gICAgICAgIHZhciBhbGxSdWxlUHJvZHVjdGlvbnMgPSBjb2xsZWN0b3JWaXNpdG9yLmFsbFByb2R1Y3Rpb25zO1xuICAgICAgICBmb3JFYWNoKGFsbFJ1bGVQcm9kdWN0aW9ucywgZnVuY3Rpb24gKGN1cnJQcm9kKSB7XG4gICAgICAgICAgICB2YXIgcHJvZFR5cGUgPSBnZXRQcm9kVHlwZShjdXJyUHJvZCk7XG4gICAgICAgICAgICB2YXIgYWN0dWFsTWF4TG9va2FoZWFkID0gY3VyclByb2QubWF4TG9va2FoZWFkIHx8IG1heExvb2thaGVhZDtcbiAgICAgICAgICAgIHZhciBjdXJyT2NjdXJyZW5jZSA9IGN1cnJQcm9kLmlkeDtcbiAgICAgICAgICAgIHZhciBwYXRocyA9IGdldExvb2thaGVhZFBhdGhzRm9yT3B0aW9uYWxQcm9kKGN1cnJPY2N1cnJlbmNlLCBjdXJyVG9wUnVsZSwgcHJvZFR5cGUsIGFjdHVhbE1heExvb2thaGVhZCk7XG4gICAgICAgICAgICB2YXIgcGF0aHNJbnNpZGVQcm9kdWN0aW9uID0gcGF0aHNbMF07XG4gICAgICAgICAgICBpZiAoaXNFbXB0eShmbGF0dGVuKHBhdGhzSW5zaWRlUHJvZHVjdGlvbikpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGVyck1zZyA9IGVyck1zZ1Byb3ZpZGVyLmJ1aWxkRW1wdHlSZXBldGl0aW9uRXJyb3Ioe1xuICAgICAgICAgICAgICAgICAgICB0b3BMZXZlbFJ1bGU6IGN1cnJUb3BSdWxlLFxuICAgICAgICAgICAgICAgICAgICByZXBldGl0aW9uOiBjdXJyUHJvZFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZXJyTXNnLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlLk5PX05PTl9FTVBUWV9MT09LQUhFQUQsXG4gICAgICAgICAgICAgICAgICAgIHJ1bGVOYW1lOiBjdXJyVG9wUnVsZS5uYW1lXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiBlcnJvcnM7XG59XG5mdW5jdGlvbiBjaGVja0FsdGVybmF0aXZlc0FtYmlndWl0aWVzKGFsdGVybmF0aXZlcywgYWx0ZXJuYXRpb24sIHJ1bGUsIGVyck1zZ1Byb3ZpZGVyKSB7XG4gICAgdmFyIGZvdW5kQW1iaWd1b3VzUGF0aHMgPSBbXTtcbiAgICB2YXIgaWRlbnRpY2FsQW1iaWd1aXRpZXMgPSByZWR1Y2UoYWx0ZXJuYXRpdmVzLCBmdW5jdGlvbiAocmVzdWx0LCBjdXJyQWx0LCBjdXJyQWx0SWR4KSB7XG4gICAgICAgIC8vIGlnbm9yZSAoc2tpcCkgYW1iaWd1aXRpZXMgd2l0aCB0aGlzIGFsdGVybmF0aXZlXG4gICAgICAgIGlmIChhbHRlcm5hdGlvbi5kZWZpbml0aW9uW2N1cnJBbHRJZHhdLmlnbm9yZUFtYmlndWl0aWVzID09PSB0cnVlKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIGZvckVhY2goY3VyckFsdCwgZnVuY3Rpb24gKGN1cnJQYXRoKSB7XG4gICAgICAgICAgICB2YXIgYWx0c0N1cnJQYXRoQXBwZWFyc0luID0gW2N1cnJBbHRJZHhdO1xuICAgICAgICAgICAgZm9yRWFjaChhbHRlcm5hdGl2ZXMsIGZ1bmN0aW9uIChjdXJyT3RoZXJBbHQsIGN1cnJPdGhlckFsdElkeCkge1xuICAgICAgICAgICAgICAgIGlmIChjdXJyQWx0SWR4ICE9PSBjdXJyT3RoZXJBbHRJZHggJiZcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbnNQYXRoKGN1cnJPdGhlckFsdCwgY3VyclBhdGgpICYmXG4gICAgICAgICAgICAgICAgICAgIC8vIGlnbm9yZSAoc2tpcCkgYW1iaWd1aXRpZXMgd2l0aCB0aGlzIFwib3RoZXJcIiBhbHRlcm5hdGl2ZVxuICAgICAgICAgICAgICAgICAgICBhbHRlcm5hdGlvbi5kZWZpbml0aW9uW2N1cnJPdGhlckFsdElkeF0uaWdub3JlQW1iaWd1aXRpZXMgIT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgYWx0c0N1cnJQYXRoQXBwZWFyc0luLnB1c2goY3Vyck90aGVyQWx0SWR4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChhbHRzQ3VyclBhdGhBcHBlYXJzSW4ubGVuZ3RoID4gMSAmJlxuICAgICAgICAgICAgICAgICFjb250YWluc1BhdGgoZm91bmRBbWJpZ3VvdXNQYXRocywgY3VyclBhdGgpKSB7XG4gICAgICAgICAgICAgICAgZm91bmRBbWJpZ3VvdXNQYXRocy5wdXNoKGN1cnJQYXRoKTtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGFsdHM6IGFsdHNDdXJyUGF0aEFwcGVhcnNJbixcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogY3VyclBhdGhcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSwgW10pO1xuICAgIHZhciBjdXJyRXJyb3JzID0gdXRpbHMubWFwKGlkZW50aWNhbEFtYmlndWl0aWVzLCBmdW5jdGlvbiAoY3VyckFtYkRlc2NyaXB0b3IpIHtcbiAgICAgICAgdmFyIGFtYmdJbmRpY2VzID0gbWFwKGN1cnJBbWJEZXNjcmlwdG9yLmFsdHMsIGZ1bmN0aW9uIChjdXJyQWx0SWR4KSB7IHJldHVybiBjdXJyQWx0SWR4ICsgMTsgfSk7XG4gICAgICAgIHZhciBjdXJyTWVzc2FnZSA9IGVyck1zZ1Byb3ZpZGVyLmJ1aWxkQWx0ZXJuYXRpb25BbWJpZ3VpdHlFcnJvcih7XG4gICAgICAgICAgICB0b3BMZXZlbFJ1bGU6IHJ1bGUsXG4gICAgICAgICAgICBhbHRlcm5hdGlvbjogYWx0ZXJuYXRpb24sXG4gICAgICAgICAgICBhbWJpZ3VpdHlJbmRpY2VzOiBhbWJnSW5kaWNlcyxcbiAgICAgICAgICAgIHByZWZpeFBhdGg6IGN1cnJBbWJEZXNjcmlwdG9yLnBhdGhcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtZXNzYWdlOiBjdXJyTWVzc2FnZSxcbiAgICAgICAgICAgIHR5cGU6IFBhcnNlckRlZmluaXRpb25FcnJvclR5cGUuQU1CSUdVT1VTX0FMVFMsXG4gICAgICAgICAgICBydWxlTmFtZTogcnVsZS5uYW1lLFxuICAgICAgICAgICAgb2NjdXJyZW5jZTogYWx0ZXJuYXRpb24uaWR4LFxuICAgICAgICAgICAgYWx0ZXJuYXRpdmVzOiBbY3VyckFtYkRlc2NyaXB0b3IuYWx0c11cbiAgICAgICAgfTtcbiAgICB9KTtcbiAgICByZXR1cm4gY3VyckVycm9ycztcbn1cbmV4cG9ydCBmdW5jdGlvbiBjaGVja1ByZWZpeEFsdGVybmF0aXZlc0FtYmlndWl0aWVzKGFsdGVybmF0aXZlcywgYWx0ZXJuYXRpb24sIHJ1bGUsIGVyck1zZ1Byb3ZpZGVyKSB7XG4gICAgdmFyIGVycm9ycyA9IFtdO1xuICAgIC8vIGZsYXR0ZW5cbiAgICB2YXIgcGF0aHNBbmRJbmRpY2VzID0gcmVkdWNlKGFsdGVybmF0aXZlcywgZnVuY3Rpb24gKHJlc3VsdCwgY3VyckFsdCwgaWR4KSB7XG4gICAgICAgIHZhciBjdXJyUGF0aHNBbmRJZHggPSBtYXAoY3VyckFsdCwgZnVuY3Rpb24gKGN1cnJQYXRoKSB7XG4gICAgICAgICAgICByZXR1cm4geyBpZHg6IGlkeCwgcGF0aDogY3VyclBhdGggfTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXN1bHQuY29uY2F0KGN1cnJQYXRoc0FuZElkeCk7XG4gICAgfSwgW10pO1xuICAgIGZvckVhY2gocGF0aHNBbmRJbmRpY2VzLCBmdW5jdGlvbiAoY3VyclBhdGhBbmRJZHgpIHtcbiAgICAgICAgdmFyIGFsdGVybmF0aXZlR2FzdCA9IGFsdGVybmF0aW9uLmRlZmluaXRpb25bY3VyclBhdGhBbmRJZHguaWR4XTtcbiAgICAgICAgLy8gaWdub3JlIChza2lwKSBhbWJpZ3VpdGllcyB3aXRoIHRoaXMgYWx0ZXJuYXRpdmVcbiAgICAgICAgaWYgKGFsdGVybmF0aXZlR2FzdC5pZ25vcmVBbWJpZ3VpdGllcyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0YXJnZXRJZHggPSBjdXJyUGF0aEFuZElkeC5pZHg7XG4gICAgICAgIHZhciB0YXJnZXRQYXRoID0gY3VyclBhdGhBbmRJZHgucGF0aDtcbiAgICAgICAgdmFyIHByZWZpeEFtYmlndWl0aWVzUGF0aHNBbmRJbmRpY2VzID0gZmluZEFsbChwYXRoc0FuZEluZGljZXMsIGZ1bmN0aW9uIChzZWFyY2hQYXRoQW5kSWR4KSB7XG4gICAgICAgICAgICAvLyBwcmVmaXggYW1iaWd1aXR5IGNhbiBvbmx5IGJlIGNyZWF0ZWQgZnJvbSBsb3dlciBpZHggKGhpZ2hlciBwcmlvcml0eSkgcGF0aFxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIC8vIGlnbm9yZSAoc2tpcCkgYW1iaWd1aXRpZXMgd2l0aCB0aGlzIFwib3RoZXJcIiBhbHRlcm5hdGl2ZVxuICAgICAgICAgICAgYWx0ZXJuYXRpb24uZGVmaW5pdGlvbltzZWFyY2hQYXRoQW5kSWR4LmlkeF0uaWdub3JlQW1iaWd1aXRpZXMgIT09XG4gICAgICAgICAgICAgICAgdHJ1ZSAmJlxuICAgICAgICAgICAgICAgIHNlYXJjaFBhdGhBbmRJZHguaWR4IDwgdGFyZ2V0SWR4ICYmXG4gICAgICAgICAgICAgICAgLy8gY2hlY2tpbmcgZm9yIHN0cmljdCBwcmVmaXggYmVjYXVzZSBpZGVudGljYWwgbG9va2FoZWFkc1xuICAgICAgICAgICAgICAgIC8vIHdpbGwgYmUgYmUgZGV0ZWN0ZWQgdXNpbmcgYSBkaWZmZXJlbnQgdmFsaWRhdGlvbi5cbiAgICAgICAgICAgICAgICBpc1N0cmljdFByZWZpeE9mUGF0aChzZWFyY2hQYXRoQW5kSWR4LnBhdGgsIHRhcmdldFBhdGgpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBjdXJyUGF0aFByZWZpeEVycm9ycyA9IG1hcChwcmVmaXhBbWJpZ3VpdGllc1BhdGhzQW5kSW5kaWNlcywgZnVuY3Rpb24gKGN1cnJBbWJQYXRoQW5kSWR4KSB7XG4gICAgICAgICAgICB2YXIgYW1iZ0luZGljZXMgPSBbY3VyckFtYlBhdGhBbmRJZHguaWR4ICsgMSwgdGFyZ2V0SWR4ICsgMV07XG4gICAgICAgICAgICB2YXIgb2NjdXJyZW5jZSA9IGFsdGVybmF0aW9uLmlkeCA9PT0gMCA/IFwiXCIgOiBhbHRlcm5hdGlvbi5pZHg7XG4gICAgICAgICAgICB2YXIgbWVzc2FnZSA9IGVyck1zZ1Byb3ZpZGVyLmJ1aWxkQWx0ZXJuYXRpb25QcmVmaXhBbWJpZ3VpdHlFcnJvcih7XG4gICAgICAgICAgICAgICAgdG9wTGV2ZWxSdWxlOiBydWxlLFxuICAgICAgICAgICAgICAgIGFsdGVybmF0aW9uOiBhbHRlcm5hdGlvbixcbiAgICAgICAgICAgICAgICBhbWJpZ3VpdHlJbmRpY2VzOiBhbWJnSW5kaWNlcyxcbiAgICAgICAgICAgICAgICBwcmVmaXhQYXRoOiBjdXJyQW1iUGF0aEFuZElkeC5wYXRoXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogbWVzc2FnZSxcbiAgICAgICAgICAgICAgICB0eXBlOiBQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlLkFNQklHVU9VU19QUkVGSVhfQUxUUyxcbiAgICAgICAgICAgICAgICBydWxlTmFtZTogcnVsZS5uYW1lLFxuICAgICAgICAgICAgICAgIG9jY3VycmVuY2U6IG9jY3VycmVuY2UsXG4gICAgICAgICAgICAgICAgYWx0ZXJuYXRpdmVzOiBhbWJnSW5kaWNlc1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIGVycm9ycyA9IGVycm9ycy5jb25jYXQoY3VyclBhdGhQcmVmaXhFcnJvcnMpO1xuICAgIH0pO1xuICAgIHJldHVybiBlcnJvcnM7XG59XG5mdW5jdGlvbiBjaGVja1Rlcm1pbmFsQW5kTm9uZVRlcm1pbmFsc05hbWVTcGFjZSh0b3BMZXZlbHMsIHRva2VuVHlwZXMsIGVyck1zZ1Byb3ZpZGVyKSB7XG4gICAgdmFyIGVycm9ycyA9IFtdO1xuICAgIHZhciB0b2tlbk5hbWVzID0gbWFwKHRva2VuVHlwZXMsIGZ1bmN0aW9uIChjdXJyVG9rZW4pIHsgcmV0dXJuIGN1cnJUb2tlbi5uYW1lOyB9KTtcbiAgICBmb3JFYWNoKHRvcExldmVscywgZnVuY3Rpb24gKGN1cnJSdWxlKSB7XG4gICAgICAgIHZhciBjdXJyUnVsZU5hbWUgPSBjdXJyUnVsZS5uYW1lO1xuICAgICAgICBpZiAoY29udGFpbnModG9rZW5OYW1lcywgY3VyclJ1bGVOYW1lKSkge1xuICAgICAgICAgICAgdmFyIGVyck1zZyA9IGVyck1zZ1Byb3ZpZGVyLmJ1aWxkTmFtZXNwYWNlQ29uZmxpY3RFcnJvcihjdXJyUnVsZSk7XG4gICAgICAgICAgICBlcnJvcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogZXJyTXNnLFxuICAgICAgICAgICAgICAgIHR5cGU6IFBhcnNlckRlZmluaXRpb25FcnJvclR5cGUuQ09ORkxJQ1RfVE9LRU5TX1JVTEVTX05BTUVTUEFDRSxcbiAgICAgICAgICAgICAgICBydWxlTmFtZTogY3VyclJ1bGVOYW1lXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBlcnJvcnM7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaGVja3MuanMubWFwIiwiaW1wb3J0IHsgZGVmYXVsdHMsIGZvckVhY2ggfSBmcm9tIFwiLi4vLi4vLi4vdXRpbHMvdXRpbHNcIjtcbmltcG9ydCB7IHJlc29sdmVHcmFtbWFyIGFzIG9yZ1Jlc29sdmVHcmFtbWFyIH0gZnJvbSBcIi4uL3Jlc29sdmVyXCI7XG5pbXBvcnQgeyB2YWxpZGF0ZUdyYW1tYXIgYXMgb3JnVmFsaWRhdGVHcmFtbWFyIH0gZnJvbSBcIi4uL2NoZWNrc1wiO1xuaW1wb3J0IHsgZGVmYXVsdEdyYW1tYXJSZXNvbHZlckVycm9yUHJvdmlkZXIsIGRlZmF1bHRHcmFtbWFyVmFsaWRhdG9yRXJyb3JQcm92aWRlciB9IGZyb20gXCIuLi8uLi9lcnJvcnNfcHVibGljXCI7XG5pbXBvcnQgeyBEc2xNZXRob2RzQ29sbGVjdG9yVmlzaXRvciB9IGZyb20gXCIuL2dhc3RcIjtcbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlR3JhbW1hcihvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IGRlZmF1bHRzKG9wdGlvbnMsIHtcbiAgICAgICAgZXJyTXNnUHJvdmlkZXI6IGRlZmF1bHRHcmFtbWFyUmVzb2x2ZXJFcnJvclByb3ZpZGVyXG4gICAgfSk7XG4gICAgdmFyIHRvcFJ1bGVzVGFibGUgPSB7fTtcbiAgICBmb3JFYWNoKG9wdGlvbnMucnVsZXMsIGZ1bmN0aW9uIChydWxlKSB7XG4gICAgICAgIHRvcFJ1bGVzVGFibGVbcnVsZS5uYW1lXSA9IHJ1bGU7XG4gICAgfSk7XG4gICAgcmV0dXJuIG9yZ1Jlc29sdmVHcmFtbWFyKHRvcFJ1bGVzVGFibGUsIG9wdGlvbnMuZXJyTXNnUHJvdmlkZXIpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlR3JhbW1hcihvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IGRlZmF1bHRzKG9wdGlvbnMsIHtcbiAgICAgICAgZXJyTXNnUHJvdmlkZXI6IGRlZmF1bHRHcmFtbWFyVmFsaWRhdG9yRXJyb3JQcm92aWRlclxuICAgIH0pO1xuICAgIHJldHVybiBvcmdWYWxpZGF0ZUdyYW1tYXIob3B0aW9ucy5ydWxlcywgb3B0aW9ucy5tYXhMb29rYWhlYWQsIG9wdGlvbnMudG9rZW5UeXBlcywgb3B0aW9ucy5lcnJNc2dQcm92aWRlciwgb3B0aW9ucy5ncmFtbWFyTmFtZSk7XG59XG5leHBvcnQgZnVuY3Rpb24gYXNzaWduT2NjdXJyZW5jZUluZGljZXMob3B0aW9ucykge1xuICAgIGZvckVhY2gob3B0aW9ucy5ydWxlcywgZnVuY3Rpb24gKGN1cnJSdWxlKSB7XG4gICAgICAgIHZhciBtZXRob2RzQ29sbGVjdG9yID0gbmV3IERzbE1ldGhvZHNDb2xsZWN0b3JWaXNpdG9yKCk7XG4gICAgICAgIGN1cnJSdWxlLmFjY2VwdChtZXRob2RzQ29sbGVjdG9yKTtcbiAgICAgICAgZm9yRWFjaChtZXRob2RzQ29sbGVjdG9yLmRzbE1ldGhvZHMsIGZ1bmN0aW9uIChtZXRob2RzKSB7XG4gICAgICAgICAgICBmb3JFYWNoKG1ldGhvZHMsIGZ1bmN0aW9uIChjdXJyTWV0aG9kLCBhcnJJZHgpIHtcbiAgICAgICAgICAgICAgICBjdXJyTWV0aG9kLmlkeCA9IGFycklkeCArIDE7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nYXN0X3Jlc29sdmVyX3B1YmxpYy5qcy5tYXAiLCJpbXBvcnQgeyBjb250YWlucyB9IGZyb20gXCIuLi91dGlscy91dGlsc1wiO1xudmFyIE1JU01BVENIRURfVE9LRU5fRVhDRVBUSU9OID0gXCJNaXNtYXRjaGVkVG9rZW5FeGNlcHRpb25cIjtcbnZhciBOT19WSUFCTEVfQUxUX0VYQ0VQVElPTiA9IFwiTm9WaWFibGVBbHRFeGNlcHRpb25cIjtcbnZhciBFQVJMWV9FWElUX0VYQ0VQVElPTiA9IFwiRWFybHlFeGl0RXhjZXB0aW9uXCI7XG52YXIgTk9UX0FMTF9JTlBVVF9QQVJTRURfRVhDRVBUSU9OID0gXCJOb3RBbGxJbnB1dFBhcnNlZEV4Y2VwdGlvblwiO1xudmFyIFJFQ09HTklUSU9OX0VYQ0VQVElPTl9OQU1FUyA9IFtcbiAgICBNSVNNQVRDSEVEX1RPS0VOX0VYQ0VQVElPTixcbiAgICBOT19WSUFCTEVfQUxUX0VYQ0VQVElPTixcbiAgICBFQVJMWV9FWElUX0VYQ0VQVElPTixcbiAgICBOT1RfQUxMX0lOUFVUX1BBUlNFRF9FWENFUFRJT05cbl07XG5PYmplY3QuZnJlZXplKFJFQ09HTklUSU9OX0VYQ0VQVElPTl9OQU1FUyk7XG4vLyBoYWNrcyB0byBieXBhc3Mgbm8gc3VwcG9ydCBmb3IgY3VzdG9tIEVycm9ycyBpbiBqYXZhc2NyaXB0L3R5cGVzY3JpcHRcbmV4cG9ydCBmdW5jdGlvbiBpc1JlY29nbml0aW9uRXhjZXB0aW9uKGVycm9yKSB7XG4gICAgLy8gY2FuJ3QgZG8gaW5zdGFuY2VvZiBvbiBoYWNrZWQgY3VzdG9tIGpzIGV4Y2VwdGlvbnNcbiAgICByZXR1cm4gY29udGFpbnMoUkVDT0dOSVRJT05fRVhDRVBUSU9OX05BTUVTLCBlcnJvci5uYW1lKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBNaXNtYXRjaGVkVG9rZW5FeGNlcHRpb24obWVzc2FnZSwgdG9rZW4sIHByZXZpb3VzVG9rZW4pIHtcbiAgICB0aGlzLm5hbWUgPSBNSVNNQVRDSEVEX1RPS0VOX0VYQ0VQVElPTjtcbiAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgIHRoaXMudG9rZW4gPSB0b2tlbjtcbiAgICB0aGlzLnByZXZpb3VzVG9rZW4gPSBwcmV2aW91c1Rva2VuO1xuICAgIHRoaXMucmVzeW5jZWRUb2tlbnMgPSBbXTtcbn1cbi8vIG11c3QgdXNlIHRoZSBcIkVycm9yLnByb3RvdHlwZVwiIGluc3RlYWQgb2YgXCJuZXcgRXJyb3JcIlxuLy8gYmVjYXVzZSB0aGUgc3RhY2sgdHJhY2UgcG9pbnRzIHRvIHdoZXJlIFwibmV3IEVycm9yXCIgd2FzIGludm9rZWRcIlxuTWlzbWF0Y2hlZFRva2VuRXhjZXB0aW9uLnByb3RvdHlwZSA9IEVycm9yLnByb3RvdHlwZTtcbmV4cG9ydCBmdW5jdGlvbiBOb1ZpYWJsZUFsdEV4Y2VwdGlvbihtZXNzYWdlLCB0b2tlbiwgcHJldmlvdXNUb2tlbikge1xuICAgIHRoaXMubmFtZSA9IE5PX1ZJQUJMRV9BTFRfRVhDRVBUSU9OO1xuICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgdGhpcy50b2tlbiA9IHRva2VuO1xuICAgIHRoaXMucHJldmlvdXNUb2tlbiA9IHByZXZpb3VzVG9rZW47XG4gICAgdGhpcy5yZXN5bmNlZFRva2VucyA9IFtdO1xufVxuTm9WaWFibGVBbHRFeGNlcHRpb24ucHJvdG90eXBlID0gRXJyb3IucHJvdG90eXBlO1xuZXhwb3J0IGZ1bmN0aW9uIE5vdEFsbElucHV0UGFyc2VkRXhjZXB0aW9uKG1lc3NhZ2UsIHRva2VuKSB7XG4gICAgdGhpcy5uYW1lID0gTk9UX0FMTF9JTlBVVF9QQVJTRURfRVhDRVBUSU9OO1xuICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgdGhpcy50b2tlbiA9IHRva2VuO1xuICAgIHRoaXMucmVzeW5jZWRUb2tlbnMgPSBbXTtcbn1cbk5vdEFsbElucHV0UGFyc2VkRXhjZXB0aW9uLnByb3RvdHlwZSA9IEVycm9yLnByb3RvdHlwZTtcbmV4cG9ydCBmdW5jdGlvbiBFYXJseUV4aXRFeGNlcHRpb24obWVzc2FnZSwgdG9rZW4sIHByZXZpb3VzVG9rZW4pIHtcbiAgICB0aGlzLm5hbWUgPSBFQVJMWV9FWElUX0VYQ0VQVElPTjtcbiAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgIHRoaXMudG9rZW4gPSB0b2tlbjtcbiAgICB0aGlzLnByZXZpb3VzVG9rZW4gPSBwcmV2aW91c1Rva2VuO1xuICAgIHRoaXMucmVzeW5jZWRUb2tlbnMgPSBbXTtcbn1cbkVhcmx5RXhpdEV4Y2VwdGlvbi5wcm90b3R5cGUgPSBFcnJvci5wcm90b3R5cGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1leGNlcHRpb25zX3B1YmxpYy5qcy5tYXAiLCJpbXBvcnQgeyBjcmVhdGVUb2tlbkluc3RhbmNlLCBFT0YgfSBmcm9tIFwiLi4vLi4vLi4vc2Nhbi90b2tlbnNfcHVibGljXCI7XG5pbXBvcnQgeyBjbG9uZUFyciwgY29udGFpbnMsIGRyb3BSaWdodCwgZmluZCwgZmxhdHRlbiwgaGFzLCBpc0VtcHR5LCBtYXAgfSBmcm9tIFwiLi4vLi4vLi4vdXRpbHMvdXRpbHNcIjtcbmltcG9ydCB7IE1pc21hdGNoZWRUb2tlbkV4Y2VwdGlvbiB9IGZyb20gXCIuLi8uLi9leGNlcHRpb25zX3B1YmxpY1wiO1xuaW1wb3J0IHsgSU4gfSBmcm9tIFwiLi4vLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBERUZBVUxUX1BBUlNFUl9DT05GSUcgfSBmcm9tIFwiLi4vcGFyc2VyXCI7XG5leHBvcnQgdmFyIEVPRl9GT0xMT1dfS0VZID0ge307XG5leHBvcnQgdmFyIElOX1JVTEVfUkVDT1ZFUllfRVhDRVBUSU9OID0gXCJJblJ1bGVSZWNvdmVyeUV4Y2VwdGlvblwiO1xuZXhwb3J0IGZ1bmN0aW9uIEluUnVsZVJlY292ZXJ5RXhjZXB0aW9uKG1lc3NhZ2UpIHtcbiAgICB0aGlzLm5hbWUgPSBJTl9SVUxFX1JFQ09WRVJZX0VYQ0VQVElPTjtcbiAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xufVxuSW5SdWxlUmVjb3ZlcnlFeGNlcHRpb24ucHJvdG90eXBlID0gRXJyb3IucHJvdG90eXBlO1xuLyoqXG4gKiBUaGlzIHRyYWl0IGlzIHJlc3BvbnNpYmxlIGZvciB0aGUgZXJyb3IgcmVjb3ZlcnkgYW5kIGZhdWx0IHRvbGVyYW50IGxvZ2ljXG4gKi9cbnZhciBSZWNvdmVyYWJsZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZWNvdmVyYWJsZSgpIHtcbiAgICB9XG4gICAgUmVjb3ZlcmFibGUucHJvdG90eXBlLmluaXRSZWNvdmVyYWJsZSA9IGZ1bmN0aW9uIChjb25maWcpIHtcbiAgICAgICAgdGhpcy5maXJzdEFmdGVyUmVwTWFwID0ge307XG4gICAgICAgIHRoaXMucmVzeW5jRm9sbG93cyA9IHt9O1xuICAgICAgICB0aGlzLnJlY292ZXJ5RW5hYmxlZCA9IGhhcyhjb25maWcsIFwicmVjb3ZlcnlFbmFibGVkXCIpXG4gICAgICAgICAgICA/IGNvbmZpZy5yZWNvdmVyeUVuYWJsZWRcbiAgICAgICAgICAgIDogREVGQVVMVF9QQVJTRVJfQ09ORklHLnJlY292ZXJ5RW5hYmxlZDtcbiAgICAgICAgLy8gcGVyZm9ybWFuY2Ugb3B0aW1pemF0aW9uLCBOT09QIHdpbGwgYmUgaW5saW5lZCB3aGljaFxuICAgICAgICAvLyBlZmZlY3RpdmVseSBtZWFucyB0aGF0IHRoaXMgb3B0aW9uYWwgZmVhdHVyZSBkb2VzIG5vdCBleGlzdFxuICAgICAgICAvLyB3aGVuIG5vdCB1c2VkLlxuICAgICAgICBpZiAodGhpcy5yZWNvdmVyeUVuYWJsZWQpIHtcbiAgICAgICAgICAgIHRoaXMuYXR0ZW1wdEluUmVwZXRpdGlvblJlY292ZXJ5ID0gYXR0ZW1wdEluUmVwZXRpdGlvblJlY292ZXJ5O1xuICAgICAgICB9XG4gICAgfTtcbiAgICBSZWNvdmVyYWJsZS5wcm90b3R5cGUuZ2V0VG9rZW5Ub0luc2VydCA9IGZ1bmN0aW9uICh0b2tUeXBlKSB7XG4gICAgICAgIHZhciB0b2tUb0luc2VydCA9IGNyZWF0ZVRva2VuSW5zdGFuY2UodG9rVHlwZSwgXCJcIiwgTmFOLCBOYU4sIE5hTiwgTmFOLCBOYU4sIE5hTik7XG4gICAgICAgIHRva1RvSW5zZXJ0LmlzSW5zZXJ0ZWRJblJlY292ZXJ5ID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRva1RvSW5zZXJ0O1xuICAgIH07XG4gICAgUmVjb3ZlcmFibGUucHJvdG90eXBlLmNhblRva2VuVHlwZUJlSW5zZXJ0ZWRJblJlY292ZXJ5ID0gZnVuY3Rpb24gKHRva1R5cGUpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICBSZWNvdmVyYWJsZS5wcm90b3R5cGUudHJ5SW5SZXBldGl0aW9uUmVjb3ZlcnkgPSBmdW5jdGlvbiAoZ3JhbW1hclJ1bGUsIGdyYW1tYXJSdWxlQXJncywgbG9va0FoZWFkRnVuYywgZXhwZWN0ZWRUb2tUeXBlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8vIFRPRE86IGNhbiB0aGUgcmVzeW5jVG9rZW5UeXBlIGJlIGNhY2hlZD9cbiAgICAgICAgdmFyIHJlU3luY1Rva1R5cGUgPSB0aGlzLmZpbmRSZVN5bmNUb2tlblR5cGUoKTtcbiAgICAgICAgdmFyIHNhdmVkTGV4ZXJTdGF0ZSA9IHRoaXMuZXhwb3J0TGV4ZXJTdGF0ZSgpO1xuICAgICAgICB2YXIgcmVzeW5jZWRUb2tlbnMgPSBbXTtcbiAgICAgICAgdmFyIHBhc3NlZFJlc3luY1BvaW50ID0gZmFsc2U7XG4gICAgICAgIHZhciBuZXh0VG9rZW5XaXRob3V0UmVzeW5jID0gdGhpcy5MQSgxKTtcbiAgICAgICAgdmFyIGN1cnJUb2tlbiA9IHRoaXMuTEEoMSk7XG4gICAgICAgIHZhciBnZW5lcmF0ZUVycm9yTWVzc2FnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBwcmV2aW91c1Rva2VuID0gX3RoaXMuTEEoMCk7XG4gICAgICAgICAgICAvLyB3ZSBhcmUgcHJlZW1wdGl2ZWx5IHJlLXN5bmNpbmcgYmVmb3JlIGFuIGVycm9yIGhhcyBiZWVuIGRldGVjdGVkLCB0aGVyZWZvciB3ZSBtdXN0IHJlcHJvZHVjZVxuICAgICAgICAgICAgLy8gdGhlIGVycm9yIHRoYXQgd291bGQgaGF2ZSBiZWVuIHRocm93blxuICAgICAgICAgICAgdmFyIG1zZyA9IF90aGlzLmVycm9yTWVzc2FnZVByb3ZpZGVyLmJ1aWxkTWlzbWF0Y2hUb2tlbk1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBleHBlY3RlZFRva1R5cGUsXG4gICAgICAgICAgICAgICAgYWN0dWFsOiBuZXh0VG9rZW5XaXRob3V0UmVzeW5jLFxuICAgICAgICAgICAgICAgIHByZXZpb3VzOiBwcmV2aW91c1Rva2VuLFxuICAgICAgICAgICAgICAgIHJ1bGVOYW1lOiBfdGhpcy5nZXRDdXJyUnVsZUZ1bGxOYW1lKClcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIGVycm9yID0gbmV3IE1pc21hdGNoZWRUb2tlbkV4Y2VwdGlvbihtc2csIG5leHRUb2tlbldpdGhvdXRSZXN5bmMsIF90aGlzLkxBKDApKTtcbiAgICAgICAgICAgIC8vIHRoZSBmaXJzdCB0b2tlbiBoZXJlIHdpbGwgYmUgdGhlIG9yaWdpbmFsIGNhdXNlIG9mIHRoZSBlcnJvciwgdGhpcyBpcyBub3QgcGFydCBvZiB0aGUgcmVzeW5jZWRUb2tlbnMgcHJvcGVydHkuXG4gICAgICAgICAgICBlcnJvci5yZXN5bmNlZFRva2VucyA9IGRyb3BSaWdodChyZXN5bmNlZFRva2Vucyk7XG4gICAgICAgICAgICBfdGhpcy5TQVZFX0VSUk9SKGVycm9yKTtcbiAgICAgICAgfTtcbiAgICAgICAgd2hpbGUgKCFwYXNzZWRSZXN5bmNQb2ludCkge1xuICAgICAgICAgICAgLy8gcmUtc3luY2VkIHRvIGEgcG9pbnQgd2hlcmUgd2UgY2FuIHNhZmVseSBleGl0IHRoZSByZXBldGl0aW9uL1xuICAgICAgICAgICAgaWYgKHRoaXMudG9rZW5NYXRjaGVyKGN1cnJUb2tlbiwgZXhwZWN0ZWRUb2tUeXBlKSkge1xuICAgICAgICAgICAgICAgIGdlbmVyYXRlRXJyb3JNZXNzYWdlKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuOyAvLyBtdXN0IHJldHVybiBoZXJlIHRvIGF2b2lkIHJldmVydGluZyB0aGUgaW5wdXRJZHhcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGxvb2tBaGVhZEZ1bmMuY2FsbCh0aGlzKSkge1xuICAgICAgICAgICAgICAgIC8vIHdlIHNraXBwZWQgZW5vdWdoIHRva2VucyBzbyB3ZSBjYW4gcmVzeW5jIHJpZ2h0IGJhY2sgaW50byBhbm90aGVyIGl0ZXJhdGlvbiBvZiB0aGUgcmVwZXRpdGlvbiBncmFtbWFyIHJ1bGVcbiAgICAgICAgICAgICAgICBnZW5lcmF0ZUVycm9yTWVzc2FnZSgpO1xuICAgICAgICAgICAgICAgIC8vIHJlY3Vyc2l2ZSBpbnZvY2F0aW9uIGluIG90aGVyIHRvIHN1cHBvcnQgbXVsdGlwbGUgcmUtc3luY3MgaW4gdGhlIHNhbWUgdG9wIGxldmVsIHJlcGV0aXRpb24gZ3JhbW1hciBydWxlXG4gICAgICAgICAgICAgICAgZ3JhbW1hclJ1bGUuYXBwbHkodGhpcywgZ3JhbW1hclJ1bGVBcmdzKTtcbiAgICAgICAgICAgICAgICByZXR1cm47IC8vIG11c3QgcmV0dXJuIGhlcmUgdG8gYXZvaWQgcmV2ZXJ0aW5nIHRoZSBpbnB1dElkeFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy50b2tlbk1hdGNoZXIoY3VyclRva2VuLCByZVN5bmNUb2tUeXBlKSkge1xuICAgICAgICAgICAgICAgIHBhc3NlZFJlc3luY1BvaW50ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGN1cnJUb2tlbiA9IHRoaXMuU0tJUF9UT0tFTigpO1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkVG9SZXN5bmNUb2tlbnMoY3VyclRva2VuLCByZXN5bmNlZFRva2Vucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gd2Ugd2VyZSB1bmFibGUgdG8gZmluZCBhIENMT1NFUiBwb2ludCB0byByZXN5bmMgaW5zaWRlIHRoZSBSZXBldGl0aW9uLCByZXNldCB0aGUgc3RhdGUuXG4gICAgICAgIC8vIFRoZSBwYXJzaW5nIGV4Y2VwdGlvbiB3ZSB3ZXJlIHRyeWluZyB0byBwcmV2ZW50IHdpbGwgaGFwcGVuIGluIHRoZSBORVhUIHBhcnNpbmcgc3RlcC4gaXQgbWF5IGJlIGhhbmRsZWQgYnlcbiAgICAgICAgLy8gXCJiZXR3ZWVuIHJ1bGVzXCIgcmVzeW5jIHJlY292ZXJ5IGxhdGVyIGluIHRoZSBmbG93LlxuICAgICAgICB0aGlzLmltcG9ydExleGVyU3RhdGUoc2F2ZWRMZXhlclN0YXRlKTtcbiAgICB9O1xuICAgIFJlY292ZXJhYmxlLnByb3RvdHlwZS5zaG91bGRJblJlcGV0aXRpb25SZWNvdmVyeUJlVHJpZWQgPSBmdW5jdGlvbiAoZXhwZWN0VG9rQWZ0ZXJMYXN0TWF0Y2gsIG5leHRUb2tJZHgsIG5vdFN0dWNrKSB7XG4gICAgICAgIC8vIEVkZ2UgY2FzZSBvZiBhcnJpdmluZyBmcm9tIGEgTUFOWSByZXBldGl0aW9uIHdoaWNoIGlzIHN0dWNrXG4gICAgICAgIC8vIEF0dGVtcHRpbmcgcmVjb3ZlcnkgaW4gdGhpcyBjYXNlIGNvdWxkIGNhdXNlIGFuIGluZmluaXRlIGxvb3BcbiAgICAgICAgaWYgKG5vdFN0dWNrID09PSBmYWxzZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIGFyZ3VtZW50cyB0byB0cnkgYW5kIHBlcmZvcm0gcmVzeW5jIGludG8gdGhlIG5leHQgaXRlcmF0aW9uIG9mIHRoZSBtYW55IGFyZSBtaXNzaW5nXG4gICAgICAgIGlmIChleHBlY3RUb2tBZnRlckxhc3RNYXRjaCA9PT0gdW5kZWZpbmVkIHx8IG5leHRUb2tJZHggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIG5vIG5lZWQgdG8gcmVjb3ZlciwgbmV4dCB0b2tlbiBpcyB3aGF0IHdlIGV4cGVjdC4uLlxuICAgICAgICBpZiAodGhpcy50b2tlbk1hdGNoZXIodGhpcy5MQSgxKSwgZXhwZWN0VG9rQWZ0ZXJMYXN0TWF0Y2gpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZXJyb3IgcmVjb3ZlcnkgaXMgZGlzYWJsZWQgZHVyaW5nIGJhY2t0cmFja2luZyBhcyBpdCBjYW4gbWFrZSB0aGUgcGFyc2VyIGlnbm9yZSBhIHZhbGlkIGdyYW1tYXIgcGF0aFxuICAgICAgICAvLyBhbmQgcHJlZmVyIHNvbWUgYmFja3RyYWNraW5nIHBhdGggdGhhdCBpbmNsdWRlcyByZWNvdmVyZWQgZXJyb3JzLlxuICAgICAgICBpZiAodGhpcy5pc0JhY2tUcmFja2luZygpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgd2UgY2FuIHBlcmZvcm0gaW5SdWxlIHJlY292ZXJ5IChzaW5nbGUgdG9rZW4gaW5zZXJ0aW9uIG9yIGRlbGV0aW9uKSB3ZSBhbHdheXMgcHJlZmVyIHRoYXQgcmVjb3ZlcnkgYWxnb3JpdGhtXG4gICAgICAgIC8vIGJlY2F1c2UgaWYgaXQgd29ya3MsIGl0IG1ha2VzIHRoZSBsZWFzdCBhbW91bnQgb2YgY2hhbmdlcyB0byB0aGUgaW5wdXQgc3RyZWFtIChncmVlZHkgYWxnb3JpdGhtKVxuICAgICAgICAvL25vaW5zcGVjdGlvbiBSZWR1bmRhbnRJZlN0YXRlbWVudEpTXG4gICAgICAgIGlmICh0aGlzLmNhblBlcmZvcm1JblJ1bGVSZWNvdmVyeShleHBlY3RUb2tBZnRlckxhc3RNYXRjaCwgdGhpcy5nZXRGb2xsb3dzRm9ySW5SdWxlUmVjb3ZlcnkoZXhwZWN0VG9rQWZ0ZXJMYXN0TWF0Y2gsIG5leHRUb2tJZHgpKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgLy8gRXJyb3IgUmVjb3ZlcnkgZnVuY3Rpb25hbGl0eVxuICAgIFJlY292ZXJhYmxlLnByb3RvdHlwZS5nZXRGb2xsb3dzRm9ySW5SdWxlUmVjb3ZlcnkgPSBmdW5jdGlvbiAodG9rVHlwZSwgdG9rSWR4SW5SdWxlKSB7XG4gICAgICAgIHZhciBncmFtbWFyUGF0aCA9IHRoaXMuZ2V0Q3VycmVudEdyYW1tYXJQYXRoKHRva1R5cGUsIHRva0lkeEluUnVsZSk7XG4gICAgICAgIHZhciBmb2xsb3dzID0gdGhpcy5nZXROZXh0UG9zc2libGVUb2tlblR5cGVzKGdyYW1tYXJQYXRoKTtcbiAgICAgICAgcmV0dXJuIGZvbGxvd3M7XG4gICAgfTtcbiAgICBSZWNvdmVyYWJsZS5wcm90b3R5cGUudHJ5SW5SdWxlUmVjb3ZlcnkgPSBmdW5jdGlvbiAoZXhwZWN0ZWRUb2tUeXBlLCBmb2xsb3dzKSB7XG4gICAgICAgIGlmICh0aGlzLmNhblJlY292ZXJXaXRoU2luZ2xlVG9rZW5JbnNlcnRpb24oZXhwZWN0ZWRUb2tUeXBlLCBmb2xsb3dzKSkge1xuICAgICAgICAgICAgdmFyIHRva1RvSW5zZXJ0ID0gdGhpcy5nZXRUb2tlblRvSW5zZXJ0KGV4cGVjdGVkVG9rVHlwZSk7XG4gICAgICAgICAgICByZXR1cm4gdG9rVG9JbnNlcnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY2FuUmVjb3ZlcldpdGhTaW5nbGVUb2tlbkRlbGV0aW9uKGV4cGVjdGVkVG9rVHlwZSkpIHtcbiAgICAgICAgICAgIHZhciBuZXh0VG9rID0gdGhpcy5TS0lQX1RPS0VOKCk7XG4gICAgICAgICAgICB0aGlzLmNvbnN1bWVUb2tlbigpO1xuICAgICAgICAgICAgcmV0dXJuIG5leHRUb2s7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEluUnVsZVJlY292ZXJ5RXhjZXB0aW9uKFwic2FkIHNhZCBwYW5kYVwiKTtcbiAgICB9O1xuICAgIFJlY292ZXJhYmxlLnByb3RvdHlwZS5jYW5QZXJmb3JtSW5SdWxlUmVjb3ZlcnkgPSBmdW5jdGlvbiAoZXhwZWN0ZWRUb2tlbiwgZm9sbG93cykge1xuICAgICAgICByZXR1cm4gKHRoaXMuY2FuUmVjb3ZlcldpdGhTaW5nbGVUb2tlbkluc2VydGlvbihleHBlY3RlZFRva2VuLCBmb2xsb3dzKSB8fFxuICAgICAgICAgICAgdGhpcy5jYW5SZWNvdmVyV2l0aFNpbmdsZVRva2VuRGVsZXRpb24oZXhwZWN0ZWRUb2tlbikpO1xuICAgIH07XG4gICAgUmVjb3ZlcmFibGUucHJvdG90eXBlLmNhblJlY292ZXJXaXRoU2luZ2xlVG9rZW5JbnNlcnRpb24gPSBmdW5jdGlvbiAoZXhwZWN0ZWRUb2tUeXBlLCBmb2xsb3dzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICghdGhpcy5jYW5Ub2tlblR5cGVCZUluc2VydGVkSW5SZWNvdmVyeShleHBlY3RlZFRva1R5cGUpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbXVzdCBrbm93IHRoZSBwb3NzaWJsZSBmb2xsb3dpbmcgdG9rZW5zIHRvIHBlcmZvcm0gc2luZ2xlIHRva2VuIGluc2VydGlvblxuICAgICAgICBpZiAoaXNFbXB0eShmb2xsb3dzKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtaXNtYXRjaGVkVG9rID0gdGhpcy5MQSgxKTtcbiAgICAgICAgdmFyIGlzTWlzTWF0Y2hlZFRva0luRm9sbG93cyA9IGZpbmQoZm9sbG93cywgZnVuY3Rpb24gKHBvc3NpYmxlRm9sbG93c1Rva1R5cGUpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy50b2tlbk1hdGNoZXIobWlzbWF0Y2hlZFRvaywgcG9zc2libGVGb2xsb3dzVG9rVHlwZSk7XG4gICAgICAgIH0pICE9PSB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiBpc01pc01hdGNoZWRUb2tJbkZvbGxvd3M7XG4gICAgfTtcbiAgICBSZWNvdmVyYWJsZS5wcm90b3R5cGUuY2FuUmVjb3ZlcldpdGhTaW5nbGVUb2tlbkRlbGV0aW9uID0gZnVuY3Rpb24gKGV4cGVjdGVkVG9rVHlwZSkge1xuICAgICAgICB2YXIgaXNOZXh0VG9rZW5XaGF0SXNFeHBlY3RlZCA9IHRoaXMudG9rZW5NYXRjaGVyKHRoaXMuTEEoMiksIGV4cGVjdGVkVG9rVHlwZSk7XG4gICAgICAgIHJldHVybiBpc05leHRUb2tlbldoYXRJc0V4cGVjdGVkO1xuICAgIH07XG4gICAgUmVjb3ZlcmFibGUucHJvdG90eXBlLmlzSW5DdXJyZW50UnVsZVJlU3luY1NldCA9IGZ1bmN0aW9uICh0b2tlblR5cGVJZHgpIHtcbiAgICAgICAgdmFyIGZvbGxvd0tleSA9IHRoaXMuZ2V0Q3VyckZvbGxvd0tleSgpO1xuICAgICAgICB2YXIgY3VycmVudFJ1bGVSZVN5bmNTZXQgPSB0aGlzLmdldEZvbGxvd1NldEZyb21Gb2xsb3dLZXkoZm9sbG93S2V5KTtcbiAgICAgICAgcmV0dXJuIGNvbnRhaW5zKGN1cnJlbnRSdWxlUmVTeW5jU2V0LCB0b2tlblR5cGVJZHgpO1xuICAgIH07XG4gICAgUmVjb3ZlcmFibGUucHJvdG90eXBlLmZpbmRSZVN5bmNUb2tlblR5cGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhbGxQb3NzaWJsZVJlU3luY1Rva1R5cGVzID0gdGhpcy5mbGF0dGVuRm9sbG93U2V0KCk7XG4gICAgICAgIC8vIHRoaXMgbG9vcCB3aWxsIGFsd2F5cyB0ZXJtaW5hdGUgYXMgRU9GIGlzIGFsd2F5cyBpbiB0aGUgZm9sbG93IHN0YWNrIGFuZCBhbHNvIGFsd2F5cyAodmlydHVhbGx5KSBpbiB0aGUgaW5wdXRcbiAgICAgICAgdmFyIG5leHRUb2tlbiA9IHRoaXMuTEEoMSk7XG4gICAgICAgIHZhciBrID0gMjtcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgIHZhciBuZXh0VG9rZW5UeXBlID0gbmV4dFRva2VuLnRva2VuVHlwZTtcbiAgICAgICAgICAgIGlmIChjb250YWlucyhhbGxQb3NzaWJsZVJlU3luY1Rva1R5cGVzLCBuZXh0VG9rZW5UeXBlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0VG9rZW5UeXBlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV4dFRva2VuID0gdGhpcy5MQShrKTtcbiAgICAgICAgICAgIGsrKztcbiAgICAgICAgfVxuICAgIH07XG4gICAgUmVjb3ZlcmFibGUucHJvdG90eXBlLmdldEN1cnJGb2xsb3dLZXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIHRoZSBsZW5ndGggaXMgYXQgbGVhc3Qgb25lIGFzIHdlIGFsd2F5cyBhZGQgdGhlIHJ1bGVOYW1lIHRvIHRoZSBzdGFjayBiZWZvcmUgaW52b2tpbmcgdGhlIHJ1bGUuXG4gICAgICAgIGlmICh0aGlzLlJVTEVfU1RBQ0subGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gRU9GX0ZPTExPV19LRVk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGN1cnJSdWxlU2hvcnROYW1lID0gdGhpcy5nZXRMYXN0RXhwbGljaXRSdWxlU2hvcnROYW1lKCk7XG4gICAgICAgIHZhciBjdXJyUnVsZUlkeCA9IHRoaXMuZ2V0TGFzdEV4cGxpY2l0UnVsZU9jY3VycmVuY2VJbmRleCgpO1xuICAgICAgICB2YXIgcHJldlJ1bGVTaG9ydE5hbWUgPSB0aGlzLmdldFByZXZpb3VzRXhwbGljaXRSdWxlU2hvcnROYW1lKCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBydWxlTmFtZTogdGhpcy5zaG9ydFJ1bGVOYW1lVG9GdWxsTmFtZShjdXJyUnVsZVNob3J0TmFtZSksXG4gICAgICAgICAgICBpZHhJbkNhbGxpbmdSdWxlOiBjdXJyUnVsZUlkeCxcbiAgICAgICAgICAgIGluUnVsZTogdGhpcy5zaG9ydFJ1bGVOYW1lVG9GdWxsTmFtZShwcmV2UnVsZVNob3J0TmFtZSlcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIFJlY292ZXJhYmxlLnByb3RvdHlwZS5idWlsZEZ1bGxGb2xsb3dLZXlTdGFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGV4cGxpY2l0UnVsZVN0YWNrID0gdGhpcy5SVUxFX1NUQUNLO1xuICAgICAgICB2YXIgZXhwbGljaXRPY2N1cnJlbmNlU3RhY2sgPSB0aGlzLlJVTEVfT0NDVVJSRU5DRV9TVEFDSztcbiAgICAgICAgcmV0dXJuIG1hcChleHBsaWNpdFJ1bGVTdGFjaywgZnVuY3Rpb24gKHJ1bGVOYW1lLCBpZHgpIHtcbiAgICAgICAgICAgIGlmIChpZHggPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gRU9GX0ZPTExPV19LRVk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHJ1bGVOYW1lOiBfdGhpcy5zaG9ydFJ1bGVOYW1lVG9GdWxsTmFtZShydWxlTmFtZSksXG4gICAgICAgICAgICAgICAgaWR4SW5DYWxsaW5nUnVsZTogZXhwbGljaXRPY2N1cnJlbmNlU3RhY2tbaWR4XSxcbiAgICAgICAgICAgICAgICBpblJ1bGU6IF90aGlzLnNob3J0UnVsZU5hbWVUb0Z1bGxOYW1lKGV4cGxpY2l0UnVsZVN0YWNrW2lkeCAtIDFdKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBSZWNvdmVyYWJsZS5wcm90b3R5cGUuZmxhdHRlbkZvbGxvd1NldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGZvbGxvd1N0YWNrID0gbWFwKHRoaXMuYnVpbGRGdWxsRm9sbG93S2V5U3RhY2soKSwgZnVuY3Rpb24gKGN1cnJLZXkpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5nZXRGb2xsb3dTZXRGcm9tRm9sbG93S2V5KGN1cnJLZXkpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGZsYXR0ZW4oZm9sbG93U3RhY2spO1xuICAgIH07XG4gICAgUmVjb3ZlcmFibGUucHJvdG90eXBlLmdldEZvbGxvd1NldEZyb21Gb2xsb3dLZXkgPSBmdW5jdGlvbiAoZm9sbG93S2V5KSB7XG4gICAgICAgIGlmIChmb2xsb3dLZXkgPT09IEVPRl9GT0xMT1dfS0VZKSB7XG4gICAgICAgICAgICByZXR1cm4gW0VPRl07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZvbGxvd05hbWUgPSBmb2xsb3dLZXkucnVsZU5hbWUgKyBmb2xsb3dLZXkuaWR4SW5DYWxsaW5nUnVsZSArIElOICsgZm9sbG93S2V5LmluUnVsZTtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzeW5jRm9sbG93c1tmb2xsb3dOYW1lXTtcbiAgICB9O1xuICAgIC8vIEl0IGRvZXMgbm90IG1ha2UgYW55IHNlbnNlIHRvIGluY2x1ZGUgYSB2aXJ0dWFsIEVPRiB0b2tlbiBpbiB0aGUgbGlzdCBvZiByZXN5bmNlZCB0b2tlbnNcbiAgICAvLyBhcyBFT0YgZG9lcyBub3QgcmVhbGx5IGV4aXN0IGFuZCB0aHVzIGRvZXMgbm90IGNvbnRhaW4gYW55IHVzZWZ1bCBpbmZvcm1hdGlvbiAobGluZS9jb2x1bW4gbnVtYmVycylcbiAgICBSZWNvdmVyYWJsZS5wcm90b3R5cGUuYWRkVG9SZXN5bmNUb2tlbnMgPSBmdW5jdGlvbiAodG9rZW4sIHJlc3luY1Rva2Vucykge1xuICAgICAgICBpZiAoIXRoaXMudG9rZW5NYXRjaGVyKHRva2VuLCBFT0YpKSB7XG4gICAgICAgICAgICByZXN5bmNUb2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3luY1Rva2VucztcbiAgICB9O1xuICAgIFJlY292ZXJhYmxlLnByb3RvdHlwZS5yZVN5bmNUbyA9IGZ1bmN0aW9uICh0b2tUeXBlKSB7XG4gICAgICAgIHZhciByZXN5bmNlZFRva2VucyA9IFtdO1xuICAgICAgICB2YXIgbmV4dFRvayA9IHRoaXMuTEEoMSk7XG4gICAgICAgIHdoaWxlICh0aGlzLnRva2VuTWF0Y2hlcihuZXh0VG9rLCB0b2tUeXBlKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIG5leHRUb2sgPSB0aGlzLlNLSVBfVE9LRU4oKTtcbiAgICAgICAgICAgIHRoaXMuYWRkVG9SZXN5bmNUb2tlbnMobmV4dFRvaywgcmVzeW5jZWRUb2tlbnMpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRoZSBsYXN0IHRva2VuIGlzIG5vdCBwYXJ0IG9mIHRoZSBlcnJvci5cbiAgICAgICAgcmV0dXJuIGRyb3BSaWdodChyZXN5bmNlZFRva2Vucyk7XG4gICAgfTtcbiAgICBSZWNvdmVyYWJsZS5wcm90b3R5cGUuYXR0ZW1wdEluUmVwZXRpdGlvblJlY292ZXJ5ID0gZnVuY3Rpb24gKHByb2RGdW5jLCBhcmdzLCBsb29rYWhlYWRGdW5jLCBkc2xNZXRob2RJZHgsIHByb2RPY2N1cnJlbmNlLCBuZXh0VG9rc1dhbGtlciwgbm90U3R1Y2spIHtcbiAgICAgICAgLy8gYnkgZGVmYXVsdCB0aGlzIGlzIGEgTk8tT1BcbiAgICAgICAgLy8gVGhlIGFjdHVhbCBpbXBsZW1lbnRhdGlvbiBpcyB3aXRoIHRoZSBmdW5jdGlvbihub3QgbWV0aG9kKSBiZWxvd1xuICAgIH07XG4gICAgUmVjb3ZlcmFibGUucHJvdG90eXBlLmdldEN1cnJlbnRHcmFtbWFyUGF0aCA9IGZ1bmN0aW9uICh0b2tUeXBlLCB0b2tJZHhJblJ1bGUpIHtcbiAgICAgICAgdmFyIHBhdGhSdWxlU3RhY2sgPSB0aGlzLmdldEh1bWFuUmVhZGFibGVSdWxlU3RhY2soKTtcbiAgICAgICAgdmFyIHBhdGhPY2N1cnJlbmNlU3RhY2sgPSBjbG9uZUFycih0aGlzLlJVTEVfT0NDVVJSRU5DRV9TVEFDSyk7XG4gICAgICAgIHZhciBncmFtbWFyUGF0aCA9IHtcbiAgICAgICAgICAgIHJ1bGVTdGFjazogcGF0aFJ1bGVTdGFjayxcbiAgICAgICAgICAgIG9jY3VycmVuY2VTdGFjazogcGF0aE9jY3VycmVuY2VTdGFjayxcbiAgICAgICAgICAgIGxhc3RUb2s6IHRva1R5cGUsXG4gICAgICAgICAgICBsYXN0VG9rT2NjdXJyZW5jZTogdG9rSWR4SW5SdWxlXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBncmFtbWFyUGF0aDtcbiAgICB9O1xuICAgIFJlY292ZXJhYmxlLnByb3RvdHlwZS5nZXRIdW1hblJlYWRhYmxlUnVsZVN0YWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXR1cm4gbWFwKHRoaXMuUlVMRV9TVEFDSywgZnVuY3Rpb24gKGN1cnJTaG9ydE5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5zaG9ydFJ1bGVOYW1lVG9GdWxsTmFtZShjdXJyU2hvcnROYW1lKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gUmVjb3ZlcmFibGU7XG59KCkpO1xuZXhwb3J0IHsgUmVjb3ZlcmFibGUgfTtcbmV4cG9ydCBmdW5jdGlvbiBhdHRlbXB0SW5SZXBldGl0aW9uUmVjb3ZlcnkocHJvZEZ1bmMsIGFyZ3MsIGxvb2thaGVhZEZ1bmMsIGRzbE1ldGhvZElkeCwgcHJvZE9jY3VycmVuY2UsIG5leHRUb2tzV2Fsa2VyLCBub3RTdHVjaykge1xuICAgIHZhciBrZXkgPSB0aGlzLmdldEtleUZvckF1dG9tYXRpY0xvb2thaGVhZChkc2xNZXRob2RJZHgsIHByb2RPY2N1cnJlbmNlKTtcbiAgICB2YXIgZmlyc3RBZnRlclJlcEluZm8gPSB0aGlzLmZpcnN0QWZ0ZXJSZXBNYXBba2V5XTtcbiAgICBpZiAoZmlyc3RBZnRlclJlcEluZm8gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YXIgY3VyclJ1bGVOYW1lID0gdGhpcy5nZXRDdXJyUnVsZUZ1bGxOYW1lKCk7XG4gICAgICAgIHZhciBydWxlR3JhbW1hciA9IHRoaXMuZ2V0R0FzdFByb2R1Y3Rpb25zKClbY3VyclJ1bGVOYW1lXTtcbiAgICAgICAgdmFyIHdhbGtlciA9IG5ldyBuZXh0VG9rc1dhbGtlcihydWxlR3JhbW1hciwgcHJvZE9jY3VycmVuY2UpO1xuICAgICAgICBmaXJzdEFmdGVyUmVwSW5mbyA9IHdhbGtlci5zdGFydFdhbGtpbmcoKTtcbiAgICAgICAgdGhpcy5maXJzdEFmdGVyUmVwTWFwW2tleV0gPSBmaXJzdEFmdGVyUmVwSW5mbztcbiAgICB9XG4gICAgdmFyIGV4cGVjdFRva0FmdGVyTGFzdE1hdGNoID0gZmlyc3RBZnRlclJlcEluZm8udG9rZW47XG4gICAgdmFyIG5leHRUb2tJZHggPSBmaXJzdEFmdGVyUmVwSW5mby5vY2N1cnJlbmNlO1xuICAgIHZhciBpc0VuZE9mUnVsZSA9IGZpcnN0QWZ0ZXJSZXBJbmZvLmlzRW5kT2ZSdWxlO1xuICAgIC8vIHNwZWNpYWwgZWRnZSBjYXNlIG9mIGEgVE9QIG1vc3QgcmVwZXRpdGlvbiBhZnRlciB3aGljaCB0aGUgaW5wdXQgc2hvdWxkIEVORC5cbiAgICAvLyB0aGlzIHdpbGwgZm9yY2UgYW4gYXR0ZW1wdCBmb3IgaW5SdWxlIHJlY292ZXJ5IGluIHRoYXQgc2NlbmFyaW8uXG4gICAgaWYgKHRoaXMuUlVMRV9TVEFDSy5sZW5ndGggPT09IDEgJiZcbiAgICAgICAgaXNFbmRPZlJ1bGUgJiZcbiAgICAgICAgZXhwZWN0VG9rQWZ0ZXJMYXN0TWF0Y2ggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBleHBlY3RUb2tBZnRlckxhc3RNYXRjaCA9IEVPRjtcbiAgICAgICAgbmV4dFRva0lkeCA9IDE7XG4gICAgfVxuICAgIGlmICh0aGlzLnNob3VsZEluUmVwZXRpdGlvblJlY292ZXJ5QmVUcmllZChleHBlY3RUb2tBZnRlckxhc3RNYXRjaCwgbmV4dFRva0lkeCwgbm90U3R1Y2spKSB7XG4gICAgICAgIC8vIFRPRE86IHBlcmZvcm1hbmNlIG9wdGltaXphdGlvbjogaW5zdGVhZCBvZiBwYXNzaW5nIHRoZSBvcmlnaW5hbCBhcmdzIGhlcmUsIHdlIG1vZGlmeVxuICAgICAgICAvLyB0aGUgYXJncyBwYXJhbSAob3IgY3JlYXRlIGEgbmV3IG9uZSkgYW5kIG1ha2Ugc3VyZSB0aGUgbG9va2FoZWFkIGZ1bmMgaXMgZXhwbGljaXRseSBwcm92aWRlZFxuICAgICAgICAvLyB0byBhdm9pZCBzZWFyY2hpbmcgdGhlIGNhY2hlIGZvciBpdCBvbmNlIG1vcmUuXG4gICAgICAgIHRoaXMudHJ5SW5SZXBldGl0aW9uUmVjb3ZlcnkocHJvZEZ1bmMsIGFyZ3MsIGxvb2thaGVhZEZ1bmMsIGV4cGVjdFRva0FmdGVyTGFzdE1hdGNoKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZWNvdmVyYWJsZS5qcy5tYXAiLCIvLyBMb29rYWhlYWQga2V5cyBhcmUgMzJCaXQgaW50ZWdlcnMgaW4gdGhlIGZvcm1cbi8vIFRUVFRUVFRULVpaWlpaWlpaWlpaWi1ZWVlZLVhYWFhYWFhYXG4vLyBYWFhYIC0+IE9jY3VycmVuY2UgSW5kZXggYml0bWFwLlxuLy8gWVlZWSAtPiBEU0wgTWV0aG9kIFR5cGUgYml0bWFwLlxuLy8gWlpaWlpaWlpaWlpaWlpaIC0+IFJ1bGUgc2hvcnQgSW5kZXggYml0bWFwLlxuLy8gVFRUVFRUVFRUIC0+IGFsdGVybmF0aW9uIGFsdGVybmF0aXZlIGluZGV4IGJpdG1hcFxuZXhwb3J0IHZhciBCSVRTX0ZPUl9NRVRIT0RfVFlQRSA9IDQ7XG5leHBvcnQgdmFyIEJJVFNfRk9SX09DQ1VSUkVOQ0VfSURYID0gODtcbmV4cG9ydCB2YXIgQklUU19GT1JfUlVMRV9JRFggPSAxMjtcbi8vIFRPRE86IHZhbGlkYXRpb24sIHRoaXMgbWVhbnMgdGhhdCB0aGVyZSBtYXkgYXQgbW9zdCAyXjggLS0+IDI1NiBhbHRlcm5hdGl2ZXMgZm9yIGFuIGFsdGVybmF0aW9uLlxuZXhwb3J0IHZhciBCSVRTX0ZPUl9BTFRfSURYID0gODtcbi8vIHNob3J0IHN0cmluZyB1c2VkIGFzIHBhcnQgb2YgbWFwcGluZyBrZXlzLlxuLy8gYmVpbmcgc2hvcnQgaW1wcm92ZXMgdGhlIHBlcmZvcm1hbmNlIHdoZW4gY29tcG9zaW5nIEtFWVMgZm9yIG1hcHMgb3V0IG9mIHRoZXNlXG4vLyBUaGUgNSAtIDggYml0cyAoMTYgcG9zc2libGUgdmFsdWVzLCBhcmUgcmVzZXJ2ZWQgZm9yIHRoZSBEU0wgbWV0aG9kIGluZGljZXMpXG4vKiB0c2xpbnQ6ZGlzYWJsZSAqL1xuZXhwb3J0IHZhciBPUl9JRFggPSAxIDw8IEJJVFNfRk9SX09DQ1VSUkVOQ0VfSURYO1xuZXhwb3J0IHZhciBPUFRJT05fSURYID0gMiA8PCBCSVRTX0ZPUl9PQ0NVUlJFTkNFX0lEWDtcbmV4cG9ydCB2YXIgTUFOWV9JRFggPSAzIDw8IEJJVFNfRk9SX09DQ1VSUkVOQ0VfSURYO1xuZXhwb3J0IHZhciBBVF9MRUFTVF9PTkVfSURYID0gNCA8PCBCSVRTX0ZPUl9PQ0NVUlJFTkNFX0lEWDtcbmV4cG9ydCB2YXIgTUFOWV9TRVBfSURYID0gNSA8PCBCSVRTX0ZPUl9PQ0NVUlJFTkNFX0lEWDtcbmV4cG9ydCB2YXIgQVRfTEVBU1RfT05FX1NFUF9JRFggPSA2IDw8IEJJVFNfRk9SX09DQ1VSUkVOQ0VfSURYO1xuLyogdHNsaW50OmVuYWJsZSAqL1xuLy8gdGhpcyBhY3R1YWxseSByZXR1cm5zIGEgbnVtYmVyLCBidXQgaXQgaXMgYWx3YXlzIHVzZWQgYXMgYSBzdHJpbmcgKG9iamVjdCBwcm9wIGtleSlcbmV4cG9ydCBmdW5jdGlvbiBnZXRLZXlGb3JBdXRvbWF0aWNMb29rYWhlYWQocnVsZUlkeCwgZHNsTWV0aG9kSWR4LCBvY2N1cnJlbmNlKSB7XG4gICAgLyogdHNsaW50OmRpc2FibGUgKi9cbiAgICByZXR1cm4gb2NjdXJyZW5jZSB8IGRzbE1ldGhvZElkeCB8IHJ1bGVJZHg7XG4gICAgLyogdHNsaW50OmVuYWJsZSAqL1xufVxudmFyIEJJVFNfU1RBUlRfRk9SX0FMVF9JRFggPSAzMiAtIEJJVFNfRk9SX0FMVF9JRFg7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1rZXlzLmpzLm1hcCIsImltcG9ydCB7IGJ1aWxkQWx0ZXJuYXRpdmVzTG9va0FoZWFkRnVuYywgYnVpbGRMb29rYWhlYWRGdW5jRm9yT3B0aW9uYWxQcm9kLCBidWlsZExvb2thaGVhZEZ1bmNGb3JPciwgYnVpbGRTaW5nbGVBbHRlcm5hdGl2ZUxvb2thaGVhZEZ1bmN0aW9uLCBQUk9EX1RZUEUgfSBmcm9tIFwiLi4vLi4vZ3JhbW1hci9sb29rYWhlYWRcIjtcbmltcG9ydCB7IGZvckVhY2gsIGhhcywgaXNFUzIwMTVNYXBTdXBwb3J0ZWQgfSBmcm9tIFwiLi4vLi4vLi4vdXRpbHMvdXRpbHNcIjtcbmltcG9ydCB7IERFRkFVTFRfUEFSU0VSX0NPTkZJRyB9IGZyb20gXCIuLi9wYXJzZXJcIjtcbmltcG9ydCB7IEFUX0xFQVNUX09ORV9JRFgsIEFUX0xFQVNUX09ORV9TRVBfSURYLCBnZXRLZXlGb3JBdXRvbWF0aWNMb29rYWhlYWQsIE1BTllfSURYLCBNQU5ZX1NFUF9JRFgsIE9QVElPTl9JRFgsIE9SX0lEWCB9IGZyb20gXCIuLi8uLi9ncmFtbWFyL2tleXNcIjtcbmltcG9ydCB7IGNvbGxlY3RNZXRob2RzLCBnZXRQcm9kdWN0aW9uRHNsTmFtZSB9IGZyb20gXCIuLi8uLi9ncmFtbWFyL2dhc3QvZ2FzdFwiO1xuLyoqXG4gKiBUcmFpdCByZXNwb25zaWJsZSBmb3IgdGhlIGxvb2thaGVhZCByZWxhdGVkIHV0aWxpdGllcyBhbmQgb3B0aW1pemF0aW9ucy5cbiAqL1xudmFyIExvb2tzQWhlYWQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTG9va3NBaGVhZCgpIHtcbiAgICB9XG4gICAgTG9va3NBaGVhZC5wcm90b3R5cGUuaW5pdExvb2tzQWhlYWQgPSBmdW5jdGlvbiAoY29uZmlnKSB7XG4gICAgICAgIHRoaXMuZHluYW1pY1Rva2Vuc0VuYWJsZWQgPSBoYXMoY29uZmlnLCBcImR5bmFtaWNUb2tlbnNFbmFibGVkXCIpXG4gICAgICAgICAgICA/IGNvbmZpZy5keW5hbWljVG9rZW5zRW5hYmxlZFxuICAgICAgICAgICAgOiBERUZBVUxUX1BBUlNFUl9DT05GSUcuZHluYW1pY1Rva2Vuc0VuYWJsZWQ7XG4gICAgICAgIHRoaXMubWF4TG9va2FoZWFkID0gaGFzKGNvbmZpZywgXCJtYXhMb29rYWhlYWRcIilcbiAgICAgICAgICAgID8gY29uZmlnLm1heExvb2thaGVhZFxuICAgICAgICAgICAgOiBERUZBVUxUX1BBUlNFUl9DT05GSUcubWF4TG9va2FoZWFkO1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAtIFVzaW5nIHBsYWluIGFycmF5IGFzIGRpY3Rpb25hcnkgd2lsbCBiZSB0ZXN0ZWQgb24gb2xkZXIgbm9kZS5qcyB2ZXJzaW9ucyBhbmQgSUUxMSAqL1xuICAgICAgICB0aGlzLmxvb2tBaGVhZEZ1bmNzQ2FjaGUgPSBpc0VTMjAxNU1hcFN1cHBvcnRlZCgpID8gbmV3IE1hcCgpIDogW107XG4gICAgICAgIC8vIFBlcmZvcm1hbmNlIG9wdGltaXphdGlvbiBvbiBuZXdlciBlbmdpbmVzIHRoYXQgc3VwcG9ydCBFUzYgTWFwXG4gICAgICAgIC8vIEZvciBsYXJnZXIgTWFwcyB0aGlzIGlzIHNsaWdodGx5IGZhc3RlciB0aGFuIHVzaW5nIGEgcGxhaW4gb2JqZWN0IChhcnJheSBpbiBvdXIgY2FzZSkuXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlIC0gVGhlIGVsc2UgYnJhbmNoIHdpbGwgYmUgdGVzdGVkIG9uIG9sZGVyIG5vZGUuanMgdmVyc2lvbnMgYW5kIElFMTEgKi9cbiAgICAgICAgaWYgKGlzRVMyMDE1TWFwU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgICAgIHRoaXMuZ2V0TGFGdW5jRnJvbUNhY2hlID0gdGhpcy5nZXRMYUZ1bmNGcm9tTWFwO1xuICAgICAgICAgICAgdGhpcy5zZXRMYUZ1bmNDYWNoZSA9IHRoaXMuc2V0TGFGdW5jQ2FjaGVVc2luZ01hcDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZ2V0TGFGdW5jRnJvbUNhY2hlID0gdGhpcy5nZXRMYUZ1bmNGcm9tT2JqO1xuICAgICAgICAgICAgdGhpcy5zZXRMYUZ1bmNDYWNoZSA9IHRoaXMuc2V0TGFGdW5jVXNpbmdPYmo7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIExvb2tzQWhlYWQucHJvdG90eXBlLnByZUNvbXB1dGVMb29rYWhlYWRGdW5jdGlvbnMgPSBmdW5jdGlvbiAocnVsZXMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgZm9yRWFjaChydWxlcywgZnVuY3Rpb24gKGN1cnJSdWxlKSB7XG4gICAgICAgICAgICBfdGhpcy5UUkFDRV9JTklUKGN1cnJSdWxlLm5hbWUgKyBcIiBSdWxlIExvb2thaGVhZFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9hID0gY29sbGVjdE1ldGhvZHMoY3VyclJ1bGUpLCBhbHRlcm5hdGlvbiA9IF9hLmFsdGVybmF0aW9uLCByZXBldGl0aW9uID0gX2EucmVwZXRpdGlvbiwgb3B0aW9uID0gX2Eub3B0aW9uLCByZXBldGl0aW9uTWFuZGF0b3J5ID0gX2EucmVwZXRpdGlvbk1hbmRhdG9yeSwgcmVwZXRpdGlvbk1hbmRhdG9yeVdpdGhTZXBhcmF0b3IgPSBfYS5yZXBldGl0aW9uTWFuZGF0b3J5V2l0aFNlcGFyYXRvciwgcmVwZXRpdGlvbldpdGhTZXBhcmF0b3IgPSBfYS5yZXBldGl0aW9uV2l0aFNlcGFyYXRvcjtcbiAgICAgICAgICAgICAgICBmb3JFYWNoKGFsdGVybmF0aW9uLCBmdW5jdGlvbiAoY3VyclByb2QpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByb2RJZHggPSBjdXJyUHJvZC5pZHggPT09IDAgPyBcIlwiIDogY3VyclByb2QuaWR4O1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5UUkFDRV9JTklUKFwiXCIgKyBnZXRQcm9kdWN0aW9uRHNsTmFtZShjdXJyUHJvZCkgKyBwcm9kSWR4LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGFGdW5jID0gYnVpbGRMb29rYWhlYWRGdW5jRm9yT3IoY3VyclByb2QuaWR4LCBjdXJyUnVsZSwgY3VyclByb2QubWF4TG9va2FoZWFkIHx8IF90aGlzLm1heExvb2thaGVhZCwgY3VyclByb2QuaGFzUHJlZGljYXRlcywgX3RoaXMuZHluYW1pY1Rva2Vuc0VuYWJsZWQsIF90aGlzLmxvb2tBaGVhZEJ1aWxkZXJGb3JBbHRlcm5hdGl2ZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGtleSA9IGdldEtleUZvckF1dG9tYXRpY0xvb2thaGVhZChfdGhpcy5mdWxsUnVsZU5hbWVUb1Nob3J0W2N1cnJSdWxlLm5hbWVdLCBPUl9JRFgsIGN1cnJQcm9kLmlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZXRMYUZ1bmNDYWNoZShrZXksIGxhRnVuYyk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGZvckVhY2gocmVwZXRpdGlvbiwgZnVuY3Rpb24gKGN1cnJQcm9kKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmNvbXB1dGVMb29rYWhlYWRGdW5jKGN1cnJSdWxlLCBjdXJyUHJvZC5pZHgsIE1BTllfSURYLCBQUk9EX1RZUEUuUkVQRVRJVElPTiwgY3VyclByb2QubWF4TG9va2FoZWFkLCBnZXRQcm9kdWN0aW9uRHNsTmFtZShjdXJyUHJvZCkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGZvckVhY2gob3B0aW9uLCBmdW5jdGlvbiAoY3VyclByb2QpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuY29tcHV0ZUxvb2thaGVhZEZ1bmMoY3VyclJ1bGUsIGN1cnJQcm9kLmlkeCwgT1BUSU9OX0lEWCwgUFJPRF9UWVBFLk9QVElPTiwgY3VyclByb2QubWF4TG9va2FoZWFkLCBnZXRQcm9kdWN0aW9uRHNsTmFtZShjdXJyUHJvZCkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGZvckVhY2gocmVwZXRpdGlvbk1hbmRhdG9yeSwgZnVuY3Rpb24gKGN1cnJQcm9kKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmNvbXB1dGVMb29rYWhlYWRGdW5jKGN1cnJSdWxlLCBjdXJyUHJvZC5pZHgsIEFUX0xFQVNUX09ORV9JRFgsIFBST0RfVFlQRS5SRVBFVElUSU9OX01BTkRBVE9SWSwgY3VyclByb2QubWF4TG9va2FoZWFkLCBnZXRQcm9kdWN0aW9uRHNsTmFtZShjdXJyUHJvZCkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGZvckVhY2gocmVwZXRpdGlvbk1hbmRhdG9yeVdpdGhTZXBhcmF0b3IsIGZ1bmN0aW9uIChjdXJyUHJvZCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5jb21wdXRlTG9va2FoZWFkRnVuYyhjdXJyUnVsZSwgY3VyclByb2QuaWR4LCBBVF9MRUFTVF9PTkVfU0VQX0lEWCwgUFJPRF9UWVBFLlJFUEVUSVRJT05fTUFOREFUT1JZX1dJVEhfU0VQQVJBVE9SLCBjdXJyUHJvZC5tYXhMb29rYWhlYWQsIGdldFByb2R1Y3Rpb25Ec2xOYW1lKGN1cnJQcm9kKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZm9yRWFjaChyZXBldGl0aW9uV2l0aFNlcGFyYXRvciwgZnVuY3Rpb24gKGN1cnJQcm9kKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmNvbXB1dGVMb29rYWhlYWRGdW5jKGN1cnJSdWxlLCBjdXJyUHJvZC5pZHgsIE1BTllfU0VQX0lEWCwgUFJPRF9UWVBFLlJFUEVUSVRJT05fV0lUSF9TRVBBUkFUT1IsIGN1cnJQcm9kLm1heExvb2thaGVhZCwgZ2V0UHJvZHVjdGlvbkRzbE5hbWUoY3VyclByb2QpKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIExvb2tzQWhlYWQucHJvdG90eXBlLmNvbXB1dGVMb29rYWhlYWRGdW5jID0gZnVuY3Rpb24gKHJ1bGUsIHByb2RPY2N1cnJlbmNlLCBwcm9kS2V5LCBwcm9kVHlwZSwgcHJvZE1heExvb2thaGVhZCwgZHNsTWV0aG9kTmFtZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLlRSQUNFX0lOSVQoXCJcIiArIGRzbE1ldGhvZE5hbWUgKyAocHJvZE9jY3VycmVuY2UgPT09IDAgPyBcIlwiIDogcHJvZE9jY3VycmVuY2UpLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgbGFGdW5jID0gYnVpbGRMb29rYWhlYWRGdW5jRm9yT3B0aW9uYWxQcm9kKHByb2RPY2N1cnJlbmNlLCBydWxlLCBwcm9kTWF4TG9va2FoZWFkIHx8IF90aGlzLm1heExvb2thaGVhZCwgX3RoaXMuZHluYW1pY1Rva2Vuc0VuYWJsZWQsIHByb2RUeXBlLCBfdGhpcy5sb29rQWhlYWRCdWlsZGVyRm9yT3B0aW9uYWwpO1xuICAgICAgICAgICAgdmFyIGtleSA9IGdldEtleUZvckF1dG9tYXRpY0xvb2thaGVhZChfdGhpcy5mdWxsUnVsZU5hbWVUb1Nob3J0W3J1bGUubmFtZV0sIHByb2RLZXksIHByb2RPY2N1cnJlbmNlKTtcbiAgICAgICAgICAgIF90aGlzLnNldExhRnVuY0NhY2hlKGtleSwgbGFGdW5jKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBMb29rc0FoZWFkLnByb3RvdHlwZS5sb29rQWhlYWRCdWlsZGVyRm9yT3B0aW9uYWwgPSBmdW5jdGlvbiAoYWx0LCB0b2tlbk1hdGNoZXIsIGR5bmFtaWNUb2tlbnNFbmFibGVkKSB7XG4gICAgICAgIHJldHVybiBidWlsZFNpbmdsZUFsdGVybmF0aXZlTG9va2FoZWFkRnVuY3Rpb24oYWx0LCB0b2tlbk1hdGNoZXIsIGR5bmFtaWNUb2tlbnNFbmFibGVkKTtcbiAgICB9O1xuICAgIExvb2tzQWhlYWQucHJvdG90eXBlLmxvb2tBaGVhZEJ1aWxkZXJGb3JBbHRlcm5hdGl2ZXMgPSBmdW5jdGlvbiAoYWx0cywgaGFzUHJlZGljYXRlcywgdG9rZW5NYXRjaGVyLCBkeW5hbWljVG9rZW5zRW5hYmxlZCkge1xuICAgICAgICByZXR1cm4gYnVpbGRBbHRlcm5hdGl2ZXNMb29rQWhlYWRGdW5jKGFsdHMsIGhhc1ByZWRpY2F0ZXMsIHRva2VuTWF0Y2hlciwgZHluYW1pY1Rva2Vuc0VuYWJsZWQpO1xuICAgIH07XG4gICAgLy8gdGhpcyBhY3R1YWxseSByZXR1cm5zIGEgbnVtYmVyLCBidXQgaXQgaXMgYWx3YXlzIHVzZWQgYXMgYSBzdHJpbmcgKG9iamVjdCBwcm9wIGtleSlcbiAgICBMb29rc0FoZWFkLnByb3RvdHlwZS5nZXRLZXlGb3JBdXRvbWF0aWNMb29rYWhlYWQgPSBmdW5jdGlvbiAoZHNsTWV0aG9kSWR4LCBvY2N1cnJlbmNlKSB7XG4gICAgICAgIHZhciBjdXJyUnVsZVNob3J0TmFtZSA9IHRoaXMuZ2V0TGFzdEV4cGxpY2l0UnVsZVNob3J0TmFtZSgpO1xuICAgICAgICByZXR1cm4gZ2V0S2V5Rm9yQXV0b21hdGljTG9va2FoZWFkKGN1cnJSdWxlU2hvcnROYW1lLCBkc2xNZXRob2RJZHgsIG9jY3VycmVuY2UpO1xuICAgIH07XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBMb29rc0FoZWFkLnByb3RvdHlwZS5nZXRMYUZ1bmNGcm9tQ2FjaGUgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICBMb29rc0FoZWFkLnByb3RvdHlwZS5nZXRMYUZ1bmNGcm9tTWFwID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICByZXR1cm4gdGhpcy5sb29rQWhlYWRGdW5jc0NhY2hlLmdldChrZXkpO1xuICAgIH07XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgLSBVc2luZyBwbGFpbiBhcnJheSBhcyBkaWN0aW9uYXJ5IHdpbGwgYmUgdGVzdGVkIG9uIG9sZGVyIG5vZGUuanMgdmVyc2lvbnMgYW5kIElFMTEgKi9cbiAgICBMb29rc0FoZWFkLnByb3RvdHlwZS5nZXRMYUZ1bmNGcm9tT2JqID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICByZXR1cm4gdGhpcy5sb29rQWhlYWRGdW5jc0NhY2hlW2tleV07XG4gICAgfTtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIExvb2tzQWhlYWQucHJvdG90eXBlLnNldExhRnVuY0NhY2hlID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHsgfTtcbiAgICBMb29rc0FoZWFkLnByb3RvdHlwZS5zZXRMYUZ1bmNDYWNoZVVzaW5nTWFwID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy5sb29rQWhlYWRGdW5jc0NhY2hlLnNldChrZXksIHZhbHVlKTtcbiAgICB9O1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0IC0gVXNpbmcgcGxhaW4gYXJyYXkgYXMgZGljdGlvbmFyeSB3aWxsIGJlIHRlc3RlZCBvbiBvbGRlciBub2RlLmpzIHZlcnNpb25zIGFuZCBJRTExICovXG4gICAgTG9va3NBaGVhZC5wcm90b3R5cGUuc2V0TGFGdW5jVXNpbmdPYmogPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgICB0aGlzLmxvb2tBaGVhZEZ1bmNzQ2FjaGVba2V5XSA9IHZhbHVlO1xuICAgIH07XG4gICAgcmV0dXJuIExvb2tzQWhlYWQ7XG59KCkpO1xuZXhwb3J0IHsgTG9va3NBaGVhZCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bG9va3NhaGVhZC5qcy5tYXAiLCIvKipcbiAqIFRoaXMgbm9kZUxvY2F0aW9uIHRyYWNraW5nIGlzIG5vdCBlZmZpY2llbnQgYW5kIHNob3VsZCBvbmx5IGJlIHVzZWRcbiAqIHdoZW4gZXJyb3IgcmVjb3ZlcnkgaXMgZW5hYmxlZCBvciB0aGUgVG9rZW4gVmVjdG9yIGNvbnRhaW5zIHZpcnR1YWwgVG9rZW5zXG4gKiAoZS5nLCBQeXRob24gSW5kZW50L091dGRlbnQpXG4gKiBBcyBpdCBleGVjdXRlcyB0aGUgY2FsY3VsYXRpb24gZm9yIGV2ZXJ5IHNpbmdsZSB0ZXJtaW5hbC9ub25UZXJtaW5hbFxuICogYW5kIGRvZXMgbm90IHJlbHkgb24gdGhlIGZhY3QgdGhlIHRva2VuIHZlY3RvciBpcyAqKnNvcnRlZCoqXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXROb2RlTG9jYXRpb25Pbmx5T2Zmc2V0KGN1cnJOb2RlTG9jYXRpb24sIG5ld0xvY2F0aW9uSW5mbykge1xuICAgIC8vIEZpcnN0ICh2YWxpZCkgdXBkYXRlIGZvciB0aGlzIGNzdCBub2RlXG4gICAgaWYgKGlzTmFOKGN1cnJOb2RlTG9jYXRpb24uc3RhcnRPZmZzZXQpID09PSB0cnVlKSB7XG4gICAgICAgIC8vIGFzc3VtcHRpb24xOiBUb2tlbiBsb2NhdGlvbiBpbmZvcm1hdGlvbiBpcyBlaXRoZXIgTmFOIG9yIGEgdmFsaWQgbnVtYmVyXG4gICAgICAgIC8vIGFzc3VtcHRpb24yOiBUb2tlbiBsb2NhdGlvbiBpbmZvcm1hdGlvbiBpcyBmdWxseSB2YWxpZCBpZiBpdCBleGlzdFxuICAgICAgICAvLyAoYm90aCBzdGFydC9lbmQgb2Zmc2V0cyBleGlzdCBhbmQgYXJlIG51bWJlcnMpLlxuICAgICAgICBjdXJyTm9kZUxvY2F0aW9uLnN0YXJ0T2Zmc2V0ID0gbmV3TG9jYXRpb25JbmZvLnN0YXJ0T2Zmc2V0O1xuICAgICAgICBjdXJyTm9kZUxvY2F0aW9uLmVuZE9mZnNldCA9IG5ld0xvY2F0aW9uSW5mby5lbmRPZmZzZXQ7XG4gICAgfVxuICAgIC8vIE9uY2UgdGhlIHN0YXJ0T2Zmc2V0IGhhcyBiZWVuIHVwZGF0ZWQgd2l0aCBhIHZhbGlkIG51bWJlciBpdCBzaG91bGQgbmV2ZXIgcmVjZWl2ZVxuICAgIC8vIGFueSBmYXJ0aGVyIHVwZGF0ZXMgYXMgdGhlIFRva2VuIHZlY3RvciBpcyBzb3J0ZWQuXG4gICAgLy8gV2Ugc3RpbGwgaGF2ZSB0byBjaGVjayB0aGlzIHRoaXMgY29uZGl0aW9uIGZvciBldmVyeSBuZXcgcG9zc2libGUgbG9jYXRpb24gaW5mb1xuICAgIC8vIGJlY2F1c2Ugd2l0aCBlcnJvciByZWNvdmVyeSBlbmFibGVkIHdlIG1heSBlbmNvdW50ZXIgaW52YWxpZCB0b2tlbnMgKE5hTiBsb2NhdGlvbiBwcm9wcylcbiAgICBlbHNlIGlmIChjdXJyTm9kZUxvY2F0aW9uLmVuZE9mZnNldCA8IG5ld0xvY2F0aW9uSW5mby5lbmRPZmZzZXQgPT09IHRydWUpIHtcbiAgICAgICAgY3Vyck5vZGVMb2NhdGlvbi5lbmRPZmZzZXQgPSBuZXdMb2NhdGlvbkluZm8uZW5kT2Zmc2V0O1xuICAgIH1cbn1cbi8qKlxuICogVGhpcyBub2RlTG9jYXRpb24gdHJhY2tpbmcgaXMgbm90IGVmZmljaWVudCBhbmQgc2hvdWxkIG9ubHkgYmUgdXNlZFxuICogd2hlbiBlcnJvciByZWNvdmVyeSBpcyBlbmFibGVkIG9yIHRoZSBUb2tlbiBWZWN0b3IgY29udGFpbnMgdmlydHVhbCBUb2tlbnNcbiAqIChlLmcsIFB5dGhvbiBJbmRlbnQvT3V0ZGVudClcbiAqIEFzIGl0IGV4ZWN1dGVzIHRoZSBjYWxjdWxhdGlvbiBmb3IgZXZlcnkgc2luZ2xlIHRlcm1pbmFsL25vblRlcm1pbmFsXG4gKiBhbmQgZG9lcyBub3QgcmVseSBvbiB0aGUgZmFjdCB0aGUgdG9rZW4gdmVjdG9yIGlzICoqc29ydGVkKipcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldE5vZGVMb2NhdGlvbkZ1bGwoY3Vyck5vZGVMb2NhdGlvbiwgbmV3TG9jYXRpb25JbmZvKSB7XG4gICAgLy8gRmlyc3QgKHZhbGlkKSB1cGRhdGUgZm9yIHRoaXMgY3N0IG5vZGVcbiAgICBpZiAoaXNOYU4oY3Vyck5vZGVMb2NhdGlvbi5zdGFydE9mZnNldCkgPT09IHRydWUpIHtcbiAgICAgICAgLy8gYXNzdW1wdGlvbjE6IFRva2VuIGxvY2F0aW9uIGluZm9ybWF0aW9uIGlzIGVpdGhlciBOYU4gb3IgYSB2YWxpZCBudW1iZXJcbiAgICAgICAgLy8gYXNzdW1wdGlvbjI6IFRva2VuIGxvY2F0aW9uIGluZm9ybWF0aW9uIGlzIGZ1bGx5IHZhbGlkIGlmIGl0IGV4aXN0XG4gICAgICAgIC8vIChhbGwgc3RhcnQvZW5kIHByb3BzIGV4aXN0IGFuZCBhcmUgbnVtYmVycykuXG4gICAgICAgIGN1cnJOb2RlTG9jYXRpb24uc3RhcnRPZmZzZXQgPSBuZXdMb2NhdGlvbkluZm8uc3RhcnRPZmZzZXQ7XG4gICAgICAgIGN1cnJOb2RlTG9jYXRpb24uc3RhcnRDb2x1bW4gPSBuZXdMb2NhdGlvbkluZm8uc3RhcnRDb2x1bW47XG4gICAgICAgIGN1cnJOb2RlTG9jYXRpb24uc3RhcnRMaW5lID0gbmV3TG9jYXRpb25JbmZvLnN0YXJ0TGluZTtcbiAgICAgICAgY3Vyck5vZGVMb2NhdGlvbi5lbmRPZmZzZXQgPSBuZXdMb2NhdGlvbkluZm8uZW5kT2Zmc2V0O1xuICAgICAgICBjdXJyTm9kZUxvY2F0aW9uLmVuZENvbHVtbiA9IG5ld0xvY2F0aW9uSW5mby5lbmRDb2x1bW47XG4gICAgICAgIGN1cnJOb2RlTG9jYXRpb24uZW5kTGluZSA9IG5ld0xvY2F0aW9uSW5mby5lbmRMaW5lO1xuICAgIH1cbiAgICAvLyBPbmNlIHRoZSBzdGFydCBwcm9wcyBoYXMgYmVlbiB1cGRhdGVkIHdpdGggYSB2YWxpZCBudW1iZXIgaXQgc2hvdWxkIG5ldmVyIHJlY2VpdmVcbiAgICAvLyBhbnkgZmFydGhlciB1cGRhdGVzIGFzIHRoZSBUb2tlbiB2ZWN0b3IgaXMgc29ydGVkLlxuICAgIC8vIFdlIHN0aWxsIGhhdmUgdG8gY2hlY2sgdGhpcyB0aGlzIGNvbmRpdGlvbiBmb3IgZXZlcnkgbmV3IHBvc3NpYmxlIGxvY2F0aW9uIGluZm9cbiAgICAvLyBiZWNhdXNlIHdpdGggZXJyb3IgcmVjb3ZlcnkgZW5hYmxlZCB3ZSBtYXkgZW5jb3VudGVyIGludmFsaWQgdG9rZW5zIChOYU4gbG9jYXRpb24gcHJvcHMpXG4gICAgZWxzZSBpZiAoY3Vyck5vZGVMb2NhdGlvbi5lbmRPZmZzZXQgPCBuZXdMb2NhdGlvbkluZm8uZW5kT2Zmc2V0ID09PSB0cnVlKSB7XG4gICAgICAgIGN1cnJOb2RlTG9jYXRpb24uZW5kT2Zmc2V0ID0gbmV3TG9jYXRpb25JbmZvLmVuZE9mZnNldDtcbiAgICAgICAgY3Vyck5vZGVMb2NhdGlvbi5lbmRDb2x1bW4gPSBuZXdMb2NhdGlvbkluZm8uZW5kQ29sdW1uO1xuICAgICAgICBjdXJyTm9kZUxvY2F0aW9uLmVuZExpbmUgPSBuZXdMb2NhdGlvbkluZm8uZW5kTGluZTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gYWRkVGVybWluYWxUb0NzdChub2RlLCB0b2tlbiwgdG9rZW5UeXBlTmFtZSkge1xuICAgIGlmIChub2RlLmNoaWxkcmVuW3Rva2VuVHlwZU5hbWVdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbm9kZS5jaGlsZHJlblt0b2tlblR5cGVOYW1lXSA9IFt0b2tlbl07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBub2RlLmNoaWxkcmVuW3Rva2VuVHlwZU5hbWVdLnB1c2godG9rZW4pO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBhZGROb25lVGVybWluYWxUb0NzdChub2RlLCBydWxlTmFtZSwgcnVsZVJlc3VsdCkge1xuICAgIGlmIChub2RlLmNoaWxkcmVuW3J1bGVOYW1lXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG5vZGUuY2hpbGRyZW5bcnVsZU5hbWVdID0gW3J1bGVSZXN1bHRdO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbm9kZS5jaGlsZHJlbltydWxlTmFtZV0ucHVzaChydWxlUmVzdWx0KTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jc3QuanMubWFwIiwiaW1wb3J0IHsgaXNVbmRlZmluZWQgfSBmcm9tIFwiLi4vdXRpbHMvdXRpbHNcIjtcbmV4cG9ydCBmdW5jdGlvbiBjbGFzc05hbWVGcm9tSW5zdGFuY2UoaW5zdGFuY2UpIHtcbiAgICByZXR1cm4gZnVuY3Rpb25OYW1lKGluc3RhbmNlLmNvbnN0cnVjdG9yKTtcbn1cbnZhciBGVU5DX05BTUVfUkVHRVhQID0gL15cXHMqZnVuY3Rpb25cXHMqKFxcUyopXFxzKlxcKC87XG52YXIgTkFNRSA9IFwibmFtZVwiO1xuLyogaXN0YW5idWwgaWdub3JlIG5leHQgdG9vIG1hbnkgaGFja3MgZm9yIElFL29sZCB2ZXJzaW9ucyBvZiBub2RlLmpzIGhlcmUqL1xuZXhwb3J0IGZ1bmN0aW9uIGZ1bmN0aW9uTmFtZShmdW5jKSB7XG4gICAgLy8gRW5naW5lcyB0aGF0IHN1cHBvcnQgRnVuY3Rpb24ucHJvdG90eXBlLm5hbWUgT1IgdGhlIG50aCAobj4xKSB0aW1lIGFmdGVyXG4gICAgLy8gdGhlIG5hbWUgaGFzIGJlZW4gY29tcHV0ZWQgaW4gdGhlIGZvbGxvd2luZyBlbHNlIGJsb2NrLlxuICAgIHZhciBleGlzdGluZ05hbWVQcm9wID0gZnVuYy5uYW1lO1xuICAgIGlmIChleGlzdGluZ05hbWVQcm9wKSB7XG4gICAgICAgIHJldHVybiBleGlzdGluZ05hbWVQcm9wO1xuICAgIH1cbiAgICAvLyBoYWNrIGZvciBJRSBhbmQgZW5naW5lcyB0aGF0IGRvIG5vdCBzdXBwb3J0IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSBvbiBmdW5jdGlvbi5uYW1lIChOb2RlLmpzIDAuMTAgJiYgMC4xMilcbiAgICB2YXIgY29tcHV0ZWROYW1lID0gZnVuYy50b1N0cmluZygpLm1hdGNoKEZVTkNfTkFNRV9SRUdFWFApWzFdO1xuICAgIHJldHVybiBjb21wdXRlZE5hbWU7XG59XG4vKipcbiAqIEByZXR1cm5zIHtib29sZWFufSAtIGhhcyB0aGUgcHJvcGVydHkgYmVlbiBzdWNjZXNzZnVsbHkgZGVmaW5lZFxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVmaW5lTmFtZVByb3Aob2JqLCBuYW1lVmFsdWUpIHtcbiAgICB2YXIgbmFtZVByb3BEZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIE5BTUUpO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlIC0+IHdpbGwgb25seSBydW4gaW4gb2xkIHZlcnNpb25zIG9mIG5vZGUuanMgKi9cbiAgICBpZiAoaXNVbmRlZmluZWQobmFtZVByb3BEZXNjcmlwdG9yKSB8fCBuYW1lUHJvcERlc2NyaXB0b3IuY29uZmlndXJhYmxlKSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIE5BTUUsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgICAgICAgICAgdmFsdWU6IG5hbWVWYWx1ZVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0IC0+IHdpbGwgb25seSBydW4gaW4gb2xkIHZlcnNpb25zIG9mIG5vZGUuanMgKi9cbiAgICByZXR1cm4gZmFsc2U7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sYW5nX2V4dGVuc2lvbnMuanMubWFwIiwiaW1wb3J0IHsgY29tcGFjdCwgY29udGFpbnMsIGZvckVhY2gsIGlzQXJyYXksIGlzRW1wdHksIGlzRnVuY3Rpb24sIGlzVW5kZWZpbmVkLCBrZXlzLCBtYXAgfSBmcm9tIFwiLi4vLi4vdXRpbHMvdXRpbHNcIjtcbmltcG9ydCB7IGRlZmluZU5hbWVQcm9wLCBmdW5jdGlvbk5hbWUgfSBmcm9tIFwiLi4vLi4vbGFuZy9sYW5nX2V4dGVuc2lvbnNcIjtcbmltcG9ydCB7IHZhbGlkVGVybXNQYXR0ZXJuIH0gZnJvbSBcIi4uL2dyYW1tYXIvY2hlY2tzXCI7XG5leHBvcnQgZnVuY3Rpb24gZGVmYXVsdFZpc2l0KGN0eCwgcGFyYW0pIHtcbiAgICB2YXIgY2hpbGRyZW5OYW1lcyA9IGtleXMoY3R4KTtcbiAgICB2YXIgY2hpbGRyZW5OYW1lc0xlbmd0aCA9IGNoaWxkcmVuTmFtZXMubGVuZ3RoO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW5OYW1lc0xlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBjdXJyQ2hpbGROYW1lID0gY2hpbGRyZW5OYW1lc1tpXTtcbiAgICAgICAgdmFyIGN1cnJDaGlsZEFycmF5ID0gY3R4W2N1cnJDaGlsZE5hbWVdO1xuICAgICAgICB2YXIgY3VyckNoaWxkQXJyYXlMZW5ndGggPSBjdXJyQ2hpbGRBcnJheS5sZW5ndGg7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgY3VyckNoaWxkQXJyYXlMZW5ndGg7IGorKykge1xuICAgICAgICAgICAgdmFyIGN1cnJDaGlsZCA9IGN1cnJDaGlsZEFycmF5W2pdO1xuICAgICAgICAgICAgLy8gZGlzdGluY3Rpb24gYmV0d2VlbiBUb2tlbnMgQ2hpbGRyZW4gYW5kIENzdE5vZGUgY2hpbGRyZW5cbiAgICAgICAgICAgIGlmIChjdXJyQ2hpbGQudG9rZW5UeXBlSWR4ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzW2N1cnJDaGlsZC5uYW1lXShjdXJyQ2hpbGQuY2hpbGRyZW4sIHBhcmFtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBkZWZhdWx0VmlzaXQgZG9lcyBub3Qgc3VwcG9ydCBnZW5lcmljIG91dCBwYXJhbVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQmFzZVNlbWFudGljVmlzaXRvckNvbnN0cnVjdG9yKGdyYW1tYXJOYW1lLCBydWxlTmFtZXMpIHtcbiAgICB2YXIgZGVyaXZlZENvbnN0cnVjdG9yID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIC8vIGNhbiBiZSBvdmVyd3JpdHRlbiBhY2NvcmRpbmcgdG86XG4gICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvRnVuY3Rpb24vXG4gICAgLy8gbmFtZT9yZWRpcmVjdGxvY2FsZT1lbi1VUyZyZWRpcmVjdHNsdWc9SmF2YVNjcmlwdCUyRlJlZmVyZW5jZSUyRkdsb2JhbF9PYmplY3RzJTJGRnVuY3Rpb24lMkZuYW1lXG4gICAgZGVmaW5lTmFtZVByb3AoZGVyaXZlZENvbnN0cnVjdG9yLCBncmFtbWFyTmFtZSArIFwiQmFzZVNlbWFudGljc1wiKTtcbiAgICB2YXIgc2VtYW50aWNQcm90byA9IHtcbiAgICAgICAgdmlzaXQ6IGZ1bmN0aW9uIChjc3ROb2RlLCBwYXJhbSkge1xuICAgICAgICAgICAgLy8gZW5hYmxlcyB3cml0aW5nIG1vcmUgY29uY2lzZSB2aXNpdG9yIG1ldGhvZHMgd2hlbiBDc3ROb2RlIGhhcyBvbmx5IGEgc2luZ2xlIGNoaWxkXG4gICAgICAgICAgICBpZiAoaXNBcnJheShjc3ROb2RlKSkge1xuICAgICAgICAgICAgICAgIC8vIEEgQ1NUIE5vZGUncyBjaGlsZHJlbiBkaWN0aW9uYXJ5IGNhbiBuZXZlciBoYXZlIGVtcHR5IGFycmF5cyBhcyB2YWx1ZXNcbiAgICAgICAgICAgICAgICAvLyBJZiBhIGtleSBpcyBkZWZpbmVkIHRoZXJlIHdpbGwgYmUgYXQgbGVhc3Qgb25lIGVsZW1lbnQgaW4gdGhlIGNvcnJlc3BvbmRpbmcgdmFsdWUgYXJyYXkuXG4gICAgICAgICAgICAgICAgY3N0Tm9kZSA9IGNzdE5vZGVbMF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBlbmFibGVzIHBhc3Npbmcgb3B0aW9uYWwgQ3N0Tm9kZXMgY29uY2lzZWx5LlxuICAgICAgICAgICAgaWYgKGlzVW5kZWZpbmVkKGNzdE5vZGUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzW2NzdE5vZGUubmFtZV0oY3N0Tm9kZS5jaGlsZHJlbiwgcGFyYW0pO1xuICAgICAgICB9LFxuICAgICAgICB2YWxpZGF0ZVZpc2l0b3I6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBzZW1hbnRpY0RlZmluaXRpb25FcnJvcnMgPSB2YWxpZGF0ZVZpc2l0b3IodGhpcywgcnVsZU5hbWVzKTtcbiAgICAgICAgICAgIGlmICghaXNFbXB0eShzZW1hbnRpY0RlZmluaXRpb25FcnJvcnMpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGVycm9yTWVzc2FnZXMgPSBtYXAoc2VtYW50aWNEZWZpbml0aW9uRXJyb3JzLCBmdW5jdGlvbiAoY3VyckRlZkVycm9yKSB7IHJldHVybiBjdXJyRGVmRXJyb3IubXNnOyB9KTtcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIkVycm9ycyBEZXRlY3RlZCBpbiBDU1QgVmlzaXRvciA8XCIgKyBmdW5jdGlvbk5hbWUodGhpcy5jb25zdHJ1Y3RvcikgKyBcIj46XFxuXFx0XCIgKyAoXCJcIiArIGVycm9yTWVzc2FnZXMuam9pbihcIlxcblxcblwiKS5yZXBsYWNlKC9cXG4vZywgXCJcXG5cXHRcIikpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgZGVyaXZlZENvbnN0cnVjdG9yLnByb3RvdHlwZSA9IHNlbWFudGljUHJvdG87XG4gICAgZGVyaXZlZENvbnN0cnVjdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGRlcml2ZWRDb25zdHJ1Y3RvcjtcbiAgICBkZXJpdmVkQ29uc3RydWN0b3IuX1JVTEVfTkFNRVMgPSBydWxlTmFtZXM7XG4gICAgcmV0dXJuIGRlcml2ZWRDb25zdHJ1Y3Rvcjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVCYXNlVmlzaXRvckNvbnN0cnVjdG9yV2l0aERlZmF1bHRzKGdyYW1tYXJOYW1lLCBydWxlTmFtZXMsIGJhc2VDb25zdHJ1Y3Rvcikge1xuICAgIHZhciBkZXJpdmVkQ29uc3RydWN0b3IgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgLy8gY2FuIGJlIG92ZXJ3cml0dGVuIGFjY29yZGluZyB0bzpcbiAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9GdW5jdGlvbi9cbiAgICAvLyBuYW1lP3JlZGlyZWN0bG9jYWxlPWVuLVVTJnJlZGlyZWN0c2x1Zz1KYXZhU2NyaXB0JTJGUmVmZXJlbmNlJTJGR2xvYmFsX09iamVjdHMlMkZGdW5jdGlvbiUyRm5hbWVcbiAgICBkZWZpbmVOYW1lUHJvcChkZXJpdmVkQ29uc3RydWN0b3IsIGdyYW1tYXJOYW1lICsgXCJCYXNlU2VtYW50aWNzV2l0aERlZmF1bHRzXCIpO1xuICAgIHZhciB3aXRoRGVmYXVsdHNQcm90byA9IE9iamVjdC5jcmVhdGUoYmFzZUNvbnN0cnVjdG9yLnByb3RvdHlwZSk7XG4gICAgZm9yRWFjaChydWxlTmFtZXMsIGZ1bmN0aW9uIChydWxlTmFtZSkge1xuICAgICAgICB3aXRoRGVmYXVsdHNQcm90b1tydWxlTmFtZV0gPSBkZWZhdWx0VmlzaXQ7XG4gICAgfSk7XG4gICAgZGVyaXZlZENvbnN0cnVjdG9yLnByb3RvdHlwZSA9IHdpdGhEZWZhdWx0c1Byb3RvO1xuICAgIGRlcml2ZWRDb25zdHJ1Y3Rvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBkZXJpdmVkQ29uc3RydWN0b3I7XG4gICAgcmV0dXJuIGRlcml2ZWRDb25zdHJ1Y3Rvcjtcbn1cbmV4cG9ydCB2YXIgQ3N0VmlzaXRvckRlZmluaXRpb25FcnJvcjtcbihmdW5jdGlvbiAoQ3N0VmlzaXRvckRlZmluaXRpb25FcnJvcikge1xuICAgIENzdFZpc2l0b3JEZWZpbml0aW9uRXJyb3JbQ3N0VmlzaXRvckRlZmluaXRpb25FcnJvcltcIlJFRFVOREFOVF9NRVRIT0RcIl0gPSAwXSA9IFwiUkVEVU5EQU5UX01FVEhPRFwiO1xuICAgIENzdFZpc2l0b3JEZWZpbml0aW9uRXJyb3JbQ3N0VmlzaXRvckRlZmluaXRpb25FcnJvcltcIk1JU1NJTkdfTUVUSE9EXCJdID0gMV0gPSBcIk1JU1NJTkdfTUVUSE9EXCI7XG59KShDc3RWaXNpdG9yRGVmaW5pdGlvbkVycm9yIHx8IChDc3RWaXNpdG9yRGVmaW5pdGlvbkVycm9yID0ge30pKTtcbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZVZpc2l0b3IodmlzaXRvckluc3RhbmNlLCBydWxlTmFtZXMpIHtcbiAgICB2YXIgbWlzc2luZ0Vycm9ycyA9IHZhbGlkYXRlTWlzc2luZ0NzdE1ldGhvZHModmlzaXRvckluc3RhbmNlLCBydWxlTmFtZXMpO1xuICAgIHZhciByZWR1bmRhbnRFcnJvcnMgPSB2YWxpZGF0ZVJlZHVuZGFudE1ldGhvZHModmlzaXRvckluc3RhbmNlLCBydWxlTmFtZXMpO1xuICAgIHJldHVybiBtaXNzaW5nRXJyb3JzLmNvbmNhdChyZWR1bmRhbnRFcnJvcnMpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlTWlzc2luZ0NzdE1ldGhvZHModmlzaXRvckluc3RhbmNlLCBydWxlTmFtZXMpIHtcbiAgICB2YXIgZXJyb3JzID0gbWFwKHJ1bGVOYW1lcywgZnVuY3Rpb24gKGN1cnJSdWxlTmFtZSkge1xuICAgICAgICBpZiAoIWlzRnVuY3Rpb24odmlzaXRvckluc3RhbmNlW2N1cnJSdWxlTmFtZV0pKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1zZzogXCJNaXNzaW5nIHZpc2l0b3IgbWV0aG9kOiA8XCIgKyBjdXJyUnVsZU5hbWUgKyBcIj4gb24gXCIgKyBmdW5jdGlvbk5hbWUodmlzaXRvckluc3RhbmNlLmNvbnN0cnVjdG9yKSArIFwiIENTVCBWaXNpdG9yLlwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IENzdFZpc2l0b3JEZWZpbml0aW9uRXJyb3IuTUlTU0lOR19NRVRIT0QsXG4gICAgICAgICAgICAgICAgbWV0aG9kTmFtZTogY3VyclJ1bGVOYW1lXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbXBhY3QoZXJyb3JzKTtcbn1cbnZhciBWQUxJRF9QUk9QX05BTUVTID0gW1wiY29uc3RydWN0b3JcIiwgXCJ2aXNpdFwiLCBcInZhbGlkYXRlVmlzaXRvclwiXTtcbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZVJlZHVuZGFudE1ldGhvZHModmlzaXRvckluc3RhbmNlLCBydWxlTmFtZXMpIHtcbiAgICB2YXIgZXJyb3JzID0gW107XG4gICAgZm9yICh2YXIgcHJvcCBpbiB2aXNpdG9ySW5zdGFuY2UpIHtcbiAgICAgICAgaWYgKHZhbGlkVGVybXNQYXR0ZXJuLnRlc3QocHJvcCkgJiZcbiAgICAgICAgICAgIGlzRnVuY3Rpb24odmlzaXRvckluc3RhbmNlW3Byb3BdKSAmJlxuICAgICAgICAgICAgIWNvbnRhaW5zKFZBTElEX1BST1BfTkFNRVMsIHByb3ApICYmXG4gICAgICAgICAgICAhY29udGFpbnMocnVsZU5hbWVzLCBwcm9wKSkge1xuICAgICAgICAgICAgZXJyb3JzLnB1c2goe1xuICAgICAgICAgICAgICAgIG1zZzogXCJSZWR1bmRhbnQgdmlzaXRvciBtZXRob2Q6IDxcIiArIHByb3AgKyBcIj4gb24gXCIgKyBmdW5jdGlvbk5hbWUodmlzaXRvckluc3RhbmNlLmNvbnN0cnVjdG9yKSArIFwiIENTVCBWaXNpdG9yXFxuXCIgK1xuICAgICAgICAgICAgICAgICAgICBcIlRoZXJlIGlzIG5vIEdyYW1tYXIgUnVsZSBjb3JyZXNwb25kaW5nIHRvIHRoaXMgbWV0aG9kJ3MgbmFtZS5cXG5cIiArXG4gICAgICAgICAgICAgICAgICAgIChcIkZvciB1dGlsaXR5IG1ldGhvZHMgb24gdmlzaXRvciBjbGFzc2VzIHVzZSBtZXRob2RzIG5hbWVzIHRoYXQgZG8gbm90IG1hdGNoIC9cIiArIHZhbGlkVGVybXNQYXR0ZXJuLnNvdXJjZSArIFwiLy5cIiksXG4gICAgICAgICAgICAgICAgdHlwZTogQ3N0VmlzaXRvckRlZmluaXRpb25FcnJvci5SRURVTkRBTlRfTUVUSE9ELFxuICAgICAgICAgICAgICAgIG1ldGhvZE5hbWU6IHByb3BcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBlcnJvcnM7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jc3RfdmlzaXRvci5qcy5tYXAiLCJpbXBvcnQgeyBhZGROb25lVGVybWluYWxUb0NzdCwgYWRkVGVybWluYWxUb0NzdCwgc2V0Tm9kZUxvY2F0aW9uRnVsbCwgc2V0Tm9kZUxvY2F0aW9uT25seU9mZnNldCB9IGZyb20gXCIuLi8uLi9jc3QvY3N0XCI7XG5pbXBvcnQgeyBoYXMsIGlzVW5kZWZpbmVkLCBrZXlzLCBOT09QIH0gZnJvbSBcIi4uLy4uLy4uL3V0aWxzL3V0aWxzXCI7XG5pbXBvcnQgeyBjcmVhdGVCYXNlU2VtYW50aWNWaXNpdG9yQ29uc3RydWN0b3IsIGNyZWF0ZUJhc2VWaXNpdG9yQ29uc3RydWN0b3JXaXRoRGVmYXVsdHMgfSBmcm9tIFwiLi4vLi4vY3N0L2NzdF92aXNpdG9yXCI7XG5pbXBvcnQgeyBERUZBVUxUX1BBUlNFUl9DT05GSUcgfSBmcm9tIFwiLi4vcGFyc2VyXCI7XG4vKipcbiAqIFRoaXMgdHJhaXQgaXMgcmVzcG9uc2libGUgZm9yIHRoZSBDU1QgYnVpbGRpbmcgbG9naWMuXG4gKi9cbnZhciBUcmVlQnVpbGRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUcmVlQnVpbGRlcigpIHtcbiAgICB9XG4gICAgVHJlZUJ1aWxkZXIucHJvdG90eXBlLmluaXRUcmVlQnVpbGRlciA9IGZ1bmN0aW9uIChjb25maWcpIHtcbiAgICAgICAgdGhpcy5DU1RfU1RBQ0sgPSBbXTtcbiAgICAgICAgLy8gb3V0cHV0Q3N0IGlzIG5vIGxvbmdlciBleHBvc2VkL2RlZmluZWQgaW4gdGhlIHB1YmljIEFQSVxuICAgICAgICB0aGlzLm91dHB1dENzdCA9IGNvbmZpZy5vdXRwdXRDc3Q7XG4gICAgICAgIHRoaXMubm9kZUxvY2F0aW9uVHJhY2tpbmcgPSBoYXMoY29uZmlnLCBcIm5vZGVMb2NhdGlvblRyYWNraW5nXCIpXG4gICAgICAgICAgICA/IGNvbmZpZy5ub2RlTG9jYXRpb25UcmFja2luZ1xuICAgICAgICAgICAgOiBERUZBVUxUX1BBUlNFUl9DT05GSUcubm9kZUxvY2F0aW9uVHJhY2tpbmc7XG4gICAgICAgIGlmICghdGhpcy5vdXRwdXRDc3QpIHtcbiAgICAgICAgICAgIHRoaXMuY3N0SW52b2NhdGlvblN0YXRlVXBkYXRlID0gTk9PUDtcbiAgICAgICAgICAgIHRoaXMuY3N0RmluYWxseVN0YXRlVXBkYXRlID0gTk9PUDtcbiAgICAgICAgICAgIHRoaXMuY3N0UG9zdFRlcm1pbmFsID0gTk9PUDtcbiAgICAgICAgICAgIHRoaXMuY3N0UG9zdE5vblRlcm1pbmFsID0gTk9PUDtcbiAgICAgICAgICAgIHRoaXMuY3N0UG9zdFJ1bGUgPSBOT09QO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKC9mdWxsL2kudGVzdCh0aGlzLm5vZGVMb2NhdGlvblRyYWNraW5nKSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlY292ZXJ5RW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldE5vZGVMb2NhdGlvbkZyb21Ub2tlbiA9IHNldE5vZGVMb2NhdGlvbkZ1bGw7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0Tm9kZUxvY2F0aW9uRnJvbU5vZGUgPSBzZXROb2RlTG9jYXRpb25GdWxsO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNzdFBvc3RSdWxlID0gTk9PUDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRJbml0aWFsTm9kZUxvY2F0aW9uID0gdGhpcy5zZXRJbml0aWFsTm9kZUxvY2F0aW9uRnVsbFJlY292ZXJ5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXROb2RlTG9jYXRpb25Gcm9tVG9rZW4gPSBOT09QO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldE5vZGVMb2NhdGlvbkZyb21Ob2RlID0gTk9PUDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jc3RQb3N0UnVsZSA9IHRoaXMuY3N0UG9zdFJ1bGVGdWxsO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEluaXRpYWxOb2RlTG9jYXRpb24gPSB0aGlzLnNldEluaXRpYWxOb2RlTG9jYXRpb25GdWxsUmVndWxhcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICgvb25seU9mZnNldC9pLnRlc3QodGhpcy5ub2RlTG9jYXRpb25UcmFja2luZykpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yZWNvdmVyeUVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXROb2RlTG9jYXRpb25Gcm9tVG9rZW4gPSBzZXROb2RlTG9jYXRpb25Pbmx5T2Zmc2V0O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldE5vZGVMb2NhdGlvbkZyb21Ob2RlID0gc2V0Tm9kZUxvY2F0aW9uT25seU9mZnNldDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jc3RQb3N0UnVsZSA9IE5PT1A7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0SW5pdGlhbE5vZGVMb2NhdGlvbiA9IHRoaXMuc2V0SW5pdGlhbE5vZGVMb2NhdGlvbk9ubHlPZmZzZXRSZWNvdmVyeTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0Tm9kZUxvY2F0aW9uRnJvbVRva2VuID0gTk9PUDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXROb2RlTG9jYXRpb25Gcm9tTm9kZSA9IE5PT1A7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3N0UG9zdFJ1bGUgPSB0aGlzLmNzdFBvc3RSdWxlT25seU9mZnNldDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRJbml0aWFsTm9kZUxvY2F0aW9uID0gdGhpcy5zZXRJbml0aWFsTm9kZUxvY2F0aW9uT25seU9mZnNldFJlZ3VsYXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoL25vbmUvaS50ZXN0KHRoaXMubm9kZUxvY2F0aW9uVHJhY2tpbmcpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXROb2RlTG9jYXRpb25Gcm9tVG9rZW4gPSBOT09QO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0Tm9kZUxvY2F0aW9uRnJvbU5vZGUgPSBOT09QO1xuICAgICAgICAgICAgICAgIHRoaXMuY3N0UG9zdFJ1bGUgPSBOT09QO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0SW5pdGlhbE5vZGVMb2NhdGlvbiA9IE5PT1A7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIkludmFsaWQgPG5vZGVMb2NhdGlvblRyYWNraW5nPiBjb25maWcgb3B0aW9uOiBcXFwiXCIgKyBjb25maWcubm9kZUxvY2F0aW9uVHJhY2tpbmcgKyBcIlxcXCJcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFRyZWVCdWlsZGVyLnByb3RvdHlwZS5zZXRJbml0aWFsTm9kZUxvY2F0aW9uT25seU9mZnNldFJlY292ZXJ5ID0gZnVuY3Rpb24gKGNzdE5vZGUpIHtcbiAgICAgICAgY3N0Tm9kZS5sb2NhdGlvbiA9IHtcbiAgICAgICAgICAgIHN0YXJ0T2Zmc2V0OiBOYU4sXG4gICAgICAgICAgICBlbmRPZmZzZXQ6IE5hTlxuICAgICAgICB9O1xuICAgIH07XG4gICAgVHJlZUJ1aWxkZXIucHJvdG90eXBlLnNldEluaXRpYWxOb2RlTG9jYXRpb25Pbmx5T2Zmc2V0UmVndWxhciA9IGZ1bmN0aW9uIChjc3ROb2RlKSB7XG4gICAgICAgIGNzdE5vZGUubG9jYXRpb24gPSB7XG4gICAgICAgICAgICAvLyB3aXRob3V0IGVycm9yIHJlY292ZXJ5IHRoZSBzdGFydGluZyBMb2NhdGlvbiBvZiBhIG5ldyBDc3ROb2RlIGlzIGd1YXJhbnRlZWRcbiAgICAgICAgICAgIC8vIFRvIGJlIHRoZSBuZXh0IFRva2VuJ3Mgc3RhcnRPZmZzZXQgKGZvciB2YWxpZCBpbnB1dHMpLlxuICAgICAgICAgICAgLy8gRm9yIGludmFsaWQgaW5wdXRzIHRoZXJlIHdvbid0IGJlIGFueSBDU1RPdXRwdXQgc28gdGhpcyBwb3RlbnRpYWxcbiAgICAgICAgICAgIC8vIGluYWNjdXJhY3kgZG9lcyBub3QgbWF0dGVyXG4gICAgICAgICAgICBzdGFydE9mZnNldDogdGhpcy5MQSgxKS5zdGFydE9mZnNldCxcbiAgICAgICAgICAgIGVuZE9mZnNldDogTmFOXG4gICAgICAgIH07XG4gICAgfTtcbiAgICBUcmVlQnVpbGRlci5wcm90b3R5cGUuc2V0SW5pdGlhbE5vZGVMb2NhdGlvbkZ1bGxSZWNvdmVyeSA9IGZ1bmN0aW9uIChjc3ROb2RlKSB7XG4gICAgICAgIGNzdE5vZGUubG9jYXRpb24gPSB7XG4gICAgICAgICAgICBzdGFydE9mZnNldDogTmFOLFxuICAgICAgICAgICAgc3RhcnRMaW5lOiBOYU4sXG4gICAgICAgICAgICBzdGFydENvbHVtbjogTmFOLFxuICAgICAgICAgICAgZW5kT2Zmc2V0OiBOYU4sXG4gICAgICAgICAgICBlbmRMaW5lOiBOYU4sXG4gICAgICAgICAgICBlbmRDb2x1bW46IE5hTlxuICAgICAgICB9O1xuICAgIH07XG4gICAgLyoqXG4gICAgICAgKiAgQHNlZSBzZXRJbml0aWFsTm9kZUxvY2F0aW9uT25seU9mZnNldFJlZ3VsYXIgZm9yIGV4cGxhbmF0aW9uIHdoeSB0aGlzIHdvcmtcbiAgXG4gICAgICAgKiBAcGFyYW0gY3N0Tm9kZVxuICAgICAgICovXG4gICAgVHJlZUJ1aWxkZXIucHJvdG90eXBlLnNldEluaXRpYWxOb2RlTG9jYXRpb25GdWxsUmVndWxhciA9IGZ1bmN0aW9uIChjc3ROb2RlKSB7XG4gICAgICAgIHZhciBuZXh0VG9rZW4gPSB0aGlzLkxBKDEpO1xuICAgICAgICBjc3ROb2RlLmxvY2F0aW9uID0ge1xuICAgICAgICAgICAgc3RhcnRPZmZzZXQ6IG5leHRUb2tlbi5zdGFydE9mZnNldCxcbiAgICAgICAgICAgIHN0YXJ0TGluZTogbmV4dFRva2VuLnN0YXJ0TGluZSxcbiAgICAgICAgICAgIHN0YXJ0Q29sdW1uOiBuZXh0VG9rZW4uc3RhcnRDb2x1bW4sXG4gICAgICAgICAgICBlbmRPZmZzZXQ6IE5hTixcbiAgICAgICAgICAgIGVuZExpbmU6IE5hTixcbiAgICAgICAgICAgIGVuZENvbHVtbjogTmFOXG4gICAgICAgIH07XG4gICAgfTtcbiAgICBUcmVlQnVpbGRlci5wcm90b3R5cGUuY3N0SW52b2NhdGlvblN0YXRlVXBkYXRlID0gZnVuY3Rpb24gKGZ1bGxSdWxlTmFtZSwgc2hvcnROYW1lKSB7XG4gICAgICAgIHZhciBjc3ROb2RlID0ge1xuICAgICAgICAgICAgbmFtZTogZnVsbFJ1bGVOYW1lLFxuICAgICAgICAgICAgY2hpbGRyZW46IHt9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2V0SW5pdGlhbE5vZGVMb2NhdGlvbihjc3ROb2RlKTtcbiAgICAgICAgdGhpcy5DU1RfU1RBQ0sucHVzaChjc3ROb2RlKTtcbiAgICB9O1xuICAgIFRyZWVCdWlsZGVyLnByb3RvdHlwZS5jc3RGaW5hbGx5U3RhdGVVcGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuQ1NUX1NUQUNLLnBvcCgpO1xuICAgIH07XG4gICAgVHJlZUJ1aWxkZXIucHJvdG90eXBlLmNzdFBvc3RSdWxlRnVsbCA9IGZ1bmN0aW9uIChydWxlQ3N0Tm9kZSkge1xuICAgICAgICB2YXIgcHJldlRva2VuID0gdGhpcy5MQSgwKTtcbiAgICAgICAgdmFyIGxvYyA9IHJ1bGVDc3ROb2RlLmxvY2F0aW9uO1xuICAgICAgICAvLyBJZiB0aGlzIGNvbmRpdGlvbiBpcyB0cnVlIGl0IG1lYW5zIHdlIGNvbnN1bWVkIGF0IGxlYXN0IG9uZSBUb2tlblxuICAgICAgICAvLyBJbiB0aGlzIENzdE5vZGUuXG4gICAgICAgIGlmIChsb2Muc3RhcnRPZmZzZXQgPD0gcHJldlRva2VuLnN0YXJ0T2Zmc2V0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICBsb2MuZW5kT2Zmc2V0ID0gcHJldlRva2VuLmVuZE9mZnNldDtcbiAgICAgICAgICAgIGxvYy5lbmRMaW5lID0gcHJldlRva2VuLmVuZExpbmU7XG4gICAgICAgICAgICBsb2MuZW5kQ29sdW1uID0gcHJldlRva2VuLmVuZENvbHVtbjtcbiAgICAgICAgfVxuICAgICAgICAvLyBcImVtcHR5XCIgQ3N0Tm9kZSBlZGdlIGNhc2VcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsb2Muc3RhcnRPZmZzZXQgPSBOYU47XG4gICAgICAgICAgICBsb2Muc3RhcnRMaW5lID0gTmFOO1xuICAgICAgICAgICAgbG9jLnN0YXJ0Q29sdW1uID0gTmFOO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBUcmVlQnVpbGRlci5wcm90b3R5cGUuY3N0UG9zdFJ1bGVPbmx5T2Zmc2V0ID0gZnVuY3Rpb24gKHJ1bGVDc3ROb2RlKSB7XG4gICAgICAgIHZhciBwcmV2VG9rZW4gPSB0aGlzLkxBKDApO1xuICAgICAgICB2YXIgbG9jID0gcnVsZUNzdE5vZGUubG9jYXRpb247XG4gICAgICAgIC8vIElmIHRoaXMgY29uZGl0aW9uIGlzIHRydWUgaXQgbWVhbnMgd2UgY29uc3VtZWQgYXQgbGVhc3Qgb25lIFRva2VuXG4gICAgICAgIC8vIEluIHRoaXMgQ3N0Tm9kZS5cbiAgICAgICAgaWYgKGxvYy5zdGFydE9mZnNldCA8PSBwcmV2VG9rZW4uc3RhcnRPZmZzZXQgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGxvYy5lbmRPZmZzZXQgPSBwcmV2VG9rZW4uZW5kT2Zmc2V0O1xuICAgICAgICB9XG4gICAgICAgIC8vIFwiZW1wdHlcIiBDc3ROb2RlIGVkZ2UgY2FzZVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxvYy5zdGFydE9mZnNldCA9IE5hTjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVHJlZUJ1aWxkZXIucHJvdG90eXBlLmNzdFBvc3RUZXJtaW5hbCA9IGZ1bmN0aW9uIChrZXksIGNvbnN1bWVkVG9rZW4pIHtcbiAgICAgICAgdmFyIHJvb3RDc3QgPSB0aGlzLkNTVF9TVEFDS1t0aGlzLkNTVF9TVEFDSy5sZW5ndGggLSAxXTtcbiAgICAgICAgYWRkVGVybWluYWxUb0NzdChyb290Q3N0LCBjb25zdW1lZFRva2VuLCBrZXkpO1xuICAgICAgICAvLyBUaGlzIGlzIG9ubHkgdXNlZCB3aGVuICoqYm90aCoqIGVycm9yIHJlY292ZXJ5IGFuZCBDU1QgT3V0cHV0IGFyZSBlbmFibGVkLlxuICAgICAgICB0aGlzLnNldE5vZGVMb2NhdGlvbkZyb21Ub2tlbihyb290Q3N0LmxvY2F0aW9uLCBjb25zdW1lZFRva2VuKTtcbiAgICB9O1xuICAgIFRyZWVCdWlsZGVyLnByb3RvdHlwZS5jc3RQb3N0Tm9uVGVybWluYWwgPSBmdW5jdGlvbiAocnVsZUNzdFJlc3VsdCwgcnVsZU5hbWUpIHtcbiAgICAgICAgdmFyIHByZUNzdE5vZGUgPSB0aGlzLkNTVF9TVEFDS1t0aGlzLkNTVF9TVEFDSy5sZW5ndGggLSAxXTtcbiAgICAgICAgYWRkTm9uZVRlcm1pbmFsVG9Dc3QocHJlQ3N0Tm9kZSwgcnVsZU5hbWUsIHJ1bGVDc3RSZXN1bHQpO1xuICAgICAgICAvLyBUaGlzIGlzIG9ubHkgdXNlZCB3aGVuICoqYm90aCoqIGVycm9yIHJlY292ZXJ5IGFuZCBDU1QgT3V0cHV0IGFyZSBlbmFibGVkLlxuICAgICAgICB0aGlzLnNldE5vZGVMb2NhdGlvbkZyb21Ob2RlKHByZUNzdE5vZGUubG9jYXRpb24sIHJ1bGVDc3RSZXN1bHQubG9jYXRpb24pO1xuICAgIH07XG4gICAgVHJlZUJ1aWxkZXIucHJvdG90eXBlLmdldEJhc2VDc3RWaXNpdG9yQ29uc3RydWN0b3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChpc1VuZGVmaW5lZCh0aGlzLmJhc2VDc3RWaXNpdG9yQ29uc3RydWN0b3IpKSB7XG4gICAgICAgICAgICB2YXIgbmV3QmFzZUNzdFZpc2l0b3JDb25zdHJ1Y3RvciA9IGNyZWF0ZUJhc2VTZW1hbnRpY1Zpc2l0b3JDb25zdHJ1Y3Rvcih0aGlzLmNsYXNzTmFtZSwga2V5cyh0aGlzLmdhc3RQcm9kdWN0aW9uc0NhY2hlKSk7XG4gICAgICAgICAgICB0aGlzLmJhc2VDc3RWaXNpdG9yQ29uc3RydWN0b3IgPSBuZXdCYXNlQ3N0VmlzaXRvckNvbnN0cnVjdG9yO1xuICAgICAgICAgICAgcmV0dXJuIG5ld0Jhc2VDc3RWaXNpdG9yQ29uc3RydWN0b3I7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuYmFzZUNzdFZpc2l0b3JDb25zdHJ1Y3RvcjtcbiAgICB9O1xuICAgIFRyZWVCdWlsZGVyLnByb3RvdHlwZS5nZXRCYXNlQ3N0VmlzaXRvckNvbnN0cnVjdG9yV2l0aERlZmF1bHRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoaXNVbmRlZmluZWQodGhpcy5iYXNlQ3N0VmlzaXRvcldpdGhEZWZhdWx0c0NvbnN0cnVjdG9yKSkge1xuICAgICAgICAgICAgdmFyIG5ld0NvbnN0cnVjdG9yID0gY3JlYXRlQmFzZVZpc2l0b3JDb25zdHJ1Y3RvcldpdGhEZWZhdWx0cyh0aGlzLmNsYXNzTmFtZSwga2V5cyh0aGlzLmdhc3RQcm9kdWN0aW9uc0NhY2hlKSwgdGhpcy5nZXRCYXNlQ3N0VmlzaXRvckNvbnN0cnVjdG9yKCkpO1xuICAgICAgICAgICAgdGhpcy5iYXNlQ3N0VmlzaXRvcldpdGhEZWZhdWx0c0NvbnN0cnVjdG9yID0gbmV3Q29uc3RydWN0b3I7XG4gICAgICAgICAgICByZXR1cm4gbmV3Q29uc3RydWN0b3I7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuYmFzZUNzdFZpc2l0b3JXaXRoRGVmYXVsdHNDb25zdHJ1Y3RvcjtcbiAgICB9O1xuICAgIFRyZWVCdWlsZGVyLnByb3RvdHlwZS5nZXRMYXN0RXhwbGljaXRSdWxlU2hvcnROYW1lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcnVsZVN0YWNrID0gdGhpcy5SVUxFX1NUQUNLO1xuICAgICAgICByZXR1cm4gcnVsZVN0YWNrW3J1bGVTdGFjay5sZW5ndGggLSAxXTtcbiAgICB9O1xuICAgIFRyZWVCdWlsZGVyLnByb3RvdHlwZS5nZXRQcmV2aW91c0V4cGxpY2l0UnVsZVNob3J0TmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHJ1bGVTdGFjayA9IHRoaXMuUlVMRV9TVEFDSztcbiAgICAgICAgcmV0dXJuIHJ1bGVTdGFja1tydWxlU3RhY2subGVuZ3RoIC0gMl07XG4gICAgfTtcbiAgICBUcmVlQnVpbGRlci5wcm90b3R5cGUuZ2V0TGFzdEV4cGxpY2l0UnVsZU9jY3VycmVuY2VJbmRleCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG9jY3VycmVuY2VTdGFjayA9IHRoaXMuUlVMRV9PQ0NVUlJFTkNFX1NUQUNLO1xuICAgICAgICByZXR1cm4gb2NjdXJyZW5jZVN0YWNrW29jY3VycmVuY2VTdGFjay5sZW5ndGggLSAxXTtcbiAgICB9O1xuICAgIHJldHVybiBUcmVlQnVpbGRlcjtcbn0oKSk7XG5leHBvcnQgeyBUcmVlQnVpbGRlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHJlZV9idWlsZGVyLmpzLm1hcCIsImltcG9ydCB7IEVORF9PRl9GSUxFIH0gZnJvbSBcIi4uL3BhcnNlclwiO1xuLyoqXG4gKiBUcmFpdCByZXNwb25zaWJsZSBhYnN0cmFjdGluZyBvdmVyIHRoZSBpbnRlcmFjdGlvbiB3aXRoIExleGVyIG91dHB1dCAoVG9rZW4gdmVjdG9yKS5cbiAqXG4gKiBUaGlzIGNvdWxkIGJlIGdlbmVyYWxpemVkIHRvIHN1cHBvcnQgb3RoZXIga2luZHMgb2YgbGV4ZXJzLCBlLmcuXG4gKiAtIEp1c3QgaW4gVGltZSBMZXhpbmcgLyBMZXhlci1MZXNzIHBhcnNpbmcuXG4gKiAtIFN0cmVhbWluZyBMZXhlci5cbiAqL1xudmFyIExleGVyQWRhcHRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBMZXhlckFkYXB0ZXIoKSB7XG4gICAgfVxuICAgIExleGVyQWRhcHRlci5wcm90b3R5cGUuaW5pdExleGVyQWRhcHRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy50b2tWZWN0b3IgPSBbXTtcbiAgICAgICAgdGhpcy50b2tWZWN0b3JMZW5ndGggPSAwO1xuICAgICAgICB0aGlzLmN1cnJJZHggPSAtMTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShMZXhlckFkYXB0ZXIucHJvdG90eXBlLCBcImlucHV0XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50b2tWZWN0b3I7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKG5ld0lucHV0KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zZWxmQW5hbHlzaXNEb25lICE9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJNaXNzaW5nIDxwZXJmb3JtU2VsZkFuYWx5c2lzPiBpbnZvY2F0aW9uIGF0IHRoZSBlbmQgb2YgdGhlIFBhcnNlcidzIGNvbnN0cnVjdG9yLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgICAgIHRoaXMudG9rVmVjdG9yID0gbmV3SW5wdXQ7XG4gICAgICAgICAgICB0aGlzLnRva1ZlY3Rvckxlbmd0aCA9IG5ld0lucHV0Lmxlbmd0aDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLy8gc2tpcHMgYSB0b2tlbiBhbmQgcmV0dXJucyB0aGUgbmV4dCB0b2tlblxuICAgIExleGVyQWRhcHRlci5wcm90b3R5cGUuU0tJUF9UT0tFTiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycklkeCA8PSB0aGlzLnRva1ZlY3Rvci5sZW5ndGggLSAyKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnN1bWVUb2tlbigpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuTEEoMSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gRU5EX09GX0ZJTEU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8vIExleGVyIChhY2Nlc3NpbmcgVG9rZW4gdmVjdG9yKSByZWxhdGVkIG1ldGhvZHMgd2hpY2ggY2FuIGJlIG92ZXJyaWRkZW4gdG8gaW1wbGVtZW50IGxhenkgbGV4ZXJzXG4gICAgLy8gb3IgbGV4ZXJzIGRlcGVuZGVudCBvbiBwYXJzZXIgY29udGV4dC5cbiAgICBMZXhlckFkYXB0ZXIucHJvdG90eXBlLkxBID0gZnVuY3Rpb24gKGhvd011Y2gpIHtcbiAgICAgICAgdmFyIHNvdWdodElkeCA9IHRoaXMuY3VycklkeCArIGhvd011Y2g7XG4gICAgICAgIGlmIChzb3VnaHRJZHggPCAwIHx8IHRoaXMudG9rVmVjdG9yTGVuZ3RoIDw9IHNvdWdodElkeCkge1xuICAgICAgICAgICAgcmV0dXJuIEVORF9PRl9GSUxFO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudG9rVmVjdG9yW3NvdWdodElkeF07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIExleGVyQWRhcHRlci5wcm90b3R5cGUuY29uc3VtZVRva2VuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmN1cnJJZHgrKztcbiAgICB9O1xuICAgIExleGVyQWRhcHRlci5wcm90b3R5cGUuZXhwb3J0TGV4ZXJTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3VycklkeDtcbiAgICB9O1xuICAgIExleGVyQWRhcHRlci5wcm90b3R5cGUuaW1wb3J0TGV4ZXJTdGF0ZSA9IGZ1bmN0aW9uIChuZXdTdGF0ZSkge1xuICAgICAgICB0aGlzLmN1cnJJZHggPSBuZXdTdGF0ZTtcbiAgICB9O1xuICAgIExleGVyQWRhcHRlci5wcm90b3R5cGUucmVzZXRMZXhlclN0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmN1cnJJZHggPSAtMTtcbiAgICB9O1xuICAgIExleGVyQWRhcHRlci5wcm90b3R5cGUubW92ZVRvVGVybWluYXRlZFN0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmN1cnJJZHggPSB0aGlzLnRva1ZlY3Rvci5sZW5ndGggLSAxO1xuICAgIH07XG4gICAgTGV4ZXJBZGFwdGVyLnByb3RvdHlwZS5nZXRMZXhlclBvc2l0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5leHBvcnRMZXhlclN0YXRlKCk7XG4gICAgfTtcbiAgICByZXR1cm4gTGV4ZXJBZGFwdGVyO1xufSgpKTtcbmV4cG9ydCB7IExleGVyQWRhcHRlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGV4ZXJfYWRhcHRlci5qcy5tYXAiLCJpbXBvcnQgeyBjb250YWlucywgdmFsdWVzIH0gZnJvbSBcIi4uLy4uLy4uL3V0aWxzL3V0aWxzXCI7XG5pbXBvcnQgeyBpc1JlY29nbml0aW9uRXhjZXB0aW9uIH0gZnJvbSBcIi4uLy4uL2V4Y2VwdGlvbnNfcHVibGljXCI7XG5pbXBvcnQgeyBERUZBVUxUX1JVTEVfQ09ORklHLCBQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlIH0gZnJvbSBcIi4uL3BhcnNlclwiO1xuaW1wb3J0IHsgZGVmYXVsdEdyYW1tYXJWYWxpZGF0b3JFcnJvclByb3ZpZGVyIH0gZnJvbSBcIi4uLy4uL2Vycm9yc19wdWJsaWNcIjtcbmltcG9ydCB7IHZhbGlkYXRlUnVsZUlzT3ZlcnJpZGRlbiB9IGZyb20gXCIuLi8uLi9ncmFtbWFyL2NoZWNrc1wiO1xuaW1wb3J0IHsgc2VyaWFsaXplR3JhbW1hciB9IGZyb20gXCIuLi8uLi9ncmFtbWFyL2dhc3QvZ2FzdF9wdWJsaWNcIjtcbi8qKlxuICogVGhpcyB0cmFpdCBpcyByZXNwb25zaWJsZSBmb3IgaW1wbGVtZW50aW5nIHRoZSBwdWJsaWMgQVBJXG4gKiBmb3IgZGVmaW5pbmcgQ2hldnJvdGFpbiBwYXJzZXJzLCBpLmU6XG4gKiAtIENPTlNVTUVcbiAqIC0gUlVMRVxuICogLSBPUFRJT05cbiAqIC0gLi4uXG4gKi9cbnZhciBSZWNvZ25pemVyQXBpID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlY29nbml6ZXJBcGkoKSB7XG4gICAgfVxuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLkFDVElPTiA9IGZ1bmN0aW9uIChpbXBsKSB7XG4gICAgICAgIHJldHVybiBpbXBsLmNhbGwodGhpcyk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5jb25zdW1lID0gZnVuY3Rpb24gKGlkeCwgdG9rVHlwZSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25zdW1lSW50ZXJuYWwodG9rVHlwZSwgaWR4LCBvcHRpb25zKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLnN1YnJ1bGUgPSBmdW5jdGlvbiAoaWR4LCBydWxlVG9DYWxsLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN1YnJ1bGVJbnRlcm5hbChydWxlVG9DYWxsLCBpZHgsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUub3B0aW9uID0gZnVuY3Rpb24gKGlkeCwgYWN0aW9uT1JNZXRob2REZWYpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9uSW50ZXJuYWwoYWN0aW9uT1JNZXRob2REZWYsIGlkeCk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5vciA9IGZ1bmN0aW9uIChpZHgsIGFsdHNPck9wdHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3JJbnRlcm5hbChhbHRzT3JPcHRzLCBpZHgpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUubWFueSA9IGZ1bmN0aW9uIChpZHgsIGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hbnlJbnRlcm5hbChpZHgsIGFjdGlvbk9STWV0aG9kRGVmKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLmF0TGVhc3RPbmUgPSBmdW5jdGlvbiAoaWR4LCBhY3Rpb25PUk1ldGhvZERlZikge1xuICAgICAgICByZXR1cm4gdGhpcy5hdExlYXN0T25lSW50ZXJuYWwoaWR4LCBhY3Rpb25PUk1ldGhvZERlZik7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5DT05TVU1FID0gZnVuY3Rpb24gKHRva1R5cGUsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uc3VtZUludGVybmFsKHRva1R5cGUsIDAsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuQ09OU1VNRTEgPSBmdW5jdGlvbiAodG9rVHlwZSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25zdW1lSW50ZXJuYWwodG9rVHlwZSwgMSwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5DT05TVU1FMiA9IGZ1bmN0aW9uICh0b2tUeXBlLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnN1bWVJbnRlcm5hbCh0b2tUeXBlLCAyLCBvcHRpb25zKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLkNPTlNVTUUzID0gZnVuY3Rpb24gKHRva1R5cGUsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uc3VtZUludGVybmFsKHRva1R5cGUsIDMsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuQ09OU1VNRTQgPSBmdW5jdGlvbiAodG9rVHlwZSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25zdW1lSW50ZXJuYWwodG9rVHlwZSwgNCwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5DT05TVU1FNSA9IGZ1bmN0aW9uICh0b2tUeXBlLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnN1bWVJbnRlcm5hbCh0b2tUeXBlLCA1LCBvcHRpb25zKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLkNPTlNVTUU2ID0gZnVuY3Rpb24gKHRva1R5cGUsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uc3VtZUludGVybmFsKHRva1R5cGUsIDYsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuQ09OU1VNRTcgPSBmdW5jdGlvbiAodG9rVHlwZSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25zdW1lSW50ZXJuYWwodG9rVHlwZSwgNywgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5DT05TVU1FOCA9IGZ1bmN0aW9uICh0b2tUeXBlLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnN1bWVJbnRlcm5hbCh0b2tUeXBlLCA4LCBvcHRpb25zKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLkNPTlNVTUU5ID0gZnVuY3Rpb24gKHRva1R5cGUsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uc3VtZUludGVybmFsKHRva1R5cGUsIDksIG9wdGlvbnMpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuU1VCUlVMRSA9IGZ1bmN0aW9uIChydWxlVG9DYWxsLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN1YnJ1bGVJbnRlcm5hbChydWxlVG9DYWxsLCAwLCBvcHRpb25zKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLlNVQlJVTEUxID0gZnVuY3Rpb24gKHJ1bGVUb0NhbGwsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3VicnVsZUludGVybmFsKHJ1bGVUb0NhbGwsIDEsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuU1VCUlVMRTIgPSBmdW5jdGlvbiAocnVsZVRvQ2FsbCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5zdWJydWxlSW50ZXJuYWwocnVsZVRvQ2FsbCwgMiwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5TVUJSVUxFMyA9IGZ1bmN0aW9uIChydWxlVG9DYWxsLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN1YnJ1bGVJbnRlcm5hbChydWxlVG9DYWxsLCAzLCBvcHRpb25zKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLlNVQlJVTEU0ID0gZnVuY3Rpb24gKHJ1bGVUb0NhbGwsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3VicnVsZUludGVybmFsKHJ1bGVUb0NhbGwsIDQsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuU1VCUlVMRTUgPSBmdW5jdGlvbiAocnVsZVRvQ2FsbCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5zdWJydWxlSW50ZXJuYWwocnVsZVRvQ2FsbCwgNSwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5TVUJSVUxFNiA9IGZ1bmN0aW9uIChydWxlVG9DYWxsLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN1YnJ1bGVJbnRlcm5hbChydWxlVG9DYWxsLCA2LCBvcHRpb25zKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLlNVQlJVTEU3ID0gZnVuY3Rpb24gKHJ1bGVUb0NhbGwsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3VicnVsZUludGVybmFsKHJ1bGVUb0NhbGwsIDcsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuU1VCUlVMRTggPSBmdW5jdGlvbiAocnVsZVRvQ2FsbCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5zdWJydWxlSW50ZXJuYWwocnVsZVRvQ2FsbCwgOCwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5TVUJSVUxFOSA9IGZ1bmN0aW9uIChydWxlVG9DYWxsLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN1YnJ1bGVJbnRlcm5hbChydWxlVG9DYWxsLCA5LCBvcHRpb25zKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLk9QVElPTiA9IGZ1bmN0aW9uIChhY3Rpb25PUk1ldGhvZERlZikge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25JbnRlcm5hbChhY3Rpb25PUk1ldGhvZERlZiwgMCk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5PUFRJT04xID0gZnVuY3Rpb24gKGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbkludGVybmFsKGFjdGlvbk9STWV0aG9kRGVmLCAxKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLk9QVElPTjIgPSBmdW5jdGlvbiAoYWN0aW9uT1JNZXRob2REZWYpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9uSW50ZXJuYWwoYWN0aW9uT1JNZXRob2REZWYsIDIpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuT1BUSU9OMyA9IGZ1bmN0aW9uIChhY3Rpb25PUk1ldGhvZERlZikge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25JbnRlcm5hbChhY3Rpb25PUk1ldGhvZERlZiwgMyk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5PUFRJT040ID0gZnVuY3Rpb24gKGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbkludGVybmFsKGFjdGlvbk9STWV0aG9kRGVmLCA0KTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLk9QVElPTjUgPSBmdW5jdGlvbiAoYWN0aW9uT1JNZXRob2REZWYpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9uSW50ZXJuYWwoYWN0aW9uT1JNZXRob2REZWYsIDUpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuT1BUSU9ONiA9IGZ1bmN0aW9uIChhY3Rpb25PUk1ldGhvZERlZikge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25JbnRlcm5hbChhY3Rpb25PUk1ldGhvZERlZiwgNik7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5PUFRJT043ID0gZnVuY3Rpb24gKGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbkludGVybmFsKGFjdGlvbk9STWV0aG9kRGVmLCA3KTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLk9QVElPTjggPSBmdW5jdGlvbiAoYWN0aW9uT1JNZXRob2REZWYpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9uSW50ZXJuYWwoYWN0aW9uT1JNZXRob2REZWYsIDgpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuT1BUSU9OOSA9IGZ1bmN0aW9uIChhY3Rpb25PUk1ldGhvZERlZikge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25JbnRlcm5hbChhY3Rpb25PUk1ldGhvZERlZiwgOSk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5PUiA9IGZ1bmN0aW9uIChhbHRzT3JPcHRzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9ySW50ZXJuYWwoYWx0c09yT3B0cywgMCk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5PUjEgPSBmdW5jdGlvbiAoYWx0c09yT3B0cykge1xuICAgICAgICByZXR1cm4gdGhpcy5vckludGVybmFsKGFsdHNPck9wdHMsIDEpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuT1IyID0gZnVuY3Rpb24gKGFsdHNPck9wdHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3JJbnRlcm5hbChhbHRzT3JPcHRzLCAyKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLk9SMyA9IGZ1bmN0aW9uIChhbHRzT3JPcHRzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9ySW50ZXJuYWwoYWx0c09yT3B0cywgMyk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5PUjQgPSBmdW5jdGlvbiAoYWx0c09yT3B0cykge1xuICAgICAgICByZXR1cm4gdGhpcy5vckludGVybmFsKGFsdHNPck9wdHMsIDQpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuT1I1ID0gZnVuY3Rpb24gKGFsdHNPck9wdHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3JJbnRlcm5hbChhbHRzT3JPcHRzLCA1KTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLk9SNiA9IGZ1bmN0aW9uIChhbHRzT3JPcHRzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9ySW50ZXJuYWwoYWx0c09yT3B0cywgNik7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5PUjcgPSBmdW5jdGlvbiAoYWx0c09yT3B0cykge1xuICAgICAgICByZXR1cm4gdGhpcy5vckludGVybmFsKGFsdHNPck9wdHMsIDcpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuT1I4ID0gZnVuY3Rpb24gKGFsdHNPck9wdHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3JJbnRlcm5hbChhbHRzT3JPcHRzLCA4KTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLk9SOSA9IGZ1bmN0aW9uIChhbHRzT3JPcHRzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9ySW50ZXJuYWwoYWx0c09yT3B0cywgOSk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5NQU5ZID0gZnVuY3Rpb24gKGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHRoaXMubWFueUludGVybmFsKDAsIGFjdGlvbk9STWV0aG9kRGVmKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLk1BTlkxID0gZnVuY3Rpb24gKGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHRoaXMubWFueUludGVybmFsKDEsIGFjdGlvbk9STWV0aG9kRGVmKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLk1BTlkyID0gZnVuY3Rpb24gKGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHRoaXMubWFueUludGVybmFsKDIsIGFjdGlvbk9STWV0aG9kRGVmKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLk1BTlkzID0gZnVuY3Rpb24gKGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHRoaXMubWFueUludGVybmFsKDMsIGFjdGlvbk9STWV0aG9kRGVmKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLk1BTlk0ID0gZnVuY3Rpb24gKGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHRoaXMubWFueUludGVybmFsKDQsIGFjdGlvbk9STWV0aG9kRGVmKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLk1BTlk1ID0gZnVuY3Rpb24gKGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHRoaXMubWFueUludGVybmFsKDUsIGFjdGlvbk9STWV0aG9kRGVmKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLk1BTlk2ID0gZnVuY3Rpb24gKGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHRoaXMubWFueUludGVybmFsKDYsIGFjdGlvbk9STWV0aG9kRGVmKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLk1BTlk3ID0gZnVuY3Rpb24gKGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHRoaXMubWFueUludGVybmFsKDcsIGFjdGlvbk9STWV0aG9kRGVmKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLk1BTlk4ID0gZnVuY3Rpb24gKGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHRoaXMubWFueUludGVybmFsKDgsIGFjdGlvbk9STWV0aG9kRGVmKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLk1BTlk5ID0gZnVuY3Rpb24gKGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHRoaXMubWFueUludGVybmFsKDksIGFjdGlvbk9STWV0aG9kRGVmKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLk1BTllfU0VQID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5tYW55U2VwRmlyc3RJbnRlcm5hbCgwLCBvcHRpb25zKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLk1BTllfU0VQMSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHRoaXMubWFueVNlcEZpcnN0SW50ZXJuYWwoMSwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5NQU5ZX1NFUDIgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB0aGlzLm1hbnlTZXBGaXJzdEludGVybmFsKDIsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuTUFOWV9TRVAzID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5tYW55U2VwRmlyc3RJbnRlcm5hbCgzLCBvcHRpb25zKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLk1BTllfU0VQNCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHRoaXMubWFueVNlcEZpcnN0SW50ZXJuYWwoNCwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5NQU5ZX1NFUDUgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB0aGlzLm1hbnlTZXBGaXJzdEludGVybmFsKDUsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuTUFOWV9TRVA2ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5tYW55U2VwRmlyc3RJbnRlcm5hbCg2LCBvcHRpb25zKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLk1BTllfU0VQNyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHRoaXMubWFueVNlcEZpcnN0SW50ZXJuYWwoNywgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5NQU5ZX1NFUDggPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB0aGlzLm1hbnlTZXBGaXJzdEludGVybmFsKDgsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuTUFOWV9TRVA5ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5tYW55U2VwRmlyc3RJbnRlcm5hbCg5LCBvcHRpb25zKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLkFUX0xFQVNUX09ORSA9IGZ1bmN0aW9uIChhY3Rpb25PUk1ldGhvZERlZikge1xuICAgICAgICB0aGlzLmF0TGVhc3RPbmVJbnRlcm5hbCgwLCBhY3Rpb25PUk1ldGhvZERlZik7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5BVF9MRUFTVF9PTkUxID0gZnVuY3Rpb24gKGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmF0TGVhc3RPbmVJbnRlcm5hbCgxLCBhY3Rpb25PUk1ldGhvZERlZik7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5BVF9MRUFTVF9PTkUyID0gZnVuY3Rpb24gKGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHRoaXMuYXRMZWFzdE9uZUludGVybmFsKDIsIGFjdGlvbk9STWV0aG9kRGVmKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLkFUX0xFQVNUX09ORTMgPSBmdW5jdGlvbiAoYWN0aW9uT1JNZXRob2REZWYpIHtcbiAgICAgICAgdGhpcy5hdExlYXN0T25lSW50ZXJuYWwoMywgYWN0aW9uT1JNZXRob2REZWYpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuQVRfTEVBU1RfT05FNCA9IGZ1bmN0aW9uIChhY3Rpb25PUk1ldGhvZERlZikge1xuICAgICAgICB0aGlzLmF0TGVhc3RPbmVJbnRlcm5hbCg0LCBhY3Rpb25PUk1ldGhvZERlZik7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5BVF9MRUFTVF9PTkU1ID0gZnVuY3Rpb24gKGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHRoaXMuYXRMZWFzdE9uZUludGVybmFsKDUsIGFjdGlvbk9STWV0aG9kRGVmKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLkFUX0xFQVNUX09ORTYgPSBmdW5jdGlvbiAoYWN0aW9uT1JNZXRob2REZWYpIHtcbiAgICAgICAgdGhpcy5hdExlYXN0T25lSW50ZXJuYWwoNiwgYWN0aW9uT1JNZXRob2REZWYpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuQVRfTEVBU1RfT05FNyA9IGZ1bmN0aW9uIChhY3Rpb25PUk1ldGhvZERlZikge1xuICAgICAgICB0aGlzLmF0TGVhc3RPbmVJbnRlcm5hbCg3LCBhY3Rpb25PUk1ldGhvZERlZik7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5BVF9MRUFTVF9PTkU4ID0gZnVuY3Rpb24gKGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHRoaXMuYXRMZWFzdE9uZUludGVybmFsKDgsIGFjdGlvbk9STWV0aG9kRGVmKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLkFUX0xFQVNUX09ORTkgPSBmdW5jdGlvbiAoYWN0aW9uT1JNZXRob2REZWYpIHtcbiAgICAgICAgdGhpcy5hdExlYXN0T25lSW50ZXJuYWwoOSwgYWN0aW9uT1JNZXRob2REZWYpO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuQVRfTEVBU1RfT05FX1NFUCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuYXRMZWFzdE9uZVNlcEZpcnN0SW50ZXJuYWwoMCwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5BVF9MRUFTVF9PTkVfU0VQMSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuYXRMZWFzdE9uZVNlcEZpcnN0SW50ZXJuYWwoMSwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5BVF9MRUFTVF9PTkVfU0VQMiA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuYXRMZWFzdE9uZVNlcEZpcnN0SW50ZXJuYWwoMiwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5BVF9MRUFTVF9PTkVfU0VQMyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuYXRMZWFzdE9uZVNlcEZpcnN0SW50ZXJuYWwoMywgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5BVF9MRUFTVF9PTkVfU0VQNCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuYXRMZWFzdE9uZVNlcEZpcnN0SW50ZXJuYWwoNCwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5BVF9MRUFTVF9PTkVfU0VQNSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuYXRMZWFzdE9uZVNlcEZpcnN0SW50ZXJuYWwoNSwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5BVF9MRUFTVF9PTkVfU0VQNiA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuYXRMZWFzdE9uZVNlcEZpcnN0SW50ZXJuYWwoNiwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5BVF9MRUFTVF9PTkVfU0VQNyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuYXRMZWFzdE9uZVNlcEZpcnN0SW50ZXJuYWwoNywgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5BVF9MRUFTVF9PTkVfU0VQOCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuYXRMZWFzdE9uZVNlcEZpcnN0SW50ZXJuYWwoOCwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5BVF9MRUFTVF9PTkVfU0VQOSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuYXRMZWFzdE9uZVNlcEZpcnN0SW50ZXJuYWwoOSwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5SVUxFID0gZnVuY3Rpb24gKG5hbWUsIGltcGxlbWVudGF0aW9uLCBjb25maWcpIHtcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IERFRkFVTFRfUlVMRV9DT05GSUc7IH1cbiAgICAgICAgaWYgKGNvbnRhaW5zKHRoaXMuZGVmaW5lZFJ1bGVzTmFtZXMsIG5hbWUpKSB7XG4gICAgICAgICAgICB2YXIgZXJyTXNnID0gZGVmYXVsdEdyYW1tYXJWYWxpZGF0b3JFcnJvclByb3ZpZGVyLmJ1aWxkRHVwbGljYXRlUnVsZU5hbWVFcnJvcih7XG4gICAgICAgICAgICAgICAgdG9wTGV2ZWxSdWxlOiBuYW1lLFxuICAgICAgICAgICAgICAgIGdyYW1tYXJOYW1lOiB0aGlzLmNsYXNzTmFtZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgZXJyb3IgPSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogZXJyTXNnLFxuICAgICAgICAgICAgICAgIHR5cGU6IFBhcnNlckRlZmluaXRpb25FcnJvclR5cGUuRFVQTElDQVRFX1JVTEVfTkFNRSxcbiAgICAgICAgICAgICAgICBydWxlTmFtZTogbmFtZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuZGVmaW5pdGlvbkVycm9ycy5wdXNoKGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlZmluZWRSdWxlc05hbWVzLnB1c2gobmFtZSk7XG4gICAgICAgIHZhciBydWxlSW1wbGVtZW50YXRpb24gPSB0aGlzLmRlZmluZVJ1bGUobmFtZSwgaW1wbGVtZW50YXRpb24sIGNvbmZpZyk7XG4gICAgICAgIHRoaXNbbmFtZV0gPSBydWxlSW1wbGVtZW50YXRpb247XG4gICAgICAgIHJldHVybiBydWxlSW1wbGVtZW50YXRpb247XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5PVkVSUklERV9SVUxFID0gZnVuY3Rpb24gKG5hbWUsIGltcGwsIGNvbmZpZykge1xuICAgICAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0gREVGQVVMVF9SVUxFX0NPTkZJRzsgfVxuICAgICAgICB2YXIgcnVsZUVycm9ycyA9IFtdO1xuICAgICAgICBydWxlRXJyb3JzID0gcnVsZUVycm9ycy5jb25jYXQodmFsaWRhdGVSdWxlSXNPdmVycmlkZGVuKG5hbWUsIHRoaXMuZGVmaW5lZFJ1bGVzTmFtZXMsIHRoaXMuY2xhc3NOYW1lKSk7XG4gICAgICAgIHRoaXMuZGVmaW5pdGlvbkVycm9ycy5wdXNoLmFwcGx5KHRoaXMuZGVmaW5pdGlvbkVycm9ycywgcnVsZUVycm9ycyk7IC8vIG11dGFiaWxpdHkgZm9yIHRoZSB3aW5cbiAgICAgICAgdmFyIHJ1bGVJbXBsZW1lbnRhdGlvbiA9IHRoaXMuZGVmaW5lUnVsZShuYW1lLCBpbXBsLCBjb25maWcpO1xuICAgICAgICB0aGlzW25hbWVdID0gcnVsZUltcGxlbWVudGF0aW9uO1xuICAgICAgICByZXR1cm4gcnVsZUltcGxlbWVudGF0aW9uO1xuICAgIH07XG4gICAgUmVjb2duaXplckFwaS5wcm90b3R5cGUuQkFDS1RSQUNLID0gZnVuY3Rpb24gKGdyYW1tYXJSdWxlLCBhcmdzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyBzYXZlIG9yZyBzdGF0ZVxuICAgICAgICAgICAgdGhpcy5pc0JhY2tUcmFja2luZ1N0YWNrLnB1c2goMSk7XG4gICAgICAgICAgICB2YXIgb3JnU3RhdGUgPSB0aGlzLnNhdmVSZWNvZ1N0YXRlKCk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGdyYW1tYXJSdWxlLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICAgICAgICAgIC8vIGlmIG5vIGV4Y2VwdGlvbiB3YXMgdGhyb3duIHdlIGhhdmUgc3VjY2VlZCBwYXJzaW5nIHRoZSBydWxlLlxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNSZWNvZ25pdGlvbkV4Y2VwdGlvbihlKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVsb2FkUmVjb2dTdGF0ZShvcmdTdGF0ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5pc0JhY2tUcmFja2luZ1N0YWNrLnBvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH07XG4gICAgLy8gR0FTVCBleHBvcnQgQVBJc1xuICAgIFJlY29nbml6ZXJBcGkucHJvdG90eXBlLmdldEdBc3RQcm9kdWN0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2FzdFByb2R1Y3Rpb25zQ2FjaGU7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyQXBpLnByb3RvdHlwZS5nZXRTZXJpYWxpemVkR2FzdFByb2R1Y3Rpb25zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gc2VyaWFsaXplR3JhbW1hcih2YWx1ZXModGhpcy5nYXN0UHJvZHVjdGlvbnNDYWNoZSkpO1xuICAgIH07XG4gICAgcmV0dXJuIFJlY29nbml6ZXJBcGk7XG59KCkpO1xuZXhwb3J0IHsgUmVjb2duaXplckFwaSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVjb2duaXplcl9hcGkuanMubWFwIiwiaW1wb3J0IHsgY2xvbmVBcnIsIGNsb25lT2JqLCBldmVyeSwgZmxhdHRlbiwgaGFzLCBpc0FycmF5LCBpc0VtcHR5LCBpc09iamVjdCwgcmVkdWNlLCB1bmlxLCB2YWx1ZXMgfSBmcm9tIFwiLi4vLi4vLi4vdXRpbHMvdXRpbHNcIjtcbmltcG9ydCB7IEFUX0xFQVNUX09ORV9JRFgsIEFUX0xFQVNUX09ORV9TRVBfSURYLCBCSVRTX0ZPUl9NRVRIT0RfVFlQRSwgQklUU19GT1JfT0NDVVJSRU5DRV9JRFgsIE1BTllfSURYLCBNQU5ZX1NFUF9JRFgsIE9QVElPTl9JRFgsIE9SX0lEWCB9IGZyb20gXCIuLi8uLi9ncmFtbWFyL2tleXNcIjtcbmltcG9ydCB7IGlzUmVjb2duaXRpb25FeGNlcHRpb24sIE1pc21hdGNoZWRUb2tlbkV4Y2VwdGlvbiwgTm90QWxsSW5wdXRQYXJzZWRFeGNlcHRpb24gfSBmcm9tIFwiLi4vLi4vZXhjZXB0aW9uc19wdWJsaWNcIjtcbmltcG9ydCB7IFBST0RfVFlQRSB9IGZyb20gXCIuLi8uLi9ncmFtbWFyL2xvb2thaGVhZFwiO1xuaW1wb3J0IHsgTmV4dFRlcm1pbmFsQWZ0ZXJBdExlYXN0T25lU2VwV2Fsa2VyLCBOZXh0VGVybWluYWxBZnRlckF0TGVhc3RPbmVXYWxrZXIsIE5leHRUZXJtaW5hbEFmdGVyTWFueVNlcFdhbGtlciwgTmV4dFRlcm1pbmFsQWZ0ZXJNYW55V2Fsa2VyIH0gZnJvbSBcIi4uLy4uL2dyYW1tYXIvaW50ZXJwcmV0ZXJcIjtcbmltcG9ydCB7IERFRkFVTFRfUlVMRV9DT05GSUcgfSBmcm9tIFwiLi4vcGFyc2VyXCI7XG5pbXBvcnQgeyBJTl9SVUxFX1JFQ09WRVJZX0VYQ0VQVElPTiB9IGZyb20gXCIuL3JlY292ZXJhYmxlXCI7XG5pbXBvcnQgeyBFT0YgfSBmcm9tIFwiLi4vLi4vLi4vc2Nhbi90b2tlbnNfcHVibGljXCI7XG5pbXBvcnQgeyBhdWdtZW50VG9rZW5UeXBlcywgaXNUb2tlblR5cGUsIHRva2VuU3RydWN0dXJlZE1hdGNoZXIsIHRva2VuU3RydWN0dXJlZE1hdGNoZXJOb0NhdGVnb3JpZXMgfSBmcm9tIFwiLi4vLi4vLi4vc2Nhbi90b2tlbnNcIjtcbmltcG9ydCB7IGNsYXNzTmFtZUZyb21JbnN0YW5jZSB9IGZyb20gXCIuLi8uLi8uLi9sYW5nL2xhbmdfZXh0ZW5zaW9uc1wiO1xuLyoqXG4gKiBUaGlzIHRyYWl0IGlzIHJlc3BvbnNpYmxlIGZvciB0aGUgcnVudGltZSBwYXJzaW5nIGVuZ2luZVxuICogVXNlZCBieSB0aGUgb2ZmaWNpYWwgQVBJIChyZWNvZ25pemVyX2FwaS50cylcbiAqL1xudmFyIFJlY29nbml6ZXJFbmdpbmUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVjb2duaXplckVuZ2luZSgpIHtcbiAgICB9XG4gICAgUmVjb2duaXplckVuZ2luZS5wcm90b3R5cGUuaW5pdFJlY29nbml6ZXJFbmdpbmUgPSBmdW5jdGlvbiAodG9rZW5Wb2NhYnVsYXJ5LCBjb25maWcpIHtcbiAgICAgICAgdGhpcy5jbGFzc05hbWUgPSBjbGFzc05hbWVGcm9tSW5zdGFuY2UodGhpcyk7XG4gICAgICAgIC8vIFRPRE86IHdvdWxkIHVzaW5nIGFuIEVTNiBNYXAgb3IgcGxhaW4gb2JqZWN0IGJlIGZhc3RlciAoQ1NUIGJ1aWxkaW5nIHNjZW5hcmlvKVxuICAgICAgICB0aGlzLnNob3J0UnVsZU5hbWVUb0Z1bGwgPSB7fTtcbiAgICAgICAgdGhpcy5mdWxsUnVsZU5hbWVUb1Nob3J0ID0ge307XG4gICAgICAgIHRoaXMucnVsZVNob3J0TmFtZUlkeCA9IDI1NjtcbiAgICAgICAgdGhpcy50b2tlbk1hdGNoZXIgPSB0b2tlblN0cnVjdHVyZWRNYXRjaGVyTm9DYXRlZ29yaWVzO1xuICAgICAgICB0aGlzLmRlZmluZWRSdWxlc05hbWVzID0gW107XG4gICAgICAgIHRoaXMudG9rZW5zTWFwID0ge307XG4gICAgICAgIHRoaXMuaXNCYWNrVHJhY2tpbmdTdGFjayA9IFtdO1xuICAgICAgICB0aGlzLlJVTEVfU1RBQ0sgPSBbXTtcbiAgICAgICAgdGhpcy5SVUxFX09DQ1VSUkVOQ0VfU1RBQ0sgPSBbXTtcbiAgICAgICAgdGhpcy5nYXN0UHJvZHVjdGlvbnNDYWNoZSA9IHt9O1xuICAgICAgICBpZiAoaGFzKGNvbmZpZywgXCJzZXJpYWxpemVkR3JhbW1hclwiKSkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJUaGUgUGFyc2VyJ3MgY29uZmlndXJhdGlvbiBjYW4gbm8gbG9uZ2VyIGNvbnRhaW4gYSA8c2VyaWFsaXplZEdyYW1tYXI+IHByb3BlcnR5LlxcblwiICtcbiAgICAgICAgICAgICAgICBcIlxcdFNlZTogaHR0cHM6Ly9zYXAuZ2l0aHViLmlvL2NoZXZyb3RhaW4vZG9jcy9jaGFuZ2VzL0JSRUFLSU5HX0NIQU5HRVMuaHRtbCNfNi0wLTBcXG5cIiArXG4gICAgICAgICAgICAgICAgXCJcXHRGb3IgRnVydGhlciBkZXRhaWxzLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNBcnJheSh0b2tlblZvY2FidWxhcnkpKSB7XG4gICAgICAgICAgICAvLyBUaGlzIG9ubHkgY2hlY2tzIGZvciBUb2tlbiB2b2NhYnVsYXJpZXMgcHJvdmlkZWQgYXMgYXJyYXlzLlxuICAgICAgICAgICAgLy8gVGhhdCBpcyBnb29kIGVub3VnaCBiZWNhdXNlIHRoZSBtYWluIG9iamVjdGl2ZSBpcyB0byBkZXRlY3QgdXNlcnMgb2YgcHJlLVY0LjAgQVBJc1xuICAgICAgICAgICAgLy8gcmF0aGVyIHRoYW4gYWxsIGVkZ2UgY2FzZXMgb2YgZW1wdHkgVG9rZW4gdm9jYWJ1bGFyaWVzLlxuICAgICAgICAgICAgaWYgKGlzRW1wdHkodG9rZW5Wb2NhYnVsYXJ5KSkge1xuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwiQSBUb2tlbiBWb2NhYnVsYXJ5IGNhbm5vdCBiZSBlbXB0eS5cXG5cIiArXG4gICAgICAgICAgICAgICAgICAgIFwiXFx0Tm90ZSB0aGF0IHRoZSBmaXJzdCBhcmd1bWVudCBmb3IgdGhlIHBhcnNlciBjb25zdHJ1Y3RvclxcblwiICtcbiAgICAgICAgICAgICAgICAgICAgXCJcXHRpcyBubyBsb25nZXIgYSBUb2tlbiB2ZWN0b3IgKHNpbmNlIHY0LjApLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgdG9rZW5Wb2NhYnVsYXJ5WzBdLnN0YXJ0T2Zmc2V0ID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJUaGUgUGFyc2VyIGNvbnN0cnVjdG9yIG5vIGxvbmdlciBhY2NlcHRzIGEgdG9rZW4gdmVjdG9yIGFzIHRoZSBmaXJzdCBhcmd1bWVudC5cXG5cIiArXG4gICAgICAgICAgICAgICAgICAgIFwiXFx0U2VlOiBodHRwczovL3NhcC5naXRodWIuaW8vY2hldnJvdGFpbi9kb2NzL2NoYW5nZXMvQlJFQUtJTkdfQ0hBTkdFUy5odG1sI180LTAtMFxcblwiICtcbiAgICAgICAgICAgICAgICAgICAgXCJcXHRGb3IgRnVydGhlciBkZXRhaWxzLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNBcnJheSh0b2tlblZvY2FidWxhcnkpKSB7XG4gICAgICAgICAgICB0aGlzLnRva2Vuc01hcCA9IHJlZHVjZSh0b2tlblZvY2FidWxhcnksIGZ1bmN0aW9uIChhY2MsIHRva1R5cGUpIHtcbiAgICAgICAgICAgICAgICBhY2NbdG9rVHlwZS5uYW1lXSA9IHRva1R5cGU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgICAgIH0sIHt9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChoYXModG9rZW5Wb2NhYnVsYXJ5LCBcIm1vZGVzXCIpICYmXG4gICAgICAgICAgICBldmVyeShmbGF0dGVuKHZhbHVlcyh0b2tlblZvY2FidWxhcnkubW9kZXMpKSwgaXNUb2tlblR5cGUpKSB7XG4gICAgICAgICAgICB2YXIgYWxsVG9rZW5UeXBlcyA9IGZsYXR0ZW4odmFsdWVzKHRva2VuVm9jYWJ1bGFyeS5tb2RlcykpO1xuICAgICAgICAgICAgdmFyIHVuaXF1ZVRva2VucyA9IHVuaXEoYWxsVG9rZW5UeXBlcyk7XG4gICAgICAgICAgICB0aGlzLnRva2Vuc01hcCA9IHJlZHVjZSh1bmlxdWVUb2tlbnMsIGZ1bmN0aW9uIChhY2MsIHRva1R5cGUpIHtcbiAgICAgICAgICAgICAgICBhY2NbdG9rVHlwZS5uYW1lXSA9IHRva1R5cGU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgICAgIH0sIHt9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc09iamVjdCh0b2tlblZvY2FidWxhcnkpKSB7XG4gICAgICAgICAgICB0aGlzLnRva2Vuc01hcCA9IGNsb25lT2JqKHRva2VuVm9jYWJ1bGFyeSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCI8dG9rZW5zRGljdGlvbmFyeT4gYXJndW1lbnQgbXVzdCBiZSBBbiBBcnJheSBvZiBUb2tlbiBjb25zdHJ1Y3RvcnMsXCIgK1xuICAgICAgICAgICAgICAgIFwiIEEgZGljdGlvbmFyeSBvZiBUb2tlbiBjb25zdHJ1Y3RvcnMgb3IgYW4gSU11bHRpTW9kZUxleGVyRGVmaW5pdGlvblwiKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBhbHdheXMgYWRkIEVPRiB0byB0aGUgdG9rZW5OYW1lcyAtPiBjb25zdHJ1Y3RvcnMgbWFwLiBpdCBpcyB1c2VmdWwgdG8gYXNzdXJlIGFsbCB0aGUgaW5wdXQgaGFzIGJlZW5cbiAgICAgICAgLy8gcGFyc2VkIHdpdGggYSBjbGVhciBlcnJvciBtZXNzYWdlIChcImV4cGVjdGluZyBFT0YgYnV0IGZvdW5kIC4uLlwiKVxuICAgICAgICAvKiB0c2xpbnQ6ZGlzYWJsZSAqL1xuICAgICAgICB0aGlzLnRva2Vuc01hcFtcIkVPRlwiXSA9IEVPRjtcbiAgICAgICAgLy8gVE9ETzogVGhpcyBjaGVjayBtYXkgbm90IGJlIGFjY3VyYXRlIGZvciBtdWx0aSBtb2RlIGxleGVyc1xuICAgICAgICB2YXIgbm9Ub2tlbkNhdGVnb3JpZXNVc2VkID0gZXZlcnkodmFsdWVzKHRva2VuVm9jYWJ1bGFyeSksIGZ1bmN0aW9uICh0b2tlbkNvbnN0cnVjdG9yKSB7IHJldHVybiBpc0VtcHR5KHRva2VuQ29uc3RydWN0b3IuY2F0ZWdvcnlNYXRjaGVzKTsgfSk7XG4gICAgICAgIHRoaXMudG9rZW5NYXRjaGVyID0gbm9Ub2tlbkNhdGVnb3JpZXNVc2VkXG4gICAgICAgICAgICA/IHRva2VuU3RydWN0dXJlZE1hdGNoZXJOb0NhdGVnb3JpZXNcbiAgICAgICAgICAgIDogdG9rZW5TdHJ1Y3R1cmVkTWF0Y2hlcjtcbiAgICAgICAgLy8gQmVjYXVzZSBFUzIwMTUrIHN5bnRheCBzaG91bGQgYmUgc3VwcG9ydGVkIGZvciBjcmVhdGluZyBUb2tlbiBjbGFzc2VzXG4gICAgICAgIC8vIFdlIGNhbm5vdCBhc3N1bWUgdGhhdCB0aGUgVG9rZW4gY2xhc3NlcyB3ZXJlIGNyZWF0ZWQgdXNpbmcgdGhlIFwiZXh0ZW5kVG9rZW5cIiB1dGlsaXRpZXNcbiAgICAgICAgLy8gVGhlcmVmb3JlIHdlIG11c3QgYXVnbWVudCB0aGUgVG9rZW4gY2xhc3NlcyBib3RoIG9uIExleGVyIGluaXRpYWxpemF0aW9uIGFuZCBvbiBQYXJzZXIgaW5pdGlhbGl6YXRpb25cbiAgICAgICAgYXVnbWVudFRva2VuVHlwZXModmFsdWVzKHRoaXMudG9rZW5zTWFwKSk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyRW5naW5lLnByb3RvdHlwZS5kZWZpbmVSdWxlID0gZnVuY3Rpb24gKHJ1bGVOYW1lLCBpbXBsLCBjb25maWcpIHtcbiAgICAgICAgaWYgKHRoaXMuc2VsZkFuYWx5c2lzRG9uZSkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJHcmFtbWFyIHJ1bGUgPFwiICsgcnVsZU5hbWUgKyBcIj4gbWF5IG5vdCBiZSBkZWZpbmVkIGFmdGVyIHRoZSAncGVyZm9ybVNlbGZBbmFseXNpcycgbWV0aG9kIGhhcyBiZWVuIGNhbGxlZCdcXG5cIiArXG4gICAgICAgICAgICAgICAgXCJNYWtlIHN1cmUgdGhhdCBhbGwgZ3JhbW1hciBydWxlIGRlZmluaXRpb25zIGFyZSBkb25lIGJlZm9yZSAncGVyZm9ybVNlbGZBbmFseXNpcycgaXMgY2FsbGVkLlwiKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVzeW5jRW5hYmxlZCA9IGhhcyhjb25maWcsIFwicmVzeW5jRW5hYmxlZFwiKVxuICAgICAgICAgICAgPyBjb25maWcucmVzeW5jRW5hYmxlZFxuICAgICAgICAgICAgOiBERUZBVUxUX1JVTEVfQ09ORklHLnJlc3luY0VuYWJsZWQ7XG4gICAgICAgIHZhciByZWNvdmVyeVZhbHVlRnVuYyA9IGhhcyhjb25maWcsIFwicmVjb3ZlcnlWYWx1ZUZ1bmNcIilcbiAgICAgICAgICAgID8gY29uZmlnLnJlY292ZXJ5VmFsdWVGdW5jXG4gICAgICAgICAgICA6IERFRkFVTFRfUlVMRV9DT05GSUcucmVjb3ZlcnlWYWx1ZUZ1bmM7XG4gICAgICAgIC8vIHBlcmZvcm1hbmNlIG9wdGltaXphdGlvbjogVXNlIHNtYWxsIGludGVnZXJzIGFzIGtleXMgZm9yIHRoZSBsb25nZXIgaHVtYW4gcmVhZGFibGUgXCJmdWxsXCIgcnVsZSBuYW1lcy5cbiAgICAgICAgLy8gdGhpcyBncmVhdGx5IGltcHJvdmVzIE1hcCBhY2Nlc3MgdGltZSAoYXMgbXVjaCBhcyA4JSBmb3Igc29tZSBwZXJmb3JtYW5jZSBiZW5jaG1hcmtzKS5cbiAgICAgICAgLyogdHNsaW50OmRpc2FibGUgKi9cbiAgICAgICAgdmFyIHNob3J0TmFtZSA9IHRoaXMucnVsZVNob3J0TmFtZUlkeCA8PCAoQklUU19GT1JfTUVUSE9EX1RZUEUgKyBCSVRTX0ZPUl9PQ0NVUlJFTkNFX0lEWCk7XG4gICAgICAgIC8qIHRzbGludDplbmFibGUgKi9cbiAgICAgICAgdGhpcy5ydWxlU2hvcnROYW1lSWR4Kys7XG4gICAgICAgIHRoaXMuc2hvcnRSdWxlTmFtZVRvRnVsbFtzaG9ydE5hbWVdID0gcnVsZU5hbWU7XG4gICAgICAgIHRoaXMuZnVsbFJ1bGVOYW1lVG9TaG9ydFtydWxlTmFtZV0gPSBzaG9ydE5hbWU7XG4gICAgICAgIGZ1bmN0aW9uIGludm9rZVJ1bGVXaXRoVHJ5KGFyZ3MpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3V0cHV0Q3N0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGltcGwuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjc3QgPSB0aGlzLkNTVF9TVEFDS1t0aGlzLkNTVF9TVEFDSy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jc3RQb3N0UnVsZShjc3QpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3N0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGltcGwuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5pbnZva2VSdWxlQ2F0Y2goZSwgcmVzeW5jRW5hYmxlZCwgcmVjb3ZlcnlWYWx1ZUZ1bmMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ydWxlRmluYWxseVN0YXRlVXBkYXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHdyYXBwZWRHcmFtbWFyUnVsZTtcbiAgICAgICAgd3JhcHBlZEdyYW1tYXJSdWxlID0gZnVuY3Rpb24gKGlkeEluQ2FsbGluZ1J1bGUsIGFyZ3MpIHtcbiAgICAgICAgICAgIGlmIChpZHhJbkNhbGxpbmdSdWxlID09PSB2b2lkIDApIHsgaWR4SW5DYWxsaW5nUnVsZSA9IDA7IH1cbiAgICAgICAgICAgIHRoaXMucnVsZUludm9jYXRpb25TdGF0ZVVwZGF0ZShzaG9ydE5hbWUsIHJ1bGVOYW1lLCBpZHhJbkNhbGxpbmdSdWxlKTtcbiAgICAgICAgICAgIHJldHVybiBpbnZva2VSdWxlV2l0aFRyeS5jYWxsKHRoaXMsIGFyZ3MpO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgcnVsZU5hbWVQcm9wTmFtZSA9IFwicnVsZU5hbWVcIjtcbiAgICAgICAgd3JhcHBlZEdyYW1tYXJSdWxlW3J1bGVOYW1lUHJvcE5hbWVdID0gcnVsZU5hbWU7XG4gICAgICAgIHdyYXBwZWRHcmFtbWFyUnVsZVtcIm9yaWdpbmFsR3JhbW1hckFjdGlvblwiXSA9IGltcGw7XG4gICAgICAgIHJldHVybiB3cmFwcGVkR3JhbW1hclJ1bGU7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyRW5naW5lLnByb3RvdHlwZS5pbnZva2VSdWxlQ2F0Y2ggPSBmdW5jdGlvbiAoZSwgcmVzeW5jRW5hYmxlZENvbmZpZywgcmVjb3ZlcnlWYWx1ZUZ1bmMpIHtcbiAgICAgICAgdmFyIGlzRmlyc3RJbnZva2VkUnVsZSA9IHRoaXMuUlVMRV9TVEFDSy5sZW5ndGggPT09IDE7XG4gICAgICAgIC8vIG5vdGUgdGhlIHJlU3luYyBpcyBhbHdheXMgZW5hYmxlZCBmb3IgdGhlIGZpcnN0IHJ1bGUgaW52b2NhdGlvbiwgYmVjYXVzZSB3ZSBtdXN0IGFsd2F5cyBiZSBhYmxlIHRvXG4gICAgICAgIC8vIHJlU3luYyB3aXRoIEVPRiBhbmQganVzdCBvdXRwdXQgc29tZSBJTlZBTElEIFBhcnNlVHJlZVxuICAgICAgICAvLyBkdXJpbmcgYmFja3RyYWNraW5nIHJlU3luYyByZWNvdmVyeSBpcyBkaXNhYmxlZCwgb3RoZXJ3aXNlIHdlIGNhbid0IGJlIGNlcnRhaW4gdGhlIGJhY2t0cmFja2luZ1xuICAgICAgICAvLyBwYXRoIGlzIHJlYWxseSB0aGUgbW9zdCB2YWxpZCBvbmVcbiAgICAgICAgdmFyIHJlU3luY0VuYWJsZWQgPSByZXN5bmNFbmFibGVkQ29uZmlnICYmICF0aGlzLmlzQmFja1RyYWNraW5nKCkgJiYgdGhpcy5yZWNvdmVyeUVuYWJsZWQ7XG4gICAgICAgIGlmIChpc1JlY29nbml0aW9uRXhjZXB0aW9uKGUpKSB7XG4gICAgICAgICAgICB2YXIgcmVjb2dFcnJvciA9IGU7XG4gICAgICAgICAgICBpZiAocmVTeW5jRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIHZhciByZVN5bmNUb2tUeXBlID0gdGhpcy5maW5kUmVTeW5jVG9rZW5UeXBlKCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNJbkN1cnJlbnRSdWxlUmVTeW5jU2V0KHJlU3luY1Rva1R5cGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlY29nRXJyb3IucmVzeW5jZWRUb2tlbnMgPSB0aGlzLnJlU3luY1RvKHJlU3luY1Rva1R5cGUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5vdXRwdXRDc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYXJ0aWFsQ3N0UmVzdWx0ID0gdGhpcy5DU1RfU1RBQ0tbdGhpcy5DU1RfU1RBQ0subGVuZ3RoIC0gMV07XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJ0aWFsQ3N0UmVzdWx0LnJlY292ZXJlZE5vZGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcnRpYWxDc3RSZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVjb3ZlcnlWYWx1ZUZ1bmMoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMub3V0cHV0Q3N0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGFydGlhbENzdFJlc3VsdCA9IHRoaXMuQ1NUX1NUQUNLW3RoaXMuQ1NUX1NUQUNLLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFydGlhbENzdFJlc3VsdC5yZWNvdmVyZWROb2RlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlY29nRXJyb3IucGFydGlhbENzdFJlc3VsdCA9IHBhcnRpYWxDc3RSZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gdG8gYmUgaGFuZGxlZCBGdXJ0aGVyIHVwIHRoZSBjYWxsIHN0YWNrXG4gICAgICAgICAgICAgICAgICAgIHRocm93IHJlY29nRXJyb3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNGaXJzdEludm9rZWRSdWxlKSB7XG4gICAgICAgICAgICAgICAgLy8gb3RoZXJ3aXNlIGEgUmVkdW5kYW50IGlucHV0IGVycm9yIHdpbGwgYmUgY3JlYXRlZCBhcyB3ZWxsIGFuZCB3ZSBjYW5ub3QgZ3VhcmFudGVlIHRoYXQgdGhpcyBpcyBpbmRlZWQgdGhlIGNhc2VcbiAgICAgICAgICAgICAgICB0aGlzLm1vdmVUb1Rlcm1pbmF0ZWRTdGF0ZSgpO1xuICAgICAgICAgICAgICAgIC8vIHRoZSBwYXJzZXIgc2hvdWxkIG5ldmVyIHRocm93IG9uZSBvZiBpdHMgb3duIGVycm9ycyBvdXRzaWRlIGl0cyBmbG93LlxuICAgICAgICAgICAgICAgIC8vIGV2ZW4gaWYgZXJyb3IgcmVjb3ZlcnkgaXMgZGlzYWJsZWRcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVjb3ZlcnlWYWx1ZUZ1bmMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIHRvIGJlIHJlY292ZXJlZCBGdXJ0aGVyIHVwIHRoZSBjYWxsIHN0YWNrXG4gICAgICAgICAgICAgICAgdGhyb3cgcmVjb2dFcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIHNvbWUgb3RoZXIgRXJyb3IgdHlwZSB3aGljaCB3ZSBkb24ndCBrbm93IGhvdyB0byBoYW5kbGUgKGZvciBleGFtcGxlIGEgYnVpbHQgaW4gSmF2YVNjcmlwdCBFcnJvcilcbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8vIEltcGxlbWVudGF0aW9uIG9mIHBhcnNpbmcgRFNMXG4gICAgUmVjb2duaXplckVuZ2luZS5wcm90b3R5cGUub3B0aW9uSW50ZXJuYWwgPSBmdW5jdGlvbiAoYWN0aW9uT1JNZXRob2REZWYsIG9jY3VycmVuY2UpIHtcbiAgICAgICAgdmFyIGtleSA9IHRoaXMuZ2V0S2V5Rm9yQXV0b21hdGljTG9va2FoZWFkKE9QVElPTl9JRFgsIG9jY3VycmVuY2UpO1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25JbnRlcm5hbExvZ2ljKGFjdGlvbk9STWV0aG9kRGVmLCBvY2N1cnJlbmNlLCBrZXkpO1xuICAgIH07XG4gICAgUmVjb2duaXplckVuZ2luZS5wcm90b3R5cGUub3B0aW9uSW50ZXJuYWxMb2dpYyA9IGZ1bmN0aW9uIChhY3Rpb25PUk1ldGhvZERlZiwgb2NjdXJyZW5jZSwga2V5KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBsb29rQWhlYWRGdW5jID0gdGhpcy5nZXRMYUZ1bmNGcm9tQ2FjaGUoa2V5KTtcbiAgICAgICAgdmFyIGFjdGlvbjtcbiAgICAgICAgdmFyIHByZWRpY2F0ZTtcbiAgICAgICAgaWYgKGFjdGlvbk9STWV0aG9kRGVmLkRFRiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBhY3Rpb24gPSBhY3Rpb25PUk1ldGhvZERlZi5ERUY7XG4gICAgICAgICAgICBwcmVkaWNhdGUgPSBhY3Rpb25PUk1ldGhvZERlZi5HQVRFO1xuICAgICAgICAgICAgLy8gcHJlZGljYXRlIHByZXNlbnRcbiAgICAgICAgICAgIGlmIChwcmVkaWNhdGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHZhciBvcmdMb29rYWhlYWRGdW5jdGlvbl8xID0gbG9va0FoZWFkRnVuYztcbiAgICAgICAgICAgICAgICBsb29rQWhlYWRGdW5jID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJlZGljYXRlLmNhbGwoX3RoaXMpICYmIG9yZ0xvb2thaGVhZEZ1bmN0aW9uXzEuY2FsbChfdGhpcyk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGFjdGlvbiA9IGFjdGlvbk9STWV0aG9kRGVmO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsb29rQWhlYWRGdW5jLmNhbGwodGhpcykgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHJldHVybiBhY3Rpb24uY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgUmVjb2duaXplckVuZ2luZS5wcm90b3R5cGUuYXRMZWFzdE9uZUludGVybmFsID0gZnVuY3Rpb24gKHByb2RPY2N1cnJlbmNlLCBhY3Rpb25PUk1ldGhvZERlZikge1xuICAgICAgICB2YXIgbGFLZXkgPSB0aGlzLmdldEtleUZvckF1dG9tYXRpY0xvb2thaGVhZChBVF9MRUFTVF9PTkVfSURYLCBwcm9kT2NjdXJyZW5jZSk7XG4gICAgICAgIHJldHVybiB0aGlzLmF0TGVhc3RPbmVJbnRlcm5hbExvZ2ljKHByb2RPY2N1cnJlbmNlLCBhY3Rpb25PUk1ldGhvZERlZiwgbGFLZXkpO1xuICAgIH07XG4gICAgUmVjb2duaXplckVuZ2luZS5wcm90b3R5cGUuYXRMZWFzdE9uZUludGVybmFsTG9naWMgPSBmdW5jdGlvbiAocHJvZE9jY3VycmVuY2UsIGFjdGlvbk9STWV0aG9kRGVmLCBrZXkpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGxvb2tBaGVhZEZ1bmMgPSB0aGlzLmdldExhRnVuY0Zyb21DYWNoZShrZXkpO1xuICAgICAgICB2YXIgYWN0aW9uO1xuICAgICAgICB2YXIgcHJlZGljYXRlO1xuICAgICAgICBpZiAoYWN0aW9uT1JNZXRob2REZWYuREVGICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGFjdGlvbiA9IGFjdGlvbk9STWV0aG9kRGVmLkRFRjtcbiAgICAgICAgICAgIHByZWRpY2F0ZSA9IGFjdGlvbk9STWV0aG9kRGVmLkdBVEU7XG4gICAgICAgICAgICAvLyBwcmVkaWNhdGUgcHJlc2VudFxuICAgICAgICAgICAgaWYgKHByZWRpY2F0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdmFyIG9yZ0xvb2thaGVhZEZ1bmN0aW9uXzIgPSBsb29rQWhlYWRGdW5jO1xuICAgICAgICAgICAgICAgIGxvb2tBaGVhZEZ1bmMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmVkaWNhdGUuY2FsbChfdGhpcykgJiYgb3JnTG9va2FoZWFkRnVuY3Rpb25fMi5jYWxsKF90aGlzKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYWN0aW9uID0gYWN0aW9uT1JNZXRob2REZWY7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxvb2tBaGVhZEZ1bmMuY2FsbCh0aGlzKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgdmFyIG5vdFN0dWNrID0gdGhpcy5kb1NpbmdsZVJlcGV0aXRpb24oYWN0aW9uKTtcbiAgICAgICAgICAgIHdoaWxlIChsb29rQWhlYWRGdW5jLmNhbGwodGhpcykgPT09IHRydWUgJiZcbiAgICAgICAgICAgICAgICBub3RTdHVjayA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIG5vdFN0dWNrID0gdGhpcy5kb1NpbmdsZVJlcGV0aXRpb24oYWN0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IHRoaXMucmFpc2VFYXJseUV4aXRFeGNlcHRpb24ocHJvZE9jY3VycmVuY2UsIFBST0RfVFlQRS5SRVBFVElUSU9OX01BTkRBVE9SWSwgYWN0aW9uT1JNZXRob2REZWYuRVJSX01TRyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbm90ZSB0aGF0IHdoaWxlIGl0IG1heSBzZWVtIHRoYXQgdGhpcyBjYW4gY2F1c2UgYW4gZXJyb3IgYmVjYXVzZSBieSB1c2luZyBhIHJlY3Vyc2l2ZSBjYWxsIHRvXG4gICAgICAgIC8vIEFUX0xFQVNUX09ORSB3ZSBjaGFuZ2UgdGhlIGdyYW1tYXIgdG8gQVRfTEVBU1RfVFdPLCBBVF9MRUFTVF9USFJFRSAuLi4gLCB0aGUgcG9zc2libGUgcmVjdXJzaXZlIGNhbGxcbiAgICAgICAgLy8gZnJvbSB0aGUgdHJ5SW5SZXBldGl0aW9uUmVjb3ZlcnkoLi4uKSB3aWxsIG9ubHkgaGFwcGVuIElGRiB0aGVyZSByZWFsbHkgYXJlIFRXTy9USFJFRS8uLi4uIGl0ZW1zLlxuICAgICAgICAvLyBQZXJmb3JtYW5jZSBvcHRpbWl6YXRpb246IFwiYXR0ZW1wdEluUmVwZXRpdGlvblJlY292ZXJ5XCIgd2lsbCBiZSBkZWZpbmVkIGFzIE5PT1AgdW5sZXNzIHJlY292ZXJ5IGlzIGVuYWJsZWRcbiAgICAgICAgdGhpcy5hdHRlbXB0SW5SZXBldGl0aW9uUmVjb3ZlcnkodGhpcy5hdExlYXN0T25lSW50ZXJuYWwsIFtwcm9kT2NjdXJyZW5jZSwgYWN0aW9uT1JNZXRob2REZWZdLCBsb29rQWhlYWRGdW5jLCBBVF9MRUFTVF9PTkVfSURYLCBwcm9kT2NjdXJyZW5jZSwgTmV4dFRlcm1pbmFsQWZ0ZXJBdExlYXN0T25lV2Fsa2VyKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJFbmdpbmUucHJvdG90eXBlLmF0TGVhc3RPbmVTZXBGaXJzdEludGVybmFsID0gZnVuY3Rpb24gKHByb2RPY2N1cnJlbmNlLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBsYUtleSA9IHRoaXMuZ2V0S2V5Rm9yQXV0b21hdGljTG9va2FoZWFkKEFUX0xFQVNUX09ORV9TRVBfSURYLCBwcm9kT2NjdXJyZW5jZSk7XG4gICAgICAgIHRoaXMuYXRMZWFzdE9uZVNlcEZpcnN0SW50ZXJuYWxMb2dpYyhwcm9kT2NjdXJyZW5jZSwgb3B0aW9ucywgbGFLZXkpO1xuICAgIH07XG4gICAgUmVjb2duaXplckVuZ2luZS5wcm90b3R5cGUuYXRMZWFzdE9uZVNlcEZpcnN0SW50ZXJuYWxMb2dpYyA9IGZ1bmN0aW9uIChwcm9kT2NjdXJyZW5jZSwgb3B0aW9ucywga2V5KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBhY3Rpb24gPSBvcHRpb25zLkRFRjtcbiAgICAgICAgdmFyIHNlcGFyYXRvciA9IG9wdGlvbnMuU0VQO1xuICAgICAgICB2YXIgZmlyc3RJdGVyYXRpb25Mb29rYWhlYWRGdW5jID0gdGhpcy5nZXRMYUZ1bmNGcm9tQ2FjaGUoa2V5KTtcbiAgICAgICAgLy8gMXN0IGl0ZXJhdGlvblxuICAgICAgICBpZiAoZmlyc3RJdGVyYXRpb25Mb29rYWhlYWRGdW5jLmNhbGwodGhpcykgPT09IHRydWUpIHtcbiAgICAgICAgICAgIDtcbiAgICAgICAgICAgIGFjdGlvbi5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgLy8gIFRPRE86IE9wdGltaXphdGlvbiBjYW4gbW92ZSB0aGlzIGZ1bmN0aW9uIGNvbnN0cnVjdGlvbiBpbnRvIFwiYXR0ZW1wdEluUmVwZXRpdGlvblJlY292ZXJ5XCJcbiAgICAgICAgICAgIC8vICBiZWNhdXNlIGl0IGlzIG9ubHkgbmVlZGVkIGluIGVycm9yIHJlY292ZXJ5IHNjZW5hcmlvcy5cbiAgICAgICAgICAgIHZhciBzZXBhcmF0b3JMb29rQWhlYWRGdW5jID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy50b2tlbk1hdGNoZXIoX3RoaXMuTEEoMSksIHNlcGFyYXRvcik7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gMm5kLi5udGggaXRlcmF0aW9uc1xuICAgICAgICAgICAgd2hpbGUgKHRoaXMudG9rZW5NYXRjaGVyKHRoaXMuTEEoMSksIHNlcGFyYXRvcikgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAvLyBub3RlIHRoYXQgdGhpcyBDT05TVU1FIHdpbGwgbmV2ZXIgZW50ZXIgcmVjb3ZlcnkgYmVjYXVzZVxuICAgICAgICAgICAgICAgIC8vIHRoZSBzZXBhcmF0b3JMb29rQWhlYWRGdW5jIGNoZWNrcyB0aGF0IHRoZSBzZXBhcmF0b3IgcmVhbGx5IGRvZXMgZXhpc3QuXG4gICAgICAgICAgICAgICAgdGhpcy5DT05TVU1FKHNlcGFyYXRvcik7XG4gICAgICAgICAgICAgICAgYWN0aW9uLmNhbGwodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBQZXJmb3JtYW5jZSBvcHRpbWl6YXRpb246IFwiYXR0ZW1wdEluUmVwZXRpdGlvblJlY292ZXJ5XCIgd2lsbCBiZSBkZWZpbmVkIGFzIE5PT1AgdW5sZXNzIHJlY292ZXJ5IGlzIGVuYWJsZWRcbiAgICAgICAgICAgIHRoaXMuYXR0ZW1wdEluUmVwZXRpdGlvblJlY292ZXJ5KHRoaXMucmVwZXRpdGlvblNlcFNlY29uZEludGVybmFsLCBbXG4gICAgICAgICAgICAgICAgcHJvZE9jY3VycmVuY2UsXG4gICAgICAgICAgICAgICAgc2VwYXJhdG9yLFxuICAgICAgICAgICAgICAgIHNlcGFyYXRvckxvb2tBaGVhZEZ1bmMsXG4gICAgICAgICAgICAgICAgYWN0aW9uLFxuICAgICAgICAgICAgICAgIE5leHRUZXJtaW5hbEFmdGVyQXRMZWFzdE9uZVNlcFdhbGtlclxuICAgICAgICAgICAgXSwgc2VwYXJhdG9yTG9va0FoZWFkRnVuYywgQVRfTEVBU1RfT05FX1NFUF9JRFgsIHByb2RPY2N1cnJlbmNlLCBOZXh0VGVybWluYWxBZnRlckF0TGVhc3RPbmVTZXBXYWxrZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgdGhpcy5yYWlzZUVhcmx5RXhpdEV4Y2VwdGlvbihwcm9kT2NjdXJyZW5jZSwgUFJPRF9UWVBFLlJFUEVUSVRJT05fTUFOREFUT1JZX1dJVEhfU0VQQVJBVE9SLCBvcHRpb25zLkVSUl9NU0cpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBSZWNvZ25pemVyRW5naW5lLnByb3RvdHlwZS5tYW55SW50ZXJuYWwgPSBmdW5jdGlvbiAocHJvZE9jY3VycmVuY2UsIGFjdGlvbk9STWV0aG9kRGVmKSB7XG4gICAgICAgIHZhciBsYUtleSA9IHRoaXMuZ2V0S2V5Rm9yQXV0b21hdGljTG9va2FoZWFkKE1BTllfSURYLCBwcm9kT2NjdXJyZW5jZSk7XG4gICAgICAgIHJldHVybiB0aGlzLm1hbnlJbnRlcm5hbExvZ2ljKHByb2RPY2N1cnJlbmNlLCBhY3Rpb25PUk1ldGhvZERlZiwgbGFLZXkpO1xuICAgIH07XG4gICAgUmVjb2duaXplckVuZ2luZS5wcm90b3R5cGUubWFueUludGVybmFsTG9naWMgPSBmdW5jdGlvbiAocHJvZE9jY3VycmVuY2UsIGFjdGlvbk9STWV0aG9kRGVmLCBrZXkpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGxvb2thaGVhZEZ1bmN0aW9uID0gdGhpcy5nZXRMYUZ1bmNGcm9tQ2FjaGUoa2V5KTtcbiAgICAgICAgdmFyIGFjdGlvbjtcbiAgICAgICAgdmFyIHByZWRpY2F0ZTtcbiAgICAgICAgaWYgKGFjdGlvbk9STWV0aG9kRGVmLkRFRiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBhY3Rpb24gPSBhY3Rpb25PUk1ldGhvZERlZi5ERUY7XG4gICAgICAgICAgICBwcmVkaWNhdGUgPSBhY3Rpb25PUk1ldGhvZERlZi5HQVRFO1xuICAgICAgICAgICAgLy8gcHJlZGljYXRlIHByZXNlbnRcbiAgICAgICAgICAgIGlmIChwcmVkaWNhdGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHZhciBvcmdMb29rYWhlYWRGdW5jdGlvbl8zID0gbG9va2FoZWFkRnVuY3Rpb247XG4gICAgICAgICAgICAgICAgbG9va2FoZWFkRnVuY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmVkaWNhdGUuY2FsbChfdGhpcykgJiYgb3JnTG9va2FoZWFkRnVuY3Rpb25fMy5jYWxsKF90aGlzKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYWN0aW9uID0gYWN0aW9uT1JNZXRob2REZWY7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG5vdFN0dWNrID0gdHJ1ZTtcbiAgICAgICAgd2hpbGUgKGxvb2thaGVhZEZ1bmN0aW9uLmNhbGwodGhpcykgPT09IHRydWUgJiYgbm90U3R1Y2sgPT09IHRydWUpIHtcbiAgICAgICAgICAgIG5vdFN0dWNrID0gdGhpcy5kb1NpbmdsZVJlcGV0aXRpb24oYWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBQZXJmb3JtYW5jZSBvcHRpbWl6YXRpb246IFwiYXR0ZW1wdEluUmVwZXRpdGlvblJlY292ZXJ5XCIgd2lsbCBiZSBkZWZpbmVkIGFzIE5PT1AgdW5sZXNzIHJlY292ZXJ5IGlzIGVuYWJsZWRcbiAgICAgICAgdGhpcy5hdHRlbXB0SW5SZXBldGl0aW9uUmVjb3ZlcnkodGhpcy5tYW55SW50ZXJuYWwsIFtwcm9kT2NjdXJyZW5jZSwgYWN0aW9uT1JNZXRob2REZWZdLCBsb29rYWhlYWRGdW5jdGlvbiwgTUFOWV9JRFgsIHByb2RPY2N1cnJlbmNlLCBOZXh0VGVybWluYWxBZnRlck1hbnlXYWxrZXIsIFxuICAgICAgICAvLyBUaGUgbm90U3R1Y2sgcGFyYW1ldGVyIGlzIG9ubHkgcmVsZXZhbnQgd2hlbiBcImF0dGVtcHRJblJlcGV0aXRpb25SZWNvdmVyeVwiXG4gICAgICAgIC8vIGlzIGludm9rZWQgZnJvbSBtYW55SW50ZXJuYWwsIGluIHRoZSBNQU5ZX1NFUCBjYXNlIGFuZCBBVF9MRUFTVF9PTkVbX1NFUF1cbiAgICAgICAgLy8gQW4gaW5maW5pdGUgbG9vcCBjYW5ub3Qgb2NjdXIgYXM6XG4gICAgICAgIC8vIC0gRWl0aGVyIHRoZSBsb29rYWhlYWQgaXMgZ3VhcmFudGVlZCB0byBjb25zdW1lIHNvbWV0aGluZyAoU2luZ2xlIFRva2VuIFNlcGFyYXRvcilcbiAgICAgICAgLy8gLSBBVF9MRUFTVF9PTkUgYnkgZGVmaW5pdGlvbiBpcyBndWFyYW50ZWVkIHRvIGNvbnN1bWUgc29tZXRoaW5nIChvciBlcnJvciBvdXQpLlxuICAgICAgICBub3RTdHVjayk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyRW5naW5lLnByb3RvdHlwZS5tYW55U2VwRmlyc3RJbnRlcm5hbCA9IGZ1bmN0aW9uIChwcm9kT2NjdXJyZW5jZSwgb3B0aW9ucykge1xuICAgICAgICB2YXIgbGFLZXkgPSB0aGlzLmdldEtleUZvckF1dG9tYXRpY0xvb2thaGVhZChNQU5ZX1NFUF9JRFgsIHByb2RPY2N1cnJlbmNlKTtcbiAgICAgICAgdGhpcy5tYW55U2VwRmlyc3RJbnRlcm5hbExvZ2ljKHByb2RPY2N1cnJlbmNlLCBvcHRpb25zLCBsYUtleSk7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyRW5naW5lLnByb3RvdHlwZS5tYW55U2VwRmlyc3RJbnRlcm5hbExvZ2ljID0gZnVuY3Rpb24gKHByb2RPY2N1cnJlbmNlLCBvcHRpb25zLCBrZXkpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGFjdGlvbiA9IG9wdGlvbnMuREVGO1xuICAgICAgICB2YXIgc2VwYXJhdG9yID0gb3B0aW9ucy5TRVA7XG4gICAgICAgIHZhciBmaXJzdEl0ZXJhdGlvbkxhRnVuYyA9IHRoaXMuZ2V0TGFGdW5jRnJvbUNhY2hlKGtleSk7XG4gICAgICAgIC8vIDFzdCBpdGVyYXRpb25cbiAgICAgICAgaWYgKGZpcnN0SXRlcmF0aW9uTGFGdW5jLmNhbGwodGhpcykgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGFjdGlvbi5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgdmFyIHNlcGFyYXRvckxvb2tBaGVhZEZ1bmMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnRva2VuTWF0Y2hlcihfdGhpcy5MQSgxKSwgc2VwYXJhdG9yKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyAybmQuLm50aCBpdGVyYXRpb25zXG4gICAgICAgICAgICB3aGlsZSAodGhpcy50b2tlbk1hdGNoZXIodGhpcy5MQSgxKSwgc2VwYXJhdG9yKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIC8vIG5vdGUgdGhhdCB0aGlzIENPTlNVTUUgd2lsbCBuZXZlciBlbnRlciByZWNvdmVyeSBiZWNhdXNlXG4gICAgICAgICAgICAgICAgLy8gdGhlIHNlcGFyYXRvckxvb2tBaGVhZEZ1bmMgY2hlY2tzIHRoYXQgdGhlIHNlcGFyYXRvciByZWFsbHkgZG9lcyBleGlzdC5cbiAgICAgICAgICAgICAgICB0aGlzLkNPTlNVTUUoc2VwYXJhdG9yKTtcbiAgICAgICAgICAgICAgICAvLyBObyBuZWVkIGZvciBjaGVja2luZyBpbmZpbml0ZSBsb29wIGhlcmUgZHVlIHRvIGNvbnN1bWluZyB0aGUgc2VwYXJhdG9yLlxuICAgICAgICAgICAgICAgIGFjdGlvbi5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUGVyZm9ybWFuY2Ugb3B0aW1pemF0aW9uOiBcImF0dGVtcHRJblJlcGV0aXRpb25SZWNvdmVyeVwiIHdpbGwgYmUgZGVmaW5lZCBhcyBOT09QIHVubGVzcyByZWNvdmVyeSBpcyBlbmFibGVkXG4gICAgICAgICAgICB0aGlzLmF0dGVtcHRJblJlcGV0aXRpb25SZWNvdmVyeSh0aGlzLnJlcGV0aXRpb25TZXBTZWNvbmRJbnRlcm5hbCwgW1xuICAgICAgICAgICAgICAgIHByb2RPY2N1cnJlbmNlLFxuICAgICAgICAgICAgICAgIHNlcGFyYXRvcixcbiAgICAgICAgICAgICAgICBzZXBhcmF0b3JMb29rQWhlYWRGdW5jLFxuICAgICAgICAgICAgICAgIGFjdGlvbixcbiAgICAgICAgICAgICAgICBOZXh0VGVybWluYWxBZnRlck1hbnlTZXBXYWxrZXJcbiAgICAgICAgICAgIF0sIHNlcGFyYXRvckxvb2tBaGVhZEZ1bmMsIE1BTllfU0VQX0lEWCwgcHJvZE9jY3VycmVuY2UsIE5leHRUZXJtaW5hbEFmdGVyTWFueVNlcFdhbGtlcik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJlY29nbml6ZXJFbmdpbmUucHJvdG90eXBlLnJlcGV0aXRpb25TZXBTZWNvbmRJbnRlcm5hbCA9IGZ1bmN0aW9uIChwcm9kT2NjdXJyZW5jZSwgc2VwYXJhdG9yLCBzZXBhcmF0b3JMb29rQWhlYWRGdW5jLCBhY3Rpb24sIG5leHRUZXJtaW5hbEFmdGVyV2Fsa2VyKSB7XG4gICAgICAgIHdoaWxlIChzZXBhcmF0b3JMb29rQWhlYWRGdW5jKCkpIHtcbiAgICAgICAgICAgIC8vIG5vdGUgdGhhdCB0aGlzIENPTlNVTUUgd2lsbCBuZXZlciBlbnRlciByZWNvdmVyeSBiZWNhdXNlXG4gICAgICAgICAgICAvLyB0aGUgc2VwYXJhdG9yTG9va0FoZWFkRnVuYyBjaGVja3MgdGhhdCB0aGUgc2VwYXJhdG9yIHJlYWxseSBkb2VzIGV4aXN0LlxuICAgICAgICAgICAgdGhpcy5DT05TVU1FKHNlcGFyYXRvcik7XG4gICAgICAgICAgICBhY3Rpb24uY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB3ZSBjYW4gb25seSBhcnJpdmUgdG8gdGhpcyBmdW5jdGlvbiBhZnRlciBhbiBlcnJvclxuICAgICAgICAvLyBoYXMgb2NjdXJyZWQgKGhlbmNlIHRoZSBuYW1lICdzZWNvbmQnKSBzbyB0aGUgZm9sbG93aW5nXG4gICAgICAgIC8vIElGIHdpbGwgYWx3YXlzIGJlIGVudGVyZWQsIGl0cyBwb3NzaWJsZSB0byByZW1vdmUgaXQuLi5cbiAgICAgICAgLy8gaG93ZXZlciBpdCBpcyBrZXB0IHRvIGF2b2lkIGNvbmZ1c2lvbiBhbmQgYmUgY29uc2lzdGVudC5cbiAgICAgICAgLy8gUGVyZm9ybWFuY2Ugb3B0aW1pemF0aW9uOiBcImF0dGVtcHRJblJlcGV0aXRpb25SZWNvdmVyeVwiIHdpbGwgYmUgZGVmaW5lZCBhcyBOT09QIHVubGVzcyByZWNvdmVyeSBpcyBlbmFibGVkXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgIHRoaXMuYXR0ZW1wdEluUmVwZXRpdGlvblJlY292ZXJ5KHRoaXMucmVwZXRpdGlvblNlcFNlY29uZEludGVybmFsLCBbXG4gICAgICAgICAgICBwcm9kT2NjdXJyZW5jZSxcbiAgICAgICAgICAgIHNlcGFyYXRvcixcbiAgICAgICAgICAgIHNlcGFyYXRvckxvb2tBaGVhZEZ1bmMsXG4gICAgICAgICAgICBhY3Rpb24sXG4gICAgICAgICAgICBuZXh0VGVybWluYWxBZnRlcldhbGtlclxuICAgICAgICBdLCBzZXBhcmF0b3JMb29rQWhlYWRGdW5jLCBBVF9MRUFTVF9PTkVfU0VQX0lEWCwgcHJvZE9jY3VycmVuY2UsIG5leHRUZXJtaW5hbEFmdGVyV2Fsa2VyKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJFbmdpbmUucHJvdG90eXBlLmRvU2luZ2xlUmVwZXRpdGlvbiA9IGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICAgICAgdmFyIGJlZm9yZUl0ZXJhdGlvbiA9IHRoaXMuZ2V0TGV4ZXJQb3NpdGlvbigpO1xuICAgICAgICBhY3Rpb24uY2FsbCh0aGlzKTtcbiAgICAgICAgdmFyIGFmdGVySXRlcmF0aW9uID0gdGhpcy5nZXRMZXhlclBvc2l0aW9uKCk7XG4gICAgICAgIC8vIFRoaXMgYm9vbGVhbiB3aWxsIGluZGljYXRlIGlmIHRoaXMgcmVwZXRpdGlvbiBwcm9ncmVzc2VkXG4gICAgICAgIC8vIG9yIGlmIHdlIGFyZSBcInN0dWNrXCIgKHBvdGVudGlhbCBpbmZpbml0ZSBsb29wIGluIHRoZSByZXBldGl0aW9uKS5cbiAgICAgICAgcmV0dXJuIGFmdGVySXRlcmF0aW9uID4gYmVmb3JlSXRlcmF0aW9uO1xuICAgIH07XG4gICAgUmVjb2duaXplckVuZ2luZS5wcm90b3R5cGUub3JJbnRlcm5hbCA9IGZ1bmN0aW9uIChhbHRzT3JPcHRzLCBvY2N1cnJlbmNlKSB7XG4gICAgICAgIHZhciBsYUtleSA9IHRoaXMuZ2V0S2V5Rm9yQXV0b21hdGljTG9va2FoZWFkKE9SX0lEWCwgb2NjdXJyZW5jZSk7XG4gICAgICAgIHZhciBhbHRzID0gaXNBcnJheShhbHRzT3JPcHRzKVxuICAgICAgICAgICAgPyBhbHRzT3JPcHRzXG4gICAgICAgICAgICA6IGFsdHNPck9wdHMuREVGO1xuICAgICAgICB2YXIgbGFGdW5jID0gdGhpcy5nZXRMYUZ1bmNGcm9tQ2FjaGUobGFLZXkpO1xuICAgICAgICB2YXIgYWx0SWR4VG9UYWtlID0gbGFGdW5jLmNhbGwodGhpcywgYWx0cyk7XG4gICAgICAgIGlmIChhbHRJZHhUb1Rha2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdmFyIGNob3NlbkFsdGVybmF0aXZlID0gYWx0c1thbHRJZHhUb1Rha2VdO1xuICAgICAgICAgICAgcmV0dXJuIGNob3NlbkFsdGVybmF0aXZlLkFMVC5jYWxsKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmFpc2VOb0FsdEV4Y2VwdGlvbihvY2N1cnJlbmNlLCBhbHRzT3JPcHRzLkVSUl9NU0cpO1xuICAgIH07XG4gICAgUmVjb2duaXplckVuZ2luZS5wcm90b3R5cGUucnVsZUZpbmFsbHlTdGF0ZVVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5SVUxFX1NUQUNLLnBvcCgpO1xuICAgICAgICB0aGlzLlJVTEVfT0NDVVJSRU5DRV9TVEFDSy5wb3AoKTtcbiAgICAgICAgLy8gTk9PUCB3aGVuIGNzdCBpcyBkaXNhYmxlZFxuICAgICAgICB0aGlzLmNzdEZpbmFsbHlTdGF0ZVVwZGF0ZSgpO1xuICAgICAgICBpZiAodGhpcy5SVUxFX1NUQUNLLmxlbmd0aCA9PT0gMCAmJiB0aGlzLmlzQXRFbmRPZklucHV0KCkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB2YXIgZmlyc3RSZWR1bmRhbnRUb2sgPSB0aGlzLkxBKDEpO1xuICAgICAgICAgICAgdmFyIGVyck1zZyA9IHRoaXMuZXJyb3JNZXNzYWdlUHJvdmlkZXIuYnVpbGROb3RBbGxJbnB1dFBhcnNlZE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgIGZpcnN0UmVkdW5kYW50OiBmaXJzdFJlZHVuZGFudFRvayxcbiAgICAgICAgICAgICAgICBydWxlTmFtZTogdGhpcy5nZXRDdXJyUnVsZUZ1bGxOYW1lKClcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5TQVZFX0VSUk9SKG5ldyBOb3RBbGxJbnB1dFBhcnNlZEV4Y2VwdGlvbihlcnJNc2csIGZpcnN0UmVkdW5kYW50VG9rKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJlY29nbml6ZXJFbmdpbmUucHJvdG90eXBlLnN1YnJ1bGVJbnRlcm5hbCA9IGZ1bmN0aW9uIChydWxlVG9DYWxsLCBpZHgsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIHJ1bGVSZXN1bHQ7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgYXJncyA9IG9wdGlvbnMgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuQVJHUyA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHJ1bGVSZXN1bHQgPSBydWxlVG9DYWxsLmNhbGwodGhpcywgaWR4LCBhcmdzKTtcbiAgICAgICAgICAgIHRoaXMuY3N0UG9zdE5vblRlcm1pbmFsKHJ1bGVSZXN1bHQsIG9wdGlvbnMgIT09IHVuZGVmaW5lZCAmJiBvcHRpb25zLkxBQkVMICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IG9wdGlvbnMuTEFCRUxcbiAgICAgICAgICAgICAgICA6IHJ1bGVUb0NhbGwucnVsZU5hbWUpO1xuICAgICAgICAgICAgcmV0dXJuIHJ1bGVSZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRoaXMuc3VicnVsZUludGVybmFsRXJyb3IoZSwgb3B0aW9ucywgcnVsZVRvQ2FsbC5ydWxlTmFtZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJlY29nbml6ZXJFbmdpbmUucHJvdG90eXBlLnN1YnJ1bGVJbnRlcm5hbEVycm9yID0gZnVuY3Rpb24gKGUsIG9wdGlvbnMsIHJ1bGVOYW1lKSB7XG4gICAgICAgIGlmIChpc1JlY29nbml0aW9uRXhjZXB0aW9uKGUpICYmIGUucGFydGlhbENzdFJlc3VsdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmNzdFBvc3ROb25UZXJtaW5hbChlLnBhcnRpYWxDc3RSZXN1bHQsIG9wdGlvbnMgIT09IHVuZGVmaW5lZCAmJiBvcHRpb25zLkxBQkVMICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IG9wdGlvbnMuTEFCRUxcbiAgICAgICAgICAgICAgICA6IHJ1bGVOYW1lKTtcbiAgICAgICAgICAgIGRlbGV0ZSBlLnBhcnRpYWxDc3RSZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgZTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJFbmdpbmUucHJvdG90eXBlLmNvbnN1bWVJbnRlcm5hbCA9IGZ1bmN0aW9uICh0b2tUeXBlLCBpZHgsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGNvbnN1bWVkVG9rZW47XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgbmV4dFRva2VuID0gdGhpcy5MQSgxKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnRva2VuTWF0Y2hlcihuZXh0VG9rZW4sIHRva1R5cGUpID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb25zdW1lVG9rZW4oKTtcbiAgICAgICAgICAgICAgICBjb25zdW1lZFRva2VuID0gbmV4dFRva2VuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb25zdW1lSW50ZXJuYWxFcnJvcih0b2tUeXBlLCBuZXh0VG9rZW4sIG9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlRnJvbUNvbnN1bXB0aW9uKSB7XG4gICAgICAgICAgICBjb25zdW1lZFRva2VuID0gdGhpcy5jb25zdW1lSW50ZXJuYWxSZWNvdmVyeSh0b2tUeXBlLCBpZHgsIGVGcm9tQ29uc3VtcHRpb24pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3N0UG9zdFRlcm1pbmFsKG9wdGlvbnMgIT09IHVuZGVmaW5lZCAmJiBvcHRpb25zLkxBQkVMICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgID8gb3B0aW9ucy5MQUJFTFxuICAgICAgICAgICAgOiB0b2tUeXBlLm5hbWUsIGNvbnN1bWVkVG9rZW4pO1xuICAgICAgICByZXR1cm4gY29uc3VtZWRUb2tlbjtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJFbmdpbmUucHJvdG90eXBlLmNvbnN1bWVJbnRlcm5hbEVycm9yID0gZnVuY3Rpb24gKHRva1R5cGUsIG5leHRUb2tlbiwgb3B0aW9ucykge1xuICAgICAgICB2YXIgbXNnO1xuICAgICAgICB2YXIgcHJldmlvdXNUb2tlbiA9IHRoaXMuTEEoMCk7XG4gICAgICAgIGlmIChvcHRpb25zICE9PSB1bmRlZmluZWQgJiYgb3B0aW9ucy5FUlJfTVNHKSB7XG4gICAgICAgICAgICBtc2cgPSBvcHRpb25zLkVSUl9NU0c7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBtc2cgPSB0aGlzLmVycm9yTWVzc2FnZVByb3ZpZGVyLmJ1aWxkTWlzbWF0Y2hUb2tlbk1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiB0b2tUeXBlLFxuICAgICAgICAgICAgICAgIGFjdHVhbDogbmV4dFRva2VuLFxuICAgICAgICAgICAgICAgIHByZXZpb3VzOiBwcmV2aW91c1Rva2VuLFxuICAgICAgICAgICAgICAgIHJ1bGVOYW1lOiB0aGlzLmdldEN1cnJSdWxlRnVsbE5hbWUoKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgdGhpcy5TQVZFX0VSUk9SKG5ldyBNaXNtYXRjaGVkVG9rZW5FeGNlcHRpb24obXNnLCBuZXh0VG9rZW4sIHByZXZpb3VzVG9rZW4pKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJFbmdpbmUucHJvdG90eXBlLmNvbnN1bWVJbnRlcm5hbFJlY292ZXJ5ID0gZnVuY3Rpb24gKHRva1R5cGUsIGlkeCwgZUZyb21Db25zdW1wdGlvbikge1xuICAgICAgICAvLyBubyByZWNvdmVyeSBhbGxvd2VkIGR1cmluZyBiYWNrdHJhY2tpbmcsIG90aGVyd2lzZSBiYWNrdHJhY2tpbmcgbWF5IHJlY292ZXIgaW52YWxpZCBzeW50YXggYW5kIGFjY2VwdCBpdFxuICAgICAgICAvLyBidXQgdGhlIG9yaWdpbmFsIHN5bnRheCBjb3VsZCBoYXZlIGJlZW4gcGFyc2VkIHN1Y2Nlc3NmdWxseSB3aXRob3V0IGFueSBiYWNrdHJhY2tpbmcgKyByZWNvdmVyeVxuICAgICAgICBpZiAodGhpcy5yZWNvdmVyeUVuYWJsZWQgJiZcbiAgICAgICAgICAgIC8vIFRPRE86IG1vcmUgcm9idXN0IGNoZWNraW5nIG9mIHRoZSBleGNlcHRpb24gdHlwZS4gUGVyaGFwcyBUeXBlc2NyaXB0IGV4dGVuZGluZyBleHByZXNzaW9ucz9cbiAgICAgICAgICAgIGVGcm9tQ29uc3VtcHRpb24ubmFtZSA9PT0gXCJNaXNtYXRjaGVkVG9rZW5FeGNlcHRpb25cIiAmJlxuICAgICAgICAgICAgIXRoaXMuaXNCYWNrVHJhY2tpbmcoKSkge1xuICAgICAgICAgICAgdmFyIGZvbGxvd3MgPSB0aGlzLmdldEZvbGxvd3NGb3JJblJ1bGVSZWNvdmVyeSh0b2tUeXBlLCBpZHgpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy50cnlJblJ1bGVSZWNvdmVyeSh0b2tUeXBlLCBmb2xsb3dzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlRnJvbUluUnVsZVJlY292ZXJ5KSB7XG4gICAgICAgICAgICAgICAgaWYgKGVGcm9tSW5SdWxlUmVjb3ZlcnkubmFtZSA9PT0gSU5fUlVMRV9SRUNPVkVSWV9FWENFUFRJT04pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZmFpbGVkIGluIFJ1bGVSZWNvdmVyeS5cbiAgICAgICAgICAgICAgICAgICAgLy8gdGhyb3cgdGhlIG9yaWdpbmFsIGVycm9yIGluIG9yZGVyIHRvIHRyaWdnZXIgcmVTeW5jIGVycm9yIHJlY292ZXJ5XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVGcm9tQ29uc3VtcHRpb247XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlRnJvbUluUnVsZVJlY292ZXJ5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IGVGcm9tQ29uc3VtcHRpb247XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJlY29nbml6ZXJFbmdpbmUucHJvdG90eXBlLnNhdmVSZWNvZ1N0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBlcnJvcnMgaXMgYSBnZXR0ZXIgd2hpY2ggd2lsbCBjbG9uZSB0aGUgZXJyb3JzIGFycmF5XG4gICAgICAgIHZhciBzYXZlZEVycm9ycyA9IHRoaXMuZXJyb3JzO1xuICAgICAgICB2YXIgc2F2ZWRSdWxlU3RhY2sgPSBjbG9uZUFycih0aGlzLlJVTEVfU1RBQ0spO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZXJyb3JzOiBzYXZlZEVycm9ycyxcbiAgICAgICAgICAgIGxleGVyU3RhdGU6IHRoaXMuZXhwb3J0TGV4ZXJTdGF0ZSgpLFxuICAgICAgICAgICAgUlVMRV9TVEFDSzogc2F2ZWRSdWxlU3RhY2ssXG4gICAgICAgICAgICBDU1RfU1RBQ0s6IHRoaXMuQ1NUX1NUQUNLXG4gICAgICAgIH07XG4gICAgfTtcbiAgICBSZWNvZ25pemVyRW5naW5lLnByb3RvdHlwZS5yZWxvYWRSZWNvZ1N0YXRlID0gZnVuY3Rpb24gKG5ld1N0YXRlKSB7XG4gICAgICAgIHRoaXMuZXJyb3JzID0gbmV3U3RhdGUuZXJyb3JzO1xuICAgICAgICB0aGlzLmltcG9ydExleGVyU3RhdGUobmV3U3RhdGUubGV4ZXJTdGF0ZSk7XG4gICAgICAgIHRoaXMuUlVMRV9TVEFDSyA9IG5ld1N0YXRlLlJVTEVfU1RBQ0s7XG4gICAgfTtcbiAgICBSZWNvZ25pemVyRW5naW5lLnByb3RvdHlwZS5ydWxlSW52b2NhdGlvblN0YXRlVXBkYXRlID0gZnVuY3Rpb24gKHNob3J0TmFtZSwgZnVsbE5hbWUsIGlkeEluQ2FsbGluZ1J1bGUpIHtcbiAgICAgICAgdGhpcy5SVUxFX09DQ1VSUkVOQ0VfU1RBQ0sucHVzaChpZHhJbkNhbGxpbmdSdWxlKTtcbiAgICAgICAgdGhpcy5SVUxFX1NUQUNLLnB1c2goc2hvcnROYW1lKTtcbiAgICAgICAgLy8gTk9PUCB3aGVuIGNzdCBpcyBkaXNhYmxlZFxuICAgICAgICB0aGlzLmNzdEludm9jYXRpb25TdGF0ZVVwZGF0ZShmdWxsTmFtZSwgc2hvcnROYW1lKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJFbmdpbmUucHJvdG90eXBlLmlzQmFja1RyYWNraW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pc0JhY2tUcmFja2luZ1N0YWNrLmxlbmd0aCAhPT0gMDtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJFbmdpbmUucHJvdG90eXBlLmdldEN1cnJSdWxlRnVsbE5hbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzaG9ydE5hbWUgPSB0aGlzLmdldExhc3RFeHBsaWNpdFJ1bGVTaG9ydE5hbWUoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2hvcnRSdWxlTmFtZVRvRnVsbFtzaG9ydE5hbWVdO1xuICAgIH07XG4gICAgUmVjb2duaXplckVuZ2luZS5wcm90b3R5cGUuc2hvcnRSdWxlTmFtZVRvRnVsbE5hbWUgPSBmdW5jdGlvbiAoc2hvcnROYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNob3J0UnVsZU5hbWVUb0Z1bGxbc2hvcnROYW1lXTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJFbmdpbmUucHJvdG90eXBlLmlzQXRFbmRPZklucHV0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50b2tlbk1hdGNoZXIodGhpcy5MQSgxKSwgRU9GKTtcbiAgICB9O1xuICAgIFJlY29nbml6ZXJFbmdpbmUucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJlc2V0TGV4ZXJTdGF0ZSgpO1xuICAgICAgICB0aGlzLmlzQmFja1RyYWNraW5nU3RhY2sgPSBbXTtcbiAgICAgICAgdGhpcy5lcnJvcnMgPSBbXTtcbiAgICAgICAgdGhpcy5SVUxFX1NUQUNLID0gW107XG4gICAgICAgIC8vIFRPRE86IGV4dHJhY3QgYSBzcGVjaWZpYyByZXNldCBmb3IgVHJlZUJ1aWxkZXIgdHJhaXRcbiAgICAgICAgdGhpcy5DU1RfU1RBQ0sgPSBbXTtcbiAgICAgICAgdGhpcy5SVUxFX09DQ1VSUkVOQ0VfU1RBQ0sgPSBbXTtcbiAgICB9O1xuICAgIHJldHVybiBSZWNvZ25pemVyRW5naW5lO1xufSgpKTtcbmV4cG9ydCB7IFJlY29nbml6ZXJFbmdpbmUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlY29nbml6ZXJfZW5naW5lLmpzLm1hcCIsImltcG9ydCB7IEVhcmx5RXhpdEV4Y2VwdGlvbiwgaXNSZWNvZ25pdGlvbkV4Y2VwdGlvbiwgTm9WaWFibGVBbHRFeGNlcHRpb24gfSBmcm9tIFwiLi4vLi4vZXhjZXB0aW9uc19wdWJsaWNcIjtcbmltcG9ydCB7IGNsb25lQXJyLCBoYXMgfSBmcm9tIFwiLi4vLi4vLi4vdXRpbHMvdXRpbHNcIjtcbmltcG9ydCB7IGdldExvb2thaGVhZFBhdGhzRm9yT3B0aW9uYWxQcm9kLCBnZXRMb29rYWhlYWRQYXRoc0Zvck9yIH0gZnJvbSBcIi4uLy4uL2dyYW1tYXIvbG9va2FoZWFkXCI7XG5pbXBvcnQgeyBERUZBVUxUX1BBUlNFUl9DT05GSUcgfSBmcm9tIFwiLi4vcGFyc2VyXCI7XG4vKipcbiAqIFRyYWl0IHJlc3BvbnNpYmxlIGZvciBydW50aW1lIHBhcnNpbmcgZXJyb3JzLlxuICovXG52YXIgRXJyb3JIYW5kbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEVycm9ySGFuZGxlcigpIHtcbiAgICB9XG4gICAgRXJyb3JIYW5kbGVyLnByb3RvdHlwZS5pbml0RXJyb3JIYW5kbGVyID0gZnVuY3Rpb24gKGNvbmZpZykge1xuICAgICAgICB0aGlzLl9lcnJvcnMgPSBbXTtcbiAgICAgICAgdGhpcy5lcnJvck1lc3NhZ2VQcm92aWRlciA9IGhhcyhjb25maWcsIFwiZXJyb3JNZXNzYWdlUHJvdmlkZXJcIilcbiAgICAgICAgICAgID8gY29uZmlnLmVycm9yTWVzc2FnZVByb3ZpZGVyXG4gICAgICAgICAgICA6IERFRkFVTFRfUEFSU0VSX0NPTkZJRy5lcnJvck1lc3NhZ2VQcm92aWRlcjtcbiAgICB9O1xuICAgIEVycm9ySGFuZGxlci5wcm90b3R5cGUuU0FWRV9FUlJPUiA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICBpZiAoaXNSZWNvZ25pdGlvbkV4Y2VwdGlvbihlcnJvcikpIHtcbiAgICAgICAgICAgIGVycm9yLmNvbnRleHQgPSB7XG4gICAgICAgICAgICAgICAgcnVsZVN0YWNrOiB0aGlzLmdldEh1bWFuUmVhZGFibGVSdWxlU3RhY2soKSxcbiAgICAgICAgICAgICAgICBydWxlT2NjdXJyZW5jZVN0YWNrOiBjbG9uZUFycih0aGlzLlJVTEVfT0NDVVJSRU5DRV9TVEFDSylcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLl9lcnJvcnMucHVzaChlcnJvcik7XG4gICAgICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcIlRyeWluZyB0byBzYXZlIGFuIEVycm9yIHdoaWNoIGlzIG5vdCBhIFJlY29nbml0aW9uRXhjZXB0aW9uXCIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRXJyb3JIYW5kbGVyLnByb3RvdHlwZSwgXCJlcnJvcnNcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBjbG9uZUFycih0aGlzLl9lcnJvcnMpO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChuZXdFcnJvcnMpIHtcbiAgICAgICAgICAgIHRoaXMuX2Vycm9ycyA9IG5ld0Vycm9ycztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLy8gVE9ETzogY29uc2lkZXIgY2FjaGluZyB0aGUgZXJyb3IgbWVzc2FnZSBjb21wdXRlZCBpbmZvcm1hdGlvblxuICAgIEVycm9ySGFuZGxlci5wcm90b3R5cGUucmFpc2VFYXJseUV4aXRFeGNlcHRpb24gPSBmdW5jdGlvbiAob2NjdXJyZW5jZSwgcHJvZFR5cGUsIHVzZXJEZWZpbmVkRXJyTXNnKSB7XG4gICAgICAgIHZhciBydWxlTmFtZSA9IHRoaXMuZ2V0Q3VyclJ1bGVGdWxsTmFtZSgpO1xuICAgICAgICB2YXIgcnVsZUdyYW1tYXIgPSB0aGlzLmdldEdBc3RQcm9kdWN0aW9ucygpW3J1bGVOYW1lXTtcbiAgICAgICAgdmFyIGxvb2tBaGVhZFBhdGhzUGVyQWx0ZXJuYXRpdmUgPSBnZXRMb29rYWhlYWRQYXRoc0Zvck9wdGlvbmFsUHJvZChvY2N1cnJlbmNlLCBydWxlR3JhbW1hciwgcHJvZFR5cGUsIHRoaXMubWF4TG9va2FoZWFkKTtcbiAgICAgICAgdmFyIGluc2lkZVByb2RQYXRocyA9IGxvb2tBaGVhZFBhdGhzUGVyQWx0ZXJuYXRpdmVbMF07XG4gICAgICAgIHZhciBhY3R1YWxUb2tlbnMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPD0gdGhpcy5tYXhMb29rYWhlYWQ7IGkrKykge1xuICAgICAgICAgICAgYWN0dWFsVG9rZW5zLnB1c2godGhpcy5MQShpKSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG1zZyA9IHRoaXMuZXJyb3JNZXNzYWdlUHJvdmlkZXIuYnVpbGRFYXJseUV4aXRNZXNzYWdlKHtcbiAgICAgICAgICAgIGV4cGVjdGVkSXRlcmF0aW9uUGF0aHM6IGluc2lkZVByb2RQYXRocyxcbiAgICAgICAgICAgIGFjdHVhbDogYWN0dWFsVG9rZW5zLFxuICAgICAgICAgICAgcHJldmlvdXM6IHRoaXMuTEEoMCksXG4gICAgICAgICAgICBjdXN0b21Vc2VyRGVzY3JpcHRpb246IHVzZXJEZWZpbmVkRXJyTXNnLFxuICAgICAgICAgICAgcnVsZU5hbWU6IHJ1bGVOYW1lXG4gICAgICAgIH0pO1xuICAgICAgICB0aHJvdyB0aGlzLlNBVkVfRVJST1IobmV3IEVhcmx5RXhpdEV4Y2VwdGlvbihtc2csIHRoaXMuTEEoMSksIHRoaXMuTEEoMCkpKTtcbiAgICB9O1xuICAgIC8vIFRPRE86IGNvbnNpZGVyIGNhY2hpbmcgdGhlIGVycm9yIG1lc3NhZ2UgY29tcHV0ZWQgaW5mb3JtYXRpb25cbiAgICBFcnJvckhhbmRsZXIucHJvdG90eXBlLnJhaXNlTm9BbHRFeGNlcHRpb24gPSBmdW5jdGlvbiAob2NjdXJyZW5jZSwgZXJyTXNnVHlwZXMpIHtcbiAgICAgICAgdmFyIHJ1bGVOYW1lID0gdGhpcy5nZXRDdXJyUnVsZUZ1bGxOYW1lKCk7XG4gICAgICAgIHZhciBydWxlR3JhbW1hciA9IHRoaXMuZ2V0R0FzdFByb2R1Y3Rpb25zKClbcnVsZU5hbWVdO1xuICAgICAgICAvLyBUT0RPOiBnZXRMb29rYWhlYWRQYXRoc0Zvck9yIGNhbiBiZSBzbG93IGZvciBsYXJnZSBlbm91Z2ggbWF4TG9va2FoZWFkIGFuZCBjZXJ0YWluIGdyYW1tYXJzLCBjb25zaWRlciBjYWNoaW5nID9cbiAgICAgICAgdmFyIGxvb2tBaGVhZFBhdGhzUGVyQWx0ZXJuYXRpdmUgPSBnZXRMb29rYWhlYWRQYXRoc0Zvck9yKG9jY3VycmVuY2UsIHJ1bGVHcmFtbWFyLCB0aGlzLm1heExvb2thaGVhZCk7XG4gICAgICAgIHZhciBhY3R1YWxUb2tlbnMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPD0gdGhpcy5tYXhMb29rYWhlYWQ7IGkrKykge1xuICAgICAgICAgICAgYWN0dWFsVG9rZW5zLnB1c2godGhpcy5MQShpKSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHByZXZpb3VzVG9rZW4gPSB0aGlzLkxBKDApO1xuICAgICAgICB2YXIgZXJyTXNnID0gdGhpcy5lcnJvck1lc3NhZ2VQcm92aWRlci5idWlsZE5vVmlhYmxlQWx0TWVzc2FnZSh7XG4gICAgICAgICAgICBleHBlY3RlZFBhdGhzUGVyQWx0OiBsb29rQWhlYWRQYXRoc1BlckFsdGVybmF0aXZlLFxuICAgICAgICAgICAgYWN0dWFsOiBhY3R1YWxUb2tlbnMsXG4gICAgICAgICAgICBwcmV2aW91czogcHJldmlvdXNUb2tlbixcbiAgICAgICAgICAgIGN1c3RvbVVzZXJEZXNjcmlwdGlvbjogZXJyTXNnVHlwZXMsXG4gICAgICAgICAgICBydWxlTmFtZTogdGhpcy5nZXRDdXJyUnVsZUZ1bGxOYW1lKClcbiAgICAgICAgfSk7XG4gICAgICAgIHRocm93IHRoaXMuU0FWRV9FUlJPUihuZXcgTm9WaWFibGVBbHRFeGNlcHRpb24oZXJyTXNnLCB0aGlzLkxBKDEpLCBwcmV2aW91c1Rva2VuKSk7XG4gICAgfTtcbiAgICByZXR1cm4gRXJyb3JIYW5kbGVyO1xufSgpKTtcbmV4cG9ydCB7IEVycm9ySGFuZGxlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXJyb3JfaGFuZGxlci5qcy5tYXAiLCJpbXBvcnQgeyBOZXh0QWZ0ZXJUb2tlbldhbGtlciwgbmV4dFBvc3NpYmxlVG9rZW5zQWZ0ZXIgfSBmcm9tIFwiLi4vLi4vZ3JhbW1hci9pbnRlcnByZXRlclwiO1xuaW1wb3J0IHsgZmlyc3QsIGlzVW5kZWZpbmVkIH0gZnJvbSBcIi4uLy4uLy4uL3V0aWxzL3V0aWxzXCI7XG52YXIgQ29udGVudEFzc2lzdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDb250ZW50QXNzaXN0KCkge1xuICAgIH1cbiAgICBDb250ZW50QXNzaXN0LnByb3RvdHlwZS5pbml0Q29udGVudEFzc2lzdCA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICBDb250ZW50QXNzaXN0LnByb3RvdHlwZS5jb21wdXRlQ29udGVudEFzc2lzdCA9IGZ1bmN0aW9uIChzdGFydFJ1bGVOYW1lLCBwcmVjZWRpbmdJbnB1dCkge1xuICAgICAgICB2YXIgc3RhcnRSdWxlR2FzdCA9IHRoaXMuZ2FzdFByb2R1Y3Rpb25zQ2FjaGVbc3RhcnRSdWxlTmFtZV07XG4gICAgICAgIGlmIChpc1VuZGVmaW5lZChzdGFydFJ1bGVHYXN0KSkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJSdWxlIC0+XCIgKyBzdGFydFJ1bGVOYW1lICsgXCI8LSBkb2VzIG5vdCBleGlzdCBpbiB0aGlzIGdyYW1tYXIuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXh0UG9zc2libGVUb2tlbnNBZnRlcihbc3RhcnRSdWxlR2FzdF0sIHByZWNlZGluZ0lucHV0LCB0aGlzLnRva2VuTWF0Y2hlciwgdGhpcy5tYXhMb29rYWhlYWQpO1xuICAgIH07XG4gICAgLy8gVE9ETzogc2hvdWxkIHRoaXMgYmUgYSBtZW1iZXIgbWV0aG9kIG9yIGEgdXRpbGl0eT8gaXQgZG9lcyBub3QgaGF2ZSBhbnkgc3RhdGUgb3IgdXNhZ2Ugb2YgJ3RoaXMnLi4uXG4gICAgLy8gVE9ETzogc2hvdWxkIHRoaXMgYmUgbW9yZSBleHBsaWNpdGx5IHBhcnQgb2YgdGhlIHB1YmxpYyBBUEk/XG4gICAgQ29udGVudEFzc2lzdC5wcm90b3R5cGUuZ2V0TmV4dFBvc3NpYmxlVG9rZW5UeXBlcyA9IGZ1bmN0aW9uIChncmFtbWFyUGF0aCkge1xuICAgICAgICB2YXIgdG9wUnVsZU5hbWUgPSBmaXJzdChncmFtbWFyUGF0aC5ydWxlU3RhY2spO1xuICAgICAgICB2YXIgZ2FzdFByb2R1Y3Rpb25zID0gdGhpcy5nZXRHQXN0UHJvZHVjdGlvbnMoKTtcbiAgICAgICAgdmFyIHRvcFByb2R1Y3Rpb24gPSBnYXN0UHJvZHVjdGlvbnNbdG9wUnVsZU5hbWVdO1xuICAgICAgICB2YXIgbmV4dFBvc3NpYmxlVG9rZW5UeXBlcyA9IG5ldyBOZXh0QWZ0ZXJUb2tlbldhbGtlcih0b3BQcm9kdWN0aW9uLCBncmFtbWFyUGF0aCkuc3RhcnRXYWxraW5nKCk7XG4gICAgICAgIHJldHVybiBuZXh0UG9zc2libGVUb2tlblR5cGVzO1xuICAgIH07XG4gICAgcmV0dXJuIENvbnRlbnRBc3Npc3Q7XG59KCkpO1xuZXhwb3J0IHsgQ29udGVudEFzc2lzdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29udGV4dF9hc3Npc3QuanMubWFwIiwiaW1wb3J0IHsgZm9yRWFjaCwgaGFzLCBpc0FycmF5LCBpc0Z1bmN0aW9uLCBwZWVrLCBzb21lIH0gZnJvbSBcIi4uLy4uLy4uL3V0aWxzL3V0aWxzXCI7XG5pbXBvcnQgeyBBbHRlcm5hdGlvbiwgQWx0ZXJuYXRpdmUsIE5vblRlcm1pbmFsLCBPcHRpb24sIFJlcGV0aXRpb24sIFJlcGV0aXRpb25NYW5kYXRvcnksIFJlcGV0aXRpb25NYW5kYXRvcnlXaXRoU2VwYXJhdG9yLCBSZXBldGl0aW9uV2l0aFNlcGFyYXRvciwgUnVsZSwgVGVybWluYWwgfSBmcm9tIFwiLi4vLi4vZ3JhbW1hci9nYXN0L2dhc3RfcHVibGljXCI7XG5pbXBvcnQgeyBMZXhlciB9IGZyb20gXCIuLi8uLi8uLi9zY2FuL2xleGVyX3B1YmxpY1wiO1xuaW1wb3J0IHsgYXVnbWVudFRva2VuVHlwZXMsIGhhc1Nob3J0S2V5UHJvcGVydHkgfSBmcm9tIFwiLi4vLi4vLi4vc2Nhbi90b2tlbnNcIjtcbmltcG9ydCB7IGNyZWF0ZVRva2VuLCBjcmVhdGVUb2tlbkluc3RhbmNlIH0gZnJvbSBcIi4uLy4uLy4uL3NjYW4vdG9rZW5zX3B1YmxpY1wiO1xuaW1wb3J0IHsgRU5EX09GX0ZJTEUgfSBmcm9tIFwiLi4vcGFyc2VyXCI7XG5pbXBvcnQgeyBCSVRTX0ZPUl9PQ0NVUlJFTkNFX0lEWCB9IGZyb20gXCIuLi8uLi9ncmFtbWFyL2tleXNcIjtcbnZhciBSRUNPUkRJTkdfTlVMTF9PQkpFQ1QgPSB7XG4gICAgZGVzY3JpcHRpb246IFwiVGhpcyBPYmplY3QgaW5kaWNhdGVzIHRoZSBQYXJzZXIgaXMgZHVyaW5nIFJlY29yZGluZyBQaGFzZVwiXG59O1xuT2JqZWN0LmZyZWV6ZShSRUNPUkRJTkdfTlVMTF9PQkpFQ1QpO1xudmFyIEhBTkRMRV9TRVBBUkFUT1IgPSB0cnVlO1xudmFyIE1BWF9NRVRIT0RfSURYID0gTWF0aC5wb3coMiwgQklUU19GT1JfT0NDVVJSRU5DRV9JRFgpIC0gMTtcbnZhciBSRlQgPSBjcmVhdGVUb2tlbih7IG5hbWU6IFwiUkVDT1JESU5HX1BIQVNFX1RPS0VOXCIsIHBhdHRlcm46IExleGVyLk5BIH0pO1xuYXVnbWVudFRva2VuVHlwZXMoW1JGVF0pO1xudmFyIFJFQ09SRElOR19QSEFTRV9UT0tFTiA9IGNyZWF0ZVRva2VuSW5zdGFuY2UoUkZULCBcIlRoaXMgSVRva2VuIGluZGljYXRlcyB0aGUgUGFyc2VyIGlzIGluIFJlY29yZGluZyBQaGFzZVxcblxcdFwiICtcbiAgICBcIlwiICtcbiAgICBcIlNlZTogaHR0cHM6Ly9zYXAuZ2l0aHViLmlvL2NoZXZyb3RhaW4vZG9jcy9ndWlkZS9pbnRlcm5hbHMuaHRtbCNncmFtbWFyLXJlY29yZGluZyBmb3IgZGV0YWlsc1wiLCBcbi8vIFVzaW5nIFwiLTFcIiBpbnN0ZWFkIG9mIE5hTiAoYXMgaW4gRU9GKSBiZWNhdXNlIGFuIGFjdHVhbCBudW1iZXIgaXMgbGVzcyBsaWtlbHkgdG9cbi8vIGNhdXNlIGVycm9ycyBpZiB0aGUgb3V0cHV0IG9mIExBIG9yIENPTlNVTUUgd291bGQgYmUgKGluY29ycmVjdGx5KSB1c2VkIGR1cmluZyB0aGUgcmVjb3JkaW5nIHBoYXNlLlxuLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSk7XG5PYmplY3QuZnJlZXplKFJFQ09SRElOR19QSEFTRV9UT0tFTik7XG52YXIgUkVDT1JESU5HX1BIQVNFX0NTVE5PREUgPSB7XG4gICAgbmFtZTogXCJUaGlzIENTVE5vZGUgaW5kaWNhdGVzIHRoZSBQYXJzZXIgaXMgaW4gUmVjb3JkaW5nIFBoYXNlXFxuXFx0XCIgK1xuICAgICAgICBcIlNlZTogaHR0cHM6Ly9zYXAuZ2l0aHViLmlvL2NoZXZyb3RhaW4vZG9jcy9ndWlkZS9pbnRlcm5hbHMuaHRtbCNncmFtbWFyLXJlY29yZGluZyBmb3IgZGV0YWlsc1wiLFxuICAgIGNoaWxkcmVuOiB7fVxufTtcbi8qKlxuICogVGhpcyB0cmFpdCBoYW5kbGVzIHRoZSBjcmVhdGlvbiBvZiB0aGUgR0FTVCBzdHJ1Y3R1cmUgZm9yIENoZXZyb3RhaW4gR3JhbW1hcnNcbiAqL1xudmFyIEdhc3RSZWNvcmRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBHYXN0UmVjb3JkZXIoKSB7XG4gICAgfVxuICAgIEdhc3RSZWNvcmRlci5wcm90b3R5cGUuaW5pdEdhc3RSZWNvcmRlciA9IGZ1bmN0aW9uIChjb25maWcpIHtcbiAgICAgICAgdGhpcy5yZWNvcmRpbmdQcm9kU3RhY2sgPSBbXTtcbiAgICAgICAgdGhpcy5SRUNPUkRJTkdfUEhBU0UgPSBmYWxzZTtcbiAgICB9O1xuICAgIEdhc3RSZWNvcmRlci5wcm90b3R5cGUuZW5hYmxlUmVjb3JkaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLlJFQ09SRElOR19QSEFTRSA9IHRydWU7XG4gICAgICAgIHRoaXMuVFJBQ0VfSU5JVChcIkVuYWJsZSBSZWNvcmRpbmdcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF9sb29wXzEgPSBmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgICAgIHZhciBpZHggPSBpID4gMCA/IGkgOiBcIlwiO1xuICAgICAgICAgICAgICAgIF90aGlzW1wiQ09OU1VNRVwiICsgaWR4XSA9IGZ1bmN0aW9uIChhcmcxLCBhcmcyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnN1bWVJbnRlcm5hbFJlY29yZChhcmcxLCBpLCBhcmcyKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIF90aGlzW1wiU1VCUlVMRVwiICsgaWR4XSA9IGZ1bmN0aW9uIChhcmcxLCBhcmcyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnN1YnJ1bGVJbnRlcm5hbFJlY29yZChhcmcxLCBpLCBhcmcyKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIF90aGlzW1wiT1BUSU9OXCIgKyBpZHhdID0gZnVuY3Rpb24gKGFyZzEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9uSW50ZXJuYWxSZWNvcmQoYXJnMSwgaSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBfdGhpc1tcIk9SXCIgKyBpZHhdID0gZnVuY3Rpb24gKGFyZzEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMub3JJbnRlcm5hbFJlY29yZChhcmcxLCBpKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIF90aGlzW1wiTUFOWVwiICsgaWR4XSA9IGZ1bmN0aW9uIChhcmcxKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWFueUludGVybmFsUmVjb3JkKGksIGFyZzEpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgX3RoaXNbXCJNQU5ZX1NFUFwiICsgaWR4XSA9IGZ1bmN0aW9uIChhcmcxKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWFueVNlcEZpcnN0SW50ZXJuYWxSZWNvcmQoaSwgYXJnMSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBfdGhpc1tcIkFUX0xFQVNUX09ORVwiICsgaWR4XSA9IGZ1bmN0aW9uIChhcmcxKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXRMZWFzdE9uZUludGVybmFsUmVjb3JkKGksIGFyZzEpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgX3RoaXNbXCJBVF9MRUFTVF9PTkVfU0VQXCIgKyBpZHhdID0gZnVuY3Rpb24gKGFyZzEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdExlYXN0T25lU2VwRmlyc3RJbnRlcm5hbFJlY29yZChpLCBhcmcxKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogV2FybmluZyBEYXJrIFZvb2RvbyBNYWdpYyB1cGNvbWluZyFcbiAgICAgICAgICAgICAqIFdlIGFyZSBcInJlcGxhY2luZ1wiIHRoZSBwdWJsaWMgcGFyc2luZyBEU0wgbWV0aG9kcyBBUElcbiAgICAgICAgICAgICAqIFdpdGggKipuZXcqKiBhbHRlcm5hdGl2ZSBpbXBsZW1lbnRhdGlvbnMgb24gdGhlIFBhcnNlciAqKmluc3RhbmNlKipcbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBTbyBmYXIgdGhpcyBpcyB0aGUgb25seSB3YXkgSSd2ZSBmb3VuZCB0byBhdm9pZCBwZXJmb3JtYW5jZSByZWdyZXNzaW9ucyBkdXJpbmcgcGFyc2luZyB0aW1lLlxuICAgICAgICAgICAgICogLSBBcHByb3ggMzAlIHBlcmZvcm1hbmNlIHJlZ3Jlc3Npb24gd2FzIG1lYXN1cmVkIG9uIENocm9tZSA3NSBDYW5hcnkgd2hlbiBhdHRlbXB0aW5nIHRvIHJlcGxhY2UgdGhlIFwiaW50ZXJuYWxcIlxuICAgICAgICAgICAgICogICBpbXBsZW1lbnRhdGlvbnMgZGlyZWN0bHkgaW5zdGVhZC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgX2xvb3BfMShpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIERTTCBtZXRob2RzIHdpdGggdGhlIGlkeChzdWZmaXgpIGFzIGFuIGFyZ3VtZW50XG4gICAgICAgICAgICBfdGhpc1tcImNvbnN1bWVcIl0gPSBmdW5jdGlvbiAoaWR4LCBhcmcxLCBhcmcyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29uc3VtZUludGVybmFsUmVjb3JkKGFyZzEsIGlkeCwgYXJnMik7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgX3RoaXNbXCJzdWJydWxlXCJdID0gZnVuY3Rpb24gKGlkeCwgYXJnMSwgYXJnMikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnN1YnJ1bGVJbnRlcm5hbFJlY29yZChhcmcxLCBpZHgsIGFyZzIpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIF90aGlzW1wib3B0aW9uXCJdID0gZnVuY3Rpb24gKGlkeCwgYXJnMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm9wdGlvbkludGVybmFsUmVjb3JkKGFyZzEsIGlkeCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgX3RoaXNbXCJvclwiXSA9IGZ1bmN0aW9uIChpZHgsIGFyZzEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5vckludGVybmFsUmVjb3JkKGFyZzEsIGlkeCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgX3RoaXNbXCJtYW55XCJdID0gZnVuY3Rpb24gKGlkeCwgYXJnMSkge1xuICAgICAgICAgICAgICAgIHRoaXMubWFueUludGVybmFsUmVjb3JkKGlkeCwgYXJnMSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgX3RoaXNbXCJhdExlYXN0T25lXCJdID0gZnVuY3Rpb24gKGlkeCwgYXJnMSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYXRMZWFzdE9uZUludGVybmFsUmVjb3JkKGlkeCwgYXJnMSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgX3RoaXMuQUNUSU9OID0gX3RoaXMuQUNUSU9OX1JFQ09SRDtcbiAgICAgICAgICAgIF90aGlzLkJBQ0tUUkFDSyA9IF90aGlzLkJBQ0tUUkFDS19SRUNPUkQ7XG4gICAgICAgICAgICBfdGhpcy5MQSA9IF90aGlzLkxBX1JFQ09SRDtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBHYXN0UmVjb3JkZXIucHJvdG90eXBlLmRpc2FibGVSZWNvcmRpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuUkVDT1JESU5HX1BIQVNFID0gZmFsc2U7XG4gICAgICAgIC8vIEJ5IGRlbGV0aW5nIHRoZXNlICoqaW5zdGFuY2UqKiBwcm9wZXJ0aWVzLCBhbnkgZnV0dXJlIGludm9jYXRpb25cbiAgICAgICAgLy8gd2lsbCBiZSBkZWZlcnJlZCB0byB0aGUgb3JpZ2luYWwgbWV0aG9kcyBvbiB0aGUgKipwcm90b3R5cGUqKiBvYmplY3RcbiAgICAgICAgLy8gVGhpcyBzZWVtcyB0byBnZXQgcmlkIG9mIGFueSBpbmNvcnJlY3Qgb3B0aW1pemF0aW9ucyB0aGF0IFY4IG1heVxuICAgICAgICAvLyBkbyBkdXJpbmcgdGhlIHJlY29yZGluZyBwaGFzZS5cbiAgICAgICAgdGhpcy5UUkFDRV9JTklUKFwiRGVsZXRpbmcgUmVjb3JkaW5nIG1ldGhvZHNcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGlkeCA9IGkgPiAwID8gaSA6IFwiXCI7XG4gICAgICAgICAgICAgICAgZGVsZXRlIF90aGlzW1wiQ09OU1VNRVwiICsgaWR4XTtcbiAgICAgICAgICAgICAgICBkZWxldGUgX3RoaXNbXCJTVUJSVUxFXCIgKyBpZHhdO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBfdGhpc1tcIk9QVElPTlwiICsgaWR4XTtcbiAgICAgICAgICAgICAgICBkZWxldGUgX3RoaXNbXCJPUlwiICsgaWR4XTtcbiAgICAgICAgICAgICAgICBkZWxldGUgX3RoaXNbXCJNQU5ZXCIgKyBpZHhdO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBfdGhpc1tcIk1BTllfU0VQXCIgKyBpZHhdO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBfdGhpc1tcIkFUX0xFQVNUX09ORVwiICsgaWR4XTtcbiAgICAgICAgICAgICAgICBkZWxldGUgX3RoaXNbXCJBVF9MRUFTVF9PTkVfU0VQXCIgKyBpZHhdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVsZXRlIF90aGlzW1wiY29uc3VtZVwiXTtcbiAgICAgICAgICAgIGRlbGV0ZSBfdGhpc1tcInN1YnJ1bGVcIl07XG4gICAgICAgICAgICBkZWxldGUgX3RoaXNbXCJvcHRpb25cIl07XG4gICAgICAgICAgICBkZWxldGUgX3RoaXNbXCJvclwiXTtcbiAgICAgICAgICAgIGRlbGV0ZSBfdGhpc1tcIm1hbnlcIl07XG4gICAgICAgICAgICBkZWxldGUgX3RoaXNbXCJhdExlYXN0T25lXCJdO1xuICAgICAgICAgICAgZGVsZXRlIF90aGlzLkFDVElPTjtcbiAgICAgICAgICAgIGRlbGV0ZSBfdGhpcy5CQUNLVFJBQ0s7XG4gICAgICAgICAgICBkZWxldGUgX3RoaXMuTEE7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLy8gVE9ETzogaXMgdGhlcmUgYW55IHdheSB0byB1c2UgdGhpcyBtZXRob2QgdG8gY2hlY2sgbm9cbiAgICAvLyAgIFBhcnNlciBtZXRob2RzIGFyZSBjYWxsZWQgaW5zaWRlIGFuIEFDVElPTj9cbiAgICAvLyAgIE1heWJlIHRyeS9jYXRjaC9maW5hbGx5IG9uIEFDVElPTlMgd2hpbGUgZGlzYWJsaW5nIHRoZSByZWNvcmRlcnMgc3RhdGUgY2hhbmdlcz9cbiAgICBHYXN0UmVjb3JkZXIucHJvdG90eXBlLkFDVElPTl9SRUNPUkQgPSBmdW5jdGlvbiAoaW1wbCkge1xuICAgICAgICAvLyBOTy1PUCBkdXJpbmcgcmVjb3JkaW5nXG4gICAgICAgIHJldHVybjtcbiAgICB9O1xuICAgIC8vIEV4ZWN1dGluZyBiYWNrdHJhY2tpbmcgbG9naWMgd2lsbCBicmVhayBvdXIgcmVjb3JkaW5nIGxvZ2ljIGFzc3VtcHRpb25zXG4gICAgR2FzdFJlY29yZGVyLnByb3RvdHlwZS5CQUNLVFJBQ0tfUkVDT1JEID0gZnVuY3Rpb24gKGdyYW1tYXJSdWxlLCBhcmdzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7IHJldHVybiB0cnVlOyB9O1xuICAgIH07XG4gICAgLy8gTEEgaXMgcGFydCBvZiB0aGUgb2ZmaWNpYWwgQVBJIGFuZCBtYXkgYmUgdXNlZCBmb3IgY3VzdG9tIGxvb2thaGVhZCBsb2dpY1xuICAgIC8vIGJ5IGVuZCB1c2VycyB3aG8gbWF5IGZvcmdldCB0byB3cmFwIGl0IGluIEFDVElPTiBvciBpbnNpZGUgYSBHQVRFXG4gICAgR2FzdFJlY29yZGVyLnByb3RvdHlwZS5MQV9SRUNPUkQgPSBmdW5jdGlvbiAoaG93TXVjaCkge1xuICAgICAgICAvLyBXZSBjYW5ub3QgdXNlIHRoZSBSRUNPUkRfUEhBU0VfVE9LRU4gaGVyZSBiZWNhdXNlIHNvbWVvbmUgbWF5IGRlcGVuZFxuICAgICAgICAvLyBPbiBMQSByZXR1cm4gRU9GIGF0IHRoZSBlbmQgb2YgdGhlIGlucHV0IHNvIGFuIGluZmluaXRlIGxvb3AgbWF5IG9jY3VyLlxuICAgICAgICByZXR1cm4gRU5EX09GX0ZJTEU7XG4gICAgfTtcbiAgICBHYXN0UmVjb3JkZXIucHJvdG90eXBlLnRvcExldmVsUnVsZVJlY29yZCA9IGZ1bmN0aW9uIChuYW1lLCBkZWYpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBuZXdUb3BMZXZlbFJ1bGUgPSBuZXcgUnVsZSh7IGRlZmluaXRpb246IFtdLCBuYW1lOiBuYW1lIH0pO1xuICAgICAgICAgICAgbmV3VG9wTGV2ZWxSdWxlLm5hbWUgPSBuYW1lO1xuICAgICAgICAgICAgdGhpcy5yZWNvcmRpbmdQcm9kU3RhY2sucHVzaChuZXdUb3BMZXZlbFJ1bGUpO1xuICAgICAgICAgICAgZGVmLmNhbGwodGhpcyk7XG4gICAgICAgICAgICB0aGlzLnJlY29yZGluZ1Byb2RTdGFjay5wb3AoKTtcbiAgICAgICAgICAgIHJldHVybiBuZXdUb3BMZXZlbFJ1bGU7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKG9yaWdpbmFsRXJyb3IpIHtcbiAgICAgICAgICAgIGlmIChvcmlnaW5hbEVycm9yLktOT1dOX1JFQ09SREVSX0VSUk9SICE9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxFcnJvci5tZXNzYWdlID1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsRXJyb3IubWVzc2FnZSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1xcblxcdCBUaGlzIGVycm9yIHdhcyB0aHJvd24gZHVyaW5nIHRoZSBcImdyYW1tYXIgcmVjb3JkaW5nIHBoYXNlXCIgRm9yIG1vcmUgaW5mbyBzZWU6XFxuXFx0JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJodHRwczovL3NhcC5naXRodWIuaW8vY2hldnJvdGFpbi9kb2NzL2d1aWRlL2ludGVybmFscy5odG1sI2dyYW1tYXItcmVjb3JkaW5nXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChtdXRhYmlsaXR5RXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgbWF5IG5vdCBiZSBhYmxlIHRvIG1vZGlmeSB0aGUgb3JpZ2luYWwgZXJyb3Igb2JqZWN0XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG9yaWdpbmFsRXJyb3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgb3JpZ2luYWxFcnJvcjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLy8gSW1wbGVtZW50YXRpb24gb2YgcGFyc2luZyBEU0xcbiAgICBHYXN0UmVjb3JkZXIucHJvdG90eXBlLm9wdGlvbkludGVybmFsUmVjb3JkID0gZnVuY3Rpb24gKGFjdGlvbk9STWV0aG9kRGVmLCBvY2N1cnJlbmNlKSB7XG4gICAgICAgIHJldHVybiByZWNvcmRQcm9kLmNhbGwodGhpcywgT3B0aW9uLCBhY3Rpb25PUk1ldGhvZERlZiwgb2NjdXJyZW5jZSk7XG4gICAgfTtcbiAgICBHYXN0UmVjb3JkZXIucHJvdG90eXBlLmF0TGVhc3RPbmVJbnRlcm5hbFJlY29yZCA9IGZ1bmN0aW9uIChvY2N1cnJlbmNlLCBhY3Rpb25PUk1ldGhvZERlZikge1xuICAgICAgICByZWNvcmRQcm9kLmNhbGwodGhpcywgUmVwZXRpdGlvbk1hbmRhdG9yeSwgYWN0aW9uT1JNZXRob2REZWYsIG9jY3VycmVuY2UpO1xuICAgIH07XG4gICAgR2FzdFJlY29yZGVyLnByb3RvdHlwZS5hdExlYXN0T25lU2VwRmlyc3RJbnRlcm5hbFJlY29yZCA9IGZ1bmN0aW9uIChvY2N1cnJlbmNlLCBvcHRpb25zKSB7XG4gICAgICAgIHJlY29yZFByb2QuY2FsbCh0aGlzLCBSZXBldGl0aW9uTWFuZGF0b3J5V2l0aFNlcGFyYXRvciwgb3B0aW9ucywgb2NjdXJyZW5jZSwgSEFORExFX1NFUEFSQVRPUik7XG4gICAgfTtcbiAgICBHYXN0UmVjb3JkZXIucHJvdG90eXBlLm1hbnlJbnRlcm5hbFJlY29yZCA9IGZ1bmN0aW9uIChvY2N1cnJlbmNlLCBhY3Rpb25PUk1ldGhvZERlZikge1xuICAgICAgICByZWNvcmRQcm9kLmNhbGwodGhpcywgUmVwZXRpdGlvbiwgYWN0aW9uT1JNZXRob2REZWYsIG9jY3VycmVuY2UpO1xuICAgIH07XG4gICAgR2FzdFJlY29yZGVyLnByb3RvdHlwZS5tYW55U2VwRmlyc3RJbnRlcm5hbFJlY29yZCA9IGZ1bmN0aW9uIChvY2N1cnJlbmNlLCBvcHRpb25zKSB7XG4gICAgICAgIHJlY29yZFByb2QuY2FsbCh0aGlzLCBSZXBldGl0aW9uV2l0aFNlcGFyYXRvciwgb3B0aW9ucywgb2NjdXJyZW5jZSwgSEFORExFX1NFUEFSQVRPUik7XG4gICAgfTtcbiAgICBHYXN0UmVjb3JkZXIucHJvdG90eXBlLm9ySW50ZXJuYWxSZWNvcmQgPSBmdW5jdGlvbiAoYWx0c09yT3B0cywgb2NjdXJyZW5jZSkge1xuICAgICAgICByZXR1cm4gcmVjb3JkT3JQcm9kLmNhbGwodGhpcywgYWx0c09yT3B0cywgb2NjdXJyZW5jZSk7XG4gICAgfTtcbiAgICBHYXN0UmVjb3JkZXIucHJvdG90eXBlLnN1YnJ1bGVJbnRlcm5hbFJlY29yZCA9IGZ1bmN0aW9uIChydWxlVG9DYWxsLCBvY2N1cnJlbmNlLCBvcHRpb25zKSB7XG4gICAgICAgIGFzc2VydE1ldGhvZElkeElzVmFsaWQob2NjdXJyZW5jZSk7XG4gICAgICAgIGlmICghcnVsZVRvQ2FsbCB8fCBoYXMocnVsZVRvQ2FsbCwgXCJydWxlTmFtZVwiKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHZhciBlcnJvciA9IG5ldyBFcnJvcihcIjxTVUJSVUxFXCIgKyBnZXRJZHhTdWZmaXgob2NjdXJyZW5jZSkgKyBcIj4gYXJndW1lbnQgaXMgaW52YWxpZFwiICtcbiAgICAgICAgICAgICAgICAoXCIgZXhwZWN0aW5nIGEgUGFyc2VyIG1ldGhvZCByZWZlcmVuY2UgYnV0IGdvdDogPFwiICsgSlNPTi5zdHJpbmdpZnkocnVsZVRvQ2FsbCkgKyBcIj5cIikgK1xuICAgICAgICAgICAgICAgIChcIlxcbiBpbnNpZGUgdG9wIGxldmVsIHJ1bGU6IDxcIiArIHRoaXMucmVjb3JkaW5nUHJvZFN0YWNrWzBdLm5hbWUgKyBcIj5cIikpO1xuICAgICAgICAgICAgZXJyb3IuS05PV05fUkVDT1JERVJfRVJST1IgPSB0cnVlO1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHByZXZQcm9kID0gcGVlayh0aGlzLnJlY29yZGluZ1Byb2RTdGFjayk7XG4gICAgICAgIHZhciBydWxlTmFtZSA9IHJ1bGVUb0NhbGxbXCJydWxlTmFtZVwiXTtcbiAgICAgICAgdmFyIG5ld05vbmVUZXJtaW5hbCA9IG5ldyBOb25UZXJtaW5hbCh7XG4gICAgICAgICAgICBpZHg6IG9jY3VycmVuY2UsXG4gICAgICAgICAgICBub25UZXJtaW5hbE5hbWU6IHJ1bGVOYW1lLFxuICAgICAgICAgICAgLy8gVGhlIHJlc29sdmluZyBvZiB0aGUgYHJlZmVyZW5jZWRSdWxlYCBwcm9wZXJ0eSB3aWxsIGJlIGRvbmUgb25jZSBhbGwgdGhlIFJ1bGUncyBHQVNUcyBoYXZlIGJlZW4gY3JlYXRlZFxuICAgICAgICAgICAgcmVmZXJlbmNlZFJ1bGU6IHVuZGVmaW5lZFxuICAgICAgICB9KTtcbiAgICAgICAgcHJldlByb2QuZGVmaW5pdGlvbi5wdXNoKG5ld05vbmVUZXJtaW5hbCk7XG4gICAgICAgIHJldHVybiB0aGlzLm91dHB1dENzdCA/IFJFQ09SRElOR19QSEFTRV9DU1ROT0RFIDogUkVDT1JESU5HX05VTExfT0JKRUNUO1xuICAgIH07XG4gICAgR2FzdFJlY29yZGVyLnByb3RvdHlwZS5jb25zdW1lSW50ZXJuYWxSZWNvcmQgPSBmdW5jdGlvbiAodG9rVHlwZSwgb2NjdXJyZW5jZSwgb3B0aW9ucykge1xuICAgICAgICBhc3NlcnRNZXRob2RJZHhJc1ZhbGlkKG9jY3VycmVuY2UpO1xuICAgICAgICBpZiAoIWhhc1Nob3J0S2V5UHJvcGVydHkodG9rVHlwZSkpIHtcbiAgICAgICAgICAgIHZhciBlcnJvciA9IG5ldyBFcnJvcihcIjxDT05TVU1FXCIgKyBnZXRJZHhTdWZmaXgob2NjdXJyZW5jZSkgKyBcIj4gYXJndW1lbnQgaXMgaW52YWxpZFwiICtcbiAgICAgICAgICAgICAgICAoXCIgZXhwZWN0aW5nIGEgVG9rZW5UeXBlIHJlZmVyZW5jZSBidXQgZ290OiA8XCIgKyBKU09OLnN0cmluZ2lmeSh0b2tUeXBlKSArIFwiPlwiKSArXG4gICAgICAgICAgICAgICAgKFwiXFxuIGluc2lkZSB0b3AgbGV2ZWwgcnVsZTogPFwiICsgdGhpcy5yZWNvcmRpbmdQcm9kU3RhY2tbMF0ubmFtZSArIFwiPlwiKSk7XG4gICAgICAgICAgICBlcnJvci5LTk9XTl9SRUNPUkRFUl9FUlJPUiA9IHRydWU7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcHJldlByb2QgPSBwZWVrKHRoaXMucmVjb3JkaW5nUHJvZFN0YWNrKTtcbiAgICAgICAgdmFyIG5ld05vbmVUZXJtaW5hbCA9IG5ldyBUZXJtaW5hbCh7XG4gICAgICAgICAgICBpZHg6IG9jY3VycmVuY2UsXG4gICAgICAgICAgICB0ZXJtaW5hbFR5cGU6IHRva1R5cGVcbiAgICAgICAgfSk7XG4gICAgICAgIHByZXZQcm9kLmRlZmluaXRpb24ucHVzaChuZXdOb25lVGVybWluYWwpO1xuICAgICAgICByZXR1cm4gUkVDT1JESU5HX1BIQVNFX1RPS0VOO1xuICAgIH07XG4gICAgcmV0dXJuIEdhc3RSZWNvcmRlcjtcbn0oKSk7XG5leHBvcnQgeyBHYXN0UmVjb3JkZXIgfTtcbmZ1bmN0aW9uIHJlY29yZFByb2QocHJvZENvbnN0cnVjdG9yLCBtYWluUHJvZEFyZywgb2NjdXJyZW5jZSwgaGFuZGxlU2VwKSB7XG4gICAgaWYgKGhhbmRsZVNlcCA9PT0gdm9pZCAwKSB7IGhhbmRsZVNlcCA9IGZhbHNlOyB9XG4gICAgYXNzZXJ0TWV0aG9kSWR4SXNWYWxpZChvY2N1cnJlbmNlKTtcbiAgICB2YXIgcHJldlByb2QgPSBwZWVrKHRoaXMucmVjb3JkaW5nUHJvZFN0YWNrKTtcbiAgICB2YXIgZ3JhbW1hckFjdGlvbiA9IGlzRnVuY3Rpb24obWFpblByb2RBcmcpID8gbWFpblByb2RBcmcgOiBtYWluUHJvZEFyZy5ERUY7XG4gICAgdmFyIG5ld1Byb2QgPSBuZXcgcHJvZENvbnN0cnVjdG9yKHsgZGVmaW5pdGlvbjogW10sIGlkeDogb2NjdXJyZW5jZSB9KTtcbiAgICBpZiAoaGFuZGxlU2VwKSB7XG4gICAgICAgIG5ld1Byb2Quc2VwYXJhdG9yID0gbWFpblByb2RBcmcuU0VQO1xuICAgIH1cbiAgICBpZiAoaGFzKG1haW5Qcm9kQXJnLCBcIk1BWF9MT09LQUhFQURcIikpIHtcbiAgICAgICAgbmV3UHJvZC5tYXhMb29rYWhlYWQgPSBtYWluUHJvZEFyZy5NQVhfTE9PS0FIRUFEO1xuICAgIH1cbiAgICB0aGlzLnJlY29yZGluZ1Byb2RTdGFjay5wdXNoKG5ld1Byb2QpO1xuICAgIGdyYW1tYXJBY3Rpb24uY2FsbCh0aGlzKTtcbiAgICBwcmV2UHJvZC5kZWZpbml0aW9uLnB1c2gobmV3UHJvZCk7XG4gICAgdGhpcy5yZWNvcmRpbmdQcm9kU3RhY2sucG9wKCk7XG4gICAgcmV0dXJuIFJFQ09SRElOR19OVUxMX09CSkVDVDtcbn1cbmZ1bmN0aW9uIHJlY29yZE9yUHJvZChtYWluUHJvZEFyZywgb2NjdXJyZW5jZSkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgYXNzZXJ0TWV0aG9kSWR4SXNWYWxpZChvY2N1cnJlbmNlKTtcbiAgICB2YXIgcHJldlByb2QgPSBwZWVrKHRoaXMucmVjb3JkaW5nUHJvZFN0YWNrKTtcbiAgICAvLyBPbmx5IGFuIGFycmF5IG9mIGFsdGVybmF0aXZlc1xuICAgIHZhciBoYXNPcHRpb25zID0gaXNBcnJheShtYWluUHJvZEFyZykgPT09IGZhbHNlO1xuICAgIHZhciBhbHRzID0gaGFzT3B0aW9ucyA9PT0gZmFsc2UgPyBtYWluUHJvZEFyZyA6IG1haW5Qcm9kQXJnLkRFRjtcbiAgICB2YXIgbmV3T3JQcm9kID0gbmV3IEFsdGVybmF0aW9uKHtcbiAgICAgICAgZGVmaW5pdGlvbjogW10sXG4gICAgICAgIGlkeDogb2NjdXJyZW5jZSxcbiAgICAgICAgaWdub3JlQW1iaWd1aXRpZXM6IGhhc09wdGlvbnMgJiYgbWFpblByb2RBcmcuSUdOT1JFX0FNQklHVUlUSUVTID09PSB0cnVlXG4gICAgfSk7XG4gICAgaWYgKGhhcyhtYWluUHJvZEFyZywgXCJNQVhfTE9PS0FIRUFEXCIpKSB7XG4gICAgICAgIG5ld09yUHJvZC5tYXhMb29rYWhlYWQgPSBtYWluUHJvZEFyZy5NQVhfTE9PS0FIRUFEO1xuICAgIH1cbiAgICB2YXIgaGFzUHJlZGljYXRlcyA9IHNvbWUoYWx0cywgZnVuY3Rpb24gKGN1cnJBbHQpIHsgcmV0dXJuIGlzRnVuY3Rpb24oY3VyckFsdC5HQVRFKTsgfSk7XG4gICAgbmV3T3JQcm9kLmhhc1ByZWRpY2F0ZXMgPSBoYXNQcmVkaWNhdGVzO1xuICAgIHByZXZQcm9kLmRlZmluaXRpb24ucHVzaChuZXdPclByb2QpO1xuICAgIGZvckVhY2goYWx0cywgZnVuY3Rpb24gKGN1cnJBbHQpIHtcbiAgICAgICAgdmFyIGN1cnJBbHRGbGF0ID0gbmV3IEFsdGVybmF0aXZlKHsgZGVmaW5pdGlvbjogW10gfSk7XG4gICAgICAgIG5ld09yUHJvZC5kZWZpbml0aW9uLnB1c2goY3VyckFsdEZsYXQpO1xuICAgICAgICBpZiAoaGFzKGN1cnJBbHQsIFwiSUdOT1JFX0FNQklHVUlUSUVTXCIpKSB7XG4gICAgICAgICAgICBjdXJyQWx0RmxhdC5pZ25vcmVBbWJpZ3VpdGllcyA9IGN1cnJBbHQuSUdOT1JFX0FNQklHVUlUSUVTO1xuICAgICAgICB9XG4gICAgICAgIC8vICoqaW1wbGljaXQqKiBpZ25vcmVBbWJpZ3VpdGllcyBkdWUgdG8gdXNhZ2Ugb2YgZ2F0ZVxuICAgICAgICBlbHNlIGlmIChoYXMoY3VyckFsdCwgXCJHQVRFXCIpKSB7XG4gICAgICAgICAgICBjdXJyQWx0RmxhdC5pZ25vcmVBbWJpZ3VpdGllcyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMucmVjb3JkaW5nUHJvZFN0YWNrLnB1c2goY3VyckFsdEZsYXQpO1xuICAgICAgICBjdXJyQWx0LkFMVC5jYWxsKF90aGlzKTtcbiAgICAgICAgX3RoaXMucmVjb3JkaW5nUHJvZFN0YWNrLnBvcCgpO1xuICAgIH0pO1xuICAgIHJldHVybiBSRUNPUkRJTkdfTlVMTF9PQkpFQ1Q7XG59XG5mdW5jdGlvbiBnZXRJZHhTdWZmaXgoaWR4KSB7XG4gICAgcmV0dXJuIGlkeCA9PT0gMCA/IFwiXCIgOiBcIlwiICsgaWR4O1xufVxuZnVuY3Rpb24gYXNzZXJ0TWV0aG9kSWR4SXNWYWxpZChpZHgpIHtcbiAgICBpZiAoaWR4IDwgMCB8fCBpZHggPiBNQVhfTUVUSE9EX0lEWCkge1xuICAgICAgICB2YXIgZXJyb3IgPSBuZXcgRXJyb3IoXG4gICAgICAgIC8vIFRoZSBzdGFjayB0cmFjZSB3aWxsIGNvbnRhaW4gYWxsIHRoZSBuZWVkZWQgZGV0YWlsc1xuICAgICAgICBcIkludmFsaWQgRFNMIE1ldGhvZCBpZHggdmFsdWU6IDxcIiArIGlkeCArIFwiPlxcblxcdFwiICtcbiAgICAgICAgICAgIChcIklkeCB2YWx1ZSBtdXN0IGJlIGEgbm9uZSBuZWdhdGl2ZSB2YWx1ZSBzbWFsbGVyIHRoYW4gXCIgKyAoTUFYX01FVEhPRF9JRFggKyAxKSkpO1xuICAgICAgICBlcnJvci5LTk9XTl9SRUNPUkRFUl9FUlJPUiA9IHRydWU7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdhc3RfcmVjb3JkZXIuanMubWFwIiwiaW1wb3J0IHsgaGFzLCB0aW1lciB9IGZyb20gXCIuLi8uLi8uLi91dGlscy91dGlsc1wiO1xuaW1wb3J0IHsgREVGQVVMVF9QQVJTRVJfQ09ORklHIH0gZnJvbSBcIi4uL3BhcnNlclwiO1xuLyoqXG4gKiBUcmFpdCByZXNwb25zaWJsZSBmb3IgcnVudGltZSBwYXJzaW5nIGVycm9ycy5cbiAqL1xudmFyIFBlcmZvcm1hbmNlVHJhY2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFBlcmZvcm1hbmNlVHJhY2VyKCkge1xuICAgIH1cbiAgICBQZXJmb3JtYW5jZVRyYWNlci5wcm90b3R5cGUuaW5pdFBlcmZvcm1hbmNlVHJhY2VyID0gZnVuY3Rpb24gKGNvbmZpZykge1xuICAgICAgICBpZiAoaGFzKGNvbmZpZywgXCJ0cmFjZUluaXRQZXJmXCIpKSB7XG4gICAgICAgICAgICB2YXIgdXNlclRyYWNlSW5pdFBlcmYgPSBjb25maWcudHJhY2VJbml0UGVyZjtcbiAgICAgICAgICAgIHZhciB0cmFjZUlzTnVtYmVyID0gdHlwZW9mIHVzZXJUcmFjZUluaXRQZXJmID09PSBcIm51bWJlclwiO1xuICAgICAgICAgICAgdGhpcy50cmFjZUluaXRNYXhJZGVudCA9IHRyYWNlSXNOdW1iZXJcbiAgICAgICAgICAgICAgICA/IHVzZXJUcmFjZUluaXRQZXJmXG4gICAgICAgICAgICAgICAgOiBJbmZpbml0eTtcbiAgICAgICAgICAgIHRoaXMudHJhY2VJbml0UGVyZiA9IHRyYWNlSXNOdW1iZXJcbiAgICAgICAgICAgICAgICA/IHVzZXJUcmFjZUluaXRQZXJmID4gMFxuICAgICAgICAgICAgICAgIDogdXNlclRyYWNlSW5pdFBlcmY7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnRyYWNlSW5pdE1heElkZW50ID0gMDtcbiAgICAgICAgICAgIHRoaXMudHJhY2VJbml0UGVyZiA9IERFRkFVTFRfUEFSU0VSX0NPTkZJRy50cmFjZUluaXRQZXJmO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudHJhY2VJbml0SW5kZW50ID0gLTE7XG4gICAgfTtcbiAgICBQZXJmb3JtYW5jZVRyYWNlci5wcm90b3R5cGUuVFJBQ0VfSU5JVCA9IGZ1bmN0aW9uIChwaGFzZURlc2MsIHBoYXNlSW1wbCkge1xuICAgICAgICAvLyBObyBuZWVkIHRvIG9wdGltaXplIHRoaXMgdXNpbmcgTk9PUCBwYXR0ZXJuIGJlY2F1c2VcbiAgICAgICAgLy8gSXQgaXMgbm90IGNhbGxlZCBpbiBhIGhvdCBzcG90Li4uXG4gICAgICAgIGlmICh0aGlzLnRyYWNlSW5pdFBlcmYgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHRoaXMudHJhY2VJbml0SW5kZW50Kys7XG4gICAgICAgICAgICB2YXIgaW5kZW50ID0gbmV3IEFycmF5KHRoaXMudHJhY2VJbml0SW5kZW50ICsgMSkuam9pbihcIlxcdFwiKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnRyYWNlSW5pdEluZGVudCA8IHRoaXMudHJhY2VJbml0TWF4SWRlbnQpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhpbmRlbnQgKyBcIi0tPiA8XCIgKyBwaGFzZURlc2MgKyBcIj5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgX2EgPSB0aW1lcihwaGFzZUltcGwpLCB0aW1lID0gX2EudGltZSwgdmFsdWUgPSBfYS52YWx1ZTtcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0IC0gRGlmZmljdWx0IHRvIHJlcHJvZHVjZSBzcGVjaWZpYyBwZXJmb3JtYW5jZSBiZWhhdmlvciAoPjEwbXMpIGluIHRlc3RzICovXG4gICAgICAgICAgICB2YXIgdHJhY2VNZXRob2QgPSB0aW1lID4gMTAgPyBjb25zb2xlLndhcm4gOiBjb25zb2xlLmxvZztcbiAgICAgICAgICAgIGlmICh0aGlzLnRyYWNlSW5pdEluZGVudCA8IHRoaXMudHJhY2VJbml0TWF4SWRlbnQpIHtcbiAgICAgICAgICAgICAgICB0cmFjZU1ldGhvZChpbmRlbnQgKyBcIjwtLSA8XCIgKyBwaGFzZURlc2MgKyBcIj4gdGltZTogXCIgKyB0aW1lICsgXCJtc1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudHJhY2VJbml0SW5kZW50LS07XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gcGhhc2VJbXBsKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBQZXJmb3JtYW5jZVRyYWNlcjtcbn0oKSk7XG5leHBvcnQgeyBQZXJmb3JtYW5jZVRyYWNlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGVyZl90cmFjZXIuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5pbXBvcnQgeyBhcHBseU1peGlucywgY2xvbmVPYmosIGZvckVhY2gsIGhhcywgaXNFbXB0eSwgbWFwLCB0b0Zhc3RQcm9wZXJ0aWVzLCB2YWx1ZXMgfSBmcm9tIFwiLi4vLi4vdXRpbHMvdXRpbHNcIjtcbmltcG9ydCB7IGNvbXB1dGVBbGxQcm9kc0ZvbGxvd3MgfSBmcm9tIFwiLi4vZ3JhbW1hci9mb2xsb3dcIjtcbmltcG9ydCB7IGNyZWF0ZVRva2VuSW5zdGFuY2UsIEVPRiB9IGZyb20gXCIuLi8uLi9zY2FuL3Rva2Vuc19wdWJsaWNcIjtcbmltcG9ydCB7IGRlZmF1bHRHcmFtbWFyVmFsaWRhdG9yRXJyb3JQcm92aWRlciwgZGVmYXVsdFBhcnNlckVycm9yUHJvdmlkZXIgfSBmcm9tIFwiLi4vZXJyb3JzX3B1YmxpY1wiO1xuaW1wb3J0IHsgcmVzb2x2ZUdyYW1tYXIsIHZhbGlkYXRlR3JhbW1hciB9IGZyb20gXCIuLi9ncmFtbWFyL2dhc3QvZ2FzdF9yZXNvbHZlcl9wdWJsaWNcIjtcbmltcG9ydCB7IFJlY292ZXJhYmxlIH0gZnJvbSBcIi4vdHJhaXRzL3JlY292ZXJhYmxlXCI7XG5pbXBvcnQgeyBMb29rc0FoZWFkIH0gZnJvbSBcIi4vdHJhaXRzL2xvb2tzYWhlYWRcIjtcbmltcG9ydCB7IFRyZWVCdWlsZGVyIH0gZnJvbSBcIi4vdHJhaXRzL3RyZWVfYnVpbGRlclwiO1xuaW1wb3J0IHsgTGV4ZXJBZGFwdGVyIH0gZnJvbSBcIi4vdHJhaXRzL2xleGVyX2FkYXB0ZXJcIjtcbmltcG9ydCB7IFJlY29nbml6ZXJBcGkgfSBmcm9tIFwiLi90cmFpdHMvcmVjb2duaXplcl9hcGlcIjtcbmltcG9ydCB7IFJlY29nbml6ZXJFbmdpbmUgfSBmcm9tIFwiLi90cmFpdHMvcmVjb2duaXplcl9lbmdpbmVcIjtcbmltcG9ydCB7IEVycm9ySGFuZGxlciB9IGZyb20gXCIuL3RyYWl0cy9lcnJvcl9oYW5kbGVyXCI7XG5pbXBvcnQgeyBDb250ZW50QXNzaXN0IH0gZnJvbSBcIi4vdHJhaXRzL2NvbnRleHRfYXNzaXN0XCI7XG5pbXBvcnQgeyBHYXN0UmVjb3JkZXIgfSBmcm9tIFwiLi90cmFpdHMvZ2FzdF9yZWNvcmRlclwiO1xuaW1wb3J0IHsgUGVyZm9ybWFuY2VUcmFjZXIgfSBmcm9tIFwiLi90cmFpdHMvcGVyZl90cmFjZXJcIjtcbmV4cG9ydCB2YXIgRU5EX09GX0ZJTEUgPSBjcmVhdGVUb2tlbkluc3RhbmNlKEVPRiwgXCJcIiwgTmFOLCBOYU4sIE5hTiwgTmFOLCBOYU4sIE5hTik7XG5PYmplY3QuZnJlZXplKEVORF9PRl9GSUxFKTtcbmV4cG9ydCB2YXIgREVGQVVMVF9QQVJTRVJfQ09ORklHID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgcmVjb3ZlcnlFbmFibGVkOiBmYWxzZSxcbiAgICBtYXhMb29rYWhlYWQ6IDMsXG4gICAgZHluYW1pY1Rva2Vuc0VuYWJsZWQ6IGZhbHNlLFxuICAgIG91dHB1dENzdDogdHJ1ZSxcbiAgICBlcnJvck1lc3NhZ2VQcm92aWRlcjogZGVmYXVsdFBhcnNlckVycm9yUHJvdmlkZXIsXG4gICAgbm9kZUxvY2F0aW9uVHJhY2tpbmc6IFwibm9uZVwiLFxuICAgIHRyYWNlSW5pdFBlcmY6IGZhbHNlLFxuICAgIHNraXBWYWxpZGF0aW9uczogZmFsc2Vcbn0pO1xuZXhwb3J0IHZhciBERUZBVUxUX1JVTEVfQ09ORklHID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgcmVjb3ZlcnlWYWx1ZUZ1bmM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSxcbiAgICByZXN5bmNFbmFibGVkOiB0cnVlXG59KTtcbmV4cG9ydCB2YXIgUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZTtcbihmdW5jdGlvbiAoUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZSkge1xuICAgIFBhcnNlckRlZmluaXRpb25FcnJvclR5cGVbUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZVtcIklOVkFMSURfUlVMRV9OQU1FXCJdID0gMF0gPSBcIklOVkFMSURfUlVMRV9OQU1FXCI7XG4gICAgUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZVtQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlW1wiRFVQTElDQVRFX1JVTEVfTkFNRVwiXSA9IDFdID0gXCJEVVBMSUNBVEVfUlVMRV9OQU1FXCI7XG4gICAgUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZVtQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlW1wiSU5WQUxJRF9SVUxFX09WRVJSSURFXCJdID0gMl0gPSBcIklOVkFMSURfUlVMRV9PVkVSUklERVwiO1xuICAgIFBhcnNlckRlZmluaXRpb25FcnJvclR5cGVbUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZVtcIkRVUExJQ0FURV9QUk9EVUNUSU9OU1wiXSA9IDNdID0gXCJEVVBMSUNBVEVfUFJPRFVDVElPTlNcIjtcbiAgICBQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlW1BhcnNlckRlZmluaXRpb25FcnJvclR5cGVbXCJVTlJFU09MVkVEX1NVQlJVTEVfUkVGXCJdID0gNF0gPSBcIlVOUkVTT0xWRURfU1VCUlVMRV9SRUZcIjtcbiAgICBQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlW1BhcnNlckRlZmluaXRpb25FcnJvclR5cGVbXCJMRUZUX1JFQ1VSU0lPTlwiXSA9IDVdID0gXCJMRUZUX1JFQ1VSU0lPTlwiO1xuICAgIFBhcnNlckRlZmluaXRpb25FcnJvclR5cGVbUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZVtcIk5PTkVfTEFTVF9FTVBUWV9BTFRcIl0gPSA2XSA9IFwiTk9ORV9MQVNUX0VNUFRZX0FMVFwiO1xuICAgIFBhcnNlckRlZmluaXRpb25FcnJvclR5cGVbUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZVtcIkFNQklHVU9VU19BTFRTXCJdID0gN10gPSBcIkFNQklHVU9VU19BTFRTXCI7XG4gICAgUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZVtQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlW1wiQ09ORkxJQ1RfVE9LRU5TX1JVTEVTX05BTUVTUEFDRVwiXSA9IDhdID0gXCJDT05GTElDVF9UT0tFTlNfUlVMRVNfTkFNRVNQQUNFXCI7XG4gICAgUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZVtQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlW1wiSU5WQUxJRF9UT0tFTl9OQU1FXCJdID0gOV0gPSBcIklOVkFMSURfVE9LRU5fTkFNRVwiO1xuICAgIFBhcnNlckRlZmluaXRpb25FcnJvclR5cGVbUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZVtcIk5PX05PTl9FTVBUWV9MT09LQUhFQURcIl0gPSAxMF0gPSBcIk5PX05PTl9FTVBUWV9MT09LQUhFQURcIjtcbiAgICBQYXJzZXJEZWZpbml0aW9uRXJyb3JUeXBlW1BhcnNlckRlZmluaXRpb25FcnJvclR5cGVbXCJBTUJJR1VPVVNfUFJFRklYX0FMVFNcIl0gPSAxMV0gPSBcIkFNQklHVU9VU19QUkVGSVhfQUxUU1wiO1xuICAgIFBhcnNlckRlZmluaXRpb25FcnJvclR5cGVbUGFyc2VyRGVmaW5pdGlvbkVycm9yVHlwZVtcIlRPT19NQU5ZX0FMVFNcIl0gPSAxMl0gPSBcIlRPT19NQU5ZX0FMVFNcIjtcbn0pKFBhcnNlckRlZmluaXRpb25FcnJvclR5cGUgfHwgKFBhcnNlckRlZmluaXRpb25FcnJvclR5cGUgPSB7fSkpO1xuZXhwb3J0IGZ1bmN0aW9uIEVNUFRZX0FMVCh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PT0gdm9pZCAwKSB7IHZhbHVlID0gdW5kZWZpbmVkOyB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH07XG59XG52YXIgUGFyc2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFBhcnNlcih0b2tlblZvY2FidWxhcnksIGNvbmZpZykge1xuICAgICAgICB0aGlzLmRlZmluaXRpb25FcnJvcnMgPSBbXTtcbiAgICAgICAgdGhpcy5zZWxmQW5hbHlzaXNEb25lID0gZmFsc2U7XG4gICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgdGhhdC5pbml0RXJyb3JIYW5kbGVyKGNvbmZpZyk7XG4gICAgICAgIHRoYXQuaW5pdExleGVyQWRhcHRlcigpO1xuICAgICAgICB0aGF0LmluaXRMb29rc0FoZWFkKGNvbmZpZyk7XG4gICAgICAgIHRoYXQuaW5pdFJlY29nbml6ZXJFbmdpbmUodG9rZW5Wb2NhYnVsYXJ5LCBjb25maWcpO1xuICAgICAgICB0aGF0LmluaXRSZWNvdmVyYWJsZShjb25maWcpO1xuICAgICAgICB0aGF0LmluaXRUcmVlQnVpbGRlcihjb25maWcpO1xuICAgICAgICB0aGF0LmluaXRDb250ZW50QXNzaXN0KCk7XG4gICAgICAgIHRoYXQuaW5pdEdhc3RSZWNvcmRlcihjb25maWcpO1xuICAgICAgICB0aGF0LmluaXRQZXJmb3JtYW5jZVRyYWNlcihjb25maWcpO1xuICAgICAgICBpZiAoaGFzKGNvbmZpZywgXCJpZ25vcmVkSXNzdWVzXCIpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgPGlnbm9yZWRJc3N1ZXM+IElQYXJzZXJDb25maWcgcHJvcGVydHkgaGFzIGJlZW4gZGVwcmVjYXRlZC5cXG5cXHRcIiArXG4gICAgICAgICAgICAgICAgXCJQbGVhc2UgdXNlIHRoZSA8SUdOT1JFX0FNQklHVUlUSUVTPiBmbGFnIG9uIHRoZSByZWxldmFudCBEU0wgbWV0aG9kIGluc3RlYWQuXFxuXFx0XCIgK1xuICAgICAgICAgICAgICAgIFwiU2VlOiBodHRwczovL3NhcC5naXRodWIuaW8vY2hldnJvdGFpbi9kb2NzL2d1aWRlL3Jlc29sdmluZ19ncmFtbWFyX2Vycm9ycy5odG1sI0lHTk9SSU5HX0FNQklHVUlUSUVTXFxuXFx0XCIgK1xuICAgICAgICAgICAgICAgIFwiRm9yIGZ1cnRoZXIgZGV0YWlscy5cIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5za2lwVmFsaWRhdGlvbnMgPSBoYXMoY29uZmlnLCBcInNraXBWYWxpZGF0aW9uc1wiKVxuICAgICAgICAgICAgPyBjb25maWcuc2tpcFZhbGlkYXRpb25zXG4gICAgICAgICAgICA6IERFRkFVTFRfUEFSU0VSX0NPTkZJRy5za2lwVmFsaWRhdGlvbnM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqICBAZGVwcmVjYXRlZCB1c2UgdGhlICoqaW5zdGFuY2UqKiBtZXRob2Qgd2l0aCB0aGUgc2FtZSBuYW1lIGluc3RlYWRcbiAgICAgKi9cbiAgICBQYXJzZXIucGVyZm9ybVNlbGZBbmFseXNpcyA9IGZ1bmN0aW9uIChwYXJzZXJJbnN0YW5jZSkge1xuICAgICAgICB0aHJvdyBFcnJvcihcIlRoZSAqKnN0YXRpYyoqIGBwZXJmb3JtU2VsZkFuYWx5c2lzYCBtZXRob2QgaGFzIGJlZW4gZGVwcmVjYXRlZC5cIiArXG4gICAgICAgICAgICBcIlxcdFxcblVzZSB0aGUgKippbnN0YW5jZSoqIG1ldGhvZCB3aXRoIHRoZSBzYW1lIG5hbWUgaW5zdGVhZC5cIik7XG4gICAgfTtcbiAgICBQYXJzZXIucHJvdG90eXBlLnBlcmZvcm1TZWxmQW5hbHlzaXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuVFJBQ0VfSU5JVChcInBlcmZvcm1TZWxmQW5hbHlzaXNcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGRlZkVycm9yc01zZ3M7XG4gICAgICAgICAgICBfdGhpcy5zZWxmQW5hbHlzaXNEb25lID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciBjbGFzc05hbWUgPSBfdGhpcy5jbGFzc05hbWU7XG4gICAgICAgICAgICBfdGhpcy5UUkFDRV9JTklUKFwidG9GYXN0UHJvcHNcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIC8vIFdpdGhvdXQgdGhpcyB2b29kb28gbWFnaWMgdGhlIHBhcnNlciB3b3VsZCBiZSB4My14NCBzbG93ZXJcbiAgICAgICAgICAgICAgICAvLyBJdCBzZWVtcyBpdCBpcyBiZXR0ZXIgdG8gaW52b2tlIGB0b0Zhc3RQcm9wZXJ0aWVzYCAqKmJlZm9yZSoqXG4gICAgICAgICAgICAgICAgLy8gQW55IG1hbmlwdWxhdGlvbnMgb2YgdGhlIGB0aGlzYCBvYmplY3QgZG9uZSBkdXJpbmcgdGhlIHJlY29yZGluZyBwaGFzZS5cbiAgICAgICAgICAgICAgICB0b0Zhc3RQcm9wZXJ0aWVzKF90aGlzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgX3RoaXMuVFJBQ0VfSU5JVChcIkdyYW1tYXIgUmVjb3JkaW5nXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5lbmFibGVSZWNvcmRpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gQnVpbGRpbmcgdGhlIEdBU1RcbiAgICAgICAgICAgICAgICAgICAgZm9yRWFjaChfdGhpcy5kZWZpbmVkUnVsZXNOYW1lcywgZnVuY3Rpb24gKGN1cnJSdWxlTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHdyYXBwZWRSdWxlID0gX3RoaXNbY3VyclJ1bGVOYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvcmlnaW5hbEdyYW1tYXJBY3Rpb24gPSB3cmFwcGVkUnVsZVtcIm9yaWdpbmFsR3JhbW1hckFjdGlvblwiXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZWNvcmRlZFJ1bGVHYXN0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuVFJBQ0VfSU5JVChjdXJyUnVsZU5hbWUgKyBcIiBSdWxlXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWNvcmRlZFJ1bGVHYXN0ID0gX3RoaXMudG9wTGV2ZWxSdWxlUmVjb3JkKGN1cnJSdWxlTmFtZSwgb3JpZ2luYWxHcmFtbWFyQWN0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZ2FzdFByb2R1Y3Rpb25zQ2FjaGVbY3VyclJ1bGVOYW1lXSA9IHJlY29yZGVkUnVsZUdhc3Q7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGlzYWJsZVJlY29yZGluZygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIHJlc29sdmVyRXJyb3JzID0gW107XG4gICAgICAgICAgICBfdGhpcy5UUkFDRV9JTklUKFwiR3JhbW1hciBSZXNvbHZpbmdcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJlc29sdmVyRXJyb3JzID0gcmVzb2x2ZUdyYW1tYXIoe1xuICAgICAgICAgICAgICAgICAgICBydWxlczogdmFsdWVzKF90aGlzLmdhc3RQcm9kdWN0aW9uc0NhY2hlKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIF90aGlzLmRlZmluaXRpb25FcnJvcnMucHVzaC5hcHBseShfdGhpcy5kZWZpbml0aW9uRXJyb3JzLCByZXNvbHZlckVycm9ycyk7IC8vIG11dGFiaWxpdHkgZm9yIHRoZSB3aW4/XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIF90aGlzLlRSQUNFX0lOSVQoXCJHcmFtbWFyIFZhbGlkYXRpb25zXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAvLyBvbmx5IHBlcmZvcm0gYWRkaXRpb25hbCBncmFtbWFyIHZhbGlkYXRpb25zIElGRiBubyByZXNvbHZpbmcgZXJyb3JzIGhhdmUgb2NjdXJyZWQuXG4gICAgICAgICAgICAgICAgLy8gYXMgdW5yZXNvbHZlZCBncmFtbWFyIG1heSBsZWFkIHRvIHVuaGFuZGxlZCBydW50aW1lIGV4Y2VwdGlvbnMgaW4gdGhlIGZvbGxvdyB1cCB2YWxpZGF0aW9ucy5cbiAgICAgICAgICAgICAgICBpZiAoaXNFbXB0eShyZXNvbHZlckVycm9ycykgJiYgX3RoaXMuc2tpcFZhbGlkYXRpb25zID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsaWRhdGlvbkVycm9ycyA9IHZhbGlkYXRlR3JhbW1hcih7XG4gICAgICAgICAgICAgICAgICAgICAgICBydWxlczogdmFsdWVzKF90aGlzLmdhc3RQcm9kdWN0aW9uc0NhY2hlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heExvb2thaGVhZDogX3RoaXMubWF4TG9va2FoZWFkLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW5UeXBlczogdmFsdWVzKF90aGlzLnRva2Vuc01hcCksXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJNc2dQcm92aWRlcjogZGVmYXVsdEdyYW1tYXJWYWxpZGF0b3JFcnJvclByb3ZpZGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgZ3JhbW1hck5hbWU6IGNsYXNzTmFtZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGVmaW5pdGlvbkVycm9ycy5wdXNoLmFwcGx5KF90aGlzLmRlZmluaXRpb25FcnJvcnMsIHZhbGlkYXRpb25FcnJvcnMpOyAvLyBtdXRhYmlsaXR5IGZvciB0aGUgd2luP1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gdGhpcyBhbmFseXNpcyBtYXkgZmFpbCBpZiB0aGUgZ3JhbW1hciBpcyBub3QgcGVyZmVjdGx5IHZhbGlkXG4gICAgICAgICAgICBpZiAoaXNFbXB0eShfdGhpcy5kZWZpbml0aW9uRXJyb3JzKSkge1xuICAgICAgICAgICAgICAgIC8vIFRoZSByZXN1bHRzIG9mIHRoZXNlIGNvbXB1dGF0aW9ucyBhcmUgbm90IG5lZWRlZCB1bmxlc3MgZXJyb3IgcmVjb3ZlcnkgaXMgZW5hYmxlZC5cbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMucmVjb3ZlcnlFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLlRSQUNFX0lOSVQoXCJjb21wdXRlQWxsUHJvZHNGb2xsb3dzXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhbGxGb2xsb3dzID0gY29tcHV0ZUFsbFByb2RzRm9sbG93cyh2YWx1ZXMoX3RoaXMuZ2FzdFByb2R1Y3Rpb25zQ2FjaGUpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnJlc3luY0ZvbGxvd3MgPSBhbGxGb2xsb3dzO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgX3RoaXMuVFJBQ0VfSU5JVChcIkNvbXB1dGVMb29rYWhlYWRGdW5jdGlvbnNcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5wcmVDb21wdXRlTG9va2FoZWFkRnVuY3Rpb25zKHZhbHVlcyhfdGhpcy5nYXN0UHJvZHVjdGlvbnNDYWNoZSkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFQYXJzZXIuREVGRVJfREVGSU5JVElPTl9FUlJPUlNfSEFORExJTkcgJiZcbiAgICAgICAgICAgICAgICAhaXNFbXB0eShfdGhpcy5kZWZpbml0aW9uRXJyb3JzKSkge1xuICAgICAgICAgICAgICAgIGRlZkVycm9yc01zZ3MgPSBtYXAoX3RoaXMuZGVmaW5pdGlvbkVycm9ycywgZnVuY3Rpb24gKGRlZkVycm9yKSB7IHJldHVybiBkZWZFcnJvci5tZXNzYWdlOyB9KTtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJQYXJzZXIgRGVmaW5pdGlvbiBFcnJvcnMgZGV0ZWN0ZWQ6XFxuIFwiICsgZGVmRXJyb3JzTXNncy5qb2luKFwiXFxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxcblwiKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLy8gU2V0IHRoaXMgZmxhZyB0byB0cnVlIGlmIHlvdSBkb24ndCB3YW50IHRoZSBQYXJzZXIgdG8gdGhyb3cgZXJyb3Igd2hlbiBwcm9ibGVtcyBpbiBpdCdzIGRlZmluaXRpb24gYXJlIGRldGVjdGVkLlxuICAgIC8vIChub3JtYWxseSBkdXJpbmcgdGhlIHBhcnNlcidzIGNvbnN0cnVjdG9yKS5cbiAgICAvLyBUaGlzIGlzIGEgZGVzaWduIHRpbWUgZmxhZywgaXQgd2lsbCBub3QgYWZmZWN0IHRoZSBydW50aW1lIGVycm9yIGhhbmRsaW5nIG9mIHRoZSBwYXJzZXIsIGp1c3QgZGVzaWduIHRpbWUgZXJyb3JzLFxuICAgIC8vIGZvciBleGFtcGxlOiBkdXBsaWNhdGUgcnVsZSBuYW1lcywgcmVmZXJlbmNpbmcgYW4gdW5yZXNvbHZlZCBzdWJydWxlLCBlY3QuLi5cbiAgICAvLyBUaGlzIGZsYWcgc2hvdWxkIG5vdCBiZSBlbmFibGVkIGR1cmluZyBub3JtYWwgdXNhZ2UsIGl0IGlzIHVzZWQgaW4gc3BlY2lhbCBzaXR1YXRpb25zLCBmb3IgZXhhbXBsZSB3aGVuXG4gICAgLy8gbmVlZGluZyB0byBkaXNwbGF5IHRoZSBwYXJzZXIgZGVmaW5pdGlvbiBlcnJvcnMgaW4gc29tZSBHVUkob25saW5lIHBsYXlncm91bmQpLlxuICAgIFBhcnNlci5ERUZFUl9ERUZJTklUSU9OX0VSUk9SU19IQU5ETElORyA9IGZhbHNlO1xuICAgIHJldHVybiBQYXJzZXI7XG59KCkpO1xuZXhwb3J0IHsgUGFyc2VyIH07XG5hcHBseU1peGlucyhQYXJzZXIsIFtcbiAgICBSZWNvdmVyYWJsZSxcbiAgICBMb29rc0FoZWFkLFxuICAgIFRyZWVCdWlsZGVyLFxuICAgIExleGVyQWRhcHRlcixcbiAgICBSZWNvZ25pemVyRW5naW5lLFxuICAgIFJlY29nbml6ZXJBcGksXG4gICAgRXJyb3JIYW5kbGVyLFxuICAgIENvbnRlbnRBc3Npc3QsXG4gICAgR2FzdFJlY29yZGVyLFxuICAgIFBlcmZvcm1hbmNlVHJhY2VyXG5dKTtcbnZhciBDc3RQYXJzZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKENzdFBhcnNlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBDc3RQYXJzZXIodG9rZW5Wb2NhYnVsYXJ5LCBjb25maWcpIHtcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IERFRkFVTFRfUEFSU0VSX0NPTkZJRzsgfVxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgY29uZmlnQ2xvbmUgPSBjbG9uZU9iaihjb25maWcpO1xuICAgICAgICBjb25maWdDbG9uZS5vdXRwdXRDc3QgPSB0cnVlO1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHRva2VuVm9jYWJ1bGFyeSwgY29uZmlnQ2xvbmUpIHx8IHRoaXM7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIENzdFBhcnNlcjtcbn0oUGFyc2VyKSk7XG5leHBvcnQgeyBDc3RQYXJzZXIgfTtcbnZhciBFbWJlZGRlZEFjdGlvbnNQYXJzZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEVtYmVkZGVkQWN0aW9uc1BhcnNlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBFbWJlZGRlZEFjdGlvbnNQYXJzZXIodG9rZW5Wb2NhYnVsYXJ5LCBjb25maWcpIHtcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IERFRkFVTFRfUEFSU0VSX0NPTkZJRzsgfVxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgY29uZmlnQ2xvbmUgPSBjbG9uZU9iaihjb25maWcpO1xuICAgICAgICBjb25maWdDbG9uZS5vdXRwdXRDc3QgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB0b2tlblZvY2FidWxhcnksIGNvbmZpZ0Nsb25lKSB8fCB0aGlzO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIHJldHVybiBFbWJlZGRlZEFjdGlvbnNQYXJzZXI7XG59KFBhcnNlcikpO1xuZXhwb3J0IHsgRW1iZWRkZWRBY3Rpb25zUGFyc2VyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYXJzZXIuanMubWFwIiwiaW1wb3J0IHsgVkVSU0lPTiB9IGZyb20gXCIuLi92ZXJzaW9uXCI7XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU3ludGF4RGlhZ3JhbXNDb2RlKGdyYW1tYXIsIF9hKSB7XG4gICAgdmFyIF9iID0gX2EgPT09IHZvaWQgMCA/IHt9IDogX2EsIF9jID0gX2IucmVzb3VyY2VCYXNlLCByZXNvdXJjZUJhc2UgPSBfYyA9PT0gdm9pZCAwID8gXCJodHRwczovL3VucGtnLmNvbS9jaGV2cm90YWluQFwiICsgVkVSU0lPTiArIFwiL2RpYWdyYW1zL1wiIDogX2MsIF9kID0gX2IuY3NzLCBjc3MgPSBfZCA9PT0gdm9pZCAwID8gXCJodHRwczovL3VucGtnLmNvbS9jaGV2cm90YWluQFwiICsgVkVSU0lPTiArIFwiL2RpYWdyYW1zL2RpYWdyYW1zLmNzc1wiIDogX2Q7XG4gICAgdmFyIGhlYWRlciA9IFwiXFxuPCEtLSBUaGlzIGlzIGEgZ2VuZXJhdGVkIGZpbGUgLS0+XFxuPCFET0NUWVBFIGh0bWw+XFxuPG1ldGEgY2hhcnNldD1cXFwidXRmLThcXFwiPlxcbjxzdHlsZT5cXG4gIGJvZHkge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBoc2woMzAsIDIwJSwgOTUlKVxcbiAgfVxcbjwvc3R5bGU+XFxuXFxuXCI7XG4gICAgdmFyIGNzc0h0bWwgPSBcIlxcbjxsaW5rIHJlbD0nc3R5bGVzaGVldCcgaHJlZj0nXCIgKyBjc3MgKyBcIic+XFxuXCI7XG4gICAgdmFyIHNjcmlwdHMgPSBcIlxcbjxzY3JpcHQgc3JjPSdcIiArIHJlc291cmNlQmFzZSArIFwidmVuZG9yL3JhaWxyb2FkLWRpYWdyYW1zLmpzJz48L3NjcmlwdD5cXG48c2NyaXB0IHNyYz0nXCIgKyByZXNvdXJjZUJhc2UgKyBcInNyYy9kaWFncmFtc19idWlsZGVyLmpzJz48L3NjcmlwdD5cXG48c2NyaXB0IHNyYz0nXCIgKyByZXNvdXJjZUJhc2UgKyBcInNyYy9kaWFncmFtc19iZWhhdmlvci5qcyc+PC9zY3JpcHQ+XFxuPHNjcmlwdCBzcmM9J1wiICsgcmVzb3VyY2VCYXNlICsgXCJzcmMvbWFpbi5qcyc+PC9zY3JpcHQ+XFxuXCI7XG4gICAgdmFyIGRpYWdyYW1zRGl2ID0gXCJcXG48ZGl2IGlkPVxcXCJkaWFncmFtc1xcXCIgYWxpZ249XFxcImNlbnRlclxcXCI+PC9kaXY+ICAgIFxcblwiO1xuICAgIHZhciBzZXJpYWxpemVkR3JhbW1hciA9IFwiXFxuPHNjcmlwdD5cXG4gICAgd2luZG93LnNlcmlhbGl6ZWRHcmFtbWFyID0gXCIgKyBKU09OLnN0cmluZ2lmeShncmFtbWFyLCBudWxsLCBcIiAgXCIpICsgXCI7XFxuPC9zY3JpcHQ+XFxuXCI7XG4gICAgdmFyIGluaXRMb2dpYyA9IFwiXFxuPHNjcmlwdD5cXG4gICAgdmFyIGRpYWdyYW1zRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXFxcImRpYWdyYW1zXFxcIik7XFxuICAgIG1haW4uZHJhd0RpYWdyYW1zRnJvbVNlcmlhbGl6ZWRHcmFtbWFyKHNlcmlhbGl6ZWRHcmFtbWFyLCBkaWFncmFtc0Rpdik7XFxuPC9zY3JpcHQ+XFxuXCI7XG4gICAgcmV0dXJuIChoZWFkZXIgKyBjc3NIdG1sICsgc2NyaXB0cyArIGRpYWdyYW1zRGl2ICsgc2VyaWFsaXplZEdyYW1tYXIgKyBpbml0TG9naWMpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVuZGVyX3B1YmxpYy5qcy5tYXAiLCJpbXBvcnQgeyBmb3JFYWNoLCBtYXAgfSBmcm9tIFwiLi4vdXRpbHMvdXRpbHNcIjtcbmltcG9ydCB7IFJlcGV0aXRpb25NYW5kYXRvcnksIE9wdGlvbiwgUmVwZXRpdGlvbk1hbmRhdG9yeVdpdGhTZXBhcmF0b3IsIFJlcGV0aXRpb25XaXRoU2VwYXJhdG9yLCBUZXJtaW5hbCwgTm9uVGVybWluYWwsIEFsdGVybmF0aW9uLCBBbHRlcm5hdGl2ZSwgUmVwZXRpdGlvbiB9IGZyb20gXCIuLi9wYXJzZS9ncmFtbWFyL2dhc3QvZ2FzdF9wdWJsaWNcIjtcbi8qKlxuICogTWlzc2luZyBmZWF0dXJlc1xuICogMS4gUnVsZSBhcmd1bWVudHNcbiAqIDIuIEdhdGVzXG4gKiAzLiBlbWJlZGRlZCBhY3Rpb25zXG4gKi9cbnZhciBOTCA9IFwiXFxuXCI7XG5leHBvcnQgZnVuY3Rpb24gZ2VuVW1kTW9kdWxlKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gXCJcXG4oZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHtcXG4gICAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xcbiAgICAgICAgLy8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxcbiAgICAgICAgZGVmaW5lKFsnY2hldnJvdGFpbiddLCBmYWN0b3J5KTtcXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cykge1xcbiAgICAgICAgLy8gTm9kZS4gRG9lcyBub3Qgd29yayB3aXRoIHN0cmljdCBDb21tb25KUywgYnV0XFxuICAgICAgICAvLyBvbmx5IENvbW1vbkpTLWxpa2UgZW52aXJvbm1lbnRzIHRoYXQgc3VwcG9ydCBtb2R1bGUuZXhwb3J0cyxcXG4gICAgICAgIC8vIGxpa2UgTm9kZS5cXG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKCdjaGV2cm90YWluJykpO1xcbiAgICB9IGVsc2Uge1xcbiAgICAgICAgLy8gQnJvd3NlciBnbG9iYWxzIChyb290IGlzIHdpbmRvdylcXG4gICAgICAgIHJvb3QucmV0dXJuRXhwb3J0cyA9IGZhY3Rvcnkocm9vdC5iKTtcXG4gICAgfVxcbn0odHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHRoaXMsIGZ1bmN0aW9uIChjaGV2cm90YWluKSB7XFxuXFxuXCIgKyBnZW5DbGFzcyhvcHRpb25zKSArIFwiXFxuICAgIFxcbnJldHVybiB7XFxuICAgIFwiICsgb3B0aW9ucy5uYW1lICsgXCI6IFwiICsgb3B0aW9ucy5uYW1lICsgXCIgXFxufVxcbn0pKTtcXG5cIjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZW5XcmFwcGVyRnVuY3Rpb24ob3B0aW9ucykge1xuICAgIHJldHVybiBcIiAgICBcXG5cIiArIGdlbkNsYXNzKG9wdGlvbnMpICsgXCJcXG5yZXR1cm4gbmV3IFwiICsgb3B0aW9ucy5uYW1lICsgXCIodG9rZW5Wb2NhYnVsYXJ5LCBjb25maWcpICAgIFxcblwiO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdlbkNsYXNzKG9wdGlvbnMpIHtcbiAgICAvLyBUT0RPOiBob3cgdG8gcGFzcyB0aGUgdG9rZW4gdm9jYWJ1bGFyeT8gQ29uc3RydWN0b3I/IG90aGVyP1xuICAgIHZhciByZXN1bHQgPSBcIlxcbmZ1bmN0aW9uIFwiICsgb3B0aW9ucy5uYW1lICsgXCIodG9rZW5Wb2NhYnVsYXJ5LCBjb25maWcpIHtcXG4gICAgLy8gaW52b2tlIHN1cGVyIGNvbnN0cnVjdG9yXFxuICAgIC8vIE5vIHN1cHBvcnQgZm9yIGVtYmVkZGVkIGFjdGlvbnMgY3VycmVudGx5LCBzbyB3ZSBjYW4gJ2hhcmRjb2RlJ1xcbiAgICAvLyBUaGUgdXNlIG9mIENzdFBhcnNlci5cXG4gICAgY2hldnJvdGFpbi5Dc3RQYXJzZXIuY2FsbCh0aGlzLCB0b2tlblZvY2FidWxhcnksIGNvbmZpZylcXG5cXG4gICAgY29uc3QgJCA9IHRoaXNcXG5cXG4gICAgXCIgKyBnZW5BbGxSdWxlcyhvcHRpb25zLnJ1bGVzKSArIFwiXFxuXFxuICAgIC8vIHZlcnkgaW1wb3J0YW50IHRvIGNhbGwgdGhpcyBhZnRlciBhbGwgdGhlIHJ1bGVzIGhhdmUgYmVlbiBkZWZpbmVkLlxcbiAgICAvLyBvdGhlcndpc2UgdGhlIHBhcnNlciBtYXkgbm90IHdvcmsgY29ycmVjdGx5IGFzIGl0IHdpbGwgbGFjayBpbmZvcm1hdGlvblxcbiAgICAvLyBkZXJpdmVkIGR1cmluZyB0aGUgc2VsZiBhbmFseXNpcyBwaGFzZS5cXG4gICAgdGhpcy5wZXJmb3JtU2VsZkFuYWx5c2lzKHRoaXMpXFxufVxcblxcbi8vIGluaGVyaXRhbmNlIGFzIGltcGxlbWVudGVkIGluIGphdmFzY3JpcHQgaW4gdGhlIHByZXZpb3VzIGRlY2FkZS4uLiA6KFxcblwiICsgb3B0aW9ucy5uYW1lICsgXCIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShjaGV2cm90YWluLkNzdFBhcnNlci5wcm90b3R5cGUpXFxuXCIgKyBvcHRpb25zLm5hbWUgKyBcIi5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBcIiArIG9wdGlvbnMubmFtZSArIFwiICAgIFxcbiAgICBcIjtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdlbkFsbFJ1bGVzKHJ1bGVzKSB7XG4gICAgdmFyIHJ1bGVzVGV4dCA9IG1hcChydWxlcywgZnVuY3Rpb24gKGN1cnJSdWxlKSB7XG4gICAgICAgIHJldHVybiBnZW5SdWxlKGN1cnJSdWxlLCAxKTtcbiAgICB9KTtcbiAgICByZXR1cm4gcnVsZXNUZXh0LmpvaW4oXCJcXG5cIik7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2VuUnVsZShwcm9kLCBuKSB7XG4gICAgdmFyIHJlc3VsdCA9IGluZGVudChuLCBcIiQuUlVMRShcXFwiXCIgKyBwcm9kLm5hbWUgKyBcIlxcXCIsIGZ1bmN0aW9uKCkge1wiKSArIE5MO1xuICAgIHJlc3VsdCArPSBnZW5EZWZpbml0aW9uKHByb2QuZGVmaW5pdGlvbiwgbiArIDEpO1xuICAgIHJlc3VsdCArPSBpbmRlbnQobiArIDEsIFwifSlcIikgKyBOTDtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdlblRlcm1pbmFsKHByb2QsIG4pIHtcbiAgICB2YXIgbmFtZSA9IHByb2QudGVybWluYWxUeXBlLm5hbWU7XG4gICAgLy8gVE9ETzogcG90ZW50aWFsIHBlcmZvcm1hbmNlIG9wdGltaXphdGlvbiwgYXZvaWQgdG9rZW5NYXAgRGljdGlvbmFyeSBhY2Nlc3NcbiAgICByZXR1cm4gaW5kZW50KG4sIFwiJC5DT05TVU1FXCIgKyBwcm9kLmlkeCArIFwiKHRoaXMudG9rZW5zTWFwLlwiICsgbmFtZSArIFwiKVwiICsgTkwpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdlbk5vblRlcm1pbmFsKHByb2QsIG4pIHtcbiAgICByZXR1cm4gaW5kZW50KG4sIFwiJC5TVUJSVUxFXCIgKyBwcm9kLmlkeCArIFwiKCQuXCIgKyBwcm9kLm5vblRlcm1pbmFsTmFtZSArIFwiKVwiICsgTkwpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdlbkFsdGVybmF0aW9uKHByb2QsIG4pIHtcbiAgICB2YXIgcmVzdWx0ID0gaW5kZW50KG4sIFwiJC5PUlwiICsgcHJvZC5pZHggKyBcIihbXCIpICsgTkw7XG4gICAgdmFyIGFsdHMgPSBtYXAocHJvZC5kZWZpbml0aW9uLCBmdW5jdGlvbiAoYWx0RGVmKSB7IHJldHVybiBnZW5TaW5nbGVBbHQoYWx0RGVmLCBuICsgMSk7IH0pO1xuICAgIHJlc3VsdCArPSBhbHRzLmpvaW4oXCIsXCIgKyBOTCk7XG4gICAgcmVzdWx0ICs9IE5MICsgaW5kZW50KG4sIFwiXSlcIiArIE5MKTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdlblNpbmdsZUFsdChwcm9kLCBuKSB7XG4gICAgdmFyIHJlc3VsdCA9IGluZGVudChuLCBcIntcIikgKyBOTDtcbiAgICByZXN1bHQgKz0gaW5kZW50KG4gKyAxLCBcIkFMVDogZnVuY3Rpb24oKSB7XCIpICsgTkw7XG4gICAgcmVzdWx0ICs9IGdlbkRlZmluaXRpb24ocHJvZC5kZWZpbml0aW9uLCBuICsgMSk7XG4gICAgcmVzdWx0ICs9IGluZGVudChuICsgMSwgXCJ9XCIpICsgTkw7XG4gICAgcmVzdWx0ICs9IGluZGVudChuLCBcIn1cIik7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGdlblByb2QocHJvZCwgbikge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgaWYgKHByb2QgaW5zdGFuY2VvZiBOb25UZXJtaW5hbCkge1xuICAgICAgICByZXR1cm4gZ2VuTm9uVGVybWluYWwocHJvZCwgbik7XG4gICAgfVxuICAgIGVsc2UgaWYgKHByb2QgaW5zdGFuY2VvZiBPcHRpb24pIHtcbiAgICAgICAgcmV0dXJuIGdlbkRTTFJ1bGUoXCJPUFRJT05cIiwgcHJvZCwgbik7XG4gICAgfVxuICAgIGVsc2UgaWYgKHByb2QgaW5zdGFuY2VvZiBSZXBldGl0aW9uTWFuZGF0b3J5KSB7XG4gICAgICAgIHJldHVybiBnZW5EU0xSdWxlKFwiQVRfTEVBU1RfT05FXCIsIHByb2QsIG4pO1xuICAgIH1cbiAgICBlbHNlIGlmIChwcm9kIGluc3RhbmNlb2YgUmVwZXRpdGlvbk1hbmRhdG9yeVdpdGhTZXBhcmF0b3IpIHtcbiAgICAgICAgcmV0dXJuIGdlbkRTTFJ1bGUoXCJBVF9MRUFTVF9PTkVfU0VQXCIsIHByb2QsIG4pO1xuICAgIH1cbiAgICBlbHNlIGlmIChwcm9kIGluc3RhbmNlb2YgUmVwZXRpdGlvbldpdGhTZXBhcmF0b3IpIHtcbiAgICAgICAgcmV0dXJuIGdlbkRTTFJ1bGUoXCJNQU5ZX1NFUFwiLCBwcm9kLCBuKTtcbiAgICB9XG4gICAgZWxzZSBpZiAocHJvZCBpbnN0YW5jZW9mIFJlcGV0aXRpb24pIHtcbiAgICAgICAgcmV0dXJuIGdlbkRTTFJ1bGUoXCJNQU5ZXCIsIHByb2QsIG4pO1xuICAgIH1cbiAgICBlbHNlIGlmIChwcm9kIGluc3RhbmNlb2YgQWx0ZXJuYXRpb24pIHtcbiAgICAgICAgcmV0dXJuIGdlbkFsdGVybmF0aW9uKHByb2QsIG4pO1xuICAgIH1cbiAgICBlbHNlIGlmIChwcm9kIGluc3RhbmNlb2YgVGVybWluYWwpIHtcbiAgICAgICAgcmV0dXJuIGdlblRlcm1pbmFsKHByb2QsIG4pO1xuICAgIH1cbiAgICBlbHNlIGlmIChwcm9kIGluc3RhbmNlb2YgQWx0ZXJuYXRpdmUpIHtcbiAgICAgICAgcmV0dXJuIGdlbkRlZmluaXRpb24ocHJvZC5kZWZpbml0aW9uLCBuKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IEVycm9yKFwibm9uIGV4aGF1c3RpdmUgbWF0Y2hcIik7XG4gICAgfVxufVxuZnVuY3Rpb24gZ2VuRFNMUnVsZShkc2xOYW1lLCBwcm9kLCBuKSB7XG4gICAgdmFyIHJlc3VsdCA9IGluZGVudChuLCBcIiQuXCIgKyAoZHNsTmFtZSArIHByb2QuaWR4KSArIFwiKFwiKTtcbiAgICBpZiAocHJvZC5zZXBhcmF0b3IpIHtcbiAgICAgICAgcmVzdWx0ICs9IFwie1wiICsgTkw7XG4gICAgICAgIHJlc3VsdCArPVxuICAgICAgICAgICAgaW5kZW50KG4gKyAxLCBcIlNFUDogdGhpcy50b2tlbnNNYXAuXCIgKyBwcm9kLnNlcGFyYXRvci5uYW1lKSArIFwiLFwiICsgTkw7XG4gICAgICAgIHJlc3VsdCArPSBcIkRFRjogXCIgKyBnZW5EZWZGdW5jdGlvbihwcm9kLmRlZmluaXRpb24sIG4gKyAyKSArIE5MO1xuICAgICAgICByZXN1bHQgKz0gaW5kZW50KG4sIFwifVwiKSArIE5MO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmVzdWx0ICs9IGdlbkRlZkZ1bmN0aW9uKHByb2QuZGVmaW5pdGlvbiwgbiArIDEpO1xuICAgIH1cbiAgICByZXN1bHQgKz0gaW5kZW50KG4sIFwiKVwiKSArIE5MO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBnZW5EZWZGdW5jdGlvbihkZWZpbml0aW9uLCBuKSB7XG4gICAgdmFyIGRlZiA9IFwiZnVuY3Rpb24oKSB7XCIgKyBOTDtcbiAgICBkZWYgKz0gZ2VuRGVmaW5pdGlvbihkZWZpbml0aW9uLCBuKTtcbiAgICBkZWYgKz0gaW5kZW50KG4sIFwifVwiKSArIE5MO1xuICAgIHJldHVybiBkZWY7XG59XG5mdW5jdGlvbiBnZW5EZWZpbml0aW9uKGRlZiwgbikge1xuICAgIHZhciByZXN1bHQgPSBcIlwiO1xuICAgIGZvckVhY2goZGVmLCBmdW5jdGlvbiAocHJvZCkge1xuICAgICAgICByZXN1bHQgKz0gZ2VuUHJvZChwcm9kLCBuICsgMSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGluZGVudChob3dNdWNoLCB0ZXh0KSB7XG4gICAgdmFyIHNwYWNlcyA9IEFycmF5KGhvd011Y2ggKiA0ICsgMSkuam9pbihcIiBcIik7XG4gICAgcmV0dXJuIHNwYWNlcyArIHRleHQ7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZW5lcmF0ZS5qcy5tYXAiLCJpbXBvcnQgeyBnZW5VbWRNb2R1bGUsIGdlbldyYXBwZXJGdW5jdGlvbiB9IGZyb20gXCIuL2dlbmVyYXRlXCI7XG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVQYXJzZXJGYWN0b3J5KG9wdGlvbnMpIHtcbiAgICB2YXIgd3JhcHBlclRleHQgPSBnZW5XcmFwcGVyRnVuY3Rpb24oe1xuICAgICAgICBuYW1lOiBvcHRpb25zLm5hbWUsXG4gICAgICAgIHJ1bGVzOiBvcHRpb25zLnJ1bGVzXG4gICAgfSk7XG4gICAgdmFyIGNvbnN0cnVjdG9yV3JhcHBlciA9IG5ldyBGdW5jdGlvbihcInRva2VuVm9jYWJ1bGFyeVwiLCBcImNvbmZpZ1wiLCBcImNoZXZyb3RhaW5cIiwgd3JhcHBlclRleHQpO1xuICAgIHJldHVybiBmdW5jdGlvbiAoY29uZmlnKSB7XG4gICAgICAgIHJldHVybiBjb25zdHJ1Y3RvcldyYXBwZXIob3B0aW9ucy50b2tlblZvY2FidWxhcnksIGNvbmZpZywgXG4gICAgICAgIC8vIFRPRE86IGNoZWNrIGhvdyB0aGUgcmVxdWlyZSBpcyB0cmFuc3BpbGVkL3dlYnBhY2tlZFxuICAgICAgICByZXF1aXJlKFwiLi4vYXBpXCIpKTtcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlUGFyc2VyTW9kdWxlKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gZ2VuVW1kTW9kdWxlKHsgbmFtZTogb3B0aW9ucy5uYW1lLCBydWxlczogb3B0aW9ucy5ydWxlcyB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdlbmVyYXRlX3B1YmxpYy5qcy5tYXAiLCIvLyBzZW1hbnRpYyB2ZXJzaW9uXG5leHBvcnQgeyBWRVJTSU9OIH0gZnJvbSBcIi4vdmVyc2lvblwiO1xuZXhwb3J0IHsgQ3N0UGFyc2VyLCBFbWJlZGRlZEFjdGlvbnNQYXJzZXIsIFBhcnNlckRlZmluaXRpb25FcnJvclR5cGUsIEVNUFRZX0FMVCB9IGZyb20gXCIuL3BhcnNlL3BhcnNlci9wYXJzZXJcIjtcbmV4cG9ydCB7IExleGVyLCBMZXhlckRlZmluaXRpb25FcnJvclR5cGUgfSBmcm9tIFwiLi9zY2FuL2xleGVyX3B1YmxpY1wiO1xuLy8gVG9rZW5zIHV0aWxpdGllc1xuZXhwb3J0IHsgY3JlYXRlVG9rZW4sIGNyZWF0ZVRva2VuSW5zdGFuY2UsIEVPRiwgdG9rZW5MYWJlbCwgdG9rZW5NYXRjaGVyLCB0b2tlbk5hbWUgfSBmcm9tIFwiLi9zY2FuL3Rva2Vuc19wdWJsaWNcIjtcbi8vIE90aGVyIFV0aWxpdGllc1xuZXhwb3J0IHsgZGVmYXVsdEdyYW1tYXJSZXNvbHZlckVycm9yUHJvdmlkZXIsIGRlZmF1bHRHcmFtbWFyVmFsaWRhdG9yRXJyb3JQcm92aWRlciwgZGVmYXVsdFBhcnNlckVycm9yUHJvdmlkZXIgfSBmcm9tIFwiLi9wYXJzZS9lcnJvcnNfcHVibGljXCI7XG5leHBvcnQgeyBFYXJseUV4aXRFeGNlcHRpb24sIGlzUmVjb2duaXRpb25FeGNlcHRpb24sIE1pc21hdGNoZWRUb2tlbkV4Y2VwdGlvbiwgTm90QWxsSW5wdXRQYXJzZWRFeGNlcHRpb24sIE5vVmlhYmxlQWx0RXhjZXB0aW9uIH0gZnJvbSBcIi4vcGFyc2UvZXhjZXB0aW9uc19wdWJsaWNcIjtcbmV4cG9ydCB7IGRlZmF1bHRMZXhlckVycm9yUHJvdmlkZXIgfSBmcm9tIFwiLi9zY2FuL2xleGVyX2Vycm9yc19wdWJsaWNcIjtcbi8vIGdyYW1tYXIgcmVmbGVjdGlvbiBBUElcbmV4cG9ydCB7IEFsdGVybmF0aW9uLCBBbHRlcm5hdGl2ZSwgTm9uVGVybWluYWwsIE9wdGlvbiwgUmVwZXRpdGlvbiwgUmVwZXRpdGlvbk1hbmRhdG9yeSwgUmVwZXRpdGlvbk1hbmRhdG9yeVdpdGhTZXBhcmF0b3IsIFJlcGV0aXRpb25XaXRoU2VwYXJhdG9yLCBSdWxlLCBUZXJtaW5hbCB9IGZyb20gXCIuL3BhcnNlL2dyYW1tYXIvZ2FzdC9nYXN0X3B1YmxpY1wiO1xuLy8gR0FTVCBVdGlsaXRpZXNcbmV4cG9ydCB7IHNlcmlhbGl6ZUdyYW1tYXIsIHNlcmlhbGl6ZVByb2R1Y3Rpb24gfSBmcm9tIFwiLi9wYXJzZS9ncmFtbWFyL2dhc3QvZ2FzdF9wdWJsaWNcIjtcbmV4cG9ydCB7IEdBc3RWaXNpdG9yIH0gZnJvbSBcIi4vcGFyc2UvZ3JhbW1hci9nYXN0L2dhc3RfdmlzaXRvcl9wdWJsaWNcIjtcbmV4cG9ydCB7IGFzc2lnbk9jY3VycmVuY2VJbmRpY2VzLCByZXNvbHZlR3JhbW1hciwgdmFsaWRhdGVHcmFtbWFyIH0gZnJvbSBcIi4vcGFyc2UvZ3JhbW1hci9nYXN0L2dhc3RfcmVzb2x2ZXJfcHVibGljXCI7XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyQ2FjaGUoKSB7XG4gICAgY29uc29sZS53YXJuKFwiVGhlIGNsZWFyQ2FjaGUgZnVuY3Rpb24gd2FzICdzb2Z0JyByZW1vdmVkIGZyb20gdGhlIENoZXZyb3RhaW4gQVBJLlwiICtcbiAgICAgICAgXCJcXG5cXHQgSXQgcGVyZm9ybXMgbm8gYWN0aW9uIG90aGVyIHRoYW4gcHJpbnRpbmcgdGhpcyBtZXNzYWdlLlwiICtcbiAgICAgICAgXCJcXG5cXHQgUGxlYXNlIGF2b2lkIHVzaW5nIGl0IGFzIGl0IHdpbGwgYmUgY29tcGxldGVseSByZW1vdmVkIGluIHRoZSBmdXR1cmVcIik7XG59XG5leHBvcnQgeyBjcmVhdGVTeW50YXhEaWFncmFtc0NvZGUgfSBmcm9tIFwiLi9kaWFncmFtcy9yZW5kZXJfcHVibGljXCI7XG5leHBvcnQgeyBnZW5lcmF0ZVBhcnNlckZhY3RvcnksIGdlbmVyYXRlUGFyc2VyTW9kdWxlIH0gZnJvbSBcIi4vZ2VuZXJhdGUvZ2VuZXJhdGVfcHVibGljXCI7XG52YXIgUGFyc2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFBhcnNlcigpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIFBhcnNlciBjbGFzcyBoYXMgYmVlbiBkZXByZWNhdGVkLCB1c2UgQ3N0UGFyc2VyIG9yIEVtYmVkZGVkQWN0aW9uc1BhcnNlciBpbnN0ZWFkLlxcdFxcblwiICtcbiAgICAgICAgICAgIFwiU2VlOiBodHRwczovL3NhcC5naXRodWIuaW8vY2hldnJvdGFpbi9kb2NzL2NoYW5nZXMvQlJFQUtJTkdfQ0hBTkdFUy5odG1sI183LTAtMFwiKTtcbiAgICB9XG4gICAgcmV0dXJuIFBhcnNlcjtcbn0oKSk7XG5leHBvcnQgeyBQYXJzZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwaS5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBMb2Rhc2ggPGh0dHBzOi8vbG9kYXNoLmNvbS8+XG4gKiBDb3B5cmlnaHQgT3BlbkpTIEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyA8aHR0cHM6Ly9vcGVuanNmLm9yZy8+XG4gKiBSZWxlYXNlZCB1bmRlciBNSVQgbGljZW5zZSA8aHR0cHM6Ly9sb2Rhc2guY29tL2xpY2Vuc2U+XG4gKiBCYXNlZCBvbiBVbmRlcnNjb3JlLmpzIDEuOC4zIDxodHRwOi8vdW5kZXJzY29yZWpzLm9yZy9MSUNFTlNFPlxuICogQ29weXJpZ2h0IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gKi9cbjsoZnVuY3Rpb24oKSB7XG5cbiAgLyoqIFVzZWQgYXMgYSBzYWZlIHJlZmVyZW5jZSBmb3IgYHVuZGVmaW5lZGAgaW4gcHJlLUVTNSBlbnZpcm9ubWVudHMuICovXG4gIHZhciB1bmRlZmluZWQ7XG5cbiAgLyoqIFVzZWQgYXMgdGhlIHNlbWFudGljIHZlcnNpb24gbnVtYmVyLiAqL1xuICB2YXIgVkVSU0lPTiA9ICc0LjE3LjE1JztcblxuICAvKiogVXNlZCBhcyB0aGUgc2l6ZSB0byBlbmFibGUgbGFyZ2UgYXJyYXkgb3B0aW1pemF0aW9ucy4gKi9cbiAgdmFyIExBUkdFX0FSUkFZX1NJWkUgPSAyMDA7XG5cbiAgLyoqIEVycm9yIG1lc3NhZ2UgY29uc3RhbnRzLiAqL1xuICB2YXIgQ09SRV9FUlJPUl9URVhUID0gJ1Vuc3VwcG9ydGVkIGNvcmUtanMgdXNlLiBUcnkgaHR0cHM6Ly9ucG1zLmlvL3NlYXJjaD9xPXBvbnlmaWxsLicsXG4gICAgICBGVU5DX0VSUk9SX1RFWFQgPSAnRXhwZWN0ZWQgYSBmdW5jdGlvbic7XG5cbiAgLyoqIFVzZWQgdG8gc3RhbmQtaW4gZm9yIGB1bmRlZmluZWRgIGhhc2ggdmFsdWVzLiAqL1xuICB2YXIgSEFTSF9VTkRFRklORUQgPSAnX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfXyc7XG5cbiAgLyoqIFVzZWQgYXMgdGhlIG1heGltdW0gbWVtb2l6ZSBjYWNoZSBzaXplLiAqL1xuICB2YXIgTUFYX01FTU9JWkVfU0laRSA9IDUwMDtcblxuICAvKiogVXNlZCBhcyB0aGUgaW50ZXJuYWwgYXJndW1lbnQgcGxhY2Vob2xkZXIuICovXG4gIHZhciBQTEFDRUhPTERFUiA9ICdfX2xvZGFzaF9wbGFjZWhvbGRlcl9fJztcblxuICAvKiogVXNlZCB0byBjb21wb3NlIGJpdG1hc2tzIGZvciBjbG9uaW5nLiAqL1xuICB2YXIgQ0xPTkVfREVFUF9GTEFHID0gMSxcbiAgICAgIENMT05FX0ZMQVRfRkxBRyA9IDIsXG4gICAgICBDTE9ORV9TWU1CT0xTX0ZMQUcgPSA0O1xuXG4gIC8qKiBVc2VkIHRvIGNvbXBvc2UgYml0bWFza3MgZm9yIHZhbHVlIGNvbXBhcmlzb25zLiAqL1xuICB2YXIgQ09NUEFSRV9QQVJUSUFMX0ZMQUcgPSAxLFxuICAgICAgQ09NUEFSRV9VTk9SREVSRURfRkxBRyA9IDI7XG5cbiAgLyoqIFVzZWQgdG8gY29tcG9zZSBiaXRtYXNrcyBmb3IgZnVuY3Rpb24gbWV0YWRhdGEuICovXG4gIHZhciBXUkFQX0JJTkRfRkxBRyA9IDEsXG4gICAgICBXUkFQX0JJTkRfS0VZX0ZMQUcgPSAyLFxuICAgICAgV1JBUF9DVVJSWV9CT1VORF9GTEFHID0gNCxcbiAgICAgIFdSQVBfQ1VSUllfRkxBRyA9IDgsXG4gICAgICBXUkFQX0NVUlJZX1JJR0hUX0ZMQUcgPSAxNixcbiAgICAgIFdSQVBfUEFSVElBTF9GTEFHID0gMzIsXG4gICAgICBXUkFQX1BBUlRJQUxfUklHSFRfRkxBRyA9IDY0LFxuICAgICAgV1JBUF9BUllfRkxBRyA9IDEyOCxcbiAgICAgIFdSQVBfUkVBUkdfRkxBRyA9IDI1NixcbiAgICAgIFdSQVBfRkxJUF9GTEFHID0gNTEyO1xuXG4gIC8qKiBVc2VkIGFzIGRlZmF1bHQgb3B0aW9ucyBmb3IgYF8udHJ1bmNhdGVgLiAqL1xuICB2YXIgREVGQVVMVF9UUlVOQ19MRU5HVEggPSAzMCxcbiAgICAgIERFRkFVTFRfVFJVTkNfT01JU1NJT04gPSAnLi4uJztcblxuICAvKiogVXNlZCB0byBkZXRlY3QgaG90IGZ1bmN0aW9ucyBieSBudW1iZXIgb2YgY2FsbHMgd2l0aGluIGEgc3BhbiBvZiBtaWxsaXNlY29uZHMuICovXG4gIHZhciBIT1RfQ09VTlQgPSA4MDAsXG4gICAgICBIT1RfU1BBTiA9IDE2O1xuXG4gIC8qKiBVc2VkIHRvIGluZGljYXRlIHRoZSB0eXBlIG9mIGxhenkgaXRlcmF0ZWVzLiAqL1xuICB2YXIgTEFaWV9GSUxURVJfRkxBRyA9IDEsXG4gICAgICBMQVpZX01BUF9GTEFHID0gMixcbiAgICAgIExBWllfV0hJTEVfRkxBRyA9IDM7XG5cbiAgLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG4gIHZhciBJTkZJTklUWSA9IDEgLyAwLFxuICAgICAgTUFYX1NBRkVfSU5URUdFUiA9IDkwMDcxOTkyNTQ3NDA5OTEsXG4gICAgICBNQVhfSU5URUdFUiA9IDEuNzk3NjkzMTM0ODYyMzE1N2UrMzA4LFxuICAgICAgTkFOID0gMCAvIDA7XG5cbiAgLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdGhlIG1heGltdW0gbGVuZ3RoIGFuZCBpbmRleCBvZiBhbiBhcnJheS4gKi9cbiAgdmFyIE1BWF9BUlJBWV9MRU5HVEggPSA0Mjk0OTY3Mjk1LFxuICAgICAgTUFYX0FSUkFZX0lOREVYID0gTUFYX0FSUkFZX0xFTkdUSCAtIDEsXG4gICAgICBIQUxGX01BWF9BUlJBWV9MRU5HVEggPSBNQVhfQVJSQVlfTEVOR1RIID4+PiAxO1xuXG4gIC8qKiBVc2VkIHRvIGFzc29jaWF0ZSB3cmFwIG1ldGhvZHMgd2l0aCB0aGVpciBiaXQgZmxhZ3MuICovXG4gIHZhciB3cmFwRmxhZ3MgPSBbXG4gICAgWydhcnknLCBXUkFQX0FSWV9GTEFHXSxcbiAgICBbJ2JpbmQnLCBXUkFQX0JJTkRfRkxBR10sXG4gICAgWydiaW5kS2V5JywgV1JBUF9CSU5EX0tFWV9GTEFHXSxcbiAgICBbJ2N1cnJ5JywgV1JBUF9DVVJSWV9GTEFHXSxcbiAgICBbJ2N1cnJ5UmlnaHQnLCBXUkFQX0NVUlJZX1JJR0hUX0ZMQUddLFxuICAgIFsnZmxpcCcsIFdSQVBfRkxJUF9GTEFHXSxcbiAgICBbJ3BhcnRpYWwnLCBXUkFQX1BBUlRJQUxfRkxBR10sXG4gICAgWydwYXJ0aWFsUmlnaHQnLCBXUkFQX1BBUlRJQUxfUklHSFRfRkxBR10sXG4gICAgWydyZWFyZycsIFdSQVBfUkVBUkdfRkxBR11cbiAgXTtcblxuICAvKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG4gIHZhciBhcmdzVGFnID0gJ1tvYmplY3QgQXJndW1lbnRzXScsXG4gICAgICBhcnJheVRhZyA9ICdbb2JqZWN0IEFycmF5XScsXG4gICAgICBhc3luY1RhZyA9ICdbb2JqZWN0IEFzeW5jRnVuY3Rpb25dJyxcbiAgICAgIGJvb2xUYWcgPSAnW29iamVjdCBCb29sZWFuXScsXG4gICAgICBkYXRlVGFnID0gJ1tvYmplY3QgRGF0ZV0nLFxuICAgICAgZG9tRXhjVGFnID0gJ1tvYmplY3QgRE9NRXhjZXB0aW9uXScsXG4gICAgICBlcnJvclRhZyA9ICdbb2JqZWN0IEVycm9yXScsXG4gICAgICBmdW5jVGFnID0gJ1tvYmplY3QgRnVuY3Rpb25dJyxcbiAgICAgIGdlblRhZyA9ICdbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXScsXG4gICAgICBtYXBUYWcgPSAnW29iamVjdCBNYXBdJyxcbiAgICAgIG51bWJlclRhZyA9ICdbb2JqZWN0IE51bWJlcl0nLFxuICAgICAgbnVsbFRhZyA9ICdbb2JqZWN0IE51bGxdJyxcbiAgICAgIG9iamVjdFRhZyA9ICdbb2JqZWN0IE9iamVjdF0nLFxuICAgICAgcHJvbWlzZVRhZyA9ICdbb2JqZWN0IFByb21pc2VdJyxcbiAgICAgIHByb3h5VGFnID0gJ1tvYmplY3QgUHJveHldJyxcbiAgICAgIHJlZ2V4cFRhZyA9ICdbb2JqZWN0IFJlZ0V4cF0nLFxuICAgICAgc2V0VGFnID0gJ1tvYmplY3QgU2V0XScsXG4gICAgICBzdHJpbmdUYWcgPSAnW29iamVjdCBTdHJpbmddJyxcbiAgICAgIHN5bWJvbFRhZyA9ICdbb2JqZWN0IFN5bWJvbF0nLFxuICAgICAgdW5kZWZpbmVkVGFnID0gJ1tvYmplY3QgVW5kZWZpbmVkXScsXG4gICAgICB3ZWFrTWFwVGFnID0gJ1tvYmplY3QgV2Vha01hcF0nLFxuICAgICAgd2Vha1NldFRhZyA9ICdbb2JqZWN0IFdlYWtTZXRdJztcblxuICB2YXIgYXJyYXlCdWZmZXJUYWcgPSAnW29iamVjdCBBcnJheUJ1ZmZlcl0nLFxuICAgICAgZGF0YVZpZXdUYWcgPSAnW29iamVjdCBEYXRhVmlld10nLFxuICAgICAgZmxvYXQzMlRhZyA9ICdbb2JqZWN0IEZsb2F0MzJBcnJheV0nLFxuICAgICAgZmxvYXQ2NFRhZyA9ICdbb2JqZWN0IEZsb2F0NjRBcnJheV0nLFxuICAgICAgaW50OFRhZyA9ICdbb2JqZWN0IEludDhBcnJheV0nLFxuICAgICAgaW50MTZUYWcgPSAnW29iamVjdCBJbnQxNkFycmF5XScsXG4gICAgICBpbnQzMlRhZyA9ICdbb2JqZWN0IEludDMyQXJyYXldJyxcbiAgICAgIHVpbnQ4VGFnID0gJ1tvYmplY3QgVWludDhBcnJheV0nLFxuICAgICAgdWludDhDbGFtcGVkVGFnID0gJ1tvYmplY3QgVWludDhDbGFtcGVkQXJyYXldJyxcbiAgICAgIHVpbnQxNlRhZyA9ICdbb2JqZWN0IFVpbnQxNkFycmF5XScsXG4gICAgICB1aW50MzJUYWcgPSAnW29iamVjdCBVaW50MzJBcnJheV0nO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIGVtcHR5IHN0cmluZyBsaXRlcmFscyBpbiBjb21waWxlZCB0ZW1wbGF0ZSBzb3VyY2UuICovXG4gIHZhciByZUVtcHR5U3RyaW5nTGVhZGluZyA9IC9cXGJfX3AgXFwrPSAnJzsvZyxcbiAgICAgIHJlRW1wdHlTdHJpbmdNaWRkbGUgPSAvXFxiKF9fcCBcXCs9KSAnJyBcXCsvZyxcbiAgICAgIHJlRW1wdHlTdHJpbmdUcmFpbGluZyA9IC8oX19lXFwoLio/XFwpfFxcYl9fdFxcKSkgXFwrXFxuJyc7L2c7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggSFRNTCBlbnRpdGllcyBhbmQgSFRNTCBjaGFyYWN0ZXJzLiAqL1xuICB2YXIgcmVFc2NhcGVkSHRtbCA9IC8mKD86YW1wfGx0fGd0fHF1b3R8IzM5KTsvZyxcbiAgICAgIHJlVW5lc2NhcGVkSHRtbCA9IC9bJjw+XCInXS9nLFxuICAgICAgcmVIYXNFc2NhcGVkSHRtbCA9IFJlZ0V4cChyZUVzY2FwZWRIdG1sLnNvdXJjZSksXG4gICAgICByZUhhc1VuZXNjYXBlZEh0bWwgPSBSZWdFeHAocmVVbmVzY2FwZWRIdG1sLnNvdXJjZSk7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggdGVtcGxhdGUgZGVsaW1pdGVycy4gKi9cbiAgdmFyIHJlRXNjYXBlID0gLzwlLShbXFxzXFxTXSs/KSU+L2csXG4gICAgICByZUV2YWx1YXRlID0gLzwlKFtcXHNcXFNdKz8pJT4vZyxcbiAgICAgIHJlSW50ZXJwb2xhdGUgPSAvPCU9KFtcXHNcXFNdKz8pJT4vZztcblxuICAvKiogVXNlZCB0byBtYXRjaCBwcm9wZXJ0eSBuYW1lcyB3aXRoaW4gcHJvcGVydHkgcGF0aHMuICovXG4gIHZhciByZUlzRGVlcFByb3AgPSAvXFwufFxcWyg/OlteW1xcXV0qfChbXCInXSkoPzooPyFcXDEpW15cXFxcXXxcXFxcLikqP1xcMSlcXF0vLFxuICAgICAgcmVJc1BsYWluUHJvcCA9IC9eXFx3KiQvLFxuICAgICAgcmVQcm9wTmFtZSA9IC9bXi5bXFxdXSt8XFxbKD86KC0/XFxkKyg/OlxcLlxcZCspPyl8KFtcIiddKSgoPzooPyFcXDIpW15cXFxcXXxcXFxcLikqPylcXDIpXFxdfCg/PSg/OlxcLnxcXFtcXF0pKD86XFwufFxcW1xcXXwkKSkvZztcblxuICAvKipcbiAgICogVXNlZCB0byBtYXRjaCBgUmVnRXhwYFxuICAgKiBbc3ludGF4IGNoYXJhY3RlcnNdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXBhdHRlcm5zKS5cbiAgICovXG4gIHZhciByZVJlZ0V4cENoYXIgPSAvW1xcXFxeJC4qKz8oKVtcXF17fXxdL2csXG4gICAgICByZUhhc1JlZ0V4cENoYXIgPSBSZWdFeHAocmVSZWdFeHBDaGFyLnNvdXJjZSk7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggbGVhZGluZyBhbmQgdHJhaWxpbmcgd2hpdGVzcGFjZS4gKi9cbiAgdmFyIHJlVHJpbSA9IC9eXFxzK3xcXHMrJC9nLFxuICAgICAgcmVUcmltU3RhcnQgPSAvXlxccysvLFxuICAgICAgcmVUcmltRW5kID0gL1xccyskLztcblxuICAvKiogVXNlZCB0byBtYXRjaCB3cmFwIGRldGFpbCBjb21tZW50cy4gKi9cbiAgdmFyIHJlV3JhcENvbW1lbnQgPSAvXFx7KD86XFxuXFwvXFwqIFxcW3dyYXBwZWQgd2l0aCAuK1xcXSBcXCpcXC8pP1xcbj8vLFxuICAgICAgcmVXcmFwRGV0YWlscyA9IC9cXHtcXG5cXC9cXCogXFxbd3JhcHBlZCB3aXRoICguKylcXF0gXFwqLyxcbiAgICAgIHJlU3BsaXREZXRhaWxzID0gLyw/ICYgLztcblxuICAvKiogVXNlZCB0byBtYXRjaCB3b3JkcyBjb21wb3NlZCBvZiBhbHBoYW51bWVyaWMgY2hhcmFjdGVycy4gKi9cbiAgdmFyIHJlQXNjaWlXb3JkID0gL1teXFx4MDAtXFx4MmZcXHgzYS1cXHg0MFxceDViLVxceDYwXFx4N2ItXFx4N2ZdKy9nO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIGJhY2tzbGFzaGVzIGluIHByb3BlcnR5IHBhdGhzLiAqL1xuICB2YXIgcmVFc2NhcGVDaGFyID0gL1xcXFwoXFxcXCk/L2c7XG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gbWF0Y2hcbiAgICogW0VTIHRlbXBsYXRlIGRlbGltaXRlcnNdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRlbXBsYXRlLWxpdGVyYWwtbGV4aWNhbC1jb21wb25lbnRzKS5cbiAgICovXG4gIHZhciByZUVzVGVtcGxhdGUgPSAvXFwkXFx7KFteXFxcXH1dKig/OlxcXFwuW15cXFxcfV0qKSopXFx9L2c7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggYFJlZ0V4cGAgZmxhZ3MgZnJvbSB0aGVpciBjb2VyY2VkIHN0cmluZyB2YWx1ZXMuICovXG4gIHZhciByZUZsYWdzID0gL1xcdyokLztcblxuICAvKiogVXNlZCB0byBkZXRlY3QgYmFkIHNpZ25lZCBoZXhhZGVjaW1hbCBzdHJpbmcgdmFsdWVzLiAqL1xuICB2YXIgcmVJc0JhZEhleCA9IC9eWy0rXTB4WzAtOWEtZl0rJC9pO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBiaW5hcnkgc3RyaW5nIHZhbHVlcy4gKi9cbiAgdmFyIHJlSXNCaW5hcnkgPSAvXjBiWzAxXSskL2k7XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IGhvc3QgY29uc3RydWN0b3JzIChTYWZhcmkpLiAqL1xuICB2YXIgcmVJc0hvc3RDdG9yID0gL15cXFtvYmplY3QgLis/Q29uc3RydWN0b3JcXF0kLztcblxuICAvKiogVXNlZCB0byBkZXRlY3Qgb2N0YWwgc3RyaW5nIHZhbHVlcy4gKi9cbiAgdmFyIHJlSXNPY3RhbCA9IC9eMG9bMC03XSskL2k7XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IHVuc2lnbmVkIGludGVnZXIgdmFsdWVzLiAqL1xuICB2YXIgcmVJc1VpbnQgPSAvXig/OjB8WzEtOV1cXGQqKSQvO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIExhdGluIFVuaWNvZGUgbGV0dGVycyAoZXhjbHVkaW5nIG1hdGhlbWF0aWNhbCBvcGVyYXRvcnMpLiAqL1xuICB2YXIgcmVMYXRpbiA9IC9bXFx4YzAtXFx4ZDZcXHhkOC1cXHhmNlxceGY4LVxceGZmXFx1MDEwMC1cXHUwMTdmXS9nO1xuXG4gIC8qKiBVc2VkIHRvIGVuc3VyZSBjYXB0dXJpbmcgb3JkZXIgb2YgdGVtcGxhdGUgZGVsaW1pdGVycy4gKi9cbiAgdmFyIHJlTm9NYXRjaCA9IC8oJF4pLztcblxuICAvKiogVXNlZCB0byBtYXRjaCB1bmVzY2FwZWQgY2hhcmFjdGVycyBpbiBjb21waWxlZCBzdHJpbmcgbGl0ZXJhbHMuICovXG4gIHZhciByZVVuZXNjYXBlZFN0cmluZyA9IC9bJ1xcblxcclxcdTIwMjhcXHUyMDI5XFxcXF0vZztcblxuICAvKiogVXNlZCB0byBjb21wb3NlIHVuaWNvZGUgY2hhcmFjdGVyIGNsYXNzZXMuICovXG4gIHZhciByc0FzdHJhbFJhbmdlID0gJ1xcXFx1ZDgwMC1cXFxcdWRmZmYnLFxuICAgICAgcnNDb21ib01hcmtzUmFuZ2UgPSAnXFxcXHUwMzAwLVxcXFx1MDM2ZicsXG4gICAgICByZUNvbWJvSGFsZk1hcmtzUmFuZ2UgPSAnXFxcXHVmZTIwLVxcXFx1ZmUyZicsXG4gICAgICByc0NvbWJvU3ltYm9sc1JhbmdlID0gJ1xcXFx1MjBkMC1cXFxcdTIwZmYnLFxuICAgICAgcnNDb21ib1JhbmdlID0gcnNDb21ib01hcmtzUmFuZ2UgKyByZUNvbWJvSGFsZk1hcmtzUmFuZ2UgKyByc0NvbWJvU3ltYm9sc1JhbmdlLFxuICAgICAgcnNEaW5nYmF0UmFuZ2UgPSAnXFxcXHUyNzAwLVxcXFx1MjdiZicsXG4gICAgICByc0xvd2VyUmFuZ2UgPSAnYS16XFxcXHhkZi1cXFxceGY2XFxcXHhmOC1cXFxceGZmJyxcbiAgICAgIHJzTWF0aE9wUmFuZ2UgPSAnXFxcXHhhY1xcXFx4YjFcXFxceGQ3XFxcXHhmNycsXG4gICAgICByc05vbkNoYXJSYW5nZSA9ICdcXFxceDAwLVxcXFx4MmZcXFxceDNhLVxcXFx4NDBcXFxceDViLVxcXFx4NjBcXFxceDdiLVxcXFx4YmYnLFxuICAgICAgcnNQdW5jdHVhdGlvblJhbmdlID0gJ1xcXFx1MjAwMC1cXFxcdTIwNmYnLFxuICAgICAgcnNTcGFjZVJhbmdlID0gJyBcXFxcdFxcXFx4MGJcXFxcZlxcXFx4YTBcXFxcdWZlZmZcXFxcblxcXFxyXFxcXHUyMDI4XFxcXHUyMDI5XFxcXHUxNjgwXFxcXHUxODBlXFxcXHUyMDAwXFxcXHUyMDAxXFxcXHUyMDAyXFxcXHUyMDAzXFxcXHUyMDA0XFxcXHUyMDA1XFxcXHUyMDA2XFxcXHUyMDA3XFxcXHUyMDA4XFxcXHUyMDA5XFxcXHUyMDBhXFxcXHUyMDJmXFxcXHUyMDVmXFxcXHUzMDAwJyxcbiAgICAgIHJzVXBwZXJSYW5nZSA9ICdBLVpcXFxceGMwLVxcXFx4ZDZcXFxceGQ4LVxcXFx4ZGUnLFxuICAgICAgcnNWYXJSYW5nZSA9ICdcXFxcdWZlMGVcXFxcdWZlMGYnLFxuICAgICAgcnNCcmVha1JhbmdlID0gcnNNYXRoT3BSYW5nZSArIHJzTm9uQ2hhclJhbmdlICsgcnNQdW5jdHVhdGlvblJhbmdlICsgcnNTcGFjZVJhbmdlO1xuXG4gIC8qKiBVc2VkIHRvIGNvbXBvc2UgdW5pY29kZSBjYXB0dXJlIGdyb3Vwcy4gKi9cbiAgdmFyIHJzQXBvcyA9IFwiWydcXHUyMDE5XVwiLFxuICAgICAgcnNBc3RyYWwgPSAnWycgKyByc0FzdHJhbFJhbmdlICsgJ10nLFxuICAgICAgcnNCcmVhayA9ICdbJyArIHJzQnJlYWtSYW5nZSArICddJyxcbiAgICAgIHJzQ29tYm8gPSAnWycgKyByc0NvbWJvUmFuZ2UgKyAnXScsXG4gICAgICByc0RpZ2l0cyA9ICdcXFxcZCsnLFxuICAgICAgcnNEaW5nYmF0ID0gJ1snICsgcnNEaW5nYmF0UmFuZ2UgKyAnXScsXG4gICAgICByc0xvd2VyID0gJ1snICsgcnNMb3dlclJhbmdlICsgJ10nLFxuICAgICAgcnNNaXNjID0gJ1teJyArIHJzQXN0cmFsUmFuZ2UgKyByc0JyZWFrUmFuZ2UgKyByc0RpZ2l0cyArIHJzRGluZ2JhdFJhbmdlICsgcnNMb3dlclJhbmdlICsgcnNVcHBlclJhbmdlICsgJ10nLFxuICAgICAgcnNGaXR6ID0gJ1xcXFx1ZDgzY1tcXFxcdWRmZmItXFxcXHVkZmZmXScsXG4gICAgICByc01vZGlmaWVyID0gJyg/OicgKyByc0NvbWJvICsgJ3wnICsgcnNGaXR6ICsgJyknLFxuICAgICAgcnNOb25Bc3RyYWwgPSAnW14nICsgcnNBc3RyYWxSYW5nZSArICddJyxcbiAgICAgIHJzUmVnaW9uYWwgPSAnKD86XFxcXHVkODNjW1xcXFx1ZGRlNi1cXFxcdWRkZmZdKXsyfScsXG4gICAgICByc1N1cnJQYWlyID0gJ1tcXFxcdWQ4MDAtXFxcXHVkYmZmXVtcXFxcdWRjMDAtXFxcXHVkZmZmXScsXG4gICAgICByc1VwcGVyID0gJ1snICsgcnNVcHBlclJhbmdlICsgJ10nLFxuICAgICAgcnNaV0ogPSAnXFxcXHUyMDBkJztcblxuICAvKiogVXNlZCB0byBjb21wb3NlIHVuaWNvZGUgcmVnZXhlcy4gKi9cbiAgdmFyIHJzTWlzY0xvd2VyID0gJyg/OicgKyByc0xvd2VyICsgJ3wnICsgcnNNaXNjICsgJyknLFxuICAgICAgcnNNaXNjVXBwZXIgPSAnKD86JyArIHJzVXBwZXIgKyAnfCcgKyByc01pc2MgKyAnKScsXG4gICAgICByc09wdENvbnRyTG93ZXIgPSAnKD86JyArIHJzQXBvcyArICcoPzpkfGxsfG18cmV8c3x0fHZlKSk/JyxcbiAgICAgIHJzT3B0Q29udHJVcHBlciA9ICcoPzonICsgcnNBcG9zICsgJyg/OkR8TEx8TXxSRXxTfFR8VkUpKT8nLFxuICAgICAgcmVPcHRNb2QgPSByc01vZGlmaWVyICsgJz8nLFxuICAgICAgcnNPcHRWYXIgPSAnWycgKyByc1ZhclJhbmdlICsgJ10/JyxcbiAgICAgIHJzT3B0Sm9pbiA9ICcoPzonICsgcnNaV0ogKyAnKD86JyArIFtyc05vbkFzdHJhbCwgcnNSZWdpb25hbCwgcnNTdXJyUGFpcl0uam9pbignfCcpICsgJyknICsgcnNPcHRWYXIgKyByZU9wdE1vZCArICcpKicsXG4gICAgICByc09yZExvd2VyID0gJ1xcXFxkKig/OjFzdHwybmR8M3JkfCg/IVsxMjNdKVxcXFxkdGgpKD89XFxcXGJ8W0EtWl9dKScsXG4gICAgICByc09yZFVwcGVyID0gJ1xcXFxkKig/OjFTVHwyTkR8M1JEfCg/IVsxMjNdKVxcXFxkVEgpKD89XFxcXGJ8W2Etel9dKScsXG4gICAgICByc1NlcSA9IHJzT3B0VmFyICsgcmVPcHRNb2QgKyByc09wdEpvaW4sXG4gICAgICByc0Vtb2ppID0gJyg/OicgKyBbcnNEaW5nYmF0LCByc1JlZ2lvbmFsLCByc1N1cnJQYWlyXS5qb2luKCd8JykgKyAnKScgKyByc1NlcSxcbiAgICAgIHJzU3ltYm9sID0gJyg/OicgKyBbcnNOb25Bc3RyYWwgKyByc0NvbWJvICsgJz8nLCByc0NvbWJvLCByc1JlZ2lvbmFsLCByc1N1cnJQYWlyLCByc0FzdHJhbF0uam9pbignfCcpICsgJyknO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIGFwb3N0cm9waGVzLiAqL1xuICB2YXIgcmVBcG9zID0gUmVnRXhwKHJzQXBvcywgJ2cnKTtcblxuICAvKipcbiAgICogVXNlZCB0byBtYXRjaCBbY29tYmluaW5nIGRpYWNyaXRpY2FsIG1hcmtzXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Db21iaW5pbmdfRGlhY3JpdGljYWxfTWFya3MpIGFuZFxuICAgKiBbY29tYmluaW5nIGRpYWNyaXRpY2FsIG1hcmtzIGZvciBzeW1ib2xzXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Db21iaW5pbmdfRGlhY3JpdGljYWxfTWFya3NfZm9yX1N5bWJvbHMpLlxuICAgKi9cbiAgdmFyIHJlQ29tYm9NYXJrID0gUmVnRXhwKHJzQ29tYm8sICdnJyk7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggW3N0cmluZyBzeW1ib2xzXShodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvamF2YXNjcmlwdC11bmljb2RlKS4gKi9cbiAgdmFyIHJlVW5pY29kZSA9IFJlZ0V4cChyc0ZpdHogKyAnKD89JyArIHJzRml0eiArICcpfCcgKyByc1N5bWJvbCArIHJzU2VxLCAnZycpO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIGNvbXBsZXggb3IgY29tcG91bmQgd29yZHMuICovXG4gIHZhciByZVVuaWNvZGVXb3JkID0gUmVnRXhwKFtcbiAgICByc1VwcGVyICsgJz8nICsgcnNMb3dlciArICcrJyArIHJzT3B0Q29udHJMb3dlciArICcoPz0nICsgW3JzQnJlYWssIHJzVXBwZXIsICckJ10uam9pbignfCcpICsgJyknLFxuICAgIHJzTWlzY1VwcGVyICsgJysnICsgcnNPcHRDb250clVwcGVyICsgJyg/PScgKyBbcnNCcmVhaywgcnNVcHBlciArIHJzTWlzY0xvd2VyLCAnJCddLmpvaW4oJ3wnKSArICcpJyxcbiAgICByc1VwcGVyICsgJz8nICsgcnNNaXNjTG93ZXIgKyAnKycgKyByc09wdENvbnRyTG93ZXIsXG4gICAgcnNVcHBlciArICcrJyArIHJzT3B0Q29udHJVcHBlcixcbiAgICByc09yZFVwcGVyLFxuICAgIHJzT3JkTG93ZXIsXG4gICAgcnNEaWdpdHMsXG4gICAgcnNFbW9qaVxuICBdLmpvaW4oJ3wnKSwgJ2cnKTtcblxuICAvKiogVXNlZCB0byBkZXRlY3Qgc3RyaW5ncyB3aXRoIFt6ZXJvLXdpZHRoIGpvaW5lcnMgb3IgY29kZSBwb2ludHMgZnJvbSB0aGUgYXN0cmFsIHBsYW5lc10oaHR0cDovL2Vldi5lZS9ibG9nLzIwMTUvMDkvMTIvZGFyay1jb3JuZXJzLW9mLXVuaWNvZGUvKS4gKi9cbiAgdmFyIHJlSGFzVW5pY29kZSA9IFJlZ0V4cCgnWycgKyByc1pXSiArIHJzQXN0cmFsUmFuZ2UgICsgcnNDb21ib1JhbmdlICsgcnNWYXJSYW5nZSArICddJyk7XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IHN0cmluZ3MgdGhhdCBuZWVkIGEgbW9yZSByb2J1c3QgcmVnZXhwIHRvIG1hdGNoIHdvcmRzLiAqL1xuICB2YXIgcmVIYXNVbmljb2RlV29yZCA9IC9bYS16XVtBLVpdfFtBLVpdezJ9W2Etel18WzAtOV1bYS16QS1aXXxbYS16QS1aXVswLTldfFteYS16QS1aMC05IF0vO1xuXG4gIC8qKiBVc2VkIHRvIGFzc2lnbiBkZWZhdWx0IGBjb250ZXh0YCBvYmplY3QgcHJvcGVydGllcy4gKi9cbiAgdmFyIGNvbnRleHRQcm9wcyA9IFtcbiAgICAnQXJyYXknLCAnQnVmZmVyJywgJ0RhdGFWaWV3JywgJ0RhdGUnLCAnRXJyb3InLCAnRmxvYXQzMkFycmF5JywgJ0Zsb2F0NjRBcnJheScsXG4gICAgJ0Z1bmN0aW9uJywgJ0ludDhBcnJheScsICdJbnQxNkFycmF5JywgJ0ludDMyQXJyYXknLCAnTWFwJywgJ01hdGgnLCAnT2JqZWN0JyxcbiAgICAnUHJvbWlzZScsICdSZWdFeHAnLCAnU2V0JywgJ1N0cmluZycsICdTeW1ib2wnLCAnVHlwZUVycm9yJywgJ1VpbnQ4QXJyYXknLFxuICAgICdVaW50OENsYW1wZWRBcnJheScsICdVaW50MTZBcnJheScsICdVaW50MzJBcnJheScsICdXZWFrTWFwJyxcbiAgICAnXycsICdjbGVhclRpbWVvdXQnLCAnaXNGaW5pdGUnLCAncGFyc2VJbnQnLCAnc2V0VGltZW91dCdcbiAgXTtcblxuICAvKiogVXNlZCB0byBtYWtlIHRlbXBsYXRlIHNvdXJjZVVSTHMgZWFzaWVyIHRvIGlkZW50aWZ5LiAqL1xuICB2YXIgdGVtcGxhdGVDb3VudGVyID0gLTE7XG5cbiAgLyoqIFVzZWQgdG8gaWRlbnRpZnkgYHRvU3RyaW5nVGFnYCB2YWx1ZXMgb2YgdHlwZWQgYXJyYXlzLiAqL1xuICB2YXIgdHlwZWRBcnJheVRhZ3MgPSB7fTtcbiAgdHlwZWRBcnJheVRhZ3NbZmxvYXQzMlRhZ10gPSB0eXBlZEFycmF5VGFnc1tmbG9hdDY0VGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW2ludDhUYWddID0gdHlwZWRBcnJheVRhZ3NbaW50MTZUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbaW50MzJUYWddID0gdHlwZWRBcnJheVRhZ3NbdWludDhUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbdWludDhDbGFtcGVkVGFnXSA9IHR5cGVkQXJyYXlUYWdzW3VpbnQxNlRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1t1aW50MzJUYWddID0gdHJ1ZTtcbiAgdHlwZWRBcnJheVRhZ3NbYXJnc1RhZ10gPSB0eXBlZEFycmF5VGFnc1thcnJheVRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1thcnJheUJ1ZmZlclRhZ10gPSB0eXBlZEFycmF5VGFnc1tib29sVGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW2RhdGFWaWV3VGFnXSA9IHR5cGVkQXJyYXlUYWdzW2RhdGVUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbZXJyb3JUYWddID0gdHlwZWRBcnJheVRhZ3NbZnVuY1RhZ10gPVxuICB0eXBlZEFycmF5VGFnc1ttYXBUYWddID0gdHlwZWRBcnJheVRhZ3NbbnVtYmVyVGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW29iamVjdFRhZ10gPSB0eXBlZEFycmF5VGFnc1tyZWdleHBUYWddID1cbiAgdHlwZWRBcnJheVRhZ3Nbc2V0VGFnXSA9IHR5cGVkQXJyYXlUYWdzW3N0cmluZ1RhZ10gPVxuICB0eXBlZEFycmF5VGFnc1t3ZWFrTWFwVGFnXSA9IGZhbHNlO1xuXG4gIC8qKiBVc2VkIHRvIGlkZW50aWZ5IGB0b1N0cmluZ1RhZ2AgdmFsdWVzIHN1cHBvcnRlZCBieSBgXy5jbG9uZWAuICovXG4gIHZhciBjbG9uZWFibGVUYWdzID0ge307XG4gIGNsb25lYWJsZVRhZ3NbYXJnc1RhZ10gPSBjbG9uZWFibGVUYWdzW2FycmF5VGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbYXJyYXlCdWZmZXJUYWddID0gY2xvbmVhYmxlVGFnc1tkYXRhVmlld1RhZ10gPVxuICBjbG9uZWFibGVUYWdzW2Jvb2xUYWddID0gY2xvbmVhYmxlVGFnc1tkYXRlVGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbZmxvYXQzMlRhZ10gPSBjbG9uZWFibGVUYWdzW2Zsb2F0NjRUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tpbnQ4VGFnXSA9IGNsb25lYWJsZVRhZ3NbaW50MTZUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tpbnQzMlRhZ10gPSBjbG9uZWFibGVUYWdzW21hcFRhZ10gPVxuICBjbG9uZWFibGVUYWdzW251bWJlclRhZ10gPSBjbG9uZWFibGVUYWdzW29iamVjdFRhZ10gPVxuICBjbG9uZWFibGVUYWdzW3JlZ2V4cFRhZ10gPSBjbG9uZWFibGVUYWdzW3NldFRhZ10gPVxuICBjbG9uZWFibGVUYWdzW3N0cmluZ1RhZ10gPSBjbG9uZWFibGVUYWdzW3N5bWJvbFRhZ10gPVxuICBjbG9uZWFibGVUYWdzW3VpbnQ4VGFnXSA9IGNsb25lYWJsZVRhZ3NbdWludDhDbGFtcGVkVGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbdWludDE2VGFnXSA9IGNsb25lYWJsZVRhZ3NbdWludDMyVGFnXSA9IHRydWU7XG4gIGNsb25lYWJsZVRhZ3NbZXJyb3JUYWddID0gY2xvbmVhYmxlVGFnc1tmdW5jVGFnXSA9XG4gIGNsb25lYWJsZVRhZ3Nbd2Vha01hcFRhZ10gPSBmYWxzZTtcblxuICAvKiogVXNlZCB0byBtYXAgTGF0aW4gVW5pY29kZSBsZXR0ZXJzIHRvIGJhc2ljIExhdGluIGxldHRlcnMuICovXG4gIHZhciBkZWJ1cnJlZExldHRlcnMgPSB7XG4gICAgLy8gTGF0aW4tMSBTdXBwbGVtZW50IGJsb2NrLlxuICAgICdcXHhjMCc6ICdBJywgICdcXHhjMSc6ICdBJywgJ1xceGMyJzogJ0EnLCAnXFx4YzMnOiAnQScsICdcXHhjNCc6ICdBJywgJ1xceGM1JzogJ0EnLFxuICAgICdcXHhlMCc6ICdhJywgICdcXHhlMSc6ICdhJywgJ1xceGUyJzogJ2EnLCAnXFx4ZTMnOiAnYScsICdcXHhlNCc6ICdhJywgJ1xceGU1JzogJ2EnLFxuICAgICdcXHhjNyc6ICdDJywgICdcXHhlNyc6ICdjJyxcbiAgICAnXFx4ZDAnOiAnRCcsICAnXFx4ZjAnOiAnZCcsXG4gICAgJ1xceGM4JzogJ0UnLCAgJ1xceGM5JzogJ0UnLCAnXFx4Y2EnOiAnRScsICdcXHhjYic6ICdFJyxcbiAgICAnXFx4ZTgnOiAnZScsICAnXFx4ZTknOiAnZScsICdcXHhlYSc6ICdlJywgJ1xceGViJzogJ2UnLFxuICAgICdcXHhjYyc6ICdJJywgICdcXHhjZCc6ICdJJywgJ1xceGNlJzogJ0knLCAnXFx4Y2YnOiAnSScsXG4gICAgJ1xceGVjJzogJ2knLCAgJ1xceGVkJzogJ2knLCAnXFx4ZWUnOiAnaScsICdcXHhlZic6ICdpJyxcbiAgICAnXFx4ZDEnOiAnTicsICAnXFx4ZjEnOiAnbicsXG4gICAgJ1xceGQyJzogJ08nLCAgJ1xceGQzJzogJ08nLCAnXFx4ZDQnOiAnTycsICdcXHhkNSc6ICdPJywgJ1xceGQ2JzogJ08nLCAnXFx4ZDgnOiAnTycsXG4gICAgJ1xceGYyJzogJ28nLCAgJ1xceGYzJzogJ28nLCAnXFx4ZjQnOiAnbycsICdcXHhmNSc6ICdvJywgJ1xceGY2JzogJ28nLCAnXFx4ZjgnOiAnbycsXG4gICAgJ1xceGQ5JzogJ1UnLCAgJ1xceGRhJzogJ1UnLCAnXFx4ZGInOiAnVScsICdcXHhkYyc6ICdVJyxcbiAgICAnXFx4ZjknOiAndScsICAnXFx4ZmEnOiAndScsICdcXHhmYic6ICd1JywgJ1xceGZjJzogJ3UnLFxuICAgICdcXHhkZCc6ICdZJywgICdcXHhmZCc6ICd5JywgJ1xceGZmJzogJ3knLFxuICAgICdcXHhjNic6ICdBZScsICdcXHhlNic6ICdhZScsXG4gICAgJ1xceGRlJzogJ1RoJywgJ1xceGZlJzogJ3RoJyxcbiAgICAnXFx4ZGYnOiAnc3MnLFxuICAgIC8vIExhdGluIEV4dGVuZGVkLUEgYmxvY2suXG4gICAgJ1xcdTAxMDAnOiAnQScsICAnXFx1MDEwMic6ICdBJywgJ1xcdTAxMDQnOiAnQScsXG4gICAgJ1xcdTAxMDEnOiAnYScsICAnXFx1MDEwMyc6ICdhJywgJ1xcdTAxMDUnOiAnYScsXG4gICAgJ1xcdTAxMDYnOiAnQycsICAnXFx1MDEwOCc6ICdDJywgJ1xcdTAxMGEnOiAnQycsICdcXHUwMTBjJzogJ0MnLFxuICAgICdcXHUwMTA3JzogJ2MnLCAgJ1xcdTAxMDknOiAnYycsICdcXHUwMTBiJzogJ2MnLCAnXFx1MDEwZCc6ICdjJyxcbiAgICAnXFx1MDEwZSc6ICdEJywgICdcXHUwMTEwJzogJ0QnLCAnXFx1MDEwZic6ICdkJywgJ1xcdTAxMTEnOiAnZCcsXG4gICAgJ1xcdTAxMTInOiAnRScsICAnXFx1MDExNCc6ICdFJywgJ1xcdTAxMTYnOiAnRScsICdcXHUwMTE4JzogJ0UnLCAnXFx1MDExYSc6ICdFJyxcbiAgICAnXFx1MDExMyc6ICdlJywgICdcXHUwMTE1JzogJ2UnLCAnXFx1MDExNyc6ICdlJywgJ1xcdTAxMTknOiAnZScsICdcXHUwMTFiJzogJ2UnLFxuICAgICdcXHUwMTFjJzogJ0cnLCAgJ1xcdTAxMWUnOiAnRycsICdcXHUwMTIwJzogJ0cnLCAnXFx1MDEyMic6ICdHJyxcbiAgICAnXFx1MDExZCc6ICdnJywgICdcXHUwMTFmJzogJ2cnLCAnXFx1MDEyMSc6ICdnJywgJ1xcdTAxMjMnOiAnZycsXG4gICAgJ1xcdTAxMjQnOiAnSCcsICAnXFx1MDEyNic6ICdIJywgJ1xcdTAxMjUnOiAnaCcsICdcXHUwMTI3JzogJ2gnLFxuICAgICdcXHUwMTI4JzogJ0knLCAgJ1xcdTAxMmEnOiAnSScsICdcXHUwMTJjJzogJ0knLCAnXFx1MDEyZSc6ICdJJywgJ1xcdTAxMzAnOiAnSScsXG4gICAgJ1xcdTAxMjknOiAnaScsICAnXFx1MDEyYic6ICdpJywgJ1xcdTAxMmQnOiAnaScsICdcXHUwMTJmJzogJ2knLCAnXFx1MDEzMSc6ICdpJyxcbiAgICAnXFx1MDEzNCc6ICdKJywgICdcXHUwMTM1JzogJ2onLFxuICAgICdcXHUwMTM2JzogJ0snLCAgJ1xcdTAxMzcnOiAnaycsICdcXHUwMTM4JzogJ2snLFxuICAgICdcXHUwMTM5JzogJ0wnLCAgJ1xcdTAxM2InOiAnTCcsICdcXHUwMTNkJzogJ0wnLCAnXFx1MDEzZic6ICdMJywgJ1xcdTAxNDEnOiAnTCcsXG4gICAgJ1xcdTAxM2EnOiAnbCcsICAnXFx1MDEzYyc6ICdsJywgJ1xcdTAxM2UnOiAnbCcsICdcXHUwMTQwJzogJ2wnLCAnXFx1MDE0Mic6ICdsJyxcbiAgICAnXFx1MDE0Myc6ICdOJywgICdcXHUwMTQ1JzogJ04nLCAnXFx1MDE0Nyc6ICdOJywgJ1xcdTAxNGEnOiAnTicsXG4gICAgJ1xcdTAxNDQnOiAnbicsICAnXFx1MDE0Nic6ICduJywgJ1xcdTAxNDgnOiAnbicsICdcXHUwMTRiJzogJ24nLFxuICAgICdcXHUwMTRjJzogJ08nLCAgJ1xcdTAxNGUnOiAnTycsICdcXHUwMTUwJzogJ08nLFxuICAgICdcXHUwMTRkJzogJ28nLCAgJ1xcdTAxNGYnOiAnbycsICdcXHUwMTUxJzogJ28nLFxuICAgICdcXHUwMTU0JzogJ1InLCAgJ1xcdTAxNTYnOiAnUicsICdcXHUwMTU4JzogJ1InLFxuICAgICdcXHUwMTU1JzogJ3InLCAgJ1xcdTAxNTcnOiAncicsICdcXHUwMTU5JzogJ3InLFxuICAgICdcXHUwMTVhJzogJ1MnLCAgJ1xcdTAxNWMnOiAnUycsICdcXHUwMTVlJzogJ1MnLCAnXFx1MDE2MCc6ICdTJyxcbiAgICAnXFx1MDE1Yic6ICdzJywgICdcXHUwMTVkJzogJ3MnLCAnXFx1MDE1Zic6ICdzJywgJ1xcdTAxNjEnOiAncycsXG4gICAgJ1xcdTAxNjInOiAnVCcsICAnXFx1MDE2NCc6ICdUJywgJ1xcdTAxNjYnOiAnVCcsXG4gICAgJ1xcdTAxNjMnOiAndCcsICAnXFx1MDE2NSc6ICd0JywgJ1xcdTAxNjcnOiAndCcsXG4gICAgJ1xcdTAxNjgnOiAnVScsICAnXFx1MDE2YSc6ICdVJywgJ1xcdTAxNmMnOiAnVScsICdcXHUwMTZlJzogJ1UnLCAnXFx1MDE3MCc6ICdVJywgJ1xcdTAxNzInOiAnVScsXG4gICAgJ1xcdTAxNjknOiAndScsICAnXFx1MDE2Yic6ICd1JywgJ1xcdTAxNmQnOiAndScsICdcXHUwMTZmJzogJ3UnLCAnXFx1MDE3MSc6ICd1JywgJ1xcdTAxNzMnOiAndScsXG4gICAgJ1xcdTAxNzQnOiAnVycsICAnXFx1MDE3NSc6ICd3JyxcbiAgICAnXFx1MDE3Nic6ICdZJywgICdcXHUwMTc3JzogJ3knLCAnXFx1MDE3OCc6ICdZJyxcbiAgICAnXFx1MDE3OSc6ICdaJywgICdcXHUwMTdiJzogJ1onLCAnXFx1MDE3ZCc6ICdaJyxcbiAgICAnXFx1MDE3YSc6ICd6JywgICdcXHUwMTdjJzogJ3onLCAnXFx1MDE3ZSc6ICd6JyxcbiAgICAnXFx1MDEzMic6ICdJSicsICdcXHUwMTMzJzogJ2lqJyxcbiAgICAnXFx1MDE1Mic6ICdPZScsICdcXHUwMTUzJzogJ29lJyxcbiAgICAnXFx1MDE0OSc6IFwiJ25cIiwgJ1xcdTAxN2YnOiAncydcbiAgfTtcblxuICAvKiogVXNlZCB0byBtYXAgY2hhcmFjdGVycyB0byBIVE1MIGVudGl0aWVzLiAqL1xuICB2YXIgaHRtbEVzY2FwZXMgPSB7XG4gICAgJyYnOiAnJmFtcDsnLFxuICAgICc8JzogJyZsdDsnLFxuICAgICc+JzogJyZndDsnLFxuICAgICdcIic6ICcmcXVvdDsnLFxuICAgIFwiJ1wiOiAnJiMzOTsnXG4gIH07XG5cbiAgLyoqIFVzZWQgdG8gbWFwIEhUTUwgZW50aXRpZXMgdG8gY2hhcmFjdGVycy4gKi9cbiAgdmFyIGh0bWxVbmVzY2FwZXMgPSB7XG4gICAgJyZhbXA7JzogJyYnLFxuICAgICcmbHQ7JzogJzwnLFxuICAgICcmZ3Q7JzogJz4nLFxuICAgICcmcXVvdDsnOiAnXCInLFxuICAgICcmIzM5Oyc6IFwiJ1wiXG4gIH07XG5cbiAgLyoqIFVzZWQgdG8gZXNjYXBlIGNoYXJhY3RlcnMgZm9yIGluY2x1c2lvbiBpbiBjb21waWxlZCBzdHJpbmcgbGl0ZXJhbHMuICovXG4gIHZhciBzdHJpbmdFc2NhcGVzID0ge1xuICAgICdcXFxcJzogJ1xcXFwnLFxuICAgIFwiJ1wiOiBcIidcIixcbiAgICAnXFxuJzogJ24nLFxuICAgICdcXHInOiAncicsXG4gICAgJ1xcdTIwMjgnOiAndTIwMjgnLFxuICAgICdcXHUyMDI5JzogJ3UyMDI5J1xuICB9O1xuXG4gIC8qKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyB3aXRob3V0IGEgZGVwZW5kZW5jeSBvbiBgcm9vdGAuICovXG4gIHZhciBmcmVlUGFyc2VGbG9hdCA9IHBhcnNlRmxvYXQsXG4gICAgICBmcmVlUGFyc2VJbnQgPSBwYXJzZUludDtcblxuICAvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGdsb2JhbGAgZnJvbSBOb2RlLmpzLiAqL1xuICB2YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsICYmIGdsb2JhbC5PYmplY3QgPT09IE9iamVjdCAmJiBnbG9iYWw7XG5cbiAgLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBzZWxmYC4gKi9cbiAgdmFyIGZyZWVTZWxmID0gdHlwZW9mIHNlbGYgPT0gJ29iamVjdCcgJiYgc2VsZiAmJiBzZWxmLk9iamVjdCA9PT0gT2JqZWN0ICYmIHNlbGY7XG5cbiAgLyoqIFVzZWQgYXMgYSByZWZlcmVuY2UgdG8gdGhlIGdsb2JhbCBvYmplY3QuICovXG4gIHZhciByb290ID0gZnJlZUdsb2JhbCB8fCBmcmVlU2VsZiB8fCBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXG4gIC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZXhwb3J0c2AuICovXG4gIHZhciBmcmVlRXhwb3J0cyA9IHR5cGVvZiBleHBvcnRzID09ICdvYmplY3QnICYmIGV4cG9ydHMgJiYgIWV4cG9ydHMubm9kZVR5cGUgJiYgZXhwb3J0cztcblxuICAvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYG1vZHVsZWAuICovXG4gIHZhciBmcmVlTW9kdWxlID0gZnJlZUV4cG9ydHMgJiYgdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUgJiYgIW1vZHVsZS5ub2RlVHlwZSAmJiBtb2R1bGU7XG5cbiAgLyoqIERldGVjdCB0aGUgcG9wdWxhciBDb21tb25KUyBleHRlbnNpb24gYG1vZHVsZS5leHBvcnRzYC4gKi9cbiAgdmFyIG1vZHVsZUV4cG9ydHMgPSBmcmVlTW9kdWxlICYmIGZyZWVNb2R1bGUuZXhwb3J0cyA9PT0gZnJlZUV4cG9ydHM7XG5cbiAgLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBwcm9jZXNzYCBmcm9tIE5vZGUuanMuICovXG4gIHZhciBmcmVlUHJvY2VzcyA9IG1vZHVsZUV4cG9ydHMgJiYgZnJlZUdsb2JhbC5wcm9jZXNzO1xuXG4gIC8qKiBVc2VkIHRvIGFjY2VzcyBmYXN0ZXIgTm9kZS5qcyBoZWxwZXJzLiAqL1xuICB2YXIgbm9kZVV0aWwgPSAoZnVuY3Rpb24oKSB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIFVzZSBgdXRpbC50eXBlc2AgZm9yIE5vZGUuanMgMTArLlxuICAgICAgdmFyIHR5cGVzID0gZnJlZU1vZHVsZSAmJiBmcmVlTW9kdWxlLnJlcXVpcmUgJiYgZnJlZU1vZHVsZS5yZXF1aXJlKCd1dGlsJykudHlwZXM7XG5cbiAgICAgIGlmICh0eXBlcykge1xuICAgICAgICByZXR1cm4gdHlwZXM7XG4gICAgICB9XG5cbiAgICAgIC8vIExlZ2FjeSBgcHJvY2Vzcy5iaW5kaW5nKCd1dGlsJylgIGZvciBOb2RlLmpzIDwgMTAuXG4gICAgICByZXR1cm4gZnJlZVByb2Nlc3MgJiYgZnJlZVByb2Nlc3MuYmluZGluZyAmJiBmcmVlUHJvY2Vzcy5iaW5kaW5nKCd1dGlsJyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgfSgpKTtcblxuICAvKiBOb2RlLmpzIGhlbHBlciByZWZlcmVuY2VzLiAqL1xuICB2YXIgbm9kZUlzQXJyYXlCdWZmZXIgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc0FycmF5QnVmZmVyLFxuICAgICAgbm9kZUlzRGF0ZSA9IG5vZGVVdGlsICYmIG5vZGVVdGlsLmlzRGF0ZSxcbiAgICAgIG5vZGVJc01hcCA9IG5vZGVVdGlsICYmIG5vZGVVdGlsLmlzTWFwLFxuICAgICAgbm9kZUlzUmVnRXhwID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNSZWdFeHAsXG4gICAgICBub2RlSXNTZXQgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc1NldCxcbiAgICAgIG5vZGVJc1R5cGVkQXJyYXkgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc1R5cGVkQXJyYXk7XG5cbiAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgLyoqXG4gICAqIEEgZmFzdGVyIGFsdGVybmF0aXZlIHRvIGBGdW5jdGlvbiNhcHBseWAsIHRoaXMgZnVuY3Rpb24gaW52b2tlcyBgZnVuY2BcbiAgICogd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgYHRoaXNBcmdgIGFuZCB0aGUgYXJndW1lbnRzIG9mIGBhcmdzYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaW52b2tlLlxuICAgKiBAcGFyYW0geyp9IHRoaXNBcmcgVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAgICogQHBhcmFtIHtBcnJheX0gYXJncyBUaGUgYXJndW1lbnRzIHRvIGludm9rZSBgZnVuY2Agd2l0aC5cbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc3VsdCBvZiBgZnVuY2AuXG4gICAqL1xuICBmdW5jdGlvbiBhcHBseShmdW5jLCB0aGlzQXJnLCBhcmdzKSB7XG4gICAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuICAgICAgY2FzZSAwOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcpO1xuICAgICAgY2FzZSAxOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIGFyZ3NbMF0pO1xuICAgICAgY2FzZSAyOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICAgICAgY2FzZSAzOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgIH1cbiAgICByZXR1cm4gZnVuYy5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VBZ2dyZWdhdG9yYCBmb3IgYXJyYXlzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHNldHRlciBUaGUgZnVuY3Rpb24gdG8gc2V0IGBhY2N1bXVsYXRvcmAgdmFsdWVzLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgaXRlcmF0ZWUgdG8gdHJhbnNmb3JtIGtleXMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhY2N1bXVsYXRvciBUaGUgaW5pdGlhbCBhZ2dyZWdhdGVkIG9iamVjdC5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBhY2N1bXVsYXRvcmAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheUFnZ3JlZ2F0b3IoYXJyYXksIHNldHRlciwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICAgIHNldHRlcihhY2N1bXVsYXRvciwgdmFsdWUsIGl0ZXJhdGVlKHZhbHVlKSwgYXJyYXkpO1xuICAgIH1cbiAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmZvckVhY2hgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlFYWNoKGFycmF5LCBpdGVyYXRlZSkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBpZiAoaXRlcmF0ZWUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpID09PSBmYWxzZSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFycmF5O1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5mb3JFYWNoUmlnaHRgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlFYWNoUmlnaHQoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICBpZiAoaXRlcmF0ZWUoYXJyYXlbbGVuZ3RoXSwgbGVuZ3RoLCBhcnJheSkgPT09IGZhbHNlKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXJyYXk7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmV2ZXJ5YCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFsbCBlbGVtZW50cyBwYXNzIHRoZSBwcmVkaWNhdGUgY2hlY2ssXG4gICAqICBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheUV2ZXJ5KGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgaWYgKCFwcmVkaWNhdGUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmZpbHRlcmAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZpbHRlcmVkIGFycmF5LlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlGaWx0ZXIoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgcmVzSW5kZXggPSAwLFxuICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgICBpZiAocHJlZGljYXRlKHZhbHVlLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICAgIHJlc3VsdFtyZXNJbmRleCsrXSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5pbmNsdWRlc2AgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIHNwZWNpZnlpbmcgYW4gaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7Kn0gdGFyZ2V0IFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHRhcmdldGAgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5SW5jbHVkZXMoYXJyYXksIHZhbHVlKSB7XG4gICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgIHJldHVybiAhIWxlbmd0aCAmJiBiYXNlSW5kZXhPZihhcnJheSwgdmFsdWUsIDApID4gLTE7XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBmdW5jdGlvbiBpcyBsaWtlIGBhcnJheUluY2x1ZGVzYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGEgY29tcGFyYXRvci5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHsqfSB0YXJnZXQgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbXBhcmF0b3IgVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB0YXJnZXRgIGlzIGZvdW5kLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheUluY2x1ZGVzV2l0aChhcnJheSwgdmFsdWUsIGNvbXBhcmF0b3IpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgaWYgKGNvbXBhcmF0b3IodmFsdWUsIGFycmF5W2luZGV4XSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8ubWFwYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWVcbiAgICogc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBtYXBwZWQgYXJyYXkuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheU1hcChhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGgsXG4gICAgICAgIHJlc3VsdCA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgcmVzdWx0W2luZGV4XSA9IGl0ZXJhdGVlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBlbmRzIHRoZSBlbGVtZW50cyBvZiBgdmFsdWVzYCB0byBgYXJyYXlgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byBhcHBlbmQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlQdXNoKGFycmF5LCB2YWx1ZXMpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gdmFsdWVzLmxlbmd0aCxcbiAgICAgICAgb2Zmc2V0ID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGFycmF5W29mZnNldCArIGluZGV4XSA9IHZhbHVlc1tpbmRleF07XG4gICAgfVxuICAgIHJldHVybiBhcnJheTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8ucmVkdWNlYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcGFyYW0geyp9IFthY2N1bXVsYXRvcl0gVGhlIGluaXRpYWwgdmFsdWUuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2luaXRBY2N1bV0gU3BlY2lmeSB1c2luZyB0aGUgZmlyc3QgZWxlbWVudCBvZiBgYXJyYXlgIGFzXG4gICAqICB0aGUgaW5pdGlhbCB2YWx1ZS5cbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGFjY3VtdWxhdGVkIHZhbHVlLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlSZWR1Y2UoYXJyYXksIGl0ZXJhdGVlLCBhY2N1bXVsYXRvciwgaW5pdEFjY3VtKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gICAgaWYgKGluaXRBY2N1bSAmJiBsZW5ndGgpIHtcbiAgICAgIGFjY3VtdWxhdG9yID0gYXJyYXlbKytpbmRleF07XG4gICAgfVxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBhY2N1bXVsYXRvciA9IGl0ZXJhdGVlKGFjY3VtdWxhdG9yLCBhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSk7XG4gICAgfVxuICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8ucmVkdWNlUmlnaHRgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEBwYXJhbSB7Kn0gW2FjY3VtdWxhdG9yXSBUaGUgaW5pdGlhbCB2YWx1ZS5cbiAgICogQHBhcmFtIHtib29sZWFufSBbaW5pdEFjY3VtXSBTcGVjaWZ5IHVzaW5nIHRoZSBsYXN0IGVsZW1lbnQgb2YgYGFycmF5YCBhc1xuICAgKiAgdGhlIGluaXRpYWwgdmFsdWUuXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBhY2N1bXVsYXRlZCB2YWx1ZS5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5UmVkdWNlUmlnaHQoYXJyYXksIGl0ZXJhdGVlLCBhY2N1bXVsYXRvciwgaW5pdEFjY3VtKSB7XG4gICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgIGlmIChpbml0QWNjdW0gJiYgbGVuZ3RoKSB7XG4gICAgICBhY2N1bXVsYXRvciA9IGFycmF5Wy0tbGVuZ3RoXTtcbiAgICB9XG4gICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICBhY2N1bXVsYXRvciA9IGl0ZXJhdGVlKGFjY3VtdWxhdG9yLCBhcnJheVtsZW5ndGhdLCBsZW5ndGgsIGFycmF5KTtcbiAgICB9XG4gICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5zb21lYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWVcbiAgICogc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFueSBlbGVtZW50IHBhc3NlcyB0aGUgcHJlZGljYXRlIGNoZWNrLFxuICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlTb21lKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgaWYgKHByZWRpY2F0ZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBzaXplIG9mIGFuIEFTQ0lJIGBzdHJpbmdgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgaW5zcGVjdC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc3RyaW5nIHNpemUuXG4gICAqL1xuICB2YXIgYXNjaWlTaXplID0gYmFzZVByb3BlcnR5KCdsZW5ndGgnKTtcblxuICAvKipcbiAgICogQ29udmVydHMgYW4gQVNDSUkgYHN0cmluZ2AgdG8gYW4gYXJyYXkuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBhcnJheS5cbiAgICovXG4gIGZ1bmN0aW9uIGFzY2lpVG9BcnJheShzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nLnNwbGl0KCcnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTcGxpdHMgYW4gQVNDSUkgYHN0cmluZ2AgaW50byBhbiBhcnJheSBvZiBpdHMgd29yZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgd29yZHMgb2YgYHN0cmluZ2AuXG4gICAqL1xuICBmdW5jdGlvbiBhc2NpaVdvcmRzKHN0cmluZykge1xuICAgIHJldHVybiBzdHJpbmcubWF0Y2gocmVBc2NpaVdvcmQpIHx8IFtdO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIG1ldGhvZHMgbGlrZSBgXy5maW5kS2V5YCBhbmQgYF8uZmluZExhc3RLZXlgLFxuICAgKiB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMsIHdoaWNoIGl0ZXJhdGVzIG92ZXIgYGNvbGxlY3Rpb25gXG4gICAqIHVzaW5nIGBlYWNoRnVuY2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlYWNoRnVuYyBUaGUgZnVuY3Rpb24gdG8gaXRlcmF0ZSBvdmVyIGBjb2xsZWN0aW9uYC5cbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGZvdW5kIGVsZW1lbnQgb3IgaXRzIGtleSwgZWxzZSBgdW5kZWZpbmVkYC5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VGaW5kS2V5KGNvbGxlY3Rpb24sIHByZWRpY2F0ZSwgZWFjaEZ1bmMpIHtcbiAgICB2YXIgcmVzdWx0O1xuICAgIGVhY2hGdW5jKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pIHtcbiAgICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIGtleSwgY29sbGVjdGlvbikpIHtcbiAgICAgICAgcmVzdWx0ID0ga2V5O1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5maW5kSW5kZXhgIGFuZCBgXy5maW5kTGFzdEluZGV4YCB3aXRob3V0XG4gICAqIHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21JbmRleCBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZUZpbmRJbmRleChhcnJheSwgcHJlZGljYXRlLCBmcm9tSW5kZXgsIGZyb21SaWdodCkge1xuICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgIGluZGV4ID0gZnJvbUluZGV4ICsgKGZyb21SaWdodCA/IDEgOiAtMSk7XG5cbiAgICB3aGlsZSAoKGZyb21SaWdodCA/IGluZGV4LS0gOiArK2luZGV4IDwgbGVuZ3RoKSkge1xuICAgICAgaWYgKHByZWRpY2F0ZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkpIHtcbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaW5kZXhPZmAgd2l0aG91dCBgZnJvbUluZGV4YCBib3VuZHMgY2hlY2tzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21JbmRleCBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlSW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleCkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gdmFsdWVcbiAgICAgID8gc3RyaWN0SW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleClcbiAgICAgIDogYmFzZUZpbmRJbmRleChhcnJheSwgYmFzZUlzTmFOLCBmcm9tSW5kZXgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZSBgYmFzZUluZGV4T2ZgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYSBjb21wYXJhdG9yLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21JbmRleCBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbXBhcmF0b3IgVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VJbmRleE9mV2l0aChhcnJheSwgdmFsdWUsIGZyb21JbmRleCwgY29tcGFyYXRvcikge1xuICAgIHZhciBpbmRleCA9IGZyb21JbmRleCAtIDEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBpZiAoY29tcGFyYXRvcihhcnJheVtpbmRleF0sIHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc05hTmAgd2l0aG91dCBzdXBwb3J0IGZvciBudW1iZXIgb2JqZWN0cy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGBOYU5gLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlSXNOYU4odmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgIT09IHZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm1lYW5gIGFuZCBgXy5tZWFuQnlgIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgbWVhbi5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VNZWFuKGFycmF5LCBpdGVyYXRlZSkge1xuICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICByZXR1cm4gbGVuZ3RoID8gKGJhc2VTdW0oYXJyYXksIGl0ZXJhdGVlKSAvIGxlbmd0aCkgOiBOQU47XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucHJvcGVydHlgIHdpdGhvdXQgc3VwcG9ydCBmb3IgZGVlcCBwYXRocy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFjY2Vzc29yIGZ1bmN0aW9uLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVByb3BlcnR5KGtleSkge1xuICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFtrZXldO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucHJvcGVydHlPZmAgd2l0aG91dCBzdXBwb3J0IGZvciBkZWVwIHBhdGhzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFjY2Vzc29yIGZ1bmN0aW9uLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVByb3BlcnR5T2Yob2JqZWN0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGtleSkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yZWR1Y2VgIGFuZCBgXy5yZWR1Y2VSaWdodGAsIHdpdGhvdXQgc3VwcG9ydFxuICAgKiBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcywgd2hpY2ggaXRlcmF0ZXMgb3ZlciBgY29sbGVjdGlvbmAgdXNpbmcgYGVhY2hGdW5jYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcGFyYW0geyp9IGFjY3VtdWxhdG9yIFRoZSBpbml0aWFsIHZhbHVlLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGluaXRBY2N1bSBTcGVjaWZ5IHVzaW5nIHRoZSBmaXJzdCBvciBsYXN0IGVsZW1lbnQgb2ZcbiAgICogIGBjb2xsZWN0aW9uYCBhcyB0aGUgaW5pdGlhbCB2YWx1ZS5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZWFjaEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGl0ZXJhdGUgb3ZlciBgY29sbGVjdGlvbmAuXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBhY2N1bXVsYXRlZCB2YWx1ZS5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VSZWR1Y2UoY29sbGVjdGlvbiwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yLCBpbml0QWNjdW0sIGVhY2hGdW5jKSB7XG4gICAgZWFjaEZ1bmMoY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICBhY2N1bXVsYXRvciA9IGluaXRBY2N1bVxuICAgICAgICA/IChpbml0QWNjdW0gPSBmYWxzZSwgdmFsdWUpXG4gICAgICAgIDogaXRlcmF0ZWUoYWNjdW11bGF0b3IsIHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbik7XG4gICAgfSk7XG4gICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNvcnRCeWAgd2hpY2ggdXNlcyBgY29tcGFyZXJgIHRvIGRlZmluZSB0aGVcbiAgICogc29ydCBvcmRlciBvZiBgYXJyYXlgIGFuZCByZXBsYWNlcyBjcml0ZXJpYSBvYmplY3RzIHdpdGggdGhlaXIgY29ycmVzcG9uZGluZ1xuICAgKiB2YWx1ZXMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBzb3J0LlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb21wYXJlciBUaGUgZnVuY3Rpb24gdG8gZGVmaW5lIHNvcnQgb3JkZXIuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVNvcnRCeShhcnJheSwgY29tcGFyZXIpIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgYXJyYXkuc29ydChjb21wYXJlcik7XG4gICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICBhcnJheVtsZW5ndGhdID0gYXJyYXlbbGVuZ3RoXS52YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGFycmF5O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnN1bWAgYW5kIGBfLnN1bUJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHN1bS5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VTdW0oYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgdmFyIHJlc3VsdCxcbiAgICAgICAgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIHZhciBjdXJyZW50ID0gaXRlcmF0ZWUoYXJyYXlbaW5kZXhdKTtcbiAgICAgIGlmIChjdXJyZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0ID09PSB1bmRlZmluZWQgPyBjdXJyZW50IDogKHJlc3VsdCArIGN1cnJlbnQpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRpbWVzYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHNcbiAgICogb3IgbWF4IGFycmF5IGxlbmd0aCBjaGVja3MuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gaW52b2tlIGBpdGVyYXRlZWAuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcmVzdWx0cy5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VUaW1lcyhuLCBpdGVyYXRlZSkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICByZXN1bHQgPSBBcnJheShuKTtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbikge1xuICAgICAgcmVzdWx0W2luZGV4XSA9IGl0ZXJhdGVlKGluZGV4KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50b1BhaXJzYCBhbmQgYF8udG9QYWlyc0luYCB3aGljaCBjcmVhdGVzIGFuIGFycmF5XG4gICAqIG9mIGtleS12YWx1ZSBwYWlycyBmb3IgYG9iamVjdGAgY29ycmVzcG9uZGluZyB0byB0aGUgcHJvcGVydHkgbmFtZXMgb2YgYHByb3BzYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgKiBAcGFyYW0ge0FycmF5fSBwcm9wcyBUaGUgcHJvcGVydHkgbmFtZXMgdG8gZ2V0IHZhbHVlcyBmb3IuXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGtleS12YWx1ZSBwYWlycy5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VUb1BhaXJzKG9iamVjdCwgcHJvcHMpIHtcbiAgICByZXR1cm4gYXJyYXlNYXAocHJvcHMsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgcmV0dXJuIFtrZXksIG9iamVjdFtrZXldXTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy51bmFyeWAgd2l0aG91dCBzdXBwb3J0IGZvciBzdG9yaW5nIG1ldGFkYXRhLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjYXAgYXJndW1lbnRzIGZvci5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY2FwcGVkIGZ1bmN0aW9uLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVVuYXJ5KGZ1bmMpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiBmdW5jKHZhbHVlKTtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnZhbHVlc2AgYW5kIGBfLnZhbHVlc0luYCB3aGljaCBjcmVhdGVzIGFuXG4gICAqIGFycmF5IG9mIGBvYmplY3RgIHByb3BlcnR5IHZhbHVlcyBjb3JyZXNwb25kaW5nIHRvIHRoZSBwcm9wZXJ0eSBuYW1lc1xuICAgKiBvZiBgcHJvcHNgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAqIEBwYXJhbSB7QXJyYXl9IHByb3BzIFRoZSBwcm9wZXJ0eSBuYW1lcyB0byBnZXQgdmFsdWVzIGZvci5cbiAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgdmFsdWVzLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVZhbHVlcyhvYmplY3QsIHByb3BzKSB7XG4gICAgcmV0dXJuIGFycmF5TWFwKHByb3BzLCBmdW5jdGlvbihrZXkpIHtcbiAgICAgIHJldHVybiBvYmplY3Rba2V5XTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYSBgY2FjaGVgIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBjYWNoZSBUaGUgY2FjaGUgdG8gcXVlcnkuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBjYWNoZUhhcyhjYWNoZSwga2V5KSB7XG4gICAgcmV0dXJuIGNhY2hlLmhhcyhrZXkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYF8udHJpbWAgYW5kIGBfLnRyaW1TdGFydGAgdG8gZ2V0IHRoZSBpbmRleCBvZiB0aGUgZmlyc3Qgc3RyaW5nIHN5bWJvbFxuICAgKiB0aGF0IGlzIG5vdCBmb3VuZCBpbiB0aGUgY2hhcmFjdGVyIHN5bWJvbHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IHN0clN5bWJvbHMgVGhlIHN0cmluZyBzeW1ib2xzIHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7QXJyYXl9IGNoclN5bWJvbHMgVGhlIGNoYXJhY3RlciBzeW1ib2xzIHRvIGZpbmQuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBmaXJzdCB1bm1hdGNoZWQgc3RyaW5nIHN5bWJvbC5cbiAgICovXG4gIGZ1bmN0aW9uIGNoYXJzU3RhcnRJbmRleChzdHJTeW1ib2xzLCBjaHJTeW1ib2xzKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IHN0clN5bWJvbHMubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGggJiYgYmFzZUluZGV4T2YoY2hyU3ltYm9scywgc3RyU3ltYm9sc1tpbmRleF0sIDApID4gLTEpIHt9XG4gICAgcmV0dXJuIGluZGV4O1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYF8udHJpbWAgYW5kIGBfLnRyaW1FbmRgIHRvIGdldCB0aGUgaW5kZXggb2YgdGhlIGxhc3Qgc3RyaW5nIHN5bWJvbFxuICAgKiB0aGF0IGlzIG5vdCBmb3VuZCBpbiB0aGUgY2hhcmFjdGVyIHN5bWJvbHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IHN0clN5bWJvbHMgVGhlIHN0cmluZyBzeW1ib2xzIHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7QXJyYXl9IGNoclN5bWJvbHMgVGhlIGNoYXJhY3RlciBzeW1ib2xzIHRvIGZpbmQuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBsYXN0IHVubWF0Y2hlZCBzdHJpbmcgc3ltYm9sLlxuICAgKi9cbiAgZnVuY3Rpb24gY2hhcnNFbmRJbmRleChzdHJTeW1ib2xzLCBjaHJTeW1ib2xzKSB7XG4gICAgdmFyIGluZGV4ID0gc3RyU3ltYm9scy5sZW5ndGg7XG5cbiAgICB3aGlsZSAoaW5kZXgtLSAmJiBiYXNlSW5kZXhPZihjaHJTeW1ib2xzLCBzdHJTeW1ib2xzW2luZGV4XSwgMCkgPiAtMSkge31cbiAgICByZXR1cm4gaW5kZXg7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgbnVtYmVyIG9mIGBwbGFjZWhvbGRlcmAgb2NjdXJyZW5jZXMgaW4gYGFycmF5YC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7Kn0gcGxhY2Vob2xkZXIgVGhlIHBsYWNlaG9sZGVyIHRvIHNlYXJjaCBmb3IuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHBsYWNlaG9sZGVyIGNvdW50LlxuICAgKi9cbiAgZnVuY3Rpb24gY291bnRIb2xkZXJzKGFycmF5LCBwbGFjZWhvbGRlcikge1xuICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgIHJlc3VsdCA9IDA7XG5cbiAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgIGlmIChhcnJheVtsZW5ndGhdID09PSBwbGFjZWhvbGRlcikge1xuICAgICAgICArK3Jlc3VsdDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VkIGJ5IGBfLmRlYnVycmAgdG8gY29udmVydCBMYXRpbi0xIFN1cHBsZW1lbnQgYW5kIExhdGluIEV4dGVuZGVkLUFcbiAgICogbGV0dGVycyB0byBiYXNpYyBMYXRpbiBsZXR0ZXJzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gbGV0dGVyIFRoZSBtYXRjaGVkIGxldHRlciB0byBkZWJ1cnIuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGRlYnVycmVkIGxldHRlci5cbiAgICovXG4gIHZhciBkZWJ1cnJMZXR0ZXIgPSBiYXNlUHJvcGVydHlPZihkZWJ1cnJlZExldHRlcnMpO1xuXG4gIC8qKlxuICAgKiBVc2VkIGJ5IGBfLmVzY2FwZWAgdG8gY29udmVydCBjaGFyYWN0ZXJzIHRvIEhUTUwgZW50aXRpZXMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjaHIgVGhlIG1hdGNoZWQgY2hhcmFjdGVyIHRvIGVzY2FwZS5cbiAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZXNjYXBlZCBjaGFyYWN0ZXIuXG4gICAqL1xuICB2YXIgZXNjYXBlSHRtbENoYXIgPSBiYXNlUHJvcGVydHlPZihodG1sRXNjYXBlcyk7XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYF8udGVtcGxhdGVgIHRvIGVzY2FwZSBjaGFyYWN0ZXJzIGZvciBpbmNsdXNpb24gaW4gY29tcGlsZWQgc3RyaW5nIGxpdGVyYWxzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gY2hyIFRoZSBtYXRjaGVkIGNoYXJhY3RlciB0byBlc2NhcGUuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGVzY2FwZWQgY2hhcmFjdGVyLlxuICAgKi9cbiAgZnVuY3Rpb24gZXNjYXBlU3RyaW5nQ2hhcihjaHIpIHtcbiAgICByZXR1cm4gJ1xcXFwnICsgc3RyaW5nRXNjYXBlc1tjaHJdO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHZhbHVlIGF0IGBrZXlgIG9mIGBvYmplY3RgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSB2YWx1ZS5cbiAgICovXG4gIGZ1bmN0aW9uIGdldFZhbHVlKG9iamVjdCwga2V5KSB7XG4gICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGBzdHJpbmdgIGNvbnRhaW5zIFVuaWNvZGUgc3ltYm9scy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhIHN5bWJvbCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gaGFzVW5pY29kZShzdHJpbmcpIHtcbiAgICByZXR1cm4gcmVIYXNVbmljb2RlLnRlc3Qoc3RyaW5nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYHN0cmluZ2AgY29udGFpbnMgYSB3b3JkIGNvbXBvc2VkIG9mIFVuaWNvZGUgc3ltYm9scy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhIHdvcmQgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGhhc1VuaWNvZGVXb3JkKHN0cmluZykge1xuICAgIHJldHVybiByZUhhc1VuaWNvZGVXb3JkLnRlc3Qoc3RyaW5nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBgaXRlcmF0b3JgIHRvIGFuIGFycmF5LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gaXRlcmF0b3IgVGhlIGl0ZXJhdG9yIHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY29udmVydGVkIGFycmF5LlxuICAgKi9cbiAgZnVuY3Rpb24gaXRlcmF0b3JUb0FycmF5KGl0ZXJhdG9yKSB7XG4gICAgdmFyIGRhdGEsXG4gICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgd2hpbGUgKCEoZGF0YSA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuICAgICAgcmVzdWx0LnB1c2goZGF0YS52YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgYG1hcGAgdG8gaXRzIGtleS12YWx1ZSBwYWlycy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IG1hcCBUaGUgbWFwIHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUga2V5LXZhbHVlIHBhaXJzLlxuICAgKi9cbiAgZnVuY3Rpb24gbWFwVG9BcnJheShtYXApIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgcmVzdWx0ID0gQXJyYXkobWFwLnNpemUpO1xuXG4gICAgbWFwLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgcmVzdWx0WysraW5kZXhdID0gW2tleSwgdmFsdWVdO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIHVuYXJ5IGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBpdHMgYXJndW1lbnQgdHJhbnNmb3JtZWQuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBUaGUgYXJndW1lbnQgdHJhbnNmb3JtLlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICovXG4gIGZ1bmN0aW9uIG92ZXJBcmcoZnVuYywgdHJhbnNmb3JtKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGFyZykge1xuICAgICAgcmV0dXJuIGZ1bmModHJhbnNmb3JtKGFyZykpO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogUmVwbGFjZXMgYWxsIGBwbGFjZWhvbGRlcmAgZWxlbWVudHMgaW4gYGFycmF5YCB3aXRoIGFuIGludGVybmFsIHBsYWNlaG9sZGVyXG4gICAqIGFuZCByZXR1cm5zIGFuIGFycmF5IG9mIHRoZWlyIGluZGV4ZXMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAqIEBwYXJhbSB7Kn0gcGxhY2Vob2xkZXIgVGhlIHBsYWNlaG9sZGVyIHRvIHJlcGxhY2UuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHBsYWNlaG9sZGVyIGluZGV4ZXMuXG4gICAqL1xuICBmdW5jdGlvbiByZXBsYWNlSG9sZGVycyhhcnJheSwgcGxhY2Vob2xkZXIpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICByZXNJbmRleCA9IDAsXG4gICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICAgIGlmICh2YWx1ZSA9PT0gcGxhY2Vob2xkZXIgfHwgdmFsdWUgPT09IFBMQUNFSE9MREVSKSB7XG4gICAgICAgIGFycmF5W2luZGV4XSA9IFBMQUNFSE9MREVSO1xuICAgICAgICByZXN1bHRbcmVzSW5kZXgrK10gPSBpbmRleDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBgc2V0YCB0byBhbiBhcnJheSBvZiBpdHMgdmFsdWVzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gc2V0IFRoZSBzZXQgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB2YWx1ZXMuXG4gICAqL1xuICBmdW5jdGlvbiBzZXRUb0FycmF5KHNldCkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICByZXN1bHQgPSBBcnJheShzZXQuc2l6ZSk7XG5cbiAgICBzZXQuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmVzdWx0WysraW5kZXhdID0gdmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBgc2V0YCB0byBpdHMgdmFsdWUtdmFsdWUgcGFpcnMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBzZXQgVGhlIHNldCB0byBjb252ZXJ0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHZhbHVlLXZhbHVlIHBhaXJzLlxuICAgKi9cbiAgZnVuY3Rpb24gc2V0VG9QYWlycyhzZXQpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgcmVzdWx0ID0gQXJyYXkoc2V0LnNpemUpO1xuXG4gICAgc2V0LmZvckVhY2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJlc3VsdFsrK2luZGV4XSA9IFt2YWx1ZSwgdmFsdWVdO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmluZGV4T2ZgIHdoaWNoIHBlcmZvcm1zIHN0cmljdCBlcXVhbGl0eVxuICAgKiBjb21wYXJpc29ucyBvZiB2YWx1ZXMsIGkuZS4gYD09PWAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICovXG4gIGZ1bmN0aW9uIHN0cmljdEluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpIHtcbiAgICB2YXIgaW5kZXggPSBmcm9tSW5kZXggLSAxLFxuICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgaWYgKGFycmF5W2luZGV4XSA9PT0gdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmxhc3RJbmRleE9mYCB3aGljaCBwZXJmb3JtcyBzdHJpY3QgZXF1YWxpdHlcbiAgICogY29tcGFyaXNvbnMgb2YgdmFsdWVzLCBpLmUuIGA9PT1gLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21JbmRleCBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAqL1xuICBmdW5jdGlvbiBzdHJpY3RMYXN0SW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleCkge1xuICAgIHZhciBpbmRleCA9IGZyb21JbmRleCArIDE7XG4gICAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICAgIGlmIChhcnJheVtpbmRleF0gPT09IHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGluZGV4O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIG51bWJlciBvZiBzeW1ib2xzIGluIGBzdHJpbmdgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc3RyaW5nIHNpemUuXG4gICAqL1xuICBmdW5jdGlvbiBzdHJpbmdTaXplKHN0cmluZykge1xuICAgIHJldHVybiBoYXNVbmljb2RlKHN0cmluZylcbiAgICAgID8gdW5pY29kZVNpemUoc3RyaW5nKVxuICAgICAgOiBhc2NpaVNpemUoc3RyaW5nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0byBhbiBhcnJheS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY29udmVydGVkIGFycmF5LlxuICAgKi9cbiAgZnVuY3Rpb24gc3RyaW5nVG9BcnJheShzdHJpbmcpIHtcbiAgICByZXR1cm4gaGFzVW5pY29kZShzdHJpbmcpXG4gICAgICA/IHVuaWNvZGVUb0FycmF5KHN0cmluZylcbiAgICAgIDogYXNjaWlUb0FycmF5KHN0cmluZyk7XG4gIH1cblxuICAvKipcbiAgICogVXNlZCBieSBgXy51bmVzY2FwZWAgdG8gY29udmVydCBIVE1MIGVudGl0aWVzIHRvIGNoYXJhY3RlcnMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjaHIgVGhlIG1hdGNoZWQgY2hhcmFjdGVyIHRvIHVuZXNjYXBlLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB1bmVzY2FwZWQgY2hhcmFjdGVyLlxuICAgKi9cbiAgdmFyIHVuZXNjYXBlSHRtbENoYXIgPSBiYXNlUHJvcGVydHlPZihodG1sVW5lc2NhcGVzKTtcblxuICAvKipcbiAgICogR2V0cyB0aGUgc2l6ZSBvZiBhIFVuaWNvZGUgYHN0cmluZ2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzdHJpbmcgc2l6ZS5cbiAgICovXG4gIGZ1bmN0aW9uIHVuaWNvZGVTaXplKHN0cmluZykge1xuICAgIHZhciByZXN1bHQgPSByZVVuaWNvZGUubGFzdEluZGV4ID0gMDtcbiAgICB3aGlsZSAocmVVbmljb2RlLnRlc3Qoc3RyaW5nKSkge1xuICAgICAgKytyZXN1bHQ7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgYSBVbmljb2RlIGBzdHJpbmdgIHRvIGFuIGFycmF5LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgYXJyYXkuXG4gICAqL1xuICBmdW5jdGlvbiB1bmljb2RlVG9BcnJheShzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nLm1hdGNoKHJlVW5pY29kZSkgfHwgW107XG4gIH1cblxuICAvKipcbiAgICogU3BsaXRzIGEgVW5pY29kZSBgc3RyaW5nYCBpbnRvIGFuIGFycmF5IG9mIGl0cyB3b3Jkcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB3b3JkcyBvZiBgc3RyaW5nYC5cbiAgICovXG4gIGZ1bmN0aW9uIHVuaWNvZGVXb3JkcyhzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nLm1hdGNoKHJlVW5pY29kZVdvcmQpIHx8IFtdO1xuICB9XG5cbiAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBwcmlzdGluZSBgbG9kYXNoYCBmdW5jdGlvbiB1c2luZyB0aGUgYGNvbnRleHRgIG9iamVjdC5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAc2luY2UgMS4xLjBcbiAgICogQGNhdGVnb3J5IFV0aWxcbiAgICogQHBhcmFtIHtPYmplY3R9IFtjb250ZXh0PXJvb3RdIFRoZSBjb250ZXh0IG9iamVjdC5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGEgbmV3IGBsb2Rhc2hgIGZ1bmN0aW9uLlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiBfLm1peGluKHsgJ2Zvbyc6IF8uY29uc3RhbnQoJ2ZvbycpIH0pO1xuICAgKlxuICAgKiB2YXIgbG9kYXNoID0gXy5ydW5JbkNvbnRleHQoKTtcbiAgICogbG9kYXNoLm1peGluKHsgJ2Jhcic6IGxvZGFzaC5jb25zdGFudCgnYmFyJykgfSk7XG4gICAqXG4gICAqIF8uaXNGdW5jdGlvbihfLmZvbyk7XG4gICAqIC8vID0+IHRydWVcbiAgICogXy5pc0Z1bmN0aW9uKF8uYmFyKTtcbiAgICogLy8gPT4gZmFsc2VcbiAgICpcbiAgICogbG9kYXNoLmlzRnVuY3Rpb24obG9kYXNoLmZvbyk7XG4gICAqIC8vID0+IGZhbHNlXG4gICAqIGxvZGFzaC5pc0Z1bmN0aW9uKGxvZGFzaC5iYXIpO1xuICAgKiAvLyA9PiB0cnVlXG4gICAqXG4gICAqIC8vIENyZWF0ZSBhIHN1cGVkLXVwIGBkZWZlcmAgaW4gTm9kZS5qcy5cbiAgICogdmFyIGRlZmVyID0gXy5ydW5JbkNvbnRleHQoeyAnc2V0VGltZW91dCc6IHNldEltbWVkaWF0ZSB9KS5kZWZlcjtcbiAgICovXG4gIHZhciBydW5JbkNvbnRleHQgPSAoZnVuY3Rpb24gcnVuSW5Db250ZXh0KGNvbnRleHQpIHtcbiAgICBjb250ZXh0ID0gY29udGV4dCA9PSBudWxsID8gcm9vdCA6IF8uZGVmYXVsdHMocm9vdC5PYmplY3QoKSwgY29udGV4dCwgXy5waWNrKHJvb3QsIGNvbnRleHRQcm9wcykpO1xuXG4gICAgLyoqIEJ1aWx0LWluIGNvbnN0cnVjdG9yIHJlZmVyZW5jZXMuICovXG4gICAgdmFyIEFycmF5ID0gY29udGV4dC5BcnJheSxcbiAgICAgICAgRGF0ZSA9IGNvbnRleHQuRGF0ZSxcbiAgICAgICAgRXJyb3IgPSBjb250ZXh0LkVycm9yLFxuICAgICAgICBGdW5jdGlvbiA9IGNvbnRleHQuRnVuY3Rpb24sXG4gICAgICAgIE1hdGggPSBjb250ZXh0Lk1hdGgsXG4gICAgICAgIE9iamVjdCA9IGNvbnRleHQuT2JqZWN0LFxuICAgICAgICBSZWdFeHAgPSBjb250ZXh0LlJlZ0V4cCxcbiAgICAgICAgU3RyaW5nID0gY29udGV4dC5TdHJpbmcsXG4gICAgICAgIFR5cGVFcnJvciA9IGNvbnRleHQuVHlwZUVycm9yO1xuXG4gICAgLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xuICAgIHZhciBhcnJheVByb3RvID0gQXJyYXkucHJvdG90eXBlLFxuICAgICAgICBmdW5jUHJvdG8gPSBGdW5jdGlvbi5wcm90b3R5cGUsXG4gICAgICAgIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuICAgIC8qKiBVc2VkIHRvIGRldGVjdCBvdmVycmVhY2hpbmcgY29yZS1qcyBzaGltcy4gKi9cbiAgICB2YXIgY29yZUpzRGF0YSA9IGNvbnRleHRbJ19fY29yZS1qc19zaGFyZWRfXyddO1xuXG4gICAgLyoqIFVzZWQgdG8gcmVzb2x2ZSB0aGUgZGVjb21waWxlZCBzb3VyY2Ugb2YgZnVuY3Rpb25zLiAqL1xuICAgIHZhciBmdW5jVG9TdHJpbmcgPSBmdW5jUHJvdG8udG9TdHJpbmc7XG5cbiAgICAvKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbiAgICB2YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuICAgIC8qKiBVc2VkIHRvIGdlbmVyYXRlIHVuaXF1ZSBJRHMuICovXG4gICAgdmFyIGlkQ291bnRlciA9IDA7XG5cbiAgICAvKiogVXNlZCB0byBkZXRlY3QgbWV0aG9kcyBtYXNxdWVyYWRpbmcgYXMgbmF0aXZlLiAqL1xuICAgIHZhciBtYXNrU3JjS2V5ID0gKGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHVpZCA9IC9bXi5dKyQvLmV4ZWMoY29yZUpzRGF0YSAmJiBjb3JlSnNEYXRhLmtleXMgJiYgY29yZUpzRGF0YS5rZXlzLklFX1BST1RPIHx8ICcnKTtcbiAgICAgIHJldHVybiB1aWQgPyAoJ1N5bWJvbChzcmMpXzEuJyArIHVpZCkgOiAnJztcbiAgICB9KCkpO1xuXG4gICAgLyoqXG4gICAgICogVXNlZCB0byByZXNvbHZlIHRoZVxuICAgICAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICAgICAqIG9mIHZhbHVlcy5cbiAgICAgKi9cbiAgICB2YXIgbmF0aXZlT2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuICAgIC8qKiBVc2VkIHRvIGluZmVyIHRoZSBgT2JqZWN0YCBjb25zdHJ1Y3Rvci4gKi9cbiAgICB2YXIgb2JqZWN0Q3RvclN0cmluZyA9IGZ1bmNUb1N0cmluZy5jYWxsKE9iamVjdCk7XG5cbiAgICAvKiogVXNlZCB0byByZXN0b3JlIHRoZSBvcmlnaW5hbCBgX2AgcmVmZXJlbmNlIGluIGBfLm5vQ29uZmxpY3RgLiAqL1xuICAgIHZhciBvbGREYXNoID0gcm9vdC5fO1xuXG4gICAgLyoqIFVzZWQgdG8gZGV0ZWN0IGlmIGEgbWV0aG9kIGlzIG5hdGl2ZS4gKi9cbiAgICB2YXIgcmVJc05hdGl2ZSA9IFJlZ0V4cCgnXicgK1xuICAgICAgZnVuY1RvU3RyaW5nLmNhbGwoaGFzT3duUHJvcGVydHkpLnJlcGxhY2UocmVSZWdFeHBDaGFyLCAnXFxcXCQmJylcbiAgICAgIC5yZXBsYWNlKC9oYXNPd25Qcm9wZXJ0eXwoZnVuY3Rpb24pLio/KD89XFxcXFxcKCl8IGZvciAuKz8oPz1cXFxcXFxdKS9nLCAnJDEuKj8nKSArICckJ1xuICAgICk7XG5cbiAgICAvKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbiAgICB2YXIgQnVmZmVyID0gbW9kdWxlRXhwb3J0cyA/IGNvbnRleHQuQnVmZmVyIDogdW5kZWZpbmVkLFxuICAgICAgICBTeW1ib2wgPSBjb250ZXh0LlN5bWJvbCxcbiAgICAgICAgVWludDhBcnJheSA9IGNvbnRleHQuVWludDhBcnJheSxcbiAgICAgICAgYWxsb2NVbnNhZmUgPSBCdWZmZXIgPyBCdWZmZXIuYWxsb2NVbnNhZmUgOiB1bmRlZmluZWQsXG4gICAgICAgIGdldFByb3RvdHlwZSA9IG92ZXJBcmcoT2JqZWN0LmdldFByb3RvdHlwZU9mLCBPYmplY3QpLFxuICAgICAgICBvYmplY3RDcmVhdGUgPSBPYmplY3QuY3JlYXRlLFxuICAgICAgICBwcm9wZXJ0eUlzRW51bWVyYWJsZSA9IG9iamVjdFByb3RvLnByb3BlcnR5SXNFbnVtZXJhYmxlLFxuICAgICAgICBzcGxpY2UgPSBhcnJheVByb3RvLnNwbGljZSxcbiAgICAgICAgc3ByZWFkYWJsZVN5bWJvbCA9IFN5bWJvbCA/IFN5bWJvbC5pc0NvbmNhdFNwcmVhZGFibGUgOiB1bmRlZmluZWQsXG4gICAgICAgIHN5bUl0ZXJhdG9yID0gU3ltYm9sID8gU3ltYm9sLml0ZXJhdG9yIDogdW5kZWZpbmVkLFxuICAgICAgICBzeW1Ub1N0cmluZ1RhZyA9IFN5bWJvbCA/IFN5bWJvbC50b1N0cmluZ1RhZyA6IHVuZGVmaW5lZDtcblxuICAgIHZhciBkZWZpbmVQcm9wZXJ0eSA9IChmdW5jdGlvbigpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciBmdW5jID0gZ2V0TmF0aXZlKE9iamVjdCwgJ2RlZmluZVByb3BlcnR5Jyk7XG4gICAgICAgIGZ1bmMoe30sICcnLCB7fSk7XG4gICAgICAgIHJldHVybiBmdW5jO1xuICAgICAgfSBjYXRjaCAoZSkge31cbiAgICB9KCkpO1xuXG4gICAgLyoqIE1vY2tlZCBidWlsdC1pbnMuICovXG4gICAgdmFyIGN0eENsZWFyVGltZW91dCA9IGNvbnRleHQuY2xlYXJUaW1lb3V0ICE9PSByb290LmNsZWFyVGltZW91dCAmJiBjb250ZXh0LmNsZWFyVGltZW91dCxcbiAgICAgICAgY3R4Tm93ID0gRGF0ZSAmJiBEYXRlLm5vdyAhPT0gcm9vdC5EYXRlLm5vdyAmJiBEYXRlLm5vdyxcbiAgICAgICAgY3R4U2V0VGltZW91dCA9IGNvbnRleHQuc2V0VGltZW91dCAhPT0gcm9vdC5zZXRUaW1lb3V0ICYmIGNvbnRleHQuc2V0VGltZW91dDtcblxuICAgIC8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cbiAgICB2YXIgbmF0aXZlQ2VpbCA9IE1hdGguY2VpbCxcbiAgICAgICAgbmF0aXZlRmxvb3IgPSBNYXRoLmZsb29yLFxuICAgICAgICBuYXRpdmVHZXRTeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxcbiAgICAgICAgbmF0aXZlSXNCdWZmZXIgPSBCdWZmZXIgPyBCdWZmZXIuaXNCdWZmZXIgOiB1bmRlZmluZWQsXG4gICAgICAgIG5hdGl2ZUlzRmluaXRlID0gY29udGV4dC5pc0Zpbml0ZSxcbiAgICAgICAgbmF0aXZlSm9pbiA9IGFycmF5UHJvdG8uam9pbixcbiAgICAgICAgbmF0aXZlS2V5cyA9IG92ZXJBcmcoT2JqZWN0LmtleXMsIE9iamVjdCksXG4gICAgICAgIG5hdGl2ZU1heCA9IE1hdGgubWF4LFxuICAgICAgICBuYXRpdmVNaW4gPSBNYXRoLm1pbixcbiAgICAgICAgbmF0aXZlTm93ID0gRGF0ZS5ub3csXG4gICAgICAgIG5hdGl2ZVBhcnNlSW50ID0gY29udGV4dC5wYXJzZUludCxcbiAgICAgICAgbmF0aXZlUmFuZG9tID0gTWF0aC5yYW5kb20sXG4gICAgICAgIG5hdGl2ZVJldmVyc2UgPSBhcnJheVByb3RvLnJldmVyc2U7XG5cbiAgICAvKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyB0aGF0IGFyZSB2ZXJpZmllZCB0byBiZSBuYXRpdmUuICovXG4gICAgdmFyIERhdGFWaWV3ID0gZ2V0TmF0aXZlKGNvbnRleHQsICdEYXRhVmlldycpLFxuICAgICAgICBNYXAgPSBnZXROYXRpdmUoY29udGV4dCwgJ01hcCcpLFxuICAgICAgICBQcm9taXNlID0gZ2V0TmF0aXZlKGNvbnRleHQsICdQcm9taXNlJyksXG4gICAgICAgIFNldCA9IGdldE5hdGl2ZShjb250ZXh0LCAnU2V0JyksXG4gICAgICAgIFdlYWtNYXAgPSBnZXROYXRpdmUoY29udGV4dCwgJ1dlYWtNYXAnKSxcbiAgICAgICAgbmF0aXZlQ3JlYXRlID0gZ2V0TmF0aXZlKE9iamVjdCwgJ2NyZWF0ZScpO1xuXG4gICAgLyoqIFVzZWQgdG8gc3RvcmUgZnVuY3Rpb24gbWV0YWRhdGEuICovXG4gICAgdmFyIG1ldGFNYXAgPSBXZWFrTWFwICYmIG5ldyBXZWFrTWFwO1xuXG4gICAgLyoqIFVzZWQgdG8gbG9va3VwIHVubWluaWZpZWQgZnVuY3Rpb24gbmFtZXMuICovXG4gICAgdmFyIHJlYWxOYW1lcyA9IHt9O1xuXG4gICAgLyoqIFVzZWQgdG8gZGV0ZWN0IG1hcHMsIHNldHMsIGFuZCB3ZWFrbWFwcy4gKi9cbiAgICB2YXIgZGF0YVZpZXdDdG9yU3RyaW5nID0gdG9Tb3VyY2UoRGF0YVZpZXcpLFxuICAgICAgICBtYXBDdG9yU3RyaW5nID0gdG9Tb3VyY2UoTWFwKSxcbiAgICAgICAgcHJvbWlzZUN0b3JTdHJpbmcgPSB0b1NvdXJjZShQcm9taXNlKSxcbiAgICAgICAgc2V0Q3RvclN0cmluZyA9IHRvU291cmNlKFNldCksXG4gICAgICAgIHdlYWtNYXBDdG9yU3RyaW5nID0gdG9Tb3VyY2UoV2Vha01hcCk7XG5cbiAgICAvKiogVXNlZCB0byBjb252ZXJ0IHN5bWJvbHMgdG8gcHJpbWl0aXZlcyBhbmQgc3RyaW5ncy4gKi9cbiAgICB2YXIgc3ltYm9sUHJvdG8gPSBTeW1ib2wgPyBTeW1ib2wucHJvdG90eXBlIDogdW5kZWZpbmVkLFxuICAgICAgICBzeW1ib2xWYWx1ZU9mID0gc3ltYm9sUHJvdG8gPyBzeW1ib2xQcm90by52YWx1ZU9mIDogdW5kZWZpbmVkLFxuICAgICAgICBzeW1ib2xUb1N0cmluZyA9IHN5bWJvbFByb3RvID8gc3ltYm9sUHJvdG8udG9TdHJpbmcgOiB1bmRlZmluZWQ7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYGxvZGFzaGAgb2JqZWN0IHdoaWNoIHdyYXBzIGB2YWx1ZWAgdG8gZW5hYmxlIGltcGxpY2l0IG1ldGhvZFxuICAgICAqIGNoYWluIHNlcXVlbmNlcy4gTWV0aG9kcyB0aGF0IG9wZXJhdGUgb24gYW5kIHJldHVybiBhcnJheXMsIGNvbGxlY3Rpb25zLFxuICAgICAqIGFuZCBmdW5jdGlvbnMgY2FuIGJlIGNoYWluZWQgdG9nZXRoZXIuIE1ldGhvZHMgdGhhdCByZXRyaWV2ZSBhIHNpbmdsZSB2YWx1ZVxuICAgICAqIG9yIG1heSByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUgd2lsbCBhdXRvbWF0aWNhbGx5IGVuZCB0aGUgY2hhaW4gc2VxdWVuY2VcbiAgICAgKiBhbmQgcmV0dXJuIHRoZSB1bndyYXBwZWQgdmFsdWUuIE90aGVyd2lzZSwgdGhlIHZhbHVlIG11c3QgYmUgdW53cmFwcGVkXG4gICAgICogd2l0aCBgXyN2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBFeHBsaWNpdCBjaGFpbiBzZXF1ZW5jZXMsIHdoaWNoIG11c3QgYmUgdW53cmFwcGVkIHdpdGggYF8jdmFsdWVgLCBtYXkgYmVcbiAgICAgKiBlbmFibGVkIHVzaW5nIGBfLmNoYWluYC5cbiAgICAgKlxuICAgICAqIFRoZSBleGVjdXRpb24gb2YgY2hhaW5lZCBtZXRob2RzIGlzIGxhenksIHRoYXQgaXMsIGl0J3MgZGVmZXJyZWQgdW50aWxcbiAgICAgKiBgXyN2YWx1ZWAgaXMgaW1wbGljaXRseSBvciBleHBsaWNpdGx5IGNhbGxlZC5cbiAgICAgKlxuICAgICAqIExhenkgZXZhbHVhdGlvbiBhbGxvd3Mgc2V2ZXJhbCBtZXRob2RzIHRvIHN1cHBvcnQgc2hvcnRjdXQgZnVzaW9uLlxuICAgICAqIFNob3J0Y3V0IGZ1c2lvbiBpcyBhbiBvcHRpbWl6YXRpb24gdG8gbWVyZ2UgaXRlcmF0ZWUgY2FsbHM7IHRoaXMgYXZvaWRzXG4gICAgICogdGhlIGNyZWF0aW9uIG9mIGludGVybWVkaWF0ZSBhcnJheXMgYW5kIGNhbiBncmVhdGx5IHJlZHVjZSB0aGUgbnVtYmVyIG9mXG4gICAgICogaXRlcmF0ZWUgZXhlY3V0aW9ucy4gU2VjdGlvbnMgb2YgYSBjaGFpbiBzZXF1ZW5jZSBxdWFsaWZ5IGZvciBzaG9ydGN1dFxuICAgICAqIGZ1c2lvbiBpZiB0aGUgc2VjdGlvbiBpcyBhcHBsaWVkIHRvIGFuIGFycmF5IGFuZCBpdGVyYXRlZXMgYWNjZXB0IG9ubHlcbiAgICAgKiBvbmUgYXJndW1lbnQuIFRoZSBoZXVyaXN0aWMgZm9yIHdoZXRoZXIgYSBzZWN0aW9uIHF1YWxpZmllcyBmb3Igc2hvcnRjdXRcbiAgICAgKiBmdXNpb24gaXMgc3ViamVjdCB0byBjaGFuZ2UuXG4gICAgICpcbiAgICAgKiBDaGFpbmluZyBpcyBzdXBwb3J0ZWQgaW4gY3VzdG9tIGJ1aWxkcyBhcyBsb25nIGFzIHRoZSBgXyN2YWx1ZWAgbWV0aG9kIGlzXG4gICAgICogZGlyZWN0bHkgb3IgaW5kaXJlY3RseSBpbmNsdWRlZCBpbiB0aGUgYnVpbGQuXG4gICAgICpcbiAgICAgKiBJbiBhZGRpdGlvbiB0byBsb2Rhc2ggbWV0aG9kcywgd3JhcHBlcnMgaGF2ZSBgQXJyYXlgIGFuZCBgU3RyaW5nYCBtZXRob2RzLlxuICAgICAqXG4gICAgICogVGhlIHdyYXBwZXIgYEFycmF5YCBtZXRob2RzIGFyZTpcbiAgICAgKiBgY29uY2F0YCwgYGpvaW5gLCBgcG9wYCwgYHB1c2hgLCBgc2hpZnRgLCBgc29ydGAsIGBzcGxpY2VgLCBhbmQgYHVuc2hpZnRgXG4gICAgICpcbiAgICAgKiBUaGUgd3JhcHBlciBgU3RyaW5nYCBtZXRob2RzIGFyZTpcbiAgICAgKiBgcmVwbGFjZWAgYW5kIGBzcGxpdGBcbiAgICAgKlxuICAgICAqIFRoZSB3cmFwcGVyIG1ldGhvZHMgdGhhdCBzdXBwb3J0IHNob3J0Y3V0IGZ1c2lvbiBhcmU6XG4gICAgICogYGF0YCwgYGNvbXBhY3RgLCBgZHJvcGAsIGBkcm9wUmlnaHRgLCBgZHJvcFdoaWxlYCwgYGZpbHRlcmAsIGBmaW5kYCxcbiAgICAgKiBgZmluZExhc3RgLCBgaGVhZGAsIGBpbml0aWFsYCwgYGxhc3RgLCBgbWFwYCwgYHJlamVjdGAsIGByZXZlcnNlYCwgYHNsaWNlYCxcbiAgICAgKiBgdGFpbGAsIGB0YWtlYCwgYHRha2VSaWdodGAsIGB0YWtlUmlnaHRXaGlsZWAsIGB0YWtlV2hpbGVgLCBhbmQgYHRvQXJyYXlgXG4gICAgICpcbiAgICAgKiBUaGUgY2hhaW5hYmxlIHdyYXBwZXIgbWV0aG9kcyBhcmU6XG4gICAgICogYGFmdGVyYCwgYGFyeWAsIGBhc3NpZ25gLCBgYXNzaWduSW5gLCBgYXNzaWduSW5XaXRoYCwgYGFzc2lnbldpdGhgLCBgYXRgLFxuICAgICAqIGBiZWZvcmVgLCBgYmluZGAsIGBiaW5kQWxsYCwgYGJpbmRLZXlgLCBgY2FzdEFycmF5YCwgYGNoYWluYCwgYGNodW5rYCxcbiAgICAgKiBgY29tbWl0YCwgYGNvbXBhY3RgLCBgY29uY2F0YCwgYGNvbmZvcm1zYCwgYGNvbnN0YW50YCwgYGNvdW50QnlgLCBgY3JlYXRlYCxcbiAgICAgKiBgY3VycnlgLCBgZGVib3VuY2VgLCBgZGVmYXVsdHNgLCBgZGVmYXVsdHNEZWVwYCwgYGRlZmVyYCwgYGRlbGF5YCxcbiAgICAgKiBgZGlmZmVyZW5jZWAsIGBkaWZmZXJlbmNlQnlgLCBgZGlmZmVyZW5jZVdpdGhgLCBgZHJvcGAsIGBkcm9wUmlnaHRgLFxuICAgICAqIGBkcm9wUmlnaHRXaGlsZWAsIGBkcm9wV2hpbGVgLCBgZXh0ZW5kYCwgYGV4dGVuZFdpdGhgLCBgZmlsbGAsIGBmaWx0ZXJgLFxuICAgICAqIGBmbGF0TWFwYCwgYGZsYXRNYXBEZWVwYCwgYGZsYXRNYXBEZXB0aGAsIGBmbGF0dGVuYCwgYGZsYXR0ZW5EZWVwYCxcbiAgICAgKiBgZmxhdHRlbkRlcHRoYCwgYGZsaXBgLCBgZmxvd2AsIGBmbG93UmlnaHRgLCBgZnJvbVBhaXJzYCwgYGZ1bmN0aW9uc2AsXG4gICAgICogYGZ1bmN0aW9uc0luYCwgYGdyb3VwQnlgLCBgaW5pdGlhbGAsIGBpbnRlcnNlY3Rpb25gLCBgaW50ZXJzZWN0aW9uQnlgLFxuICAgICAqIGBpbnRlcnNlY3Rpb25XaXRoYCwgYGludmVydGAsIGBpbnZlcnRCeWAsIGBpbnZva2VNYXBgLCBgaXRlcmF0ZWVgLCBga2V5QnlgLFxuICAgICAqIGBrZXlzYCwgYGtleXNJbmAsIGBtYXBgLCBgbWFwS2V5c2AsIGBtYXBWYWx1ZXNgLCBgbWF0Y2hlc2AsIGBtYXRjaGVzUHJvcGVydHlgLFxuICAgICAqIGBtZW1vaXplYCwgYG1lcmdlYCwgYG1lcmdlV2l0aGAsIGBtZXRob2RgLCBgbWV0aG9kT2ZgLCBgbWl4aW5gLCBgbmVnYXRlYCxcbiAgICAgKiBgbnRoQXJnYCwgYG9taXRgLCBgb21pdEJ5YCwgYG9uY2VgLCBgb3JkZXJCeWAsIGBvdmVyYCwgYG92ZXJBcmdzYCxcbiAgICAgKiBgb3ZlckV2ZXJ5YCwgYG92ZXJTb21lYCwgYHBhcnRpYWxgLCBgcGFydGlhbFJpZ2h0YCwgYHBhcnRpdGlvbmAsIGBwaWNrYCxcbiAgICAgKiBgcGlja0J5YCwgYHBsYW50YCwgYHByb3BlcnR5YCwgYHByb3BlcnR5T2ZgLCBgcHVsbGAsIGBwdWxsQWxsYCwgYHB1bGxBbGxCeWAsXG4gICAgICogYHB1bGxBbGxXaXRoYCwgYHB1bGxBdGAsIGBwdXNoYCwgYHJhbmdlYCwgYHJhbmdlUmlnaHRgLCBgcmVhcmdgLCBgcmVqZWN0YCxcbiAgICAgKiBgcmVtb3ZlYCwgYHJlc3RgLCBgcmV2ZXJzZWAsIGBzYW1wbGVTaXplYCwgYHNldGAsIGBzZXRXaXRoYCwgYHNodWZmbGVgLFxuICAgICAqIGBzbGljZWAsIGBzb3J0YCwgYHNvcnRCeWAsIGBzcGxpY2VgLCBgc3ByZWFkYCwgYHRhaWxgLCBgdGFrZWAsIGB0YWtlUmlnaHRgLFxuICAgICAqIGB0YWtlUmlnaHRXaGlsZWAsIGB0YWtlV2hpbGVgLCBgdGFwYCwgYHRocm90dGxlYCwgYHRocnVgLCBgdG9BcnJheWAsXG4gICAgICogYHRvUGFpcnNgLCBgdG9QYWlyc0luYCwgYHRvUGF0aGAsIGB0b1BsYWluT2JqZWN0YCwgYHRyYW5zZm9ybWAsIGB1bmFyeWAsXG4gICAgICogYHVuaW9uYCwgYHVuaW9uQnlgLCBgdW5pb25XaXRoYCwgYHVuaXFgLCBgdW5pcUJ5YCwgYHVuaXFXaXRoYCwgYHVuc2V0YCxcbiAgICAgKiBgdW5zaGlmdGAsIGB1bnppcGAsIGB1bnppcFdpdGhgLCBgdXBkYXRlYCwgYHVwZGF0ZVdpdGhgLCBgdmFsdWVzYCxcbiAgICAgKiBgdmFsdWVzSW5gLCBgd2l0aG91dGAsIGB3cmFwYCwgYHhvcmAsIGB4b3JCeWAsIGB4b3JXaXRoYCwgYHppcGAsXG4gICAgICogYHppcE9iamVjdGAsIGB6aXBPYmplY3REZWVwYCwgYW5kIGB6aXBXaXRoYFxuICAgICAqXG4gICAgICogVGhlIHdyYXBwZXIgbWV0aG9kcyB0aGF0IGFyZSAqKm5vdCoqIGNoYWluYWJsZSBieSBkZWZhdWx0IGFyZTpcbiAgICAgKiBgYWRkYCwgYGF0dGVtcHRgLCBgY2FtZWxDYXNlYCwgYGNhcGl0YWxpemVgLCBgY2VpbGAsIGBjbGFtcGAsIGBjbG9uZWAsXG4gICAgICogYGNsb25lRGVlcGAsIGBjbG9uZURlZXBXaXRoYCwgYGNsb25lV2l0aGAsIGBjb25mb3Jtc1RvYCwgYGRlYnVycmAsXG4gICAgICogYGRlZmF1bHRUb2AsIGBkaXZpZGVgLCBgZWFjaGAsIGBlYWNoUmlnaHRgLCBgZW5kc1dpdGhgLCBgZXFgLCBgZXNjYXBlYCxcbiAgICAgKiBgZXNjYXBlUmVnRXhwYCwgYGV2ZXJ5YCwgYGZpbmRgLCBgZmluZEluZGV4YCwgYGZpbmRLZXlgLCBgZmluZExhc3RgLFxuICAgICAqIGBmaW5kTGFzdEluZGV4YCwgYGZpbmRMYXN0S2V5YCwgYGZpcnN0YCwgYGZsb29yYCwgYGZvckVhY2hgLCBgZm9yRWFjaFJpZ2h0YCxcbiAgICAgKiBgZm9ySW5gLCBgZm9ySW5SaWdodGAsIGBmb3JPd25gLCBgZm9yT3duUmlnaHRgLCBgZ2V0YCwgYGd0YCwgYGd0ZWAsIGBoYXNgLFxuICAgICAqIGBoYXNJbmAsIGBoZWFkYCwgYGlkZW50aXR5YCwgYGluY2x1ZGVzYCwgYGluZGV4T2ZgLCBgaW5SYW5nZWAsIGBpbnZva2VgLFxuICAgICAqIGBpc0FyZ3VtZW50c2AsIGBpc0FycmF5YCwgYGlzQXJyYXlCdWZmZXJgLCBgaXNBcnJheUxpa2VgLCBgaXNBcnJheUxpa2VPYmplY3RgLFxuICAgICAqIGBpc0Jvb2xlYW5gLCBgaXNCdWZmZXJgLCBgaXNEYXRlYCwgYGlzRWxlbWVudGAsIGBpc0VtcHR5YCwgYGlzRXF1YWxgLFxuICAgICAqIGBpc0VxdWFsV2l0aGAsIGBpc0Vycm9yYCwgYGlzRmluaXRlYCwgYGlzRnVuY3Rpb25gLCBgaXNJbnRlZ2VyYCwgYGlzTGVuZ3RoYCxcbiAgICAgKiBgaXNNYXBgLCBgaXNNYXRjaGAsIGBpc01hdGNoV2l0aGAsIGBpc05hTmAsIGBpc05hdGl2ZWAsIGBpc05pbGAsIGBpc051bGxgLFxuICAgICAqIGBpc051bWJlcmAsIGBpc09iamVjdGAsIGBpc09iamVjdExpa2VgLCBgaXNQbGFpbk9iamVjdGAsIGBpc1JlZ0V4cGAsXG4gICAgICogYGlzU2FmZUludGVnZXJgLCBgaXNTZXRgLCBgaXNTdHJpbmdgLCBgaXNVbmRlZmluZWRgLCBgaXNUeXBlZEFycmF5YCxcbiAgICAgKiBgaXNXZWFrTWFwYCwgYGlzV2Vha1NldGAsIGBqb2luYCwgYGtlYmFiQ2FzZWAsIGBsYXN0YCwgYGxhc3RJbmRleE9mYCxcbiAgICAgKiBgbG93ZXJDYXNlYCwgYGxvd2VyRmlyc3RgLCBgbHRgLCBgbHRlYCwgYG1heGAsIGBtYXhCeWAsIGBtZWFuYCwgYG1lYW5CeWAsXG4gICAgICogYG1pbmAsIGBtaW5CeWAsIGBtdWx0aXBseWAsIGBub0NvbmZsaWN0YCwgYG5vb3BgLCBgbm93YCwgYG50aGAsIGBwYWRgLFxuICAgICAqIGBwYWRFbmRgLCBgcGFkU3RhcnRgLCBgcGFyc2VJbnRgLCBgcG9wYCwgYHJhbmRvbWAsIGByZWR1Y2VgLCBgcmVkdWNlUmlnaHRgLFxuICAgICAqIGByZXBlYXRgLCBgcmVzdWx0YCwgYHJvdW5kYCwgYHJ1bkluQ29udGV4dGAsIGBzYW1wbGVgLCBgc2hpZnRgLCBgc2l6ZWAsXG4gICAgICogYHNuYWtlQ2FzZWAsIGBzb21lYCwgYHNvcnRlZEluZGV4YCwgYHNvcnRlZEluZGV4QnlgLCBgc29ydGVkTGFzdEluZGV4YCxcbiAgICAgKiBgc29ydGVkTGFzdEluZGV4QnlgLCBgc3RhcnRDYXNlYCwgYHN0YXJ0c1dpdGhgLCBgc3R1YkFycmF5YCwgYHN0dWJGYWxzZWAsXG4gICAgICogYHN0dWJPYmplY3RgLCBgc3R1YlN0cmluZ2AsIGBzdHViVHJ1ZWAsIGBzdWJ0cmFjdGAsIGBzdW1gLCBgc3VtQnlgLFxuICAgICAqIGB0ZW1wbGF0ZWAsIGB0aW1lc2AsIGB0b0Zpbml0ZWAsIGB0b0ludGVnZXJgLCBgdG9KU09OYCwgYHRvTGVuZ3RoYCxcbiAgICAgKiBgdG9Mb3dlcmAsIGB0b051bWJlcmAsIGB0b1NhZmVJbnRlZ2VyYCwgYHRvU3RyaW5nYCwgYHRvVXBwZXJgLCBgdHJpbWAsXG4gICAgICogYHRyaW1FbmRgLCBgdHJpbVN0YXJ0YCwgYHRydW5jYXRlYCwgYHVuZXNjYXBlYCwgYHVuaXF1ZUlkYCwgYHVwcGVyQ2FzZWAsXG4gICAgICogYHVwcGVyRmlyc3RgLCBgdmFsdWVgLCBhbmQgYHdvcmRzYFxuICAgICAqXG4gICAgICogQG5hbWUgX1xuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byB3cmFwIGluIGEgYGxvZGFzaGAgaW5zdGFuY2UuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIHNxdWFyZShuKSB7XG4gICAgICogICByZXR1cm4gbiAqIG47XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIHdyYXBwZWQgPSBfKFsxLCAyLCAzXSk7XG4gICAgICpcbiAgICAgKiAvLyBSZXR1cm5zIGFuIHVud3JhcHBlZCB2YWx1ZS5cbiAgICAgKiB3cmFwcGVkLnJlZHVjZShfLmFkZCk7XG4gICAgICogLy8gPT4gNlxuICAgICAqXG4gICAgICogLy8gUmV0dXJucyBhIHdyYXBwZWQgdmFsdWUuXG4gICAgICogdmFyIHNxdWFyZXMgPSB3cmFwcGVkLm1hcChzcXVhcmUpO1xuICAgICAqXG4gICAgICogXy5pc0FycmF5KHNxdWFyZXMpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXkoc3F1YXJlcy52YWx1ZSgpKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gbG9kYXNoKHZhbHVlKSB7XG4gICAgICBpZiAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiAhaXNBcnJheSh2YWx1ZSkgJiYgISh2YWx1ZSBpbnN0YW5jZW9mIExhenlXcmFwcGVyKSkge1xuICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBMb2Rhc2hXcmFwcGVyKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCAnX193cmFwcGVkX18nKSkge1xuICAgICAgICAgIHJldHVybiB3cmFwcGVyQ2xvbmUodmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IExvZGFzaFdyYXBwZXIodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNyZWF0ZWAgd2l0aG91dCBzdXBwb3J0IGZvciBhc3NpZ25pbmdcbiAgICAgKiBwcm9wZXJ0aWVzIHRvIHRoZSBjcmVhdGVkIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHByb3RvIFRoZSBvYmplY3QgdG8gaW5oZXJpdCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICovXG4gICAgdmFyIGJhc2VDcmVhdGUgPSAoZnVuY3Rpb24oKSB7XG4gICAgICBmdW5jdGlvbiBvYmplY3QoKSB7fVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHByb3RvKSB7XG4gICAgICAgIGlmICghaXNPYmplY3QocHJvdG8pKSB7XG4gICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChvYmplY3RDcmVhdGUpIHtcbiAgICAgICAgICByZXR1cm4gb2JqZWN0Q3JlYXRlKHByb3RvKTtcbiAgICAgICAgfVxuICAgICAgICBvYmplY3QucHJvdG90eXBlID0gcHJvdG87XG4gICAgICAgIHZhciByZXN1bHQgPSBuZXcgb2JqZWN0O1xuICAgICAgICBvYmplY3QucHJvdG90eXBlID0gdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICB9KCkpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGZ1bmN0aW9uIHdob3NlIHByb3RvdHlwZSBjaGFpbiBzZXF1ZW5jZSB3cmFwcGVycyBpbmhlcml0IGZyb20uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VMb2Rhc2goKSB7XG4gICAgICAvLyBObyBvcGVyYXRpb24gcGVyZm9ybWVkLlxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGNvbnN0cnVjdG9yIGZvciBjcmVhdGluZyBgbG9kYXNoYCB3cmFwcGVyIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY2hhaW5BbGxdIEVuYWJsZSBleHBsaWNpdCBtZXRob2QgY2hhaW4gc2VxdWVuY2VzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIExvZGFzaFdyYXBwZXIodmFsdWUsIGNoYWluQWxsKSB7XG4gICAgICB0aGlzLl9fd3JhcHBlZF9fID0gdmFsdWU7XG4gICAgICB0aGlzLl9fYWN0aW9uc19fID0gW107XG4gICAgICB0aGlzLl9fY2hhaW5fXyA9ICEhY2hhaW5BbGw7XG4gICAgICB0aGlzLl9faW5kZXhfXyA9IDA7XG4gICAgICB0aGlzLl9fdmFsdWVzX18gPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQnkgZGVmYXVsdCwgdGhlIHRlbXBsYXRlIGRlbGltaXRlcnMgdXNlZCBieSBsb2Rhc2ggYXJlIGxpa2UgdGhvc2UgaW5cbiAgICAgKiBlbWJlZGRlZCBSdWJ5IChFUkIpIGFzIHdlbGwgYXMgRVMyMDE1IHRlbXBsYXRlIHN0cmluZ3MuIENoYW5nZSB0aGVcbiAgICAgKiBmb2xsb3dpbmcgdGVtcGxhdGUgc2V0dGluZ3MgdG8gdXNlIGFsdGVybmF0aXZlIGRlbGltaXRlcnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqL1xuICAgIGxvZGFzaC50ZW1wbGF0ZVNldHRpbmdzID0ge1xuXG4gICAgICAvKipcbiAgICAgICAqIFVzZWQgdG8gZGV0ZWN0IGBkYXRhYCBwcm9wZXJ0eSB2YWx1ZXMgdG8gYmUgSFRNTC1lc2NhcGVkLlxuICAgICAgICpcbiAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICAgICAqIEB0eXBlIHtSZWdFeHB9XG4gICAgICAgKi9cbiAgICAgICdlc2NhcGUnOiByZUVzY2FwZSxcblxuICAgICAgLyoqXG4gICAgICAgKiBVc2VkIHRvIGRldGVjdCBjb2RlIHRvIGJlIGV2YWx1YXRlZC5cbiAgICAgICAqXG4gICAgICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzXG4gICAgICAgKiBAdHlwZSB7UmVnRXhwfVxuICAgICAgICovXG4gICAgICAnZXZhbHVhdGUnOiByZUV2YWx1YXRlLFxuXG4gICAgICAvKipcbiAgICAgICAqIFVzZWQgdG8gZGV0ZWN0IGBkYXRhYCBwcm9wZXJ0eSB2YWx1ZXMgdG8gaW5qZWN0LlxuICAgICAgICpcbiAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICAgICAqIEB0eXBlIHtSZWdFeHB9XG4gICAgICAgKi9cbiAgICAgICdpbnRlcnBvbGF0ZSc6IHJlSW50ZXJwb2xhdGUsXG5cbiAgICAgIC8qKlxuICAgICAgICogVXNlZCB0byByZWZlcmVuY2UgdGhlIGRhdGEgb2JqZWN0IGluIHRoZSB0ZW1wbGF0ZSB0ZXh0LlxuICAgICAgICpcbiAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgKi9cbiAgICAgICd2YXJpYWJsZSc6ICcnLFxuXG4gICAgICAvKipcbiAgICAgICAqIFVzZWQgdG8gaW1wb3J0IHZhcmlhYmxlcyBpbnRvIHRoZSBjb21waWxlZCB0ZW1wbGF0ZS5cbiAgICAgICAqXG4gICAgICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzXG4gICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICovXG4gICAgICAnaW1wb3J0cyc6IHtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQSByZWZlcmVuY2UgdG8gdGhlIGBsb2Rhc2hgIGZ1bmN0aW9uLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzLmltcG9ydHNcbiAgICAgICAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgJ18nOiBsb2Rhc2hcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gRW5zdXJlIHdyYXBwZXJzIGFyZSBpbnN0YW5jZXMgb2YgYGJhc2VMb2Rhc2hgLlxuICAgIGxvZGFzaC5wcm90b3R5cGUgPSBiYXNlTG9kYXNoLnByb3RvdHlwZTtcbiAgICBsb2Rhc2gucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gbG9kYXNoO1xuXG4gICAgTG9kYXNoV3JhcHBlci5wcm90b3R5cGUgPSBiYXNlQ3JlYXRlKGJhc2VMb2Rhc2gucHJvdG90eXBlKTtcbiAgICBMb2Rhc2hXcmFwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IExvZGFzaFdyYXBwZXI7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbGF6eSB3cmFwcGVyIG9iamVjdCB3aGljaCB3cmFwcyBgdmFsdWVgIHRvIGVuYWJsZSBsYXp5IGV2YWx1YXRpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHdyYXAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTGF6eVdyYXBwZXIodmFsdWUpIHtcbiAgICAgIHRoaXMuX193cmFwcGVkX18gPSB2YWx1ZTtcbiAgICAgIHRoaXMuX19hY3Rpb25zX18gPSBbXTtcbiAgICAgIHRoaXMuX19kaXJfXyA9IDE7XG4gICAgICB0aGlzLl9fZmlsdGVyZWRfXyA9IGZhbHNlO1xuICAgICAgdGhpcy5fX2l0ZXJhdGVlc19fID0gW107XG4gICAgICB0aGlzLl9fdGFrZUNvdW50X18gPSBNQVhfQVJSQVlfTEVOR1RIO1xuICAgICAgdGhpcy5fX3ZpZXdzX18gPSBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhlIGxhenkgd3JhcHBlciBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGNsb25lXG4gICAgICogQG1lbWJlck9mIExhenlXcmFwcGVyXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIGBMYXp5V3JhcHBlcmAgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxhenlDbG9uZSgpIHtcbiAgICAgIHZhciByZXN1bHQgPSBuZXcgTGF6eVdyYXBwZXIodGhpcy5fX3dyYXBwZWRfXyk7XG4gICAgICByZXN1bHQuX19hY3Rpb25zX18gPSBjb3B5QXJyYXkodGhpcy5fX2FjdGlvbnNfXyk7XG4gICAgICByZXN1bHQuX19kaXJfXyA9IHRoaXMuX19kaXJfXztcbiAgICAgIHJlc3VsdC5fX2ZpbHRlcmVkX18gPSB0aGlzLl9fZmlsdGVyZWRfXztcbiAgICAgIHJlc3VsdC5fX2l0ZXJhdGVlc19fID0gY29weUFycmF5KHRoaXMuX19pdGVyYXRlZXNfXyk7XG4gICAgICByZXN1bHQuX190YWtlQ291bnRfXyA9IHRoaXMuX190YWtlQ291bnRfXztcbiAgICAgIHJlc3VsdC5fX3ZpZXdzX18gPSBjb3B5QXJyYXkodGhpcy5fX3ZpZXdzX18pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXZlcnNlcyB0aGUgZGlyZWN0aW9uIG9mIGxhenkgaXRlcmF0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSByZXZlcnNlXG4gICAgICogQG1lbWJlck9mIExhenlXcmFwcGVyXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IHJldmVyc2VkIGBMYXp5V3JhcHBlcmAgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxhenlSZXZlcnNlKCkge1xuICAgICAgaWYgKHRoaXMuX19maWx0ZXJlZF9fKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBuZXcgTGF6eVdyYXBwZXIodGhpcyk7XG4gICAgICAgIHJlc3VsdC5fX2Rpcl9fID0gLTE7XG4gICAgICAgIHJlc3VsdC5fX2ZpbHRlcmVkX18gPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gdGhpcy5jbG9uZSgpO1xuICAgICAgICByZXN1bHQuX19kaXJfXyAqPSAtMTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXh0cmFjdHMgdGhlIHVud3JhcHBlZCB2YWx1ZSBmcm9tIGl0cyBsYXp5IHdyYXBwZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIHZhbHVlXG4gICAgICogQG1lbWJlck9mIExhenlXcmFwcGVyXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHVud3JhcHBlZCB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsYXp5VmFsdWUoKSB7XG4gICAgICB2YXIgYXJyYXkgPSB0aGlzLl9fd3JhcHBlZF9fLnZhbHVlKCksXG4gICAgICAgICAgZGlyID0gdGhpcy5fX2Rpcl9fLFxuICAgICAgICAgIGlzQXJyID0gaXNBcnJheShhcnJheSksXG4gICAgICAgICAgaXNSaWdodCA9IGRpciA8IDAsXG4gICAgICAgICAgYXJyTGVuZ3RoID0gaXNBcnIgPyBhcnJheS5sZW5ndGggOiAwLFxuICAgICAgICAgIHZpZXcgPSBnZXRWaWV3KDAsIGFyckxlbmd0aCwgdGhpcy5fX3ZpZXdzX18pLFxuICAgICAgICAgIHN0YXJ0ID0gdmlldy5zdGFydCxcbiAgICAgICAgICBlbmQgPSB2aWV3LmVuZCxcbiAgICAgICAgICBsZW5ndGggPSBlbmQgLSBzdGFydCxcbiAgICAgICAgICBpbmRleCA9IGlzUmlnaHQgPyBlbmQgOiAoc3RhcnQgLSAxKSxcbiAgICAgICAgICBpdGVyYXRlZXMgPSB0aGlzLl9faXRlcmF0ZWVzX18sXG4gICAgICAgICAgaXRlckxlbmd0aCA9IGl0ZXJhdGVlcy5sZW5ndGgsXG4gICAgICAgICAgcmVzSW5kZXggPSAwLFxuICAgICAgICAgIHRha2VDb3VudCA9IG5hdGl2ZU1pbihsZW5ndGgsIHRoaXMuX190YWtlQ291bnRfXyk7XG5cbiAgICAgIGlmICghaXNBcnIgfHwgKCFpc1JpZ2h0ICYmIGFyckxlbmd0aCA9PSBsZW5ndGggJiYgdGFrZUNvdW50ID09IGxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VXcmFwcGVyVmFsdWUoYXJyYXksIHRoaXMuX19hY3Rpb25zX18pO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuXG4gICAgICBvdXRlcjpcbiAgICAgIHdoaWxlIChsZW5ndGgtLSAmJiByZXNJbmRleCA8IHRha2VDb3VudCkge1xuICAgICAgICBpbmRleCArPSBkaXI7XG5cbiAgICAgICAgdmFyIGl0ZXJJbmRleCA9IC0xLFxuICAgICAgICAgICAgdmFsdWUgPSBhcnJheVtpbmRleF07XG5cbiAgICAgICAgd2hpbGUgKCsraXRlckluZGV4IDwgaXRlckxlbmd0aCkge1xuICAgICAgICAgIHZhciBkYXRhID0gaXRlcmF0ZWVzW2l0ZXJJbmRleF0sXG4gICAgICAgICAgICAgIGl0ZXJhdGVlID0gZGF0YS5pdGVyYXRlZSxcbiAgICAgICAgICAgICAgdHlwZSA9IGRhdGEudHlwZSxcbiAgICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSh2YWx1ZSk7XG5cbiAgICAgICAgICBpZiAodHlwZSA9PSBMQVpZX01BUF9GTEFHKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGNvbXB1dGVkO1xuICAgICAgICAgIH0gZWxzZSBpZiAoIWNvbXB1dGVkKSB7XG4gICAgICAgICAgICBpZiAodHlwZSA9PSBMQVpZX0ZJTFRFUl9GTEFHKSB7XG4gICAgICAgICAgICAgIGNvbnRpbnVlIG91dGVyO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgYnJlYWsgb3V0ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJlc3VsdFtyZXNJbmRleCsrXSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvLyBFbnN1cmUgYExhenlXcmFwcGVyYCBpcyBhbiBpbnN0YW5jZSBvZiBgYmFzZUxvZGFzaGAuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlID0gYmFzZUNyZWF0ZShiYXNlTG9kYXNoLnByb3RvdHlwZSk7XG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTGF6eVdyYXBwZXI7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgaGFzaCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEhhc2goZW50cmllcykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gZW50cmllcyA9PSBudWxsID8gMCA6IGVudHJpZXMubGVuZ3RoO1xuXG4gICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICAgICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBoYXNoLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBjbGVhclxuICAgICAqIEBtZW1iZXJPZiBIYXNoXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzaENsZWFyKCkge1xuICAgICAgdGhpcy5fX2RhdGFfXyA9IG5hdGl2ZUNyZWF0ZSA/IG5hdGl2ZUNyZWF0ZShudWxsKSA6IHt9O1xuICAgICAgdGhpcy5zaXplID0gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgaGFzaC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZGVsZXRlXG4gICAgICogQG1lbWJlck9mIEhhc2hcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaGFzaCBUaGUgaGFzaCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhc2hEZWxldGUoa2V5KSB7XG4gICAgICB2YXIgcmVzdWx0ID0gdGhpcy5oYXMoa2V5KSAmJiBkZWxldGUgdGhpcy5fX2RhdGFfX1trZXldO1xuICAgICAgdGhpcy5zaXplIC09IHJlc3VsdCA/IDEgOiAwO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBoYXNoIHZhbHVlIGZvciBga2V5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZ2V0XG4gICAgICogQG1lbWJlck9mIEhhc2hcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzaEdldChrZXkpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgICAgIGlmIChuYXRpdmVDcmVhdGUpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGRhdGFba2V5XTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdCA9PT0gSEFTSF9VTkRFRklORUQgPyB1bmRlZmluZWQgOiByZXN1bHQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpID8gZGF0YVtrZXldIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhIGhhc2ggdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgaGFzXG4gICAgICogQG1lbWJlck9mIEhhc2hcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzaEhhcyhrZXkpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgICAgIHJldHVybiBuYXRpdmVDcmVhdGUgPyAoZGF0YVtrZXldICE9PSB1bmRlZmluZWQpIDogaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGhhc2ggYGtleWAgdG8gYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgc2V0XG4gICAgICogQG1lbWJlck9mIEhhc2hcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgaGFzaCBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXNoU2V0KGtleSwgdmFsdWUpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgICAgIHRoaXMuc2l6ZSArPSB0aGlzLmhhcyhrZXkpID8gMCA6IDE7XG4gICAgICBkYXRhW2tleV0gPSAobmF0aXZlQ3JlYXRlICYmIHZhbHVlID09PSB1bmRlZmluZWQpID8gSEFTSF9VTkRFRklORUQgOiB2YWx1ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vIEFkZCBtZXRob2RzIHRvIGBIYXNoYC5cbiAgICBIYXNoLnByb3RvdHlwZS5jbGVhciA9IGhhc2hDbGVhcjtcbiAgICBIYXNoLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBoYXNoRGVsZXRlO1xuICAgIEhhc2gucHJvdG90eXBlLmdldCA9IGhhc2hHZXQ7XG4gICAgSGFzaC5wcm90b3R5cGUuaGFzID0gaGFzaEhhcztcbiAgICBIYXNoLnByb3RvdHlwZS5zZXQgPSBoYXNoU2V0O1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBsaXN0IGNhY2hlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTGlzdENhY2hlKGVudHJpZXMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGVudHJpZXMgPT0gbnVsbCA/IDAgOiBlbnRyaWVzLmxlbmd0aDtcblxuICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgbGlzdCBjYWNoZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgY2xlYXJcbiAgICAgKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGlzdENhY2hlQ2xlYXIoKSB7XG4gICAgICB0aGlzLl9fZGF0YV9fID0gW107XG4gICAgICB0aGlzLnNpemUgPSAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBsaXN0IGNhY2hlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBkZWxldGVcbiAgICAgKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxpc3RDYWNoZURlbGV0ZShrZXkpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBsYXN0SW5kZXggPSBkYXRhLmxlbmd0aCAtIDE7XG4gICAgICBpZiAoaW5kZXggPT0gbGFzdEluZGV4KSB7XG4gICAgICAgIGRhdGEucG9wKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzcGxpY2UuY2FsbChkYXRhLCBpbmRleCwgMSk7XG4gICAgICB9XG4gICAgICAtLXRoaXMuc2l6ZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGxpc3QgY2FjaGUgdmFsdWUgZm9yIGBrZXlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBnZXRcbiAgICAgKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxpc3RDYWNoZUdldChrZXkpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gICAgICByZXR1cm4gaW5kZXggPCAwID8gdW5kZWZpbmVkIDogZGF0YVtpbmRleF1bMV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGEgbGlzdCBjYWNoZSB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBoYXNcbiAgICAgKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxpc3RDYWNoZUhhcyhrZXkpIHtcbiAgICAgIHJldHVybiBhc3NvY0luZGV4T2YodGhpcy5fX2RhdGFfXywga2V5KSA+IC0xO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGxpc3QgY2FjaGUgYGtleWAgdG8gYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgc2V0XG4gICAgICogQG1lbWJlck9mIExpc3RDYWNoZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBsaXN0IGNhY2hlIGluc3RhbmNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxpc3RDYWNoZVNldChrZXksIHZhbHVlKSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICArK3RoaXMuc2l6ZTtcbiAgICAgICAgZGF0YS5wdXNoKFtrZXksIHZhbHVlXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkYXRhW2luZGV4XVsxXSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gQWRkIG1ldGhvZHMgdG8gYExpc3RDYWNoZWAuXG4gICAgTGlzdENhY2hlLnByb3RvdHlwZS5jbGVhciA9IGxpc3RDYWNoZUNsZWFyO1xuICAgIExpc3RDYWNoZS5wcm90b3R5cGVbJ2RlbGV0ZSddID0gbGlzdENhY2hlRGVsZXRlO1xuICAgIExpc3RDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbGlzdENhY2hlR2V0O1xuICAgIExpc3RDYWNoZS5wcm90b3R5cGUuaGFzID0gbGlzdENhY2hlSGFzO1xuICAgIExpc3RDYWNoZS5wcm90b3R5cGUuc2V0ID0gbGlzdENhY2hlU2V0O1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG1hcCBjYWNoZSBvYmplY3QgdG8gc3RvcmUga2V5LXZhbHVlIHBhaXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBNYXBDYWNoZShlbnRyaWVzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG5cbiAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgICAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIG1hcC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgY2xlYXJcbiAgICAgKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXBDYWNoZUNsZWFyKCkge1xuICAgICAgdGhpcy5zaXplID0gMDtcbiAgICAgIHRoaXMuX19kYXRhX18gPSB7XG4gICAgICAgICdoYXNoJzogbmV3IEhhc2gsXG4gICAgICAgICdtYXAnOiBuZXcgKE1hcCB8fCBMaXN0Q2FjaGUpLFxuICAgICAgICAnc3RyaW5nJzogbmV3IEhhc2hcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIG1hcC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZGVsZXRlXG4gICAgICogQG1lbWJlck9mIE1hcENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcENhY2hlRGVsZXRlKGtleSkge1xuICAgICAgdmFyIHJlc3VsdCA9IGdldE1hcERhdGEodGhpcywga2V5KVsnZGVsZXRlJ10oa2V5KTtcbiAgICAgIHRoaXMuc2l6ZSAtPSByZXN1bHQgPyAxIDogMDtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbWFwIHZhbHVlIGZvciBga2V5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZ2V0XG4gICAgICogQG1lbWJlck9mIE1hcENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcENhY2hlR2V0KGtleSkge1xuICAgICAgcmV0dXJuIGdldE1hcERhdGEodGhpcywga2V5KS5nZXQoa2V5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYSBtYXAgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgaGFzXG4gICAgICogQG1lbWJlck9mIE1hcENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcENhY2hlSGFzKGtleSkge1xuICAgICAgcmV0dXJuIGdldE1hcERhdGEodGhpcywga2V5KS5oYXMoa2V5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBtYXAgYGtleWAgdG8gYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgc2V0XG4gICAgICogQG1lbWJlck9mIE1hcENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG1hcCBjYWNoZSBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXBDYWNoZVNldChrZXksIHZhbHVlKSB7XG4gICAgICB2YXIgZGF0YSA9IGdldE1hcERhdGEodGhpcywga2V5KSxcbiAgICAgICAgICBzaXplID0gZGF0YS5zaXplO1xuXG4gICAgICBkYXRhLnNldChrZXksIHZhbHVlKTtcbiAgICAgIHRoaXMuc2l6ZSArPSBkYXRhLnNpemUgPT0gc2l6ZSA/IDAgOiAxO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gQWRkIG1ldGhvZHMgdG8gYE1hcENhY2hlYC5cbiAgICBNYXBDYWNoZS5wcm90b3R5cGUuY2xlYXIgPSBtYXBDYWNoZUNsZWFyO1xuICAgIE1hcENhY2hlLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBtYXBDYWNoZURlbGV0ZTtcbiAgICBNYXBDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbWFwQ2FjaGVHZXQ7XG4gICAgTWFwQ2FjaGUucHJvdG90eXBlLmhhcyA9IG1hcENhY2hlSGFzO1xuICAgIE1hcENhY2hlLnByb3RvdHlwZS5zZXQgPSBtYXBDYWNoZVNldDtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBjYWNoZSBvYmplY3QgdG8gc3RvcmUgdW5pcXVlIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBjYWNoZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTZXRDYWNoZSh2YWx1ZXMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHZhbHVlcyA9PSBudWxsID8gMCA6IHZhbHVlcy5sZW5ndGg7XG5cbiAgICAgIHRoaXMuX19kYXRhX18gPSBuZXcgTWFwQ2FjaGU7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB0aGlzLmFkZCh2YWx1ZXNbaW5kZXhdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGB2YWx1ZWAgdG8gdGhlIGFycmF5IGNhY2hlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBhZGRcbiAgICAgKiBAbWVtYmVyT2YgU2V0Q2FjaGVcbiAgICAgKiBAYWxpYXMgcHVzaFxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNhY2hlLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNhY2hlIGluc3RhbmNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldENhY2hlQWRkKHZhbHVlKSB7XG4gICAgICB0aGlzLl9fZGF0YV9fLnNldCh2YWx1ZSwgSEFTSF9VTkRFRklORUQpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgaW4gdGhlIGFycmF5IGNhY2hlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBoYXNcbiAgICAgKiBAbWVtYmVyT2YgU2V0Q2FjaGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZXRDYWNoZUhhcyh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuX19kYXRhX18uaGFzKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0byBgU2V0Q2FjaGVgLlxuICAgIFNldENhY2hlLnByb3RvdHlwZS5hZGQgPSBTZXRDYWNoZS5wcm90b3R5cGUucHVzaCA9IHNldENhY2hlQWRkO1xuICAgIFNldENhY2hlLnByb3RvdHlwZS5oYXMgPSBzZXRDYWNoZUhhcztcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzdGFjayBjYWNoZSBvYmplY3QgdG8gc3RvcmUga2V5LXZhbHVlIHBhaXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTdGFjayhlbnRyaWVzKSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18gPSBuZXcgTGlzdENhY2hlKGVudHJpZXMpO1xuICAgICAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIHN0YWNrLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBjbGVhclxuICAgICAqIEBtZW1iZXJPZiBTdGFja1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0YWNrQ2xlYXIoKSB7XG4gICAgICB0aGlzLl9fZGF0YV9fID0gbmV3IExpc3RDYWNoZTtcbiAgICAgIHRoaXMuc2l6ZSA9IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIHN0YWNrLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBkZWxldGVcbiAgICAgKiBAbWVtYmVyT2YgU3RhY2tcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3RhY2tEZWxldGUoa2V5KSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICAgICAgcmVzdWx0ID0gZGF0YVsnZGVsZXRlJ10oa2V5KTtcblxuICAgICAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBzdGFjayB2YWx1ZSBmb3IgYGtleWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGdldFxuICAgICAqIEBtZW1iZXJPZiBTdGFja1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdGFja0dldChrZXkpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fZGF0YV9fLmdldChrZXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhIHN0YWNrIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGhhc1xuICAgICAqIEBtZW1iZXJPZiBTdGFja1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdGFja0hhcyhrZXkpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fZGF0YV9fLmhhcyhrZXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHN0YWNrIGBrZXlgIHRvIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIHNldFxuICAgICAqIEBtZW1iZXJPZiBTdGFja1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBzdGFjayBjYWNoZSBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdGFja1NldChrZXksIHZhbHVlKSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gICAgICBpZiAoZGF0YSBpbnN0YW5jZW9mIExpc3RDYWNoZSkge1xuICAgICAgICB2YXIgcGFpcnMgPSBkYXRhLl9fZGF0YV9fO1xuICAgICAgICBpZiAoIU1hcCB8fCAocGFpcnMubGVuZ3RoIDwgTEFSR0VfQVJSQVlfU0laRSAtIDEpKSB7XG4gICAgICAgICAgcGFpcnMucHVzaChba2V5LCB2YWx1ZV0pO1xuICAgICAgICAgIHRoaXMuc2l6ZSA9ICsrZGF0YS5zaXplO1xuICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGRhdGEgPSB0aGlzLl9fZGF0YV9fID0gbmV3IE1hcENhY2hlKHBhaXJzKTtcbiAgICAgIH1cbiAgICAgIGRhdGEuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gQWRkIG1ldGhvZHMgdG8gYFN0YWNrYC5cbiAgICBTdGFjay5wcm90b3R5cGUuY2xlYXIgPSBzdGFja0NsZWFyO1xuICAgIFN0YWNrLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBzdGFja0RlbGV0ZTtcbiAgICBTdGFjay5wcm90b3R5cGUuZ2V0ID0gc3RhY2tHZXQ7XG4gICAgU3RhY2sucHJvdG90eXBlLmhhcyA9IHN0YWNrSGFzO1xuICAgIFN0YWNrLnByb3RvdHlwZS5zZXQgPSBzdGFja1NldDtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgdGhlIGFycmF5LWxpa2UgYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBpbmhlcml0ZWQgU3BlY2lmeSByZXR1cm5pbmcgaW5oZXJpdGVkIHByb3BlcnR5IG5hbWVzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXJyYXlMaWtlS2V5cyh2YWx1ZSwgaW5oZXJpdGVkKSB7XG4gICAgICB2YXIgaXNBcnIgPSBpc0FycmF5KHZhbHVlKSxcbiAgICAgICAgICBpc0FyZyA9ICFpc0FyciAmJiBpc0FyZ3VtZW50cyh2YWx1ZSksXG4gICAgICAgICAgaXNCdWZmID0gIWlzQXJyICYmICFpc0FyZyAmJiBpc0J1ZmZlcih2YWx1ZSksXG4gICAgICAgICAgaXNUeXBlID0gIWlzQXJyICYmICFpc0FyZyAmJiAhaXNCdWZmICYmIGlzVHlwZWRBcnJheSh2YWx1ZSksXG4gICAgICAgICAgc2tpcEluZGV4ZXMgPSBpc0FyciB8fCBpc0FyZyB8fCBpc0J1ZmYgfHwgaXNUeXBlLFxuICAgICAgICAgIHJlc3VsdCA9IHNraXBJbmRleGVzID8gYmFzZVRpbWVzKHZhbHVlLmxlbmd0aCwgU3RyaW5nKSA6IFtdLFxuICAgICAgICAgIGxlbmd0aCA9IHJlc3VsdC5sZW5ndGg7XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiB2YWx1ZSkge1xuICAgICAgICBpZiAoKGluaGVyaXRlZCB8fCBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBrZXkpKSAmJlxuICAgICAgICAgICAgIShza2lwSW5kZXhlcyAmJiAoXG4gICAgICAgICAgICAgICAvLyBTYWZhcmkgOSBoYXMgZW51bWVyYWJsZSBgYXJndW1lbnRzLmxlbmd0aGAgaW4gc3RyaWN0IG1vZGUuXG4gICAgICAgICAgICAgICBrZXkgPT0gJ2xlbmd0aCcgfHxcbiAgICAgICAgICAgICAgIC8vIE5vZGUuanMgMC4xMCBoYXMgZW51bWVyYWJsZSBub24taW5kZXggcHJvcGVydGllcyBvbiBidWZmZXJzLlxuICAgICAgICAgICAgICAgKGlzQnVmZiAmJiAoa2V5ID09ICdvZmZzZXQnIHx8IGtleSA9PSAncGFyZW50JykpIHx8XG4gICAgICAgICAgICAgICAvLyBQaGFudG9tSlMgMiBoYXMgZW51bWVyYWJsZSBub24taW5kZXggcHJvcGVydGllcyBvbiB0eXBlZCBhcnJheXMuXG4gICAgICAgICAgICAgICAoaXNUeXBlICYmIChrZXkgPT0gJ2J1ZmZlcicgfHwga2V5ID09ICdieXRlTGVuZ3RoJyB8fCBrZXkgPT0gJ2J5dGVPZmZzZXQnKSkgfHxcbiAgICAgICAgICAgICAgIC8vIFNraXAgaW5kZXggcHJvcGVydGllcy5cbiAgICAgICAgICAgICAgIGlzSW5kZXgoa2V5LCBsZW5ndGgpXG4gICAgICAgICAgICApKSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnNhbXBsZWAgZm9yIGFycmF5cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNhbXBsZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmFuZG9tIGVsZW1lbnQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXJyYXlTYW1wbGUoYXJyYXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gICAgICByZXR1cm4gbGVuZ3RoID8gYXJyYXlbYmFzZVJhbmRvbSgwLCBsZW5ndGggLSAxKV0gOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnNhbXBsZVNpemVgIGZvciBhcnJheXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBzYW1wbGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byBzYW1wbGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSByYW5kb20gZWxlbWVudHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXJyYXlTYW1wbGVTaXplKGFycmF5LCBuKSB7XG4gICAgICByZXR1cm4gc2h1ZmZsZVNlbGYoY29weUFycmF5KGFycmF5KSwgYmFzZUNsYW1wKG4sIDAsIGFycmF5Lmxlbmd0aCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5zaHVmZmxlYCBmb3IgYXJyYXlzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2h1ZmZsZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzaHVmZmxlZCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhcnJheVNodWZmbGUoYXJyYXkpIHtcbiAgICAgIHJldHVybiBzaHVmZmxlU2VsZihjb3B5QXJyYXkoYXJyYXkpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2UgYGFzc2lnblZhbHVlYCBleGNlcHQgdGhhdCBpdCBkb2Vzbid0IGFzc2lnblxuICAgICAqIGB1bmRlZmluZWRgIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGFzc2lnbi5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgICAgIGlmICgodmFsdWUgIT09IHVuZGVmaW5lZCAmJiAhZXEob2JqZWN0W2tleV0sIHZhbHVlKSkgfHxcbiAgICAgICAgICAodmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhKGtleSBpbiBvYmplY3QpKSkge1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBc3NpZ25zIGB2YWx1ZWAgdG8gYGtleWAgb2YgYG9iamVjdGAgaWYgdGhlIGV4aXN0aW5nIHZhbHVlIGlzIG5vdCBlcXVpdmFsZW50XG4gICAgICogdXNpbmcgW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBhc3NpZ24uXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gYXNzaWduLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICAgICAgdmFyIG9ialZhbHVlID0gb2JqZWN0W2tleV07XG4gICAgICBpZiAoIShoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSAmJiBlcShvYmpWYWx1ZSwgdmFsdWUpKSB8fFxuICAgICAgICAgICh2YWx1ZSA9PT0gdW5kZWZpbmVkICYmICEoa2V5IGluIG9iamVjdCkpKSB7XG4gICAgICAgIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGluZGV4IGF0IHdoaWNoIHRoZSBga2V5YCBpcyBmb3VuZCBpbiBgYXJyYXlgIG9mIGtleS12YWx1ZSBwYWlycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSBrZXkgVGhlIGtleSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXNzb2NJbmRleE9mKGFycmF5LCBrZXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgaWYgKGVxKGFycmF5W2xlbmd0aF1bMF0sIGtleSkpIHtcbiAgICAgICAgICByZXR1cm4gbGVuZ3RoO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWdncmVnYXRlcyBlbGVtZW50cyBvZiBgY29sbGVjdGlvbmAgb24gYGFjY3VtdWxhdG9yYCB3aXRoIGtleXMgdHJhbnNmb3JtZWRcbiAgICAgKiBieSBgaXRlcmF0ZWVgIGFuZCB2YWx1ZXMgc2V0IGJ5IGBzZXR0ZXJgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc2V0dGVyIFRoZSBmdW5jdGlvbiB0byBzZXQgYGFjY3VtdWxhdG9yYCB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGl0ZXJhdGVlIHRvIHRyYW5zZm9ybSBrZXlzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBhY2N1bXVsYXRvciBUaGUgaW5pdGlhbCBhZ2dyZWdhdGVkIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGFjY3VtdWxhdG9yYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQWdncmVnYXRvcihjb2xsZWN0aW9uLCBzZXR0ZXIsIGl0ZXJhdGVlLCBhY2N1bXVsYXRvcikge1xuICAgICAgYmFzZUVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGtleSwgY29sbGVjdGlvbikge1xuICAgICAgICBzZXR0ZXIoYWNjdW11bGF0b3IsIHZhbHVlLCBpdGVyYXRlZSh2YWx1ZSksIGNvbGxlY3Rpb24pO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uYXNzaWduYCB3aXRob3V0IHN1cHBvcnQgZm9yIG11bHRpcGxlIHNvdXJjZXNcbiAgICAgKiBvciBgY3VzdG9taXplcmAgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VBc3NpZ24ob2JqZWN0LCBzb3VyY2UpIHtcbiAgICAgIHJldHVybiBvYmplY3QgJiYgY29weU9iamVjdChzb3VyY2UsIGtleXMoc291cmNlKSwgb2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5hc3NpZ25JbmAgd2l0aG91dCBzdXBwb3J0IGZvciBtdWx0aXBsZSBzb3VyY2VzXG4gICAgICogb3IgYGN1c3RvbWl6ZXJgIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQXNzaWduSW4ob2JqZWN0LCBzb3VyY2UpIHtcbiAgICAgIHJldHVybiBvYmplY3QgJiYgY29weU9iamVjdChzb3VyY2UsIGtleXNJbihzb3VyY2UpLCBvYmplY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBhc3NpZ25WYWx1ZWAgYW5kIGBhc3NpZ25NZXJnZVZhbHVlYCB3aXRob3V0XG4gICAgICogdmFsdWUgY2hlY2tzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gYXNzaWduLlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGFzc2lnbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gICAgICBpZiAoa2V5ID09ICdfX3Byb3RvX18nICYmIGRlZmluZVByb3BlcnR5KSB7XG4gICAgICAgIGRlZmluZVByb3BlcnR5KG9iamVjdCwga2V5LCB7XG4gICAgICAgICAgJ2NvbmZpZ3VyYWJsZSc6IHRydWUsXG4gICAgICAgICAgJ2VudW1lcmFibGUnOiB0cnVlLFxuICAgICAgICAgICd2YWx1ZSc6IHZhbHVlLFxuICAgICAgICAgICd3cml0YWJsZSc6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvYmplY3Rba2V5XSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmF0YCB3aXRob3V0IHN1cHBvcnQgZm9yIGluZGl2aWR1YWwgcGF0aHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gcGF0aHMgVGhlIHByb3BlcnR5IHBhdGhzIHRvIHBpY2suXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBwaWNrZWQgZWxlbWVudHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUF0KG9iamVjdCwgcGF0aHMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHBhdGhzLmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpLFxuICAgICAgICAgIHNraXAgPSBvYmplY3QgPT0gbnVsbDtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0W2luZGV4XSA9IHNraXAgPyB1bmRlZmluZWQgOiBnZXQob2JqZWN0LCBwYXRoc1tpbmRleF0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5jbGFtcGAgd2hpY2ggZG9lc24ndCBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gY2xhbXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsb3dlcl0gVGhlIGxvd2VyIGJvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB1cHBlciBUaGUgdXBwZXIgYm91bmQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY2xhbXBlZCBudW1iZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUNsYW1wKG51bWJlciwgbG93ZXIsIHVwcGVyKSB7XG4gICAgICBpZiAobnVtYmVyID09PSBudW1iZXIpIHtcbiAgICAgICAgaWYgKHVwcGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBudW1iZXIgPSBudW1iZXIgPD0gdXBwZXIgPyBudW1iZXIgOiB1cHBlcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobG93ZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIG51bWJlciA9IG51bWJlciA+PSBsb3dlciA/IG51bWJlciA6IGxvd2VyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVtYmVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNsb25lYCBhbmQgYF8uY2xvbmVEZWVwYCB3aGljaCB0cmFja3NcbiAgICAgKiB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLlxuICAgICAqICAxIC0gRGVlcCBjbG9uZVxuICAgICAqICAyIC0gRmxhdHRlbiBpbmhlcml0ZWQgcHJvcGVydGllc1xuICAgICAqICA0IC0gQ2xvbmUgc3ltYm9sc1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNsb25pbmcuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtrZXldIFRoZSBrZXkgb2YgYHZhbHVlYC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIHBhcmVudCBvYmplY3Qgb2YgYHZhbHVlYC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIG9iamVjdHMgYW5kIHRoZWlyIGNsb25lIGNvdW50ZXJwYXJ0cy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgY2xvbmVkIHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VDbG9uZSh2YWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwga2V5LCBvYmplY3QsIHN0YWNrKSB7XG4gICAgICB2YXIgcmVzdWx0LFxuICAgICAgICAgIGlzRGVlcCA9IGJpdG1hc2sgJiBDTE9ORV9ERUVQX0ZMQUcsXG4gICAgICAgICAgaXNGbGF0ID0gYml0bWFzayAmIENMT05FX0ZMQVRfRkxBRyxcbiAgICAgICAgICBpc0Z1bGwgPSBiaXRtYXNrICYgQ0xPTkVfU1lNQk9MU19GTEFHO1xuXG4gICAgICBpZiAoY3VzdG9taXplcikge1xuICAgICAgICByZXN1bHQgPSBvYmplY3QgPyBjdXN0b21pemVyKHZhbHVlLCBrZXksIG9iamVjdCwgc3RhY2spIDogY3VzdG9taXplcih2YWx1ZSk7XG4gICAgICB9XG4gICAgICBpZiAocmVzdWx0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIGlmICghaXNPYmplY3QodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHZhciBpc0FyciA9IGlzQXJyYXkodmFsdWUpO1xuICAgICAgaWYgKGlzQXJyKSB7XG4gICAgICAgIHJlc3VsdCA9IGluaXRDbG9uZUFycmF5KHZhbHVlKTtcbiAgICAgICAgaWYgKCFpc0RlZXApIHtcbiAgICAgICAgICByZXR1cm4gY29weUFycmF5KHZhbHVlLCByZXN1bHQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgdGFnID0gZ2V0VGFnKHZhbHVlKSxcbiAgICAgICAgICAgIGlzRnVuYyA9IHRhZyA9PSBmdW5jVGFnIHx8IHRhZyA9PSBnZW5UYWc7XG5cbiAgICAgICAgaWYgKGlzQnVmZmVyKHZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiBjbG9uZUJ1ZmZlcih2YWx1ZSwgaXNEZWVwKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGFnID09IG9iamVjdFRhZyB8fCB0YWcgPT0gYXJnc1RhZyB8fCAoaXNGdW5jICYmICFvYmplY3QpKSB7XG4gICAgICAgICAgcmVzdWx0ID0gKGlzRmxhdCB8fCBpc0Z1bmMpID8ge30gOiBpbml0Q2xvbmVPYmplY3QodmFsdWUpO1xuICAgICAgICAgIGlmICghaXNEZWVwKSB7XG4gICAgICAgICAgICByZXR1cm4gaXNGbGF0XG4gICAgICAgICAgICAgID8gY29weVN5bWJvbHNJbih2YWx1ZSwgYmFzZUFzc2lnbkluKHJlc3VsdCwgdmFsdWUpKVxuICAgICAgICAgICAgICA6IGNvcHlTeW1ib2xzKHZhbHVlLCBiYXNlQXNzaWduKHJlc3VsdCwgdmFsdWUpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKCFjbG9uZWFibGVUYWdzW3RhZ10pIHtcbiAgICAgICAgICAgIHJldHVybiBvYmplY3QgPyB2YWx1ZSA6IHt9O1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQgPSBpbml0Q2xvbmVCeVRhZyh2YWx1ZSwgdGFnLCBpc0RlZXApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBDaGVjayBmb3IgY2lyY3VsYXIgcmVmZXJlbmNlcyBhbmQgcmV0dXJuIGl0cyBjb3JyZXNwb25kaW5nIGNsb25lLlxuICAgICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICAgIHZhciBzdGFja2VkID0gc3RhY2suZ2V0KHZhbHVlKTtcbiAgICAgIGlmIChzdGFja2VkKSB7XG4gICAgICAgIHJldHVybiBzdGFja2VkO1xuICAgICAgfVxuICAgICAgc3RhY2suc2V0KHZhbHVlLCByZXN1bHQpO1xuXG4gICAgICBpZiAoaXNTZXQodmFsdWUpKSB7XG4gICAgICAgIHZhbHVlLmZvckVhY2goZnVuY3Rpb24oc3ViVmFsdWUpIHtcbiAgICAgICAgICByZXN1bHQuYWRkKGJhc2VDbG9uZShzdWJWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwgc3ViVmFsdWUsIHZhbHVlLCBzdGFjaykpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAoaXNNYXAodmFsdWUpKSB7XG4gICAgICAgIHZhbHVlLmZvckVhY2goZnVuY3Rpb24oc3ViVmFsdWUsIGtleSkge1xuICAgICAgICAgIHJlc3VsdC5zZXQoa2V5LCBiYXNlQ2xvbmUoc3ViVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGtleSwgdmFsdWUsIHN0YWNrKSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICB2YXIga2V5c0Z1bmMgPSBpc0Z1bGxcbiAgICAgICAgPyAoaXNGbGF0ID8gZ2V0QWxsS2V5c0luIDogZ2V0QWxsS2V5cylcbiAgICAgICAgOiAoaXNGbGF0ID8ga2V5c0luIDoga2V5cyk7XG5cbiAgICAgIHZhciBwcm9wcyA9IGlzQXJyID8gdW5kZWZpbmVkIDoga2V5c0Z1bmModmFsdWUpO1xuICAgICAgYXJyYXlFYWNoKHByb3BzIHx8IHZhbHVlLCBmdW5jdGlvbihzdWJWYWx1ZSwga2V5KSB7XG4gICAgICAgIGlmIChwcm9wcykge1xuICAgICAgICAgIGtleSA9IHN1YlZhbHVlO1xuICAgICAgICAgIHN1YlZhbHVlID0gdmFsdWVba2V5XTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZWN1cnNpdmVseSBwb3B1bGF0ZSBjbG9uZSAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgICBhc3NpZ25WYWx1ZShyZXN1bHQsIGtleSwgYmFzZUNsb25lKHN1YlZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBrZXksIHZhbHVlLCBzdGFjaykpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNvbmZvcm1zYCB3aGljaCBkb2Vzbid0IGNsb25lIGBzb3VyY2VgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgcHJlZGljYXRlcyB0byBjb25mb3JtIHRvLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUNvbmZvcm1zKHNvdXJjZSkge1xuICAgICAgdmFyIHByb3BzID0ga2V5cyhzb3VyY2UpO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICByZXR1cm4gYmFzZUNvbmZvcm1zVG8ob2JqZWN0LCBzb3VyY2UsIHByb3BzKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uY29uZm9ybXNUb2Agd2hpY2ggYWNjZXB0cyBgcHJvcHNgIHRvIGNoZWNrLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgcHJlZGljYXRlcyB0byBjb25mb3JtIHRvLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgb2JqZWN0YCBjb25mb3JtcywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VDb25mb3Jtc1RvKG9iamVjdCwgc291cmNlLCBwcm9wcykge1xuICAgICAgdmFyIGxlbmd0aCA9IHByb3BzLmxlbmd0aDtcbiAgICAgIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gIWxlbmd0aDtcbiAgICAgIH1cbiAgICAgIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIHZhciBrZXkgPSBwcm9wc1tsZW5ndGhdLFxuICAgICAgICAgICAgcHJlZGljYXRlID0gc291cmNlW2tleV0sXG4gICAgICAgICAgICB2YWx1ZSA9IG9iamVjdFtrZXldO1xuXG4gICAgICAgIGlmICgodmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhKGtleSBpbiBvYmplY3QpKSB8fCAhcHJlZGljYXRlKHZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZGVsYXlgIGFuZCBgXy5kZWZlcmAgd2hpY2ggYWNjZXB0cyBgYXJnc2BcbiAgICAgKiB0byBwcm92aWRlIHRvIGBmdW5jYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZGVsYXkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdhaXQgVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gZGVsYXkgaW52b2NhdGlvbi5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcmdzIFRoZSBhcmd1bWVudHMgdG8gcHJvdmlkZSB0byBgZnVuY2AuXG4gICAgICogQHJldHVybnMge251bWJlcnxPYmplY3R9IFJldHVybnMgdGhlIHRpbWVyIGlkIG9yIHRpbWVvdXQgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VEZWxheShmdW5jLCB3YWl0LCBhcmdzKSB7XG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpIHsgZnVuYy5hcHBseSh1bmRlZmluZWQsIGFyZ3MpOyB9LCB3YWl0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBtZXRob2RzIGxpa2UgYF8uZGlmZmVyZW5jZWAgd2l0aG91dCBzdXBwb3J0XG4gICAgICogZm9yIGV4Y2x1ZGluZyBtdWx0aXBsZSBhcnJheXMgb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gZXhjbHVkZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWVdIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRGlmZmVyZW5jZShhcnJheSwgdmFsdWVzLCBpdGVyYXRlZSwgY29tcGFyYXRvcikge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgaW5jbHVkZXMgPSBhcnJheUluY2x1ZGVzLFxuICAgICAgICAgIGlzQ29tbW9uID0gdHJ1ZSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0gW10sXG4gICAgICAgICAgdmFsdWVzTGVuZ3RoID0gdmFsdWVzLmxlbmd0aDtcblxuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVyYXRlZSkge1xuICAgICAgICB2YWx1ZXMgPSBhcnJheU1hcCh2YWx1ZXMsIGJhc2VVbmFyeShpdGVyYXRlZSkpO1xuICAgICAgfVxuICAgICAgaWYgKGNvbXBhcmF0b3IpIHtcbiAgICAgICAgaW5jbHVkZXMgPSBhcnJheUluY2x1ZGVzV2l0aDtcbiAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHZhbHVlcy5sZW5ndGggPj0gTEFSR0VfQVJSQVlfU0laRSkge1xuICAgICAgICBpbmNsdWRlcyA9IGNhY2hlSGFzO1xuICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICB2YWx1ZXMgPSBuZXcgU2V0Q2FjaGUodmFsdWVzKTtcbiAgICAgIH1cbiAgICAgIG91dGVyOlxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdLFxuICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA9PSBudWxsID8gdmFsdWUgOiBpdGVyYXRlZSh2YWx1ZSk7XG5cbiAgICAgICAgdmFsdWUgPSAoY29tcGFyYXRvciB8fCB2YWx1ZSAhPT0gMCkgPyB2YWx1ZSA6IDA7XG4gICAgICAgIGlmIChpc0NvbW1vbiAmJiBjb21wdXRlZCA9PT0gY29tcHV0ZWQpIHtcbiAgICAgICAgICB2YXIgdmFsdWVzSW5kZXggPSB2YWx1ZXNMZW5ndGg7XG4gICAgICAgICAgd2hpbGUgKHZhbHVlc0luZGV4LS0pIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZXNbdmFsdWVzSW5kZXhdID09PSBjb21wdXRlZCkge1xuICAgICAgICAgICAgICBjb250aW51ZSBvdXRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFpbmNsdWRlcyh2YWx1ZXMsIGNvbXB1dGVkLCBjb21wYXJhdG9yKSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5mb3JFYWNoYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheXxPYmplY3R9IFJldHVybnMgYGNvbGxlY3Rpb25gLlxuICAgICAqL1xuICAgIHZhciBiYXNlRWFjaCA9IGNyZWF0ZUJhc2VFYWNoKGJhc2VGb3JPd24pO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZm9yRWFjaFJpZ2h0YCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheXxPYmplY3R9IFJldHVybnMgYGNvbGxlY3Rpb25gLlxuICAgICAqL1xuICAgIHZhciBiYXNlRWFjaFJpZ2h0ID0gY3JlYXRlQmFzZUVhY2goYmFzZUZvck93blJpZ2h0LCB0cnVlKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmV2ZXJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYWxsIGVsZW1lbnRzIHBhc3MgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAgICAgKiAgZWxzZSBgZmFsc2VgXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUV2ZXJ5KGNvbGxlY3Rpb24sIHByZWRpY2F0ZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IHRydWU7XG4gICAgICBiYXNlRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgcmVzdWx0ID0gISFwcmVkaWNhdGUodmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBtZXRob2RzIGxpa2UgYF8ubWF4YCBhbmQgYF8ubWluYCB3aGljaCBhY2NlcHRzIGFcbiAgICAgKiBgY29tcGFyYXRvcmAgdG8gZGV0ZXJtaW5lIHRoZSBleHRyZW11bSB2YWx1ZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbXBhcmF0b3IgVGhlIGNvbXBhcmF0b3IgdXNlZCB0byBjb21wYXJlIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZXh0cmVtdW0gdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUV4dHJlbXVtKGFycmF5LCBpdGVyYXRlZSwgY29tcGFyYXRvcikge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF0sXG4gICAgICAgICAgICBjdXJyZW50ID0gaXRlcmF0ZWUodmFsdWUpO1xuXG4gICAgICAgIGlmIChjdXJyZW50ICE9IG51bGwgJiYgKGNvbXB1dGVkID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgPyAoY3VycmVudCA9PT0gY3VycmVudCAmJiAhaXNTeW1ib2woY3VycmVudCkpXG4gICAgICAgICAgICAgIDogY29tcGFyYXRvcihjdXJyZW50LCBjb21wdXRlZClcbiAgICAgICAgICAgICkpIHtcbiAgICAgICAgICB2YXIgY29tcHV0ZWQgPSBjdXJyZW50LFxuICAgICAgICAgICAgICByZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5maWxsYCB3aXRob3V0IGFuIGl0ZXJhdGVlIGNhbGwgZ3VhcmQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBmaWxsLlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGZpbGwgYGFycmF5YCB3aXRoLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kPWFycmF5Lmxlbmd0aF0gVGhlIGVuZCBwb3NpdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRmlsbChhcnJheSwgdmFsdWUsIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICAgIHN0YXJ0ID0gdG9JbnRlZ2VyKHN0YXJ0KTtcbiAgICAgIGlmIChzdGFydCA8IDApIHtcbiAgICAgICAgc3RhcnQgPSAtc3RhcnQgPiBsZW5ndGggPyAwIDogKGxlbmd0aCArIHN0YXJ0KTtcbiAgICAgIH1cbiAgICAgIGVuZCA9IChlbmQgPT09IHVuZGVmaW5lZCB8fCBlbmQgPiBsZW5ndGgpID8gbGVuZ3RoIDogdG9JbnRlZ2VyKGVuZCk7XG4gICAgICBpZiAoZW5kIDwgMCkge1xuICAgICAgICBlbmQgKz0gbGVuZ3RoO1xuICAgICAgfVxuICAgICAgZW5kID0gc3RhcnQgPiBlbmQgPyAwIDogdG9MZW5ndGgoZW5kKTtcbiAgICAgIHdoaWxlIChzdGFydCA8IGVuZCkge1xuICAgICAgICBhcnJheVtzdGFydCsrXSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZpbHRlcmAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmlsdGVyZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUZpbHRlcihjb2xsZWN0aW9uLCBwcmVkaWNhdGUpIHtcbiAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgIGJhc2VFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgICBpZiAocHJlZGljYXRlKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikpIHtcbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5mbGF0dGVuYCB3aXRoIHN1cHBvcnQgZm9yIHJlc3RyaWN0aW5nIGZsYXR0ZW5pbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBmbGF0dGVuLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZXB0aCBUaGUgbWF4aW11bSByZWN1cnNpb24gZGVwdGguXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcHJlZGljYXRlPWlzRmxhdHRlbmFibGVdIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNTdHJpY3RdIFJlc3RyaWN0IHRvIHZhbHVlcyB0aGF0IHBhc3MgYHByZWRpY2F0ZWAgY2hlY2tzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtyZXN1bHQ9W11dIFRoZSBpbml0aWFsIHJlc3VsdCB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUZsYXR0ZW4oYXJyYXksIGRlcHRoLCBwcmVkaWNhdGUsIGlzU3RyaWN0LCByZXN1bHQpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgICAgcHJlZGljYXRlIHx8IChwcmVkaWNhdGUgPSBpc0ZsYXR0ZW5hYmxlKTtcbiAgICAgIHJlc3VsdCB8fCAocmVzdWx0ID0gW10pO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgICAgIGlmIChkZXB0aCA+IDAgJiYgcHJlZGljYXRlKHZhbHVlKSkge1xuICAgICAgICAgIGlmIChkZXB0aCA+IDEpIHtcbiAgICAgICAgICAgIC8vIFJlY3Vyc2l2ZWx5IGZsYXR0ZW4gYXJyYXlzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgICAgICBiYXNlRmxhdHRlbih2YWx1ZSwgZGVwdGggLSAxLCBwcmVkaWNhdGUsIGlzU3RyaWN0LCByZXN1bHQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhcnJheVB1c2gocmVzdWx0LCB2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKCFpc1N0cmljdCkge1xuICAgICAgICAgIHJlc3VsdFtyZXN1bHQubGVuZ3RoXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBiYXNlRm9yT3duYCB3aGljaCBpdGVyYXRlcyBvdmVyIGBvYmplY3RgXG4gICAgICogcHJvcGVydGllcyByZXR1cm5lZCBieSBga2V5c0Z1bmNgIGFuZCBpbnZva2VzIGBpdGVyYXRlZWAgZm9yIGVhY2ggcHJvcGVydHkuXG4gICAgICogSXRlcmF0ZWUgZnVuY3Rpb25zIG1heSBleGl0IGl0ZXJhdGlvbiBlYXJseSBieSBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0ga2V5c0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUga2V5cyBvZiBgb2JqZWN0YC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIHZhciBiYXNlRm9yID0gY3JlYXRlQmFzZUZvcigpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBpcyBsaWtlIGBiYXNlRm9yYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIHByb3BlcnRpZXNcbiAgICAgKiBpbiB0aGUgb3Bwb3NpdGUgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBrZXlzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBrZXlzIG9mIGBvYmplY3RgLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgdmFyIGJhc2VGb3JSaWdodCA9IGNyZWF0ZUJhc2VGb3IodHJ1ZSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5mb3JPd25gIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUZvck93bihvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICYmIGJhc2VGb3Iob2JqZWN0LCBpdGVyYXRlZSwga2V5cyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZm9yT3duUmlnaHRgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUZvck93blJpZ2h0KG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgJiYgYmFzZUZvclJpZ2h0KG9iamVjdCwgaXRlcmF0ZWUsIGtleXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZ1bmN0aW9uc2Agd2hpY2ggY3JlYXRlcyBhbiBhcnJheSBvZlxuICAgICAqIGBvYmplY3RgIGZ1bmN0aW9uIHByb3BlcnR5IG5hbWVzIGZpbHRlcmVkIGZyb20gYHByb3BzYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IG5hbWVzIHRvIGZpbHRlci5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGZ1bmN0aW9uIG5hbWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VGdW5jdGlvbnMob2JqZWN0LCBwcm9wcykge1xuICAgICAgcmV0dXJuIGFycmF5RmlsdGVyKHByb3BzLCBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgcmV0dXJuIGlzRnVuY3Rpb24ob2JqZWN0W2tleV0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZ2V0YCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZmF1bHQgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUdldChvYmplY3QsIHBhdGgpIHtcbiAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuXG4gICAgICB2YXIgaW5kZXggPSAwLFxuICAgICAgICAgIGxlbmd0aCA9IHBhdGgubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAob2JqZWN0ICE9IG51bGwgJiYgaW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgb2JqZWN0ID0gb2JqZWN0W3RvS2V5KHBhdGhbaW5kZXgrK10pXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAoaW5kZXggJiYgaW5kZXggPT0gbGVuZ3RoKSA/IG9iamVjdCA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgZ2V0QWxsS2V5c2AgYW5kIGBnZXRBbGxLZXlzSW5gIHdoaWNoIHVzZXNcbiAgICAgKiBga2V5c0Z1bmNgIGFuZCBgc3ltYm9sc0Z1bmNgIHRvIGdldCB0aGUgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBhbmRcbiAgICAgKiBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0ga2V5c0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUga2V5cyBvZiBgb2JqZWN0YC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzeW1ib2xzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUdldEFsbEtleXMob2JqZWN0LCBrZXlzRnVuYywgc3ltYm9sc0Z1bmMpIHtcbiAgICAgIHZhciByZXN1bHQgPSBrZXlzRnVuYyhvYmplY3QpO1xuICAgICAgcmV0dXJuIGlzQXJyYXkob2JqZWN0KSA/IHJlc3VsdCA6IGFycmF5UHVzaChyZXN1bHQsIHN5bWJvbHNGdW5jKG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBnZXRUYWdgIHdpdGhvdXQgZmFsbGJhY2tzIGZvciBidWdneSBlbnZpcm9ubWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGB0b1N0cmluZ1RhZ2AuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUdldFRhZyh2YWx1ZSkge1xuICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgPyB1bmRlZmluZWRUYWcgOiBudWxsVGFnO1xuICAgICAgfVxuICAgICAgcmV0dXJuIChzeW1Ub1N0cmluZ1RhZyAmJiBzeW1Ub1N0cmluZ1RhZyBpbiBPYmplY3QodmFsdWUpKVxuICAgICAgICA/IGdldFJhd1RhZyh2YWx1ZSlcbiAgICAgICAgOiBvYmplY3RUb1N0cmluZyh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZ3RgIHdoaWNoIGRvZXNuJ3QgY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGdyZWF0ZXIgdGhhbiBgb3RoZXJgLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUd0KHZhbHVlLCBvdGhlcikge1xuICAgICAgcmV0dXJuIHZhbHVlID4gb3RoZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaGFzYCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZXAgcGF0aHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBrZXkgVGhlIGtleSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUhhcyhvYmplY3QsIGtleSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAhPSBudWxsICYmIGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmhhc0luYCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZXAgcGF0aHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBrZXkgVGhlIGtleSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUhhc0luKG9iamVjdCwga2V5KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICE9IG51bGwgJiYga2V5IGluIE9iamVjdChvYmplY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmluUmFuZ2VgIHdoaWNoIGRvZXNuJ3QgY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIGNoZWNrLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCBUaGUgc3RhcnQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgVGhlIGVuZCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBudW1iZXJgIGlzIGluIHRoZSByYW5nZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJblJhbmdlKG51bWJlciwgc3RhcnQsIGVuZCkge1xuICAgICAgcmV0dXJuIG51bWJlciA+PSBuYXRpdmVNaW4oc3RhcnQsIGVuZCkgJiYgbnVtYmVyIDwgbmF0aXZlTWF4KHN0YXJ0LCBlbmQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIG1ldGhvZHMgbGlrZSBgXy5pbnRlcnNlY3Rpb25gLCB3aXRob3V0IHN1cHBvcnRcbiAgICAgKiBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcywgdGhhdCBhY2NlcHRzIGFuIGFycmF5IG9mIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheXMgVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2Ygc2hhcmVkIHZhbHVlcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSW50ZXJzZWN0aW9uKGFycmF5cywgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHZhciBpbmNsdWRlcyA9IGNvbXBhcmF0b3IgPyBhcnJheUluY2x1ZGVzV2l0aCA6IGFycmF5SW5jbHVkZXMsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXlzWzBdLmxlbmd0aCxcbiAgICAgICAgICBvdGhMZW5ndGggPSBhcnJheXMubGVuZ3RoLFxuICAgICAgICAgIG90aEluZGV4ID0gb3RoTGVuZ3RoLFxuICAgICAgICAgIGNhY2hlcyA9IEFycmF5KG90aExlbmd0aCksXG4gICAgICAgICAgbWF4TGVuZ3RoID0gSW5maW5pdHksXG4gICAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICAgIHdoaWxlIChvdGhJbmRleC0tKSB7XG4gICAgICAgIHZhciBhcnJheSA9IGFycmF5c1tvdGhJbmRleF07XG4gICAgICAgIGlmIChvdGhJbmRleCAmJiBpdGVyYXRlZSkge1xuICAgICAgICAgIGFycmF5ID0gYXJyYXlNYXAoYXJyYXksIGJhc2VVbmFyeShpdGVyYXRlZSkpO1xuICAgICAgICB9XG4gICAgICAgIG1heExlbmd0aCA9IG5hdGl2ZU1pbihhcnJheS5sZW5ndGgsIG1heExlbmd0aCk7XG4gICAgICAgIGNhY2hlc1tvdGhJbmRleF0gPSAhY29tcGFyYXRvciAmJiAoaXRlcmF0ZWUgfHwgKGxlbmd0aCA+PSAxMjAgJiYgYXJyYXkubGVuZ3RoID49IDEyMCkpXG4gICAgICAgICAgPyBuZXcgU2V0Q2FjaGUob3RoSW5kZXggJiYgYXJyYXkpXG4gICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBhcnJheSA9IGFycmF5c1swXTtcblxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgc2VlbiA9IGNhY2hlc1swXTtcblxuICAgICAgb3V0ZXI6XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCAmJiByZXN1bHQubGVuZ3RoIDwgbWF4TGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUgPyBpdGVyYXRlZSh2YWx1ZSkgOiB2YWx1ZTtcblxuICAgICAgICB2YWx1ZSA9IChjb21wYXJhdG9yIHx8IHZhbHVlICE9PSAwKSA/IHZhbHVlIDogMDtcbiAgICAgICAgaWYgKCEoc2VlblxuICAgICAgICAgICAgICA/IGNhY2hlSGFzKHNlZW4sIGNvbXB1dGVkKVxuICAgICAgICAgICAgICA6IGluY2x1ZGVzKHJlc3VsdCwgY29tcHV0ZWQsIGNvbXBhcmF0b3IpXG4gICAgICAgICAgICApKSB7XG4gICAgICAgICAgb3RoSW5kZXggPSBvdGhMZW5ndGg7XG4gICAgICAgICAgd2hpbGUgKC0tb3RoSW5kZXgpIHtcbiAgICAgICAgICAgIHZhciBjYWNoZSA9IGNhY2hlc1tvdGhJbmRleF07XG4gICAgICAgICAgICBpZiAoIShjYWNoZVxuICAgICAgICAgICAgICAgICAgPyBjYWNoZUhhcyhjYWNoZSwgY29tcHV0ZWQpXG4gICAgICAgICAgICAgICAgICA6IGluY2x1ZGVzKGFycmF5c1tvdGhJbmRleF0sIGNvbXB1dGVkLCBjb21wYXJhdG9yKSlcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgY29udGludWUgb3V0ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzZWVuKSB7XG4gICAgICAgICAgICBzZWVuLnB1c2goY29tcHV0ZWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaW52ZXJ0YCBhbmQgYF8uaW52ZXJ0QnlgIHdoaWNoIGludmVydHNcbiAgICAgKiBgb2JqZWN0YCB3aXRoIHZhbHVlcyB0cmFuc2Zvcm1lZCBieSBgaXRlcmF0ZWVgIGFuZCBzZXQgYnkgYHNldHRlcmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc2V0dGVyIFRoZSBmdW5jdGlvbiB0byBzZXQgYGFjY3VtdWxhdG9yYCB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGl0ZXJhdGVlIHRvIHRyYW5zZm9ybSB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGFjY3VtdWxhdG9yIFRoZSBpbml0aWFsIGludmVydGVkIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGFjY3VtdWxhdG9yYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSW52ZXJ0ZXIob2JqZWN0LCBzZXR0ZXIsIGl0ZXJhdGVlLCBhY2N1bXVsYXRvcikge1xuICAgICAgYmFzZUZvck93bihvYmplY3QsIGZ1bmN0aW9uKHZhbHVlLCBrZXksIG9iamVjdCkge1xuICAgICAgICBzZXR0ZXIoYWNjdW11bGF0b3IsIGl0ZXJhdGVlKHZhbHVlKSwga2V5LCBvYmplY3QpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaW52b2tlYCB3aXRob3V0IHN1cHBvcnQgZm9yIGluZGl2aWR1YWxcbiAgICAgKiBtZXRob2QgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIG1ldGhvZCB0byBpbnZva2UuXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJncyBUaGUgYXJndW1lbnRzIHRvIGludm9rZSB0aGUgbWV0aG9kIHdpdGguXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc3VsdCBvZiB0aGUgaW52b2tlZCBtZXRob2QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUludm9rZShvYmplY3QsIHBhdGgsIGFyZ3MpIHtcbiAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuICAgICAgb2JqZWN0ID0gcGFyZW50KG9iamVjdCwgcGF0aCk7XG4gICAgICB2YXIgZnVuYyA9IG9iamVjdCA9PSBudWxsID8gb2JqZWN0IDogb2JqZWN0W3RvS2V5KGxhc3QocGF0aCkpXTtcbiAgICAgIHJldHVybiBmdW5jID09IG51bGwgPyB1bmRlZmluZWQgOiBhcHBseShmdW5jLCBvYmplY3QsIGFyZ3MpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzQXJndW1lbnRzYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc0FyZ3VtZW50cyh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gYXJnc1RhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc0FycmF5QnVmZmVyYCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXkgYnVmZmVyLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzQXJyYXlCdWZmZXIodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IGFycmF5QnVmZmVyVGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzRGF0ZWAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgZGF0ZSBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNEYXRlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBkYXRlVGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzRXF1YWxgIHdoaWNoIHN1cHBvcnRzIHBhcnRpYWwgY29tcGFyaXNvbnNcbiAgICAgKiBhbmQgdHJhY2tzIHRyYXZlcnNlZCBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLlxuICAgICAqICAxIC0gVW5vcmRlcmVkIGNvbXBhcmlzb25cbiAgICAgKiAgMiAtIFBhcnRpYWwgY29tcGFyaXNvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgYHZhbHVlYCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzRXF1YWwodmFsdWUsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjaykge1xuICAgICAgaWYgKHZhbHVlID09PSBvdGhlcikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IG90aGVyID09IG51bGwgfHwgKCFpc09iamVjdExpa2UodmFsdWUpICYmICFpc09iamVjdExpa2Uob3RoZXIpKSkge1xuICAgICAgICByZXR1cm4gdmFsdWUgIT09IHZhbHVlICYmIG90aGVyICE9PSBvdGhlcjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlSXNFcXVhbERlZXAodmFsdWUsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBiYXNlSXNFcXVhbCwgc3RhY2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxgIGZvciBhcnJheXMgYW5kIG9iamVjdHMgd2hpY2ggcGVyZm9ybXNcbiAgICAgKiBkZWVwIGNvbXBhcmlzb25zIGFuZCB0cmFja3MgdHJhdmVyc2VkIG9iamVjdHMgZW5hYmxpbmcgb2JqZWN0cyB3aXRoIGNpcmN1bGFyXG4gICAgICogcmVmZXJlbmNlcyB0byBiZSBjb21wYXJlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgYG9iamVjdGAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG9iamVjdHMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNFcXVhbERlZXAob2JqZWN0LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaykge1xuICAgICAgdmFyIG9iaklzQXJyID0gaXNBcnJheShvYmplY3QpLFxuICAgICAgICAgIG90aElzQXJyID0gaXNBcnJheShvdGhlciksXG4gICAgICAgICAgb2JqVGFnID0gb2JqSXNBcnIgPyBhcnJheVRhZyA6IGdldFRhZyhvYmplY3QpLFxuICAgICAgICAgIG90aFRhZyA9IG90aElzQXJyID8gYXJyYXlUYWcgOiBnZXRUYWcob3RoZXIpO1xuXG4gICAgICBvYmpUYWcgPSBvYmpUYWcgPT0gYXJnc1RhZyA/IG9iamVjdFRhZyA6IG9ialRhZztcbiAgICAgIG90aFRhZyA9IG90aFRhZyA9PSBhcmdzVGFnID8gb2JqZWN0VGFnIDogb3RoVGFnO1xuXG4gICAgICB2YXIgb2JqSXNPYmogPSBvYmpUYWcgPT0gb2JqZWN0VGFnLFxuICAgICAgICAgIG90aElzT2JqID0gb3RoVGFnID09IG9iamVjdFRhZyxcbiAgICAgICAgICBpc1NhbWVUYWcgPSBvYmpUYWcgPT0gb3RoVGFnO1xuXG4gICAgICBpZiAoaXNTYW1lVGFnICYmIGlzQnVmZmVyKG9iamVjdCkpIHtcbiAgICAgICAgaWYgKCFpc0J1ZmZlcihvdGhlcikpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgb2JqSXNBcnIgPSB0cnVlO1xuICAgICAgICBvYmpJc09iaiA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKGlzU2FtZVRhZyAmJiAhb2JqSXNPYmopIHtcbiAgICAgICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICAgICAgcmV0dXJuIChvYmpJc0FyciB8fCBpc1R5cGVkQXJyYXkob2JqZWN0KSlcbiAgICAgICAgICA/IGVxdWFsQXJyYXlzKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spXG4gICAgICAgICAgOiBlcXVhbEJ5VGFnKG9iamVjdCwgb3RoZXIsIG9ialRhZywgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjayk7XG4gICAgICB9XG4gICAgICBpZiAoIShiaXRtYXNrICYgQ09NUEFSRV9QQVJUSUFMX0ZMQUcpKSB7XG4gICAgICAgIHZhciBvYmpJc1dyYXBwZWQgPSBvYmpJc09iaiAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgJ19fd3JhcHBlZF9fJyksXG4gICAgICAgICAgICBvdGhJc1dyYXBwZWQgPSBvdGhJc09iaiAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG90aGVyLCAnX193cmFwcGVkX18nKTtcblxuICAgICAgICBpZiAob2JqSXNXcmFwcGVkIHx8IG90aElzV3JhcHBlZCkge1xuICAgICAgICAgIHZhciBvYmpVbndyYXBwZWQgPSBvYmpJc1dyYXBwZWQgPyBvYmplY3QudmFsdWUoKSA6IG9iamVjdCxcbiAgICAgICAgICAgICAgb3RoVW53cmFwcGVkID0gb3RoSXNXcmFwcGVkID8gb3RoZXIudmFsdWUoKSA6IG90aGVyO1xuXG4gICAgICAgICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICAgICAgICByZXR1cm4gZXF1YWxGdW5jKG9ialVud3JhcHBlZCwgb3RoVW53cmFwcGVkLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjayk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghaXNTYW1lVGFnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gICAgICByZXR1cm4gZXF1YWxPYmplY3RzKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTWFwYCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBtYXAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNNYXAodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGdldFRhZyh2YWx1ZSkgPT0gbWFwVGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTWF0Y2hgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHZhbHVlcyB0byBtYXRjaC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBtYXRjaERhdGEgVGhlIHByb3BlcnR5IG5hbWVzLCB2YWx1ZXMsIGFuZCBjb21wYXJlIGZsYWdzIHRvIG1hdGNoLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgb2JqZWN0YCBpcyBhIG1hdGNoLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzTWF0Y2gob2JqZWN0LCBzb3VyY2UsIG1hdGNoRGF0YSwgY3VzdG9taXplcikge1xuICAgICAgdmFyIGluZGV4ID0gbWF0Y2hEYXRhLmxlbmd0aCxcbiAgICAgICAgICBsZW5ndGggPSBpbmRleCxcbiAgICAgICAgICBub0N1c3RvbWl6ZXIgPSAhY3VzdG9taXplcjtcblxuICAgICAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiAhbGVuZ3RoO1xuICAgICAgfVxuICAgICAgb2JqZWN0ID0gT2JqZWN0KG9iamVjdCk7XG4gICAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgICB2YXIgZGF0YSA9IG1hdGNoRGF0YVtpbmRleF07XG4gICAgICAgIGlmICgobm9DdXN0b21pemVyICYmIGRhdGFbMl0pXG4gICAgICAgICAgICAgID8gZGF0YVsxXSAhPT0gb2JqZWN0W2RhdGFbMF1dXG4gICAgICAgICAgICAgIDogIShkYXRhWzBdIGluIG9iamVjdClcbiAgICAgICAgICAgICkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgZGF0YSA9IG1hdGNoRGF0YVtpbmRleF07XG4gICAgICAgIHZhciBrZXkgPSBkYXRhWzBdLFxuICAgICAgICAgICAgb2JqVmFsdWUgPSBvYmplY3Rba2V5XSxcbiAgICAgICAgICAgIHNyY1ZhbHVlID0gZGF0YVsxXTtcblxuICAgICAgICBpZiAobm9DdXN0b21pemVyICYmIGRhdGFbMl0pIHtcbiAgICAgICAgICBpZiAob2JqVmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhKGtleSBpbiBvYmplY3QpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBzdGFjayA9IG5ldyBTdGFjaztcbiAgICAgICAgICBpZiAoY3VzdG9taXplcikge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGN1c3RvbWl6ZXIob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCwgc291cmNlLCBzdGFjayk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghKHJlc3VsdCA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgPyBiYXNlSXNFcXVhbChzcmNWYWx1ZSwgb2JqVmFsdWUsIENPTVBBUkVfUEFSVElBTF9GTEFHIHwgQ09NUEFSRV9VTk9SREVSRURfRkxBRywgY3VzdG9taXplciwgc3RhY2spXG4gICAgICAgICAgICAgICAgOiByZXN1bHRcbiAgICAgICAgICAgICAgKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNOYXRpdmVgIHdpdGhvdXQgYmFkIHNoaW0gY2hlY2tzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG5hdGl2ZSBmdW5jdGlvbixcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc05hdGl2ZSh2YWx1ZSkge1xuICAgICAgaWYgKCFpc09iamVjdCh2YWx1ZSkgfHwgaXNNYXNrZWQodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBwYXR0ZXJuID0gaXNGdW5jdGlvbih2YWx1ZSkgPyByZUlzTmF0aXZlIDogcmVJc0hvc3RDdG9yO1xuICAgICAgcmV0dXJuIHBhdHRlcm4udGVzdCh0b1NvdXJjZSh2YWx1ZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzUmVnRXhwYCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSByZWdleHAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNSZWdFeHAodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IHJlZ2V4cFRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc1NldGAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc2V0LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzU2V0KHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBnZXRUYWcodmFsdWUpID09IHNldFRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc1R5cGVkQXJyYXlgIHdpdGhvdXQgTm9kZS5qcyBvcHRpbWl6YXRpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHR5cGVkIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzVHlwZWRBcnJheSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiZcbiAgICAgICAgaXNMZW5ndGgodmFsdWUubGVuZ3RoKSAmJiAhIXR5cGVkQXJyYXlUYWdzW2Jhc2VHZXRUYWcodmFsdWUpXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pdGVyYXRlZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gW3ZhbHVlPV8uaWRlbnRpdHldIFRoZSB2YWx1ZSB0byBjb252ZXJ0IHRvIGFuIGl0ZXJhdGVlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgaXRlcmF0ZWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUl0ZXJhdGVlKHZhbHVlKSB7XG4gICAgICAvLyBEb24ndCBzdG9yZSB0aGUgYHR5cGVvZmAgcmVzdWx0IGluIGEgdmFyaWFibGUgdG8gYXZvaWQgYSBKSVQgYnVnIGluIFNhZmFyaSA5LlxuICAgICAgLy8gU2VlIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xNTYwMzQgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gaWRlbnRpdHk7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiBpc0FycmF5KHZhbHVlKVxuICAgICAgICAgID8gYmFzZU1hdGNoZXNQcm9wZXJ0eSh2YWx1ZVswXSwgdmFsdWVbMV0pXG4gICAgICAgICAgOiBiYXNlTWF0Y2hlcyh2YWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcHJvcGVydHkodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmtleXNgIHdoaWNoIGRvZXNuJ3QgdHJlYXQgc3BhcnNlIGFycmF5cyBhcyBkZW5zZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUtleXMob2JqZWN0KSB7XG4gICAgICBpZiAoIWlzUHJvdG90eXBlKG9iamVjdCkpIHtcbiAgICAgICAgcmV0dXJuIG5hdGl2ZUtleXMob2JqZWN0KTtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgIGZvciAodmFyIGtleSBpbiBPYmplY3Qob2JqZWN0KSkge1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkgJiYga2V5ICE9ICdjb25zdHJ1Y3RvcicpIHtcbiAgICAgICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmtleXNJbmAgd2hpY2ggZG9lc24ndCB0cmVhdCBzcGFyc2UgYXJyYXlzIGFzIGRlbnNlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlS2V5c0luKG9iamVjdCkge1xuICAgICAgaWYgKCFpc09iamVjdChvYmplY3QpKSB7XG4gICAgICAgIHJldHVybiBuYXRpdmVLZXlzSW4ob2JqZWN0KTtcbiAgICAgIH1cbiAgICAgIHZhciBpc1Byb3RvID0gaXNQcm90b3R5cGUob2JqZWN0KSxcbiAgICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgICAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xuICAgICAgICBpZiAoIShrZXkgPT0gJ2NvbnN0cnVjdG9yJyAmJiAoaXNQcm90byB8fCAhaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkpKSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubHRgIHdoaWNoIGRvZXNuJ3QgY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGxlc3MgdGhhbiBgb3RoZXJgLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUx0KHZhbHVlLCBvdGhlcikge1xuICAgICAgcmV0dXJuIHZhbHVlIDwgb3RoZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubWFwYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IG1hcHBlZCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTWFwKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICByZXN1bHQgPSBpc0FycmF5TGlrZShjb2xsZWN0aW9uKSA/IEFycmF5KGNvbGxlY3Rpb24ubGVuZ3RoKSA6IFtdO1xuXG4gICAgICBiYXNlRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHJlc3VsdFsrK2luZGV4XSA9IGl0ZXJhdGVlKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm1hdGNoZXNgIHdoaWNoIGRvZXNuJ3QgY2xvbmUgYHNvdXJjZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSB2YWx1ZXMgdG8gbWF0Y2guXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTWF0Y2hlcyhzb3VyY2UpIHtcbiAgICAgIHZhciBtYXRjaERhdGEgPSBnZXRNYXRjaERhdGEoc291cmNlKTtcbiAgICAgIGlmIChtYXRjaERhdGEubGVuZ3RoID09IDEgJiYgbWF0Y2hEYXRhWzBdWzJdKSB7XG4gICAgICAgIHJldHVybiBtYXRjaGVzU3RyaWN0Q29tcGFyYWJsZShtYXRjaERhdGFbMF1bMF0sIG1hdGNoRGF0YVswXVsxXSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBvYmplY3QgPT09IHNvdXJjZSB8fCBiYXNlSXNNYXRjaChvYmplY3QsIHNvdXJjZSwgbWF0Y2hEYXRhKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubWF0Y2hlc1Byb3BlcnR5YCB3aGljaCBkb2Vzbid0IGNsb25lIGBzcmNWYWx1ZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHBhcmFtIHsqfSBzcmNWYWx1ZSBUaGUgdmFsdWUgdG8gbWF0Y2guXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTWF0Y2hlc1Byb3BlcnR5KHBhdGgsIHNyY1ZhbHVlKSB7XG4gICAgICBpZiAoaXNLZXkocGF0aCkgJiYgaXNTdHJpY3RDb21wYXJhYmxlKHNyY1ZhbHVlKSkge1xuICAgICAgICByZXR1cm4gbWF0Y2hlc1N0cmljdENvbXBhcmFibGUodG9LZXkocGF0aCksIHNyY1ZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgdmFyIG9ialZhbHVlID0gZ2V0KG9iamVjdCwgcGF0aCk7XG4gICAgICAgIHJldHVybiAob2JqVmFsdWUgPT09IHVuZGVmaW5lZCAmJiBvYmpWYWx1ZSA9PT0gc3JjVmFsdWUpXG4gICAgICAgICAgPyBoYXNJbihvYmplY3QsIHBhdGgpXG4gICAgICAgICAgOiBiYXNlSXNFcXVhbChzcmNWYWx1ZSwgb2JqVmFsdWUsIENPTVBBUkVfUEFSVElBTF9GTEFHIHwgQ09NUEFSRV9VTk9SREVSRURfRkxBRyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm1lcmdlYCB3aXRob3V0IHN1cHBvcnQgZm9yIG11bHRpcGxlIHNvdXJjZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzcmNJbmRleCBUaGUgaW5kZXggb2YgYHNvdXJjZWAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgbWVyZ2VkIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIHNvdXJjZSB2YWx1ZXMgYW5kIHRoZWlyIG1lcmdlZFxuICAgICAqICBjb3VudGVycGFydHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZU1lcmdlKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCwgY3VzdG9taXplciwgc3RhY2spIHtcbiAgICAgIGlmIChvYmplY3QgPT09IHNvdXJjZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBiYXNlRm9yKHNvdXJjZSwgZnVuY3Rpb24oc3JjVmFsdWUsIGtleSkge1xuICAgICAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICAgICAgICBpZiAoaXNPYmplY3Qoc3JjVmFsdWUpKSB7XG4gICAgICAgICAgYmFzZU1lcmdlRGVlcChvYmplY3QsIHNvdXJjZSwga2V5LCBzcmNJbmRleCwgYmFzZU1lcmdlLCBjdXN0b21pemVyLCBzdGFjayk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgdmFyIG5ld1ZhbHVlID0gY3VzdG9taXplclxuICAgICAgICAgICAgPyBjdXN0b21pemVyKHNhZmVHZXQob2JqZWN0LCBrZXkpLCBzcmNWYWx1ZSwgKGtleSArICcnKSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKVxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgICBpZiAobmV3VmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBzcmNWYWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9LCBrZXlzSW4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZU1lcmdlYCBmb3IgYXJyYXlzIGFuZCBvYmplY3RzIHdoaWNoIHBlcmZvcm1zXG4gICAgICogZGVlcCBtZXJnZXMgYW5kIHRyYWNrcyB0cmF2ZXJzZWQgb2JqZWN0cyBlbmFibGluZyBvYmplY3RzIHdpdGggY2lyY3VsYXJcbiAgICAgKiByZWZlcmVuY2VzIHRvIGJlIG1lcmdlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBtZXJnZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3JjSW5kZXggVGhlIGluZGV4IG9mIGBzb3VyY2VgLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IG1lcmdlRnVuYyBUaGUgZnVuY3Rpb24gdG8gbWVyZ2UgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmVkIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIHNvdXJjZSB2YWx1ZXMgYW5kIHRoZWlyIG1lcmdlZFxuICAgICAqICBjb3VudGVycGFydHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZU1lcmdlRGVlcChvYmplY3QsIHNvdXJjZSwga2V5LCBzcmNJbmRleCwgbWVyZ2VGdW5jLCBjdXN0b21pemVyLCBzdGFjaykge1xuICAgICAgdmFyIG9ialZhbHVlID0gc2FmZUdldChvYmplY3QsIGtleSksXG4gICAgICAgICAgc3JjVmFsdWUgPSBzYWZlR2V0KHNvdXJjZSwga2V5KSxcbiAgICAgICAgICBzdGFja2VkID0gc3RhY2suZ2V0KHNyY1ZhbHVlKTtcblxuICAgICAgaWYgKHN0YWNrZWQpIHtcbiAgICAgICAgYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgc3RhY2tlZCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBuZXdWYWx1ZSA9IGN1c3RvbWl6ZXJcbiAgICAgICAgPyBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSwgKGtleSArICcnKSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKVxuICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgdmFyIGlzQ29tbW9uID0gbmV3VmFsdWUgPT09IHVuZGVmaW5lZDtcblxuICAgICAgaWYgKGlzQ29tbW9uKSB7XG4gICAgICAgIHZhciBpc0FyciA9IGlzQXJyYXkoc3JjVmFsdWUpLFxuICAgICAgICAgICAgaXNCdWZmID0gIWlzQXJyICYmIGlzQnVmZmVyKHNyY1ZhbHVlKSxcbiAgICAgICAgICAgIGlzVHlwZWQgPSAhaXNBcnIgJiYgIWlzQnVmZiAmJiBpc1R5cGVkQXJyYXkoc3JjVmFsdWUpO1xuXG4gICAgICAgIG5ld1ZhbHVlID0gc3JjVmFsdWU7XG4gICAgICAgIGlmIChpc0FyciB8fCBpc0J1ZmYgfHwgaXNUeXBlZCkge1xuICAgICAgICAgIGlmIChpc0FycmF5KG9ialZhbHVlKSkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBvYmpWYWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAoaXNBcnJheUxpa2VPYmplY3Qob2JqVmFsdWUpKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IGNvcHlBcnJheShvYmpWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKGlzQnVmZikge1xuICAgICAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gY2xvbmVCdWZmZXIoc3JjVmFsdWUsIHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmIChpc1R5cGVkKSB7XG4gICAgICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBjbG9uZVR5cGVkQXJyYXkoc3JjVmFsdWUsIHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gW107XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzUGxhaW5PYmplY3Qoc3JjVmFsdWUpIHx8IGlzQXJndW1lbnRzKHNyY1ZhbHVlKSkge1xuICAgICAgICAgIG5ld1ZhbHVlID0gb2JqVmFsdWU7XG4gICAgICAgICAgaWYgKGlzQXJndW1lbnRzKG9ialZhbHVlKSkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSB0b1BsYWluT2JqZWN0KG9ialZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAoIWlzT2JqZWN0KG9ialZhbHVlKSB8fCBpc0Z1bmN0aW9uKG9ialZhbHVlKSkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBpbml0Q2xvbmVPYmplY3Qoc3JjVmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoaXNDb21tb24pIHtcbiAgICAgICAgLy8gUmVjdXJzaXZlbHkgbWVyZ2Ugb2JqZWN0cyBhbmQgYXJyYXlzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgIHN0YWNrLnNldChzcmNWYWx1ZSwgbmV3VmFsdWUpO1xuICAgICAgICBtZXJnZUZ1bmMobmV3VmFsdWUsIHNyY1ZhbHVlLCBzcmNJbmRleCwgY3VzdG9taXplciwgc3RhY2spO1xuICAgICAgICBzdGFja1snZGVsZXRlJ10oc3JjVmFsdWUpO1xuICAgICAgfVxuICAgICAgYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm50aGAgd2hpY2ggZG9lc24ndCBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIGluZGV4IG9mIHRoZSBlbGVtZW50IHRvIHJldHVybi5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbnRoIGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTnRoKGFycmF5LCBuKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbiArPSBuIDwgMCA/IGxlbmd0aCA6IDA7XG4gICAgICByZXR1cm4gaXNJbmRleChuLCBsZW5ndGgpID8gYXJyYXlbbl0gOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ub3JkZXJCeWAgd2l0aG91dCBwYXJhbSBndWFyZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9uW118T2JqZWN0W118c3RyaW5nW119IGl0ZXJhdGVlcyBUaGUgaXRlcmF0ZWVzIHRvIHNvcnQgYnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gb3JkZXJzIFRoZSBzb3J0IG9yZGVycyBvZiBgaXRlcmF0ZWVzYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzb3J0ZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZU9yZGVyQnkoY29sbGVjdGlvbiwgaXRlcmF0ZWVzLCBvcmRlcnMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xO1xuICAgICAgaXRlcmF0ZWVzID0gYXJyYXlNYXAoaXRlcmF0ZWVzLmxlbmd0aCA/IGl0ZXJhdGVlcyA6IFtpZGVudGl0eV0sIGJhc2VVbmFyeShnZXRJdGVyYXRlZSgpKSk7XG5cbiAgICAgIHZhciByZXN1bHQgPSBiYXNlTWFwKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgdmFyIGNyaXRlcmlhID0gYXJyYXlNYXAoaXRlcmF0ZWVzLCBmdW5jdGlvbihpdGVyYXRlZSkge1xuICAgICAgICAgIHJldHVybiBpdGVyYXRlZSh2YWx1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4geyAnY3JpdGVyaWEnOiBjcml0ZXJpYSwgJ2luZGV4JzogKytpbmRleCwgJ3ZhbHVlJzogdmFsdWUgfTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gYmFzZVNvcnRCeShyZXN1bHQsIGZ1bmN0aW9uKG9iamVjdCwgb3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIGNvbXBhcmVNdWx0aXBsZShvYmplY3QsIG90aGVyLCBvcmRlcnMpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucGlja2Agd2l0aG91dCBzdXBwb3J0IGZvciBpbmRpdmlkdWFsXG4gICAgICogcHJvcGVydHkgaWRlbnRpZmllcnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gcGF0aHMgVGhlIHByb3BlcnR5IHBhdGhzIHRvIHBpY2suXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUGljayhvYmplY3QsIHBhdGhzKSB7XG4gICAgICByZXR1cm4gYmFzZVBpY2tCeShvYmplY3QsIHBhdGhzLCBmdW5jdGlvbih2YWx1ZSwgcGF0aCkge1xuICAgICAgICByZXR1cm4gaGFzSW4ob2JqZWN0LCBwYXRoKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mICBgXy5waWNrQnlgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBwYXRocyBUaGUgcHJvcGVydHkgcGF0aHMgdG8gcGljay5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIHByb3BlcnR5LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVBpY2tCeShvYmplY3QsIHBhdGhzLCBwcmVkaWNhdGUpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHBhdGhzLmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSB7fTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHBhdGggPSBwYXRoc1tpbmRleF0sXG4gICAgICAgICAgICB2YWx1ZSA9IGJhc2VHZXQob2JqZWN0LCBwYXRoKTtcblxuICAgICAgICBpZiAocHJlZGljYXRlKHZhbHVlLCBwYXRoKSkge1xuICAgICAgICAgIGJhc2VTZXQocmVzdWx0LCBjYXN0UGF0aChwYXRoLCBvYmplY3QpLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlUHJvcGVydHlgIHdoaWNoIHN1cHBvcnRzIGRlZXAgcGF0aHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWNjZXNzb3IgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVByb3BlcnR5RGVlcChwYXRoKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBiYXNlR2V0KG9iamVjdCwgcGF0aCk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnB1bGxBbGxCeWAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZVxuICAgICAqIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gcmVtb3ZlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVB1bGxBbGwoYXJyYXksIHZhbHVlcywgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHZhciBpbmRleE9mID0gY29tcGFyYXRvciA/IGJhc2VJbmRleE9mV2l0aCA6IGJhc2VJbmRleE9mLFxuICAgICAgICAgIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gdmFsdWVzLmxlbmd0aCxcbiAgICAgICAgICBzZWVuID0gYXJyYXk7XG5cbiAgICAgIGlmIChhcnJheSA9PT0gdmFsdWVzKSB7XG4gICAgICAgIHZhbHVlcyA9IGNvcHlBcnJheSh2YWx1ZXMpO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZXJhdGVlKSB7XG4gICAgICAgIHNlZW4gPSBhcnJheU1hcChhcnJheSwgYmFzZVVuYXJ5KGl0ZXJhdGVlKSk7XG4gICAgICB9XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgZnJvbUluZGV4ID0gMCxcbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWVzW2luZGV4XSxcbiAgICAgICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUgPyBpdGVyYXRlZSh2YWx1ZSkgOiB2YWx1ZTtcblxuICAgICAgICB3aGlsZSAoKGZyb21JbmRleCA9IGluZGV4T2Yoc2VlbiwgY29tcHV0ZWQsIGZyb21JbmRleCwgY29tcGFyYXRvcikpID4gLTEpIHtcbiAgICAgICAgICBpZiAoc2VlbiAhPT0gYXJyYXkpIHtcbiAgICAgICAgICAgIHNwbGljZS5jYWxsKHNlZW4sIGZyb21JbmRleCwgMSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNwbGljZS5jYWxsKGFycmF5LCBmcm9tSW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucHVsbEF0YCB3aXRob3V0IHN1cHBvcnQgZm9yIGluZGl2aWR1YWxcbiAgICAgKiBpbmRleGVzIG9yIGNhcHR1cmluZyB0aGUgcmVtb3ZlZCBlbGVtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBpbmRleGVzIFRoZSBpbmRleGVzIG9mIGVsZW1lbnRzIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUHVsbEF0KGFycmF5LCBpbmRleGVzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPyBpbmRleGVzLmxlbmd0aCA6IDAsXG4gICAgICAgICAgbGFzdEluZGV4ID0gbGVuZ3RoIC0gMTtcblxuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGluZGV4ZXNbbGVuZ3RoXTtcbiAgICAgICAgaWYgKGxlbmd0aCA9PSBsYXN0SW5kZXggfHwgaW5kZXggIT09IHByZXZpb3VzKSB7XG4gICAgICAgICAgdmFyIHByZXZpb3VzID0gaW5kZXg7XG4gICAgICAgICAgaWYgKGlzSW5kZXgoaW5kZXgpKSB7XG4gICAgICAgICAgICBzcGxpY2UuY2FsbChhcnJheSwgaW5kZXgsIDEpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBiYXNlVW5zZXQoYXJyYXksIGluZGV4KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yYW5kb21gIHdpdGhvdXQgc3VwcG9ydCBmb3IgcmV0dXJuaW5nXG4gICAgICogZmxvYXRpbmctcG9pbnQgbnVtYmVycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGxvd2VyIFRoZSBsb3dlciBib3VuZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdXBwZXIgVGhlIHVwcGVyIGJvdW5kLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHJhbmRvbSBudW1iZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVJhbmRvbShsb3dlciwgdXBwZXIpIHtcbiAgICAgIHJldHVybiBsb3dlciArIG5hdGl2ZUZsb29yKG5hdGl2ZVJhbmRvbSgpICogKHVwcGVyIC0gbG93ZXIgKyAxKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucmFuZ2VgIGFuZCBgXy5yYW5nZVJpZ2h0YCB3aGljaCBkb2Vzbid0XG4gICAgICogY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0IFRoZSBzdGFydCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBUaGUgZW5kIG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RlcCBUaGUgdmFsdWUgdG8gaW5jcmVtZW50IG9yIGRlY3JlbWVudCBieS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHJhbmdlIG9mIG51bWJlcnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVJhbmdlKHN0YXJ0LCBlbmQsIHN0ZXAsIGZyb21SaWdodCkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWF4KG5hdGl2ZUNlaWwoKGVuZCAtIHN0YXJ0KSAvIChzdGVwIHx8IDEpKSwgMCksXG4gICAgICAgICAgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKTtcblxuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIHJlc3VsdFtmcm9tUmlnaHQgPyBsZW5ndGggOiArK2luZGV4XSA9IHN0YXJ0O1xuICAgICAgICBzdGFydCArPSBzdGVwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yZXBlYXRgIHdoaWNoIGRvZXNuJ3QgY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIHJlcGVhdC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIHRpbWVzIHRvIHJlcGVhdCB0aGUgc3RyaW5nLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHJlcGVhdGVkIHN0cmluZy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUmVwZWF0KHN0cmluZywgbikge1xuICAgICAgdmFyIHJlc3VsdCA9ICcnO1xuICAgICAgaWYgKCFzdHJpbmcgfHwgbiA8IDEgfHwgbiA+IE1BWF9TQUZFX0lOVEVHRVIpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIC8vIExldmVyYWdlIHRoZSBleHBvbmVudGlhdGlvbiBieSBzcXVhcmluZyBhbGdvcml0aG0gZm9yIGEgZmFzdGVyIHJlcGVhdC5cbiAgICAgIC8vIFNlZSBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9FeHBvbmVudGlhdGlvbl9ieV9zcXVhcmluZyBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgZG8ge1xuICAgICAgICBpZiAobiAlIDIpIHtcbiAgICAgICAgICByZXN1bHQgKz0gc3RyaW5nO1xuICAgICAgICB9XG4gICAgICAgIG4gPSBuYXRpdmVGbG9vcihuIC8gMik7XG4gICAgICAgIGlmIChuKSB7XG4gICAgICAgICAgc3RyaW5nICs9IHN0cmluZztcbiAgICAgICAgfVxuICAgICAgfSB3aGlsZSAobik7XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucmVzdGAgd2hpY2ggZG9lc24ndCB2YWxpZGF0ZSBvciBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhcHBseSBhIHJlc3QgcGFyYW1ldGVyIHRvLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9ZnVuYy5sZW5ndGgtMV0gVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSByZXN0IHBhcmFtZXRlci5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUmVzdChmdW5jLCBzdGFydCkge1xuICAgICAgcmV0dXJuIHNldFRvU3RyaW5nKG92ZXJSZXN0KGZ1bmMsIHN0YXJ0LCBpZGVudGl0eSksIGZ1bmMgKyAnJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc2FtcGxlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2FtcGxlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByYW5kb20gZWxlbWVudC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU2FtcGxlKGNvbGxlY3Rpb24pIHtcbiAgICAgIHJldHVybiBhcnJheVNhbXBsZSh2YWx1ZXMoY29sbGVjdGlvbikpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNhbXBsZVNpemVgIHdpdGhvdXQgcGFyYW0gZ3VhcmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBzYW1wbGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byBzYW1wbGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSByYW5kb20gZWxlbWVudHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNhbXBsZVNpemUoY29sbGVjdGlvbiwgbikge1xuICAgICAgdmFyIGFycmF5ID0gdmFsdWVzKGNvbGxlY3Rpb24pO1xuICAgICAgcmV0dXJuIHNodWZmbGVTZWxmKGFycmF5LCBiYXNlQ2xhbXAobiwgMCwgYXJyYXkubGVuZ3RoKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc2V0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBwYXRoIGNyZWF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNldChvYmplY3QsIHBhdGgsIHZhbHVlLCBjdXN0b21pemVyKSB7XG4gICAgICBpZiAoIWlzT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgIH1cbiAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuXG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBwYXRoLmxlbmd0aCxcbiAgICAgICAgICBsYXN0SW5kZXggPSBsZW5ndGggLSAxLFxuICAgICAgICAgIG5lc3RlZCA9IG9iamVjdDtcblxuICAgICAgd2hpbGUgKG5lc3RlZCAhPSBudWxsICYmICsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGtleSA9IHRvS2V5KHBhdGhbaW5kZXhdKSxcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gdmFsdWU7XG5cbiAgICAgICAgaWYgKGluZGV4ICE9IGxhc3RJbmRleCkge1xuICAgICAgICAgIHZhciBvYmpWYWx1ZSA9IG5lc3RlZFtrZXldO1xuICAgICAgICAgIG5ld1ZhbHVlID0gY3VzdG9taXplciA/IGN1c3RvbWl6ZXIob2JqVmFsdWUsIGtleSwgbmVzdGVkKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICBpZiAobmV3VmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBpc09iamVjdChvYmpWYWx1ZSlcbiAgICAgICAgICAgICAgPyBvYmpWYWx1ZVxuICAgICAgICAgICAgICA6IChpc0luZGV4KHBhdGhbaW5kZXggKyAxXSkgPyBbXSA6IHt9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYXNzaWduVmFsdWUobmVzdGVkLCBrZXksIG5ld1ZhbHVlKTtcbiAgICAgICAgbmVzdGVkID0gbmVzdGVkW2tleV07XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBzZXREYXRhYCB3aXRob3V0IHN1cHBvcnQgZm9yIGhvdCBsb29wIHNob3J0aW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhc3NvY2lhdGUgbWV0YWRhdGEgd2l0aC5cbiAgICAgKiBAcGFyYW0geyp9IGRhdGEgVGhlIG1ldGFkYXRhLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgZnVuY2AuXG4gICAgICovXG4gICAgdmFyIGJhc2VTZXREYXRhID0gIW1ldGFNYXAgPyBpZGVudGl0eSA6IGZ1bmN0aW9uKGZ1bmMsIGRhdGEpIHtcbiAgICAgIG1ldGFNYXAuc2V0KGZ1bmMsIGRhdGEpO1xuICAgICAgcmV0dXJuIGZ1bmM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBzZXRUb1N0cmluZ2Agd2l0aG91dCBzdXBwb3J0IGZvciBob3QgbG9vcCBzaG9ydGluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHN0cmluZyBUaGUgYHRvU3RyaW5nYCByZXN1bHQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBmdW5jYC5cbiAgICAgKi9cbiAgICB2YXIgYmFzZVNldFRvU3RyaW5nID0gIWRlZmluZVByb3BlcnR5ID8gaWRlbnRpdHkgOiBmdW5jdGlvbihmdW5jLCBzdHJpbmcpIHtcbiAgICAgIHJldHVybiBkZWZpbmVQcm9wZXJ0eShmdW5jLCAndG9TdHJpbmcnLCB7XG4gICAgICAgICdjb25maWd1cmFibGUnOiB0cnVlLFxuICAgICAgICAnZW51bWVyYWJsZSc6IGZhbHNlLFxuICAgICAgICAndmFsdWUnOiBjb25zdGFudChzdHJpbmcpLFxuICAgICAgICAnd3JpdGFibGUnOiB0cnVlXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc2h1ZmZsZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIHNodWZmbGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgc2h1ZmZsZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNodWZmbGUoY29sbGVjdGlvbikge1xuICAgICAgcmV0dXJuIHNodWZmbGVTZWxmKHZhbHVlcyhjb2xsZWN0aW9uKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc2xpY2VgIHdpdGhvdXQgYW4gaXRlcmF0ZWUgY2FsbCBndWFyZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNsaWNlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kPWFycmF5Lmxlbmd0aF0gVGhlIGVuZCBwb3NpdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNsaWNlKGFycmF5LCBzdGFydCwgZW5kKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICAgIGlmIChzdGFydCA8IDApIHtcbiAgICAgICAgc3RhcnQgPSAtc3RhcnQgPiBsZW5ndGggPyAwIDogKGxlbmd0aCArIHN0YXJ0KTtcbiAgICAgIH1cbiAgICAgIGVuZCA9IGVuZCA+IGxlbmd0aCA/IGxlbmd0aCA6IGVuZDtcbiAgICAgIGlmIChlbmQgPCAwKSB7XG4gICAgICAgIGVuZCArPSBsZW5ndGg7XG4gICAgICB9XG4gICAgICBsZW5ndGggPSBzdGFydCA+IGVuZCA/IDAgOiAoKGVuZCAtIHN0YXJ0KSA+Pj4gMCk7XG4gICAgICBzdGFydCA+Pj49IDA7XG5cbiAgICAgIHZhciByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0W2luZGV4XSA9IGFycmF5W2luZGV4ICsgc3RhcnRdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zb21lYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW55IGVsZW1lbnQgcGFzc2VzIHRoZSBwcmVkaWNhdGUgY2hlY2ssXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU29tZShjb2xsZWN0aW9uLCBwcmVkaWNhdGUpIHtcbiAgICAgIHZhciByZXN1bHQ7XG5cbiAgICAgIGJhc2VFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgICByZXN1bHQgPSBwcmVkaWNhdGUodmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKTtcbiAgICAgICAgcmV0dXJuICFyZXN1bHQ7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiAhIXJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zb3J0ZWRJbmRleGAgYW5kIGBfLnNvcnRlZExhc3RJbmRleGAgd2hpY2hcbiAgICAgKiBwZXJmb3JtcyBhIGJpbmFyeSBzZWFyY2ggb2YgYGFycmF5YCB0byBkZXRlcm1pbmUgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWBcbiAgICAgKiBzaG91bGQgYmUgaW5zZXJ0ZWQgaW50byBgYXJyYXlgIGluIG9yZGVyIHRvIG1haW50YWluIGl0cyBzb3J0IG9yZGVyLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgc29ydGVkIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZXZhbHVhdGUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcmV0SGlnaGVzdF0gU3BlY2lmeSByZXR1cm5pbmcgdGhlIGhpZ2hlc3QgcXVhbGlmaWVkIGluZGV4LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkXG4gICAgICogIGludG8gYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU29ydGVkSW5kZXgoYXJyYXksIHZhbHVlLCByZXRIaWdoZXN0KSB7XG4gICAgICB2YXIgbG93ID0gMCxcbiAgICAgICAgICBoaWdoID0gYXJyYXkgPT0gbnVsbCA/IGxvdyA6IGFycmF5Lmxlbmd0aDtcblxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyAmJiB2YWx1ZSA9PT0gdmFsdWUgJiYgaGlnaCA8PSBIQUxGX01BWF9BUlJBWV9MRU5HVEgpIHtcbiAgICAgICAgd2hpbGUgKGxvdyA8IGhpZ2gpIHtcbiAgICAgICAgICB2YXIgbWlkID0gKGxvdyArIGhpZ2gpID4+PiAxLFxuICAgICAgICAgICAgICBjb21wdXRlZCA9IGFycmF5W21pZF07XG5cbiAgICAgICAgICBpZiAoY29tcHV0ZWQgIT09IG51bGwgJiYgIWlzU3ltYm9sKGNvbXB1dGVkKSAmJlxuICAgICAgICAgICAgICAocmV0SGlnaGVzdCA/IChjb21wdXRlZCA8PSB2YWx1ZSkgOiAoY29tcHV0ZWQgPCB2YWx1ZSkpKSB7XG4gICAgICAgICAgICBsb3cgPSBtaWQgKyAxO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBoaWdoID0gbWlkO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGlnaDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlU29ydGVkSW5kZXhCeShhcnJheSwgdmFsdWUsIGlkZW50aXR5LCByZXRIaWdoZXN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zb3J0ZWRJbmRleEJ5YCBhbmQgYF8uc29ydGVkTGFzdEluZGV4QnlgXG4gICAgICogd2hpY2ggaW52b2tlcyBgaXRlcmF0ZWVgIGZvciBgdmFsdWVgIGFuZCBlYWNoIGVsZW1lbnQgb2YgYGFycmF5YCB0byBjb21wdXRlXG4gICAgICogdGhlaXIgc29ydCByYW5raW5nLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDsgKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIHNvcnRlZCBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGV2YWx1YXRlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3JldEhpZ2hlc3RdIFNwZWNpZnkgcmV0dXJuaW5nIHRoZSBoaWdoZXN0IHF1YWxpZmllZCBpbmRleC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBhdCB3aGljaCBgdmFsdWVgIHNob3VsZCBiZSBpbnNlcnRlZFxuICAgICAqICBpbnRvIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNvcnRlZEluZGV4QnkoYXJyYXksIHZhbHVlLCBpdGVyYXRlZSwgcmV0SGlnaGVzdCkge1xuICAgICAgdmFsdWUgPSBpdGVyYXRlZSh2YWx1ZSk7XG5cbiAgICAgIHZhciBsb3cgPSAwLFxuICAgICAgICAgIGhpZ2ggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICB2YWxJc05hTiA9IHZhbHVlICE9PSB2YWx1ZSxcbiAgICAgICAgICB2YWxJc051bGwgPSB2YWx1ZSA9PT0gbnVsbCxcbiAgICAgICAgICB2YWxJc1N5bWJvbCA9IGlzU3ltYm9sKHZhbHVlKSxcbiAgICAgICAgICB2YWxJc1VuZGVmaW5lZCA9IHZhbHVlID09PSB1bmRlZmluZWQ7XG5cbiAgICAgIHdoaWxlIChsb3cgPCBoaWdoKSB7XG4gICAgICAgIHZhciBtaWQgPSBuYXRpdmVGbG9vcigobG93ICsgaGlnaCkgLyAyKSxcbiAgICAgICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUoYXJyYXlbbWlkXSksXG4gICAgICAgICAgICBvdGhJc0RlZmluZWQgPSBjb21wdXRlZCAhPT0gdW5kZWZpbmVkLFxuICAgICAgICAgICAgb3RoSXNOdWxsID0gY29tcHV0ZWQgPT09IG51bGwsXG4gICAgICAgICAgICBvdGhJc1JlZmxleGl2ZSA9IGNvbXB1dGVkID09PSBjb21wdXRlZCxcbiAgICAgICAgICAgIG90aElzU3ltYm9sID0gaXNTeW1ib2woY29tcHV0ZWQpO1xuXG4gICAgICAgIGlmICh2YWxJc05hTikge1xuICAgICAgICAgIHZhciBzZXRMb3cgPSByZXRIaWdoZXN0IHx8IG90aElzUmVmbGV4aXZlO1xuICAgICAgICB9IGVsc2UgaWYgKHZhbElzVW5kZWZpbmVkKSB7XG4gICAgICAgICAgc2V0TG93ID0gb3RoSXNSZWZsZXhpdmUgJiYgKHJldEhpZ2hlc3QgfHwgb3RoSXNEZWZpbmVkKTtcbiAgICAgICAgfSBlbHNlIGlmICh2YWxJc051bGwpIHtcbiAgICAgICAgICBzZXRMb3cgPSBvdGhJc1JlZmxleGl2ZSAmJiBvdGhJc0RlZmluZWQgJiYgKHJldEhpZ2hlc3QgfHwgIW90aElzTnVsbCk7XG4gICAgICAgIH0gZWxzZSBpZiAodmFsSXNTeW1ib2wpIHtcbiAgICAgICAgICBzZXRMb3cgPSBvdGhJc1JlZmxleGl2ZSAmJiBvdGhJc0RlZmluZWQgJiYgIW90aElzTnVsbCAmJiAocmV0SGlnaGVzdCB8fCAhb3RoSXNTeW1ib2wpO1xuICAgICAgICB9IGVsc2UgaWYgKG90aElzTnVsbCB8fCBvdGhJc1N5bWJvbCkge1xuICAgICAgICAgIHNldExvdyA9IGZhbHNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNldExvdyA9IHJldEhpZ2hlc3QgPyAoY29tcHV0ZWQgPD0gdmFsdWUpIDogKGNvbXB1dGVkIDwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzZXRMb3cpIHtcbiAgICAgICAgICBsb3cgPSBtaWQgKyAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGhpZ2ggPSBtaWQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBuYXRpdmVNaW4oaGlnaCwgTUFYX0FSUkFZX0lOREVYKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zb3J0ZWRVbmlxYCBhbmQgYF8uc29ydGVkVW5pcUJ5YCB3aXRob3V0XG4gICAgICogc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU29ydGVkVW5pcShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICByZXNJbmRleCA9IDAsXG4gICAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUgPyBpdGVyYXRlZSh2YWx1ZSkgOiB2YWx1ZTtcblxuICAgICAgICBpZiAoIWluZGV4IHx8ICFlcShjb21wdXRlZCwgc2VlbikpIHtcbiAgICAgICAgICB2YXIgc2VlbiA9IGNvbXB1dGVkO1xuICAgICAgICAgIHJlc3VsdFtyZXNJbmRleCsrXSA9IHZhbHVlID09PSAwID8gMCA6IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRvTnVtYmVyYCB3aGljaCBkb2Vzbid0IGVuc3VyZSBjb3JyZWN0XG4gICAgICogY29udmVyc2lvbnMgb2YgYmluYXJ5LCBoZXhhZGVjaW1hbCwgb3Igb2N0YWwgc3RyaW5nIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBudW1iZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVRvTnVtYmVyKHZhbHVlKSB7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdudW1iZXInKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIE5BTjtcbiAgICAgIH1cbiAgICAgIHJldHVybiArdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udG9TdHJpbmdgIHdoaWNoIGRvZXNuJ3QgY29udmVydCBudWxsaXNoXG4gICAgICogdmFsdWVzIHRvIGVtcHR5IHN0cmluZ3MuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc3RyaW5nLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VUb1N0cmluZyh2YWx1ZSkge1xuICAgICAgLy8gRXhpdCBlYXJseSBmb3Igc3RyaW5ncyB0byBhdm9pZCBhIHBlcmZvcm1hbmNlIGhpdCBpbiBzb21lIGVudmlyb25tZW50cy5cbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbnZlcnQgdmFsdWVzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgIHJldHVybiBhcnJheU1hcCh2YWx1ZSwgYmFzZVRvU3RyaW5nKSArICcnO1xuICAgICAgfVxuICAgICAgaWYgKGlzU3ltYm9sKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gc3ltYm9sVG9TdHJpbmcgPyBzeW1ib2xUb1N0cmluZy5jYWxsKHZhbHVlKSA6ICcnO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9ICh2YWx1ZSArICcnKTtcbiAgICAgIHJldHVybiAocmVzdWx0ID09ICcwJyAmJiAoMSAvIHZhbHVlKSA9PSAtSU5GSU5JVFkpID8gJy0wJyA6IHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy51bmlxQnlgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlVW5pcShhcnJheSwgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGluY2x1ZGVzID0gYXJyYXlJbmNsdWRlcyxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgaXNDb21tb24gPSB0cnVlLFxuICAgICAgICAgIHJlc3VsdCA9IFtdLFxuICAgICAgICAgIHNlZW4gPSByZXN1bHQ7XG5cbiAgICAgIGlmIChjb21wYXJhdG9yKSB7XG4gICAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgICAgIGluY2x1ZGVzID0gYXJyYXlJbmNsdWRlc1dpdGg7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChsZW5ndGggPj0gTEFSR0VfQVJSQVlfU0laRSkge1xuICAgICAgICB2YXIgc2V0ID0gaXRlcmF0ZWUgPyBudWxsIDogY3JlYXRlU2V0KGFycmF5KTtcbiAgICAgICAgaWYgKHNldCkge1xuICAgICAgICAgIHJldHVybiBzZXRUb0FycmF5KHNldCk7XG4gICAgICAgIH1cbiAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgICAgaW5jbHVkZXMgPSBjYWNoZUhhcztcbiAgICAgICAgc2VlbiA9IG5ldyBTZXRDYWNoZTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBzZWVuID0gaXRlcmF0ZWUgPyBbXSA6IHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIG91dGVyOlxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdLFxuICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA/IGl0ZXJhdGVlKHZhbHVlKSA6IHZhbHVlO1xuXG4gICAgICAgIHZhbHVlID0gKGNvbXBhcmF0b3IgfHwgdmFsdWUgIT09IDApID8gdmFsdWUgOiAwO1xuICAgICAgICBpZiAoaXNDb21tb24gJiYgY29tcHV0ZWQgPT09IGNvbXB1dGVkKSB7XG4gICAgICAgICAgdmFyIHNlZW5JbmRleCA9IHNlZW4ubGVuZ3RoO1xuICAgICAgICAgIHdoaWxlIChzZWVuSW5kZXgtLSkge1xuICAgICAgICAgICAgaWYgKHNlZW5bc2VlbkluZGV4XSA9PT0gY29tcHV0ZWQpIHtcbiAgICAgICAgICAgICAgY29udGludWUgb3V0ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpdGVyYXRlZSkge1xuICAgICAgICAgICAgc2Vlbi5wdXNoKGNvbXB1dGVkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFpbmNsdWRlcyhzZWVuLCBjb21wdXRlZCwgY29tcGFyYXRvcikpIHtcbiAgICAgICAgICBpZiAoc2VlbiAhPT0gcmVzdWx0KSB7XG4gICAgICAgICAgICBzZWVuLnB1c2goY29tcHV0ZWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udW5zZXRgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwcm9wZXJ0eSBwYXRoIHRvIHVuc2V0LlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgcHJvcGVydHkgaXMgZGVsZXRlZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VVbnNldChvYmplY3QsIHBhdGgpIHtcbiAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuICAgICAgb2JqZWN0ID0gcGFyZW50KG9iamVjdCwgcGF0aCk7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgfHwgZGVsZXRlIG9iamVjdFt0b0tleShsYXN0KHBhdGgpKV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udXBkYXRlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gdXBkYXRlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHVwZGF0ZXIgVGhlIGZ1bmN0aW9uIHRvIHByb2R1Y2UgdGhlIHVwZGF0ZWQgdmFsdWUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgcGF0aCBjcmVhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VVcGRhdGUob2JqZWN0LCBwYXRoLCB1cGRhdGVyLCBjdXN0b21pemVyKSB7XG4gICAgICByZXR1cm4gYmFzZVNldChvYmplY3QsIHBhdGgsIHVwZGF0ZXIoYmFzZUdldChvYmplY3QsIHBhdGgpKSwgY3VzdG9taXplcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgbWV0aG9kcyBsaWtlIGBfLmRyb3BXaGlsZWAgYW5kIGBfLnRha2VXaGlsZWBcbiAgICAgKiB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0Ryb3BdIFNwZWNpZnkgZHJvcHBpbmcgZWxlbWVudHMgaW5zdGVhZCBvZiB0YWtpbmcgdGhlbS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVdoaWxlKGFycmF5LCBwcmVkaWNhdGUsIGlzRHJvcCwgZnJvbVJpZ2h0KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIGluZGV4ID0gZnJvbVJpZ2h0ID8gbGVuZ3RoIDogLTE7XG5cbiAgICAgIHdoaWxlICgoZnJvbVJpZ2h0ID8gaW5kZXgtLSA6ICsraW5kZXggPCBsZW5ndGgpICYmXG4gICAgICAgIHByZWRpY2F0ZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkpIHt9XG5cbiAgICAgIHJldHVybiBpc0Ryb3BcbiAgICAgICAgPyBiYXNlU2xpY2UoYXJyYXksIChmcm9tUmlnaHQgPyAwIDogaW5kZXgpLCAoZnJvbVJpZ2h0ID8gaW5kZXggKyAxIDogbGVuZ3RoKSlcbiAgICAgICAgOiBiYXNlU2xpY2UoYXJyYXksIChmcm9tUmlnaHQgPyBpbmRleCArIDEgOiAwKSwgKGZyb21SaWdodCA/IGxlbmd0aCA6IGluZGV4KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYHdyYXBwZXJWYWx1ZWAgd2hpY2ggcmV0dXJucyB0aGUgcmVzdWx0IG9mXG4gICAgICogcGVyZm9ybWluZyBhIHNlcXVlbmNlIG9mIGFjdGlvbnMgb24gdGhlIHVud3JhcHBlZCBgdmFsdWVgLCB3aGVyZSBlYWNoXG4gICAgICogc3VjY2Vzc2l2ZSBhY3Rpb24gaXMgc3VwcGxpZWQgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgcHJldmlvdXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHVud3JhcHBlZCB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhY3Rpb25zIEFjdGlvbnMgdG8gcGVyZm9ybSB0byByZXNvbHZlIHRoZSB1bndyYXBwZWQgdmFsdWUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VXcmFwcGVyVmFsdWUodmFsdWUsIGFjdGlvbnMpIHtcbiAgICAgIHZhciByZXN1bHQgPSB2YWx1ZTtcbiAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBMYXp5V3JhcHBlcikge1xuICAgICAgICByZXN1bHQgPSByZXN1bHQudmFsdWUoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheVJlZHVjZShhY3Rpb25zLCBmdW5jdGlvbihyZXN1bHQsIGFjdGlvbikge1xuICAgICAgICByZXR1cm4gYWN0aW9uLmZ1bmMuYXBwbHkoYWN0aW9uLnRoaXNBcmcsIGFycmF5UHVzaChbcmVzdWx0XSwgYWN0aW9uLmFyZ3MpKTtcbiAgICAgIH0sIHJlc3VsdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgbWV0aG9kcyBsaWtlIGBfLnhvcmAsIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLCB0aGF0IGFjY2VwdHMgYW4gYXJyYXkgb2YgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5cyBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiB2YWx1ZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVhvcihhcnJheXMsIGl0ZXJhdGVlLCBjb21wYXJhdG9yKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXlzLmxlbmd0aDtcbiAgICAgIGlmIChsZW5ndGggPCAyKSB7XG4gICAgICAgIHJldHVybiBsZW5ndGggPyBiYXNlVW5pcShhcnJheXNbMF0pIDogW107XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgYXJyYXkgPSBhcnJheXNbaW5kZXhdLFxuICAgICAgICAgICAgb3RoSW5kZXggPSAtMTtcblxuICAgICAgICB3aGlsZSAoKytvdGhJbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIGlmIChvdGhJbmRleCAhPSBpbmRleCkge1xuICAgICAgICAgICAgcmVzdWx0W2luZGV4XSA9IGJhc2VEaWZmZXJlbmNlKHJlc3VsdFtpbmRleF0gfHwgYXJyYXksIGFycmF5c1tvdGhJbmRleF0sIGl0ZXJhdGVlLCBjb21wYXJhdG9yKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlVW5pcShiYXNlRmxhdHRlbihyZXN1bHQsIDEpLCBpdGVyYXRlZSwgY29tcGFyYXRvcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnppcE9iamVjdGAgd2hpY2ggYXNzaWducyB2YWx1ZXMgdXNpbmcgYGFzc2lnbkZ1bmNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwcm9wcyBUaGUgcHJvcGVydHkgaWRlbnRpZmllcnMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gYXNzaWduRnVuYyBUaGUgZnVuY3Rpb24gdG8gYXNzaWduIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VaaXBPYmplY3QocHJvcHMsIHZhbHVlcywgYXNzaWduRnVuYykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcHJvcHMubGVuZ3RoLFxuICAgICAgICAgIHZhbHNMZW5ndGggPSB2YWx1ZXMubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IHt9O1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBpbmRleCA8IHZhbHNMZW5ndGggPyB2YWx1ZXNbaW5kZXhdIDogdW5kZWZpbmVkO1xuICAgICAgICBhc3NpZ25GdW5jKHJlc3VsdCwgcHJvcHNbaW5kZXhdLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhc3RzIGB2YWx1ZWAgdG8gYW4gZW1wdHkgYXJyYXkgaWYgaXQncyBub3QgYW4gYXJyYXkgbGlrZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fE9iamVjdH0gUmV0dXJucyB0aGUgY2FzdCBhcnJheS1saWtlIG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjYXN0QXJyYXlMaWtlT2JqZWN0KHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNBcnJheUxpa2VPYmplY3QodmFsdWUpID8gdmFsdWUgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYXN0cyBgdmFsdWVgIHRvIGBpZGVudGl0eWAgaWYgaXQncyBub3QgYSBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgY2FzdCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjYXN0RnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ2Z1bmN0aW9uJyA/IHZhbHVlIDogaWRlbnRpdHk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FzdHMgYHZhbHVlYCB0byBhIHBhdGggYXJyYXkgaWYgaXQncyBub3Qgb25lLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5IGtleXMgb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjYXN0IHByb3BlcnR5IHBhdGggYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2FzdFBhdGgodmFsdWUsIG9iamVjdCkge1xuICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpc0tleSh2YWx1ZSwgb2JqZWN0KSA/IFt2YWx1ZV0gOiBzdHJpbmdUb1BhdGgodG9TdHJpbmcodmFsdWUpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIGBiYXNlUmVzdGAgYWxpYXMgd2hpY2ggY2FuIGJlIHJlcGxhY2VkIHdpdGggYGlkZW50aXR5YCBieSBtb2R1bGVcbiAgICAgKiByZXBsYWNlbWVudCBwbHVnaW5zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7RnVuY3Rpb259XG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICB2YXIgY2FzdFJlc3QgPSBiYXNlUmVzdDtcblxuICAgIC8qKlxuICAgICAqIENhc3RzIGBhcnJheWAgdG8gYSBzbGljZSBpZiBpdCdzIG5lZWRlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0IFRoZSBzdGFydCBwb3NpdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2VuZD1hcnJheS5sZW5ndGhdIFRoZSBlbmQgcG9zaXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjYXN0IHNsaWNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNhc3RTbGljZShhcnJheSwgc3RhcnQsIGVuZCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgICAgIGVuZCA9IGVuZCA9PT0gdW5kZWZpbmVkID8gbGVuZ3RoIDogZW5kO1xuICAgICAgcmV0dXJuICghc3RhcnQgJiYgZW5kID49IGxlbmd0aCkgPyBhcnJheSA6IGJhc2VTbGljZShhcnJheSwgc3RhcnQsIGVuZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzaW1wbGUgd3JhcHBlciBhcm91bmQgdGhlIGdsb2JhbCBbYGNsZWFyVGltZW91dGBdKGh0dHBzOi8vbWRuLmlvL2NsZWFyVGltZW91dCkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfE9iamVjdH0gaWQgVGhlIHRpbWVyIGlkIG9yIHRpbWVvdXQgb2JqZWN0IG9mIHRoZSB0aW1lciB0byBjbGVhci5cbiAgICAgKi9cbiAgICB2YXIgY2xlYXJUaW1lb3V0ID0gY3R4Q2xlYXJUaW1lb3V0IHx8IGZ1bmN0aW9uKGlkKSB7XG4gICAgICByZXR1cm4gcm9vdC5jbGVhclRpbWVvdXQoaWQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgIGBidWZmZXJgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0J1ZmZlcn0gYnVmZmVyIFRoZSBidWZmZXIgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNEZWVwXSBTcGVjaWZ5IGEgZGVlcCBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7QnVmZmVyfSBSZXR1cm5zIHRoZSBjbG9uZWQgYnVmZmVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lQnVmZmVyKGJ1ZmZlciwgaXNEZWVwKSB7XG4gICAgICBpZiAoaXNEZWVwKSB7XG4gICAgICAgIHJldHVybiBidWZmZXIuc2xpY2UoKTtcbiAgICAgIH1cbiAgICAgIHZhciBsZW5ndGggPSBidWZmZXIubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IGFsbG9jVW5zYWZlID8gYWxsb2NVbnNhZmUobGVuZ3RoKSA6IG5ldyBidWZmZXIuY29uc3RydWN0b3IobGVuZ3RoKTtcblxuICAgICAgYnVmZmVyLmNvcHkocmVzdWx0KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIGBhcnJheUJ1ZmZlcmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXlCdWZmZXJ9IGFycmF5QnVmZmVyIFRoZSBhcnJheSBidWZmZXIgdG8gY2xvbmUuXG4gICAgICogQHJldHVybnMge0FycmF5QnVmZmVyfSBSZXR1cm5zIHRoZSBjbG9uZWQgYXJyYXkgYnVmZmVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lQXJyYXlCdWZmZXIoYXJyYXlCdWZmZXIpIHtcbiAgICAgIHZhciByZXN1bHQgPSBuZXcgYXJyYXlCdWZmZXIuY29uc3RydWN0b3IoYXJyYXlCdWZmZXIuYnl0ZUxlbmd0aCk7XG4gICAgICBuZXcgVWludDhBcnJheShyZXN1bHQpLnNldChuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlcikpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgYGRhdGFWaWV3YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGFWaWV3IFRoZSBkYXRhIHZpZXcgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNEZWVwXSBTcGVjaWZ5IGEgZGVlcCBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgZGF0YSB2aWV3LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lRGF0YVZpZXcoZGF0YVZpZXcsIGlzRGVlcCkge1xuICAgICAgdmFyIGJ1ZmZlciA9IGlzRGVlcCA/IGNsb25lQXJyYXlCdWZmZXIoZGF0YVZpZXcuYnVmZmVyKSA6IGRhdGFWaWV3LmJ1ZmZlcjtcbiAgICAgIHJldHVybiBuZXcgZGF0YVZpZXcuY29uc3RydWN0b3IoYnVmZmVyLCBkYXRhVmlldy5ieXRlT2Zmc2V0LCBkYXRhVmlldy5ieXRlTGVuZ3RoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgYHJlZ2V4cGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSByZWdleHAgVGhlIHJlZ2V4cCB0byBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgcmVnZXhwLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lUmVnRXhwKHJlZ2V4cCkge1xuICAgICAgdmFyIHJlc3VsdCA9IG5ldyByZWdleHAuY29uc3RydWN0b3IocmVnZXhwLnNvdXJjZSwgcmVGbGFncy5leGVjKHJlZ2V4cCkpO1xuICAgICAgcmVzdWx0Lmxhc3RJbmRleCA9IHJlZ2V4cC5sYXN0SW5kZXg7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGUgYHN5bWJvbGAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3ltYm9sIFRoZSBzeW1ib2wgb2JqZWN0IHRvIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNsb25lZCBzeW1ib2wgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lU3ltYm9sKHN5bWJvbCkge1xuICAgICAgcmV0dXJuIHN5bWJvbFZhbHVlT2YgPyBPYmplY3Qoc3ltYm9sVmFsdWVPZi5jYWxsKHN5bWJvbCkpIDoge307XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIGB0eXBlZEFycmF5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHR5cGVkQXJyYXkgVGhlIHR5cGVkIGFycmF5IHRvIGNsb25lLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRGVlcF0gU3BlY2lmeSBhIGRlZXAgY2xvbmUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIHR5cGVkIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lVHlwZWRBcnJheSh0eXBlZEFycmF5LCBpc0RlZXApIHtcbiAgICAgIHZhciBidWZmZXIgPSBpc0RlZXAgPyBjbG9uZUFycmF5QnVmZmVyKHR5cGVkQXJyYXkuYnVmZmVyKSA6IHR5cGVkQXJyYXkuYnVmZmVyO1xuICAgICAgcmV0dXJuIG5ldyB0eXBlZEFycmF5LmNvbnN0cnVjdG9yKGJ1ZmZlciwgdHlwZWRBcnJheS5ieXRlT2Zmc2V0LCB0eXBlZEFycmF5Lmxlbmd0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tcGFyZXMgdmFsdWVzIHRvIHNvcnQgdGhlbSBpbiBhc2NlbmRpbmcgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzb3J0IG9yZGVyIGluZGljYXRvciBmb3IgYHZhbHVlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21wYXJlQXNjZW5kaW5nKHZhbHVlLCBvdGhlcikge1xuICAgICAgaWYgKHZhbHVlICE9PSBvdGhlcikge1xuICAgICAgICB2YXIgdmFsSXNEZWZpbmVkID0gdmFsdWUgIT09IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHZhbElzTnVsbCA9IHZhbHVlID09PSBudWxsLFxuICAgICAgICAgICAgdmFsSXNSZWZsZXhpdmUgPSB2YWx1ZSA9PT0gdmFsdWUsXG4gICAgICAgICAgICB2YWxJc1N5bWJvbCA9IGlzU3ltYm9sKHZhbHVlKTtcblxuICAgICAgICB2YXIgb3RoSXNEZWZpbmVkID0gb3RoZXIgIT09IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIG90aElzTnVsbCA9IG90aGVyID09PSBudWxsLFxuICAgICAgICAgICAgb3RoSXNSZWZsZXhpdmUgPSBvdGhlciA9PT0gb3RoZXIsXG4gICAgICAgICAgICBvdGhJc1N5bWJvbCA9IGlzU3ltYm9sKG90aGVyKTtcblxuICAgICAgICBpZiAoKCFvdGhJc051bGwgJiYgIW90aElzU3ltYm9sICYmICF2YWxJc1N5bWJvbCAmJiB2YWx1ZSA+IG90aGVyKSB8fFxuICAgICAgICAgICAgKHZhbElzU3ltYm9sICYmIG90aElzRGVmaW5lZCAmJiBvdGhJc1JlZmxleGl2ZSAmJiAhb3RoSXNOdWxsICYmICFvdGhJc1N5bWJvbCkgfHxcbiAgICAgICAgICAgICh2YWxJc051bGwgJiYgb3RoSXNEZWZpbmVkICYmIG90aElzUmVmbGV4aXZlKSB8fFxuICAgICAgICAgICAgKCF2YWxJc0RlZmluZWQgJiYgb3RoSXNSZWZsZXhpdmUpIHx8XG4gICAgICAgICAgICAhdmFsSXNSZWZsZXhpdmUpIHtcbiAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKCF2YWxJc051bGwgJiYgIXZhbElzU3ltYm9sICYmICFvdGhJc1N5bWJvbCAmJiB2YWx1ZSA8IG90aGVyKSB8fFxuICAgICAgICAgICAgKG90aElzU3ltYm9sICYmIHZhbElzRGVmaW5lZCAmJiB2YWxJc1JlZmxleGl2ZSAmJiAhdmFsSXNOdWxsICYmICF2YWxJc1N5bWJvbCkgfHxcbiAgICAgICAgICAgIChvdGhJc051bGwgJiYgdmFsSXNEZWZpbmVkICYmIHZhbElzUmVmbGV4aXZlKSB8fFxuICAgICAgICAgICAgKCFvdGhJc0RlZmluZWQgJiYgdmFsSXNSZWZsZXhpdmUpIHx8XG4gICAgICAgICAgICAhb3RoSXNSZWZsZXhpdmUpIHtcbiAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZWQgYnkgYF8ub3JkZXJCeWAgdG8gY29tcGFyZSBtdWx0aXBsZSBwcm9wZXJ0aWVzIG9mIGEgdmFsdWUgdG8gYW5vdGhlclxuICAgICAqIGFuZCBzdGFibGUgc29ydCB0aGVtLlxuICAgICAqXG4gICAgICogSWYgYG9yZGVyc2AgaXMgdW5zcGVjaWZpZWQsIGFsbCB2YWx1ZXMgYXJlIHNvcnRlZCBpbiBhc2NlbmRpbmcgb3JkZXIuIE90aGVyd2lzZSxcbiAgICAgKiBzcGVjaWZ5IGFuIG9yZGVyIG9mIFwiZGVzY1wiIGZvciBkZXNjZW5kaW5nIG9yIFwiYXNjXCIgZm9yIGFzY2VuZGluZyBzb3J0IG9yZGVyXG4gICAgICogb2YgY29ycmVzcG9uZGluZyB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtib29sZWFuW118c3RyaW5nW119IG9yZGVycyBUaGUgb3JkZXIgdG8gc29ydCBieSBmb3IgZWFjaCBwcm9wZXJ0eS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzb3J0IG9yZGVyIGluZGljYXRvciBmb3IgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29tcGFyZU11bHRpcGxlKG9iamVjdCwgb3RoZXIsIG9yZGVycykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgb2JqQ3JpdGVyaWEgPSBvYmplY3QuY3JpdGVyaWEsXG4gICAgICAgICAgb3RoQ3JpdGVyaWEgPSBvdGhlci5jcml0ZXJpYSxcbiAgICAgICAgICBsZW5ndGggPSBvYmpDcml0ZXJpYS5sZW5ndGgsXG4gICAgICAgICAgb3JkZXJzTGVuZ3RoID0gb3JkZXJzLmxlbmd0aDtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGNvbXBhcmVBc2NlbmRpbmcob2JqQ3JpdGVyaWFbaW5kZXhdLCBvdGhDcml0ZXJpYVtpbmRleF0pO1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgaWYgKGluZGV4ID49IG9yZGVyc0xlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIG9yZGVyID0gb3JkZXJzW2luZGV4XTtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0ICogKG9yZGVyID09ICdkZXNjJyA/IC0xIDogMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIEZpeGVzIGFuIGBBcnJheSNzb3J0YCBidWcgaW4gdGhlIEpTIGVuZ2luZSBlbWJlZGRlZCBpbiBBZG9iZSBhcHBsaWNhdGlvbnNcbiAgICAgIC8vIHRoYXQgY2F1c2VzIGl0LCB1bmRlciBjZXJ0YWluIGNpcmN1bXN0YW5jZXMsIHRvIHByb3ZpZGUgdGhlIHNhbWUgdmFsdWUgZm9yXG4gICAgICAvLyBgb2JqZWN0YCBhbmQgYG90aGVyYC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9qYXNoa2VuYXMvdW5kZXJzY29yZS9wdWxsLzEyNDdcbiAgICAgIC8vIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICAvL1xuICAgICAgLy8gVGhpcyBhbHNvIGVuc3VyZXMgYSBzdGFibGUgc29ydCBpbiBWOCBhbmQgb3RoZXIgZW5naW5lcy5cbiAgICAgIC8vIFNlZSBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD05MCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgcmV0dXJuIG9iamVjdC5pbmRleCAtIG90aGVyLmluZGV4O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgdGhhdCBpcyB0aGUgY29tcG9zaXRpb24gb2YgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzLFxuICAgICAqIHBsYWNlaG9sZGVycywgYW5kIHByb3ZpZGVkIGFyZ3VtZW50cyBpbnRvIGEgc2luZ2xlIGFycmF5IG9mIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJncyBUaGUgcHJvdmlkZWQgYXJndW1lbnRzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhcnRpYWxzIFRoZSBhcmd1bWVudHMgdG8gcHJlcGVuZCB0byB0aG9zZSBwcm92aWRlZC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBob2xkZXJzIFRoZSBgcGFydGlhbHNgIHBsYWNlaG9sZGVyIGluZGV4ZXMuXG4gICAgICogQHBhcmFtcyB7Ym9vbGVhbn0gW2lzQ3VycmllZF0gU3BlY2lmeSBjb21wb3NpbmcgZm9yIGEgY3VycmllZCBmdW5jdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBjb21wb3NlZCBhcmd1bWVudHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29tcG9zZUFyZ3MoYXJncywgcGFydGlhbHMsIGhvbGRlcnMsIGlzQ3VycmllZCkge1xuICAgICAgdmFyIGFyZ3NJbmRleCA9IC0xLFxuICAgICAgICAgIGFyZ3NMZW5ndGggPSBhcmdzLmxlbmd0aCxcbiAgICAgICAgICBob2xkZXJzTGVuZ3RoID0gaG9sZGVycy5sZW5ndGgsXG4gICAgICAgICAgbGVmdEluZGV4ID0gLTEsXG4gICAgICAgICAgbGVmdExlbmd0aCA9IHBhcnRpYWxzLmxlbmd0aCxcbiAgICAgICAgICByYW5nZUxlbmd0aCA9IG5hdGl2ZU1heChhcmdzTGVuZ3RoIC0gaG9sZGVyc0xlbmd0aCwgMCksXG4gICAgICAgICAgcmVzdWx0ID0gQXJyYXkobGVmdExlbmd0aCArIHJhbmdlTGVuZ3RoKSxcbiAgICAgICAgICBpc1VuY3VycmllZCA9ICFpc0N1cnJpZWQ7XG5cbiAgICAgIHdoaWxlICgrK2xlZnRJbmRleCA8IGxlZnRMZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0W2xlZnRJbmRleF0gPSBwYXJ0aWFsc1tsZWZ0SW5kZXhdO1xuICAgICAgfVxuICAgICAgd2hpbGUgKCsrYXJnc0luZGV4IDwgaG9sZGVyc0xlbmd0aCkge1xuICAgICAgICBpZiAoaXNVbmN1cnJpZWQgfHwgYXJnc0luZGV4IDwgYXJnc0xlbmd0aCkge1xuICAgICAgICAgIHJlc3VsdFtob2xkZXJzW2FyZ3NJbmRleF1dID0gYXJnc1thcmdzSW5kZXhdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB3aGlsZSAocmFuZ2VMZW5ndGgtLSkge1xuICAgICAgICByZXN1bHRbbGVmdEluZGV4KytdID0gYXJnc1thcmdzSW5kZXgrK107XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZSBgY29tcG9zZUFyZ3NgIGV4Y2VwdCB0aGF0IHRoZSBhcmd1bWVudHMgY29tcG9zaXRpb25cbiAgICAgKiBpcyB0YWlsb3JlZCBmb3IgYF8ucGFydGlhbFJpZ2h0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJncyBUaGUgcHJvdmlkZWQgYXJndW1lbnRzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhcnRpYWxzIFRoZSBhcmd1bWVudHMgdG8gYXBwZW5kIHRvIHRob3NlIHByb3ZpZGVkLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGhvbGRlcnMgVGhlIGBwYXJ0aWFsc2AgcGxhY2Vob2xkZXIgaW5kZXhlcy5cbiAgICAgKiBAcGFyYW1zIHtib29sZWFufSBbaXNDdXJyaWVkXSBTcGVjaWZ5IGNvbXBvc2luZyBmb3IgYSBjdXJyaWVkIGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGNvbXBvc2VkIGFyZ3VtZW50cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21wb3NlQXJnc1JpZ2h0KGFyZ3MsIHBhcnRpYWxzLCBob2xkZXJzLCBpc0N1cnJpZWQpIHtcbiAgICAgIHZhciBhcmdzSW5kZXggPSAtMSxcbiAgICAgICAgICBhcmdzTGVuZ3RoID0gYXJncy5sZW5ndGgsXG4gICAgICAgICAgaG9sZGVyc0luZGV4ID0gLTEsXG4gICAgICAgICAgaG9sZGVyc0xlbmd0aCA9IGhvbGRlcnMubGVuZ3RoLFxuICAgICAgICAgIHJpZ2h0SW5kZXggPSAtMSxcbiAgICAgICAgICByaWdodExlbmd0aCA9IHBhcnRpYWxzLmxlbmd0aCxcbiAgICAgICAgICByYW5nZUxlbmd0aCA9IG5hdGl2ZU1heChhcmdzTGVuZ3RoIC0gaG9sZGVyc0xlbmd0aCwgMCksXG4gICAgICAgICAgcmVzdWx0ID0gQXJyYXkocmFuZ2VMZW5ndGggKyByaWdodExlbmd0aCksXG4gICAgICAgICAgaXNVbmN1cnJpZWQgPSAhaXNDdXJyaWVkO1xuXG4gICAgICB3aGlsZSAoKythcmdzSW5kZXggPCByYW5nZUxlbmd0aCkge1xuICAgICAgICByZXN1bHRbYXJnc0luZGV4XSA9IGFyZ3NbYXJnc0luZGV4XTtcbiAgICAgIH1cbiAgICAgIHZhciBvZmZzZXQgPSBhcmdzSW5kZXg7XG4gICAgICB3aGlsZSAoKytyaWdodEluZGV4IDwgcmlnaHRMZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0W29mZnNldCArIHJpZ2h0SW5kZXhdID0gcGFydGlhbHNbcmlnaHRJbmRleF07XG4gICAgICB9XG4gICAgICB3aGlsZSAoKytob2xkZXJzSW5kZXggPCBob2xkZXJzTGVuZ3RoKSB7XG4gICAgICAgIGlmIChpc1VuY3VycmllZCB8fCBhcmdzSW5kZXggPCBhcmdzTGVuZ3RoKSB7XG4gICAgICAgICAgcmVzdWx0W29mZnNldCArIGhvbGRlcnNbaG9sZGVyc0luZGV4XV0gPSBhcmdzW2FyZ3NJbmRleCsrXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb3BpZXMgdGhlIHZhbHVlcyBvZiBgc291cmNlYCB0byBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBzb3VyY2UgVGhlIGFycmF5IHRvIGNvcHkgdmFsdWVzIGZyb20uXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5PVtdXSBUaGUgYXJyYXkgdG8gY29weSB2YWx1ZXMgdG8uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29weUFycmF5KHNvdXJjZSwgYXJyYXkpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHNvdXJjZS5sZW5ndGg7XG5cbiAgICAgIGFycmF5IHx8IChhcnJheSA9IEFycmF5KGxlbmd0aCkpO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgYXJyYXlbaW5kZXhdID0gc291cmNlW2luZGV4XTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb3BpZXMgcHJvcGVydGllcyBvZiBgc291cmNlYCB0byBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyBmcm9tLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHByb3BzIFRoZSBwcm9wZXJ0eSBpZGVudGlmaWVycyB0byBjb3B5LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0PXt9XSBUaGUgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyB0by5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb3BpZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29weU9iamVjdChzb3VyY2UsIHByb3BzLCBvYmplY3QsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIHZhciBpc05ldyA9ICFvYmplY3Q7XG4gICAgICBvYmplY3QgfHwgKG9iamVjdCA9IHt9KTtcblxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIga2V5ID0gcHJvcHNbaW5kZXhdO1xuXG4gICAgICAgIHZhciBuZXdWYWx1ZSA9IGN1c3RvbWl6ZXJcbiAgICAgICAgICA/IGN1c3RvbWl6ZXIob2JqZWN0W2tleV0sIHNvdXJjZVtrZXldLCBrZXksIG9iamVjdCwgc291cmNlKVxuICAgICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgICAgIGlmIChuZXdWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgbmV3VmFsdWUgPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNOZXcpIHtcbiAgICAgICAgICBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIG5ld1ZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvcGllcyBvd24gc3ltYm9scyBvZiBgc291cmNlYCB0byBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IHRvIGNvcHkgc3ltYm9scyBmcm9tLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0PXt9XSBUaGUgb2JqZWN0IHRvIGNvcHkgc3ltYm9scyB0by5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvcHlTeW1ib2xzKHNvdXJjZSwgb2JqZWN0KSB7XG4gICAgICByZXR1cm4gY29weU9iamVjdChzb3VyY2UsIGdldFN5bWJvbHMoc291cmNlKSwgb2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb3BpZXMgb3duIGFuZCBpbmhlcml0ZWQgc3ltYm9scyBvZiBgc291cmNlYCB0byBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IHRvIGNvcHkgc3ltYm9scyBmcm9tLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0PXt9XSBUaGUgb2JqZWN0IHRvIGNvcHkgc3ltYm9scyB0by5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvcHlTeW1ib2xzSW4oc291cmNlLCBvYmplY3QpIHtcbiAgICAgIHJldHVybiBjb3B5T2JqZWN0KHNvdXJjZSwgZ2V0U3ltYm9sc0luKHNvdXJjZSksIG9iamVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8uZ3JvdXBCeWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHNldHRlciBUaGUgZnVuY3Rpb24gdG8gc2V0IGFjY3VtdWxhdG9yIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaW5pdGlhbGl6ZXJdIFRoZSBhY2N1bXVsYXRvciBvYmplY3QgaW5pdGlhbGl6ZXIuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWdncmVnYXRvciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVBZ2dyZWdhdG9yKHNldHRlciwgaW5pdGlhbGl6ZXIpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheUFnZ3JlZ2F0b3IgOiBiYXNlQWdncmVnYXRvcixcbiAgICAgICAgICAgIGFjY3VtdWxhdG9yID0gaW5pdGlhbGl6ZXIgPyBpbml0aWFsaXplcigpIDoge307XG5cbiAgICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgc2V0dGVyLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMiksIGFjY3VtdWxhdG9yKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8uYXNzaWduYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gYXNzaWduZXIgVGhlIGZ1bmN0aW9uIHRvIGFzc2lnbiB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYXNzaWduZXIgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQXNzaWduZXIoYXNzaWduZXIpIHtcbiAgICAgIHJldHVybiBiYXNlUmVzdChmdW5jdGlvbihvYmplY3QsIHNvdXJjZXMpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgICBsZW5ndGggPSBzb3VyY2VzLmxlbmd0aCxcbiAgICAgICAgICAgIGN1c3RvbWl6ZXIgPSBsZW5ndGggPiAxID8gc291cmNlc1tsZW5ndGggLSAxXSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGd1YXJkID0gbGVuZ3RoID4gMiA/IHNvdXJjZXNbMl0gOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgY3VzdG9taXplciA9IChhc3NpZ25lci5sZW5ndGggPiAzICYmIHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicpXG4gICAgICAgICAgPyAobGVuZ3RoLS0sIGN1c3RvbWl6ZXIpXG4gICAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgaWYgKGd1YXJkICYmIGlzSXRlcmF0ZWVDYWxsKHNvdXJjZXNbMF0sIHNvdXJjZXNbMV0sIGd1YXJkKSkge1xuICAgICAgICAgIGN1c3RvbWl6ZXIgPSBsZW5ndGggPCAzID8gdW5kZWZpbmVkIDogY3VzdG9taXplcjtcbiAgICAgICAgICBsZW5ndGggPSAxO1xuICAgICAgICB9XG4gICAgICAgIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIHZhciBzb3VyY2UgPSBzb3VyY2VzW2luZGV4XTtcbiAgICAgICAgICBpZiAoc291cmNlKSB7XG4gICAgICAgICAgICBhc3NpZ25lcihvYmplY3QsIHNvdXJjZSwgaW5kZXgsIGN1c3RvbWl6ZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBiYXNlRWFjaGAgb3IgYGJhc2VFYWNoUmlnaHRgIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlYWNoRnVuYyBUaGUgZnVuY3Rpb24gdG8gaXRlcmF0ZSBvdmVyIGEgY29sbGVjdGlvbi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBiYXNlIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUJhc2VFYWNoKGVhY2hGdW5jLCBmcm9tUmlnaHQpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgICBpZiAoY29sbGVjdGlvbiA9PSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIGNvbGxlY3Rpb247XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0FycmF5TGlrZShjb2xsZWN0aW9uKSkge1xuICAgICAgICAgIHJldHVybiBlYWNoRnVuYyhjb2xsZWN0aW9uLCBpdGVyYXRlZSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxlbmd0aCA9IGNvbGxlY3Rpb24ubGVuZ3RoLFxuICAgICAgICAgICAgaW5kZXggPSBmcm9tUmlnaHQgPyBsZW5ndGggOiAtMSxcbiAgICAgICAgICAgIGl0ZXJhYmxlID0gT2JqZWN0KGNvbGxlY3Rpb24pO1xuXG4gICAgICAgIHdoaWxlICgoZnJvbVJpZ2h0ID8gaW5kZXgtLSA6ICsraW5kZXggPCBsZW5ndGgpKSB7XG4gICAgICAgICAgaWYgKGl0ZXJhdGVlKGl0ZXJhYmxlW2luZGV4XSwgaW5kZXgsIGl0ZXJhYmxlKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29sbGVjdGlvbjtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGJhc2UgZnVuY3Rpb24gZm9yIG1ldGhvZHMgbGlrZSBgXy5mb3JJbmAgYW5kIGBfLmZvck93bmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGJhc2UgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQmFzZUZvcihmcm9tUmlnaHQpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QsIGl0ZXJhdGVlLCBrZXlzRnVuYykge1xuICAgICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICAgIGl0ZXJhYmxlID0gT2JqZWN0KG9iamVjdCksXG4gICAgICAgICAgICBwcm9wcyA9IGtleXNGdW5jKG9iamVjdCksXG4gICAgICAgICAgICBsZW5ndGggPSBwcm9wcy5sZW5ndGg7XG5cbiAgICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgICAgdmFyIGtleSA9IHByb3BzW2Zyb21SaWdodCA/IGxlbmd0aCA6ICsraW5kZXhdO1xuICAgICAgICAgIGlmIChpdGVyYXRlZShpdGVyYWJsZVtrZXldLCBrZXksIGl0ZXJhYmxlKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCB3cmFwcyBgZnVuY2AgdG8gaW52b2tlIGl0IHdpdGggdGhlIG9wdGlvbmFsIGB0aGlzYFxuICAgICAqIGJpbmRpbmcgb2YgYHRoaXNBcmdgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB3cmFwcGVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUJpbmQoZnVuYywgYml0bWFzaywgdGhpc0FyZykge1xuICAgICAgdmFyIGlzQmluZCA9IGJpdG1hc2sgJiBXUkFQX0JJTkRfRkxBRyxcbiAgICAgICAgICBDdG9yID0gY3JlYXRlQ3RvcihmdW5jKTtcblxuICAgICAgZnVuY3Rpb24gd3JhcHBlcigpIHtcbiAgICAgICAgdmFyIGZuID0gKHRoaXMgJiYgdGhpcyAhPT0gcm9vdCAmJiB0aGlzIGluc3RhbmNlb2Ygd3JhcHBlcikgPyBDdG9yIDogZnVuYztcbiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KGlzQmluZCA/IHRoaXNBcmcgOiB0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHdyYXBwZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8ubG93ZXJGaXJzdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2ROYW1lIFRoZSBuYW1lIG9mIHRoZSBgU3RyaW5nYCBjYXNlIG1ldGhvZCB0byB1c2UuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY2FzZSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVDYXNlRmlyc3QobWV0aG9kTmFtZSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHN0cmluZykge1xuICAgICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuXG4gICAgICAgIHZhciBzdHJTeW1ib2xzID0gaGFzVW5pY29kZShzdHJpbmcpXG4gICAgICAgICAgPyBzdHJpbmdUb0FycmF5KHN0cmluZylcbiAgICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgICB2YXIgY2hyID0gc3RyU3ltYm9sc1xuICAgICAgICAgID8gc3RyU3ltYm9sc1swXVxuICAgICAgICAgIDogc3RyaW5nLmNoYXJBdCgwKTtcblxuICAgICAgICB2YXIgdHJhaWxpbmcgPSBzdHJTeW1ib2xzXG4gICAgICAgICAgPyBjYXN0U2xpY2Uoc3RyU3ltYm9scywgMSkuam9pbignJylcbiAgICAgICAgICA6IHN0cmluZy5zbGljZSgxKTtcblxuICAgICAgICByZXR1cm4gY2hyW21ldGhvZE5hbWVdKCkgKyB0cmFpbGluZztcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8uY2FtZWxDYXNlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGZ1bmN0aW9uIHRvIGNvbWJpbmUgZWFjaCB3b3JkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbXBvdW5kZXIgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQ29tcG91bmRlcihjYWxsYmFjaykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHN0cmluZykge1xuICAgICAgICByZXR1cm4gYXJyYXlSZWR1Y2Uod29yZHMoZGVidXJyKHN0cmluZykucmVwbGFjZShyZUFwb3MsICcnKSksIGNhbGxiYWNrLCAnJyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHByb2R1Y2VzIGFuIGluc3RhbmNlIG9mIGBDdG9yYCByZWdhcmRsZXNzIG9mXG4gICAgICogd2hldGhlciBpdCB3YXMgaW52b2tlZCBhcyBwYXJ0IG9mIGEgYG5ld2AgZXhwcmVzc2lvbiBvciBieSBgY2FsbGAgb3IgYGFwcGx5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gQ3RvciBUaGUgY29uc3RydWN0b3IgdG8gd3JhcC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB3cmFwcGVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUN0b3IoQ3Rvcikge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBVc2UgYSBgc3dpdGNoYCBzdGF0ZW1lbnQgdG8gd29yayB3aXRoIGNsYXNzIGNvbnN0cnVjdG9ycy4gU2VlXG4gICAgICAgIC8vIGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLWVjbWFzY3JpcHQtZnVuY3Rpb24tb2JqZWN0cy1jYWxsLXRoaXNhcmd1bWVudC1hcmd1bWVudHNsaXN0XG4gICAgICAgIC8vIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgICBzd2l0Y2ggKGFyZ3MubGVuZ3RoKSB7XG4gICAgICAgICAgY2FzZSAwOiByZXR1cm4gbmV3IEN0b3I7XG4gICAgICAgICAgY2FzZSAxOiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSk7XG4gICAgICAgICAgY2FzZSAyOiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSwgYXJnc1sxXSk7XG4gICAgICAgICAgY2FzZSAzOiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgICAgICAgY2FzZSA0OiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSk7XG4gICAgICAgICAgY2FzZSA1OiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSwgYXJnc1s0XSk7XG4gICAgICAgICAgY2FzZSA2OiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSwgYXJnc1s0XSwgYXJnc1s1XSk7XG4gICAgICAgICAgY2FzZSA3OiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSwgYXJnc1s0XSwgYXJnc1s1XSwgYXJnc1s2XSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRoaXNCaW5kaW5nID0gYmFzZUNyZWF0ZShDdG9yLnByb3RvdHlwZSksXG4gICAgICAgICAgICByZXN1bHQgPSBDdG9yLmFwcGx5KHRoaXNCaW5kaW5nLCBhcmdzKTtcblxuICAgICAgICAvLyBNaW1pYyB0aGUgY29uc3RydWN0b3IncyBgcmV0dXJuYCBiZWhhdmlvci5cbiAgICAgICAgLy8gU2VlIGh0dHBzOi8vZXM1LmdpdGh1Yi5pby8jeDEzLjIuMiBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgICByZXR1cm4gaXNPYmplY3QocmVzdWx0KSA/IHJlc3VsdCA6IHRoaXNCaW5kaW5nO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCB3cmFwcyBgZnVuY2AgdG8gZW5hYmxlIGN1cnJ5aW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFyaXR5IFRoZSBhcml0eSBvZiBgZnVuY2AuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgd3JhcHBlZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVDdXJyeShmdW5jLCBiaXRtYXNrLCBhcml0eSkge1xuICAgICAgdmFyIEN0b3IgPSBjcmVhdGVDdG9yKGZ1bmMpO1xuXG4gICAgICBmdW5jdGlvbiB3cmFwcGVyKCkge1xuICAgICAgICB2YXIgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCxcbiAgICAgICAgICAgIGFyZ3MgPSBBcnJheShsZW5ndGgpLFxuICAgICAgICAgICAgaW5kZXggPSBsZW5ndGgsXG4gICAgICAgICAgICBwbGFjZWhvbGRlciA9IGdldEhvbGRlcih3cmFwcGVyKTtcblxuICAgICAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgICAgIGFyZ3NbaW5kZXhdID0gYXJndW1lbnRzW2luZGV4XTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaG9sZGVycyA9IChsZW5ndGggPCAzICYmIGFyZ3NbMF0gIT09IHBsYWNlaG9sZGVyICYmIGFyZ3NbbGVuZ3RoIC0gMV0gIT09IHBsYWNlaG9sZGVyKVxuICAgICAgICAgID8gW11cbiAgICAgICAgICA6IHJlcGxhY2VIb2xkZXJzKGFyZ3MsIHBsYWNlaG9sZGVyKTtcblxuICAgICAgICBsZW5ndGggLT0gaG9sZGVycy5sZW5ndGg7XG4gICAgICAgIGlmIChsZW5ndGggPCBhcml0eSkge1xuICAgICAgICAgIHJldHVybiBjcmVhdGVSZWN1cnJ5KFxuICAgICAgICAgICAgZnVuYywgYml0bWFzaywgY3JlYXRlSHlicmlkLCB3cmFwcGVyLnBsYWNlaG9sZGVyLCB1bmRlZmluZWQsXG4gICAgICAgICAgICBhcmdzLCBob2xkZXJzLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYXJpdHkgLSBsZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBmbiA9ICh0aGlzICYmIHRoaXMgIT09IHJvb3QgJiYgdGhpcyBpbnN0YW5jZW9mIHdyYXBwZXIpID8gQ3RvciA6IGZ1bmM7XG4gICAgICAgIHJldHVybiBhcHBseShmbiwgdGhpcywgYXJncyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gd3JhcHBlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYF8uZmluZGAgb3IgYF8uZmluZExhc3RgIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmaW5kSW5kZXhGdW5jIFRoZSBmdW5jdGlvbiB0byBmaW5kIHRoZSBjb2xsZWN0aW9uIGluZGV4LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZpbmQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlRmluZChmaW5kSW5kZXhGdW5jKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oY29sbGVjdGlvbiwgcHJlZGljYXRlLCBmcm9tSW5kZXgpIHtcbiAgICAgICAgdmFyIGl0ZXJhYmxlID0gT2JqZWN0KGNvbGxlY3Rpb24pO1xuICAgICAgICBpZiAoIWlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pKSB7XG4gICAgICAgICAgdmFyIGl0ZXJhdGVlID0gZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKTtcbiAgICAgICAgICBjb2xsZWN0aW9uID0ga2V5cyhjb2xsZWN0aW9uKTtcbiAgICAgICAgICBwcmVkaWNhdGUgPSBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIGl0ZXJhdGVlKGl0ZXJhYmxlW2tleV0sIGtleSwgaXRlcmFibGUpOyB9O1xuICAgICAgICB9XG4gICAgICAgIHZhciBpbmRleCA9IGZpbmRJbmRleEZ1bmMoY29sbGVjdGlvbiwgcHJlZGljYXRlLCBmcm9tSW5kZXgpO1xuICAgICAgICByZXR1cm4gaW5kZXggPiAtMSA/IGl0ZXJhYmxlW2l0ZXJhdGVlID8gY29sbGVjdGlvbltpbmRleF0gOiBpbmRleF0gOiB1bmRlZmluZWQ7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgXy5mbG93YCBvciBgXy5mbG93UmlnaHRgIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmbG93IGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUZsb3coZnJvbVJpZ2h0KSB7XG4gICAgICByZXR1cm4gZmxhdFJlc3QoZnVuY3Rpb24oZnVuY3MpIHtcbiAgICAgICAgdmFyIGxlbmd0aCA9IGZ1bmNzLmxlbmd0aCxcbiAgICAgICAgICAgIGluZGV4ID0gbGVuZ3RoLFxuICAgICAgICAgICAgcHJlcmVxID0gTG9kYXNoV3JhcHBlci5wcm90b3R5cGUudGhydTtcblxuICAgICAgICBpZiAoZnJvbVJpZ2h0KSB7XG4gICAgICAgICAgZnVuY3MucmV2ZXJzZSgpO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChpbmRleC0tKSB7XG4gICAgICAgICAgdmFyIGZ1bmMgPSBmdW5jc1tpbmRleF07XG4gICAgICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHByZXJlcSAmJiAhd3JhcHBlciAmJiBnZXRGdW5jTmFtZShmdW5jKSA9PSAnd3JhcHBlcicpIHtcbiAgICAgICAgICAgIHZhciB3cmFwcGVyID0gbmV3IExvZGFzaFdyYXBwZXIoW10sIHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpbmRleCA9IHdyYXBwZXIgPyBpbmRleCA6IGxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICBmdW5jID0gZnVuY3NbaW5kZXhdO1xuXG4gICAgICAgICAgdmFyIGZ1bmNOYW1lID0gZ2V0RnVuY05hbWUoZnVuYyksXG4gICAgICAgICAgICAgIGRhdGEgPSBmdW5jTmFtZSA9PSAnd3JhcHBlcicgPyBnZXREYXRhKGZ1bmMpIDogdW5kZWZpbmVkO1xuXG4gICAgICAgICAgaWYgKGRhdGEgJiYgaXNMYXppYWJsZShkYXRhWzBdKSAmJlxuICAgICAgICAgICAgICAgIGRhdGFbMV0gPT0gKFdSQVBfQVJZX0ZMQUcgfCBXUkFQX0NVUlJZX0ZMQUcgfCBXUkFQX1BBUlRJQUxfRkxBRyB8IFdSQVBfUkVBUkdfRkxBRykgJiZcbiAgICAgICAgICAgICAgICAhZGF0YVs0XS5sZW5ndGggJiYgZGF0YVs5XSA9PSAxXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgd3JhcHBlciA9IHdyYXBwZXJbZ2V0RnVuY05hbWUoZGF0YVswXSldLmFwcGx5KHdyYXBwZXIsIGRhdGFbM10pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3cmFwcGVyID0gKGZ1bmMubGVuZ3RoID09IDEgJiYgaXNMYXppYWJsZShmdW5jKSlcbiAgICAgICAgICAgICAgPyB3cmFwcGVyW2Z1bmNOYW1lXSgpXG4gICAgICAgICAgICAgIDogd3JhcHBlci50aHJ1KGZ1bmMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsXG4gICAgICAgICAgICAgIHZhbHVlID0gYXJnc1swXTtcblxuICAgICAgICAgIGlmICh3cmFwcGVyICYmIGFyZ3MubGVuZ3RoID09IDEgJiYgaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB3cmFwcGVyLnBsYW50KHZhbHVlKS52YWx1ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgaW5kZXggPSAwLFxuICAgICAgICAgICAgICByZXN1bHQgPSBsZW5ndGggPyBmdW5jc1tpbmRleF0uYXBwbHkodGhpcywgYXJncykgOiB2YWx1ZTtcblxuICAgICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBmdW5jc1tpbmRleF0uY2FsbCh0aGlzLCByZXN1bHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgd3JhcHMgYGZ1bmNgIHRvIGludm9rZSBpdCB3aXRoIG9wdGlvbmFsIGB0aGlzYFxuICAgICAqIGJpbmRpbmcgb2YgYHRoaXNBcmdgLCBwYXJ0aWFsIGFwcGxpY2F0aW9uLCBhbmQgY3VycnlpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258c3RyaW5nfSBmdW5jIFRoZSBmdW5jdGlvbiBvciBtZXRob2QgbmFtZSB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gcHJlcGVuZCB0byB0aG9zZSBwcm92aWRlZCB0b1xuICAgICAqICB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtob2xkZXJzXSBUaGUgYHBhcnRpYWxzYCBwbGFjZWhvbGRlciBpbmRleGVzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwYXJ0aWFsc1JpZ2h0XSBUaGUgYXJndW1lbnRzIHRvIGFwcGVuZCB0byB0aG9zZSBwcm92aWRlZFxuICAgICAqICB0byB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtob2xkZXJzUmlnaHRdIFRoZSBgcGFydGlhbHNSaWdodGAgcGxhY2Vob2xkZXIgaW5kZXhlcy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbYXJnUG9zXSBUaGUgYXJndW1lbnQgcG9zaXRpb25zIG9mIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcnldIFRoZSBhcml0eSBjYXAgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJpdHldIFRoZSBhcml0eSBvZiBgZnVuY2AuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgd3JhcHBlZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVIeWJyaWQoZnVuYywgYml0bWFzaywgdGhpc0FyZywgcGFydGlhbHMsIGhvbGRlcnMsIHBhcnRpYWxzUmlnaHQsIGhvbGRlcnNSaWdodCwgYXJnUG9zLCBhcnksIGFyaXR5KSB7XG4gICAgICB2YXIgaXNBcnkgPSBiaXRtYXNrICYgV1JBUF9BUllfRkxBRyxcbiAgICAgICAgICBpc0JpbmQgPSBiaXRtYXNrICYgV1JBUF9CSU5EX0ZMQUcsXG4gICAgICAgICAgaXNCaW5kS2V5ID0gYml0bWFzayAmIFdSQVBfQklORF9LRVlfRkxBRyxcbiAgICAgICAgICBpc0N1cnJpZWQgPSBiaXRtYXNrICYgKFdSQVBfQ1VSUllfRkxBRyB8IFdSQVBfQ1VSUllfUklHSFRfRkxBRyksXG4gICAgICAgICAgaXNGbGlwID0gYml0bWFzayAmIFdSQVBfRkxJUF9GTEFHLFxuICAgICAgICAgIEN0b3IgPSBpc0JpbmRLZXkgPyB1bmRlZmluZWQgOiBjcmVhdGVDdG9yKGZ1bmMpO1xuXG4gICAgICBmdW5jdGlvbiB3cmFwcGVyKCkge1xuICAgICAgICB2YXIgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCxcbiAgICAgICAgICAgIGFyZ3MgPSBBcnJheShsZW5ndGgpLFxuICAgICAgICAgICAgaW5kZXggPSBsZW5ndGg7XG5cbiAgICAgICAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICAgICAgICBhcmdzW2luZGV4XSA9IGFyZ3VtZW50c1tpbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQ3VycmllZCkge1xuICAgICAgICAgIHZhciBwbGFjZWhvbGRlciA9IGdldEhvbGRlcih3cmFwcGVyKSxcbiAgICAgICAgICAgICAgaG9sZGVyc0NvdW50ID0gY291bnRIb2xkZXJzKGFyZ3MsIHBsYWNlaG9sZGVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFydGlhbHMpIHtcbiAgICAgICAgICBhcmdzID0gY29tcG9zZUFyZ3MoYXJncywgcGFydGlhbHMsIGhvbGRlcnMsIGlzQ3VycmllZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcnRpYWxzUmlnaHQpIHtcbiAgICAgICAgICBhcmdzID0gY29tcG9zZUFyZ3NSaWdodChhcmdzLCBwYXJ0aWFsc1JpZ2h0LCBob2xkZXJzUmlnaHQsIGlzQ3VycmllZCk7XG4gICAgICAgIH1cbiAgICAgICAgbGVuZ3RoIC09IGhvbGRlcnNDb3VudDtcbiAgICAgICAgaWYgKGlzQ3VycmllZCAmJiBsZW5ndGggPCBhcml0eSkge1xuICAgICAgICAgIHZhciBuZXdIb2xkZXJzID0gcmVwbGFjZUhvbGRlcnMoYXJncywgcGxhY2Vob2xkZXIpO1xuICAgICAgICAgIHJldHVybiBjcmVhdGVSZWN1cnJ5KFxuICAgICAgICAgICAgZnVuYywgYml0bWFzaywgY3JlYXRlSHlicmlkLCB3cmFwcGVyLnBsYWNlaG9sZGVyLCB0aGlzQXJnLFxuICAgICAgICAgICAgYXJncywgbmV3SG9sZGVycywgYXJnUG9zLCBhcnksIGFyaXR5IC0gbGVuZ3RoXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdGhpc0JpbmRpbmcgPSBpc0JpbmQgPyB0aGlzQXJnIDogdGhpcyxcbiAgICAgICAgICAgIGZuID0gaXNCaW5kS2V5ID8gdGhpc0JpbmRpbmdbZnVuY10gOiBmdW5jO1xuXG4gICAgICAgIGxlbmd0aCA9IGFyZ3MubGVuZ3RoO1xuICAgICAgICBpZiAoYXJnUG9zKSB7XG4gICAgICAgICAgYXJncyA9IHJlb3JkZXIoYXJncywgYXJnUG9zKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0ZsaXAgJiYgbGVuZ3RoID4gMSkge1xuICAgICAgICAgIGFyZ3MucmV2ZXJzZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0FyeSAmJiBhcnkgPCBsZW5ndGgpIHtcbiAgICAgICAgICBhcmdzLmxlbmd0aCA9IGFyeTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcyAmJiB0aGlzICE9PSByb290ICYmIHRoaXMgaW5zdGFuY2VvZiB3cmFwcGVyKSB7XG4gICAgICAgICAgZm4gPSBDdG9yIHx8IGNyZWF0ZUN0b3IoZm4pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmbi5hcHBseSh0aGlzQmluZGluZywgYXJncyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gd3JhcHBlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5pbnZlcnRCeWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHNldHRlciBUaGUgZnVuY3Rpb24gdG8gc2V0IGFjY3VtdWxhdG9yIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB0b0l0ZXJhdGVlIFRoZSBmdW5jdGlvbiB0byByZXNvbHZlIGl0ZXJhdGVlcy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBpbnZlcnRlciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVJbnZlcnRlcihzZXR0ZXIsIHRvSXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICAgIHJldHVybiBiYXNlSW52ZXJ0ZXIob2JqZWN0LCBzZXR0ZXIsIHRvSXRlcmF0ZWUoaXRlcmF0ZWUpLCB7fSk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHBlcmZvcm1zIGEgbWF0aGVtYXRpY2FsIG9wZXJhdGlvbiBvbiB0d28gdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvcGVyYXRvciBUaGUgZnVuY3Rpb24gdG8gcGVyZm9ybSB0aGUgb3BlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZGVmYXVsdFZhbHVlXSBUaGUgdmFsdWUgdXNlZCBmb3IgYHVuZGVmaW5lZGAgYXJndW1lbnRzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IG1hdGhlbWF0aWNhbCBvcGVyYXRpb24gZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlTWF0aE9wZXJhdGlvbihvcGVyYXRvciwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24odmFsdWUsIG90aGVyKSB7XG4gICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkICYmIG90aGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG90aGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBpZiAocmVzdWx0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBvdGhlcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJyB8fCB0eXBlb2Ygb3RoZXIgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHZhbHVlID0gYmFzZVRvU3RyaW5nKHZhbHVlKTtcbiAgICAgICAgICAgIG90aGVyID0gYmFzZVRvU3RyaW5nKG90aGVyKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFsdWUgPSBiYXNlVG9OdW1iZXIodmFsdWUpO1xuICAgICAgICAgICAgb3RoZXIgPSBiYXNlVG9OdW1iZXIob3RoZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQgPSBvcGVyYXRvcih2YWx1ZSwgb3RoZXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLm92ZXJgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBhcnJheUZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGl0ZXJhdGUgb3ZlciBpdGVyYXRlZXMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgb3ZlciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVPdmVyKGFycmF5RnVuYykge1xuICAgICAgcmV0dXJuIGZsYXRSZXN0KGZ1bmN0aW9uKGl0ZXJhdGVlcykge1xuICAgICAgICBpdGVyYXRlZXMgPSBhcnJheU1hcChpdGVyYXRlZXMsIGJhc2VVbmFyeShnZXRJdGVyYXRlZSgpKSk7XG4gICAgICAgIHJldHVybiBiYXNlUmVzdChmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgICAgdmFyIHRoaXNBcmcgPSB0aGlzO1xuICAgICAgICAgIHJldHVybiBhcnJheUZ1bmMoaXRlcmF0ZWVzLCBmdW5jdGlvbihpdGVyYXRlZSkge1xuICAgICAgICAgICAgcmV0dXJuIGFwcGx5KGl0ZXJhdGVlLCB0aGlzQXJnLCBhcmdzKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIHRoZSBwYWRkaW5nIGZvciBgc3RyaW5nYCBiYXNlZCBvbiBgbGVuZ3RoYC4gVGhlIGBjaGFyc2Agc3RyaW5nXG4gICAgICogaXMgdHJ1bmNhdGVkIGlmIHRoZSBudW1iZXIgb2YgY2hhcmFjdGVycyBleGNlZWRzIGBsZW5ndGhgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbGVuZ3RoIFRoZSBwYWRkaW5nIGxlbmd0aC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPScgJ10gVGhlIHN0cmluZyB1c2VkIGFzIHBhZGRpbmcuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcGFkZGluZyBmb3IgYHN0cmluZ2AuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlUGFkZGluZyhsZW5ndGgsIGNoYXJzKSB7XG4gICAgICBjaGFycyA9IGNoYXJzID09PSB1bmRlZmluZWQgPyAnICcgOiBiYXNlVG9TdHJpbmcoY2hhcnMpO1xuXG4gICAgICB2YXIgY2hhcnNMZW5ndGggPSBjaGFycy5sZW5ndGg7XG4gICAgICBpZiAoY2hhcnNMZW5ndGggPCAyKSB7XG4gICAgICAgIHJldHVybiBjaGFyc0xlbmd0aCA/IGJhc2VSZXBlYXQoY2hhcnMsIGxlbmd0aCkgOiBjaGFycztcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSBiYXNlUmVwZWF0KGNoYXJzLCBuYXRpdmVDZWlsKGxlbmd0aCAvIHN0cmluZ1NpemUoY2hhcnMpKSk7XG4gICAgICByZXR1cm4gaGFzVW5pY29kZShjaGFycylcbiAgICAgICAgPyBjYXN0U2xpY2Uoc3RyaW5nVG9BcnJheShyZXN1bHQpLCAwLCBsZW5ndGgpLmpvaW4oJycpXG4gICAgICAgIDogcmVzdWx0LnNsaWNlKDAsIGxlbmd0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgd3JhcHMgYGZ1bmNgIHRvIGludm9rZSBpdCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZ1xuICAgICAqIG9mIGB0aGlzQXJnYCBhbmQgYHBhcnRpYWxzYCBwcmVwZW5kZWQgdG8gdGhlIGFyZ3VtZW50cyBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBjcmVhdGVXcmFwYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7Kn0gdGhpc0FyZyBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhcnRpYWxzIFRoZSBhcmd1bWVudHMgdG8gcHJlcGVuZCB0byB0aG9zZSBwcm92aWRlZCB0b1xuICAgICAqICB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHdyYXBwZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlUGFydGlhbChmdW5jLCBiaXRtYXNrLCB0aGlzQXJnLCBwYXJ0aWFscykge1xuICAgICAgdmFyIGlzQmluZCA9IGJpdG1hc2sgJiBXUkFQX0JJTkRfRkxBRyxcbiAgICAgICAgICBDdG9yID0gY3JlYXRlQ3RvcihmdW5jKTtcblxuICAgICAgZnVuY3Rpb24gd3JhcHBlcigpIHtcbiAgICAgICAgdmFyIGFyZ3NJbmRleCA9IC0xLFxuICAgICAgICAgICAgYXJnc0xlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGgsXG4gICAgICAgICAgICBsZWZ0SW5kZXggPSAtMSxcbiAgICAgICAgICAgIGxlZnRMZW5ndGggPSBwYXJ0aWFscy5sZW5ndGgsXG4gICAgICAgICAgICBhcmdzID0gQXJyYXkobGVmdExlbmd0aCArIGFyZ3NMZW5ndGgpLFxuICAgICAgICAgICAgZm4gPSAodGhpcyAmJiB0aGlzICE9PSByb290ICYmIHRoaXMgaW5zdGFuY2VvZiB3cmFwcGVyKSA/IEN0b3IgOiBmdW5jO1xuXG4gICAgICAgIHdoaWxlICgrK2xlZnRJbmRleCA8IGxlZnRMZW5ndGgpIHtcbiAgICAgICAgICBhcmdzW2xlZnRJbmRleF0gPSBwYXJ0aWFsc1tsZWZ0SW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChhcmdzTGVuZ3RoLS0pIHtcbiAgICAgICAgICBhcmdzW2xlZnRJbmRleCsrXSA9IGFyZ3VtZW50c1srK2FyZ3NJbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFwcGx5KGZuLCBpc0JpbmQgPyB0aGlzQXJnIDogdGhpcywgYXJncyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gd3JhcHBlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYF8ucmFuZ2VgIG9yIGBfLnJhbmdlUmlnaHRgIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyByYW5nZSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVSYW5nZShmcm9tUmlnaHQpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihzdGFydCwgZW5kLCBzdGVwKSB7XG4gICAgICAgIGlmIChzdGVwICYmIHR5cGVvZiBzdGVwICE9ICdudW1iZXInICYmIGlzSXRlcmF0ZWVDYWxsKHN0YXJ0LCBlbmQsIHN0ZXApKSB7XG4gICAgICAgICAgZW5kID0gc3RlcCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICAvLyBFbnN1cmUgdGhlIHNpZ24gb2YgYC0wYCBpcyBwcmVzZXJ2ZWQuXG4gICAgICAgIHN0YXJ0ID0gdG9GaW5pdGUoc3RhcnQpO1xuICAgICAgICBpZiAoZW5kID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBlbmQgPSBzdGFydDtcbiAgICAgICAgICBzdGFydCA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZW5kID0gdG9GaW5pdGUoZW5kKTtcbiAgICAgICAgfVxuICAgICAgICBzdGVwID0gc3RlcCA9PT0gdW5kZWZpbmVkID8gKHN0YXJ0IDwgZW5kID8gMSA6IC0xKSA6IHRvRmluaXRlKHN0ZXApO1xuICAgICAgICByZXR1cm4gYmFzZVJhbmdlKHN0YXJ0LCBlbmQsIHN0ZXAsIGZyb21SaWdodCk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHBlcmZvcm1zIGEgcmVsYXRpb25hbCBvcGVyYXRpb24gb24gdHdvIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gb3BlcmF0b3IgVGhlIGZ1bmN0aW9uIHRvIHBlcmZvcm0gdGhlIG9wZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyByZWxhdGlvbmFsIG9wZXJhdGlvbiBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVSZWxhdGlvbmFsT3BlcmF0aW9uKG9wZXJhdG9yKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24odmFsdWUsIG90aGVyKSB7XG4gICAgICAgIGlmICghKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJyAmJiB0eXBlb2Ygb3RoZXIgPT0gJ3N0cmluZycpKSB7XG4gICAgICAgICAgdmFsdWUgPSB0b051bWJlcih2YWx1ZSk7XG4gICAgICAgICAgb3RoZXIgPSB0b051bWJlcihvdGhlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9wZXJhdG9yKHZhbHVlLCBvdGhlcik7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHdyYXBzIGBmdW5jYCB0byBjb250aW51ZSBjdXJyeWluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBjcmVhdGVXcmFwYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHdyYXBGdW5jIFRoZSBmdW5jdGlvbiB0byBjcmVhdGUgdGhlIGBmdW5jYCB3cmFwcGVyLlxuICAgICAqIEBwYXJhbSB7Kn0gcGxhY2Vob2xkZXIgVGhlIHBsYWNlaG9sZGVyIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3BhcnRpYWxzXSBUaGUgYXJndW1lbnRzIHRvIHByZXBlbmQgdG8gdGhvc2UgcHJvdmlkZWQgdG9cbiAgICAgKiAgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbaG9sZGVyc10gVGhlIGBwYXJ0aWFsc2AgcGxhY2Vob2xkZXIgaW5kZXhlcy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbYXJnUG9zXSBUaGUgYXJndW1lbnQgcG9zaXRpb25zIG9mIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcnldIFRoZSBhcml0eSBjYXAgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJpdHldIFRoZSBhcml0eSBvZiBgZnVuY2AuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgd3JhcHBlZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVSZWN1cnJ5KGZ1bmMsIGJpdG1hc2ssIHdyYXBGdW5jLCBwbGFjZWhvbGRlciwgdGhpc0FyZywgcGFydGlhbHMsIGhvbGRlcnMsIGFyZ1BvcywgYXJ5LCBhcml0eSkge1xuICAgICAgdmFyIGlzQ3VycnkgPSBiaXRtYXNrICYgV1JBUF9DVVJSWV9GTEFHLFxuICAgICAgICAgIG5ld0hvbGRlcnMgPSBpc0N1cnJ5ID8gaG9sZGVycyA6IHVuZGVmaW5lZCxcbiAgICAgICAgICBuZXdIb2xkZXJzUmlnaHQgPSBpc0N1cnJ5ID8gdW5kZWZpbmVkIDogaG9sZGVycyxcbiAgICAgICAgICBuZXdQYXJ0aWFscyA9IGlzQ3VycnkgPyBwYXJ0aWFscyA6IHVuZGVmaW5lZCxcbiAgICAgICAgICBuZXdQYXJ0aWFsc1JpZ2h0ID0gaXNDdXJyeSA/IHVuZGVmaW5lZCA6IHBhcnRpYWxzO1xuXG4gICAgICBiaXRtYXNrIHw9IChpc0N1cnJ5ID8gV1JBUF9QQVJUSUFMX0ZMQUcgOiBXUkFQX1BBUlRJQUxfUklHSFRfRkxBRyk7XG4gICAgICBiaXRtYXNrICY9IH4oaXNDdXJyeSA/IFdSQVBfUEFSVElBTF9SSUdIVF9GTEFHIDogV1JBUF9QQVJUSUFMX0ZMQUcpO1xuXG4gICAgICBpZiAoIShiaXRtYXNrICYgV1JBUF9DVVJSWV9CT1VORF9GTEFHKSkge1xuICAgICAgICBiaXRtYXNrICY9IH4oV1JBUF9CSU5EX0ZMQUcgfCBXUkFQX0JJTkRfS0VZX0ZMQUcpO1xuICAgICAgfVxuICAgICAgdmFyIG5ld0RhdGEgPSBbXG4gICAgICAgIGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIG5ld1BhcnRpYWxzLCBuZXdIb2xkZXJzLCBuZXdQYXJ0aWFsc1JpZ2h0LFxuICAgICAgICBuZXdIb2xkZXJzUmlnaHQsIGFyZ1BvcywgYXJ5LCBhcml0eVxuICAgICAgXTtcblxuICAgICAgdmFyIHJlc3VsdCA9IHdyYXBGdW5jLmFwcGx5KHVuZGVmaW5lZCwgbmV3RGF0YSk7XG4gICAgICBpZiAoaXNMYXppYWJsZShmdW5jKSkge1xuICAgICAgICBzZXREYXRhKHJlc3VsdCwgbmV3RGF0YSk7XG4gICAgICB9XG4gICAgICByZXN1bHQucGxhY2Vob2xkZXIgPSBwbGFjZWhvbGRlcjtcbiAgICAgIHJldHVybiBzZXRXcmFwVG9TdHJpbmcocmVzdWx0LCBmdW5jLCBiaXRtYXNrKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5yb3VuZGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2ROYW1lIFRoZSBuYW1lIG9mIHRoZSBgTWF0aGAgbWV0aG9kIHRvIHVzZSB3aGVuIHJvdW5kaW5nLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHJvdW5kIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVJvdW5kKG1ldGhvZE5hbWUpIHtcbiAgICAgIHZhciBmdW5jID0gTWF0aFttZXRob2ROYW1lXTtcbiAgICAgIHJldHVybiBmdW5jdGlvbihudW1iZXIsIHByZWNpc2lvbikge1xuICAgICAgICBudW1iZXIgPSB0b051bWJlcihudW1iZXIpO1xuICAgICAgICBwcmVjaXNpb24gPSBwcmVjaXNpb24gPT0gbnVsbCA/IDAgOiBuYXRpdmVNaW4odG9JbnRlZ2VyKHByZWNpc2lvbiksIDI5Mik7XG4gICAgICAgIGlmIChwcmVjaXNpb24gJiYgbmF0aXZlSXNGaW5pdGUobnVtYmVyKSkge1xuICAgICAgICAgIC8vIFNoaWZ0IHdpdGggZXhwb25lbnRpYWwgbm90YXRpb24gdG8gYXZvaWQgZmxvYXRpbmctcG9pbnQgaXNzdWVzLlxuICAgICAgICAgIC8vIFNlZSBbTUROXShodHRwczovL21kbi5pby9yb3VuZCNFeGFtcGxlcykgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgICAgICB2YXIgcGFpciA9ICh0b1N0cmluZyhudW1iZXIpICsgJ2UnKS5zcGxpdCgnZScpLFxuICAgICAgICAgICAgICB2YWx1ZSA9IGZ1bmMocGFpclswXSArICdlJyArICgrcGFpclsxXSArIHByZWNpc2lvbikpO1xuXG4gICAgICAgICAgcGFpciA9ICh0b1N0cmluZyh2YWx1ZSkgKyAnZScpLnNwbGl0KCdlJyk7XG4gICAgICAgICAgcmV0dXJuICsocGFpclswXSArICdlJyArICgrcGFpclsxXSAtIHByZWNpc2lvbikpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmdW5jKG51bWJlcik7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzZXQgb2JqZWN0IG9mIGB2YWx1ZXNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byBhZGQgdG8gdGhlIHNldC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgc2V0LlxuICAgICAqL1xuICAgIHZhciBjcmVhdGVTZXQgPSAhKFNldCAmJiAoMSAvIHNldFRvQXJyYXkobmV3IFNldChbLC0wXSkpWzFdKSA9PSBJTkZJTklUWSkgPyBub29wIDogZnVuY3Rpb24odmFsdWVzKSB7XG4gICAgICByZXR1cm4gbmV3IFNldCh2YWx1ZXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYF8udG9QYWlyc2Agb3IgYF8udG9QYWlyc0luYCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0ga2V5c0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUga2V5cyBvZiBhIGdpdmVuIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBwYWlycyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVUb1BhaXJzKGtleXNGdW5jKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIHZhciB0YWcgPSBnZXRUYWcob2JqZWN0KTtcbiAgICAgICAgaWYgKHRhZyA9PSBtYXBUYWcpIHtcbiAgICAgICAgICByZXR1cm4gbWFwVG9BcnJheShvYmplY3QpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0YWcgPT0gc2V0VGFnKSB7XG4gICAgICAgICAgcmV0dXJuIHNldFRvUGFpcnMob2JqZWN0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYmFzZVRvUGFpcnMob2JqZWN0LCBrZXlzRnVuYyhvYmplY3QpKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgZWl0aGVyIGN1cnJpZXMgb3IgaW52b2tlcyBgZnVuY2Agd2l0aCBvcHRpb25hbFxuICAgICAqIGB0aGlzYCBiaW5kaW5nIGFuZCBwYXJ0aWFsbHkgYXBwbGllZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258c3RyaW5nfSBmdW5jIFRoZSBmdW5jdGlvbiBvciBtZXRob2QgbmFtZSB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLlxuICAgICAqICAgIDEgLSBgXy5iaW5kYFxuICAgICAqICAgIDIgLSBgXy5iaW5kS2V5YFxuICAgICAqICAgIDQgLSBgXy5jdXJyeWAgb3IgYF8uY3VycnlSaWdodGAgb2YgYSBib3VuZCBmdW5jdGlvblxuICAgICAqICAgIDggLSBgXy5jdXJyeWBcbiAgICAgKiAgIDE2IC0gYF8uY3VycnlSaWdodGBcbiAgICAgKiAgIDMyIC0gYF8ucGFydGlhbGBcbiAgICAgKiAgIDY0IC0gYF8ucGFydGlhbFJpZ2h0YFxuICAgICAqICAxMjggLSBgXy5yZWFyZ2BcbiAgICAgKiAgMjU2IC0gYF8uYXJ5YFxuICAgICAqICA1MTIgLSBgXy5mbGlwYFxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3BhcnRpYWxzXSBUaGUgYXJndW1lbnRzIHRvIGJlIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtob2xkZXJzXSBUaGUgYHBhcnRpYWxzYCBwbGFjZWhvbGRlciBpbmRleGVzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFthcmdQb3NdIFRoZSBhcmd1bWVudCBwb3NpdGlvbnMgb2YgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyeV0gVGhlIGFyaXR5IGNhcCBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcml0eV0gVGhlIGFyaXR5IG9mIGBmdW5jYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB3cmFwcGVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVdyYXAoZnVuYywgYml0bWFzaywgdGhpc0FyZywgcGFydGlhbHMsIGhvbGRlcnMsIGFyZ1BvcywgYXJ5LCBhcml0eSkge1xuICAgICAgdmFyIGlzQmluZEtleSA9IGJpdG1hc2sgJiBXUkFQX0JJTkRfS0VZX0ZMQUc7XG4gICAgICBpZiAoIWlzQmluZEtleSAmJiB0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHZhciBsZW5ndGggPSBwYXJ0aWFscyA/IHBhcnRpYWxzLmxlbmd0aCA6IDA7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICBiaXRtYXNrICY9IH4oV1JBUF9QQVJUSUFMX0ZMQUcgfCBXUkFQX1BBUlRJQUxfUklHSFRfRkxBRyk7XG4gICAgICAgIHBhcnRpYWxzID0gaG9sZGVycyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIGFyeSA9IGFyeSA9PT0gdW5kZWZpbmVkID8gYXJ5IDogbmF0aXZlTWF4KHRvSW50ZWdlcihhcnkpLCAwKTtcbiAgICAgIGFyaXR5ID0gYXJpdHkgPT09IHVuZGVmaW5lZCA/IGFyaXR5IDogdG9JbnRlZ2VyKGFyaXR5KTtcbiAgICAgIGxlbmd0aCAtPSBob2xkZXJzID8gaG9sZGVycy5sZW5ndGggOiAwO1xuXG4gICAgICBpZiAoYml0bWFzayAmIFdSQVBfUEFSVElBTF9SSUdIVF9GTEFHKSB7XG4gICAgICAgIHZhciBwYXJ0aWFsc1JpZ2h0ID0gcGFydGlhbHMsXG4gICAgICAgICAgICBob2xkZXJzUmlnaHQgPSBob2xkZXJzO1xuXG4gICAgICAgIHBhcnRpYWxzID0gaG9sZGVycyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHZhciBkYXRhID0gaXNCaW5kS2V5ID8gdW5kZWZpbmVkIDogZ2V0RGF0YShmdW5jKTtcblxuICAgICAgdmFyIG5ld0RhdGEgPSBbXG4gICAgICAgIGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIHBhcnRpYWxzLCBob2xkZXJzLCBwYXJ0aWFsc1JpZ2h0LCBob2xkZXJzUmlnaHQsXG4gICAgICAgIGFyZ1BvcywgYXJ5LCBhcml0eVxuICAgICAgXTtcblxuICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgbWVyZ2VEYXRhKG5ld0RhdGEsIGRhdGEpO1xuICAgICAgfVxuICAgICAgZnVuYyA9IG5ld0RhdGFbMF07XG4gICAgICBiaXRtYXNrID0gbmV3RGF0YVsxXTtcbiAgICAgIHRoaXNBcmcgPSBuZXdEYXRhWzJdO1xuICAgICAgcGFydGlhbHMgPSBuZXdEYXRhWzNdO1xuICAgICAgaG9sZGVycyA9IG5ld0RhdGFbNF07XG4gICAgICBhcml0eSA9IG5ld0RhdGFbOV0gPSBuZXdEYXRhWzldID09PSB1bmRlZmluZWRcbiAgICAgICAgPyAoaXNCaW5kS2V5ID8gMCA6IGZ1bmMubGVuZ3RoKVxuICAgICAgICA6IG5hdGl2ZU1heChuZXdEYXRhWzldIC0gbGVuZ3RoLCAwKTtcblxuICAgICAgaWYgKCFhcml0eSAmJiBiaXRtYXNrICYgKFdSQVBfQ1VSUllfRkxBRyB8IFdSQVBfQ1VSUllfUklHSFRfRkxBRykpIHtcbiAgICAgICAgYml0bWFzayAmPSB+KFdSQVBfQ1VSUllfRkxBRyB8IFdSQVBfQ1VSUllfUklHSFRfRkxBRyk7XG4gICAgICB9XG4gICAgICBpZiAoIWJpdG1hc2sgfHwgYml0bWFzayA9PSBXUkFQX0JJTkRfRkxBRykge1xuICAgICAgICB2YXIgcmVzdWx0ID0gY3JlYXRlQmluZChmdW5jLCBiaXRtYXNrLCB0aGlzQXJnKTtcbiAgICAgIH0gZWxzZSBpZiAoYml0bWFzayA9PSBXUkFQX0NVUlJZX0ZMQUcgfHwgYml0bWFzayA9PSBXUkFQX0NVUlJZX1JJR0hUX0ZMQUcpIHtcbiAgICAgICAgcmVzdWx0ID0gY3JlYXRlQ3VycnkoZnVuYywgYml0bWFzaywgYXJpdHkpO1xuICAgICAgfSBlbHNlIGlmICgoYml0bWFzayA9PSBXUkFQX1BBUlRJQUxfRkxBRyB8fCBiaXRtYXNrID09IChXUkFQX0JJTkRfRkxBRyB8IFdSQVBfUEFSVElBTF9GTEFHKSkgJiYgIWhvbGRlcnMubGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdCA9IGNyZWF0ZVBhcnRpYWwoZnVuYywgYml0bWFzaywgdGhpc0FyZywgcGFydGlhbHMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gY3JlYXRlSHlicmlkLmFwcGx5KHVuZGVmaW5lZCwgbmV3RGF0YSk7XG4gICAgICB9XG4gICAgICB2YXIgc2V0dGVyID0gZGF0YSA/IGJhc2VTZXREYXRhIDogc2V0RGF0YTtcbiAgICAgIHJldHVybiBzZXRXcmFwVG9TdHJpbmcoc2V0dGVyKHJlc3VsdCwgbmV3RGF0YSksIGZ1bmMsIGJpdG1hc2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZWQgYnkgYF8uZGVmYXVsdHNgIHRvIGN1c3RvbWl6ZSBpdHMgYF8uYXNzaWduSW5gIHVzZSB0byBhc3NpZ24gcHJvcGVydGllc1xuICAgICAqIG9mIHNvdXJjZSBvYmplY3RzIHRvIHRoZSBkZXN0aW5hdGlvbiBvYmplY3QgZm9yIGFsbCBkZXN0aW5hdGlvbiBwcm9wZXJ0aWVzXG4gICAgICogdGhhdCByZXNvbHZlIHRvIGB1bmRlZmluZWRgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IG9ialZhbHVlIFRoZSBkZXN0aW5hdGlvbiB2YWx1ZS5cbiAgICAgKiBAcGFyYW0geyp9IHNyY1ZhbHVlIFRoZSBzb3VyY2UgdmFsdWUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBhc3NpZ24uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgcGFyZW50IG9iamVjdCBvZiBgb2JqVmFsdWVgLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3VzdG9tRGVmYXVsdHNBc3NpZ25JbihvYmpWYWx1ZSwgc3JjVmFsdWUsIGtleSwgb2JqZWN0KSB7XG4gICAgICBpZiAob2JqVmFsdWUgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgIChlcShvYmpWYWx1ZSwgb2JqZWN0UHJvdG9ba2V5XSkgJiYgIWhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpKSkge1xuICAgICAgICByZXR1cm4gc3JjVmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqVmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXNlZCBieSBgXy5kZWZhdWx0c0RlZXBgIHRvIGN1c3RvbWl6ZSBpdHMgYF8ubWVyZ2VgIHVzZSB0byBtZXJnZSBzb3VyY2VcbiAgICAgKiBvYmplY3RzIGludG8gZGVzdGluYXRpb24gb2JqZWN0cyB0aGF0IGFyZSBwYXNzZWQgdGhydS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSBvYmpWYWx1ZSBUaGUgZGVzdGluYXRpb24gdmFsdWUuXG4gICAgICogQHBhcmFtIHsqfSBzcmNWYWx1ZSBUaGUgc291cmNlIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gbWVyZ2UuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgcGFyZW50IG9iamVjdCBvZiBgb2JqVmFsdWVgLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIHBhcmVudCBvYmplY3Qgb2YgYHNyY1ZhbHVlYC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIHNvdXJjZSB2YWx1ZXMgYW5kIHRoZWlyIG1lcmdlZFxuICAgICAqICBjb3VudGVycGFydHMuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHZhbHVlIHRvIGFzc2lnbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjdXN0b21EZWZhdWx0c01lcmdlKG9ialZhbHVlLCBzcmNWYWx1ZSwga2V5LCBvYmplY3QsIHNvdXJjZSwgc3RhY2spIHtcbiAgICAgIGlmIChpc09iamVjdChvYmpWYWx1ZSkgJiYgaXNPYmplY3Qoc3JjVmFsdWUpKSB7XG4gICAgICAgIC8vIFJlY3Vyc2l2ZWx5IG1lcmdlIG9iamVjdHMgYW5kIGFycmF5cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgICBzdGFjay5zZXQoc3JjVmFsdWUsIG9ialZhbHVlKTtcbiAgICAgICAgYmFzZU1lcmdlKG9ialZhbHVlLCBzcmNWYWx1ZSwgdW5kZWZpbmVkLCBjdXN0b21EZWZhdWx0c01lcmdlLCBzdGFjayk7XG4gICAgICAgIHN0YWNrWydkZWxldGUnXShzcmNWYWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqVmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXNlZCBieSBgXy5vbWl0YCB0byBjdXN0b21pemUgaXRzIGBfLmNsb25lRGVlcGAgdXNlIHRvIG9ubHkgY2xvbmUgcGxhaW5cbiAgICAgKiBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgdW5jbG9uZWQgdmFsdWUgb3IgYHVuZGVmaW5lZGAgdG8gZGVmZXIgY2xvbmluZyB0byBgXy5jbG9uZURlZXBgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGN1c3RvbU9taXRDbG9uZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzUGxhaW5PYmplY3QodmFsdWUpID8gdW5kZWZpbmVkIDogdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbERlZXBgIGZvciBhcnJheXMgd2l0aCBzdXBwb3J0IGZvclxuICAgICAqIHBhcnRpYWwgZGVlcCBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtBcnJheX0gb3RoZXIgVGhlIG90aGVyIGFycmF5IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3RhY2sgVHJhY2tzIHRyYXZlcnNlZCBgYXJyYXlgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBhcnJheXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlcXVhbEFycmF5cyhhcnJheSwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgICAgIHZhciBpc1BhcnRpYWwgPSBiaXRtYXNrICYgQ09NUEFSRV9QQVJUSUFMX0ZMQUcsXG4gICAgICAgICAgYXJyTGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIG90aExlbmd0aCA9IG90aGVyLmxlbmd0aDtcblxuICAgICAgaWYgKGFyckxlbmd0aCAhPSBvdGhMZW5ndGggJiYgIShpc1BhcnRpYWwgJiYgb3RoTGVuZ3RoID4gYXJyTGVuZ3RoKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICAvLyBBc3N1bWUgY3ljbGljIHZhbHVlcyBhcmUgZXF1YWwuXG4gICAgICB2YXIgc3RhY2tlZCA9IHN0YWNrLmdldChhcnJheSk7XG4gICAgICBpZiAoc3RhY2tlZCAmJiBzdGFjay5nZXQob3RoZXIpKSB7XG4gICAgICAgIHJldHVybiBzdGFja2VkID09IG90aGVyO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgcmVzdWx0ID0gdHJ1ZSxcbiAgICAgICAgICBzZWVuID0gKGJpdG1hc2sgJiBDT01QQVJFX1VOT1JERVJFRF9GTEFHKSA/IG5ldyBTZXRDYWNoZSA6IHVuZGVmaW5lZDtcblxuICAgICAgc3RhY2suc2V0KGFycmF5LCBvdGhlcik7XG4gICAgICBzdGFjay5zZXQob3RoZXIsIGFycmF5KTtcblxuICAgICAgLy8gSWdub3JlIG5vbi1pbmRleCBwcm9wZXJ0aWVzLlxuICAgICAgd2hpbGUgKCsraW5kZXggPCBhcnJMZW5ndGgpIHtcbiAgICAgICAgdmFyIGFyclZhbHVlID0gYXJyYXlbaW5kZXhdLFxuICAgICAgICAgICAgb3RoVmFsdWUgPSBvdGhlcltpbmRleF07XG5cbiAgICAgICAgaWYgKGN1c3RvbWl6ZXIpIHtcbiAgICAgICAgICB2YXIgY29tcGFyZWQgPSBpc1BhcnRpYWxcbiAgICAgICAgICAgID8gY3VzdG9taXplcihvdGhWYWx1ZSwgYXJyVmFsdWUsIGluZGV4LCBvdGhlciwgYXJyYXksIHN0YWNrKVxuICAgICAgICAgICAgOiBjdXN0b21pemVyKGFyclZhbHVlLCBvdGhWYWx1ZSwgaW5kZXgsIGFycmF5LCBvdGhlciwgc3RhY2spO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb21wYXJlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaWYgKGNvbXBhcmVkKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVjdXJzaXZlbHkgY29tcGFyZSBhcnJheXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgaWYgKHNlZW4pIHtcbiAgICAgICAgICBpZiAoIWFycmF5U29tZShvdGhlciwgZnVuY3Rpb24ob3RoVmFsdWUsIG90aEluZGV4KSB7XG4gICAgICAgICAgICAgICAgaWYgKCFjYWNoZUhhcyhzZWVuLCBvdGhJbmRleCkgJiZcbiAgICAgICAgICAgICAgICAgICAgKGFyclZhbHVlID09PSBvdGhWYWx1ZSB8fCBlcXVhbEZ1bmMoYXJyVmFsdWUsIG90aFZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjaykpKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gc2Vlbi5wdXNoKG90aEluZGV4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICghKFxuICAgICAgICAgICAgICBhcnJWYWx1ZSA9PT0gb3RoVmFsdWUgfHxcbiAgICAgICAgICAgICAgICBlcXVhbEZ1bmMoYXJyVmFsdWUsIG90aFZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjaylcbiAgICAgICAgICAgICkpIHtcbiAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgc3RhY2tbJ2RlbGV0ZSddKGFycmF5KTtcbiAgICAgIHN0YWNrWydkZWxldGUnXShvdGhlcik7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxEZWVwYCBmb3IgY29tcGFyaW5nIG9iamVjdHMgb2ZcbiAgICAgKiB0aGUgc2FtZSBgdG9TdHJpbmdUYWdgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgZnVuY3Rpb24gb25seSBzdXBwb3J0cyBjb21wYXJpbmcgdmFsdWVzIHdpdGggdGFncyBvZlxuICAgICAqIGBCb29sZWFuYCwgYERhdGVgLCBgRXJyb3JgLCBgTnVtYmVyYCwgYFJlZ0V4cGAsIG9yIGBTdHJpbmdgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3RoZXIgVGhlIG90aGVyIG9iamVjdCB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0YWcgVGhlIGB0b1N0cmluZ1RhZ2Agb2YgdGhlIG9iamVjdHMgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzdGFjayBUcmFja3MgdHJhdmVyc2VkIGBvYmplY3RgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBvYmplY3RzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXF1YWxCeVRhZyhvYmplY3QsIG90aGVyLCB0YWcsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgICAgIHN3aXRjaCAodGFnKSB7XG4gICAgICAgIGNhc2UgZGF0YVZpZXdUYWc6XG4gICAgICAgICAgaWYgKChvYmplY3QuYnl0ZUxlbmd0aCAhPSBvdGhlci5ieXRlTGVuZ3RoKSB8fFxuICAgICAgICAgICAgICAob2JqZWN0LmJ5dGVPZmZzZXQgIT0gb3RoZXIuYnl0ZU9mZnNldCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgb2JqZWN0ID0gb2JqZWN0LmJ1ZmZlcjtcbiAgICAgICAgICBvdGhlciA9IG90aGVyLmJ1ZmZlcjtcblxuICAgICAgICBjYXNlIGFycmF5QnVmZmVyVGFnOlxuICAgICAgICAgIGlmICgob2JqZWN0LmJ5dGVMZW5ndGggIT0gb3RoZXIuYnl0ZUxlbmd0aCkgfHxcbiAgICAgICAgICAgICAgIWVxdWFsRnVuYyhuZXcgVWludDhBcnJheShvYmplY3QpLCBuZXcgVWludDhBcnJheShvdGhlcikpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgICAgIGNhc2UgYm9vbFRhZzpcbiAgICAgICAgY2FzZSBkYXRlVGFnOlxuICAgICAgICBjYXNlIG51bWJlclRhZzpcbiAgICAgICAgICAvLyBDb2VyY2UgYm9vbGVhbnMgdG8gYDFgIG9yIGAwYCBhbmQgZGF0ZXMgdG8gbWlsbGlzZWNvbmRzLlxuICAgICAgICAgIC8vIEludmFsaWQgZGF0ZXMgYXJlIGNvZXJjZWQgdG8gYE5hTmAuXG4gICAgICAgICAgcmV0dXJuIGVxKCtvYmplY3QsICtvdGhlcik7XG5cbiAgICAgICAgY2FzZSBlcnJvclRhZzpcbiAgICAgICAgICByZXR1cm4gb2JqZWN0Lm5hbWUgPT0gb3RoZXIubmFtZSAmJiBvYmplY3QubWVzc2FnZSA9PSBvdGhlci5tZXNzYWdlO1xuXG4gICAgICAgIGNhc2UgcmVnZXhwVGFnOlxuICAgICAgICBjYXNlIHN0cmluZ1RhZzpcbiAgICAgICAgICAvLyBDb2VyY2UgcmVnZXhlcyB0byBzdHJpbmdzIGFuZCB0cmVhdCBzdHJpbmdzLCBwcmltaXRpdmVzIGFuZCBvYmplY3RzLFxuICAgICAgICAgIC8vIGFzIGVxdWFsLiBTZWUgaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXJlZ2V4cC5wcm90b3R5cGUudG9zdHJpbmdcbiAgICAgICAgICAvLyBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgICAgIHJldHVybiBvYmplY3QgPT0gKG90aGVyICsgJycpO1xuXG4gICAgICAgIGNhc2UgbWFwVGFnOlxuICAgICAgICAgIHZhciBjb252ZXJ0ID0gbWFwVG9BcnJheTtcblxuICAgICAgICBjYXNlIHNldFRhZzpcbiAgICAgICAgICB2YXIgaXNQYXJ0aWFsID0gYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHO1xuICAgICAgICAgIGNvbnZlcnQgfHwgKGNvbnZlcnQgPSBzZXRUb0FycmF5KTtcblxuICAgICAgICAgIGlmIChvYmplY3Quc2l6ZSAhPSBvdGhlci5zaXplICYmICFpc1BhcnRpYWwpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gQXNzdW1lIGN5Y2xpYyB2YWx1ZXMgYXJlIGVxdWFsLlxuICAgICAgICAgIHZhciBzdGFja2VkID0gc3RhY2suZ2V0KG9iamVjdCk7XG4gICAgICAgICAgaWYgKHN0YWNrZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBzdGFja2VkID09IG90aGVyO1xuICAgICAgICAgIH1cbiAgICAgICAgICBiaXRtYXNrIHw9IENPTVBBUkVfVU5PUkRFUkVEX0ZMQUc7XG5cbiAgICAgICAgICAvLyBSZWN1cnNpdmVseSBjb21wYXJlIG9iamVjdHMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgICBzdGFjay5zZXQob2JqZWN0LCBvdGhlcik7XG4gICAgICAgICAgdmFyIHJlc3VsdCA9IGVxdWFsQXJyYXlzKGNvbnZlcnQob2JqZWN0KSwgY29udmVydChvdGhlciksIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spO1xuICAgICAgICAgIHN0YWNrWydkZWxldGUnXShvYmplY3QpO1xuICAgICAgICAgIHJldHVybiByZXN1bHQ7XG5cbiAgICAgICAgY2FzZSBzeW1ib2xUYWc6XG4gICAgICAgICAgaWYgKHN5bWJvbFZhbHVlT2YpIHtcbiAgICAgICAgICAgIHJldHVybiBzeW1ib2xWYWx1ZU9mLmNhbGwob2JqZWN0KSA9PSBzeW1ib2xWYWx1ZU9mLmNhbGwob3RoZXIpO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsRGVlcGAgZm9yIG9iamVjdHMgd2l0aCBzdXBwb3J0IGZvclxuICAgICAqIHBhcnRpYWwgZGVlcCBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzdGFjayBUcmFja3MgdHJhdmVyc2VkIGBvYmplY3RgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBvYmplY3RzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXF1YWxPYmplY3RzKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgICAgIHZhciBpc1BhcnRpYWwgPSBiaXRtYXNrICYgQ09NUEFSRV9QQVJUSUFMX0ZMQUcsXG4gICAgICAgICAgb2JqUHJvcHMgPSBnZXRBbGxLZXlzKG9iamVjdCksXG4gICAgICAgICAgb2JqTGVuZ3RoID0gb2JqUHJvcHMubGVuZ3RoLFxuICAgICAgICAgIG90aFByb3BzID0gZ2V0QWxsS2V5cyhvdGhlciksXG4gICAgICAgICAgb3RoTGVuZ3RoID0gb3RoUHJvcHMubGVuZ3RoO1xuXG4gICAgICBpZiAob2JqTGVuZ3RoICE9IG90aExlbmd0aCAmJiAhaXNQYXJ0aWFsKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IG9iakxlbmd0aDtcbiAgICAgIHdoaWxlIChpbmRleC0tKSB7XG4gICAgICAgIHZhciBrZXkgPSBvYmpQcm9wc1tpbmRleF07XG4gICAgICAgIGlmICghKGlzUGFydGlhbCA/IGtleSBpbiBvdGhlciA6IGhhc093blByb3BlcnR5LmNhbGwob3RoZXIsIGtleSkpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBBc3N1bWUgY3ljbGljIHZhbHVlcyBhcmUgZXF1YWwuXG4gICAgICB2YXIgc3RhY2tlZCA9IHN0YWNrLmdldChvYmplY3QpO1xuICAgICAgaWYgKHN0YWNrZWQgJiYgc3RhY2suZ2V0KG90aGVyKSkge1xuICAgICAgICByZXR1cm4gc3RhY2tlZCA9PSBvdGhlcjtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSB0cnVlO1xuICAgICAgc3RhY2suc2V0KG9iamVjdCwgb3RoZXIpO1xuICAgICAgc3RhY2suc2V0KG90aGVyLCBvYmplY3QpO1xuXG4gICAgICB2YXIgc2tpcEN0b3IgPSBpc1BhcnRpYWw7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IG9iakxlbmd0aCkge1xuICAgICAgICBrZXkgPSBvYmpQcm9wc1tpbmRleF07XG4gICAgICAgIHZhciBvYmpWYWx1ZSA9IG9iamVjdFtrZXldLFxuICAgICAgICAgICAgb3RoVmFsdWUgPSBvdGhlcltrZXldO1xuXG4gICAgICAgIGlmIChjdXN0b21pemVyKSB7XG4gICAgICAgICAgdmFyIGNvbXBhcmVkID0gaXNQYXJ0aWFsXG4gICAgICAgICAgICA/IGN1c3RvbWl6ZXIob3RoVmFsdWUsIG9ialZhbHVlLCBrZXksIG90aGVyLCBvYmplY3QsIHN0YWNrKVxuICAgICAgICAgICAgOiBjdXN0b21pemVyKG9ialZhbHVlLCBvdGhWYWx1ZSwga2V5LCBvYmplY3QsIG90aGVyLCBzdGFjayk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVjdXJzaXZlbHkgY29tcGFyZSBvYmplY3RzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgIGlmICghKGNvbXBhcmVkID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgPyAob2JqVmFsdWUgPT09IG90aFZhbHVlIHx8IGVxdWFsRnVuYyhvYmpWYWx1ZSwgb3RoVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKSlcbiAgICAgICAgICAgICAgOiBjb21wYXJlZFxuICAgICAgICAgICAgKSkge1xuICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHNraXBDdG9yIHx8IChza2lwQ3RvciA9IGtleSA9PSAnY29uc3RydWN0b3InKTtcbiAgICAgIH1cbiAgICAgIGlmIChyZXN1bHQgJiYgIXNraXBDdG9yKSB7XG4gICAgICAgIHZhciBvYmpDdG9yID0gb2JqZWN0LmNvbnN0cnVjdG9yLFxuICAgICAgICAgICAgb3RoQ3RvciA9IG90aGVyLmNvbnN0cnVjdG9yO1xuXG4gICAgICAgIC8vIE5vbiBgT2JqZWN0YCBvYmplY3QgaW5zdGFuY2VzIHdpdGggZGlmZmVyZW50IGNvbnN0cnVjdG9ycyBhcmUgbm90IGVxdWFsLlxuICAgICAgICBpZiAob2JqQ3RvciAhPSBvdGhDdG9yICYmXG4gICAgICAgICAgICAoJ2NvbnN0cnVjdG9yJyBpbiBvYmplY3QgJiYgJ2NvbnN0cnVjdG9yJyBpbiBvdGhlcikgJiZcbiAgICAgICAgICAgICEodHlwZW9mIG9iakN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBvYmpDdG9yIGluc3RhbmNlb2Ygb2JqQ3RvciAmJlxuICAgICAgICAgICAgICB0eXBlb2Ygb3RoQ3RvciA9PSAnZnVuY3Rpb24nICYmIG90aEN0b3IgaW5zdGFuY2VvZiBvdGhDdG9yKSkge1xuICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzdGFja1snZGVsZXRlJ10ob2JqZWN0KTtcbiAgICAgIHN0YWNrWydkZWxldGUnXShvdGhlcik7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZVJlc3RgIHdoaWNoIGZsYXR0ZW5zIHRoZSByZXN0IGFycmF5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhcHBseSBhIHJlc3QgcGFyYW1ldGVyIHRvLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsYXRSZXN0KGZ1bmMpIHtcbiAgICAgIHJldHVybiBzZXRUb1N0cmluZyhvdmVyUmVzdChmdW5jLCB1bmRlZmluZWQsIGZsYXR0ZW4pLCBmdW5jICsgJycpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2Ygb3duIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzIGFuZCBzeW1ib2xzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEFsbEtleXMob2JqZWN0KSB7XG4gICAgICByZXR1cm4gYmFzZUdldEFsbEtleXMob2JqZWN0LCBrZXlzLCBnZXRTeW1ib2xzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgYW5kXG4gICAgICogc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0QWxsS2V5c0luKG9iamVjdCkge1xuICAgICAgcmV0dXJuIGJhc2VHZXRBbGxLZXlzKG9iamVjdCwga2V5c0luLCBnZXRTeW1ib2xzSW4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgbWV0YWRhdGEgZm9yIGBmdW5jYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1ldGFkYXRhIGZvciBgZnVuY2AuXG4gICAgICovXG4gICAgdmFyIGdldERhdGEgPSAhbWV0YU1hcCA/IG5vb3AgOiBmdW5jdGlvbihmdW5jKSB7XG4gICAgICByZXR1cm4gbWV0YU1hcC5nZXQoZnVuYyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIG5hbWUgb2YgYGZ1bmNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBuYW1lLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEZ1bmNOYW1lKGZ1bmMpIHtcbiAgICAgIHZhciByZXN1bHQgPSAoZnVuYy5uYW1lICsgJycpLFxuICAgICAgICAgIGFycmF5ID0gcmVhbE5hbWVzW3Jlc3VsdF0sXG4gICAgICAgICAgbGVuZ3RoID0gaGFzT3duUHJvcGVydHkuY2FsbChyZWFsTmFtZXMsIHJlc3VsdCkgPyBhcnJheS5sZW5ndGggOiAwO1xuXG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgdmFyIGRhdGEgPSBhcnJheVtsZW5ndGhdLFxuICAgICAgICAgICAgb3RoZXJGdW5jID0gZGF0YS5mdW5jO1xuICAgICAgICBpZiAob3RoZXJGdW5jID09IG51bGwgfHwgb3RoZXJGdW5jID09IGZ1bmMpIHtcbiAgICAgICAgICByZXR1cm4gZGF0YS5uYW1lO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGFyZ3VtZW50IHBsYWNlaG9sZGVyIHZhbHVlIGZvciBgZnVuY2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHBsYWNlaG9sZGVyIHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEhvbGRlcihmdW5jKSB7XG4gICAgICB2YXIgb2JqZWN0ID0gaGFzT3duUHJvcGVydHkuY2FsbChsb2Rhc2gsICdwbGFjZWhvbGRlcicpID8gbG9kYXNoIDogZnVuYztcbiAgICAgIHJldHVybiBvYmplY3QucGxhY2Vob2xkZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgYXBwcm9wcmlhdGUgXCJpdGVyYXRlZVwiIGZ1bmN0aW9uLiBJZiBgXy5pdGVyYXRlZWAgaXMgY3VzdG9taXplZCxcbiAgICAgKiB0aGlzIGZ1bmN0aW9uIHJldHVybnMgdGhlIGN1c3RvbSBtZXRob2QsIG90aGVyd2lzZSBpdCByZXR1cm5zIGBiYXNlSXRlcmF0ZWVgLlxuICAgICAqIElmIGFyZ3VtZW50cyBhcmUgcHJvdmlkZWQsIHRoZSBjaG9zZW4gZnVuY3Rpb24gaXMgaW52b2tlZCB3aXRoIHRoZW0gYW5kXG4gICAgICogaXRzIHJlc3VsdCBpcyByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSBbdmFsdWVdIFRoZSB2YWx1ZSB0byBjb252ZXJ0IHRvIGFuIGl0ZXJhdGVlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJpdHldIFRoZSBhcml0eSBvZiB0aGUgY3JlYXRlZCBpdGVyYXRlZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIGNob3NlbiBmdW5jdGlvbiBvciBpdHMgcmVzdWx0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEl0ZXJhdGVlKCkge1xuICAgICAgdmFyIHJlc3VsdCA9IGxvZGFzaC5pdGVyYXRlZSB8fCBpdGVyYXRlZTtcbiAgICAgIHJlc3VsdCA9IHJlc3VsdCA9PT0gaXRlcmF0ZWUgPyBiYXNlSXRlcmF0ZWUgOiByZXN1bHQ7XG4gICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IHJlc3VsdChhcmd1bWVudHNbMF0sIGFyZ3VtZW50c1sxXSkgOiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgZGF0YSBmb3IgYG1hcGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBtYXAgVGhlIG1hcCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSByZWZlcmVuY2Uga2V5LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtYXAgZGF0YS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRNYXBEYXRhKG1hcCwga2V5KSB7XG4gICAgICB2YXIgZGF0YSA9IG1hcC5fX2RhdGFfXztcbiAgICAgIHJldHVybiBpc0tleWFibGUoa2V5KVxuICAgICAgICA/IGRhdGFbdHlwZW9mIGtleSA9PSAnc3RyaW5nJyA/ICdzdHJpbmcnIDogJ2hhc2gnXVxuICAgICAgICA6IGRhdGEubWFwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHByb3BlcnR5IG5hbWVzLCB2YWx1ZXMsIGFuZCBjb21wYXJlIGZsYWdzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBtYXRjaCBkYXRhIG9mIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldE1hdGNoRGF0YShvYmplY3QpIHtcbiAgICAgIHZhciByZXN1bHQgPSBrZXlzKG9iamVjdCksXG4gICAgICAgICAgbGVuZ3RoID0gcmVzdWx0Lmxlbmd0aDtcblxuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIHZhciBrZXkgPSByZXN1bHRbbGVuZ3RoXSxcbiAgICAgICAgICAgIHZhbHVlID0gb2JqZWN0W2tleV07XG5cbiAgICAgICAgcmVzdWx0W2xlbmd0aF0gPSBba2V5LCB2YWx1ZSwgaXNTdHJpY3RDb21wYXJhYmxlKHZhbHVlKV07XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIG5hdGl2ZSBmdW5jdGlvbiBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgbWV0aG9kIHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZnVuY3Rpb24gaWYgaXQncyBuYXRpdmUsIGVsc2UgYHVuZGVmaW5lZGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0TmF0aXZlKG9iamVjdCwga2V5KSB7XG4gICAgICB2YXIgdmFsdWUgPSBnZXRWYWx1ZShvYmplY3QsIGtleSk7XG4gICAgICByZXR1cm4gYmFzZUlzTmF0aXZlKHZhbHVlKSA/IHZhbHVlIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUdldFRhZ2Agd2hpY2ggaWdub3JlcyBgU3ltYm9sLnRvU3RyaW5nVGFnYCB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHJhdyBgdG9TdHJpbmdUYWdgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldFJhd1RhZyh2YWx1ZSkge1xuICAgICAgdmFyIGlzT3duID0gaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgc3ltVG9TdHJpbmdUYWcpLFxuICAgICAgICAgIHRhZyA9IHZhbHVlW3N5bVRvU3RyaW5nVGFnXTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdW5kZWZpbmVkO1xuICAgICAgICB2YXIgdW5tYXNrZWQgPSB0cnVlO1xuICAgICAgfSBjYXRjaCAoZSkge31cblxuICAgICAgdmFyIHJlc3VsdCA9IG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICAgICAgaWYgKHVubWFza2VkKSB7XG4gICAgICAgIGlmIChpc093bikge1xuICAgICAgICAgIHZhbHVlW3N5bVRvU3RyaW5nVGFnXSA9IHRhZztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZWxldGUgdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBlbnVtZXJhYmxlIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHN5bWJvbHMuXG4gICAgICovXG4gICAgdmFyIGdldFN5bWJvbHMgPSAhbmF0aXZlR2V0U3ltYm9scyA/IHN0dWJBcnJheSA6IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuICAgICAgcmV0dXJuIGFycmF5RmlsdGVyKG5hdGl2ZUdldFN5bWJvbHMob2JqZWN0KSwgZnVuY3Rpb24oc3ltYm9sKSB7XG4gICAgICAgIHJldHVybiBwcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKG9iamVjdCwgc3ltYm9sKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHN5bWJvbHMuXG4gICAgICovXG4gICAgdmFyIGdldFN5bWJvbHNJbiA9ICFuYXRpdmVHZXRTeW1ib2xzID8gc3R1YkFycmF5IDogZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICB3aGlsZSAob2JqZWN0KSB7XG4gICAgICAgIGFycmF5UHVzaChyZXN1bHQsIGdldFN5bWJvbHMob2JqZWN0KSk7XG4gICAgICAgIG9iamVjdCA9IGdldFByb3RvdHlwZShvYmplY3QpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgYHRvU3RyaW5nVGFnYCBvZiBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBgdG9TdHJpbmdUYWdgLlxuICAgICAqL1xuICAgIHZhciBnZXRUYWcgPSBiYXNlR2V0VGFnO1xuXG4gICAgLy8gRmFsbGJhY2sgZm9yIGRhdGEgdmlld3MsIG1hcHMsIHNldHMsIGFuZCB3ZWFrIG1hcHMgaW4gSUUgMTEgYW5kIHByb21pc2VzIGluIE5vZGUuanMgPCA2LlxuICAgIGlmICgoRGF0YVZpZXcgJiYgZ2V0VGFnKG5ldyBEYXRhVmlldyhuZXcgQXJyYXlCdWZmZXIoMSkpKSAhPSBkYXRhVmlld1RhZykgfHxcbiAgICAgICAgKE1hcCAmJiBnZXRUYWcobmV3IE1hcCkgIT0gbWFwVGFnKSB8fFxuICAgICAgICAoUHJvbWlzZSAmJiBnZXRUYWcoUHJvbWlzZS5yZXNvbHZlKCkpICE9IHByb21pc2VUYWcpIHx8XG4gICAgICAgIChTZXQgJiYgZ2V0VGFnKG5ldyBTZXQpICE9IHNldFRhZykgfHxcbiAgICAgICAgKFdlYWtNYXAgJiYgZ2V0VGFnKG5ldyBXZWFrTWFwKSAhPSB3ZWFrTWFwVGFnKSkge1xuICAgICAgZ2V0VGFnID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGJhc2VHZXRUYWcodmFsdWUpLFxuICAgICAgICAgICAgQ3RvciA9IHJlc3VsdCA9PSBvYmplY3RUYWcgPyB2YWx1ZS5jb25zdHJ1Y3RvciA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGN0b3JTdHJpbmcgPSBDdG9yID8gdG9Tb3VyY2UoQ3RvcikgOiAnJztcblxuICAgICAgICBpZiAoY3RvclN0cmluZykge1xuICAgICAgICAgIHN3aXRjaCAoY3RvclN0cmluZykge1xuICAgICAgICAgICAgY2FzZSBkYXRhVmlld0N0b3JTdHJpbmc6IHJldHVybiBkYXRhVmlld1RhZztcbiAgICAgICAgICAgIGNhc2UgbWFwQ3RvclN0cmluZzogcmV0dXJuIG1hcFRhZztcbiAgICAgICAgICAgIGNhc2UgcHJvbWlzZUN0b3JTdHJpbmc6IHJldHVybiBwcm9taXNlVGFnO1xuICAgICAgICAgICAgY2FzZSBzZXRDdG9yU3RyaW5nOiByZXR1cm4gc2V0VGFnO1xuICAgICAgICAgICAgY2FzZSB3ZWFrTWFwQ3RvclN0cmluZzogcmV0dXJuIHdlYWtNYXBUYWc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHZpZXcsIGFwcGx5aW5nIGFueSBgdHJhbnNmb3Jtc2AgdG8gdGhlIGBzdGFydGAgYW5kIGBlbmRgIHBvc2l0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0IFRoZSBzdGFydCBvZiB0aGUgdmlldy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIFRoZSBlbmQgb2YgdGhlIHZpZXcuXG4gICAgICogQHBhcmFtIHtBcnJheX0gdHJhbnNmb3JtcyBUaGUgdHJhbnNmb3JtYXRpb25zIHRvIGFwcGx5IHRvIHRoZSB2aWV3LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGBzdGFydGAgYW5kIGBlbmRgXG4gICAgICogIHBvc2l0aW9ucyBvZiB0aGUgdmlldy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRWaWV3KHN0YXJ0LCBlbmQsIHRyYW5zZm9ybXMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHRyYW5zZm9ybXMubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgZGF0YSA9IHRyYW5zZm9ybXNbaW5kZXhdLFxuICAgICAgICAgICAgc2l6ZSA9IGRhdGEuc2l6ZTtcblxuICAgICAgICBzd2l0Y2ggKGRhdGEudHlwZSkge1xuICAgICAgICAgIGNhc2UgJ2Ryb3AnOiAgICAgIHN0YXJ0ICs9IHNpemU7IGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ2Ryb3BSaWdodCc6IGVuZCAtPSBzaXplOyBicmVhaztcbiAgICAgICAgICBjYXNlICd0YWtlJzogICAgICBlbmQgPSBuYXRpdmVNaW4oZW5kLCBzdGFydCArIHNpemUpOyBicmVhaztcbiAgICAgICAgICBjYXNlICd0YWtlUmlnaHQnOiBzdGFydCA9IG5hdGl2ZU1heChzdGFydCwgZW5kIC0gc2l6ZSk7IGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4geyAnc3RhcnQnOiBzdGFydCwgJ2VuZCc6IGVuZCB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4dHJhY3RzIHdyYXBwZXIgZGV0YWlscyBmcm9tIHRoZSBgc291cmNlYCBib2R5IGNvbW1lbnQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzb3VyY2UgVGhlIHNvdXJjZSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgd3JhcHBlciBkZXRhaWxzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldFdyYXBEZXRhaWxzKHNvdXJjZSkge1xuICAgICAgdmFyIG1hdGNoID0gc291cmNlLm1hdGNoKHJlV3JhcERldGFpbHMpO1xuICAgICAgcmV0dXJuIG1hdGNoID8gbWF0Y2hbMV0uc3BsaXQocmVTcGxpdERldGFpbHMpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBwYXRoYCBleGlzdHMgb24gYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCB0byBjaGVjay5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYXNGdW5jIFRoZSBmdW5jdGlvbiB0byBjaGVjayBwcm9wZXJ0aWVzLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgcGF0aGAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzUGF0aChvYmplY3QsIHBhdGgsIGhhc0Z1bmMpIHtcbiAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuXG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBwYXRoLmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGtleSA9IHRvS2V5KHBhdGhbaW5kZXhdKTtcbiAgICAgICAgaWYgKCEocmVzdWx0ID0gb2JqZWN0ICE9IG51bGwgJiYgaGFzRnVuYyhvYmplY3QsIGtleSkpKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgb2JqZWN0ID0gb2JqZWN0W2tleV07XG4gICAgICB9XG4gICAgICBpZiAocmVzdWx0IHx8ICsraW5kZXggIT0gbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICBsZW5ndGggPSBvYmplY3QgPT0gbnVsbCA/IDAgOiBvYmplY3QubGVuZ3RoO1xuICAgICAgcmV0dXJuICEhbGVuZ3RoICYmIGlzTGVuZ3RoKGxlbmd0aCkgJiYgaXNJbmRleChrZXksIGxlbmd0aCkgJiZcbiAgICAgICAgKGlzQXJyYXkob2JqZWN0KSB8fCBpc0FyZ3VtZW50cyhvYmplY3QpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyBhbiBhcnJheSBjbG9uZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgaW5pdGlhbGl6ZWQgY2xvbmUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5pdENsb25lQXJyYXkoYXJyYXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0gbmV3IGFycmF5LmNvbnN0cnVjdG9yKGxlbmd0aCk7XG5cbiAgICAgIC8vIEFkZCBwcm9wZXJ0aWVzIGFzc2lnbmVkIGJ5IGBSZWdFeHAjZXhlY2AuXG4gICAgICBpZiAobGVuZ3RoICYmIHR5cGVvZiBhcnJheVswXSA9PSAnc3RyaW5nJyAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGFycmF5LCAnaW5kZXgnKSkge1xuICAgICAgICByZXN1bHQuaW5kZXggPSBhcnJheS5pbmRleDtcbiAgICAgICAgcmVzdWx0LmlucHV0ID0gYXJyYXkuaW5wdXQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIGFuIG9iamVjdCBjbG9uZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGluaXRpYWxpemVkIGNsb25lLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluaXRDbG9uZU9iamVjdChvYmplY3QpIHtcbiAgICAgIHJldHVybiAodHlwZW9mIG9iamVjdC5jb25zdHJ1Y3RvciA9PSAnZnVuY3Rpb24nICYmICFpc1Byb3RvdHlwZShvYmplY3QpKVxuICAgICAgICA/IGJhc2VDcmVhdGUoZ2V0UHJvdG90eXBlKG9iamVjdCkpXG4gICAgICAgIDoge307XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgYW4gb2JqZWN0IGNsb25lIGJhc2VkIG9uIGl0cyBgdG9TdHJpbmdUYWdgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgZnVuY3Rpb24gb25seSBzdXBwb3J0cyBjbG9uaW5nIHZhbHVlcyB3aXRoIHRhZ3Mgb2ZcbiAgICAgKiBgQm9vbGVhbmAsIGBEYXRlYCwgYEVycm9yYCwgYE1hcGAsIGBOdW1iZXJgLCBgUmVnRXhwYCwgYFNldGAsIG9yIGBTdHJpbmdgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRhZyBUaGUgYHRvU3RyaW5nVGFnYCBvZiB0aGUgb2JqZWN0IHRvIGNsb25lLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRGVlcF0gU3BlY2lmeSBhIGRlZXAgY2xvbmUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgaW5pdGlhbGl6ZWQgY2xvbmUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5pdENsb25lQnlUYWcob2JqZWN0LCB0YWcsIGlzRGVlcCkge1xuICAgICAgdmFyIEN0b3IgPSBvYmplY3QuY29uc3RydWN0b3I7XG4gICAgICBzd2l0Y2ggKHRhZykge1xuICAgICAgICBjYXNlIGFycmF5QnVmZmVyVGFnOlxuICAgICAgICAgIHJldHVybiBjbG9uZUFycmF5QnVmZmVyKG9iamVjdCk7XG5cbiAgICAgICAgY2FzZSBib29sVGFnOlxuICAgICAgICBjYXNlIGRhdGVUYWc6XG4gICAgICAgICAgcmV0dXJuIG5ldyBDdG9yKCtvYmplY3QpO1xuXG4gICAgICAgIGNhc2UgZGF0YVZpZXdUYWc6XG4gICAgICAgICAgcmV0dXJuIGNsb25lRGF0YVZpZXcob2JqZWN0LCBpc0RlZXApO1xuXG4gICAgICAgIGNhc2UgZmxvYXQzMlRhZzogY2FzZSBmbG9hdDY0VGFnOlxuICAgICAgICBjYXNlIGludDhUYWc6IGNhc2UgaW50MTZUYWc6IGNhc2UgaW50MzJUYWc6XG4gICAgICAgIGNhc2UgdWludDhUYWc6IGNhc2UgdWludDhDbGFtcGVkVGFnOiBjYXNlIHVpbnQxNlRhZzogY2FzZSB1aW50MzJUYWc6XG4gICAgICAgICAgcmV0dXJuIGNsb25lVHlwZWRBcnJheShvYmplY3QsIGlzRGVlcCk7XG5cbiAgICAgICAgY2FzZSBtYXBUYWc6XG4gICAgICAgICAgcmV0dXJuIG5ldyBDdG9yO1xuXG4gICAgICAgIGNhc2UgbnVtYmVyVGFnOlxuICAgICAgICBjYXNlIHN0cmluZ1RhZzpcbiAgICAgICAgICByZXR1cm4gbmV3IEN0b3Iob2JqZWN0KTtcblxuICAgICAgICBjYXNlIHJlZ2V4cFRhZzpcbiAgICAgICAgICByZXR1cm4gY2xvbmVSZWdFeHAob2JqZWN0KTtcblxuICAgICAgICBjYXNlIHNldFRhZzpcbiAgICAgICAgICByZXR1cm4gbmV3IEN0b3I7XG5cbiAgICAgICAgY2FzZSBzeW1ib2xUYWc6XG4gICAgICAgICAgcmV0dXJuIGNsb25lU3ltYm9sKG9iamVjdCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5zZXJ0cyB3cmFwcGVyIGBkZXRhaWxzYCBpbiBhIGNvbW1lbnQgYXQgdGhlIHRvcCBvZiB0aGUgYHNvdXJjZWAgYm9keS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNvdXJjZSBUaGUgc291cmNlIHRvIG1vZGlmeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IGRldGFpbHMgVGhlIGRldGFpbHMgdG8gaW5zZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIG1vZGlmaWVkIHNvdXJjZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbnNlcnRXcmFwRGV0YWlscyhzb3VyY2UsIGRldGFpbHMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBkZXRhaWxzLmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2U7XG4gICAgICB9XG4gICAgICB2YXIgbGFzdEluZGV4ID0gbGVuZ3RoIC0gMTtcbiAgICAgIGRldGFpbHNbbGFzdEluZGV4XSA9IChsZW5ndGggPiAxID8gJyYgJyA6ICcnKSArIGRldGFpbHNbbGFzdEluZGV4XTtcbiAgICAgIGRldGFpbHMgPSBkZXRhaWxzLmpvaW4obGVuZ3RoID4gMiA/ICcsICcgOiAnICcpO1xuICAgICAgcmV0dXJuIHNvdXJjZS5yZXBsYWNlKHJlV3JhcENvbW1lbnQsICd7XFxuLyogW3dyYXBwZWQgd2l0aCAnICsgZGV0YWlscyArICddICovXFxuJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBmbGF0dGVuYWJsZSBgYXJndW1lbnRzYCBvYmplY3Qgb3IgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGZsYXR0ZW5hYmxlLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNGbGF0dGVuYWJsZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzQXJyYXkodmFsdWUpIHx8IGlzQXJndW1lbnRzKHZhbHVlKSB8fFxuICAgICAgICAhIShzcHJlYWRhYmxlU3ltYm9sICYmIHZhbHVlICYmIHZhbHVlW3NwcmVhZGFibGVTeW1ib2xdKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGFycmF5LWxpa2UgaW5kZXguXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPU1BWF9TQUZFX0lOVEVHRVJdIFRoZSB1cHBlciBib3VuZHMgb2YgYSB2YWxpZCBpbmRleC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGluZGV4LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNJbmRleCh2YWx1ZSwgbGVuZ3RoKSB7XG4gICAgICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgICAgIGxlbmd0aCA9IGxlbmd0aCA9PSBudWxsID8gTUFYX1NBRkVfSU5URUdFUiA6IGxlbmd0aDtcblxuICAgICAgcmV0dXJuICEhbGVuZ3RoICYmXG4gICAgICAgICh0eXBlID09ICdudW1iZXInIHx8XG4gICAgICAgICAgKHR5cGUgIT0gJ3N5bWJvbCcgJiYgcmVJc1VpbnQudGVzdCh2YWx1ZSkpKSAmJlxuICAgICAgICAgICAgKHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPCBsZW5ndGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiB0aGUgZ2l2ZW4gYXJndW1lbnRzIGFyZSBmcm9tIGFuIGl0ZXJhdGVlIGNhbGwuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHBvdGVudGlhbCBpdGVyYXRlZSB2YWx1ZSBhcmd1bWVudC5cbiAgICAgKiBAcGFyYW0geyp9IGluZGV4IFRoZSBwb3RlbnRpYWwgaXRlcmF0ZWUgaW5kZXggb3Iga2V5IGFyZ3VtZW50LlxuICAgICAqIEBwYXJhbSB7Kn0gb2JqZWN0IFRoZSBwb3RlbnRpYWwgaXRlcmF0ZWUgb2JqZWN0IGFyZ3VtZW50LlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYXJndW1lbnRzIGFyZSBmcm9tIGFuIGl0ZXJhdGVlIGNhbGwsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0l0ZXJhdGVlQ2FsbCh2YWx1ZSwgaW5kZXgsIG9iamVjdCkge1xuICAgICAgaWYgKCFpc09iamVjdChvYmplY3QpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciB0eXBlID0gdHlwZW9mIGluZGV4O1xuICAgICAgaWYgKHR5cGUgPT0gJ251bWJlcidcbiAgICAgICAgICAgID8gKGlzQXJyYXlMaWtlKG9iamVjdCkgJiYgaXNJbmRleChpbmRleCwgb2JqZWN0Lmxlbmd0aCkpXG4gICAgICAgICAgICA6ICh0eXBlID09ICdzdHJpbmcnICYmIGluZGV4IGluIG9iamVjdClcbiAgICAgICAgICApIHtcbiAgICAgICAgcmV0dXJuIGVxKG9iamVjdFtpbmRleF0sIHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHByb3BlcnR5IG5hbWUgYW5kIG5vdCBhIHByb3BlcnR5IHBhdGguXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5IGtleXMgb24uXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwcm9wZXJ0eSBuYW1lLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNLZXkodmFsdWUsIG9iamVjdCkge1xuICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICAgICAgaWYgKHR5cGUgPT0gJ251bWJlcicgfHwgdHlwZSA9PSAnc3ltYm9sJyB8fCB0eXBlID09ICdib29sZWFuJyB8fFxuICAgICAgICAgIHZhbHVlID09IG51bGwgfHwgaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlSXNQbGFpblByb3AudGVzdCh2YWx1ZSkgfHwgIXJlSXNEZWVwUHJvcC50ZXN0KHZhbHVlKSB8fFxuICAgICAgICAob2JqZWN0ICE9IG51bGwgJiYgdmFsdWUgaW4gT2JqZWN0KG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlIGZvciB1c2UgYXMgdW5pcXVlIG9iamVjdCBrZXkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNLZXlhYmxlKHZhbHVlKSB7XG4gICAgICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgICAgIHJldHVybiAodHlwZSA9PSAnc3RyaW5nJyB8fCB0eXBlID09ICdudW1iZXInIHx8IHR5cGUgPT0gJ3N5bWJvbCcgfHwgdHlwZSA9PSAnYm9vbGVhbicpXG4gICAgICAgID8gKHZhbHVlICE9PSAnX19wcm90b19fJylcbiAgICAgICAgOiAodmFsdWUgPT09IG51bGwpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgZnVuY2AgaGFzIGEgbGF6eSBjb3VudGVycGFydC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBmdW5jYCBoYXMgYSBsYXp5IGNvdW50ZXJwYXJ0LFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNMYXppYWJsZShmdW5jKSB7XG4gICAgICB2YXIgZnVuY05hbWUgPSBnZXRGdW5jTmFtZShmdW5jKSxcbiAgICAgICAgICBvdGhlciA9IGxvZGFzaFtmdW5jTmFtZV07XG5cbiAgICAgIGlmICh0eXBlb2Ygb3RoZXIgIT0gJ2Z1bmN0aW9uJyB8fCAhKGZ1bmNOYW1lIGluIExhenlXcmFwcGVyLnByb3RvdHlwZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKGZ1bmMgPT09IG90aGVyKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgdmFyIGRhdGEgPSBnZXREYXRhKG90aGVyKTtcbiAgICAgIHJldHVybiAhIWRhdGEgJiYgZnVuYyA9PT0gZGF0YVswXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYGZ1bmNgIGhhcyBpdHMgc291cmNlIG1hc2tlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBmdW5jYCBpcyBtYXNrZWQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc01hc2tlZChmdW5jKSB7XG4gICAgICByZXR1cm4gISFtYXNrU3JjS2V5ICYmIChtYXNrU3JjS2V5IGluIGZ1bmMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgZnVuY2AgaXMgY2FwYWJsZSBvZiBiZWluZyBtYXNrZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgZnVuY2AgaXMgbWFza2FibGUsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICB2YXIgaXNNYXNrYWJsZSA9IGNvcmVKc0RhdGEgPyBpc0Z1bmN0aW9uIDogc3R1YkZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGEgcHJvdG90eXBlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwcm90b3R5cGUsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1Byb3RvdHlwZSh2YWx1ZSkge1xuICAgICAgdmFyIEN0b3IgPSB2YWx1ZSAmJiB2YWx1ZS5jb25zdHJ1Y3RvcixcbiAgICAgICAgICBwcm90byA9ICh0eXBlb2YgQ3RvciA9PSAnZnVuY3Rpb24nICYmIEN0b3IucHJvdG90eXBlKSB8fCBvYmplY3RQcm90bztcblxuICAgICAgcmV0dXJuIHZhbHVlID09PSBwcm90bztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSBmb3Igc3RyaWN0IGVxdWFsaXR5IGNvbXBhcmlzb25zLCBpLmUuIGA9PT1gLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpZiBzdWl0YWJsZSBmb3Igc3RyaWN0XG4gICAgICogIGVxdWFsaXR5IGNvbXBhcmlzb25zLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNTdHJpY3RDb21wYXJhYmxlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT09IHZhbHVlICYmICFpc09iamVjdCh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBtYXRjaGVzUHJvcGVydHlgIGZvciBzb3VyY2UgdmFsdWVzIHN1aXRhYmxlXG4gICAgICogZm9yIHN0cmljdCBlcXVhbGl0eSBjb21wYXJpc29ucywgaS5lLiBgPT09YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHBhcmFtIHsqfSBzcmNWYWx1ZSBUaGUgdmFsdWUgdG8gbWF0Y2guXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXRjaGVzU3RyaWN0Q29tcGFyYWJsZShrZXksIHNyY1ZhbHVlKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqZWN0W2tleV0gPT09IHNyY1ZhbHVlICYmXG4gICAgICAgICAgKHNyY1ZhbHVlICE9PSB1bmRlZmluZWQgfHwgKGtleSBpbiBPYmplY3Qob2JqZWN0KSkpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8ubWVtb2l6ZWAgd2hpY2ggY2xlYXJzIHRoZSBtZW1vaXplZCBmdW5jdGlvbidzXG4gICAgICogY2FjaGUgd2hlbiBpdCBleGNlZWRzIGBNQVhfTUVNT0laRV9TSVpFYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaGF2ZSBpdHMgb3V0cHV0IG1lbW9pemVkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IG1lbW9pemVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1lbW9pemVDYXBwZWQoZnVuYykge1xuICAgICAgdmFyIHJlc3VsdCA9IG1lbW9pemUoZnVuYywgZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIGlmIChjYWNoZS5zaXplID09PSBNQVhfTUVNT0laRV9TSVpFKSB7XG4gICAgICAgICAgY2FjaGUuY2xlYXIoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ga2V5O1xuICAgICAgfSk7XG5cbiAgICAgIHZhciBjYWNoZSA9IHJlc3VsdC5jYWNoZTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTWVyZ2VzIHRoZSBmdW5jdGlvbiBtZXRhZGF0YSBvZiBgc291cmNlYCBpbnRvIGBkYXRhYC5cbiAgICAgKlxuICAgICAqIE1lcmdpbmcgbWV0YWRhdGEgcmVkdWNlcyB0aGUgbnVtYmVyIG9mIHdyYXBwZXJzIHVzZWQgdG8gaW52b2tlIGEgZnVuY3Rpb24uXG4gICAgICogVGhpcyBpcyBwb3NzaWJsZSBiZWNhdXNlIG1ldGhvZHMgbGlrZSBgXy5iaW5kYCwgYF8uY3VycnlgLCBhbmQgYF8ucGFydGlhbGBcbiAgICAgKiBtYXkgYmUgYXBwbGllZCByZWdhcmRsZXNzIG9mIGV4ZWN1dGlvbiBvcmRlci4gTWV0aG9kcyBsaWtlIGBfLmFyeWAgYW5kXG4gICAgICogYF8ucmVhcmdgIG1vZGlmeSBmdW5jdGlvbiBhcmd1bWVudHMsIG1ha2luZyB0aGUgb3JkZXIgaW4gd2hpY2ggdGhleSBhcmVcbiAgICAgKiBleGVjdXRlZCBpbXBvcnRhbnQsIHByZXZlbnRpbmcgdGhlIG1lcmdpbmcgb2YgbWV0YWRhdGEuIEhvd2V2ZXIsIHdlIG1ha2VcbiAgICAgKiBhbiBleGNlcHRpb24gZm9yIGEgc2FmZSBjb21iaW5lZCBjYXNlIHdoZXJlIGN1cnJpZWQgZnVuY3Rpb25zIGhhdmUgYF8uYXJ5YFxuICAgICAqIGFuZCBvciBgXy5yZWFyZ2AgYXBwbGllZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gZGF0YSBUaGUgZGVzdGluYXRpb24gbWV0YWRhdGEuXG4gICAgICogQHBhcmFtIHtBcnJheX0gc291cmNlIFRoZSBzb3VyY2UgbWV0YWRhdGEuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBkYXRhYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtZXJnZURhdGEoZGF0YSwgc291cmNlKSB7XG4gICAgICB2YXIgYml0bWFzayA9IGRhdGFbMV0sXG4gICAgICAgICAgc3JjQml0bWFzayA9IHNvdXJjZVsxXSxcbiAgICAgICAgICBuZXdCaXRtYXNrID0gYml0bWFzayB8IHNyY0JpdG1hc2ssXG4gICAgICAgICAgaXNDb21tb24gPSBuZXdCaXRtYXNrIDwgKFdSQVBfQklORF9GTEFHIHwgV1JBUF9CSU5EX0tFWV9GTEFHIHwgV1JBUF9BUllfRkxBRyk7XG5cbiAgICAgIHZhciBpc0NvbWJvID1cbiAgICAgICAgKChzcmNCaXRtYXNrID09IFdSQVBfQVJZX0ZMQUcpICYmIChiaXRtYXNrID09IFdSQVBfQ1VSUllfRkxBRykpIHx8XG4gICAgICAgICgoc3JjQml0bWFzayA9PSBXUkFQX0FSWV9GTEFHKSAmJiAoYml0bWFzayA9PSBXUkFQX1JFQVJHX0ZMQUcpICYmIChkYXRhWzddLmxlbmd0aCA8PSBzb3VyY2VbOF0pKSB8fFxuICAgICAgICAoKHNyY0JpdG1hc2sgPT0gKFdSQVBfQVJZX0ZMQUcgfCBXUkFQX1JFQVJHX0ZMQUcpKSAmJiAoc291cmNlWzddLmxlbmd0aCA8PSBzb3VyY2VbOF0pICYmIChiaXRtYXNrID09IFdSQVBfQ1VSUllfRkxBRykpO1xuXG4gICAgICAvLyBFeGl0IGVhcmx5IGlmIG1ldGFkYXRhIGNhbid0IGJlIG1lcmdlZC5cbiAgICAgIGlmICghKGlzQ29tbW9uIHx8IGlzQ29tYm8pKSB7XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgfVxuICAgICAgLy8gVXNlIHNvdXJjZSBgdGhpc0FyZ2AgaWYgYXZhaWxhYmxlLlxuICAgICAgaWYgKHNyY0JpdG1hc2sgJiBXUkFQX0JJTkRfRkxBRykge1xuICAgICAgICBkYXRhWzJdID0gc291cmNlWzJdO1xuICAgICAgICAvLyBTZXQgd2hlbiBjdXJyeWluZyBhIGJvdW5kIGZ1bmN0aW9uLlxuICAgICAgICBuZXdCaXRtYXNrIHw9IGJpdG1hc2sgJiBXUkFQX0JJTkRfRkxBRyA/IDAgOiBXUkFQX0NVUlJZX0JPVU5EX0ZMQUc7XG4gICAgICB9XG4gICAgICAvLyBDb21wb3NlIHBhcnRpYWwgYXJndW1lbnRzLlxuICAgICAgdmFyIHZhbHVlID0gc291cmNlWzNdO1xuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIHZhciBwYXJ0aWFscyA9IGRhdGFbM107XG4gICAgICAgIGRhdGFbM10gPSBwYXJ0aWFscyA/IGNvbXBvc2VBcmdzKHBhcnRpYWxzLCB2YWx1ZSwgc291cmNlWzRdKSA6IHZhbHVlO1xuICAgICAgICBkYXRhWzRdID0gcGFydGlhbHMgPyByZXBsYWNlSG9sZGVycyhkYXRhWzNdLCBQTEFDRUhPTERFUikgOiBzb3VyY2VbNF07XG4gICAgICB9XG4gICAgICAvLyBDb21wb3NlIHBhcnRpYWwgcmlnaHQgYXJndW1lbnRzLlxuICAgICAgdmFsdWUgPSBzb3VyY2VbNV07XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgcGFydGlhbHMgPSBkYXRhWzVdO1xuICAgICAgICBkYXRhWzVdID0gcGFydGlhbHMgPyBjb21wb3NlQXJnc1JpZ2h0KHBhcnRpYWxzLCB2YWx1ZSwgc291cmNlWzZdKSA6IHZhbHVlO1xuICAgICAgICBkYXRhWzZdID0gcGFydGlhbHMgPyByZXBsYWNlSG9sZGVycyhkYXRhWzVdLCBQTEFDRUhPTERFUikgOiBzb3VyY2VbNl07XG4gICAgICB9XG4gICAgICAvLyBVc2Ugc291cmNlIGBhcmdQb3NgIGlmIGF2YWlsYWJsZS5cbiAgICAgIHZhbHVlID0gc291cmNlWzddO1xuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIGRhdGFbN10gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIC8vIFVzZSBzb3VyY2UgYGFyeWAgaWYgaXQncyBzbWFsbGVyLlxuICAgICAgaWYgKHNyY0JpdG1hc2sgJiBXUkFQX0FSWV9GTEFHKSB7XG4gICAgICAgIGRhdGFbOF0gPSBkYXRhWzhdID09IG51bGwgPyBzb3VyY2VbOF0gOiBuYXRpdmVNaW4oZGF0YVs4XSwgc291cmNlWzhdKTtcbiAgICAgIH1cbiAgICAgIC8vIFVzZSBzb3VyY2UgYGFyaXR5YCBpZiBvbmUgaXMgbm90IHByb3ZpZGVkLlxuICAgICAgaWYgKGRhdGFbOV0gPT0gbnVsbCkge1xuICAgICAgICBkYXRhWzldID0gc291cmNlWzldO1xuICAgICAgfVxuICAgICAgLy8gVXNlIHNvdXJjZSBgZnVuY2AgYW5kIG1lcmdlIGJpdG1hc2tzLlxuICAgICAgZGF0YVswXSA9IHNvdXJjZVswXTtcbiAgICAgIGRhdGFbMV0gPSBuZXdCaXRtYXNrO1xuXG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2VcbiAgICAgKiBbYE9iamVjdC5rZXlzYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LmtleXMpXG4gICAgICogZXhjZXB0IHRoYXQgaXQgaW5jbHVkZXMgaW5oZXJpdGVkIGVudW1lcmFibGUgcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbmF0aXZlS2V5c0luKG9iamVjdCkge1xuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgaWYgKG9iamVjdCAhPSBudWxsKSB7XG4gICAgICAgIGZvciAodmFyIGtleSBpbiBPYmplY3Qob2JqZWN0KSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZyB1c2luZyBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY29udmVydGVkIHN0cmluZy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvYmplY3RUb1N0cmluZyh2YWx1ZSkge1xuICAgICAgcmV0dXJuIG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZVJlc3RgIHdoaWNoIHRyYW5zZm9ybXMgdGhlIHJlc3QgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD1mdW5jLmxlbmd0aC0xXSBUaGUgc3RhcnQgcG9zaXRpb24gb2YgdGhlIHJlc3QgcGFyYW1ldGVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBUaGUgcmVzdCBhcnJheSB0cmFuc2Zvcm0uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gb3ZlclJlc3QoZnVuYywgc3RhcnQsIHRyYW5zZm9ybSkge1xuICAgICAgc3RhcnQgPSBuYXRpdmVNYXgoc3RhcnQgPT09IHVuZGVmaW5lZCA/IChmdW5jLmxlbmd0aCAtIDEpIDogc3RhcnQsIDApO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgICAgIGluZGV4ID0gLTEsXG4gICAgICAgICAgICBsZW5ndGggPSBuYXRpdmVNYXgoYXJncy5sZW5ndGggLSBzdGFydCwgMCksXG4gICAgICAgICAgICBhcnJheSA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICBhcnJheVtpbmRleF0gPSBhcmdzW3N0YXJ0ICsgaW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIGluZGV4ID0gLTE7XG4gICAgICAgIHZhciBvdGhlckFyZ3MgPSBBcnJheShzdGFydCArIDEpO1xuICAgICAgICB3aGlsZSAoKytpbmRleCA8IHN0YXJ0KSB7XG4gICAgICAgICAgb3RoZXJBcmdzW2luZGV4XSA9IGFyZ3NbaW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIG90aGVyQXJnc1tzdGFydF0gPSB0cmFuc2Zvcm0oYXJyYXkpO1xuICAgICAgICByZXR1cm4gYXBwbHkoZnVuYywgdGhpcywgb3RoZXJBcmdzKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgcGFyZW50IHZhbHVlIGF0IGBwYXRoYCBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhdGggVGhlIHBhdGggdG8gZ2V0IHRoZSBwYXJlbnQgdmFsdWUgb2YuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHBhcmVudCB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwYXJlbnQob2JqZWN0LCBwYXRoKSB7XG4gICAgICByZXR1cm4gcGF0aC5sZW5ndGggPCAyID8gb2JqZWN0IDogYmFzZUdldChvYmplY3QsIGJhc2VTbGljZShwYXRoLCAwLCAtMSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlb3JkZXIgYGFycmF5YCBhY2NvcmRpbmcgdG8gdGhlIHNwZWNpZmllZCBpbmRleGVzIHdoZXJlIHRoZSBlbGVtZW50IGF0XG4gICAgICogdGhlIGZpcnN0IGluZGV4IGlzIGFzc2lnbmVkIGFzIHRoZSBmaXJzdCBlbGVtZW50LCB0aGUgZWxlbWVudCBhdFxuICAgICAqIHRoZSBzZWNvbmQgaW5kZXggaXMgYXNzaWduZWQgYXMgdGhlIHNlY29uZCBlbGVtZW50LCBhbmQgc28gb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byByZW9yZGVyLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGluZGV4ZXMgVGhlIGFycmFuZ2VkIGFycmF5IGluZGV4ZXMuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVvcmRlcihhcnJheSwgaW5kZXhlcykge1xuICAgICAgdmFyIGFyckxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICBsZW5ndGggPSBuYXRpdmVNaW4oaW5kZXhlcy5sZW5ndGgsIGFyckxlbmd0aCksXG4gICAgICAgICAgb2xkQXJyYXkgPSBjb3B5QXJyYXkoYXJyYXkpO1xuXG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgdmFyIGluZGV4ID0gaW5kZXhlc1tsZW5ndGhdO1xuICAgICAgICBhcnJheVtsZW5ndGhdID0gaXNJbmRleChpbmRleCwgYXJyTGVuZ3RoKSA/IG9sZEFycmF5W2luZGV4XSA6IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSB2YWx1ZSBhdCBga2V5YCwgdW5sZXNzIGBrZXlgIGlzIFwiX19wcm90b19fXCIgb3IgXCJjb25zdHJ1Y3RvclwiLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHByb3BlcnR5IHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNhZmVHZXQob2JqZWN0LCBrZXkpIHtcbiAgICAgIGlmIChrZXkgPT09ICdjb25zdHJ1Y3RvcicgJiYgdHlwZW9mIG9iamVjdFtrZXldID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGtleSA9PSAnX19wcm90b19fJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvYmplY3Rba2V5XTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIG1ldGFkYXRhIGZvciBgZnVuY2AuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogSWYgdGhpcyBmdW5jdGlvbiBiZWNvbWVzIGhvdCwgaS5lLiBpcyBpbnZva2VkIGEgbG90IGluIGEgc2hvcnRcbiAgICAgKiBwZXJpb2Qgb2YgdGltZSwgaXQgd2lsbCB0cmlwIGl0cyBicmVha2VyIGFuZCB0cmFuc2l0aW9uIHRvIGFuIGlkZW50aXR5XG4gICAgICogZnVuY3Rpb24gdG8gYXZvaWQgZ2FyYmFnZSBjb2xsZWN0aW9uIHBhdXNlcyBpbiBWOC4gU2VlXG4gICAgICogW1Y4IGlzc3VlIDIwNzBdKGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTIwNzApXG4gICAgICogZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXNzb2NpYXRlIG1ldGFkYXRhIHdpdGguXG4gICAgICogQHBhcmFtIHsqfSBkYXRhIFRoZSBtZXRhZGF0YS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGZ1bmNgLlxuICAgICAqL1xuICAgIHZhciBzZXREYXRhID0gc2hvcnRPdXQoYmFzZVNldERhdGEpO1xuXG4gICAgLyoqXG4gICAgICogQSBzaW1wbGUgd3JhcHBlciBhcm91bmQgdGhlIGdsb2JhbCBbYHNldFRpbWVvdXRgXShodHRwczovL21kbi5pby9zZXRUaW1lb3V0KS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZGVsYXkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdhaXQgVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gZGVsYXkgaW52b2NhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfE9iamVjdH0gUmV0dXJucyB0aGUgdGltZXIgaWQgb3IgdGltZW91dCBvYmplY3QuXG4gICAgICovXG4gICAgdmFyIHNldFRpbWVvdXQgPSBjdHhTZXRUaW1lb3V0IHx8IGZ1bmN0aW9uKGZ1bmMsIHdhaXQpIHtcbiAgICAgIHJldHVybiByb290LnNldFRpbWVvdXQoZnVuYywgd2FpdCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGB0b1N0cmluZ2AgbWV0aG9kIG9mIGBmdW5jYCB0byByZXR1cm4gYHN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzdHJpbmcgVGhlIGB0b1N0cmluZ2AgcmVzdWx0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgZnVuY2AuXG4gICAgICovXG4gICAgdmFyIHNldFRvU3RyaW5nID0gc2hvcnRPdXQoYmFzZVNldFRvU3RyaW5nKTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGB0b1N0cmluZ2AgbWV0aG9kIG9mIGB3cmFwcGVyYCB0byBtaW1pYyB0aGUgc291cmNlIG9mIGByZWZlcmVuY2VgXG4gICAgICogd2l0aCB3cmFwcGVyIGRldGFpbHMgaW4gYSBjb21tZW50IGF0IHRoZSB0b3Agb2YgdGhlIHNvdXJjZSBib2R5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB3cmFwcGVyIFRoZSBmdW5jdGlvbiB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcmVmZXJlbmNlIFRoZSByZWZlcmVuY2UgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgY3JlYXRlV3JhcGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYHdyYXBwZXJgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldFdyYXBUb1N0cmluZyh3cmFwcGVyLCByZWZlcmVuY2UsIGJpdG1hc2spIHtcbiAgICAgIHZhciBzb3VyY2UgPSAocmVmZXJlbmNlICsgJycpO1xuICAgICAgcmV0dXJuIHNldFRvU3RyaW5nKHdyYXBwZXIsIGluc2VydFdyYXBEZXRhaWxzKHNvdXJjZSwgdXBkYXRlV3JhcERldGFpbHMoZ2V0V3JhcERldGFpbHMoc291cmNlKSwgYml0bWFzaykpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCdsbCBzaG9ydCBvdXQgYW5kIGludm9rZSBgaWRlbnRpdHlgIGluc3RlYWRcbiAgICAgKiBvZiBgZnVuY2Agd2hlbiBpdCdzIGNhbGxlZCBgSE9UX0NPVU5UYCBvciBtb3JlIHRpbWVzIGluIGBIT1RfU1BBTmBcbiAgICAgKiBtaWxsaXNlY29uZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHJlc3RyaWN0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNob3J0YWJsZSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzaG9ydE91dChmdW5jKSB7XG4gICAgICB2YXIgY291bnQgPSAwLFxuICAgICAgICAgIGxhc3RDYWxsZWQgPSAwO1xuXG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBzdGFtcCA9IG5hdGl2ZU5vdygpLFxuICAgICAgICAgICAgcmVtYWluaW5nID0gSE9UX1NQQU4gLSAoc3RhbXAgLSBsYXN0Q2FsbGVkKTtcblxuICAgICAgICBsYXN0Q2FsbGVkID0gc3RhbXA7XG4gICAgICAgIGlmIChyZW1haW5pbmcgPiAwKSB7XG4gICAgICAgICAgaWYgKCsrY291bnQgPj0gSE9UX0NPVU5UKSB7XG4gICAgICAgICAgICByZXR1cm4gYXJndW1lbnRzWzBdO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb3VudCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkodW5kZWZpbmVkLCBhcmd1bWVudHMpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uc2h1ZmZsZWAgd2hpY2ggbXV0YXRlcyBhbmQgc2V0cyB0aGUgc2l6ZSBvZiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2h1ZmZsZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NpemU9YXJyYXkubGVuZ3RoXSBUaGUgc2l6ZSBvZiBgYXJyYXlgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNodWZmbGVTZWxmKGFycmF5LCBzaXplKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgbGFzdEluZGV4ID0gbGVuZ3RoIC0gMTtcblxuICAgICAgc2l6ZSA9IHNpemUgPT09IHVuZGVmaW5lZCA/IGxlbmd0aCA6IHNpemU7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IHNpemUpIHtcbiAgICAgICAgdmFyIHJhbmQgPSBiYXNlUmFuZG9tKGluZGV4LCBsYXN0SW5kZXgpLFxuICAgICAgICAgICAgdmFsdWUgPSBhcnJheVtyYW5kXTtcblxuICAgICAgICBhcnJheVtyYW5kXSA9IGFycmF5W2luZGV4XTtcbiAgICAgICAgYXJyYXlbaW5kZXhdID0gdmFsdWU7XG4gICAgICB9XG4gICAgICBhcnJheS5sZW5ndGggPSBzaXplO1xuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgIHRvIGEgcHJvcGVydHkgcGF0aCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICAgICAqL1xuICAgIHZhciBzdHJpbmdUb1BhdGggPSBtZW1vaXplQ2FwcGVkKGZ1bmN0aW9uKHN0cmluZykge1xuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgaWYgKHN0cmluZy5jaGFyQ29kZUF0KDApID09PSA0NiAvKiAuICovKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKCcnKTtcbiAgICAgIH1cbiAgICAgIHN0cmluZy5yZXBsYWNlKHJlUHJvcE5hbWUsIGZ1bmN0aW9uKG1hdGNoLCBudW1iZXIsIHF1b3RlLCBzdWJTdHJpbmcpIHtcbiAgICAgICAgcmVzdWx0LnB1c2gocXVvdGUgPyBzdWJTdHJpbmcucmVwbGFjZShyZUVzY2FwZUNoYXIsICckMScpIDogKG51bWJlciB8fCBtYXRjaCkpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZyBrZXkgaWYgaXQncyBub3QgYSBzdHJpbmcgb3Igc3ltYm9sLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd8c3ltYm9sfSBSZXR1cm5zIHRoZSBrZXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9LZXkodmFsdWUpIHtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycgfHwgaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSAodmFsdWUgKyAnJyk7XG4gICAgICByZXR1cm4gKHJlc3VsdCA9PSAnMCcgJiYgKDEgLyB2YWx1ZSkgPT0gLUlORklOSVRZKSA/ICctMCcgOiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYGZ1bmNgIHRvIGl0cyBzb3VyY2UgY29kZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzb3VyY2UgY29kZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b1NvdXJjZShmdW5jKSB7XG4gICAgICBpZiAoZnVuYyAhPSBudWxsKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmNUb1N0cmluZy5jYWxsKGZ1bmMpO1xuICAgICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiAoZnVuYyArICcnKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgIH1cbiAgICAgIHJldHVybiAnJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHdyYXBwZXIgYGRldGFpbHNgIGJhc2VkIG9uIGBiaXRtYXNrYCBmbGFncy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybnMge0FycmF5fSBkZXRhaWxzIFRoZSBkZXRhaWxzIHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBjcmVhdGVXcmFwYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgZGV0YWlsc2AuXG4gICAgICovXG4gICAgZnVuY3Rpb24gdXBkYXRlV3JhcERldGFpbHMoZGV0YWlscywgYml0bWFzaykge1xuICAgICAgYXJyYXlFYWNoKHdyYXBGbGFncywgZnVuY3Rpb24ocGFpcikge1xuICAgICAgICB2YXIgdmFsdWUgPSAnXy4nICsgcGFpclswXTtcbiAgICAgICAgaWYgKChiaXRtYXNrICYgcGFpclsxXSkgJiYgIWFycmF5SW5jbHVkZXMoZGV0YWlscywgdmFsdWUpKSB7XG4gICAgICAgICAgZGV0YWlscy5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gZGV0YWlscy5zb3J0KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIGB3cmFwcGVyYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHdyYXBwZXIgVGhlIHdyYXBwZXIgdG8gY2xvbmUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIHdyYXBwZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlckNsb25lKHdyYXBwZXIpIHtcbiAgICAgIGlmICh3cmFwcGVyIGluc3RhbmNlb2YgTGF6eVdyYXBwZXIpIHtcbiAgICAgICAgcmV0dXJuIHdyYXBwZXIuY2xvbmUoKTtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSBuZXcgTG9kYXNoV3JhcHBlcih3cmFwcGVyLl9fd3JhcHBlZF9fLCB3cmFwcGVyLl9fY2hhaW5fXyk7XG4gICAgICByZXN1bHQuX19hY3Rpb25zX18gPSBjb3B5QXJyYXkod3JhcHBlci5fX2FjdGlvbnNfXyk7XG4gICAgICByZXN1bHQuX19pbmRleF9fICA9IHdyYXBwZXIuX19pbmRleF9fO1xuICAgICAgcmVzdWx0Ll9fdmFsdWVzX18gPSB3cmFwcGVyLl9fdmFsdWVzX187XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgZWxlbWVudHMgc3BsaXQgaW50byBncm91cHMgdGhlIGxlbmd0aCBvZiBgc2l6ZWAuXG4gICAgICogSWYgYGFycmF5YCBjYW4ndCBiZSBzcGxpdCBldmVubHksIHRoZSBmaW5hbCBjaHVuayB3aWxsIGJlIHRoZSByZW1haW5pbmdcbiAgICAgKiBlbGVtZW50cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBwcm9jZXNzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2l6ZT0xXSBUaGUgbGVuZ3RoIG9mIGVhY2ggY2h1bmtcbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGNodW5rcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5jaHVuayhbJ2EnLCAnYicsICdjJywgJ2QnXSwgMik7XG4gICAgICogLy8gPT4gW1snYScsICdiJ10sIFsnYycsICdkJ11dXG4gICAgICpcbiAgICAgKiBfLmNodW5rKFsnYScsICdiJywgJ2MnLCAnZCddLCAzKTtcbiAgICAgKiAvLyA9PiBbWydhJywgJ2InLCAnYyddLCBbJ2QnXV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjaHVuayhhcnJheSwgc2l6ZSwgZ3VhcmQpIHtcbiAgICAgIGlmICgoZ3VhcmQgPyBpc0l0ZXJhdGVlQ2FsbChhcnJheSwgc2l6ZSwgZ3VhcmQpIDogc2l6ZSA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICBzaXplID0gMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNpemUgPSBuYXRpdmVNYXgodG9JbnRlZ2VyKHNpemUpLCAwKTtcbiAgICAgIH1cbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoIHx8IHNpemUgPCAxKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IDAsXG4gICAgICAgICAgcmVzSW5kZXggPSAwLFxuICAgICAgICAgIHJlc3VsdCA9IEFycmF5KG5hdGl2ZUNlaWwobGVuZ3RoIC8gc2l6ZSkpO1xuXG4gICAgICB3aGlsZSAoaW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0W3Jlc0luZGV4KytdID0gYmFzZVNsaWNlKGFycmF5LCBpbmRleCwgKGluZGV4ICs9IHNpemUpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSB3aXRoIGFsbCBmYWxzZXkgdmFsdWVzIHJlbW92ZWQuIFRoZSB2YWx1ZXMgYGZhbHNlYCwgYG51bGxgLFxuICAgICAqIGAwYCwgYFwiXCJgLCBgdW5kZWZpbmVkYCwgYW5kIGBOYU5gIGFyZSBmYWxzZXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gY29tcGFjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY29tcGFjdChbMCwgMSwgZmFsc2UsIDIsICcnLCAzXSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29tcGFjdChhcnJheSkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgcmVzSW5kZXggPSAwLFxuICAgICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgIHJlc3VsdFtyZXNJbmRleCsrXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgYXJyYXkgY29uY2F0ZW5hdGluZyBgYXJyYXlgIHdpdGggYW55IGFkZGl0aW9uYWwgYXJyYXlzXG4gICAgICogYW5kL29yIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBjb25jYXRlbmF0ZS5cbiAgICAgKiBAcGFyYW0gey4uLip9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gY29uY2F0ZW5hdGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgY29uY2F0ZW5hdGVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMV07XG4gICAgICogdmFyIG90aGVyID0gXy5jb25jYXQoYXJyYXksIDIsIFszXSwgW1s0XV0pO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2cob3RoZXIpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzLCBbNF1dXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29uY2F0KCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgYXJncyA9IEFycmF5KGxlbmd0aCAtIDEpLFxuICAgICAgICAgIGFycmF5ID0gYXJndW1lbnRzWzBdLFxuICAgICAgICAgIGluZGV4ID0gbGVuZ3RoO1xuXG4gICAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgICBhcmdzW2luZGV4IC0gMV0gPSBhcmd1bWVudHNbaW5kZXhdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5UHVzaChpc0FycmF5KGFycmF5KSA/IGNvcHlBcnJheShhcnJheSkgOiBbYXJyYXldLCBiYXNlRmxhdHRlbihhcmdzLCAxKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBgYXJyYXlgIHZhbHVlcyBub3QgaW5jbHVkZWQgaW4gdGhlIG90aGVyIGdpdmVuIGFycmF5c1xuICAgICAqIHVzaW5nIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLiBUaGUgb3JkZXIgYW5kIHJlZmVyZW5jZXMgb2YgcmVzdWx0IHZhbHVlcyBhcmVcbiAgICAgKiBkZXRlcm1pbmVkIGJ5IHRoZSBmaXJzdCBhcnJheS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8ucHVsbEFsbGAsIHRoaXMgbWV0aG9kIHJldHVybnMgYSBuZXcgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIGV4Y2x1ZGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBzZWUgXy53aXRob3V0LCBfLnhvclxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRpZmZlcmVuY2UoWzIsIDFdLCBbMiwgM10pO1xuICAgICAqIC8vID0+IFsxXVxuICAgICAqL1xuICAgIHZhciBkaWZmZXJlbmNlID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXksIHZhbHVlcykge1xuICAgICAgcmV0dXJuIGlzQXJyYXlMaWtlT2JqZWN0KGFycmF5KVxuICAgICAgICA/IGJhc2VEaWZmZXJlbmNlKGFycmF5LCBiYXNlRmxhdHRlbih2YWx1ZXMsIDEsIGlzQXJyYXlMaWtlT2JqZWN0LCB0cnVlKSlcbiAgICAgICAgOiBbXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZGlmZmVyZW5jZWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IG9mIGBhcnJheWAgYW5kIGB2YWx1ZXNgIHRvIGdlbmVyYXRlIHRoZSBjcml0ZXJpb25cbiAgICAgKiBieSB3aGljaCB0aGV5J3JlIGNvbXBhcmVkLiBUaGUgb3JkZXIgYW5kIHJlZmVyZW5jZXMgb2YgcmVzdWx0IHZhbHVlcyBhcmVcbiAgICAgKiBkZXRlcm1pbmVkIGJ5IHRoZSBmaXJzdCBhcnJheS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6XG4gICAgICogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8ucHVsbEFsbEJ5YCwgdGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gZXhjbHVkZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRpZmZlcmVuY2VCeShbMi4xLCAxLjJdLCBbMi4zLCAzLjRdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiBbMS4yXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5kaWZmZXJlbmNlQnkoW3sgJ3gnOiAyIH0sIHsgJ3gnOiAxIH1dLCBbeyAneCc6IDEgfV0sICd4Jyk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAyIH1dXG4gICAgICovXG4gICAgdmFyIGRpZmZlcmVuY2VCeSA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5LCB2YWx1ZXMpIHtcbiAgICAgIHZhciBpdGVyYXRlZSA9IGxhc3QodmFsdWVzKTtcbiAgICAgIGlmIChpc0FycmF5TGlrZU9iamVjdChpdGVyYXRlZSkpIHtcbiAgICAgICAgaXRlcmF0ZWUgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXNBcnJheUxpa2VPYmplY3QoYXJyYXkpXG4gICAgICAgID8gYmFzZURpZmZlcmVuY2UoYXJyYXksIGJhc2VGbGF0dGVuKHZhbHVlcywgMSwgaXNBcnJheUxpa2VPYmplY3QsIHRydWUpLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpXG4gICAgICAgIDogW107XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmRpZmZlcmVuY2VgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGNvbXBhcmF0b3JgXG4gICAgICogd2hpY2ggaXMgaW52b2tlZCB0byBjb21wYXJlIGVsZW1lbnRzIG9mIGBhcnJheWAgdG8gYHZhbHVlc2AuIFRoZSBvcmRlciBhbmRcbiAgICAgKiByZWZlcmVuY2VzIG9mIHJlc3VsdCB2YWx1ZXMgYXJlIGRldGVybWluZWQgYnkgdGhlIGZpcnN0IGFycmF5LiBUaGUgY29tcGFyYXRvclxuICAgICAqIGlzIGludm9rZWQgd2l0aCB0d28gYXJndW1lbnRzOiAoYXJyVmFsLCBvdGhWYWwpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5wdWxsQWxsV2l0aGAsIHRoaXMgbWV0aG9kIHJldHVybnMgYSBuZXcgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIGV4Y2x1ZGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAyLCAneSc6IDEgfV07XG4gICAgICpcbiAgICAgKiBfLmRpZmZlcmVuY2VXaXRoKG9iamVjdHMsIFt7ICd4JzogMSwgJ3knOiAyIH1dLCBfLmlzRXF1YWwpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMiwgJ3knOiAxIH1dXG4gICAgICovXG4gICAgdmFyIGRpZmZlcmVuY2VXaXRoID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXksIHZhbHVlcykge1xuICAgICAgdmFyIGNvbXBhcmF0b3IgPSBsYXN0KHZhbHVlcyk7XG4gICAgICBpZiAoaXNBcnJheUxpa2VPYmplY3QoY29tcGFyYXRvcikpIHtcbiAgICAgICAgY29tcGFyYXRvciA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpc0FycmF5TGlrZU9iamVjdChhcnJheSlcbiAgICAgICAgPyBiYXNlRGlmZmVyZW5jZShhcnJheSwgYmFzZUZsYXR0ZW4odmFsdWVzLCAxLCBpc0FycmF5TGlrZU9iamVjdCwgdHJ1ZSksIHVuZGVmaW5lZCwgY29tcGFyYXRvcilcbiAgICAgICAgOiBbXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIHdpdGggYG5gIGVsZW1lbnRzIGRyb3BwZWQgZnJvbSB0aGUgYmVnaW5uaW5nLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuNS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0xXSBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIGRyb3AuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZHJvcChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IFsyLCAzXVxuICAgICAqXG4gICAgICogXy5kcm9wKFsxLCAyLCAzXSwgMik7XG4gICAgICogLy8gPT4gWzNdXG4gICAgICpcbiAgICAgKiBfLmRyb3AoWzEsIDIsIDNdLCA1KTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqXG4gICAgICogXy5kcm9wKFsxLCAyLCAzXSwgMCk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZHJvcChhcnJheSwgbiwgZ3VhcmQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIG4gPSAoZ3VhcmQgfHwgbiA9PT0gdW5kZWZpbmVkKSA/IDEgOiB0b0ludGVnZXIobik7XG4gICAgICByZXR1cm4gYmFzZVNsaWNlKGFycmF5LCBuIDwgMCA/IDAgOiBuLCBsZW5ndGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIHdpdGggYG5gIGVsZW1lbnRzIGRyb3BwZWQgZnJvbSB0aGUgZW5kLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0xXSBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIGRyb3AuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZHJvcFJpZ2h0KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICpcbiAgICAgKiBfLmRyb3BSaWdodChbMSwgMiwgM10sIDIpO1xuICAgICAqIC8vID0+IFsxXVxuICAgICAqXG4gICAgICogXy5kcm9wUmlnaHQoWzEsIDIsIDNdLCA1KTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqXG4gICAgICogXy5kcm9wUmlnaHQoWzEsIDIsIDNdLCAwKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkcm9wUmlnaHQoYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBuID0gKGd1YXJkIHx8IG4gPT09IHVuZGVmaW5lZCkgPyAxIDogdG9JbnRlZ2VyKG4pO1xuICAgICAgbiA9IGxlbmd0aCAtIG47XG4gICAgICByZXR1cm4gYmFzZVNsaWNlKGFycmF5LCAwLCBuIDwgMCA/IDAgOiBuKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCBleGNsdWRpbmcgZWxlbWVudHMgZHJvcHBlZCBmcm9tIHRoZSBlbmQuXG4gICAgICogRWxlbWVudHMgYXJlIGRyb3BwZWQgdW50aWwgYHByZWRpY2F0ZWAgcmV0dXJucyBmYWxzZXkuIFRoZSBwcmVkaWNhdGUgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4LCBhcnJheSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5kcm9wUmlnaHRXaGlsZSh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gIW8uYWN0aXZlOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leSddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZHJvcFJpZ2h0V2hpbGUodXNlcnMsIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leScsICdmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmRyb3BSaWdodFdoaWxlKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5kcm9wUmlnaHRXaGlsZSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5JywgJ2ZyZWQnLCAncGViYmxlcyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gZHJvcFJpZ2h0V2hpbGUoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVdoaWxlKGFycmF5LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCB0cnVlLCB0cnVlKVxuICAgICAgICA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIGV4Y2x1ZGluZyBlbGVtZW50cyBkcm9wcGVkIGZyb20gdGhlIGJlZ2lubmluZy5cbiAgICAgKiBFbGVtZW50cyBhcmUgZHJvcHBlZCB1bnRpbCBgcHJlZGljYXRlYCByZXR1cm5zIGZhbHNleS4gVGhlIHByZWRpY2F0ZSBpc1xuICAgICAqIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXgsIGFycmF5KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmRyb3BXaGlsZSh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gIW8uYWN0aXZlOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ3BlYmJsZXMnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmRyb3BXaGlsZSh1c2VycywgeyAndXNlcic6ICdiYXJuZXknLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJywgJ3BlYmJsZXMnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZHJvcFdoaWxlKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydwZWJibGVzJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZHJvcFdoaWxlKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknLCAnZnJlZCcsICdwZWJibGVzJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkcm9wV2hpbGUoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVdoaWxlKGFycmF5LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCB0cnVlKVxuICAgICAgICA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZpbGxzIGVsZW1lbnRzIG9mIGBhcnJheWAgd2l0aCBgdmFsdWVgIGZyb20gYHN0YXJ0YCB1cCB0bywgYnV0IG5vdFxuICAgICAqIGluY2x1ZGluZywgYGVuZGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMi4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGZpbGwuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZmlsbCBgYXJyYXlgIHdpdGguXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlbmQ9YXJyYXkubGVuZ3RoXSBUaGUgZW5kIHBvc2l0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMSwgMiwgM107XG4gICAgICpcbiAgICAgKiBfLmZpbGwoYXJyYXksICdhJyk7XG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsnYScsICdhJywgJ2EnXVxuICAgICAqXG4gICAgICogXy5maWxsKEFycmF5KDMpLCAyKTtcbiAgICAgKiAvLyA9PiBbMiwgMiwgMl1cbiAgICAgKlxuICAgICAqIF8uZmlsbChbNCwgNiwgOCwgMTBdLCAnKicsIDEsIDMpO1xuICAgICAqIC8vID0+IFs0LCAnKicsICcqJywgMTBdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmlsbChhcnJheSwgdmFsdWUsIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIGlmIChzdGFydCAmJiB0eXBlb2Ygc3RhcnQgIT0gJ251bWJlcicgJiYgaXNJdGVyYXRlZUNhbGwoYXJyYXksIHZhbHVlLCBzdGFydCkpIHtcbiAgICAgICAgc3RhcnQgPSAwO1xuICAgICAgICBlbmQgPSBsZW5ndGg7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZUZpbGwoYXJyYXksIHZhbHVlLCBzdGFydCwgZW5kKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZpbmRgIGV4Y2VwdCB0aGF0IGl0IHJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBmaXJzdFxuICAgICAqIGVsZW1lbnQgYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yIGluc3RlYWQgb2YgdGhlIGVsZW1lbnQgaXRzZWxmLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PTBdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgZm91bmQgZWxlbWVudCwgZWxzZSBgLTFgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbmRJbmRleCh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby51c2VyID09ICdiYXJuZXknOyB9KTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZEluZGV4KHVzZXJzLCB7ICd1c2VyJzogJ2ZyZWQnLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gMVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZEluZGV4KHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kSW5kZXgodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZEluZGV4KGFycmF5LCBwcmVkaWNhdGUsIGZyb21JbmRleCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gZnJvbUluZGV4ID09IG51bGwgPyAwIDogdG9JbnRlZ2VyKGZyb21JbmRleCk7XG4gICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgIGluZGV4ID0gbmF0aXZlTWF4KGxlbmd0aCArIGluZGV4LCAwKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlRmluZEluZGV4KGFycmF5LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCBpbmRleCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5maW5kSW5kZXhgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgZWxlbWVudHNcbiAgICAgKiBvZiBgY29sbGVjdGlvbmAgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PWFycmF5Lmxlbmd0aC0xXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGZvdW5kIGVsZW1lbnQsIGVsc2UgYC0xYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5maW5kTGFzdEluZGV4KHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLnVzZXIgPT0gJ3BlYmJsZXMnOyB9KTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZExhc3RJbmRleCh1c2VycywgeyAndXNlcic6ICdiYXJuZXknLCAnYWN0aXZlJzogdHJ1ZSB9KTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kTGFzdEluZGV4KHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gMlxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kTGFzdEluZGV4KHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmRMYXN0SW5kZXgoYXJyYXksIHByZWRpY2F0ZSwgZnJvbUluZGV4KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSBsZW5ndGggLSAxO1xuICAgICAgaWYgKGZyb21JbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGluZGV4ID0gdG9JbnRlZ2VyKGZyb21JbmRleCk7XG4gICAgICAgIGluZGV4ID0gZnJvbUluZGV4IDwgMFxuICAgICAgICAgID8gbmF0aXZlTWF4KGxlbmd0aCArIGluZGV4LCAwKVxuICAgICAgICAgIDogbmF0aXZlTWluKGluZGV4LCBsZW5ndGggLSAxKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlRmluZEluZGV4KGFycmF5LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCBpbmRleCwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmxhdHRlbnMgYGFycmF5YCBhIHNpbmdsZSBsZXZlbCBkZWVwLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGZsYXR0ZW4uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZsYXR0ZW4oWzEsIFsyLCBbMywgWzRdXSwgNV1dKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgWzMsIFs0XV0sIDVdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdHRlbihhcnJheSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgcmV0dXJuIGxlbmd0aCA/IGJhc2VGbGF0dGVuKGFycmF5LCAxKSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlY3Vyc2l2ZWx5IGZsYXR0ZW5zIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gZmxhdHRlbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZmxhdHRlbkRlZXAoWzEsIFsyLCBbMywgWzRdXSwgNV1dKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgMywgNCwgNV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGF0dGVuRGVlcChhcnJheSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgcmV0dXJuIGxlbmd0aCA/IGJhc2VGbGF0dGVuKGFycmF5LCBJTkZJTklUWSkgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWN1cnNpdmVseSBmbGF0dGVuIGBhcnJheWAgdXAgdG8gYGRlcHRoYCB0aW1lcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjQuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBmbGF0dGVuLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZGVwdGg9MV0gVGhlIG1heGltdW0gcmVjdXJzaW9uIGRlcHRoLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZsYXR0ZW5lZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzEsIFsyLCBbMywgWzRdXSwgNV1dO1xuICAgICAqXG4gICAgICogXy5mbGF0dGVuRGVwdGgoYXJyYXksIDEpO1xuICAgICAqIC8vID0+IFsxLCAyLCBbMywgWzRdXSwgNV1cbiAgICAgKlxuICAgICAqIF8uZmxhdHRlbkRlcHRoKGFycmF5LCAyKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgMywgWzRdLCA1XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsYXR0ZW5EZXB0aChhcnJheSwgZGVwdGgpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIGRlcHRoID0gZGVwdGggPT09IHVuZGVmaW5lZCA/IDEgOiB0b0ludGVnZXIoZGVwdGgpO1xuICAgICAgcmV0dXJuIGJhc2VGbGF0dGVuKGFycmF5LCBkZXB0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGludmVyc2Ugb2YgYF8udG9QYWlyc2A7IHRoaXMgbWV0aG9kIHJldHVybnMgYW4gb2JqZWN0IGNvbXBvc2VkXG4gICAgICogZnJvbSBrZXktdmFsdWUgYHBhaXJzYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhaXJzIFRoZSBrZXktdmFsdWUgcGFpcnMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mcm9tUGFpcnMoW1snYScsIDFdLCBbJ2InLCAyXV0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZyb21QYWlycyhwYWlycykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcGFpcnMgPT0gbnVsbCA/IDAgOiBwYWlycy5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0ge307XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBwYWlyID0gcGFpcnNbaW5kZXhdO1xuICAgICAgICByZXN1bHRbcGFpclswXV0gPSBwYWlyWzFdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBmaXJzdCBlbGVtZW50IG9mIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAYWxpYXMgZmlyc3RcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGZpcnN0IGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5oZWFkKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gMVxuICAgICAqXG4gICAgICogXy5oZWFkKFtdKTtcbiAgICAgKiAvLyA9PiB1bmRlZmluZWRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoZWFkKGFycmF5KSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkgPyBhcnJheVswXSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBpbmRleCBhdCB3aGljaCB0aGUgZmlyc3Qgb2NjdXJyZW5jZSBvZiBgdmFsdWVgIGlzIGZvdW5kIGluIGBhcnJheWBcbiAgICAgKiB1c2luZyBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy4gSWYgYGZyb21JbmRleGAgaXMgbmVnYXRpdmUsIGl0J3MgdXNlZCBhcyB0aGVcbiAgICAgKiBvZmZzZXQgZnJvbSB0aGUgZW5kIG9mIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PTBdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmluZGV4T2YoWzEsIDIsIDEsIDJdLCAyKTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICpcbiAgICAgKiAvLyBTZWFyY2ggZnJvbSB0aGUgYGZyb21JbmRleGAuXG4gICAgICogXy5pbmRleE9mKFsxLCAyLCAxLCAyXSwgMiwgMik7XG4gICAgICogLy8gPT4gM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IGZyb21JbmRleCA9PSBudWxsID8gMCA6IHRvSW50ZWdlcihmcm9tSW5kZXgpO1xuICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICBpbmRleCA9IG5hdGl2ZU1heChsZW5ndGggKyBpbmRleCwgMCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZUluZGV4T2YoYXJyYXksIHZhbHVlLCBpbmRleCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhbGwgYnV0IHRoZSBsYXN0IGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW5pdGlhbChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluaXRpYWwoYXJyYXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIHJldHVybiBsZW5ndGggPyBiYXNlU2xpY2UoYXJyYXksIDAsIC0xKSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdW5pcXVlIHZhbHVlcyB0aGF0IGFyZSBpbmNsdWRlZCBpbiBhbGwgZ2l2ZW4gYXJyYXlzXG4gICAgICogdXNpbmcgW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuIFRoZSBvcmRlciBhbmQgcmVmZXJlbmNlcyBvZiByZXN1bHQgdmFsdWVzIGFyZVxuICAgICAqIGRldGVybWluZWQgYnkgdGhlIGZpcnN0IGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGludGVyc2VjdGluZyB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW50ZXJzZWN0aW9uKFsyLCAxXSwgWzIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMl1cbiAgICAgKi9cbiAgICB2YXIgaW50ZXJzZWN0aW9uID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgbWFwcGVkID0gYXJyYXlNYXAoYXJyYXlzLCBjYXN0QXJyYXlMaWtlT2JqZWN0KTtcbiAgICAgIHJldHVybiAobWFwcGVkLmxlbmd0aCAmJiBtYXBwZWRbMF0gPT09IGFycmF5c1swXSlcbiAgICAgICAgPyBiYXNlSW50ZXJzZWN0aW9uKG1hcHBlZClcbiAgICAgICAgOiBbXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaW50ZXJzZWN0aW9uYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWBcbiAgICAgKiB3aGljaCBpcyBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgb2YgZWFjaCBgYXJyYXlzYCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uXG4gICAgICogYnkgd2hpY2ggdGhleSdyZSBjb21wYXJlZC4gVGhlIG9yZGVyIGFuZCByZWZlcmVuY2VzIG9mIHJlc3VsdCB2YWx1ZXMgYXJlXG4gICAgICogZGV0ZXJtaW5lZCBieSB0aGUgZmlyc3QgYXJyYXkuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OlxuICAgICAqICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGludGVyc2VjdGluZyB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW50ZXJzZWN0aW9uQnkoWzIuMSwgMS4yXSwgWzIuMywgMy40XSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4gWzIuMV1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uaW50ZXJzZWN0aW9uQnkoW3sgJ3gnOiAxIH1dLCBbeyAneCc6IDIgfSwgeyAneCc6IDEgfV0sICd4Jyk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAxIH1dXG4gICAgICovXG4gICAgdmFyIGludGVyc2VjdGlvbkJ5ID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgaXRlcmF0ZWUgPSBsYXN0KGFycmF5cyksXG4gICAgICAgICAgbWFwcGVkID0gYXJyYXlNYXAoYXJyYXlzLCBjYXN0QXJyYXlMaWtlT2JqZWN0KTtcblxuICAgICAgaWYgKGl0ZXJhdGVlID09PSBsYXN0KG1hcHBlZCkpIHtcbiAgICAgICAgaXRlcmF0ZWUgPSB1bmRlZmluZWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtYXBwZWQucG9wKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gKG1hcHBlZC5sZW5ndGggJiYgbWFwcGVkWzBdID09PSBhcnJheXNbMF0pXG4gICAgICAgID8gYmFzZUludGVyc2VjdGlvbihtYXBwZWQsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSlcbiAgICAgICAgOiBbXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaW50ZXJzZWN0aW9uYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjb21wYXJhdG9yYFxuICAgICAqIHdoaWNoIGlzIGludm9rZWQgdG8gY29tcGFyZSBlbGVtZW50cyBvZiBgYXJyYXlzYC4gVGhlIG9yZGVyIGFuZCByZWZlcmVuY2VzXG4gICAgICogb2YgcmVzdWx0IHZhbHVlcyBhcmUgZGV0ZXJtaW5lZCBieSB0aGUgZmlyc3QgYXJyYXkuIFRoZSBjb21wYXJhdG9yIGlzXG4gICAgICogaW52b2tlZCB3aXRoIHR3byBhcmd1bWVudHM6IChhcnJWYWwsIG90aFZhbCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgaW50ZXJzZWN0aW5nIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMiwgJ3knOiAxIH1dO1xuICAgICAqIHZhciBvdGhlcnMgPSBbeyAneCc6IDEsICd5JzogMSB9LCB7ICd4JzogMSwgJ3knOiAyIH1dO1xuICAgICAqXG4gICAgICogXy5pbnRlcnNlY3Rpb25XaXRoKG9iamVjdHMsIG90aGVycywgXy5pc0VxdWFsKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDEsICd5JzogMiB9XVxuICAgICAqL1xuICAgIHZhciBpbnRlcnNlY3Rpb25XaXRoID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgY29tcGFyYXRvciA9IGxhc3QoYXJyYXlzKSxcbiAgICAgICAgICBtYXBwZWQgPSBhcnJheU1hcChhcnJheXMsIGNhc3RBcnJheUxpa2VPYmplY3QpO1xuXG4gICAgICBjb21wYXJhdG9yID0gdHlwZW9mIGNvbXBhcmF0b3IgPT0gJ2Z1bmN0aW9uJyA/IGNvbXBhcmF0b3IgOiB1bmRlZmluZWQ7XG4gICAgICBpZiAoY29tcGFyYXRvcikge1xuICAgICAgICBtYXBwZWQucG9wKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gKG1hcHBlZC5sZW5ndGggJiYgbWFwcGVkWzBdID09PSBhcnJheXNbMF0pXG4gICAgICAgID8gYmFzZUludGVyc2VjdGlvbihtYXBwZWQsIHVuZGVmaW5lZCwgY29tcGFyYXRvcilcbiAgICAgICAgOiBbXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGFsbCBlbGVtZW50cyBpbiBgYXJyYXlgIGludG8gYSBzdHJpbmcgc2VwYXJhdGVkIGJ5IGBzZXBhcmF0b3JgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGNvbnZlcnQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzZXBhcmF0b3I9JywnXSBUaGUgZWxlbWVudCBzZXBhcmF0b3IuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgam9pbmVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5qb2luKFsnYScsICdiJywgJ2MnXSwgJ34nKTtcbiAgICAgKiAvLyA9PiAnYX5ifmMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gam9pbihhcnJheSwgc2VwYXJhdG9yKSB7XG4gICAgICByZXR1cm4gYXJyYXkgPT0gbnVsbCA/ICcnIDogbmF0aXZlSm9pbi5jYWxsKGFycmF5LCBzZXBhcmF0b3IpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGxhc3QgZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBsYXN0IGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5sYXN0KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxhc3QoYXJyYXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIHJldHVybiBsZW5ndGggPyBhcnJheVtsZW5ndGggLSAxXSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmluZGV4T2ZgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2ZcbiAgICAgKiBgYXJyYXlgIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9YXJyYXkubGVuZ3RoLTFdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmxhc3RJbmRleE9mKFsxLCAyLCAxLCAyXSwgMik7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogLy8gU2VhcmNoIGZyb20gdGhlIGBmcm9tSW5kZXhgLlxuICAgICAqIF8ubGFzdEluZGV4T2YoWzEsIDIsIDEsIDJdLCAyLCAyKTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGFzdEluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IGxlbmd0aDtcbiAgICAgIGlmIChmcm9tSW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpbmRleCA9IHRvSW50ZWdlcihmcm9tSW5kZXgpO1xuICAgICAgICBpbmRleCA9IGluZGV4IDwgMCA/IG5hdGl2ZU1heChsZW5ndGggKyBpbmRleCwgMCkgOiBuYXRpdmVNaW4oaW5kZXgsIGxlbmd0aCAtIDEpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlID09PSB2YWx1ZVxuICAgICAgICA/IHN0cmljdExhc3RJbmRleE9mKGFycmF5LCB2YWx1ZSwgaW5kZXgpXG4gICAgICAgIDogYmFzZUZpbmRJbmRleChhcnJheSwgYmFzZUlzTmFOLCBpbmRleCwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgZWxlbWVudCBhdCBpbmRleCBgbmAgb2YgYGFycmF5YC4gSWYgYG5gIGlzIG5lZ2F0aXZlLCB0aGUgbnRoXG4gICAgICogZWxlbWVudCBmcm9tIHRoZSBlbmQgaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0wXSBUaGUgaW5kZXggb2YgdGhlIGVsZW1lbnQgdG8gcmV0dXJuLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBudGggZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbJ2EnLCAnYicsICdjJywgJ2QnXTtcbiAgICAgKlxuICAgICAqIF8ubnRoKGFycmF5LCAxKTtcbiAgICAgKiAvLyA9PiAnYidcbiAgICAgKlxuICAgICAqIF8ubnRoKGFycmF5LCAtMik7XG4gICAgICogLy8gPT4gJ2MnO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG50aChhcnJheSwgbikge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpID8gYmFzZU50aChhcnJheSwgdG9JbnRlZ2VyKG4pKSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBnaXZlbiB2YWx1ZXMgZnJvbSBgYXJyYXlgIHVzaW5nXG4gICAgICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLndpdGhvdXRgLCB0aGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuIFVzZSBgXy5yZW1vdmVgXG4gICAgICogdG8gcmVtb3ZlIGVsZW1lbnRzIGZyb20gYW4gYXJyYXkgYnkgcHJlZGljYXRlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0gey4uLip9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbJ2EnLCAnYicsICdjJywgJ2EnLCAnYicsICdjJ107XG4gICAgICpcbiAgICAgKiBfLnB1bGwoYXJyYXksICdhJywgJ2MnKTtcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWydiJywgJ2InXVxuICAgICAqL1xuICAgIHZhciBwdWxsID0gYmFzZVJlc3QocHVsbEFsbCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnB1bGxgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYW4gYXJyYXkgb2YgdmFsdWVzIHRvIHJlbW92ZS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8uZGlmZmVyZW5jZWAsIHRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbJ2EnLCAnYicsICdjJywgJ2EnLCAnYicsICdjJ107XG4gICAgICpcbiAgICAgKiBfLnB1bGxBbGwoYXJyYXksIFsnYScsICdjJ10pO1xuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbJ2InLCAnYiddXG4gICAgICovXG4gICAgZnVuY3Rpb24gcHVsbEFsbChhcnJheSwgdmFsdWVzKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCAmJiB2YWx1ZXMgJiYgdmFsdWVzLmxlbmd0aClcbiAgICAgICAgPyBiYXNlUHVsbEFsbChhcnJheSwgdmFsdWVzKVxuICAgICAgICA6IGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ucHVsbEFsbGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IG9mIGBhcnJheWAgYW5kIGB2YWx1ZXNgIHRvIGdlbmVyYXRlIHRoZSBjcml0ZXJpb25cbiAgICAgKiBieSB3aGljaCB0aGV5J3JlIGNvbXBhcmVkLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8uZGlmZmVyZW5jZUJ5YCwgdGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byByZW1vdmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbeyAneCc6IDEgfSwgeyAneCc6IDIgfSwgeyAneCc6IDMgfSwgeyAneCc6IDEgfV07XG4gICAgICpcbiAgICAgKiBfLnB1bGxBbGxCeShhcnJheSwgW3sgJ3gnOiAxIH0sIHsgJ3gnOiAzIH1dLCAneCcpO1xuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDIgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwdWxsQWxsQnkoYXJyYXksIHZhbHVlcywgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoICYmIHZhbHVlcyAmJiB2YWx1ZXMubGVuZ3RoKVxuICAgICAgICA/IGJhc2VQdWxsQWxsKGFycmF5LCB2YWx1ZXMsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSlcbiAgICAgICAgOiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnB1bGxBbGxgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGNvbXBhcmF0b3JgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCB0byBjb21wYXJlIGVsZW1lbnRzIG9mIGBhcnJheWAgdG8gYHZhbHVlc2AuIFRoZSBjb21wYXJhdG9yIGlzXG4gICAgICogaW52b2tlZCB3aXRoIHR3byBhcmd1bWVudHM6IChhcnJWYWwsIG90aFZhbCkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLmRpZmZlcmVuY2VXaXRoYCwgdGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNi4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byByZW1vdmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAzLCAneSc6IDQgfSwgeyAneCc6IDUsICd5JzogNiB9XTtcbiAgICAgKlxuICAgICAqIF8ucHVsbEFsbFdpdGgoYXJyYXksIFt7ICd4JzogMywgJ3knOiA0IH1dLCBfLmlzRXF1YWwpO1xuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogNSwgJ3knOiA2IH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gcHVsbEFsbFdpdGgoYXJyYXksIHZhbHVlcywgY29tcGFyYXRvcikge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGggJiYgdmFsdWVzICYmIHZhbHVlcy5sZW5ndGgpXG4gICAgICAgID8gYmFzZVB1bGxBbGwoYXJyYXksIHZhbHVlcywgdW5kZWZpbmVkLCBjb21wYXJhdG9yKVxuICAgICAgICA6IGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgZWxlbWVudHMgZnJvbSBgYXJyYXlgIGNvcnJlc3BvbmRpbmcgdG8gYGluZGV4ZXNgIGFuZCByZXR1cm5zIGFuXG4gICAgICogYXJyYXkgb2YgcmVtb3ZlZCBlbGVtZW50cy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8uYXRgLCB0aGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7Li4uKG51bWJlcnxudW1iZXJbXSl9IFtpbmRleGVzXSBUaGUgaW5kZXhlcyBvZiBlbGVtZW50cyB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgcmVtb3ZlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWydhJywgJ2InLCAnYycsICdkJ107XG4gICAgICogdmFyIHB1bGxlZCA9IF8ucHVsbEF0KGFycmF5LCBbMSwgM10pO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsnYScsICdjJ11cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKHB1bGxlZCk7XG4gICAgICogLy8gPT4gWydiJywgJ2QnXVxuICAgICAqL1xuICAgIHZhciBwdWxsQXQgPSBmbGF0UmVzdChmdW5jdGlvbihhcnJheSwgaW5kZXhlcykge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IGJhc2VBdChhcnJheSwgaW5kZXhlcyk7XG5cbiAgICAgIGJhc2VQdWxsQXQoYXJyYXksIGFycmF5TWFwKGluZGV4ZXMsIGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICAgIHJldHVybiBpc0luZGV4KGluZGV4LCBsZW5ndGgpID8gK2luZGV4IDogaW5kZXg7XG4gICAgICB9KS5zb3J0KGNvbXBhcmVBc2NlbmRpbmcpKTtcblxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGVsZW1lbnRzIGZyb20gYGFycmF5YCB0aGF0IGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvclxuICAgICAqIGFuZCByZXR1cm5zIGFuIGFycmF5IG9mIHRoZSByZW1vdmVkIGVsZW1lbnRzLiBUaGUgcHJlZGljYXRlIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleCwgYXJyYXkpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5maWx0ZXJgLCB0aGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuIFVzZSBgXy5wdWxsYFxuICAgICAqIHRvIHB1bGwgZWxlbWVudHMgZnJvbSBhbiBhcnJheSBieSB2YWx1ZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHJlbW92ZWQgZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxLCAyLCAzLCA0XTtcbiAgICAgKiB2YXIgZXZlbnMgPSBfLnJlbW92ZShhcnJheSwgZnVuY3Rpb24obikge1xuICAgICAqICAgcmV0dXJuIG4gJSAyID09IDA7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzEsIDNdXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhldmVucyk7XG4gICAgICogLy8gPT4gWzIsIDRdXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVtb3ZlKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgIGlmICghKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGluZGV4ZXMgPSBbXSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICAgIHByZWRpY2F0ZSA9IGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIGluZGV4LCBhcnJheSkpIHtcbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgaW5kZXhlcy5wdXNoKGluZGV4KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYmFzZVB1bGxBdChhcnJheSwgaW5kZXhlcyk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldmVyc2VzIGBhcnJheWAgc28gdGhhdCB0aGUgZmlyc3QgZWxlbWVudCBiZWNvbWVzIHRoZSBsYXN0LCB0aGUgc2Vjb25kXG4gICAgICogZWxlbWVudCBiZWNvbWVzIHRoZSBzZWNvbmQgdG8gbGFzdCwgYW5kIHNvIG9uLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YCBhbmQgaXMgYmFzZWQgb25cbiAgICAgKiBbYEFycmF5I3JldmVyc2VgXShodHRwczovL21kbi5pby9BcnJheS9yZXZlcnNlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxLCAyLCAzXTtcbiAgICAgKlxuICAgICAqIF8ucmV2ZXJzZShhcnJheSk7XG4gICAgICogLy8gPT4gWzMsIDIsIDFdXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzMsIDIsIDFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmV2ZXJzZShhcnJheSkge1xuICAgICAgcmV0dXJuIGFycmF5ID09IG51bGwgPyBhcnJheSA6IG5hdGl2ZVJldmVyc2UuY2FsbChhcnJheSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgZnJvbSBgc3RhcnRgIHVwIHRvLCBidXQgbm90IGluY2x1ZGluZywgYGVuZGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgdXNlZCBpbnN0ZWFkIG9mXG4gICAgICogW2BBcnJheSNzbGljZWBdKGh0dHBzOi8vbWRuLmlvL0FycmF5L3NsaWNlKSB0byBlbnN1cmUgZGVuc2UgYXJyYXlzIGFyZVxuICAgICAqIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNsaWNlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kPWFycmF5Lmxlbmd0aF0gVGhlIGVuZCBwb3NpdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2xpY2UoYXJyYXksIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIGlmIChlbmQgJiYgdHlwZW9mIGVuZCAhPSAnbnVtYmVyJyAmJiBpc0l0ZXJhdGVlQ2FsbChhcnJheSwgc3RhcnQsIGVuZCkpIHtcbiAgICAgICAgc3RhcnQgPSAwO1xuICAgICAgICBlbmQgPSBsZW5ndGg7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgc3RhcnQgPSBzdGFydCA9PSBudWxsID8gMCA6IHRvSW50ZWdlcihzdGFydCk7XG4gICAgICAgIGVuZCA9IGVuZCA9PT0gdW5kZWZpbmVkID8gbGVuZ3RoIDogdG9JbnRlZ2VyKGVuZCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZVNsaWNlKGFycmF5LCBzdGFydCwgZW5kKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2VzIGEgYmluYXJ5IHNlYXJjaCB0byBkZXRlcm1pbmUgdGhlIGxvd2VzdCBpbmRleCBhdCB3aGljaCBgdmFsdWVgXG4gICAgICogc2hvdWxkIGJlIGluc2VydGVkIGludG8gYGFycmF5YCBpbiBvcmRlciB0byBtYWludGFpbiBpdHMgc29ydCBvcmRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBzb3J0ZWQgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBldmFsdWF0ZS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBhdCB3aGljaCBgdmFsdWVgIHNob3VsZCBiZSBpbnNlcnRlZFxuICAgICAqICBpbnRvIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc29ydGVkSW5kZXgoWzMwLCA1MF0sIDQwKTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkSW5kZXgoYXJyYXksIHZhbHVlKSB7XG4gICAgICByZXR1cm4gYmFzZVNvcnRlZEluZGV4KGFycmF5LCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5zb3J0ZWRJbmRleGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgXG4gICAgICogd2hpY2ggaXMgaW52b2tlZCBmb3IgYHZhbHVlYCBhbmQgZWFjaCBlbGVtZW50IG9mIGBhcnJheWAgdG8gY29tcHV0ZSB0aGVpclxuICAgICAqIHNvcnQgcmFua2luZy4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgc29ydGVkIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZXZhbHVhdGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkXG4gICAgICogIGludG8gYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAneCc6IDQgfSwgeyAneCc6IDUgfV07XG4gICAgICpcbiAgICAgKiBfLnNvcnRlZEluZGV4Qnkob2JqZWN0cywgeyAneCc6IDQgfSwgZnVuY3Rpb24obykgeyByZXR1cm4gby54OyB9KTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnNvcnRlZEluZGV4Qnkob2JqZWN0cywgeyAneCc6IDQgfSwgJ3gnKTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkSW5kZXhCeShhcnJheSwgdmFsdWUsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gYmFzZVNvcnRlZEluZGV4QnkoYXJyYXksIHZhbHVlLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaW5kZXhPZmAgZXhjZXB0IHRoYXQgaXQgcGVyZm9ybXMgYSBiaW5hcnlcbiAgICAgKiBzZWFyY2ggb24gYSBzb3J0ZWQgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zb3J0ZWRJbmRleE9mKFs0LCA1LCA1LCA1LCA2XSwgNSk7XG4gICAgICogLy8gPT4gMVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZEluZGV4T2YoYXJyYXksIHZhbHVlKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAobGVuZ3RoKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGJhc2VTb3J0ZWRJbmRleChhcnJheSwgdmFsdWUpO1xuICAgICAgICBpZiAoaW5kZXggPCBsZW5ndGggJiYgZXEoYXJyYXlbaW5kZXhdLCB2YWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnNvcnRlZEluZGV4YCBleGNlcHQgdGhhdCBpdCByZXR1cm5zIHRoZSBoaWdoZXN0XG4gICAgICogaW5kZXggYXQgd2hpY2ggYHZhbHVlYCBzaG91bGQgYmUgaW5zZXJ0ZWQgaW50byBgYXJyYXlgIGluIG9yZGVyIHRvXG4gICAgICogbWFpbnRhaW4gaXRzIHNvcnQgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgc29ydGVkIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZXZhbHVhdGUuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggYXQgd2hpY2ggYHZhbHVlYCBzaG91bGQgYmUgaW5zZXJ0ZWRcbiAgICAgKiAgaW50byBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvcnRlZExhc3RJbmRleChbNCwgNSwgNSwgNSwgNl0sIDUpO1xuICAgICAqIC8vID0+IDRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRMYXN0SW5kZXgoYXJyYXksIHZhbHVlKSB7XG4gICAgICByZXR1cm4gYmFzZVNvcnRlZEluZGV4KGFycmF5LCB2YWx1ZSwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5zb3J0ZWRMYXN0SW5kZXhgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYFxuICAgICAqIHdoaWNoIGlzIGludm9rZWQgZm9yIGB2YWx1ZWAgYW5kIGVhY2ggZWxlbWVudCBvZiBgYXJyYXlgIHRvIGNvbXB1dGUgdGhlaXJcbiAgICAgKiBzb3J0IHJhbmtpbmcuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIHNvcnRlZCBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGV2YWx1YXRlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBhdCB3aGljaCBgdmFsdWVgIHNob3VsZCBiZSBpbnNlcnRlZFxuICAgICAqICBpbnRvIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ3gnOiA0IH0sIHsgJ3gnOiA1IH1dO1xuICAgICAqXG4gICAgICogXy5zb3J0ZWRMYXN0SW5kZXhCeShvYmplY3RzLCB7ICd4JzogNCB9LCBmdW5jdGlvbihvKSB7IHJldHVybiBvLng7IH0pO1xuICAgICAqIC8vID0+IDFcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uc29ydGVkTGFzdEluZGV4Qnkob2JqZWN0cywgeyAneCc6IDQgfSwgJ3gnKTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkTGFzdEluZGV4QnkoYXJyYXksIHZhbHVlLCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIGJhc2VTb3J0ZWRJbmRleEJ5KGFycmF5LCB2YWx1ZSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpLCB0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmxhc3RJbmRleE9mYCBleGNlcHQgdGhhdCBpdCBwZXJmb3JtcyBhIGJpbmFyeVxuICAgICAqIHNlYXJjaCBvbiBhIHNvcnRlZCBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvcnRlZExhc3RJbmRleE9mKFs0LCA1LCA1LCA1LCA2XSwgNSk7XG4gICAgICogLy8gPT4gM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZExhc3RJbmRleE9mKGFycmF5LCB2YWx1ZSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKGxlbmd0aCkge1xuICAgICAgICB2YXIgaW5kZXggPSBiYXNlU29ydGVkSW5kZXgoYXJyYXksIHZhbHVlLCB0cnVlKSAtIDE7XG4gICAgICAgIGlmIChlcShhcnJheVtpbmRleF0sIHZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udW5pcWAgZXhjZXB0IHRoYXQgaXQncyBkZXNpZ25lZCBhbmQgb3B0aW1pemVkXG4gICAgICogZm9yIHNvcnRlZCBhcnJheXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zb3J0ZWRVbmlxKFsxLCAxLCAyXSk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkVW5pcShhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVNvcnRlZFVuaXEoYXJyYXkpXG4gICAgICAgIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51bmlxQnlgIGV4Y2VwdCB0aGF0IGl0J3MgZGVzaWduZWQgYW5kIG9wdGltaXplZFxuICAgICAqIGZvciBzb3J0ZWQgYXJyYXlzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zb3J0ZWRVbmlxQnkoWzEuMSwgMS4yLCAyLjMsIDIuNF0sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IFsxLjEsIDIuM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRVbmlxQnkoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlU29ydGVkVW5pcShhcnJheSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKVxuICAgICAgICA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgYWxsIGJ1dCB0aGUgZmlyc3QgZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50YWlsKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gWzIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGFpbChhcnJheSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgcmV0dXJuIGxlbmd0aCA/IGJhc2VTbGljZShhcnJheSwgMSwgbGVuZ3RoKSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIHdpdGggYG5gIGVsZW1lbnRzIHRha2VuIGZyb20gdGhlIGJlZ2lubmluZy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249MV0gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byB0YWtlLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRha2UoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMV1cbiAgICAgKlxuICAgICAqIF8udGFrZShbMSwgMiwgM10sIDIpO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqXG4gICAgICogXy50YWtlKFsxLCAyLCAzXSwgNSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiBfLnRha2UoWzEsIDIsIDNdLCAwKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRha2UoYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgICBpZiAoIShhcnJheSAmJiBhcnJheS5sZW5ndGgpKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIG4gPSAoZ3VhcmQgfHwgbiA9PT0gdW5kZWZpbmVkKSA/IDEgOiB0b0ludGVnZXIobik7XG4gICAgICByZXR1cm4gYmFzZVNsaWNlKGFycmF5LCAwLCBuIDwgMCA/IDAgOiBuKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCB3aXRoIGBuYCBlbGVtZW50cyB0YWtlbiBmcm9tIHRoZSBlbmQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTFdIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gdGFrZS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50YWtlUmlnaHQoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBbM11cbiAgICAgKlxuICAgICAqIF8udGFrZVJpZ2h0KFsxLCAyLCAzXSwgMik7XG4gICAgICogLy8gPT4gWzIsIDNdXG4gICAgICpcbiAgICAgKiBfLnRha2VSaWdodChbMSwgMiwgM10sIDUpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogXy50YWtlUmlnaHQoWzEsIDIsIDNdLCAwKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRha2VSaWdodChhcnJheSwgbiwgZ3VhcmQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIG4gPSAoZ3VhcmQgfHwgbiA9PT0gdW5kZWZpbmVkKSA/IDEgOiB0b0ludGVnZXIobik7XG4gICAgICBuID0gbGVuZ3RoIC0gbjtcbiAgICAgIHJldHVybiBiYXNlU2xpY2UoYXJyYXksIG4gPCAwID8gMCA6IG4sIGxlbmd0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgd2l0aCBlbGVtZW50cyB0YWtlbiBmcm9tIHRoZSBlbmQuIEVsZW1lbnRzIGFyZVxuICAgICAqIHRha2VuIHVudGlsIGBwcmVkaWNhdGVgIHJldHVybnMgZmFsc2V5LiBUaGUgcHJlZGljYXRlIGlzIGludm9rZWQgd2l0aFxuICAgICAqIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleCwgYXJyYXkpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8udGFrZVJpZ2h0V2hpbGUodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuICFvLmFjdGl2ZTsgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJywgJ3BlYmJsZXMnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnRha2VSaWdodFdoaWxlKHVzZXJzLCB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydwZWJibGVzJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnRha2VSaWdodFdoaWxlKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJywgJ3BlYmJsZXMnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy50YWtlUmlnaHRXaGlsZSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IFtdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGFrZVJpZ2h0V2hpbGUoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVdoaWxlKGFycmF5LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCBmYWxzZSwgdHJ1ZSlcbiAgICAgICAgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCB3aXRoIGVsZW1lbnRzIHRha2VuIGZyb20gdGhlIGJlZ2lubmluZy4gRWxlbWVudHNcbiAgICAgKiBhcmUgdGFrZW4gdW50aWwgYHByZWRpY2F0ZWAgcmV0dXJucyBmYWxzZXkuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZCB3aXRoXG4gICAgICogdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4LCBhcnJheSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiB0cnVlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy50YWtlV2hpbGUodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuICFvLmFjdGl2ZTsgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknLCAnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udGFrZVdoaWxlKHVzZXJzLCB7ICd1c2VyJzogJ2Jhcm5leScsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leSddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy50YWtlV2hpbGUodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leScsICdmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udGFrZVdoaWxlKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0YWtlV2hpbGUoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVdoaWxlKGFycmF5LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpKVxuICAgICAgICA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdW5pcXVlIHZhbHVlcywgaW4gb3JkZXIsIGZyb20gYWxsIGdpdmVuIGFycmF5cyB1c2luZ1xuICAgICAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGNvbWJpbmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51bmlvbihbMl0sIFsxLCAyXSk7XG4gICAgICogLy8gPT4gWzIsIDFdXG4gICAgICovXG4gICAgdmFyIHVuaW9uID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICByZXR1cm4gYmFzZVVuaXEoYmFzZUZsYXR0ZW4oYXJyYXlzLCAxLCBpc0FycmF5TGlrZU9iamVjdCwgdHJ1ZSkpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51bmlvbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IG9mIGVhY2ggYGFycmF5c2AgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvbiBieVxuICAgICAqIHdoaWNoIHVuaXF1ZW5lc3MgaXMgY29tcHV0ZWQuIFJlc3VsdCB2YWx1ZXMgYXJlIGNob3NlbiBmcm9tIHRoZSBmaXJzdFxuICAgICAqIGFycmF5IGluIHdoaWNoIHRoZSB2YWx1ZSBvY2N1cnMuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OlxuICAgICAqICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGNvbWJpbmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51bmlvbkJ5KFsyLjFdLCBbMS4yLCAyLjNdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiBbMi4xLCAxLjJdXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnVuaW9uQnkoW3sgJ3gnOiAxIH1dLCBbeyAneCc6IDIgfSwgeyAneCc6IDEgfV0sICd4Jyk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAxIH0sIHsgJ3gnOiAyIH1dXG4gICAgICovXG4gICAgdmFyIHVuaW9uQnkgPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBpdGVyYXRlZSA9IGxhc3QoYXJyYXlzKTtcbiAgICAgIGlmIChpc0FycmF5TGlrZU9iamVjdChpdGVyYXRlZSkpIHtcbiAgICAgICAgaXRlcmF0ZWUgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZVVuaXEoYmFzZUZsYXR0ZW4oYXJyYXlzLCAxLCBpc0FycmF5TGlrZU9iamVjdCwgdHJ1ZSksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVuaW9uYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjb21wYXJhdG9yYCB3aGljaFxuICAgICAqIGlzIGludm9rZWQgdG8gY29tcGFyZSBlbGVtZW50cyBvZiBgYXJyYXlzYC4gUmVzdWx0IHZhbHVlcyBhcmUgY2hvc2VuIGZyb21cbiAgICAgKiB0aGUgZmlyc3QgYXJyYXkgaW4gd2hpY2ggdGhlIHZhbHVlIG9jY3Vycy4gVGhlIGNvbXBhcmF0b3IgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdHdvIGFyZ3VtZW50czogKGFyclZhbCwgb3RoVmFsKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBjb21iaW5lZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDIsICd5JzogMSB9XTtcbiAgICAgKiB2YXIgb3RoZXJzID0gW3sgJ3gnOiAxLCAneSc6IDEgfSwgeyAneCc6IDEsICd5JzogMiB9XTtcbiAgICAgKlxuICAgICAqIF8udW5pb25XaXRoKG9iamVjdHMsIG90aGVycywgXy5pc0VxdWFsKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMiwgJ3knOiAxIH0sIHsgJ3gnOiAxLCAneSc6IDEgfV1cbiAgICAgKi9cbiAgICB2YXIgdW5pb25XaXRoID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgY29tcGFyYXRvciA9IGxhc3QoYXJyYXlzKTtcbiAgICAgIGNvbXBhcmF0b3IgPSB0eXBlb2YgY29tcGFyYXRvciA9PSAnZnVuY3Rpb24nID8gY29tcGFyYXRvciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBiYXNlVW5pcShiYXNlRmxhdHRlbihhcnJheXMsIDEsIGlzQXJyYXlMaWtlT2JqZWN0LCB0cnVlKSwgdW5kZWZpbmVkLCBjb21wYXJhdG9yKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBkdXBsaWNhdGUtZnJlZSB2ZXJzaW9uIG9mIGFuIGFycmF5LCB1c2luZ1xuICAgICAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLCBpbiB3aGljaCBvbmx5IHRoZSBmaXJzdCBvY2N1cnJlbmNlIG9mIGVhY2ggZWxlbWVudFxuICAgICAqIGlzIGtlcHQuIFRoZSBvcmRlciBvZiByZXN1bHQgdmFsdWVzIGlzIGRldGVybWluZWQgYnkgdGhlIG9yZGVyIHRoZXkgb2NjdXJcbiAgICAgKiBpbiB0aGUgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51bmlxKFsyLCAxLCAyXSk7XG4gICAgICogLy8gPT4gWzIsIDFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5pcShhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpID8gYmFzZVVuaXEoYXJyYXkpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51bmlxYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgaW4gYGFycmF5YCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uIGJ5IHdoaWNoXG4gICAgICogdW5pcXVlbmVzcyBpcyBjb21wdXRlZC4gVGhlIG9yZGVyIG9mIHJlc3VsdCB2YWx1ZXMgaXMgZGV0ZXJtaW5lZCBieSB0aGVcbiAgICAgKiBvcmRlciB0aGV5IG9jY3VyIGluIHRoZSBhcnJheS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6XG4gICAgICogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51bmlxQnkoWzIuMSwgMS4yLCAyLjNdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiBbMi4xLCAxLjJdXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnVuaXFCeShbeyAneCc6IDEgfSwgeyAneCc6IDIgfSwgeyAneCc6IDEgfV0sICd4Jyk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAxIH0sIHsgJ3gnOiAyIH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5pcUJ5KGFycmF5LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpID8gYmFzZVVuaXEoYXJyYXksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSkgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVuaXFgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGNvbXBhcmF0b3JgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCB0byBjb21wYXJlIGVsZW1lbnRzIG9mIGBhcnJheWAuIFRoZSBvcmRlciBvZiByZXN1bHQgdmFsdWVzIGlzXG4gICAgICogZGV0ZXJtaW5lZCBieSB0aGUgb3JkZXIgdGhleSBvY2N1ciBpbiB0aGUgYXJyYXkuVGhlIGNvbXBhcmF0b3IgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdHdvIGFyZ3VtZW50czogKGFyclZhbCwgb3RoVmFsKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGR1cGxpY2F0ZSBmcmVlIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAyLCAneSc6IDEgfSwgeyAneCc6IDEsICd5JzogMiB9XTtcbiAgICAgKlxuICAgICAqIF8udW5pcVdpdGgob2JqZWN0cywgXy5pc0VxdWFsKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMiwgJ3knOiAxIH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5pcVdpdGgoYXJyYXksIGNvbXBhcmF0b3IpIHtcbiAgICAgIGNvbXBhcmF0b3IgPSB0eXBlb2YgY29tcGFyYXRvciA9PSAnZnVuY3Rpb24nID8gY29tcGFyYXRvciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSA/IGJhc2VVbmlxKGFycmF5LCB1bmRlZmluZWQsIGNvbXBhcmF0b3IpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy56aXBgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYW4gYXJyYXkgb2YgZ3JvdXBlZFxuICAgICAqIGVsZW1lbnRzIGFuZCBjcmVhdGVzIGFuIGFycmF5IHJlZ3JvdXBpbmcgdGhlIGVsZW1lbnRzIHRvIHRoZWlyIHByZS16aXBcbiAgICAgKiBjb25maWd1cmF0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMi4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IG9mIGdyb3VwZWQgZWxlbWVudHMgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiByZWdyb3VwZWQgZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB6aXBwZWQgPSBfLnppcChbJ2EnLCAnYiddLCBbMSwgMl0sIFt0cnVlLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IFtbJ2EnLCAxLCB0cnVlXSwgWydiJywgMiwgZmFsc2VdXVxuICAgICAqXG4gICAgICogXy51bnppcCh6aXBwZWQpO1xuICAgICAqIC8vID0+IFtbJ2EnLCAnYiddLCBbMSwgMl0sIFt0cnVlLCBmYWxzZV1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW56aXAoYXJyYXkpIHtcbiAgICAgIGlmICghKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgdmFyIGxlbmd0aCA9IDA7XG4gICAgICBhcnJheSA9IGFycmF5RmlsdGVyKGFycmF5LCBmdW5jdGlvbihncm91cCkge1xuICAgICAgICBpZiAoaXNBcnJheUxpa2VPYmplY3QoZ3JvdXApKSB7XG4gICAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWF4KGdyb3VwLmxlbmd0aCwgbGVuZ3RoKTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gYmFzZVRpbWVzKGxlbmd0aCwgZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGFycmF5TWFwKGFycmF5LCBiYXNlUHJvcGVydHkoaW5kZXgpKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udW56aXBgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB0byBzcGVjaWZ5XG4gICAgICogaG93IHJlZ3JvdXBlZCB2YWx1ZXMgc2hvdWxkIGJlIGNvbWJpbmVkLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIHRoZVxuICAgICAqIGVsZW1lbnRzIG9mIGVhY2ggZ3JvdXA6ICguLi5ncm91cCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy44LjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgb2YgZ3JvdXBlZCBlbGVtZW50cyB0byBwcm9jZXNzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gdG8gY29tYmluZVxuICAgICAqICByZWdyb3VwZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHJlZ3JvdXBlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHppcHBlZCA9IF8uemlwKFsxLCAyXSwgWzEwLCAyMF0sIFsxMDAsIDIwMF0pO1xuICAgICAqIC8vID0+IFtbMSwgMTAsIDEwMF0sIFsyLCAyMCwgMjAwXV1cbiAgICAgKlxuICAgICAqIF8udW56aXBXaXRoKHppcHBlZCwgXy5hZGQpO1xuICAgICAqIC8vID0+IFszLCAzMCwgMzAwXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuemlwV2l0aChhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIGlmICghKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IHVuemlwKGFycmF5KTtcbiAgICAgIGlmIChpdGVyYXRlZSA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXlNYXAocmVzdWx0LCBmdW5jdGlvbihncm91cCkge1xuICAgICAgICByZXR1cm4gYXBwbHkoaXRlcmF0ZWUsIHVuZGVmaW5lZCwgZ3JvdXApO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBleGNsdWRpbmcgYWxsIGdpdmVuIHZhbHVlcyB1c2luZ1xuICAgICAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5wdWxsYCwgdGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBleGNsdWRlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAc2VlIF8uZGlmZmVyZW5jZSwgXy54b3JcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy53aXRob3V0KFsyLCAxLCAyLCAzXSwgMSwgMik7XG4gICAgICogLy8gPT4gWzNdXG4gICAgICovXG4gICAgdmFyIHdpdGhvdXQgPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheSwgdmFsdWVzKSB7XG4gICAgICByZXR1cm4gaXNBcnJheUxpa2VPYmplY3QoYXJyYXkpXG4gICAgICAgID8gYmFzZURpZmZlcmVuY2UoYXJyYXksIHZhbHVlcylcbiAgICAgICAgOiBbXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdW5pcXVlIHZhbHVlcyB0aGF0IGlzIHRoZVxuICAgICAqIFtzeW1tZXRyaWMgZGlmZmVyZW5jZV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvU3ltbWV0cmljX2RpZmZlcmVuY2UpXG4gICAgICogb2YgdGhlIGdpdmVuIGFycmF5cy4gVGhlIG9yZGVyIG9mIHJlc3VsdCB2YWx1ZXMgaXMgZGV0ZXJtaW5lZCBieSB0aGUgb3JkZXJcbiAgICAgKiB0aGV5IG9jY3VyIGluIHRoZSBhcnJheXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi40LjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBzZWUgXy5kaWZmZXJlbmNlLCBfLndpdGhvdXRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy54b3IoWzIsIDFdLCBbMiwgM10pO1xuICAgICAqIC8vID0+IFsxLCAzXVxuICAgICAqL1xuICAgIHZhciB4b3IgPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHJldHVybiBiYXNlWG9yKGFycmF5RmlsdGVyKGFycmF5cywgaXNBcnJheUxpa2VPYmplY3QpKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ueG9yYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgb2YgZWFjaCBgYXJyYXlzYCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uIGJ5XG4gICAgICogd2hpY2ggYnkgd2hpY2ggdGhleSdyZSBjb21wYXJlZC4gVGhlIG9yZGVyIG9mIHJlc3VsdCB2YWx1ZXMgaXMgZGV0ZXJtaW5lZFxuICAgICAqIGJ5IHRoZSBvcmRlciB0aGV5IG9jY3VyIGluIHRoZSBhcnJheXMuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lXG4gICAgICogYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy54b3JCeShbMi4xLCAxLjJdLCBbMi4zLCAzLjRdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiBbMS4yLCAzLjRdXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnhvckJ5KFt7ICd4JzogMSB9XSwgW3sgJ3gnOiAyIH0sIHsgJ3gnOiAxIH1dLCAneCcpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMiB9XVxuICAgICAqL1xuICAgIHZhciB4b3JCeSA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgdmFyIGl0ZXJhdGVlID0gbGFzdChhcnJheXMpO1xuICAgICAgaWYgKGlzQXJyYXlMaWtlT2JqZWN0KGl0ZXJhdGVlKSkge1xuICAgICAgICBpdGVyYXRlZSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlWG9yKGFycmF5RmlsdGVyKGFycmF5cywgaXNBcnJheUxpa2VPYmplY3QpLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy54b3JgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGNvbXBhcmF0b3JgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCB0byBjb21wYXJlIGVsZW1lbnRzIG9mIGBhcnJheXNgLiBUaGUgb3JkZXIgb2YgcmVzdWx0IHZhbHVlcyBpc1xuICAgICAqIGRldGVybWluZWQgYnkgdGhlIG9yZGVyIHRoZXkgb2NjdXIgaW4gdGhlIGFycmF5cy4gVGhlIGNvbXBhcmF0b3IgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdHdvIGFyZ3VtZW50czogKGFyclZhbCwgb3RoVmFsKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDIsICd5JzogMSB9XTtcbiAgICAgKiB2YXIgb3RoZXJzID0gW3sgJ3gnOiAxLCAneSc6IDEgfSwgeyAneCc6IDEsICd5JzogMiB9XTtcbiAgICAgKlxuICAgICAqIF8ueG9yV2l0aChvYmplY3RzLCBvdGhlcnMsIF8uaXNFcXVhbCk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAyLCAneSc6IDEgfSwgeyAneCc6IDEsICd5JzogMSB9XVxuICAgICAqL1xuICAgIHZhciB4b3JXaXRoID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgY29tcGFyYXRvciA9IGxhc3QoYXJyYXlzKTtcbiAgICAgIGNvbXBhcmF0b3IgPSB0eXBlb2YgY29tcGFyYXRvciA9PSAnZnVuY3Rpb24nID8gY29tcGFyYXRvciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBiYXNlWG9yKGFycmF5RmlsdGVyKGFycmF5cywgaXNBcnJheUxpa2VPYmplY3QpLCB1bmRlZmluZWQsIGNvbXBhcmF0b3IpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBncm91cGVkIGVsZW1lbnRzLCB0aGUgZmlyc3Qgb2Ygd2hpY2ggY29udGFpbnMgdGhlXG4gICAgICogZmlyc3QgZWxlbWVudHMgb2YgdGhlIGdpdmVuIGFycmF5cywgdGhlIHNlY29uZCBvZiB3aGljaCBjb250YWlucyB0aGVcbiAgICAgKiBzZWNvbmQgZWxlbWVudHMgb2YgdGhlIGdpdmVuIGFycmF5cywgYW5kIHNvIG9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBwcm9jZXNzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGdyb3VwZWQgZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uemlwKFsnYScsICdiJ10sIFsxLCAyXSwgW3RydWUsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gW1snYScsIDEsIHRydWVdLCBbJ2InLCAyLCBmYWxzZV1dXG4gICAgICovXG4gICAgdmFyIHppcCA9IGJhc2VSZXN0KHVuemlwKTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZnJvbVBhaXJzYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIHR3byBhcnJheXMsXG4gICAgICogb25lIG9mIHByb3BlcnR5IGlkZW50aWZpZXJzIGFuZCBvbmUgb2YgY29ycmVzcG9uZGluZyB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC40LjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcHJvcHM9W11dIFRoZSBwcm9wZXJ0eSBpZGVudGlmaWVycy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbdmFsdWVzPVtdXSBUaGUgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uemlwT2JqZWN0KFsnYScsICdiJ10sIFsxLCAyXSk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gemlwT2JqZWN0KHByb3BzLCB2YWx1ZXMpIHtcbiAgICAgIHJldHVybiBiYXNlWmlwT2JqZWN0KHByb3BzIHx8IFtdLCB2YWx1ZXMgfHwgW10sIGFzc2lnblZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnppcE9iamVjdGAgZXhjZXB0IHRoYXQgaXQgc3VwcG9ydHMgcHJvcGVydHkgcGF0aHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcHJvcHM9W11dIFRoZSBwcm9wZXJ0eSBpZGVudGlmaWVycy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbdmFsdWVzPVtdXSBUaGUgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uemlwT2JqZWN0RGVlcChbJ2EuYlswXS5jJywgJ2EuYlsxXS5kJ10sIFsxLCAyXSk7XG4gICAgICogLy8gPT4geyAnYSc6IHsgJ2InOiBbeyAnYyc6IDEgfSwgeyAnZCc6IDIgfV0gfSB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gemlwT2JqZWN0RGVlcChwcm9wcywgdmFsdWVzKSB7XG4gICAgICByZXR1cm4gYmFzZVppcE9iamVjdChwcm9wcyB8fCBbXSwgdmFsdWVzIHx8IFtdLCBiYXNlU2V0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnppcGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHRvIHNwZWNpZnlcbiAgICAgKiBob3cgZ3JvdXBlZCB2YWx1ZXMgc2hvdWxkIGJlIGNvbWJpbmVkLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIHRoZVxuICAgICAqIGVsZW1lbnRzIG9mIGVhY2ggZ3JvdXA6ICguLi5ncm91cCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy44LjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIHByb2Nlc3MuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiB0byBjb21iaW5lXG4gICAgICogIGdyb3VwZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGdyb3VwZWQgZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uemlwV2l0aChbMSwgMl0sIFsxMCwgMjBdLCBbMTAwLCAyMDBdLCBmdW5jdGlvbihhLCBiLCBjKSB7XG4gICAgICogICByZXR1cm4gYSArIGIgKyBjO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IFsxMTEsIDIyMl1cbiAgICAgKi9cbiAgICB2YXIgemlwV2l0aCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5cy5sZW5ndGgsXG4gICAgICAgICAgaXRlcmF0ZWUgPSBsZW5ndGggPiAxID8gYXJyYXlzW2xlbmd0aCAtIDFdIDogdW5kZWZpbmVkO1xuXG4gICAgICBpdGVyYXRlZSA9IHR5cGVvZiBpdGVyYXRlZSA9PSAnZnVuY3Rpb24nID8gKGFycmF5cy5wb3AoKSwgaXRlcmF0ZWUpIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIHVuemlwV2l0aChhcnJheXMsIGl0ZXJhdGVlKTtcbiAgICB9KTtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlIHRoYXQgd3JhcHMgYHZhbHVlYCB3aXRoIGV4cGxpY2l0IG1ldGhvZFxuICAgICAqIGNoYWluIHNlcXVlbmNlcyBlbmFibGVkLiBUaGUgcmVzdWx0IG9mIHN1Y2ggc2VxdWVuY2VzIG11c3QgYmUgdW53cmFwcGVkXG4gICAgICogd2l0aCBgXyN2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gd3JhcC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FnZSc6IDM2IH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWdlJzogNDAgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhZ2UnOiAxIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogdmFyIHlvdW5nZXN0ID0gX1xuICAgICAqICAgLmNoYWluKHVzZXJzKVxuICAgICAqICAgLnNvcnRCeSgnYWdlJylcbiAgICAgKiAgIC5tYXAoZnVuY3Rpb24obykge1xuICAgICAqICAgICByZXR1cm4gby51c2VyICsgJyBpcyAnICsgby5hZ2U7XG4gICAgICogICB9KVxuICAgICAqICAgLmhlYWQoKVxuICAgICAqICAgLnZhbHVlKCk7XG4gICAgICogLy8gPT4gJ3BlYmJsZXMgaXMgMSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjaGFpbih2YWx1ZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IGxvZGFzaCh2YWx1ZSk7XG4gICAgICByZXN1bHQuX19jaGFpbl9fID0gdHJ1ZTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaW52b2tlcyBgaW50ZXJjZXB0b3JgIGFuZCByZXR1cm5zIGB2YWx1ZWAuIFRoZSBpbnRlcmNlcHRvclxuICAgICAqIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ7ICh2YWx1ZSkuIFRoZSBwdXJwb3NlIG9mIHRoaXMgbWV0aG9kIGlzIHRvXG4gICAgICogXCJ0YXAgaW50b1wiIGEgbWV0aG9kIGNoYWluIHNlcXVlbmNlIGluIG9yZGVyIHRvIG1vZGlmeSBpbnRlcm1lZGlhdGUgcmVzdWx0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm92aWRlIHRvIGBpbnRlcmNlcHRvcmAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaW50ZXJjZXB0b3IgVGhlIGZ1bmN0aW9uIHRvIGludm9rZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyBgdmFsdWVgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfKFsxLCAyLCAzXSlcbiAgICAgKiAgLnRhcChmdW5jdGlvbihhcnJheSkge1xuICAgICAqICAgIC8vIE11dGF0ZSBpbnB1dCBhcnJheS5cbiAgICAgKiAgICBhcnJheS5wb3AoKTtcbiAgICAgKiAgfSlcbiAgICAgKiAgLnJldmVyc2UoKVxuICAgICAqICAudmFsdWUoKTtcbiAgICAgKiAvLyA9PiBbMiwgMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0YXAodmFsdWUsIGludGVyY2VwdG9yKSB7XG4gICAgICBpbnRlcmNlcHRvcih2YWx1ZSk7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy50YXBgIGV4Y2VwdCB0aGF0IGl0IHJldHVybnMgdGhlIHJlc3VsdCBvZiBgaW50ZXJjZXB0b3JgLlxuICAgICAqIFRoZSBwdXJwb3NlIG9mIHRoaXMgbWV0aG9kIGlzIHRvIFwicGFzcyB0aHJ1XCIgdmFsdWVzIHJlcGxhY2luZyBpbnRlcm1lZGlhdGVcbiAgICAgKiByZXN1bHRzIGluIGEgbWV0aG9kIGNoYWluIHNlcXVlbmNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb3ZpZGUgdG8gYGludGVyY2VwdG9yYC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpbnRlcmNlcHRvciBUaGUgZnVuY3Rpb24gdG8gaW52b2tlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXN1bHQgb2YgYGludGVyY2VwdG9yYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXygnICBhYmMgICcpXG4gICAgICogIC5jaGFpbigpXG4gICAgICogIC50cmltKClcbiAgICAgKiAgLnRocnUoZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgKiAgICByZXR1cm4gW3ZhbHVlXTtcbiAgICAgKiAgfSlcbiAgICAgKiAgLnZhbHVlKCk7XG4gICAgICogLy8gPT4gWydhYmMnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRocnUodmFsdWUsIGludGVyY2VwdG9yKSB7XG4gICAgICByZXR1cm4gaW50ZXJjZXB0b3IodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIHRoZSB3cmFwcGVyIHZlcnNpb24gb2YgYF8uYXRgLlxuICAgICAqXG4gICAgICogQG5hbWUgYXRcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcGFyYW0gey4uLihzdHJpbmd8c3RyaW5nW10pfSBbcGF0aHNdIFRoZSBwcm9wZXJ0eSBwYXRocyB0byBwaWNrLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IDMgfSB9LCA0XSB9O1xuICAgICAqXG4gICAgICogXyhvYmplY3QpLmF0KFsnYVswXS5iLmMnLCAnYVsxXSddKS52YWx1ZSgpO1xuICAgICAqIC8vID0+IFszLCA0XVxuICAgICAqL1xuICAgIHZhciB3cmFwcGVyQXQgPSBmbGF0UmVzdChmdW5jdGlvbihwYXRocykge1xuICAgICAgdmFyIGxlbmd0aCA9IHBhdGhzLmxlbmd0aCxcbiAgICAgICAgICBzdGFydCA9IGxlbmd0aCA/IHBhdGhzWzBdIDogMCxcbiAgICAgICAgICB2YWx1ZSA9IHRoaXMuX193cmFwcGVkX18sXG4gICAgICAgICAgaW50ZXJjZXB0b3IgPSBmdW5jdGlvbihvYmplY3QpIHsgcmV0dXJuIGJhc2VBdChvYmplY3QsIHBhdGhzKTsgfTtcblxuICAgICAgaWYgKGxlbmd0aCA+IDEgfHwgdGhpcy5fX2FjdGlvbnNfXy5sZW5ndGggfHxcbiAgICAgICAgICAhKHZhbHVlIGluc3RhbmNlb2YgTGF6eVdyYXBwZXIpIHx8ICFpc0luZGV4KHN0YXJ0KSkge1xuICAgICAgICByZXR1cm4gdGhpcy50aHJ1KGludGVyY2VwdG9yKTtcbiAgICAgIH1cbiAgICAgIHZhbHVlID0gdmFsdWUuc2xpY2Uoc3RhcnQsICtzdGFydCArIChsZW5ndGggPyAxIDogMCkpO1xuICAgICAgdmFsdWUuX19hY3Rpb25zX18ucHVzaCh7XG4gICAgICAgICdmdW5jJzogdGhydSxcbiAgICAgICAgJ2FyZ3MnOiBbaW50ZXJjZXB0b3JdLFxuICAgICAgICAndGhpc0FyZyc6IHVuZGVmaW5lZFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gbmV3IExvZGFzaFdyYXBwZXIodmFsdWUsIHRoaXMuX19jaGFpbl9fKS50aHJ1KGZ1bmN0aW9uKGFycmF5KSB7XG4gICAgICAgIGlmIChsZW5ndGggJiYgIWFycmF5Lmxlbmd0aCkge1xuICAgICAgICAgIGFycmF5LnB1c2godW5kZWZpbmVkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXJyYXk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlIHdpdGggZXhwbGljaXQgbWV0aG9kIGNoYWluIHNlcXVlbmNlcyBlbmFibGVkLlxuICAgICAqXG4gICAgICogQG5hbWUgY2hhaW5cbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzYgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQwIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gQSBzZXF1ZW5jZSB3aXRob3V0IGV4cGxpY2l0IGNoYWluaW5nLlxuICAgICAqIF8odXNlcnMpLmhlYWQoKTtcbiAgICAgKiAvLyA9PiB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9XG4gICAgICpcbiAgICAgKiAvLyBBIHNlcXVlbmNlIHdpdGggZXhwbGljaXQgY2hhaW5pbmcuXG4gICAgICogXyh1c2VycylcbiAgICAgKiAgIC5jaGFpbigpXG4gICAgICogICAuaGVhZCgpXG4gICAgICogICAucGljaygndXNlcicpXG4gICAgICogICAudmFsdWUoKTtcbiAgICAgKiAvLyA9PiB7ICd1c2VyJzogJ2Jhcm5leScgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJDaGFpbigpIHtcbiAgICAgIHJldHVybiBjaGFpbih0aGlzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeGVjdXRlcyB0aGUgY2hhaW4gc2VxdWVuY2UgYW5kIHJldHVybnMgdGhlIHdyYXBwZWQgcmVzdWx0LlxuICAgICAqXG4gICAgICogQG5hbWUgY29tbWl0XG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxLCAyXTtcbiAgICAgKiB2YXIgd3JhcHBlZCA9IF8oYXJyYXkpLnB1c2goMyk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICpcbiAgICAgKiB3cmFwcGVkID0gd3JhcHBlZC5jb21taXQoKTtcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiB3cmFwcGVkLmxhc3QoKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlckNvbW1pdCgpIHtcbiAgICAgIHJldHVybiBuZXcgTG9kYXNoV3JhcHBlcih0aGlzLnZhbHVlKCksIHRoaXMuX19jaGFpbl9fKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBuZXh0IHZhbHVlIG9uIGEgd3JhcHBlZCBvYmplY3QgZm9sbG93aW5nIHRoZVxuICAgICAqIFtpdGVyYXRvciBwcm90b2NvbF0oaHR0cHM6Ly9tZG4uaW8vaXRlcmF0aW9uX3Byb3RvY29scyNpdGVyYXRvcikuXG4gICAgICpcbiAgICAgKiBAbmFtZSBuZXh0XG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV4dCBpdGVyYXRvciB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHdyYXBwZWQgPSBfKFsxLCAyXSk7XG4gICAgICpcbiAgICAgKiB3cmFwcGVkLm5leHQoKTtcbiAgICAgKiAvLyA9PiB7ICdkb25lJzogZmFsc2UsICd2YWx1ZSc6IDEgfVxuICAgICAqXG4gICAgICogd3JhcHBlZC5uZXh0KCk7XG4gICAgICogLy8gPT4geyAnZG9uZSc6IGZhbHNlLCAndmFsdWUnOiAyIH1cbiAgICAgKlxuICAgICAqIHdyYXBwZWQubmV4dCgpO1xuICAgICAqIC8vID0+IHsgJ2RvbmUnOiB0cnVlLCAndmFsdWUnOiB1bmRlZmluZWQgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJOZXh0KCkge1xuICAgICAgaWYgKHRoaXMuX192YWx1ZXNfXyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuX192YWx1ZXNfXyA9IHRvQXJyYXkodGhpcy52YWx1ZSgpKTtcbiAgICAgIH1cbiAgICAgIHZhciBkb25lID0gdGhpcy5fX2luZGV4X18gPj0gdGhpcy5fX3ZhbHVlc19fLmxlbmd0aCxcbiAgICAgICAgICB2YWx1ZSA9IGRvbmUgPyB1bmRlZmluZWQgOiB0aGlzLl9fdmFsdWVzX19bdGhpcy5fX2luZGV4X18rK107XG5cbiAgICAgIHJldHVybiB7ICdkb25lJzogZG9uZSwgJ3ZhbHVlJzogdmFsdWUgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbmFibGVzIHRoZSB3cmFwcGVyIHRvIGJlIGl0ZXJhYmxlLlxuICAgICAqXG4gICAgICogQG5hbWUgU3ltYm9sLml0ZXJhdG9yXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgd3JhcHBlciBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB3cmFwcGVkID0gXyhbMSwgMl0pO1xuICAgICAqXG4gICAgICogd3JhcHBlZFtTeW1ib2wuaXRlcmF0b3JdKCkgPT09IHdyYXBwZWQ7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogQXJyYXkuZnJvbSh3cmFwcGVkKTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyVG9JdGVyYXRvcigpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGUgY2hhaW4gc2VxdWVuY2UgcGxhbnRpbmcgYHZhbHVlYCBhcyB0aGUgd3JhcHBlZCB2YWx1ZS5cbiAgICAgKlxuICAgICAqIEBuYW1lIHBsYW50XG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcGxhbnQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIHNxdWFyZShuKSB7XG4gICAgICogICByZXR1cm4gbiAqIG47XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIHdyYXBwZWQgPSBfKFsxLCAyXSkubWFwKHNxdWFyZSk7XG4gICAgICogdmFyIG90aGVyID0gd3JhcHBlZC5wbGFudChbMywgNF0pO1xuICAgICAqXG4gICAgICogb3RoZXIudmFsdWUoKTtcbiAgICAgKiAvLyA9PiBbOSwgMTZdXG4gICAgICpcbiAgICAgKiB3cmFwcGVkLnZhbHVlKCk7XG4gICAgICogLy8gPT4gWzEsIDRdXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlclBsYW50KHZhbHVlKSB7XG4gICAgICB2YXIgcmVzdWx0LFxuICAgICAgICAgIHBhcmVudCA9IHRoaXM7XG5cbiAgICAgIHdoaWxlIChwYXJlbnQgaW5zdGFuY2VvZiBiYXNlTG9kYXNoKSB7XG4gICAgICAgIHZhciBjbG9uZSA9IHdyYXBwZXJDbG9uZShwYXJlbnQpO1xuICAgICAgICBjbG9uZS5fX2luZGV4X18gPSAwO1xuICAgICAgICBjbG9uZS5fX3ZhbHVlc19fID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgcHJldmlvdXMuX193cmFwcGVkX18gPSBjbG9uZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN1bHQgPSBjbG9uZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcHJldmlvdXMgPSBjbG9uZTtcbiAgICAgICAgcGFyZW50ID0gcGFyZW50Ll9fd3JhcHBlZF9fO1xuICAgICAgfVxuICAgICAgcHJldmlvdXMuX193cmFwcGVkX18gPSB2YWx1ZTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgdGhlIHdyYXBwZXIgdmVyc2lvbiBvZiBgXy5yZXZlcnNlYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIHRoZSB3cmFwcGVkIGFycmF5LlxuICAgICAqXG4gICAgICogQG5hbWUgcmV2ZXJzZVxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMSwgMiwgM107XG4gICAgICpcbiAgICAgKiBfKGFycmF5KS5yZXZlcnNlKCkudmFsdWUoKVxuICAgICAqIC8vID0+IFszLCAyLCAxXVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFszLCAyLCAxXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJSZXZlcnNlKCkge1xuICAgICAgdmFyIHZhbHVlID0gdGhpcy5fX3dyYXBwZWRfXztcbiAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIExhenlXcmFwcGVyKSB7XG4gICAgICAgIHZhciB3cmFwcGVkID0gdmFsdWU7XG4gICAgICAgIGlmICh0aGlzLl9fYWN0aW9uc19fLmxlbmd0aCkge1xuICAgICAgICAgIHdyYXBwZWQgPSBuZXcgTGF6eVdyYXBwZXIodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgd3JhcHBlZCA9IHdyYXBwZWQucmV2ZXJzZSgpO1xuICAgICAgICB3cmFwcGVkLl9fYWN0aW9uc19fLnB1c2goe1xuICAgICAgICAgICdmdW5jJzogdGhydSxcbiAgICAgICAgICAnYXJncyc6IFtyZXZlcnNlXSxcbiAgICAgICAgICAndGhpc0FyZyc6IHVuZGVmaW5lZFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG5ldyBMb2Rhc2hXcmFwcGVyKHdyYXBwZWQsIHRoaXMuX19jaGFpbl9fKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLnRocnUocmV2ZXJzZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXhlY3V0ZXMgdGhlIGNoYWluIHNlcXVlbmNlIHRvIHJlc29sdmUgdGhlIHVud3JhcHBlZCB2YWx1ZS5cbiAgICAgKlxuICAgICAqIEBuYW1lIHZhbHVlXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAYWxpYXMgdG9KU09OLCB2YWx1ZU9mXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXNvbHZlZCB1bndyYXBwZWQgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8oWzEsIDIsIDNdKS52YWx1ZSgpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJWYWx1ZSgpIHtcbiAgICAgIHJldHVybiBiYXNlV3JhcHBlclZhbHVlKHRoaXMuX193cmFwcGVkX18sIHRoaXMuX19hY3Rpb25zX18pO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIGtleXMgZ2VuZXJhdGVkIGZyb20gdGhlIHJlc3VsdHMgb2YgcnVubmluZ1xuICAgICAqIGVhY2ggZWxlbWVudCBvZiBgY29sbGVjdGlvbmAgdGhydSBgaXRlcmF0ZWVgLiBUaGUgY29ycmVzcG9uZGluZyB2YWx1ZSBvZlxuICAgICAqIGVhY2gga2V5IGlzIHRoZSBudW1iZXIgb2YgdGltZXMgdGhlIGtleSB3YXMgcmV0dXJuZWQgYnkgYGl0ZXJhdGVlYC4gVGhlXG4gICAgICogaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjUuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgdG8gdHJhbnNmb3JtIGtleXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY29tcG9zZWQgYWdncmVnYXRlIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5jb3VudEJ5KFs2LjEsIDQuMiwgNi4zXSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4geyAnNCc6IDEsICc2JzogMiB9XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmNvdW50QnkoWydvbmUnLCAndHdvJywgJ3RocmVlJ10sICdsZW5ndGgnKTtcbiAgICAgKiAvLyA9PiB7ICczJzogMiwgJzUnOiAxIH1cbiAgICAgKi9cbiAgICB2YXIgY291bnRCeSA9IGNyZWF0ZUFnZ3JlZ2F0b3IoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChyZXN1bHQsIGtleSkpIHtcbiAgICAgICAgKytyZXN1bHRba2V5XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJhc2VBc3NpZ25WYWx1ZShyZXN1bHQsIGtleSwgMSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yICoqYWxsKiogZWxlbWVudHMgb2YgYGNvbGxlY3Rpb25gLlxuICAgICAqIEl0ZXJhdGlvbiBpcyBzdG9wcGVkIG9uY2UgYHByZWRpY2F0ZWAgcmV0dXJucyBmYWxzZXkuIFRoZSBwcmVkaWNhdGUgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgcmV0dXJucyBgdHJ1ZWAgZm9yXG4gICAgICogW2VtcHR5IGNvbGxlY3Rpb25zXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9FbXB0eV9zZXQpIGJlY2F1c2VcbiAgICAgKiBbZXZlcnl0aGluZyBpcyB0cnVlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9WYWN1b3VzX3RydXRoKSBvZlxuICAgICAqIGVsZW1lbnRzIG9mIGVtcHR5IGNvbGxlY3Rpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFsbCBlbGVtZW50cyBwYXNzIHRoZSBwcmVkaWNhdGUgY2hlY2ssXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5ldmVyeShbdHJ1ZSwgMSwgbnVsbCwgJ3llcyddLCBCb29sZWFuKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzYsICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDAsICdhY3RpdmUnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5ldmVyeSh1c2VycywgeyAndXNlcic6ICdiYXJuZXknLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmV2ZXJ5KHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5ldmVyeSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXZlcnkoY29sbGVjdGlvbiwgcHJlZGljYXRlLCBndWFyZCkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlFdmVyeSA6IGJhc2VFdmVyeTtcbiAgICAgIGlmIChndWFyZCAmJiBpc0l0ZXJhdGVlQ2FsbChjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGd1YXJkKSkge1xuICAgICAgICBwcmVkaWNhdGUgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mIGBjb2xsZWN0aW9uYCwgcmV0dXJuaW5nIGFuIGFycmF5IG9mIGFsbCBlbGVtZW50c1xuICAgICAqIGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvci4gVGhlIHByZWRpY2F0ZSBpcyBpbnZva2VkIHdpdGggdGhyZWVcbiAgICAgKiBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8ucmVtb3ZlYCwgdGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmaWx0ZXJlZCBhcnJheS5cbiAgICAgKiBAc2VlIF8ucmVqZWN0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDAsICdhY3RpdmUnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiAhby5hY3RpdmU7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCB7ICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbHRlcihjb2xsZWN0aW9uLCBwcmVkaWNhdGUpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5RmlsdGVyIDogYmFzZUZpbHRlcjtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2YgYGNvbGxlY3Rpb25gLCByZXR1cm5pbmcgdGhlIGZpcnN0IGVsZW1lbnRcbiAgICAgKiBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3IuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZCB3aXRoIHRocmVlXG4gICAgICogYXJndW1lbnRzOiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PTBdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWF0Y2hlZCBlbGVtZW50LCBlbHNlIGB1bmRlZmluZWRgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWdlJzogMzYsICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWdlJzogNDAsICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FnZSc6IDEsICAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZmluZCh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby5hZ2UgPCA0MDsgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0IGZvciAnYmFybmV5J1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmQodXNlcnMsIHsgJ2FnZSc6IDEsICdhY3RpdmUnOiB0cnVlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdCBmb3IgJ3BlYmJsZXMnXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0IGZvciAnZnJlZCdcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZCh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IG9iamVjdCBmb3IgJ2Jhcm5leSdcbiAgICAgKi9cbiAgICB2YXIgZmluZCA9IGNyZWF0ZUZpbmQoZmluZEluZGV4KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZmluZGAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZlxuICAgICAqIGBjb2xsZWN0aW9uYCBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PWNvbGxlY3Rpb24ubGVuZ3RoLTFdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWF0Y2hlZCBlbGVtZW50LCBlbHNlIGB1bmRlZmluZWRgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZpbmRMYXN0KFsxLCAyLCAzLCA0XSwgZnVuY3Rpb24obikge1xuICAgICAqICAgcmV0dXJuIG4gJSAyID09IDE7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gM1xuICAgICAqL1xuICAgIHZhciBmaW5kTGFzdCA9IGNyZWF0ZUZpbmQoZmluZExhc3RJbmRleCk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZmxhdHRlbmVkIGFycmF5IG9mIHZhbHVlcyBieSBydW5uaW5nIGVhY2ggZWxlbWVudCBpbiBgY29sbGVjdGlvbmBcbiAgICAgKiB0aHJ1IGBpdGVyYXRlZWAgYW5kIGZsYXR0ZW5pbmcgdGhlIG1hcHBlZCByZXN1bHRzLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGR1cGxpY2F0ZShuKSB7XG4gICAgICogICByZXR1cm4gW24sIG5dO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIF8uZmxhdE1hcChbMSwgMl0sIGR1cGxpY2F0ZSk7XG4gICAgICogLy8gPT4gWzEsIDEsIDIsIDJdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdE1hcChjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIGJhc2VGbGF0dGVuKG1hcChjb2xsZWN0aW9uLCBpdGVyYXRlZSksIDEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZmxhdE1hcGAgZXhjZXB0IHRoYXQgaXQgcmVjdXJzaXZlbHkgZmxhdHRlbnMgdGhlXG4gICAgICogbWFwcGVkIHJlc3VsdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGR1cGxpY2F0ZShuKSB7XG4gICAgICogICByZXR1cm4gW1tbbiwgbl1dXTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLmZsYXRNYXBEZWVwKFsxLCAyXSwgZHVwbGljYXRlKTtcbiAgICAgKiAvLyA9PiBbMSwgMSwgMiwgMl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGF0TWFwRGVlcChjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIGJhc2VGbGF0dGVuKG1hcChjb2xsZWN0aW9uLCBpdGVyYXRlZSksIElORklOSVRZKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZsYXRNYXBgIGV4Y2VwdCB0aGF0IGl0IHJlY3Vyc2l2ZWx5IGZsYXR0ZW5zIHRoZVxuICAgICAqIG1hcHBlZCByZXN1bHRzIHVwIHRvIGBkZXB0aGAgdGltZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2RlcHRoPTFdIFRoZSBtYXhpbXVtIHJlY3Vyc2lvbiBkZXB0aC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGR1cGxpY2F0ZShuKSB7XG4gICAgICogICByZXR1cm4gW1tbbiwgbl1dXTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLmZsYXRNYXBEZXB0aChbMSwgMl0sIGR1cGxpY2F0ZSwgMik7XG4gICAgICogLy8gPT4gW1sxLCAxXSwgWzIsIDJdXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsYXRNYXBEZXB0aChjb2xsZWN0aW9uLCBpdGVyYXRlZSwgZGVwdGgpIHtcbiAgICAgIGRlcHRoID0gZGVwdGggPT09IHVuZGVmaW5lZCA/IDEgOiB0b0ludGVnZXIoZGVwdGgpO1xuICAgICAgcmV0dXJuIGJhc2VGbGF0dGVuKG1hcChjb2xsZWN0aW9uLCBpdGVyYXRlZSksIGRlcHRoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mIGBjb2xsZWN0aW9uYCBhbmQgaW52b2tlcyBgaXRlcmF0ZWVgIGZvciBlYWNoIGVsZW1lbnQuXG4gICAgICogVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKiBJdGVyYXRlZSBmdW5jdGlvbnMgbWF5IGV4aXQgaXRlcmF0aW9uIGVhcmx5IGJ5IGV4cGxpY2l0bHkgcmV0dXJuaW5nIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogQXMgd2l0aCBvdGhlciBcIkNvbGxlY3Rpb25zXCIgbWV0aG9kcywgb2JqZWN0cyB3aXRoIGEgXCJsZW5ndGhcIlxuICAgICAqIHByb3BlcnR5IGFyZSBpdGVyYXRlZCBsaWtlIGFycmF5cy4gVG8gYXZvaWQgdGhpcyBiZWhhdmlvciB1c2UgYF8uZm9ySW5gXG4gICAgICogb3IgYF8uZm9yT3duYCBmb3Igb2JqZWN0IGl0ZXJhdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBhbGlhcyBlYWNoXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fE9iamVjdH0gUmV0dXJucyBgY29sbGVjdGlvbmAuXG4gICAgICogQHNlZSBfLmZvckVhY2hSaWdodFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZvckVhY2goWzEsIDJdLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAqICAgY29uc29sZS5sb2codmFsdWUpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgYDFgIHRoZW4gYDJgLlxuICAgICAqXG4gICAgICogXy5mb3JFYWNoKHsgJ2EnOiAxLCAnYic6IDIgfSwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAqICAgY29uc29sZS5sb2coa2V5KTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBMb2dzICdhJyB0aGVuICdiJyAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmb3JFYWNoKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheUVhY2ggOiBiYXNlRWFjaDtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mb3JFYWNoYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mXG4gICAgICogYGNvbGxlY3Rpb25gIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBhbGlhcyBlYWNoUmlnaHRcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl8T2JqZWN0fSBSZXR1cm5zIGBjb2xsZWN0aW9uYC5cbiAgICAgKiBAc2VlIF8uZm9yRWFjaFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZvckVhY2hSaWdodChbMSwgMl0sIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICogICBjb25zb2xlLmxvZyh2YWx1ZSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyBgMmAgdGhlbiBgMWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9yRWFjaFJpZ2h0KGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheUVhY2hSaWdodCA6IGJhc2VFYWNoUmlnaHQ7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIGtleXMgZ2VuZXJhdGVkIGZyb20gdGhlIHJlc3VsdHMgb2YgcnVubmluZ1xuICAgICAqIGVhY2ggZWxlbWVudCBvZiBgY29sbGVjdGlvbmAgdGhydSBgaXRlcmF0ZWVgLiBUaGUgb3JkZXIgb2YgZ3JvdXBlZCB2YWx1ZXNcbiAgICAgKiBpcyBkZXRlcm1pbmVkIGJ5IHRoZSBvcmRlciB0aGV5IG9jY3VyIGluIGBjb2xsZWN0aW9uYC4gVGhlIGNvcnJlc3BvbmRpbmdcbiAgICAgKiB2YWx1ZSBvZiBlYWNoIGtleSBpcyBhbiBhcnJheSBvZiBlbGVtZW50cyByZXNwb25zaWJsZSBmb3IgZ2VuZXJhdGluZyB0aGVcbiAgICAgKiBrZXkuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSB0byB0cmFuc2Zvcm0ga2V5cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjb21wb3NlZCBhZ2dyZWdhdGUgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmdyb3VwQnkoWzYuMSwgNC4yLCA2LjNdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiB7ICc0JzogWzQuMl0sICc2JzogWzYuMSwgNi4zXSB9XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmdyb3VwQnkoWydvbmUnLCAndHdvJywgJ3RocmVlJ10sICdsZW5ndGgnKTtcbiAgICAgKiAvLyA9PiB7ICczJzogWydvbmUnLCAndHdvJ10sICc1JzogWyd0aHJlZSddIH1cbiAgICAgKi9cbiAgICB2YXIgZ3JvdXBCeSA9IGNyZWF0ZUFnZ3JlZ2F0b3IoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChyZXN1bHQsIGtleSkpIHtcbiAgICAgICAgcmVzdWx0W2tleV0ucHVzaCh2YWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUocmVzdWx0LCBrZXksIFt2YWx1ZV0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgaW4gYGNvbGxlY3Rpb25gLiBJZiBgY29sbGVjdGlvbmAgaXMgYSBzdHJpbmcsIGl0J3NcbiAgICAgKiBjaGVja2VkIGZvciBhIHN1YnN0cmluZyBvZiBgdmFsdWVgLCBvdGhlcndpc2VcbiAgICAgKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGlzIHVzZWQgZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLiBJZiBgZnJvbUluZGV4YCBpcyBuZWdhdGl2ZSwgaXQncyB1c2VkIGFzXG4gICAgICogdGhlIG9mZnNldCBmcm9tIHRoZSBlbmQgb2YgYGNvbGxlY3Rpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PTBdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5yZWR1Y2VgLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGZvdW5kLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW5jbHVkZXMoWzEsIDIsIDNdLCAxKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmluY2x1ZGVzKFsxLCAyLCAzXSwgMSwgMik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaW5jbHVkZXMoeyAnYSc6IDEsICdiJzogMiB9LCAxKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmluY2x1ZGVzKCdhYmNkJywgJ2JjJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluY2x1ZGVzKGNvbGxlY3Rpb24sIHZhbHVlLCBmcm9tSW5kZXgsIGd1YXJkKSB7XG4gICAgICBjb2xsZWN0aW9uID0gaXNBcnJheUxpa2UoY29sbGVjdGlvbikgPyBjb2xsZWN0aW9uIDogdmFsdWVzKGNvbGxlY3Rpb24pO1xuICAgICAgZnJvbUluZGV4ID0gKGZyb21JbmRleCAmJiAhZ3VhcmQpID8gdG9JbnRlZ2VyKGZyb21JbmRleCkgOiAwO1xuXG4gICAgICB2YXIgbGVuZ3RoID0gY29sbGVjdGlvbi5sZW5ndGg7XG4gICAgICBpZiAoZnJvbUluZGV4IDwgMCkge1xuICAgICAgICBmcm9tSW5kZXggPSBuYXRpdmVNYXgobGVuZ3RoICsgZnJvbUluZGV4LCAwKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpc1N0cmluZyhjb2xsZWN0aW9uKVxuICAgICAgICA/IChmcm9tSW5kZXggPD0gbGVuZ3RoICYmIGNvbGxlY3Rpb24uaW5kZXhPZih2YWx1ZSwgZnJvbUluZGV4KSA+IC0xKVxuICAgICAgICA6ICghIWxlbmd0aCAmJiBiYXNlSW5kZXhPZihjb2xsZWN0aW9uLCB2YWx1ZSwgZnJvbUluZGV4KSA+IC0xKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnZva2VzIHRoZSBtZXRob2QgYXQgYHBhdGhgIG9mIGVhY2ggZWxlbWVudCBpbiBgY29sbGVjdGlvbmAsIHJldHVybmluZ1xuICAgICAqIGFuIGFycmF5IG9mIHRoZSByZXN1bHRzIG9mIGVhY2ggaW52b2tlZCBtZXRob2QuIEFueSBhZGRpdGlvbmFsIGFyZ3VtZW50c1xuICAgICAqIGFyZSBwcm92aWRlZCB0byBlYWNoIGludm9rZWQgbWV0aG9kLiBJZiBgcGF0aGAgaXMgYSBmdW5jdGlvbiwgaXQncyBpbnZva2VkXG4gICAgICogZm9yLCBhbmQgYHRoaXNgIGJvdW5kIHRvLCBlYWNoIGVsZW1lbnQgaW4gYGNvbGxlY3Rpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtBcnJheXxGdW5jdGlvbnxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIG1ldGhvZCB0byBpbnZva2Ugb3JcbiAgICAgKiAgdGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSBlYWNoIG1ldGhvZCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcmVzdWx0cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pbnZva2VNYXAoW1s1LCAxLCA3XSwgWzMsIDIsIDFdXSwgJ3NvcnQnKTtcbiAgICAgKiAvLyA9PiBbWzEsIDUsIDddLCBbMSwgMiwgM11dXG4gICAgICpcbiAgICAgKiBfLmludm9rZU1hcChbMTIzLCA0NTZdLCBTdHJpbmcucHJvdG90eXBlLnNwbGl0LCAnJyk7XG4gICAgICogLy8gPT4gW1snMScsICcyJywgJzMnXSwgWyc0JywgJzUnLCAnNiddXVxuICAgICAqL1xuICAgIHZhciBpbnZva2VNYXAgPSBiYXNlUmVzdChmdW5jdGlvbihjb2xsZWN0aW9uLCBwYXRoLCBhcmdzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBpc0Z1bmMgPSB0eXBlb2YgcGF0aCA9PSAnZnVuY3Rpb24nLFxuICAgICAgICAgIHJlc3VsdCA9IGlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pID8gQXJyYXkoY29sbGVjdGlvbi5sZW5ndGgpIDogW107XG5cbiAgICAgIGJhc2VFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJlc3VsdFsrK2luZGV4XSA9IGlzRnVuYyA/IGFwcGx5KHBhdGgsIHZhbHVlLCBhcmdzKSA6IGJhc2VJbnZva2UodmFsdWUsIHBhdGgsIGFyZ3MpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2Yga2V5cyBnZW5lcmF0ZWQgZnJvbSB0aGUgcmVzdWx0cyBvZiBydW5uaW5nXG4gICAgICogZWFjaCBlbGVtZW50IG9mIGBjb2xsZWN0aW9uYCB0aHJ1IGBpdGVyYXRlZWAuIFRoZSBjb3JyZXNwb25kaW5nIHZhbHVlIG9mXG4gICAgICogZWFjaCBrZXkgaXMgdGhlIGxhc3QgZWxlbWVudCByZXNwb25zaWJsZSBmb3IgZ2VuZXJhdGluZyB0aGUga2V5LiBUaGVcbiAgICAgKiBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSB0byB0cmFuc2Zvcm0ga2V5cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjb21wb3NlZCBhZ2dyZWdhdGUgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbXG4gICAgICogICB7ICdkaXInOiAnbGVmdCcsICdjb2RlJzogOTcgfSxcbiAgICAgKiAgIHsgJ2Rpcic6ICdyaWdodCcsICdjb2RlJzogMTAwIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5rZXlCeShhcnJheSwgZnVuY3Rpb24obykge1xuICAgICAqICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoby5jb2RlKTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogeyAnZGlyJzogJ2xlZnQnLCAnY29kZSc6IDk3IH0sICdkJzogeyAnZGlyJzogJ3JpZ2h0JywgJ2NvZGUnOiAxMDAgfSB9XG4gICAgICpcbiAgICAgKiBfLmtleUJ5KGFycmF5LCAnZGlyJyk7XG4gICAgICogLy8gPT4geyAnbGVmdCc6IHsgJ2Rpcic6ICdsZWZ0JywgJ2NvZGUnOiA5NyB9LCAncmlnaHQnOiB7ICdkaXInOiAncmlnaHQnLCAnY29kZSc6IDEwMCB9IH1cbiAgICAgKi9cbiAgICB2YXIga2V5QnkgPSBjcmVhdGVBZ2dyZWdhdG9yKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAgYmFzZUFzc2lnblZhbHVlKHJlc3VsdCwga2V5LCB2YWx1ZSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHZhbHVlcyBieSBydW5uaW5nIGVhY2ggZWxlbWVudCBpbiBgY29sbGVjdGlvbmAgdGhydVxuICAgICAqIGBpdGVyYXRlZWAuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOlxuICAgICAqICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqIE1hbnkgbG9kYXNoIG1ldGhvZHMgYXJlIGd1YXJkZWQgdG8gd29yayBhcyBpdGVyYXRlZXMgZm9yIG1ldGhvZHMgbGlrZVxuICAgICAqIGBfLmV2ZXJ5YCwgYF8uZmlsdGVyYCwgYF8ubWFwYCwgYF8ubWFwVmFsdWVzYCwgYF8ucmVqZWN0YCwgYW5kIGBfLnNvbWVgLlxuICAgICAqXG4gICAgICogVGhlIGd1YXJkZWQgbWV0aG9kcyBhcmU6XG4gICAgICogYGFyeWAsIGBjaHVua2AsIGBjdXJyeWAsIGBjdXJyeVJpZ2h0YCwgYGRyb3BgLCBgZHJvcFJpZ2h0YCwgYGV2ZXJ5YCxcbiAgICAgKiBgZmlsbGAsIGBpbnZlcnRgLCBgcGFyc2VJbnRgLCBgcmFuZG9tYCwgYHJhbmdlYCwgYHJhbmdlUmlnaHRgLCBgcmVwZWF0YCxcbiAgICAgKiBgc2FtcGxlU2l6ZWAsIGBzbGljZWAsIGBzb21lYCwgYHNvcnRCeWAsIGBzcGxpdGAsIGB0YWtlYCwgYHRha2VSaWdodGAsXG4gICAgICogYHRlbXBsYXRlYCwgYHRyaW1gLCBgdHJpbUVuZGAsIGB0cmltU3RhcnRgLCBhbmQgYHdvcmRzYFxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgbWFwcGVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBzcXVhcmUobikge1xuICAgICAqICAgcmV0dXJuIG4gKiBuO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIF8ubWFwKFs0LCA4XSwgc3F1YXJlKTtcbiAgICAgKiAvLyA9PiBbMTYsIDY0XVxuICAgICAqXG4gICAgICogXy5tYXAoeyAnYSc6IDQsICdiJzogOCB9LCBzcXVhcmUpO1xuICAgICAqIC8vID0+IFsxNiwgNjRdIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLm1hcCh1c2VycywgJ3VzZXInKTtcbiAgICAgKiAvLyA9PiBbJ2Jhcm5leScsICdmcmVkJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5TWFwIDogYmFzZU1hcDtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5zb3J0QnlgIGV4Y2VwdCB0aGF0IGl0IGFsbG93cyBzcGVjaWZ5aW5nIHRoZSBzb3J0XG4gICAgICogb3JkZXJzIG9mIHRoZSBpdGVyYXRlZXMgdG8gc29ydCBieS4gSWYgYG9yZGVyc2AgaXMgdW5zcGVjaWZpZWQsIGFsbCB2YWx1ZXNcbiAgICAgKiBhcmUgc29ydGVkIGluIGFzY2VuZGluZyBvcmRlci4gT3RoZXJ3aXNlLCBzcGVjaWZ5IGFuIG9yZGVyIG9mIFwiZGVzY1wiIGZvclxuICAgICAqIGRlc2NlbmRpbmcgb3IgXCJhc2NcIiBmb3IgYXNjZW5kaW5nIHNvcnQgb3JkZXIgb2YgY29ycmVzcG9uZGluZyB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0FycmF5W118RnVuY3Rpb25bXXxPYmplY3RbXXxzdHJpbmdbXX0gW2l0ZXJhdGVlcz1bXy5pZGVudGl0eV1dXG4gICAgICogIFRoZSBpdGVyYXRlZXMgdG8gc29ydCBieS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBbb3JkZXJzXSBUaGUgc29ydCBvcmRlcnMgb2YgYGl0ZXJhdGVlc2AuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ucmVkdWNlYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzb3J0ZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQ4IH0sXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNCB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDAgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2IH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gU29ydCBieSBgdXNlcmAgaW4gYXNjZW5kaW5nIG9yZGVyIGFuZCBieSBgYWdlYCBpbiBkZXNjZW5kaW5nIG9yZGVyLlxuICAgICAqIF8ub3JkZXJCeSh1c2VycywgWyd1c2VyJywgJ2FnZSddLCBbJ2FzYycsICdkZXNjJ10pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ2Jhcm5leScsIDM2XSwgWydiYXJuZXknLCAzNF0sIFsnZnJlZCcsIDQ4XSwgWydmcmVkJywgNDBdXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9yZGVyQnkoY29sbGVjdGlvbiwgaXRlcmF0ZWVzLCBvcmRlcnMsIGd1YXJkKSB7XG4gICAgICBpZiAoY29sbGVjdGlvbiA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIGlmICghaXNBcnJheShpdGVyYXRlZXMpKSB7XG4gICAgICAgIGl0ZXJhdGVlcyA9IGl0ZXJhdGVlcyA9PSBudWxsID8gW10gOiBbaXRlcmF0ZWVzXTtcbiAgICAgIH1cbiAgICAgIG9yZGVycyA9IGd1YXJkID8gdW5kZWZpbmVkIDogb3JkZXJzO1xuICAgICAgaWYgKCFpc0FycmF5KG9yZGVycykpIHtcbiAgICAgICAgb3JkZXJzID0gb3JkZXJzID09IG51bGwgPyBbXSA6IFtvcmRlcnNdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VPcmRlckJ5KGNvbGxlY3Rpb24sIGl0ZXJhdGVlcywgb3JkZXJzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGVsZW1lbnRzIHNwbGl0IGludG8gdHdvIGdyb3VwcywgdGhlIGZpcnN0IG9mIHdoaWNoXG4gICAgICogY29udGFpbnMgZWxlbWVudHMgYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yLCB0aGUgc2Vjb25kIG9mIHdoaWNoXG4gICAgICogY29udGFpbnMgZWxlbWVudHMgYHByZWRpY2F0ZWAgcmV0dXJucyBmYWxzZXkgZm9yLiBUaGUgcHJlZGljYXRlIGlzXG4gICAgICogaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIGdyb3VwZWQgZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWdlJzogNDAsICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWdlJzogMSwgICdhY3RpdmUnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8ucGFydGl0aW9uKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLmFjdGl2ZTsgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgW1snZnJlZCddLCBbJ2Jhcm5leScsICdwZWJibGVzJ11dXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ucGFydGl0aW9uKHVzZXJzLCB7ICdhZ2UnOiAxLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgW1sncGViYmxlcyddLCBbJ2Jhcm5leScsICdmcmVkJ11dXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5wYXJ0aXRpb24odXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbWydiYXJuZXknLCAncGViYmxlcyddLCBbJ2ZyZWQnXV1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ucGFydGl0aW9uKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgW1snZnJlZCddLCBbJ2Jhcm5leScsICdwZWJibGVzJ11dXG4gICAgICovXG4gICAgdmFyIHBhcnRpdGlvbiA9IGNyZWF0ZUFnZ3JlZ2F0b3IoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICByZXN1bHRba2V5ID8gMCA6IDFdLnB1c2godmFsdWUpO1xuICAgIH0sIGZ1bmN0aW9uKCkgeyByZXR1cm4gW1tdLCBbXV07IH0pO1xuXG4gICAgLyoqXG4gICAgICogUmVkdWNlcyBgY29sbGVjdGlvbmAgdG8gYSB2YWx1ZSB3aGljaCBpcyB0aGUgYWNjdW11bGF0ZWQgcmVzdWx0IG9mIHJ1bm5pbmdcbiAgICAgKiBlYWNoIGVsZW1lbnQgaW4gYGNvbGxlY3Rpb25gIHRocnUgYGl0ZXJhdGVlYCwgd2hlcmUgZWFjaCBzdWNjZXNzaXZlXG4gICAgICogaW52b2NhdGlvbiBpcyBzdXBwbGllZCB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBwcmV2aW91cy4gSWYgYGFjY3VtdWxhdG9yYFxuICAgICAqIGlzIG5vdCBnaXZlbiwgdGhlIGZpcnN0IGVsZW1lbnQgb2YgYGNvbGxlY3Rpb25gIGlzIHVzZWQgYXMgdGhlIGluaXRpYWxcbiAgICAgKiB2YWx1ZS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBmb3VyIGFyZ3VtZW50czpcbiAgICAgKiAoYWNjdW11bGF0b3IsIHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogTWFueSBsb2Rhc2ggbWV0aG9kcyBhcmUgZ3VhcmRlZCB0byB3b3JrIGFzIGl0ZXJhdGVlcyBmb3IgbWV0aG9kcyBsaWtlXG4gICAgICogYF8ucmVkdWNlYCwgYF8ucmVkdWNlUmlnaHRgLCBhbmQgYF8udHJhbnNmb3JtYC5cbiAgICAgKlxuICAgICAqIFRoZSBndWFyZGVkIG1ldGhvZHMgYXJlOlxuICAgICAqIGBhc3NpZ25gLCBgZGVmYXVsdHNgLCBgZGVmYXVsdHNEZWVwYCwgYGluY2x1ZGVzYCwgYG1lcmdlYCwgYG9yZGVyQnlgLFxuICAgICAqIGFuZCBgc29ydEJ5YFxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHsqfSBbYWNjdW11bGF0b3JdIFRoZSBpbml0aWFsIHZhbHVlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBhY2N1bXVsYXRlZCB2YWx1ZS5cbiAgICAgKiBAc2VlIF8ucmVkdWNlUmlnaHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5yZWR1Y2UoWzEsIDJdLCBmdW5jdGlvbihzdW0sIG4pIHtcbiAgICAgKiAgIHJldHVybiBzdW0gKyBuO1xuICAgICAqIH0sIDApO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIF8ucmVkdWNlKHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMSB9LCBmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIChyZXN1bHRbdmFsdWVdIHx8IChyZXN1bHRbdmFsdWVdID0gW10pKS5wdXNoKGtleSk7XG4gICAgICogICByZXR1cm4gcmVzdWx0O1xuICAgICAqIH0sIHt9KTtcbiAgICAgKiAvLyA9PiB7ICcxJzogWydhJywgJ2MnXSwgJzInOiBbJ2InXSB9IChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVkdWNlKGNvbGxlY3Rpb24sIGl0ZXJhdGVlLCBhY2N1bXVsYXRvcikge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlSZWR1Y2UgOiBiYXNlUmVkdWNlLFxuICAgICAgICAgIGluaXRBY2N1bSA9IGFyZ3VtZW50cy5sZW5ndGggPCAzO1xuXG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgNCksIGFjY3VtdWxhdG9yLCBpbml0QWNjdW0sIGJhc2VFYWNoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnJlZHVjZWAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZlxuICAgICAqIGBjb2xsZWN0aW9uYCBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0geyp9IFthY2N1bXVsYXRvcl0gVGhlIGluaXRpYWwgdmFsdWUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGFjY3VtdWxhdGVkIHZhbHVlLlxuICAgICAqIEBzZWUgXy5yZWR1Y2VcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gW1swLCAxXSwgWzIsIDNdLCBbNCwgNV1dO1xuICAgICAqXG4gICAgICogXy5yZWR1Y2VSaWdodChhcnJheSwgZnVuY3Rpb24oZmxhdHRlbmVkLCBvdGhlcikge1xuICAgICAqICAgcmV0dXJuIGZsYXR0ZW5lZC5jb25jYXQob3RoZXIpO1xuICAgICAqIH0sIFtdKTtcbiAgICAgKiAvLyA9PiBbNCwgNSwgMiwgMywgMCwgMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZWR1Y2VSaWdodChjb2xsZWN0aW9uLCBpdGVyYXRlZSwgYWNjdW11bGF0b3IpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5UmVkdWNlUmlnaHQgOiBiYXNlUmVkdWNlLFxuICAgICAgICAgIGluaXRBY2N1bSA9IGFyZ3VtZW50cy5sZW5ndGggPCAzO1xuXG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgNCksIGFjY3VtdWxhdG9yLCBpbml0QWNjdW0sIGJhc2VFYWNoUmlnaHQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBvcHBvc2l0ZSBvZiBgXy5maWx0ZXJgOyB0aGlzIG1ldGhvZCByZXR1cm5zIHRoZSBlbGVtZW50cyBvZiBgY29sbGVjdGlvbmBcbiAgICAgKiB0aGF0IGBwcmVkaWNhdGVgIGRvZXMgKipub3QqKiByZXR1cm4gdHJ1dGh5IGZvci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmaWx0ZXJlZCBhcnJheS5cbiAgICAgKiBAc2VlIF8uZmlsdGVyXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2LCAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQwLCAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8ucmVqZWN0KHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiAhby5hY3RpdmU7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ucmVqZWN0KHVzZXJzLCB7ICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IHRydWUgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ucmVqZWN0KHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ucmVqZWN0KHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlamVjdChjb2xsZWN0aW9uLCBwcmVkaWNhdGUpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5RmlsdGVyIDogYmFzZUZpbHRlcjtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIG5lZ2F0ZShnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhIHJhbmRvbSBlbGVtZW50IGZyb20gYGNvbGxlY3Rpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBzYW1wbGUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJhbmRvbSBlbGVtZW50LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNhbXBsZShbMSwgMiwgMywgNF0pO1xuICAgICAqIC8vID0+IDJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzYW1wbGUoY29sbGVjdGlvbikge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlTYW1wbGUgOiBiYXNlU2FtcGxlO1xuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBgbmAgcmFuZG9tIGVsZW1lbnRzIGF0IHVuaXF1ZSBrZXlzIGZyb20gYGNvbGxlY3Rpb25gIHVwIHRvIHRoZVxuICAgICAqIHNpemUgb2YgYGNvbGxlY3Rpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBzYW1wbGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTFdIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gc2FtcGxlLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSByYW5kb20gZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc2FtcGxlU2l6ZShbMSwgMiwgM10sIDIpO1xuICAgICAqIC8vID0+IFszLCAxXVxuICAgICAqXG4gICAgICogXy5zYW1wbGVTaXplKFsxLCAyLCAzXSwgNCk7XG4gICAgICogLy8gPT4gWzIsIDMsIDFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2FtcGxlU2l6ZShjb2xsZWN0aW9uLCBuLCBndWFyZCkge1xuICAgICAgaWYgKChndWFyZCA/IGlzSXRlcmF0ZWVDYWxsKGNvbGxlY3Rpb24sIG4sIGd1YXJkKSA6IG4gPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgbiA9IDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuID0gdG9JbnRlZ2VyKG4pO1xuICAgICAgfVxuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlTYW1wbGVTaXplIDogYmFzZVNhbXBsZVNpemU7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBuKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHNodWZmbGVkIHZhbHVlcywgdXNpbmcgYSB2ZXJzaW9uIG9mIHRoZVxuICAgICAqIFtGaXNoZXItWWF0ZXMgc2h1ZmZsZV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRmlzaGVyLVlhdGVzX3NodWZmbGUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBzaHVmZmxlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IHNodWZmbGVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNodWZmbGUoWzEsIDIsIDMsIDRdKTtcbiAgICAgKiAvLyA9PiBbNCwgMSwgMywgMl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzaHVmZmxlKGNvbGxlY3Rpb24pIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5U2h1ZmZsZSA6IGJhc2VTaHVmZmxlO1xuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgc2l6ZSBvZiBgY29sbGVjdGlvbmAgYnkgcmV0dXJuaW5nIGl0cyBsZW5ndGggZm9yIGFycmF5LWxpa2VcbiAgICAgKiB2YWx1ZXMgb3IgdGhlIG51bWJlciBvZiBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBmb3Igb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29sbGVjdGlvbiBzaXplLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNpemUoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLnNpemUoeyAnYSc6IDEsICdiJzogMiB9KTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICpcbiAgICAgKiBfLnNpemUoJ3BlYmJsZXMnKTtcbiAgICAgKiAvLyA9PiA3XG4gICAgICovXG4gICAgZnVuY3Rpb24gc2l6ZShjb2xsZWN0aW9uKSB7XG4gICAgICBpZiAoY29sbGVjdGlvbiA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfVxuICAgICAgaWYgKGlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pKSB7XG4gICAgICAgIHJldHVybiBpc1N0cmluZyhjb2xsZWN0aW9uKSA/IHN0cmluZ1NpemUoY29sbGVjdGlvbikgOiBjb2xsZWN0aW9uLmxlbmd0aDtcbiAgICAgIH1cbiAgICAgIHZhciB0YWcgPSBnZXRUYWcoY29sbGVjdGlvbik7XG4gICAgICBpZiAodGFnID09IG1hcFRhZyB8fCB0YWcgPT0gc2V0VGFnKSB7XG4gICAgICAgIHJldHVybiBjb2xsZWN0aW9uLnNpemU7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZUtleXMoY29sbGVjdGlvbikubGVuZ3RoO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3IgKiphbnkqKiBlbGVtZW50IG9mIGBjb2xsZWN0aW9uYC5cbiAgICAgKiBJdGVyYXRpb24gaXMgc3RvcHBlZCBvbmNlIGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5LiBUaGUgcHJlZGljYXRlIGlzXG4gICAgICogaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFueSBlbGVtZW50IHBhc3NlcyB0aGUgcHJlZGljYXRlIGNoZWNrLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc29tZShbbnVsbCwgMCwgJ3llcycsIGZhbHNlXSwgQm9vbGVhbik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uc29tZSh1c2VycywgeyAndXNlcic6ICdiYXJuZXknLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnNvbWUodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnNvbWUodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29tZShjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGd1YXJkKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheVNvbWUgOiBiYXNlU29tZTtcbiAgICAgIGlmIChndWFyZCAmJiBpc0l0ZXJhdGVlQ2FsbChjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGd1YXJkKSkge1xuICAgICAgICBwcmVkaWNhdGUgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGVsZW1lbnRzLCBzb3J0ZWQgaW4gYXNjZW5kaW5nIG9yZGVyIGJ5IHRoZSByZXN1bHRzIG9mXG4gICAgICogcnVubmluZyBlYWNoIGVsZW1lbnQgaW4gYSBjb2xsZWN0aW9uIHRocnUgZWFjaCBpdGVyYXRlZS4gVGhpcyBtZXRob2RcbiAgICAgKiBwZXJmb3JtcyBhIHN0YWJsZSBzb3J0LCB0aGF0IGlzLCBpdCBwcmVzZXJ2ZXMgdGhlIG9yaWdpbmFsIHNvcnQgb3JkZXIgb2ZcbiAgICAgKiBlcXVhbCBlbGVtZW50cy4gVGhlIGl0ZXJhdGVlcyBhcmUgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbaXRlcmF0ZWVzPVtfLmlkZW50aXR5XV1cbiAgICAgKiAgVGhlIGl0ZXJhdGVlcyB0byBzb3J0IGJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IHNvcnRlZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDggfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2IH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCB9LFxuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzQgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLnNvcnRCeSh1c2VycywgW2Z1bmN0aW9uKG8pIHsgcmV0dXJuIG8udXNlcjsgfV0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ2Jhcm5leScsIDM2XSwgWydiYXJuZXknLCAzNF0sIFsnZnJlZCcsIDQ4XSwgWydmcmVkJywgNDBdXVxuICAgICAqXG4gICAgICogXy5zb3J0QnkodXNlcnMsIFsndXNlcicsICdhZ2UnXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgW1snYmFybmV5JywgMzRdLCBbJ2Jhcm5leScsIDM2XSwgWydmcmVkJywgNDBdLCBbJ2ZyZWQnLCA0OF1dXG4gICAgICovXG4gICAgdmFyIHNvcnRCeSA9IGJhc2VSZXN0KGZ1bmN0aW9uKGNvbGxlY3Rpb24sIGl0ZXJhdGVlcykge1xuICAgICAgaWYgKGNvbGxlY3Rpb24gPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgbGVuZ3RoID0gaXRlcmF0ZWVzLmxlbmd0aDtcbiAgICAgIGlmIChsZW5ndGggPiAxICYmIGlzSXRlcmF0ZWVDYWxsKGNvbGxlY3Rpb24sIGl0ZXJhdGVlc1swXSwgaXRlcmF0ZWVzWzFdKSkge1xuICAgICAgICBpdGVyYXRlZXMgPSBbXTtcbiAgICAgIH0gZWxzZSBpZiAobGVuZ3RoID4gMiAmJiBpc0l0ZXJhdGVlQ2FsbChpdGVyYXRlZXNbMF0sIGl0ZXJhdGVlc1sxXSwgaXRlcmF0ZWVzWzJdKSkge1xuICAgICAgICBpdGVyYXRlZXMgPSBbaXRlcmF0ZWVzWzBdXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlT3JkZXJCeShjb2xsZWN0aW9uLCBiYXNlRmxhdHRlbihpdGVyYXRlZXMsIDEpLCBbXSk7XG4gICAgfSk7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSB0aW1lc3RhbXAgb2YgdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdGhhdCBoYXZlIGVsYXBzZWQgc2luY2VcbiAgICAgKiB0aGUgVW5peCBlcG9jaCAoMSBKYW51YXJ5IDE5NzAgMDA6MDA6MDAgVVRDKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjQuMFxuICAgICAqIEBjYXRlZ29yeSBEYXRlXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdGltZXN0YW1wLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlZmVyKGZ1bmN0aW9uKHN0YW1wKSB7XG4gICAgICogICBjb25zb2xlLmxvZyhfLm5vdygpIC0gc3RhbXApO1xuICAgICAqIH0sIF8ubm93KCkpO1xuICAgICAqIC8vID0+IExvZ3MgdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgaXQgdG9vayBmb3IgdGhlIGRlZmVycmVkIGludm9jYXRpb24uXG4gICAgICovXG4gICAgdmFyIG5vdyA9IGN0eE5vdyB8fCBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiByb290LkRhdGUubm93KCk7XG4gICAgfTtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIFRoZSBvcHBvc2l0ZSBvZiBgXy5iZWZvcmVgOyB0aGlzIG1ldGhvZCBjcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzXG4gICAgICogYGZ1bmNgIG9uY2UgaXQncyBjYWxsZWQgYG5gIG9yIG1vcmUgdGltZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIGNhbGxzIGJlZm9yZSBgZnVuY2AgaXMgaW52b2tlZC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byByZXN0cmljdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyByZXN0cmljdGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgc2F2ZXMgPSBbJ3Byb2ZpbGUnLCAnc2V0dGluZ3MnXTtcbiAgICAgKlxuICAgICAqIHZhciBkb25lID0gXy5hZnRlcihzYXZlcy5sZW5ndGgsIGZ1bmN0aW9uKCkge1xuICAgICAqICAgY29uc29sZS5sb2coJ2RvbmUgc2F2aW5nIScpO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogXy5mb3JFYWNoKHNhdmVzLCBmdW5jdGlvbih0eXBlKSB7XG4gICAgICogICBhc3luY1NhdmUoeyAndHlwZSc6IHR5cGUsICdjb21wbGV0ZSc6IGRvbmUgfSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyAnZG9uZSBzYXZpbmchJyBhZnRlciB0aGUgdHdvIGFzeW5jIHNhdmVzIGhhdmUgY29tcGxldGVkLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFmdGVyKG4sIGZ1bmMpIHtcbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIG4gPSB0b0ludGVnZXIobik7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICgtLW4gPCAxKSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCwgd2l0aCB1cCB0byBgbmAgYXJndW1lbnRzLFxuICAgICAqIGlnbm9yaW5nIGFueSBhZGRpdGlvbmFsIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNhcCBhcmd1bWVudHMgZm9yLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj1mdW5jLmxlbmd0aF0gVGhlIGFyaXR5IGNhcC5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNhcHBlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5tYXAoWyc2JywgJzgnLCAnMTAnXSwgXy5hcnkocGFyc2VJbnQsIDEpKTtcbiAgICAgKiAvLyA9PiBbNiwgOCwgMTBdXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXJ5KGZ1bmMsIG4sIGd1YXJkKSB7XG4gICAgICBuID0gZ3VhcmQgPyB1bmRlZmluZWQgOiBuO1xuICAgICAgbiA9IChmdW5jICYmIG4gPT0gbnVsbCkgPyBmdW5jLmxlbmd0aCA6IG47XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcChmdW5jLCBXUkFQX0FSWV9GTEFHLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIG4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgLCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBhbmQgYXJndW1lbnRzXG4gICAgICogb2YgdGhlIGNyZWF0ZWQgZnVuY3Rpb24sIHdoaWxlIGl0J3MgY2FsbGVkIGxlc3MgdGhhbiBgbmAgdGltZXMuIFN1YnNlcXVlbnRcbiAgICAgKiBjYWxscyB0byB0aGUgY3JlYXRlZCBmdW5jdGlvbiByZXR1cm4gdGhlIHJlc3VsdCBvZiB0aGUgbGFzdCBgZnVuY2AgaW52b2NhdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgY2FsbHMgYXQgd2hpY2ggYGZ1bmNgIGlzIG5vIGxvbmdlciBpbnZva2VkLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHJlc3RyaWN0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHJlc3RyaWN0ZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGpRdWVyeShlbGVtZW50KS5vbignY2xpY2snLCBfLmJlZm9yZSg1LCBhZGRDb250YWN0VG9MaXN0KSk7XG4gICAgICogLy8gPT4gQWxsb3dzIGFkZGluZyB1cCB0byA0IGNvbnRhY3RzIHRvIHRoZSBsaXN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJlZm9yZShuLCBmdW5jKSB7XG4gICAgICB2YXIgcmVzdWx0O1xuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgbiA9IHRvSW50ZWdlcihuKTtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKC0tbiA+IDApIHtcbiAgICAgICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG4gPD0gMSkge1xuICAgICAgICAgIGZ1bmMgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgYHRoaXNBcmdgXG4gICAgICogYW5kIGBwYXJ0aWFsc2AgcHJlcGVuZGVkIHRvIHRoZSBhcmd1bWVudHMgaXQgcmVjZWl2ZXMuXG4gICAgICpcbiAgICAgKiBUaGUgYF8uYmluZC5wbGFjZWhvbGRlcmAgdmFsdWUsIHdoaWNoIGRlZmF1bHRzIHRvIGBfYCBpbiBtb25vbGl0aGljIGJ1aWxkcyxcbiAgICAgKiBtYXkgYmUgdXNlZCBhcyBhIHBsYWNlaG9sZGVyIGZvciBwYXJ0aWFsbHkgYXBwbGllZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIG5hdGl2ZSBgRnVuY3Rpb24jYmluZGAsIHRoaXMgbWV0aG9kIGRvZXNuJ3Qgc2V0IHRoZSBcImxlbmd0aFwiXG4gICAgICogcHJvcGVydHkgb2YgYm91bmQgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYmluZC5cbiAgICAgKiBAcGFyYW0geyp9IHRoaXNBcmcgVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0gey4uLip9IFtwYXJ0aWFsc10gVGhlIGFyZ3VtZW50cyB0byBiZSBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBib3VuZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gZ3JlZXQoZ3JlZXRpbmcsIHB1bmN0dWF0aW9uKSB7XG4gICAgICogICByZXR1cm4gZ3JlZXRpbmcgKyAnICcgKyB0aGlzLnVzZXIgKyBwdW5jdHVhdGlvbjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAndXNlcic6ICdmcmVkJyB9O1xuICAgICAqXG4gICAgICogdmFyIGJvdW5kID0gXy5iaW5kKGdyZWV0LCBvYmplY3QsICdoaScpO1xuICAgICAqIGJvdW5kKCchJyk7XG4gICAgICogLy8gPT4gJ2hpIGZyZWQhJ1xuICAgICAqXG4gICAgICogLy8gQm91bmQgd2l0aCBwbGFjZWhvbGRlcnMuXG4gICAgICogdmFyIGJvdW5kID0gXy5iaW5kKGdyZWV0LCBvYmplY3QsIF8sICchJyk7XG4gICAgICogYm91bmQoJ2hpJyk7XG4gICAgICogLy8gPT4gJ2hpIGZyZWQhJ1xuICAgICAqL1xuICAgIHZhciBiaW5kID0gYmFzZVJlc3QoZnVuY3Rpb24oZnVuYywgdGhpc0FyZywgcGFydGlhbHMpIHtcbiAgICAgIHZhciBiaXRtYXNrID0gV1JBUF9CSU5EX0ZMQUc7XG4gICAgICBpZiAocGFydGlhbHMubGVuZ3RoKSB7XG4gICAgICAgIHZhciBob2xkZXJzID0gcmVwbGFjZUhvbGRlcnMocGFydGlhbHMsIGdldEhvbGRlcihiaW5kKSk7XG4gICAgICAgIGJpdG1hc2sgfD0gV1JBUF9QQVJUSUFMX0ZMQUc7XG4gICAgICB9XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcChmdW5jLCBiaXRtYXNrLCB0aGlzQXJnLCBwYXJ0aWFscywgaG9sZGVycyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIHRoZSBtZXRob2QgYXQgYG9iamVjdFtrZXldYCB3aXRoIGBwYXJ0aWFsc2BcbiAgICAgKiBwcmVwZW5kZWQgdG8gdGhlIGFyZ3VtZW50cyBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIGRpZmZlcnMgZnJvbSBgXy5iaW5kYCBieSBhbGxvd2luZyBib3VuZCBmdW5jdGlvbnMgdG8gcmVmZXJlbmNlXG4gICAgICogbWV0aG9kcyB0aGF0IG1heSBiZSByZWRlZmluZWQgb3IgZG9uJ3QgeWV0IGV4aXN0LiBTZWVcbiAgICAgKiBbUGV0ZXIgTWljaGF1eCdzIGFydGljbGVdKGh0dHA6Ly9wZXRlci5taWNoYXV4LmNhL2FydGljbGVzL2xhenktZnVuY3Rpb24tZGVmaW5pdGlvbi1wYXR0ZXJuKVxuICAgICAqIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICpcbiAgICAgKiBUaGUgYF8uYmluZEtleS5wbGFjZWhvbGRlcmAgdmFsdWUsIHdoaWNoIGRlZmF1bHRzIHRvIGBfYCBpbiBtb25vbGl0aGljXG4gICAgICogYnVpbGRzLCBtYXkgYmUgdXNlZCBhcyBhIHBsYWNlaG9sZGVyIGZvciBwYXJ0aWFsbHkgYXBwbGllZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGludm9rZSB0aGUgbWV0aG9kIG9uLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgbWV0aG9kLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW3BhcnRpYWxzXSBUaGUgYXJndW1lbnRzIHRvIGJlIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGJvdW5kIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0ge1xuICAgICAqICAgJ3VzZXInOiAnZnJlZCcsXG4gICAgICogICAnZ3JlZXQnOiBmdW5jdGlvbihncmVldGluZywgcHVuY3R1YXRpb24pIHtcbiAgICAgKiAgICAgcmV0dXJuIGdyZWV0aW5nICsgJyAnICsgdGhpcy51c2VyICsgcHVuY3R1YXRpb247XG4gICAgICogICB9XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIHZhciBib3VuZCA9IF8uYmluZEtleShvYmplY3QsICdncmVldCcsICdoaScpO1xuICAgICAqIGJvdW5kKCchJyk7XG4gICAgICogLy8gPT4gJ2hpIGZyZWQhJ1xuICAgICAqXG4gICAgICogb2JqZWN0LmdyZWV0ID0gZnVuY3Rpb24oZ3JlZXRpbmcsIHB1bmN0dWF0aW9uKSB7XG4gICAgICogICByZXR1cm4gZ3JlZXRpbmcgKyAneWEgJyArIHRoaXMudXNlciArIHB1bmN0dWF0aW9uO1xuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBib3VuZCgnIScpO1xuICAgICAqIC8vID0+ICdoaXlhIGZyZWQhJ1xuICAgICAqXG4gICAgICogLy8gQm91bmQgd2l0aCBwbGFjZWhvbGRlcnMuXG4gICAgICogdmFyIGJvdW5kID0gXy5iaW5kS2V5KG9iamVjdCwgJ2dyZWV0JywgXywgJyEnKTtcbiAgICAgKiBib3VuZCgnaGknKTtcbiAgICAgKiAvLyA9PiAnaGl5YSBmcmVkISdcbiAgICAgKi9cbiAgICB2YXIgYmluZEtleSA9IGJhc2VSZXN0KGZ1bmN0aW9uKG9iamVjdCwga2V5LCBwYXJ0aWFscykge1xuICAgICAgdmFyIGJpdG1hc2sgPSBXUkFQX0JJTkRfRkxBRyB8IFdSQVBfQklORF9LRVlfRkxBRztcbiAgICAgIGlmIChwYXJ0aWFscy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGhvbGRlcnMgPSByZXBsYWNlSG9sZGVycyhwYXJ0aWFscywgZ2V0SG9sZGVyKGJpbmRLZXkpKTtcbiAgICAgICAgYml0bWFzayB8PSBXUkFQX1BBUlRJQUxfRkxBRztcbiAgICAgIH1cbiAgICAgIHJldHVybiBjcmVhdGVXcmFwKGtleSwgYml0bWFzaywgb2JqZWN0LCBwYXJ0aWFscywgaG9sZGVycyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBhY2NlcHRzIGFyZ3VtZW50cyBvZiBgZnVuY2AgYW5kIGVpdGhlciBpbnZva2VzXG4gICAgICogYGZ1bmNgIHJldHVybmluZyBpdHMgcmVzdWx0LCBpZiBhdCBsZWFzdCBgYXJpdHlgIG51bWJlciBvZiBhcmd1bWVudHMgaGF2ZVxuICAgICAqIGJlZW4gcHJvdmlkZWQsIG9yIHJldHVybnMgYSBmdW5jdGlvbiB0aGF0IGFjY2VwdHMgdGhlIHJlbWFpbmluZyBgZnVuY2BcbiAgICAgKiBhcmd1bWVudHMsIGFuZCBzbyBvbi4gVGhlIGFyaXR5IG9mIGBmdW5jYCBtYXkgYmUgc3BlY2lmaWVkIGlmIGBmdW5jLmxlbmd0aGBcbiAgICAgKiBpcyBub3Qgc3VmZmljaWVudC5cbiAgICAgKlxuICAgICAqIFRoZSBgXy5jdXJyeS5wbGFjZWhvbGRlcmAgdmFsdWUsIHdoaWNoIGRlZmF1bHRzIHRvIGBfYCBpbiBtb25vbGl0aGljIGJ1aWxkcyxcbiAgICAgKiBtYXkgYmUgdXNlZCBhcyBhIHBsYWNlaG9sZGVyIGZvciBwcm92aWRlZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgZG9lc24ndCBzZXQgdGhlIFwibGVuZ3RoXCIgcHJvcGVydHkgb2YgY3VycmllZCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjdXJyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyaXR5PWZ1bmMubGVuZ3RoXSBUaGUgYXJpdHkgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY3VycmllZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFiYyA9IGZ1bmN0aW9uKGEsIGIsIGMpIHtcbiAgICAgKiAgIHJldHVybiBbYSwgYiwgY107XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIHZhciBjdXJyaWVkID0gXy5jdXJyeShhYmMpO1xuICAgICAqXG4gICAgICogY3VycmllZCgxKSgyKSgzKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIGN1cnJpZWQoMSwgMikoMyk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiBjdXJyaWVkKDEsIDIsIDMpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogLy8gQ3VycmllZCB3aXRoIHBsYWNlaG9sZGVycy5cbiAgICAgKiBjdXJyaWVkKDEpKF8sIDMpKDIpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGN1cnJ5KGZ1bmMsIGFyaXR5LCBndWFyZCkge1xuICAgICAgYXJpdHkgPSBndWFyZCA/IHVuZGVmaW5lZCA6IGFyaXR5O1xuICAgICAgdmFyIHJlc3VsdCA9IGNyZWF0ZVdyYXAoZnVuYywgV1JBUF9DVVJSWV9GTEFHLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYXJpdHkpO1xuICAgICAgcmVzdWx0LnBsYWNlaG9sZGVyID0gY3VycnkucGxhY2Vob2xkZXI7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uY3VycnlgIGV4Y2VwdCB0aGF0IGFyZ3VtZW50cyBhcmUgYXBwbGllZCB0byBgZnVuY2BcbiAgICAgKiBpbiB0aGUgbWFubmVyIG9mIGBfLnBhcnRpYWxSaWdodGAgaW5zdGVhZCBvZiBgXy5wYXJ0aWFsYC5cbiAgICAgKlxuICAgICAqIFRoZSBgXy5jdXJyeVJpZ2h0LnBsYWNlaG9sZGVyYCB2YWx1ZSwgd2hpY2ggZGVmYXVsdHMgdG8gYF9gIGluIG1vbm9saXRoaWNcbiAgICAgKiBidWlsZHMsIG1heSBiZSB1c2VkIGFzIGEgcGxhY2Vob2xkZXIgZm9yIHByb3ZpZGVkIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBkb2Vzbid0IHNldCB0aGUgXCJsZW5ndGhcIiBwcm9wZXJ0eSBvZiBjdXJyaWVkIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGN1cnJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJpdHk9ZnVuYy5sZW5ndGhdIFRoZSBhcml0eSBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjdXJyaWVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYWJjID0gZnVuY3Rpb24oYSwgYiwgYykge1xuICAgICAqICAgcmV0dXJuIFthLCBiLCBjXTtcbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogdmFyIGN1cnJpZWQgPSBfLmN1cnJ5UmlnaHQoYWJjKTtcbiAgICAgKlxuICAgICAqIGN1cnJpZWQoMykoMikoMSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiBjdXJyaWVkKDIsIDMpKDEpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogY3VycmllZCgxLCAyLCAzKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIC8vIEN1cnJpZWQgd2l0aCBwbGFjZWhvbGRlcnMuXG4gICAgICogY3VycmllZCgzKSgxLCBfKSgyKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjdXJyeVJpZ2h0KGZ1bmMsIGFyaXR5LCBndWFyZCkge1xuICAgICAgYXJpdHkgPSBndWFyZCA/IHVuZGVmaW5lZCA6IGFyaXR5O1xuICAgICAgdmFyIHJlc3VsdCA9IGNyZWF0ZVdyYXAoZnVuYywgV1JBUF9DVVJSWV9SSUdIVF9GTEFHLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYXJpdHkpO1xuICAgICAgcmVzdWx0LnBsYWNlaG9sZGVyID0gY3VycnlSaWdodC5wbGFjZWhvbGRlcjtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGRlYm91bmNlZCBmdW5jdGlvbiB0aGF0IGRlbGF5cyBpbnZva2luZyBgZnVuY2AgdW50aWwgYWZ0ZXIgYHdhaXRgXG4gICAgICogbWlsbGlzZWNvbmRzIGhhdmUgZWxhcHNlZCBzaW5jZSB0aGUgbGFzdCB0aW1lIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gd2FzXG4gICAgICogaW52b2tlZC4gVGhlIGRlYm91bmNlZCBmdW5jdGlvbiBjb21lcyB3aXRoIGEgYGNhbmNlbGAgbWV0aG9kIHRvIGNhbmNlbFxuICAgICAqIGRlbGF5ZWQgYGZ1bmNgIGludm9jYXRpb25zIGFuZCBhIGBmbHVzaGAgbWV0aG9kIHRvIGltbWVkaWF0ZWx5IGludm9rZSB0aGVtLlxuICAgICAqIFByb3ZpZGUgYG9wdGlvbnNgIHRvIGluZGljYXRlIHdoZXRoZXIgYGZ1bmNgIHNob3VsZCBiZSBpbnZva2VkIG9uIHRoZVxuICAgICAqIGxlYWRpbmcgYW5kL29yIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIGB3YWl0YCB0aW1lb3V0LiBUaGUgYGZ1bmNgIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHRoZSBsYXN0IGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uLiBTdWJzZXF1ZW50XG4gICAgICogY2FsbHMgdG8gdGhlIGRlYm91bmNlZCBmdW5jdGlvbiByZXR1cm4gdGhlIHJlc3VsdCBvZiB0aGUgbGFzdCBgZnVuY2BcbiAgICAgKiBpbnZvY2F0aW9uLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIElmIGBsZWFkaW5nYCBhbmQgYHRyYWlsaW5nYCBvcHRpb25zIGFyZSBgdHJ1ZWAsIGBmdW5jYCBpc1xuICAgICAqIGludm9rZWQgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQgb25seSBpZiB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uXG4gICAgICogaXMgaW52b2tlZCBtb3JlIHRoYW4gb25jZSBkdXJpbmcgdGhlIGB3YWl0YCB0aW1lb3V0LlxuICAgICAqXG4gICAgICogSWYgYHdhaXRgIGlzIGAwYCBhbmQgYGxlYWRpbmdgIGlzIGBmYWxzZWAsIGBmdW5jYCBpbnZvY2F0aW9uIGlzIGRlZmVycmVkXG4gICAgICogdW50aWwgdG8gdGhlIG5leHQgdGljaywgc2ltaWxhciB0byBgc2V0VGltZW91dGAgd2l0aCBhIHRpbWVvdXQgb2YgYDBgLlxuICAgICAqXG4gICAgICogU2VlIFtEYXZpZCBDb3JiYWNobydzIGFydGljbGVdKGh0dHBzOi8vY3NzLXRyaWNrcy5jb20vZGVib3VuY2luZy10aHJvdHRsaW5nLWV4cGxhaW5lZC1leGFtcGxlcy8pXG4gICAgICogZm9yIGRldGFpbHMgb3ZlciB0aGUgZGlmZmVyZW5jZXMgYmV0d2VlbiBgXy5kZWJvdW5jZWAgYW5kIGBfLnRocm90dGxlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRlYm91bmNlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbd2FpdD0wXSBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byBkZWxheS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmxlYWRpbmc9ZmFsc2VdXG4gICAgICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIGxlYWRpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWF4V2FpdF1cbiAgICAgKiAgVGhlIG1heGltdW0gdGltZSBgZnVuY2AgaXMgYWxsb3dlZCB0byBiZSBkZWxheWVkIGJlZm9yZSBpdCdzIGludm9rZWQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFpbGluZz10cnVlXVxuICAgICAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGRlYm91bmNlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogLy8gQXZvaWQgY29zdGx5IGNhbGN1bGF0aW9ucyB3aGlsZSB0aGUgd2luZG93IHNpemUgaXMgaW4gZmx1eC5cbiAgICAgKiBqUXVlcnkod2luZG93KS5vbigncmVzaXplJywgXy5kZWJvdW5jZShjYWxjdWxhdGVMYXlvdXQsIDE1MCkpO1xuICAgICAqXG4gICAgICogLy8gSW52b2tlIGBzZW5kTWFpbGAgd2hlbiBjbGlja2VkLCBkZWJvdW5jaW5nIHN1YnNlcXVlbnQgY2FsbHMuXG4gICAgICogalF1ZXJ5KGVsZW1lbnQpLm9uKCdjbGljaycsIF8uZGVib3VuY2Uoc2VuZE1haWwsIDMwMCwge1xuICAgICAqICAgJ2xlYWRpbmcnOiB0cnVlLFxuICAgICAqICAgJ3RyYWlsaW5nJzogZmFsc2VcbiAgICAgKiB9KSk7XG4gICAgICpcbiAgICAgKiAvLyBFbnN1cmUgYGJhdGNoTG9nYCBpcyBpbnZva2VkIG9uY2UgYWZ0ZXIgMSBzZWNvbmQgb2YgZGVib3VuY2VkIGNhbGxzLlxuICAgICAqIHZhciBkZWJvdW5jZWQgPSBfLmRlYm91bmNlKGJhdGNoTG9nLCAyNTAsIHsgJ21heFdhaXQnOiAxMDAwIH0pO1xuICAgICAqIHZhciBzb3VyY2UgPSBuZXcgRXZlbnRTb3VyY2UoJy9zdHJlYW0nKTtcbiAgICAgKiBqUXVlcnkoc291cmNlKS5vbignbWVzc2FnZScsIGRlYm91bmNlZCk7XG4gICAgICpcbiAgICAgKiAvLyBDYW5jZWwgdGhlIHRyYWlsaW5nIGRlYm91bmNlZCBpbnZvY2F0aW9uLlxuICAgICAqIGpRdWVyeSh3aW5kb3cpLm9uKCdwb3BzdGF0ZScsIGRlYm91bmNlZC5jYW5jZWwpO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRlYm91bmNlKGZ1bmMsIHdhaXQsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBsYXN0QXJncyxcbiAgICAgICAgICBsYXN0VGhpcyxcbiAgICAgICAgICBtYXhXYWl0LFxuICAgICAgICAgIHJlc3VsdCxcbiAgICAgICAgICB0aW1lcklkLFxuICAgICAgICAgIGxhc3RDYWxsVGltZSxcbiAgICAgICAgICBsYXN0SW52b2tlVGltZSA9IDAsXG4gICAgICAgICAgbGVhZGluZyA9IGZhbHNlLFxuICAgICAgICAgIG1heGluZyA9IGZhbHNlLFxuICAgICAgICAgIHRyYWlsaW5nID0gdHJ1ZTtcblxuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgd2FpdCA9IHRvTnVtYmVyKHdhaXQpIHx8IDA7XG4gICAgICBpZiAoaXNPYmplY3Qob3B0aW9ucykpIHtcbiAgICAgICAgbGVhZGluZyA9ICEhb3B0aW9ucy5sZWFkaW5nO1xuICAgICAgICBtYXhpbmcgPSAnbWF4V2FpdCcgaW4gb3B0aW9ucztcbiAgICAgICAgbWF4V2FpdCA9IG1heGluZyA/IG5hdGl2ZU1heCh0b051bWJlcihvcHRpb25zLm1heFdhaXQpIHx8IDAsIHdhaXQpIDogbWF4V2FpdDtcbiAgICAgICAgdHJhaWxpbmcgPSAndHJhaWxpbmcnIGluIG9wdGlvbnMgPyAhIW9wdGlvbnMudHJhaWxpbmcgOiB0cmFpbGluZztcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gaW52b2tlRnVuYyh0aW1lKSB7XG4gICAgICAgIHZhciBhcmdzID0gbGFzdEFyZ3MsXG4gICAgICAgICAgICB0aGlzQXJnID0gbGFzdFRoaXM7XG5cbiAgICAgICAgbGFzdEFyZ3MgPSBsYXN0VGhpcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgbGFzdEludm9rZVRpbWUgPSB0aW1lO1xuICAgICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KHRoaXNBcmcsIGFyZ3MpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBsZWFkaW5nRWRnZSh0aW1lKSB7XG4gICAgICAgIC8vIFJlc2V0IGFueSBgbWF4V2FpdGAgdGltZXIuXG4gICAgICAgIGxhc3RJbnZva2VUaW1lID0gdGltZTtcbiAgICAgICAgLy8gU3RhcnQgdGhlIHRpbWVyIGZvciB0aGUgdHJhaWxpbmcgZWRnZS5cbiAgICAgICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCB3YWl0KTtcbiAgICAgICAgLy8gSW52b2tlIHRoZSBsZWFkaW5nIGVkZ2UuXG4gICAgICAgIHJldHVybiBsZWFkaW5nID8gaW52b2tlRnVuYyh0aW1lKSA6IHJlc3VsdDtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gcmVtYWluaW5nV2FpdCh0aW1lKSB7XG4gICAgICAgIHZhciB0aW1lU2luY2VMYXN0Q2FsbCA9IHRpbWUgLSBsYXN0Q2FsbFRpbWUsXG4gICAgICAgICAgICB0aW1lU2luY2VMYXN0SW52b2tlID0gdGltZSAtIGxhc3RJbnZva2VUaW1lLFxuICAgICAgICAgICAgdGltZVdhaXRpbmcgPSB3YWl0IC0gdGltZVNpbmNlTGFzdENhbGw7XG5cbiAgICAgICAgcmV0dXJuIG1heGluZ1xuICAgICAgICAgID8gbmF0aXZlTWluKHRpbWVXYWl0aW5nLCBtYXhXYWl0IC0gdGltZVNpbmNlTGFzdEludm9rZSlcbiAgICAgICAgICA6IHRpbWVXYWl0aW5nO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBzaG91bGRJbnZva2UodGltZSkge1xuICAgICAgICB2YXIgdGltZVNpbmNlTGFzdENhbGwgPSB0aW1lIC0gbGFzdENhbGxUaW1lLFxuICAgICAgICAgICAgdGltZVNpbmNlTGFzdEludm9rZSA9IHRpbWUgLSBsYXN0SW52b2tlVGltZTtcblxuICAgICAgICAvLyBFaXRoZXIgdGhpcyBpcyB0aGUgZmlyc3QgY2FsbCwgYWN0aXZpdHkgaGFzIHN0b3BwZWQgYW5kIHdlJ3JlIGF0IHRoZVxuICAgICAgICAvLyB0cmFpbGluZyBlZGdlLCB0aGUgc3lzdGVtIHRpbWUgaGFzIGdvbmUgYmFja3dhcmRzIGFuZCB3ZSdyZSB0cmVhdGluZ1xuICAgICAgICAvLyBpdCBhcyB0aGUgdHJhaWxpbmcgZWRnZSwgb3Igd2UndmUgaGl0IHRoZSBgbWF4V2FpdGAgbGltaXQuXG4gICAgICAgIHJldHVybiAobGFzdENhbGxUaW1lID09PSB1bmRlZmluZWQgfHwgKHRpbWVTaW5jZUxhc3RDYWxsID49IHdhaXQpIHx8XG4gICAgICAgICAgKHRpbWVTaW5jZUxhc3RDYWxsIDwgMCkgfHwgKG1heGluZyAmJiB0aW1lU2luY2VMYXN0SW52b2tlID49IG1heFdhaXQpKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gdGltZXJFeHBpcmVkKCkge1xuICAgICAgICB2YXIgdGltZSA9IG5vdygpO1xuICAgICAgICBpZiAoc2hvdWxkSW52b2tlKHRpbWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHRyYWlsaW5nRWRnZSh0aW1lKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZXN0YXJ0IHRoZSB0aW1lci5cbiAgICAgICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCByZW1haW5pbmdXYWl0KHRpbWUpKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gdHJhaWxpbmdFZGdlKHRpbWUpIHtcbiAgICAgICAgdGltZXJJZCA9IHVuZGVmaW5lZDtcblxuICAgICAgICAvLyBPbmx5IGludm9rZSBpZiB3ZSBoYXZlIGBsYXN0QXJnc2Agd2hpY2ggbWVhbnMgYGZ1bmNgIGhhcyBiZWVuXG4gICAgICAgIC8vIGRlYm91bmNlZCBhdCBsZWFzdCBvbmNlLlxuICAgICAgICBpZiAodHJhaWxpbmcgJiYgbGFzdEFyZ3MpIHtcbiAgICAgICAgICByZXR1cm4gaW52b2tlRnVuYyh0aW1lKTtcbiAgICAgICAgfVxuICAgICAgICBsYXN0QXJncyA9IGxhc3RUaGlzID0gdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBjYW5jZWwoKSB7XG4gICAgICAgIGlmICh0aW1lcklkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQodGltZXJJZCk7XG4gICAgICAgIH1cbiAgICAgICAgbGFzdEludm9rZVRpbWUgPSAwO1xuICAgICAgICBsYXN0QXJncyA9IGxhc3RDYWxsVGltZSA9IGxhc3RUaGlzID0gdGltZXJJZCA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZmx1c2goKSB7XG4gICAgICAgIHJldHVybiB0aW1lcklkID09PSB1bmRlZmluZWQgPyByZXN1bHQgOiB0cmFpbGluZ0VkZ2Uobm93KCkpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBkZWJvdW5jZWQoKSB7XG4gICAgICAgIHZhciB0aW1lID0gbm93KCksXG4gICAgICAgICAgICBpc0ludm9raW5nID0gc2hvdWxkSW52b2tlKHRpbWUpO1xuXG4gICAgICAgIGxhc3RBcmdzID0gYXJndW1lbnRzO1xuICAgICAgICBsYXN0VGhpcyA9IHRoaXM7XG4gICAgICAgIGxhc3RDYWxsVGltZSA9IHRpbWU7XG5cbiAgICAgICAgaWYgKGlzSW52b2tpbmcpIHtcbiAgICAgICAgICBpZiAodGltZXJJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gbGVhZGluZ0VkZ2UobGFzdENhbGxUaW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG1heGluZykge1xuICAgICAgICAgICAgLy8gSGFuZGxlIGludm9jYXRpb25zIGluIGEgdGlnaHQgbG9vcC5cbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lcklkKTtcbiAgICAgICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgICAgICAgICByZXR1cm4gaW52b2tlRnVuYyhsYXN0Q2FsbFRpbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGltZXJJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCB3YWl0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgZGVib3VuY2VkLmNhbmNlbCA9IGNhbmNlbDtcbiAgICAgIGRlYm91bmNlZC5mbHVzaCA9IGZsdXNoO1xuICAgICAgcmV0dXJuIGRlYm91bmNlZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWZlcnMgaW52b2tpbmcgdGhlIGBmdW5jYCB1bnRpbCB0aGUgY3VycmVudCBjYWxsIHN0YWNrIGhhcyBjbGVhcmVkLiBBbnlcbiAgICAgKiBhZGRpdGlvbmFsIGFyZ3VtZW50cyBhcmUgcHJvdmlkZWQgdG8gYGZ1bmNgIHdoZW4gaXQncyBpbnZva2VkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZGVmZXIuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbYXJnc10gVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgYGZ1bmNgIHdpdGguXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdGltZXIgaWQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGVmZXIoZnVuY3Rpb24odGV4dCkge1xuICAgICAqICAgY29uc29sZS5sb2codGV4dCk7XG4gICAgICogfSwgJ2RlZmVycmVkJyk7XG4gICAgICogLy8gPT4gTG9ncyAnZGVmZXJyZWQnIGFmdGVyIG9uZSBtaWxsaXNlY29uZC5cbiAgICAgKi9cbiAgICB2YXIgZGVmZXIgPSBiYXNlUmVzdChmdW5jdGlvbihmdW5jLCBhcmdzKSB7XG4gICAgICByZXR1cm4gYmFzZURlbGF5KGZ1bmMsIDEsIGFyZ3MpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogSW52b2tlcyBgZnVuY2AgYWZ0ZXIgYHdhaXRgIG1pbGxpc2Vjb25kcy4gQW55IGFkZGl0aW9uYWwgYXJndW1lbnRzIGFyZVxuICAgICAqIHByb3ZpZGVkIHRvIGBmdW5jYCB3aGVuIGl0J3MgaW52b2tlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRlbGF5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3YWl0IFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIGRlbGF5IGludm9jYXRpb24uXG4gICAgICogQHBhcmFtIHsuLi4qfSBbYXJnc10gVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgYGZ1bmNgIHdpdGguXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdGltZXIgaWQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGVsYXkoZnVuY3Rpb24odGV4dCkge1xuICAgICAqICAgY29uc29sZS5sb2codGV4dCk7XG4gICAgICogfSwgMTAwMCwgJ2xhdGVyJyk7XG4gICAgICogLy8gPT4gTG9ncyAnbGF0ZXInIGFmdGVyIG9uZSBzZWNvbmQuXG4gICAgICovXG4gICAgdmFyIGRlbGF5ID0gYmFzZVJlc3QoZnVuY3Rpb24oZnVuYywgd2FpdCwgYXJncykge1xuICAgICAgcmV0dXJuIGJhc2VEZWxheShmdW5jLCB0b051bWJlcih3YWl0KSB8fCAwLCBhcmdzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggYXJndW1lbnRzIHJldmVyc2VkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZmxpcCBhcmd1bWVudHMgZm9yLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZsaXBwZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBmbGlwcGVkID0gXy5mbGlwKGZ1bmN0aW9uKCkge1xuICAgICAqICAgcmV0dXJuIF8udG9BcnJheShhcmd1bWVudHMpO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogZmxpcHBlZCgnYScsICdiJywgJ2MnLCAnZCcpO1xuICAgICAqIC8vID0+IFsnZCcsICdjJywgJ2InLCAnYSddXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxpcChmdW5jKSB7XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcChmdW5jLCBXUkFQX0ZMSVBfRkxBRyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgbWVtb2l6ZXMgdGhlIHJlc3VsdCBvZiBgZnVuY2AuIElmIGByZXNvbHZlcmAgaXNcbiAgICAgKiBwcm92aWRlZCwgaXQgZGV0ZXJtaW5lcyB0aGUgY2FjaGUga2V5IGZvciBzdG9yaW5nIHRoZSByZXN1bHQgYmFzZWQgb24gdGhlXG4gICAgICogYXJndW1lbnRzIHByb3ZpZGVkIHRvIHRoZSBtZW1vaXplZCBmdW5jdGlvbi4gQnkgZGVmYXVsdCwgdGhlIGZpcnN0IGFyZ3VtZW50XG4gICAgICogcHJvdmlkZWQgdG8gdGhlIG1lbW9pemVkIGZ1bmN0aW9uIGlzIHVzZWQgYXMgdGhlIG1hcCBjYWNoZSBrZXkuIFRoZSBgZnVuY2BcbiAgICAgKiBpcyBpbnZva2VkIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIHRoZSBtZW1vaXplZCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGUgY2FjaGUgaXMgZXhwb3NlZCBhcyB0aGUgYGNhY2hlYCBwcm9wZXJ0eSBvbiB0aGUgbWVtb2l6ZWRcbiAgICAgKiBmdW5jdGlvbi4gSXRzIGNyZWF0aW9uIG1heSBiZSBjdXN0b21pemVkIGJ5IHJlcGxhY2luZyB0aGUgYF8ubWVtb2l6ZS5DYWNoZWBcbiAgICAgKiBjb25zdHJ1Y3RvciB3aXRoIG9uZSB3aG9zZSBpbnN0YW5jZXMgaW1wbGVtZW50IHRoZVxuICAgICAqIFtgTWFwYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcHJvcGVydGllcy1vZi10aGUtbWFwLXByb3RvdHlwZS1vYmplY3QpXG4gICAgICogbWV0aG9kIGludGVyZmFjZSBvZiBgY2xlYXJgLCBgZGVsZXRlYCwgYGdldGAsIGBoYXNgLCBhbmQgYHNldGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBoYXZlIGl0cyBvdXRwdXQgbWVtb2l6ZWQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3Jlc29sdmVyXSBUaGUgZnVuY3Rpb24gdG8gcmVzb2x2ZSB0aGUgY2FjaGUga2V5LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IG1lbW9pemVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogMiB9O1xuICAgICAqIHZhciBvdGhlciA9IHsgJ2MnOiAzLCAnZCc6IDQgfTtcbiAgICAgKlxuICAgICAqIHZhciB2YWx1ZXMgPSBfLm1lbW9pemUoXy52YWx1ZXMpO1xuICAgICAqIHZhbHVlcyhvYmplY3QpO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqXG4gICAgICogdmFsdWVzKG90aGVyKTtcbiAgICAgKiAvLyA9PiBbMywgNF1cbiAgICAgKlxuICAgICAqIG9iamVjdC5hID0gMjtcbiAgICAgKiB2YWx1ZXMob2JqZWN0KTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKlxuICAgICAqIC8vIE1vZGlmeSB0aGUgcmVzdWx0IGNhY2hlLlxuICAgICAqIHZhbHVlcy5jYWNoZS5zZXQob2JqZWN0LCBbJ2EnLCAnYiddKTtcbiAgICAgKiB2YWx1ZXMob2JqZWN0KTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYiddXG4gICAgICpcbiAgICAgKiAvLyBSZXBsYWNlIGBfLm1lbW9pemUuQ2FjaGVgLlxuICAgICAqIF8ubWVtb2l6ZS5DYWNoZSA9IFdlYWtNYXA7XG4gICAgICovXG4gICAgZnVuY3Rpb24gbWVtb2l6ZShmdW5jLCByZXNvbHZlcikge1xuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicgfHwgKHJlc29sdmVyICE9IG51bGwgJiYgdHlwZW9mIHJlc29sdmVyICE9ICdmdW5jdGlvbicpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHZhciBtZW1vaXplZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgICAgIGtleSA9IHJlc29sdmVyID8gcmVzb2x2ZXIuYXBwbHkodGhpcywgYXJncykgOiBhcmdzWzBdLFxuICAgICAgICAgICAgY2FjaGUgPSBtZW1vaXplZC5jYWNoZTtcblxuICAgICAgICBpZiAoY2FjaGUuaGFzKGtleSkpIHtcbiAgICAgICAgICByZXR1cm4gY2FjaGUuZ2V0KGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgIG1lbW9pemVkLmNhY2hlID0gY2FjaGUuc2V0KGtleSwgcmVzdWx0KSB8fCBjYWNoZTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG4gICAgICBtZW1vaXplZC5jYWNoZSA9IG5ldyAobWVtb2l6ZS5DYWNoZSB8fCBNYXBDYWNoZSk7XG4gICAgICByZXR1cm4gbWVtb2l6ZWQ7XG4gICAgfVxuXG4gICAgLy8gRXhwb3NlIGBNYXBDYWNoZWAuXG4gICAgbWVtb2l6ZS5DYWNoZSA9IE1hcENhY2hlO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgbmVnYXRlcyB0aGUgcmVzdWx0IG9mIHRoZSBwcmVkaWNhdGUgYGZ1bmNgLiBUaGVcbiAgICAgKiBgZnVuY2AgcHJlZGljYXRlIGlzIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgYW5kIGFyZ3VtZW50cyBvZiB0aGVcbiAgICAgKiBjcmVhdGVkIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBwcmVkaWNhdGUgdG8gbmVnYXRlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IG5lZ2F0ZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGlzRXZlbihuKSB7XG4gICAgICogICByZXR1cm4gbiAlIDIgPT0gMDtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLmZpbHRlcihbMSwgMiwgMywgNCwgNSwgNl0sIF8ubmVnYXRlKGlzRXZlbikpO1xuICAgICAqIC8vID0+IFsxLCAzLCA1XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG5lZ2F0ZShwcmVkaWNhdGUpIHtcbiAgICAgIGlmICh0eXBlb2YgcHJlZGljYXRlICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuICAgICAgICAgIGNhc2UgMDogcmV0dXJuICFwcmVkaWNhdGUuY2FsbCh0aGlzKTtcbiAgICAgICAgICBjYXNlIDE6IHJldHVybiAhcHJlZGljYXRlLmNhbGwodGhpcywgYXJnc1swXSk7XG4gICAgICAgICAgY2FzZSAyOiByZXR1cm4gIXByZWRpY2F0ZS5jYWxsKHRoaXMsIGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICAgICAgICAgIGNhc2UgMzogcmV0dXJuICFwcmVkaWNhdGUuY2FsbCh0aGlzLCBhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gIXByZWRpY2F0ZS5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaXMgcmVzdHJpY3RlZCB0byBpbnZva2luZyBgZnVuY2Agb25jZS4gUmVwZWF0IGNhbGxzXG4gICAgICogdG8gdGhlIGZ1bmN0aW9uIHJldHVybiB0aGUgdmFsdWUgb2YgdGhlIGZpcnN0IGludm9jYXRpb24uIFRoZSBgZnVuY2AgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIGFuZCBhcmd1bWVudHMgb2YgdGhlIGNyZWF0ZWQgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byByZXN0cmljdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyByZXN0cmljdGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgaW5pdGlhbGl6ZSA9IF8ub25jZShjcmVhdGVBcHBsaWNhdGlvbik7XG4gICAgICogaW5pdGlhbGl6ZSgpO1xuICAgICAqIGluaXRpYWxpemUoKTtcbiAgICAgKiAvLyA9PiBgY3JlYXRlQXBwbGljYXRpb25gIGlzIGludm9rZWQgb25jZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9uY2UoZnVuYykge1xuICAgICAgcmV0dXJuIGJlZm9yZSgyLCBmdW5jKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGl0cyBhcmd1bWVudHMgdHJhbnNmb3JtZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbdHJhbnNmb3Jtcz1bXy5pZGVudGl0eV1dXG4gICAgICogIFRoZSBhcmd1bWVudCB0cmFuc2Zvcm1zLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBkb3VibGVkKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICogMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBzcXVhcmUobikge1xuICAgICAqICAgcmV0dXJuIG4gKiBuO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBmdW5jID0gXy5vdmVyQXJncyhmdW5jdGlvbih4LCB5KSB7XG4gICAgICogICByZXR1cm4gW3gsIHldO1xuICAgICAqIH0sIFtzcXVhcmUsIGRvdWJsZWRdKTtcbiAgICAgKlxuICAgICAqIGZ1bmMoOSwgMyk7XG4gICAgICogLy8gPT4gWzgxLCA2XVxuICAgICAqXG4gICAgICogZnVuYygxMCwgNSk7XG4gICAgICogLy8gPT4gWzEwMCwgMTBdXG4gICAgICovXG4gICAgdmFyIG92ZXJBcmdzID0gY2FzdFJlc3QoZnVuY3Rpb24oZnVuYywgdHJhbnNmb3Jtcykge1xuICAgICAgdHJhbnNmb3JtcyA9ICh0cmFuc2Zvcm1zLmxlbmd0aCA9PSAxICYmIGlzQXJyYXkodHJhbnNmb3Jtc1swXSkpXG4gICAgICAgID8gYXJyYXlNYXAodHJhbnNmb3Jtc1swXSwgYmFzZVVuYXJ5KGdldEl0ZXJhdGVlKCkpKVxuICAgICAgICA6IGFycmF5TWFwKGJhc2VGbGF0dGVuKHRyYW5zZm9ybXMsIDEpLCBiYXNlVW5hcnkoZ2V0SXRlcmF0ZWUoKSkpO1xuXG4gICAgICB2YXIgZnVuY3NMZW5ndGggPSB0cmFuc2Zvcm1zLmxlbmd0aDtcbiAgICAgIHJldHVybiBiYXNlUmVzdChmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWluKGFyZ3MubGVuZ3RoLCBmdW5jc0xlbmd0aCk7XG5cbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICBhcmdzW2luZGV4XSA9IHRyYW5zZm9ybXNbaW5kZXhdLmNhbGwodGhpcywgYXJnc1tpbmRleF0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcHBseShmdW5jLCB0aGlzLCBhcmdzKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBgcGFydGlhbHNgIHByZXBlbmRlZCB0byB0aGVcbiAgICAgKiBhcmd1bWVudHMgaXQgcmVjZWl2ZXMuIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uYmluZGAgZXhjZXB0IGl0IGRvZXMgKipub3QqKlxuICAgICAqIGFsdGVyIHRoZSBgdGhpc2AgYmluZGluZy5cbiAgICAgKlxuICAgICAqIFRoZSBgXy5wYXJ0aWFsLnBsYWNlaG9sZGVyYCB2YWx1ZSwgd2hpY2ggZGVmYXVsdHMgdG8gYF9gIGluIG1vbm9saXRoaWNcbiAgICAgKiBidWlsZHMsIG1heSBiZSB1c2VkIGFzIGEgcGxhY2Vob2xkZXIgZm9yIHBhcnRpYWxseSBhcHBsaWVkIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBkb2Vzbid0IHNldCB0aGUgXCJsZW5ndGhcIiBwcm9wZXJ0eSBvZiBwYXJ0aWFsbHlcbiAgICAgKiBhcHBsaWVkIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjIuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHBhcnRpYWxseSBhcHBseSBhcmd1bWVudHMgdG8uXG4gICAgICogQHBhcmFtIHsuLi4qfSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gYmUgcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcGFydGlhbGx5IGFwcGxpZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGdyZWV0KGdyZWV0aW5nLCBuYW1lKSB7XG4gICAgICogICByZXR1cm4gZ3JlZXRpbmcgKyAnICcgKyBuYW1lO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBzYXlIZWxsb1RvID0gXy5wYXJ0aWFsKGdyZWV0LCAnaGVsbG8nKTtcbiAgICAgKiBzYXlIZWxsb1RvKCdmcmVkJyk7XG4gICAgICogLy8gPT4gJ2hlbGxvIGZyZWQnXG4gICAgICpcbiAgICAgKiAvLyBQYXJ0aWFsbHkgYXBwbGllZCB3aXRoIHBsYWNlaG9sZGVycy5cbiAgICAgKiB2YXIgZ3JlZXRGcmVkID0gXy5wYXJ0aWFsKGdyZWV0LCBfLCAnZnJlZCcpO1xuICAgICAqIGdyZWV0RnJlZCgnaGknKTtcbiAgICAgKiAvLyA9PiAnaGkgZnJlZCdcbiAgICAgKi9cbiAgICB2YXIgcGFydGlhbCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGZ1bmMsIHBhcnRpYWxzKSB7XG4gICAgICB2YXIgaG9sZGVycyA9IHJlcGxhY2VIb2xkZXJzKHBhcnRpYWxzLCBnZXRIb2xkZXIocGFydGlhbCkpO1xuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoZnVuYywgV1JBUF9QQVJUSUFMX0ZMQUcsIHVuZGVmaW5lZCwgcGFydGlhbHMsIGhvbGRlcnMpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5wYXJ0aWFsYCBleGNlcHQgdGhhdCBwYXJ0aWFsbHkgYXBwbGllZCBhcmd1bWVudHNcbiAgICAgKiBhcmUgYXBwZW5kZWQgdG8gdGhlIGFyZ3VtZW50cyBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIFRoZSBgXy5wYXJ0aWFsUmlnaHQucGxhY2Vob2xkZXJgIHZhbHVlLCB3aGljaCBkZWZhdWx0cyB0byBgX2AgaW4gbW9ub2xpdGhpY1xuICAgICAqIGJ1aWxkcywgbWF5IGJlIHVzZWQgYXMgYSBwbGFjZWhvbGRlciBmb3IgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGRvZXNuJ3Qgc2V0IHRoZSBcImxlbmd0aFwiIHByb3BlcnR5IG9mIHBhcnRpYWxseVxuICAgICAqIGFwcGxpZWQgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcGFydGlhbGx5IGFwcGx5IGFyZ3VtZW50cyB0by5cbiAgICAgKiBAcGFyYW0gey4uLip9IFtwYXJ0aWFsc10gVGhlIGFyZ3VtZW50cyB0byBiZSBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBwYXJ0aWFsbHkgYXBwbGllZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gZ3JlZXQoZ3JlZXRpbmcsIG5hbWUpIHtcbiAgICAgKiAgIHJldHVybiBncmVldGluZyArICcgJyArIG5hbWU7XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGdyZWV0RnJlZCA9IF8ucGFydGlhbFJpZ2h0KGdyZWV0LCAnZnJlZCcpO1xuICAgICAqIGdyZWV0RnJlZCgnaGknKTtcbiAgICAgKiAvLyA9PiAnaGkgZnJlZCdcbiAgICAgKlxuICAgICAqIC8vIFBhcnRpYWxseSBhcHBsaWVkIHdpdGggcGxhY2Vob2xkZXJzLlxuICAgICAqIHZhciBzYXlIZWxsb1RvID0gXy5wYXJ0aWFsUmlnaHQoZ3JlZXQsICdoZWxsbycsIF8pO1xuICAgICAqIHNheUhlbGxvVG8oJ2ZyZWQnKTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gZnJlZCdcbiAgICAgKi9cbiAgICB2YXIgcGFydGlhbFJpZ2h0ID0gYmFzZVJlc3QoZnVuY3Rpb24oZnVuYywgcGFydGlhbHMpIHtcbiAgICAgIHZhciBob2xkZXJzID0gcmVwbGFjZUhvbGRlcnMocGFydGlhbHMsIGdldEhvbGRlcihwYXJ0aWFsUmlnaHQpKTtcbiAgICAgIHJldHVybiBjcmVhdGVXcmFwKGZ1bmMsIFdSQVBfUEFSVElBTF9SSUdIVF9GTEFHLCB1bmRlZmluZWQsIHBhcnRpYWxzLCBob2xkZXJzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggYXJndW1lbnRzIGFycmFuZ2VkIGFjY29yZGluZ1xuICAgICAqIHRvIHRoZSBzcGVjaWZpZWQgYGluZGV4ZXNgIHdoZXJlIHRoZSBhcmd1bWVudCB2YWx1ZSBhdCB0aGUgZmlyc3QgaW5kZXggaXNcbiAgICAgKiBwcm92aWRlZCBhcyB0aGUgZmlyc3QgYXJndW1lbnQsIHRoZSBhcmd1bWVudCB2YWx1ZSBhdCB0aGUgc2Vjb25kIGluZGV4IGlzXG4gICAgICogcHJvdmlkZWQgYXMgdGhlIHNlY29uZCBhcmd1bWVudCwgYW5kIHNvIG9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcmVhcnJhbmdlIGFyZ3VtZW50cyBmb3IuXG4gICAgICogQHBhcmFtIHsuLi4obnVtYmVyfG51bWJlcltdKX0gaW5kZXhlcyBUaGUgYXJyYW5nZWQgYXJndW1lbnQgaW5kZXhlcy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHJlYXJnZWQgPSBfLnJlYXJnKGZ1bmN0aW9uKGEsIGIsIGMpIHtcbiAgICAgKiAgIHJldHVybiBbYSwgYiwgY107XG4gICAgICogfSwgWzIsIDAsIDFdKTtcbiAgICAgKlxuICAgICAqIHJlYXJnZWQoJ2InLCAnYycsICdhJylcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYicsICdjJ11cbiAgICAgKi9cbiAgICB2YXIgcmVhcmcgPSBmbGF0UmVzdChmdW5jdGlvbihmdW5jLCBpbmRleGVzKSB7XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcChmdW5jLCBXUkFQX1JFQVJHX0ZMQUcsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGluZGV4ZXMpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgdGhlXG4gICAgICogY3JlYXRlZCBmdW5jdGlvbiBhbmQgYXJndW1lbnRzIGZyb20gYHN0YXJ0YCBhbmQgYmV5b25kIHByb3ZpZGVkIGFzXG4gICAgICogYW4gYXJyYXkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb24gdGhlXG4gICAgICogW3Jlc3QgcGFyYW1ldGVyXShodHRwczovL21kbi5pby9yZXN0X3BhcmFtZXRlcnMpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PWZ1bmMubGVuZ3RoLTFdIFRoZSBzdGFydCBwb3NpdGlvbiBvZiB0aGUgcmVzdCBwYXJhbWV0ZXIuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBzYXkgPSBfLnJlc3QoZnVuY3Rpb24od2hhdCwgbmFtZXMpIHtcbiAgICAgKiAgIHJldHVybiB3aGF0ICsgJyAnICsgXy5pbml0aWFsKG5hbWVzKS5qb2luKCcsICcpICtcbiAgICAgKiAgICAgKF8uc2l6ZShuYW1lcykgPiAxID8gJywgJiAnIDogJycpICsgXy5sYXN0KG5hbWVzKTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIHNheSgnaGVsbG8nLCAnZnJlZCcsICdiYXJuZXknLCAncGViYmxlcycpO1xuICAgICAqIC8vID0+ICdoZWxsbyBmcmVkLCBiYXJuZXksICYgcGViYmxlcydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZXN0KGZ1bmMsIHN0YXJ0KSB7XG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICBzdGFydCA9IHN0YXJ0ID09PSB1bmRlZmluZWQgPyBzdGFydCA6IHRvSW50ZWdlcihzdGFydCk7XG4gICAgICByZXR1cm4gYmFzZVJlc3QoZnVuYywgc3RhcnQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIHRoZVxuICAgICAqIGNyZWF0ZSBmdW5jdGlvbiBhbmQgYW4gYXJyYXkgb2YgYXJndW1lbnRzIG11Y2ggbGlrZVxuICAgICAqIFtgRnVuY3Rpb24jYXBwbHlgXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5KS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvbiB0aGVcbiAgICAgKiBbc3ByZWFkIG9wZXJhdG9yXShodHRwczovL21kbi5pby9zcHJlYWRfb3BlcmF0b3IpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMi4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gc3ByZWFkIGFyZ3VtZW50cyBvdmVyLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSBzcHJlYWQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBzYXkgPSBfLnNwcmVhZChmdW5jdGlvbih3aG8sIHdoYXQpIHtcbiAgICAgKiAgIHJldHVybiB3aG8gKyAnIHNheXMgJyArIHdoYXQ7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBzYXkoWydmcmVkJywgJ2hlbGxvJ10pO1xuICAgICAqIC8vID0+ICdmcmVkIHNheXMgaGVsbG8nXG4gICAgICpcbiAgICAgKiB2YXIgbnVtYmVycyA9IFByb21pc2UuYWxsKFtcbiAgICAgKiAgIFByb21pc2UucmVzb2x2ZSg0MCksXG4gICAgICogICBQcm9taXNlLnJlc29sdmUoMzYpXG4gICAgICogXSk7XG4gICAgICpcbiAgICAgKiBudW1iZXJzLnRoZW4oXy5zcHJlYWQoZnVuY3Rpb24oeCwgeSkge1xuICAgICAqICAgcmV0dXJuIHggKyB5O1xuICAgICAqIH0pKTtcbiAgICAgKiAvLyA9PiBhIFByb21pc2Ugb2YgNzZcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzcHJlYWQoZnVuYywgc3RhcnQpIHtcbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHN0YXJ0ID0gc3RhcnQgPT0gbnVsbCA/IDAgOiBuYXRpdmVNYXgodG9JbnRlZ2VyKHN0YXJ0KSwgMCk7XG4gICAgICByZXR1cm4gYmFzZVJlc3QoZnVuY3Rpb24oYXJncykge1xuICAgICAgICB2YXIgYXJyYXkgPSBhcmdzW3N0YXJ0XSxcbiAgICAgICAgICAgIG90aGVyQXJncyA9IGNhc3RTbGljZShhcmdzLCAwLCBzdGFydCk7XG5cbiAgICAgICAgaWYgKGFycmF5KSB7XG4gICAgICAgICAgYXJyYXlQdXNoKG90aGVyQXJncywgYXJyYXkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcHBseShmdW5jLCB0aGlzLCBvdGhlckFyZ3MpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHRocm90dGxlZCBmdW5jdGlvbiB0aGF0IG9ubHkgaW52b2tlcyBgZnVuY2AgYXQgbW9zdCBvbmNlIHBlclxuICAgICAqIGV2ZXJ5IGB3YWl0YCBtaWxsaXNlY29uZHMuIFRoZSB0aHJvdHRsZWQgZnVuY3Rpb24gY29tZXMgd2l0aCBhIGBjYW5jZWxgXG4gICAgICogbWV0aG9kIHRvIGNhbmNlbCBkZWxheWVkIGBmdW5jYCBpbnZvY2F0aW9ucyBhbmQgYSBgZmx1c2hgIG1ldGhvZCB0b1xuICAgICAqIGltbWVkaWF0ZWx5IGludm9rZSB0aGVtLiBQcm92aWRlIGBvcHRpb25zYCB0byBpbmRpY2F0ZSB3aGV0aGVyIGBmdW5jYFxuICAgICAqIHNob3VsZCBiZSBpbnZva2VkIG9uIHRoZSBsZWFkaW5nIGFuZC9vciB0cmFpbGluZyBlZGdlIG9mIHRoZSBgd2FpdGBcbiAgICAgKiB0aW1lb3V0LiBUaGUgYGZ1bmNgIGlzIGludm9rZWQgd2l0aCB0aGUgbGFzdCBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlXG4gICAgICogdGhyb3R0bGVkIGZ1bmN0aW9uLiBTdWJzZXF1ZW50IGNhbGxzIHRvIHRoZSB0aHJvdHRsZWQgZnVuY3Rpb24gcmV0dXJuIHRoZVxuICAgICAqIHJlc3VsdCBvZiB0aGUgbGFzdCBgZnVuY2AgaW52b2NhdGlvbi5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBJZiBgbGVhZGluZ2AgYW5kIGB0cmFpbGluZ2Agb3B0aW9ucyBhcmUgYHRydWVgLCBgZnVuY2AgaXNcbiAgICAgKiBpbnZva2VkIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0IG9ubHkgaWYgdGhlIHRocm90dGxlZCBmdW5jdGlvblxuICAgICAqIGlzIGludm9rZWQgbW9yZSB0aGFuIG9uY2UgZHVyaW5nIHRoZSBgd2FpdGAgdGltZW91dC5cbiAgICAgKlxuICAgICAqIElmIGB3YWl0YCBpcyBgMGAgYW5kIGBsZWFkaW5nYCBpcyBgZmFsc2VgLCBgZnVuY2AgaW52b2NhdGlvbiBpcyBkZWZlcnJlZFxuICAgICAqIHVudGlsIHRvIHRoZSBuZXh0IHRpY2ssIHNpbWlsYXIgdG8gYHNldFRpbWVvdXRgIHdpdGggYSB0aW1lb3V0IG9mIGAwYC5cbiAgICAgKlxuICAgICAqIFNlZSBbRGF2aWQgQ29yYmFjaG8ncyBhcnRpY2xlXShodHRwczovL2Nzcy10cmlja3MuY29tL2RlYm91bmNpbmctdGhyb3R0bGluZy1leHBsYWluZWQtZXhhbXBsZXMvKVxuICAgICAqIGZvciBkZXRhaWxzIG92ZXIgdGhlIGRpZmZlcmVuY2VzIGJldHdlZW4gYF8udGhyb3R0bGVgIGFuZCBgXy5kZWJvdW5jZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB0aHJvdHRsZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3dhaXQ9MF0gVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gdGhyb3R0bGUgaW52b2NhdGlvbnMgdG8uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5sZWFkaW5nPXRydWVdXG4gICAgICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIGxlYWRpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRyYWlsaW5nPXRydWVdXG4gICAgICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgdGhyb3R0bGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAvLyBBdm9pZCBleGNlc3NpdmVseSB1cGRhdGluZyB0aGUgcG9zaXRpb24gd2hpbGUgc2Nyb2xsaW5nLlxuICAgICAqIGpRdWVyeSh3aW5kb3cpLm9uKCdzY3JvbGwnLCBfLnRocm90dGxlKHVwZGF0ZVBvc2l0aW9uLCAxMDApKTtcbiAgICAgKlxuICAgICAqIC8vIEludm9rZSBgcmVuZXdUb2tlbmAgd2hlbiB0aGUgY2xpY2sgZXZlbnQgaXMgZmlyZWQsIGJ1dCBub3QgbW9yZSB0aGFuIG9uY2UgZXZlcnkgNSBtaW51dGVzLlxuICAgICAqIHZhciB0aHJvdHRsZWQgPSBfLnRocm90dGxlKHJlbmV3VG9rZW4sIDMwMDAwMCwgeyAndHJhaWxpbmcnOiBmYWxzZSB9KTtcbiAgICAgKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgdGhyb3R0bGVkKTtcbiAgICAgKlxuICAgICAqIC8vIENhbmNlbCB0aGUgdHJhaWxpbmcgdGhyb3R0bGVkIGludm9jYXRpb24uXG4gICAgICogalF1ZXJ5KHdpbmRvdykub24oJ3BvcHN0YXRlJywgdGhyb3R0bGVkLmNhbmNlbCk7XG4gICAgICovXG4gICAgZnVuY3Rpb24gdGhyb3R0bGUoZnVuYywgd2FpdCwgb3B0aW9ucykge1xuICAgICAgdmFyIGxlYWRpbmcgPSB0cnVlLFxuICAgICAgICAgIHRyYWlsaW5nID0gdHJ1ZTtcblxuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgaWYgKGlzT2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgICAgIGxlYWRpbmcgPSAnbGVhZGluZycgaW4gb3B0aW9ucyA/ICEhb3B0aW9ucy5sZWFkaW5nIDogbGVhZGluZztcbiAgICAgICAgdHJhaWxpbmcgPSAndHJhaWxpbmcnIGluIG9wdGlvbnMgPyAhIW9wdGlvbnMudHJhaWxpbmcgOiB0cmFpbGluZztcbiAgICAgIH1cbiAgICAgIHJldHVybiBkZWJvdW5jZShmdW5jLCB3YWl0LCB7XG4gICAgICAgICdsZWFkaW5nJzogbGVhZGluZyxcbiAgICAgICAgJ21heFdhaXQnOiB3YWl0LFxuICAgICAgICAndHJhaWxpbmcnOiB0cmFpbGluZ1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgYWNjZXB0cyB1cCB0byBvbmUgYXJndW1lbnQsIGlnbm9yaW5nIGFueVxuICAgICAqIGFkZGl0aW9uYWwgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2FwIGFyZ3VtZW50cyBmb3IuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY2FwcGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLm1hcChbJzYnLCAnOCcsICcxMCddLCBfLnVuYXJ5KHBhcnNlSW50KSk7XG4gICAgICogLy8gPT4gWzYsIDgsIDEwXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuYXJ5KGZ1bmMpIHtcbiAgICAgIHJldHVybiBhcnkoZnVuYywgMSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcHJvdmlkZXMgYHZhbHVlYCB0byBgd3JhcHBlcmAgYXMgaXRzIGZpcnN0XG4gICAgICogYXJndW1lbnQuIEFueSBhZGRpdGlvbmFsIGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGUgZnVuY3Rpb24gYXJlIGFwcGVuZGVkXG4gICAgICogdG8gdGhvc2UgcHJvdmlkZWQgdG8gdGhlIGB3cmFwcGVyYC4gVGhlIHdyYXBwZXIgaXMgaW52b2tlZCB3aXRoIHRoZSBgdGhpc2BcbiAgICAgKiBiaW5kaW5nIG9mIHRoZSBjcmVhdGVkIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbd3JhcHBlcj1pZGVudGl0eV0gVGhlIHdyYXBwZXIgZnVuY3Rpb24uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBwID0gXy53cmFwKF8uZXNjYXBlLCBmdW5jdGlvbihmdW5jLCB0ZXh0KSB7XG4gICAgICogICByZXR1cm4gJzxwPicgKyBmdW5jKHRleHQpICsgJzwvcD4nO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogcCgnZnJlZCwgYmFybmV5LCAmIHBlYmJsZXMnKTtcbiAgICAgKiAvLyA9PiAnPHA+ZnJlZCwgYmFybmV5LCAmYW1wOyBwZWJibGVzPC9wPidcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwKHZhbHVlLCB3cmFwcGVyKSB7XG4gICAgICByZXR1cm4gcGFydGlhbChjYXN0RnVuY3Rpb24od3JhcHBlciksIHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDYXN0cyBgdmFsdWVgIGFzIGFuIGFycmF5IGlmIGl0J3Mgbm90IG9uZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjQuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNhc3QgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY2FzdEFycmF5KDEpO1xuICAgICAqIC8vID0+IFsxXVxuICAgICAqXG4gICAgICogXy5jYXN0QXJyYXkoeyAnYSc6IDEgfSk7XG4gICAgICogLy8gPT4gW3sgJ2EnOiAxIH1dXG4gICAgICpcbiAgICAgKiBfLmNhc3RBcnJheSgnYWJjJyk7XG4gICAgICogLy8gPT4gWydhYmMnXVxuICAgICAqXG4gICAgICogXy5jYXN0QXJyYXkobnVsbCk7XG4gICAgICogLy8gPT4gW251bGxdXG4gICAgICpcbiAgICAgKiBfLmNhc3RBcnJheSh1bmRlZmluZWQpO1xuICAgICAqIC8vID0+IFt1bmRlZmluZWRdXG4gICAgICpcbiAgICAgKiBfLmNhc3RBcnJheSgpO1xuICAgICAqIC8vID0+IFtdXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMSwgMiwgM107XG4gICAgICogY29uc29sZS5sb2coXy5jYXN0QXJyYXkoYXJyYXkpID09PSBhcnJheSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNhc3RBcnJheSgpIHtcbiAgICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgdmFsdWUgPSBhcmd1bWVudHNbMF07XG4gICAgICByZXR1cm4gaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZSA6IFt2YWx1ZV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNoYWxsb3cgY2xvbmUgb2YgYHZhbHVlYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBsb29zZWx5IGJhc2VkIG9uIHRoZVxuICAgICAqIFtzdHJ1Y3R1cmVkIGNsb25lIGFsZ29yaXRobV0oaHR0cHM6Ly9tZG4uaW8vU3RydWN0dXJlZF9jbG9uZV9hbGdvcml0aG0pXG4gICAgICogYW5kIHN1cHBvcnRzIGNsb25pbmcgYXJyYXlzLCBhcnJheSBidWZmZXJzLCBib29sZWFucywgZGF0ZSBvYmplY3RzLCBtYXBzLFxuICAgICAqIG51bWJlcnMsIGBPYmplY3RgIG9iamVjdHMsIHJlZ2V4ZXMsIHNldHMsIHN0cmluZ3MsIHN5bWJvbHMsIGFuZCB0eXBlZFxuICAgICAqIGFycmF5cy4gVGhlIG93biBlbnVtZXJhYmxlIHByb3BlcnRpZXMgb2YgYGFyZ3VtZW50c2Agb2JqZWN0cyBhcmUgY2xvbmVkXG4gICAgICogYXMgcGxhaW4gb2JqZWN0cy4gQW4gZW1wdHkgb2JqZWN0IGlzIHJldHVybmVkIGZvciB1bmNsb25lYWJsZSB2YWx1ZXMgc3VjaFxuICAgICAqIGFzIGVycm9yIG9iamVjdHMsIGZ1bmN0aW9ucywgRE9NIG5vZGVzLCBhbmQgV2Vha01hcHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBjbG9uZWQgdmFsdWUuXG4gICAgICogQHNlZSBfLmNsb25lRGVlcFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICdhJzogMSB9LCB7ICdiJzogMiB9XTtcbiAgICAgKlxuICAgICAqIHZhciBzaGFsbG93ID0gXy5jbG9uZShvYmplY3RzKTtcbiAgICAgKiBjb25zb2xlLmxvZyhzaGFsbG93WzBdID09PSBvYmplY3RzWzBdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmUodmFsdWUpIHtcbiAgICAgIHJldHVybiBiYXNlQ2xvbmUodmFsdWUsIENMT05FX1NZTUJPTFNfRkxBRyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5jbG9uZWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIHRvIHByb2R1Y2UgdGhlIGNsb25lZCB2YWx1ZS4gSWYgYGN1c3RvbWl6ZXJgIHJldHVybnMgYHVuZGVmaW5lZGAsXG4gICAgICogY2xvbmluZyBpcyBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYCBpcyBpbnZva2VkIHdpdGhcbiAgICAgKiB1cCB0byBmb3VyIGFyZ3VtZW50czsgKHZhbHVlIFssIGluZGV4fGtleSwgb2JqZWN0LCBzdGFja10pLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjbG9uaW5nLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBjbG9uZWQgdmFsdWUuXG4gICAgICogQHNlZSBfLmNsb25lRGVlcFdpdGhcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gY3VzdG9taXplcih2YWx1ZSkge1xuICAgICAqICAgaWYgKF8uaXNFbGVtZW50KHZhbHVlKSkge1xuICAgICAqICAgICByZXR1cm4gdmFsdWUuY2xvbmVOb2RlKGZhbHNlKTtcbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgZWwgPSBfLmNsb25lV2l0aChkb2N1bWVudC5ib2R5LCBjdXN0b21pemVyKTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGVsID09PSBkb2N1bWVudC5ib2R5KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqIGNvbnNvbGUubG9nKGVsLm5vZGVOYW1lKTtcbiAgICAgKiAvLyA9PiAnQk9EWSdcbiAgICAgKiBjb25zb2xlLmxvZyhlbC5jaGlsZE5vZGVzLmxlbmd0aCk7XG4gICAgICogLy8gPT4gMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lV2l0aCh2YWx1ZSwgY3VzdG9taXplcikge1xuICAgICAgY3VzdG9taXplciA9IHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicgPyBjdXN0b21pemVyIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIGJhc2VDbG9uZSh2YWx1ZSwgQ0xPTkVfU1lNQk9MU19GTEFHLCBjdXN0b21pemVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmNsb25lYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBjbG9uZXMgYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcmVjdXJzaXZlbHkgY2xvbmUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGRlZXAgY2xvbmVkIHZhbHVlLlxuICAgICAqIEBzZWUgXy5jbG9uZVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICdhJzogMSB9LCB7ICdiJzogMiB9XTtcbiAgICAgKlxuICAgICAqIHZhciBkZWVwID0gXy5jbG9uZURlZXAob2JqZWN0cyk7XG4gICAgICogY29uc29sZS5sb2coZGVlcFswXSA9PT0gb2JqZWN0c1swXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZURlZXAodmFsdWUpIHtcbiAgICAgIHJldHVybiBiYXNlQ2xvbmUodmFsdWUsIENMT05FX0RFRVBfRkxBRyB8IENMT05FX1NZTUJPTFNfRkxBRyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5jbG9uZVdpdGhgIGV4Y2VwdCB0aGF0IGl0IHJlY3Vyc2l2ZWx5IGNsb25lcyBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byByZWN1cnNpdmVseSBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjbG9uaW5nLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBkZWVwIGNsb25lZCB2YWx1ZS5cbiAgICAgKiBAc2VlIF8uY2xvbmVXaXRoXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGN1c3RvbWl6ZXIodmFsdWUpIHtcbiAgICAgKiAgIGlmIChfLmlzRWxlbWVudCh2YWx1ZSkpIHtcbiAgICAgKiAgICAgcmV0dXJuIHZhbHVlLmNsb25lTm9kZSh0cnVlKTtcbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgZWwgPSBfLmNsb25lRGVlcFdpdGgoZG9jdW1lbnQuYm9keSwgY3VzdG9taXplcik7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhlbCA9PT0gZG9jdW1lbnQuYm9keSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKiBjb25zb2xlLmxvZyhlbC5ub2RlTmFtZSk7XG4gICAgICogLy8gPT4gJ0JPRFknXG4gICAgICogY29uc29sZS5sb2coZWwuY2hpbGROb2Rlcy5sZW5ndGgpO1xuICAgICAqIC8vID0+IDIwXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVEZWVwV2l0aCh2YWx1ZSwgY3VzdG9taXplcikge1xuICAgICAgY3VzdG9taXplciA9IHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicgPyBjdXN0b21pemVyIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIGJhc2VDbG9uZSh2YWx1ZSwgQ0xPTkVfREVFUF9GTEFHIHwgQ0xPTkVfU1lNQk9MU19GTEFHLCBjdXN0b21pemVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYG9iamVjdGAgY29uZm9ybXMgdG8gYHNvdXJjZWAgYnkgaW52b2tpbmcgdGhlIHByZWRpY2F0ZVxuICAgICAqIHByb3BlcnRpZXMgb2YgYHNvdXJjZWAgd2l0aCB0aGUgY29ycmVzcG9uZGluZyBwcm9wZXJ0eSB2YWx1ZXMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgZXF1aXZhbGVudCB0byBgXy5jb25mb3Jtc2Agd2hlbiBgc291cmNlYCBpc1xuICAgICAqIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTQuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHByZWRpY2F0ZXMgdG8gY29uZm9ybSB0by5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG9iamVjdGAgY29uZm9ybXMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6IDIgfTtcbiAgICAgKlxuICAgICAqIF8uY29uZm9ybXNUbyhvYmplY3QsIHsgJ2InOiBmdW5jdGlvbihuKSB7IHJldHVybiBuID4gMTsgfSB9KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmNvbmZvcm1zVG8ob2JqZWN0LCB7ICdiJzogZnVuY3Rpb24obikgeyByZXR1cm4gbiA+IDI7IH0gfSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb25mb3Jtc1RvKG9iamVjdCwgc291cmNlKSB7XG4gICAgICByZXR1cm4gc291cmNlID09IG51bGwgfHwgYmFzZUNvbmZvcm1zVG8ob2JqZWN0LCBzb3VyY2UsIGtleXMoc291cmNlKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgYVxuICAgICAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogY29tcGFyaXNvbiBiZXR3ZWVuIHR3byB2YWx1ZXMgdG8gZGV0ZXJtaW5lIGlmIHRoZXkgYXJlIGVxdWl2YWxlbnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEgfTtcbiAgICAgKiB2YXIgb3RoZXIgPSB7ICdhJzogMSB9O1xuICAgICAqXG4gICAgICogXy5lcShvYmplY3QsIG9iamVjdCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5lcShvYmplY3QsIG90aGVyKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5lcSgnYScsICdhJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5lcSgnYScsIE9iamVjdCgnYScpKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5lcShOYU4sIE5hTik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVxKHZhbHVlLCBvdGhlcikge1xuICAgICAgcmV0dXJuIHZhbHVlID09PSBvdGhlciB8fCAodmFsdWUgIT09IHZhbHVlICYmIG90aGVyICE9PSBvdGhlcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgZ3JlYXRlciB0aGFuIGBvdGhlcmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy45LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBncmVhdGVyIHRoYW4gYG90aGVyYCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBzZWUgXy5sdFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmd0KDMsIDEpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uZ3QoMywgMyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uZ3QoMSwgMyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgZ3QgPSBjcmVhdGVSZWxhdGlvbmFsT3BlcmF0aW9uKGJhc2VHdCk7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gYG90aGVyYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjkuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0b1xuICAgICAqICBgb3RoZXJgLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQHNlZSBfLmx0ZVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmd0ZSgzLCAxKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmd0ZSgzLCAzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmd0ZSgxLCAzKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBndGUgPSBjcmVhdGVSZWxhdGlvbmFsT3BlcmF0aW9uKGZ1bmN0aW9uKHZhbHVlLCBvdGhlcikge1xuICAgICAgcmV0dXJuIHZhbHVlID49IG90aGVyO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGFuIGBhcmd1bWVudHNgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNBcmd1bWVudHMoZnVuY3Rpb24oKSB7IHJldHVybiBhcmd1bWVudHM7IH0oKSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FyZ3VtZW50cyhbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzQXJndW1lbnRzID0gYmFzZUlzQXJndW1lbnRzKGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpID8gYmFzZUlzQXJndW1lbnRzIDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsICdjYWxsZWUnKSAmJlxuICAgICAgICAhcHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh2YWx1ZSwgJ2NhbGxlZScpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGFuIGBBcnJheWAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXkoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXkoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheSgnYWJjJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheShfLm5vb3ApO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhbiBgQXJyYXlCdWZmZXJgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjMuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXkgYnVmZmVyLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUJ1ZmZlcihuZXcgQXJyYXlCdWZmZXIoMikpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUJ1ZmZlcihuZXcgQXJyYXkoMikpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzQXJyYXlCdWZmZXIgPSBub2RlSXNBcnJheUJ1ZmZlciA/IGJhc2VVbmFyeShub2RlSXNBcnJheUJ1ZmZlcikgOiBiYXNlSXNBcnJheUJ1ZmZlcjtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UuIEEgdmFsdWUgaXMgY29uc2lkZXJlZCBhcnJheS1saWtlIGlmIGl0J3NcbiAgICAgKiBub3QgYSBmdW5jdGlvbiBhbmQgaGFzIGEgYHZhbHVlLmxlbmd0aGAgdGhhdCdzIGFuIGludGVnZXIgZ3JlYXRlciB0aGFuIG9yXG4gICAgICogZXF1YWwgdG8gYDBgIGFuZCBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gYE51bWJlci5NQVhfU0FGRV9JTlRFR0VSYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYXJyYXktbGlrZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZShkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlKCdhYmMnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlKF8ubm9vcCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0FycmF5TGlrZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgaXNMZW5ndGgodmFsdWUubGVuZ3RoKSAmJiAhaXNGdW5jdGlvbih2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pc0FycmF5TGlrZWAgZXhjZXB0IHRoYXQgaXQgYWxzbyBjaGVja3MgaWYgYHZhbHVlYFxuICAgICAqIGlzIGFuIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXktbGlrZSBvYmplY3QsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZU9iamVjdChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2VPYmplY3QoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZU9iamVjdCgnYWJjJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2VPYmplY3QoXy5ub29wKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzQXJyYXlMaWtlT2JqZWN0KHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBpc0FycmF5TGlrZSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGJvb2xlYW4gcHJpbWl0aXZlIG9yIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBib29sZWFuLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNCb29sZWFuKGZhbHNlKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQm9vbGVhbihudWxsKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzQm9vbGVhbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID09PSB0cnVlIHx8IHZhbHVlID09PSBmYWxzZSB8fFxuICAgICAgICAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBib29sVGFnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIGJ1ZmZlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjMuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBidWZmZXIsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0J1ZmZlcihuZXcgQnVmZmVyKDIpKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQnVmZmVyKG5ldyBVaW50OEFycmF5KDIpKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc0J1ZmZlciA9IG5hdGl2ZUlzQnVmZmVyIHx8IHN0dWJGYWxzZTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgRGF0ZWAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGRhdGUgb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNEYXRlKG5ldyBEYXRlKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRGF0ZSgnTW9uIEFwcmlsIDIzIDIwMTInKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc0RhdGUgPSBub2RlSXNEYXRlID8gYmFzZVVuYXJ5KG5vZGVJc0RhdGUpIDogYmFzZUlzRGF0ZTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxpa2VseSBhIERPTSBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIERPTSBlbGVtZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNFbGVtZW50KGRvY3VtZW50LmJvZHkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNFbGVtZW50KCc8Ym9keT4nKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRWxlbWVudCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgdmFsdWUubm9kZVR5cGUgPT09IDEgJiYgIWlzUGxhaW5PYmplY3QodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGFuIGVtcHR5IG9iamVjdCwgY29sbGVjdGlvbiwgbWFwLCBvciBzZXQuXG4gICAgICpcbiAgICAgKiBPYmplY3RzIGFyZSBjb25zaWRlcmVkIGVtcHR5IGlmIHRoZXkgaGF2ZSBubyBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWRcbiAgICAgKiBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogQXJyYXktbGlrZSB2YWx1ZXMgc3VjaCBhcyBgYXJndW1lbnRzYCBvYmplY3RzLCBhcnJheXMsIGJ1ZmZlcnMsIHN0cmluZ3MsIG9yXG4gICAgICogalF1ZXJ5LWxpa2UgY29sbGVjdGlvbnMgYXJlIGNvbnNpZGVyZWQgZW1wdHkgaWYgdGhleSBoYXZlIGEgYGxlbmd0aGAgb2YgYDBgLlxuICAgICAqIFNpbWlsYXJseSwgbWFwcyBhbmQgc2V0cyBhcmUgY29uc2lkZXJlZCBlbXB0eSBpZiB0aGV5IGhhdmUgYSBgc2l6ZWAgb2YgYDBgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBlbXB0eSwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzRW1wdHkobnVsbCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0VtcHR5KHRydWUpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNFbXB0eSgxKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRW1wdHkoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0VtcHR5KHsgJ2EnOiAxIH0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNFbXB0eSh2YWx1ZSkge1xuICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoaXNBcnJheUxpa2UodmFsdWUpICYmXG4gICAgICAgICAgKGlzQXJyYXkodmFsdWUpIHx8IHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJyB8fCB0eXBlb2YgdmFsdWUuc3BsaWNlID09ICdmdW5jdGlvbicgfHxcbiAgICAgICAgICAgIGlzQnVmZmVyKHZhbHVlKSB8fCBpc1R5cGVkQXJyYXkodmFsdWUpIHx8IGlzQXJndW1lbnRzKHZhbHVlKSkpIHtcbiAgICAgICAgcmV0dXJuICF2YWx1ZS5sZW5ndGg7XG4gICAgICB9XG4gICAgICB2YXIgdGFnID0gZ2V0VGFnKHZhbHVlKTtcbiAgICAgIGlmICh0YWcgPT0gbWFwVGFnIHx8IHRhZyA9PSBzZXRUYWcpIHtcbiAgICAgICAgcmV0dXJuICF2YWx1ZS5zaXplO1xuICAgICAgfVxuICAgICAgaWYgKGlzUHJvdG90eXBlKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gIWJhc2VLZXlzKHZhbHVlKS5sZW5ndGg7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBrZXkgaW4gdmFsdWUpIHtcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIGtleSkpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIGEgZGVlcCBjb21wYXJpc29uIGJldHdlZW4gdHdvIHZhbHVlcyB0byBkZXRlcm1pbmUgaWYgdGhleSBhcmVcbiAgICAgKiBlcXVpdmFsZW50LlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIHN1cHBvcnRzIGNvbXBhcmluZyBhcnJheXMsIGFycmF5IGJ1ZmZlcnMsIGJvb2xlYW5zLFxuICAgICAqIGRhdGUgb2JqZWN0cywgZXJyb3Igb2JqZWN0cywgbWFwcywgbnVtYmVycywgYE9iamVjdGAgb2JqZWN0cywgcmVnZXhlcyxcbiAgICAgKiBzZXRzLCBzdHJpbmdzLCBzeW1ib2xzLCBhbmQgdHlwZWQgYXJyYXlzLiBgT2JqZWN0YCBvYmplY3RzIGFyZSBjb21wYXJlZFxuICAgICAqIGJ5IHRoZWlyIG93biwgbm90IGluaGVyaXRlZCwgZW51bWVyYWJsZSBwcm9wZXJ0aWVzLiBGdW5jdGlvbnMgYW5kIERPTVxuICAgICAqIG5vZGVzIGFyZSBjb21wYXJlZCBieSBzdHJpY3QgZXF1YWxpdHksIGkuZS4gYD09PWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEgfTtcbiAgICAgKiB2YXIgb3RoZXIgPSB7ICdhJzogMSB9O1xuICAgICAqXG4gICAgICogXy5pc0VxdWFsKG9iamVjdCwgb3RoZXIpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIG9iamVjdCA9PT0gb3RoZXI7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0VxdWFsKHZhbHVlLCBvdGhlcikge1xuICAgICAgcmV0dXJuIGJhc2VJc0VxdWFsKHZhbHVlLCBvdGhlcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pc0VxdWFsYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYCB3aGljaFxuICAgICAqIGlzIGludm9rZWQgdG8gY29tcGFyZSB2YWx1ZXMuIElmIGBjdXN0b21pemVyYCByZXR1cm5zIGB1bmRlZmluZWRgLCBjb21wYXJpc29uc1xuICAgICAqIGFyZSBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYCBpcyBpbnZva2VkIHdpdGggdXAgdG9cbiAgICAgKiBzaXggYXJndW1lbnRzOiAob2JqVmFsdWUsIG90aFZhbHVlIFssIGluZGV4fGtleSwgb2JqZWN0LCBvdGhlciwgc3RhY2tdKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGlzR3JlZXRpbmcodmFsdWUpIHtcbiAgICAgKiAgIHJldHVybiAvXmgoPzppfGVsbG8pJC8udGVzdCh2YWx1ZSk7XG4gICAgICogfVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gY3VzdG9taXplcihvYmpWYWx1ZSwgb3RoVmFsdWUpIHtcbiAgICAgKiAgIGlmIChpc0dyZWV0aW5nKG9ialZhbHVlKSAmJiBpc0dyZWV0aW5nKG90aFZhbHVlKSkge1xuICAgICAqICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbJ2hlbGxvJywgJ2dvb2RieWUnXTtcbiAgICAgKiB2YXIgb3RoZXIgPSBbJ2hpJywgJ2dvb2RieWUnXTtcbiAgICAgKlxuICAgICAqIF8uaXNFcXVhbFdpdGgoYXJyYXksIG90aGVyLCBjdXN0b21pemVyKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNFcXVhbFdpdGgodmFsdWUsIG90aGVyLCBjdXN0b21pemVyKSB7XG4gICAgICBjdXN0b21pemVyID0gdHlwZW9mIGN1c3RvbWl6ZXIgPT0gJ2Z1bmN0aW9uJyA/IGN1c3RvbWl6ZXIgOiB1bmRlZmluZWQ7XG4gICAgICB2YXIgcmVzdWx0ID0gY3VzdG9taXplciA/IGN1c3RvbWl6ZXIodmFsdWUsIG90aGVyKSA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiByZXN1bHQgPT09IHVuZGVmaW5lZCA/IGJhc2VJc0VxdWFsKHZhbHVlLCBvdGhlciwgdW5kZWZpbmVkLCBjdXN0b21pemVyKSA6ICEhcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGFuIGBFcnJvcmAsIGBFdmFsRXJyb3JgLCBgUmFuZ2VFcnJvcmAsIGBSZWZlcmVuY2VFcnJvcmAsXG4gICAgICogYFN5bnRheEVycm9yYCwgYFR5cGVFcnJvcmAsIG9yIGBVUklFcnJvcmAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBlcnJvciBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0Vycm9yKG5ldyBFcnJvcik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0Vycm9yKEVycm9yKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRXJyb3IodmFsdWUpIHtcbiAgICAgIGlmICghaXNPYmplY3RMaWtlKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgdGFnID0gYmFzZUdldFRhZyh2YWx1ZSk7XG4gICAgICByZXR1cm4gdGFnID09IGVycm9yVGFnIHx8IHRhZyA9PSBkb21FeGNUYWcgfHxcbiAgICAgICAgKHR5cGVvZiB2YWx1ZS5tZXNzYWdlID09ICdzdHJpbmcnICYmIHR5cGVvZiB2YWx1ZS5uYW1lID09ICdzdHJpbmcnICYmICFpc1BsYWluT2JqZWN0KHZhbHVlKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBmaW5pdGUgcHJpbWl0aXZlIG51bWJlci5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgTnVtYmVyLmlzRmluaXRlYF0oaHR0cHM6Ly9tZG4uaW8vTnVtYmVyL2lzRmluaXRlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBmaW5pdGUgbnVtYmVyLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNGaW5pdGUoMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0Zpbml0ZShOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRmluaXRlKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0Zpbml0ZSgnMycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNGaW5pdGUodmFsdWUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgJiYgbmF0aXZlSXNGaW5pdGUodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgRnVuY3Rpb25gIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBmdW5jdGlvbiwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzRnVuY3Rpb24oXyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0Z1bmN0aW9uKC9hYmMvKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIGlmICghaXNPYmplY3QodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIC8vIFRoZSB1c2Ugb2YgYE9iamVjdCN0b1N0cmluZ2AgYXZvaWRzIGlzc3VlcyB3aXRoIHRoZSBgdHlwZW9mYCBvcGVyYXRvclxuICAgICAgLy8gaW4gU2FmYXJpIDkgd2hpY2ggcmV0dXJucyAnb2JqZWN0JyBmb3IgdHlwZWQgYXJyYXlzIGFuZCBvdGhlciBjb25zdHJ1Y3RvcnMuXG4gICAgICB2YXIgdGFnID0gYmFzZUdldFRhZyh2YWx1ZSk7XG4gICAgICByZXR1cm4gdGFnID09IGZ1bmNUYWcgfHwgdGFnID09IGdlblRhZyB8fCB0YWcgPT0gYXN5bmNUYWcgfHwgdGFnID09IHByb3h5VGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGFuIGludGVnZXIuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb25cbiAgICAgKiBbYE51bWJlci5pc0ludGVnZXJgXShodHRwczovL21kbi5pby9OdW1iZXIvaXNJbnRlZ2VyKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gaW50ZWdlciwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzSW50ZWdlcigzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzSW50ZWdlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0ludGVnZXIoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzSW50ZWdlcignMycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNJbnRlZ2VyKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmIHZhbHVlID09IHRvSW50ZWdlcih2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGxlbmd0aC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBsb29zZWx5IGJhc2VkIG9uXG4gICAgICogW2BUb0xlbmd0aGBdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRvbGVuZ3RoKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBsZW5ndGgsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0xlbmd0aCgzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTGVuZ3RoKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzTGVuZ3RoKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0xlbmd0aCgnMycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNMZW5ndGgodmFsdWUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgJiZcbiAgICAgICAgdmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8PSBNQVhfU0FGRV9JTlRFR0VSO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHRoZVxuICAgICAqIFtsYW5ndWFnZSB0eXBlXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZWNtYXNjcmlwdC1sYW5ndWFnZS10eXBlcylcbiAgICAgKiBvZiBgT2JqZWN0YC4gKGUuZy4gYXJyYXlzLCBmdW5jdGlvbnMsIG9iamVjdHMsIHJlZ2V4ZXMsIGBuZXcgTnVtYmVyKDApYCwgYW5kIGBuZXcgU3RyaW5nKCcnKWApXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0KHt9KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdChfLm5vb3ApO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3QobnVsbCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICAgICAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gICAgICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiAodHlwZSA9PSAnb2JqZWN0JyB8fCB0eXBlID09ICdmdW5jdGlvbicpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLiBBIHZhbHVlIGlzIG9iamVjdC1saWtlIGlmIGl0J3Mgbm90IGBudWxsYFxuICAgICAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdExpa2Uoe30pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3RMaWtlKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdExpa2UoXy5ub29wKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdExpa2UobnVsbCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0JztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYE1hcGAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMy4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG1hcCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzTWFwKG5ldyBNYXApO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNNYXAobmV3IFdlYWtNYXApO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzTWFwID0gbm9kZUlzTWFwID8gYmFzZVVuYXJ5KG5vZGVJc01hcCkgOiBiYXNlSXNNYXA7XG5cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyBhIHBhcnRpYWwgZGVlcCBjb21wYXJpc29uIGJldHdlZW4gYG9iamVjdGAgYW5kIGBzb3VyY2VgIHRvXG4gICAgICogZGV0ZXJtaW5lIGlmIGBvYmplY3RgIGNvbnRhaW5zIGVxdWl2YWxlbnQgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGVxdWl2YWxlbnQgdG8gYF8ubWF0Y2hlc2Agd2hlbiBgc291cmNlYCBpc1xuICAgICAqIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqXG4gICAgICogUGFydGlhbCBjb21wYXJpc29ucyB3aWxsIG1hdGNoIGVtcHR5IGFycmF5IGFuZCBlbXB0eSBvYmplY3QgYHNvdXJjZWBcbiAgICAgKiB2YWx1ZXMgYWdhaW5zdCBhbnkgYXJyYXkgb3Igb2JqZWN0IHZhbHVlLCByZXNwZWN0aXZlbHkuIFNlZSBgXy5pc0VxdWFsYFxuICAgICAqIGZvciBhIGxpc3Qgb2Ygc3VwcG9ydGVkIHZhbHVlIGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgdmFsdWVzIHRvIG1hdGNoLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgb2JqZWN0YCBpcyBhIG1hdGNoLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAyIH07XG4gICAgICpcbiAgICAgKiBfLmlzTWF0Y2gob2JqZWN0LCB7ICdiJzogMiB9KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTWF0Y2gob2JqZWN0LCB7ICdiJzogMSB9KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTWF0Y2gob2JqZWN0LCBzb3VyY2UpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT09IHNvdXJjZSB8fCBiYXNlSXNNYXRjaChvYmplY3QsIHNvdXJjZSwgZ2V0TWF0Y2hEYXRhKHNvdXJjZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaXNNYXRjaGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIHRvIGNvbXBhcmUgdmFsdWVzLiBJZiBgY3VzdG9taXplcmAgcmV0dXJucyBgdW5kZWZpbmVkYCwgY29tcGFyaXNvbnNcbiAgICAgKiBhcmUgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmAgaXMgaW52b2tlZCB3aXRoIGZpdmVcbiAgICAgKiBhcmd1bWVudHM6IChvYmpWYWx1ZSwgc3JjVmFsdWUsIGluZGV4fGtleSwgb2JqZWN0LCBzb3VyY2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgdmFsdWVzIHRvIG1hdGNoLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgb2JqZWN0YCBpcyBhIG1hdGNoLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGlzR3JlZXRpbmcodmFsdWUpIHtcbiAgICAgKiAgIHJldHVybiAvXmgoPzppfGVsbG8pJC8udGVzdCh2YWx1ZSk7XG4gICAgICogfVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gY3VzdG9taXplcihvYmpWYWx1ZSwgc3JjVmFsdWUpIHtcbiAgICAgKiAgIGlmIChpc0dyZWV0aW5nKG9ialZhbHVlKSAmJiBpc0dyZWV0aW5nKHNyY1ZhbHVlKSkge1xuICAgICAqICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnZ3JlZXRpbmcnOiAnaGVsbG8nIH07XG4gICAgICogdmFyIHNvdXJjZSA9IHsgJ2dyZWV0aW5nJzogJ2hpJyB9O1xuICAgICAqXG4gICAgICogXy5pc01hdGNoV2l0aChvYmplY3QsIHNvdXJjZSwgY3VzdG9taXplcik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTWF0Y2hXaXRoKG9iamVjdCwgc291cmNlLCBjdXN0b21pemVyKSB7XG4gICAgICBjdXN0b21pemVyID0gdHlwZW9mIGN1c3RvbWl6ZXIgPT0gJ2Z1bmN0aW9uJyA/IGN1c3RvbWl6ZXIgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gYmFzZUlzTWF0Y2gob2JqZWN0LCBzb3VyY2UsIGdldE1hdGNoRGF0YShzb3VyY2UpLCBjdXN0b21pemVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBgTmFOYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgTnVtYmVyLmlzTmFOYF0oaHR0cHM6Ly9tZG4uaW8vTnVtYmVyL2lzTmFOKSBhbmQgaXMgbm90IHRoZSBzYW1lIGFzXG4gICAgICogZ2xvYmFsIFtgaXNOYU5gXShodHRwczovL21kbi5pby9pc05hTikgd2hpY2ggcmV0dXJucyBgdHJ1ZWAgZm9yXG4gICAgICogYHVuZGVmaW5lZGAgYW5kIG90aGVyIG5vbi1udW1iZXIgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBgTmFOYCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzTmFOKE5hTik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc05hTihuZXcgTnVtYmVyKE5hTikpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIGlzTmFOKHVuZGVmaW5lZCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc05hTih1bmRlZmluZWQpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNOYU4odmFsdWUpIHtcbiAgICAgIC8vIEFuIGBOYU5gIHByaW1pdGl2ZSBpcyB0aGUgb25seSB2YWx1ZSB0aGF0IGlzIG5vdCBlcXVhbCB0byBpdHNlbGYuXG4gICAgICAvLyBQZXJmb3JtIHRoZSBgdG9TdHJpbmdUYWdgIGNoZWNrIGZpcnN0IHRvIGF2b2lkIGVycm9ycyB3aXRoIHNvbWVcbiAgICAgIC8vIEFjdGl2ZVggb2JqZWN0cyBpbiBJRS5cbiAgICAgIHJldHVybiBpc051bWJlcih2YWx1ZSkgJiYgdmFsdWUgIT0gK3ZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgcHJpc3RpbmUgbmF0aXZlIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGNhbid0IHJlbGlhYmx5IGRldGVjdCBuYXRpdmUgZnVuY3Rpb25zIGluIHRoZSBwcmVzZW5jZVxuICAgICAqIG9mIHRoZSBjb3JlLWpzIHBhY2thZ2UgYmVjYXVzZSBjb3JlLWpzIGNpcmN1bXZlbnRzIHRoaXMga2luZCBvZiBkZXRlY3Rpb24uXG4gICAgICogRGVzcGl0ZSBtdWx0aXBsZSByZXF1ZXN0cywgdGhlIGNvcmUtanMgbWFpbnRhaW5lciBoYXMgbWFkZSBpdCBjbGVhcjogYW55XG4gICAgICogYXR0ZW1wdCB0byBmaXggdGhlIGRldGVjdGlvbiB3aWxsIGJlIG9ic3RydWN0ZWQuIEFzIGEgcmVzdWx0LCB3ZSdyZSBsZWZ0XG4gICAgICogd2l0aCBsaXR0bGUgY2hvaWNlIGJ1dCB0byB0aHJvdyBhbiBlcnJvci4gVW5mb3J0dW5hdGVseSwgdGhpcyBhbHNvIGFmZmVjdHNcbiAgICAgKiBwYWNrYWdlcywgbGlrZSBbYmFiZWwtcG9seWZpbGxdKGh0dHBzOi8vd3d3Lm5wbWpzLmNvbS9wYWNrYWdlL2JhYmVsLXBvbHlmaWxsKSxcbiAgICAgKiB3aGljaCByZWx5IG9uIGNvcmUtanMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbmF0aXZlIGZ1bmN0aW9uLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNOYXRpdmUoQXJyYXkucHJvdG90eXBlLnB1c2gpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOYXRpdmUoXyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc05hdGl2ZSh2YWx1ZSkge1xuICAgICAgaWYgKGlzTWFza2FibGUodmFsdWUpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihDT1JFX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VJc05hdGl2ZSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYG51bGxgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBgbnVsbGAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc051bGwobnVsbCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc051bGwodm9pZCAwKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTnVsbCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID09PSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGBudWxsYCBvciBgdW5kZWZpbmVkYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgbnVsbGlzaCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzTmlsKG51bGwpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOaWwodm9pZCAwKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTmlsKE5hTik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc05pbCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID09IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBOdW1iZXJgIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVG8gZXhjbHVkZSBgSW5maW5pdHlgLCBgLUluZmluaXR5YCwgYW5kIGBOYU5gLCB3aGljaCBhcmVcbiAgICAgKiBjbGFzc2lmaWVkIGFzIG51bWJlcnMsIHVzZSB0aGUgYF8uaXNGaW5pdGVgIG1ldGhvZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBudW1iZXIsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc051bWJlcigzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTnVtYmVyKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOdW1iZXIoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOdW1iZXIoJzMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTnVtYmVyKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInIHx8XG4gICAgICAgIChpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IG51bWJlclRhZyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBwbGFpbiBvYmplY3QsIHRoYXQgaXMsIGFuIG9iamVjdCBjcmVhdGVkIGJ5IHRoZVxuICAgICAqIGBPYmplY3RgIGNvbnN0cnVjdG9yIG9yIG9uZSB3aXRoIGEgYFtbUHJvdG90eXBlXV1gIG9mIGBudWxsYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjguMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwbGFpbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLmlzUGxhaW5PYmplY3QobmV3IEZvbyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNQbGFpbk9iamVjdChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzUGxhaW5PYmplY3QoeyAneCc6IDAsICd5JzogMCB9KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzUGxhaW5PYmplY3QoT2JqZWN0LmNyZWF0ZShudWxsKSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzUGxhaW5PYmplY3QodmFsdWUpIHtcbiAgICAgIGlmICghaXNPYmplY3RMaWtlKHZhbHVlKSB8fCBiYXNlR2V0VGFnKHZhbHVlKSAhPSBvYmplY3RUYWcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIHByb3RvID0gZ2V0UHJvdG90eXBlKHZhbHVlKTtcbiAgICAgIGlmIChwcm90byA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHZhciBDdG9yID0gaGFzT3duUHJvcGVydHkuY2FsbChwcm90bywgJ2NvbnN0cnVjdG9yJykgJiYgcHJvdG8uY29uc3RydWN0b3I7XG4gICAgICByZXR1cm4gdHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBDdG9yIGluc3RhbmNlb2YgQ3RvciAmJlxuICAgICAgICBmdW5jVG9TdHJpbmcuY2FsbChDdG9yKSA9PSBvYmplY3RDdG9yU3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgUmVnRXhwYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcmVnZXhwLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNSZWdFeHAoL2FiYy8pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNSZWdFeHAoJy9hYmMvJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNSZWdFeHAgPSBub2RlSXNSZWdFeHAgPyBiYXNlVW5hcnkobm9kZUlzUmVnRXhwKSA6IGJhc2VJc1JlZ0V4cDtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgc2FmZSBpbnRlZ2VyLiBBbiBpbnRlZ2VyIGlzIHNhZmUgaWYgaXQncyBhbiBJRUVFLTc1NFxuICAgICAqIGRvdWJsZSBwcmVjaXNpb24gbnVtYmVyIHdoaWNoIGlzbid0IHRoZSByZXN1bHQgb2YgYSByb3VuZGVkIHVuc2FmZSBpbnRlZ2VyLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uXG4gICAgICogW2BOdW1iZXIuaXNTYWZlSW50ZWdlcmBdKGh0dHBzOi8vbWRuLmlvL051bWJlci9pc1NhZmVJbnRlZ2VyKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzYWZlIGludGVnZXIsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1NhZmVJbnRlZ2VyKDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNTYWZlSW50ZWdlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc1NhZmVJbnRlZ2VyKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc1NhZmVJbnRlZ2VyKCczJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1NhZmVJbnRlZ2VyKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNJbnRlZ2VyKHZhbHVlKSAmJiB2YWx1ZSA+PSAtTUFYX1NBRkVfSU5URUdFUiAmJiB2YWx1ZSA8PSBNQVhfU0FGRV9JTlRFR0VSO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgU2V0YCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc2V0LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNTZXQobmV3IFNldCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1NldChuZXcgV2Vha1NldCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNTZXQgPSBub2RlSXNTZXQgPyBiYXNlVW5hcnkobm9kZUlzU2V0KSA6IGJhc2VJc1NldDtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgU3RyaW5nYCBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHN0cmluZywgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzU3RyaW5nKCdhYmMnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzU3RyaW5nKDEpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNTdHJpbmcodmFsdWUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycgfHxcbiAgICAgICAgKCFpc0FycmF5KHZhbHVlKSAmJiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IHN0cmluZ1RhZyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBTeW1ib2xgIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc3ltYm9sLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNTeW1ib2woU3ltYm9sLml0ZXJhdG9yKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzU3ltYm9sKCdhYmMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzU3ltYm9sKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdzeW1ib2wnIHx8XG4gICAgICAgIChpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IHN5bWJvbFRhZyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIHR5cGVkIGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHR5cGVkIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNUeXBlZEFycmF5KG5ldyBVaW50OEFycmF5KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzVHlwZWRBcnJheShbXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNUeXBlZEFycmF5ID0gbm9kZUlzVHlwZWRBcnJheSA/IGJhc2VVbmFyeShub2RlSXNUeXBlZEFycmF5KSA6IGJhc2VJc1R5cGVkQXJyYXk7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBgdW5kZWZpbmVkYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYHVuZGVmaW5lZGAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1VuZGVmaW5lZCh2b2lkIDApO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNVbmRlZmluZWQobnVsbCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1VuZGVmaW5lZCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBXZWFrTWFwYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgd2VhayBtYXAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1dlYWtNYXAobmV3IFdlYWtNYXApO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNXZWFrTWFwKG5ldyBNYXApO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNXZWFrTWFwKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBnZXRUYWcodmFsdWUpID09IHdlYWtNYXBUYWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBXZWFrU2V0YCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgd2VhayBzZXQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1dlYWtTZXQobmV3IFdlYWtTZXQpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNXZWFrU2V0KG5ldyBTZXQpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNXZWFrU2V0KHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSB3ZWFrU2V0VGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxlc3MgdGhhbiBgb3RoZXJgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuOS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgbGVzcyB0aGFuIGBvdGhlcmAsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAc2VlIF8uZ3RcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5sdCgxLCAzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmx0KDMsIDMpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmx0KDMsIDEpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGx0ID0gY3JlYXRlUmVsYXRpb25hbE9wZXJhdGlvbihiYXNlTHQpO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIGBvdGhlcmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy45LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBsZXNzIHRoYW4gb3IgZXF1YWwgdG9cbiAgICAgKiAgYG90aGVyYCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBzZWUgXy5ndGVcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5sdGUoMSwgMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5sdGUoMywgMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5sdGUoMywgMSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgbHRlID0gY3JlYXRlUmVsYXRpb25hbE9wZXJhdGlvbihmdW5jdGlvbih2YWx1ZSwgb3RoZXIpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA8PSBvdGhlcjtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYW4gYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9BcnJheSh7ICdhJzogMSwgJ2InOiAyIH0pO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqXG4gICAgICogXy50b0FycmF5KCdhYmMnKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYicsICdjJ11cbiAgICAgKlxuICAgICAqIF8udG9BcnJheSgxKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqXG4gICAgICogXy50b0FycmF5KG51bGwpO1xuICAgICAqIC8vID0+IFtdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9BcnJheSh2YWx1ZSkge1xuICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBpZiAoaXNBcnJheUxpa2UodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBpc1N0cmluZyh2YWx1ZSkgPyBzdHJpbmdUb0FycmF5KHZhbHVlKSA6IGNvcHlBcnJheSh2YWx1ZSk7XG4gICAgICB9XG4gICAgICBpZiAoc3ltSXRlcmF0b3IgJiYgdmFsdWVbc3ltSXRlcmF0b3JdKSB7XG4gICAgICAgIHJldHVybiBpdGVyYXRvclRvQXJyYXkodmFsdWVbc3ltSXRlcmF0b3JdKCkpO1xuICAgICAgfVxuICAgICAgdmFyIHRhZyA9IGdldFRhZyh2YWx1ZSksXG4gICAgICAgICAgZnVuYyA9IHRhZyA9PSBtYXBUYWcgPyBtYXBUb0FycmF5IDogKHRhZyA9PSBzZXRUYWcgPyBzZXRUb0FycmF5IDogdmFsdWVzKTtcblxuICAgICAgcmV0dXJuIGZ1bmModmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBmaW5pdGUgbnVtYmVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTIuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgbnVtYmVyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvRmluaXRlKDMuMik7XG4gICAgICogLy8gPT4gMy4yXG4gICAgICpcbiAgICAgKiBfLnRvRmluaXRlKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IDVlLTMyNFxuICAgICAqXG4gICAgICogXy50b0Zpbml0ZShJbmZpbml0eSk7XG4gICAgICogLy8gPT4gMS43OTc2OTMxMzQ4NjIzMTU3ZSszMDhcbiAgICAgKlxuICAgICAqIF8udG9GaW5pdGUoJzMuMicpO1xuICAgICAqIC8vID0+IDMuMlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvRmluaXRlKHZhbHVlKSB7XG4gICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSA9PT0gMCA/IHZhbHVlIDogMDtcbiAgICAgIH1cbiAgICAgIHZhbHVlID0gdG9OdW1iZXIodmFsdWUpO1xuICAgICAgaWYgKHZhbHVlID09PSBJTkZJTklUWSB8fCB2YWx1ZSA9PT0gLUlORklOSVRZKSB7XG4gICAgICAgIHZhciBzaWduID0gKHZhbHVlIDwgMCA/IC0xIDogMSk7XG4gICAgICAgIHJldHVybiBzaWduICogTUFYX0lOVEVHRVI7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWUgPT09IHZhbHVlID8gdmFsdWUgOiAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYW4gaW50ZWdlci5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBsb29zZWx5IGJhc2VkIG9uXG4gICAgICogW2BUb0ludGVnZXJgXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtdG9pbnRlZ2VyKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgaW50ZWdlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b0ludGVnZXIoMy4yKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLnRvSW50ZWdlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICpcbiAgICAgKiBfLnRvSW50ZWdlcihJbmZpbml0eSk7XG4gICAgICogLy8gPT4gMS43OTc2OTMxMzQ4NjIzMTU3ZSszMDhcbiAgICAgKlxuICAgICAqIF8udG9JbnRlZ2VyKCczLjInKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9JbnRlZ2VyKHZhbHVlKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gdG9GaW5pdGUodmFsdWUpLFxuICAgICAgICAgIHJlbWFpbmRlciA9IHJlc3VsdCAlIDE7XG5cbiAgICAgIHJldHVybiByZXN1bHQgPT09IHJlc3VsdCA/IChyZW1haW5kZXIgPyByZXN1bHQgLSByZW1haW5kZXIgOiByZXN1bHQpIDogMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGFuIGludGVnZXIgc3VpdGFibGUgZm9yIHVzZSBhcyB0aGUgbGVuZ3RoIG9mIGFuXG4gICAgICogYXJyYXktbGlrZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb25cbiAgICAgKiBbYFRvTGVuZ3RoYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtdG9sZW5ndGgpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBpbnRlZ2VyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvTGVuZ3RoKDMuMik7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy50b0xlbmd0aChOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICpcbiAgICAgKiBfLnRvTGVuZ3RoKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiA0Mjk0OTY3Mjk1XG4gICAgICpcbiAgICAgKiBfLnRvTGVuZ3RoKCczLjInKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9MZW5ndGgodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA/IGJhc2VDbGFtcCh0b0ludGVnZXIodmFsdWUpLCAwLCBNQVhfQVJSQVlfTEVOR1RIKSA6IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIG51bWJlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9OdW1iZXIoMy4yKTtcbiAgICAgKiAvLyA9PiAzLjJcbiAgICAgKlxuICAgICAqIF8udG9OdW1iZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gNWUtMzI0XG4gICAgICpcbiAgICAgKiBfLnRvTnVtYmVyKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiBJbmZpbml0eVxuICAgICAqXG4gICAgICogXy50b051bWJlcignMy4yJyk7XG4gICAgICogLy8gPT4gMy4yXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9OdW1iZXIodmFsdWUpIHtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKGlzU3ltYm9sKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gTkFOO1xuICAgICAgfVxuICAgICAgaWYgKGlzT2JqZWN0KHZhbHVlKSkge1xuICAgICAgICB2YXIgb3RoZXIgPSB0eXBlb2YgdmFsdWUudmFsdWVPZiA9PSAnZnVuY3Rpb24nID8gdmFsdWUudmFsdWVPZigpIDogdmFsdWU7XG4gICAgICAgIHZhbHVlID0gaXNPYmplY3Qob3RoZXIpID8gKG90aGVyICsgJycpIDogb3RoZXI7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSA9PT0gMCA/IHZhbHVlIDogK3ZhbHVlO1xuICAgICAgfVxuICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKHJlVHJpbSwgJycpO1xuICAgICAgdmFyIGlzQmluYXJ5ID0gcmVJc0JpbmFyeS50ZXN0KHZhbHVlKTtcbiAgICAgIHJldHVybiAoaXNCaW5hcnkgfHwgcmVJc09jdGFsLnRlc3QodmFsdWUpKVxuICAgICAgICA/IGZyZWVQYXJzZUludCh2YWx1ZS5zbGljZSgyKSwgaXNCaW5hcnkgPyAyIDogOClcbiAgICAgICAgOiAocmVJc0JhZEhleC50ZXN0KHZhbHVlKSA/IE5BTiA6ICt2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIHBsYWluIG9iamVjdCBmbGF0dGVuaW5nIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZ1xuICAgICAqIGtleWVkIHByb3BlcnRpZXMgb2YgYHZhbHVlYCB0byBvd24gcHJvcGVydGllcyBvZiB0aGUgcGxhaW4gb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBwbGFpbiBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8uYXNzaWduKHsgJ2EnOiAxIH0sIG5ldyBGb28pO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIgfVxuICAgICAqXG4gICAgICogXy5hc3NpZ24oeyAnYSc6IDEgfSwgXy50b1BsYWluT2JqZWN0KG5ldyBGb28pKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDMgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvUGxhaW5PYmplY3QodmFsdWUpIHtcbiAgICAgIHJldHVybiBjb3B5T2JqZWN0KHZhbHVlLCBrZXlzSW4odmFsdWUpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc2FmZSBpbnRlZ2VyLiBBIHNhZmUgaW50ZWdlciBjYW4gYmUgY29tcGFyZWQgYW5kXG4gICAgICogcmVwcmVzZW50ZWQgY29ycmVjdGx5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBpbnRlZ2VyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvU2FmZUludGVnZXIoMy4yKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLnRvU2FmZUludGVnZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogXy50b1NhZmVJbnRlZ2VyKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiA5MDA3MTk5MjU0NzQwOTkxXG4gICAgICpcbiAgICAgKiBfLnRvU2FmZUludGVnZXIoJzMuMicpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b1NhZmVJbnRlZ2VyKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWVcbiAgICAgICAgPyBiYXNlQ2xhbXAodG9JbnRlZ2VyKHZhbHVlKSwgLU1BWF9TQUZFX0lOVEVHRVIsIE1BWF9TQUZFX0lOVEVHRVIpXG4gICAgICAgIDogKHZhbHVlID09PSAwID8gdmFsdWUgOiAwKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nLiBBbiBlbXB0eSBzdHJpbmcgaXMgcmV0dXJuZWQgZm9yIGBudWxsYFxuICAgICAqIGFuZCBgdW5kZWZpbmVkYCB2YWx1ZXMuIFRoZSBzaWduIG9mIGAtMGAgaXMgcHJlc2VydmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9TdHJpbmcobnVsbCk7XG4gICAgICogLy8gPT4gJydcbiAgICAgKlxuICAgICAqIF8udG9TdHJpbmcoLTApO1xuICAgICAqIC8vID0+ICctMCdcbiAgICAgKlxuICAgICAqIF8udG9TdHJpbmcoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiAnMSwyLDMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9TdHJpbmcodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PSBudWxsID8gJycgOiBiYXNlVG9TdHJpbmcodmFsdWUpO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIEFzc2lnbnMgb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgb2Ygc291cmNlIG9iamVjdHMgdG8gdGhlXG4gICAgICogZGVzdGluYXRpb24gb2JqZWN0LiBTb3VyY2Ugb2JqZWN0cyBhcmUgYXBwbGllZCBmcm9tIGxlZnQgdG8gcmlnaHQuXG4gICAgICogU3Vic2VxdWVudCBzb3VyY2VzIG92ZXJ3cml0ZSBwcm9wZXJ0eSBhc3NpZ25tZW50cyBvZiBwcmV2aW91cyBzb3VyY2VzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAgYW5kIGlzIGxvb3NlbHkgYmFzZWQgb25cbiAgICAgKiBbYE9iamVjdC5hc3NpZ25gXShodHRwczovL21kbi5pby9PYmplY3QvYXNzaWduKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEwLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBbc291cmNlc10gVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmFzc2lnbkluXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogfVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gQmFyKCkge1xuICAgICAqICAgdGhpcy5jID0gMztcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmIgPSAyO1xuICAgICAqIEJhci5wcm90b3R5cGUuZCA9IDQ7XG4gICAgICpcbiAgICAgKiBfLmFzc2lnbih7ICdhJzogMCB9LCBuZXcgRm9vLCBuZXcgQmFyKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2MnOiAzIH1cbiAgICAgKi9cbiAgICB2YXIgYXNzaWduID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UpIHtcbiAgICAgIGlmIChpc1Byb3RvdHlwZShzb3VyY2UpIHx8IGlzQXJyYXlMaWtlKHNvdXJjZSkpIHtcbiAgICAgICAgY29weU9iamVjdChzb3VyY2UsIGtleXMoc291cmNlKSwgb2JqZWN0KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICBhc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgc291cmNlW2tleV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmFzc2lnbmAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBvd24gYW5kXG4gICAgICogaW5oZXJpdGVkIHNvdXJjZSBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAYWxpYXMgZXh0ZW5kXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZXNdIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5hc3NpZ25cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBCYXIoKSB7XG4gICAgICogICB0aGlzLmMgPSAzO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYiA9IDI7XG4gICAgICogQmFyLnByb3RvdHlwZS5kID0gNDtcbiAgICAgKlxuICAgICAqIF8uYXNzaWduSW4oeyAnYSc6IDAgfSwgbmV3IEZvbywgbmV3IEJhcik7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiwgJ2MnOiAzLCAnZCc6IDQgfVxuICAgICAqL1xuICAgIHZhciBhc3NpZ25JbiA9IGNyZWF0ZUFzc2lnbmVyKGZ1bmN0aW9uKG9iamVjdCwgc291cmNlKSB7XG4gICAgICBjb3B5T2JqZWN0KHNvdXJjZSwga2V5c0luKHNvdXJjZSksIG9iamVjdCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmFzc2lnbkluYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYFxuICAgICAqIHdoaWNoIGlzIGludm9rZWQgdG8gcHJvZHVjZSB0aGUgYXNzaWduZWQgdmFsdWVzLiBJZiBgY3VzdG9taXplcmAgcmV0dXJuc1xuICAgICAqIGB1bmRlZmluZWRgLCBhc3NpZ25tZW50IGlzIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgXG4gICAgICogaXMgaW52b2tlZCB3aXRoIGZpdmUgYXJndW1lbnRzOiAob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCwgc291cmNlKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGFsaWFzIGV4dGVuZFdpdGhcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBzb3VyY2VzIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25lZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uYXNzaWduV2l0aFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSkge1xuICAgICAqICAgcmV0dXJuIF8uaXNVbmRlZmluZWQob2JqVmFsdWUpID8gc3JjVmFsdWUgOiBvYmpWYWx1ZTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgZGVmYXVsdHMgPSBfLnBhcnRpYWxSaWdodChfLmFzc2lnbkluV2l0aCwgY3VzdG9taXplcik7XG4gICAgICpcbiAgICAgKiBkZWZhdWx0cyh7ICdhJzogMSB9LCB7ICdiJzogMiB9LCB7ICdhJzogMyB9KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKi9cbiAgICB2YXIgYXNzaWduSW5XaXRoID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4LCBjdXN0b21pemVyKSB7XG4gICAgICBjb3B5T2JqZWN0KHNvdXJjZSwga2V5c0luKHNvdXJjZSksIG9iamVjdCwgY3VzdG9taXplcik7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmFzc2lnbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmBcbiAgICAgKiB3aGljaCBpcyBpbnZva2VkIHRvIHByb2R1Y2UgdGhlIGFzc2lnbmVkIHZhbHVlcy4gSWYgYGN1c3RvbWl6ZXJgIHJldHVybnNcbiAgICAgKiBgdW5kZWZpbmVkYCwgYXNzaWdubWVudCBpcyBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYFxuICAgICAqIGlzIGludm9rZWQgd2l0aCBmaXZlIGFyZ3VtZW50czogKG9ialZhbHVlLCBzcmNWYWx1ZSwga2V5LCBvYmplY3QsIHNvdXJjZSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi5PYmplY3R9IHNvdXJjZXMgVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5hc3NpZ25JbldpdGhcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gY3VzdG9taXplcihvYmpWYWx1ZSwgc3JjVmFsdWUpIHtcbiAgICAgKiAgIHJldHVybiBfLmlzVW5kZWZpbmVkKG9ialZhbHVlKSA/IHNyY1ZhbHVlIDogb2JqVmFsdWU7XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGRlZmF1bHRzID0gXy5wYXJ0aWFsUmlnaHQoXy5hc3NpZ25XaXRoLCBjdXN0b21pemVyKTtcbiAgICAgKlxuICAgICAqIGRlZmF1bHRzKHsgJ2EnOiAxIH0sIHsgJ2InOiAyIH0sIHsgJ2EnOiAzIH0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIgfVxuICAgICAqL1xuICAgIHZhciBhc3NpZ25XaXRoID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4LCBjdXN0b21pemVyKSB7XG4gICAgICBjb3B5T2JqZWN0KHNvdXJjZSwga2V5cyhzb3VyY2UpLCBvYmplY3QsIGN1c3RvbWl6ZXIpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB2YWx1ZXMgY29ycmVzcG9uZGluZyB0byBgcGF0aHNgIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHsuLi4oc3RyaW5nfHN0cmluZ1tdKX0gW3BhdGhzXSBUaGUgcHJvcGVydHkgcGF0aHMgdG8gcGljay5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHBpY2tlZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogMyB9IH0sIDRdIH07XG4gICAgICpcbiAgICAgKiBfLmF0KG9iamVjdCwgWydhWzBdLmIuYycsICdhWzFdJ10pO1xuICAgICAqIC8vID0+IFszLCA0XVxuICAgICAqL1xuICAgIHZhciBhdCA9IGZsYXRSZXN0KGJhc2VBdCk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCB0aGF0IGluaGVyaXRzIGZyb20gdGhlIGBwcm90b3R5cGVgIG9iamVjdC4gSWYgYVxuICAgICAqIGBwcm9wZXJ0aWVzYCBvYmplY3QgaXMgZ2l2ZW4sIGl0cyBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllc1xuICAgICAqIGFyZSBhc3NpZ25lZCB0byB0aGUgY3JlYXRlZCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IHByb3RvdHlwZSBUaGUgb2JqZWN0IHRvIGluaGVyaXQgZnJvbS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3Byb3BlcnRpZXNdIFRoZSBwcm9wZXJ0aWVzIHRvIGFzc2lnbiB0byB0aGUgb2JqZWN0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIFNoYXBlKCkge1xuICAgICAqICAgdGhpcy54ID0gMDtcbiAgICAgKiAgIHRoaXMueSA9IDA7XG4gICAgICogfVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gQ2lyY2xlKCkge1xuICAgICAqICAgU2hhcGUuY2FsbCh0aGlzKTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBDaXJjbGUucHJvdG90eXBlID0gXy5jcmVhdGUoU2hhcGUucHJvdG90eXBlLCB7XG4gICAgICogICAnY29uc3RydWN0b3InOiBDaXJjbGVcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIHZhciBjaXJjbGUgPSBuZXcgQ2lyY2xlO1xuICAgICAqIGNpcmNsZSBpbnN0YW5jZW9mIENpcmNsZTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBjaXJjbGUgaW5zdGFuY2VvZiBTaGFwZTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlKHByb3RvdHlwZSwgcHJvcGVydGllcykge1xuICAgICAgdmFyIHJlc3VsdCA9IGJhc2VDcmVhdGUocHJvdG90eXBlKTtcbiAgICAgIHJldHVybiBwcm9wZXJ0aWVzID09IG51bGwgPyByZXN1bHQgOiBiYXNlQXNzaWduKHJlc3VsdCwgcHJvcGVydGllcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXNzaWducyBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIG9mIHNvdXJjZVxuICAgICAqIG9iamVjdHMgdG8gdGhlIGRlc3RpbmF0aW9uIG9iamVjdCBmb3IgYWxsIGRlc3RpbmF0aW9uIHByb3BlcnRpZXMgdGhhdFxuICAgICAqIHJlc29sdmUgdG8gYHVuZGVmaW5lZGAuIFNvdXJjZSBvYmplY3RzIGFyZSBhcHBsaWVkIGZyb20gbGVmdCB0byByaWdodC5cbiAgICAgKiBPbmNlIGEgcHJvcGVydHkgaXMgc2V0LCBhZGRpdGlvbmFsIHZhbHVlcyBvZiB0aGUgc2FtZSBwcm9wZXJ0eSBhcmUgaWdub3JlZC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZXNdIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5kZWZhdWx0c0RlZXBcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kZWZhdWx0cyh7ICdhJzogMSB9LCB7ICdiJzogMiB9LCB7ICdhJzogMyB9KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKi9cbiAgICB2YXIgZGVmYXVsdHMgPSBiYXNlUmVzdChmdW5jdGlvbihvYmplY3QsIHNvdXJjZXMpIHtcbiAgICAgIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuXG4gICAgICB2YXIgaW5kZXggPSAtMTtcbiAgICAgIHZhciBsZW5ndGggPSBzb3VyY2VzLmxlbmd0aDtcbiAgICAgIHZhciBndWFyZCA9IGxlbmd0aCA+IDIgPyBzb3VyY2VzWzJdIDogdW5kZWZpbmVkO1xuXG4gICAgICBpZiAoZ3VhcmQgJiYgaXNJdGVyYXRlZUNhbGwoc291cmNlc1swXSwgc291cmNlc1sxXSwgZ3VhcmQpKSB7XG4gICAgICAgIGxlbmd0aCA9IDE7XG4gICAgICB9XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBzb3VyY2UgPSBzb3VyY2VzW2luZGV4XTtcbiAgICAgICAgdmFyIHByb3BzID0ga2V5c0luKHNvdXJjZSk7XG4gICAgICAgIHZhciBwcm9wc0luZGV4ID0gLTE7XG4gICAgICAgIHZhciBwcm9wc0xlbmd0aCA9IHByb3BzLmxlbmd0aDtcblxuICAgICAgICB3aGlsZSAoKytwcm9wc0luZGV4IDwgcHJvcHNMZW5ndGgpIHtcbiAgICAgICAgICB2YXIga2V5ID0gcHJvcHNbcHJvcHNJbmRleF07XG4gICAgICAgICAgdmFyIHZhbHVlID0gb2JqZWN0W2tleV07XG5cbiAgICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgICAoZXEodmFsdWUsIG9iamVjdFByb3RvW2tleV0pICYmICFoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkpIHtcbiAgICAgICAgICAgIG9iamVjdFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmRlZmF1bHRzYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBhc3NpZ25zXG4gICAgICogZGVmYXVsdCBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4xMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZXNdIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5kZWZhdWx0c1xuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlZmF1bHRzRGVlcCh7ICdhJzogeyAnYic6IDIgfSB9LCB7ICdhJzogeyAnYic6IDEsICdjJzogMyB9IH0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiB7ICdiJzogMiwgJ2MnOiAzIH0gfVxuICAgICAqL1xuICAgIHZhciBkZWZhdWx0c0RlZXAgPSBiYXNlUmVzdChmdW5jdGlvbihhcmdzKSB7XG4gICAgICBhcmdzLnB1c2godW5kZWZpbmVkLCBjdXN0b21EZWZhdWx0c01lcmdlKTtcbiAgICAgIHJldHVybiBhcHBseShtZXJnZVdpdGgsIHVuZGVmaW5lZCwgYXJncyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZpbmRgIGV4Y2VwdCB0aGF0IGl0IHJldHVybnMgdGhlIGtleSBvZiB0aGUgZmlyc3RcbiAgICAgKiBlbGVtZW50IGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvciBpbnN0ZWFkIG9mIHRoZSBlbGVtZW50IGl0c2VsZi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjEuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge3N0cmluZ3x1bmRlZmluZWR9IFJldHVybnMgdGhlIGtleSBvZiB0aGUgbWF0Y2hlZCBlbGVtZW50LFxuICAgICAqICBlbHNlIGB1bmRlZmluZWRgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSB7XG4gICAgICogICAnYmFybmV5JzogIHsgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgJ2ZyZWQnOiAgICB7ICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICAncGViYmxlcyc6IHsgJ2FnZSc6IDEsICAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIF8uZmluZEtleSh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby5hZ2UgPCA0MDsgfSk7XG4gICAgICogLy8gPT4gJ2Jhcm5leScgKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kS2V5KHVzZXJzLCB7ICdhZ2UnOiAxLCAnYWN0aXZlJzogdHJ1ZSB9KTtcbiAgICAgKiAvLyA9PiAncGViYmxlcydcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRLZXkodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiAnZnJlZCdcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZEtleSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+ICdiYXJuZXknXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZEtleShvYmplY3QsIHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIGJhc2VGaW5kS2V5KG9iamVjdCwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSwgYmFzZUZvck93bik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5maW5kS2V5YCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mXG4gICAgICogYSBjb2xsZWN0aW9uIGluIHRoZSBvcHBvc2l0ZSBvcmRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge3N0cmluZ3x1bmRlZmluZWR9IFJldHVybnMgdGhlIGtleSBvZiB0aGUgbWF0Y2hlZCBlbGVtZW50LFxuICAgICAqICBlbHNlIGB1bmRlZmluZWRgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSB7XG4gICAgICogICAnYmFybmV5JzogIHsgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgJ2ZyZWQnOiAgICB7ICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICAncGViYmxlcyc6IHsgJ2FnZSc6IDEsICAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIF8uZmluZExhc3RLZXkodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8uYWdlIDwgNDA7IH0pO1xuICAgICAqIC8vID0+IHJldHVybnMgJ3BlYmJsZXMnIGFzc3VtaW5nIGBfLmZpbmRLZXlgIHJldHVybnMgJ2Jhcm5leSdcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kTGFzdEtleSh1c2VycywgeyAnYWdlJzogMzYsICdhY3RpdmUnOiB0cnVlIH0pO1xuICAgICAqIC8vID0+ICdiYXJuZXknXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kTGFzdEtleSh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+ICdmcmVkJ1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kTGFzdEtleSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+ICdwZWJibGVzJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmRMYXN0S2V5KG9iamVjdCwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gYmFzZUZpbmRLZXkob2JqZWN0LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCBiYXNlRm9yT3duUmlnaHQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIG92ZXIgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBvZiBhblxuICAgICAqIG9iamVjdCBhbmQgaW52b2tlcyBgaXRlcmF0ZWVgIGZvciBlYWNoIHByb3BlcnR5LiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGtleSwgb2JqZWN0KS4gSXRlcmF0ZWUgZnVuY3Rpb25zIG1heSBleGl0XG4gICAgICogaXRlcmF0aW9uIGVhcmx5IGJ5IGV4cGxpY2l0bHkgcmV0dXJuaW5nIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5mb3JJblJpZ2h0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLmZvckluKG5ldyBGb28sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyAnYScsICdiJywgdGhlbiAnYycgKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZCkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9ySW4ob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsXG4gICAgICAgID8gb2JqZWN0XG4gICAgICAgIDogYmFzZUZvcihvYmplY3QsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSwga2V5c0luKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZvckluYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIHByb3BlcnRpZXMgb2ZcbiAgICAgKiBgb2JqZWN0YCBpbiB0aGUgb3Bwb3NpdGUgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5mb3JJblxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy5mb3JJblJpZ2h0KG5ldyBGb28sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyAnYycsICdiJywgdGhlbiAnYScgYXNzdW1pbmcgYF8uZm9ySW5gIGxvZ3MgJ2EnLCAnYicsIHRoZW4gJ2MnLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvckluUmlnaHQob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsXG4gICAgICAgID8gb2JqZWN0XG4gICAgICAgIDogYmFzZUZvclJpZ2h0KG9iamVjdCwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpLCBrZXlzSW4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIG92ZXIgb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgb2YgYW4gb2JqZWN0IGFuZFxuICAgICAqIGludm9rZXMgYGl0ZXJhdGVlYCBmb3IgZWFjaCBwcm9wZXJ0eS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCB0aHJlZVxuICAgICAqIGFyZ3VtZW50czogKHZhbHVlLCBrZXksIG9iamVjdCkuIEl0ZXJhdGVlIGZ1bmN0aW9ucyBtYXkgZXhpdCBpdGVyYXRpb25cbiAgICAgKiBlYXJseSBieSBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMy4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uZm9yT3duUmlnaHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8uZm9yT3duKG5ldyBGb28sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyAnYScgdGhlbiAnYicgKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZCkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9yT3duKG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgJiYgYmFzZUZvck93bihvYmplY3QsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mb3JPd25gIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgcHJvcGVydGllcyBvZlxuICAgICAqIGBvYmplY3RgIGluIHRoZSBvcHBvc2l0ZSBvcmRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmZvck93blxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy5mb3JPd25SaWdodChuZXcgRm9vLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICogICBjb25zb2xlLmxvZyhrZXkpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgJ2InIHRoZW4gJ2EnIGFzc3VtaW5nIGBfLmZvck93bmAgbG9ncyAnYScgdGhlbiAnYicuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9yT3duUmlnaHQob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAmJiBiYXNlRm9yT3duUmlnaHQob2JqZWN0LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgZnVuY3Rpb24gcHJvcGVydHkgbmFtZXMgZnJvbSBvd24gZW51bWVyYWJsZSBwcm9wZXJ0aWVzXG4gICAgICogb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBuYW1lcy5cbiAgICAgKiBAc2VlIF8uZnVuY3Rpb25zSW5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gXy5jb25zdGFudCgnYScpO1xuICAgICAqICAgdGhpcy5iID0gXy5jb25zdGFudCgnYicpO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IF8uY29uc3RhbnQoJ2MnKTtcbiAgICAgKlxuICAgICAqIF8uZnVuY3Rpb25zKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFsnYScsICdiJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmdW5jdGlvbnMob2JqZWN0KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBbXSA6IGJhc2VGdW5jdGlvbnMob2JqZWN0LCBrZXlzKG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgZnVuY3Rpb24gcHJvcGVydHkgbmFtZXMgZnJvbSBvd24gYW5kIGluaGVyaXRlZFxuICAgICAqIGVudW1lcmFibGUgcHJvcGVydGllcyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGZ1bmN0aW9uIG5hbWVzLlxuICAgICAqIEBzZWUgXy5mdW5jdGlvbnNcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gXy5jb25zdGFudCgnYScpO1xuICAgICAqICAgdGhpcy5iID0gXy5jb25zdGFudCgnYicpO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IF8uY29uc3RhbnQoJ2MnKTtcbiAgICAgKlxuICAgICAqIF8uZnVuY3Rpb25zSW4obmV3IEZvbyk7XG4gICAgICogLy8gPT4gWydhJywgJ2InLCAnYyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gZnVuY3Rpb25zSW4ob2JqZWN0KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBbXSA6IGJhc2VGdW5jdGlvbnMob2JqZWN0LCBrZXlzSW4ob2JqZWN0KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgdmFsdWUgYXQgYHBhdGhgIG9mIGBvYmplY3RgLiBJZiB0aGUgcmVzb2x2ZWQgdmFsdWUgaXNcbiAgICAgKiBgdW5kZWZpbmVkYCwgdGhlIGBkZWZhdWx0VmFsdWVgIGlzIHJldHVybmVkIGluIGl0cyBwbGFjZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjcuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcGFyYW0geyp9IFtkZWZhdWx0VmFsdWVdIFRoZSB2YWx1ZSByZXR1cm5lZCBmb3IgYHVuZGVmaW5lZGAgcmVzb2x2ZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXNvbHZlZCB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MnOiAzIH0gfV0gfTtcbiAgICAgKlxuICAgICAqIF8uZ2V0KG9iamVjdCwgJ2FbMF0uYi5jJyk7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy5nZXQob2JqZWN0LCBbJ2EnLCAnMCcsICdiJywgJ2MnXSk7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy5nZXQob2JqZWN0LCAnYS5iLmMnLCAnZGVmYXVsdCcpO1xuICAgICAqIC8vID0+ICdkZWZhdWx0J1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldChvYmplY3QsIHBhdGgsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogYmFzZUdldChvYmplY3QsIHBhdGgpO1xuICAgICAgcmV0dXJuIHJlc3VsdCA9PT0gdW5kZWZpbmVkID8gZGVmYXVsdFZhbHVlIDogcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgcGF0aGAgaXMgYSBkaXJlY3QgcHJvcGVydHkgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgcGF0aGAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogeyAnYic6IDIgfSB9O1xuICAgICAqIHZhciBvdGhlciA9IF8uY3JlYXRlKHsgJ2EnOiBfLmNyZWF0ZSh7ICdiJzogMiB9KSB9KTtcbiAgICAgKlxuICAgICAqIF8uaGFzKG9iamVjdCwgJ2EnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmhhcyhvYmplY3QsICdhLmInKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmhhcyhvYmplY3QsIFsnYScsICdiJ10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaGFzKG90aGVyLCAnYScpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzKG9iamVjdCwgcGF0aCkge1xuICAgICAgcmV0dXJuIG9iamVjdCAhPSBudWxsICYmIGhhc1BhdGgob2JqZWN0LCBwYXRoLCBiYXNlSGFzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHBhdGhgIGlzIGEgZGlyZWN0IG9yIGluaGVyaXRlZCBwcm9wZXJ0eSBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBwYXRoYCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IF8uY3JlYXRlKHsgJ2EnOiBfLmNyZWF0ZSh7ICdiJzogMiB9KSB9KTtcbiAgICAgKlxuICAgICAqIF8uaGFzSW4ob2JqZWN0LCAnYScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaGFzSW4ob2JqZWN0LCAnYS5iJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5oYXNJbihvYmplY3QsIFsnYScsICdiJ10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaGFzSW4ob2JqZWN0LCAnYicpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzSW4ob2JqZWN0LCBwYXRoKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICE9IG51bGwgJiYgaGFzUGF0aChvYmplY3QsIHBhdGgsIGJhc2VIYXNJbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2YgdGhlIGludmVydGVkIGtleXMgYW5kIHZhbHVlcyBvZiBgb2JqZWN0YC5cbiAgICAgKiBJZiBgb2JqZWN0YCBjb250YWlucyBkdXBsaWNhdGUgdmFsdWVzLCBzdWJzZXF1ZW50IHZhbHVlcyBvdmVyd3JpdGVcbiAgICAgKiBwcm9wZXJ0eSBhc3NpZ25tZW50cyBvZiBwcmV2aW91cyB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGludmVydC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgaW52ZXJ0ZWQgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogMiwgJ2MnOiAxIH07XG4gICAgICpcbiAgICAgKiBfLmludmVydChvYmplY3QpO1xuICAgICAqIC8vID0+IHsgJzEnOiAnYycsICcyJzogJ2InIH1cbiAgICAgKi9cbiAgICB2YXIgaW52ZXJ0ID0gY3JlYXRlSW52ZXJ0ZXIoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICBpZiAodmFsdWUgIT0gbnVsbCAmJlxuICAgICAgICAgIHR5cGVvZiB2YWx1ZS50b1N0cmluZyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZhbHVlID0gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIHJlc3VsdFt2YWx1ZV0gPSBrZXk7XG4gICAgfSwgY29uc3RhbnQoaWRlbnRpdHkpKTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaW52ZXJ0YCBleGNlcHQgdGhhdCB0aGUgaW52ZXJ0ZWQgb2JqZWN0IGlzIGdlbmVyYXRlZFxuICAgICAqIGZyb20gdGhlIHJlc3VsdHMgb2YgcnVubmluZyBlYWNoIGVsZW1lbnQgb2YgYG9iamVjdGAgdGhydSBgaXRlcmF0ZWVgLiBUaGVcbiAgICAgKiBjb3JyZXNwb25kaW5nIGludmVydGVkIHZhbHVlIG9mIGVhY2ggaW52ZXJ0ZWQga2V5IGlzIGFuIGFycmF5IG9mIGtleXNcbiAgICAgKiByZXNwb25zaWJsZSBmb3IgZ2VuZXJhdGluZyB0aGUgaW52ZXJ0ZWQgdmFsdWUuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkXG4gICAgICogd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGludmVydC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGludmVydGVkIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMSB9O1xuICAgICAqXG4gICAgICogXy5pbnZlcnRCeShvYmplY3QpO1xuICAgICAqIC8vID0+IHsgJzEnOiBbJ2EnLCAnYyddLCAnMic6IFsnYiddIH1cbiAgICAgKlxuICAgICAqIF8uaW52ZXJ0Qnkob2JqZWN0LCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAqICAgcmV0dXJuICdncm91cCcgKyB2YWx1ZTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiB7ICdncm91cDEnOiBbJ2EnLCAnYyddLCAnZ3JvdXAyJzogWydiJ10gfVxuICAgICAqL1xuICAgIHZhciBpbnZlcnRCeSA9IGNyZWF0ZUludmVydGVyKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAgaWYgKHZhbHVlICE9IG51bGwgJiZcbiAgICAgICAgICB0eXBlb2YgdmFsdWUudG9TdHJpbmcgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB2YWx1ZSA9IG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICAgICAgfVxuXG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChyZXN1bHQsIHZhbHVlKSkge1xuICAgICAgICByZXN1bHRbdmFsdWVdLnB1c2goa2V5KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdFt2YWx1ZV0gPSBba2V5XTtcbiAgICAgIH1cbiAgICB9LCBnZXRJdGVyYXRlZSk7XG5cbiAgICAvKipcbiAgICAgKiBJbnZva2VzIHRoZSBtZXRob2QgYXQgYHBhdGhgIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgbWV0aG9kIHRvIGludm9rZS5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSB0aGUgbWV0aG9kIHdpdGguXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc3VsdCBvZiB0aGUgaW52b2tlZCBtZXRob2QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogWzEsIDIsIDMsIDRdIH0gfV0gfTtcbiAgICAgKlxuICAgICAqIF8uaW52b2tlKG9iamVjdCwgJ2FbMF0uYi5jLnNsaWNlJywgMSwgMyk7XG4gICAgICogLy8gPT4gWzIsIDNdXG4gICAgICovXG4gICAgdmFyIGludm9rZSA9IGJhc2VSZXN0KGJhc2VJbnZva2UpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogTm9uLW9iamVjdCB2YWx1ZXMgYXJlIGNvZXJjZWQgdG8gb2JqZWN0cy4gU2VlIHRoZVxuICAgICAqIFtFUyBzcGVjXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3Qua2V5cylcbiAgICAgKiBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy5rZXlzKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFsnYScsICdiJ10gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKlxuICAgICAqIF8ua2V5cygnaGknKTtcbiAgICAgKiAvLyA9PiBbJzAnLCAnMSddXG4gICAgICovXG4gICAgZnVuY3Rpb24ga2V5cyhvYmplY3QpIHtcbiAgICAgIHJldHVybiBpc0FycmF5TGlrZShvYmplY3QpID8gYXJyYXlMaWtlS2V5cyhvYmplY3QpIDogYmFzZUtleXMob2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE5vbi1vYmplY3QgdmFsdWVzIGFyZSBjb2VyY2VkIHRvIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLmtleXNJbihuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYicsICdjJ10gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBrZXlzSW4ob2JqZWN0KSB7XG4gICAgICByZXR1cm4gaXNBcnJheUxpa2Uob2JqZWN0KSA/IGFycmF5TGlrZUtleXMob2JqZWN0LCB0cnVlKSA6IGJhc2VLZXlzSW4ob2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8ubWFwVmFsdWVzYDsgdGhpcyBtZXRob2QgY3JlYXRlcyBhbiBvYmplY3Qgd2l0aCB0aGVcbiAgICAgKiBzYW1lIHZhbHVlcyBhcyBgb2JqZWN0YCBhbmQga2V5cyBnZW5lcmF0ZWQgYnkgcnVubmluZyBlYWNoIG93biBlbnVtZXJhYmxlXG4gICAgICogc3RyaW5nIGtleWVkIHByb3BlcnR5IG9mIGBvYmplY3RgIHRocnUgYGl0ZXJhdGVlYC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBrZXksIG9iamVjdCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy44LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgbWFwcGVkIG9iamVjdC5cbiAgICAgKiBAc2VlIF8ubWFwVmFsdWVzXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWFwS2V5cyh7ICdhJzogMSwgJ2InOiAyIH0sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIHJldHVybiBrZXkgKyB2YWx1ZTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiB7ICdhMSc6IDEsICdiMic6IDIgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcEtleXMob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgICAgaXRlcmF0ZWUgPSBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMyk7XG5cbiAgICAgIGJhc2VGb3JPd24ob2JqZWN0LCBmdW5jdGlvbih2YWx1ZSwga2V5LCBvYmplY3QpIHtcbiAgICAgICAgYmFzZUFzc2lnblZhbHVlKHJlc3VsdCwgaXRlcmF0ZWUodmFsdWUsIGtleSwgb2JqZWN0KSwgdmFsdWUpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IHdpdGggdGhlIHNhbWUga2V5cyBhcyBgb2JqZWN0YCBhbmQgdmFsdWVzIGdlbmVyYXRlZFxuICAgICAqIGJ5IHJ1bm5pbmcgZWFjaCBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydHkgb2YgYG9iamVjdGAgdGhydVxuICAgICAqIGBpdGVyYXRlZWAuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOlxuICAgICAqICh2YWx1ZSwga2V5LCBvYmplY3QpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuNC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG1hcHBlZCBvYmplY3QuXG4gICAgICogQHNlZSBfLm1hcEtleXNcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0ge1xuICAgICAqICAgJ2ZyZWQnOiAgICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWdlJzogNDAgfSxcbiAgICAgKiAgICdwZWJibGVzJzogeyAndXNlcic6ICdwZWJibGVzJywgJ2FnZSc6IDEgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBfLm1hcFZhbHVlcyh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby5hZ2U7IH0pO1xuICAgICAqIC8vID0+IHsgJ2ZyZWQnOiA0MCwgJ3BlYmJsZXMnOiAxIH0gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ubWFwVmFsdWVzKHVzZXJzLCAnYWdlJyk7XG4gICAgICogLy8gPT4geyAnZnJlZCc6IDQwLCAncGViYmxlcyc6IDEgfSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcFZhbHVlcyhvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgICBpdGVyYXRlZSA9IGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKTtcblxuICAgICAgYmFzZUZvck93bihvYmplY3QsIGZ1bmN0aW9uKHZhbHVlLCBrZXksIG9iamVjdCkge1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUocmVzdWx0LCBrZXksIGl0ZXJhdGVlKHZhbHVlLCBrZXksIG9iamVjdCkpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uYXNzaWduYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBtZXJnZXMgb3duIGFuZFxuICAgICAqIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIG9mIHNvdXJjZSBvYmplY3RzIGludG8gdGhlXG4gICAgICogZGVzdGluYXRpb24gb2JqZWN0LiBTb3VyY2UgcHJvcGVydGllcyB0aGF0IHJlc29sdmUgdG8gYHVuZGVmaW5lZGAgYXJlXG4gICAgICogc2tpcHBlZCBpZiBhIGRlc3RpbmF0aW9uIHZhbHVlIGV4aXN0cy4gQXJyYXkgYW5kIHBsYWluIG9iamVjdCBwcm9wZXJ0aWVzXG4gICAgICogYXJlIG1lcmdlZCByZWN1cnNpdmVseS4gT3RoZXIgb2JqZWN0cyBhbmQgdmFsdWUgdHlwZXMgYXJlIG92ZXJyaWRkZW4gYnlcbiAgICAgKiBhc3NpZ25tZW50LiBTb3VyY2Ugb2JqZWN0cyBhcmUgYXBwbGllZCBmcm9tIGxlZnQgdG8gcmlnaHQuIFN1YnNlcXVlbnRcbiAgICAgKiBzb3VyY2VzIG92ZXJ3cml0ZSBwcm9wZXJ0eSBhc3NpZ25tZW50cyBvZiBwcmV2aW91cyBzb3VyY2VzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC41LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBbc291cmNlc10gVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7XG4gICAgICogICAnYSc6IFt7ICdiJzogMiB9LCB7ICdkJzogNCB9XVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiB2YXIgb3RoZXIgPSB7XG4gICAgICogICAnYSc6IFt7ICdjJzogMyB9LCB7ICdlJzogNSB9XVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBfLm1lcmdlKG9iamVjdCwgb3RoZXIpO1xuICAgICAqIC8vID0+IHsgJ2EnOiBbeyAnYic6IDIsICdjJzogMyB9LCB7ICdkJzogNCwgJ2UnOiA1IH1dIH1cbiAgICAgKi9cbiAgICB2YXIgbWVyZ2UgPSBjcmVhdGVBc3NpZ25lcihmdW5jdGlvbihvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgpIHtcbiAgICAgIGJhc2VNZXJnZShvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5tZXJnZWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIHRvIHByb2R1Y2UgdGhlIG1lcmdlZCB2YWx1ZXMgb2YgdGhlIGRlc3RpbmF0aW9uIGFuZCBzb3VyY2VcbiAgICAgKiBwcm9wZXJ0aWVzLiBJZiBgY3VzdG9taXplcmAgcmV0dXJucyBgdW5kZWZpbmVkYCwgbWVyZ2luZyBpcyBoYW5kbGVkIGJ5IHRoZVxuICAgICAqIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgIGlzIGludm9rZWQgd2l0aCBzaXggYXJndW1lbnRzOlxuICAgICAqIChvYmpWYWx1ZSwgc3JjVmFsdWUsIGtleSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gc291cmNlcyBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSkge1xuICAgICAqICAgaWYgKF8uaXNBcnJheShvYmpWYWx1ZSkpIHtcbiAgICAgKiAgICAgcmV0dXJuIG9ialZhbHVlLmNvbmNhdChzcmNWYWx1ZSk7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbMV0sICdiJzogWzJdIH07XG4gICAgICogdmFyIG90aGVyID0geyAnYSc6IFszXSwgJ2InOiBbNF0gfTtcbiAgICAgKlxuICAgICAqIF8ubWVyZ2VXaXRoKG9iamVjdCwgb3RoZXIsIGN1c3RvbWl6ZXIpO1xuICAgICAqIC8vID0+IHsgJ2EnOiBbMSwgM10sICdiJzogWzIsIDRdIH1cbiAgICAgKi9cbiAgICB2YXIgbWVyZ2VXaXRoID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4LCBjdXN0b21pemVyKSB7XG4gICAgICBiYXNlTWVyZ2Uob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4LCBjdXN0b21pemVyKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBvcHBvc2l0ZSBvZiBgXy5waWNrYDsgdGhpcyBtZXRob2QgY3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2YgdGhlXG4gICAgICogb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBwcm9wZXJ0eSBwYXRocyBvZiBgb2JqZWN0YCB0aGF0IGFyZSBub3Qgb21pdHRlZC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBjb25zaWRlcmFibHkgc2xvd2VyIHRoYW4gYF8ucGlja2AuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLihzdHJpbmd8c3RyaW5nW10pfSBbcGF0aHNdIFRoZSBwcm9wZXJ0eSBwYXRocyB0byBvbWl0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAnMicsICdjJzogMyB9O1xuICAgICAqXG4gICAgICogXy5vbWl0KG9iamVjdCwgWydhJywgJ2MnXSk7XG4gICAgICogLy8gPT4geyAnYic6ICcyJyB9XG4gICAgICovXG4gICAgdmFyIG9taXQgPSBmbGF0UmVzdChmdW5jdGlvbihvYmplY3QsIHBhdGhzKSB7XG4gICAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIHZhciBpc0RlZXAgPSBmYWxzZTtcbiAgICAgIHBhdGhzID0gYXJyYXlNYXAocGF0aHMsIGZ1bmN0aW9uKHBhdGgpIHtcbiAgICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG4gICAgICAgIGlzRGVlcCB8fCAoaXNEZWVwID0gcGF0aC5sZW5ndGggPiAxKTtcbiAgICAgICAgcmV0dXJuIHBhdGg7XG4gICAgICB9KTtcbiAgICAgIGNvcHlPYmplY3Qob2JqZWN0LCBnZXRBbGxLZXlzSW4ob2JqZWN0KSwgcmVzdWx0KTtcbiAgICAgIGlmIChpc0RlZXApIHtcbiAgICAgICAgcmVzdWx0ID0gYmFzZUNsb25lKHJlc3VsdCwgQ0xPTkVfREVFUF9GTEFHIHwgQ0xPTkVfRkxBVF9GTEFHIHwgQ0xPTkVfU1lNQk9MU19GTEFHLCBjdXN0b21PbWl0Q2xvbmUpO1xuICAgICAgfVxuICAgICAgdmFyIGxlbmd0aCA9IHBhdGhzLmxlbmd0aDtcbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICBiYXNlVW5zZXQocmVzdWx0LCBwYXRoc1tsZW5ndGhdKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8ucGlja0J5YDsgdGhpcyBtZXRob2QgY3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2ZcbiAgICAgKiB0aGUgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBvZiBgb2JqZWN0YCB0aGF0XG4gICAgICogYHByZWRpY2F0ZWAgZG9lc24ndCByZXR1cm4gdHJ1dGh5IGZvci4gVGhlIHByZWRpY2F0ZSBpcyBpbnZva2VkIHdpdGggdHdvXG4gICAgICogYXJndW1lbnRzOiAodmFsdWUsIGtleSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBwcm9wZXJ0eS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogJzInLCAnYyc6IDMgfTtcbiAgICAgKlxuICAgICAqIF8ub21pdEJ5KG9iamVjdCwgXy5pc051bWJlcik7XG4gICAgICogLy8gPT4geyAnYic6ICcyJyB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gb21pdEJ5KG9iamVjdCwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gcGlja0J5KG9iamVjdCwgbmVnYXRlKGdldEl0ZXJhdGVlKHByZWRpY2F0ZSkpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZiB0aGUgcGlja2VkIGBvYmplY3RgIHByb3BlcnRpZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLihzdHJpbmd8c3RyaW5nW10pfSBbcGF0aHNdIFRoZSBwcm9wZXJ0eSBwYXRocyB0byBwaWNrLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAnMicsICdjJzogMyB9O1xuICAgICAqXG4gICAgICogXy5waWNrKG9iamVjdCwgWydhJywgJ2MnXSk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdjJzogMyB9XG4gICAgICovXG4gICAgdmFyIHBpY2sgPSBmbGF0UmVzdChmdW5jdGlvbihvYmplY3QsIHBhdGhzKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB7fSA6IGJhc2VQaWNrKG9iamVjdCwgcGF0aHMpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2YgdGhlIGBvYmplY3RgIHByb3BlcnRpZXMgYHByZWRpY2F0ZWAgcmV0dXJuc1xuICAgICAqIHRydXRoeSBmb3IuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZCB3aXRoIHR3byBhcmd1bWVudHM6ICh2YWx1ZSwga2V5KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIHByb3BlcnR5LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAnMicsICdjJzogMyB9O1xuICAgICAqXG4gICAgICogXy5waWNrQnkob2JqZWN0LCBfLmlzTnVtYmVyKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2MnOiAzIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwaWNrQnkob2JqZWN0LCBwcmVkaWNhdGUpIHtcbiAgICAgIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgICB9XG4gICAgICB2YXIgcHJvcHMgPSBhcnJheU1hcChnZXRBbGxLZXlzSW4ob2JqZWN0KSwgZnVuY3Rpb24ocHJvcCkge1xuICAgICAgICByZXR1cm4gW3Byb3BdO1xuICAgICAgfSk7XG4gICAgICBwcmVkaWNhdGUgPSBnZXRJdGVyYXRlZShwcmVkaWNhdGUpO1xuICAgICAgcmV0dXJuIGJhc2VQaWNrQnkob2JqZWN0LCBwcm9wcywgZnVuY3Rpb24odmFsdWUsIHBhdGgpIHtcbiAgICAgICAgcmV0dXJuIHByZWRpY2F0ZSh2YWx1ZSwgcGF0aFswXSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmdldGAgZXhjZXB0IHRoYXQgaWYgdGhlIHJlc29sdmVkIHZhbHVlIGlzIGFcbiAgICAgKiBmdW5jdGlvbiBpdCdzIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgaXRzIHBhcmVudCBvYmplY3QgYW5kXG4gICAgICogaXRzIHJlc3VsdCBpcyByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHJlc29sdmUuXG4gICAgICogQHBhcmFtIHsqfSBbZGVmYXVsdFZhbHVlXSBUaGUgdmFsdWUgcmV0dXJuZWQgZm9yIGB1bmRlZmluZWRgIHJlc29sdmVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjMSc6IDMsICdjMic6IF8uY29uc3RhbnQoNCkgfSB9XSB9O1xuICAgICAqXG4gICAgICogXy5yZXN1bHQob2JqZWN0LCAnYVswXS5iLmMxJyk7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy5yZXN1bHQob2JqZWN0LCAnYVswXS5iLmMyJyk7XG4gICAgICogLy8gPT4gNFxuICAgICAqXG4gICAgICogXy5yZXN1bHQob2JqZWN0LCAnYVswXS5iLmMzJywgJ2RlZmF1bHQnKTtcbiAgICAgKiAvLyA9PiAnZGVmYXVsdCdcbiAgICAgKlxuICAgICAqIF8ucmVzdWx0KG9iamVjdCwgJ2FbMF0uYi5jMycsIF8uY29uc3RhbnQoJ2RlZmF1bHQnKSk7XG4gICAgICogLy8gPT4gJ2RlZmF1bHQnXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVzdWx0KG9iamVjdCwgcGF0aCwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICBwYXRoID0gY2FzdFBhdGgocGF0aCwgb2JqZWN0KTtcblxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcGF0aC5sZW5ndGg7XG5cbiAgICAgIC8vIEVuc3VyZSB0aGUgbG9vcCBpcyBlbnRlcmVkIHdoZW4gcGF0aCBpcyBlbXB0eS5cbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIGxlbmd0aCA9IDE7XG4gICAgICAgIG9iamVjdCA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W3RvS2V5KHBhdGhbaW5kZXhdKV07XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaW5kZXggPSBsZW5ndGg7XG4gICAgICAgICAgdmFsdWUgPSBkZWZhdWx0VmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgb2JqZWN0ID0gaXNGdW5jdGlvbih2YWx1ZSkgPyB2YWx1ZS5jYWxsKG9iamVjdCkgOiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgdmFsdWUgYXQgYHBhdGhgIG9mIGBvYmplY3RgLiBJZiBhIHBvcnRpb24gb2YgYHBhdGhgIGRvZXNuJ3QgZXhpc3QsXG4gICAgICogaXQncyBjcmVhdGVkLiBBcnJheXMgYXJlIGNyZWF0ZWQgZm9yIG1pc3NpbmcgaW5kZXggcHJvcGVydGllcyB3aGlsZSBvYmplY3RzXG4gICAgICogYXJlIGNyZWF0ZWQgZm9yIGFsbCBvdGhlciBtaXNzaW5nIHByb3BlcnRpZXMuIFVzZSBgXy5zZXRXaXRoYCB0byBjdXN0b21pemVcbiAgICAgKiBgcGF0aGAgY3JlYXRpb24uXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjcuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogMyB9IH1dIH07XG4gICAgICpcbiAgICAgKiBfLnNldChvYmplY3QsICdhWzBdLmIuYycsIDQpO1xuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdC5hWzBdLmIuYyk7XG4gICAgICogLy8gPT4gNFxuICAgICAqXG4gICAgICogXy5zZXQob2JqZWN0LCBbJ3gnLCAnMCcsICd5JywgJ3onXSwgNSk7XG4gICAgICogY29uc29sZS5sb2cob2JqZWN0LnhbMF0ueS56KTtcbiAgICAgKiAvLyA9PiA1XG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0KG9iamVjdCwgcGF0aCwgdmFsdWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IG9iamVjdCA6IGJhc2VTZXQob2JqZWN0LCBwYXRoLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5zZXRgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCB0byBwcm9kdWNlIHRoZSBvYmplY3RzIG9mIGBwYXRoYC4gIElmIGBjdXN0b21pemVyYCByZXR1cm5zIGB1bmRlZmluZWRgXG4gICAgICogcGF0aCBjcmVhdGlvbiBpcyBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYCBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0aHJlZSBhcmd1bWVudHM6IChuc1ZhbHVlLCBrZXksIG5zT2JqZWN0KS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHNldC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgYXNzaWduZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7fTtcbiAgICAgKlxuICAgICAqIF8uc2V0V2l0aChvYmplY3QsICdbMF1bMV0nLCAnYScsIE9iamVjdCk7XG4gICAgICogLy8gPT4geyAnMCc6IHsgJzEnOiAnYScgfSB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0V2l0aChvYmplY3QsIHBhdGgsIHZhbHVlLCBjdXN0b21pemVyKSB7XG4gICAgICBjdXN0b21pemVyID0gdHlwZW9mIGN1c3RvbWl6ZXIgPT0gJ2Z1bmN0aW9uJyA/IGN1c3RvbWl6ZXIgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBvYmplY3QgOiBiYXNlU2V0KG9iamVjdCwgcGF0aCwgdmFsdWUsIGN1c3RvbWl6ZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2Ygb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkLXZhbHVlIHBhaXJzIGZvciBgb2JqZWN0YFxuICAgICAqIHdoaWNoIGNhbiBiZSBjb25zdW1lZCBieSBgXy5mcm9tUGFpcnNgLiBJZiBgb2JqZWN0YCBpcyBhIG1hcCBvciBzZXQsIGl0c1xuICAgICAqIGVudHJpZXMgYXJlIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGFsaWFzIGVudHJpZXNcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUga2V5LXZhbHVlIHBhaXJzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy50b1BhaXJzKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFtbJ2EnLCAxXSwgWydiJywgMl1dIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICovXG4gICAgdmFyIHRvUGFpcnMgPSBjcmVhdGVUb1BhaXJzKGtleXMpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZyBrZXllZC12YWx1ZSBwYWlyc1xuICAgICAqIGZvciBgb2JqZWN0YCB3aGljaCBjYW4gYmUgY29uc3VtZWQgYnkgYF8uZnJvbVBhaXJzYC4gSWYgYG9iamVjdGAgaXMgYSBtYXBcbiAgICAgKiBvciBzZXQsIGl0cyBlbnRyaWVzIGFyZSByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBhbGlhcyBlbnRyaWVzSW5cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUga2V5LXZhbHVlIHBhaXJzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy50b1BhaXJzSW4obmV3IEZvbyk7XG4gICAgICogLy8gPT4gW1snYScsIDFdLCBbJ2InLCAyXSwgWydjJywgM11dIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICovXG4gICAgdmFyIHRvUGFpcnNJbiA9IGNyZWF0ZVRvUGFpcnMoa2V5c0luKTtcblxuICAgIC8qKlxuICAgICAqIEFuIGFsdGVybmF0aXZlIHRvIGBfLnJlZHVjZWA7IHRoaXMgbWV0aG9kIHRyYW5zZm9ybXMgYG9iamVjdGAgdG8gYSBuZXdcbiAgICAgKiBgYWNjdW11bGF0b3JgIG9iamVjdCB3aGljaCBpcyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgZWFjaCBvZiBpdHMgb3duXG4gICAgICogZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyB0aHJ1IGBpdGVyYXRlZWAsIHdpdGggZWFjaCBpbnZvY2F0aW9uXG4gICAgICogcG90ZW50aWFsbHkgbXV0YXRpbmcgdGhlIGBhY2N1bXVsYXRvcmAgb2JqZWN0LiBJZiBgYWNjdW11bGF0b3JgIGlzIG5vdFxuICAgICAqIHByb3ZpZGVkLCBhIG5ldyBvYmplY3Qgd2l0aCB0aGUgc2FtZSBgW1tQcm90b3R5cGVdXWAgd2lsbCBiZSB1c2VkLiBUaGVcbiAgICAgKiBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggZm91ciBhcmd1bWVudHM6IChhY2N1bXVsYXRvciwgdmFsdWUsIGtleSwgb2JqZWN0KS5cbiAgICAgKiBJdGVyYXRlZSBmdW5jdGlvbnMgbWF5IGV4aXQgaXRlcmF0aW9uIGVhcmx5IGJ5IGV4cGxpY2l0bHkgcmV0dXJuaW5nIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0geyp9IFthY2N1bXVsYXRvcl0gVGhlIGN1c3RvbSBhY2N1bXVsYXRvciB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udHJhbnNmb3JtKFsyLCAzLCA0XSwgZnVuY3Rpb24ocmVzdWx0LCBuKSB7XG4gICAgICogICByZXN1bHQucHVzaChuICo9IG4pO1xuICAgICAqICAgcmV0dXJuIG4gJSAyID09IDA7XG4gICAgICogfSwgW10pO1xuICAgICAqIC8vID0+IFs0LCA5XVxuICAgICAqXG4gICAgICogXy50cmFuc2Zvcm0oeyAnYSc6IDEsICdiJzogMiwgJ2MnOiAxIH0sIGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAqICAgKHJlc3VsdFt2YWx1ZV0gfHwgKHJlc3VsdFt2YWx1ZV0gPSBbXSkpLnB1c2goa2V5KTtcbiAgICAgKiB9LCB7fSk7XG4gICAgICogLy8gPT4geyAnMSc6IFsnYScsICdjJ10sICcyJzogWydiJ10gfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRyYW5zZm9ybShvYmplY3QsIGl0ZXJhdGVlLCBhY2N1bXVsYXRvcikge1xuICAgICAgdmFyIGlzQXJyID0gaXNBcnJheShvYmplY3QpLFxuICAgICAgICAgIGlzQXJyTGlrZSA9IGlzQXJyIHx8IGlzQnVmZmVyKG9iamVjdCkgfHwgaXNUeXBlZEFycmF5KG9iamVjdCk7XG5cbiAgICAgIGl0ZXJhdGVlID0gZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDQpO1xuICAgICAgaWYgKGFjY3VtdWxhdG9yID09IG51bGwpIHtcbiAgICAgICAgdmFyIEN0b3IgPSBvYmplY3QgJiYgb2JqZWN0LmNvbnN0cnVjdG9yO1xuICAgICAgICBpZiAoaXNBcnJMaWtlKSB7XG4gICAgICAgICAgYWNjdW11bGF0b3IgPSBpc0FyciA/IG5ldyBDdG9yIDogW107XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNPYmplY3Qob2JqZWN0KSkge1xuICAgICAgICAgIGFjY3VtdWxhdG9yID0gaXNGdW5jdGlvbihDdG9yKSA/IGJhc2VDcmVhdGUoZ2V0UHJvdG90eXBlKG9iamVjdCkpIDoge307XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgYWNjdW11bGF0b3IgPSB7fTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgKGlzQXJyTGlrZSA/IGFycmF5RWFjaCA6IGJhc2VGb3JPd24pKG9iamVjdCwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhdGVlKGFjY3VtdWxhdG9yLCB2YWx1ZSwgaW5kZXgsIG9iamVjdCk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBwcm9wZXJ0eSBhdCBgcGF0aGAgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byB1bnNldC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHByb3BlcnR5IGlzIGRlbGV0ZWQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MnOiA3IH0gfV0gfTtcbiAgICAgKiBfLnVuc2V0KG9iamVjdCwgJ2FbMF0uYi5jJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2cob2JqZWN0KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogW3sgJ2InOiB7fSB9XSB9O1xuICAgICAqXG4gICAgICogXy51bnNldChvYmplY3QsIFsnYScsICcwJywgJ2InLCAnYyddKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3QpO1xuICAgICAqIC8vID0+IHsgJ2EnOiBbeyAnYic6IHt9IH1dIH07XG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5zZXQob2JqZWN0LCBwYXRoKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB0cnVlIDogYmFzZVVuc2V0KG9iamVjdCwgcGF0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5zZXRgIGV4Y2VwdCB0aGF0IGFjY2VwdHMgYHVwZGF0ZXJgIHRvIHByb2R1Y2UgdGhlXG4gICAgICogdmFsdWUgdG8gc2V0LiBVc2UgYF8udXBkYXRlV2l0aGAgdG8gY3VzdG9taXplIGBwYXRoYCBjcmVhdGlvbi4gVGhlIGB1cGRhdGVyYFxuICAgICAqIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjYuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gdXBkYXRlciBUaGUgZnVuY3Rpb24gdG8gcHJvZHVjZSB0aGUgdXBkYXRlZCB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IDMgfSB9XSB9O1xuICAgICAqXG4gICAgICogXy51cGRhdGUob2JqZWN0LCAnYVswXS5iLmMnLCBmdW5jdGlvbihuKSB7IHJldHVybiBuICogbjsgfSk7XG4gICAgICogY29uc29sZS5sb2cob2JqZWN0LmFbMF0uYi5jKTtcbiAgICAgKiAvLyA9PiA5XG4gICAgICpcbiAgICAgKiBfLnVwZGF0ZShvYmplY3QsICd4WzBdLnkueicsIGZ1bmN0aW9uKG4pIHsgcmV0dXJuIG4gPyBuICsgMSA6IDA7IH0pO1xuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdC54WzBdLnkueik7XG4gICAgICogLy8gPT4gMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVwZGF0ZShvYmplY3QsIHBhdGgsIHVwZGF0ZXIpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IG9iamVjdCA6IGJhc2VVcGRhdGUob2JqZWN0LCBwYXRoLCBjYXN0RnVuY3Rpb24odXBkYXRlcikpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udXBkYXRlYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgdG8gcHJvZHVjZSB0aGUgb2JqZWN0cyBvZiBgcGF0aGAuICBJZiBgY3VzdG9taXplcmAgcmV0dXJucyBgdW5kZWZpbmVkYFxuICAgICAqIHBhdGggY3JlYXRpb24gaXMgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmAgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdGhyZWUgYXJndW1lbnRzOiAobnNWYWx1ZSwga2V5LCBuc09iamVjdCkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjYuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gdXBkYXRlciBUaGUgZnVuY3Rpb24gdG8gcHJvZHVjZSB0aGUgdXBkYXRlZCB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25lZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHt9O1xuICAgICAqXG4gICAgICogXy51cGRhdGVXaXRoKG9iamVjdCwgJ1swXVsxXScsIF8uY29uc3RhbnQoJ2EnKSwgT2JqZWN0KTtcbiAgICAgKiAvLyA9PiB7ICcwJzogeyAnMSc6ICdhJyB9IH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1cGRhdGVXaXRoKG9iamVjdCwgcGF0aCwgdXBkYXRlciwgY3VzdG9taXplcikge1xuICAgICAgY3VzdG9taXplciA9IHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicgPyBjdXN0b21pemVyIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gb2JqZWN0IDogYmFzZVVwZGF0ZShvYmplY3QsIHBhdGgsIGNhc3RGdW5jdGlvbih1cGRhdGVyKSwgY3VzdG9taXplcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnR5IHZhbHVlcyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBOb24tb2JqZWN0IHZhbHVlcyBhcmUgY29lcmNlZCB0byBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8udmFsdWVzKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFsxLCAyXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqXG4gICAgICogXy52YWx1ZXMoJ2hpJyk7XG4gICAgICogLy8gPT4gWydoJywgJ2knXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHZhbHVlcyhvYmplY3QpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IFtdIDogYmFzZVZhbHVlcyhvYmplY3QsIGtleXMob2JqZWN0KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydHlcbiAgICAgKiB2YWx1ZXMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogTm9uLW9iamVjdCB2YWx1ZXMgYXJlIGNvZXJjZWQgdG8gb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLnZhbHVlc0luKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHZhbHVlc0luKG9iamVjdCkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gW10gOiBiYXNlVmFsdWVzKG9iamVjdCwga2V5c0luKG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENsYW1wcyBgbnVtYmVyYCB3aXRoaW4gdGhlIGluY2x1c2l2ZSBgbG93ZXJgIGFuZCBgdXBwZXJgIGJvdW5kcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBOdW1iZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gY2xhbXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsb3dlcl0gVGhlIGxvd2VyIGJvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB1cHBlciBUaGUgdXBwZXIgYm91bmQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY2xhbXBlZCBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY2xhbXAoLTEwLCAtNSwgNSk7XG4gICAgICogLy8gPT4gLTVcbiAgICAgKlxuICAgICAqIF8uY2xhbXAoMTAsIC01LCA1KTtcbiAgICAgKiAvLyA9PiA1XG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xhbXAobnVtYmVyLCBsb3dlciwgdXBwZXIpIHtcbiAgICAgIGlmICh1cHBlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHVwcGVyID0gbG93ZXI7XG4gICAgICAgIGxvd2VyID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgaWYgKHVwcGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdXBwZXIgPSB0b051bWJlcih1cHBlcik7XG4gICAgICAgIHVwcGVyID0gdXBwZXIgPT09IHVwcGVyID8gdXBwZXIgOiAwO1xuICAgICAgfVxuICAgICAgaWYgKGxvd2VyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbG93ZXIgPSB0b051bWJlcihsb3dlcik7XG4gICAgICAgIGxvd2VyID0gbG93ZXIgPT09IGxvd2VyID8gbG93ZXIgOiAwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VDbGFtcCh0b051bWJlcihudW1iZXIpLCBsb3dlciwgdXBwZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgbmAgaXMgYmV0d2VlbiBgc3RhcnRgIGFuZCB1cCB0bywgYnV0IG5vdCBpbmNsdWRpbmcsIGBlbmRgLiBJZlxuICAgICAqIGBlbmRgIGlzIG5vdCBzcGVjaWZpZWQsIGl0J3Mgc2V0IHRvIGBzdGFydGAgd2l0aCBgc3RhcnRgIHRoZW4gc2V0IHRvIGAwYC5cbiAgICAgKiBJZiBgc3RhcnRgIGlzIGdyZWF0ZXIgdGhhbiBgZW5kYCB0aGUgcGFyYW1zIGFyZSBzd2FwcGVkIHRvIHN1cHBvcnRcbiAgICAgKiBuZWdhdGl2ZSByYW5nZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTnVtYmVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIGNoZWNrLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIFRoZSBlbmQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgbnVtYmVyYCBpcyBpbiB0aGUgcmFuZ2UsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAc2VlIF8ucmFuZ2UsIF8ucmFuZ2VSaWdodFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmluUmFuZ2UoMywgMiwgNCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKDQsIDgpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaW5SYW5nZSg0LCAyKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKDIsIDIpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmluUmFuZ2UoMS4yLCAyKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmluUmFuZ2UoNS4yLCA0KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKC0zLCAtMiwgLTYpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpblJhbmdlKG51bWJlciwgc3RhcnQsIGVuZCkge1xuICAgICAgc3RhcnQgPSB0b0Zpbml0ZShzdGFydCk7XG4gICAgICBpZiAoZW5kID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZW5kID0gc3RhcnQ7XG4gICAgICAgIHN0YXJ0ID0gMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVuZCA9IHRvRmluaXRlKGVuZCk7XG4gICAgICB9XG4gICAgICBudW1iZXIgPSB0b051bWJlcihudW1iZXIpO1xuICAgICAgcmV0dXJuIGJhc2VJblJhbmdlKG51bWJlciwgc3RhcnQsIGVuZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJvZHVjZXMgYSByYW5kb20gbnVtYmVyIGJldHdlZW4gdGhlIGluY2x1c2l2ZSBgbG93ZXJgIGFuZCBgdXBwZXJgIGJvdW5kcy5cbiAgICAgKiBJZiBvbmx5IG9uZSBhcmd1bWVudCBpcyBwcm92aWRlZCBhIG51bWJlciBiZXR3ZWVuIGAwYCBhbmQgdGhlIGdpdmVuIG51bWJlclxuICAgICAqIGlzIHJldHVybmVkLiBJZiBgZmxvYXRpbmdgIGlzIGB0cnVlYCwgb3IgZWl0aGVyIGBsb3dlcmAgb3IgYHVwcGVyYCBhcmVcbiAgICAgKiBmbG9hdHMsIGEgZmxvYXRpbmctcG9pbnQgbnVtYmVyIGlzIHJldHVybmVkIGluc3RlYWQgb2YgYW4gaW50ZWdlci5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBKYXZhU2NyaXB0IGZvbGxvd3MgdGhlIElFRUUtNzU0IHN0YW5kYXJkIGZvciByZXNvbHZpbmdcbiAgICAgKiBmbG9hdGluZy1wb2ludCB2YWx1ZXMgd2hpY2ggY2FuIHByb2R1Y2UgdW5leHBlY3RlZCByZXN1bHRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuNy4wXG4gICAgICogQGNhdGVnb3J5IE51bWJlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbG93ZXI9MF0gVGhlIGxvd2VyIGJvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbdXBwZXI9MV0gVGhlIHVwcGVyIGJvdW5kLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zsb2F0aW5nXSBTcGVjaWZ5IHJldHVybmluZyBhIGZsb2F0aW5nLXBvaW50IG51bWJlci5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSByYW5kb20gbnVtYmVyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJhbmRvbSgwLCA1KTtcbiAgICAgKiAvLyA9PiBhbiBpbnRlZ2VyIGJldHdlZW4gMCBhbmQgNVxuICAgICAqXG4gICAgICogXy5yYW5kb20oNSk7XG4gICAgICogLy8gPT4gYWxzbyBhbiBpbnRlZ2VyIGJldHdlZW4gMCBhbmQgNVxuICAgICAqXG4gICAgICogXy5yYW5kb20oNSwgdHJ1ZSk7XG4gICAgICogLy8gPT4gYSBmbG9hdGluZy1wb2ludCBudW1iZXIgYmV0d2VlbiAwIGFuZCA1XG4gICAgICpcbiAgICAgKiBfLnJhbmRvbSgxLjIsIDUuMik7XG4gICAgICogLy8gPT4gYSBmbG9hdGluZy1wb2ludCBudW1iZXIgYmV0d2VlbiAxLjIgYW5kIDUuMlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJhbmRvbShsb3dlciwgdXBwZXIsIGZsb2F0aW5nKSB7XG4gICAgICBpZiAoZmxvYXRpbmcgJiYgdHlwZW9mIGZsb2F0aW5nICE9ICdib29sZWFuJyAmJiBpc0l0ZXJhdGVlQ2FsbChsb3dlciwgdXBwZXIsIGZsb2F0aW5nKSkge1xuICAgICAgICB1cHBlciA9IGZsb2F0aW5nID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgaWYgKGZsb2F0aW5nID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB1cHBlciA9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICBmbG9hdGluZyA9IHVwcGVyO1xuICAgICAgICAgIHVwcGVyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBsb3dlciA9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICBmbG9hdGluZyA9IGxvd2VyO1xuICAgICAgICAgIGxvd2VyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobG93ZXIgPT09IHVuZGVmaW5lZCAmJiB1cHBlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGxvd2VyID0gMDtcbiAgICAgICAgdXBwZXIgPSAxO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGxvd2VyID0gdG9GaW5pdGUobG93ZXIpO1xuICAgICAgICBpZiAodXBwZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHVwcGVyID0gbG93ZXI7XG4gICAgICAgICAgbG93ZXIgPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHVwcGVyID0gdG9GaW5pdGUodXBwZXIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobG93ZXIgPiB1cHBlcikge1xuICAgICAgICB2YXIgdGVtcCA9IGxvd2VyO1xuICAgICAgICBsb3dlciA9IHVwcGVyO1xuICAgICAgICB1cHBlciA9IHRlbXA7XG4gICAgICB9XG4gICAgICBpZiAoZmxvYXRpbmcgfHwgbG93ZXIgJSAxIHx8IHVwcGVyICUgMSkge1xuICAgICAgICB2YXIgcmFuZCA9IG5hdGl2ZVJhbmRvbSgpO1xuICAgICAgICByZXR1cm4gbmF0aXZlTWluKGxvd2VyICsgKHJhbmQgKiAodXBwZXIgLSBsb3dlciArIGZyZWVQYXJzZUZsb2F0KCcxZS0nICsgKChyYW5kICsgJycpLmxlbmd0aCAtIDEpKSkpLCB1cHBlcik7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZVJhbmRvbShsb3dlciwgdXBwZXIpO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgIHRvIFtjYW1lbCBjYXNlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9DYW1lbENhc2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY2FtZWwgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNhbWVsQ2FzZSgnRm9vIEJhcicpO1xuICAgICAqIC8vID0+ICdmb29CYXInXG4gICAgICpcbiAgICAgKiBfLmNhbWVsQ2FzZSgnLS1mb28tYmFyLS0nKTtcbiAgICAgKiAvLyA9PiAnZm9vQmFyJ1xuICAgICAqXG4gICAgICogXy5jYW1lbENhc2UoJ19fRk9PX0JBUl9fJyk7XG4gICAgICogLy8gPT4gJ2Zvb0JhcidcbiAgICAgKi9cbiAgICB2YXIgY2FtZWxDYXNlID0gY3JlYXRlQ29tcG91bmRlcihmdW5jdGlvbihyZXN1bHQsIHdvcmQsIGluZGV4KSB7XG4gICAgICB3b3JkID0gd29yZC50b0xvd2VyQ2FzZSgpO1xuICAgICAgcmV0dXJuIHJlc3VsdCArIChpbmRleCA/IGNhcGl0YWxpemUod29yZCkgOiB3b3JkKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIHRoZSBmaXJzdCBjaGFyYWN0ZXIgb2YgYHN0cmluZ2AgdG8gdXBwZXIgY2FzZSBhbmQgdGhlIHJlbWFpbmluZ1xuICAgICAqIHRvIGxvd2VyIGNhc2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY2FwaXRhbGl6ZS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjYXBpdGFsaXplZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY2FwaXRhbGl6ZSgnRlJFRCcpO1xuICAgICAqIC8vID0+ICdGcmVkJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNhcGl0YWxpemUoc3RyaW5nKSB7XG4gICAgICByZXR1cm4gdXBwZXJGaXJzdCh0b1N0cmluZyhzdHJpbmcpLnRvTG93ZXJDYXNlKCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlYnVycnMgYHN0cmluZ2AgYnkgY29udmVydGluZ1xuICAgICAqIFtMYXRpbi0xIFN1cHBsZW1lbnRdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xhdGluLTFfU3VwcGxlbWVudF8oVW5pY29kZV9ibG9jaykjQ2hhcmFjdGVyX3RhYmxlKVxuICAgICAqIGFuZCBbTGF0aW4gRXh0ZW5kZWQtQV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGF0aW5fRXh0ZW5kZWQtQSlcbiAgICAgKiBsZXR0ZXJzIHRvIGJhc2ljIExhdGluIGxldHRlcnMgYW5kIHJlbW92aW5nXG4gICAgICogW2NvbWJpbmluZyBkaWFjcml0aWNhbCBtYXJrc10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29tYmluaW5nX0RpYWNyaXRpY2FsX01hcmtzKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBkZWJ1cnIuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZGVidXJyZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlYnVycignZMOpasOgIHZ1Jyk7XG4gICAgICogLy8gPT4gJ2RlamEgdnUnXG4gICAgICovXG4gICAgZnVuY3Rpb24gZGVidXJyKHN0cmluZykge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHJldHVybiBzdHJpbmcgJiYgc3RyaW5nLnJlcGxhY2UocmVMYXRpbiwgZGVidXJyTGV0dGVyKS5yZXBsYWNlKHJlQ29tYm9NYXJrLCAnJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBzdHJpbmdgIGVuZHMgd2l0aCB0aGUgZ2l2ZW4gdGFyZ2V0IHN0cmluZy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdGFyZ2V0XSBUaGUgc3RyaW5nIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwb3NpdGlvbj1zdHJpbmcubGVuZ3RoXSBUaGUgcG9zaXRpb24gdG8gc2VhcmNoIHVwIHRvLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgc3RyaW5nYCBlbmRzIHdpdGggYHRhcmdldGAsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5lbmRzV2l0aCgnYWJjJywgJ2MnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmVuZHNXaXRoKCdhYmMnLCAnYicpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmVuZHNXaXRoKCdhYmMnLCAnYicsIDIpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlbmRzV2l0aChzdHJpbmcsIHRhcmdldCwgcG9zaXRpb24pIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICB0YXJnZXQgPSBiYXNlVG9TdHJpbmcodGFyZ2V0KTtcblxuICAgICAgdmFyIGxlbmd0aCA9IHN0cmluZy5sZW5ndGg7XG4gICAgICBwb3NpdGlvbiA9IHBvc2l0aW9uID09PSB1bmRlZmluZWRcbiAgICAgICAgPyBsZW5ndGhcbiAgICAgICAgOiBiYXNlQ2xhbXAodG9JbnRlZ2VyKHBvc2l0aW9uKSwgMCwgbGVuZ3RoKTtcblxuICAgICAgdmFyIGVuZCA9IHBvc2l0aW9uO1xuICAgICAgcG9zaXRpb24gLT0gdGFyZ2V0Lmxlbmd0aDtcbiAgICAgIHJldHVybiBwb3NpdGlvbiA+PSAwICYmIHN0cmluZy5zbGljZShwb3NpdGlvbiwgZW5kKSA9PSB0YXJnZXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgdGhlIGNoYXJhY3RlcnMgXCImXCIsIFwiPFwiLCBcIj5cIiwgJ1wiJywgYW5kIFwiJ1wiIGluIGBzdHJpbmdgIHRvIHRoZWlyXG4gICAgICogY29ycmVzcG9uZGluZyBIVE1MIGVudGl0aWVzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE5vIG90aGVyIGNoYXJhY3RlcnMgYXJlIGVzY2FwZWQuIFRvIGVzY2FwZSBhZGRpdGlvbmFsXG4gICAgICogY2hhcmFjdGVycyB1c2UgYSB0aGlyZC1wYXJ0eSBsaWJyYXJ5IGxpa2UgW19oZV9dKGh0dHBzOi8vbXRocy5iZS9oZSkuXG4gICAgICpcbiAgICAgKiBUaG91Z2ggdGhlIFwiPlwiIGNoYXJhY3RlciBpcyBlc2NhcGVkIGZvciBzeW1tZXRyeSwgY2hhcmFjdGVycyBsaWtlXG4gICAgICogXCI+XCIgYW5kIFwiL1wiIGRvbid0IG5lZWQgZXNjYXBpbmcgaW4gSFRNTCBhbmQgaGF2ZSBubyBzcGVjaWFsIG1lYW5pbmdcbiAgICAgKiB1bmxlc3MgdGhleSdyZSBwYXJ0IG9mIGEgdGFnIG9yIHVucXVvdGVkIGF0dHJpYnV0ZSB2YWx1ZS4gU2VlXG4gICAgICogW01hdGhpYXMgQnluZW5zJ3MgYXJ0aWNsZV0oaHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2FtYmlndW91cy1hbXBlcnNhbmRzKVxuICAgICAqICh1bmRlciBcInNlbWktcmVsYXRlZCBmdW4gZmFjdFwiKSBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqXG4gICAgICogV2hlbiB3b3JraW5nIHdpdGggSFRNTCB5b3Ugc2hvdWxkIGFsd2F5c1xuICAgICAqIFtxdW90ZSBhdHRyaWJ1dGUgdmFsdWVzXShodHRwOi8vd29ua28uY29tL3Bvc3QvaHRtbC1lc2NhcGluZykgdG8gcmVkdWNlXG4gICAgICogWFNTIHZlY3RvcnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gZXNjYXBlLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGVzY2FwZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmVzY2FwZSgnZnJlZCwgYmFybmV5LCAmIHBlYmJsZXMnKTtcbiAgICAgKiAvLyA9PiAnZnJlZCwgYmFybmV5LCAmYW1wOyBwZWJibGVzJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVzY2FwZShzdHJpbmcpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICByZXR1cm4gKHN0cmluZyAmJiByZUhhc1VuZXNjYXBlZEh0bWwudGVzdChzdHJpbmcpKVxuICAgICAgICA/IHN0cmluZy5yZXBsYWNlKHJlVW5lc2NhcGVkSHRtbCwgZXNjYXBlSHRtbENoYXIpXG4gICAgICAgIDogc3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVzY2FwZXMgdGhlIGBSZWdFeHBgIHNwZWNpYWwgY2hhcmFjdGVycyBcIl5cIiwgXCIkXCIsIFwiXFxcIiwgXCIuXCIsIFwiKlwiLCBcIitcIixcbiAgICAgKiBcIj9cIiwgXCIoXCIsIFwiKVwiLCBcIltcIiwgXCJdXCIsIFwie1wiLCBcIn1cIiwgYW5kIFwifFwiIGluIGBzdHJpbmdgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGVzY2FwZS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlc2NhcGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5lc2NhcGVSZWdFeHAoJ1tsb2Rhc2hdKGh0dHBzOi8vbG9kYXNoLmNvbS8pJyk7XG4gICAgICogLy8gPT4gJ1xcW2xvZGFzaFxcXVxcKGh0dHBzOi8vbG9kYXNoXFwuY29tL1xcKSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlc2NhcGVSZWdFeHAoc3RyaW5nKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgcmV0dXJuIChzdHJpbmcgJiYgcmVIYXNSZWdFeHBDaGFyLnRlc3Qoc3RyaW5nKSlcbiAgICAgICAgPyBzdHJpbmcucmVwbGFjZShyZVJlZ0V4cENoYXIsICdcXFxcJCYnKVxuICAgICAgICA6IHN0cmluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0b1xuICAgICAqIFtrZWJhYiBjYXNlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MZXR0ZXJfY2FzZSNTcGVjaWFsX2Nhc2Vfc3R5bGVzKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGtlYmFiIGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5rZWJhYkNhc2UoJ0ZvbyBCYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vLWJhcidcbiAgICAgKlxuICAgICAqIF8ua2ViYWJDYXNlKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vLWJhcidcbiAgICAgKlxuICAgICAqIF8ua2ViYWJDYXNlKCdfX0ZPT19CQVJfXycpO1xuICAgICAqIC8vID0+ICdmb28tYmFyJ1xuICAgICAqL1xuICAgIHZhciBrZWJhYkNhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyAnLScgOiAnJykgKyB3b3JkLnRvTG93ZXJDYXNlKCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCwgYXMgc3BhY2Ugc2VwYXJhdGVkIHdvcmRzLCB0byBsb3dlciBjYXNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgbG93ZXIgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmxvd2VyQ2FzZSgnLS1Gb28tQmFyLS0nKTtcbiAgICAgKiAvLyA9PiAnZm9vIGJhcidcbiAgICAgKlxuICAgICAqIF8ubG93ZXJDYXNlKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vIGJhcidcbiAgICAgKlxuICAgICAqIF8ubG93ZXJDYXNlKCdfX0ZPT19CQVJfXycpO1xuICAgICAqIC8vID0+ICdmb28gYmFyJ1xuICAgICAqL1xuICAgIHZhciBsb3dlckNhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyAnICcgOiAnJykgKyB3b3JkLnRvTG93ZXJDYXNlKCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgZmlyc3QgY2hhcmFjdGVyIG9mIGBzdHJpbmdgIHRvIGxvd2VyIGNhc2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmxvd2VyRmlyc3QoJ0ZyZWQnKTtcbiAgICAgKiAvLyA9PiAnZnJlZCdcbiAgICAgKlxuICAgICAqIF8ubG93ZXJGaXJzdCgnRlJFRCcpO1xuICAgICAqIC8vID0+ICdmUkVEJ1xuICAgICAqL1xuICAgIHZhciBsb3dlckZpcnN0ID0gY3JlYXRlQ2FzZUZpcnN0KCd0b0xvd2VyQ2FzZScpO1xuXG4gICAgLyoqXG4gICAgICogUGFkcyBgc3RyaW5nYCBvbiB0aGUgbGVmdCBhbmQgcmlnaHQgc2lkZXMgaWYgaXQncyBzaG9ydGVyIHRoYW4gYGxlbmd0aGAuXG4gICAgICogUGFkZGluZyBjaGFyYWN0ZXJzIGFyZSB0cnVuY2F0ZWQgaWYgdGhleSBjYW4ndCBiZSBldmVubHkgZGl2aWRlZCBieSBgbGVuZ3RoYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBwYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9MF0gVGhlIHBhZGRpbmcgbGVuZ3RoLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9JyAnXSBUaGUgc3RyaW5nIHVzZWQgYXMgcGFkZGluZy5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBwYWRkZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnBhZCgnYWJjJywgOCk7XG4gICAgICogLy8gPT4gJyAgYWJjICAgJ1xuICAgICAqXG4gICAgICogXy5wYWQoJ2FiYycsIDgsICdfLScpO1xuICAgICAqIC8vID0+ICdfLWFiY18tXydcbiAgICAgKlxuICAgICAqIF8ucGFkKCdhYmMnLCAzKTtcbiAgICAgKiAvLyA9PiAnYWJjJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBhZChzdHJpbmcsIGxlbmd0aCwgY2hhcnMpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBsZW5ndGggPSB0b0ludGVnZXIobGVuZ3RoKTtcblxuICAgICAgdmFyIHN0ckxlbmd0aCA9IGxlbmd0aCA/IHN0cmluZ1NpemUoc3RyaW5nKSA6IDA7XG4gICAgICBpZiAoIWxlbmd0aCB8fCBzdHJMZW5ndGggPj0gbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmc7XG4gICAgICB9XG4gICAgICB2YXIgbWlkID0gKGxlbmd0aCAtIHN0ckxlbmd0aCkgLyAyO1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgY3JlYXRlUGFkZGluZyhuYXRpdmVGbG9vcihtaWQpLCBjaGFycykgK1xuICAgICAgICBzdHJpbmcgK1xuICAgICAgICBjcmVhdGVQYWRkaW5nKG5hdGl2ZUNlaWwobWlkKSwgY2hhcnMpXG4gICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBhZHMgYHN0cmluZ2Agb24gdGhlIHJpZ2h0IHNpZGUgaWYgaXQncyBzaG9ydGVyIHRoYW4gYGxlbmd0aGAuIFBhZGRpbmdcbiAgICAgKiBjaGFyYWN0ZXJzIGFyZSB0cnVuY2F0ZWQgaWYgdGhleSBleGNlZWQgYGxlbmd0aGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gcGFkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPTBdIFRoZSBwYWRkaW5nIGxlbmd0aC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPScgJ10gVGhlIHN0cmluZyB1c2VkIGFzIHBhZGRpbmcuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcGFkZGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5wYWRFbmQoJ2FiYycsIDYpO1xuICAgICAqIC8vID0+ICdhYmMgICAnXG4gICAgICpcbiAgICAgKiBfLnBhZEVuZCgnYWJjJywgNiwgJ18tJyk7XG4gICAgICogLy8gPT4gJ2FiY18tXydcbiAgICAgKlxuICAgICAqIF8ucGFkRW5kKCdhYmMnLCAzKTtcbiAgICAgKiAvLyA9PiAnYWJjJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBhZEVuZChzdHJpbmcsIGxlbmd0aCwgY2hhcnMpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBsZW5ndGggPSB0b0ludGVnZXIobGVuZ3RoKTtcblxuICAgICAgdmFyIHN0ckxlbmd0aCA9IGxlbmd0aCA/IHN0cmluZ1NpemUoc3RyaW5nKSA6IDA7XG4gICAgICByZXR1cm4gKGxlbmd0aCAmJiBzdHJMZW5ndGggPCBsZW5ndGgpXG4gICAgICAgID8gKHN0cmluZyArIGNyZWF0ZVBhZGRpbmcobGVuZ3RoIC0gc3RyTGVuZ3RoLCBjaGFycykpXG4gICAgICAgIDogc3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBhZHMgYHN0cmluZ2Agb24gdGhlIGxlZnQgc2lkZSBpZiBpdCdzIHNob3J0ZXIgdGhhbiBgbGVuZ3RoYC4gUGFkZGluZ1xuICAgICAqIGNoYXJhY3RlcnMgYXJlIHRydW5jYXRlZCBpZiB0aGV5IGV4Y2VlZCBgbGVuZ3RoYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBwYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9MF0gVGhlIHBhZGRpbmcgbGVuZ3RoLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9JyAnXSBUaGUgc3RyaW5nIHVzZWQgYXMgcGFkZGluZy5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBwYWRkZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnBhZFN0YXJ0KCdhYmMnLCA2KTtcbiAgICAgKiAvLyA9PiAnICAgYWJjJ1xuICAgICAqXG4gICAgICogXy5wYWRTdGFydCgnYWJjJywgNiwgJ18tJyk7XG4gICAgICogLy8gPT4gJ18tX2FiYydcbiAgICAgKlxuICAgICAqIF8ucGFkU3RhcnQoJ2FiYycsIDMpO1xuICAgICAqIC8vID0+ICdhYmMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gcGFkU3RhcnQoc3RyaW5nLCBsZW5ndGgsIGNoYXJzKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgbGVuZ3RoID0gdG9JbnRlZ2VyKGxlbmd0aCk7XG5cbiAgICAgIHZhciBzdHJMZW5ndGggPSBsZW5ndGggPyBzdHJpbmdTaXplKHN0cmluZykgOiAwO1xuICAgICAgcmV0dXJuIChsZW5ndGggJiYgc3RyTGVuZ3RoIDwgbGVuZ3RoKVxuICAgICAgICA/IChjcmVhdGVQYWRkaW5nKGxlbmd0aCAtIHN0ckxlbmd0aCwgY2hhcnMpICsgc3RyaW5nKVxuICAgICAgICA6IHN0cmluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0byBhbiBpbnRlZ2VyIG9mIHRoZSBzcGVjaWZpZWQgcmFkaXguIElmIGByYWRpeGAgaXNcbiAgICAgKiBgdW5kZWZpbmVkYCBvciBgMGAsIGEgYHJhZGl4YCBvZiBgMTBgIGlzIHVzZWQgdW5sZXNzIGB2YWx1ZWAgaXMgYVxuICAgICAqIGhleGFkZWNpbWFsLCBpbiB3aGljaCBjYXNlIGEgYHJhZGl4YCBvZiBgMTZgIGlzIHVzZWQuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgYWxpZ25zIHdpdGggdGhlXG4gICAgICogW0VTNSBpbXBsZW1lbnRhdGlvbl0oaHR0cHM6Ly9lczUuZ2l0aHViLmlvLyN4MTUuMS4yLjIpIG9mIGBwYXJzZUludGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyYWRpeD0xMF0gVGhlIHJhZGl4IHRvIGludGVycHJldCBgdmFsdWVgIGJ5LlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29udmVydGVkIGludGVnZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucGFyc2VJbnQoJzA4Jyk7XG4gICAgICogLy8gPT4gOFxuICAgICAqXG4gICAgICogXy5tYXAoWyc2JywgJzA4JywgJzEwJ10sIF8ucGFyc2VJbnQpO1xuICAgICAqIC8vID0+IFs2LCA4LCAxMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwYXJzZUludChzdHJpbmcsIHJhZGl4LCBndWFyZCkge1xuICAgICAgaWYgKGd1YXJkIHx8IHJhZGl4ID09IG51bGwpIHtcbiAgICAgICAgcmFkaXggPSAwO1xuICAgICAgfSBlbHNlIGlmIChyYWRpeCkge1xuICAgICAgICByYWRpeCA9ICtyYWRpeDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuYXRpdmVQYXJzZUludCh0b1N0cmluZyhzdHJpbmcpLnJlcGxhY2UocmVUcmltU3RhcnQsICcnKSwgcmFkaXggfHwgMCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVwZWF0cyB0aGUgZ2l2ZW4gc3RyaW5nIGBuYCB0aW1lcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byByZXBlYXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTFdIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gcmVwZWF0IHRoZSBzdHJpbmcuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSByZXBlYXRlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucmVwZWF0KCcqJywgMyk7XG4gICAgICogLy8gPT4gJyoqKidcbiAgICAgKlxuICAgICAqIF8ucmVwZWF0KCdhYmMnLCAyKTtcbiAgICAgKiAvLyA9PiAnYWJjYWJjJ1xuICAgICAqXG4gICAgICogXy5yZXBlYXQoJ2FiYycsIDApO1xuICAgICAqIC8vID0+ICcnXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVwZWF0KHN0cmluZywgbiwgZ3VhcmQpIHtcbiAgICAgIGlmICgoZ3VhcmQgPyBpc0l0ZXJhdGVlQ2FsbChzdHJpbmcsIG4sIGd1YXJkKSA6IG4gPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgbiA9IDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuID0gdG9JbnRlZ2VyKG4pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VSZXBlYXQodG9TdHJpbmcoc3RyaW5nKSwgbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVwbGFjZXMgbWF0Y2hlcyBmb3IgYHBhdHRlcm5gIGluIGBzdHJpbmdgIHdpdGggYHJlcGxhY2VtZW50YC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgU3RyaW5nI3JlcGxhY2VgXShodHRwczovL21kbi5pby9TdHJpbmcvcmVwbGFjZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfHN0cmluZ30gcGF0dGVybiBUaGUgcGF0dGVybiB0byByZXBsYWNlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258c3RyaW5nfSByZXBsYWNlbWVudCBUaGUgbWF0Y2ggcmVwbGFjZW1lbnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgbW9kaWZpZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJlcGxhY2UoJ0hpIEZyZWQnLCAnRnJlZCcsICdCYXJuZXknKTtcbiAgICAgKiAvLyA9PiAnSGkgQmFybmV5J1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlcGxhY2UoKSB7XG4gICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgICBzdHJpbmcgPSB0b1N0cmluZyhhcmdzWzBdKTtcblxuICAgICAgcmV0dXJuIGFyZ3MubGVuZ3RoIDwgMyA/IHN0cmluZyA6IHN0cmluZy5yZXBsYWNlKGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgIHRvXG4gICAgICogW3NuYWtlIGNhc2VdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1NuYWtlX2Nhc2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc25ha2UgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNuYWtlQ2FzZSgnRm9vIEJhcicpO1xuICAgICAqIC8vID0+ICdmb29fYmFyJ1xuICAgICAqXG4gICAgICogXy5zbmFrZUNhc2UoJ2Zvb0JhcicpO1xuICAgICAqIC8vID0+ICdmb29fYmFyJ1xuICAgICAqXG4gICAgICogXy5zbmFrZUNhc2UoJy0tRk9PLUJBUi0tJyk7XG4gICAgICogLy8gPT4gJ2Zvb19iYXInXG4gICAgICovXG4gICAgdmFyIHNuYWtlQ2FzZSA9IGNyZWF0ZUNvbXBvdW5kZXIoZnVuY3Rpb24ocmVzdWx0LCB3b3JkLCBpbmRleCkge1xuICAgICAgcmV0dXJuIHJlc3VsdCArIChpbmRleCA/ICdfJyA6ICcnKSArIHdvcmQudG9Mb3dlckNhc2UoKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFNwbGl0cyBgc3RyaW5nYCBieSBgc2VwYXJhdG9yYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgU3RyaW5nI3NwbGl0YF0oaHR0cHM6Ly9tZG4uaW8vU3RyaW5nL3NwbGl0KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBzcGxpdC5cbiAgICAgKiBAcGFyYW0ge1JlZ0V4cHxzdHJpbmd9IHNlcGFyYXRvciBUaGUgc2VwYXJhdG9yIHBhdHRlcm4gdG8gc3BsaXQgYnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsaW1pdF0gVGhlIGxlbmd0aCB0byB0cnVuY2F0ZSByZXN1bHRzIHRvLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc3RyaW5nIHNlZ21lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNwbGl0KCdhLWItYycsICctJywgMik7XG4gICAgICogLy8gPT4gWydhJywgJ2InXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNwbGl0KHN0cmluZywgc2VwYXJhdG9yLCBsaW1pdCkge1xuICAgICAgaWYgKGxpbWl0ICYmIHR5cGVvZiBsaW1pdCAhPSAnbnVtYmVyJyAmJiBpc0l0ZXJhdGVlQ2FsbChzdHJpbmcsIHNlcGFyYXRvciwgbGltaXQpKSB7XG4gICAgICAgIHNlcGFyYXRvciA9IGxpbWl0ID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgbGltaXQgPSBsaW1pdCA9PT0gdW5kZWZpbmVkID8gTUFYX0FSUkFZX0xFTkdUSCA6IGxpbWl0ID4+PiAwO1xuICAgICAgaWYgKCFsaW1pdCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgaWYgKHN0cmluZyAmJiAoXG4gICAgICAgICAgICB0eXBlb2Ygc2VwYXJhdG9yID09ICdzdHJpbmcnIHx8XG4gICAgICAgICAgICAoc2VwYXJhdG9yICE9IG51bGwgJiYgIWlzUmVnRXhwKHNlcGFyYXRvcikpXG4gICAgICAgICAgKSkge1xuICAgICAgICBzZXBhcmF0b3IgPSBiYXNlVG9TdHJpbmcoc2VwYXJhdG9yKTtcbiAgICAgICAgaWYgKCFzZXBhcmF0b3IgJiYgaGFzVW5pY29kZShzdHJpbmcpKSB7XG4gICAgICAgICAgcmV0dXJuIGNhc3RTbGljZShzdHJpbmdUb0FycmF5KHN0cmluZyksIDAsIGxpbWl0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHN0cmluZy5zcGxpdChzZXBhcmF0b3IsIGxpbWl0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0b1xuICAgICAqIFtzdGFydCBjYXNlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MZXR0ZXJfY2FzZSNTdHlsaXN0aWNfb3Jfc3BlY2lhbGlzZWRfdXNhZ2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMS4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc3RhcnQgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnN0YXJ0Q2FzZSgnLS1mb28tYmFyLS0nKTtcbiAgICAgKiAvLyA9PiAnRm9vIEJhcidcbiAgICAgKlxuICAgICAqIF8uc3RhcnRDYXNlKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnRm9vIEJhcidcbiAgICAgKlxuICAgICAqIF8uc3RhcnRDYXNlKCdfX0ZPT19CQVJfXycpO1xuICAgICAqIC8vID0+ICdGT08gQkFSJ1xuICAgICAqL1xuICAgIHZhciBzdGFydENhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyAnICcgOiAnJykgKyB1cHBlckZpcnN0KHdvcmQpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBzdHJpbmdgIHN0YXJ0cyB3aXRoIHRoZSBnaXZlbiB0YXJnZXQgc3RyaW5nLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFt0YXJnZXRdIFRoZSBzdHJpbmcgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Bvc2l0aW9uPTBdIFRoZSBwb3NpdGlvbiB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHN0cmluZ2Agc3RhcnRzIHdpdGggYHRhcmdldGAsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zdGFydHNXaXRoKCdhYmMnLCAnYScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uc3RhcnRzV2l0aCgnYWJjJywgJ2InKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5zdGFydHNXaXRoKCdhYmMnLCAnYicsIDEpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdGFydHNXaXRoKHN0cmluZywgdGFyZ2V0LCBwb3NpdGlvbikge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHBvc2l0aW9uID0gcG9zaXRpb24gPT0gbnVsbFxuICAgICAgICA/IDBcbiAgICAgICAgOiBiYXNlQ2xhbXAodG9JbnRlZ2VyKHBvc2l0aW9uKSwgMCwgc3RyaW5nLmxlbmd0aCk7XG5cbiAgICAgIHRhcmdldCA9IGJhc2VUb1N0cmluZyh0YXJnZXQpO1xuICAgICAgcmV0dXJuIHN0cmluZy5zbGljZShwb3NpdGlvbiwgcG9zaXRpb24gKyB0YXJnZXQubGVuZ3RoKSA9PSB0YXJnZXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNvbXBpbGVkIHRlbXBsYXRlIGZ1bmN0aW9uIHRoYXQgY2FuIGludGVycG9sYXRlIGRhdGEgcHJvcGVydGllc1xuICAgICAqIGluIFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXJzLCBIVE1MLWVzY2FwZSBpbnRlcnBvbGF0ZWQgZGF0YSBwcm9wZXJ0aWVzIGluXG4gICAgICogXCJlc2NhcGVcIiBkZWxpbWl0ZXJzLCBhbmQgZXhlY3V0ZSBKYXZhU2NyaXB0IGluIFwiZXZhbHVhdGVcIiBkZWxpbWl0ZXJzLiBEYXRhXG4gICAgICogcHJvcGVydGllcyBtYXkgYmUgYWNjZXNzZWQgYXMgZnJlZSB2YXJpYWJsZXMgaW4gdGhlIHRlbXBsYXRlLiBJZiBhIHNldHRpbmdcbiAgICAgKiBvYmplY3QgaXMgZ2l2ZW4sIGl0IHRha2VzIHByZWNlZGVuY2Ugb3ZlciBgXy50ZW1wbGF0ZVNldHRpbmdzYCB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogSW4gdGhlIGRldmVsb3BtZW50IGJ1aWxkIGBfLnRlbXBsYXRlYCB1dGlsaXplc1xuICAgICAqIFtzb3VyY2VVUkxzXShodHRwOi8vd3d3Lmh0bWw1cm9ja3MuY29tL2VuL3R1dG9yaWFscy9kZXZlbG9wZXJ0b29scy9zb3VyY2VtYXBzLyN0b2Mtc291cmNldXJsKVxuICAgICAqIGZvciBlYXNpZXIgZGVidWdnaW5nLlxuICAgICAqXG4gICAgICogRm9yIG1vcmUgaW5mb3JtYXRpb24gb24gcHJlY29tcGlsaW5nIHRlbXBsYXRlcyBzZWVcbiAgICAgKiBbbG9kYXNoJ3MgY3VzdG9tIGJ1aWxkcyBkb2N1bWVudGF0aW9uXShodHRwczovL2xvZGFzaC5jb20vY3VzdG9tLWJ1aWxkcykuXG4gICAgICpcbiAgICAgKiBGb3IgbW9yZSBpbmZvcm1hdGlvbiBvbiBDaHJvbWUgZXh0ZW5zaW9uIHNhbmRib3hlcyBzZWVcbiAgICAgKiBbQ2hyb21lJ3MgZXh0ZW5zaW9ucyBkb2N1bWVudGF0aW9uXShodHRwczovL2RldmVsb3Blci5jaHJvbWUuY29tL2V4dGVuc2lvbnMvc2FuZGJveGluZ0V2YWwpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgdGVtcGxhdGUgc3RyaW5nLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfSBbb3B0aW9ucy5lc2NhcGU9Xy50ZW1wbGF0ZVNldHRpbmdzLmVzY2FwZV1cbiAgICAgKiAgVGhlIEhUTUwgXCJlc2NhcGVcIiBkZWxpbWl0ZXIuXG4gICAgICogQHBhcmFtIHtSZWdFeHB9IFtvcHRpb25zLmV2YWx1YXRlPV8udGVtcGxhdGVTZXR0aW5ncy5ldmFsdWF0ZV1cbiAgICAgKiAgVGhlIFwiZXZhbHVhdGVcIiBkZWxpbWl0ZXIuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLmltcG9ydHM9Xy50ZW1wbGF0ZVNldHRpbmdzLmltcG9ydHNdXG4gICAgICogIEFuIG9iamVjdCB0byBpbXBvcnQgaW50byB0aGUgdGVtcGxhdGUgYXMgZnJlZSB2YXJpYWJsZXMuXG4gICAgICogQHBhcmFtIHtSZWdFeHB9IFtvcHRpb25zLmludGVycG9sYXRlPV8udGVtcGxhdGVTZXR0aW5ncy5pbnRlcnBvbGF0ZV1cbiAgICAgKiAgVGhlIFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXIuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnNvdXJjZVVSTD0nbG9kYXNoLnRlbXBsYXRlU291cmNlc1tuXSddXG4gICAgICogIFRoZSBzb3VyY2VVUkwgb2YgdGhlIGNvbXBpbGVkIHRlbXBsYXRlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy52YXJpYWJsZT0nb2JqJ11cbiAgICAgKiAgVGhlIGRhdGEgb2JqZWN0IHZhcmlhYmxlIG5hbWUuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIGNvbXBpbGVkIHRlbXBsYXRlIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXIgdG8gY3JlYXRlIGEgY29tcGlsZWQgdGVtcGxhdGUuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnaGVsbG8gPCU9IHVzZXIgJT4hJyk7XG4gICAgICogY29tcGlsZWQoeyAndXNlcic6ICdmcmVkJyB9KTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gZnJlZCEnXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIEhUTUwgXCJlc2NhcGVcIiBkZWxpbWl0ZXIgdG8gZXNjYXBlIGRhdGEgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJzxiPjwlLSB2YWx1ZSAlPjwvYj4nKTtcbiAgICAgKiBjb21waWxlZCh7ICd2YWx1ZSc6ICc8c2NyaXB0PicgfSk7XG4gICAgICogLy8gPT4gJzxiPiZsdDtzY3JpcHQmZ3Q7PC9iPidcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgXCJldmFsdWF0ZVwiIGRlbGltaXRlciB0byBleGVjdXRlIEphdmFTY3JpcHQgYW5kIGdlbmVyYXRlIEhUTUwuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnPCUgXy5mb3JFYWNoKHVzZXJzLCBmdW5jdGlvbih1c2VyKSB7ICU+PGxpPjwlLSB1c2VyICU+PC9saT48JSB9KTsgJT4nKTtcbiAgICAgKiBjb21waWxlZCh7ICd1c2Vycyc6IFsnZnJlZCcsICdiYXJuZXknXSB9KTtcbiAgICAgKiAvLyA9PiAnPGxpPmZyZWQ8L2xpPjxsaT5iYXJuZXk8L2xpPidcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgaW50ZXJuYWwgYHByaW50YCBmdW5jdGlvbiBpbiBcImV2YWx1YXRlXCIgZGVsaW1pdGVycy5cbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCc8JSBwcmludChcImhlbGxvIFwiICsgdXNlcik7ICU+IScpO1xuICAgICAqIGNvbXBpbGVkKHsgJ3VzZXInOiAnYmFybmV5JyB9KTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gYmFybmV5ISdcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgRVMgdGVtcGxhdGUgbGl0ZXJhbCBkZWxpbWl0ZXIgYXMgYW4gXCJpbnRlcnBvbGF0ZVwiIGRlbGltaXRlci5cbiAgICAgKiAvLyBEaXNhYmxlIHN1cHBvcnQgYnkgcmVwbGFjaW5nIHRoZSBcImludGVycG9sYXRlXCIgZGVsaW1pdGVyLlxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJ2hlbGxvICR7IHVzZXIgfSEnKTtcbiAgICAgKiBjb21waWxlZCh7ICd1c2VyJzogJ3BlYmJsZXMnIH0pO1xuICAgICAqIC8vID0+ICdoZWxsbyBwZWJibGVzISdcbiAgICAgKlxuICAgICAqIC8vIFVzZSBiYWNrc2xhc2hlcyB0byB0cmVhdCBkZWxpbWl0ZXJzIGFzIHBsYWluIHRleHQuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnPCU9IFwiXFxcXDwlLSB2YWx1ZSAlXFxcXD5cIiAlPicpO1xuICAgICAqIGNvbXBpbGVkKHsgJ3ZhbHVlJzogJ2lnbm9yZWQnIH0pO1xuICAgICAqIC8vID0+ICc8JS0gdmFsdWUgJT4nXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIGBpbXBvcnRzYCBvcHRpb24gdG8gaW1wb3J0IGBqUXVlcnlgIGFzIGBqcWAuXG4gICAgICogdmFyIHRleHQgPSAnPCUganEuZWFjaCh1c2VycywgZnVuY3Rpb24odXNlcikgeyAlPjxsaT48JS0gdXNlciAlPjwvbGk+PCUgfSk7ICU+JztcbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKHRleHQsIHsgJ2ltcG9ydHMnOiB7ICdqcSc6IGpRdWVyeSB9IH0pO1xuICAgICAqIGNvbXBpbGVkKHsgJ3VzZXJzJzogWydmcmVkJywgJ2Jhcm5leSddIH0pO1xuICAgICAqIC8vID0+ICc8bGk+ZnJlZDwvbGk+PGxpPmJhcm5leTwvbGk+J1xuICAgICAqXG4gICAgICogLy8gVXNlIHRoZSBgc291cmNlVVJMYCBvcHRpb24gdG8gc3BlY2lmeSBhIGN1c3RvbSBzb3VyY2VVUkwgZm9yIHRoZSB0ZW1wbGF0ZS5cbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCdoZWxsbyA8JT0gdXNlciAlPiEnLCB7ICdzb3VyY2VVUkwnOiAnL2Jhc2ljL2dyZWV0aW5nLmpzdCcgfSk7XG4gICAgICogY29tcGlsZWQoZGF0YSk7XG4gICAgICogLy8gPT4gRmluZCB0aGUgc291cmNlIG9mIFwiZ3JlZXRpbmcuanN0XCIgdW5kZXIgdGhlIFNvdXJjZXMgdGFiIG9yIFJlc291cmNlcyBwYW5lbCBvZiB0aGUgd2ViIGluc3BlY3Rvci5cbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgYHZhcmlhYmxlYCBvcHRpb24gdG8gZW5zdXJlIGEgd2l0aC1zdGF0ZW1lbnQgaXNuJ3QgdXNlZCBpbiB0aGUgY29tcGlsZWQgdGVtcGxhdGUuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnaGkgPCU9IGRhdGEudXNlciAlPiEnLCB7ICd2YXJpYWJsZSc6ICdkYXRhJyB9KTtcbiAgICAgKiBjb21waWxlZC5zb3VyY2U7XG4gICAgICogLy8gPT4gZnVuY3Rpb24oZGF0YSkge1xuICAgICAqIC8vICAgdmFyIF9fdCwgX19wID0gJyc7XG4gICAgICogLy8gICBfX3AgKz0gJ2hpICcgKyAoKF9fdCA9ICggZGF0YS51c2VyICkpID09IG51bGwgPyAnJyA6IF9fdCkgKyAnISc7XG4gICAgICogLy8gICByZXR1cm4gX19wO1xuICAgICAqIC8vIH1cbiAgICAgKlxuICAgICAqIC8vIFVzZSBjdXN0b20gdGVtcGxhdGUgZGVsaW1pdGVycy5cbiAgICAgKiBfLnRlbXBsYXRlU2V0dGluZ3MuaW50ZXJwb2xhdGUgPSAve3soW1xcc1xcU10rPyl9fS9nO1xuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJ2hlbGxvIHt7IHVzZXIgfX0hJyk7XG4gICAgICogY29tcGlsZWQoeyAndXNlcic6ICdtdXN0YWNoZScgfSk7XG4gICAgICogLy8gPT4gJ2hlbGxvIG11c3RhY2hlISdcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgYHNvdXJjZWAgcHJvcGVydHkgdG8gaW5saW5lIGNvbXBpbGVkIHRlbXBsYXRlcyBmb3IgbWVhbmluZ2Z1bFxuICAgICAqIC8vIGxpbmUgbnVtYmVycyBpbiBlcnJvciBtZXNzYWdlcyBhbmQgc3RhY2sgdHJhY2VzLlxuICAgICAqIGZzLndyaXRlRmlsZVN5bmMocGF0aC5qb2luKHByb2Nlc3MuY3dkKCksICdqc3QuanMnKSwgJ1xcXG4gICAgICogICB2YXIgSlNUID0ge1xcXG4gICAgICogICAgIFwibWFpblwiOiAnICsgXy50ZW1wbGF0ZShtYWluVGV4dCkuc291cmNlICsgJ1xcXG4gICAgICogICB9O1xcXG4gICAgICogJyk7XG4gICAgICovXG4gICAgZnVuY3Rpb24gdGVtcGxhdGUoc3RyaW5nLCBvcHRpb25zLCBndWFyZCkge1xuICAgICAgLy8gQmFzZWQgb24gSm9obiBSZXNpZydzIGB0bXBsYCBpbXBsZW1lbnRhdGlvblxuICAgICAgLy8gKGh0dHA6Ly9lam9obi5vcmcvYmxvZy9qYXZhc2NyaXB0LW1pY3JvLXRlbXBsYXRpbmcvKVxuICAgICAgLy8gYW5kIExhdXJhIERva3Rvcm92YSdzIGRvVC5qcyAoaHR0cHM6Ly9naXRodWIuY29tL29sYWRvL2RvVCkuXG4gICAgICB2YXIgc2V0dGluZ3MgPSBsb2Rhc2gudGVtcGxhdGVTZXR0aW5ncztcblxuICAgICAgaWYgKGd1YXJkICYmIGlzSXRlcmF0ZWVDYWxsKHN0cmluZywgb3B0aW9ucywgZ3VhcmQpKSB7XG4gICAgICAgIG9wdGlvbnMgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgb3B0aW9ucyA9IGFzc2lnbkluV2l0aCh7fSwgb3B0aW9ucywgc2V0dGluZ3MsIGN1c3RvbURlZmF1bHRzQXNzaWduSW4pO1xuXG4gICAgICB2YXIgaW1wb3J0cyA9IGFzc2lnbkluV2l0aCh7fSwgb3B0aW9ucy5pbXBvcnRzLCBzZXR0aW5ncy5pbXBvcnRzLCBjdXN0b21EZWZhdWx0c0Fzc2lnbkluKSxcbiAgICAgICAgICBpbXBvcnRzS2V5cyA9IGtleXMoaW1wb3J0cyksXG4gICAgICAgICAgaW1wb3J0c1ZhbHVlcyA9IGJhc2VWYWx1ZXMoaW1wb3J0cywgaW1wb3J0c0tleXMpO1xuXG4gICAgICB2YXIgaXNFc2NhcGluZyxcbiAgICAgICAgICBpc0V2YWx1YXRpbmcsXG4gICAgICAgICAgaW5kZXggPSAwLFxuICAgICAgICAgIGludGVycG9sYXRlID0gb3B0aW9ucy5pbnRlcnBvbGF0ZSB8fCByZU5vTWF0Y2gsXG4gICAgICAgICAgc291cmNlID0gXCJfX3AgKz0gJ1wiO1xuXG4gICAgICAvLyBDb21waWxlIHRoZSByZWdleHAgdG8gbWF0Y2ggZWFjaCBkZWxpbWl0ZXIuXG4gICAgICB2YXIgcmVEZWxpbWl0ZXJzID0gUmVnRXhwKFxuICAgICAgICAob3B0aW9ucy5lc2NhcGUgfHwgcmVOb01hdGNoKS5zb3VyY2UgKyAnfCcgK1xuICAgICAgICBpbnRlcnBvbGF0ZS5zb3VyY2UgKyAnfCcgK1xuICAgICAgICAoaW50ZXJwb2xhdGUgPT09IHJlSW50ZXJwb2xhdGUgPyByZUVzVGVtcGxhdGUgOiByZU5vTWF0Y2gpLnNvdXJjZSArICd8JyArXG4gICAgICAgIChvcHRpb25zLmV2YWx1YXRlIHx8IHJlTm9NYXRjaCkuc291cmNlICsgJ3wkJ1xuICAgICAgLCAnZycpO1xuXG4gICAgICAvLyBVc2UgYSBzb3VyY2VVUkwgZm9yIGVhc2llciBkZWJ1Z2dpbmcuXG4gICAgICAvLyBUaGUgc291cmNlVVJMIGdldHMgaW5qZWN0ZWQgaW50byB0aGUgc291cmNlIHRoYXQncyBldmFsLWVkLCBzbyBiZSBjYXJlZnVsXG4gICAgICAvLyB3aXRoIGxvb2t1cCAoaW4gY2FzZSBvZiBlLmcuIHByb3RvdHlwZSBwb2xsdXRpb24pLCBhbmQgc3RyaXAgbmV3bGluZXMgaWYgYW55LlxuICAgICAgLy8gQSBuZXdsaW5lIHdvdWxkbid0IGJlIGEgdmFsaWQgc291cmNlVVJMIGFueXdheSwgYW5kIGl0J2QgZW5hYmxlIGNvZGUgaW5qZWN0aW9uLlxuICAgICAgdmFyIHNvdXJjZVVSTCA9ICcvLyMgc291cmNlVVJMPScgK1xuICAgICAgICAoaGFzT3duUHJvcGVydHkuY2FsbChvcHRpb25zLCAnc291cmNlVVJMJylcbiAgICAgICAgICA/IChvcHRpb25zLnNvdXJjZVVSTCArICcnKS5yZXBsYWNlKC9bXFxyXFxuXS9nLCAnICcpXG4gICAgICAgICAgOiAoJ2xvZGFzaC50ZW1wbGF0ZVNvdXJjZXNbJyArICgrK3RlbXBsYXRlQ291bnRlcikgKyAnXScpXG4gICAgICAgICkgKyAnXFxuJztcblxuICAgICAgc3RyaW5nLnJlcGxhY2UocmVEZWxpbWl0ZXJzLCBmdW5jdGlvbihtYXRjaCwgZXNjYXBlVmFsdWUsIGludGVycG9sYXRlVmFsdWUsIGVzVGVtcGxhdGVWYWx1ZSwgZXZhbHVhdGVWYWx1ZSwgb2Zmc2V0KSB7XG4gICAgICAgIGludGVycG9sYXRlVmFsdWUgfHwgKGludGVycG9sYXRlVmFsdWUgPSBlc1RlbXBsYXRlVmFsdWUpO1xuXG4gICAgICAgIC8vIEVzY2FwZSBjaGFyYWN0ZXJzIHRoYXQgY2FuJ3QgYmUgaW5jbHVkZWQgaW4gc3RyaW5nIGxpdGVyYWxzLlxuICAgICAgICBzb3VyY2UgKz0gc3RyaW5nLnNsaWNlKGluZGV4LCBvZmZzZXQpLnJlcGxhY2UocmVVbmVzY2FwZWRTdHJpbmcsIGVzY2FwZVN0cmluZ0NoYXIpO1xuXG4gICAgICAgIC8vIFJlcGxhY2UgZGVsaW1pdGVycyB3aXRoIHNuaXBwZXRzLlxuICAgICAgICBpZiAoZXNjYXBlVmFsdWUpIHtcbiAgICAgICAgICBpc0VzY2FwaW5nID0gdHJ1ZTtcbiAgICAgICAgICBzb3VyY2UgKz0gXCInICtcXG5fX2UoXCIgKyBlc2NhcGVWYWx1ZSArIFwiKSArXFxuJ1wiO1xuICAgICAgICB9XG4gICAgICAgIGlmIChldmFsdWF0ZVZhbHVlKSB7XG4gICAgICAgICAgaXNFdmFsdWF0aW5nID0gdHJ1ZTtcbiAgICAgICAgICBzb3VyY2UgKz0gXCInO1xcblwiICsgZXZhbHVhdGVWYWx1ZSArIFwiO1xcbl9fcCArPSAnXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGludGVycG9sYXRlVmFsdWUpIHtcbiAgICAgICAgICBzb3VyY2UgKz0gXCInICtcXG4oKF9fdCA9IChcIiArIGludGVycG9sYXRlVmFsdWUgKyBcIikpID09IG51bGwgPyAnJyA6IF9fdCkgK1xcbidcIjtcbiAgICAgICAgfVxuICAgICAgICBpbmRleCA9IG9mZnNldCArIG1hdGNoLmxlbmd0aDtcblxuICAgICAgICAvLyBUaGUgSlMgZW5naW5lIGVtYmVkZGVkIGluIEFkb2JlIHByb2R1Y3RzIG5lZWRzIGBtYXRjaGAgcmV0dXJuZWQgaW5cbiAgICAgICAgLy8gb3JkZXIgdG8gcHJvZHVjZSB0aGUgY29ycmVjdCBgb2Zmc2V0YCB2YWx1ZS5cbiAgICAgICAgcmV0dXJuIG1hdGNoO1xuICAgICAgfSk7XG5cbiAgICAgIHNvdXJjZSArPSBcIic7XFxuXCI7XG5cbiAgICAgIC8vIElmIGB2YXJpYWJsZWAgaXMgbm90IHNwZWNpZmllZCB3cmFwIGEgd2l0aC1zdGF0ZW1lbnQgYXJvdW5kIHRoZSBnZW5lcmF0ZWRcbiAgICAgIC8vIGNvZGUgdG8gYWRkIHRoZSBkYXRhIG9iamVjdCB0byB0aGUgdG9wIG9mIHRoZSBzY29wZSBjaGFpbi5cbiAgICAgIC8vIExpa2Ugd2l0aCBzb3VyY2VVUkwsIHdlIHRha2UgY2FyZSB0byBub3QgY2hlY2sgdGhlIG9wdGlvbidzIHByb3RvdHlwZSxcbiAgICAgIC8vIGFzIHRoaXMgY29uZmlndXJhdGlvbiBpcyBhIGNvZGUgaW5qZWN0aW9uIHZlY3Rvci5cbiAgICAgIHZhciB2YXJpYWJsZSA9IGhhc093blByb3BlcnR5LmNhbGwob3B0aW9ucywgJ3ZhcmlhYmxlJykgJiYgb3B0aW9ucy52YXJpYWJsZTtcbiAgICAgIGlmICghdmFyaWFibGUpIHtcbiAgICAgICAgc291cmNlID0gJ3dpdGggKG9iaikge1xcbicgKyBzb3VyY2UgKyAnXFxufVxcbic7XG4gICAgICB9XG4gICAgICAvLyBDbGVhbnVwIGNvZGUgYnkgc3RyaXBwaW5nIGVtcHR5IHN0cmluZ3MuXG4gICAgICBzb3VyY2UgPSAoaXNFdmFsdWF0aW5nID8gc291cmNlLnJlcGxhY2UocmVFbXB0eVN0cmluZ0xlYWRpbmcsICcnKSA6IHNvdXJjZSlcbiAgICAgICAgLnJlcGxhY2UocmVFbXB0eVN0cmluZ01pZGRsZSwgJyQxJylcbiAgICAgICAgLnJlcGxhY2UocmVFbXB0eVN0cmluZ1RyYWlsaW5nLCAnJDE7Jyk7XG5cbiAgICAgIC8vIEZyYW1lIGNvZGUgYXMgdGhlIGZ1bmN0aW9uIGJvZHkuXG4gICAgICBzb3VyY2UgPSAnZnVuY3Rpb24oJyArICh2YXJpYWJsZSB8fCAnb2JqJykgKyAnKSB7XFxuJyArXG4gICAgICAgICh2YXJpYWJsZVxuICAgICAgICAgID8gJydcbiAgICAgICAgICA6ICdvYmogfHwgKG9iaiA9IHt9KTtcXG4nXG4gICAgICAgICkgK1xuICAgICAgICBcInZhciBfX3QsIF9fcCA9ICcnXCIgK1xuICAgICAgICAoaXNFc2NhcGluZ1xuICAgICAgICAgICA/ICcsIF9fZSA9IF8uZXNjYXBlJ1xuICAgICAgICAgICA6ICcnXG4gICAgICAgICkgK1xuICAgICAgICAoaXNFdmFsdWF0aW5nXG4gICAgICAgICAgPyAnLCBfX2ogPSBBcnJheS5wcm90b3R5cGUuam9pbjtcXG4nICtcbiAgICAgICAgICAgIFwiZnVuY3Rpb24gcHJpbnQoKSB7IF9fcCArPSBfX2ouY2FsbChhcmd1bWVudHMsICcnKSB9XFxuXCJcbiAgICAgICAgICA6ICc7XFxuJ1xuICAgICAgICApICtcbiAgICAgICAgc291cmNlICtcbiAgICAgICAgJ3JldHVybiBfX3BcXG59JztcblxuICAgICAgdmFyIHJlc3VsdCA9IGF0dGVtcHQoZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBGdW5jdGlvbihpbXBvcnRzS2V5cywgc291cmNlVVJMICsgJ3JldHVybiAnICsgc291cmNlKVxuICAgICAgICAgIC5hcHBseSh1bmRlZmluZWQsIGltcG9ydHNWYWx1ZXMpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFByb3ZpZGUgdGhlIGNvbXBpbGVkIGZ1bmN0aW9uJ3Mgc291cmNlIGJ5IGl0cyBgdG9TdHJpbmdgIG1ldGhvZCBvclxuICAgICAgLy8gdGhlIGBzb3VyY2VgIHByb3BlcnR5IGFzIGEgY29udmVuaWVuY2UgZm9yIGlubGluaW5nIGNvbXBpbGVkIHRlbXBsYXRlcy5cbiAgICAgIHJlc3VsdC5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICBpZiAoaXNFcnJvcihyZXN1bHQpKSB7XG4gICAgICAgIHRocm93IHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AsIGFzIGEgd2hvbGUsIHRvIGxvd2VyIGNhc2UganVzdCBsaWtlXG4gICAgICogW1N0cmluZyN0b0xvd2VyQ2FzZV0oaHR0cHM6Ly9tZG4uaW8vdG9Mb3dlckNhc2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgbG93ZXIgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvTG93ZXIoJy0tRm9vLUJhci0tJyk7XG4gICAgICogLy8gPT4gJy0tZm9vLWJhci0tJ1xuICAgICAqXG4gICAgICogXy50b0xvd2VyKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vYmFyJ1xuICAgICAqXG4gICAgICogXy50b0xvd2VyKCdfX0ZPT19CQVJfXycpO1xuICAgICAqIC8vID0+ICdfX2Zvb19iYXJfXydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0xvd2VyKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdG9TdHJpbmcodmFsdWUpLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AsIGFzIGEgd2hvbGUsIHRvIHVwcGVyIGNhc2UganVzdCBsaWtlXG4gICAgICogW1N0cmluZyN0b1VwcGVyQ2FzZV0oaHR0cHM6Ly9tZG4uaW8vdG9VcHBlckNhc2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdXBwZXIgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvVXBwZXIoJy0tZm9vLWJhci0tJyk7XG4gICAgICogLy8gPT4gJy0tRk9PLUJBUi0tJ1xuICAgICAqXG4gICAgICogXy50b1VwcGVyKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnRk9PQkFSJ1xuICAgICAqXG4gICAgICogXy50b1VwcGVyKCdfX2Zvb19iYXJfXycpO1xuICAgICAqIC8vID0+ICdfX0ZPT19CQVJfXydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b1VwcGVyKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdG9TdHJpbmcodmFsdWUpLnRvVXBwZXJDYXNlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBsZWFkaW5nIGFuZCB0cmFpbGluZyB3aGl0ZXNwYWNlIG9yIHNwZWNpZmllZCBjaGFyYWN0ZXJzIGZyb20gYHN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdHJpbS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPXdoaXRlc3BhY2VdIFRoZSBjaGFyYWN0ZXJzIHRvIHRyaW0uXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB0cmltbWVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50cmltKCcgIGFiYyAgJyk7XG4gICAgICogLy8gPT4gJ2FiYydcbiAgICAgKlxuICAgICAqIF8udHJpbSgnLV8tYWJjLV8tJywgJ18tJyk7XG4gICAgICogLy8gPT4gJ2FiYydcbiAgICAgKlxuICAgICAqIF8ubWFwKFsnICBmb28gICcsICcgIGJhciAgJ10sIF8udHJpbSk7XG4gICAgICogLy8gPT4gWydmb28nLCAnYmFyJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cmltKHN0cmluZywgY2hhcnMsIGd1YXJkKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgaWYgKHN0cmluZyAmJiAoZ3VhcmQgfHwgY2hhcnMgPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKHJlVHJpbSwgJycpO1xuICAgICAgfVxuICAgICAgaWYgKCFzdHJpbmcgfHwgIShjaGFycyA9IGJhc2VUb1N0cmluZyhjaGFycykpKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmc7XG4gICAgICB9XG4gICAgICB2YXIgc3RyU3ltYm9scyA9IHN0cmluZ1RvQXJyYXkoc3RyaW5nKSxcbiAgICAgICAgICBjaHJTeW1ib2xzID0gc3RyaW5nVG9BcnJheShjaGFycyksXG4gICAgICAgICAgc3RhcnQgPSBjaGFyc1N0YXJ0SW5kZXgoc3RyU3ltYm9scywgY2hyU3ltYm9scyksXG4gICAgICAgICAgZW5kID0gY2hhcnNFbmRJbmRleChzdHJTeW1ib2xzLCBjaHJTeW1ib2xzKSArIDE7XG5cbiAgICAgIHJldHVybiBjYXN0U2xpY2Uoc3RyU3ltYm9scywgc3RhcnQsIGVuZCkuam9pbignJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0cmFpbGluZyB3aGl0ZXNwYWNlIG9yIHNwZWNpZmllZCBjaGFyYWN0ZXJzIGZyb20gYHN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdHJpbS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPXdoaXRlc3BhY2VdIFRoZSBjaGFyYWN0ZXJzIHRvIHRyaW0uXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB0cmltbWVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50cmltRW5kKCcgIGFiYyAgJyk7XG4gICAgICogLy8gPT4gJyAgYWJjJ1xuICAgICAqXG4gICAgICogXy50cmltRW5kKCctXy1hYmMtXy0nLCAnXy0nKTtcbiAgICAgKiAvLyA9PiAnLV8tYWJjJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRyaW1FbmQoc3RyaW5nLCBjaGFycywgZ3VhcmQpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBpZiAoc3RyaW5nICYmIChndWFyZCB8fCBjaGFycyA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UocmVUcmltRW5kLCAnJyk7XG4gICAgICB9XG4gICAgICBpZiAoIXN0cmluZyB8fCAhKGNoYXJzID0gYmFzZVRvU3RyaW5nKGNoYXJzKSkpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZztcbiAgICAgIH1cbiAgICAgIHZhciBzdHJTeW1ib2xzID0gc3RyaW5nVG9BcnJheShzdHJpbmcpLFxuICAgICAgICAgIGVuZCA9IGNoYXJzRW5kSW5kZXgoc3RyU3ltYm9scywgc3RyaW5nVG9BcnJheShjaGFycykpICsgMTtcblxuICAgICAgcmV0dXJuIGNhc3RTbGljZShzdHJTeW1ib2xzLCAwLCBlbmQpLmpvaW4oJycpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgbGVhZGluZyB3aGl0ZXNwYWNlIG9yIHNwZWNpZmllZCBjaGFyYWN0ZXJzIGZyb20gYHN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdHJpbS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPXdoaXRlc3BhY2VdIFRoZSBjaGFyYWN0ZXJzIHRvIHRyaW0uXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB0cmltbWVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50cmltU3RhcnQoJyAgYWJjICAnKTtcbiAgICAgKiAvLyA9PiAnYWJjICAnXG4gICAgICpcbiAgICAgKiBfLnRyaW1TdGFydCgnLV8tYWJjLV8tJywgJ18tJyk7XG4gICAgICogLy8gPT4gJ2FiYy1fLSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cmltU3RhcnQoc3RyaW5nLCBjaGFycywgZ3VhcmQpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBpZiAoc3RyaW5nICYmIChndWFyZCB8fCBjaGFycyA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UocmVUcmltU3RhcnQsICcnKTtcbiAgICAgIH1cbiAgICAgIGlmICghc3RyaW5nIHx8ICEoY2hhcnMgPSBiYXNlVG9TdHJpbmcoY2hhcnMpKSkge1xuICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgICAgfVxuICAgICAgdmFyIHN0clN5bWJvbHMgPSBzdHJpbmdUb0FycmF5KHN0cmluZyksXG4gICAgICAgICAgc3RhcnQgPSBjaGFyc1N0YXJ0SW5kZXgoc3RyU3ltYm9scywgc3RyaW5nVG9BcnJheShjaGFycykpO1xuXG4gICAgICByZXR1cm4gY2FzdFNsaWNlKHN0clN5bWJvbHMsIHN0YXJ0KS5qb2luKCcnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUcnVuY2F0ZXMgYHN0cmluZ2AgaWYgaXQncyBsb25nZXIgdGhhbiB0aGUgZ2l2ZW4gbWF4aW11bSBzdHJpbmcgbGVuZ3RoLlxuICAgICAqIFRoZSBsYXN0IGNoYXJhY3RlcnMgb2YgdGhlIHRydW5jYXRlZCBzdHJpbmcgYXJlIHJlcGxhY2VkIHdpdGggdGhlIG9taXNzaW9uXG4gICAgICogc3RyaW5nIHdoaWNoIGRlZmF1bHRzIHRvIFwiLi4uXCIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdHJ1bmNhdGUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmxlbmd0aD0zMF0gVGhlIG1heGltdW0gc3RyaW5nIGxlbmd0aC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMub21pc3Npb249Jy4uLiddIFRoZSBzdHJpbmcgdG8gaW5kaWNhdGUgdGV4dCBpcyBvbWl0dGVkLlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfHN0cmluZ30gW29wdGlvbnMuc2VwYXJhdG9yXSBUaGUgc2VwYXJhdG9yIHBhdHRlcm4gdG8gdHJ1bmNhdGUgdG8uXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdHJ1bmNhdGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50cnVuY2F0ZSgnaGktZGlkZGx5LWhvIHRoZXJlLCBuZWlnaGJvcmlubycpO1xuICAgICAqIC8vID0+ICdoaS1kaWRkbHktaG8gdGhlcmUsIG5laWdoYm8uLi4nXG4gICAgICpcbiAgICAgKiBfLnRydW5jYXRlKCdoaS1kaWRkbHktaG8gdGhlcmUsIG5laWdoYm9yaW5vJywge1xuICAgICAqICAgJ2xlbmd0aCc6IDI0LFxuICAgICAqICAgJ3NlcGFyYXRvcic6ICcgJ1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+ICdoaS1kaWRkbHktaG8gdGhlcmUsLi4uJ1xuICAgICAqXG4gICAgICogXy50cnVuY2F0ZSgnaGktZGlkZGx5LWhvIHRoZXJlLCBuZWlnaGJvcmlubycsIHtcbiAgICAgKiAgICdsZW5ndGgnOiAyNCxcbiAgICAgKiAgICdzZXBhcmF0b3InOiAvLD8gKy9cbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiAnaGktZGlkZGx5LWhvIHRoZXJlLi4uJ1xuICAgICAqXG4gICAgICogXy50cnVuY2F0ZSgnaGktZGlkZGx5LWhvIHRoZXJlLCBuZWlnaGJvcmlubycsIHtcbiAgICAgKiAgICdvbWlzc2lvbic6ICcgWy4uLl0nXG4gICAgICogfSk7XG4gICAgICogLy8gPT4gJ2hpLWRpZGRseS1obyB0aGVyZSwgbmVpZyBbLi4uXSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cnVuY2F0ZShzdHJpbmcsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBERUZBVUxUX1RSVU5DX0xFTkdUSCxcbiAgICAgICAgICBvbWlzc2lvbiA9IERFRkFVTFRfVFJVTkNfT01JU1NJT047XG5cbiAgICAgIGlmIChpc09iamVjdChvcHRpb25zKSkge1xuICAgICAgICB2YXIgc2VwYXJhdG9yID0gJ3NlcGFyYXRvcicgaW4gb3B0aW9ucyA/IG9wdGlvbnMuc2VwYXJhdG9yIDogc2VwYXJhdG9yO1xuICAgICAgICBsZW5ndGggPSAnbGVuZ3RoJyBpbiBvcHRpb25zID8gdG9JbnRlZ2VyKG9wdGlvbnMubGVuZ3RoKSA6IGxlbmd0aDtcbiAgICAgICAgb21pc3Npb24gPSAnb21pc3Npb24nIGluIG9wdGlvbnMgPyBiYXNlVG9TdHJpbmcob3B0aW9ucy5vbWlzc2lvbikgOiBvbWlzc2lvbjtcbiAgICAgIH1cbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG5cbiAgICAgIHZhciBzdHJMZW5ndGggPSBzdHJpbmcubGVuZ3RoO1xuICAgICAgaWYgKGhhc1VuaWNvZGUoc3RyaW5nKSkge1xuICAgICAgICB2YXIgc3RyU3ltYm9scyA9IHN0cmluZ1RvQXJyYXkoc3RyaW5nKTtcbiAgICAgICAgc3RyTGVuZ3RoID0gc3RyU3ltYm9scy5sZW5ndGg7XG4gICAgICB9XG4gICAgICBpZiAobGVuZ3RoID49IHN0ckxlbmd0aCkge1xuICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgICAgfVxuICAgICAgdmFyIGVuZCA9IGxlbmd0aCAtIHN0cmluZ1NpemUob21pc3Npb24pO1xuICAgICAgaWYgKGVuZCA8IDEpIHtcbiAgICAgICAgcmV0dXJuIG9taXNzaW9uO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IHN0clN5bWJvbHNcbiAgICAgICAgPyBjYXN0U2xpY2Uoc3RyU3ltYm9scywgMCwgZW5kKS5qb2luKCcnKVxuICAgICAgICA6IHN0cmluZy5zbGljZSgwLCBlbmQpO1xuXG4gICAgICBpZiAoc2VwYXJhdG9yID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdCArIG9taXNzaW9uO1xuICAgICAgfVxuICAgICAgaWYgKHN0clN5bWJvbHMpIHtcbiAgICAgICAgZW5kICs9IChyZXN1bHQubGVuZ3RoIC0gZW5kKTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1JlZ0V4cChzZXBhcmF0b3IpKSB7XG4gICAgICAgIGlmIChzdHJpbmcuc2xpY2UoZW5kKS5zZWFyY2goc2VwYXJhdG9yKSkge1xuICAgICAgICAgIHZhciBtYXRjaCxcbiAgICAgICAgICAgICAgc3Vic3RyaW5nID0gcmVzdWx0O1xuXG4gICAgICAgICAgaWYgKCFzZXBhcmF0b3IuZ2xvYmFsKSB7XG4gICAgICAgICAgICBzZXBhcmF0b3IgPSBSZWdFeHAoc2VwYXJhdG9yLnNvdXJjZSwgdG9TdHJpbmcocmVGbGFncy5leGVjKHNlcGFyYXRvcikpICsgJ2cnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2VwYXJhdG9yLmxhc3RJbmRleCA9IDA7XG4gICAgICAgICAgd2hpbGUgKChtYXRjaCA9IHNlcGFyYXRvci5leGVjKHN1YnN0cmluZykpKSB7XG4gICAgICAgICAgICB2YXIgbmV3RW5kID0gbWF0Y2guaW5kZXg7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5zbGljZSgwLCBuZXdFbmQgPT09IHVuZGVmaW5lZCA/IGVuZCA6IG5ld0VuZCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoc3RyaW5nLmluZGV4T2YoYmFzZVRvU3RyaW5nKHNlcGFyYXRvciksIGVuZCkgIT0gZW5kKSB7XG4gICAgICAgIHZhciBpbmRleCA9IHJlc3VsdC5sYXN0SW5kZXhPZihzZXBhcmF0b3IpO1xuICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5zbGljZSgwLCBpbmRleCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQgKyBvbWlzc2lvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaW52ZXJzZSBvZiBgXy5lc2NhcGVgOyB0aGlzIG1ldGhvZCBjb252ZXJ0cyB0aGUgSFRNTCBlbnRpdGllc1xuICAgICAqIGAmYW1wO2AsIGAmbHQ7YCwgYCZndDtgLCBgJnF1b3Q7YCwgYW5kIGAmIzM5O2AgaW4gYHN0cmluZ2AgdG9cbiAgICAgKiB0aGVpciBjb3JyZXNwb25kaW5nIGNoYXJhY3RlcnMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogTm8gb3RoZXIgSFRNTCBlbnRpdGllcyBhcmUgdW5lc2NhcGVkLiBUbyB1bmVzY2FwZSBhZGRpdGlvbmFsXG4gICAgICogSFRNTCBlbnRpdGllcyB1c2UgYSB0aGlyZC1wYXJ0eSBsaWJyYXJ5IGxpa2UgW19oZV9dKGh0dHBzOi8vbXRocy5iZS9oZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC42LjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdW5lc2NhcGUuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdW5lc2NhcGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51bmVzY2FwZSgnZnJlZCwgYmFybmV5LCAmYW1wOyBwZWJibGVzJyk7XG4gICAgICogLy8gPT4gJ2ZyZWQsIGJhcm5leSwgJiBwZWJibGVzJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuZXNjYXBlKHN0cmluZykge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHJldHVybiAoc3RyaW5nICYmIHJlSGFzRXNjYXBlZEh0bWwudGVzdChzdHJpbmcpKVxuICAgICAgICA/IHN0cmluZy5yZXBsYWNlKHJlRXNjYXBlZEh0bWwsIHVuZXNjYXBlSHRtbENoYXIpXG4gICAgICAgIDogc3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgLCBhcyBzcGFjZSBzZXBhcmF0ZWQgd29yZHMsIHRvIHVwcGVyIGNhc2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB1cHBlciBjYXNlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udXBwZXJDYXNlKCctLWZvby1iYXInKTtcbiAgICAgKiAvLyA9PiAnRk9PIEJBUidcbiAgICAgKlxuICAgICAqIF8udXBwZXJDYXNlKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnRk9PIEJBUidcbiAgICAgKlxuICAgICAqIF8udXBwZXJDYXNlKCdfX2Zvb19iYXJfXycpO1xuICAgICAqIC8vID0+ICdGT08gQkFSJ1xuICAgICAqL1xuICAgIHZhciB1cHBlckNhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyAnICcgOiAnJykgKyB3b3JkLnRvVXBwZXJDYXNlKCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgZmlyc3QgY2hhcmFjdGVyIG9mIGBzdHJpbmdgIHRvIHVwcGVyIGNhc2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVwcGVyRmlyc3QoJ2ZyZWQnKTtcbiAgICAgKiAvLyA9PiAnRnJlZCdcbiAgICAgKlxuICAgICAqIF8udXBwZXJGaXJzdCgnRlJFRCcpO1xuICAgICAqIC8vID0+ICdGUkVEJ1xuICAgICAqL1xuICAgIHZhciB1cHBlckZpcnN0ID0gY3JlYXRlQ2FzZUZpcnN0KCd0b1VwcGVyQ2FzZScpO1xuXG4gICAgLyoqXG4gICAgICogU3BsaXRzIGBzdHJpbmdgIGludG8gYW4gYXJyYXkgb2YgaXRzIHdvcmRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtSZWdFeHB8c3RyaW5nfSBbcGF0dGVybl0gVGhlIHBhdHRlcm4gdG8gbWF0Y2ggd29yZHMuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHdvcmRzIG9mIGBzdHJpbmdgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLndvcmRzKCdmcmVkLCBiYXJuZXksICYgcGViYmxlcycpO1xuICAgICAqIC8vID0+IFsnZnJlZCcsICdiYXJuZXknLCAncGViYmxlcyddXG4gICAgICpcbiAgICAgKiBfLndvcmRzKCdmcmVkLCBiYXJuZXksICYgcGViYmxlcycsIC9bXiwgXSsvZyk7XG4gICAgICogLy8gPT4gWydmcmVkJywgJ2Jhcm5leScsICcmJywgJ3BlYmJsZXMnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdvcmRzKHN0cmluZywgcGF0dGVybiwgZ3VhcmQpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBwYXR0ZXJuID0gZ3VhcmQgPyB1bmRlZmluZWQgOiBwYXR0ZXJuO1xuXG4gICAgICBpZiAocGF0dGVybiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBoYXNVbmljb2RlV29yZChzdHJpbmcpID8gdW5pY29kZVdvcmRzKHN0cmluZykgOiBhc2NpaVdvcmRzKHN0cmluZyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gc3RyaW5nLm1hdGNoKHBhdHRlcm4pIHx8IFtdO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIEF0dGVtcHRzIHRvIGludm9rZSBgZnVuY2AsIHJldHVybmluZyBlaXRoZXIgdGhlIHJlc3VsdCBvciB0aGUgY2F1Z2h0IGVycm9yXG4gICAgICogb2JqZWN0LiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHMgYXJlIHByb3ZpZGVkIHRvIGBmdW5jYCB3aGVuIGl0J3MgaW52b2tlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXR0ZW1wdC5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSBgZnVuY2Agd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYGZ1bmNgIHJlc3VsdCBvciBlcnJvciBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIC8vIEF2b2lkIHRocm93aW5nIGVycm9ycyBmb3IgaW52YWxpZCBzZWxlY3RvcnMuXG4gICAgICogdmFyIGVsZW1lbnRzID0gXy5hdHRlbXB0KGZ1bmN0aW9uKHNlbGVjdG9yKSB7XG4gICAgICogICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG4gICAgICogfSwgJz5fPicpO1xuICAgICAqXG4gICAgICogaWYgKF8uaXNFcnJvcihlbGVtZW50cykpIHtcbiAgICAgKiAgIGVsZW1lbnRzID0gW107XG4gICAgICogfVxuICAgICAqL1xuICAgIHZhciBhdHRlbXB0ID0gYmFzZVJlc3QoZnVuY3Rpb24oZnVuYywgYXJncykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGFwcGx5KGZ1bmMsIHVuZGVmaW5lZCwgYXJncyk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBpc0Vycm9yKGUpID8gZSA6IG5ldyBFcnJvcihlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEJpbmRzIG1ldGhvZHMgb2YgYW4gb2JqZWN0IHRvIHRoZSBvYmplY3QgaXRzZWxmLCBvdmVyd3JpdGluZyB0aGUgZXhpc3RpbmdcbiAgICAgKiBtZXRob2QuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgZG9lc24ndCBzZXQgdGhlIFwibGVuZ3RoXCIgcHJvcGVydHkgb2YgYm91bmQgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gYmluZCBhbmQgYXNzaWduIHRoZSBib3VuZCBtZXRob2RzIHRvLlxuICAgICAqIEBwYXJhbSB7Li4uKHN0cmluZ3xzdHJpbmdbXSl9IG1ldGhvZE5hbWVzIFRoZSBvYmplY3QgbWV0aG9kIG5hbWVzIHRvIGJpbmQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHZpZXcgPSB7XG4gICAgICogICAnbGFiZWwnOiAnZG9jcycsXG4gICAgICogICAnY2xpY2snOiBmdW5jdGlvbigpIHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coJ2NsaWNrZWQgJyArIHRoaXMubGFiZWwpO1xuICAgICAqICAgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBfLmJpbmRBbGwodmlldywgWydjbGljayddKTtcbiAgICAgKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgdmlldy5jbGljayk7XG4gICAgICogLy8gPT4gTG9ncyAnY2xpY2tlZCBkb2NzJyB3aGVuIGNsaWNrZWQuXG4gICAgICovXG4gICAgdmFyIGJpbmRBbGwgPSBmbGF0UmVzdChmdW5jdGlvbihvYmplY3QsIG1ldGhvZE5hbWVzKSB7XG4gICAgICBhcnJheUVhY2gobWV0aG9kTmFtZXMsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgICBrZXkgPSB0b0tleShrZXkpO1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIGJpbmQob2JqZWN0W2tleV0sIG9iamVjdCkpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaXRlcmF0ZXMgb3ZlciBgcGFpcnNgIGFuZCBpbnZva2VzIHRoZSBjb3JyZXNwb25kaW5nXG4gICAgICogZnVuY3Rpb24gb2YgdGhlIGZpcnN0IHByZWRpY2F0ZSB0byByZXR1cm4gdHJ1dGh5LiBUaGUgcHJlZGljYXRlLWZ1bmN0aW9uXG4gICAgICogcGFpcnMgYXJlIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgYW5kIGFyZ3VtZW50cyBvZiB0aGUgY3JlYXRlZFxuICAgICAqIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwYWlycyBUaGUgcHJlZGljYXRlLWZ1bmN0aW9uIHBhaXJzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbXBvc2l0ZSBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGZ1bmMgPSBfLmNvbmQoW1xuICAgICAqICAgW18ubWF0Y2hlcyh7ICdhJzogMSB9KSwgICAgICAgICAgIF8uY29uc3RhbnQoJ21hdGNoZXMgQScpXSxcbiAgICAgKiAgIFtfLmNvbmZvcm1zKHsgJ2InOiBfLmlzTnVtYmVyIH0pLCBfLmNvbnN0YW50KCdtYXRjaGVzIEInKV0sXG4gICAgICogICBbXy5zdHViVHJ1ZSwgICAgICAgICAgICAgICAgICAgICAgXy5jb25zdGFudCgnbm8gbWF0Y2gnKV1cbiAgICAgKiBdKTtcbiAgICAgKlxuICAgICAqIGZ1bmMoeyAnYSc6IDEsICdiJzogMiB9KTtcbiAgICAgKiAvLyA9PiAnbWF0Y2hlcyBBJ1xuICAgICAqXG4gICAgICogZnVuYyh7ICdhJzogMCwgJ2InOiAxIH0pO1xuICAgICAqIC8vID0+ICdtYXRjaGVzIEInXG4gICAgICpcbiAgICAgKiBmdW5jKHsgJ2EnOiAnMScsICdiJzogJzInIH0pO1xuICAgICAqIC8vID0+ICdubyBtYXRjaCdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb25kKHBhaXJzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gcGFpcnMgPT0gbnVsbCA/IDAgOiBwYWlycy5sZW5ndGgsXG4gICAgICAgICAgdG9JdGVyYXRlZSA9IGdldEl0ZXJhdGVlKCk7XG5cbiAgICAgIHBhaXJzID0gIWxlbmd0aCA/IFtdIDogYXJyYXlNYXAocGFpcnMsIGZ1bmN0aW9uKHBhaXIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBwYWlyWzFdICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFt0b0l0ZXJhdGVlKHBhaXJbMF0pLCBwYWlyWzFdXTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gYmFzZVJlc3QoZnVuY3Rpb24oYXJncykge1xuICAgICAgICB2YXIgaW5kZXggPSAtMTtcbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICB2YXIgcGFpciA9IHBhaXJzW2luZGV4XTtcbiAgICAgICAgICBpZiAoYXBwbHkocGFpclswXSwgdGhpcywgYXJncykpIHtcbiAgICAgICAgICAgIHJldHVybiBhcHBseShwYWlyWzFdLCB0aGlzLCBhcmdzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgdGhlIHByZWRpY2F0ZSBwcm9wZXJ0aWVzIG9mIGBzb3VyY2VgIHdpdGhcbiAgICAgKiB0aGUgY29ycmVzcG9uZGluZyBwcm9wZXJ0eSB2YWx1ZXMgb2YgYSBnaXZlbiBvYmplY3QsIHJldHVybmluZyBgdHJ1ZWAgaWZcbiAgICAgKiBhbGwgcHJlZGljYXRlcyByZXR1cm4gdHJ1dGh5LCBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhlIGNyZWF0ZWQgZnVuY3Rpb24gaXMgZXF1aXZhbGVudCB0byBgXy5jb25mb3Jtc1RvYCB3aXRoXG4gICAgICogYHNvdXJjZWAgcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSBwcmVkaWNhdGVzIHRvIGNvbmZvcm0gdG8uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbXG4gICAgICogICB7ICdhJzogMiwgJ2InOiAxIH0sXG4gICAgICogICB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5maWx0ZXIob2JqZWN0cywgXy5jb25mb3Jtcyh7ICdiJzogZnVuY3Rpb24obikgeyByZXR1cm4gbiA+IDE7IH0gfSkpO1xuICAgICAqIC8vID0+IFt7ICdhJzogMSwgJ2InOiAyIH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29uZm9ybXMoc291cmNlKSB7XG4gICAgICByZXR1cm4gYmFzZUNvbmZvcm1zKGJhc2VDbG9uZShzb3VyY2UsIENMT05FX0RFRVBfRkxBRykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjQuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcmV0dXJuIGZyb20gdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjb25zdGFudCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBfLnRpbWVzKDIsIF8uY29uc3RhbnQoeyAnYSc6IDEgfSkpO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2cob2JqZWN0cyk7XG4gICAgICogLy8gPT4gW3sgJ2EnOiAxIH0sIHsgJ2EnOiAxIH1dXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3RzWzBdID09PSBvYmplY3RzWzFdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29uc3RhbnQodmFsdWUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgYHZhbHVlYCB0byBkZXRlcm1pbmUgd2hldGhlciBhIGRlZmF1bHQgdmFsdWUgc2hvdWxkIGJlIHJldHVybmVkIGluXG4gICAgICogaXRzIHBsYWNlLiBUaGUgYGRlZmF1bHRWYWx1ZWAgaXMgcmV0dXJuZWQgaWYgYHZhbHVlYCBpcyBgTmFOYCwgYG51bGxgLFxuICAgICAqIG9yIGB1bmRlZmluZWRgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTQuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHBhcmFtIHsqfSBkZWZhdWx0VmFsdWUgVGhlIGRlZmF1bHQgdmFsdWUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlZmF1bHRUbygxLCAxMCk7XG4gICAgICogLy8gPT4gMVxuICAgICAqXG4gICAgICogXy5kZWZhdWx0VG8odW5kZWZpbmVkLCAxMCk7XG4gICAgICogLy8gPT4gMTBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkZWZhdWx0VG8odmFsdWUsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgcmV0dXJuICh2YWx1ZSA9PSBudWxsIHx8IHZhbHVlICE9PSB2YWx1ZSkgPyBkZWZhdWx0VmFsdWUgOiB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSByZXN1bHQgb2YgaW52b2tpbmcgdGhlIGdpdmVuIGZ1bmN0aW9uc1xuICAgICAqIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIHRoZSBjcmVhdGVkIGZ1bmN0aW9uLCB3aGVyZSBlYWNoIHN1Y2Nlc3NpdmVcbiAgICAgKiBpbnZvY2F0aW9uIGlzIHN1cHBsaWVkIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIHByZXZpb3VzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0gey4uLihGdW5jdGlvbnxGdW5jdGlvbltdKX0gW2Z1bmNzXSBUaGUgZnVuY3Rpb25zIHRvIGludm9rZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjb21wb3NpdGUgZnVuY3Rpb24uXG4gICAgICogQHNlZSBfLmZsb3dSaWdodFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBzcXVhcmUobikge1xuICAgICAqICAgcmV0dXJuIG4gKiBuO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBhZGRTcXVhcmUgPSBfLmZsb3coW18uYWRkLCBzcXVhcmVdKTtcbiAgICAgKiBhZGRTcXVhcmUoMSwgMik7XG4gICAgICogLy8gPT4gOVxuICAgICAqL1xuICAgIHZhciBmbG93ID0gY3JlYXRlRmxvdygpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mbG93YCBleGNlcHQgdGhhdCBpdCBjcmVhdGVzIGEgZnVuY3Rpb24gdGhhdFxuICAgICAqIGludm9rZXMgdGhlIGdpdmVuIGZ1bmN0aW9ucyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbZnVuY3NdIFRoZSBmdW5jdGlvbnMgdG8gaW52b2tlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbXBvc2l0ZSBmdW5jdGlvbi5cbiAgICAgKiBAc2VlIF8uZmxvd1xuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBzcXVhcmUobikge1xuICAgICAqICAgcmV0dXJuIG4gKiBuO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBhZGRTcXVhcmUgPSBfLmZsb3dSaWdodChbc3F1YXJlLCBfLmFkZF0pO1xuICAgICAqIGFkZFNxdWFyZSgxLCAyKTtcbiAgICAgKiAvLyA9PiA5XG4gICAgICovXG4gICAgdmFyIGZsb3dSaWdodCA9IGNyZWF0ZUZsb3codHJ1ZSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIHRoZSBmaXJzdCBhcmd1bWVudCBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBBbnkgdmFsdWUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgYHZhbHVlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhfLmlkZW50aXR5KG9iamVjdCkgPT09IG9iamVjdCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlkZW50aXR5KHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCB0aGUgYXJndW1lbnRzIG9mIHRoZSBjcmVhdGVkXG4gICAgICogZnVuY3Rpb24uIElmIGBmdW5jYCBpcyBhIHByb3BlcnR5IG5hbWUsIHRoZSBjcmVhdGVkIGZ1bmN0aW9uIHJldHVybnMgdGhlXG4gICAgICogcHJvcGVydHkgdmFsdWUgZm9yIGEgZ2l2ZW4gZWxlbWVudC4gSWYgYGZ1bmNgIGlzIGFuIGFycmF5IG9yIG9iamVjdCwgdGhlXG4gICAgICogY3JlYXRlZCBmdW5jdGlvbiByZXR1cm5zIGB0cnVlYCBmb3IgZWxlbWVudHMgdGhhdCBjb250YWluIHRoZSBlcXVpdmFsZW50XG4gICAgICogc291cmNlIHByb3BlcnRpZXMsIG90aGVyd2lzZSBpdCByZXR1cm5zIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Kn0gW2Z1bmM9Xy5pZGVudGl0eV0gVGhlIHZhbHVlIHRvIGNvbnZlcnQgdG8gYSBjYWxsYmFjay5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIGNhbGxiYWNrLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQwLCAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCBfLml0ZXJhdGVlKHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IHRydWUgfSkpO1xuICAgICAqIC8vID0+IFt7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfV1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbHRlcih1c2VycywgXy5pdGVyYXRlZShbJ3VzZXInLCAnZnJlZCddKSk7XG4gICAgICogLy8gPT4gW3sgJ3VzZXInOiAnZnJlZCcsICdhZ2UnOiA0MCB9XVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5tYXAodXNlcnMsIF8uaXRlcmF0ZWUoJ3VzZXInKSk7XG4gICAgICogLy8gPT4gWydiYXJuZXknLCAnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBDcmVhdGUgY3VzdG9tIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICogXy5pdGVyYXRlZSA9IF8ud3JhcChfLml0ZXJhdGVlLCBmdW5jdGlvbihpdGVyYXRlZSwgZnVuYykge1xuICAgICAqICAgcmV0dXJuICFfLmlzUmVnRXhwKGZ1bmMpID8gaXRlcmF0ZWUoZnVuYykgOiBmdW5jdGlvbihzdHJpbmcpIHtcbiAgICAgKiAgICAgcmV0dXJuIGZ1bmMudGVzdChzdHJpbmcpO1xuICAgICAqICAgfTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIF8uZmlsdGVyKFsnYWJjJywgJ2RlZiddLCAvZWYvKTtcbiAgICAgKiAvLyA9PiBbJ2RlZiddXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXRlcmF0ZWUoZnVuYykge1xuICAgICAgcmV0dXJuIGJhc2VJdGVyYXRlZSh0eXBlb2YgZnVuYyA9PSAnZnVuY3Rpb24nID8gZnVuYyA6IGJhc2VDbG9uZShmdW5jLCBDTE9ORV9ERUVQX0ZMQUcpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBwZXJmb3JtcyBhIHBhcnRpYWwgZGVlcCBjb21wYXJpc29uIGJldHdlZW4gYSBnaXZlblxuICAgICAqIG9iamVjdCBhbmQgYHNvdXJjZWAsIHJldHVybmluZyBgdHJ1ZWAgaWYgdGhlIGdpdmVuIG9iamVjdCBoYXMgZXF1aXZhbGVudFxuICAgICAqIHByb3BlcnR5IHZhbHVlcywgZWxzZSBgZmFsc2VgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoZSBjcmVhdGVkIGZ1bmN0aW9uIGlzIGVxdWl2YWxlbnQgdG8gYF8uaXNNYXRjaGAgd2l0aCBgc291cmNlYFxuICAgICAqIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqXG4gICAgICogUGFydGlhbCBjb21wYXJpc29ucyB3aWxsIG1hdGNoIGVtcHR5IGFycmF5IGFuZCBlbXB0eSBvYmplY3QgYHNvdXJjZWBcbiAgICAgKiB2YWx1ZXMgYWdhaW5zdCBhbnkgYXJyYXkgb3Igb2JqZWN0IHZhbHVlLCByZXNwZWN0aXZlbHkuIFNlZSBgXy5pc0VxdWFsYFxuICAgICAqIGZvciBhIGxpc3Qgb2Ygc3VwcG9ydGVkIHZhbHVlIGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgdmFsdWVzIHRvIG1hdGNoLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW1xuICAgICAqICAgeyAnYSc6IDEsICdiJzogMiwgJ2MnOiAzIH0sXG4gICAgICogICB7ICdhJzogNCwgJ2InOiA1LCAnYyc6IDYgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbHRlcihvYmplY3RzLCBfLm1hdGNoZXMoeyAnYSc6IDQsICdjJzogNiB9KSk7XG4gICAgICogLy8gPT4gW3sgJ2EnOiA0LCAnYic6IDUsICdjJzogNiB9XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hdGNoZXMoc291cmNlKSB7XG4gICAgICByZXR1cm4gYmFzZU1hdGNoZXMoYmFzZUNsb25lKHNvdXJjZSwgQ0xPTkVfREVFUF9GTEFHKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcGVyZm9ybXMgYSBwYXJ0aWFsIGRlZXAgY29tcGFyaXNvbiBiZXR3ZWVuIHRoZVxuICAgICAqIHZhbHVlIGF0IGBwYXRoYCBvZiBhIGdpdmVuIG9iamVjdCB0byBgc3JjVmFsdWVgLCByZXR1cm5pbmcgYHRydWVgIGlmIHRoZVxuICAgICAqIG9iamVjdCB2YWx1ZSBpcyBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogUGFydGlhbCBjb21wYXJpc29ucyB3aWxsIG1hdGNoIGVtcHR5IGFycmF5IGFuZCBlbXB0eSBvYmplY3RcbiAgICAgKiBgc3JjVmFsdWVgIHZhbHVlcyBhZ2FpbnN0IGFueSBhcnJheSBvciBvYmplY3QgdmFsdWUsIHJlc3BlY3RpdmVseS4gU2VlXG4gICAgICogYF8uaXNFcXVhbGAgZm9yIGEgbGlzdCBvZiBzdXBwb3J0ZWQgdmFsdWUgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHBhcmFtIHsqfSBzcmNWYWx1ZSBUaGUgdmFsdWUgdG8gbWF0Y2guXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbXG4gICAgICogICB7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDMgfSxcbiAgICAgKiAgIHsgJ2EnOiA0LCAnYic6IDUsICdjJzogNiB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZmluZChvYmplY3RzLCBfLm1hdGNoZXNQcm9wZXJ0eSgnYScsIDQpKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogNCwgJ2InOiA1LCAnYyc6IDYgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hdGNoZXNQcm9wZXJ0eShwYXRoLCBzcmNWYWx1ZSkge1xuICAgICAgcmV0dXJuIGJhc2VNYXRjaGVzUHJvcGVydHkocGF0aCwgYmFzZUNsb25lKHNyY1ZhbHVlLCBDTE9ORV9ERUVQX0ZMQUcpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIHRoZSBtZXRob2QgYXQgYHBhdGhgIG9mIGEgZ2l2ZW4gb2JqZWN0LlxuICAgICAqIEFueSBhZGRpdGlvbmFsIGFyZ3VtZW50cyBhcmUgcHJvdmlkZWQgdG8gdGhlIGludm9rZWQgbWV0aG9kLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuNy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgbWV0aG9kIHRvIGludm9rZS5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSB0aGUgbWV0aG9kIHdpdGguXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgaW52b2tlciBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbXG4gICAgICogICB7ICdhJzogeyAnYic6IF8uY29uc3RhbnQoMikgfSB9LFxuICAgICAqICAgeyAnYSc6IHsgJ2InOiBfLmNvbnN0YW50KDEpIH0gfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLm1hcChvYmplY3RzLCBfLm1ldGhvZCgnYS5iJykpO1xuICAgICAqIC8vID0+IFsyLCAxXVxuICAgICAqXG4gICAgICogXy5tYXAob2JqZWN0cywgXy5tZXRob2QoWydhJywgJ2InXSkpO1xuICAgICAqIC8vID0+IFsyLCAxXVxuICAgICAqL1xuICAgIHZhciBtZXRob2QgPSBiYXNlUmVzdChmdW5jdGlvbihwYXRoLCBhcmdzKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBiYXNlSW52b2tlKG9iamVjdCwgcGF0aCwgYXJncyk7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG9wcG9zaXRlIG9mIGBfLm1ldGhvZGA7IHRoaXMgbWV0aG9kIGNyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXNcbiAgICAgKiB0aGUgbWV0aG9kIGF0IGEgZ2l2ZW4gcGF0aCBvZiBgb2JqZWN0YC4gQW55IGFkZGl0aW9uYWwgYXJndW1lbnRzIGFyZVxuICAgICAqIHByb3ZpZGVkIHRvIHRoZSBpbnZva2VkIG1ldGhvZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjcuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ3NdIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIHRoZSBtZXRob2Qgd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBpbnZva2VyIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBfLnRpbWVzKDMsIF8uY29uc3RhbnQpLFxuICAgICAqICAgICBvYmplY3QgPSB7ICdhJzogYXJyYXksICdiJzogYXJyYXksICdjJzogYXJyYXkgfTtcbiAgICAgKlxuICAgICAqIF8ubWFwKFsnYVsyXScsICdjWzBdJ10sIF8ubWV0aG9kT2Yob2JqZWN0KSk7XG4gICAgICogLy8gPT4gWzIsIDBdXG4gICAgICpcbiAgICAgKiBfLm1hcChbWydhJywgJzInXSwgWydjJywgJzAnXV0sIF8ubWV0aG9kT2Yob2JqZWN0KSk7XG4gICAgICogLy8gPT4gWzIsIDBdXG4gICAgICovXG4gICAgdmFyIG1ldGhvZE9mID0gYmFzZVJlc3QoZnVuY3Rpb24ob2JqZWN0LCBhcmdzKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ocGF0aCkge1xuICAgICAgICByZXR1cm4gYmFzZUludm9rZShvYmplY3QsIHBhdGgsIGFyZ3MpO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEFkZHMgYWxsIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBmdW5jdGlvbiBwcm9wZXJ0aWVzIG9mIGEgc291cmNlXG4gICAgICogb2JqZWN0IHRvIHRoZSBkZXN0aW5hdGlvbiBvYmplY3QuIElmIGBvYmplY3RgIGlzIGEgZnVuY3Rpb24sIHRoZW4gbWV0aG9kc1xuICAgICAqIGFyZSBhZGRlZCB0byBpdHMgcHJvdG90eXBlIGFzIHdlbGwuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVXNlIGBfLnJ1bkluQ29udGV4dGAgdG8gY3JlYXRlIGEgcHJpc3RpbmUgYGxvZGFzaGAgZnVuY3Rpb24gdG9cbiAgICAgKiBhdm9pZCBjb25mbGljdHMgY2F1c2VkIGJ5IG1vZGlmeWluZyB0aGUgb3JpZ2luYWwuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fSBbb2JqZWN0PWxvZGFzaF0gVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgZnVuY3Rpb25zIHRvIGFkZC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoYWluPXRydWVdIFNwZWNpZnkgd2hldGhlciBtaXhpbnMgYXJlIGNoYWluYWJsZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb258T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiB2b3dlbHMoc3RyaW5nKSB7XG4gICAgICogICByZXR1cm4gXy5maWx0ZXIoc3RyaW5nLCBmdW5jdGlvbih2KSB7XG4gICAgICogICAgIHJldHVybiAvW2FlaW91XS9pLnRlc3Qodik7XG4gICAgICogICB9KTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLm1peGluKHsgJ3Zvd2Vscyc6IHZvd2VscyB9KTtcbiAgICAgKiBfLnZvd2VscygnZnJlZCcpO1xuICAgICAqIC8vID0+IFsnZSddXG4gICAgICpcbiAgICAgKiBfKCdmcmVkJykudm93ZWxzKCkudmFsdWUoKTtcbiAgICAgKiAvLyA9PiBbJ2UnXVxuICAgICAqXG4gICAgICogXy5taXhpbih7ICd2b3dlbHMnOiB2b3dlbHMgfSwgeyAnY2hhaW4nOiBmYWxzZSB9KTtcbiAgICAgKiBfKCdmcmVkJykudm93ZWxzKCk7XG4gICAgICogLy8gPT4gWydlJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtaXhpbihvYmplY3QsIHNvdXJjZSwgb3B0aW9ucykge1xuICAgICAgdmFyIHByb3BzID0ga2V5cyhzb3VyY2UpLFxuICAgICAgICAgIG1ldGhvZE5hbWVzID0gYmFzZUZ1bmN0aW9ucyhzb3VyY2UsIHByb3BzKTtcblxuICAgICAgaWYgKG9wdGlvbnMgPT0gbnVsbCAmJlxuICAgICAgICAgICEoaXNPYmplY3Qoc291cmNlKSAmJiAobWV0aG9kTmFtZXMubGVuZ3RoIHx8ICFwcm9wcy5sZW5ndGgpKSkge1xuICAgICAgICBvcHRpb25zID0gc291cmNlO1xuICAgICAgICBzb3VyY2UgPSBvYmplY3Q7XG4gICAgICAgIG9iamVjdCA9IHRoaXM7XG4gICAgICAgIG1ldGhvZE5hbWVzID0gYmFzZUZ1bmN0aW9ucyhzb3VyY2UsIGtleXMoc291cmNlKSk7XG4gICAgICB9XG4gICAgICB2YXIgY2hhaW4gPSAhKGlzT2JqZWN0KG9wdGlvbnMpICYmICdjaGFpbicgaW4gb3B0aW9ucykgfHwgISFvcHRpb25zLmNoYWluLFxuICAgICAgICAgIGlzRnVuYyA9IGlzRnVuY3Rpb24ob2JqZWN0KTtcblxuICAgICAgYXJyYXlFYWNoKG1ldGhvZE5hbWVzLCBmdW5jdGlvbihtZXRob2ROYW1lKSB7XG4gICAgICAgIHZhciBmdW5jID0gc291cmNlW21ldGhvZE5hbWVdO1xuICAgICAgICBvYmplY3RbbWV0aG9kTmFtZV0gPSBmdW5jO1xuICAgICAgICBpZiAoaXNGdW5jKSB7XG4gICAgICAgICAgb2JqZWN0LnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGNoYWluQWxsID0gdGhpcy5fX2NoYWluX187XG4gICAgICAgICAgICBpZiAoY2hhaW4gfHwgY2hhaW5BbGwpIHtcbiAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IG9iamVjdCh0aGlzLl9fd3JhcHBlZF9fKSxcbiAgICAgICAgICAgICAgICAgIGFjdGlvbnMgPSByZXN1bHQuX19hY3Rpb25zX18gPSBjb3B5QXJyYXkodGhpcy5fX2FjdGlvbnNfXyk7XG5cbiAgICAgICAgICAgICAgYWN0aW9ucy5wdXNoKHsgJ2Z1bmMnOiBmdW5jLCAnYXJncyc6IGFyZ3VtZW50cywgJ3RoaXNBcmcnOiBvYmplY3QgfSk7XG4gICAgICAgICAgICAgIHJlc3VsdC5fX2NoYWluX18gPSBjaGFpbkFsbDtcbiAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KG9iamVjdCwgYXJyYXlQdXNoKFt0aGlzLnZhbHVlKCldLCBhcmd1bWVudHMpKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXZlcnRzIHRoZSBgX2AgdmFyaWFibGUgdG8gaXRzIHByZXZpb3VzIHZhbHVlIGFuZCByZXR1cm5zIGEgcmVmZXJlbmNlIHRvXG4gICAgICogdGhlIGBsb2Rhc2hgIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIGBsb2Rhc2hgIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgbG9kYXNoID0gXy5ub0NvbmZsaWN0KCk7XG4gICAgICovXG4gICAgZnVuY3Rpb24gbm9Db25mbGljdCgpIHtcbiAgICAgIGlmIChyb290Ll8gPT09IHRoaXMpIHtcbiAgICAgICAgcm9vdC5fID0gb2xkRGFzaDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHJldHVybnMgYHVuZGVmaW5lZGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRpbWVzKDIsIF8ubm9vcCk7XG4gICAgICogLy8gPT4gW3VuZGVmaW5lZCwgdW5kZWZpbmVkXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG5vb3AoKSB7XG4gICAgICAvLyBObyBvcGVyYXRpb24gcGVyZm9ybWVkLlxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGdldHMgdGhlIGFyZ3VtZW50IGF0IGluZGV4IGBuYC4gSWYgYG5gIGlzIG5lZ2F0aXZlLFxuICAgICAqIHRoZSBudGggYXJndW1lbnQgZnJvbSB0aGUgZW5kIGlzIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249MF0gVGhlIGluZGV4IG9mIHRoZSBhcmd1bWVudCB0byByZXR1cm4uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcGFzcy10aHJ1IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ubnRoQXJnKDEpO1xuICAgICAqIGZ1bmMoJ2EnLCAnYicsICdjJywgJ2QnKTtcbiAgICAgKiAvLyA9PiAnYidcbiAgICAgKlxuICAgICAqIHZhciBmdW5jID0gXy5udGhBcmcoLTIpO1xuICAgICAqIGZ1bmMoJ2EnLCAnYicsICdjJywgJ2QnKTtcbiAgICAgKiAvLyA9PiAnYydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBudGhBcmcobikge1xuICAgICAgbiA9IHRvSW50ZWdlcihuKTtcbiAgICAgIHJldHVybiBiYXNlUmVzdChmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgIHJldHVybiBiYXNlTnRoKGFyZ3MsIG4pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgaXRlcmF0ZWVzYCB3aXRoIHRoZSBhcmd1bWVudHMgaXQgcmVjZWl2ZXNcbiAgICAgKiBhbmQgcmV0dXJucyB0aGVpciByZXN1bHRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0gey4uLihGdW5jdGlvbnxGdW5jdGlvbltdKX0gW2l0ZXJhdGVlcz1bXy5pZGVudGl0eV1dXG4gICAgICogIFRoZSBpdGVyYXRlZXMgdG8gaW52b2tlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ub3ZlcihbTWF0aC5tYXgsIE1hdGgubWluXSk7XG4gICAgICpcbiAgICAgKiBmdW5jKDEsIDIsIDMsIDQpO1xuICAgICAqIC8vID0+IFs0LCAxXVxuICAgICAqL1xuICAgIHZhciBvdmVyID0gY3JlYXRlT3ZlcihhcnJheU1hcCk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBjaGVja3MgaWYgKiphbGwqKiBvZiB0aGUgYHByZWRpY2F0ZXNgIHJldHVyblxuICAgICAqIHRydXRoeSB3aGVuIGludm9rZWQgd2l0aCB0aGUgYXJndW1lbnRzIGl0IHJlY2VpdmVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0gey4uLihGdW5jdGlvbnxGdW5jdGlvbltdKX0gW3ByZWRpY2F0ZXM9W18uaWRlbnRpdHldXVxuICAgICAqICBUaGUgcHJlZGljYXRlcyB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGZ1bmMgPSBfLm92ZXJFdmVyeShbQm9vbGVhbiwgaXNGaW5pdGVdKTtcbiAgICAgKlxuICAgICAqIGZ1bmMoJzEnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBmdW5jKG51bGwpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBmdW5jKE5hTik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgb3ZlckV2ZXJ5ID0gY3JlYXRlT3ZlcihhcnJheUV2ZXJ5KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGNoZWNrcyBpZiAqKmFueSoqIG9mIHRoZSBgcHJlZGljYXRlc2AgcmV0dXJuXG4gICAgICogdHJ1dGh5IHdoZW4gaW52b2tlZCB3aXRoIHRoZSBhcmd1bWVudHMgaXQgcmVjZWl2ZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbcHJlZGljYXRlcz1bXy5pZGVudGl0eV1dXG4gICAgICogIFRoZSBwcmVkaWNhdGVzIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ub3ZlclNvbWUoW0Jvb2xlYW4sIGlzRmluaXRlXSk7XG4gICAgICpcbiAgICAgKiBmdW5jKCcxJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogZnVuYyhudWxsKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBmdW5jKE5hTik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgb3ZlclNvbWUgPSBjcmVhdGVPdmVyKGFycmF5U29tZSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSB2YWx1ZSBhdCBgcGF0aGAgb2YgYSBnaXZlbiBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi40LjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWNjZXNzb3IgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW1xuICAgICAqICAgeyAnYSc6IHsgJ2InOiAyIH0gfSxcbiAgICAgKiAgIHsgJ2EnOiB7ICdiJzogMSB9IH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5tYXAob2JqZWN0cywgXy5wcm9wZXJ0eSgnYS5iJykpO1xuICAgICAqIC8vID0+IFsyLCAxXVxuICAgICAqXG4gICAgICogXy5tYXAoXy5zb3J0Qnkob2JqZWN0cywgXy5wcm9wZXJ0eShbJ2EnLCAnYiddKSksICdhLmInKTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwcm9wZXJ0eShwYXRoKSB7XG4gICAgICByZXR1cm4gaXNLZXkocGF0aCkgPyBiYXNlUHJvcGVydHkodG9LZXkocGF0aCkpIDogYmFzZVByb3BlcnR5RGVlcChwYXRoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8ucHJvcGVydHlgOyB0aGlzIG1ldGhvZCBjcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zXG4gICAgICogdGhlIHZhbHVlIGF0IGEgZ2l2ZW4gcGF0aCBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFjY2Vzc29yIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMCwgMSwgMl0sXG4gICAgICogICAgIG9iamVjdCA9IHsgJ2EnOiBhcnJheSwgJ2InOiBhcnJheSwgJ2MnOiBhcnJheSB9O1xuICAgICAqXG4gICAgICogXy5tYXAoWydhWzJdJywgJ2NbMF0nXSwgXy5wcm9wZXJ0eU9mKG9iamVjdCkpO1xuICAgICAqIC8vID0+IFsyLCAwXVxuICAgICAqXG4gICAgICogXy5tYXAoW1snYScsICcyJ10sIFsnYycsICcwJ11dLCBfLnByb3BlcnR5T2Yob2JqZWN0KSk7XG4gICAgICogLy8gPT4gWzIsIDBdXG4gICAgICovXG4gICAgZnVuY3Rpb24gcHJvcGVydHlPZihvYmplY3QpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihwYXRoKSB7XG4gICAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IGJhc2VHZXQob2JqZWN0LCBwYXRoKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBudW1iZXJzIChwb3NpdGl2ZSBhbmQvb3IgbmVnYXRpdmUpIHByb2dyZXNzaW5nIGZyb21cbiAgICAgKiBgc3RhcnRgIHVwIHRvLCBidXQgbm90IGluY2x1ZGluZywgYGVuZGAuIEEgc3RlcCBvZiBgLTFgIGlzIHVzZWQgaWYgYSBuZWdhdGl2ZVxuICAgICAqIGBzdGFydGAgaXMgc3BlY2lmaWVkIHdpdGhvdXQgYW4gYGVuZGAgb3IgYHN0ZXBgLiBJZiBgZW5kYCBpcyBub3Qgc3BlY2lmaWVkLFxuICAgICAqIGl0J3Mgc2V0IHRvIGBzdGFydGAgd2l0aCBgc3RhcnRgIHRoZW4gc2V0IHRvIGAwYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBKYXZhU2NyaXB0IGZvbGxvd3MgdGhlIElFRUUtNzU0IHN0YW5kYXJkIGZvciByZXNvbHZpbmdcbiAgICAgKiBmbG9hdGluZy1wb2ludCB2YWx1ZXMgd2hpY2ggY2FuIHByb2R1Y2UgdW5leHBlY3RlZCByZXN1bHRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBUaGUgZW5kIG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0ZXA9MV0gVGhlIHZhbHVlIHRvIGluY3JlbWVudCBvciBkZWNyZW1lbnQgYnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSByYW5nZSBvZiBudW1iZXJzLlxuICAgICAqIEBzZWUgXy5pblJhbmdlLCBfLnJhbmdlUmlnaHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5yYW5nZSg0KTtcbiAgICAgKiAvLyA9PiBbMCwgMSwgMiwgM11cbiAgICAgKlxuICAgICAqIF8ucmFuZ2UoLTQpO1xuICAgICAqIC8vID0+IFswLCAtMSwgLTIsIC0zXVxuICAgICAqXG4gICAgICogXy5yYW5nZSgxLCA1KTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgMywgNF1cbiAgICAgKlxuICAgICAqIF8ucmFuZ2UoMCwgMjAsIDUpO1xuICAgICAqIC8vID0+IFswLCA1LCAxMCwgMTVdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDAsIC00LCAtMSk7XG4gICAgICogLy8gPT4gWzAsIC0xLCAtMiwgLTNdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDEsIDQsIDApO1xuICAgICAqIC8vID0+IFsxLCAxLCAxXVxuICAgICAqXG4gICAgICogXy5yYW5nZSgwKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIHZhciByYW5nZSA9IGNyZWF0ZVJhbmdlKCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnJhbmdlYCBleGNlcHQgdGhhdCBpdCBwb3B1bGF0ZXMgdmFsdWVzIGluXG4gICAgICogZGVzY2VuZGluZyBvcmRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgVGhlIGVuZCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGVwPTFdIFRoZSB2YWx1ZSB0byBpbmNyZW1lbnQgb3IgZGVjcmVtZW50IGJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcmFuZ2Ugb2YgbnVtYmVycy5cbiAgICAgKiBAc2VlIF8uaW5SYW5nZSwgXy5yYW5nZVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoNCk7XG4gICAgICogLy8gPT4gWzMsIDIsIDEsIDBdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoLTQpO1xuICAgICAqIC8vID0+IFstMywgLTIsIC0xLCAwXVxuICAgICAqXG4gICAgICogXy5yYW5nZVJpZ2h0KDEsIDUpO1xuICAgICAqIC8vID0+IFs0LCAzLCAyLCAxXVxuICAgICAqXG4gICAgICogXy5yYW5nZVJpZ2h0KDAsIDIwLCA1KTtcbiAgICAgKiAvLyA9PiBbMTUsIDEwLCA1LCAwXVxuICAgICAqXG4gICAgICogXy5yYW5nZVJpZ2h0KDAsIC00LCAtMSk7XG4gICAgICogLy8gPT4gWy0zLCAtMiwgLTEsIDBdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoMSwgNCwgMCk7XG4gICAgICogLy8gPT4gWzEsIDEsIDFdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoMCk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKi9cbiAgICB2YXIgcmFuZ2VSaWdodCA9IGNyZWF0ZVJhbmdlKHRydWUpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBlbXB0eSBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEzLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGVtcHR5IGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXlzID0gXy50aW1lcygyLCBfLnN0dWJBcnJheSk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheXMpO1xuICAgICAqIC8vID0+IFtbXSwgW11dXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheXNbMF0gPT09IGFycmF5c1sxXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdHViQXJyYXkoKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTMuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50aW1lcygyLCBfLnN0dWJGYWxzZSk7XG4gICAgICogLy8gPT4gW2ZhbHNlLCBmYWxzZV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdHViRmFsc2UoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBlbXB0eSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgZW1wdHkgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IF8udGltZXMoMiwgXy5zdHViT2JqZWN0KTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdHMpO1xuICAgICAqIC8vID0+IFt7fSwge31dXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3RzWzBdID09PSBvYmplY3RzWzFdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0dWJPYmplY3QoKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBhbiBlbXB0eSBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlbXB0eSBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGltZXMoMiwgXy5zdHViU3RyaW5nKTtcbiAgICAgKiAvLyA9PiBbJycsICcnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0dWJTdHJpbmcoKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBgdHJ1ZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGltZXMoMiwgXy5zdHViVHJ1ZSk7XG4gICAgICogLy8gPT4gW3RydWUsIHRydWVdXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3R1YlRydWUoKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnZva2VzIHRoZSBpdGVyYXRlZSBgbmAgdGltZXMsIHJldHVybmluZyBhbiBhcnJheSBvZiB0aGUgcmVzdWx0cyBvZlxuICAgICAqIGVhY2ggaW52b2NhdGlvbi4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ7IChpbmRleCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gaW52b2tlIGBpdGVyYXRlZWAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiByZXN1bHRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRpbWVzKDMsIFN0cmluZyk7XG4gICAgICogLy8gPT4gWycwJywgJzEnLCAnMiddXG4gICAgICpcbiAgICAgKiAgXy50aW1lcyg0LCBfLmNvbnN0YW50KDApKTtcbiAgICAgKiAvLyA9PiBbMCwgMCwgMCwgMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0aW1lcyhuLCBpdGVyYXRlZSkge1xuICAgICAgbiA9IHRvSW50ZWdlcihuKTtcbiAgICAgIGlmIChuIDwgMSB8fCBuID4gTUFYX1NBRkVfSU5URUdFUikge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSBNQVhfQVJSQVlfTEVOR1RILFxuICAgICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1pbihuLCBNQVhfQVJSQVlfTEVOR1RIKTtcblxuICAgICAgaXRlcmF0ZWUgPSBnZXRJdGVyYXRlZShpdGVyYXRlZSk7XG4gICAgICBuIC09IE1BWF9BUlJBWV9MRU5HVEg7XG5cbiAgICAgIHZhciByZXN1bHQgPSBiYXNlVGltZXMobGVuZ3RoLCBpdGVyYXRlZSk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IG4pIHtcbiAgICAgICAgaXRlcmF0ZWUoaW5kZXgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgcHJvcGVydHkgcGF0aCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvUGF0aCgnYS5iLmMnKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYicsICdjJ11cbiAgICAgKlxuICAgICAqIF8udG9QYXRoKCdhWzBdLmIuYycpO1xuICAgICAqIC8vID0+IFsnYScsICcwJywgJ2InLCAnYyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9QYXRoKHZhbHVlKSB7XG4gICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGFycmF5TWFwKHZhbHVlLCB0b0tleSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXNTeW1ib2wodmFsdWUpID8gW3ZhbHVlXSA6IGNvcHlBcnJheShzdHJpbmdUb1BhdGgodG9TdHJpbmcodmFsdWUpKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGEgdW5pcXVlIElELiBJZiBgcHJlZml4YCBpcyBnaXZlbiwgdGhlIElEIGlzIGFwcGVuZGVkIHRvIGl0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3ByZWZpeD0nJ10gVGhlIHZhbHVlIHRvIHByZWZpeCB0aGUgSUQgd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB1bmlxdWUgSUQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udW5pcXVlSWQoJ2NvbnRhY3RfJyk7XG4gICAgICogLy8gPT4gJ2NvbnRhY3RfMTA0J1xuICAgICAqXG4gICAgICogXy51bmlxdWVJZCgpO1xuICAgICAqIC8vID0+ICcxMDUnXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5pcXVlSWQocHJlZml4KSB7XG4gICAgICB2YXIgaWQgPSArK2lkQ291bnRlcjtcbiAgICAgIHJldHVybiB0b1N0cmluZyhwcmVmaXgpICsgaWQ7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQWRkcyB0d28gbnVtYmVycy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjQuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGF1Z2VuZCBUaGUgZmlyc3QgbnVtYmVyIGluIGFuIGFkZGl0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhZGRlbmQgVGhlIHNlY29uZCBudW1iZXIgaW4gYW4gYWRkaXRpb24uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdG90YWwuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uYWRkKDYsIDQpO1xuICAgICAqIC8vID0+IDEwXG4gICAgICovXG4gICAgdmFyIGFkZCA9IGNyZWF0ZU1hdGhPcGVyYXRpb24oZnVuY3Rpb24oYXVnZW5kLCBhZGRlbmQpIHtcbiAgICAgIHJldHVybiBhdWdlbmQgKyBhZGRlbmQ7XG4gICAgfSwgMCk7XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBgbnVtYmVyYCByb3VuZGVkIHVwIHRvIGBwcmVjaXNpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMTAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIHJvdW5kIHVwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcHJlY2lzaW9uPTBdIFRoZSBwcmVjaXNpb24gdG8gcm91bmQgdXAgdG8uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcm91bmRlZCB1cCBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY2VpbCg0LjAwNik7XG4gICAgICogLy8gPT4gNVxuICAgICAqXG4gICAgICogXy5jZWlsKDYuMDA0LCAyKTtcbiAgICAgKiAvLyA9PiA2LjAxXG4gICAgICpcbiAgICAgKiBfLmNlaWwoNjA0MCwgLTIpO1xuICAgICAqIC8vID0+IDYxMDBcbiAgICAgKi9cbiAgICB2YXIgY2VpbCA9IGNyZWF0ZVJvdW5kKCdjZWlsJyk7XG5cbiAgICAvKipcbiAgICAgKiBEaXZpZGUgdHdvIG51bWJlcnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkaXZpZGVuZCBUaGUgZmlyc3QgbnVtYmVyIGluIGEgZGl2aXNpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRpdmlzb3IgVGhlIHNlY29uZCBudW1iZXIgaW4gYSBkaXZpc2lvbi5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBxdW90aWVudC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kaXZpZGUoNiwgNCk7XG4gICAgICogLy8gPT4gMS41XG4gICAgICovXG4gICAgdmFyIGRpdmlkZSA9IGNyZWF0ZU1hdGhPcGVyYXRpb24oZnVuY3Rpb24oZGl2aWRlbmQsIGRpdmlzb3IpIHtcbiAgICAgIHJldHVybiBkaXZpZGVuZCAvIGRpdmlzb3I7XG4gICAgfSwgMSk7XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBgbnVtYmVyYCByb3VuZGVkIGRvd24gdG8gYHByZWNpc2lvbmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4xMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gcm91bmQgZG93bi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3ByZWNpc2lvbj0wXSBUaGUgcHJlY2lzaW9uIHRvIHJvdW5kIGRvd24gdG8uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcm91bmRlZCBkb3duIG51bWJlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mbG9vcig0LjAwNik7XG4gICAgICogLy8gPT4gNFxuICAgICAqXG4gICAgICogXy5mbG9vcigwLjA0NiwgMik7XG4gICAgICogLy8gPT4gMC4wNFxuICAgICAqXG4gICAgICogXy5mbG9vcig0MDYwLCAtMik7XG4gICAgICogLy8gPT4gNDAwMFxuICAgICAqL1xuICAgIHZhciBmbG9vciA9IGNyZWF0ZVJvdW5kKCdmbG9vcicpO1xuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgdGhlIG1heGltdW0gdmFsdWUgb2YgYGFycmF5YC4gSWYgYGFycmF5YCBpcyBlbXB0eSBvciBmYWxzZXksXG4gICAgICogYHVuZGVmaW5lZGAgaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1heGltdW0gdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWF4KFs0LCAyLCA4LCA2XSk7XG4gICAgICogLy8gPT4gOFxuICAgICAqXG4gICAgICogXy5tYXgoW10pO1xuICAgICAqIC8vID0+IHVuZGVmaW5lZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1heChhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZUV4dHJlbXVtKGFycmF5LCBpZGVudGl0eSwgYmFzZUd0KVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLm1heGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IGluIGBhcnJheWAgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvbiBieSB3aGljaFxuICAgICAqIHRoZSB2YWx1ZSBpcyByYW5rZWQuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWF4aW11bSB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAnbic6IDEgfSwgeyAnbic6IDIgfV07XG4gICAgICpcbiAgICAgKiBfLm1heEJ5KG9iamVjdHMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8ubjsgfSk7XG4gICAgICogLy8gPT4geyAnbic6IDIgfVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5tYXhCeShvYmplY3RzLCAnbicpO1xuICAgICAqIC8vID0+IHsgJ24nOiAyIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXhCeShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VFeHRyZW11bShhcnJheSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpLCBiYXNlR3QpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIHRoZSBtZWFuIG9mIHRoZSB2YWx1ZXMgaW4gYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBtZWFuLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLm1lYW4oWzQsIDIsIDgsIDZdKTtcbiAgICAgKiAvLyA9PiA1XG4gICAgICovXG4gICAgZnVuY3Rpb24gbWVhbihhcnJheSkge1xuICAgICAgcmV0dXJuIGJhc2VNZWFuKGFycmF5LCBpZGVudGl0eSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5tZWFuYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgaW4gYGFycmF5YCB0byBnZW5lcmF0ZSB0aGUgdmFsdWUgdG8gYmUgYXZlcmFnZWQuXG4gICAgICogVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG1lYW4uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ24nOiA0IH0sIHsgJ24nOiAyIH0sIHsgJ24nOiA4IH0sIHsgJ24nOiA2IH1dO1xuICAgICAqXG4gICAgICogXy5tZWFuQnkob2JqZWN0cywgZnVuY3Rpb24obykgeyByZXR1cm4gby5uOyB9KTtcbiAgICAgKiAvLyA9PiA1XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLm1lYW5CeShvYmplY3RzLCAnbicpO1xuICAgICAqIC8vID0+IDVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtZWFuQnkoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gYmFzZU1lYW4oYXJyYXksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgdGhlIG1pbmltdW0gdmFsdWUgb2YgYGFycmF5YC4gSWYgYGFycmF5YCBpcyBlbXB0eSBvciBmYWxzZXksXG4gICAgICogYHVuZGVmaW5lZGAgaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1pbmltdW0gdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWluKFs0LCAyLCA4LCA2XSk7XG4gICAgICogLy8gPT4gMlxuICAgICAqXG4gICAgICogXy5taW4oW10pO1xuICAgICAqIC8vID0+IHVuZGVmaW5lZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1pbihhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZUV4dHJlbXVtKGFycmF5LCBpZGVudGl0eSwgYmFzZUx0KVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLm1pbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IGluIGBhcnJheWAgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvbiBieSB3aGljaFxuICAgICAqIHRoZSB2YWx1ZSBpcyByYW5rZWQuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWluaW11bSB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAnbic6IDEgfSwgeyAnbic6IDIgfV07XG4gICAgICpcbiAgICAgKiBfLm1pbkJ5KG9iamVjdHMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8ubjsgfSk7XG4gICAgICogLy8gPT4geyAnbic6IDEgfVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5taW5CeShvYmplY3RzLCAnbicpO1xuICAgICAqIC8vID0+IHsgJ24nOiAxIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtaW5CeShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VFeHRyZW11bShhcnJheSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpLCBiYXNlTHQpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE11bHRpcGx5IHR3byBudW1iZXJzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNy4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbXVsdGlwbGllciBUaGUgZmlyc3QgbnVtYmVyIGluIGEgbXVsdGlwbGljYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG11bHRpcGxpY2FuZCBUaGUgc2Vjb25kIG51bWJlciBpbiBhIG11bHRpcGxpY2F0aW9uLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHByb2R1Y3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubXVsdGlwbHkoNiwgNCk7XG4gICAgICogLy8gPT4gMjRcbiAgICAgKi9cbiAgICB2YXIgbXVsdGlwbHkgPSBjcmVhdGVNYXRoT3BlcmF0aW9uKGZ1bmN0aW9uKG11bHRpcGxpZXIsIG11bHRpcGxpY2FuZCkge1xuICAgICAgcmV0dXJuIG11bHRpcGxpZXIgKiBtdWx0aXBsaWNhbmQ7XG4gICAgfSwgMSk7XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBgbnVtYmVyYCByb3VuZGVkIHRvIGBwcmVjaXNpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMTAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIHJvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcHJlY2lzaW9uPTBdIFRoZSBwcmVjaXNpb24gdG8gcm91bmQgdG8uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcm91bmRlZCBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucm91bmQoNC4wMDYpO1xuICAgICAqIC8vID0+IDRcbiAgICAgKlxuICAgICAqIF8ucm91bmQoNC4wMDYsIDIpO1xuICAgICAqIC8vID0+IDQuMDFcbiAgICAgKlxuICAgICAqIF8ucm91bmQoNDA2MCwgLTIpO1xuICAgICAqIC8vID0+IDQxMDBcbiAgICAgKi9cbiAgICB2YXIgcm91bmQgPSBjcmVhdGVSb3VuZCgncm91bmQnKTtcblxuICAgIC8qKlxuICAgICAqIFN1YnRyYWN0IHR3byBudW1iZXJzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWludWVuZCBUaGUgZmlyc3QgbnVtYmVyIGluIGEgc3VidHJhY3Rpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN1YnRyYWhlbmQgVGhlIHNlY29uZCBudW1iZXIgaW4gYSBzdWJ0cmFjdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBkaWZmZXJlbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnN1YnRyYWN0KDYsIDQpO1xuICAgICAqIC8vID0+IDJcbiAgICAgKi9cbiAgICB2YXIgc3VidHJhY3QgPSBjcmVhdGVNYXRoT3BlcmF0aW9uKGZ1bmN0aW9uKG1pbnVlbmQsIHN1YnRyYWhlbmQpIHtcbiAgICAgIHJldHVybiBtaW51ZW5kIC0gc3VidHJhaGVuZDtcbiAgICB9LCAwKTtcblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIHRoZSBzdW0gb2YgdGhlIHZhbHVlcyBpbiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuNC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHN1bS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zdW0oWzQsIDIsIDgsIDZdKTtcbiAgICAgKiAvLyA9PiAyMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN1bShhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVN1bShhcnJheSwgaWRlbnRpdHkpXG4gICAgICAgIDogMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnN1bWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IGluIGBhcnJheWAgdG8gZ2VuZXJhdGUgdGhlIHZhbHVlIHRvIGJlIHN1bW1lZC5cbiAgICAgKiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc3VtLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICduJzogNCB9LCB7ICduJzogMiB9LCB7ICduJzogOCB9LCB7ICduJzogNiB9XTtcbiAgICAgKlxuICAgICAqIF8uc3VtQnkob2JqZWN0cywgZnVuY3Rpb24obykgeyByZXR1cm4gby5uOyB9KTtcbiAgICAgKiAvLyA9PiAyMFxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5zdW1CeShvYmplY3RzLCAnbicpO1xuICAgICAqIC8vID0+IDIwXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3VtQnkoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlU3VtKGFycmF5LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpXG4gICAgICAgIDogMDtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0aGF0IHJldHVybiB3cmFwcGVkIHZhbHVlcyBpbiBjaGFpbiBzZXF1ZW5jZXMuXG4gICAgbG9kYXNoLmFmdGVyID0gYWZ0ZXI7XG4gICAgbG9kYXNoLmFyeSA9IGFyeTtcbiAgICBsb2Rhc2guYXNzaWduID0gYXNzaWduO1xuICAgIGxvZGFzaC5hc3NpZ25JbiA9IGFzc2lnbkluO1xuICAgIGxvZGFzaC5hc3NpZ25JbldpdGggPSBhc3NpZ25JbldpdGg7XG4gICAgbG9kYXNoLmFzc2lnbldpdGggPSBhc3NpZ25XaXRoO1xuICAgIGxvZGFzaC5hdCA9IGF0O1xuICAgIGxvZGFzaC5iZWZvcmUgPSBiZWZvcmU7XG4gICAgbG9kYXNoLmJpbmQgPSBiaW5kO1xuICAgIGxvZGFzaC5iaW5kQWxsID0gYmluZEFsbDtcbiAgICBsb2Rhc2guYmluZEtleSA9IGJpbmRLZXk7XG4gICAgbG9kYXNoLmNhc3RBcnJheSA9IGNhc3RBcnJheTtcbiAgICBsb2Rhc2guY2hhaW4gPSBjaGFpbjtcbiAgICBsb2Rhc2guY2h1bmsgPSBjaHVuaztcbiAgICBsb2Rhc2guY29tcGFjdCA9IGNvbXBhY3Q7XG4gICAgbG9kYXNoLmNvbmNhdCA9IGNvbmNhdDtcbiAgICBsb2Rhc2guY29uZCA9IGNvbmQ7XG4gICAgbG9kYXNoLmNvbmZvcm1zID0gY29uZm9ybXM7XG4gICAgbG9kYXNoLmNvbnN0YW50ID0gY29uc3RhbnQ7XG4gICAgbG9kYXNoLmNvdW50QnkgPSBjb3VudEJ5O1xuICAgIGxvZGFzaC5jcmVhdGUgPSBjcmVhdGU7XG4gICAgbG9kYXNoLmN1cnJ5ID0gY3Vycnk7XG4gICAgbG9kYXNoLmN1cnJ5UmlnaHQgPSBjdXJyeVJpZ2h0O1xuICAgIGxvZGFzaC5kZWJvdW5jZSA9IGRlYm91bmNlO1xuICAgIGxvZGFzaC5kZWZhdWx0cyA9IGRlZmF1bHRzO1xuICAgIGxvZGFzaC5kZWZhdWx0c0RlZXAgPSBkZWZhdWx0c0RlZXA7XG4gICAgbG9kYXNoLmRlZmVyID0gZGVmZXI7XG4gICAgbG9kYXNoLmRlbGF5ID0gZGVsYXk7XG4gICAgbG9kYXNoLmRpZmZlcmVuY2UgPSBkaWZmZXJlbmNlO1xuICAgIGxvZGFzaC5kaWZmZXJlbmNlQnkgPSBkaWZmZXJlbmNlQnk7XG4gICAgbG9kYXNoLmRpZmZlcmVuY2VXaXRoID0gZGlmZmVyZW5jZVdpdGg7XG4gICAgbG9kYXNoLmRyb3AgPSBkcm9wO1xuICAgIGxvZGFzaC5kcm9wUmlnaHQgPSBkcm9wUmlnaHQ7XG4gICAgbG9kYXNoLmRyb3BSaWdodFdoaWxlID0gZHJvcFJpZ2h0V2hpbGU7XG4gICAgbG9kYXNoLmRyb3BXaGlsZSA9IGRyb3BXaGlsZTtcbiAgICBsb2Rhc2guZmlsbCA9IGZpbGw7XG4gICAgbG9kYXNoLmZpbHRlciA9IGZpbHRlcjtcbiAgICBsb2Rhc2guZmxhdE1hcCA9IGZsYXRNYXA7XG4gICAgbG9kYXNoLmZsYXRNYXBEZWVwID0gZmxhdE1hcERlZXA7XG4gICAgbG9kYXNoLmZsYXRNYXBEZXB0aCA9IGZsYXRNYXBEZXB0aDtcbiAgICBsb2Rhc2guZmxhdHRlbiA9IGZsYXR0ZW47XG4gICAgbG9kYXNoLmZsYXR0ZW5EZWVwID0gZmxhdHRlbkRlZXA7XG4gICAgbG9kYXNoLmZsYXR0ZW5EZXB0aCA9IGZsYXR0ZW5EZXB0aDtcbiAgICBsb2Rhc2guZmxpcCA9IGZsaXA7XG4gICAgbG9kYXNoLmZsb3cgPSBmbG93O1xuICAgIGxvZGFzaC5mbG93UmlnaHQgPSBmbG93UmlnaHQ7XG4gICAgbG9kYXNoLmZyb21QYWlycyA9IGZyb21QYWlycztcbiAgICBsb2Rhc2guZnVuY3Rpb25zID0gZnVuY3Rpb25zO1xuICAgIGxvZGFzaC5mdW5jdGlvbnNJbiA9IGZ1bmN0aW9uc0luO1xuICAgIGxvZGFzaC5ncm91cEJ5ID0gZ3JvdXBCeTtcbiAgICBsb2Rhc2guaW5pdGlhbCA9IGluaXRpYWw7XG4gICAgbG9kYXNoLmludGVyc2VjdGlvbiA9IGludGVyc2VjdGlvbjtcbiAgICBsb2Rhc2guaW50ZXJzZWN0aW9uQnkgPSBpbnRlcnNlY3Rpb25CeTtcbiAgICBsb2Rhc2guaW50ZXJzZWN0aW9uV2l0aCA9IGludGVyc2VjdGlvbldpdGg7XG4gICAgbG9kYXNoLmludmVydCA9IGludmVydDtcbiAgICBsb2Rhc2guaW52ZXJ0QnkgPSBpbnZlcnRCeTtcbiAgICBsb2Rhc2guaW52b2tlTWFwID0gaW52b2tlTWFwO1xuICAgIGxvZGFzaC5pdGVyYXRlZSA9IGl0ZXJhdGVlO1xuICAgIGxvZGFzaC5rZXlCeSA9IGtleUJ5O1xuICAgIGxvZGFzaC5rZXlzID0ga2V5cztcbiAgICBsb2Rhc2gua2V5c0luID0ga2V5c0luO1xuICAgIGxvZGFzaC5tYXAgPSBtYXA7XG4gICAgbG9kYXNoLm1hcEtleXMgPSBtYXBLZXlzO1xuICAgIGxvZGFzaC5tYXBWYWx1ZXMgPSBtYXBWYWx1ZXM7XG4gICAgbG9kYXNoLm1hdGNoZXMgPSBtYXRjaGVzO1xuICAgIGxvZGFzaC5tYXRjaGVzUHJvcGVydHkgPSBtYXRjaGVzUHJvcGVydHk7XG4gICAgbG9kYXNoLm1lbW9pemUgPSBtZW1vaXplO1xuICAgIGxvZGFzaC5tZXJnZSA9IG1lcmdlO1xuICAgIGxvZGFzaC5tZXJnZVdpdGggPSBtZXJnZVdpdGg7XG4gICAgbG9kYXNoLm1ldGhvZCA9IG1ldGhvZDtcbiAgICBsb2Rhc2gubWV0aG9kT2YgPSBtZXRob2RPZjtcbiAgICBsb2Rhc2gubWl4aW4gPSBtaXhpbjtcbiAgICBsb2Rhc2gubmVnYXRlID0gbmVnYXRlO1xuICAgIGxvZGFzaC5udGhBcmcgPSBudGhBcmc7XG4gICAgbG9kYXNoLm9taXQgPSBvbWl0O1xuICAgIGxvZGFzaC5vbWl0QnkgPSBvbWl0Qnk7XG4gICAgbG9kYXNoLm9uY2UgPSBvbmNlO1xuICAgIGxvZGFzaC5vcmRlckJ5ID0gb3JkZXJCeTtcbiAgICBsb2Rhc2gub3ZlciA9IG92ZXI7XG4gICAgbG9kYXNoLm92ZXJBcmdzID0gb3ZlckFyZ3M7XG4gICAgbG9kYXNoLm92ZXJFdmVyeSA9IG92ZXJFdmVyeTtcbiAgICBsb2Rhc2gub3ZlclNvbWUgPSBvdmVyU29tZTtcbiAgICBsb2Rhc2gucGFydGlhbCA9IHBhcnRpYWw7XG4gICAgbG9kYXNoLnBhcnRpYWxSaWdodCA9IHBhcnRpYWxSaWdodDtcbiAgICBsb2Rhc2gucGFydGl0aW9uID0gcGFydGl0aW9uO1xuICAgIGxvZGFzaC5waWNrID0gcGljaztcbiAgICBsb2Rhc2gucGlja0J5ID0gcGlja0J5O1xuICAgIGxvZGFzaC5wcm9wZXJ0eSA9IHByb3BlcnR5O1xuICAgIGxvZGFzaC5wcm9wZXJ0eU9mID0gcHJvcGVydHlPZjtcbiAgICBsb2Rhc2gucHVsbCA9IHB1bGw7XG4gICAgbG9kYXNoLnB1bGxBbGwgPSBwdWxsQWxsO1xuICAgIGxvZGFzaC5wdWxsQWxsQnkgPSBwdWxsQWxsQnk7XG4gICAgbG9kYXNoLnB1bGxBbGxXaXRoID0gcHVsbEFsbFdpdGg7XG4gICAgbG9kYXNoLnB1bGxBdCA9IHB1bGxBdDtcbiAgICBsb2Rhc2gucmFuZ2UgPSByYW5nZTtcbiAgICBsb2Rhc2gucmFuZ2VSaWdodCA9IHJhbmdlUmlnaHQ7XG4gICAgbG9kYXNoLnJlYXJnID0gcmVhcmc7XG4gICAgbG9kYXNoLnJlamVjdCA9IHJlamVjdDtcbiAgICBsb2Rhc2gucmVtb3ZlID0gcmVtb3ZlO1xuICAgIGxvZGFzaC5yZXN0ID0gcmVzdDtcbiAgICBsb2Rhc2gucmV2ZXJzZSA9IHJldmVyc2U7XG4gICAgbG9kYXNoLnNhbXBsZVNpemUgPSBzYW1wbGVTaXplO1xuICAgIGxvZGFzaC5zZXQgPSBzZXQ7XG4gICAgbG9kYXNoLnNldFdpdGggPSBzZXRXaXRoO1xuICAgIGxvZGFzaC5zaHVmZmxlID0gc2h1ZmZsZTtcbiAgICBsb2Rhc2guc2xpY2UgPSBzbGljZTtcbiAgICBsb2Rhc2guc29ydEJ5ID0gc29ydEJ5O1xuICAgIGxvZGFzaC5zb3J0ZWRVbmlxID0gc29ydGVkVW5pcTtcbiAgICBsb2Rhc2guc29ydGVkVW5pcUJ5ID0gc29ydGVkVW5pcUJ5O1xuICAgIGxvZGFzaC5zcGxpdCA9IHNwbGl0O1xuICAgIGxvZGFzaC5zcHJlYWQgPSBzcHJlYWQ7XG4gICAgbG9kYXNoLnRhaWwgPSB0YWlsO1xuICAgIGxvZGFzaC50YWtlID0gdGFrZTtcbiAgICBsb2Rhc2gudGFrZVJpZ2h0ID0gdGFrZVJpZ2h0O1xuICAgIGxvZGFzaC50YWtlUmlnaHRXaGlsZSA9IHRha2VSaWdodFdoaWxlO1xuICAgIGxvZGFzaC50YWtlV2hpbGUgPSB0YWtlV2hpbGU7XG4gICAgbG9kYXNoLnRhcCA9IHRhcDtcbiAgICBsb2Rhc2gudGhyb3R0bGUgPSB0aHJvdHRsZTtcbiAgICBsb2Rhc2gudGhydSA9IHRocnU7XG4gICAgbG9kYXNoLnRvQXJyYXkgPSB0b0FycmF5O1xuICAgIGxvZGFzaC50b1BhaXJzID0gdG9QYWlycztcbiAgICBsb2Rhc2gudG9QYWlyc0luID0gdG9QYWlyc0luO1xuICAgIGxvZGFzaC50b1BhdGggPSB0b1BhdGg7XG4gICAgbG9kYXNoLnRvUGxhaW5PYmplY3QgPSB0b1BsYWluT2JqZWN0O1xuICAgIGxvZGFzaC50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgbG9kYXNoLnVuYXJ5ID0gdW5hcnk7XG4gICAgbG9kYXNoLnVuaW9uID0gdW5pb247XG4gICAgbG9kYXNoLnVuaW9uQnkgPSB1bmlvbkJ5O1xuICAgIGxvZGFzaC51bmlvbldpdGggPSB1bmlvbldpdGg7XG4gICAgbG9kYXNoLnVuaXEgPSB1bmlxO1xuICAgIGxvZGFzaC51bmlxQnkgPSB1bmlxQnk7XG4gICAgbG9kYXNoLnVuaXFXaXRoID0gdW5pcVdpdGg7XG4gICAgbG9kYXNoLnVuc2V0ID0gdW5zZXQ7XG4gICAgbG9kYXNoLnVuemlwID0gdW56aXA7XG4gICAgbG9kYXNoLnVuemlwV2l0aCA9IHVuemlwV2l0aDtcbiAgICBsb2Rhc2gudXBkYXRlID0gdXBkYXRlO1xuICAgIGxvZGFzaC51cGRhdGVXaXRoID0gdXBkYXRlV2l0aDtcbiAgICBsb2Rhc2gudmFsdWVzID0gdmFsdWVzO1xuICAgIGxvZGFzaC52YWx1ZXNJbiA9IHZhbHVlc0luO1xuICAgIGxvZGFzaC53aXRob3V0ID0gd2l0aG91dDtcbiAgICBsb2Rhc2gud29yZHMgPSB3b3JkcztcbiAgICBsb2Rhc2gud3JhcCA9IHdyYXA7XG4gICAgbG9kYXNoLnhvciA9IHhvcjtcbiAgICBsb2Rhc2gueG9yQnkgPSB4b3JCeTtcbiAgICBsb2Rhc2gueG9yV2l0aCA9IHhvcldpdGg7XG4gICAgbG9kYXNoLnppcCA9IHppcDtcbiAgICBsb2Rhc2guemlwT2JqZWN0ID0gemlwT2JqZWN0O1xuICAgIGxvZGFzaC56aXBPYmplY3REZWVwID0gemlwT2JqZWN0RGVlcDtcbiAgICBsb2Rhc2guemlwV2l0aCA9IHppcFdpdGg7XG5cbiAgICAvLyBBZGQgYWxpYXNlcy5cbiAgICBsb2Rhc2guZW50cmllcyA9IHRvUGFpcnM7XG4gICAgbG9kYXNoLmVudHJpZXNJbiA9IHRvUGFpcnNJbjtcbiAgICBsb2Rhc2guZXh0ZW5kID0gYXNzaWduSW47XG4gICAgbG9kYXNoLmV4dGVuZFdpdGggPSBhc3NpZ25JbldpdGg7XG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0byBgbG9kYXNoLnByb3RvdHlwZWAuXG4gICAgbWl4aW4obG9kYXNoLCBsb2Rhc2gpO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLy8gQWRkIG1ldGhvZHMgdGhhdCByZXR1cm4gdW53cmFwcGVkIHZhbHVlcyBpbiBjaGFpbiBzZXF1ZW5jZXMuXG4gICAgbG9kYXNoLmFkZCA9IGFkZDtcbiAgICBsb2Rhc2guYXR0ZW1wdCA9IGF0dGVtcHQ7XG4gICAgbG9kYXNoLmNhbWVsQ2FzZSA9IGNhbWVsQ2FzZTtcbiAgICBsb2Rhc2guY2FwaXRhbGl6ZSA9IGNhcGl0YWxpemU7XG4gICAgbG9kYXNoLmNlaWwgPSBjZWlsO1xuICAgIGxvZGFzaC5jbGFtcCA9IGNsYW1wO1xuICAgIGxvZGFzaC5jbG9uZSA9IGNsb25lO1xuICAgIGxvZGFzaC5jbG9uZURlZXAgPSBjbG9uZURlZXA7XG4gICAgbG9kYXNoLmNsb25lRGVlcFdpdGggPSBjbG9uZURlZXBXaXRoO1xuICAgIGxvZGFzaC5jbG9uZVdpdGggPSBjbG9uZVdpdGg7XG4gICAgbG9kYXNoLmNvbmZvcm1zVG8gPSBjb25mb3Jtc1RvO1xuICAgIGxvZGFzaC5kZWJ1cnIgPSBkZWJ1cnI7XG4gICAgbG9kYXNoLmRlZmF1bHRUbyA9IGRlZmF1bHRUbztcbiAgICBsb2Rhc2guZGl2aWRlID0gZGl2aWRlO1xuICAgIGxvZGFzaC5lbmRzV2l0aCA9IGVuZHNXaXRoO1xuICAgIGxvZGFzaC5lcSA9IGVxO1xuICAgIGxvZGFzaC5lc2NhcGUgPSBlc2NhcGU7XG4gICAgbG9kYXNoLmVzY2FwZVJlZ0V4cCA9IGVzY2FwZVJlZ0V4cDtcbiAgICBsb2Rhc2guZXZlcnkgPSBldmVyeTtcbiAgICBsb2Rhc2guZmluZCA9IGZpbmQ7XG4gICAgbG9kYXNoLmZpbmRJbmRleCA9IGZpbmRJbmRleDtcbiAgICBsb2Rhc2guZmluZEtleSA9IGZpbmRLZXk7XG4gICAgbG9kYXNoLmZpbmRMYXN0ID0gZmluZExhc3Q7XG4gICAgbG9kYXNoLmZpbmRMYXN0SW5kZXggPSBmaW5kTGFzdEluZGV4O1xuICAgIGxvZGFzaC5maW5kTGFzdEtleSA9IGZpbmRMYXN0S2V5O1xuICAgIGxvZGFzaC5mbG9vciA9IGZsb29yO1xuICAgIGxvZGFzaC5mb3JFYWNoID0gZm9yRWFjaDtcbiAgICBsb2Rhc2guZm9yRWFjaFJpZ2h0ID0gZm9yRWFjaFJpZ2h0O1xuICAgIGxvZGFzaC5mb3JJbiA9IGZvckluO1xuICAgIGxvZGFzaC5mb3JJblJpZ2h0ID0gZm9ySW5SaWdodDtcbiAgICBsb2Rhc2guZm9yT3duID0gZm9yT3duO1xuICAgIGxvZGFzaC5mb3JPd25SaWdodCA9IGZvck93blJpZ2h0O1xuICAgIGxvZGFzaC5nZXQgPSBnZXQ7XG4gICAgbG9kYXNoLmd0ID0gZ3Q7XG4gICAgbG9kYXNoLmd0ZSA9IGd0ZTtcbiAgICBsb2Rhc2guaGFzID0gaGFzO1xuICAgIGxvZGFzaC5oYXNJbiA9IGhhc0luO1xuICAgIGxvZGFzaC5oZWFkID0gaGVhZDtcbiAgICBsb2Rhc2guaWRlbnRpdHkgPSBpZGVudGl0eTtcbiAgICBsb2Rhc2guaW5jbHVkZXMgPSBpbmNsdWRlcztcbiAgICBsb2Rhc2guaW5kZXhPZiA9IGluZGV4T2Y7XG4gICAgbG9kYXNoLmluUmFuZ2UgPSBpblJhbmdlO1xuICAgIGxvZGFzaC5pbnZva2UgPSBpbnZva2U7XG4gICAgbG9kYXNoLmlzQXJndW1lbnRzID0gaXNBcmd1bWVudHM7XG4gICAgbG9kYXNoLmlzQXJyYXkgPSBpc0FycmF5O1xuICAgIGxvZGFzaC5pc0FycmF5QnVmZmVyID0gaXNBcnJheUJ1ZmZlcjtcbiAgICBsb2Rhc2guaXNBcnJheUxpa2UgPSBpc0FycmF5TGlrZTtcbiAgICBsb2Rhc2guaXNBcnJheUxpa2VPYmplY3QgPSBpc0FycmF5TGlrZU9iamVjdDtcbiAgICBsb2Rhc2guaXNCb29sZWFuID0gaXNCb29sZWFuO1xuICAgIGxvZGFzaC5pc0J1ZmZlciA9IGlzQnVmZmVyO1xuICAgIGxvZGFzaC5pc0RhdGUgPSBpc0RhdGU7XG4gICAgbG9kYXNoLmlzRWxlbWVudCA9IGlzRWxlbWVudDtcbiAgICBsb2Rhc2guaXNFbXB0eSA9IGlzRW1wdHk7XG4gICAgbG9kYXNoLmlzRXF1YWwgPSBpc0VxdWFsO1xuICAgIGxvZGFzaC5pc0VxdWFsV2l0aCA9IGlzRXF1YWxXaXRoO1xuICAgIGxvZGFzaC5pc0Vycm9yID0gaXNFcnJvcjtcbiAgICBsb2Rhc2guaXNGaW5pdGUgPSBpc0Zpbml0ZTtcbiAgICBsb2Rhc2guaXNGdW5jdGlvbiA9IGlzRnVuY3Rpb247XG4gICAgbG9kYXNoLmlzSW50ZWdlciA9IGlzSW50ZWdlcjtcbiAgICBsb2Rhc2guaXNMZW5ndGggPSBpc0xlbmd0aDtcbiAgICBsb2Rhc2guaXNNYXAgPSBpc01hcDtcbiAgICBsb2Rhc2guaXNNYXRjaCA9IGlzTWF0Y2g7XG4gICAgbG9kYXNoLmlzTWF0Y2hXaXRoID0gaXNNYXRjaFdpdGg7XG4gICAgbG9kYXNoLmlzTmFOID0gaXNOYU47XG4gICAgbG9kYXNoLmlzTmF0aXZlID0gaXNOYXRpdmU7XG4gICAgbG9kYXNoLmlzTmlsID0gaXNOaWw7XG4gICAgbG9kYXNoLmlzTnVsbCA9IGlzTnVsbDtcbiAgICBsb2Rhc2guaXNOdW1iZXIgPSBpc051bWJlcjtcbiAgICBsb2Rhc2guaXNPYmplY3QgPSBpc09iamVjdDtcbiAgICBsb2Rhc2guaXNPYmplY3RMaWtlID0gaXNPYmplY3RMaWtlO1xuICAgIGxvZGFzaC5pc1BsYWluT2JqZWN0ID0gaXNQbGFpbk9iamVjdDtcbiAgICBsb2Rhc2guaXNSZWdFeHAgPSBpc1JlZ0V4cDtcbiAgICBsb2Rhc2guaXNTYWZlSW50ZWdlciA9IGlzU2FmZUludGVnZXI7XG4gICAgbG9kYXNoLmlzU2V0ID0gaXNTZXQ7XG4gICAgbG9kYXNoLmlzU3RyaW5nID0gaXNTdHJpbmc7XG4gICAgbG9kYXNoLmlzU3ltYm9sID0gaXNTeW1ib2w7XG4gICAgbG9kYXNoLmlzVHlwZWRBcnJheSA9IGlzVHlwZWRBcnJheTtcbiAgICBsb2Rhc2guaXNVbmRlZmluZWQgPSBpc1VuZGVmaW5lZDtcbiAgICBsb2Rhc2guaXNXZWFrTWFwID0gaXNXZWFrTWFwO1xuICAgIGxvZGFzaC5pc1dlYWtTZXQgPSBpc1dlYWtTZXQ7XG4gICAgbG9kYXNoLmpvaW4gPSBqb2luO1xuICAgIGxvZGFzaC5rZWJhYkNhc2UgPSBrZWJhYkNhc2U7XG4gICAgbG9kYXNoLmxhc3QgPSBsYXN0O1xuICAgIGxvZGFzaC5sYXN0SW5kZXhPZiA9IGxhc3RJbmRleE9mO1xuICAgIGxvZGFzaC5sb3dlckNhc2UgPSBsb3dlckNhc2U7XG4gICAgbG9kYXNoLmxvd2VyRmlyc3QgPSBsb3dlckZpcnN0O1xuICAgIGxvZGFzaC5sdCA9IGx0O1xuICAgIGxvZGFzaC5sdGUgPSBsdGU7XG4gICAgbG9kYXNoLm1heCA9IG1heDtcbiAgICBsb2Rhc2gubWF4QnkgPSBtYXhCeTtcbiAgICBsb2Rhc2gubWVhbiA9IG1lYW47XG4gICAgbG9kYXNoLm1lYW5CeSA9IG1lYW5CeTtcbiAgICBsb2Rhc2gubWluID0gbWluO1xuICAgIGxvZGFzaC5taW5CeSA9IG1pbkJ5O1xuICAgIGxvZGFzaC5zdHViQXJyYXkgPSBzdHViQXJyYXk7XG4gICAgbG9kYXNoLnN0dWJGYWxzZSA9IHN0dWJGYWxzZTtcbiAgICBsb2Rhc2guc3R1Yk9iamVjdCA9IHN0dWJPYmplY3Q7XG4gICAgbG9kYXNoLnN0dWJTdHJpbmcgPSBzdHViU3RyaW5nO1xuICAgIGxvZGFzaC5zdHViVHJ1ZSA9IHN0dWJUcnVlO1xuICAgIGxvZGFzaC5tdWx0aXBseSA9IG11bHRpcGx5O1xuICAgIGxvZGFzaC5udGggPSBudGg7XG4gICAgbG9kYXNoLm5vQ29uZmxpY3QgPSBub0NvbmZsaWN0O1xuICAgIGxvZGFzaC5ub29wID0gbm9vcDtcbiAgICBsb2Rhc2gubm93ID0gbm93O1xuICAgIGxvZGFzaC5wYWQgPSBwYWQ7XG4gICAgbG9kYXNoLnBhZEVuZCA9IHBhZEVuZDtcbiAgICBsb2Rhc2gucGFkU3RhcnQgPSBwYWRTdGFydDtcbiAgICBsb2Rhc2gucGFyc2VJbnQgPSBwYXJzZUludDtcbiAgICBsb2Rhc2gucmFuZG9tID0gcmFuZG9tO1xuICAgIGxvZGFzaC5yZWR1Y2UgPSByZWR1Y2U7XG4gICAgbG9kYXNoLnJlZHVjZVJpZ2h0ID0gcmVkdWNlUmlnaHQ7XG4gICAgbG9kYXNoLnJlcGVhdCA9IHJlcGVhdDtcbiAgICBsb2Rhc2gucmVwbGFjZSA9IHJlcGxhY2U7XG4gICAgbG9kYXNoLnJlc3VsdCA9IHJlc3VsdDtcbiAgICBsb2Rhc2gucm91bmQgPSByb3VuZDtcbiAgICBsb2Rhc2gucnVuSW5Db250ZXh0ID0gcnVuSW5Db250ZXh0O1xuICAgIGxvZGFzaC5zYW1wbGUgPSBzYW1wbGU7XG4gICAgbG9kYXNoLnNpemUgPSBzaXplO1xuICAgIGxvZGFzaC5zbmFrZUNhc2UgPSBzbmFrZUNhc2U7XG4gICAgbG9kYXNoLnNvbWUgPSBzb21lO1xuICAgIGxvZGFzaC5zb3J0ZWRJbmRleCA9IHNvcnRlZEluZGV4O1xuICAgIGxvZGFzaC5zb3J0ZWRJbmRleEJ5ID0gc29ydGVkSW5kZXhCeTtcbiAgICBsb2Rhc2guc29ydGVkSW5kZXhPZiA9IHNvcnRlZEluZGV4T2Y7XG4gICAgbG9kYXNoLnNvcnRlZExhc3RJbmRleCA9IHNvcnRlZExhc3RJbmRleDtcbiAgICBsb2Rhc2guc29ydGVkTGFzdEluZGV4QnkgPSBzb3J0ZWRMYXN0SW5kZXhCeTtcbiAgICBsb2Rhc2guc29ydGVkTGFzdEluZGV4T2YgPSBzb3J0ZWRMYXN0SW5kZXhPZjtcbiAgICBsb2Rhc2guc3RhcnRDYXNlID0gc3RhcnRDYXNlO1xuICAgIGxvZGFzaC5zdGFydHNXaXRoID0gc3RhcnRzV2l0aDtcbiAgICBsb2Rhc2guc3VidHJhY3QgPSBzdWJ0cmFjdDtcbiAgICBsb2Rhc2guc3VtID0gc3VtO1xuICAgIGxvZGFzaC5zdW1CeSA9IHN1bUJ5O1xuICAgIGxvZGFzaC50ZW1wbGF0ZSA9IHRlbXBsYXRlO1xuICAgIGxvZGFzaC50aW1lcyA9IHRpbWVzO1xuICAgIGxvZGFzaC50b0Zpbml0ZSA9IHRvRmluaXRlO1xuICAgIGxvZGFzaC50b0ludGVnZXIgPSB0b0ludGVnZXI7XG4gICAgbG9kYXNoLnRvTGVuZ3RoID0gdG9MZW5ndGg7XG4gICAgbG9kYXNoLnRvTG93ZXIgPSB0b0xvd2VyO1xuICAgIGxvZGFzaC50b051bWJlciA9IHRvTnVtYmVyO1xuICAgIGxvZGFzaC50b1NhZmVJbnRlZ2VyID0gdG9TYWZlSW50ZWdlcjtcbiAgICBsb2Rhc2gudG9TdHJpbmcgPSB0b1N0cmluZztcbiAgICBsb2Rhc2gudG9VcHBlciA9IHRvVXBwZXI7XG4gICAgbG9kYXNoLnRyaW0gPSB0cmltO1xuICAgIGxvZGFzaC50cmltRW5kID0gdHJpbUVuZDtcbiAgICBsb2Rhc2gudHJpbVN0YXJ0ID0gdHJpbVN0YXJ0O1xuICAgIGxvZGFzaC50cnVuY2F0ZSA9IHRydW5jYXRlO1xuICAgIGxvZGFzaC51bmVzY2FwZSA9IHVuZXNjYXBlO1xuICAgIGxvZGFzaC51bmlxdWVJZCA9IHVuaXF1ZUlkO1xuICAgIGxvZGFzaC51cHBlckNhc2UgPSB1cHBlckNhc2U7XG4gICAgbG9kYXNoLnVwcGVyRmlyc3QgPSB1cHBlckZpcnN0O1xuXG4gICAgLy8gQWRkIGFsaWFzZXMuXG4gICAgbG9kYXNoLmVhY2ggPSBmb3JFYWNoO1xuICAgIGxvZGFzaC5lYWNoUmlnaHQgPSBmb3JFYWNoUmlnaHQ7XG4gICAgbG9kYXNoLmZpcnN0ID0gaGVhZDtcblxuICAgIG1peGluKGxvZGFzaCwgKGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNvdXJjZSA9IHt9O1xuICAgICAgYmFzZUZvck93bihsb2Rhc2gsIGZ1bmN0aW9uKGZ1bmMsIG1ldGhvZE5hbWUpIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wZXJ0eS5jYWxsKGxvZGFzaC5wcm90b3R5cGUsIG1ldGhvZE5hbWUpKSB7XG4gICAgICAgICAgc291cmNlW21ldGhvZE5hbWVdID0gZnVuYztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gc291cmNlO1xuICAgIH0oKSksIHsgJ2NoYWluJzogZmFsc2UgfSk7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2VtYW50aWMgdmVyc2lvbiBudW1iZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIGxvZGFzaC5WRVJTSU9OID0gVkVSU0lPTjtcblxuICAgIC8vIEFzc2lnbiBkZWZhdWx0IHBsYWNlaG9sZGVycy5cbiAgICBhcnJheUVhY2goWydiaW5kJywgJ2JpbmRLZXknLCAnY3VycnknLCAnY3VycnlSaWdodCcsICdwYXJ0aWFsJywgJ3BhcnRpYWxSaWdodCddLCBmdW5jdGlvbihtZXRob2ROYW1lKSB7XG4gICAgICBsb2Rhc2hbbWV0aG9kTmFtZV0ucGxhY2Vob2xkZXIgPSBsb2Rhc2g7XG4gICAgfSk7XG5cbiAgICAvLyBBZGQgYExhenlXcmFwcGVyYCBtZXRob2RzIGZvciBgXy5kcm9wYCBhbmQgYF8udGFrZWAgdmFyaWFudHMuXG4gICAgYXJyYXlFYWNoKFsnZHJvcCcsICd0YWtlJ10sIGZ1bmN0aW9uKG1ldGhvZE5hbWUsIGluZGV4KSB7XG4gICAgICBMYXp5V3JhcHBlci5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbihuKSB7XG4gICAgICAgIG4gPSBuID09PSB1bmRlZmluZWQgPyAxIDogbmF0aXZlTWF4KHRvSW50ZWdlcihuKSwgMCk7XG5cbiAgICAgICAgdmFyIHJlc3VsdCA9ICh0aGlzLl9fZmlsdGVyZWRfXyAmJiAhaW5kZXgpXG4gICAgICAgICAgPyBuZXcgTGF6eVdyYXBwZXIodGhpcylcbiAgICAgICAgICA6IHRoaXMuY2xvbmUoKTtcblxuICAgICAgICBpZiAocmVzdWx0Ll9fZmlsdGVyZWRfXykge1xuICAgICAgICAgIHJlc3VsdC5fX3Rha2VDb3VudF9fID0gbmF0aXZlTWluKG4sIHJlc3VsdC5fX3Rha2VDb3VudF9fKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN1bHQuX192aWV3c19fLnB1c2goe1xuICAgICAgICAgICAgJ3NpemUnOiBuYXRpdmVNaW4obiwgTUFYX0FSUkFZX0xFTkdUSCksXG4gICAgICAgICAgICAndHlwZSc6IG1ldGhvZE5hbWUgKyAocmVzdWx0Ll9fZGlyX18gPCAwID8gJ1JpZ2h0JyA6ICcnKVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuXG4gICAgICBMYXp5V3JhcHBlci5wcm90b3R5cGVbbWV0aG9kTmFtZSArICdSaWdodCddID0gZnVuY3Rpb24obikge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXZlcnNlKClbbWV0aG9kTmFtZV0obikucmV2ZXJzZSgpO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBgTGF6eVdyYXBwZXJgIG1ldGhvZHMgdGhhdCBhY2NlcHQgYW4gYGl0ZXJhdGVlYCB2YWx1ZS5cbiAgICBhcnJheUVhY2goWydmaWx0ZXInLCAnbWFwJywgJ3Rha2VXaGlsZSddLCBmdW5jdGlvbihtZXRob2ROYW1lLCBpbmRleCkge1xuICAgICAgdmFyIHR5cGUgPSBpbmRleCArIDEsXG4gICAgICAgICAgaXNGaWx0ZXIgPSB0eXBlID09IExBWllfRklMVEVSX0ZMQUcgfHwgdHlwZSA9PSBMQVpZX1dISUxFX0ZMQUc7XG5cbiAgICAgIExhenlXcmFwcGVyLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKGl0ZXJhdGVlKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSB0aGlzLmNsb25lKCk7XG4gICAgICAgIHJlc3VsdC5fX2l0ZXJhdGVlc19fLnB1c2goe1xuICAgICAgICAgICdpdGVyYXRlZSc6IGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSxcbiAgICAgICAgICAndHlwZSc6IHR5cGVcbiAgICAgICAgfSk7XG4gICAgICAgIHJlc3VsdC5fX2ZpbHRlcmVkX18gPSByZXN1bHQuX19maWx0ZXJlZF9fIHx8IGlzRmlsdGVyO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBgTGF6eVdyYXBwZXJgIG1ldGhvZHMgZm9yIGBfLmhlYWRgIGFuZCBgXy5sYXN0YC5cbiAgICBhcnJheUVhY2goWydoZWFkJywgJ2xhc3QnXSwgZnVuY3Rpb24obWV0aG9kTmFtZSwgaW5kZXgpIHtcbiAgICAgIHZhciB0YWtlTmFtZSA9ICd0YWtlJyArIChpbmRleCA/ICdSaWdodCcgOiAnJyk7XG5cbiAgICAgIExhenlXcmFwcGVyLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpc1t0YWtlTmFtZV0oMSkudmFsdWUoKVswXTtcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICAvLyBBZGQgYExhenlXcmFwcGVyYCBtZXRob2RzIGZvciBgXy5pbml0aWFsYCBhbmQgYF8udGFpbGAuXG4gICAgYXJyYXlFYWNoKFsnaW5pdGlhbCcsICd0YWlsJ10sIGZ1bmN0aW9uKG1ldGhvZE5hbWUsIGluZGV4KSB7XG4gICAgICB2YXIgZHJvcE5hbWUgPSAnZHJvcCcgKyAoaW5kZXggPyAnJyA6ICdSaWdodCcpO1xuXG4gICAgICBMYXp5V3JhcHBlci5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX19maWx0ZXJlZF9fID8gbmV3IExhenlXcmFwcGVyKHRoaXMpIDogdGhpc1tkcm9wTmFtZV0oMSk7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmNvbXBhY3QgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmZpbHRlcihpZGVudGl0eSk7XG4gICAgfTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24ocHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gdGhpcy5maWx0ZXIocHJlZGljYXRlKS5oZWFkKCk7XG4gICAgfTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5maW5kTGFzdCA9IGZ1bmN0aW9uKHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIHRoaXMucmV2ZXJzZSgpLmZpbmQocHJlZGljYXRlKTtcbiAgICB9O1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmludm9rZU1hcCA9IGJhc2VSZXN0KGZ1bmN0aW9uKHBhdGgsIGFyZ3MpIHtcbiAgICAgIGlmICh0eXBlb2YgcGF0aCA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBuZXcgTGF6eVdyYXBwZXIodGhpcyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VJbnZva2UodmFsdWUsIHBhdGgsIGFyZ3MpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUucmVqZWN0ID0gZnVuY3Rpb24ocHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gdGhpcy5maWx0ZXIobmVnYXRlKGdldEl0ZXJhdGVlKHByZWRpY2F0ZSkpKTtcbiAgICB9O1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLnNsaWNlID0gZnVuY3Rpb24oc3RhcnQsIGVuZCkge1xuICAgICAgc3RhcnQgPSB0b0ludGVnZXIoc3RhcnQpO1xuXG4gICAgICB2YXIgcmVzdWx0ID0gdGhpcztcbiAgICAgIGlmIChyZXN1bHQuX19maWx0ZXJlZF9fICYmIChzdGFydCA+IDAgfHwgZW5kIDwgMCkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBMYXp5V3JhcHBlcihyZXN1bHQpO1xuICAgICAgfVxuICAgICAgaWYgKHN0YXJ0IDwgMCkge1xuICAgICAgICByZXN1bHQgPSByZXN1bHQudGFrZVJpZ2h0KC1zdGFydCk7XG4gICAgICB9IGVsc2UgaWYgKHN0YXJ0KSB7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC5kcm9wKHN0YXJ0KTtcbiAgICAgIH1cbiAgICAgIGlmIChlbmQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBlbmQgPSB0b0ludGVnZXIoZW5kKTtcbiAgICAgICAgcmVzdWx0ID0gZW5kIDwgMCA/IHJlc3VsdC5kcm9wUmlnaHQoLWVuZCkgOiByZXN1bHQudGFrZShlbmQgLSBzdGFydCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUudGFrZVJpZ2h0V2hpbGUgPSBmdW5jdGlvbihwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiB0aGlzLnJldmVyc2UoKS50YWtlV2hpbGUocHJlZGljYXRlKS5yZXZlcnNlKCk7XG4gICAgfTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS50b0FycmF5ID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy50YWtlKE1BWF9BUlJBWV9MRU5HVEgpO1xuICAgIH07XG5cbiAgICAvLyBBZGQgYExhenlXcmFwcGVyYCBtZXRob2RzIHRvIGBsb2Rhc2gucHJvdG90eXBlYC5cbiAgICBiYXNlRm9yT3duKExhenlXcmFwcGVyLnByb3RvdHlwZSwgZnVuY3Rpb24oZnVuYywgbWV0aG9kTmFtZSkge1xuICAgICAgdmFyIGNoZWNrSXRlcmF0ZWUgPSAvXig/OmZpbHRlcnxmaW5kfG1hcHxyZWplY3QpfFdoaWxlJC8udGVzdChtZXRob2ROYW1lKSxcbiAgICAgICAgICBpc1Rha2VyID0gL14oPzpoZWFkfGxhc3QpJC8udGVzdChtZXRob2ROYW1lKSxcbiAgICAgICAgICBsb2Rhc2hGdW5jID0gbG9kYXNoW2lzVGFrZXIgPyAoJ3Rha2UnICsgKG1ldGhvZE5hbWUgPT0gJ2xhc3QnID8gJ1JpZ2h0JyA6ICcnKSkgOiBtZXRob2ROYW1lXSxcbiAgICAgICAgICByZXRVbndyYXBwZWQgPSBpc1Rha2VyIHx8IC9eZmluZC8udGVzdChtZXRob2ROYW1lKTtcblxuICAgICAgaWYgKCFsb2Rhc2hGdW5jKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGxvZGFzaC5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gdGhpcy5fX3dyYXBwZWRfXyxcbiAgICAgICAgICAgIGFyZ3MgPSBpc1Rha2VyID8gWzFdIDogYXJndW1lbnRzLFxuICAgICAgICAgICAgaXNMYXp5ID0gdmFsdWUgaW5zdGFuY2VvZiBMYXp5V3JhcHBlcixcbiAgICAgICAgICAgIGl0ZXJhdGVlID0gYXJnc1swXSxcbiAgICAgICAgICAgIHVzZUxhenkgPSBpc0xhenkgfHwgaXNBcnJheSh2YWx1ZSk7XG5cbiAgICAgICAgdmFyIGludGVyY2VwdG9yID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICB2YXIgcmVzdWx0ID0gbG9kYXNoRnVuYy5hcHBseShsb2Rhc2gsIGFycmF5UHVzaChbdmFsdWVdLCBhcmdzKSk7XG4gICAgICAgICAgcmV0dXJuIChpc1Rha2VyICYmIGNoYWluQWxsKSA/IHJlc3VsdFswXSA6IHJlc3VsdDtcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAodXNlTGF6eSAmJiBjaGVja0l0ZXJhdGVlICYmIHR5cGVvZiBpdGVyYXRlZSA9PSAnZnVuY3Rpb24nICYmIGl0ZXJhdGVlLmxlbmd0aCAhPSAxKSB7XG4gICAgICAgICAgLy8gQXZvaWQgbGF6eSB1c2UgaWYgdGhlIGl0ZXJhdGVlIGhhcyBhIFwibGVuZ3RoXCIgdmFsdWUgb3RoZXIgdGhhbiBgMWAuXG4gICAgICAgICAgaXNMYXp5ID0gdXNlTGF6eSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjaGFpbkFsbCA9IHRoaXMuX19jaGFpbl9fLFxuICAgICAgICAgICAgaXNIeWJyaWQgPSAhIXRoaXMuX19hY3Rpb25zX18ubGVuZ3RoLFxuICAgICAgICAgICAgaXNVbndyYXBwZWQgPSByZXRVbndyYXBwZWQgJiYgIWNoYWluQWxsLFxuICAgICAgICAgICAgb25seUxhenkgPSBpc0xhenkgJiYgIWlzSHlicmlkO1xuXG4gICAgICAgIGlmICghcmV0VW53cmFwcGVkICYmIHVzZUxhenkpIHtcbiAgICAgICAgICB2YWx1ZSA9IG9ubHlMYXp5ID8gdmFsdWUgOiBuZXcgTGF6eVdyYXBwZXIodGhpcyk7XG4gICAgICAgICAgdmFyIHJlc3VsdCA9IGZ1bmMuYXBwbHkodmFsdWUsIGFyZ3MpO1xuICAgICAgICAgIHJlc3VsdC5fX2FjdGlvbnNfXy5wdXNoKHsgJ2Z1bmMnOiB0aHJ1LCAnYXJncyc6IFtpbnRlcmNlcHRvcl0sICd0aGlzQXJnJzogdW5kZWZpbmVkIH0pO1xuICAgICAgICAgIHJldHVybiBuZXcgTG9kYXNoV3JhcHBlcihyZXN1bHQsIGNoYWluQWxsKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNVbndyYXBwZWQgJiYgb25seUxhenkpIHtcbiAgICAgICAgICByZXR1cm4gZnVuYy5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQgPSB0aGlzLnRocnUoaW50ZXJjZXB0b3IpO1xuICAgICAgICByZXR1cm4gaXNVbndyYXBwZWQgPyAoaXNUYWtlciA/IHJlc3VsdC52YWx1ZSgpWzBdIDogcmVzdWx0LnZhbHVlKCkpIDogcmVzdWx0O1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBgQXJyYXlgIG1ldGhvZHMgdG8gYGxvZGFzaC5wcm90b3R5cGVgLlxuICAgIGFycmF5RWFjaChbJ3BvcCcsICdwdXNoJywgJ3NoaWZ0JywgJ3NvcnQnLCAnc3BsaWNlJywgJ3Vuc2hpZnQnXSwgZnVuY3Rpb24obWV0aG9kTmFtZSkge1xuICAgICAgdmFyIGZ1bmMgPSBhcnJheVByb3RvW21ldGhvZE5hbWVdLFxuICAgICAgICAgIGNoYWluTmFtZSA9IC9eKD86cHVzaHxzb3J0fHVuc2hpZnQpJC8udGVzdChtZXRob2ROYW1lKSA/ICd0YXAnIDogJ3RocnUnLFxuICAgICAgICAgIHJldFVud3JhcHBlZCA9IC9eKD86cG9wfHNoaWZ0KSQvLnRlc3QobWV0aG9kTmFtZSk7XG5cbiAgICAgIGxvZGFzaC5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgIGlmIChyZXRVbndyYXBwZWQgJiYgIXRoaXMuX19jaGFpbl9fKSB7XG4gICAgICAgICAgdmFyIHZhbHVlID0gdGhpcy52YWx1ZSgpO1xuICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KGlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbXSwgYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXNbY2hhaW5OYW1lXShmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KGlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbXSwgYXJncyk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIE1hcCBtaW5pZmllZCBtZXRob2QgbmFtZXMgdG8gdGhlaXIgcmVhbCBuYW1lcy5cbiAgICBiYXNlRm9yT3duKExhenlXcmFwcGVyLnByb3RvdHlwZSwgZnVuY3Rpb24oZnVuYywgbWV0aG9kTmFtZSkge1xuICAgICAgdmFyIGxvZGFzaEZ1bmMgPSBsb2Rhc2hbbWV0aG9kTmFtZV07XG4gICAgICBpZiAobG9kYXNoRnVuYykge1xuICAgICAgICB2YXIga2V5ID0gbG9kYXNoRnVuYy5uYW1lICsgJyc7XG4gICAgICAgIGlmICghaGFzT3duUHJvcGVydHkuY2FsbChyZWFsTmFtZXMsIGtleSkpIHtcbiAgICAgICAgICByZWFsTmFtZXNba2V5XSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHJlYWxOYW1lc1trZXldLnB1c2goeyAnbmFtZSc6IG1ldGhvZE5hbWUsICdmdW5jJzogbG9kYXNoRnVuYyB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJlYWxOYW1lc1tjcmVhdGVIeWJyaWQodW5kZWZpbmVkLCBXUkFQX0JJTkRfS0VZX0ZMQUcpLm5hbWVdID0gW3tcbiAgICAgICduYW1lJzogJ3dyYXBwZXInLFxuICAgICAgJ2Z1bmMnOiB1bmRlZmluZWRcbiAgICB9XTtcblxuICAgIC8vIEFkZCBtZXRob2RzIHRvIGBMYXp5V3JhcHBlcmAuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmNsb25lID0gbGF6eUNsb25lO1xuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5yZXZlcnNlID0gbGF6eVJldmVyc2U7XG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLnZhbHVlID0gbGF6eVZhbHVlO1xuXG4gICAgLy8gQWRkIGNoYWluIHNlcXVlbmNlIG1ldGhvZHMgdG8gdGhlIGBsb2Rhc2hgIHdyYXBwZXIuXG4gICAgbG9kYXNoLnByb3RvdHlwZS5hdCA9IHdyYXBwZXJBdDtcbiAgICBsb2Rhc2gucHJvdG90eXBlLmNoYWluID0gd3JhcHBlckNoYWluO1xuICAgIGxvZGFzaC5wcm90b3R5cGUuY29tbWl0ID0gd3JhcHBlckNvbW1pdDtcbiAgICBsb2Rhc2gucHJvdG90eXBlLm5leHQgPSB3cmFwcGVyTmV4dDtcbiAgICBsb2Rhc2gucHJvdG90eXBlLnBsYW50ID0gd3JhcHBlclBsYW50O1xuICAgIGxvZGFzaC5wcm90b3R5cGUucmV2ZXJzZSA9IHdyYXBwZXJSZXZlcnNlO1xuICAgIGxvZGFzaC5wcm90b3R5cGUudG9KU09OID0gbG9kYXNoLnByb3RvdHlwZS52YWx1ZU9mID0gbG9kYXNoLnByb3RvdHlwZS52YWx1ZSA9IHdyYXBwZXJWYWx1ZTtcblxuICAgIC8vIEFkZCBsYXp5IGFsaWFzZXMuXG4gICAgbG9kYXNoLnByb3RvdHlwZS5maXJzdCA9IGxvZGFzaC5wcm90b3R5cGUuaGVhZDtcblxuICAgIGlmIChzeW1JdGVyYXRvcikge1xuICAgICAgbG9kYXNoLnByb3RvdHlwZVtzeW1JdGVyYXRvcl0gPSB3cmFwcGVyVG9JdGVyYXRvcjtcbiAgICB9XG4gICAgcmV0dXJuIGxvZGFzaDtcbiAgfSk7XG5cbiAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgLy8gRXhwb3J0IGxvZGFzaC5cbiAgdmFyIF8gPSBydW5JbkNvbnRleHQoKTtcblxuICAvLyBTb21lIEFNRCBidWlsZCBvcHRpbWl6ZXJzLCBsaWtlIHIuanMsIGNoZWNrIGZvciBjb25kaXRpb24gcGF0dGVybnMgbGlrZTpcbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZGVmaW5lLmFtZCA9PSAnb2JqZWN0JyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgLy8gRXhwb3NlIExvZGFzaCBvbiB0aGUgZ2xvYmFsIG9iamVjdCB0byBwcmV2ZW50IGVycm9ycyB3aGVuIExvZGFzaCBpc1xuICAgIC8vIGxvYWRlZCBieSBhIHNjcmlwdCB0YWcgaW4gdGhlIHByZXNlbmNlIG9mIGFuIEFNRCBsb2FkZXIuXG4gICAgLy8gU2VlIGh0dHA6Ly9yZXF1aXJlanMub3JnL2RvY3MvZXJyb3JzLmh0bWwjbWlzbWF0Y2ggZm9yIG1vcmUgZGV0YWlscy5cbiAgICAvLyBVc2UgYF8ubm9Db25mbGljdGAgdG8gcmVtb3ZlIExvZGFzaCBmcm9tIHRoZSBnbG9iYWwgb2JqZWN0LlxuICAgIHJvb3QuXyA9IF87XG5cbiAgICAvLyBEZWZpbmUgYXMgYW4gYW5vbnltb3VzIG1vZHVsZSBzbywgdGhyb3VnaCBwYXRoIG1hcHBpbmcsIGl0IGNhbiBiZVxuICAgIC8vIHJlZmVyZW5jZWQgYXMgdGhlIFwidW5kZXJzY29yZVwiIG1vZHVsZS5cbiAgICBkZWZpbmUoZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gXztcbiAgICB9KTtcbiAgfVxuICAvLyBDaGVjayBmb3IgYGV4cG9ydHNgIGFmdGVyIGBkZWZpbmVgIGluIGNhc2UgYSBidWlsZCBvcHRpbWl6ZXIgYWRkcyBpdC5cbiAgZWxzZSBpZiAoZnJlZU1vZHVsZSkge1xuICAgIC8vIEV4cG9ydCBmb3IgTm9kZS5qcy5cbiAgICAoZnJlZU1vZHVsZS5leHBvcnRzID0gXykuXyA9IF87XG4gICAgLy8gRXhwb3J0IGZvciBDb21tb25KUyBzdXBwb3J0LlxuICAgIGZyZWVFeHBvcnRzLl8gPSBfO1xuICB9XG4gIGVsc2Uge1xuICAgIC8vIEV4cG9ydCB0byB0aGUgZ2xvYmFsIG9iamVjdC5cbiAgICByb290Ll8gPSBfO1xuICB9XG59LmNhbGwodGhpcykpO1xuIiwiOyhmdW5jdGlvbihyb290LCBmYWN0b3J5KSB7XG4gICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICBpZiAodHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIHtcbiAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgZGVmaW5lKFtdLCBmYWN0b3J5KVxuICAgIH0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSA9PT0gXCJvYmplY3RcIiAmJiBtb2R1bGUuZXhwb3J0cykge1xuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKVxuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgIHJvb3QucmVnZXhwVG9Bc3QgPSBmYWN0b3J5KClcbiAgICB9XG59KShcbiAgICB0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICA/IC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgICAgc2VsZlxuICAgICAgICA6IHRoaXMsXG4gICAgZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIHJlZmVyZW5jZXNcbiAgICAgICAgLy8gaHR0cHM6Ly9oYWNrZXJub29uLmNvbS90aGUtbWFkbmVzcy1vZi1wYXJzaW5nLXJlYWwtd29ybGQtamF2YXNjcmlwdC1yZWdleHBzLWQ5ZWUzMzZkZjk4M1xuICAgICAgICAvLyBodHRwczovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzguMC9pbmRleC5odG1sI3Byb2QtUGF0dGVyblxuICAgICAgICBmdW5jdGlvbiBSZWdFeHBQYXJzZXIoKSB7fVxuXG4gICAgICAgIFJlZ0V4cFBhcnNlci5wcm90b3R5cGUuc2F2ZVN0YXRlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGlkeDogdGhpcy5pZHgsXG4gICAgICAgICAgICAgICAgaW5wdXQ6IHRoaXMuaW5wdXQsXG4gICAgICAgICAgICAgICAgZ3JvdXBJZHg6IHRoaXMuZ3JvdXBJZHhcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIFJlZ0V4cFBhcnNlci5wcm90b3R5cGUucmVzdG9yZVN0YXRlID0gZnVuY3Rpb24obmV3U3RhdGUpIHtcbiAgICAgICAgICAgIHRoaXMuaWR4ID0gbmV3U3RhdGUuaWR4XG4gICAgICAgICAgICB0aGlzLmlucHV0ID0gbmV3U3RhdGUuaW5wdXRcbiAgICAgICAgICAgIHRoaXMuZ3JvdXBJZHggPSBuZXdTdGF0ZS5ncm91cElkeFxuICAgICAgICB9XG5cbiAgICAgICAgUmVnRXhwUGFyc2VyLnByb3RvdHlwZS5wYXR0ZXJuID0gZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgICAgIC8vIHBhcnNlciBzdGF0ZVxuICAgICAgICAgICAgdGhpcy5pZHggPSAwXG4gICAgICAgICAgICB0aGlzLmlucHV0ID0gaW5wdXRcbiAgICAgICAgICAgIHRoaXMuZ3JvdXBJZHggPSAwXG5cbiAgICAgICAgICAgIHRoaXMuY29uc3VtZUNoYXIoXCIvXCIpXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLmRpc2p1bmN0aW9uKClcbiAgICAgICAgICAgIHRoaXMuY29uc3VtZUNoYXIoXCIvXCIpXG5cbiAgICAgICAgICAgIHZhciBmbGFncyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcIkZsYWdzXCIsXG4gICAgICAgICAgICAgICAgbG9jOiB7IGJlZ2luOiB0aGlzLmlkeCwgZW5kOiBpbnB1dC5sZW5ndGggfSxcbiAgICAgICAgICAgICAgICBnbG9iYWw6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGlnbm9yZUNhc2U6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG11bHRpTGluZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgdW5pY29kZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgc3RpY2t5OiBmYWxzZVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB3aGlsZSAodGhpcy5pc1JlZ0V4cEZsYWcoKSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAodGhpcy5wb3BDaGFyKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImdcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZEZsYWcoZmxhZ3MsIFwiZ2xvYmFsXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiaVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkRmxhZyhmbGFncywgXCJpZ25vcmVDYXNlXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwibVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkRmxhZyhmbGFncywgXCJtdWx0aUxpbmVcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ1XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRGbGFnKGZsYWdzLCBcInVuaWNvZGVcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ5XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRGbGFnKGZsYWdzLCBcInN0aWNreVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmlkeCAhPT0gdGhpcy5pbnB1dC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgXCJSZWR1bmRhbnQgaW5wdXQ6IFwiICsgdGhpcy5pbnB1dC5zdWJzdHJpbmcodGhpcy5pZHgpXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcIlBhdHRlcm5cIixcbiAgICAgICAgICAgICAgICBmbGFnczogZmxhZ3MsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgICAgIGxvYzogdGhpcy5sb2MoMClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIFJlZ0V4cFBhcnNlci5wcm90b3R5cGUuZGlzanVuY3Rpb24gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBhbHRzID0gW11cbiAgICAgICAgICAgIHZhciBiZWdpbiA9IHRoaXMuaWR4XG5cbiAgICAgICAgICAgIGFsdHMucHVzaCh0aGlzLmFsdGVybmF0aXZlKCkpXG5cbiAgICAgICAgICAgIHdoaWxlICh0aGlzLnBlZWtDaGFyKCkgPT09IFwifFwiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb25zdW1lQ2hhcihcInxcIilcbiAgICAgICAgICAgICAgICBhbHRzLnB1c2godGhpcy5hbHRlcm5hdGl2ZSgpKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4geyB0eXBlOiBcIkRpc2p1bmN0aW9uXCIsIHZhbHVlOiBhbHRzLCBsb2M6IHRoaXMubG9jKGJlZ2luKSB9XG4gICAgICAgIH1cblxuICAgICAgICBSZWdFeHBQYXJzZXIucHJvdG90eXBlLmFsdGVybmF0aXZlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgdGVybXMgPSBbXVxuICAgICAgICAgICAgdmFyIGJlZ2luID0gdGhpcy5pZHhcblxuICAgICAgICAgICAgd2hpbGUgKHRoaXMuaXNUZXJtKCkpIHtcbiAgICAgICAgICAgICAgICB0ZXJtcy5wdXNoKHRoaXMudGVybSgpKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4geyB0eXBlOiBcIkFsdGVybmF0aXZlXCIsIHZhbHVlOiB0ZXJtcywgbG9jOiB0aGlzLmxvYyhiZWdpbikgfVxuICAgICAgICB9XG5cbiAgICAgICAgUmVnRXhwUGFyc2VyLnByb3RvdHlwZS50ZXJtID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc0Fzc2VydGlvbigpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXNzZXJ0aW9uKClcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXRvbSgpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBSZWdFeHBQYXJzZXIucHJvdG90eXBlLmFzc2VydGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGJlZ2luID0gdGhpcy5pZHhcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5wb3BDaGFyKCkpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiXlwiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJTdGFydEFuY2hvclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbG9jOiB0aGlzLmxvYyhiZWdpbilcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgXCIkXCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHR5cGU6IFwiRW5kQW5jaG9yXCIsIGxvYzogdGhpcy5sb2MoYmVnaW4pIH1cbiAgICAgICAgICAgICAgICAvLyAnXFxiJyBvciAnXFxCJ1xuICAgICAgICAgICAgICAgIGNhc2UgXCJcXFxcXCI6XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodGhpcy5wb3BDaGFyKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJiXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJXb3JkQm91bmRhcnlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jOiB0aGlzLmxvYyhiZWdpbilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiQlwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiTm9uV29yZEJvdW5kYXJ5XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYzogdGhpcy5sb2MoYmVnaW4pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwiSW52YWxpZCBBc3NlcnRpb24gRXNjYXBlXCIpXG4gICAgICAgICAgICAgICAgLy8gJyg/PScgb3IgJyg/ISdcbiAgICAgICAgICAgICAgICBjYXNlIFwiKFwiOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnN1bWVDaGFyKFwiP1wiKVxuXG4gICAgICAgICAgICAgICAgICAgIHZhciB0eXBlXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodGhpcy5wb3BDaGFyKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCI9XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSA9IFwiTG9va2FoZWFkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIiFcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlID0gXCJOZWdhdGl2ZUxvb2thaGVhZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBBU1NFUlRfRVhJU1RTKHR5cGUpXG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGRpc2p1bmN0aW9uID0gdGhpcy5kaXNqdW5jdGlvbigpXG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25zdW1lQ2hhcihcIilcIilcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBkaXNqdW5jdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYzogdGhpcy5sb2MoYmVnaW4pXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgICAgICBBU1NFUlRfTkVWRVJfUkVBQ0hfSEVSRSgpXG4gICAgICAgIH1cblxuICAgICAgICBSZWdFeHBQYXJzZXIucHJvdG90eXBlLnF1YW50aWZpZXIgPSBmdW5jdGlvbihpc0JhY2t0cmFja2luZykge1xuICAgICAgICAgICAgdmFyIHJhbmdlXG4gICAgICAgICAgICB2YXIgYmVnaW4gPSB0aGlzLmlkeFxuICAgICAgICAgICAgc3dpdGNoICh0aGlzLnBvcENoYXIoKSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCIqXCI6XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXRMZWFzdDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0TW9zdDogSW5maW5pdHlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgXCIrXCI6XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXRMZWFzdDogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0TW9zdDogSW5maW5pdHlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgXCI/XCI6XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXRMZWFzdDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0TW9zdDogMVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSBcIntcIjpcbiAgICAgICAgICAgICAgICAgICAgdmFyIGF0TGVhc3QgPSB0aGlzLmludGVnZXJJbmNsdWRpbmdaZXJvKClcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0aGlzLnBvcENoYXIoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIn1cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5nZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXRMZWFzdDogYXRMZWFzdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXRNb3N0OiBhdExlYXN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiLFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhdE1vc3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0RpZ2l0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXRNb3N0ID0gdGhpcy5pbnRlZ2VySW5jbHVkaW5nWmVybygpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXRMZWFzdDogYXRMZWFzdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0TW9zdDogYXRNb3N0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5nZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0TGVhc3Q6IGF0TGVhc3QsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdE1vc3Q6IEluZmluaXR5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25zdW1lQ2hhcihcIn1cIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIHRocm93aW5nIGV4Y2VwdGlvbnMgZnJvbSBcIkFTU0VSVF9FWElTVFNcIiBkdXJpbmcgYmFja3RyYWNraW5nXG4gICAgICAgICAgICAgICAgICAgIC8vIGNhdXNlcyBzZXZlcmUgcGVyZm9ybWFuY2UgZGVncmFkYXRpb25zXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0JhY2t0cmFja2luZyA9PT0gdHJ1ZSAmJiByYW5nZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgQVNTRVJUX0VYSVNUUyhyYW5nZSlcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gdGhyb3dpbmcgZXhjZXB0aW9ucyBmcm9tIFwiQVNTRVJUX0VYSVNUU1wiIGR1cmluZyBiYWNrdHJhY2tpbmdcbiAgICAgICAgICAgIC8vIGNhdXNlcyBzZXZlcmUgcGVyZm9ybWFuY2UgZGVncmFkYXRpb25zXG4gICAgICAgICAgICBpZiAoaXNCYWNrdHJhY2tpbmcgPT09IHRydWUgJiYgcmFuZ2UgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgQVNTRVJUX0VYSVNUUyhyYW5nZSlcblxuICAgICAgICAgICAgaWYgKHRoaXMucGVla0NoYXIoMCkgPT09IFwiP1wiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb25zdW1lQ2hhcihcIj9cIilcbiAgICAgICAgICAgICAgICByYW5nZS5ncmVlZHkgPSBmYWxzZVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByYW5nZS5ncmVlZHkgPSB0cnVlXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJhbmdlLnR5cGUgPSBcIlF1YW50aWZpZXJcIlxuICAgICAgICAgICAgcmFuZ2UubG9jID0gdGhpcy5sb2MoYmVnaW4pXG4gICAgICAgICAgICByZXR1cm4gcmFuZ2VcbiAgICAgICAgfVxuXG4gICAgICAgIFJlZ0V4cFBhcnNlci5wcm90b3R5cGUuYXRvbSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGF0b21cbiAgICAgICAgICAgIHZhciBiZWdpbiA9IHRoaXMuaWR4XG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMucGVla0NoYXIoKSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCIuXCI6XG4gICAgICAgICAgICAgICAgICAgIGF0b20gPSB0aGlzLmRvdEFsbCgpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSBcIlxcXFxcIjpcbiAgICAgICAgICAgICAgICAgICAgYXRvbSA9IHRoaXMuYXRvbUVzY2FwZSgpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSBcIltcIjpcbiAgICAgICAgICAgICAgICAgICAgYXRvbSA9IHRoaXMuY2hhcmFjdGVyQ2xhc3MoKVxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgXCIoXCI6XG4gICAgICAgICAgICAgICAgICAgIGF0b20gPSB0aGlzLmdyb3VwKClcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGF0b20gPT09IHVuZGVmaW5lZCAmJiB0aGlzLmlzUGF0dGVybkNoYXJhY3RlcigpKSB7XG4gICAgICAgICAgICAgICAgYXRvbSA9IHRoaXMucGF0dGVybkNoYXJhY3RlcigpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIEFTU0VSVF9FWElTVFMoYXRvbSlcblxuICAgICAgICAgICAgYXRvbS5sb2MgPSB0aGlzLmxvYyhiZWdpbilcblxuICAgICAgICAgICAgaWYgKHRoaXMuaXNRdWFudGlmaWVyKCkpIHtcbiAgICAgICAgICAgICAgICBhdG9tLnF1YW50aWZpZXIgPSB0aGlzLnF1YW50aWZpZXIoKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gYXRvbVxuICAgICAgICB9XG5cbiAgICAgICAgUmVnRXhwUGFyc2VyLnByb3RvdHlwZS5kb3RBbGwgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMuY29uc3VtZUNoYXIoXCIuXCIpXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwiU2V0XCIsXG4gICAgICAgICAgICAgICAgY29tcGxlbWVudDogdHJ1ZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogW2NjKFwiXFxuXCIpLCBjYyhcIlxcclwiKSwgY2MoXCJcXHUyMDI4XCIpLCBjYyhcIlxcdTIwMjlcIildXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBSZWdFeHBQYXJzZXIucHJvdG90eXBlLmF0b21Fc2NhcGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMuY29uc3VtZUNoYXIoXCJcXFxcXCIpXG5cbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5wZWVrQ2hhcigpKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcIjFcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiMlwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCIzXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIjRcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiNVwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCI2XCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIjdcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiOFwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCI5XCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRlY2ltYWxFc2NhcGVBdG9tKClcbiAgICAgICAgICAgICAgICBjYXNlIFwiZFwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJEXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcInNcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiU1wiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJ3XCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIldcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hhcmFjdGVyQ2xhc3NFc2NhcGUoKVxuICAgICAgICAgICAgICAgIGNhc2UgXCJmXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIm5cIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiclwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJ0XCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcInZcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29udHJvbEVzY2FwZUF0b20oKVxuICAgICAgICAgICAgICAgIGNhc2UgXCJjXCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnRyb2xMZXR0ZXJFc2NhcGVBdG9tKClcbiAgICAgICAgICAgICAgICBjYXNlIFwiMFwiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5udWxDaGFyYWN0ZXJBdG9tKClcbiAgICAgICAgICAgICAgICBjYXNlIFwieFwiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5oZXhFc2NhcGVTZXF1ZW5jZUF0b20oKVxuICAgICAgICAgICAgICAgIGNhc2UgXCJ1XCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlZ0V4cFVuaWNvZGVFc2NhcGVTZXF1ZW5jZUF0b20oKVxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmlkZW50aXR5RXNjYXBlQXRvbSgpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBSZWdFeHBQYXJzZXIucHJvdG90eXBlLmRlY2ltYWxFc2NhcGVBdG9tID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLnBvc2l0aXZlSW50ZWdlcigpXG5cbiAgICAgICAgICAgIHJldHVybiB7IHR5cGU6IFwiR3JvdXBCYWNrUmVmZXJlbmNlXCIsIHZhbHVlOiB2YWx1ZSB9XG4gICAgICAgIH1cblxuICAgICAgICBSZWdFeHBQYXJzZXIucHJvdG90eXBlLmNoYXJhY3RlckNsYXNzRXNjYXBlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgc2V0XG4gICAgICAgICAgICB2YXIgY29tcGxlbWVudCA9IGZhbHNlXG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMucG9wQ2hhcigpKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcImRcIjpcbiAgICAgICAgICAgICAgICAgICAgc2V0ID0gZGlnaXRzQ2hhckNvZGVzXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSBcIkRcIjpcbiAgICAgICAgICAgICAgICAgICAgc2V0ID0gZGlnaXRzQ2hhckNvZGVzXG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZW1lbnQgPSB0cnVlXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSBcInNcIjpcbiAgICAgICAgICAgICAgICAgICAgc2V0ID0gd2hpdGVzcGFjZUNvZGVzXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSBcIlNcIjpcbiAgICAgICAgICAgICAgICAgICAgc2V0ID0gd2hpdGVzcGFjZUNvZGVzXG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZW1lbnQgPSB0cnVlXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSBcIndcIjpcbiAgICAgICAgICAgICAgICAgICAgc2V0ID0gd29yZENoYXJDb2Rlc1xuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgXCJXXCI6XG4gICAgICAgICAgICAgICAgICAgIHNldCA9IHdvcmRDaGFyQ29kZXNcbiAgICAgICAgICAgICAgICAgICAgY29tcGxlbWVudCA9IHRydWVcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgQVNTRVJUX0VYSVNUUyhzZXQpXG5cbiAgICAgICAgICAgIHJldHVybiB7IHR5cGU6IFwiU2V0XCIsIHZhbHVlOiBzZXQsIGNvbXBsZW1lbnQ6IGNvbXBsZW1lbnQgfVxuICAgICAgICB9XG5cbiAgICAgICAgUmVnRXhwUGFyc2VyLnByb3RvdHlwZS5jb250cm9sRXNjYXBlQXRvbSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGVzY2FwZUNvZGVcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5wb3BDaGFyKCkpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiZlwiOlxuICAgICAgICAgICAgICAgICAgICBlc2NhcGVDb2RlID0gY2MoXCJcXGZcIilcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlIFwiblwiOlxuICAgICAgICAgICAgICAgICAgICBlc2NhcGVDb2RlID0gY2MoXCJcXG5cIilcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlIFwiclwiOlxuICAgICAgICAgICAgICAgICAgICBlc2NhcGVDb2RlID0gY2MoXCJcXHJcIilcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlIFwidFwiOlxuICAgICAgICAgICAgICAgICAgICBlc2NhcGVDb2RlID0gY2MoXCJcXHRcIilcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlIFwidlwiOlxuICAgICAgICAgICAgICAgICAgICBlc2NhcGVDb2RlID0gY2MoXCJcXHZcIilcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIEFTU0VSVF9FWElTVFMoZXNjYXBlQ29kZSlcblxuICAgICAgICAgICAgcmV0dXJuIHsgdHlwZTogXCJDaGFyYWN0ZXJcIiwgdmFsdWU6IGVzY2FwZUNvZGUgfVxuICAgICAgICB9XG5cbiAgICAgICAgUmVnRXhwUGFyc2VyLnByb3RvdHlwZS5jb250cm9sTGV0dGVyRXNjYXBlQXRvbSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5jb25zdW1lQ2hhcihcImNcIilcbiAgICAgICAgICAgIHZhciBsZXR0ZXIgPSB0aGlzLnBvcENoYXIoKVxuICAgICAgICAgICAgaWYgKC9bYS16QS1aXS8udGVzdChsZXR0ZXIpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwiSW52YWxpZCBcIilcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGxldHRlckNvZGUgPSBsZXR0ZXIudG9VcHBlckNhc2UoKS5jaGFyQ29kZUF0KDApIC0gNjRcbiAgICAgICAgICAgIHJldHVybiB7IHR5cGU6IFwiQ2hhcmFjdGVyXCIsIHZhbHVlOiBsZXR0ZXJDb2RlIH1cbiAgICAgICAgfVxuXG4gICAgICAgIFJlZ0V4cFBhcnNlci5wcm90b3R5cGUubnVsQ2hhcmFjdGVyQXRvbSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgLy8gVE9ETyBpbXBsZW1lbnQgJ1tsb29rYWhlYWQg4oiJIERlY2ltYWxEaWdpdF0nXG4gICAgICAgICAgICAvLyBUT0RPOiBmb3IgdGhlIGRlcHJlY2F0ZWQgb2N0YWwgZXNjYXBlIHNlcXVlbmNlXG4gICAgICAgICAgICB0aGlzLmNvbnN1bWVDaGFyKFwiMFwiKVxuICAgICAgICAgICAgcmV0dXJuIHsgdHlwZTogXCJDaGFyYWN0ZXJcIiwgdmFsdWU6IGNjKFwiXFwwXCIpIH1cbiAgICAgICAgfVxuXG4gICAgICAgIFJlZ0V4cFBhcnNlci5wcm90b3R5cGUuaGV4RXNjYXBlU2VxdWVuY2VBdG9tID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnN1bWVDaGFyKFwieFwiKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VIZXhEaWdpdHMoMilcbiAgICAgICAgfVxuXG4gICAgICAgIFJlZ0V4cFBhcnNlci5wcm90b3R5cGUucmVnRXhwVW5pY29kZUVzY2FwZVNlcXVlbmNlQXRvbSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5jb25zdW1lQ2hhcihcInVcIilcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcnNlSGV4RGlnaXRzKDQpXG4gICAgICAgIH1cblxuICAgICAgICBSZWdFeHBQYXJzZXIucHJvdG90eXBlLmlkZW50aXR5RXNjYXBlQXRvbSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgLy8gVE9ETzogaW1wbGVtZW50IFwiU291cmNlQ2hhcmFjdGVyIGJ1dCBub3QgVW5pY29kZUlEQ29udGludWVcIlxuICAgICAgICAgICAgLy8gLy8gaHR0cDovL3VuaWNvZGUub3JnL3JlcG9ydHMvdHIzMS8jU3BlY2lmaWNfQ2hhcmFjdGVyX0FkanVzdG1lbnRzXG4gICAgICAgICAgICB2YXIgZXNjYXBlZENoYXIgPSB0aGlzLnBvcENoYXIoKVxuICAgICAgICAgICAgcmV0dXJuIHsgdHlwZTogXCJDaGFyYWN0ZXJcIiwgdmFsdWU6IGNjKGVzY2FwZWRDaGFyKSB9XG4gICAgICAgIH1cblxuICAgICAgICBSZWdFeHBQYXJzZXIucHJvdG90eXBlLmNsYXNzUGF0dGVybkNoYXJhY3RlckF0b20gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5wZWVrQ2hhcigpKSB7XG4gICAgICAgICAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgICAgICAgICBjYXNlIFwiXFxuXCI6XG4gICAgICAgICAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgICAgICAgICBjYXNlIFwiXFxyXCI6XG4gICAgICAgICAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgICAgICAgICBjYXNlIFwiXFx1MjAyOFwiOlxuICAgICAgICAgICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgICAgICAgICAgY2FzZSBcIlxcdTIwMjlcIjpcbiAgICAgICAgICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICAgICAgICAgIGNhc2UgXCJcXFxcXCI6XG4gICAgICAgICAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgICAgICAgICBjYXNlIFwiXVwiOlxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIlRCRFwiKVxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXh0Q2hhciA9IHRoaXMucG9wQ2hhcigpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHR5cGU6IFwiQ2hhcmFjdGVyXCIsIHZhbHVlOiBjYyhuZXh0Q2hhcikgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgUmVnRXhwUGFyc2VyLnByb3RvdHlwZS5jaGFyYWN0ZXJDbGFzcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHNldCA9IFtdXG4gICAgICAgICAgICB2YXIgY29tcGxlbWVudCA9IGZhbHNlXG4gICAgICAgICAgICB0aGlzLmNvbnN1bWVDaGFyKFwiW1wiKVxuICAgICAgICAgICAgaWYgKHRoaXMucGVla0NoYXIoMCkgPT09IFwiXlwiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb25zdW1lQ2hhcihcIl5cIilcbiAgICAgICAgICAgICAgICBjb21wbGVtZW50ID0gdHJ1ZVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB3aGlsZSAodGhpcy5pc0NsYXNzQXRvbSgpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZyb20gPSB0aGlzLmNsYXNzQXRvbSgpXG4gICAgICAgICAgICAgICAgdmFyIGlzRnJvbVNpbmdsZUNoYXIgPSBmcm9tLnR5cGUgPT09IFwiQ2hhcmFjdGVyXCJcbiAgICAgICAgICAgICAgICBpZiAoaXNGcm9tU2luZ2xlQ2hhciAmJiB0aGlzLmlzUmFuZ2VEYXNoKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25zdW1lQ2hhcihcIi1cIilcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRvID0gdGhpcy5jbGFzc0F0b20oKVxuICAgICAgICAgICAgICAgICAgICB2YXIgaXNUb1NpbmdsZUNoYXIgPSB0by50eXBlID09PSBcIkNoYXJhY3RlclwiXG5cbiAgICAgICAgICAgICAgICAgICAgLy8gYSByYW5nZSBjYW4gb25seSBiZSB1c2VkIHdoZW4gYm90aCBzaWRlcyBhcmUgc2luZ2xlIGNoYXJhY3RlcnNcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzVG9TaW5nbGVDaGFyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodG8udmFsdWUgPCBmcm9tLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJSYW5nZSBvdXQgb2Ygb3JkZXIgaW4gY2hhcmFjdGVyIGNsYXNzXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXQucHVzaCh7IGZyb206IGZyb20udmFsdWUsIHRvOiB0by52YWx1ZSB9KVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbGl0ZXJhbCBkYXNoXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnNlcnRUb1NldChmcm9tLnZhbHVlLCBzZXQpXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXQucHVzaChjYyhcIi1cIikpXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnNlcnRUb1NldCh0by52YWx1ZSwgc2V0KVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0VG9TZXQoZnJvbS52YWx1ZSwgc2V0KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5jb25zdW1lQ2hhcihcIl1cIilcblxuICAgICAgICAgICAgcmV0dXJuIHsgdHlwZTogXCJTZXRcIiwgY29tcGxlbWVudDogY29tcGxlbWVudCwgdmFsdWU6IHNldCB9XG4gICAgICAgIH1cblxuICAgICAgICBSZWdFeHBQYXJzZXIucHJvdG90eXBlLmNsYXNzQXRvbSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc3dpdGNoICh0aGlzLnBlZWtDaGFyKCkpIHtcbiAgICAgICAgICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICAgICAgICAgIGNhc2UgXCJdXCI6XG4gICAgICAgICAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgICAgICAgICBjYXNlIFwiXFxuXCI6XG4gICAgICAgICAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgICAgICAgICBjYXNlIFwiXFxyXCI6XG4gICAgICAgICAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgICAgICAgICBjYXNlIFwiXFx1MjAyOFwiOlxuICAgICAgICAgICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgICAgICAgICAgY2FzZSBcIlxcdTIwMjlcIjpcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJUQkRcIilcbiAgICAgICAgICAgICAgICBjYXNlIFwiXFxcXFwiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jbGFzc0VzY2FwZSgpXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2xhc3NQYXR0ZXJuQ2hhcmFjdGVyQXRvbSgpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBSZWdFeHBQYXJzZXIucHJvdG90eXBlLmNsYXNzRXNjYXBlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnN1bWVDaGFyKFwiXFxcXFwiKVxuICAgICAgICAgICAgc3dpdGNoICh0aGlzLnBlZWtDaGFyKCkpIHtcbiAgICAgICAgICAgICAgICAvLyBNYXRjaGVzIGEgYmFja3NwYWNlLlxuICAgICAgICAgICAgICAgIC8vIChOb3QgdG8gYmUgY29uZnVzZWQgd2l0aCBcXGIgd29yZCBib3VuZGFyeSBvdXRzaWRlIGNoYXJhY3RlckNsYXNzKVxuICAgICAgICAgICAgICAgIGNhc2UgXCJiXCI6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29uc3VtZUNoYXIoXCJiXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHR5cGU6IFwiQ2hhcmFjdGVyXCIsIHZhbHVlOiBjYyhcIlxcdTAwMDhcIikgfVxuICAgICAgICAgICAgICAgIGNhc2UgXCJkXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIkRcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwic1wiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJTXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIndcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiV1wiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jaGFyYWN0ZXJDbGFzc0VzY2FwZSgpXG4gICAgICAgICAgICAgICAgY2FzZSBcImZcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiblwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJyXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcInRcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwidlwiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb250cm9sRXNjYXBlQXRvbSgpXG4gICAgICAgICAgICAgICAgY2FzZSBcImNcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29udHJvbExldHRlckVzY2FwZUF0b20oKVxuICAgICAgICAgICAgICAgIGNhc2UgXCIwXCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm51bENoYXJhY3RlckF0b20oKVxuICAgICAgICAgICAgICAgIGNhc2UgXCJ4XCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmhleEVzY2FwZVNlcXVlbmNlQXRvbSgpXG4gICAgICAgICAgICAgICAgY2FzZSBcInVcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVnRXhwVW5pY29kZUVzY2FwZVNlcXVlbmNlQXRvbSgpXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaWRlbnRpdHlFc2NhcGVBdG9tKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIFJlZ0V4cFBhcnNlci5wcm90b3R5cGUuZ3JvdXAgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBjYXB0dXJpbmcgPSB0cnVlXG4gICAgICAgICAgICB0aGlzLmNvbnN1bWVDaGFyKFwiKFwiKVxuICAgICAgICAgICAgc3dpdGNoICh0aGlzLnBlZWtDaGFyKDApKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcIj9cIjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25zdW1lQ2hhcihcIj9cIilcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25zdW1lQ2hhcihcIjpcIilcbiAgICAgICAgICAgICAgICAgICAgY2FwdHVyaW5nID0gZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdyb3VwSWR4KytcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuZGlzanVuY3Rpb24oKVxuICAgICAgICAgICAgdGhpcy5jb25zdW1lQ2hhcihcIilcIilcblxuICAgICAgICAgICAgdmFyIGdyb3VwQXN0ID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwiR3JvdXBcIixcbiAgICAgICAgICAgICAgICBjYXB0dXJpbmc6IGNhcHR1cmluZyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWVcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGNhcHR1cmluZykge1xuICAgICAgICAgICAgICAgIGdyb3VwQXN0LmlkeCA9IHRoaXMuZ3JvdXBJZHhcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGdyb3VwQXN0XG4gICAgICAgIH1cblxuICAgICAgICBSZWdFeHBQYXJzZXIucHJvdG90eXBlLnBvc2l0aXZlSW50ZWdlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIG51bWJlciA9IHRoaXMucG9wQ2hhcigpXG5cbiAgICAgICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0IC0gY2FuJ3QgZXZlciBnZXQgaGVyZSBkdWUgdG8gcHJldmlvdXMgbG9va2FoZWFkIGNoZWNrc1xuICAgICAgICAgICAgLy8gc3RpbGwgaW1wbGVtZW50aW5nIHRoaXMgZXJyb3IgY2hlY2tpbmcgaW4gY2FzZSB0aGlzIGV2ZXIgY2hhbmdlcy5cbiAgICAgICAgICAgIGlmIChkZWNpbWFsUGF0dGVybk5vWmVyby50ZXN0KG51bWJlcikgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJFeHBlY3RpbmcgYSBwb3NpdGl2ZSBpbnRlZ2VyXCIpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHdoaWxlIChkZWNpbWFsUGF0dGVybi50ZXN0KHRoaXMucGVla0NoYXIoMCkpKSB7XG4gICAgICAgICAgICAgICAgbnVtYmVyICs9IHRoaXMucG9wQ2hhcigpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBwYXJzZUludChudW1iZXIsIDEwKVxuICAgICAgICB9XG5cbiAgICAgICAgUmVnRXhwUGFyc2VyLnByb3RvdHlwZS5pbnRlZ2VySW5jbHVkaW5nWmVybyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIG51bWJlciA9IHRoaXMucG9wQ2hhcigpXG4gICAgICAgICAgICBpZiAoZGVjaW1hbFBhdHRlcm4udGVzdChudW1iZXIpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwiRXhwZWN0aW5nIGFuIGludGVnZXJcIilcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgd2hpbGUgKGRlY2ltYWxQYXR0ZXJuLnRlc3QodGhpcy5wZWVrQ2hhcigwKSkpIHtcbiAgICAgICAgICAgICAgICBudW1iZXIgKz0gdGhpcy5wb3BDaGFyKClcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KG51bWJlciwgMTApXG4gICAgICAgIH1cblxuICAgICAgICBSZWdFeHBQYXJzZXIucHJvdG90eXBlLnBhdHRlcm5DaGFyYWN0ZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBuZXh0Q2hhciA9IHRoaXMucG9wQ2hhcigpXG4gICAgICAgICAgICBzd2l0Y2ggKG5leHRDaGFyKSB7XG4gICAgICAgICAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgICAgICAgICBjYXNlIFwiXFxuXCI6XG4gICAgICAgICAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgICAgICAgICBjYXNlIFwiXFxyXCI6XG4gICAgICAgICAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgICAgICAgICBjYXNlIFwiXFx1MjAyOFwiOlxuICAgICAgICAgICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgICAgICAgICAgY2FzZSBcIlxcdTIwMjlcIjpcbiAgICAgICAgICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICAgICAgICAgIGNhc2UgXCJeXCI6XG4gICAgICAgICAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgICAgICAgICBjYXNlIFwiJFwiOlxuICAgICAgICAgICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgICAgICAgICAgY2FzZSBcIlxcXFxcIjpcbiAgICAgICAgICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICAgICAgICAgIGNhc2UgXCIuXCI6XG4gICAgICAgICAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgICAgICAgICBjYXNlIFwiKlwiOlxuICAgICAgICAgICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgICAgICAgICAgY2FzZSBcIitcIjpcbiAgICAgICAgICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICAgICAgICAgIGNhc2UgXCI/XCI6XG4gICAgICAgICAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgICAgICAgICBjYXNlIFwiKFwiOlxuICAgICAgICAgICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgICAgICAgICAgY2FzZSBcIilcIjpcbiAgICAgICAgICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICAgICAgICAgIGNhc2UgXCJbXCI6XG4gICAgICAgICAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgICAgICAgICBjYXNlIFwifFwiOlxuICAgICAgICAgICAgICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIlRCRFwiKVxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHR5cGU6IFwiQ2hhcmFjdGVyXCIsIHZhbHVlOiBjYyhuZXh0Q2hhcikgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFJlZ0V4cFBhcnNlci5wcm90b3R5cGUuaXNSZWdFeHBGbGFnID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMucGVla0NoYXIoMCkpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiZ1wiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJpXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIm1cIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwidVwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJ5XCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBSZWdFeHBQYXJzZXIucHJvdG90eXBlLmlzUmFuZ2VEYXNoID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wZWVrQ2hhcigpID09PSBcIi1cIiAmJiB0aGlzLmlzQ2xhc3NBdG9tKDEpXG4gICAgICAgIH1cblxuICAgICAgICBSZWdFeHBQYXJzZXIucHJvdG90eXBlLmlzRGlnaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBkZWNpbWFsUGF0dGVybi50ZXN0KHRoaXMucGVla0NoYXIoMCkpXG4gICAgICAgIH1cblxuICAgICAgICBSZWdFeHBQYXJzZXIucHJvdG90eXBlLmlzQ2xhc3NBdG9tID0gZnVuY3Rpb24oaG93TXVjaCkge1xuICAgICAgICAgICAgaWYgKGhvd011Y2ggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGhvd011Y2ggPSAwXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5wZWVrQ2hhcihob3dNdWNoKSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJdXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIlxcblwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJcXHJcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiXFx1MjAyOFwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJcXHUyMDI5XCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBSZWdFeHBQYXJzZXIucHJvdG90eXBlLmlzVGVybSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaXNBdG9tKCkgfHwgdGhpcy5pc0Fzc2VydGlvbigpXG4gICAgICAgIH1cblxuICAgICAgICBSZWdFeHBQYXJzZXIucHJvdG90eXBlLmlzQXRvbSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNQYXR0ZXJuQ2hhcmFjdGVyKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMucGVla0NoYXIoMCkpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiLlwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJcXFxcXCI6IC8vIGF0b21Fc2NhcGVcbiAgICAgICAgICAgICAgICBjYXNlIFwiW1wiOiAvLyBjaGFyYWN0ZXJDbGFzc1xuICAgICAgICAgICAgICAgIC8vIFRPRE86IGlzQXRvbSBtdXN0IGJlIGNhbGxlZCBiZWZvcmUgaXNBc3NlcnRpb24gLSBkaXNhbWJpZ3VhdGVcbiAgICAgICAgICAgICAgICBjYXNlIFwiKFwiOiAvLyBncm91cFxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgUmVnRXhwUGFyc2VyLnByb3RvdHlwZS5pc0Fzc2VydGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc3dpdGNoICh0aGlzLnBlZWtDaGFyKDApKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcIl5cIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiJFwiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICAgICAgICAgIC8vICdcXGInIG9yICdcXEInXG4gICAgICAgICAgICAgICAgY2FzZSBcIlxcXFxcIjpcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0aGlzLnBlZWtDaGFyKDEpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYlwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkJcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vICcoPz0nIG9yICcoPyEnXG4gICAgICAgICAgICAgICAgY2FzZSBcIihcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGVla0NoYXIoMSkgPT09IFwiP1wiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAodGhpcy5wZWVrQ2hhcigyKSA9PT0gXCI9XCIgfHwgdGhpcy5wZWVrQ2hhcigyKSA9PT0gXCIhXCIpXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIFJlZ0V4cFBhcnNlci5wcm90b3R5cGUuaXNRdWFudGlmaWVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgcHJldlN0YXRlID0gdGhpcy5zYXZlU3RhdGUoKVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5xdWFudGlmaWVyKHRydWUpICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXN0b3JlU3RhdGUocHJldlN0YXRlKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgUmVnRXhwUGFyc2VyLnByb3RvdHlwZS5pc1BhdHRlcm5DaGFyYWN0ZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5wZWVrQ2hhcigpKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcIl5cIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiJFwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJcXFxcXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIi5cIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiKlwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCIrXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIj9cIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiKFwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCIpXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIltcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwifFwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCIvXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIlxcblwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJcXHJcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiXFx1MjAyOFwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJcXHUyMDI5XCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBSZWdFeHBQYXJzZXIucHJvdG90eXBlLnBhcnNlSGV4RGlnaXRzID0gZnVuY3Rpb24oaG93TWFueSkge1xuICAgICAgICAgICAgdmFyIGhleFN0cmluZyA9IFwiXCJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaG93TWFueTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGhleENoYXIgPSB0aGlzLnBvcENoYXIoKVxuICAgICAgICAgICAgICAgIGlmIChoZXhEaWdpdFBhdHRlcm4udGVzdChoZXhDaGFyKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJFeHBlY3RpbmcgYSBIZXhEZWNpbWFsIGRpZ2l0c1wiKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBoZXhTdHJpbmcgKz0gaGV4Q2hhclxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGNoYXJDb2RlID0gcGFyc2VJbnQoaGV4U3RyaW5nLCAxNilcbiAgICAgICAgICAgIHJldHVybiB7IHR5cGU6IFwiQ2hhcmFjdGVyXCIsIHZhbHVlOiBjaGFyQ29kZSB9XG4gICAgICAgIH1cblxuICAgICAgICBSZWdFeHBQYXJzZXIucHJvdG90eXBlLnBlZWtDaGFyID0gZnVuY3Rpb24oaG93TXVjaCkge1xuICAgICAgICAgICAgaWYgKGhvd011Y2ggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGhvd011Y2ggPSAwXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pbnB1dFt0aGlzLmlkeCArIGhvd011Y2hdXG4gICAgICAgIH1cblxuICAgICAgICBSZWdFeHBQYXJzZXIucHJvdG90eXBlLnBvcENoYXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBuZXh0Q2hhciA9IHRoaXMucGVla0NoYXIoMClcbiAgICAgICAgICAgIHRoaXMuY29uc3VtZUNoYXIoKVxuICAgICAgICAgICAgcmV0dXJuIG5leHRDaGFyXG4gICAgICAgIH1cblxuICAgICAgICBSZWdFeHBQYXJzZXIucHJvdG90eXBlLmNvbnN1bWVDaGFyID0gZnVuY3Rpb24oY2hhcikge1xuICAgICAgICAgICAgaWYgKGNoYXIgIT09IHVuZGVmaW5lZCAmJiB0aGlzLmlucHV0W3RoaXMuaWR4XSAhPT0gY2hhcikge1xuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICAgICAgICBcIkV4cGVjdGVkOiAnXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hhciArXG4gICAgICAgICAgICAgICAgICAgICAgICBcIicgYnV0IGZvdW5kOiAnXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnB1dFt0aGlzLmlkeF0gK1xuICAgICAgICAgICAgICAgICAgICAgICAgXCInIGF0IG9mZnNldDogXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pZHhcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmlkeCA+PSB0aGlzLmlucHV0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwiVW5leHBlY3RlZCBlbmQgb2YgaW5wdXRcIilcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuaWR4KytcbiAgICAgICAgfVxuXG4gICAgICAgIFJlZ0V4cFBhcnNlci5wcm90b3R5cGUubG9jID0gZnVuY3Rpb24oYmVnaW4pIHtcbiAgICAgICAgICAgIHJldHVybiB7IGJlZ2luOiBiZWdpbiwgZW5kOiB0aGlzLmlkeCB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjb25zdHMgYW5kIHV0aWxpdGllc1xuICAgICAgICB2YXIgaGV4RGlnaXRQYXR0ZXJuID0gL1swLTlhLWZBLUZdL1xuICAgICAgICB2YXIgZGVjaW1hbFBhdHRlcm4gPSAvWzAtOV0vXG4gICAgICAgIHZhciBkZWNpbWFsUGF0dGVybk5vWmVybyA9IC9bMS05XS9cblxuICAgICAgICBmdW5jdGlvbiBjYyhjaGFyKSB7XG4gICAgICAgICAgICByZXR1cm4gY2hhci5jaGFyQ29kZUF0KDApXG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBpbnNlcnRUb1NldChpdGVtLCBzZXQpIHtcbiAgICAgICAgICAgIGlmIChpdGVtLmxlbmd0aCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgaXRlbS5mb3JFYWNoKGZ1bmN0aW9uKHN1Ykl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0LnB1c2goc3ViSXRlbSlcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZXQucHVzaChpdGVtKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gYWRkRmxhZyhmbGFnT2JqLCBmbGFnS2V5KSB7XG4gICAgICAgICAgICBpZiAoZmxhZ09ialtmbGFnS2V5XSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRocm93IFwiZHVwbGljYXRlIGZsYWcgXCIgKyBmbGFnS2V5XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZsYWdPYmpbZmxhZ0tleV0gPSB0cnVlXG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBBU1NFUlRfRVhJU1RTKG9iaikge1xuICAgICAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgICAgIGlmIChvYmogPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwiSW50ZXJuYWwgRXJyb3IgLSBTaG91bGQgbmV2ZXIgZ2V0IGhlcmUhXCIpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICBmdW5jdGlvbiBBU1NFUlRfTkVWRVJfUkVBQ0hfSEVSRSgpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKFwiSW50ZXJuYWwgRXJyb3IgLSBTaG91bGQgbmV2ZXIgZ2V0IGhlcmUhXCIpXG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaVxuICAgICAgICB2YXIgZGlnaXRzQ2hhckNvZGVzID0gW11cbiAgICAgICAgZm9yIChpID0gY2MoXCIwXCIpOyBpIDw9IGNjKFwiOVwiKTsgaSsrKSB7XG4gICAgICAgICAgICBkaWdpdHNDaGFyQ29kZXMucHVzaChpKVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHdvcmRDaGFyQ29kZXMgPSBbY2MoXCJfXCIpXS5jb25jYXQoZGlnaXRzQ2hhckNvZGVzKVxuICAgICAgICBmb3IgKGkgPSBjYyhcImFcIik7IGkgPD0gY2MoXCJ6XCIpOyBpKyspIHtcbiAgICAgICAgICAgIHdvcmRDaGFyQ29kZXMucHVzaChpKVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChpID0gY2MoXCJBXCIpOyBpIDw9IGNjKFwiWlwiKTsgaSsrKSB7XG4gICAgICAgICAgICB3b3JkQ2hhckNvZGVzLnB1c2goaSlcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1JlZ0V4cCNjaGFyYWN0ZXItY2xhc3Nlc1xuICAgICAgICB2YXIgd2hpdGVzcGFjZUNvZGVzID0gW1xuICAgICAgICAgICAgY2MoXCIgXCIpLFxuICAgICAgICAgICAgY2MoXCJcXGZcIiksXG4gICAgICAgICAgICBjYyhcIlxcblwiKSxcbiAgICAgICAgICAgIGNjKFwiXFxyXCIpLFxuICAgICAgICAgICAgY2MoXCJcXHRcIiksXG4gICAgICAgICAgICBjYyhcIlxcdlwiKSxcbiAgICAgICAgICAgIGNjKFwiXFx0XCIpLFxuICAgICAgICAgICAgY2MoXCJcXHUwMGEwXCIpLFxuICAgICAgICAgICAgY2MoXCJcXHUxNjgwXCIpLFxuICAgICAgICAgICAgY2MoXCJcXHUyMDAwXCIpLFxuICAgICAgICAgICAgY2MoXCJcXHUyMDAxXCIpLFxuICAgICAgICAgICAgY2MoXCJcXHUyMDAyXCIpLFxuICAgICAgICAgICAgY2MoXCJcXHUyMDAzXCIpLFxuICAgICAgICAgICAgY2MoXCJcXHUyMDA0XCIpLFxuICAgICAgICAgICAgY2MoXCJcXHUyMDA1XCIpLFxuICAgICAgICAgICAgY2MoXCJcXHUyMDA2XCIpLFxuICAgICAgICAgICAgY2MoXCJcXHUyMDA3XCIpLFxuICAgICAgICAgICAgY2MoXCJcXHUyMDA4XCIpLFxuICAgICAgICAgICAgY2MoXCJcXHUyMDA5XCIpLFxuICAgICAgICAgICAgY2MoXCJcXHUyMDBhXCIpLFxuICAgICAgICAgICAgY2MoXCJcXHUyMDI4XCIpLFxuICAgICAgICAgICAgY2MoXCJcXHUyMDI5XCIpLFxuICAgICAgICAgICAgY2MoXCJcXHUyMDJmXCIpLFxuICAgICAgICAgICAgY2MoXCJcXHUyMDVmXCIpLFxuICAgICAgICAgICAgY2MoXCJcXHUzMDAwXCIpLFxuICAgICAgICAgICAgY2MoXCJcXHVmZWZmXCIpXG4gICAgICAgIF1cblxuICAgICAgICBmdW5jdGlvbiBCYXNlUmVnRXhwVmlzaXRvcigpIHt9XG5cbiAgICAgICAgQmFzZVJlZ0V4cFZpc2l0b3IucHJvdG90eXBlLnZpc2l0Q2hpbGRyZW4gPSBmdW5jdGlvbihub2RlKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gbm9kZSkge1xuICAgICAgICAgICAgICAgIHZhciBjaGlsZCA9IG5vZGVba2V5XVxuICAgICAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgICAgICAgICAgaWYgKG5vZGUuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGQudHlwZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnZpc2l0KGNoaWxkKVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoY2hpbGQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGlsZC5mb3JFYWNoKGZ1bmN0aW9uKHN1YkNoaWxkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy52aXNpdChzdWJDaGlsZClcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHRoaXMpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBCYXNlUmVnRXhwVmlzaXRvci5wcm90b3R5cGUudmlzaXQgPSBmdW5jdGlvbihub2RlKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKG5vZGUudHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJQYXR0ZXJuXCI6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlzaXRQYXR0ZXJuKG5vZGUpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSBcIkZsYWdzXCI6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlzaXRGbGFncyhub2RlKVxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgXCJEaXNqdW5jdGlvblwiOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpc2l0RGlzanVuY3Rpb24obm9kZSlcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlIFwiQWx0ZXJuYXRpdmVcIjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aXNpdEFsdGVybmF0aXZlKG5vZGUpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSBcIlN0YXJ0QW5jaG9yXCI6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlzaXRTdGFydEFuY2hvcihub2RlKVxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgXCJFbmRBbmNob3JcIjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aXNpdEVuZEFuY2hvcihub2RlKVxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgXCJXb3JkQm91bmRhcnlcIjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aXNpdFdvcmRCb3VuZGFyeShub2RlKVxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgXCJOb25Xb3JkQm91bmRhcnlcIjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aXNpdE5vbldvcmRCb3VuZGFyeShub2RlKVxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgXCJMb29rYWhlYWRcIjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aXNpdExvb2thaGVhZChub2RlKVxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgXCJOZWdhdGl2ZUxvb2thaGVhZFwiOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpc2l0TmVnYXRpdmVMb29rYWhlYWQobm9kZSlcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlIFwiQ2hhcmFjdGVyXCI6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlzaXRDaGFyYWN0ZXIobm9kZSlcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlIFwiU2V0XCI6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlzaXRTZXQobm9kZSlcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlIFwiR3JvdXBcIjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aXNpdEdyb3VwKG5vZGUpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSBcIkdyb3VwQmFja1JlZmVyZW5jZVwiOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpc2l0R3JvdXBCYWNrUmVmZXJlbmNlKG5vZGUpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSBcIlF1YW50aWZpZXJcIjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aXNpdFF1YW50aWZpZXIobm9kZSlcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy52aXNpdENoaWxkcmVuKG5vZGUpXG4gICAgICAgIH1cblxuICAgICAgICBCYXNlUmVnRXhwVmlzaXRvci5wcm90b3R5cGUudmlzaXRQYXR0ZXJuID0gZnVuY3Rpb24obm9kZSkge31cblxuICAgICAgICBCYXNlUmVnRXhwVmlzaXRvci5wcm90b3R5cGUudmlzaXRGbGFncyA9IGZ1bmN0aW9uKG5vZGUpIHt9XG5cbiAgICAgICAgQmFzZVJlZ0V4cFZpc2l0b3IucHJvdG90eXBlLnZpc2l0RGlzanVuY3Rpb24gPSBmdW5jdGlvbihub2RlKSB7fVxuXG4gICAgICAgIEJhc2VSZWdFeHBWaXNpdG9yLnByb3RvdHlwZS52aXNpdEFsdGVybmF0aXZlID0gZnVuY3Rpb24obm9kZSkge31cblxuICAgICAgICAvLyBBc3NlcnRpb25cbiAgICAgICAgQmFzZVJlZ0V4cFZpc2l0b3IucHJvdG90eXBlLnZpc2l0U3RhcnRBbmNob3IgPSBmdW5jdGlvbihub2RlKSB7fVxuXG4gICAgICAgIEJhc2VSZWdFeHBWaXNpdG9yLnByb3RvdHlwZS52aXNpdEVuZEFuY2hvciA9IGZ1bmN0aW9uKG5vZGUpIHt9XG5cbiAgICAgICAgQmFzZVJlZ0V4cFZpc2l0b3IucHJvdG90eXBlLnZpc2l0V29yZEJvdW5kYXJ5ID0gZnVuY3Rpb24obm9kZSkge31cblxuICAgICAgICBCYXNlUmVnRXhwVmlzaXRvci5wcm90b3R5cGUudmlzaXROb25Xb3JkQm91bmRhcnkgPSBmdW5jdGlvbihub2RlKSB7fVxuXG4gICAgICAgIEJhc2VSZWdFeHBWaXNpdG9yLnByb3RvdHlwZS52aXNpdExvb2thaGVhZCA9IGZ1bmN0aW9uKG5vZGUpIHt9XG5cbiAgICAgICAgQmFzZVJlZ0V4cFZpc2l0b3IucHJvdG90eXBlLnZpc2l0TmVnYXRpdmVMb29rYWhlYWQgPSBmdW5jdGlvbihub2RlKSB7fVxuXG4gICAgICAgIC8vIGF0b21zXG4gICAgICAgIEJhc2VSZWdFeHBWaXNpdG9yLnByb3RvdHlwZS52aXNpdENoYXJhY3RlciA9IGZ1bmN0aW9uKG5vZGUpIHt9XG5cbiAgICAgICAgQmFzZVJlZ0V4cFZpc2l0b3IucHJvdG90eXBlLnZpc2l0U2V0ID0gZnVuY3Rpb24obm9kZSkge31cblxuICAgICAgICBCYXNlUmVnRXhwVmlzaXRvci5wcm90b3R5cGUudmlzaXRHcm91cCA9IGZ1bmN0aW9uKG5vZGUpIHt9XG5cbiAgICAgICAgQmFzZVJlZ0V4cFZpc2l0b3IucHJvdG90eXBlLnZpc2l0R3JvdXBCYWNrUmVmZXJlbmNlID0gZnVuY3Rpb24obm9kZSkge31cblxuICAgICAgICBCYXNlUmVnRXhwVmlzaXRvci5wcm90b3R5cGUudmlzaXRRdWFudGlmaWVyID0gZnVuY3Rpb24obm9kZSkge31cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgUmVnRXhwUGFyc2VyOiBSZWdFeHBQYXJzZXIsXG4gICAgICAgICAgICBCYXNlUmVnRXhwVmlzaXRvcjogQmFzZVJlZ0V4cFZpc2l0b3IsXG4gICAgICAgICAgICBWRVJTSU9OOiBcIjAuNS4wXCJcbiAgICAgICAgfVxuICAgIH1cbilcbiIsImV4cG9ydCBkZWZhdWx0IFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCb0FBRjNLQ0FNQUFBRE9xQ2lrQUFBQUJHZEJUVUVBQUsvSU53V0s2UUFBQUJsMFJWaDBVMjltZEhkaGNtVUFRV1J2WW1VZ1NXMWhaMlZTWldGa2VYSEpaVHdBQUFBSlVFeFVSWUtDZ3Q3ZTN2RHc4QUhvcXNrQUFFQXBTVVJCVkhqYTdKM2JjdXc0cmtReCtQK1Bub2UyWGJvZ0lSRVVOeWw3bllpWjB4RWF1eXUwbkNTUUJTYk4xZi85ejNqMGtrY21INWw4Wk1sUC9kTkhmNDZYU1NqMjlSL3hDNjN5QjZBL2h2eUVadjk5UkhnTjRtV1pIS3o5MzJXR3ZrN3ZWOGpCdEJ6YTM3eDlTYVZac0k2K2RpK3h0RVk5cWtyME5YUTlyUEV5ZUhVL3luZnpVczJtaTRwU3ZaRTlRbDhqNVlDK0Z1UjE4ZWJoMWZISTVOc3dVKy9RM1BUckhmRUlYb2V0SVh3YlpxcVQrZ0ptamIvdytVZm82N2ErUEpHRCtnUFE5WWJwb3NMd040YnpNczJMOWJDYlYreHZtQ2wvdzc3ZmJXR1RFdjdHcFdEeE4zWi92WXBYdUViWjk1djNkcVdncjFuMVlZa1g5V0UvTDB2MEZWWU8xbEZVbE9vTi9JMmgvWmMvTFQzME5hdGZWdjRHdkc0OU1sTnZ3N1oxWU5URHR2TXkxMzhBNnRIWFdnMnZuUy9uaXBmOHBsajdHM3ByMjVTSEVhLzRZM3lYTmZEcTFGZTd2N0Y1RXZLS2lvci9lT0Z2RE9abGliNVlEeDlZRDAydWg1S1hsZmF2ME44d1Z5aC8xa1A4aloyK0ZDL1YrRmloWDBaZlUrdkRFaS9xdzM1ZWx1aXIvVHNwYldMVTZ3MzhqYUg5bDJyQTBkZnIrdVhZMzREWE5GNldPRXZxcDdKL2wvNkUrQnRQK0J1V1dQZHExOHYyU2t0L0lmcnE3WmN2ZVFYMVJ0WTc2SW9JWHMveHNrUmZySWNyK1J0WCsxZmtiMWp5Qi9EOUNmRTN4dmdiRjd6UTEyTCtCdlhodS93TlM0WTB5dlVHL3NiUS9rdktBWDI5clY5TzlrcDQzWG1rM1I3VDc3Q2lGUHN1RFZzTkxzZVBpdmViNkJCSzJFbVo5RGVTWFcrSGkvTXAvMXhmU1dXZTh0S2xTTjQ3MEg4TjVHV0p2bGdQSDFnUFRhNkhrcGVWOWkrVnY1RU1hVEMvY2RhWDRpWE9wNmgrK1pJWCtwcFdINVo0VVIvMjg3SkVYMm9jOStLYnJNakU2S2czOERlRzlsOXhBNDYrWHRndnkvd05lTjMwbzlUYnlHZGd2TjBKeEQ5OGlsZDJaa1NzYk43c2J5Uk9CZk1iLzBCZnJmNkdPL01ieS9KaWZtUHdlbWh5UFpTOHJMUi9NYi94aUw0VUx6WFQ3czM5TXZxYVhCOCs5eTBudkpwNFdhSXY5YzJJTi9zYlBmVUcvc2JRL292NWpWL1RMek8vMGN2TG0rZHRhcndNZlQzRnEvRjhTczNmcUQzQzMzaEtYNjMraHVGdnJNdkxFaEd4SGo2d0hyYWNUNm41RzRhLzhhQytXczZuMVBwbDlEVzVQaXp4b2o3czU5VjZQcVhtYi9UVUcvZ2JRL3N2ZjA1NjZHdHV2NHkvMGZNb1R5TXBoYjdxRUp0U3ZzMVBQajY4L0NxOTgrS21CbXNNRVMzbGkyYVAwRmVMdnR5ejBMeW44a1UvSVViMFh3TjVQWll2eW5vWXI0YzYyVldIc0pYMnI4WjgwZXpSWDlaWEFrVkpyelUwRDMzTnJROUx2S2dQKzNsWm9pK3ZoY3cvbGkrYVBVSmZEL1ZmRCthTG9xKzUvWEpydmlpOEh2Q2pydXdqL1BteHZGcm5OMXpuaTE3L1F1WTM1dWpMUGZzNm1QbU5WL0ZpZm1Qd2V0ZzB2K0U2WC9SeS8ySis0eEY5TmMxdnVNNnJ2UHdxRTMzTnFnOUx2S2dQKzNrMXoyOWNsM1BNYjd5cC8ySis0OWYweTh4dkxNWHI0czJqcjhYOGpZdXREWDlqc1g3NUJpLzhqUVY1V2FJdjFzTjEvSTNyL1F0L1l5Vi80NUlYK2xySzM2QStmSmUva2VWdmROUWIrQnREK3k4M1dXK2dyM2YxeS9nYjVVY20zOGJIVXpxK1EzUFRyM2ZFSTNnRmIrTzRFMjA5d1AyTDJ2QTYreHVtdDdieUkveU5wL1RsV2lrcEZIUDF5T1FueE44WXpNc1NFYkVlUHJBZW1sd1BKUzhyYlZJbmZ5TkhpYjhSLy9VcVhvYzF5dlp2M3B0NW9hOXA5V0dKRi9WaFB5OUw5SFdvSEt5N3FDalZHL2diUS9zdmYwNTY2R3R1djN6Mk4rQjE5NUVkYXJETml6SVhOL1BhVDZjYzJFZDJXUG9lZXdRdjMxVnJIdkg2VUR2eTJsQzcrUXVmZjRTK0d2WGxpUnpFbTQ5SFNYZUg5WVQwOERmRzhqTE5pL1d3bTlkcGZtT3pFcHJrWmFWTjZqeS9jUU1sL3NieHIxZnhPcTVSbTNyRHBJaXM2YzJqcjM5VEg1WjRVUi8yODdKRVg2ZXZ4cmI3VjZXb0tOVWIrQnREK3k5L1ducm9hMWEvSE14dndHdXdIK1dKZlNUZS9HNWhDMHduVjQveVJKYy95cXR4ZnVPSFNqQnVJZnJsWTNrWThZb04velFCRlgzZDE1ZHJmYVc4ekJXdjZQdVVQSkVNWGcveHNrUmZySWNQckljdDh4dWZYYXF3ZjBYekd5cEVkTHNlNG0rVTV6ZSsvc0ZNN1Y4SkwvUTFyVDRzOGFJKzdPZlZPci9ocnNkeGhZblJXVy9nYnd6dHY5eGt2WUcrM3RVdmgvTWI4SnJIeXpRdjVxTVc5RGRNOTh1Y1QxbXdYNzdreGZtVUJYbFpvaS9XdzVYOGphdjlpL01wYS9rYkY3elExMkwrQnZYaHUvd04wLzRHNTFNVzdiK0V2NEcrM3RjdmN6NmxpOWZYK3cxNC9mY0dZMTVXT2svMFhSbzJiVzJmSDRhWEgvYWJnRmZzYjFncGYyT0w2N2Ixb1I2aHIxWjlKWlY1eWt1WEl1YnFFZjdHWUY2VzZJdjE4SUgxME9SNktIbFphZjhLNXpjeWcwdEhqLzVsZlNsZW9iOWhwVHdIOURXM1BpenhvajdzNTJXSnZrSi93MHI1R3gzMUJ2N0cwUDRyenQ5QVh5L3NsK1A1RFhqZDk2TVVyM0FHWm5PeXN0a0p4RDk4aWxmb2I5aFdhd0d2Vm44ak1UR1kzL2dIK21yMU45eVozMWlXRi9NYmc5ZERrK3VoNUdXbC9ZdjVqVWYwcFhpRithTGJIMnJraGI2bTFZY2xYdFNIL2J3czBWZVlMMnB5S0RUeE4zcnFEZnlOb2YwWDh4dS9wbDltZnFPWGw3Zm53Wlo0a2Q4NzdmNlVrci9CL1NsejlkWHFiM0IveXNLOHVEOWw4SHJZZEg5S3lkL2cvcFJwOTZlVSttWDBOYmsrNVA2VVNieWE3MDhwK1J2Y243SnMvOFg5S2IrbVg4YmY2T0ZsaVI4VkpwOVlSMGhVS2QvbVp5b0lYanE5MDJTUzRUWVoyeHBEUkV2NW91b1IrbXJWbDNzV212ZFV2dWdueElqK2F5Q3Z4L0pGV1EvajlkRGtlaWg1V1duL2Fzd1hWWS8rdXI0VUw1Ry9vZnJsUzE3b2ExcDlXT0pGZmRqUHl4SjlpZnlOU21oNVI3MkJ2ekcwLzNvd1h4Ujl6ZTJYVy9ORjRUWDBQbDkvZXJRRFArcUIrUTNYK2FMWDFqM3pHM1AwNVo1OUhjejh4cXQ0TWI4eGVEMXNtdDl3blM5NnVYOHh2L0dJdnBybU4xem5WVjUrbFltK1p0V0hKVjdVaC8yOG11YzNyc3M1NWpmZTFIOHh2L0ZyK21YbU41YmlkZkhtMGRkaS9zYkYxb2Evc1ZpL2ZJTVgvc2FDdkN6UkYrdmhPdjdHOWY2RnY3R1N2M0hKQzMwdDVXOVFINzdMMzhqeU56cnFEZnlOb2YyWG02dzMwTmU3K21YOGplS2o3WHZZdjQzdDJ6dS93K1NSZnZQbStnOUFQZHJOQXNGcjl4NWM4VHAzVXNjSTMxdjk4bTViTzJ5STZ0Ritkc3ZoMWFtdkZuL0RYSlVpVzE3N29tTExDMzlqTUM5TDlNVjYrTUI2YUhJOWxMeXN0SDhkL0kzOWVpaDU0VzhjOUtWNG5Sc2ZLL1RMNkd1QityREVpL3F3bjVjbCtqb1habGJ3TjNyckRmeU5vZjNYdVFGSFh5L3RsNC8rQnJ5YWVPMitZL3JmL2hoc1BEbnoweW1yME5mb2tibDZaSzRlN2JJbTRMVTNEazZldzA4VGRYNVJIMkRucmMyOTlmNlUzZiszdzEvVVp1QURmWFhxeTdXK0ZKUmdsUFM0WXNiNnd0OFl6TXMwTDliRGJsNlJ2N0cvRlRIaVphWDlLL0kzUXBUNzVSQi9ZNjh2eFN2eU4vWXBpRzI4ME5lMCtyREVpL3F3bjVjbCtvcjhqWDBLUjd4LythUDFCdjdHMFA0cjlEZlExeHY3NWREZmdOZFFQOG85dTlSRzg0cWlWT3prK3U1NWlVU1h2ODJyY1g1anY0dmQ3NWVqS0VzN1YvVVJML3lOYm4yMSt4dFIzdGY1U2NRTGYyTXdMMHYweFhyNHdIcllNci94MmFVSysxZm9iMFFob29mMUVIK2pQTC94Vlc4MDk4dm9hMnA5V09KRmZkalBxM1Yrd3ozN2trdjdHL1Y2QTM5amFQOGwvQTMwOWI1K09mWTM0RFdObHlWK0ZQTlI2L2tibHN3RGNENWx2WDc1a2hmblV4YmtaWW0rV0E5WDhqZXU5aS9PcDZ6bGIxendRbCtMK1J2VWgrL3lOeXlaMytCOHlwcjlsNXJmUUYrdjY1YzVuOUxGNit2OXh2TTJrcGVWemhOOWw0YmhmSlRrNVhGZ3pwL21GZmtiUDI4d25EK3M1RzlzY1VXOFluL0RPWi95akw3Y0cvTTNkbCtOUkx6RXZLZ3p2ekdjbHlYNllqMThZRDAwdVI1S1hsYmF2OFQ1Rk9sdkNPL3JyK3RMOFJMblV5cDVEdWhyYm4xWTRrVjkyTS9MRW4ySjh5bVYvSTJPZWdOL1kyai9GZWR2b0s4WDlzdnFmQXE4N3ZwUmlwZTRZL2RuNTJybGhYLzRHSy9RMy9qNTMzbk1xOVhmaUowSzVqZitsYjVhL1kyZTcxUHdOd2J6WW41ajhIcG9jajJVdkt5MGZ6Ry84WWkrRks4d1gzVDdRNDI4ME5lMCtyREVpL3F3bjVjbCtncnpSWnN2bldkK1krbitpL21OWDlNdk03L1J5OHZiODJCTHZNanZuWFovU3NuZjRQNlV1ZnBxOVRlNFAyVmhYdHlmTW5nOWJMby9wZVJ2Y0gvS3RQdFRTdjB5K3BwY0gzSi95aVJlemZlbmxQd043azladHYvaS9wUmYweS9qYi9Ud3NzU1BpcE5Qc2tkMlhQb2V5TGY1eWNlSGwzbWMzcm5mdWVMOERlVnZ4Q0dpSGZtaThtc0M5TldvTDlmNjh1ZnlSVDhoUnZSZkEzazlsaS9LZWhpdmh5YlhROG5MU3Z0WFk3NW8rQWg5U1Y0aWYwUGZ4M0hCQzMxTnF3OUx2S2dQKzNsWm9pK1J2Nkh2VDRtS2l1NTZBMzlqYVAvMVlMNG8rcHJiTDdmbWk4SnI2SDIrYmpJdkJmOXcydnlHNjN4UmszbVZ6Ry9NMVpkcmZUbnpHeS9qeGZ6RzRQV3dhWDdEZGI3bzVmN0YvTVlqK21xYTMzQ2RWM25GQzMxTnF3OUx2S2dQKzNrMXoyKzR6aGMxbVMvSy9NYXkvUmZ6RzcrbVgyWitZeWxlMlhtaS83eGw5TFdTdjVIbE9ZUTN2ZUp2VE8yWGIvREMzMWlRbHlYNllqMWN4OSs0M3Ivd04xYnlOeTU1b2ErbC9BM3F3M2Y1RzFuK1JrZTlnYjh4dFArSzV6ZlExd3Y3WmZ5TlpYaVo1aVYvS3Z0MzZVOUlQZitFdjJHNlg1YTdYclpYNmsrSXZwN29sMi95MnRVYldlK2dLeUo0UGMzTEVuMnhIcTdoYjl6YnYvYitoaVYvQVB0UGlML3h0TDl4aXhmNldzYmZvRDU4bDc5aDJ0L29yVGZ3TjRiMlg0RWMwTmM3KytWa3I0VFhOYS9kRU5yeHZodDVuc2pDODBUNzI1L3VuVUxLemk3cFQvZ1hlYm0rZlhYWFJKMWYxQWZZMFovUHJuTzEvTjhWYjRqY0QvdWN2bHpyeTdOVHRFRzk0ZUhaOXYxMVV2Z2JJM2xaY3VxWjliQ1hsN2dmVnVadldKaS9jVy8vaXZ5TkVPWGhFK0p2N0VOTUJDOXhQMnlVNTNDTEYvcWFWaCtXZUZFZjl2T3lSRi9pZnRqdzBPdXhtbnV1M3NEZkdOcC9oZjRHK25wanY1eGtWY0Zya0IvbDJvOUtlUVZSS3RuZE9qclI1YS96YXB6ZjJPOWk5L3ZsSU1veXUydE1KNkNpcjRLKzJ2Mk5JTzhydTN0Uko1TEI2MmxlbHVpTDlmQ0I5YkJsZnVPelN4WDJyOURmQ0VORTkrc2gva1o1ZnVPcjNtanVsOUhYMVBxd3hJdjZzSjlYNi95R3U1emZTUDJOZXIyQnZ6RzAveEwrQnZwNlg3K2MzS1VPcnhtOExQR2ptSTlhejkrd1pCNkE4eW5yOWN1WHZEaWZzaUF2Uy9URmVyaVN2M0cxZjNFK1pTMS80NElYK2xyTTM2QStmSmUvWWNuOEJ1ZFQxdXkvMVB3RytucGR2OHo1bEM1ZVgrODNucmVSdkt4MG51aTdOQXpub3lRdkZ3Zksvakt2K0g1WWsvNkdsZkkzdHJnaVhyRy80WnhQZVVaZjdvMzVHN3V2UmlKZVlsN1VtZDhZenNzU2ZiRWVQckFlbWx3UEpTOHI3Vi9pZklyME4yTHY2OC9yUy9FUzUxTXFlUTdvYTI1OVdPSkZmZGpQeXhKOWlmTXBsZnlOam5vRGYyTm8veFhuYjZDdkYvYkw2bndLdk83NlVZcFhPQU96Y2VaYmVlRWZQc1lyT3pNaVZqWnY5amRDcDRMNWpYK21yMVovbytmN0ZQeU53YnlZM3hpOEhwcGNEeVV2SysxZnpHODhvaS9GSzh3WDNmNVFJeS8wTmEwK0xQR2lQdXpuWlltKzFEY2ozdXh2OU5RYitCdEQreS9tTjM1TnY4ejhSaTh2YjgrRExmRWl2M2ZhL1NrbGY0UDdVK2JxcTlYZjRQNlVoWGx4ZjhyZzliRHAvcFNTdjhIOUtkUHVUeW4xeStocmNuM0kvU21UZURYZm4xTHlON2cvWmRuK2kvdFRmazIvakwvUnc4c1NQNm94NlhwN2N1TEIvS2lmZkh4NHFmVE93NVVtOHFZR2tiK2hYUDFhdnFqOG1nQjlOZXJMdGI3OHVYelJUNGdSL2RkQVhvL2xpN0lleHV1aHlmVlFKNU9YOXEvR2ZOSDRFZnBTdkVUK2hyNlA0NElYK3BwV0g1WjRVUi8yODdKRVg5bk5hMGw5K0ZpK3FCelRRbC9QOVY4UDVvdWlyN245Y211K0tMeUczdWZySnZOUzhBK256Vys0emhjMW1WZkovTVpjZmJuV2x6Ty84VEplekc4TVhnK2I1amRjNTR0ZTdsL01ienlpcjZiNURkZDVsVmU4ME5lMCtyREVpL3F3bjFmei9JYnJmRkdUK2FMTWJ5emJmekcvOFd2NlplWTNsdUtWblNmNnoxdEdYeXY1RzFtZWc1NFZ3ZCtZMVMvZjRJVy9zU0F2Uy9URmVyaU92M0c5ZitGdnJPUnZYUEpDWDB2NUc5U0g3L0kzc3Z5Tmpub0RmMk5vL3hYUGI2Q3ZGL2JMK0J2bFI1OUptOU5PcE45aHhRbmNKdmUyL0FGc3BBcXZYWEt2SzE3SFRzcWt2NUhzZXZ1azVmc2I0blpwZFhoMTZpdXB6Rk5lK3F1VytHNEMvSTEvd01zU2ZiRWVQckFlbWx3UEpTOHI3Vjk3ZnlNMXVIYnJvYU12aS8yTkhhOWpUeVQ3NVp1ODBOZTArckRFaS9xd241Y2wranArSjNWelVuZHZZblRYRy9nYlEvdXZZd09Pdmw3YkwvdTVNb2ZYZlY0L2g0cFB2T0tiZVRlWDNhaWJob0pIdGs5MHUzdEFhWHZPQ0Y3N0EzWUhsSjhtNm9SeUEreTR0Ym40aGJtLzRmSmpwSS9RVjV1K1hPc3I5RGYyejBYZ2dIaUV2ekdZbDJsZXJJZmR2Q0ovNC9OYzhiTFMvaFg1RzVjbzhUZU8rbEs4SW4vamEvdTZmZW9aZlMxUkg1WjRVUi8yODdKRVg1Ry84Yk4vSmFsdS9taTlnYjh4dFA4Sy9RMzA5Y1orT2ZRMzREWFVqM0x0UjZXOGRKUktmcmNPOS9rZWVEWE9iK3lNeElaK1dVZFo1bmVONFc4OG9hOTJmME5IZ2VWM0x4cit4bWhlbHVpTDlmQ0I5YkJsZm1OYmVEVHZYNkcvb1VKRU4rc2gva1o1ZnVQekpyMlpGL3FhVmgrV2VGRWY5dk5xbmQ5d2wvTWJxYjlScnpmd040YjJYOExmUUYvdjY1ZGpmd05lMDNoWjRrY3hIN1dldjJISlBBRG5VOWJybHk5NWNUNWxRVjZXNkl2MWNDVi80MnIvNG56S1d2N0dCUy8wdFppL1FYMzRMbi9Ea3ZrTnpxZXMyWCtwK1EzMDlicCttZk1wWGJ4MlZlSngza2J5c3RKNW90M1l6WEdvUnZKeUVaanpsM2xGL3NaK0NqSGcxWnkvc1p0Q2pLQTBQVUpmamZweWI4emYySDAxRW9ySTFTUDhqY0c4TE5FWDYrRUQ2NkhKOVZEeXN0TCtKYzZuU0g5RFBmcmorbEs4eFBtVVNwNEQrcHBiSDVaNFVSLzI4N0pFWCtKOFNpVi9vNlBld044WTJuL0YrUnZvNjRYOXNqcWZBcSs3ZnBUaUZkK3grOW01V25uaEh6N0dLL1EzYkt2Q2dGZXJ2NUdZR014di9BTjl0Zm9iUGQrbjRHOE01c1g4eHVEMTBPUjZLSGxaYWY5aWZ1TVJmU2xlWWI3bzlvY2FlYUd2YWZWaGlSZjFZVDh2Uy9RVjVvdmV1SlhQSDYwMzhEZUc5bC9NYi95YWZwbjVqVjVlM3A0SFcrSkZmdSswKzFOSy9nYjNwOHpWVjZ1L3dmMHBDL1BpL3BUQjYySFQvU2tsZjRQN1U2YmRuMUxxbDlIWDVQcVErMU1tOFdxK1A2WGtiM0IveXJMOUYvZW4vSnArR1gramg1Y2xmbFNZMFdvNkZDWDR6d1A1TmovNStQQXltZDVwS3NudzhHN0Q4NVZuVjc4blgxUStRbCtOK25LdEwzOHVYL1FUWWtUL05aRFhZL21pcklmeGVtaHlQWlM4ckxSL05lYUx5a2QvWEYrS2w4amYwUGR4WFBCQ1g5UHF3eEl2NnNOK1hwYm9TK1J2NlB0VGdxS2l2OTdBM3hqYWZ6MllMNHErNXZiTHJmbWk4QnA2bjYrYnpFdkJQNXcyditFNlg5UmtYaVh6RzNQMTVWcGZ6dnpHeTNneHZ6RjRQV3lhMzNDZEwzcTVmekcvOFlpK211WTNYT2RWWHZGQ1g5UHF3eEl2NnNOK1hzM3pHNjd6UlUzbWl6Sy9zV3oveGZ6R3IrbVhtZDlZaWxkMm51aS8vMEpmSy9rYldaNkR1dWtWZjJOZXYzeURGLzdHZ3J3czBSZnI0VHIreHZYK2hiK3hrcjl4eVF0OUxlVnZVQisreTkvSThqYzY2ZzM4amFIOVZ6eS9nYjVlMkMvamJ4UWZiU2R0N05RVXUzN3ozc3dyZ1pMOTFQYXp3V3MzR2VXS1Y5QkplYk8va1pnWTJVL3RTRG04T3ZWMTM5L3dwQlJKNm8zTlo4UGZHTXpMRW4yeEhqNndIcHBjRHlVdksrMWZlMy9ERW45anZ4NDYrbEwreHZIRWtLZzNidmZMNkd1SityREVpL3F3bjVjbCtqcC9NK0xOL2taL3ZZRy9NYlQvQ3VTQXZ0N1pMeC8yU25pMThmbzVWSHppSlcvbTlVMWViSENlS0RxRjVKZW5rTUt6UzV0T0dWNmUzR215dlRyRkxLQnNaMy9qc0t1ZFhxOTRsUDNVenRwQVg1MzZjcTBVRnpmekJxT2twL0ltMUJmK3htQmVwbm14SG5ieml2eU56MDNhaXBlVjlxL0kzd2hSN3BkRC9JMjl2aFN2eU4vNDJyN2lQSWNMWHVoclduMVk0a1Y5Mk0vTEVuMUYvc2JQL3FWNHFVdGd5L1VHL3NiUS9pdjBOOURYRy92bDBOK0ExMUEveXJVZmxmS0tvbFJjNTZWc3ZXaDRkY3h2L0ZEUisxZllMMGRSbHE1RFJIZmZIZUJ2OU9xcjNkK0lvc0JjaDNwdGVPRnZET1psaWI1WUR4OVlEMXZtTno2N1ZHSC9DdjJOTUVSMHZ4N2liNVRuTjc3cWplWitHWDFOclE5THZLZ1ArM20xem0rNDYveU56TitvMXh2NEcwUDdMK0Z2b0svMzljdXh2d0d2YWJ3czhhT1lqMXJQMzdCa0hvRHpLZXYxeTVlOE9KK3lJQzlMOU1WNnVKSy9jYlYvY1Q1bExYL2pnaGY2V3N6Zm9ENThsNzloeWZ3RzUxUFc3TC9VL0FiNmVsMi96UG1VTGw2N2xMYmp2STNrWmFYelJMdlU1YU9MSlhtNU9GRDJsM2xGL3NiUEd3em5EeXY1RzdzUStvQlg3Rzg0NTFPZTBWZFNtYWU4NG5sUldXOThmaFplNDNoWm9pL1d3d2ZXUTVQcm9lUmxwZjFMbkUrUi9vYUw2TkUvcmkvRlM1eFBxZVE1b0srNTlXR0pGL1ZoUHk5TDlDWE9wMVR5TnpycURmeU5vZjFYbkwrQnZsN1lMNnZ6S2ZDNjYwY3BYdEVNek82SEdubmhIejdHSy9RM2RxY3NBMTZ0L2tiaTZqTy84US8wMWVwdjlIeWZncjh4bUJmekc0UFhRNVByb2VSbHBmMkwrWTFIOUtWNGhmbWlPOVJ0dk5EWHRQcXd4SXY2c0orWEpmb0s4MFhEUytldi9JMmVlZ04vWTJqL3hmekdyK21YbWQvbzVlWHRlYkFsWHVUM1Rycy9wZVJ2Y0gvS1hIMjEraHZjbjdJd0wrNVBHYndlTnQyZlV2STN1RDlsMnYwcHBYNFpmVTJ1RDdrL1pSS3Y1dnRUU3Y0Rzk2Y3MyMzl4ZjhxdjZaZnhOM3A0V2VKSGhYRzcyenNYUEQ1UDVJL21SLzNrNDhOcjQ4eTc0cVh5TjVTL0VZYUl1dGZ6UmVOSDZLdGRYNjcxNWMvbGkzNUNqT2kvQnZKNkxGK1U5VEJlRDAydWg1S1hsZmF2eG56UitCSDZVcnhFL29hK2orT0NGL3FhVmgrV2VGRWY5dk95UkY4aWYwUGZueElVRmYzMUJ2N0cwUDdyd1h4UjlEVzNYMjdORjRYWDBQdDgzV1JlQ3Y3aHRQa04xL21pSnZNcW1kK1lxeS9YK25MbU4xN0dpL21Od2V0aDAveUc2M3pSeS8yTCtZMUg5TlUwditFNnIvS0tGL3FhVmgrV2VGRWY5dk5xbnQvUWxaNmJ6QmRsZm1QWi9vdjVqVi9UTHpPL3NSU3Y3RHpSZnc0WStsckozOGp5SEtKWkVmeU51ZjN5RFY3NEd3dnlza1JmcklmcitCdlgreGYreGtyK3hpVXY5TFdVdjBGOStDNS9JOHZmNktnMzhEZUc5bC94L0FiNmVtRy9qTDlSNXlYZVJ2SU9hN3hxaitEbDk5eURwSk9xK1J1MVIvZ2J6K3JydnI5aHp2ekc0cndzRVJIcjRRUHJvWDd6L2Y3RzdoSCt4aVA2c2x0clZLMWZSbDlMMUljbFh0U0gvYndzMGRjVC9rWi92WUcvTWJULzhpZWtoNzVXNkpmeE43cDQvUndxUHZFS2IrYmRKbFdxbTRhZWVwUjh3ci9JYTI4Y25QekR6ZFhYWjlmeEcxajRVOGt2Ykh1VWZFTDAxYTR2MTBweGNXbnZlWlRVVGwvZmhKOFFmMk13TDlPOFdBKzdlVVgreHVjbWJjWExTcHVVdUI4Mk1ERjBOZ3Y2a3J6RS9iQTZ6K0dDRi9xYVZoK1dlRkVmOXZPeVJGL2lmdGg2VVZHcU4vQTNodlpmL29UMDBOY0svYks2SHhaZTQvd28xNmFUTjBhcFhPYWx4SWt1ZjV4WDQvekdENVdreWJvWlBYcVpMeG9ub0tLdmRuMjEreHVWdks4NGtReGVEL095UkYrc2h3K3NoeTN6RzU5ZHFyQi9OZWFMV25SS0FuMDF6Vzk4MVJ2TlJUdjZtbG9mbG5oUkgvYnphcDNmY05mNUc1bUpVYTgzOERlRzlsOStPOW9YZlMzZUw3Zm1pOEpyTUM5TC9Dam1vOWJ6Tnl5eDdqbWZzbDYvZk1tTDh5a0w4ckpFWDZ5SEsva2JWL3NYNTFQVzhqY3VlS0d2eGZ3TjZzTjMrUnVXREdsd1BtWE4va3ZOYjZDdjEvWExuRS9wNHZYMWZvWGRaM0xlcG5LZTZMczB2TG0xN1NwRGVPMHFlVmU4WW4vRFN2a2JXMXczckEvWGV5WDZLdWdycWN4VFhyb1VFZk9penZ6R2NGNlc2SXYxOElIMTBPUjZLSGxaYWY4UzUxT2t2eEUrUWwrS2x6aWZVc2x6UUY5ejY4TVNMK3JEZmw2VzZFdWNUNm5rYjNUVUcvZ2JRL3V2dUFGSFh5L3NsOVg1RkhqZDlhTVVyMmdHWmh2cDJzb0wvL0F4WHRtWmtTaGZkSGZLOG02L25MajZ6Ry84QTMyMStoczkzNmZnYnd6bXhmekc0UFhRNUhvb2VWbHAvMkorNHhGOUtWNWh2dWhPWlcyODBOZTArckRFaS9xd241Y2wrZ3J6Ulc5TUJmdWo5UWIreHREK2kvbU5YOU12TTcvUnk4dmI4MkJMdk1qdm5YWi9Tc25mNFA2VXVmcHE5VGU0UDJWaFh0eWZNbmc5YkxvL3BlUnZjSC9LdFB0VFN2MHkrcHBjSDNKL3lpUmV6ZmVubFB3TjdrOVp0di9pL3BSZjB5L2piL1R3c3NTUENwTlB0aW5OM2hnU1ZjcTMrY25IaDVkSzc4eVNEUGVaMVcwaG9xVjgwZmdSK21yWGwzc1dtdmRVdnVnbnhJaitheUN2eC9KRldRL2o5VkFudTBwZVZ0cS9Hdk5GNDBmb1N5YmpCZjdHcnRCcjVJVytwdFdISlY3VWgvMjhMTkdYeU4rb2hKWjMxQnY0RzBQN3J3ZnpSZEhYM0g2NU5WOFVYa1B2OC9YblJqdndveVN2MXZrTjEvbWkxNytRK1kwNStuS3RMMmQrNDJXOG1OOFl2QjQyelcrNHpoZTkzTCtZMzNoRVgwM3pHNjd6S2krL3lrUmZzK3JERWkvcXczNWV6Zk1idXRKemsvbWl6RzhzMjM4eHYvRnIrbVhtTjViaWRZRVNmUzNtYjF4c2JmZ2JpL1hMTjNqaGJ5ekl5eEo5c1I2dTQyOWM3MS80R3l2NUc1ZTgwTmRTL2diMTRidjhqU3gvbzZQZXdOOFkybis1eVhvRGZiMnJYOGJmcUQzYVRkcWMzb2FDa2o0eUx6d3l6eC9CSytCMWNnL000MDVxOThnT1A3VWZnN3I1YUQ5SWZINkV2L0dVdmx5TEtPVmxybmdkNjQwUEwveU53YndzMFJmcjRRUHJvWVJpa3BlVjlxKzl2M0U4V0dGeVBYVDBaYkcvY1lTaXBHZFNSSll1bGVoclRuMVk0a1Y5Mk0vTEVuMWxwZVB0b3FLNzNzRGZHTnAvK1gzcG9hKzErK1hqWGdtdkpsNC9oNHBQdk1LYmVmMXdrOXNKaW52akkvTTdqK0IxaU40NHZvM1BFTHhGanl6eU56eTV6bFUvMnYzLzI0L1FWN08rWEl0SXZmbnpLS2tmVjB3aFBmeU5zYnhNODJJOTdPWVYrUnVmbTdRVkx5dnRYNUcvY1lrU2YrT29MOFVyOGplK3RpK1RJckowcVVSZmMrckRFaS9xdzM1ZWx1Z3JyUFNzc2Fqb3JqZndONGIyWDM1ZmV1aHI3WDQ1OURmZ05kU1BjbTA2cGJ5Q0tKWGpQYVJucXlwS2RQbnJ2QnJuTjM3K0YwbVRGVDBLb2l6M1Q2TFJqdWhVQy9vcTZLdmQzd2p5dm9JbkVTLzhqY0c4TE5FWDYrRUQ2MkhML01ibmYxSFl2MEovSTg0WDNhMkgrQnZsK1kydmVxTzVYMFpmVSt2REVpL3F3MzVlcmZNYjd0blhWZHJmcU5jYitCdEQreS9oYjZDdjkvWExzYjhCcjJtOExQR2ptSTlhejkrd3hMcm5mTXA2L2ZJbEw4Nm5MTWpMRW4yeEhxN2tiMXp0WDV4UFdjdmZ1T0NGdmhiek42Z1AzK1Z2V0RLL3dmbVVOZnN2TmIrQnZsN1hMM00rcFl2WDEvdU41MjBrTHl1ZEovb3VEY09oR3NuTHd3TmxmNXRYdkVtWjlEZXNsTCt4eFJWQ3VmOElmYlhyeTcweGYyUDMxVWdvSWxlUDhEY0c4N0pFWDZ5SEQ2eUhKdGREeWN0Sys1YzRueUw5amRqNyt2UDZVcnpFK1pSS25nUDZtbHNmbG5oUkgvYnpza1JmNG54S0pYK2pvOTdBM3hqYWY4WDVHK2pyaGYyeU9wOENyN3QrbE9JVnpzQnNnMTBiZWVFZlBzWkxiVkllK3hzL3kxcVR2NUdZR014di9BTjl0Zm9iN3N4dkxNdUwrWTNCNjZISjlWRHlzdEwreGZ6R0kvcFN2TUo4MFIzcU5sN29hMXA5V09KRmZkalB5eEo5aGFPL0pvZENFMytqcDk3QTN4amFmekcvOFd2NlplWTNlbmw1ZXg1c2lSZjV2ZFB1VHluNUc5eWZNbGRmcmY0Rzk2Y3N6SXY3VXdhdmgwMzNwNVQ4RGU1UG1YWi9TcWxmUmwrVDYwUHVUNW5FcS9uK2xKSy93ZjBweS9aZjNKL3lhL3BsL0kwZVhwYjRVWEh5U2ZKSWg5aDA1TnZzcTBSNDZmbU5PTW5Rai9jbTN3a1I3Y2dYVlY4VG9LOVdmYmxub1hsUDVZdnVVeERoTllqWFkvbWlySWZ4ZWlpaG1PUmxwZjJyTVY4MGZvUytFaWhLZXZkRDg5RFhDdlZoaVJmMVlUOHZTL1NWbFk2M2k0cnVlZ04vWTJqLzlXQytLUHFhMnkrMzVvdkNhK2g5dnQ1cVZlRkhGWGkxem0rNHpoZTl0dTZaMzVpakw5ZjZjdVkzWHNhTCtZM0I2MkhUL0licmZOSEwvWXY1alVmMDFUUy80VHF2OHZLclRQUTFxejRzOGFJKzdPZlZQTC9oK3RDcnlYeFI1amVXN2IrWTMvZzEvVEx6RzB2eHVrQ0p2aGJ6Tnk2Mk52eU54ZnJsRzd6d054YmtaWW0rV0EvWDhUZXU5eS84alpYOGpVdGU2R3NwZjRQNjhGMytScGEvMFZGdjRHOE03Yi9jWkwyQnZ0N1ZMK052RkI5dDM4UCtiV3pmM3VFZEpvKzJUdFQ5bjdyOGhmQUszc1orSjlxL1BZbnk2Ry9zbk1Qa0Y5NTlsSHhDOUZYUWwydDk1WDhBcnY4QTFDZkUzeGpNeXhJUnNSNCtzQjZhbG9OcE9SVDJyNzIvY2ZrSGdMOFIvL1hhclRYcStPYTltUmY2bWxZZmxuaFJIL2J6c2tSZmplWGNkVkZScWpmd040YjJYdy8rUXZRMXQxOU85a3A0WGZQNk9WUjg0aFhlekx2dGxPUFhHeDAxMnE2Zjl4OGxuL0F2OHRvYkI2ZkJpWjhteXFKSEZzNXZYUDdDdGtmSkwwUmY3ZnJ5UkE1UmxiTDdyL0NSeVUrSXZ6R1lsMmxlcklmZHZDSi80M09UdHVKbHBmMHI4amRDbElkUGlMK3hEekVSdkNKLzQydjdpdnJsUzE3b2ExcDlXT0pGZmRqUHl4SjloWldEUmZrYjUycnV1WG9EZjJOby95VitJZnA2WDc4czlrcDREZlNqUExHUE1sNUJsTXJ4OXUyendTVVNYZjQwcjhiNURYYzV2NUgyeTBHVTVkNlpqd3gva1lDS3ZscjExZTV2QkhsZk8xNVJ2YUVTeWVEMUtDOUw5TVY2K01CNjJESy84ZG1sQ3Z0WDZHL0UrYUs3OVJCL296eS84VlZ2TlBmTDZHdHFmVmppUlgzWXo2dDFmc05kaitObUprYTkzc0RmR05wL3FRWWNmYjJ1WDQ3OURYaE40MldKSDhWODFIcitoaVh6QUp4UFdhOWZ2dVRGK1pRRmVWbWlMOWJEbGZ5TnEvMkw4eWxyK1JzWHZORFhZdjRHOWVHNy9BMUxoalE0bjdKbS82WG1OOURYNi9wbHpxZDA4ZnA2djhMdU0yMzNGYzRUZlplR3JRYVg0MGNkSzNsWHZPSk95a3I1RzF0Y0xZWS81MU1lMFpkN1kvN0c3cXNSMGRBSlh2Z2JnM2xab2kvV3d3ZldRNVByb2VSbHBmMUxuRTlKQm5pYytZMnp2aFF2Y1Q2bGt1ZUF2dWJXaHlWZTFJZjl2Q3pSbHhySExlUnZkTlFiK0J0RCs2KzRBVWRmTCt5WDFma1VlTjMxb3hTdmFBWm1teHpWeWd2LzhERmUyWmtSc2JKNXM3L2h6dnpHVEgyMStoczkzNmZnYnd6bXhmekc0UFhRNUhvb2VWbHAvMkorNHhGOUtWNWh2dWoyaHhwNW9hOXA5V0dKRi9WaFB5OUw5S1crR2ZGbWY2T24zc0RmR05wL01iL3hhL3BsNWpkNmVYbDdIbXlKRi9tOTArNVBLZmtiM0o4eVYxK3QvZ2IzcHl6TWkvdFRCcStIVGZlbmxQd043aytaZG45S3FWOUdYNVByUSs1UG1jU3IrZjZVa3IvQi9Tbkw5bC9jbi9KcittWDhqUjVlbHZoUnhiaGRIV0pUeXJmWjNlb0xyMlIrNC9LbUJwRy9vVno5V3I1by9BaDl0ZXZMdGI3OHVYelJUNGdSL2RkQVhvL2xpN0lleHV1aGhHSTZtYnkwZnpYbWk4YVAwRmNDUlVsUDVEbjRvL21pNk91eCtyREVpL3F3bjVjbCtzcEt4NlErZkN4Zk5INkV2aDd0dng3TUYwVmZjL3ZsMW54UmVBMjl6OWRONXFYZ0gwNmIzM0NkTDNyOUM1bmZtS012OSt6cllPWTNYc1dMK1kzQjYySFQvSWJyZk5ITC9ZdjVqVWYwMVRTLzRUcXY4b29YK3BwV0g1WjRVUi8yODJxZTM3Z3U1NWpmZUZQL3hmekdyK21YbWQ5WWlsZDJudWcvYnhsOXJlUnZaSGtPZWxZRWYyTld2M3lERi83R2dyd3MwUmZyNFRyK3h2WCtoYit4a3I5eHlRdDlMZVZ2VUIrK3k5L0k4amM2NmczOGphSDlsd2lJUUYvdjY1ZnhOeGJoZGZIbThROFg4emN1dGpibU54YnJsMi96d3Q5WWtKY2wrbUk5WE1IZnVMdC80VytzNFcvYzVJVytGdkUzcUEvZjVXOGtReHI5OVFiK3h0RCt5MDNXRytqclhmMHkva1lYcjU5RHhXZTdMN21aMTlxUEd0VVBLRG04VHEvajBONXVteWlMSGxrMHYrSDdZK3FIZjVmbC95N3hVK0lUb3E5MmZibG5VUS9uL1d2Ly9QcHMrL1lUNG04TTVtV2FGK3RoTnk5eFA2ek0zN0FnZitQdS9pWHVoOVVCTEk2L0VmejFLbDdpZnRoem5zTk5YdWhyV24xWTRrVjkyTS9MRW4ySk9MV3JhSTdBMytpcE4vQTNodlpmb2IrQnZ0N1lMeWRaVmZBYTVFZDUra2p6cXVUYmhJa3VmNTFYNC95R3U1emZTUHZsU3I1b21JQ0t2Z3I2YXZjM0tubGZZU0ladko3bVpZbStXQThmV0E5YjVqYyt1MVJoLzJyTUY3WG9sQVQ2YXByZitLbzNtdnRsOURXMVBpenhvajdzNTlVNnYrSHBJKzF2MU9zTi9JMmgvWmZ3TjlEWCsvcmwxbnhSZUEzbVpZa2Z4WHpVZXY2R0pmTUFuRTlacjErKzVNWDVsQVY1V2FJdjFzT1YvSTJyL1l2ektXdjVHeGU4ME5kaS9nYjE0YnY4RFV2bU56aWZzbWIvcGVZMzBOZnIrbVhPcDNUeCtucS80am9oMDNaZjRUelJkMmw0OHc5Z1Z4bkNhMWZKdStJbGtneEwrUnRiWERjMnhIMGxqNy9ScTYra01rOTVtV3VEeXdVdi9JM0J2Q3pSRit2aEErdWh5ZlZROHJMUy9pWE9wMGgvSTN5RXZoUXZjVDZsa3VlQXZ1YldoeVZlMUlmOXZDelJseHJITGVSdmROUWIrQnREKzY4NGZ3Tjl2YkJmVnVkVDRIWFhqNUp4dTl2M3VZZlNlTWtYL3VIRHZMSXpJMUZSOGIyc05ma2JpYXZQL01ZLzBGZXJ2OUh6ZlFyK3htQmV6RzhNWGc5TnJvZVNsNVgyTCtZM0h0R1g0aFhtaTI1L3FKRVgrcHBXSDVaNFVSLzI4N0pFWDJFNTEzanBQUE1iaS9kZnpHLzhtbjZaK1kxZVh0NmVCMXZpUlg3dnRQdFRTdjRHOTZmTTFWZXJ2OEg5S1F2ejR2NlV3ZXRoMC8wcEpYK0QrMU9tM1o5UzZwZlIxK1Q2a1B0VEp2RnF2aitsNUc5d2Y4cXkvUmYzcC95YWZobC9vNGVYSlg1VVk5eXVCZjk1SU4vbUp4OGZYaXE5TTBreVBNUlp4MU5WSHZmTHRYelIrQkg2YXRlWGEzMzVjL21pbnhBaitxK0J2QjdMRjJVOWpOZERuZXlxUTloSysxZGp2bWo4Q0gwbFVKVDAxRlR3by9taTZPdXgrckRFaS9xd241Y2wrdks3SWZPSC9jc2ZyVGZ3TjRiMlh3L21pNkt2dWYxeWE3NG92SWJlNStzbTgxTHdENmZOYjdqT0Z6V1pWOG44eGx4OXVkYVhNNy94TWw3TWJ3eGVENXZtTjF6bmkxN3VYOHh2UEtLdnB2a04xM21WVjd6UTE3VDZzTVNMK3JDZlYvUDhobjdrSnZORm1kOVl0djlpZnVQWDlNdk1ieXpGS3p0UHRGc1Y0YldFdjVIbE9laFpFZnlOV2YzeURWNzRHd3Z5c2tSZnJJZnIrQnZYK3hmK3hrcit4aVV2OUxXVXYwRjkrQzUvSTh2ZjZLZzM4RGVHOWwveC9BYjZlbUcvakw5UmVHVHliWHpjcE9NN05EZjlla2M4Z3BmazlkbUpqcncrbmRTSjE5YmZNTDIxbFIvaGJ6eXJMOWRLU2FHWXEwY21QK0VmOXpmRzg3SkVSS3lIRDZ5SEp0ZER5Y3RLbTlURzM4aFI0bTlrK2xLOGZ0WW9pOTY4Ti9OQ1g5UHF3eEl2NnNOK1hwYm82NmR5c0llS2lsSzk4Y2Y5amRIOWx6OGhQZlMxUXIrODlUZmcxY3hyOTg4N1hzZWJlVGU4M0k3bmlVd2ZOU28vRXAvd1QvcUhKK1BnczN6WjZlcnJiNVJuWUxiOWhjZGo2dDJQWE42NmdyNEsrbkt0bExBVTJUK1BIcG44aFBnYmczbVo1c1Y2Mk0wcjhqYytOMmtyWGxiYXBDSi9JMFI1K0lUNEc3dS9Yc1VyOGplK3RpK1RJckowcVVSZmMrckRFaS9xdzM1ZWx1Z3I4amQrOXE5S1VWR3FOL0EzaHZaZi9vVDAwTmNLL1hMb2I4QnJxQi9sMm5SS2VSMmpWRXpucFJ5OWFIaDF6Rys0eS9tTnRGOCtSbG1hemhjOWZYZUF2OUdycjNaLzQ1ajNaVHJ2NjhBTGYyTXdMMHYweFhyNHdIcllNci94MmFVSysxZm9iNXhDUk0vcklmNUdlWDdqcTk1b0x0clIxOVQ2c01TTCtyQ2ZWK3Y4UnZDdDJTMFRvMTV2NEc4TTdiK0V2NEcrM3RjdngvNEd2S2J4c3NTUFlqNXFQWC9ERXV1ZTh5bnI5Y3VYdkRpZnNpQXZTL1RGZXJpU3YzRzFmM0UrWlMxLzQ0SVgrbHJNMzZBK2ZKZS9ZY21RQnVkVDF1eS8xUHdHK25wZHY4ejVsQzVlWCs4M25yZVJ2S3gwbnVpN05MeTV0ZTBxUTNqdEtubFh2R0ovdzByNUcxdGNONnlQZlNXUHY5R3JyNlF5VDNucFVrVE1penJ6RzhONVdhSXYxc01IMWtPVDY2SGtaYVg5UzV4UGtmNkdSOUdqNkV2eEV1ZFRLbmtPNkd0dWZWamlSWDNZejhzU2ZZbnpLWlg4alk1NkEzOWphUDhWNTIrZ3J4ZjJ5K3A4Q3J6dStsR0sxMkVHeHZadjNwdDU0UjgreGl2ME4zNVNkRDNtMWVwdkpLNCs4eHYvUUYrdC9rYlA5eW40RzRONU1iOHhlRDAwdVI1S1hsYmF2NWpmZUVSZmlsZVlMN3E3RHFXTkYvcWFWaCtXZUZFZjl2T3lSRjlodnFqSm9kREUzK2lwTi9BM2h2WmZ6Ry84bW42WitZMWVYdDZlQjF2aVJYN3Z0UHRUU3Y0Rzk2Zk0xVmVydjhIOUtRdno0djZVd2V0aDAvMHBKWCtEKzFPbTNaOVM2cGZSMStUNmtQdFRKdkZxdmorbDVHOXdmOHF5L1JmM3AveWFmaGwvbzRlWEpYN1VJZm5FdWtPaVN2azJQL240OElyU08wMG1HVm9RWjkwV0lscktGejAvZ2xkTlgrNVphTjVUK2FLZkVDUDZyNEc4SHNzWFpUMk0xME9UNjZIa1phWDlxekZmOVB3SVh1Sjhpc3Y3VXp5NWorT0NGL3FhVmgrV2VGRWY5dk95UkY4aWY2TVNXdDVSYitCdkRPMi9Ic3dYUlY5eisrWFdmRkY0RGIzUDE1OGI3Y0NQa3J4YTV6ZGM1NHRlVy9mTWI4elJsMnQ5T2ZNYkwrUEYvTWJnOWJCcGZzTjF2dWpsL3NYOHhpUDZhcHJmY0oxWGVmbFZKdnFhVlIrV2VGRWY5dk5xbnQvUWxaNmJ6QmRsZm1QWi9vdjVqVi9UTHpPL3NSU3ZDNVRvYXpGLzQySnJ3OTlZckYrK3dRdC9ZMEZlbHVpTDlYQWRmK042LzhMZldNbmZ1T1NGdnBieU42Z1AzK1Z2WlBrYkhmVUcvc2JRL3N0TjFodm82MTM5TXY1RzVkSGhvdVN0SFBaMzFtemVvZjMweU9mWGV4akNlZkFSdktLTHJWM3gyblJTUjE1YmYrTTBOUFhZSS95TnAvVGxXaWtwRkhQMXlPUW4vT1AreG5oZWxvaUk5ZkNCOWREa2VpaDVXV21UMnZnYmQxRGliOFIvdllyWFo0MDYxUnNtUldUcFVvbSs1dFNISlY3VWgvMjhMTkhYNXF1eDgvNVZLU3BLOWNZZjl6ZEc5MS8rblBUUTE5eCtlYnRYd3F1SjE2a0crK0YxWGhYL1oxdmJ5STduaVE2LzhQRkhmNTNYNlpEa1p2bmFYRkorL0tiWS9FVHQraGMrL3doOVZmVGxpUnhPcFlnZkdZUWZRMzVDL0kzQnZFenpZajNzNW5YME4zYUxvdVJscFUzcTVHL2NRWW0vY2Z6clZid08vc2EyM2pBcElydjU1dEhYdjZ3UFM3eW9EL3Q1V2FLdmc3K3gzNzhxUlVXcDNzRGZHTnAvK2RQU1ExK3ordVd6dndHdjBYNlVKL2FSZVBPN2hTMHduVnc5T2lXNndHdTNFOTJaMy9paEVveGJpSDc1V0I1R3ZHTEQvM1NxQlY0MWZibldWOHJMWFBHS3ZrODVKWkxCYXdRdlMvVEZldmpBZXRneXYvSFpwUXI3VnpTL0VZU0ludFpEL0kzeS9NWlh2V0dtOXErRUYvcWFWaCtXZUZFZjl2TnFuZDl3MStPNHdzVG9yRGZ3TjRiMlgyNnkza0JmNytxWHcva05lTTNqWlpvWDgxRUwraHVtKzJYT3B5ellMMS95NG56S2dyd3MwUmZyNFVyK3h0WCt4Zm1VdGZ5TkMxN29hekYvZy9yd1hmNkdhWCtEOHltTDlsL0MzMEJmNyt1WE9aL1N4ZXZyL1FhOC9udURNUzhyblNmNkxnMmJ0cmJQRDhQTEQvdE53Q3YyTjZ5VXY3SEZkZHY2Q0I3QnE2U3ZwREpQZWVsU3hGdzl3dDhZek1zU2ZiRWVQckFlbWx3UEpTOHI3Vi9oL0VabWNKMGV3U3ZxdnpaVHZLTGVhRDFVanI3bTFvY2xYdFNIL2J3czBWZm9iMWdwZjZPajNzRGZHTnAveGZrYjZPdUYvWEk4dndHdiszNlU0bldjZ1RtZXJHeDJBdkVQbitJVitodmZyempJai9wZTF0b21NWno1alpuNmF2VTNlcjVQd2Q4WXpJdjVqY0hyb2NuMVVQS3kwdjdGL01ZaitsSzh3bnpSN1E4MThrSmYwK3JERWkvcXczNWVsdWdyekJjMU9SU2ErQnM5OVFiK3h0RCtpL21OWDlNdk03L1J5OHZiODJCTHZNanZuWFovU3NuZjRQNlV1ZnBxOVRlNFAyVmhYdHlmTW5nOWJMby9wZVJ2Y0gvS3RQdFRTdjB5K3BwY0gzSi95aVJlemZlbmxQd043azladHYvaS9wUmYweS9qYi9Ud3NzU1BPaWFmSEpPV20wT2lTdmsyUDFOQjhBclRPMC9KMkhIK2h2STNzaERSVXI1bzhBaGVKWDI1WjZGNVQrV0xma0tNNkw4Rzhub3NYNVQxTUY0UFRhNkhrcGVWOXEvR2ZOSGdFYnppK1hrUDdrL1oxaHV0b1hub2EyNTlXT0pGZmRqUHl4SjlpZnlOU21oNVI3MkJ2ekcwLzNvd1h4Ujl6ZTJYVy9ORjRUWDBQbDkvZXJRRFArcUIrUTNYK2FMWDFqM3pHM1AwNVo1OUhjejh4cXQ0TWI4eGVEMXNtdDl3blM5NnVYOHh2L0dJdnBybU4xem5WVjUrbFltK1p0V0hKVjdVaC8yOG11YzNyc3M1NWpmZTFIOHh2L0ZyK21YbU41YmlkZkhtMGRkaS9zYkYxb2Evc1ZpL2ZJTVgvc2FDdkN6UkYrdmhPdjdHOWY2RnY3R1N2M0hKQzMwdDVXOVFINzdMMzhqeU56cnFEZnlOb2YyWG02dzMwTmU3K21YOGpjS2o0M3Y0dkkwanFjODdQTjEwczMyOWh5R2MwNk45c2JsOXRIbDhlTFNiQllMWDdqMjQ0dlhwcE00M0UyMzhqZFBRMU9IUmJsdmJQVHFQU0lXOC9yYS84WWkrWE9zcjVXV3VlTm51RTI1NS9YRi9Zend2Uy9URmV2akFlbWh5UFpTOHJMUi9iZndOTVhjZHI0ZU92Z0ovNDhUclo0MDYxeHRtYXY5S2VLR3ZhZlZoaVJmMVlUOHZTL1QxVXpsRSs1ZXVEL2RGUlhlOThjZjlqZEg5bDV1c045RFh1L3JsM1hjQjhHcmx0ZnZuSGEvanpieTJ1OTNwTUZSek9NUVg4b29mYmM3SXhyeU9uL0RQK29lMlAxVys4UTkzVGRSK2ZtTVA3R0RxZXZRTHIrNVAyZVZyN0I3dHcwSFFWNmUrWE9zcjlEZjI2QUo5eGZYRzdwL2hOWWlYYVY2c2g5MjhJbjlqZnl0aXhNdEsrMWZrYjRRbzk4c2gvc1plWDRwWDVHL3NVeERiZUtHdmFmVmhpUmYxWVQ4dlMvUVYrUnY3Rkk1NC8vSkg2dzM4amFIOVYraHZvSzgzOXN1aHZ3R3ZvWDZVYXo4cTVYV01Vckh6R25yaWRVNTBnWmMzem0vc2Q3SDcvZkl4eXZJVUR4WE1iNXdUVU9GVjAxZTd2M0hNK3dxTnJKQVgvc1pnWHBib2kvWHdnZld3Wlg3anMwc1Y5cS9RM3ppRmlKN1hRL3lOOHZ6R1Y3M1IzQytqcjZuMVlZa1g5V0UvcjliNWpmTjNVdmY4alhxOWdiOHh0UDhTL2diNmVsKy9IUHNiOEpyR3l4SS9pdm1vOWZ3TlMrWUJPSit5WHI5OHlZdnpLUXZ5c2tSZnJJY3IrUnRYK3hmblU5YnlOeTU0b2EvRi9BM3F3M2Y1RzViTWIzQStaYzMrUzgxdm9LL1g5Y3VjVCtuaTlmVis0M2tieWN0SzU0bStTOE53UGtyeThsTmdEcndpZitQbkRZYnpoNVg4alMydWlGZnNiempuVTU3UmwzdGovc2J1cTVHSWw1Z1hkZVkzaHZPeVJGK3NodytzaHliWFE4bkxTdnVYT0o4aS9ZM1RJM2lwOHluUzM3QlNuZ1A2bWxzZmxuaFJIL2J6c2tSZjRueEtKWCtqbzk3QTN4amFmOFg1RytqcmhmMnlPcDhDcjd0K2xPSjFtSUhaNXFXWXFmTkVDUy84dzhkNGhmN0dONTRnUCtwN1dXdnlOMkpYbi9tTmY2V3ZWbitqNS9zVS9JM0J2SmpmR0x3ZW1sd1BKUzhyN1YvTWJ6eWlMOFVyekJmZC9sQWpML1ExclQ0czhhSSs3T2RsaWI3Q2ZGRXpsYitSK0JzOTlRYit4dEQraS9tTlg5TXZNNy9SeTh2YjgyQkx2TWp2blhaL1NzbmY0UDZVdWZwcTlUZTRQMlZoWHR5Zk1uZzliTG8vcGVSdmNIL0t0UHRUU3YweStwcGNIM0oveWlSZXpmZW5sUHdON2s5WnR2L2kvcFJmMHkvamIvVHdzc1NQT2lTZjJERTBXWjBuOGtmem8zN3k4ZUYxeXVRUGVLbjhEZVZ2eENHaUhmbWk1MGZ3cXVuTHRiNzh1WHpSVDRnUi9kZEFYby9saTdJZXh1dWh5ZlZROHJMUy90V1lMM3ArQkM5eFBzWGwvU21lM01keHdRdDlUYXNQUzd5b0QvdDVXYUl2a2IraDcwK0ppb3J1ZWdOL1kyai85V0MrS1BxYTJ5KzM1b3ZDYStoOXZtNHlMd1gvY05yOGh1dDhVWk41bGN4dnpOV1hhMzA1OHhzdjQ4WDh4dUQxc0dsK3czVys2T1greGZ6R0kvcHFtdDl3blZkNXhRdDlUYXNQUzd5b0QvdDVOYzl2dU00WE5aa3Z5dnpHc3YwWDh4dS9wbDltZm1NcFh0bDVvdis4WmZTMWtyK1I1VG1jYm5yRjM1amVMOS9naGIreElDOUw5TVY2dUk2L2NiMS80VytzNUc5YzhrSmZTL2tiMUlmdjhqZXkvSTJPZWdOL1kyai9GYzl2b0s4WDlzdjRHOHZ3TXMxTC9wUWx2ekQraFBCNnl0OHczUy9MWGMrU0RUSCtoUEI2cWwrK3lXdFhiOFM5UTFZUndXc0VMMHYweFhxNGhyOXhiLy9hK3h1Vy9BSHNQeUgreHRQK3hpMWU2R3NaZjRQNjhGMytobWwvbzdmZXdOOFkybitkL0EzMDlkWisrZUJ2d0t1TjErNmZqL2ZkeVBORUZwNG5zcFBydStNVlBqTDlTSHpDdjhqcmZETGhzM3dkbTZnUHlqTXcyLzFDajY5elBSM0wzRDB5L2NpNUgvWkpmYm5XVitodjdQNHIwbGRjYit6dWxvTFhJRjZtZWJFZWR2TVM5OFBLL0EwTDh6ZnU3VitSdnhHaVBIeEMvSTE5aUluZ0plNkhqZkljYnZGQ1g5UHF3eEl2NnNOK1hwYm9TOXdQR3g1NlBhVndQRlp2NEc4TTdiOUNmd045dmJGZkR2ME5lQTMxbzF6N1VTbXZJRW9sdmxzblMzU0IxM1ludWpXL3NkL0Y3dmZMUVpSbGZOZFlsb0FLcjZLKzJ2Mk5JTzhydm5zeFN5U0Qxd2hlbHVpTDlmQ0I5YkJsZnVPelN4WDJyOURmaVBKRkQrc2gva1o1ZnVPcjNtanVsOUhYMVBxd3hJdjZzSjlYNi96RytUdXBlLzVHdmQ3QTN4amFmd2wvQTMyOXIxK08vUTE0VGVObGlSL0ZmTlI2L29ZbDh3Q2NUMW12WDc3a3hmbVVCWGxab2kvV3c1WDhqYXY5aS9NcGEva2JGN3pRMTJMK0J2WGh1L3dOUytZM09KK3laditsNWpmUTErdjZaYzZuZFBINmVyL3h2STNrWmFYelJOK2xZVGdmSlhuNThVQVp2RHkrSDlha3YyR2wvSTB0cm9oWDdHODQ1MU9lMFpkN1kvN0c3cXVSaUplWUYzWG1ONGJ6c2tSZnJJY1BySWNtMTBQSnkwcjdsemlmSXYyTjB5TjRxZk1wMHQrd1VwNEQrcHBiSDVaNFVSLzI4N0pFWCtKOFNpVi9vNlBld044WTJuL0YrUnZvNjRYOXNqcWZBcSs3ZnBUaWRaaUJzZjJiOTJaZStJZVA4UXI5amU4WEhlUkhmUzlyVGY1R2FHSXd2L0hQOU5YcWIvUjhuNEsvTVpnWDh4dUQxME9UNjZIa1phWDlpL21OUi9TbGVJWDVvdHNmYXVTRnZxYlZoeVZlMUlmOXZDelJWNWd2S2k2ZHovMk5ubm9EZjJOby84WDh4cS9wbDVuZjZPWGw3WG13SlY3azkwNjdQNlhrYjNCL3lseDl0Zm9iM0oreU1DL3VUeG04SGpiZG4xTHlON2cvWmRyOUthVitHWDFOcmcrNVAyVVNyK2I3VTByK0J2ZW5MTnQvY1gvS3IrbVg4VGQ2ZUZuaVJ4MlNUK3dpaVhkN2N1TEIvS2lmZkh4NFJlbWQ1NTQzenQ5US9rWVlJcnAzNXR2eVJjK1A0RlhUbDJ0OStYUDVvcDhRSS9xdmdid2V5eGRsUFl6WFE1UHJvZVJscGYyck1WLzAvQWhlNG55S3kvdFRQTG1QNDRJWCtwcFdINVo0VVIvMjg3SkVYeUovUTkrZkVoUVYvZlVHL3NiUS91dkJmRkgwTmJkZmJzMFhoZGZRKzN6ZFpGNEsvdUcwK1EzWCthSW04eXFaMzVpckw5ZjZjdVkzWHNhTCtZM0I2MkhUL0licmZOSEwvWXY1alVmMDFUUy80VHF2OG9vWCtwcFdINVo0VVIvMjgycWUzM0NkTDJveVg1VDVqV1g3TCtZM2ZrMi96UHpHVXJ5eTgwVC9lY3ZvYXlWL0k4dHpPTjMwaXI4eHZWKyt3UXQvWTBGZWx1aUw5WEFkZitONi84TGZXTW5mdU9TRnZwYnlONmdQMytWdlpQa2JIZlVHL3NiUS9pdWUzMEJmTCt5WDhUZUt2TFpKc0h0ZTJ5VFlJeStyT0lIYjVONzcxcjF2cFFxdlhYS3ZLMTVIZjhPa3Y1RTRGZnVrNWJ1akhUdGUrQnZkK2tvcTg1U1gvcXJGM0FVdi9JM0J2Q3pSRit2aEErdWh5ZlZROHJMUy9yWDNOMUtEYTdjZU92cXkyTi9ZOFRyNEd5Yjc1WnU4ME5lMCtyREVpL3F3bjVjbCtqcjRHM1p6VW5kdlluVFhHL2diUS91dmc3K0J2dDdiTHgvOERYaTE4ZHJkTExQamRieVpkMThXbWpySkZSMDEydUh5T0NvMmYvVEhlWjJBYlhhaUE3QlBKeFVBcyswdlBCNVQzejZLL1kzemljMWJqOUJYU1YrdTlSWDZHL3Zub1loY1BjTGZHTXpMTkMvV3cyNWVrYit4WHhvalhsYmF2eUovNHhJbC9zWlJYNHBYNUc5OGJWOVJ2M3pKQzMxTnF3OUx2S2dQKzNsWm9xL0kzL2padnhTdjBOL29xVGZ3TjRiMlg2Ry9nYjdlMkMrSC9nYThodnBScnYyb2xKZU9VZ256VWo3Zmw4RnJ6NnR4ZnNOZHptK2svYktPc2d6elJiZTg4RGU2OWRYdWIrZ29zRER2YThNTGYyTXdMMHYweFhyNHdIcllNci9oTHVjM3J2ZXYwTjhJODBYMzZ5SCtSbmwrNC9NbXZaa1grcHBXSDVaNFVSLzI4MnFkM3dpK05idmxiOVRyRGZ5Tm9mMlg4RGZRMS92NjVkamZnTmMwWHBiNFVjeEhyZWR2V0RJUHdQbVU5ZnJsUzE2Y1QxbVFseVg2WWoxY3lkKzQycjg0bjdLV3YzSEJDMzB0NW05UUg3N0wzN0JrZm9QektXdjJYMnArQTMyOXJsL21mRW9YcjEyVmVKeTNrYnlzZEo1b04zWnpIS3FSdlB4NG9BeGVvYit4bjBJTWVEWG5iK3ltRUNNbzl4N0JxNll2OThiOGpkMVhJNkdJWEQzQzN4ak15eEo5c1I0K3NCNmFYQThsTHl2dFgrSjhpdlEzVG8vZ3BjNm5TSC9EU25rTzZHdHVmVmppUlgzWXo4c1NmWW56S1pYOGpZNTZBMzlqYVA4VjUyK2dyeGYyeStwOENyenUrbEdLMTJFR1pwdVhFbDFxYzhrTC8vQXhYcUcvOGYzS2d2eW9iYmpRN1g0NU1UR1kzL2dIK21yMU4zcStUOEhmR015TCtZM0I2NkhKOVZEeXN0TCt4ZnpHSS9wU3ZNSjgwZTBQTmZKQ1g5UHF3eEl2NnNOK1hwYm9LOHdYalM2ZHYvUTNldW9OL0kyaC9SZnpHNyttWDJaK281ZVh0K2ZCbG5pUjN6dnQvcFNTdjhIOUtYUDExZXB2Y0gvS3dyeTRQMlh3ZXRoMGYwckozK0QrbEduM3A1VDZaZlExdVQ3ay9wUkp2SnJ2VHluNUc5eWZzbXoveGYwcHY2WmZ4dC9vNFdXSkgzVklQdG12V2pvUE5naXg2Y20zK2ZtczhMSWd2ZlBJUytWdktIOGpEQkh0eVJjOVA0SlhUVit1OWVYUDVZdCtRb3pvdndieWVpeGZsUFV3WGc5TnJvZVNsNVgycjhaODBmTWplSW56S1M3dlQvSGtQbzRMWHVoclduMVk0a1Y5Mk0vTEVuMkovQTE5ZjBwUVZQVFhHL2diUS91dkIvTkYwZGZjZnJrMVh4UmVRKy96ZFpONUtmaUgwK1kzWE9lTG1zeXJaSDVqcnI1YzY4dVozM2daTCtZM0JxK0hUZk1icnZORkwvY3Y1amNlMFZmVC9JYnJ2TW9yWHVoclduMVk0a1Y5Mk0rcmVYN0RkYjZveVh4UjVqZVc3YitZMy9nMS9UTHpHMHZ4eXM0VC9mZGY2R3NsZnlQTGN6amQ5SXEvTWIxZnZzRUxmMk5CWHBib2kvVndIWC9qZXYvQzMxakozN2praGI2VzhqZW9EOS9sYjJUNUd4MzFCdjdHMFA0cm50OUFYeS9zbC9FM2lyeTJrellIWG9jVERSdGUyem1uKzd3U0tObFBiVC9iTUY3L0YyQUE4aWlQeTRuQWdCWUFBQUFBU1VWT1JLNUNZSUk9XCIiLCJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuXHRpZiAoIW1vZHVsZS53ZWJwYWNrUG9seWZpbGwpIHtcblx0XHRtb2R1bGUuZGVwcmVjYXRlID0gZnVuY3Rpb24oKSB7fTtcblx0XHRtb2R1bGUucGF0aHMgPSBbXTtcblx0XHQvLyBtb2R1bGUucGFyZW50ID0gdW5kZWZpbmVkIGJ5IGRlZmF1bHRcblx0XHRpZiAoIW1vZHVsZS5jaGlsZHJlbikgbW9kdWxlLmNoaWxkcmVuID0gW107XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJsb2FkZWRcIiwge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBtb2R1bGUubDtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImlkXCIsIHtcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gbW9kdWxlLmk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0bW9kdWxlLndlYnBhY2tQb2x5ZmlsbCA9IDE7XG5cdH1cblx0cmV0dXJuIG1vZHVsZTtcbn07XG4iLCJ2YXIgYXBpID0gcmVxdWlyZShcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIik7XG4gICAgICAgICAgICB2YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vbWFpbi5jc3NcIik7XG5cbiAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50Ll9fZXNNb2R1bGUgPyBjb250ZW50LmRlZmF1bHQgOiBjb250ZW50O1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbiAgICAgICAgICAgIH1cblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5pbnNlcnQgPSBcImhlYWRcIjtcbm9wdGlvbnMuc2luZ2xldG9uID0gZmFsc2U7XG5cbnZhciB1cGRhdGUgPSBhcGkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzIHx8IHt9OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgaXNPbGRJRSA9IGZ1bmN0aW9uIGlzT2xkSUUoKSB7XG4gIHZhciBtZW1vO1xuICByZXR1cm4gZnVuY3Rpb24gbWVtb3JpemUoKSB7XG4gICAgaWYgKHR5cGVvZiBtZW1vID09PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gVGVzdCBmb3IgSUUgPD0gOSBhcyBwcm9wb3NlZCBieSBCcm93c2VyaGFja3NcbiAgICAgIC8vIEBzZWUgaHR0cDovL2Jyb3dzZXJoYWNrcy5jb20vI2hhY2stZTcxZDg2OTJmNjUzMzQxNzNmZWU3MTVjMjIyY2I4MDVcbiAgICAgIC8vIFRlc3RzIGZvciBleGlzdGVuY2Ugb2Ygc3RhbmRhcmQgZ2xvYmFscyBpcyB0byBhbGxvdyBzdHlsZS1sb2FkZXJcbiAgICAgIC8vIHRvIG9wZXJhdGUgY29ycmVjdGx5IGludG8gbm9uLXN0YW5kYXJkIGVudmlyb25tZW50c1xuICAgICAgLy8gQHNlZSBodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlci9pc3N1ZXMvMTc3XG4gICAgICBtZW1vID0gQm9vbGVhbih3aW5kb3cgJiYgZG9jdW1lbnQgJiYgZG9jdW1lbnQuYWxsICYmICF3aW5kb3cuYXRvYik7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1lbW87XG4gIH07XG59KCk7XG5cbnZhciBnZXRUYXJnZXQgPSBmdW5jdGlvbiBnZXRUYXJnZXQoKSB7XG4gIHZhciBtZW1vID0ge307XG4gIHJldHVybiBmdW5jdGlvbiBtZW1vcml6ZSh0YXJnZXQpIHtcbiAgICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHZhciBzdHlsZVRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTsgLy8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcblxuICAgICAgaWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG4gICAgICAgICAgLy8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcbiAgICAgICAgICBzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgICBzdHlsZVRhcmdldCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbWVtb1t0YXJnZXRdID0gc3R5bGVUYXJnZXQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1lbW9bdGFyZ2V0XTtcbiAgfTtcbn0oKTtcblxudmFyIHN0eWxlc0luRG9tID0gW107XG5cbmZ1bmN0aW9uIGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpIHtcbiAgdmFyIHJlc3VsdCA9IC0xO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzSW5Eb20ubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoc3R5bGVzSW5Eb21baV0uaWRlbnRpZmllciA9PT0gaWRlbnRpZmllcikge1xuICAgICAgcmVzdWx0ID0gaTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKSB7XG4gIHZhciBpZENvdW50TWFwID0ge307XG4gIHZhciBpZGVudGlmaWVycyA9IFtdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgIHZhciBpdGVtID0gbGlzdFtpXTtcbiAgICB2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcbiAgICB2YXIgY291bnQgPSBpZENvdW50TWFwW2lkXSB8fCAwO1xuICAgIHZhciBpZGVudGlmaWVyID0gXCJcIi5jb25jYXQoaWQsIFwiIFwiKS5jb25jYXQoY291bnQpO1xuICAgIGlkQ291bnRNYXBbaWRdID0gY291bnQgKyAxO1xuICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgIHZhciBvYmogPSB7XG4gICAgICBjc3M6IGl0ZW1bMV0sXG4gICAgICBtZWRpYTogaXRlbVsyXSxcbiAgICAgIHNvdXJjZU1hcDogaXRlbVszXVxuICAgIH07XG5cbiAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0ucmVmZXJlbmNlcysrO1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnVwZGF0ZXIob2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGVzSW5Eb20ucHVzaCh7XG4gICAgICAgIGlkZW50aWZpZXI6IGlkZW50aWZpZXIsXG4gICAgICAgIHVwZGF0ZXI6IGFkZFN0eWxlKG9iaiwgb3B0aW9ucyksXG4gICAgICAgIHJlZmVyZW5jZXM6IDFcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlkZW50aWZpZXJzLnB1c2goaWRlbnRpZmllcik7XG4gIH1cblxuICByZXR1cm4gaWRlbnRpZmllcnM7XG59XG5cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSB7XG4gIHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gIHZhciBhdHRyaWJ1dGVzID0gb3B0aW9ucy5hdHRyaWJ1dGVzIHx8IHt9O1xuXG4gIGlmICh0eXBlb2YgYXR0cmlidXRlcy5ub25jZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB2YXIgbm9uY2UgPSB0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gIT09ICd1bmRlZmluZWQnID8gX193ZWJwYWNrX25vbmNlX18gOiBudWxsO1xuXG4gICAgaWYgKG5vbmNlKSB7XG4gICAgICBhdHRyaWJ1dGVzLm5vbmNlID0gbm9uY2U7XG4gICAgfVxuICB9XG5cbiAgT2JqZWN0LmtleXMoYXR0cmlidXRlcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKGtleSwgYXR0cmlidXRlc1trZXldKTtcbiAgfSk7XG5cbiAgaWYgKHR5cGVvZiBvcHRpb25zLmluc2VydCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIG9wdGlvbnMuaW5zZXJ0KHN0eWxlKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgdGFyZ2V0ID0gZ2V0VGFyZ2V0KG9wdGlvbnMuaW5zZXJ0IHx8ICdoZWFkJyk7XG5cbiAgICBpZiAoIXRhcmdldCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnQnIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcbiAgICB9XG5cbiAgICB0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICB9XG5cbiAgcmV0dXJuIHN0eWxlO1xufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpIHtcbiAgLy8gaXN0YW5idWwgaWdub3JlIGlmXG4gIGlmIChzdHlsZS5wYXJlbnROb2RlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgc3R5bGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZSk7XG59XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cblxuXG52YXIgcmVwbGFjZVRleHQgPSBmdW5jdGlvbiByZXBsYWNlVGV4dCgpIHtcbiAgdmFyIHRleHRTdG9yZSA9IFtdO1xuICByZXR1cm4gZnVuY3Rpb24gcmVwbGFjZShpbmRleCwgcmVwbGFjZW1lbnQpIHtcbiAgICB0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XG4gICAgcmV0dXJuIHRleHRTdG9yZS5maWx0ZXIoQm9vbGVhbikuam9pbignXFxuJyk7XG4gIH07XG59KCk7XG5cbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcoc3R5bGUsIGluZGV4LCByZW1vdmUsIG9iaikge1xuICB2YXIgY3NzID0gcmVtb3ZlID8gJycgOiBvYmoubWVkaWEgPyBcIkBtZWRpYSBcIi5jb25jYXQob2JqLm1lZGlhLCBcIiB7XCIpLmNvbmNhdChvYmouY3NzLCBcIn1cIikgOiBvYmouY3NzOyAvLyBGb3Igb2xkIElFXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuXG4gIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xuICAgIHZhciBjaGlsZE5vZGVzID0gc3R5bGUuY2hpbGROb2RlcztcblxuICAgIGlmIChjaGlsZE5vZGVzW2luZGV4XSkge1xuICAgICAgc3R5bGUucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xuICAgIH1cblxuICAgIGlmIChjaGlsZE5vZGVzLmxlbmd0aCkge1xuICAgICAgc3R5bGUuaW5zZXJ0QmVmb3JlKGNzc05vZGUsIGNoaWxkTm9kZXNbaW5kZXhdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGUuYXBwZW5kQ2hpbGQoY3NzTm9kZSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGFwcGx5VG9UYWcoc3R5bGUsIG9wdGlvbnMsIG9iaikge1xuICB2YXIgY3NzID0gb2JqLmNzcztcbiAgdmFyIG1lZGlhID0gb2JqLm1lZGlhO1xuICB2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcblxuICBpZiAobWVkaWEpIHtcbiAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoJ21lZGlhJywgbWVkaWEpO1xuICB9IGVsc2Uge1xuICAgIHN0eWxlLnJlbW92ZUF0dHJpYnV0ZSgnbWVkaWEnKTtcbiAgfVxuXG4gIGlmIChzb3VyY2VNYXAgJiYgYnRvYSkge1xuICAgIGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSksIFwiICovXCIpO1xuICB9IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAoc3R5bGUuZmlyc3RDaGlsZCkge1xuICAgICAgc3R5bGUucmVtb3ZlQ2hpbGQoc3R5bGUuZmlyc3RDaGlsZCk7XG4gICAgfVxuXG4gICAgc3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG4gIH1cbn1cblxudmFyIHNpbmdsZXRvbiA9IG51bGw7XG52YXIgc2luZ2xldG9uQ291bnRlciA9IDA7XG5cbmZ1bmN0aW9uIGFkZFN0eWxlKG9iaiwgb3B0aW9ucykge1xuICB2YXIgc3R5bGU7XG4gIHZhciB1cGRhdGU7XG4gIHZhciByZW1vdmU7XG5cbiAgaWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XG4gICAgdmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XG4gICAgc3R5bGUgPSBzaW5nbGV0b24gfHwgKHNpbmdsZXRvbiA9IGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSk7XG4gICAgdXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCBmYWxzZSk7XG4gICAgcmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCB0cnVlKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZSA9IGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKTtcbiAgICB1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGUsIG9wdGlvbnMpO1xuXG4gICAgcmVtb3ZlID0gZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcbiAgICB9O1xuICB9XG5cbiAgdXBkYXRlKG9iaik7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZShuZXdPYmopIHtcbiAgICBpZiAobmV3T2JqKSB7XG4gICAgICBpZiAobmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJiBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJiBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdXBkYXRlKG9iaiA9IG5ld09iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlbW92ZSgpO1xuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobGlzdCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsgLy8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XG4gIC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2VcblxuICBpZiAoIW9wdGlvbnMuc2luZ2xldG9uICYmIHR5cGVvZiBvcHRpb25zLnNpbmdsZXRvbiAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XG4gIH1cblxuICBsaXN0ID0gbGlzdCB8fCBbXTtcbiAgdmFyIGxhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZShuZXdMaXN0KSB7XG4gICAgbmV3TGlzdCA9IG5ld0xpc3QgfHwgW107XG5cbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG5ld0xpc3QpICE9PSAnW29iamVjdCBBcnJheV0nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW2ldO1xuICAgICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0ucmVmZXJlbmNlcy0tO1xuICAgIH1cblxuICAgIHZhciBuZXdMYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obmV3TGlzdCwgb3B0aW9ucyk7XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIF9pZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW19pXTtcblxuICAgICAgdmFyIF9pbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKF9pZGVudGlmaWVyKTtcblxuICAgICAgaWYgKHN0eWxlc0luRG9tW19pbmRleF0ucmVmZXJlbmNlcyA9PT0gMCkge1xuICAgICAgICBzdHlsZXNJbkRvbVtfaW5kZXhdLnVwZGF0ZXIoKTtcblxuICAgICAgICBzdHlsZXNJbkRvbS5zcGxpY2UoX2luZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsYXN0SWRlbnRpZmllcnMgPSBuZXdMYXN0SWRlbnRpZmllcnM7XG4gIH07XG59OyIsIi8vIEltcG9ydHNcbnZhciBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gPSByZXF1aXJlKFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiKTtcbnZhciBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fID0gcmVxdWlyZShcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9nZXRVcmwuanNcIik7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzBfX18gPSByZXF1aXJlKFwiLi4vaW1hZ2UvbGluZXMucG5nXCIpO1xuZXhwb3J0cyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhmYWxzZSk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMF9fXyA9IF9fX0NTU19MT0FERVJfR0VUX1VSTF9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzBfX18pO1xuLy8gTW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCJib2R5IHtcXG4gIGNvbG9yOiBkYXJrc2xhdGVncmV5O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogbGlnaHRibHVlO1xcbn1cXG5cXG4uY29kZSB7XFxuICB3aGl0ZS1zcGFjZTogcHJlO1xcbiAgZm9udC1mYW1pbHk6IG1vbm9zcGFjZTtcXG59XFxuXFxuLmVkaXRvciB7XFxuICBiYWNrZ3JvdW5kOiB1cmwoXCIgKyBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8wX19fICsgXCIpO1xcbiAgYmFja2dyb3VuZC1hdHRhY2htZW50OiBsb2NhbDtcXG4gIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XFxuICBwYWRkaW5nLWxlZnQ6IDMwcHg7XFxuICBwYWRkaW5nLXRvcDogMTBweDtcXG4gIGJvcmRlci1jb2xvcjogI2NjYztcXG4gIGJhY2tncm91bmQtY29sb3I6IGJsYW5jaGVkYWxtb25kO1xcbiAgZm9udC1zaXplOiAxNHB4O1xcbn1cXG5cXG4uaW5mbyB7XFxuICBjb2xvcjogZGFya3NsYXRlZ3JleTtcXG4gIGJhY2tncm91bmQtY29sb3I6IGxpZ2h0eWVsbG93O1xcbn1cXG5cXG4uc3VjY2VzcyB7XFxuICBjb2xvcjogZGFya3NsYXRlZ3JleTtcXG4gIGJhY2tncm91bmQtY29sb3I6IGxpZ2h0Z3JlZW47XFxufVxcblxcbi5lcnJvciB7XFxuICBjb2xvcjogcmVkO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogbGlnaHRwaW5rO1xcbn1cXG5cIiwgXCJcIl0pO1xuLy8gRXhwb3J0c1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG4gIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gIEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG4vLyBjc3MgYmFzZSBjb2RlLCBpbmplY3RlZCBieSB0aGUgY3NzLWxvYWRlclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHVzZVNvdXJjZU1hcCkge1xuICB2YXIgbGlzdCA9IFtdOyAvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG5cbiAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCk7XG5cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIHJldHVybiBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKS5jb25jYXQoY29udGVudCwgXCJ9XCIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY29udGVudDtcbiAgICB9KS5qb2luKCcnKTtcbiAgfTsgLy8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcblxuXG4gIGxpc3QuaSA9IGZ1bmN0aW9uIChtb2R1bGVzLCBtZWRpYVF1ZXJ5LCBkZWR1cGUpIHtcbiAgICBpZiAodHlwZW9mIG1vZHVsZXMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgIG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsICcnXV07XG4gICAgfVxuXG4gICAgdmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcblxuICAgIGlmIChkZWR1cGUpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWRlc3RydWN0dXJpbmdcbiAgICAgICAgdmFyIGlkID0gdGhpc1tpXVswXTtcblxuICAgICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICAgIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBtb2R1bGVzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIGl0ZW0gPSBbXS5jb25jYXQobW9kdWxlc1tfaV0pO1xuXG4gICAgICBpZiAoZGVkdXBlICYmIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnRpbnVlXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAobWVkaWFRdWVyeSkge1xuICAgICAgICBpZiAoIWl0ZW1bMl0pIHtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWFRdWVyeTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzJdID0gXCJcIi5jb25jYXQobWVkaWFRdWVyeSwgXCIgYW5kIFwiKS5jb25jYXQoaXRlbVsyXSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbGlzdC5wdXNoKGl0ZW0pO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gbGlzdDtcbn07XG5cbmZ1bmN0aW9uIGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKSB7XG4gIHZhciBjb250ZW50ID0gaXRlbVsxXSB8fCAnJzsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1kZXN0cnVjdHVyaW5nXG5cbiAgdmFyIGNzc01hcHBpbmcgPSBpdGVtWzNdO1xuXG4gIGlmICghY3NzTWFwcGluZykge1xuICAgIHJldHVybiBjb250ZW50O1xuICB9XG5cbiAgaWYgKHVzZVNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHZhciBzb3VyY2VNYXBwaW5nID0gdG9Db21tZW50KGNzc01hcHBpbmcpO1xuICAgIHZhciBzb3VyY2VVUkxzID0gY3NzTWFwcGluZy5zb3VyY2VzLm1hcChmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICByZXR1cm4gXCIvKiMgc291cmNlVVJMPVwiLmNvbmNhdChjc3NNYXBwaW5nLnNvdXJjZVJvb3QgfHwgJycpLmNvbmNhdChzb3VyY2UsIFwiICovXCIpO1xuICAgIH0pO1xuICAgIHJldHVybiBbY29udGVudF0uY29uY2F0KHNvdXJjZVVSTHMpLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oJ1xcbicpO1xuICB9XG5cbiAgcmV0dXJuIFtjb250ZW50XS5qb2luKCdcXG4nKTtcbn0gLy8gQWRhcHRlZCBmcm9tIGNvbnZlcnQtc291cmNlLW1hcCAoTUlUKVxuXG5cbmZ1bmN0aW9uIHRvQ29tbWVudChzb3VyY2VNYXApIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gIHZhciBiYXNlNjQgPSBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpO1xuICB2YXIgZGF0YSA9IFwic291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsXCIuY29uY2F0KGJhc2U2NCk7XG4gIHJldHVybiBcIi8qIyBcIi5jb25jYXQoZGF0YSwgXCIgKi9cIik7XG59IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHVybCwgb3B0aW9ucykge1xuICBpZiAoIW9wdGlvbnMpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICBvcHRpb25zID0ge307XG4gIH0gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVyc2NvcmUtZGFuZ2xlLCBuby1wYXJhbS1yZWFzc2lnblxuXG5cbiAgdXJsID0gdXJsICYmIHVybC5fX2VzTW9kdWxlID8gdXJsLmRlZmF1bHQgOiB1cmw7XG5cbiAgaWYgKHR5cGVvZiB1cmwgIT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHVybDtcbiAgfSAvLyBJZiB1cmwgaXMgYWxyZWFkeSB3cmFwcGVkIGluIHF1b3RlcywgcmVtb3ZlIHRoZW1cblxuXG4gIGlmICgvXlsnXCJdLipbJ1wiXSQvLnRlc3QodXJsKSkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgIHVybCA9IHVybC5zbGljZSgxLCAtMSk7XG4gIH1cblxuICBpZiAob3B0aW9ucy5oYXNoKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgdXJsICs9IG9wdGlvbnMuaGFzaDtcbiAgfSAvLyBTaG91bGQgdXJsIGJlIHdyYXBwZWQ/XG4gIC8vIFNlZSBodHRwczovL2RyYWZ0cy5jc3N3Zy5vcmcvY3NzLXZhbHVlcy0zLyN1cmxzXG5cblxuICBpZiAoL1tcIicoKSBcXHRcXG5dLy50ZXN0KHVybCkgfHwgb3B0aW9ucy5uZWVkUXVvdGVzKSB7XG4gICAgcmV0dXJuIFwiXFxcIlwiLmNvbmNhdCh1cmwucmVwbGFjZSgvXCIvZywgJ1xcXFxcIicpLnJlcGxhY2UoL1xcbi9nLCAnXFxcXG4nKSwgXCJcXFwiXCIpO1xuICB9XG5cbiAgcmV0dXJuIHVybDtcbn07IiwiaW1wb3J0IHsgTGV4ZXIsIGNyZWF0ZVRva2VuIH0gZnJvbSBcImNoZXZyb3RhaW5cIlxuXG5jb25zdCBXaGl0ZVNwYWNlID0gY3JlYXRlVG9rZW4oeyBuYW1lOiBcIldoaXRlU3BhY2VcIiwgcGF0dGVybjogL1xccysvLCBncm91cDogTGV4ZXIuU0tJUFBFRCB9KVxuZXhwb3J0IGNvbnN0IFZhciA9IGNyZWF0ZVRva2VuKHsgbmFtZTogXCJWYXJcIiwgcGF0dGVybjogL3Zhci8gfSlcbmV4cG9ydCBjb25zdCBQcmludCA9IGNyZWF0ZVRva2VuKHsgbmFtZTogXCJQcmludFwiLCBwYXR0ZXJuOiAvcHJpbnQvIH0pXG5leHBvcnQgY29uc3QgUHJpbnRsbiA9IGNyZWF0ZVRva2VuKHsgbmFtZTogXCJQcmludGxuXCIsIHBhdHRlcm46IC9wcmludGxuLyB9KVxuZXhwb3J0IGNvbnN0IElkZW50aWZpZXIgPSBjcmVhdGVUb2tlbih7IG5hbWU6IFwiSWRlbnRpZmllclwiLCBwYXR0ZXJuOiAvW2EtekEtWl1cXHcqLyB9KVxuZXhwb3J0IGNvbnN0IExpdGVyYWwgPSBjcmVhdGVUb2tlbih7IG5hbWU6IFwiTGl0ZXJhbFwiLCBwYXR0ZXJuOiAvXCIoOj9bXlxcXFxcIl0rfFxcXFwoOj9bYmZucnR2XCJcXFxcL118dVswLTlhLWZBLUZdezR9KSkqXCIvIH0pXG5leHBvcnQgY29uc3QgSW50ZWdlciA9IGNyZWF0ZVRva2VuKHsgbmFtZTogXCJJbnRlZ2VyXCIsIHBhdHRlcm46IC8wfFsxLTldXFxkKi8gfSlcblxuZXhwb3J0IGNvbnN0IFBhcmVudGhlc2VzT3BlbiA9IGNyZWF0ZVRva2VuKHsgbmFtZTogXCJQYXJlbnRoZXNlc09wZW5cIiwgcGF0dGVybjogL1xcKC8gfSlcbmV4cG9ydCBjb25zdCBQYXJlbnRoZXNlc0Nsb3NlID0gY3JlYXRlVG9rZW4oeyBuYW1lOiBcIlBhcmVudGhlc2VzQ2xvc2VcIiwgcGF0dGVybjogL1xcKS8gfSlcbmV4cG9ydCBjb25zdCBCbG9ja09wZW4gPSBjcmVhdGVUb2tlbih7IG5hbWU6IFwiQmxvY2tPcGVuXCIsIHBhdHRlcm46IC97LyB9KVxuZXhwb3J0IGNvbnN0IEJsb2NrQ2xvc2UgPSBjcmVhdGVUb2tlbih7IG5hbWU6IFwiQmxvY2tDbG9zZVwiLCBwYXR0ZXJuOiAvfS8gfSlcbmV4cG9ydCBjb25zdCBDb21tYSA9IGNyZWF0ZVRva2VuKHsgbmFtZTogXCJDb21tYVwiLCBwYXR0ZXJuOiAvLC8gfSlcbmV4cG9ydCBjb25zdCBTZW1pQ29sb24gPSBjcmVhdGVUb2tlbih7IG5hbWU6IFwiU2VtaUNvbG9uXCIsIHBhdHRlcm46IC87LyB9KVxuZXhwb3J0IGNvbnN0IEVxdWFscyA9IGNyZWF0ZVRva2VuKHsgbmFtZTogXCJFcXVhbHNcIiwgcGF0dGVybjogLz0vIH0pXG5leHBvcnQgY29uc3QgQWRkaXRpb25PcCA9IGNyZWF0ZVRva2VuKHsgbmFtZTogXCJBZGRpdGlvbk9wXCIsIHBhdHRlcm46IExleGVyLk5BIH0pXG5leHBvcnQgY29uc3QgTXVsdGlwbGljYXRpb25PcCA9IGNyZWF0ZVRva2VuKHsgbmFtZTogXCJNdWx0aXBsaWNhdGlvbk9wXCIsIHBhdHRlcm46IExleGVyLk5BIH0pXG5leHBvcnQgY29uc3QgUGx1cyA9IGNyZWF0ZVRva2VuKHsgbmFtZTogXCJQbHVzXCIsIHBhdHRlcm46IC9cXCsvLCBjYXRlZ29yaWVzOiBBZGRpdGlvbk9wIH0pXG5leHBvcnQgY29uc3QgTWludXMgPSBjcmVhdGVUb2tlbih7IG5hbWU6IFwiTWludXNcIiwgcGF0dGVybjogLy0vLCBjYXRlZ29yaWVzOiBBZGRpdGlvbk9wIH0pXG5leHBvcnQgY29uc3QgRGl2ID0gY3JlYXRlVG9rZW4oeyBuYW1lOiBcIkRpdlwiLCBwYXR0ZXJuOiAvXFwvLywgY2F0ZWdvcmllczogTXVsdGlwbGljYXRpb25PcCB9KVxuZXhwb3J0IGNvbnN0IE11bHQgPSBjcmVhdGVUb2tlbih7IG5hbWU6IFwiTXVsdFwiLCBwYXR0ZXJuOiAvXFwqLywgY2F0ZWdvcmllczogTXVsdGlwbGljYXRpb25PcCB9KVxuXG5leHBvcnQgY29uc3Qgdm9jYWJ1bGFyeSA9IFtcbiAgV2hpdGVTcGFjZSxcbiAgLy8ga2V5d29yZHNcbiAgVmFyLFxuICBQcmludGxuLFxuICBQcmludCxcbiAgLy8gaWRlbnRpZmllciwgbGl0ZXJhbCBhbmQgbnVtYmVyc1xuICBJZGVudGlmaWVyLFxuICBMaXRlcmFsLFxuICBJbnRlZ2VyLFxuICAvLyBzZXBhcmF0b3JzXG4gIFBhcmVudGhlc2VzT3BlbixcbiAgUGFyZW50aGVzZXNDbG9zZSxcbiAgQmxvY2tPcGVuLFxuICBCbG9ja0Nsb3NlLFxuICBDb21tYSxcbiAgU2VtaUNvbG9uLFxuICAvLyBvcGVyYXRvcnNcbiAgRXF1YWxzLFxuICBQbHVzLFxuICBNaW51cyxcbiAgRGl2LFxuICBNdWx0LFxuICBBZGRpdGlvbk9wLFxuICBNdWx0aXBsaWNhdGlvbk9wLFxuXVxuXG5leHBvcnQgY29uc3QgbWoxTGV4ZXIgPSBuZXcgTGV4ZXIodm9jYWJ1bGFyeSk7XG4iLCJpbXBvcnQgeyBDc3RQYXJzZXIgfSBmcm9tIFwiY2hldnJvdGFpblwiXG5pbXBvcnQge1xuICB2b2NhYnVsYXJ5LCBWYXIsIFByaW50bG4sIFByaW50LCBJZGVudGlmaWVyLCBMaXRlcmFsLCBJbnRlZ2VyLCBQYXJlbnRoZXNlc09wZW4sIFBhcmVudGhlc2VzQ2xvc2UsXG4gIEJsb2NrT3BlbiwgQmxvY2tDbG9zZSwgQ29tbWEsIFNlbWlDb2xvbiwgRXF1YWxzLCBNaW51cywgQWRkaXRpb25PcCwgTXVsdGlwbGljYXRpb25PcCxcbn0gZnJvbSBcIi4vbGV4ZXJcIlxuXG5jbGFzcyBNajFQYXJzZXIgZXh0ZW5kcyBDc3RQYXJzZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcih2b2NhYnVsYXJ5KVxuXG4gICAgY29uc3QgJCA9IHRoaXNcblxuICAgIC8vIHByb2dyYW0gLT4gbWV0aG9kXG4gICAgJC5SVUxFKFwicHJvZ3JhbVwiLCAoKSA9PiB7XG4gICAgICAkLlNVQlJVTEUoJC5tZXRob2QpXG4gICAgfSlcblxuICAgIC8vIG1ldGhvZCAtPiBpZGVudChpZGVudExpc3RvcHQpIHsgZGVjbGFyYXRpb25vcHQgc3RhdGVtZW50cmVwIH1cbiAgICAkLlJVTEUoXCJtZXRob2RcIiwgKCkgPT4ge1xuICAgICAgJC5DT05TVU1FKElkZW50aWZpZXIpXG4gICAgICAkLkNPTlNVTUUoUGFyZW50aGVzZXNPcGVuKVxuICAgICAgJC5PUFRJT04xKCgpID0+IHtcbiAgICAgICAgJC5TVUJSVUxFKCQuaWRlbnRMaXN0KVxuICAgICAgfSlcbiAgICAgICQuQ09OU1VNRShQYXJlbnRoZXNlc0Nsb3NlKVxuICAgICAgJC5DT05TVU1FKEJsb2NrT3BlbilcbiAgICAgICQuT1BUSU9OMigoKSA9PiB7XG4gICAgICAgICQuU1VCUlVMRSgkLmRlY2xhcmF0aW9uKVxuICAgICAgfSlcbiAgICAgICQuTUFOWSgoKSA9PiB7XG4gICAgICAgICQuU1VCUlVMRSgkLnN0YXRlbWVudClcbiAgICAgIH0pXG4gICAgICAkLkNPTlNVTUUoQmxvY2tDbG9zZSlcbiAgICB9KVxuXG4gICAgLy8gaWRlbnRMaXN0IC0+IGlkZW50IHwgaWRlbnRMaXN0LCBpZGVudFxuICAgICQuUlVMRShcImlkZW50TGlzdFwiLCAoKSA9PiB7XG4gICAgICAkLk1BTllfU0VQKHtcbiAgICAgICAgU0VQOiBDb21tYSxcbiAgICAgICAgREVGOiAoKSA9PiB7XG4gICAgICAgICAgJC5DT05TVU1FKElkZW50aWZpZXIpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSlcblxuICAgIC8vIGRlY2xhcmF0aW9uIC0+IHZhciBpZGVudExpc3Q7XG4gICAgJC5SVUxFKFwiZGVjbGFyYXRpb25cIiwgKCkgPT4ge1xuICAgICAgJC5DT05TVU1FKFZhcilcbiAgICAgICQuU1VCUlVMRSgkLmlkZW50TGlzdClcbiAgICAgICQuQ09OU1VNRShTZW1pQ29sb24pXG4gICAgfSlcblxuICAgIC8vIHN0YXRlbWVudCAtPiBhc3NpZ25tZW50IHwgcHJpbnRTdGF0XG4gICAgJC5SVUxFKFwic3RhdGVtZW50XCIsICgpID0+IHtcbiAgICAgICQuT1IoW1xuICAgICAgICB7IEFMVDogKCkgPT4gJC5TVUJSVUxFKCQuYXNzaWdubWVudCkgfSxcbiAgICAgICAgeyBBTFQ6ICgpID0+ICQuU1VCUlVMRSgkLnByaW50U3RhdCkgfVxuICAgICAgXSlcbiAgICB9KVxuXG4gICAgLy8gYXNzaWdubWVudCAtPiB2YXJpYWJsZSA9IGV4cHJlc3Npb247XG4gICAgJC5SVUxFKFwiYXNzaWdubWVudFwiLCAoKSA9PiB7XG4gICAgICAkLlNVQlJVTEUoJC52YXJpYWJsZSlcbiAgICAgICQuQ09OU1VNRShFcXVhbHMpXG4gICAgICAkLlNVQlJVTEUoJC5leHByZXNzaW9uKVxuICAgICAgJC5DT05TVU1FKFNlbWlDb2xvbilcbiAgICB9KVxuXG4gICAgLy8gZXhwcmVzc2lvbiAtPiAtb3B0IHRlcm0gfCBleHByZXNzaW9uICsgdGVybSB8IGV4cHJlc3Npb24g4oCTIHRlcm1cbiAgICAvLyB0ZXJtIC0+IGZhY3RvciB8IHRlcm0gKiBmYWN0b3IgfCB0ZXJtIC8gZmFjdG9yXG4gICAgJC5SVUxFKFwiZXhwcmVzc2lvblwiLCAoKSA9PiB7XG4gICAgICAkLk9QVElPTigoKSA9PiB7XG4gICAgICAgICQuQ09OU1VNRShNaW51cylcbiAgICAgIH0pXG4gICAgICAkLlNVQlJVTEUoJC5hZGRpdGlvbkV4cHJlc3Npb24pXG4gICAgfSlcblxuICAgICQuUlVMRShcImFkZGl0aW9uRXhwcmVzc2lvblwiLCAoKSA9PiB7XG4gICAgICAkLlNVQlJVTEUxKCQubXVsdGlwbGljYXRpb25FeHByZXNzaW9uLCB7IExBQkVMOiBcImxoc1wiIH0pXG4gICAgICAkLk1BTlkoKCkgPT4ge1xuICAgICAgICAkLkNPTlNVTUUoQWRkaXRpb25PcClcbiAgICAgICAgJC5TVUJSVUxFMigkLm11bHRpcGxpY2F0aW9uRXhwcmVzc2lvbiwgeyBMQUJFTDogXCJyaHNcIiB9KVxuICAgICAgfSlcbiAgICB9KVxuXG4gICAgJC5SVUxFKFwibXVsdGlwbGljYXRpb25FeHByZXNzaW9uXCIsICgpID0+IHtcbiAgICAgICQuU1VCUlVMRTEoJC5mYWN0b3IsIHsgTEFCRUw6IFwibGhzXCIgfSlcbiAgICAgICQuTUFOWSgoKSA9PiB7XG4gICAgICAgICQuQ09OU1VNRShNdWx0aXBsaWNhdGlvbk9wKVxuICAgICAgICAkLlNVQlJVTEUyKCQuZmFjdG9yLCB7IExBQkVMOiBcInJoc1wiIH0pXG4gICAgICB9KVxuICAgIH0pXG5cbiAgICAvLyBmYWN0b3IgLT4gbnVtYmVyIHwgdmFyaWFibGUgfCAoZXhwcmVzc2lvbilcbiAgICAkLlJVTEUoXCJmYWN0b3JcIiwgKCkgPT4ge1xuICAgICAgJC5PUihbXG4gICAgICAgIHsgQUxUOiAoKSA9PiAkLlNVQlJVTEUoJC5udW1iZXIpIH0sXG4gICAgICAgIHsgQUxUOiAoKSA9PiAkLlNVQlJVTEUoJC52YXJpYWJsZSkgfSxcbiAgICAgICAge1xuICAgICAgICAgIEFMVDogKCkgPT4ge1xuICAgICAgICAgICAgJC5DT05TVU1FKFBhcmVudGhlc2VzT3BlbilcbiAgICAgICAgICAgICQuU1VCUlVMRSgkLmV4cHJlc3Npb24pXG4gICAgICAgICAgICAkLkNPTlNVTUUoUGFyZW50aGVzZXNDbG9zZSlcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICBdKVxuICAgIH0pXG5cbiAgICAvLyB2YXJpYWJsZSAtPiBpZGVudFxuICAgICQuUlVMRShcInZhcmlhYmxlXCIsICgpID0+IHtcbiAgICAgICQuQ09OU1VNRShJZGVudGlmaWVyKVxuICAgIH0pXG5cbiAgICAvLyBudW1iZXIgLT4gaW50ZWdlclxuICAgICQuUlVMRShcIm51bWJlclwiLCAoKSA9PiB7XG4gICAgICAkLkNPTlNVTUUoSW50ZWdlcilcbiAgICB9KVxuXG4gICAgLy8gcHJpbnRTdGF0IC0+IHByaW50IGl0ZW1MaXN0OyB8IHByaW50bG4gaXRlbUxpc3Qgb3B0O1xuICAgICQuUlVMRShcInByaW50U3RhdFwiLCAoKSA9PiB7XG4gICAgICAkLk9SKFtcbiAgICAgICAge1xuICAgICAgICAgIEFMVDogKCkgPT4ge1xuICAgICAgICAgICAgJC5DT05TVU1FKFByaW50KVxuICAgICAgICAgICAgJC5TVUJSVUxFMSgkLml0ZW1MaXN0KVxuICAgICAgICAgICAgJC5DT05TVU1FMShTZW1pQ29sb24pXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgQUxUOiAoKSA9PiB7XG4gICAgICAgICAgICAkLkNPTlNVTUUoUHJpbnRsbilcbiAgICAgICAgICAgICQuT1BUSU9OKCgpID0+IHtcbiAgICAgICAgICAgICAgJC5TVUJSVUxFMigkLml0ZW1MaXN0KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICQuQ09OU1VNRTIoU2VtaUNvbG9uKVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgIF0pXG4gICAgfSlcblxuICAgIC8vIGl0ZW1MaXN0IC0+IHByaW50SXRlbSB8IGl0ZW1MaXN0LCBwcmludEl0ZW1cbiAgICAkLlJVTEUoXCJpdGVtTGlzdFwiLCAoKSA9PiB7XG4gICAgICAkLk1BTllfU0VQKHtcbiAgICAgICAgU0VQOiBDb21tYSxcbiAgICAgICAgREVGOiAoKSA9PiB7XG4gICAgICAgICAgJC5TVUJSVUxFKCQucHJpbnRJdGVtKVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH0pXG5cbiAgICAvLyBwcmludEl0ZW0gLT4gbGl0ZXJhbCB8IGV4cHJlc3Npb24gfCBleHByZXNzaW9uIDogZXhwcmVzc2lvblxuICAgICQuUlVMRShcInByaW50SXRlbVwiLCAoKSA9PiB7XG4gICAgICAkLk9SKFtcbiAgICAgICAgeyBBTFQ6ICgpID0+ICQuQ09OU1VNRShMaXRlcmFsKSB9LFxuICAgICAgICB7IEFMVDogKCkgPT4gJC5TVUJSVUxFKCQuZXhwcmVzc2lvbikgfSxcbiAgICAgIF0pXG4gICAgfSlcblxuICAgIHRoaXMucGVyZm9ybVNlbGZBbmFseXNpcygpXG5cbiAgfVxufVxuXG5leHBvcnQgY29uc3QgbWoxUGFyc2VyID0gbmV3IE1qMVBhcnNlcigpO1xuIiwiaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCB7IHRva2VuTWF0Y2hlciB9IGZyb20gXCJjaGV2cm90YWluXCJcbmltcG9ydCB7IG1qMVBhcnNlciBhcyBwYXJzZXIgfSBmcm9tIFwiLi9wYXJzZXJcIjtcbmltcG9ydCB7IE11bHQsIFBsdXMgfSBmcm9tIFwiLi9sZXhlclwiXG5cbmNvbnN0IEJhc2VDc3RWaXNpdG9yID0gcGFyc2VyLmdldEJhc2VDc3RWaXNpdG9yQ29uc3RydWN0b3IoKVxuXG5jbGFzcyBNajFJbnRlcnByZXRlciBleHRlbmRzIEJhc2VDc3RWaXNpdG9yIHtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpXG4gICAgdGhpcy52YWxpZGF0ZVZpc2l0b3IoKVxuICAgIHRoaXMucmVzZXQoKVxuICB9XG5cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5mcmFtZSA9IHt9XG4gICAgdGhpcy5vdXRwdXQgPSAnJ1xuICB9XG5cbiAgcHJvZ3JhbShjdHgpIHtcbiAgICB0aGlzLnJlc2V0KClcbiAgICB0aGlzLnZpc2l0KGN0eC5tZXRob2QpXG4gICAgY29uc29sZS5sb2codGhpcy5vdXRwdXQpXG4gIH1cblxuICBtZXRob2QoY3R4KSB7XG4gICAgdGhpcy5mcmFtZSA9IHRoaXMudmlzaXQoY3R4LmlkZW50TGlzdClcbiAgICBpZiAoY3R4LmRlY2xhcmF0aW9uKSB7XG4gICAgICBjb25zdCB2YXJzID0gdGhpcy52aXNpdChjdHguZGVjbGFyYXRpb24pXG4gICAgICB0aGlzLmZyYW1lID0gXy5hc3NpZ24odGhpcy5mcmFtZSwgdmFycylcbiAgICB9XG5cbiAgICBpZiAoY3R4LnN0YXRlbWVudCkge1xuICAgICAgXy5jaGFpbihjdHguc3RhdGVtZW50KVxuICAgICAgICAubWFwKChzdGF0ZW1lbnQgPT4ge1xuICAgICAgICAgIHRoaXMudmlzaXQoc3RhdGVtZW50KVxuICAgICAgICB9KSlcbiAgICAgICAgLnZhbHVlKClcbiAgICB9XG4gIH1cblxuICBpZGVudExpc3QoY3R4KSB7XG4gICAgaWYgKGN0eC5JZGVudGlmaWVyKSB7XG4gICAgICByZXR1cm4gX1xuICAgICAgICAuY2hhaW4oY3R4LklkZW50aWZpZXIpXG4gICAgICAgIC5rZXlCeSgnaW1hZ2UnKVxuICAgICAgICAubWFwVmFsdWVzKCgpID0+IG51bGwpXG4gICAgICAgIC52YWx1ZSgpXG4gICAgfVxuICAgIHJldHVybiB7fVxuICB9XG5cbiAgZGVjbGFyYXRpb24oY3R4KSB7XG4gICAgcmV0dXJuIHRoaXMudmlzaXQoY3R4LmlkZW50TGlzdClcbiAgfVxuXG4gIHN0YXRlbWVudChjdHgpIHtcbiAgICBpZiAoY3R4LnByaW50U3RhdCkge1xuICAgICAgdGhpcy52aXNpdChjdHgucHJpbnRTdGF0KVxuICAgIH0gZWxzZSBpZiAoY3R4LmFzc2lnbm1lbnQpIHtcbiAgICAgIHRoaXMudmlzaXQoY3R4LmFzc2lnbm1lbnQpXG4gICAgfVxuICB9XG5cbiAgYXNzaWdubWVudChjdHgpIHtcbiAgICBjb25zdCBuYW1lID0gdGhpcy52aXNpdChjdHgudmFyaWFibGUpXG4gICAgY29uc3QgdmFsdWUgPSB0aGlzLnZpc2l0KGN0eC5leHByZXNzaW9uKVxuICAgIHRoaXMuZnJhbWVbbmFtZV0gPSB2YWx1ZVxuICB9XG5cbiAgZXhwcmVzc2lvbihjdHgpIHtcbiAgICBjb25zdCB2YWx1ZSA9IHRoaXMudmlzaXQoY3R4LmFkZGl0aW9uRXhwcmVzc2lvbilcbiAgICBpZiAoY3R4Lk1pbnVzKSB7XG4gICAgICByZXR1cm4gLXZhbHVlXG4gICAgfVxuICAgIHJldHVybiB2YWx1ZVxuICB9XG5cbiAgYWRkaXRpb25FeHByZXNzaW9uKGN0eCkge1xuICAgIGxldCByZXN1bHQgPSB0aGlzLnZpc2l0KGN0eC5saHMpXG5cbiAgICBpZiAoY3R4LnJocykge1xuICAgICAgY3R4LnJocy5mb3JFYWNoKChyaHNPcGVyYW5kLCBpZHgpID0+IHtcbiAgICAgICAgbGV0IHJoc1ZhbHVlID0gdGhpcy52aXNpdChyaHNPcGVyYW5kKVxuICAgICAgICBsZXQgb3BlcmF0b3IgPSBjdHguQWRkaXRpb25PcFtpZHhdXG5cbiAgICAgICAgaWYgKHRva2VuTWF0Y2hlcihvcGVyYXRvciwgUGx1cykpIHtcbiAgICAgICAgICByZXN1bHQgKz0gcmhzVmFsdWVcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN1bHQgLT0gcmhzVmFsdWVcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cblxuICBtdWx0aXBsaWNhdGlvbkV4cHJlc3Npb24oY3R4KSB7XG4gICAgbGV0IHJlc3VsdCA9IHRoaXMudmlzaXQoY3R4LmxocylcbiAgICBpZiAoY3R4LnJocykge1xuICAgICAgY3R4LnJocy5mb3JFYWNoKChyaHNPcGVyYW5kLCBpZHgpID0+IHtcbiAgICAgICAgbGV0IHJoc1ZhbHVlID0gdGhpcy52aXNpdChyaHNPcGVyYW5kKVxuICAgICAgICBsZXQgb3BlcmF0b3IgPSBjdHguTXVsdGlwbGljYXRpb25PcFtpZHhdXG5cbiAgICAgICAgaWYgKHRva2VuTWF0Y2hlcihvcGVyYXRvciwgTXVsdCkpIHtcbiAgICAgICAgICByZXN1bHQgKj0gcmhzVmFsdWVcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN1bHQgLz0gcmhzVmFsdWVcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cblxuICBmYWN0b3IoY3R4KSB7XG4gICAgaWYgKGN0eC5udW1iZXIpIHtcbiAgICAgIHJldHVybiB0aGlzLnZpc2l0KGN0eC5udW1iZXIpXG4gICAgfSBlbHNlIGlmIChjdHgudmFyaWFibGUpIHtcbiAgICAgIGNvbnN0IG5hbWUgPSB0aGlzLnZpc2l0KGN0eC52YXJpYWJsZSlcbiAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5mcmFtZVtuYW1lXVxuICAgICAgcmV0dXJuIHZhbHVlXG4gICAgfSBlbHNlIGlmIChjdHguZXhwcmVzc2lvbikge1xuICAgICAgcmV0dXJuIHRoaXMudmlzaXQoY3R4LmV4cHJlc3Npb24pXG4gICAgfVxuICB9XG5cbiAgdmFyaWFibGUoY3R4KSB7XG4gICAgcmV0dXJuIGN0eC5JZGVudGlmaWVyWzBdLmltYWdlXG4gIH1cblxuICBudW1iZXIoY3R4KSB7XG4gICAgcmV0dXJuIHBhcnNlSW50KGN0eC5JbnRlZ2VyWzBdLmltYWdlLCAxMClcbiAgfVxuXG4gIHByaW50U3RhdChjdHgpIHtcbiAgICBjb25zdCBpdGVtcyA9IHRoaXMudmlzaXQoY3R4Lml0ZW1MaXN0KVxuICAgIGlmIChjdHguUHJpbnQpIHtcbiAgICAgIHRoaXMuZG9QcmludChpdGVtcylcbiAgICB9IGVsc2UgaWYgKGN0eC5QcmludGxuKSB7XG4gICAgICB0aGlzLmRvUHJpbnRsbihpdGVtcylcbiAgICB9XG4gIH1cblxuICBpdGVtTGlzdChjdHgpIHtcbiAgICBpZiAoY3R4LnByaW50SXRlbSkge1xuICAgICAgcmV0dXJuIF9cbiAgICAgICAgLmNoYWluKGN0eC5wcmludEl0ZW0pXG4gICAgICAgIC5tYXAoKHBpKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMudmlzaXQocGkpXG4gICAgICAgIH0pXG4gICAgICAgIC52YWx1ZSgpXG4gICAgfVxuICAgIHJldHVybiBbXVxuICB9XG5cbiAgcHJpbnRJdGVtKGN0eCkge1xuICAgIGlmIChjdHguTGl0ZXJhbCkge1xuICAgICAgcmV0dXJuIF8udHJpbShjdHguTGl0ZXJhbFswXS5pbWFnZSwgJ1wiJylcbiAgICB9IGVsc2UgaWYgKGN0eC5leHByZXNzaW9uKSB7XG4gICAgICByZXR1cm4gdGhpcy52aXNpdChjdHguZXhwcmVzc2lvbilcbiAgICB9XG4gIH1cblxuICBkb1ByaW50KGl0ZW1zKSB7XG4gICAgdGhpcy5vdXRwdXQgKz0gXy5qb2luKGl0ZW1zLCAnJylcbiAgfVxuXG4gIGRvUHJpbnRsbihpdGVtcykge1xuICAgIHRoaXMub3V0cHV0ICs9IF8uam9pbihpdGVtcywgJycpICsgJ1xcbidcbiAgfVxuXG59XG5cbmV4cG9ydCBjb25zdCBtajFJbnRlcnByZXRlciA9IG5ldyBNajFJbnRlcnByZXRlcigpXG4iLCJpbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0ICcuL21haW4uY3NzJztcbmltcG9ydCAnLi4vaW1hZ2UvbGluZXMucG5nJztcbmltcG9ydCB7IHBhcnNlIH0gZnJvbSAnLi9tajEnO1xuXG5cbmZ1bmN0aW9uIGV2YWx1YXRlKHNvdXJjZSkge1xuICBjb25zdCByZXN1bHRWaWV3ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc3VsdCcpXG4gIGNvbnN0IHRva2VuVmlldyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b2tlbnMnKVxuICBpZiAoIXNvdXJjZSkge1xuICAgIGNvbnN0IGNvZGVFZGl0b3IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29kZScpXG4gICAgc291cmNlID0gY29kZUVkaXRvci5pbm5lckhUTUxcbiAgfVxuICBjb25zdCByZXN1bHQgPSBwYXJzZShzb3VyY2UpO1xuXG4gIGlmIChyZXN1bHQuZXJyb3JzLmxlbmd0aCA+IDApIHtcbiAgICByZXN1bHRWaWV3LmNsYXNzTGlzdC5yZW1vdmUoJ3N1Y2Nlc3MnKTtcbiAgICByZXN1bHRWaWV3LmNsYXNzTGlzdC5hZGQoJ2Vycm9yJyk7XG4gICAgcmVzdWx0Vmlldy5pbm5lckhUTUwgPSBfXG4gICAgICAuY2hhaW4ocmVzdWx0LmVycm9ycylcbiAgICAgIC5tYXAoKGUpID0+IGBMaW5lICR7ZS50b2tlbi5zdGFydExpbmV9OiAke2UubWVzc2FnZX1gKVxuICAgICAgLmpvaW4oJ1xcbicpO1xuICB9IGVsc2Uge1xuICAgIHJlc3VsdFZpZXcuY2xhc3NMaXN0LnJlbW92ZSgnZXJyb3InKTtcbiAgICByZXN1bHRWaWV3LmNsYXNzTGlzdC5hZGQoJ3N1Y2Nlc3MnKTtcbiAgICByZXN1bHRWaWV3LmlubmVySFRNTCA9IHJlc3VsdC52YWx1ZVxuICAgIHRva2VuVmlldy5pbm5lckhUTUwgPSBfXG4gICAgICAuY2hhaW4ocmVzdWx0LnRva2VucylcbiAgICAgIC5tYXAoKHRvaykgPT4gYCR7dG9rLnRva2VuVHlwZS5uYW1lfSAke3Rvay5pbWFnZX1gKVxuICAgICAgLmpvaW4oJ1xcbicpO1xuICB9XG59XG5cbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb2RlJykuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIChlKSA9PiBldmFsdWF0ZShlLnRhcmdldC52YWx1ZSkpXG5ldmFsdWF0ZSgpO1xuIiwiaW1wb3J0IHsgbWoxTGV4ZXIgYXMgbGV4ZXIgfSBmcm9tIFwiLi9sZXhlclwiO1xuaW1wb3J0IHsgbWoxUGFyc2VyIGFzIHBhcnNlciB9IGZyb20gXCIuL3BhcnNlclwiO1xuaW1wb3J0IHsgbWoxSW50ZXJwcmV0ZXIgYXMgaW50ZXJwcmV0ZXIgfSBmcm9tIFwiLi9pbnRlcnByZXRlclwiO1xuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2UoaW5wdXQpIHtcbiAgY29uc3QgbGV4ID0gbGV4ZXIudG9rZW5pemUoaW5wdXQpXG4gIHBhcnNlci5pbnB1dCA9IGxleC50b2tlbnNcbiAgY29uc3QgY3N0ID0gcGFyc2VyLnByb2dyYW0oKVxuICBpbnRlcnByZXRlci52aXNpdChjc3QpXG5cbiAgcmV0dXJuIHtcbiAgICB2YWx1ZTogaW50ZXJwcmV0ZXIub3V0cHV0LFxuICAgIHRva2VuczogbGV4LnRva2VucyxcbiAgICBsZXhFcnJvcnM6IGxleC5lcnJvcnMsXG4gICAgZXJyb3JzOiBwYXJzZXIuZXJyb3JzXG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=